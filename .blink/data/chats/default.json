{
  "id": "default",
  "created_at": "2025-09-19T15:50:58.115Z",
  "updated_at": "2025-09-19T15:55:13.400Z",
  "messages": [
    {
      "created_at": "2025-09-19T15:51:04.328Z",
      "role": "user",
      "parts": [
        {
          "type": "text",
          "text": "what's new in the v2 project?"
        }
      ],
      "id": "50a827ab-048c-4b47-9947-95157e17b610"
    },
    {
      "created_at": "2025-09-19T15:51:07.325Z",
      "id": "ddac4689-2aef-41ad-b3a3-21d3bb784a44",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "I'll help you find what's new in the v2 project. Let me first check the database schema to understand the structure, then query for recent changes.",
          "state": "done"
        },
        {
          "type": "tool-db_schema",
          "toolCallId": "toolu_0195QfXH3B51k53nN8bmip4P",
          "state": "output-available",
          "input": {},
          "output": {
            "columns": [
              {
                "table": "current_field_values",
                "name": "project_node_id",
                "dataType": "text",
                "isNullable": false
              },
              {
                "table": "current_field_values",
                "name": "project_name",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "current_field_values",
                "name": "item_node_id",
                "dataType": "text",
                "isNullable": false
              },
              {
                "table": "current_field_values",
                "name": "content_node_id",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "current_field_values",
                "name": "content_type",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "current_field_values",
                "name": "content_title",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "current_field_values",
                "name": "content_url",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "current_field_values",
                "name": "repository_name",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "current_field_values",
                "name": "field_name",
                "dataType": "text",
                "isNullable": false
              },
              {
                "table": "current_field_values",
                "name": "field_type",
                "dataType": "text",
                "isNullable": false
              },
              {
                "table": "current_field_values",
                "name": "field_value",
                "dataType": "jsonb",
                "isNullable": true
              },
              {
                "table": "current_field_values",
                "name": "updated_at",
                "dataType": "timestamp with time zone",
                "isNullable": true
              },
              {
                "table": "field_changes",
                "name": "id",
                "dataType": "bigint",
                "isNullable": false
              },
              {
                "table": "field_changes",
                "name": "project_node_id",
                "dataType": "text",
                "isNullable": false
              },
              {
                "table": "field_changes",
                "name": "project_name",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "field_changes",
                "name": "item_node_id",
                "dataType": "text",
                "isNullable": false
              },
              {
                "table": "field_changes",
                "name": "content_node_id",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "field_changes",
                "name": "content_type",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "field_changes",
                "name": "content_title",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "field_changes",
                "name": "content_url",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "field_changes",
                "name": "repository_name",
                "dataType": "text",
                "isNullable": true
              },
              {
                "table": "field_changes",
                "name": "field_name",
                "dataType": "text",
                "isNullable": false
              },
              {
                "table": "field_changes",
                "name": "field_type",
                "dataType": "text",
                "isNullable": false
              },
              {
                "table": "field_changes",
                "name": "old_value",
                "dataType": "jsonb",
                "isNullable": true
              },
              {
                "table": "field_changes",
                "name": "new_value",
                "dataType": "jsonb",
                "isNullable": true
              },
              {
                "table": "field_changes",
                "name": "changed_at",
                "dataType": "timestamp with time zone",
                "isNullable": false
              },
              {
                "table": "field_changes",
                "name": "detected_at",
                "dataType": "timestamp with time zone",
                "isNullable": true
              },
              {
                "table": "field_changes",
                "name": "actor_login",
                "dataType": "text",
                "isNullable": true
              }
            ],
            "indexes": [
              {
                "table": "current_field_values",
                "name": "current_field_values_pkey",
                "definition": "CREATE UNIQUE INDEX current_field_values_pkey ON public.current_field_values USING btree (item_node_id, field_name)"
              },
              {
                "table": "current_field_values",
                "name": "idx_current_values_project",
                "definition": "CREATE INDEX idx_current_values_project ON public.current_field_values USING btree (project_node_id)"
              },
              {
                "table": "current_field_values",
                "name": "idx_current_values_project_name",
                "definition": "CREATE INDEX idx_current_values_project_name ON public.current_field_values USING btree (project_name)"
              },
              {
                "table": "current_field_values",
                "name": "idx_current_values_repository",
                "definition": "CREATE INDEX idx_current_values_repository ON public.current_field_values USING btree (repository_name)"
              },
              {
                "table": "field_changes",
                "name": "field_changes_item_node_id_field_name_changed_at_key",
                "definition": "CREATE UNIQUE INDEX field_changes_item_node_id_field_name_changed_at_key ON public.field_changes USING btree (item_node_id, field_name, changed_at)"
              },
              {
                "table": "field_changes",
                "name": "field_changes_pkey",
                "definition": "CREATE UNIQUE INDEX field_changes_pkey ON public.field_changes USING btree (id)"
              },
              {
                "table": "field_changes",
                "name": "idx_field_changes_changed_at",
                "definition": "CREATE INDEX idx_field_changes_changed_at ON public.field_changes USING btree (changed_at)"
              },
              {
                "table": "field_changes",
                "name": "idx_field_changes_item",
                "definition": "CREATE INDEX idx_field_changes_item ON public.field_changes USING btree (item_node_id)"
              },
              {
                "table": "field_changes",
                "name": "idx_field_changes_project",
                "definition": "CREATE INDEX idx_field_changes_project ON public.field_changes USING btree (project_node_id)"
              },
              {
                "table": "field_changes",
                "name": "idx_field_changes_project_name",
                "definition": "CREATE INDEX idx_field_changes_project_name ON public.field_changes USING btree (project_name)"
              },
              {
                "table": "field_changes",
                "name": "idx_field_changes_repository",
                "definition": "CREATE INDEX idx_field_changes_repository ON public.field_changes USING btree (repository_name)"
              }
            ],
            "summary": "\nTables:\n\n1) field_changes (append-only)\n  - id BIGSERIAL PRIMARY KEY\n  - project_node_id TEXT NOT NULL\n  - project_name TEXT\n  - item_node_id TEXT NOT NULL\n  - content_node_id TEXT\n  - content_type TEXT\n  - content_title TEXT\n  - content_url TEXT\n  - repository_name TEXT\n  - field_name TEXT NOT NULL\n  - field_type TEXT NOT NULL\n  - old_value JSONB\n  - new_value JSONB\n  - changed_at TIMESTAMPTZ NOT NULL\n  - detected_at TIMESTAMPTZ DEFAULT NOW()\n  - actor_login TEXT\n  - UNIQUE(item_node_id, field_name, changed_at)\n  Indexes: project_node_id, project_name, repository_name, item_node_id, changed_at\n\n2) current_field_values (current snapshot)\n  - project_node_id TEXT NOT NULL\n  - project_name TEXT\n  - item_node_id TEXT NOT NULL\n  - content_node_id TEXT\n  - content_type TEXT\n  - content_title TEXT\n  - content_url TEXT\n  - repository_name TEXT\n  - field_name TEXT NOT NULL\n  - field_type TEXT NOT NULL\n  - field_value JSONB\n  - updated_at TIMESTAMPTZ DEFAULT NOW()\n  - PRIMARY KEY (item_node_id, field_name)\n  Indexes: project_node_id, project_name, repository_name\n\nUsage patterns:\n- \"What's new / what changed\" → query field_changes filtered by project_name (or project_node_id) with changed_at >= now() - interval '7 days'.\n- \"Current state\" → query current_field_values filtered by project_name (or project_node_id).\n- Common filters: repository_name, field_name (e.g. Status), actor_login, content_type.\n"
          }
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:51:12.707Z",
      "role": "user",
      "parts": [
        {
          "type": "text",
          "text": "keep going"
        }
      ],
      "id": "50ec8d3d-9de1-48a0-a92b-fa1130c88fb1"
    },
    {
      "created_at": "2025-09-19T15:51:19.891Z",
      "id": "80b344a6-8826-47e3-a657-3107b0fe66b2",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Now let me query for recent changes in the v2 project over the last 7 days:",
          "state": "done"
        },
        {
          "type": "tool-db_query",
          "toolCallId": "toolu_01Ae3m7BnqcCyAUoNCmuYkqN",
          "state": "output-available",
          "input": {
            "sql": "SELECT \n  field_name,\n  field_type,\n  old_value,\n  new_value,\n  changed_at,\n  actor_login,\n  repository_name,\n  content_title,\n  content_url,\n  content_type\nFROM field_changes \nWHERE project_name = $1 \n  AND changed_at >= now() - interval '7 days'\nORDER BY changed_at DESC",
            "params": ["v2"],
            "limit": 200,
            "offset": 0,
            "timeoutMs": 15000
          },
          "output": {
            "rowCount": 200,
            "rows": [
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-19T11:03:32Z",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "dbpurge: purge expired api keys",
                "content_url": "https://github.com/coder/coder/issues/19889",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-19T11:02:21Z",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "dbpurge: purge expired api keys",
                "content_url": "https://github.com/coder/coder/issues/19889",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "dbpurge: purge expired api keys",
                "content_url": "https://github.com/coder/coder/issues/19889",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "Relates to:\n- https://github.com/coder/coder/pull/19725/\n- https://github.com/coder/coder/pull/19667/\n- https://github.com/coder/jetbrains-coder/pull/568\n\n#19725 added an index to reduce the impact of large numbers of API keys on the UI.\n\n#19667 adds logic to dbpurge to expire API keys belonging to the prebuilds user\n\njetbrains-coder#568 fixed an issue with the JetBrains plugin that caused large numbers of API keys to be created.\n\nAs a separate follow-up to this, add logic to `dbpurge` to delete expired API keys created by the JetBrains plugin to reduce the size of the database.",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "dbpurge: purge expired api keys",
                "content_url": "https://github.com/coder/coder/issues/19889",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "dbpurge: purge expired api keys",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "dbpurge: purge expired api keys",
                "content_url": "https://github.com/coder/coder/issues/19889",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "dbpurge: purge expired api keys",
                "content_url": "https://github.com/coder/coder/issues/19889",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-15T14:53:17Z",
                "new_value": "2025-09-19T08:55:16Z",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/aibridge",
                "content_title": "Create an API endpoint to export audit data",
                "content_url": "https://github.com/coder/aibridge/issues/21",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": "To supply the information needed for the CLI command we need to add an API endpoint to supply the data.\n\nEndpoint should be added to coderd (should check for experiment & entitlement).\n\nAcceptance criteria:\n- bulk retrieval endpoint supporting paging with filtering (just session for now)\n- ONLY administrators should be able to query this endpoint",
                "new_value": "To supply the information needed for the CLI command we need to add an API endpoint to supply the data.\n\nEndpoint should be added to coderd (should check for experiment & entitlement).\n\nAcceptance criteria:\n- bulk retrieval endpoint supporting paging with filtering (just interception for now)\n- ONLY administrators should be able to query this endpoint",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/aibridge",
                "content_title": "Create an API endpoint to export audit data",
                "content_url": "https://github.com/coder/aibridge/issues/21",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-15T09:56:03Z",
                "new_value": "2025-09-19T09:12:34Z",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/aibridge",
                "content_title": "CLI to dump audit data in JSON format, partitioned by interception",
                "content_url": "https://github.com/coder/aibridge/issues/14",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": "Currently AI bridge does not have UI. We need a way to help operators export the data to the outside world.\n\n`coder aibridge audit dump`\n\nAcceptance criteria:\n- implemented command in the CLI\n- JSON output in the format below\n- all prompts, tokens, tools used in each session\n\n\n```json\n{\n\t\"session_id\": \"...\",\n\t\"user_id\": \"...\",\n\t\"labels\": {},\n\t\"prompt\": \"draw a duck on a bicycle\",\n\t\"tokens\": {},\n\t\"tools\": [\n\t\t{\n\t\t\t\"server\": \"github\",\n\t\t\t\"tool\": \"get_me\"\n\t\t},\n\t\t{\n\t\t\t\"server\": \"\", <-- client-specific tool\n\t\t\t\"tool\": \"Bash\",\n\t\t\t\"args\": {\n\t\t\t\t\"cmd\": \"rm -rf /\"\n\t\t\t}\n\t\t}\n\t]\n}\n```",
                "new_value": "Currently AI bridge does not have UI. We need a way to help operators export the data to the outside world.\n\n`coder aibridge audit dump`\n\nAcceptance criteria:\n- implemented command in the CLI\n- JSON output in the format below\n- all prompts, tokens, tools used in each interception\n\n\n```json\n{\n\t\"_cursor\": \"<interception_id>\",\n\t\"results\": [\n\t\t{\n\t\t\t\"interception_id\": \"...\",\n\t\t\t\"user_id\": \"...\",\n\t\t\t\"provider\": \"anthropic\",\n\t\t\t\"model\": \"opus-4.1\",\n\t\t\t\"prompt\": \"draw a duck on a bicycle\",\n\t\t\t\"tokens\": {\n\t\t\t\t\"input\": 1000,\n\t\t\t\t\"output\": 20000\n\t\t\t},\n\t\t\t\"tools\": [\n\t\t\t\t{\n\t\t\t\t\t\"server\": \"github\",\n\t\t\t\t\t\"tool\": \"get_me\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"server\": \"\", <-- client-specific tool\n  \t\t\t\t\t\"tool\": \"Bash\",\n\t\t\t\t\t\"args\": {\n\t\t\t\t\t\t\"cmd\": \"rm -rf /\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"started_at\": \"<ts>\"\n\t\t}\n\t]\n}\n```",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/aibridge",
                "content_title": "CLI to dump audit data in JSON format, partitioned by interception",
                "content_url": "https://github.com/coder/aibridge/issues/14",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": "CLI to dump audit data in JSON format, partitioned by session",
                "new_value": "CLI to dump audit data in JSON format, partitioned by interception",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/aibridge",
                "content_title": "CLI to dump audit data in JSON format, partitioned by interception",
                "content_url": "https://github.com/coder/aibridge/issues/14",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-19T05:59:21Z",
                "new_value": "2025-09-19T10:37:20Z",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "Create load generator for Dynamic Parameters",
                "content_url": "https://github.com/coder/internal/issues/912",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "In Progress",
                "new_value": "In Review",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "Refactor Create workspaces subcommand to split User and Workspace creation",
                "content_url": "https://github.com/coder/internal/issues/985",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-12T06:28:15Z",
                "new_value": "2025-09-19T11:14:50Z",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestServer/CanListenUnspecifiedv4",
                "content_url": "https://github.com/coder/internal/issues/946",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": "OPEN",
                "new_value": "CLOSED",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestServer/CanListenUnspecifiedv4",
                "content_url": "https://github.com/coder/internal/issues/946",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "In Review",
                "new_value": "Done",
                "changed_at": "2025-09-19T12:20:57.747Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestServer/CanListenUnspecifiedv4",
                "content_url": "https://github.com/coder/internal/issues/946",
                "content_type": "Issue"
              },
              {
                "field_name": "assignees",
                "field_type": "issue_assignees",
                "old_value": null,
                "new_value": ["fioan89"],
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/jetbrains-coder",
                "content_title": "UI: Unable to select nested devcontainer",
                "content_url": "https://github.com/coder/jetbrains-coder/issues/574",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-09T15:38:13Z",
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/jetbrains-coder",
                "content_title": "UI: Unable to select nested devcontainer",
                "content_url": "https://github.com/coder/jetbrains-coder/issues/574",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-08T15:39:16Z",
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/jetbrains-coder",
                "content_title": "UI: Unable to select nested devcontainer",
                "content_url": "https://github.com/coder/jetbrains-coder/issues/574",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/jetbrains-coder",
                "content_title": "UI: Unable to select nested devcontainer",
                "content_url": "https://github.com/coder/jetbrains-coder/issues/574",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "I'm experimenting with the relatively new \"native\" devcontainer support in Coder.\n\nI my situation, I create an \"outer\" or \"main\" pod via a kubernetes deployment - that \"main\" pod will contain one or more \"child\" devcontainers.\n\nHowever the coder plugin for Gateway will not let me select and connect to the \"child\" pods.  The plugin correctly authenticates to my deployment and shows all pods - but when selecting a \"child\" pod, the focus will always reset to the \"main\" pod.\n\nI will attach a screen recording showing the behavior.\n\nhttps://github.com/user-attachments/assets/6488713a-d4d2-4584-9122-b36d1296120a\n\nMy environment:\n\nJetBrains Gateway 2025.2.1\nBuild #GW-252.25557.133, built on August 27, 2025\nSource revision: ee1e6cb62e111\nRuntime version: 21.0.8+9-b1038.68 aarch64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nToolkit: sun.lwawt.macosx.LWCToolkit\nmacOS 14.7.8\nThis IDE is managed by Guidewire Software via JetBrains IDE Services.<br>JetBrains IDE Services version: 2025.4.0.2089-ij251, <a href=\"https://gwre-ijlicvault.jetbrains-ide-services.com\">https://gwre-ijlicvault.jetbrains-ide-services.com</a>\nGC: G1 Young Generation, G1 Concurrent GC, G1 Old Generation\nMemory: 2048M\nCores: 11\nMetal Rendering is ON\nRegistry:\n  ide.experimental.ui=true\n  jetbrains.tbe.auth.use.require.new.token=emergency-only\nNon-Bundled Plugins:\n  com.coder.gateway (2.22.1)\n  org.jetbrains.toolbox-enterprise-client (2025.4.0.2089-ij251)\n",
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/jetbrains-coder",
                "content_title": "UI: Unable to select nested devcontainer",
                "content_url": "https://github.com/coder/jetbrains-coder/issues/574",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "UI: Unable to select nested devcontainer",
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/jetbrains-coder",
                "content_title": "UI: Unable to select nested devcontainer",
                "content_url": "https://github.com/coder/jetbrains-coder/issues/574",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/jetbrains-coder",
                "content_title": "UI: Unable to select nested devcontainer",
                "content_url": "https://github.com/coder/jetbrains-coder/issues/574",
                "content_type": "Issue"
              },
              {
                "field_name": "linked_pull_requests",
                "field_type": "issue_linked_prs",
                "old_value": [
                  {
                    "repo": "coder/coder",
                    "state": "OPEN",
                    "title": "feat: implement API key scopes database enum linter",
                    "number": 19862,
                    "mergedAt": null
                  }
                ],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "state": "OPEN",
                    "title": "feat: add lint check for API key scope enum completeness",
                    "number": 19862,
                    "mergedAt": null
                  }
                ],
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Build-time check: DB enum contains all RBAC scopes",
                "content_url": "https://github.com/coder/coder/issues/19846",
                "content_type": "Issue"
              },
              {
                "field_name": "assignees",
                "field_type": "issue_assignees",
                "old_value": [],
                "new_value": ["spikecurtis"],
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "Create load generator for Dynamic Parameters",
                "content_url": "https://github.com/coder/internal/issues/912",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-08-19T01:28:36Z",
                "new_value": "2025-09-19T05:59:21Z",
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "Create load generator for Dynamic Parameters",
                "content_url": "https://github.com/coder/internal/issues/912",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "📚 Backlog",
                "new_value": "In Progress",
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "Create load generator for Dynamic Parameters",
                "content_url": "https://github.com/coder/internal/issues/912",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-19T04:05:58Z",
                "new_value": "2025-09-19T04:13:44Z",
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "bug: GetWorkspaceByID is called millions of times per day on dogfood",
                "content_url": "https://github.com/coder/internal/issues/725",
                "content_type": "Issue"
              },
              {
                "field_name": "closing_pull_requests",
                "field_type": "issue_closing_prs",
                "old_value": [],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "number": 19884
                  }
                ],
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Template dormancy 'hour' setting prevents changing back to 'day'",
                "content_url": "https://github.com/coder/coder/issues/15451",
                "content_type": "Issue"
              },
              {
                "field_name": "linked_pull_requests",
                "field_type": "issue_linked_prs",
                "old_value": [],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "state": "OPEN",
                    "title": "fix: fix for template dormancy hour/day toggle",
                    "number": 19884,
                    "mergedAt": null
                  }
                ],
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Template dormancy 'hour' setting prevents changing back to 'day'",
                "content_url": "https://github.com/coder/coder/issues/15451",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "📚 Backlog",
                "new_value": "In Progress",
                "changed_at": "2025-09-19T08:15:17.504Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "Refactor Create workspaces subcommand to split User and Workspace creation",
                "content_url": "https://github.com/coder/internal/issues/985",
                "content_type": "Issue"
              },
              {
                "field_name": "labels",
                "field_type": "issue_labels",
                "old_value": null,
                "new_value": ["needs-triage"],
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: {\"message\":\"Failed to dial peer.\",\"detail\":\"context deadline exceeded\"}",
                "content_url": "https://github.com/coder/coder/issues/19883",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-19T02:48:31Z",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: {\"message\":\"Failed to dial peer.\",\"detail\":\"context deadline exceeded\"}",
                "content_url": "https://github.com/coder/coder/issues/19883",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-19T02:48:31Z",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: {\"message\":\"Failed to dial peer.\",\"detail\":\"context deadline exceeded\"}",
                "content_url": "https://github.com/coder/coder/issues/19883",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: {\"message\":\"Failed to dial peer.\",\"detail\":\"context deadline exceeded\"}",
                "content_url": "https://github.com/coder/coder/issues/19883",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current Behavior\n\nI used wsl + dockerdesktop.\n\ni used the following:\n\nexport CODER_DATA=$HOME/.config/coderv2-docker\nexport DOCKER_GROUP=$(getent group docker | cut -d: -f3)\nmkdir -p $CODER_DATA\ndocker run --rm -it \\\n  -v $CODER_DATA:/home/coder/.config \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  --group-add $DOCKER_GROUP \\\n  ghcr.io/coder/coder:latest\n\nI got {\"message\":\"Failed to dial peer.\",\"detail\":\"context deadline exceeded\"}\n\n### Relevant Log Output\n\n```shell\nCoder v2.26.0+a056cb6 - Your Self-Hosted Remote Development Platform\nStarted HTTP listener at http://127.0.0.1:3000\nUsing built-in PostgreSQL (/home/coder/.config/coderv2/postgres)\nOpening tunnel so workspaces can connect to your deployment. For production scenarios, specify an external access URL\n╔═══════════════════════════════════════════════╗\n║               View the Web UI:                ║\n║   https://htlb4lhrog1jq.pit-1.try.coder.app   ║\n╚═══════════════════════════════════════════════╝\n\n==> Logs will stream in below (press ctrl+c to gracefully exit):\n2025-09-19 02:41:34.929 [info]  notifications.manager.notifier: started  notifier_id=b9febc43-0123-494a-906e-e484c10fc059\n2025-09-19 02:41:34.933 [info]  notifications.report_generator: report generator finished  duration=3.621561ms\n```\n\n### Expected Behavior\n\nI want to see the UI.\n\n### Steps to Reproduce\n\n1. prepare dockerdesktop with wsl2(ubuntu)\n2. run the official command\n\n### Environment\n\n- Host OS: win11+wsl2(ubuntu)+dockerdesktop\n- Coder version: see above\n\n\n### Additional Context\n\n_No response_",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: {\"message\":\"Failed to dial peer.\",\"detail\":\"context deadline exceeded\"}",
                "content_url": "https://github.com/coder/coder/issues/19883",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "bug: {\"message\":\"Failed to dial peer.\",\"detail\":\"context deadline exceeded\"}",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: {\"message\":\"Failed to dial peer.\",\"detail\":\"context deadline exceeded\"}",
                "content_url": "https://github.com/coder/coder/issues/19883",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: {\"message\":\"Failed to dial peer.\",\"detail\":\"context deadline exceeded\"}",
                "content_url": "https://github.com/coder/coder/issues/19883",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-19T02:27:38Z",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "bug: GetDeploymentWorkspaceAgentStats creates lots of DB load with many workspaces",
                "content_url": "https://github.com/coder/internal/issues/1009",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-19T02:21:11Z",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "bug: GetDeploymentWorkspaceAgentStats creates lots of DB load with many workspaces",
                "content_url": "https://github.com/coder/internal/issues/1009",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "bug: GetDeploymentWorkspaceAgentStats creates lots of DB load with many workspaces",
                "content_url": "https://github.com/coder/internal/issues/1009",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "Over a three hour connection scaletest, with 6k workspaces, this query generated the most load on the DB in terms  of total time, and by CPU utilization - according to CloudSQL query insights.\n\nTimes called: 3460\nAvg execution time (ms): 674.66\n\nP95 execution timing (seconds):\n<img width=\"1730\" height=\"389\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2bb61e3c-1c43-4511-ad0b-7d15b75fa0a0\" />\n(Each of the four 'blocks' of spikes on the graph correlates with workspace traffic being simulated. i.e. when clients are connected to agents)\n\nCloudSQL Query Insights: \n\n<img width=\"2224\" height=\"480\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/25685f4f-229d-40fd-bbfd-ea28a7642442\" />",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "bug: GetDeploymentWorkspaceAgentStats creates lots of DB load with many workspaces",
                "content_url": "https://github.com/coder/internal/issues/1009",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "bug: GetDeploymentWorkspaceAgentStats creates lots of DB load with many workspaces",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "bug: GetDeploymentWorkspaceAgentStats creates lots of DB load with many workspaces",
                "content_url": "https://github.com/coder/internal/issues/1009",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "bug: GetDeploymentWorkspaceAgentStats creates lots of DB load with many workspaces",
                "content_url": "https://github.com/coder/internal/issues/1009",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-19T01:05:43Z",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Failed to dial peer",
                "content_url": "https://github.com/coder/coder/issues/19882",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-19T01:05:43Z",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Failed to dial peer",
                "content_url": "https://github.com/coder/coder/issues/19882",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Failed to dial peer",
                "content_url": "https://github.com/coder/coder/issues/19882",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "cannot authentication for login with github or email",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Failed to dial peer",
                "content_url": "https://github.com/coder/coder/issues/19882",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "Failed to dial peer",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Failed to dial peer",
                "content_url": "https://github.com/coder/coder/issues/19882",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Failed to dial peer",
                "content_url": "https://github.com/coder/coder/issues/19882",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-18T22:17:12Z",
                "new_value": "2025-09-19T04:05:58Z",
                "changed_at": "2025-09-19T04:13:27.887Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "bug: GetWorkspaceByID is called millions of times per day on dogfood",
                "content_url": "https://github.com/coder/internal/issues/725",
                "content_type": "Issue"
              },
              {
                "field_name": "_item_deleted",
                "field_type": "system_event",
                "old_value": true,
                "new_value": null,
                "changed_at": "2025-09-19T00:47:52.800Z",
                "actor_login": "",
                "repository_name": "",
                "content_title": "Deleted Item",
                "content_url": "",
                "content_type": ""
              },
              {
                "field_name": "_item_deleted",
                "field_type": "system_event",
                "old_value": true,
                "new_value": null,
                "changed_at": "2025-09-19T00:47:52.800Z",
                "actor_login": "",
                "repository_name": "",
                "content_title": "Deleted Item",
                "content_url": "",
                "content_type": ""
              },
              {
                "field_name": "_item_deleted",
                "field_type": "system_event",
                "old_value": true,
                "new_value": null,
                "changed_at": "2025-09-19T00:47:52.800Z",
                "actor_login": "",
                "repository_name": "",
                "content_title": "Deleted Item",
                "content_url": "",
                "content_type": ""
              },
              {
                "field_name": "_item_deleted",
                "field_type": "system_event",
                "old_value": true,
                "new_value": null,
                "changed_at": "2025-09-19T00:47:52.800Z",
                "actor_login": "",
                "repository_name": "",
                "content_title": "Deleted Item",
                "content_url": "",
                "content_type": ""
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-03T14:58:45Z",
                "new_value": "2025-09-18T22:17:12Z",
                "changed_at": "2025-09-19T00:47:52.800Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "bug: GetWorkspaceByID is called millions of times per day on dogfood",
                "content_url": "https://github.com/coder/internal/issues/725",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-04T16:20:07Z",
                "new_value": "2025-09-18T21:29:45Z",
                "changed_at": "2025-09-19T00:47:52.800Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: coder workspaces not auto-stopping when claude-code module is used",
                "content_url": "https://github.com/coder/coder/issues/19449",
                "content_type": "Issue"
              },
              {
                "field_name": "labels",
                "field_type": "issue_labels",
                "old_value": null,
                "new_value": ["cli", "parameters"],
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "FR: CLI parameter resolver fails for dynamic parameters while API works fine",
                "content_url": "https://github.com/coder/coder/issues/19879",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T16:52:20Z",
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "FR: CLI parameter resolver fails for dynamic parameters while API works fine",
                "content_url": "https://github.com/coder/coder/issues/19879",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T16:51:43Z",
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "FR: CLI parameter resolver fails for dynamic parameters while API works fine",
                "content_url": "https://github.com/coder/coder/issues/19879",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "FR: CLI parameter resolver fails for dynamic parameters while API works fine",
                "content_url": "https://github.com/coder/coder/issues/19879",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "## Environment\n\n**Component**: Coder CLI  \n**Version**: v2.25.2  \n**File**: [`cli/parameterresolver.go#L233`](https://github.com/coder/coder/blob/main/cli/parameterresolver.go#L233)  \n\n## Summary\n\nThe CLI's parameter resolver rejects **dynamic parameters** (using `count` conditions) when creating workspaces, even though the same parameters work perfectly via API calls.  \nThis breaks CLI/pipeline workflows for templates with dynamic parameters.\nCoder Docs may indicate that creating Workspaces with the CLI should work.\nThis primarily affects users who want to automate the 'coder create' command, i.e. CI/CD etc.\n\n## Expected Behavior\n\n```bash\ncoder create --template test test-ws --rich-parameter-file param.yml\n```\n\nA simple alternative would be to generate an error message explaining the disparity or Beta status when Dynamic Parameters are detected and cause errors.\n\n## Workaround\n\n- Use the API\n- Create Workspaces in the UI\n\n``` bash\n# Get template ID\nTEMPLATE_ID=$(coder templates list --output json | jq -r \".[] | select(.name == \\\"$TEMPLATE\\\") | .id\")\n\n# Convert YAML to JSON\nPARAMS=$(yq eval '. | to_entries | map({\"name\": .key, \"value\": .value | tostring})' param.yml -o json)\n\n# Create via API\ncurl -X POST \"$CODER_URL/api/v2/users/me/workspaces\" \\\n  -H \"Coder-Session-Token: $CODER_SESSION_TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  --data \"{\\\"name\\\":\\\"$WORKSPACE\\\",\\\"rich_parameter_values\\\":$PARAMS,\\\"template_id\\\":\\\"$TEMPLATE_ID\\\"}\"\n```\n\n## Expected Resolution\n\nThe CLI should successfully create and start a Workspace, where it can evaluate dynamic parameters using provided parameter values, matching the behaviour of the API and UI.\n\n## Related Issues\n\n#19754 – Dynamic Parameters: local module path cannot be resolved\n#19789 – Template parsing error when using count with module outputs\n\n",
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "FR: CLI parameter resolver fails for dynamic parameters while API works fine",
                "content_url": "https://github.com/coder/coder/issues/19879",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "FR: CLI parameter resolver fails for dynamic parameters while API works fine",
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "FR: CLI parameter resolver fails for dynamic parameters while API works fine",
                "content_url": "https://github.com/coder/coder/issues/19879",
                "content_type": "Issue"
              },
              {
                "field_name": "Customer",
                "field_type": "ProjectV2ItemFieldTextValue",
                "old_value": null,
                "new_value": "QRT",
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "FR: CLI parameter resolver fails for dynamic parameters while API works fine",
                "content_url": "https://github.com/coder/coder/issues/19879",
                "content_type": "Issue"
              },
              {
                "field_name": "Zendesk/Slack",
                "field_type": "ProjectV2ItemFieldTextValue",
                "old_value": null,
                "new_value": "https://coder.zendesk.com/agent/tickets/4339",
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "FR: CLI parameter resolver fails for dynamic parameters while API works fine",
                "content_url": "https://github.com/coder/coder/issues/19879",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "FR: CLI parameter resolver fails for dynamic parameters while API works fine",
                "content_url": "https://github.com/coder/coder/issues/19879",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-18T07:40:09Z",
                "new_value": "2025-09-18T18:49:42Z",
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: deprecated Bitnami PostgreSQL",
                "content_url": "https://github.com/coder/coder/issues/19869",
                "content_type": "Issue"
              },
              {
                "field_name": "closing_pull_requests",
                "field_type": "issue_closing_prs",
                "old_value": [],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "number": 19881
                  }
                ],
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: tasks: handle overflow in TaskApps top bar",
                "content_url": "https://github.com/coder/coder/issues/19438",
                "content_type": "Issue"
              },
              {
                "field_name": "linked_pull_requests",
                "field_type": "issue_linked_prs",
                "old_value": [],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "state": "OPEN",
                    "title": "fix: make app tabs scrollable",
                    "number": 19881,
                    "mergedAt": null
                  }
                ],
                "changed_at": "2025-09-18T20:12:49.238Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: tasks: handle overflow in TaskApps top bar",
                "content_url": "https://github.com/coder/coder/issues/19438",
                "content_type": "Issue"
              },
              {
                "field_name": "labels",
                "field_type": "issue_labels",
                "old_value": null,
                "new_value": ["needs-triage"],
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: external auth device flow doesn't follow RFC spec",
                "content_url": "https://github.com/coder/coder/issues/19877",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T15:10:33Z",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: external auth device flow doesn't follow RFC spec",
                "content_url": "https://github.com/coder/coder/issues/19877",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T14:52:48Z",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: external auth device flow doesn't follow RFC spec",
                "content_url": "https://github.com/coder/coder/issues/19877",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: external auth device flow doesn't follow RFC spec",
                "content_url": "https://github.com/coder/coder/issues/19877",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current Behavior\n\nRFC https://datatracker.ietf.org/doc/html/rfc8628#section-3.1 specifies that Device Authorization Request and Device Access Token Request should send data in body encoded as `application/x-www-form-urlencoded`.\n\n`ExchangeDeviceCode` sends request with URL parameters set but empty body: https://github.com/coder/coder/blob/623893708bca0dbdcaa52623c209c4c3ee6a3836/coderd/externalauth/externalauth.go#L493-L497\n\nSimilar issue in `AuthorizeDevice` function: https://github.com/coder/coder/blob/623893708bca0dbdcaa52623c209c4c3ee6a3836/coderd/externalauth/externalauth.go#L416-L420\n\n### Relevant Log Output\n\n```shell\n\n```\n\n### Expected Behavior\n\nImplementation compliant with RFC specification (for other providers than GitHub).\n\n### Steps to Reproduce\n\nIssue can be reproduced using `scripts/dev-oidc.sh` script.\n\n1. Setup env variables to use keycloak started by `dev-oidc.sh` script as external auth with device flow enabled.\n```\nexport CODER_EXTERNAL_AUTH_0_TYPE=\"keycloak\"\nexport CODER_EXTERNAL_AUTH_0_ID=\"keycloak\"\nexport CODER_EXTERNAL_AUTH_0_DEVICE_FLOW=\"true\"\nexport CODER_EXTERNAL_AUTH_0_CLIENT_ID=\"coder\"\nexport CODER_EXTERNAL_AUTH_0_CLIENT_SECRET=\"coder\"\nexport CODER_EXTERNAL_AUTH_0_AUTH_URL=\"http://localhost:9080/realms/coder/protocol/openid-connect/auth\"\nexport CODER_EXTERNAL_AUTH_0_DEVICE_CODE_URL=\"http://localhost:9080/realms/coder/protocol/openid-connect/auth/device\"\nexport CODER_EXTERNAL_AUTH_0_TOKEN_URL=\"http://localhost:9080/realms/coder/protocol/openid-connect/token\"\nexport CODER_EXTERNAL_AUTH_0_REVOKE_URL=\"http://localhost:9080/realms/coder/protocol/openid-connect/revoke\"\n``` \n2. Run `scripts/dev-oidc.sh`\n2. Try to login into external auth from UI.\n\nResult:\n\n<img width=\"605\" height=\"340\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/0dcdfb5c-948f-4470-b62d-211333b91125\" />\n\n### Environment\n\n_No response_\n\n### Additional Context\n\nI have tested this on the latest version",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: external auth device flow doesn't follow RFC spec",
                "content_url": "https://github.com/coder/coder/issues/19877",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "bug: external auth device flow doesn't follow RFC spec",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: external auth device flow doesn't follow RFC spec",
                "content_url": "https://github.com/coder/coder/issues/19877",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: external auth device flow doesn't follow RFC spec",
                "content_url": "https://github.com/coder/coder/issues/19877",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T14:08:55Z",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "scripts/dev-oidc.sh doesn't work well with keycloak as external-auth",
                "content_url": "https://github.com/coder/internal/issues/1008",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T14:08:55Z",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "scripts/dev-oidc.sh doesn't work well with keycloak as external-auth",
                "content_url": "https://github.com/coder/internal/issues/1008",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "scripts/dev-oidc.sh doesn't work well with keycloak as external-auth",
                "content_url": "https://github.com/coder/internal/issues/1008",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "`scripts/dev-oidc.sh` script starts coder with keycloak instance that could be used as an external auth but `external-auth/.*/callback` endpoints are not forwarded to api and hostname is not allowlisted by `site/vite.config.mts` proxy.\n\n#### Reproduction:\n1. Set `CODER_EXTERNAL_AUTH` variables to use keycloak:\n```\nexport CODER_EXTERNAL_AUTH_0_TYPE=\"keycloak\"\nexport CODER_EXTERNAL_AUTH_0_ID=\"keycloak\"\nexport CODER_EXTERNAL_AUTH_0_CLIENT_ID=\"coder\"\nexport CODER_EXTERNAL_AUTH_0_CLIENT_SECRET=\"coder\"\nexport CODER_EXTERNAL_AUTH_0_AUTH_URL=\"http://127.0.0.1:9080/realms/coder/protocol/openid-connect/auth\"\nexport CODER_EXTERNAL_AUTH_0_TOKEN_URL=\"http://127.0.0.1:9080/realms/coder/protocol/openid-connect/token\"\nexport CODER_EXTERNAL_AUTH_0_REVOKE_URL=\"http://127.0.0.1:9080/realms/coder/protocol/openid-connect/revoke\"\n``` \n2. Run `scripts/dev-oidc.sh`\n3. Logging into keycloak as external auth results in (where \"pawel\" == hostname):\n```\nBlocked request. This host (\"pawel\") is not allowed.\nTo allow this host, add \"pawel\" to `server.allowedHosts` in vite.config.js.\n```\n\nAfter extending allowed hosts to include hostname adding external auth causes redirect into 404.\n\n<img width=\"818\" height=\"506\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/705e6285-0253-4fc2-ab72-38328dda3c20\" />\n\n\n#### What worked for me\n\nHardcoded hostname in `scripts/dev-oidc.sh` to \"127.0.0.1\" and added `/external-auth/.*/callback` as proxy-able in `site/vite.config.mts`.\n\ndiff below:\n```\ndiff --git a/scripts/dev-oidc.sh b/scripts/dev-oidc.sh\nindex cf5a7e3c6..c82418ad1 100755\n--- a/scripts/dev-oidc.sh\n+++ b/scripts/dev-oidc.sh\n@@ -86,7 +86,7 @@ timeout 60s bash -c 'until curl -s --fail http://localhost:9080/realms/coder/.we\n wait $!\n\n echo '== Starting Coder'\n-hostname=$(hostname -f)\n+hostname=\"127.0.0.1\"\n export CODER_OIDC_ISSUER_URL=\"http://${hostname}:9080/realms/coder\"\n export CODER_OIDC_CLIENT_ID=coder\n export CODER_OIDC_CLIENT_SECRET=coder\ndiff --git a/site/vite.config.mts b/site/vite.config.mts\nindex d2da0a1a9..e2c29ba2f 100644\n--- a/site/vite.config.mts\n+++ b/site/vite.config.mts\n@@ -80,7 +80,7 @@ export default defineConfig({\n                                secure: process.env.NODE_ENV === \"production\",\n                                rewrite: (path) => path.replace(/\\/+/g, \"/\"),\n                        },\n-                       \"/api\": {\n+                       \"^(/api|/external-auth/.*/callback)\": {\n                                ws: true,\n                                changeOrigin: true,\n                                target: process.env.CODER_HOST || \"http://localhost:3000\",\n```",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "scripts/dev-oidc.sh doesn't work well with keycloak as external-auth",
                "content_url": "https://github.com/coder/internal/issues/1008",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "scripts/dev-oidc.sh doesn't work well with keycloak as external-auth",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "scripts/dev-oidc.sh doesn't work well with keycloak as external-auth",
                "content_url": "https://github.com/coder/internal/issues/1008",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "scripts/dev-oidc.sh doesn't work well with keycloak as external-auth",
                "content_url": "https://github.com/coder/internal/issues/1008",
                "content_type": "Issue"
              },
              {
                "field_name": "assignees",
                "field_type": "issue_assignees",
                "old_value": [],
                "new_value": ["BrunoQuaresma"],
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: tasks: handle overflow in TaskApps top bar",
                "content_url": "https://github.com/coder/coder/issues/19438",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-08-20T07:59:48Z",
                "new_value": "2025-09-18T12:27:46Z",
                "changed_at": "2025-09-18T16:12:46.590Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: tasks: handle overflow in TaskApps top bar",
                "content_url": "https://github.com/coder/coder/issues/19438",
                "content_type": "Issue"
              },
              {
                "field_name": "_item_deleted",
                "field_type": "system_event",
                "old_value": true,
                "new_value": null,
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "",
                "content_title": "Deleted Item",
                "content_url": "",
                "content_type": ""
              },
              {
                "field_name": "_item_deleted",
                "field_type": "system_event",
                "old_value": true,
                "new_value": null,
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "",
                "content_title": "Deleted Item",
                "content_url": "",
                "content_type": ""
              },
              {
                "field_name": "_item_deleted",
                "field_type": "system_event",
                "old_value": true,
                "new_value": null,
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "",
                "content_title": "Deleted Item",
                "content_url": "",
                "content_type": ""
              },
              {
                "field_name": "labels",
                "field_type": "issue_labels",
                "old_value": null,
                "new_value": ["flake"],
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestBackedWriter_WriteBlocksAfterDisconnection",
                "content_url": "https://github.com/coder/internal/issues/1007",
                "content_type": "Issue"
              },
              {
                "field_name": "assignees",
                "field_type": "issue_assignees",
                "old_value": null,
                "new_value": ["ibetitsmike"],
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestBackedWriter_WriteBlocksAfterDisconnection",
                "content_url": "https://github.com/coder/internal/issues/1007",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T11:35:33Z",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestBackedWriter_WriteBlocksAfterDisconnection",
                "content_url": "https://github.com/coder/internal/issues/1007",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T11:35:33Z",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestBackedWriter_WriteBlocksAfterDisconnection",
                "content_url": "https://github.com/coder/internal/issues/1007",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestBackedWriter_WriteBlocksAfterDisconnection",
                "content_url": "https://github.com/coder/internal/issues/1007",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "```\n === FAIL: agent/immortalstreams/backedpipe TestBackedWriter_WriteBlocksAfterDisconnection (0.25s)\n    backed_writer_test.go:609: \n        \tError Trace:\t/Users/runner/work/coder/coder/agent/immortalstreams/backedpipe/backed_writer_test.go:609\n        \tError:      \tShould be false\n        \tTest:       \tTestBackedWriter_WriteBlocksAfterDisconnection\n```\n\nseen here: https://github.com/coder/coder/actions/runs/17825447732/job/50677835515",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestBackedWriter_WriteBlocksAfterDisconnection",
                "content_url": "https://github.com/coder/internal/issues/1007",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "flake: TestBackedWriter_WriteBlocksAfterDisconnection",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestBackedWriter_WriteBlocksAfterDisconnection",
                "content_url": "https://github.com/coder/internal/issues/1007",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestBackedWriter_WriteBlocksAfterDisconnection",
                "content_url": "https://github.com/coder/internal/issues/1007",
                "content_type": "Issue"
              },
              {
                "field_name": "labels",
                "field_type": "issue_labels",
                "old_value": null,
                "new_value": ["needs-triage", "prebuilds"],
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: Prebuild jobs are slowing down the dashboard",
                "content_url": "https://github.com/coder/coder/issues/19873",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T10:50:59Z",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: Prebuild jobs are slowing down the dashboard",
                "content_url": "https://github.com/coder/coder/issues/19873",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T10:50:59Z",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: Prebuild jobs are slowing down the dashboard",
                "content_url": "https://github.com/coder/coder/issues/19873",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: Prebuild jobs are slowing down the dashboard",
                "content_url": "https://github.com/coder/coder/issues/19873",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current Behavior\n\nThis came from a customer.\n\n- The dashboard becomes degraded (slow to respond in the browser) when a multitude of prebuilds are processing (jobs > provisioners)\n- They are using in-memory provisioners (30 per coderd, 3 coderd replicas)\n- Likely that the in memory provisioners are burdening the CPU but we need guidance here.\n- They are open to external provisioners, are using in-memory for convenience.\n\n### Relevant Log Output\n\n```shell\nNot available.\n```\n\n### Expected Behavior\n\nThere is no slowdown in the dashboard.\n\n### Steps to Reproduce\n\n1. Configure a template to have multiple prebuilds.\n2. Dashboard becomes show during the build process.\n\n### Environment\n\n- Coder version: v2.25.1\n- Have deployments in the US and in the EU (3 total)\n    - 30 in-memory provisioners per coderd replica\n- Their target prebuild pool size is 20\n\n### Additional Context\n\n_No response_",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: Prebuild jobs are slowing down the dashboard",
                "content_url": "https://github.com/coder/coder/issues/19873",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "bug: Prebuild jobs are slowing down the dashboard",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: Prebuild jobs are slowing down the dashboard",
                "content_url": "https://github.com/coder/coder/issues/19873",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: Prebuild jobs are slowing down the dashboard",
                "content_url": "https://github.com/coder/coder/issues/19873",
                "content_type": "Issue"
              },
              {
                "field_name": "labels",
                "field_type": "issue_labels",
                "old_value": null,
                "new_value": ["needs-triage", "prebuilds"],
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: prebuilds are not being de-provisioned fast enough",
                "content_url": "https://github.com/coder/coder/issues/19871",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T10:39:26Z",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: prebuilds are not being de-provisioned fast enough",
                "content_url": "https://github.com/coder/coder/issues/19871",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T10:39:26Z",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: prebuilds are not being de-provisioned fast enough",
                "content_url": "https://github.com/coder/coder/issues/19871",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: prebuilds are not being de-provisioned fast enough",
                "content_url": "https://github.com/coder/coder/issues/19871",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current Behavior\n\nThis came from a customer.\n\n- Changing prebuilds pool threshold down from 20 to 1 leaves 19 running workspaces in the pool\n- Admins expect the idle workspaces to be automatically deprovisioned after making this change, dropping down to the desired number immediately\n- They discovered a small number of running prebuilt workspaces running in the pool after dropping the threshold down (unsure how long after)\n- They expect the reconciliation loop to clean up workspaces consistently and promptly\n\n### Relevant Log Output\n\n```shell\nNot available yet.\n```\n\n### Expected Behavior\n\nThe pool gets shrunk immediately after reconfiguration.\n\n### Steps to Reproduce\n\n1. Create a pool of 20 prebuilds\n2. Let the system create them\n3. reconfigure the template to lower the pool to 1\n4. The pool remains to have 19 workspaces.\n\n### Environment\n\n- Coder version: v2.25.1\n- Have deployments in the US and in the EU (3 total)\n    - 30 in-memory provisioners per coderd replica\n- Their target prebuild pool size is 20\n\n\n### Additional Context\n\n_No response_",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: prebuilds are not being de-provisioned fast enough",
                "content_url": "https://github.com/coder/coder/issues/19871",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "bug: prebuilds are not being de-provisioned fast enough",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: prebuilds are not being de-provisioned fast enough",
                "content_url": "https://github.com/coder/coder/issues/19871",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: prebuilds are not being de-provisioned fast enough",
                "content_url": "https://github.com/coder/coder/issues/19871",
                "content_type": "Issue"
              },
              {
                "field_name": "closing_pull_requests",
                "field_type": "issue_closing_prs",
                "old_value": [],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "number": 19862
                  }
                ],
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Build-time check: DB enum contains all RBAC scopes",
                "content_url": "https://github.com/coder/coder/issues/19846",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-17T20:57:19Z",
                "new_value": "2025-09-18T08:58:35Z",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "feat: allow execution ordering for `coder_script`",
                "content_url": "https://github.com/coder/coder/issues/10352",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "To Do",
                "new_value": "In Review",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: TestServer/CanListenUnspecifiedv4",
                "content_url": "https://github.com/coder/internal/issues/946",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "In Progress",
                "new_value": "In Review",
                "changed_at": "2025-09-18T12:20:12.346Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "canceled or timed-out test suites leak databases in postgres",
                "content_url": "https://github.com/coder/internal/issues/927",
                "content_type": "Issue"
              },
              {
                "field_name": "labels",
                "field_type": "issue_labels",
                "old_value": null,
                "new_value": ["needs-triage"],
                "changed_at": "2025-09-18T08:15:28.117Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: deprecated Bitnami PostgreSQL",
                "content_url": "https://github.com/coder/coder/issues/19869",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T07:40:09Z",
                "changed_at": "2025-09-18T08:15:28.117Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: deprecated Bitnami PostgreSQL",
                "content_url": "https://github.com/coder/coder/issues/19869",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T07:21:07Z",
                "changed_at": "2025-09-18T08:15:28.117Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: deprecated Bitnami PostgreSQL",
                "content_url": "https://github.com/coder/coder/issues/19869",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T08:15:28.117Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: deprecated Bitnami PostgreSQL",
                "content_url": "https://github.com/coder/coder/issues/19869",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current Behavior\n\nSee <https://hub.docker.com/r/bitnami/postgresql>; I didn't remember about this and while provisioning a local Coder environment, I faced image pull issues.\n\nThe instructions at <https://coder.com/docs/install/kubernetes> will start failing for everyone. I would suggest the instructions are updated.\n\n\n### Relevant Log Output\n\n```shell\nFailed to pull image \"docker.io/bitnami/postgresql:17.6.0-debian-12-r4\": rpc error: code = NotFound desc = failed to pull and unpack image \"docker.io/bitnami/postgresql:17.6.0-debian-12-r4\": failed to resolve reference \"docker.io/bitnami/postgresql:17.6.0-debian-12-r4\": docker.io/bitnami/postgresql:17.6.0-debian-12-r4: not found\n```\n\n### Expected Behavior\n\nFollowing the Kubernetes instructions works.\n\n### Steps to Reproduce\n\n1. Follow the instructions at <https://coder.com/docs/install/kubernetes>\n2. Receive:\n\n```\nFailed to pull image \"docker.io/bitnami/postgresql:17.6.0-debian-12-r4\": rpc error: code = NotFound desc = failed to pull and unpack image \"docker.io/bitnami/postgresql:17.6.0-debian-12-r4\": failed to resolve reference \"docker.io/bitnami/postgresql:17.6.0-debian-12-r4\": docker.io/bitnami/postgresql:17.6.0-debian-12-r4: not found\n```\n\n### Environment\n\n- Host OS: Kubernetes\n- Coder version: current\n\n\n### Additional Context\n\nThe issue is new (previously worked fine)",
                "changed_at": "2025-09-18T08:15:28.117Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: deprecated Bitnami PostgreSQL",
                "content_url": "https://github.com/coder/coder/issues/19869",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "bug: deprecated Bitnami PostgreSQL",
                "changed_at": "2025-09-18T08:15:28.117Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: deprecated Bitnami PostgreSQL",
                "content_url": "https://github.com/coder/coder/issues/19869",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T08:15:28.117Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug: deprecated Bitnami PostgreSQL",
                "content_url": "https://github.com/coder/coder/issues/19869",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-15T04:53:30Z",
                "new_value": "2025-09-18T04:46:07Z",
                "changed_at": "2025-09-18T08:15:28.117Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: cli TestServer/BuiltinPostgres periodically fails to download from maven",
                "content_url": "https://github.com/coder/internal/issues/567",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T03:09:09Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: non-prebuild workspaces should not hit the reinit endpoint",
                "content_url": "https://github.com/coder/coder/issues/19868",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T03:09:09Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: non-prebuild workspaces should not hit the reinit endpoint",
                "content_url": "https://github.com/coder/coder/issues/19868",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: non-prebuild workspaces should not hit the reinit endpoint",
                "content_url": "https://github.com/coder/coder/issues/19868",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "Currently all workspaces connect to the reinit endpoint (or after #19866, the prebuild reinit streaming DRPC service). Since this feature is only used by prebuilds, non-prebuild workspaces should probably either not connect at all or be rejected by the server and never connect again.\n\nI propose just having the server return a specific error to denote that reinit is disabled on this workspace, and the agent should never try again. Alternatively, the reinit-ability of an agent could be included as a bool on the manifest.",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: non-prebuild workspaces should not hit the reinit endpoint",
                "content_url": "https://github.com/coder/coder/issues/19868",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "Prebuilds: non-prebuild workspaces should not hit the reinit endpoint",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: non-prebuild workspaces should not hit the reinit endpoint",
                "content_url": "https://github.com/coder/coder/issues/19868",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: non-prebuild workspaces should not hit the reinit endpoint",
                "content_url": "https://github.com/coder/coder/issues/19868",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T03:05:58Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Expose resource names for all Terraform resources in the API and UI",
                "content_url": "https://github.com/coder/coder/issues/19867",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T03:03:13Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Expose resource names for all Terraform resources in the API and UI",
                "content_url": "https://github.com/coder/coder/issues/19867",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Expose resource names for all Terraform resources in the API and UI",
                "content_url": "https://github.com/coder/coder/issues/19867",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "With the advent of prebuilds, often our persistent resource names are stuff like `coder-prebuilds-prebuild-xyz`. For example in dogfood, all prebuilt workspace volumes will be permanently named `coder-prebuilds-prebuild-xyz` and the labels will permanently refer to the prebuilds user and the prebuilds workspace name.\n\nThis makes it difficult to find resources for a specific workspace when you need to actually go digging on the provider side for debugging or cleanup. I propose we expose all resource names (even ones not tracked as `resources` in Coder) as read from the terraform graph on the workspaces page somewhere.\n\nI should be able to see `docker_volume: coder-prebuilds-prebuild-xyz` on every workspace, and easily fetch that from the API without having to download the tfstate file and parse it out myself.",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Expose resource names for all Terraform resources in the API and UI",
                "content_url": "https://github.com/coder/coder/issues/19867",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "Expose resource names for all Terraform resources in the API and UI",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Expose resource names for all Terraform resources in the API and UI",
                "content_url": "https://github.com/coder/coder/issues/19867",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Expose resource names for all Terraform resources in the API and UI",
                "content_url": "https://github.com/coder/coder/issues/19867",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T02:58:32Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: reinitialization endpoint should be merged into agentapi DRPC",
                "content_url": "https://github.com/coder/coder/issues/19866",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T02:56:04Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: reinitialization endpoint should be merged into agentapi DRPC",
                "content_url": "https://github.com/coder/coder/issues/19866",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: reinitialization endpoint should be merged into agentapi DRPC",
                "content_url": "https://github.com/coder/coder/issues/19866",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "The prebuilds RFC specifies that reinitialization would be triggered by a DRPC streaming API, but in the actual implementation of prebuilds it was implemented as a separate SSE endpoint.\n\nThe reinitialization service should be added to DRPC, and the agent should be updated to use the new DRPC service. The SSE endpoint should be deprecated and another issue created to remove it in a few months time.\n\n### From the RFC:\n\nThe agent will need to reinitialize once it has been assigned a new identity (and possibly some of its attributes are updated like env or startup scripts).\n\nOnce phase 3 completes, the agent will need to be notified that its manifest has been updated. The agent API will be notified via pubsub (on a per-workspace channel), and will then push an update to the agent. We will introduce a new *streaming* API for the manifest which will replace the current mechanism:\n\n```protobuf\nrpc GetManifest(GetManifestRequest) returns (Manifest);\nrpc StreamManifests(GetManifestRequest) returns (stream Manifest); \n```\n\nWe have precedence for this in [runDERPMapSubscriber](https://github.com/coder/coder/blob/ce573b9faaf01056089eaa23ab273e59748ca268/agent/agent.go#L1315-L1340) in the agent.\n\nOnce the agent receives its new manifest, it will use it to reinitialize itself.",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: reinitialization endpoint should be merged into agentapi DRPC",
                "content_url": "https://github.com/coder/coder/issues/19866",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "Prebuilds: reinitialization endpoint should be merged into agentapi DRPC",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: reinitialization endpoint should be merged into agentapi DRPC",
                "content_url": "https://github.com/coder/coder/issues/19866",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: reinitialization endpoint should be merged into agentapi DRPC",
                "content_url": "https://github.com/coder/coder/issues/19866",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T02:55:02Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: no easy way to clean up failed prebuilds",
                "content_url": "https://github.com/coder/coder/issues/19865",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T02:52:04Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: no easy way to clean up failed prebuilds",
                "content_url": "https://github.com/coder/coder/issues/19865",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: no easy way to clean up failed prebuilds",
                "content_url": "https://github.com/coder/coder/issues/19865",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "Failed prebuilds are left behind to avoid masking more systemic problems, but I think in a lot of cases admins will just want to clean all failed prebuilds at once. A lot of the time these errors are temporary (e.g. docker image pull timing out) or they also affected normal workspace builds and got noticed/fixed very quickly.\n\nThe only way to do this currently would be to filter workspaces by `owner:prebuilds status:failed` as a site owner, and then use bulk actions to delete the workspaces. This has some issues, though.\n\n1. There is no way to watch the status of these workspaces when you clean them up this way. Since the filter is by `status:failed`, they will immediately be removed from the search result since they are now `status:pending`.\n1. If the failed workspaces are permanently borked, they will fail again. There is no mechanism to allow coder to automatically update to the latest version before deleting, and I don't know if our API supports an update+destroy either.",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: no easy way to clean up failed prebuilds",
                "content_url": "https://github.com/coder/coder/issues/19865",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "Prebuilds: no easy way to clean up failed prebuilds",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: no easy way to clean up failed prebuilds",
                "content_url": "https://github.com/coder/coder/issues/19865",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: no easy way to clean up failed prebuilds",
                "content_url": "https://github.com/coder/coder/issues/19865",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-18T02:45:15Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: low visibility into failures",
                "content_url": "https://github.com/coder/coder/issues/19864",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-18T02:45:15Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: low visibility into failures",
                "content_url": "https://github.com/coder/coder/issues/19864",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: low visibility into failures",
                "content_url": "https://github.com/coder/coder/issues/19864",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "I know we have email notifications for prebuild failures, and I have been vocal about spam in the past in Slack, but other than email notifications (which I think most people will disable) there is practically no visibility into prebuilds workspace statuses other than listing workspaces by the prebuilds user.\n\nI'm unsure what the best UI is for seeing prebuilds failures, but perhaps a good start would be to show them on the templates page very prominently with the total prebuilds (by state) as well as the prebuilds (by state) for every template version. A useful metric would be \"successful claims\" as well (for the whole template and each version).\n\nMaybe there should also be some prebuilds dashboard that exposes this information for the whole deployment and calls out which templates have a lot of failures.",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: low visibility into failures",
                "content_url": "https://github.com/coder/coder/issues/19864",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "Prebuilds: low visibility into failures",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: low visibility into failures",
                "content_url": "https://github.com/coder/coder/issues/19864",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Prebuilds: low visibility into failures",
                "content_url": "https://github.com/coder/coder/issues/19864",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-08T08:10:55Z",
                "new_value": "2025-09-18T00:56:25Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "[Epic] Most Expensive Queries",
                "content_url": "https://github.com/coder/internal/issues/729",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-16T13:53:12Z",
                "new_value": "2025-09-18T03:10:57Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "bug: GetWorkspaceByAgentID is called over a million times a day on dogfood",
                "content_url": "https://github.com/coder/internal/issues/728",
                "content_type": "Issue"
              },
              {
                "field_name": "closing_pull_requests",
                "field_type": "issue_closing_prs",
                "old_value": [
                  {
                    "repo": "coder/coder",
                    "number": 18895
                  }
                ],
                "new_value": [],
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug(site): UI for batch-updating workspaces is confusing and has destructive race conditions",
                "content_url": "https://github.com/coder/coder/issues/18879",
                "content_type": "Issue"
              },
              {
                "field_name": "linked_pull_requests",
                "field_type": "issue_linked_prs",
                "old_value": [
                  {
                    "repo": "coder/coder",
                    "state": "OPEN",
                    "title": "fix(site): revamp UI for batch-updating workspaces",
                    "number": 18895,
                    "mergedAt": null
                  }
                ],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "state": "MERGED",
                    "title": "fix(site): revamp UI for batch-updating workspaces",
                    "number": 18895,
                    "mergedAt": "2025-09-18T00:46:39Z"
                  }
                ],
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug(site): UI for batch-updating workspaces is confusing and has destructive race conditions",
                "content_url": "https://github.com/coder/coder/issues/18879",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-07-16T05:34:39Z",
                "new_value": "2025-09-18T00:46:40Z",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug(site): UI for batch-updating workspaces is confusing and has destructive race conditions",
                "content_url": "https://github.com/coder/coder/issues/18879",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "In Review",
                "new_value": "Done",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug(site): UI for batch-updating workspaces is confusing and has destructive race conditions",
                "content_url": "https://github.com/coder/coder/issues/18879",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "To Do",
                "new_value": "In Review",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "MCP: Port forwarding",
                "content_url": "https://github.com/coder/internal/issues/784",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "In Progress",
                "new_value": "🛑 Blocked",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/code-server",
                "content_title": "Orphaned process after closing the code-server browser tab",
                "content_url": "https://github.com/coder/code-server/issues/7447",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": "OPEN",
                "new_value": "CLOSED",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug(site): UI for batch-updating workspaces is confusing and has destructive race conditions",
                "content_url": "https://github.com/coder/coder/issues/18879",
                "content_type": "Issue"
              },
              {
                "field_name": "_item_deleted",
                "field_type": "system_event",
                "old_value": true,
                "new_value": null,
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "",
                "content_title": "Deleted Item",
                "content_url": "",
                "content_type": ""
              },
              {
                "field_name": "_item_deleted",
                "field_type": "system_event",
                "old_value": true,
                "new_value": null,
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "",
                "content_title": "Deleted Item",
                "content_url": "",
                "content_type": ""
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-17T11:23:57Z",
                "new_value": "2025-09-17T20:52:38Z",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "API Key Scopes — Implementation Epic",
                "content_url": "https://github.com/coder/coder/issues/19842",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-11T18:20:24Z",
                "new_value": "2025-09-17T21:37:06Z",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/code-server",
                "content_title": "Orphaned process after closing the code-server browser tab",
                "content_url": "https://github.com/coder/code-server/issues/7447",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-15T10:20:19Z",
                "new_value": "2025-09-17T20:58:40Z",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: test-e2e app.spec.ts",
                "content_url": "https://github.com/coder/internal/issues/577",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": "OPEN",
                "new_value": "CLOSED",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: test-e2e app.spec.ts",
                "content_url": "https://github.com/coder/internal/issues/577",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "📚 Backlog",
                "new_value": "Done",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: test-e2e app.spec.ts",
                "content_url": "https://github.com/coder/internal/issues/577",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-15T13:12:10Z",
                "new_value": "2025-09-17T20:57:19Z",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "feat: allow execution ordering for `coder_script`",
                "content_url": "https://github.com/coder/coder/issues/10352",
                "content_type": "Issue"
              },
              {
                "field_name": "closing_pull_requests",
                "field_type": "issue_closing_prs",
                "old_value": [],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "number": 18895
                  }
                ],
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug(site): UI for batch-updating workspaces is confusing and has destructive race conditions",
                "content_url": "https://github.com/coder/coder/issues/18879",
                "content_type": "Issue"
              },
              {
                "field_name": "linked_pull_requests",
                "field_type": "issue_linked_prs",
                "old_value": [
                  {
                    "repo": "coder/coder",
                    "state": "CLOSED",
                    "title": "fix(site): revamp UI for batch-updating workspaces",
                    "number": 18895,
                    "mergedAt": null
                  }
                ],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "state": "OPEN",
                    "title": "fix(site): revamp UI for batch-updating workspaces",
                    "number": 18895,
                    "mergedAt": null
                  }
                ],
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "bug(site): UI for batch-updating workspaces is confusing and has destructive race conditions",
                "content_url": "https://github.com/coder/coder/issues/18879",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-05-26T07:21:02Z",
                "new_value": "2025-09-17T23:58:03Z",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: useAgentLogs",
                "content_url": "https://github.com/coder/internal/issues/644",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": "OPEN",
                "new_value": "CLOSED",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: useAgentLogs",
                "content_url": "https://github.com/coder/internal/issues/644",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "In Review",
                "new_value": "Done",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/internal",
                "content_title": "flake: useAgentLogs",
                "content_url": "https://github.com/coder/internal/issues/644",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "pr_updated_at",
                "old_value": "2025-09-17T14:36:21Z",
                "new_value": "2025-09-17T22:55:35Z",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "chore(site): convert more components from Emotion to TailwindCSS",
                "content_url": "https://github.com/coder/coder/pull/19719",
                "content_type": "PullRequest"
              },
              {
                "field_name": "state",
                "field_type": "pr_state",
                "old_value": "OPEN",
                "new_value": "MERGED",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "chore(site): convert more components from Emotion to TailwindCSS",
                "content_url": "https://github.com/coder/coder/pull/19719",
                "content_type": "PullRequest"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": "In Review",
                "new_value": "Done",
                "changed_at": "2025-09-18T00:45:32.476Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "chore(site): convert more components from Emotion to TailwindCSS",
                "content_url": "https://github.com/coder/coder/pull/19719",
                "content_type": "PullRequest"
              },
              {
                "field_name": "linked_pull_requests",
                "field_type": "issue_linked_prs",
                "old_value": [],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "state": "OPEN",
                    "title": "feat: implement API key scopes database enum linter",
                    "number": 19862,
                    "mergedAt": null
                  }
                ],
                "changed_at": "2025-09-17T20:12:18.224Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Build-time check: DB enum contains all RBAC scopes",
                "content_url": "https://github.com/coder/coder/issues/19846",
                "content_type": "Issue"
              },
              {
                "field_name": "assignees",
                "field_type": "issue_assignees",
                "old_value": [],
                "new_value": ["ThomasK33"],
                "changed_at": "2025-09-17T20:12:18.224Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Build-time check: DB enum contains all RBAC scopes",
                "content_url": "https://github.com/coder/coder/issues/19846",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-17T14:00:40Z",
                "new_value": "2025-09-17T16:39:46Z",
                "changed_at": "2025-09-17T20:12:18.224Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Build-time check: DB enum contains all RBAC scopes",
                "content_url": "https://github.com/coder/coder/issues/19846",
                "content_type": "Issue"
              },
              {
                "field_name": "closing_pull_requests",
                "field_type": "issue_closing_prs",
                "old_value": [],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "number": 19861
                  }
                ],
                "changed_at": "2025-09-17T20:12:18.224Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Database Migrations: scopes array + typed allow-list",
                "content_url": "https://github.com/coder/coder/issues/19845",
                "content_type": "Issue"
              },
              {
                "field_name": "linked_pull_requests",
                "field_type": "issue_linked_prs",
                "old_value": [],
                "new_value": [
                  {
                    "repo": "coder/coder",
                    "state": "OPEN",
                    "title": "feat: implement API key scopes database migration",
                    "number": 19861,
                    "mergedAt": null
                  }
                ],
                "changed_at": "2025-09-17T20:12:18.224Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Database Migrations: scopes array + typed allow-list",
                "content_url": "https://github.com/coder/coder/issues/19845",
                "content_type": "Issue"
              },
              {
                "field_name": "assignees",
                "field_type": "issue_assignees",
                "old_value": [],
                "new_value": ["ThomasK33"],
                "changed_at": "2025-09-17T20:12:18.224Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Database Migrations: scopes array + typed allow-list",
                "content_url": "https://github.com/coder/coder/issues/19845",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": "2025-09-17T13:49:50Z",
                "new_value": "2025-09-17T16:39:42Z",
                "changed_at": "2025-09-17T20:12:18.224Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Database Migrations: scopes array + typed allow-list",
                "content_url": "https://github.com/coder/coder/issues/19845",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-17T14:07:28Z",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Backward compatibility tests and fixtures",
                "content_url": "https://github.com/coder/coder/issues/19860",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-17T14:07:28Z",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Backward compatibility tests and fixtures",
                "content_url": "https://github.com/coder/coder/issues/19860",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Backward compatibility tests and fixtures",
                "content_url": "https://github.com/coder/coder/issues/19860",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "Description\n\n- Create fixtures and tests ensuring tokens without explicit scopes behave as `['all']` with unrestricted allow-list.\n- Validate old clients (expecting single `scope`) still function against the server (server should still accept legacy field if present, or map to arrays server-side where practical).\n\nKey files/areas\n\n- Server request compatibility shims.\n- Tests under `coderd/` and CLI e2e where applicable.\n\nAcceptance criteria\n\n- Passing tests that confirm no breakage for existing tokens and clients.\n",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Backward compatibility tests and fixtures",
                "content_url": "https://github.com/coder/coder/issues/19860",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "Backward compatibility tests and fixtures",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Backward compatibility tests and fixtures",
                "content_url": "https://github.com/coder/coder/issues/19860",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Backward compatibility tests and fixtures",
                "content_url": "https://github.com/coder/coder/issues/19860",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-17T14:07:20Z",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Documentation: product, API, and examples",
                "content_url": "https://github.com/coder/coder/issues/19859",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-17T14:07:20Z",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Documentation: product, API, and examples",
                "content_url": "https://github.com/coder/coder/issues/19859",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Documentation: product, API, and examples",
                "content_url": "https://github.com/coder/coder/issues/19859",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "Description\n\n- Write/refactor docs explaining:\n  - Concepts: API key scopes vs RBAC scopes; additive semantics; allow-list format.\n  - CLI & UI guides with copy-paste examples.\n  - API reference updates (schemas and endpoints).\n\nKey files/areas\n\n- `docs/admin/security/` (new or updated page).\n- `docs/reference/api/*` (generated from Swagger annotations).\n- `docs/ai-coder/security.md` if applicable.\n\nAcceptance criteria\n\n- Docs published; examples verified against running dev environment.\n",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Documentation: product, API, and examples",
                "content_url": "https://github.com/coder/coder/issues/19859",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "Documentation: product, API, and examples",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Documentation: product, API, and examples",
                "content_url": "https://github.com/coder/coder/issues/19859",
                "content_type": "Issue"
              },
              {
                "field_name": "Status",
                "field_type": "ProjectV2ItemFieldSingleSelectValue",
                "old_value": null,
                "new_value": "📚 Backlog",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Documentation: product, API, and examples",
                "content_url": "https://github.com/coder/coder/issues/19859",
                "content_type": "Issue"
              },
              {
                "field_name": "updated_at",
                "field_type": "issue_updated_at",
                "old_value": null,
                "new_value": "2025-09-17T14:07:02Z",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Telemetry/metrics: scope enforcement visibility",
                "content_url": "https://github.com/coder/coder/issues/19858",
                "content_type": "Issue"
              },
              {
                "field_name": "created_at",
                "field_type": "issue_created_at",
                "old_value": null,
                "new_value": "2025-09-17T14:07:02Z",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Telemetry/metrics: scope enforcement visibility",
                "content_url": "https://github.com/coder/coder/issues/19858",
                "content_type": "Issue"
              },
              {
                "field_name": "state",
                "field_type": "issue_state",
                "old_value": null,
                "new_value": "OPEN",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Telemetry/metrics: scope enforcement visibility",
                "content_url": "https://github.com/coder/coder/issues/19858",
                "content_type": "Issue"
              },
              {
                "field_name": "body",
                "field_type": "issue_body",
                "old_value": null,
                "new_value": "Description\n\n- Add counters/histograms for scope-allowed vs scope-denied requests, and allow-list misses.\n- Tag metrics with scope names (cardinality guarded) and resource types.\n\nKey files/areas\n\n- Server metrics package; middleware instrumentation.\n\nAcceptance criteria\n\n- Dashboards or logs show scope-related enforcement outcomes.\n",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Telemetry/metrics: scope enforcement visibility",
                "content_url": "https://github.com/coder/coder/issues/19858",
                "content_type": "Issue"
              },
              {
                "field_name": "title",
                "field_type": "issue_title",
                "old_value": null,
                "new_value": "Telemetry/metrics: scope enforcement visibility",
                "changed_at": "2025-09-17T16:14:02.985Z",
                "actor_login": "",
                "repository_name": "coder/coder",
                "content_title": "Telemetry/metrics: scope enforcement visibility",
                "content_url": "https://github.com/coder/coder/issues/19858",
                "content_type": "Issue"
              }
            ],
            "appliedLimit": 200,
            "appliedOffset": 0
          }
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:51:43.134Z",
      "id": "8fa8f707-3418-4166-92cb-e3d0f2594a63",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Based on the recent changes in the v2 project over the last 7 days, here's what's new:\n\n## Recent Activity Summary (Last 7 Days)\n\n### 🆕 New Issues Created\n- **dbpurge: purge expired api keys** (coder/coder) - Added to 📚 Backlog (Sep 19)\n- **UI: Unable to select nested devcontainer** (jetbrains-coder) - Assigned to fioan89, in 📚 Backlog (Sep 19)  \n- **bug: Failed to dial peer** issues (2 new issues in coder/coder) - Connection/authentication problems (Sep 19)\n- **bug: GetDeploymentWorkspaceAgentStats creates lots of DB load** (internal) - Performance issue with 6k workspaces (Sep 19)\n- **FR: CLI parameter resolver fails for dynamic parameters** (coder/coder) - QRT customer issue, CLI vs API inconsistency (Sep 18)\n- **bug: external auth device flow doesn't follow RFC spec** (coder/coder) - OAuth compliance issue (Sep 18)\n- **Multiple prebuild-related issues** (coder/coder) - Visibility, cleanup, and performance concerns (Sep 18)\n\n### ✅ Issues Resolved  \n- **flake: TestServer/CanListenUnspecifiedv4** (internal): In Review → Done (Sep 19)\n- **bug(site): UI for batch-updating workspaces** (coder/coder): In Review → Done (Sep 18)\n- **flake: test-e2e app.spec.ts** (internal): 📚 Backlog → Done (Sep 17)\n- **flake: useAgentLogs** (internal): In Review → Done (Sep 17)\n\n### 🔄 Status Changes\n- **Create load generator for Dynamic Parameters** (internal): 📚 Backlog → In Progress, assigned to spikecurtis (Sep 19)\n- **Refactor Create workspaces subcommand** (internal): In Progress → In Review (Sep 19)\n- **Template dormancy 'hour' setting** (coder/coder): Now linked to PR #19884 for fix (Sep 19)\n- **Build-time check: DB enum contains all RBAC scopes** (coder/coder): Now has PR #19862, assigned to ThomasK33 (Sep 17)\n\n### 📝 Content Updates\n- **CLI to dump audit data in JSON format**: Title and body updated to use \"interception\" instead of \"session\" (Sep 19)\n- **Create an API endpoint to export audit data**: Updated to use \"interception\" terminology (Sep 19)\n- **feat: allow execution ordering for coder_script**: Recently updated (Sep 17)\n\n### 🛠️ Technical Activity\n- Several **API Key Scopes** implementation work ongoing with new PRs and database migrations (Sep 17)\n- **Prebuild system** issues being actively tracked - performance, cleanup, and visibility concerns\n- **Database performance** issues identified with GetDeploymentWorkspaceAgentStats and GetWorkspaceByID queries\n- **External authentication** improvements for RFC compliance\n\n### 🎯 Customer Impact\n- **QRT customer issue** with CLI parameter resolver for dynamic parameters - has workaround via API\n- **Performance issues** identified in large deployments (6k+ workspaces)\n- **JetBrains plugin** devcontainer selection issue reported\n\nThe project shows active development with focus on performance optimization, prebuild system improvements, and API key scoping implementation.",
          "state": "done"
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:51:50.893Z",
      "role": "user",
      "parts": [
        {
          "type": "text",
          "text": "are we blocked on any new issues this week?"
        }
      ],
      "id": "8f7ec7d1-7659-4a9b-b4fe-8f0f2262c431"
    },
    {
      "created_at": "2025-09-19T15:52:09.199Z",
      "id": "b0cfc695-424d-48c0-94ef-3400a5b287e5",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Looking at the recent changes, here are the issues that appear to be blocking or potentially blocking:\n\n## 🚫 Currently Blocked Issues\n\n### **Orphaned process after closing the code-server browser tab** (code-server)\n- **Status**: In Progress → 🛑 Blocked (changed Sep 18)\n- **Impact**: Users experiencing orphaned processes when closing browser tabs\n- **Duration**: Issue from Sep 11, now blocked for 1+ days\n\n## ⚠️ High-Priority Issues That Could Become Blocking\n\n### **bug: GetDeploymentWorkspaceAgentStats creates lots of DB load** (internal)\n- **Created**: Sep 19 (NEW this week)\n- **Impact**: Major performance issue - \"most DB load\" in 3-hour test with 6k workspaces\n- **Status**: 📚 Backlog (needs immediate attention)\n- **Risk**: Could block deployments at scale\n\n### **FR: CLI parameter resolver fails for dynamic parameters** (coder/coder)  \n- **Created**: Sep 18 (NEW this week)\n- **Customer**: QRT customer issue\n- **Impact**: CLI workflows broken for dynamic parameters (API works fine)\n- **Status**: 📚 Backlog\n- **Workaround**: Available via API calls\n\n### **bug: Failed to dial peer** issues (2 new issues)\n- **Created**: Sep 19 (NEW this week) \n- **Impact**: Users cannot access Coder UI/authentication\n- **Status**: 📚 Backlog with \"needs-triage\" labels\n- **Risk**: Could block new user onboarding\n\n## 📊 Summary\n\n**Definitely Blocked**: 1 issue (code-server orphaned processes)\n\n**At Risk of Becoming Blocking**: 3-4 issues, particularly:\n- Database performance issue (could impact large deployments)\n- CLI parameter resolver (customer-impacting) \n- Connection/authentication failures\n\nThe **database performance issue** with `GetDeploymentWorkspaceAgentStats` seems most critical as it was identified as generating the \"most load on the DB\" during scale testing. This could become a significant blocker for enterprise deployments if not addressed quickly.\n\nWould you like me to query for more details about any of these specific issues or check if there are any PRs already in progress to address them?",
          "state": "done"
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:52:16.337Z",
      "role": "user",
      "parts": [
        {
          "type": "text",
          "text": "are there any new customer issues this week?"
        }
      ],
      "id": "8447386d-5130-4054-9745-f2b64ef365b9"
    },
    {
      "created_at": "2025-09-19T15:52:32.566Z",
      "id": "a5f254c9-d0a2-4d24-9b8c-060c6b783bb1",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Based on the recent changes, here are the **new customer issues** from this week:\n\n## 🎯 New Customer Issues This Week\n\n### **FR: CLI parameter resolver fails for dynamic parameters** (coder/coder)\n- **Created**: Sep 18, 2024\n- **Customer**: **QRT** \n- **Zendesk Ticket**: https://coder.zendesk.com/agent/tickets/4339\n- **Status**: 📚 Backlog\n- **Impact**: CLI workflows broken for templates with dynamic parameters, while API works fine\n- **Workaround Available**: Yes (use API instead of CLI)\n\n### **bug: Prebuild jobs are slowing down the dashboard** (coder/coder)\n- **Created**: Sep 18, 2024  \n- **Status**: 📚 Backlog with \"needs-triage\" + \"prebuilds\" labels\n- **Customer Context**: \"This came from a customer\"\n- **Environment**: \n  - v2.25.1\n  - Multiple deployments (US + EU, 3 total)\n  - 30 in-memory provisioners per coderd replica\n  - Target prebuild pool size of 20\n- **Impact**: Dashboard becomes slow/degraded when many prebuilds are processing\n\n### **bug: prebuilds are not being de-provisioned fast enough** (coder/coder)\n- **Created**: Sep 18, 2024\n- **Status**: 📚 Backlog with \"needs-triage\" + \"prebuilds\" labels  \n- **Customer Context**: \"This came from a customer\"\n- **Same Environment**: v2.25.1, multiple deployments\n- **Impact**: Pool doesn't shrink immediately when threshold is lowered (20 → 1 leaves 19 running)\n\n## 📊 Customer Impact Summary\n\n**Total New Customer Issues**: 3 issues from 2 different customers\n\n**QRT Customer** (1 issue):\n- CLI limitation forcing workaround to API usage\n- Has Zendesk ticket tracking\n\n**Unnamed Customer** (2 issues):\n- Both related to prebuild performance/management\n- Large-scale deployment (multiple regions, high provisioner count)\n- Dashboard performance degradation\n- Prebuild pool management not working as expected\n\n## ⚠️ Additional Customer-Related Context\n\nThe **database performance issue** (`GetDeploymentWorkspaceAgentStats`) discovered this week also mentions it was identified during scale testing, which could potentially impact the same customer experiencing prebuild issues or similar enterprise deployments.\n\nAll three customer issues are currently in **📚 Backlog** status and marked as \"needs-triage\" where applicable, indicating they haven't been prioritized yet.",
          "state": "done"
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:53:20.896Z",
      "role": "user",
      "parts": [
        {
          "type": "text",
          "text": "did anything slip  to later sprints this week?"
        }
      ],
      "id": "74b400f3-a17d-4d9c-98fd-c19ca81d5fd8"
    },
    {
      "created_at": "2025-09-19T15:53:30.293Z",
      "id": "f3140e52-b347-49cb-8d5d-666920a2cc62",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Let me query for changes from items moving out of active sprints (like from \"In Progress\" or \"In Review\" back to earlier stages) to see what might have slipped.",
          "state": "done"
        },
        {
          "type": "tool-db_query",
          "toolCallId": "toolu_01YEgRWtkJiAcVCtnMMEPSTA",
          "state": "output-error",
          "input": {
            "sql": "SELECT \n  field_name,\n  old_value,\n  new_value,\n  changed_at,\n  repository_name,\n  content_title,\n  content_url\nFROM field_changes \nWHERE project_name = $1 \n  AND changed_at >= now() - interval '7 days'\n  AND field_name = 'Status'\n  AND field_type = 'ProjectV2ItemFieldSingleSelectValue'\n  AND (\n    -- Items moving backwards in the workflow\n    (old_value = 'In Progress' AND new_value IN ('📚 Backlog', 'To Do'))\n    OR (old_value = 'In Review' AND new_value IN ('📚 Backlog', 'To Do', 'In Progress'))\n    OR (old_value = 'To Do' AND new_value = '📚 Backlog')\n    -- Items getting blocked\n    OR new_value = '🛑 Blocked'\n  )\nORDER BY changed_at DESC",
            "params": ["v2"],
            "limit": 50,
            "offset": 0,
            "timeoutMs": 15000
          },
          "errorText": "invalid input syntax for type json"
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:53:36.370Z",
      "id": "7769f532-0873-4f26-b1d0-4cec6a94951c",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Let me fix the query to properly handle the JSONB values:",
          "state": "done"
        },
        {
          "type": "tool-db_query",
          "toolCallId": "toolu_01Kqh877XCz4ShcDFuaFdTRV",
          "state": "output-available",
          "input": {
            "sql": "SELECT \n  field_name,\n  old_value,\n  new_value,\n  changed_at,\n  repository_name,\n  content_title,\n  content_url\nFROM field_changes \nWHERE project_name = $1 \n  AND changed_at >= now() - interval '7 days'\n  AND field_name = 'Status'\n  AND field_type = 'ProjectV2ItemFieldSingleSelectValue'\n  AND (\n    -- Items moving backwards in the workflow\n    (old_value::text = '\"In Progress\"' AND new_value::text IN ('\"📚 Backlog\"', '\"To Do\"'))\n    OR (old_value::text = '\"In Review\"' AND new_value::text IN ('\"📚 Backlog\"', '\"To Do\"', '\"In Progress\"'))\n    OR (old_value::text = '\"To Do\"' AND new_value::text = '\"📚 Backlog\"')\n    -- Items getting blocked\n    OR new_value::text = '\"🛑 Blocked\"'\n  )\nORDER BY changed_at DESC",
            "params": ["v2"],
            "limit": 50,
            "offset": 0,
            "timeoutMs": 15000
          },
          "output": {
            "rowCount": 2,
            "rows": [
              {
                "field_name": "Status",
                "old_value": "In Progress",
                "new_value": "🛑 Blocked",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "repository_name": "coder/code-server",
                "content_title": "Orphaned process after closing the code-server browser tab",
                "content_url": "https://github.com/coder/code-server/issues/7447"
              },
              {
                "field_name": "Status",
                "old_value": "To Do",
                "new_value": "🛑 Blocked",
                "changed_at": "2025-09-15T12:20:39.857Z",
                "repository_name": "coder/internal",
                "content_title": "Tasks API: Extend `POST /tasks`",
                "content_url": "https://github.com/coder/internal/issues/955"
              }
            ],
            "appliedLimit": 50,
            "appliedOffset": 0
          }
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:53:44.842Z",
      "id": "612fc01c-bfb3-4a4f-936a-9958dd2cd351",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Let me also check for any items that might have been delayed by looking at assignee changes or other indicators of work being pushed back:",
          "state": "done"
        },
        {
          "type": "tool-db_query",
          "toolCallId": "toolu_01UjWMGYjWHWHiYSnQh2neVc",
          "state": "output-error",
          "input": {
            "sql": "SELECT \n  field_name,\n  old_value,\n  new_value,\n  changed_at,\n  repository_name,\n  content_title,\n  content_url,\n  actor_login\nFROM field_changes \nWHERE project_name = $1 \n  AND changed_at >= now() - interval '7 days'\n  AND (\n    -- Look for assignee removals (potential deprioritization)\n    (field_name = 'assignees' AND array_length(COALESCE(old_value::jsonb, '[]'::jsonb), 1) > array_length(COALESCE(new_value::jsonb, '[]'::jsonb), 1))\n    -- Look for items being moved to blocked status\n    OR (field_name = 'Status' AND new_value::text = '\"🛑 Blocked\"')\n    -- Look for any other status movements that indicate delays\n    OR (field_name = 'Status' AND old_value::text IN ('\"In Progress\"', '\"In Review\"') AND new_value::text NOT IN ('\"Done\"'))\n  )\nORDER BY changed_at DESC",
            "params": ["v2"],
            "limit": 20,
            "offset": 0,
            "timeoutMs": 15000
          },
          "errorText": "function array_length(jsonb, integer) does not exist"
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:53:50.370Z",
      "id": "aa567c17-834d-4398-886c-822f72f01c18",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Let me simplify the query to focus on the key status changes:",
          "state": "done"
        },
        {
          "type": "tool-db_query",
          "toolCallId": "toolu_01Tok2zmmEo6xsf8vQ7ZkNzk",
          "state": "output-available",
          "input": {
            "sql": "SELECT \n  field_name,\n  old_value,\n  new_value,\n  changed_at,\n  repository_name,\n  content_title,\n  content_url\nFROM field_changes \nWHERE project_name = $1 \n  AND changed_at >= now() - interval '7 days'\n  AND field_name = 'Status'\n  AND field_type = 'ProjectV2ItemFieldSingleSelectValue'\n  AND new_value::text = '\"🛑 Blocked\"'\nORDER BY changed_at DESC",
            "params": ["v2"],
            "limit": 20,
            "offset": 0,
            "timeoutMs": 15000
          },
          "output": {
            "rowCount": 2,
            "rows": [
              {
                "field_name": "Status",
                "old_value": "In Progress",
                "new_value": "🛑 Blocked",
                "changed_at": "2025-09-18T04:13:26.764Z",
                "repository_name": "coder/code-server",
                "content_title": "Orphaned process after closing the code-server browser tab",
                "content_url": "https://github.com/coder/code-server/issues/7447"
              },
              {
                "field_name": "Status",
                "old_value": "To Do",
                "new_value": "🛑 Blocked",
                "changed_at": "2025-09-15T12:20:39.857Z",
                "repository_name": "coder/internal",
                "content_title": "Tasks API: Extend `POST /tasks`",
                "content_url": "https://github.com/coder/internal/issues/955"
              }
            ],
            "appliedLimit": 20,
            "appliedOffset": 0
          }
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:54:01.767Z",
      "id": "e334aee5-ce6e-4c46-bdb4-67818134168e",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Based on the data, here's what **slipped to later sprints** this week:\n\n## 🚫 Items That Got Blocked This Week\n\n### **Orphaned process after closing the code-server browser tab** (code-server)\n- **Status Change**: In Progress → 🛑 Blocked (Sep 18)\n- **Impact**: This was actively being worked on and hit a blocking issue\n- **Duration**: Was in progress since at least Sep 11, now blocked\n\n### **Tasks API: Extend `POST /tasks`** (internal) \n- **Status Change**: To Do → 🛑 Blocked (Sep 15 - technically last week but relevant)\n- **Impact**: Planned work that got blocked before starting\n\n## 📊 Summary\n\n**Items Slipped This Week**: 1 item that was actively in progress got blocked\n\n**Key Slip**: The **code-server orphaned process issue** was the main item that slipped from active development to blocked status this week. This suggests there was an impediment discovered while working on it that couldn't be resolved immediately.\n\nThe good news is that I don't see evidence of multiple items being moved backwards in the workflow (like from \"In Review\" back to \"Backlog\" or \"In Progress\" back to \"To Do\"), which would indicate scope creep or major replanning.\n\nMost other status changes this week were **forward progress**:\n- Several items moved from \"In Progress\" → \"In Review\" \n- Multiple items completed (\"In Review\" → \"Done\")\n- New items being added to backlog and some moving into active work\n\nSo while there was **1 blocking situation**, the overall sprint health appears relatively stable with more items progressing forward than slipping backward.",
          "state": "done"
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:54:11.225Z",
      "role": "user",
      "parts": [
        {
          "type": "text",
          "text": "what's the current sprint? XVII?"
        }
      ],
      "id": "a0cd7930-caef-47da-9c03-18f3c2c271b1"
    },
    {
      "created_at": "2025-09-19T15:54:19.102Z",
      "id": "f9a7709b-9281-47e3-9eca-ad90fad6c4fe",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "I don't see any explicit sprint or iteration field data in the database schema or the recent changes I've queried. The project tracking seems to use status-based workflow (📚 Backlog → To Do → In Progress → In Review → Done) rather than numbered sprints.\n\nLet me check if there are any iteration-related fields that might indicate sprint information:",
          "state": "done"
        },
        {
          "type": "tool-db_query",
          "toolCallId": "toolu_01ErfVhvDQkXb3FqLo6mNrtd",
          "state": "output-available",
          "input": {
            "sql": "SELECT DISTINCT field_name, field_type\nFROM current_field_values \nWHERE project_name = $1 \n  AND (field_name ILIKE '%iteration%' \n       OR field_name ILIKE '%sprint%' \n       OR field_name ILIKE '%cycle%'\n       OR field_type ILIKE '%iteration%')\nORDER BY field_name",
            "params": ["v2"],
            "limit": 20,
            "offset": 0,
            "timeoutMs": 15000
          },
          "output": {
            "rowCount": 2,
            "rows": [
              {
                "field_name": "Sprint",
                "field_type": "ProjectV2ItemFieldIterationValue"
              },
              {
                "field_name": "Sprint",
                "field_type": "cleared_field"
              }
            ],
            "appliedLimit": 20,
            "appliedOffset": 0
          }
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:54:24.271Z",
      "id": "ec2f4f64-5df1-481a-aa98-b48f6d707b98",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Great! There is a Sprint field. Let me check what the current sprint values are:",
          "state": "done"
        },
        {
          "type": "tool-db_query",
          "toolCallId": "toolu_01QrpXy23DWg43B2iaCjLJWQ",
          "state": "output-available",
          "input": {
            "sql": "SELECT \n  field_value,\n  COUNT(*) as item_count,\n  MAX(updated_at) as last_updated\nFROM current_field_values \nWHERE project_name = $1 \n  AND field_name = 'Sprint'\n  AND field_value IS NOT NULL\nGROUP BY field_value\nORDER BY last_updated DESC",
            "params": ["v2"],
            "limit": 10,
            "offset": 0,
            "timeoutMs": 15000
          },
          "output": {
            "rowCount": 10,
            "rows": [
              {
                "field_value": "V",
                "item_count": "1",
                "last_updated": "2025-09-19T12:20:57.747Z"
              },
              {
                "field_value": "VII",
                "item_count": "4",
                "last_updated": "2025-09-19T12:20:57.747Z"
              },
              {
                "field_value": "X",
                "item_count": "2",
                "last_updated": "2025-09-19T12:20:57.747Z"
              },
              {
                "field_value": "XIII",
                "item_count": "2",
                "last_updated": "2025-09-19T12:20:57.747Z"
              },
              {
                "field_value": "XIV",
                "item_count": "1",
                "last_updated": "2025-09-19T12:20:57.747Z"
              },
              {
                "field_value": "XIX",
                "item_count": "6",
                "last_updated": "2025-09-19T12:20:57.747Z"
              },
              {
                "field_value": "XL",
                "item_count": "37",
                "last_updated": "2025-09-19T12:20:57.747Z"
              },
              {
                "field_value": "XLI",
                "item_count": "61",
                "last_updated": "2025-09-19T12:20:57.747Z"
              },
              {
                "field_value": "XLII",
                "item_count": "51",
                "last_updated": "2025-09-19T12:20:57.747Z"
              },
              {
                "field_value": "IV",
                "item_count": "1",
                "last_updated": "2025-09-19T12:20:57.747Z"
              }
            ],
            "appliedLimit": 10,
            "appliedOffset": 0
          }
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:54:29.030Z",
      "id": "92c8c683-36b4-4652-bb8b-84448f3a3773",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Let me also check recent sprint changes to see what's most active:",
          "state": "done"
        },
        {
          "type": "tool-db_query",
          "toolCallId": "toolu_01BtLbgZBUcHambQ1eucLzH7",
          "state": "output-available",
          "input": {
            "sql": "SELECT \n  old_value,\n  new_value,\n  changed_at,\n  content_title,\n  repository_name\nFROM field_changes \nWHERE project_name = $1 \n  AND field_name = 'Sprint'\n  AND changed_at >= now() - interval '7 days'\nORDER BY changed_at DESC\nLIMIT 10",
            "params": ["v2"],
            "limit": 10,
            "offset": 0,
            "timeoutMs": 15000
          },
          "output": {
            "rowCount": 10,
            "rows": [
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-16T08:16:05.806Z",
                "content_title": "feature: support OAuth token revocation",
                "repository_name": "coder/coder"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-16T08:16:05.806Z",
                "content_title": "Add ability for external auth providers to be created with OAuth 2.0 Dynamic Client Registration",
                "repository_name": "coder/internal"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-16T08:16:05.806Z",
                "content_title": "flake: TestPatchCancelWorkspaceBuild",
                "repository_name": "coder/internal"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-16T08:16:05.806Z",
                "content_title": "Add warning message to tasks UI",
                "repository_name": "coder/coder"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "Add social card for main site and individual modules and template pages",
                "repository_name": "coder/registry-server"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "Add \"New\" indicators for recently added templates and modules",
                "repository_name": "coder/registry-server"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "",
                "repository_name": ""
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "OAuth Support",
                "repository_name": "coder/backstage-plugins"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "chore(site): convert more components from Emotion to TailwindCSS",
                "repository_name": "coder/coder"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "flake: useAgentLogs",
                "repository_name": "coder/internal"
              }
            ],
            "appliedLimit": 10,
            "appliedOffset": 0
          }
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:54:39.183Z",
      "id": "818cb194-a199-4e0a-b078-1b3722a01c3e",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Based on the sprint data, here's what I can see:\n\n## 🗓️ Current Sprint Status\n\n**Current Sprint**: **XLIII** (43)\n\n**Not XVII** - The project is much further along in their sprint numbering using Roman numerals.\n\n## 📊 Sprint Distribution (Active Items)\n\n- **XLIII** (current): Items recently moved here on Sep 15-16\n- **XLII** (previous): 51 items still assigned  \n- **XLI**: 61 items (possibly older sprint with remaining work)\n- **XL**: 37 items (older sprint)\n\n## 📈 Recent Sprint Activity\n\nThe sprint transition happened around **September 15-16**, when multiple items were moved from **XLII → XLIII**, indicating the start of Sprint 43.\n\nSo to directly answer your question: **No, the current sprint is XLIII (43), not XVII (17)**. The project appears to be well into their development cycle with sprint numbers in the 40s range using Roman numeral notation.\n\nThe \"items that slipped\" I identified earlier (the blocked code-server issue) would have been part of Sprint XLIII work that hit an impediment.",
          "state": "done"
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:54:56.935Z",
      "role": "user",
      "parts": [
        {
          "type": "text",
          "text": "what's the next sprint? did anything move from the current sprint to the next sprint?"
        }
      ],
      "id": "2ee33237-74b4-414b-86eb-605f4fa02fbf"
    },
    {
      "created_at": "2025-09-19T15:55:03.184Z",
      "id": "5505be45-4d18-4ec7-ae25-b26c9156ef8d",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Based on the sprint numbering pattern, the **next sprint would be XLIV (44)**.\n\nLet me check if any items have been moved from the current sprint (XLIII) to the next sprint (XLIV) this week:",
          "state": "done"
        },
        {
          "type": "tool-db_query",
          "toolCallId": "toolu_01LtJxgvfpDqQvZBS4Et2CwH",
          "state": "output-available",
          "input": {
            "sql": "SELECT \n  old_value,\n  new_value,\n  changed_at,\n  content_title,\n  repository_name,\n  content_url\nFROM field_changes \nWHERE project_name = $1 \n  AND field_name = 'Sprint'\n  AND changed_at >= now() - interval '7 days'\n  AND (\n    old_value::text = '\"XLIII\"' \n    OR new_value::text = '\"XLIV\"'\n  )\nORDER BY changed_at DESC",
            "params": ["v2"],
            "limit": 20,
            "offset": 0,
            "timeoutMs": 15000
          },
          "output": {
            "rowCount": 6,
            "rows": [
              {
                "old_value": "XLIII",
                "new_value": null,
                "changed_at": "2025-09-15T16:13:35.190Z",
                "content_title": "Mechanism and UI for collecting Coder Tasks success rate and feedback",
                "repository_name": "coder/coder",
                "content_url": "https://github.com/coder/coder/issues/19757"
              },
              {
                "old_value": "XLIII",
                "new_value": null,
                "changed_at": "2025-09-15T16:13:35.190Z",
                "content_title": "tasks: ui: update existing usages to new API",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/904"
              },
              {
                "old_value": "XLIII",
                "new_value": null,
                "changed_at": "2025-09-15T16:13:35.190Z",
                "content_title": "Tasks CLI: Add `logs` command",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/894"
              },
              {
                "old_value": "XLIII",
                "new_value": null,
                "changed_at": "2025-09-15T16:13:35.190Z",
                "content_title": "Tasks CLI: Add `send` command",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/895"
              },
              {
                "old_value": "XLIII",
                "new_value": null,
                "changed_at": "2025-09-15T16:13:35.190Z",
                "content_title": "Tasks API: Implement `GET /tasks/{id}/logs`",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/901"
              },
              {
                "old_value": "XLIII",
                "new_value": null,
                "changed_at": "2025-09-15T16:13:35.190Z",
                "content_title": "Tasks API: Implement `POST /tasks/{id}/send`",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/902"
              }
            ],
            "appliedLimit": 20,
            "appliedOffset": 0
          }
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:55:08.494Z",
      "id": "82e7b17c-67d5-4a41-bcbb-9fb2984570aa",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Let me also check if XLIV sprint exists yet by looking at current field values:",
          "state": "done"
        },
        {
          "type": "tool-db_query",
          "toolCallId": "toolu_01C4Y7AEqfmNYKMjbrxEyeee",
          "state": "output-available",
          "input": {
            "sql": "SELECT \n  field_value,\n  COUNT(*) as item_count,\n  MAX(updated_at) as last_updated\nFROM current_field_values \nWHERE project_name = $1 \n  AND field_name = 'Sprint'\n  AND field_value::text = '\"XLIV\"'\nGROUP BY field_value",
            "params": ["v2"],
            "limit": 5,
            "offset": 0,
            "timeoutMs": 15000
          },
          "output": {
            "rowCount": 0,
            "rows": [],
            "appliedLimit": 5,
            "appliedOffset": 0
          }
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:55:13.371Z",
      "id": "89bd609f-140a-4933-9586-a8f1f6f90b0e",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "Let me check if there are any sprint assignments or changes to items that might indicate next sprint planning:",
          "state": "done"
        },
        {
          "type": "tool-db_query",
          "toolCallId": "toolu_014TgwmjSx5n3LPJMa5c3j8V",
          "state": "output-available",
          "input": {
            "sql": "SELECT \n  old_value,\n  new_value,\n  changed_at,\n  content_title,\n  repository_name,\n  content_url\nFROM field_changes \nWHERE project_name = $1 \n  AND field_name = 'Sprint'\n  AND changed_at >= now() - interval '7 days'\nORDER BY changed_at DESC",
            "params": ["v2"],
            "limit": 20,
            "offset": 0,
            "timeoutMs": 15000
          },
          "output": {
            "rowCount": 20,
            "rows": [
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-16T08:16:05.806Z",
                "content_title": "feature: support OAuth token revocation",
                "repository_name": "coder/coder",
                "content_url": "https://github.com/coder/coder/issues/15575"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-16T08:16:05.806Z",
                "content_title": "Add ability for external auth providers to be created with OAuth 2.0 Dynamic Client Registration",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/947"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-16T08:16:05.806Z",
                "content_title": "flake: TestPatchCancelWorkspaceBuild",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/925"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-16T08:16:05.806Z",
                "content_title": "Add warning message to tasks UI",
                "repository_name": "coder/coder",
                "content_url": "https://github.com/coder/coder/issues/19739"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "Add social card for main site and individual modules and template pages",
                "repository_name": "coder/registry-server",
                "content_url": "https://github.com/coder/registry-server/issues/298"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "Add \"New\" indicators for recently added templates and modules",
                "repository_name": "coder/registry-server",
                "content_url": "https://github.com/coder/registry-server/issues/356"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "",
                "repository_name": "",
                "content_url": ""
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "OAuth Support",
                "repository_name": "coder/backstage-plugins",
                "content_url": "https://github.com/coder/backstage-plugins/issues/147"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "chore(site): convert more components from Emotion to TailwindCSS",
                "repository_name": "coder/coder",
                "content_url": "https://github.com/coder/coder/pull/19719"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "flake: useAgentLogs",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/644"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "bug(site): UI for batch-updating workspaces is confusing and has destructive race conditions",
                "repository_name": "coder/coder",
                "content_url": "https://github.com/coder/coder/issues/18879"
              },
              {
                "old_value": null,
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "MCP: Port forwarding",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/784"
              },
              {
                "old_value": null,
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "MCP: Add `coder_*_task` tools",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/776"
              },
              {
                "old_value": "XLII",
                "new_value": null,
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "bug: Autoshutdown add, subtract time UI Error:",
                "repository_name": "coder/coder",
                "content_url": "https://github.com/coder/coder/issues/19354"
              },
              {
                "old_value": "XL",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "MCP: Add write file/read file and other tools that agents like Blink need to be truly effective with Coder",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/775"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "Orphaned process after closing the code-server browser tab",
                "repository_name": "coder/code-server",
                "content_url": "https://github.com/coder/code-server/issues/7447"
              },
              {
                "old_value": null,
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "MCP: add `list_apps` tool",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/1000"
              },
              {
                "old_value": null,
                "new_value": "XLIII",
                "changed_at": "2025-09-15T20:12:24.299Z",
                "content_title": "feat: add tooltip support to jetbrains module",
                "repository_name": "coder/registry",
                "content_url": "https://github.com/coder/registry/pull/421"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T16:13:35.190Z",
                "content_title": "Add `shared:` filter to /workspaces endpoint",
                "repository_name": "coder/internal",
                "content_url": "https://github.com/coder/internal/issues/972"
              },
              {
                "old_value": "XLII",
                "new_value": "XLIII",
                "changed_at": "2025-09-15T16:13:35.190Z",
                "content_title": "Organization user admin requires site wide `user read` permissison, this needs to be removed",
                "repository_name": "coder/coder",
                "content_url": "https://github.com/coder/coder/issues/13952"
              }
            ],
            "appliedLimit": 20,
            "appliedOffset": 0
          }
        }
      ]
    },
    {
      "created_at": "2025-09-19T15:55:25.206Z",
      "id": "ae0fe902-2165-47e7-b75e-30d4d61f63f3",
      "role": "assistant",
      "parts": [
        {
          "type": "step-start"
        },
        {
          "type": "text",
          "text": "## 📊 Sprint Movement Analysis\n\n**Next Sprint**: **XLIV (44)**\n\n**Movement from Current Sprint (XLIII)**: \n\n### ⬇️ Items Removed from XLIII (Sep 15)\n**6 items were removed from Sprint XLIII** (moved to no sprint assignment):\n\n1. **Mechanism and UI for collecting Coder Tasks success rate and feedback** (coder/coder)\n2. **tasks: ui: update existing usages to new API** (internal)  \n3. **Tasks CLI: Add `logs` command** (internal)\n4. **Tasks CLI: Add `send` command** (internal)\n5. **Tasks API: Implement `GET /tasks/{id}/logs`** (internal)\n6. **Tasks API: Implement `POST /tasks/{id}/send`** (internal)\n\n### 📈 Key Observations:\n\n1. **No items moved to XLIV yet** - Sprint XLIV hasn't been created/populated\n2. **Tasks-related work got descoped** - All 6 removed items were related to the Tasks feature\n3. **Sprint XLIII is still active** - Items are still being moved into it (as recent as Sep 16)\n4. **Pattern**: Items were removed from sprint assignment rather than moved to next sprint\n\n## 🎯 Summary\n\n**Did anything move to the next sprint?** **No** - There's no evidence of Sprint XLIV being created yet or items being moved to it.\n\n**What happened instead?** **6 Tasks-related items were removed** from Sprint XLIII on Sep 15, likely indicating scope reduction or deprioritization of Tasks functionality for the current sprint.\n\nThis suggests the team made a **scope adjustment** to Sprint XLIII rather than pushing work to the next sprint, which is a healthier sprint management practice.",
          "state": "done"
        }
      ]
    }
  ]
}
