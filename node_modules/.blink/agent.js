var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name17 in all)
    __defProp(target, name17, { get: all[name17], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/postgres-array/index.js
var require_postgres_array = __commonJS({
  "node_modules/postgres-array/index.js"(exports2) {
    "use strict";
    exports2.parse = function(source, transform2) {
      return new ArrayParser(source, transform2).parse();
    };
    var ArrayParser = class _ArrayParser {
      constructor(source, transform2) {
        this.source = source;
        this.transform = transform2 || identity;
        this.position = 0;
        this.entries = [];
        this.recorded = [];
        this.dimension = 0;
      }
      isEof() {
        return this.position >= this.source.length;
      }
      nextCharacter() {
        var character = this.source[this.position++];
        if (character === "\\") {
          return {
            value: this.source[this.position++],
            escaped: true
          };
        }
        return {
          value: character,
          escaped: false
        };
      }
      record(character) {
        this.recorded.push(character);
      }
      newEntry(includeEmpty) {
        var entry;
        if (this.recorded.length > 0 || includeEmpty) {
          entry = this.recorded.join("");
          if (entry === "NULL" && !includeEmpty) {
            entry = null;
          }
          if (entry !== null) entry = this.transform(entry);
          this.entries.push(entry);
          this.recorded = [];
        }
      }
      consumeDimensions() {
        if (this.source[0] === "[") {
          while (!this.isEof()) {
            var char = this.nextCharacter();
            if (char.value === "=") break;
          }
        }
      }
      parse(nested) {
        var character, parser, quote;
        this.consumeDimensions();
        while (!this.isEof()) {
          character = this.nextCharacter();
          if (character.value === "{" && !quote) {
            this.dimension++;
            if (this.dimension > 1) {
              parser = new _ArrayParser(this.source.substr(this.position - 1), this.transform);
              this.entries.push(parser.parse(true));
              this.position += parser.position - 2;
            }
          } else if (character.value === "}" && !quote) {
            this.dimension--;
            if (!this.dimension) {
              this.newEntry();
              if (nested) return this.entries;
            }
          } else if (character.value === '"' && !character.escaped) {
            if (quote) this.newEntry(true);
            quote = !quote;
          } else if (character.value === "," && !quote) {
            this.newEntry();
          } else {
            this.record(character.value);
          }
        }
        if (this.dimension !== 0) {
          throw new Error("array dimension not balanced");
        }
        return this.entries;
      }
    };
    function identity(value) {
      return value;
    }
  }
});

// node_modules/pg-types/lib/arrayParser.js
var require_arrayParser = __commonJS({
  "node_modules/pg-types/lib/arrayParser.js"(exports2, module2) {
    var array2 = require_postgres_array();
    module2.exports = {
      create: function(source, transform2) {
        return {
          parse: function() {
            return array2.parse(source, transform2);
          }
        };
      }
    };
  }
});

// node_modules/postgres-date/index.js
var require_postgres_date = __commonJS({
  "node_modules/postgres-date/index.js"(exports2, module2) {
    "use strict";
    var DATE_TIME = /(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/;
    var DATE = /^(\d{1,})-(\d{2})-(\d{2})( BC)?$/;
    var TIME_ZONE = /([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/;
    var INFINITY = /^-?infinity$/;
    module2.exports = function parseDate(isoDate) {
      if (INFINITY.test(isoDate)) {
        return Number(isoDate.replace("i", "I"));
      }
      var matches = DATE_TIME.exec(isoDate);
      if (!matches) {
        return getDate(isoDate) || null;
      }
      var isBC = !!matches[8];
      var year = parseInt(matches[1], 10);
      if (isBC) {
        year = bcYearToNegativeYear(year);
      }
      var month = parseInt(matches[2], 10) - 1;
      var day = matches[3];
      var hour = parseInt(matches[4], 10);
      var minute = parseInt(matches[5], 10);
      var second = parseInt(matches[6], 10);
      var ms = matches[7];
      ms = ms ? 1e3 * parseFloat(ms) : 0;
      var date5;
      var offset = timeZoneOffset(isoDate);
      if (offset != null) {
        date5 = new Date(Date.UTC(year, month, day, hour, minute, second, ms));
        if (is0To99(year)) {
          date5.setUTCFullYear(year);
        }
        if (offset !== 0) {
          date5.setTime(date5.getTime() - offset);
        }
      } else {
        date5 = new Date(year, month, day, hour, minute, second, ms);
        if (is0To99(year)) {
          date5.setFullYear(year);
        }
      }
      return date5;
    };
    function getDate(isoDate) {
      var matches = DATE.exec(isoDate);
      if (!matches) {
        return;
      }
      var year = parseInt(matches[1], 10);
      var isBC = !!matches[4];
      if (isBC) {
        year = bcYearToNegativeYear(year);
      }
      var month = parseInt(matches[2], 10) - 1;
      var day = matches[3];
      var date5 = new Date(year, month, day);
      if (is0To99(year)) {
        date5.setFullYear(year);
      }
      return date5;
    }
    function timeZoneOffset(isoDate) {
      if (isoDate.endsWith("+00")) {
        return 0;
      }
      var zone = TIME_ZONE.exec(isoDate.split(" ")[1]);
      if (!zone) return;
      var type = zone[1];
      if (type === "Z") {
        return 0;
      }
      var sign = type === "-" ? -1 : 1;
      var offset = parseInt(zone[2], 10) * 3600 + parseInt(zone[3] || 0, 10) * 60 + parseInt(zone[4] || 0, 10);
      return offset * sign * 1e3;
    }
    function bcYearToNegativeYear(year) {
      return -(year - 1);
    }
    function is0To99(num) {
      return num >= 0 && num < 100;
    }
  }
});

// node_modules/xtend/mutable.js
var require_mutable = __commonJS({
  "node_modules/xtend/mutable.js"(exports2, module2) {
    module2.exports = extend2;
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    function extend2(target) {
      for (var i2 = 1; i2 < arguments.length; i2++) {
        var source = arguments[i2];
        for (var key in source) {
          if (hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    }
  }
});

// node_modules/postgres-interval/index.js
var require_postgres_interval = __commonJS({
  "node_modules/postgres-interval/index.js"(exports2, module2) {
    "use strict";
    var extend2 = require_mutable();
    module2.exports = PostgresInterval;
    function PostgresInterval(raw) {
      if (!(this instanceof PostgresInterval)) {
        return new PostgresInterval(raw);
      }
      extend2(this, parse3(raw));
    }
    var properties = ["seconds", "minutes", "hours", "days", "months", "years"];
    PostgresInterval.prototype.toPostgres = function() {
      var filtered = properties.filter(this.hasOwnProperty, this);
      if (this.milliseconds && filtered.indexOf("seconds") < 0) {
        filtered.push("seconds");
      }
      if (filtered.length === 0) return "0";
      return filtered.map(function(property) {
        var value = this[property] || 0;
        if (property === "seconds" && this.milliseconds) {
          value = (value + this.milliseconds / 1e3).toFixed(6).replace(/\.?0+$/, "");
        }
        return value + " " + property;
      }, this).join(" ");
    };
    var propertiesISOEquivalent = {
      years: "Y",
      months: "M",
      days: "D",
      hours: "H",
      minutes: "M",
      seconds: "S"
    };
    var dateProperties = ["years", "months", "days"];
    var timeProperties = ["hours", "minutes", "seconds"];
    PostgresInterval.prototype.toISOString = PostgresInterval.prototype.toISO = function() {
      var datePart = dateProperties.map(buildProperty, this).join("");
      var timePart = timeProperties.map(buildProperty, this).join("");
      return "P" + datePart + "T" + timePart;
      function buildProperty(property) {
        var value = this[property] || 0;
        if (property === "seconds" && this.milliseconds) {
          value = (value + this.milliseconds / 1e3).toFixed(6).replace(/0+$/, "");
        }
        return value + propertiesISOEquivalent[property];
      }
    };
    var NUMBER = "([+-]?\\d+)";
    var YEAR = NUMBER + "\\s+years?";
    var MONTH = NUMBER + "\\s+mons?";
    var DAY = NUMBER + "\\s+days?";
    var TIME = "([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?";
    var INTERVAL = new RegExp([YEAR, MONTH, DAY, TIME].map(function(regexString) {
      return "(" + regexString + ")?";
    }).join("\\s*"));
    var positions = {
      years: 2,
      months: 4,
      days: 6,
      hours: 9,
      minutes: 10,
      seconds: 11,
      milliseconds: 12
    };
    var negatives = ["hours", "minutes", "seconds", "milliseconds"];
    function parseMilliseconds(fraction) {
      var microseconds = fraction + "000000".slice(fraction.length);
      return parseInt(microseconds, 10) / 1e3;
    }
    function parse3(interval) {
      if (!interval) return {};
      var matches = INTERVAL.exec(interval);
      var isNegative = matches[8] === "-";
      return Object.keys(positions).reduce(function(parsed, property) {
        var position = positions[property];
        var value = matches[position];
        if (!value) return parsed;
        value = property === "milliseconds" ? parseMilliseconds(value) : parseInt(value, 10);
        if (!value) return parsed;
        if (isNegative && ~negatives.indexOf(property)) {
          value *= -1;
        }
        parsed[property] = value;
        return parsed;
      }, {});
    }
  }
});

// node_modules/postgres-bytea/index.js
var require_postgres_bytea = __commonJS({
  "node_modules/postgres-bytea/index.js"(exports2, module2) {
    "use strict";
    module2.exports = function parseBytea(input) {
      if (/^\\x/.test(input)) {
        return new Buffer(input.substr(2), "hex");
      }
      var output = "";
      var i2 = 0;
      while (i2 < input.length) {
        if (input[i2] !== "\\") {
          output += input[i2];
          ++i2;
        } else {
          if (/[0-7]{3}/.test(input.substr(i2 + 1, 3))) {
            output += String.fromCharCode(parseInt(input.substr(i2 + 1, 3), 8));
            i2 += 4;
          } else {
            var backslashes = 1;
            while (i2 + backslashes < input.length && input[i2 + backslashes] === "\\") {
              backslashes++;
            }
            for (var k = 0; k < Math.floor(backslashes / 2); ++k) {
              output += "\\";
            }
            i2 += Math.floor(backslashes / 2) * 2;
          }
        }
      }
      return new Buffer(output, "binary");
    };
  }
});

// node_modules/pg-types/lib/textParsers.js
var require_textParsers = __commonJS({
  "node_modules/pg-types/lib/textParsers.js"(exports2, module2) {
    var array2 = require_postgres_array();
    var arrayParser = require_arrayParser();
    var parseDate = require_postgres_date();
    var parseInterval = require_postgres_interval();
    var parseByteA = require_postgres_bytea();
    function allowNull(fn) {
      return function nullAllowed(value) {
        if (value === null) return value;
        return fn(value);
      };
    }
    function parseBool(value) {
      if (value === null) return value;
      return value === "TRUE" || value === "t" || value === "true" || value === "y" || value === "yes" || value === "on" || value === "1";
    }
    function parseBoolArray(value) {
      if (!value) return null;
      return array2.parse(value, parseBool);
    }
    function parseBaseTenInt(string4) {
      return parseInt(string4, 10);
    }
    function parseIntegerArray(value) {
      if (!value) return null;
      return array2.parse(value, allowNull(parseBaseTenInt));
    }
    function parseBigIntegerArray(value) {
      if (!value) return null;
      return array2.parse(value, allowNull(function(entry) {
        return parseBigInteger(entry).trim();
      }));
    }
    var parsePointArray = function(value) {
      if (!value) {
        return null;
      }
      var p = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parsePoint(entry);
        }
        return entry;
      });
      return p.parse();
    };
    var parseFloatArray = function(value) {
      if (!value) {
        return null;
      }
      var p = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parseFloat(entry);
        }
        return entry;
      });
      return p.parse();
    };
    var parseStringArray = function(value) {
      if (!value) {
        return null;
      }
      var p = arrayParser.create(value);
      return p.parse();
    };
    var parseDateArray = function(value) {
      if (!value) {
        return null;
      }
      var p = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parseDate(entry);
        }
        return entry;
      });
      return p.parse();
    };
    var parseIntervalArray = function(value) {
      if (!value) {
        return null;
      }
      var p = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parseInterval(entry);
        }
        return entry;
      });
      return p.parse();
    };
    var parseByteAArray = function(value) {
      if (!value) {
        return null;
      }
      return array2.parse(value, allowNull(parseByteA));
    };
    var parseInteger = function(value) {
      return parseInt(value, 10);
    };
    var parseBigInteger = function(value) {
      var valStr = String(value);
      if (/^\d+$/.test(valStr)) {
        return valStr;
      }
      return value;
    };
    var parseJsonArray = function(value) {
      if (!value) {
        return null;
      }
      return array2.parse(value, allowNull(JSON.parse));
    };
    var parsePoint = function(value) {
      if (value[0] !== "(") {
        return null;
      }
      value = value.substring(1, value.length - 1).split(",");
      return {
        x: parseFloat(value[0]),
        y: parseFloat(value[1])
      };
    };
    var parseCircle = function(value) {
      if (value[0] !== "<" && value[1] !== "(") {
        return null;
      }
      var point = "(";
      var radius = "";
      var pointParsed = false;
      for (var i2 = 2; i2 < value.length - 1; i2++) {
        if (!pointParsed) {
          point += value[i2];
        }
        if (value[i2] === ")") {
          pointParsed = true;
          continue;
        } else if (!pointParsed) {
          continue;
        }
        if (value[i2] === ",") {
          continue;
        }
        radius += value[i2];
      }
      var result = parsePoint(point);
      result.radius = parseFloat(radius);
      return result;
    };
    var init = function(register) {
      register(20, parseBigInteger);
      register(21, parseInteger);
      register(23, parseInteger);
      register(26, parseInteger);
      register(700, parseFloat);
      register(701, parseFloat);
      register(16, parseBool);
      register(1082, parseDate);
      register(1114, parseDate);
      register(1184, parseDate);
      register(600, parsePoint);
      register(651, parseStringArray);
      register(718, parseCircle);
      register(1e3, parseBoolArray);
      register(1001, parseByteAArray);
      register(1005, parseIntegerArray);
      register(1007, parseIntegerArray);
      register(1028, parseIntegerArray);
      register(1016, parseBigIntegerArray);
      register(1017, parsePointArray);
      register(1021, parseFloatArray);
      register(1022, parseFloatArray);
      register(1231, parseFloatArray);
      register(1014, parseStringArray);
      register(1015, parseStringArray);
      register(1008, parseStringArray);
      register(1009, parseStringArray);
      register(1040, parseStringArray);
      register(1041, parseStringArray);
      register(1115, parseDateArray);
      register(1182, parseDateArray);
      register(1185, parseDateArray);
      register(1186, parseInterval);
      register(1187, parseIntervalArray);
      register(17, parseByteA);
      register(114, JSON.parse.bind(JSON));
      register(3802, JSON.parse.bind(JSON));
      register(199, parseJsonArray);
      register(3807, parseJsonArray);
      register(3907, parseStringArray);
      register(2951, parseStringArray);
      register(791, parseStringArray);
      register(1183, parseStringArray);
      register(1270, parseStringArray);
    };
    module2.exports = {
      init
    };
  }
});

// node_modules/pg-int8/index.js
var require_pg_int8 = __commonJS({
  "node_modules/pg-int8/index.js"(exports2, module2) {
    "use strict";
    var BASE = 1e6;
    function readInt8(buffer) {
      var high = buffer.readInt32BE(0);
      var low = buffer.readUInt32BE(4);
      var sign = "";
      if (high < 0) {
        high = ~high + (low === 0);
        low = ~low + 1 >>> 0;
        sign = "-";
      }
      var result = "";
      var carry;
      var t2;
      var digits;
      var pad;
      var l;
      var i2;
      {
        carry = high % BASE;
        high = high / BASE >>> 0;
        t2 = 4294967296 * carry + low;
        low = t2 / BASE >>> 0;
        digits = "" + (t2 - BASE * low);
        if (low === 0 && high === 0) {
          return sign + digits + result;
        }
        pad = "";
        l = 6 - digits.length;
        for (i2 = 0; i2 < l; i2++) {
          pad += "0";
        }
        result = pad + digits + result;
      }
      {
        carry = high % BASE;
        high = high / BASE >>> 0;
        t2 = 4294967296 * carry + low;
        low = t2 / BASE >>> 0;
        digits = "" + (t2 - BASE * low);
        if (low === 0 && high === 0) {
          return sign + digits + result;
        }
        pad = "";
        l = 6 - digits.length;
        for (i2 = 0; i2 < l; i2++) {
          pad += "0";
        }
        result = pad + digits + result;
      }
      {
        carry = high % BASE;
        high = high / BASE >>> 0;
        t2 = 4294967296 * carry + low;
        low = t2 / BASE >>> 0;
        digits = "" + (t2 - BASE * low);
        if (low === 0 && high === 0) {
          return sign + digits + result;
        }
        pad = "";
        l = 6 - digits.length;
        for (i2 = 0; i2 < l; i2++) {
          pad += "0";
        }
        result = pad + digits + result;
      }
      {
        carry = high % BASE;
        t2 = 4294967296 * carry + low;
        digits = "" + t2 % BASE;
        return sign + digits + result;
      }
    }
    module2.exports = readInt8;
  }
});

// node_modules/pg-types/lib/binaryParsers.js
var require_binaryParsers = __commonJS({
  "node_modules/pg-types/lib/binaryParsers.js"(exports2, module2) {
    var parseInt64 = require_pg_int8();
    var parseBits = function(data, bits, offset, invert, callback) {
      offset = offset || 0;
      invert = invert || false;
      callback = callback || function(lastValue, newValue, bits2) {
        return lastValue * Math.pow(2, bits2) + newValue;
      };
      var offsetBytes = offset >> 3;
      var inv = function(value) {
        if (invert) {
          return ~value & 255;
        }
        return value;
      };
      var mask = 255;
      var firstBits = 8 - offset % 8;
      if (bits < firstBits) {
        mask = 255 << 8 - bits & 255;
        firstBits = bits;
      }
      if (offset) {
        mask = mask >> offset % 8;
      }
      var result = 0;
      if (offset % 8 + bits >= 8) {
        result = callback(0, inv(data[offsetBytes]) & mask, firstBits);
      }
      var bytes = bits + offset >> 3;
      for (var i2 = offsetBytes + 1; i2 < bytes; i2++) {
        result = callback(result, inv(data[i2]), 8);
      }
      var lastBits = (bits + offset) % 8;
      if (lastBits > 0) {
        result = callback(result, inv(data[bytes]) >> 8 - lastBits, lastBits);
      }
      return result;
    };
    var parseFloatFromBits = function(data, precisionBits, exponentBits) {
      var bias = Math.pow(2, exponentBits - 1) - 1;
      var sign = parseBits(data, 1);
      var exponent = parseBits(data, exponentBits, 1);
      if (exponent === 0) {
        return 0;
      }
      var precisionBitsCounter = 1;
      var parsePrecisionBits = function(lastValue, newValue, bits) {
        if (lastValue === 0) {
          lastValue = 1;
        }
        for (var i2 = 1; i2 <= bits; i2++) {
          precisionBitsCounter /= 2;
          if ((newValue & 1 << bits - i2) > 0) {
            lastValue += precisionBitsCounter;
          }
        }
        return lastValue;
      };
      var mantissa = parseBits(data, precisionBits, exponentBits + 1, false, parsePrecisionBits);
      if (exponent == Math.pow(2, exponentBits + 1) - 1) {
        if (mantissa === 0) {
          return sign === 0 ? Infinity : -Infinity;
        }
        return NaN;
      }
      return (sign === 0 ? 1 : -1) * Math.pow(2, exponent - bias) * mantissa;
    };
    var parseInt16 = function(value) {
      if (parseBits(value, 1) == 1) {
        return -1 * (parseBits(value, 15, 1, true) + 1);
      }
      return parseBits(value, 15, 1);
    };
    var parseInt32 = function(value) {
      if (parseBits(value, 1) == 1) {
        return -1 * (parseBits(value, 31, 1, true) + 1);
      }
      return parseBits(value, 31, 1);
    };
    var parseFloat32 = function(value) {
      return parseFloatFromBits(value, 23, 8);
    };
    var parseFloat64 = function(value) {
      return parseFloatFromBits(value, 52, 11);
    };
    var parseNumeric = function(value) {
      var sign = parseBits(value, 16, 32);
      if (sign == 49152) {
        return NaN;
      }
      var weight = Math.pow(1e4, parseBits(value, 16, 16));
      var result = 0;
      var digits = [];
      var ndigits = parseBits(value, 16);
      for (var i2 = 0; i2 < ndigits; i2++) {
        result += parseBits(value, 16, 64 + 16 * i2) * weight;
        weight /= 1e4;
      }
      var scale = Math.pow(10, parseBits(value, 16, 48));
      return (sign === 0 ? 1 : -1) * Math.round(result * scale) / scale;
    };
    var parseDate = function(isUTC, value) {
      var sign = parseBits(value, 1);
      var rawValue = parseBits(value, 63, 1);
      var result = new Date((sign === 0 ? 1 : -1) * rawValue / 1e3 + 9466848e5);
      if (!isUTC) {
        result.setTime(result.getTime() + result.getTimezoneOffset() * 6e4);
      }
      result.usec = rawValue % 1e3;
      result.getMicroSeconds = function() {
        return this.usec;
      };
      result.setMicroSeconds = function(value2) {
        this.usec = value2;
      };
      result.getUTCMicroSeconds = function() {
        return this.usec;
      };
      return result;
    };
    var parseArray = function(value) {
      var dim = parseBits(value, 32);
      var flags = parseBits(value, 32, 32);
      var elementType = parseBits(value, 32, 64);
      var offset = 96;
      var dims = [];
      for (var i2 = 0; i2 < dim; i2++) {
        dims[i2] = parseBits(value, 32, offset);
        offset += 32;
        offset += 32;
      }
      var parseElement = function(elementType2) {
        var length = parseBits(value, 32, offset);
        offset += 32;
        if (length == 4294967295) {
          return null;
        }
        var result;
        if (elementType2 == 23 || elementType2 == 20) {
          result = parseBits(value, length * 8, offset);
          offset += length * 8;
          return result;
        } else if (elementType2 == 25) {
          result = value.toString(this.encoding, offset >> 3, (offset += length << 3) >> 3);
          return result;
        } else {
          console.log("ERROR: ElementType not implemented: " + elementType2);
        }
      };
      var parse3 = function(dimension, elementType2) {
        var array2 = [];
        var i3;
        if (dimension.length > 1) {
          var count = dimension.shift();
          for (i3 = 0; i3 < count; i3++) {
            array2[i3] = parse3(dimension, elementType2);
          }
          dimension.unshift(count);
        } else {
          for (i3 = 0; i3 < dimension[0]; i3++) {
            array2[i3] = parseElement(elementType2);
          }
        }
        return array2;
      };
      return parse3(dims, elementType);
    };
    var parseText = function(value) {
      return value.toString("utf8");
    };
    var parseBool = function(value) {
      if (value === null) return null;
      return parseBits(value, 8) > 0;
    };
    var init = function(register) {
      register(20, parseInt64);
      register(21, parseInt16);
      register(23, parseInt32);
      register(26, parseInt32);
      register(1700, parseNumeric);
      register(700, parseFloat32);
      register(701, parseFloat64);
      register(16, parseBool);
      register(1114, parseDate.bind(null, false));
      register(1184, parseDate.bind(null, true));
      register(1e3, parseArray);
      register(1007, parseArray);
      register(1016, parseArray);
      register(1008, parseArray);
      register(1009, parseArray);
      register(25, parseText);
    };
    module2.exports = {
      init
    };
  }
});

// node_modules/pg-types/lib/builtins.js
var require_builtins = __commonJS({
  "node_modules/pg-types/lib/builtins.js"(exports2, module2) {
    module2.exports = {
      BOOL: 16,
      BYTEA: 17,
      CHAR: 18,
      INT8: 20,
      INT2: 21,
      INT4: 23,
      REGPROC: 24,
      TEXT: 25,
      OID: 26,
      TID: 27,
      XID: 28,
      CID: 29,
      JSON: 114,
      XML: 142,
      PG_NODE_TREE: 194,
      SMGR: 210,
      PATH: 602,
      POLYGON: 604,
      CIDR: 650,
      FLOAT4: 700,
      FLOAT8: 701,
      ABSTIME: 702,
      RELTIME: 703,
      TINTERVAL: 704,
      CIRCLE: 718,
      MACADDR8: 774,
      MONEY: 790,
      MACADDR: 829,
      INET: 869,
      ACLITEM: 1033,
      BPCHAR: 1042,
      VARCHAR: 1043,
      DATE: 1082,
      TIME: 1083,
      TIMESTAMP: 1114,
      TIMESTAMPTZ: 1184,
      INTERVAL: 1186,
      TIMETZ: 1266,
      BIT: 1560,
      VARBIT: 1562,
      NUMERIC: 1700,
      REFCURSOR: 1790,
      REGPROCEDURE: 2202,
      REGOPER: 2203,
      REGOPERATOR: 2204,
      REGCLASS: 2205,
      REGTYPE: 2206,
      UUID: 2950,
      TXID_SNAPSHOT: 2970,
      PG_LSN: 3220,
      PG_NDISTINCT: 3361,
      PG_DEPENDENCIES: 3402,
      TSVECTOR: 3614,
      TSQUERY: 3615,
      GTSVECTOR: 3642,
      REGCONFIG: 3734,
      REGDICTIONARY: 3769,
      JSONB: 3802,
      REGNAMESPACE: 4089,
      REGROLE: 4096
    };
  }
});

// node_modules/pg-types/index.js
var require_pg_types = __commonJS({
  "node_modules/pg-types/index.js"(exports2) {
    var textParsers = require_textParsers();
    var binaryParsers = require_binaryParsers();
    var arrayParser = require_arrayParser();
    var builtinTypes = require_builtins();
    exports2.getTypeParser = getTypeParser;
    exports2.setTypeParser = setTypeParser;
    exports2.arrayParser = arrayParser;
    exports2.builtins = builtinTypes;
    var typeParsers = {
      text: {},
      binary: {}
    };
    function noParse(val) {
      return String(val);
    }
    function getTypeParser(oid, format) {
      format = format || "text";
      if (!typeParsers[format]) {
        return noParse;
      }
      return typeParsers[format][oid] || noParse;
    }
    function setTypeParser(oid, format, parseFn) {
      if (typeof format == "function") {
        parseFn = format;
        format = "text";
      }
      typeParsers[format][oid] = parseFn;
    }
    textParsers.init(function(oid, converter) {
      typeParsers.text[oid] = converter;
    });
    binaryParsers.init(function(oid, converter) {
      typeParsers.binary[oid] = converter;
    });
  }
});

// node_modules/pg/lib/defaults.js
var require_defaults = __commonJS({
  "node_modules/pg/lib/defaults.js"(exports2, module2) {
    "use strict";
    module2.exports = {
      // database host. defaults to localhost
      host: "localhost",
      // database user's name
      user: process.platform === "win32" ? process.env.USERNAME : process.env.USER,
      // name of database to connect
      database: void 0,
      // database user's password
      password: null,
      // a Postgres connection string to be used instead of setting individual connection items
      // NOTE:  Setting this value will cause it to override any other value (such as database or user) defined
      // in the defaults object.
      connectionString: void 0,
      // database port
      port: 5432,
      // number of rows to return at a time from a prepared statement's
      // portal. 0 will return all rows at once
      rows: 0,
      // binary result mode
      binary: false,
      // Connection pool options - see https://github.com/brianc/node-pg-pool
      // number of connections to use in connection pool
      // 0 will disable connection pooling
      max: 10,
      // max milliseconds a client can go unused before it is removed
      // from the pool and destroyed
      idleTimeoutMillis: 3e4,
      client_encoding: "",
      ssl: false,
      application_name: void 0,
      fallback_application_name: void 0,
      options: void 0,
      parseInputDatesAsUTC: false,
      // max milliseconds any query using this connection will execute for before timing out in error.
      // false=unlimited
      statement_timeout: false,
      // Abort any statement that waits longer than the specified duration in milliseconds while attempting to acquire a lock.
      // false=unlimited
      lock_timeout: false,
      // Terminate any session with an open transaction that has been idle for longer than the specified duration in milliseconds
      // false=unlimited
      idle_in_transaction_session_timeout: false,
      // max milliseconds to wait for query to complete (client side)
      query_timeout: false,
      connect_timeout: 0,
      keepalives: 1,
      keepalives_idle: 0
    };
    var pgTypes = require_pg_types();
    var parseBigInteger = pgTypes.getTypeParser(20, "text");
    var parseBigIntegerArray = pgTypes.getTypeParser(1016, "text");
    module2.exports.__defineSetter__("parseInt8", function(val) {
      pgTypes.setTypeParser(20, "text", val ? pgTypes.getTypeParser(23, "text") : parseBigInteger);
      pgTypes.setTypeParser(1016, "text", val ? pgTypes.getTypeParser(1007, "text") : parseBigIntegerArray);
    });
  }
});

// node_modules/pg/lib/utils.js
var require_utils = __commonJS({
  "node_modules/pg/lib/utils.js"(exports2, module2) {
    "use strict";
    var defaults2 = require_defaults();
    var util2 = require("util");
    var { isDate } = util2.types || util2;
    function escapeElement(elementRepresentation) {
      const escaped = elementRepresentation.replace(/\\/g, "\\\\").replace(/"/g, '\\"');
      return '"' + escaped + '"';
    }
    function arrayString(val) {
      let result = "{";
      for (let i2 = 0; i2 < val.length; i2++) {
        if (i2 > 0) {
          result = result + ",";
        }
        if (val[i2] === null || typeof val[i2] === "undefined") {
          result = result + "NULL";
        } else if (Array.isArray(val[i2])) {
          result = result + arrayString(val[i2]);
        } else if (ArrayBuffer.isView(val[i2])) {
          let item = val[i2];
          if (!(item instanceof Buffer)) {
            const buf = Buffer.from(item.buffer, item.byteOffset, item.byteLength);
            if (buf.length === item.byteLength) {
              item = buf;
            } else {
              item = buf.slice(item.byteOffset, item.byteOffset + item.byteLength);
            }
          }
          result += "\\\\x" + item.toString("hex");
        } else {
          result += escapeElement(prepareValue(val[i2]));
        }
      }
      result = result + "}";
      return result;
    }
    var prepareValue = function(val, seen) {
      if (val == null) {
        return null;
      }
      if (typeof val === "object") {
        if (val instanceof Buffer) {
          return val;
        }
        if (ArrayBuffer.isView(val)) {
          const buf = Buffer.from(val.buffer, val.byteOffset, val.byteLength);
          if (buf.length === val.byteLength) {
            return buf;
          }
          return buf.slice(val.byteOffset, val.byteOffset + val.byteLength);
        }
        if (isDate(val)) {
          if (defaults2.parseInputDatesAsUTC) {
            return dateToStringUTC(val);
          } else {
            return dateToString(val);
          }
        }
        if (Array.isArray(val)) {
          return arrayString(val);
        }
        return prepareObject(val, seen);
      }
      return val.toString();
    };
    function prepareObject(val, seen) {
      if (val && typeof val.toPostgres === "function") {
        seen = seen || [];
        if (seen.indexOf(val) !== -1) {
          throw new Error('circular reference detected while preparing "' + val + '" for query');
        }
        seen.push(val);
        return prepareValue(val.toPostgres(prepareValue), seen);
      }
      return JSON.stringify(val);
    }
    function dateToString(date5) {
      let offset = -date5.getTimezoneOffset();
      let year = date5.getFullYear();
      const isBCYear = year < 1;
      if (isBCYear) year = Math.abs(year) + 1;
      let ret = String(year).padStart(4, "0") + "-" + String(date5.getMonth() + 1).padStart(2, "0") + "-" + String(date5.getDate()).padStart(2, "0") + "T" + String(date5.getHours()).padStart(2, "0") + ":" + String(date5.getMinutes()).padStart(2, "0") + ":" + String(date5.getSeconds()).padStart(2, "0") + "." + String(date5.getMilliseconds()).padStart(3, "0");
      if (offset < 0) {
        ret += "-";
        offset *= -1;
      } else {
        ret += "+";
      }
      ret += String(Math.floor(offset / 60)).padStart(2, "0") + ":" + String(offset % 60).padStart(2, "0");
      if (isBCYear) ret += " BC";
      return ret;
    }
    function dateToStringUTC(date5) {
      let year = date5.getUTCFullYear();
      const isBCYear = year < 1;
      if (isBCYear) year = Math.abs(year) + 1;
      let ret = String(year).padStart(4, "0") + "-" + String(date5.getUTCMonth() + 1).padStart(2, "0") + "-" + String(date5.getUTCDate()).padStart(2, "0") + "T" + String(date5.getUTCHours()).padStart(2, "0") + ":" + String(date5.getUTCMinutes()).padStart(2, "0") + ":" + String(date5.getUTCSeconds()).padStart(2, "0") + "." + String(date5.getUTCMilliseconds()).padStart(3, "0");
      ret += "+00:00";
      if (isBCYear) ret += " BC";
      return ret;
    }
    function normalizeQueryConfig(config2, values, callback) {
      config2 = typeof config2 === "string" ? { text: config2 } : config2;
      if (values) {
        if (typeof values === "function") {
          config2.callback = values;
        } else {
          config2.values = values;
        }
      }
      if (callback) {
        config2.callback = callback;
      }
      return config2;
    }
    var escapeIdentifier2 = function(str) {
      return '"' + str.replace(/"/g, '""') + '"';
    };
    var escapeLiteral2 = function(str) {
      let hasBackslash = false;
      let escaped = "'";
      if (str == null) {
        return "''";
      }
      if (typeof str !== "string") {
        return "''";
      }
      for (let i2 = 0; i2 < str.length; i2++) {
        const c = str[i2];
        if (c === "'") {
          escaped += c + c;
        } else if (c === "\\") {
          escaped += c + c;
          hasBackslash = true;
        } else {
          escaped += c;
        }
      }
      escaped += "'";
      if (hasBackslash === true) {
        escaped = " E" + escaped;
      }
      return escaped;
    };
    module2.exports = {
      prepareValue: function prepareValueWrapper(value) {
        return prepareValue(value);
      },
      normalizeQueryConfig,
      escapeIdentifier: escapeIdentifier2,
      escapeLiteral: escapeLiteral2
    };
  }
});

// node_modules/pg/lib/crypto/utils-legacy.js
var require_utils_legacy = __commonJS({
  "node_modules/pg/lib/crypto/utils-legacy.js"(exports2, module2) {
    "use strict";
    var nodeCrypto = require("crypto");
    function md5(string4) {
      return nodeCrypto.createHash("md5").update(string4, "utf-8").digest("hex");
    }
    function postgresMd5PasswordHash(user, password, salt) {
      const inner = md5(password + user);
      const outer = md5(Buffer.concat([Buffer.from(inner), salt]));
      return "md5" + outer;
    }
    function sha256(text2) {
      return nodeCrypto.createHash("sha256").update(text2).digest();
    }
    function hashByName(hashName, text2) {
      hashName = hashName.replace(/(\D)-/, "$1");
      return nodeCrypto.createHash(hashName).update(text2).digest();
    }
    function hmacSha256(key, msg) {
      return nodeCrypto.createHmac("sha256", key).update(msg).digest();
    }
    async function deriveKey(password, salt, iterations) {
      return nodeCrypto.pbkdf2Sync(password, salt, iterations, 32, "sha256");
    }
    module2.exports = {
      postgresMd5PasswordHash,
      randomBytes: nodeCrypto.randomBytes,
      deriveKey,
      sha256,
      hashByName,
      hmacSha256,
      md5
    };
  }
});

// node_modules/pg/lib/crypto/utils-webcrypto.js
var require_utils_webcrypto = __commonJS({
  "node_modules/pg/lib/crypto/utils-webcrypto.js"(exports2, module2) {
    var nodeCrypto = require("crypto");
    module2.exports = {
      postgresMd5PasswordHash,
      randomBytes,
      deriveKey,
      sha256,
      hashByName,
      hmacSha256,
      md5
    };
    var webCrypto = nodeCrypto.webcrypto || globalThis.crypto;
    var subtleCrypto = webCrypto.subtle;
    var textEncoder = new TextEncoder();
    function randomBytes(length) {
      return webCrypto.getRandomValues(Buffer.alloc(length));
    }
    async function md5(string4) {
      try {
        return nodeCrypto.createHash("md5").update(string4, "utf-8").digest("hex");
      } catch (e2) {
        const data = typeof string4 === "string" ? textEncoder.encode(string4) : string4;
        const hash2 = await subtleCrypto.digest("MD5", data);
        return Array.from(new Uint8Array(hash2)).map((b) => b.toString(16).padStart(2, "0")).join("");
      }
    }
    async function postgresMd5PasswordHash(user, password, salt) {
      const inner = await md5(password + user);
      const outer = await md5(Buffer.concat([Buffer.from(inner), salt]));
      return "md5" + outer;
    }
    async function sha256(text2) {
      return await subtleCrypto.digest("SHA-256", text2);
    }
    async function hashByName(hashName, text2) {
      return await subtleCrypto.digest(hashName, text2);
    }
    async function hmacSha256(keyBuffer, msg) {
      const key = await subtleCrypto.importKey("raw", keyBuffer, { name: "HMAC", hash: "SHA-256" }, false, ["sign"]);
      return await subtleCrypto.sign("HMAC", key, textEncoder.encode(msg));
    }
    async function deriveKey(password, salt, iterations) {
      const key = await subtleCrypto.importKey("raw", textEncoder.encode(password), "PBKDF2", false, ["deriveBits"]);
      const params = { name: "PBKDF2", hash: "SHA-256", salt, iterations };
      return await subtleCrypto.deriveBits(params, key, 32 * 8, ["deriveBits"]);
    }
  }
});

// node_modules/pg/lib/crypto/utils.js
var require_utils2 = __commonJS({
  "node_modules/pg/lib/crypto/utils.js"(exports2, module2) {
    "use strict";
    var useLegacyCrypto = parseInt(process.versions && process.versions.node && process.versions.node.split(".")[0]) < 15;
    if (useLegacyCrypto) {
      module2.exports = require_utils_legacy();
    } else {
      module2.exports = require_utils_webcrypto();
    }
  }
});

// node_modules/pg/lib/crypto/cert-signatures.js
var require_cert_signatures = __commonJS({
  "node_modules/pg/lib/crypto/cert-signatures.js"(exports2, module2) {
    function x509Error(msg, cert) {
      return new Error("SASL channel binding: " + msg + " when parsing public certificate " + cert.toString("base64"));
    }
    function readASN1Length(data, index) {
      let length = data[index++];
      if (length < 128) return { length, index };
      const lengthBytes = length & 127;
      if (lengthBytes > 4) throw x509Error("bad length", data);
      length = 0;
      for (let i2 = 0; i2 < lengthBytes; i2++) {
        length = length << 8 | data[index++];
      }
      return { length, index };
    }
    function readASN1OID(data, index) {
      if (data[index++] !== 6) throw x509Error("non-OID data", data);
      const { length: OIDLength, index: indexAfterOIDLength } = readASN1Length(data, index);
      index = indexAfterOIDLength;
      const lastIndex = index + OIDLength;
      const byte1 = data[index++];
      let oid = (byte1 / 40 >> 0) + "." + byte1 % 40;
      while (index < lastIndex) {
        let value = 0;
        while (index < lastIndex) {
          const nextByte = data[index++];
          value = value << 7 | nextByte & 127;
          if (nextByte < 128) break;
        }
        oid += "." + value;
      }
      return { oid, index };
    }
    function expectASN1Seq(data, index) {
      if (data[index++] !== 48) throw x509Error("non-sequence data", data);
      return readASN1Length(data, index);
    }
    function signatureAlgorithmHashFromCertificate(data, index) {
      if (index === void 0) index = 0;
      index = expectASN1Seq(data, index).index;
      const { length: certInfoLength, index: indexAfterCertInfoLength } = expectASN1Seq(data, index);
      index = indexAfterCertInfoLength + certInfoLength;
      index = expectASN1Seq(data, index).index;
      const { oid, index: indexAfterOID } = readASN1OID(data, index);
      switch (oid) {
        // RSA
        case "1.2.840.113549.1.1.4":
          return "MD5";
        case "1.2.840.113549.1.1.5":
          return "SHA-1";
        case "1.2.840.113549.1.1.11":
          return "SHA-256";
        case "1.2.840.113549.1.1.12":
          return "SHA-384";
        case "1.2.840.113549.1.1.13":
          return "SHA-512";
        case "1.2.840.113549.1.1.14":
          return "SHA-224";
        case "1.2.840.113549.1.1.15":
          return "SHA512-224";
        case "1.2.840.113549.1.1.16":
          return "SHA512-256";
        // ECDSA
        case "1.2.840.10045.4.1":
          return "SHA-1";
        case "1.2.840.10045.4.3.1":
          return "SHA-224";
        case "1.2.840.10045.4.3.2":
          return "SHA-256";
        case "1.2.840.10045.4.3.3":
          return "SHA-384";
        case "1.2.840.10045.4.3.4":
          return "SHA-512";
        // RSASSA-PSS: hash is indicated separately
        case "1.2.840.113549.1.1.10": {
          index = indexAfterOID;
          index = expectASN1Seq(data, index).index;
          if (data[index++] !== 160) throw x509Error("non-tag data", data);
          index = readASN1Length(data, index).index;
          index = expectASN1Seq(data, index).index;
          const { oid: hashOID } = readASN1OID(data, index);
          switch (hashOID) {
            // standalone hash OIDs
            case "1.2.840.113549.2.5":
              return "MD5";
            case "1.3.14.3.2.26":
              return "SHA-1";
            case "2.16.840.1.101.3.4.2.1":
              return "SHA-256";
            case "2.16.840.1.101.3.4.2.2":
              return "SHA-384";
            case "2.16.840.1.101.3.4.2.3":
              return "SHA-512";
          }
          throw x509Error("unknown hash OID " + hashOID, data);
        }
        // Ed25519 -- see https: return//github.com/openssl/openssl/issues/15477
        case "1.3.101.110":
        case "1.3.101.112":
          return "SHA-512";
        // Ed448 -- still not in pg 17.2 (if supported, digest would be SHAKE256 x 64 bytes)
        case "1.3.101.111":
        case "1.3.101.113":
          throw x509Error("Ed448 certificate channel binding is not currently supported by Postgres");
      }
      throw x509Error("unknown OID " + oid, data);
    }
    module2.exports = { signatureAlgorithmHashFromCertificate };
  }
});

// node_modules/pg/lib/crypto/sasl.js
var require_sasl = __commonJS({
  "node_modules/pg/lib/crypto/sasl.js"(exports2, module2) {
    "use strict";
    var crypto = require_utils2();
    var { signatureAlgorithmHashFromCertificate } = require_cert_signatures();
    function startSession(mechanisms, stream) {
      const candidates = ["SCRAM-SHA-256"];
      if (stream) candidates.unshift("SCRAM-SHA-256-PLUS");
      const mechanism = candidates.find((candidate) => mechanisms.includes(candidate));
      if (!mechanism) {
        throw new Error("SASL: Only mechanism(s) " + candidates.join(" and ") + " are supported");
      }
      if (mechanism === "SCRAM-SHA-256-PLUS" && typeof stream.getPeerCertificate !== "function") {
        throw new Error("SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate");
      }
      const clientNonce = crypto.randomBytes(18).toString("base64");
      const gs2Header = mechanism === "SCRAM-SHA-256-PLUS" ? "p=tls-server-end-point" : stream ? "y" : "n";
      return {
        mechanism,
        clientNonce,
        response: gs2Header + ",,n=*,r=" + clientNonce,
        message: "SASLInitialResponse"
      };
    }
    async function continueSession(session, password, serverData, stream) {
      if (session.message !== "SASLInitialResponse") {
        throw new Error("SASL: Last message was not SASLInitialResponse");
      }
      if (typeof password !== "string") {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");
      }
      if (password === "") {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");
      }
      if (typeof serverData !== "string") {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");
      }
      const sv = parseServerFirstMessage(serverData);
      if (!sv.nonce.startsWith(session.clientNonce)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");
      } else if (sv.nonce.length === session.clientNonce.length) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");
      }
      const clientFirstMessageBare = "n=*,r=" + session.clientNonce;
      const serverFirstMessage = "r=" + sv.nonce + ",s=" + sv.salt + ",i=" + sv.iteration;
      let channelBinding = stream ? "eSws" : "biws";
      if (session.mechanism === "SCRAM-SHA-256-PLUS") {
        const peerCert = stream.getPeerCertificate().raw;
        let hashName = signatureAlgorithmHashFromCertificate(peerCert);
        if (hashName === "MD5" || hashName === "SHA-1") hashName = "SHA-256";
        const certHash = await crypto.hashByName(hashName, peerCert);
        const bindingData = Buffer.concat([Buffer.from("p=tls-server-end-point,,"), Buffer.from(certHash)]);
        channelBinding = bindingData.toString("base64");
      }
      const clientFinalMessageWithoutProof = "c=" + channelBinding + ",r=" + sv.nonce;
      const authMessage = clientFirstMessageBare + "," + serverFirstMessage + "," + clientFinalMessageWithoutProof;
      const saltBytes = Buffer.from(sv.salt, "base64");
      const saltedPassword = await crypto.deriveKey(password, saltBytes, sv.iteration);
      const clientKey = await crypto.hmacSha256(saltedPassword, "Client Key");
      const storedKey = await crypto.sha256(clientKey);
      const clientSignature = await crypto.hmacSha256(storedKey, authMessage);
      const clientProof = xorBuffers(Buffer.from(clientKey), Buffer.from(clientSignature)).toString("base64");
      const serverKey = await crypto.hmacSha256(saltedPassword, "Server Key");
      const serverSignatureBytes = await crypto.hmacSha256(serverKey, authMessage);
      session.message = "SASLResponse";
      session.serverSignature = Buffer.from(serverSignatureBytes).toString("base64");
      session.response = clientFinalMessageWithoutProof + ",p=" + clientProof;
    }
    function finalizeSession(session, serverData) {
      if (session.message !== "SASLResponse") {
        throw new Error("SASL: Last message was not SASLResponse");
      }
      if (typeof serverData !== "string") {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");
      }
      const { serverSignature } = parseServerFinalMessage(serverData);
      if (serverSignature !== session.serverSignature) {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match");
      }
    }
    function isPrintableChars(text2) {
      if (typeof text2 !== "string") {
        throw new TypeError("SASL: text must be a string");
      }
      return text2.split("").map((_, i2) => text2.charCodeAt(i2)).every((c) => c >= 33 && c <= 43 || c >= 45 && c <= 126);
    }
    function isBase64(text2) {
      return /^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(text2);
    }
    function parseAttributePairs(text2) {
      if (typeof text2 !== "string") {
        throw new TypeError("SASL: attribute pairs text must be a string");
      }
      return new Map(
        text2.split(",").map((attrValue) => {
          if (!/^.=/.test(attrValue)) {
            throw new Error("SASL: Invalid attribute pair entry");
          }
          const name17 = attrValue[0];
          const value = attrValue.substring(2);
          return [name17, value];
        })
      );
    }
    function parseServerFirstMessage(data) {
      const attrPairs = parseAttributePairs(data);
      const nonce = attrPairs.get("r");
      if (!nonce) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");
      } else if (!isPrintableChars(nonce)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters");
      }
      const salt = attrPairs.get("s");
      if (!salt) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");
      } else if (!isBase64(salt)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64");
      }
      const iterationText = attrPairs.get("i");
      if (!iterationText) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");
      } else if (!/^[1-9][0-9]*$/.test(iterationText)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count");
      }
      const iteration = parseInt(iterationText, 10);
      return {
        nonce,
        salt,
        iteration
      };
    }
    function parseServerFinalMessage(serverData) {
      const attrPairs = parseAttributePairs(serverData);
      const serverSignature = attrPairs.get("v");
      if (!serverSignature) {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");
      } else if (!isBase64(serverSignature)) {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64");
      }
      return {
        serverSignature
      };
    }
    function xorBuffers(a2, b) {
      if (!Buffer.isBuffer(a2)) {
        throw new TypeError("first argument must be a Buffer");
      }
      if (!Buffer.isBuffer(b)) {
        throw new TypeError("second argument must be a Buffer");
      }
      if (a2.length !== b.length) {
        throw new Error("Buffer lengths must match");
      }
      if (a2.length === 0) {
        throw new Error("Buffers cannot be empty");
      }
      return Buffer.from(a2.map((_, i2) => a2[i2] ^ b[i2]));
    }
    module2.exports = {
      startSession,
      continueSession,
      finalizeSession
    };
  }
});

// node_modules/pg/lib/type-overrides.js
var require_type_overrides = __commonJS({
  "node_modules/pg/lib/type-overrides.js"(exports2, module2) {
    "use strict";
    var types2 = require_pg_types();
    function TypeOverrides2(userTypes) {
      this._types = userTypes || types2;
      this.text = {};
      this.binary = {};
    }
    TypeOverrides2.prototype.getOverrides = function(format) {
      switch (format) {
        case "text":
          return this.text;
        case "binary":
          return this.binary;
        default:
          return {};
      }
    };
    TypeOverrides2.prototype.setTypeParser = function(oid, format, parseFn) {
      if (typeof format === "function") {
        parseFn = format;
        format = "text";
      }
      this.getOverrides(format)[oid] = parseFn;
    };
    TypeOverrides2.prototype.getTypeParser = function(oid, format) {
      format = format || "text";
      return this.getOverrides(format)[oid] || this._types.getTypeParser(oid, format);
    };
    module2.exports = TypeOverrides2;
  }
});

// node_modules/pg-connection-string/index.js
var require_pg_connection_string = __commonJS({
  "node_modules/pg-connection-string/index.js"(exports2, module2) {
    "use strict";
    function parse3(str, options = {}) {
      if (str.charAt(0) === "/") {
        const config3 = str.split(" ");
        return { host: config3[0], database: config3[1] };
      }
      const config2 = {};
      let result;
      let dummyHost = false;
      if (/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(str)) {
        str = encodeURI(str).replace(/%25(\d\d)/g, "%$1");
      }
      try {
        try {
          result = new URL(str, "postgres://base");
        } catch (e2) {
          result = new URL(str.replace("@/", "@___DUMMY___/"), "postgres://base");
          dummyHost = true;
        }
      } catch (err) {
        err.input && (err.input = "*****REDACTED*****");
      }
      for (const entry of result.searchParams.entries()) {
        config2[entry[0]] = entry[1];
      }
      config2.user = config2.user || decodeURIComponent(result.username);
      config2.password = config2.password || decodeURIComponent(result.password);
      if (result.protocol == "socket:") {
        config2.host = decodeURI(result.pathname);
        config2.database = result.searchParams.get("db");
        config2.client_encoding = result.searchParams.get("encoding");
        return config2;
      }
      const hostname3 = dummyHost ? "" : result.hostname;
      if (!config2.host) {
        config2.host = decodeURIComponent(hostname3);
      } else if (hostname3 && /^%2f/i.test(hostname3)) {
        result.pathname = hostname3 + result.pathname;
      }
      if (!config2.port) {
        config2.port = result.port;
      }
      const pathname = result.pathname.slice(1) || null;
      config2.database = pathname ? decodeURI(pathname) : null;
      if (config2.ssl === "true" || config2.ssl === "1") {
        config2.ssl = true;
      }
      if (config2.ssl === "0") {
        config2.ssl = false;
      }
      if (config2.sslcert || config2.sslkey || config2.sslrootcert || config2.sslmode) {
        config2.ssl = {};
      }
      const fs = config2.sslcert || config2.sslkey || config2.sslrootcert ? require("fs") : null;
      if (config2.sslcert) {
        config2.ssl.cert = fs.readFileSync(config2.sslcert).toString();
      }
      if (config2.sslkey) {
        config2.ssl.key = fs.readFileSync(config2.sslkey).toString();
      }
      if (config2.sslrootcert) {
        config2.ssl.ca = fs.readFileSync(config2.sslrootcert).toString();
      }
      if (options.useLibpqCompat && config2.uselibpqcompat) {
        throw new Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");
      }
      if (config2.uselibpqcompat === "true" || options.useLibpqCompat) {
        switch (config2.sslmode) {
          case "disable": {
            config2.ssl = false;
            break;
          }
          case "prefer": {
            config2.ssl.rejectUnauthorized = false;
            break;
          }
          case "require": {
            if (config2.sslrootcert) {
              config2.ssl.checkServerIdentity = function() {
              };
            } else {
              config2.ssl.rejectUnauthorized = false;
            }
            break;
          }
          case "verify-ca": {
            if (!config2.ssl.ca) {
              throw new Error(
                "SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security."
              );
            }
            config2.ssl.checkServerIdentity = function() {
            };
            break;
          }
          case "verify-full": {
            break;
          }
        }
      } else {
        switch (config2.sslmode) {
          case "disable": {
            config2.ssl = false;
            break;
          }
          case "prefer":
          case "require":
          case "verify-ca":
          case "verify-full": {
            break;
          }
          case "no-verify": {
            config2.ssl.rejectUnauthorized = false;
            break;
          }
        }
      }
      return config2;
    }
    function toConnectionOptions(sslConfig) {
      const connectionOptions = Object.entries(sslConfig).reduce((c, [key, value]) => {
        if (value !== void 0 && value !== null) {
          c[key] = value;
        }
        return c;
      }, {});
      return connectionOptions;
    }
    function toClientConfig(config2) {
      const poolConfig = Object.entries(config2).reduce((c, [key, value]) => {
        if (key === "ssl") {
          const sslConfig = value;
          if (typeof sslConfig === "boolean") {
            c[key] = sslConfig;
          }
          if (typeof sslConfig === "object") {
            c[key] = toConnectionOptions(sslConfig);
          }
        } else if (value !== void 0 && value !== null) {
          if (key === "port") {
            if (value !== "") {
              const v = parseInt(value, 10);
              if (isNaN(v)) {
                throw new Error(`Invalid ${key}: ${value}`);
              }
              c[key] = v;
            }
          } else {
            c[key] = value;
          }
        }
        return c;
      }, {});
      return poolConfig;
    }
    function parseIntoClientConfig(str) {
      return toClientConfig(parse3(str));
    }
    module2.exports = parse3;
    parse3.parse = parse3;
    parse3.toClientConfig = toClientConfig;
    parse3.parseIntoClientConfig = parseIntoClientConfig;
  }
});

// node_modules/pg/lib/connection-parameters.js
var require_connection_parameters = __commonJS({
  "node_modules/pg/lib/connection-parameters.js"(exports2, module2) {
    "use strict";
    var dns = require("dns");
    var defaults2 = require_defaults();
    var parse3 = require_pg_connection_string().parse;
    var val = function(key, config2, envVar) {
      if (envVar === void 0) {
        envVar = process.env["PG" + key.toUpperCase()];
      } else if (envVar === false) {
      } else {
        envVar = process.env[envVar];
      }
      return config2[key] || envVar || defaults2[key];
    };
    var readSSLConfigFromEnvironment = function() {
      switch (process.env.PGSSLMODE) {
        case "disable":
          return false;
        case "prefer":
        case "require":
        case "verify-ca":
        case "verify-full":
          return true;
        case "no-verify":
          return { rejectUnauthorized: false };
      }
      return defaults2.ssl;
    };
    var quoteParamValue = function(value) {
      return "'" + ("" + value).replace(/\\/g, "\\\\").replace(/'/g, "\\'") + "'";
    };
    var add = function(params, config2, paramName) {
      const value = config2[paramName];
      if (value !== void 0 && value !== null) {
        params.push(paramName + "=" + quoteParamValue(value));
      }
    };
    var ConnectionParameters = class {
      constructor(config2) {
        config2 = typeof config2 === "string" ? parse3(config2) : config2 || {};
        if (config2.connectionString) {
          config2 = Object.assign({}, config2, parse3(config2.connectionString));
        }
        this.user = val("user", config2);
        this.database = val("database", config2);
        if (this.database === void 0) {
          this.database = this.user;
        }
        this.port = parseInt(val("port", config2), 10);
        this.host = val("host", config2);
        Object.defineProperty(this, "password", {
          configurable: true,
          enumerable: false,
          writable: true,
          value: val("password", config2)
        });
        this.binary = val("binary", config2);
        this.options = val("options", config2);
        this.ssl = typeof config2.ssl === "undefined" ? readSSLConfigFromEnvironment() : config2.ssl;
        if (typeof this.ssl === "string") {
          if (this.ssl === "true") {
            this.ssl = true;
          }
        }
        if (this.ssl === "no-verify") {
          this.ssl = { rejectUnauthorized: false };
        }
        if (this.ssl && this.ssl.key) {
          Object.defineProperty(this.ssl, "key", {
            enumerable: false
          });
        }
        this.client_encoding = val("client_encoding", config2);
        this.replication = val("replication", config2);
        this.isDomainSocket = !(this.host || "").indexOf("/");
        this.application_name = val("application_name", config2, "PGAPPNAME");
        this.fallback_application_name = val("fallback_application_name", config2, false);
        this.statement_timeout = val("statement_timeout", config2, false);
        this.lock_timeout = val("lock_timeout", config2, false);
        this.idle_in_transaction_session_timeout = val("idle_in_transaction_session_timeout", config2, false);
        this.query_timeout = val("query_timeout", config2, false);
        if (config2.connectionTimeoutMillis === void 0) {
          this.connect_timeout = process.env.PGCONNECT_TIMEOUT || 0;
        } else {
          this.connect_timeout = Math.floor(config2.connectionTimeoutMillis / 1e3);
        }
        if (config2.keepAlive === false) {
          this.keepalives = 0;
        } else if (config2.keepAlive === true) {
          this.keepalives = 1;
        }
        if (typeof config2.keepAliveInitialDelayMillis === "number") {
          this.keepalives_idle = Math.floor(config2.keepAliveInitialDelayMillis / 1e3);
        }
      }
      getLibpqConnectionString(cb) {
        const params = [];
        add(params, this, "user");
        add(params, this, "password");
        add(params, this, "port");
        add(params, this, "application_name");
        add(params, this, "fallback_application_name");
        add(params, this, "connect_timeout");
        add(params, this, "options");
        const ssl = typeof this.ssl === "object" ? this.ssl : this.ssl ? { sslmode: this.ssl } : {};
        add(params, ssl, "sslmode");
        add(params, ssl, "sslca");
        add(params, ssl, "sslkey");
        add(params, ssl, "sslcert");
        add(params, ssl, "sslrootcert");
        if (this.database) {
          params.push("dbname=" + quoteParamValue(this.database));
        }
        if (this.replication) {
          params.push("replication=" + quoteParamValue(this.replication));
        }
        if (this.host) {
          params.push("host=" + quoteParamValue(this.host));
        }
        if (this.isDomainSocket) {
          return cb(null, params.join(" "));
        }
        if (this.client_encoding) {
          params.push("client_encoding=" + quoteParamValue(this.client_encoding));
        }
        dns.lookup(this.host, function(err, address) {
          if (err) return cb(err, null);
          params.push("hostaddr=" + quoteParamValue(address));
          return cb(null, params.join(" "));
        });
      }
    };
    module2.exports = ConnectionParameters;
  }
});

// node_modules/pg/lib/result.js
var require_result = __commonJS({
  "node_modules/pg/lib/result.js"(exports2, module2) {
    "use strict";
    var types2 = require_pg_types();
    var matchRegexp = /^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;
    var Result2 = class {
      constructor(rowMode, types3) {
        this.command = null;
        this.rowCount = null;
        this.oid = null;
        this.rows = [];
        this.fields = [];
        this._parsers = void 0;
        this._types = types3;
        this.RowCtor = null;
        this.rowAsArray = rowMode === "array";
        if (this.rowAsArray) {
          this.parseRow = this._parseRowAsArray;
        }
        this._prebuiltEmptyResultObject = null;
      }
      // adds a command complete message
      addCommandComplete(msg) {
        let match;
        if (msg.text) {
          match = matchRegexp.exec(msg.text);
        } else {
          match = matchRegexp.exec(msg.command);
        }
        if (match) {
          this.command = match[1];
          if (match[3]) {
            this.oid = parseInt(match[2], 10);
            this.rowCount = parseInt(match[3], 10);
          } else if (match[2]) {
            this.rowCount = parseInt(match[2], 10);
          }
        }
      }
      _parseRowAsArray(rowData) {
        const row = new Array(rowData.length);
        for (let i2 = 0, len = rowData.length; i2 < len; i2++) {
          const rawValue = rowData[i2];
          if (rawValue !== null) {
            row[i2] = this._parsers[i2](rawValue);
          } else {
            row[i2] = null;
          }
        }
        return row;
      }
      parseRow(rowData) {
        const row = { ...this._prebuiltEmptyResultObject };
        for (let i2 = 0, len = rowData.length; i2 < len; i2++) {
          const rawValue = rowData[i2];
          const field = this.fields[i2].name;
          if (rawValue !== null) {
            const v = this.fields[i2].format === "binary" ? Buffer.from(rawValue) : rawValue;
            row[field] = this._parsers[i2](v);
          } else {
            row[field] = null;
          }
        }
        return row;
      }
      addRow(row) {
        this.rows.push(row);
      }
      addFields(fieldDescriptions) {
        this.fields = fieldDescriptions;
        if (this.fields.length) {
          this._parsers = new Array(fieldDescriptions.length);
        }
        const row = {};
        for (let i2 = 0; i2 < fieldDescriptions.length; i2++) {
          const desc = fieldDescriptions[i2];
          row[desc.name] = null;
          if (this._types) {
            this._parsers[i2] = this._types.getTypeParser(desc.dataTypeID, desc.format || "text");
          } else {
            this._parsers[i2] = types2.getTypeParser(desc.dataTypeID, desc.format || "text");
          }
        }
        this._prebuiltEmptyResultObject = { ...row };
      }
    };
    module2.exports = Result2;
  }
});

// node_modules/pg/lib/query.js
var require_query = __commonJS({
  "node_modules/pg/lib/query.js"(exports2, module2) {
    "use strict";
    var { EventEmitter } = require("events");
    var Result2 = require_result();
    var utils = require_utils();
    var Query2 = class extends EventEmitter {
      constructor(config2, values, callback) {
        super();
        config2 = utils.normalizeQueryConfig(config2, values, callback);
        this.text = config2.text;
        this.values = config2.values;
        this.rows = config2.rows;
        this.types = config2.types;
        this.name = config2.name;
        this.queryMode = config2.queryMode;
        this.binary = config2.binary;
        this.portal = config2.portal || "";
        this.callback = config2.callback;
        this._rowMode = config2.rowMode;
        if (process.domain && config2.callback) {
          this.callback = process.domain.bind(config2.callback);
        }
        this._result = new Result2(this._rowMode, this.types);
        this._results = this._result;
        this._canceledDueToError = false;
      }
      requiresPreparation() {
        if (this.queryMode === "extended") {
          return true;
        }
        if (this.name) {
          return true;
        }
        if (this.rows) {
          return true;
        }
        if (!this.text) {
          return false;
        }
        if (!this.values) {
          return false;
        }
        return this.values.length > 0;
      }
      _checkForMultirow() {
        if (this._result.command) {
          if (!Array.isArray(this._results)) {
            this._results = [this._result];
          }
          this._result = new Result2(this._rowMode, this._result._types);
          this._results.push(this._result);
        }
      }
      // associates row metadata from the supplied
      // message with this query object
      // metadata used when parsing row results
      handleRowDescription(msg) {
        this._checkForMultirow();
        this._result.addFields(msg.fields);
        this._accumulateRows = this.callback || !this.listeners("row").length;
      }
      handleDataRow(msg) {
        let row;
        if (this._canceledDueToError) {
          return;
        }
        try {
          row = this._result.parseRow(msg.fields);
        } catch (err) {
          this._canceledDueToError = err;
          return;
        }
        this.emit("row", row, this._result);
        if (this._accumulateRows) {
          this._result.addRow(row);
        }
      }
      handleCommandComplete(msg, connection) {
        this._checkForMultirow();
        this._result.addCommandComplete(msg);
        if (this.rows) {
          connection.sync();
        }
      }
      // if a named prepared statement is created with empty query text
      // the backend will send an emptyQuery message but *not* a command complete message
      // since we pipeline sync immediately after execute we don't need to do anything here
      // unless we have rows specified, in which case we did not pipeline the initial sync call
      handleEmptyQuery(connection) {
        if (this.rows) {
          connection.sync();
        }
      }
      handleError(err, connection) {
        if (this._canceledDueToError) {
          err = this._canceledDueToError;
          this._canceledDueToError = false;
        }
        if (this.callback) {
          return this.callback(err);
        }
        this.emit("error", err);
      }
      handleReadyForQuery(con) {
        if (this._canceledDueToError) {
          return this.handleError(this._canceledDueToError, con);
        }
        if (this.callback) {
          try {
            this.callback(null, this._results);
          } catch (err) {
            process.nextTick(() => {
              throw err;
            });
          }
        }
        this.emit("end", this._results);
      }
      submit(connection) {
        if (typeof this.text !== "string" && typeof this.name !== "string") {
          return new Error("A query must have either text or a name. Supplying neither is unsupported.");
        }
        const previous = connection.parsedStatements[this.name];
        if (this.text && previous && this.text !== previous) {
          return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);
        }
        if (this.values && !Array.isArray(this.values)) {
          return new Error("Query values must be an array");
        }
        if (this.requiresPreparation()) {
          connection.stream.cork && connection.stream.cork();
          try {
            this.prepare(connection);
          } finally {
            connection.stream.uncork && connection.stream.uncork();
          }
        } else {
          connection.query(this.text);
        }
        return null;
      }
      hasBeenParsed(connection) {
        return this.name && connection.parsedStatements[this.name];
      }
      handlePortalSuspended(connection) {
        this._getRows(connection, this.rows);
      }
      _getRows(connection, rows) {
        connection.execute({
          portal: this.portal,
          rows
        });
        if (!rows) {
          connection.sync();
        } else {
          connection.flush();
        }
      }
      // http://developer.postgresql.org/pgdocs/postgres/protocol-flow.html#PROTOCOL-FLOW-EXT-QUERY
      prepare(connection) {
        if (!this.hasBeenParsed(connection)) {
          connection.parse({
            text: this.text,
            name: this.name,
            types: this.types
          });
        }
        try {
          connection.bind({
            portal: this.portal,
            statement: this.name,
            values: this.values,
            binary: this.binary,
            valueMapper: utils.prepareValue
          });
        } catch (err) {
          this.handleError(err, connection);
          return;
        }
        connection.describe({
          type: "P",
          name: this.portal || ""
        });
        this._getRows(connection, this.rows);
      }
      handleCopyInResponse(connection) {
        connection.sendCopyFail("No source stream defined");
      }
      handleCopyData(msg, connection) {
      }
    };
    module2.exports = Query2;
  }
});

// node_modules/pg-protocol/dist/messages.js
var require_messages = __commonJS({
  "node_modules/pg-protocol/dist/messages.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.NoticeMessage = exports2.DataRowMessage = exports2.CommandCompleteMessage = exports2.ReadyForQueryMessage = exports2.NotificationResponseMessage = exports2.BackendKeyDataMessage = exports2.AuthenticationMD5Password = exports2.ParameterStatusMessage = exports2.ParameterDescriptionMessage = exports2.RowDescriptionMessage = exports2.Field = exports2.CopyResponse = exports2.CopyDataMessage = exports2.DatabaseError = exports2.copyDone = exports2.emptyQuery = exports2.replicationStart = exports2.portalSuspended = exports2.noData = exports2.closeComplete = exports2.bindComplete = exports2.parseComplete = void 0;
    exports2.parseComplete = {
      name: "parseComplete",
      length: 5
    };
    exports2.bindComplete = {
      name: "bindComplete",
      length: 5
    };
    exports2.closeComplete = {
      name: "closeComplete",
      length: 5
    };
    exports2.noData = {
      name: "noData",
      length: 5
    };
    exports2.portalSuspended = {
      name: "portalSuspended",
      length: 5
    };
    exports2.replicationStart = {
      name: "replicationStart",
      length: 4
    };
    exports2.emptyQuery = {
      name: "emptyQuery",
      length: 4
    };
    exports2.copyDone = {
      name: "copyDone",
      length: 4
    };
    var DatabaseError2 = class extends Error {
      constructor(message, length, name17) {
        super(message);
        this.length = length;
        this.name = name17;
      }
    };
    exports2.DatabaseError = DatabaseError2;
    var CopyDataMessage = class {
      constructor(length, chunk) {
        this.length = length;
        this.chunk = chunk;
        this.name = "copyData";
      }
    };
    exports2.CopyDataMessage = CopyDataMessage;
    var CopyResponse = class {
      constructor(length, name17, binary, columnCount) {
        this.length = length;
        this.name = name17;
        this.binary = binary;
        this.columnTypes = new Array(columnCount);
      }
    };
    exports2.CopyResponse = CopyResponse;
    var Field = class {
      constructor(name17, tableID, columnID, dataTypeID, dataTypeSize, dataTypeModifier, format) {
        this.name = name17;
        this.tableID = tableID;
        this.columnID = columnID;
        this.dataTypeID = dataTypeID;
        this.dataTypeSize = dataTypeSize;
        this.dataTypeModifier = dataTypeModifier;
        this.format = format;
      }
    };
    exports2.Field = Field;
    var RowDescriptionMessage = class {
      constructor(length, fieldCount) {
        this.length = length;
        this.fieldCount = fieldCount;
        this.name = "rowDescription";
        this.fields = new Array(this.fieldCount);
      }
    };
    exports2.RowDescriptionMessage = RowDescriptionMessage;
    var ParameterDescriptionMessage = class {
      constructor(length, parameterCount) {
        this.length = length;
        this.parameterCount = parameterCount;
        this.name = "parameterDescription";
        this.dataTypeIDs = new Array(this.parameterCount);
      }
    };
    exports2.ParameterDescriptionMessage = ParameterDescriptionMessage;
    var ParameterStatusMessage = class {
      constructor(length, parameterName, parameterValue) {
        this.length = length;
        this.parameterName = parameterName;
        this.parameterValue = parameterValue;
        this.name = "parameterStatus";
      }
    };
    exports2.ParameterStatusMessage = ParameterStatusMessage;
    var AuthenticationMD5Password = class {
      constructor(length, salt) {
        this.length = length;
        this.salt = salt;
        this.name = "authenticationMD5Password";
      }
    };
    exports2.AuthenticationMD5Password = AuthenticationMD5Password;
    var BackendKeyDataMessage = class {
      constructor(length, processID, secretKey) {
        this.length = length;
        this.processID = processID;
        this.secretKey = secretKey;
        this.name = "backendKeyData";
      }
    };
    exports2.BackendKeyDataMessage = BackendKeyDataMessage;
    var NotificationResponseMessage = class {
      constructor(length, processId, channel, payload) {
        this.length = length;
        this.processId = processId;
        this.channel = channel;
        this.payload = payload;
        this.name = "notification";
      }
    };
    exports2.NotificationResponseMessage = NotificationResponseMessage;
    var ReadyForQueryMessage = class {
      constructor(length, status) {
        this.length = length;
        this.status = status;
        this.name = "readyForQuery";
      }
    };
    exports2.ReadyForQueryMessage = ReadyForQueryMessage;
    var CommandCompleteMessage = class {
      constructor(length, text2) {
        this.length = length;
        this.text = text2;
        this.name = "commandComplete";
      }
    };
    exports2.CommandCompleteMessage = CommandCompleteMessage;
    var DataRowMessage = class {
      constructor(length, fields) {
        this.length = length;
        this.fields = fields;
        this.name = "dataRow";
        this.fieldCount = fields.length;
      }
    };
    exports2.DataRowMessage = DataRowMessage;
    var NoticeMessage = class {
      constructor(length, message) {
        this.length = length;
        this.message = message;
        this.name = "notice";
      }
    };
    exports2.NoticeMessage = NoticeMessage;
  }
});

// node_modules/pg-protocol/dist/buffer-writer.js
var require_buffer_writer = __commonJS({
  "node_modules/pg-protocol/dist/buffer-writer.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.Writer = void 0;
    var Writer = class {
      constructor(size = 256) {
        this.size = size;
        this.offset = 5;
        this.headerPosition = 0;
        this.buffer = Buffer.allocUnsafe(size);
      }
      ensure(size) {
        const remaining = this.buffer.length - this.offset;
        if (remaining < size) {
          const oldBuffer = this.buffer;
          const newSize = oldBuffer.length + (oldBuffer.length >> 1) + size;
          this.buffer = Buffer.allocUnsafe(newSize);
          oldBuffer.copy(this.buffer);
        }
      }
      addInt32(num) {
        this.ensure(4);
        this.buffer[this.offset++] = num >>> 24 & 255;
        this.buffer[this.offset++] = num >>> 16 & 255;
        this.buffer[this.offset++] = num >>> 8 & 255;
        this.buffer[this.offset++] = num >>> 0 & 255;
        return this;
      }
      addInt16(num) {
        this.ensure(2);
        this.buffer[this.offset++] = num >>> 8 & 255;
        this.buffer[this.offset++] = num >>> 0 & 255;
        return this;
      }
      addCString(string4) {
        if (!string4) {
          this.ensure(1);
        } else {
          const len = Buffer.byteLength(string4);
          this.ensure(len + 1);
          this.buffer.write(string4, this.offset, "utf-8");
          this.offset += len;
        }
        this.buffer[this.offset++] = 0;
        return this;
      }
      addString(string4 = "") {
        const len = Buffer.byteLength(string4);
        this.ensure(len);
        this.buffer.write(string4, this.offset);
        this.offset += len;
        return this;
      }
      add(otherBuffer) {
        this.ensure(otherBuffer.length);
        otherBuffer.copy(this.buffer, this.offset);
        this.offset += otherBuffer.length;
        return this;
      }
      join(code) {
        if (code) {
          this.buffer[this.headerPosition] = code;
          const length = this.offset - (this.headerPosition + 1);
          this.buffer.writeInt32BE(length, this.headerPosition + 1);
        }
        return this.buffer.slice(code ? 0 : 5, this.offset);
      }
      flush(code) {
        const result = this.join(code);
        this.offset = 5;
        this.headerPosition = 0;
        this.buffer = Buffer.allocUnsafe(this.size);
        return result;
      }
    };
    exports2.Writer = Writer;
  }
});

// node_modules/pg-protocol/dist/serializer.js
var require_serializer = __commonJS({
  "node_modules/pg-protocol/dist/serializer.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.serialize = void 0;
    var buffer_writer_1 = require_buffer_writer();
    var writer = new buffer_writer_1.Writer();
    var startup = (opts) => {
      writer.addInt16(3).addInt16(0);
      for (const key of Object.keys(opts)) {
        writer.addCString(key).addCString(opts[key]);
      }
      writer.addCString("client_encoding").addCString("UTF8");
      const bodyBuffer = writer.addCString("").flush();
      const length = bodyBuffer.length + 4;
      return new buffer_writer_1.Writer().addInt32(length).add(bodyBuffer).flush();
    };
    var requestSsl = () => {
      const response = Buffer.allocUnsafe(8);
      response.writeInt32BE(8, 0);
      response.writeInt32BE(80877103, 4);
      return response;
    };
    var password = (password2) => {
      return writer.addCString(password2).flush(
        112
        /* code.startup */
      );
    };
    var sendSASLInitialResponseMessage = function(mechanism, initialResponse) {
      writer.addCString(mechanism).addInt32(Buffer.byteLength(initialResponse)).addString(initialResponse);
      return writer.flush(
        112
        /* code.startup */
      );
    };
    var sendSCRAMClientFinalMessage = function(additionalData) {
      return writer.addString(additionalData).flush(
        112
        /* code.startup */
      );
    };
    var query = (text2) => {
      return writer.addCString(text2).flush(
        81
        /* code.query */
      );
    };
    var emptyArray = [];
    var parse3 = (query2) => {
      const name17 = query2.name || "";
      if (name17.length > 63) {
        console.error("Warning! Postgres only supports 63 characters for query names.");
        console.error("You supplied %s (%s)", name17, name17.length);
        console.error("This can cause conflicts and silent errors executing queries");
      }
      const types2 = query2.types || emptyArray;
      const len = types2.length;
      const buffer = writer.addCString(name17).addCString(query2.text).addInt16(len);
      for (let i2 = 0; i2 < len; i2++) {
        buffer.addInt32(types2[i2]);
      }
      return writer.flush(
        80
        /* code.parse */
      );
    };
    var paramWriter = new buffer_writer_1.Writer();
    var writeValues = function(values, valueMapper) {
      for (let i2 = 0; i2 < values.length; i2++) {
        const mappedVal = valueMapper ? valueMapper(values[i2], i2) : values[i2];
        if (mappedVal == null) {
          writer.addInt16(
            0
            /* ParamType.STRING */
          );
          paramWriter.addInt32(-1);
        } else if (mappedVal instanceof Buffer) {
          writer.addInt16(
            1
            /* ParamType.BINARY */
          );
          paramWriter.addInt32(mappedVal.length);
          paramWriter.add(mappedVal);
        } else {
          writer.addInt16(
            0
            /* ParamType.STRING */
          );
          paramWriter.addInt32(Buffer.byteLength(mappedVal));
          paramWriter.addString(mappedVal);
        }
      }
    };
    var bind = (config2 = {}) => {
      const portal = config2.portal || "";
      const statement = config2.statement || "";
      const binary = config2.binary || false;
      const values = config2.values || emptyArray;
      const len = values.length;
      writer.addCString(portal).addCString(statement);
      writer.addInt16(len);
      writeValues(values, config2.valueMapper);
      writer.addInt16(len);
      writer.add(paramWriter.flush());
      writer.addInt16(1);
      writer.addInt16(
        binary ? 1 : 0
        /* ParamType.STRING */
      );
      return writer.flush(
        66
        /* code.bind */
      );
    };
    var emptyExecute = Buffer.from([69, 0, 0, 0, 9, 0, 0, 0, 0, 0]);
    var execute = (config2) => {
      if (!config2 || !config2.portal && !config2.rows) {
        return emptyExecute;
      }
      const portal = config2.portal || "";
      const rows = config2.rows || 0;
      const portalLength = Buffer.byteLength(portal);
      const len = 4 + portalLength + 1 + 4;
      const buff = Buffer.allocUnsafe(1 + len);
      buff[0] = 69;
      buff.writeInt32BE(len, 1);
      buff.write(portal, 5, "utf-8");
      buff[portalLength + 5] = 0;
      buff.writeUInt32BE(rows, buff.length - 4);
      return buff;
    };
    var cancel = (processID, secretKey) => {
      const buffer = Buffer.allocUnsafe(16);
      buffer.writeInt32BE(16, 0);
      buffer.writeInt16BE(1234, 4);
      buffer.writeInt16BE(5678, 6);
      buffer.writeInt32BE(processID, 8);
      buffer.writeInt32BE(secretKey, 12);
      return buffer;
    };
    var cstringMessage = (code, string4) => {
      const stringLen = Buffer.byteLength(string4);
      const len = 4 + stringLen + 1;
      const buffer = Buffer.allocUnsafe(1 + len);
      buffer[0] = code;
      buffer.writeInt32BE(len, 1);
      buffer.write(string4, 5, "utf-8");
      buffer[len] = 0;
      return buffer;
    };
    var emptyDescribePortal = writer.addCString("P").flush(
      68
      /* code.describe */
    );
    var emptyDescribeStatement = writer.addCString("S").flush(
      68
      /* code.describe */
    );
    var describe = (msg) => {
      return msg.name ? cstringMessage(68, `${msg.type}${msg.name || ""}`) : msg.type === "P" ? emptyDescribePortal : emptyDescribeStatement;
    };
    var close = (msg) => {
      const text2 = `${msg.type}${msg.name || ""}`;
      return cstringMessage(67, text2);
    };
    var copyData = (chunk) => {
      return writer.add(chunk).flush(
        100
        /* code.copyFromChunk */
      );
    };
    var copyFail = (message) => {
      return cstringMessage(102, message);
    };
    var codeOnlyBuffer = (code) => Buffer.from([code, 0, 0, 0, 4]);
    var flushBuffer = codeOnlyBuffer(
      72
      /* code.flush */
    );
    var syncBuffer = codeOnlyBuffer(
      83
      /* code.sync */
    );
    var endBuffer = codeOnlyBuffer(
      88
      /* code.end */
    );
    var copyDoneBuffer = codeOnlyBuffer(
      99
      /* code.copyDone */
    );
    var serialize = {
      startup,
      password,
      requestSsl,
      sendSASLInitialResponseMessage,
      sendSCRAMClientFinalMessage,
      query,
      parse: parse3,
      bind,
      execute,
      describe,
      close,
      flush: () => flushBuffer,
      sync: () => syncBuffer,
      end: () => endBuffer,
      copyData,
      copyDone: () => copyDoneBuffer,
      copyFail,
      cancel
    };
    exports2.serialize = serialize;
  }
});

// node_modules/pg-protocol/dist/buffer-reader.js
var require_buffer_reader = __commonJS({
  "node_modules/pg-protocol/dist/buffer-reader.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.BufferReader = void 0;
    var emptyBuffer = Buffer.allocUnsafe(0);
    var BufferReader = class {
      constructor(offset = 0) {
        this.offset = offset;
        this.buffer = emptyBuffer;
        this.encoding = "utf-8";
      }
      setBuffer(offset, buffer) {
        this.offset = offset;
        this.buffer = buffer;
      }
      int16() {
        const result = this.buffer.readInt16BE(this.offset);
        this.offset += 2;
        return result;
      }
      byte() {
        const result = this.buffer[this.offset];
        this.offset++;
        return result;
      }
      int32() {
        const result = this.buffer.readInt32BE(this.offset);
        this.offset += 4;
        return result;
      }
      uint32() {
        const result = this.buffer.readUInt32BE(this.offset);
        this.offset += 4;
        return result;
      }
      string(length) {
        const result = this.buffer.toString(this.encoding, this.offset, this.offset + length);
        this.offset += length;
        return result;
      }
      cstring() {
        const start = this.offset;
        let end = start;
        while (this.buffer[end++] !== 0) {
        }
        this.offset = end;
        return this.buffer.toString(this.encoding, start, end - 1);
      }
      bytes(length) {
        const result = this.buffer.slice(this.offset, this.offset + length);
        this.offset += length;
        return result;
      }
    };
    exports2.BufferReader = BufferReader;
  }
});

// node_modules/pg-protocol/dist/parser.js
var require_parser = __commonJS({
  "node_modules/pg-protocol/dist/parser.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.Parser = void 0;
    var messages_1 = require_messages();
    var buffer_reader_1 = require_buffer_reader();
    var CODE_LENGTH = 1;
    var LEN_LENGTH = 4;
    var HEADER_LENGTH = CODE_LENGTH + LEN_LENGTH;
    var emptyBuffer = Buffer.allocUnsafe(0);
    var Parser = class {
      constructor(opts) {
        this.buffer = emptyBuffer;
        this.bufferLength = 0;
        this.bufferOffset = 0;
        this.reader = new buffer_reader_1.BufferReader();
        if ((opts === null || opts === void 0 ? void 0 : opts.mode) === "binary") {
          throw new Error("Binary mode not supported yet");
        }
        this.mode = (opts === null || opts === void 0 ? void 0 : opts.mode) || "text";
      }
      parse(buffer, callback) {
        this.mergeBuffer(buffer);
        const bufferFullLength = this.bufferOffset + this.bufferLength;
        let offset = this.bufferOffset;
        while (offset + HEADER_LENGTH <= bufferFullLength) {
          const code = this.buffer[offset];
          const length = this.buffer.readUInt32BE(offset + CODE_LENGTH);
          const fullMessageLength = CODE_LENGTH + length;
          if (fullMessageLength + offset <= bufferFullLength) {
            const message = this.handlePacket(offset + HEADER_LENGTH, code, length, this.buffer);
            callback(message);
            offset += fullMessageLength;
          } else {
            break;
          }
        }
        if (offset === bufferFullLength) {
          this.buffer = emptyBuffer;
          this.bufferLength = 0;
          this.bufferOffset = 0;
        } else {
          this.bufferLength = bufferFullLength - offset;
          this.bufferOffset = offset;
        }
      }
      mergeBuffer(buffer) {
        if (this.bufferLength > 0) {
          const newLength = this.bufferLength + buffer.byteLength;
          const newFullLength = newLength + this.bufferOffset;
          if (newFullLength > this.buffer.byteLength) {
            let newBuffer;
            if (newLength <= this.buffer.byteLength && this.bufferOffset >= this.bufferLength) {
              newBuffer = this.buffer;
            } else {
              let newBufferLength = this.buffer.byteLength * 2;
              while (newLength >= newBufferLength) {
                newBufferLength *= 2;
              }
              newBuffer = Buffer.allocUnsafe(newBufferLength);
            }
            this.buffer.copy(newBuffer, 0, this.bufferOffset, this.bufferOffset + this.bufferLength);
            this.buffer = newBuffer;
            this.bufferOffset = 0;
          }
          buffer.copy(this.buffer, this.bufferOffset + this.bufferLength);
          this.bufferLength = newLength;
        } else {
          this.buffer = buffer;
          this.bufferOffset = 0;
          this.bufferLength = buffer.byteLength;
        }
      }
      handlePacket(offset, code, length, bytes) {
        switch (code) {
          case 50:
            return messages_1.bindComplete;
          case 49:
            return messages_1.parseComplete;
          case 51:
            return messages_1.closeComplete;
          case 110:
            return messages_1.noData;
          case 115:
            return messages_1.portalSuspended;
          case 99:
            return messages_1.copyDone;
          case 87:
            return messages_1.replicationStart;
          case 73:
            return messages_1.emptyQuery;
          case 68:
            return this.parseDataRowMessage(offset, length, bytes);
          case 67:
            return this.parseCommandCompleteMessage(offset, length, bytes);
          case 90:
            return this.parseReadyForQueryMessage(offset, length, bytes);
          case 65:
            return this.parseNotificationMessage(offset, length, bytes);
          case 82:
            return this.parseAuthenticationResponse(offset, length, bytes);
          case 83:
            return this.parseParameterStatusMessage(offset, length, bytes);
          case 75:
            return this.parseBackendKeyData(offset, length, bytes);
          case 69:
            return this.parseErrorMessage(offset, length, bytes, "error");
          case 78:
            return this.parseErrorMessage(offset, length, bytes, "notice");
          case 84:
            return this.parseRowDescriptionMessage(offset, length, bytes);
          case 116:
            return this.parseParameterDescriptionMessage(offset, length, bytes);
          case 71:
            return this.parseCopyInMessage(offset, length, bytes);
          case 72:
            return this.parseCopyOutMessage(offset, length, bytes);
          case 100:
            return this.parseCopyData(offset, length, bytes);
          default:
            return new messages_1.DatabaseError("received invalid response: " + code.toString(16), length, "error");
        }
      }
      parseReadyForQueryMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const status = this.reader.string(1);
        return new messages_1.ReadyForQueryMessage(length, status);
      }
      parseCommandCompleteMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const text2 = this.reader.cstring();
        return new messages_1.CommandCompleteMessage(length, text2);
      }
      parseCopyData(offset, length, bytes) {
        const chunk = bytes.slice(offset, offset + (length - 4));
        return new messages_1.CopyDataMessage(length, chunk);
      }
      parseCopyInMessage(offset, length, bytes) {
        return this.parseCopyMessage(offset, length, bytes, "copyInResponse");
      }
      parseCopyOutMessage(offset, length, bytes) {
        return this.parseCopyMessage(offset, length, bytes, "copyOutResponse");
      }
      parseCopyMessage(offset, length, bytes, messageName) {
        this.reader.setBuffer(offset, bytes);
        const isBinary = this.reader.byte() !== 0;
        const columnCount = this.reader.int16();
        const message = new messages_1.CopyResponse(length, messageName, isBinary, columnCount);
        for (let i2 = 0; i2 < columnCount; i2++) {
          message.columnTypes[i2] = this.reader.int16();
        }
        return message;
      }
      parseNotificationMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const processId = this.reader.int32();
        const channel = this.reader.cstring();
        const payload = this.reader.cstring();
        return new messages_1.NotificationResponseMessage(length, processId, channel, payload);
      }
      parseRowDescriptionMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const fieldCount = this.reader.int16();
        const message = new messages_1.RowDescriptionMessage(length, fieldCount);
        for (let i2 = 0; i2 < fieldCount; i2++) {
          message.fields[i2] = this.parseField();
        }
        return message;
      }
      parseField() {
        const name17 = this.reader.cstring();
        const tableID = this.reader.uint32();
        const columnID = this.reader.int16();
        const dataTypeID = this.reader.uint32();
        const dataTypeSize = this.reader.int16();
        const dataTypeModifier = this.reader.int32();
        const mode = this.reader.int16() === 0 ? "text" : "binary";
        return new messages_1.Field(name17, tableID, columnID, dataTypeID, dataTypeSize, dataTypeModifier, mode);
      }
      parseParameterDescriptionMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const parameterCount = this.reader.int16();
        const message = new messages_1.ParameterDescriptionMessage(length, parameterCount);
        for (let i2 = 0; i2 < parameterCount; i2++) {
          message.dataTypeIDs[i2] = this.reader.int32();
        }
        return message;
      }
      parseDataRowMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const fieldCount = this.reader.int16();
        const fields = new Array(fieldCount);
        for (let i2 = 0; i2 < fieldCount; i2++) {
          const len = this.reader.int32();
          fields[i2] = len === -1 ? null : this.reader.string(len);
        }
        return new messages_1.DataRowMessage(length, fields);
      }
      parseParameterStatusMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const name17 = this.reader.cstring();
        const value = this.reader.cstring();
        return new messages_1.ParameterStatusMessage(length, name17, value);
      }
      parseBackendKeyData(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const processID = this.reader.int32();
        const secretKey = this.reader.int32();
        return new messages_1.BackendKeyDataMessage(length, processID, secretKey);
      }
      parseAuthenticationResponse(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const code = this.reader.int32();
        const message = {
          name: "authenticationOk",
          length
        };
        switch (code) {
          case 0:
            break;
          case 3:
            if (message.length === 8) {
              message.name = "authenticationCleartextPassword";
            }
            break;
          case 5:
            if (message.length === 12) {
              message.name = "authenticationMD5Password";
              const salt = this.reader.bytes(4);
              return new messages_1.AuthenticationMD5Password(length, salt);
            }
            break;
          case 10:
            {
              message.name = "authenticationSASL";
              message.mechanisms = [];
              let mechanism;
              do {
                mechanism = this.reader.cstring();
                if (mechanism) {
                  message.mechanisms.push(mechanism);
                }
              } while (mechanism);
            }
            break;
          case 11:
            message.name = "authenticationSASLContinue";
            message.data = this.reader.string(length - 8);
            break;
          case 12:
            message.name = "authenticationSASLFinal";
            message.data = this.reader.string(length - 8);
            break;
          default:
            throw new Error("Unknown authenticationOk message type " + code);
        }
        return message;
      }
      parseErrorMessage(offset, length, bytes, name17) {
        this.reader.setBuffer(offset, bytes);
        const fields = {};
        let fieldType = this.reader.string(1);
        while (fieldType !== "\0") {
          fields[fieldType] = this.reader.cstring();
          fieldType = this.reader.string(1);
        }
        const messageValue = fields.M;
        const message = name17 === "notice" ? new messages_1.NoticeMessage(length, messageValue) : new messages_1.DatabaseError(messageValue, length, name17);
        message.severity = fields.S;
        message.code = fields.C;
        message.detail = fields.D;
        message.hint = fields.H;
        message.position = fields.P;
        message.internalPosition = fields.p;
        message.internalQuery = fields.q;
        message.where = fields.W;
        message.schema = fields.s;
        message.table = fields.t;
        message.column = fields.c;
        message.dataType = fields.d;
        message.constraint = fields.n;
        message.file = fields.F;
        message.line = fields.L;
        message.routine = fields.R;
        return message;
      }
    };
    exports2.Parser = Parser;
  }
});

// node_modules/pg-protocol/dist/index.js
var require_dist = __commonJS({
  "node_modules/pg-protocol/dist/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.DatabaseError = exports2.serialize = exports2.parse = void 0;
    var messages_1 = require_messages();
    Object.defineProperty(exports2, "DatabaseError", { enumerable: true, get: function() {
      return messages_1.DatabaseError;
    } });
    var serializer_1 = require_serializer();
    Object.defineProperty(exports2, "serialize", { enumerable: true, get: function() {
      return serializer_1.serialize;
    } });
    var parser_1 = require_parser();
    function parse3(stream, callback) {
      const parser = new parser_1.Parser();
      stream.on("data", (buffer) => parser.parse(buffer, callback));
      return new Promise((resolve2) => stream.on("end", () => resolve2()));
    }
    exports2.parse = parse3;
  }
});

// node_modules/pg-cloudflare/dist/empty.js
var require_empty = __commonJS({
  "node_modules/pg-cloudflare/dist/empty.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.default = {};
  }
});

// node_modules/pg/lib/stream.js
var require_stream = __commonJS({
  "node_modules/pg/lib/stream.js"(exports2, module2) {
    var { getStream, getSecureStream } = getStreamFuncs();
    module2.exports = {
      /**
       * Get a socket stream compatible with the current runtime environment.
       * @returns {Duplex}
       */
      getStream,
      /**
       * Get a TLS secured socket, compatible with the current environment,
       * using the socket and other settings given in `options`.
       * @returns {Duplex}
       */
      getSecureStream
    };
    function getNodejsStreamFuncs() {
      function getStream2(ssl) {
        const net = require("net");
        return new net.Socket();
      }
      function getSecureStream2(options) {
        const tls = require("tls");
        return tls.connect(options);
      }
      return {
        getStream: getStream2,
        getSecureStream: getSecureStream2
      };
    }
    function getCloudflareStreamFuncs() {
      function getStream2(ssl) {
        const { CloudflareSocket } = require_empty();
        return new CloudflareSocket(ssl);
      }
      function getSecureStream2(options) {
        options.socket.startTls(options);
        return options.socket;
      }
      return {
        getStream: getStream2,
        getSecureStream: getSecureStream2
      };
    }
    function isCloudflareRuntime() {
      if (typeof navigator === "object" && navigator !== null && typeof navigator.userAgent === "string") {
        return navigator.userAgent === "Cloudflare-Workers";
      }
      if (typeof Response === "function") {
        const resp = new Response(null, { cf: { thing: true } });
        if (typeof resp.cf === "object" && resp.cf !== null && resp.cf.thing) {
          return true;
        }
      }
      return false;
    }
    function getStreamFuncs() {
      if (isCloudflareRuntime()) {
        return getCloudflareStreamFuncs();
      }
      return getNodejsStreamFuncs();
    }
  }
});

// node_modules/pg/lib/connection.js
var require_connection = __commonJS({
  "node_modules/pg/lib/connection.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var { parse: parse3, serialize } = require_dist();
    var { getStream, getSecureStream } = require_stream();
    var flushBuffer = serialize.flush();
    var syncBuffer = serialize.sync();
    var endBuffer = serialize.end();
    var Connection2 = class extends EventEmitter {
      constructor(config2) {
        super();
        config2 = config2 || {};
        this.stream = config2.stream || getStream(config2.ssl);
        if (typeof this.stream === "function") {
          this.stream = this.stream(config2);
        }
        this._keepAlive = config2.keepAlive;
        this._keepAliveInitialDelayMillis = config2.keepAliveInitialDelayMillis;
        this.lastBuffer = false;
        this.parsedStatements = {};
        this.ssl = config2.ssl || false;
        this._ending = false;
        this._emitMessage = false;
        const self = this;
        this.on("newListener", function(eventName) {
          if (eventName === "message") {
            self._emitMessage = true;
          }
        });
      }
      connect(port, host) {
        const self = this;
        this._connecting = true;
        this.stream.setNoDelay(true);
        this.stream.connect(port, host);
        this.stream.once("connect", function() {
          if (self._keepAlive) {
            self.stream.setKeepAlive(true, self._keepAliveInitialDelayMillis);
          }
          self.emit("connect");
        });
        const reportStreamError = function(error45) {
          if (self._ending && (error45.code === "ECONNRESET" || error45.code === "EPIPE")) {
            return;
          }
          self.emit("error", error45);
        };
        this.stream.on("error", reportStreamError);
        this.stream.on("close", function() {
          self.emit("end");
        });
        if (!this.ssl) {
          return this.attachListeners(this.stream);
        }
        this.stream.once("data", function(buffer) {
          const responseCode = buffer.toString("utf8");
          switch (responseCode) {
            case "S":
              break;
            case "N":
              self.stream.end();
              return self.emit("error", new Error("The server does not support SSL connections"));
            default:
              self.stream.end();
              return self.emit("error", new Error("There was an error establishing an SSL connection"));
          }
          const options = {
            socket: self.stream
          };
          if (self.ssl !== true) {
            Object.assign(options, self.ssl);
            if ("key" in self.ssl) {
              options.key = self.ssl.key;
            }
          }
          const net = require("net");
          if (net.isIP && net.isIP(host) === 0) {
            options.servername = host;
          }
          try {
            self.stream = getSecureStream(options);
          } catch (err) {
            return self.emit("error", err);
          }
          self.attachListeners(self.stream);
          self.stream.on("error", reportStreamError);
          self.emit("sslconnect");
        });
      }
      attachListeners(stream) {
        parse3(stream, (msg) => {
          const eventName = msg.name === "error" ? "errorMessage" : msg.name;
          if (this._emitMessage) {
            this.emit("message", msg);
          }
          this.emit(eventName, msg);
        });
      }
      requestSsl() {
        this.stream.write(serialize.requestSsl());
      }
      startup(config2) {
        this.stream.write(serialize.startup(config2));
      }
      cancel(processID, secretKey) {
        this._send(serialize.cancel(processID, secretKey));
      }
      password(password) {
        this._send(serialize.password(password));
      }
      sendSASLInitialResponseMessage(mechanism, initialResponse) {
        this._send(serialize.sendSASLInitialResponseMessage(mechanism, initialResponse));
      }
      sendSCRAMClientFinalMessage(additionalData) {
        this._send(serialize.sendSCRAMClientFinalMessage(additionalData));
      }
      _send(buffer) {
        if (!this.stream.writable) {
          return false;
        }
        return this.stream.write(buffer);
      }
      query(text2) {
        this._send(serialize.query(text2));
      }
      // send parse message
      parse(query) {
        this._send(serialize.parse(query));
      }
      // send bind message
      bind(config2) {
        this._send(serialize.bind(config2));
      }
      // send execute message
      execute(config2) {
        this._send(serialize.execute(config2));
      }
      flush() {
        if (this.stream.writable) {
          this.stream.write(flushBuffer);
        }
      }
      sync() {
        this._ending = true;
        this._send(syncBuffer);
      }
      ref() {
        this.stream.ref();
      }
      unref() {
        this.stream.unref();
      }
      end() {
        this._ending = true;
        if (!this._connecting || !this.stream.writable) {
          this.stream.end();
          return;
        }
        return this.stream.write(endBuffer, () => {
          this.stream.end();
        });
      }
      close(msg) {
        this._send(serialize.close(msg));
      }
      describe(msg) {
        this._send(serialize.describe(msg));
      }
      sendCopyFromChunk(chunk) {
        this._send(serialize.copyData(chunk));
      }
      endCopyFrom() {
        this._send(serialize.copyDone());
      }
      sendCopyFail(msg) {
        this._send(serialize.copyFail(msg));
      }
    };
    module2.exports = Connection2;
  }
});

// node_modules/split2/index.js
var require_split2 = __commonJS({
  "node_modules/split2/index.js"(exports2, module2) {
    "use strict";
    var { Transform } = require("stream");
    var { StringDecoder } = require("string_decoder");
    var kLast = Symbol("last");
    var kDecoder = Symbol("decoder");
    function transform2(chunk, enc, cb) {
      let list;
      if (this.overflow) {
        const buf = this[kDecoder].write(chunk);
        list = buf.split(this.matcher);
        if (list.length === 1) return cb();
        list.shift();
        this.overflow = false;
      } else {
        this[kLast] += this[kDecoder].write(chunk);
        list = this[kLast].split(this.matcher);
      }
      this[kLast] = list.pop();
      for (let i2 = 0; i2 < list.length; i2++) {
        try {
          push(this, this.mapper(list[i2]));
        } catch (error45) {
          return cb(error45);
        }
      }
      this.overflow = this[kLast].length > this.maxLength;
      if (this.overflow && !this.skipOverflow) {
        cb(new Error("maximum buffer reached"));
        return;
      }
      cb();
    }
    function flush(cb) {
      this[kLast] += this[kDecoder].end();
      if (this[kLast]) {
        try {
          push(this, this.mapper(this[kLast]));
        } catch (error45) {
          return cb(error45);
        }
      }
      cb();
    }
    function push(self, val) {
      if (val !== void 0) {
        self.push(val);
      }
    }
    function noop2(incoming) {
      return incoming;
    }
    function split(matcher, mapper, options) {
      matcher = matcher || /\r?\n/;
      mapper = mapper || noop2;
      options = options || {};
      switch (arguments.length) {
        case 1:
          if (typeof matcher === "function") {
            mapper = matcher;
            matcher = /\r?\n/;
          } else if (typeof matcher === "object" && !(matcher instanceof RegExp) && !matcher[Symbol.split]) {
            options = matcher;
            matcher = /\r?\n/;
          }
          break;
        case 2:
          if (typeof matcher === "function") {
            options = mapper;
            mapper = matcher;
            matcher = /\r?\n/;
          } else if (typeof mapper === "object") {
            options = mapper;
            mapper = noop2;
          }
      }
      options = Object.assign({}, options);
      options.autoDestroy = true;
      options.transform = transform2;
      options.flush = flush;
      options.readableObjectMode = true;
      const stream = new Transform(options);
      stream[kLast] = "";
      stream[kDecoder] = new StringDecoder("utf8");
      stream.matcher = matcher;
      stream.mapper = mapper;
      stream.maxLength = options.maxLength;
      stream.skipOverflow = options.skipOverflow || false;
      stream.overflow = false;
      stream._destroy = function(err, cb) {
        this._writableState.errorEmitted = false;
        cb(err);
      };
      return stream;
    }
    module2.exports = split;
  }
});

// node_modules/pgpass/lib/helper.js
var require_helper = __commonJS({
  "node_modules/pgpass/lib/helper.js"(exports2, module2) {
    "use strict";
    var path = require("path");
    var Stream = require("stream").Stream;
    var split = require_split2();
    var util2 = require("util");
    var defaultPort = 5432;
    var isWin = process.platform === "win32";
    var warnStream = process.stderr;
    var S_IRWXG = 56;
    var S_IRWXO = 7;
    var S_IFMT = 61440;
    var S_IFREG = 32768;
    function isRegFile(mode) {
      return (mode & S_IFMT) == S_IFREG;
    }
    var fieldNames = ["host", "port", "database", "user", "password"];
    var nrOfFields = fieldNames.length;
    var passKey = fieldNames[nrOfFields - 1];
    function warn() {
      var isWritable = warnStream instanceof Stream && true === warnStream.writable;
      if (isWritable) {
        var args = Array.prototype.slice.call(arguments).concat("\n");
        warnStream.write(util2.format.apply(util2, args));
      }
    }
    Object.defineProperty(module2.exports, "isWin", {
      get: function() {
        return isWin;
      },
      set: function(val) {
        isWin = val;
      }
    });
    module2.exports.warnTo = function(stream) {
      var old = warnStream;
      warnStream = stream;
      return old;
    };
    module2.exports.getFileName = function(rawEnv) {
      var env = rawEnv || process.env;
      var file2 = env.PGPASSFILE || (isWin ? path.join(env.APPDATA || "./", "postgresql", "pgpass.conf") : path.join(env.HOME || "./", ".pgpass"));
      return file2;
    };
    module2.exports.usePgPass = function(stats, fname) {
      if (Object.prototype.hasOwnProperty.call(process.env, "PGPASSWORD")) {
        return false;
      }
      if (isWin) {
        return true;
      }
      fname = fname || "<unkn>";
      if (!isRegFile(stats.mode)) {
        warn('WARNING: password file "%s" is not a plain file', fname);
        return false;
      }
      if (stats.mode & (S_IRWXG | S_IRWXO)) {
        warn('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less', fname);
        return false;
      }
      return true;
    };
    var matcher = module2.exports.match = function(connInfo, entry) {
      return fieldNames.slice(0, -1).reduce(function(prev, field, idx) {
        if (idx == 1) {
          if (Number(connInfo[field] || defaultPort) === Number(entry[field])) {
            return prev && true;
          }
        }
        return prev && (entry[field] === "*" || entry[field] === connInfo[field]);
      }, true);
    };
    module2.exports.getPassword = function(connInfo, stream, cb) {
      var pass;
      var lineStream = stream.pipe(split());
      function onLine(line) {
        var entry = parseLine(line);
        if (entry && isValidEntry(entry) && matcher(connInfo, entry)) {
          pass = entry[passKey];
          lineStream.end();
        }
      }
      var onEnd = function() {
        stream.destroy();
        cb(pass);
      };
      var onErr = function(err) {
        stream.destroy();
        warn("WARNING: error on reading file: %s", err);
        cb(void 0);
      };
      stream.on("error", onErr);
      lineStream.on("data", onLine).on("end", onEnd).on("error", onErr);
    };
    var parseLine = module2.exports.parseLine = function(line) {
      if (line.length < 11 || line.match(/^\s+#/)) {
        return null;
      }
      var curChar = "";
      var prevChar = "";
      var fieldIdx = 0;
      var startIdx = 0;
      var endIdx = 0;
      var obj = {};
      var isLastField = false;
      var addToObj = function(idx, i0, i1) {
        var field = line.substring(i0, i1);
        if (!Object.hasOwnProperty.call(process.env, "PGPASS_NO_DEESCAPE")) {
          field = field.replace(/\\([:\\])/g, "$1");
        }
        obj[fieldNames[idx]] = field;
      };
      for (var i2 = 0; i2 < line.length - 1; i2 += 1) {
        curChar = line.charAt(i2 + 1);
        prevChar = line.charAt(i2);
        isLastField = fieldIdx == nrOfFields - 1;
        if (isLastField) {
          addToObj(fieldIdx, startIdx);
          break;
        }
        if (i2 >= 0 && curChar == ":" && prevChar !== "\\") {
          addToObj(fieldIdx, startIdx, i2 + 1);
          startIdx = i2 + 2;
          fieldIdx += 1;
        }
      }
      obj = Object.keys(obj).length === nrOfFields ? obj : null;
      return obj;
    };
    var isValidEntry = module2.exports.isValidEntry = function(entry) {
      var rules = {
        // host
        0: function(x) {
          return x.length > 0;
        },
        // port
        1: function(x) {
          if (x === "*") {
            return true;
          }
          x = Number(x);
          return isFinite(x) && x > 0 && x < 9007199254740992 && Math.floor(x) === x;
        },
        // database
        2: function(x) {
          return x.length > 0;
        },
        // username
        3: function(x) {
          return x.length > 0;
        },
        // password
        4: function(x) {
          return x.length > 0;
        }
      };
      for (var idx = 0; idx < fieldNames.length; idx += 1) {
        var rule = rules[idx];
        var value = entry[fieldNames[idx]] || "";
        var res = rule(value);
        if (!res) {
          return false;
        }
      }
      return true;
    };
  }
});

// node_modules/pgpass/lib/index.js
var require_lib = __commonJS({
  "node_modules/pgpass/lib/index.js"(exports2, module2) {
    "use strict";
    var path = require("path");
    var fs = require("fs");
    var helper = require_helper();
    module2.exports = function(connInfo, cb) {
      var file2 = helper.getFileName();
      fs.stat(file2, function(err, stat) {
        if (err || !helper.usePgPass(stat, file2)) {
          return cb(void 0);
        }
        var st = fs.createReadStream(file2);
        helper.getPassword(connInfo, st, cb);
      });
    };
    module2.exports.warnTo = helper.warnTo;
  }
});

// node_modules/pg/lib/client.js
var require_client = __commonJS({
  "node_modules/pg/lib/client.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var utils = require_utils();
    var sasl = require_sasl();
    var TypeOverrides2 = require_type_overrides();
    var ConnectionParameters = require_connection_parameters();
    var Query2 = require_query();
    var defaults2 = require_defaults();
    var Connection2 = require_connection();
    var crypto = require_utils2();
    var Client2 = class extends EventEmitter {
      constructor(config2) {
        super();
        this.connectionParameters = new ConnectionParameters(config2);
        this.user = this.connectionParameters.user;
        this.database = this.connectionParameters.database;
        this.port = this.connectionParameters.port;
        this.host = this.connectionParameters.host;
        Object.defineProperty(this, "password", {
          configurable: true,
          enumerable: false,
          writable: true,
          value: this.connectionParameters.password
        });
        this.replication = this.connectionParameters.replication;
        const c = config2 || {};
        this._Promise = c.Promise || global.Promise;
        this._types = new TypeOverrides2(c.types);
        this._ending = false;
        this._ended = false;
        this._connecting = false;
        this._connected = false;
        this._connectionError = false;
        this._queryable = true;
        this.enableChannelBinding = Boolean(c.enableChannelBinding);
        this.connection = c.connection || new Connection2({
          stream: c.stream,
          ssl: this.connectionParameters.ssl,
          keepAlive: c.keepAlive || false,
          keepAliveInitialDelayMillis: c.keepAliveInitialDelayMillis || 0,
          encoding: this.connectionParameters.client_encoding || "utf8"
        });
        this.queryQueue = [];
        this.binary = c.binary || defaults2.binary;
        this.processID = null;
        this.secretKey = null;
        this.ssl = this.connectionParameters.ssl || false;
        if (this.ssl && this.ssl.key) {
          Object.defineProperty(this.ssl, "key", {
            enumerable: false
          });
        }
        this._connectionTimeoutMillis = c.connectionTimeoutMillis || 0;
      }
      _errorAllQueries(err) {
        const enqueueError = (query) => {
          process.nextTick(() => {
            query.handleError(err, this.connection);
          });
        };
        if (this.activeQuery) {
          enqueueError(this.activeQuery);
          this.activeQuery = null;
        }
        this.queryQueue.forEach(enqueueError);
        this.queryQueue.length = 0;
      }
      _connect(callback) {
        const self = this;
        const con = this.connection;
        this._connectionCallback = callback;
        if (this._connecting || this._connected) {
          const err = new Error("Client has already been connected. You cannot reuse a client.");
          process.nextTick(() => {
            callback(err);
          });
          return;
        }
        this._connecting = true;
        if (this._connectionTimeoutMillis > 0) {
          this.connectionTimeoutHandle = setTimeout(() => {
            con._ending = true;
            con.stream.destroy(new Error("timeout expired"));
          }, this._connectionTimeoutMillis);
          if (this.connectionTimeoutHandle.unref) {
            this.connectionTimeoutHandle.unref();
          }
        }
        if (this.host && this.host.indexOf("/") === 0) {
          con.connect(this.host + "/.s.PGSQL." + this.port);
        } else {
          con.connect(this.port, this.host);
        }
        con.on("connect", function() {
          if (self.ssl) {
            con.requestSsl();
          } else {
            con.startup(self.getStartupConf());
          }
        });
        con.on("sslconnect", function() {
          con.startup(self.getStartupConf());
        });
        this._attachListeners(con);
        con.once("end", () => {
          const error45 = this._ending ? new Error("Connection terminated") : new Error("Connection terminated unexpectedly");
          clearTimeout(this.connectionTimeoutHandle);
          this._errorAllQueries(error45);
          this._ended = true;
          if (!this._ending) {
            if (this._connecting && !this._connectionError) {
              if (this._connectionCallback) {
                this._connectionCallback(error45);
              } else {
                this._handleErrorEvent(error45);
              }
            } else if (!this._connectionError) {
              this._handleErrorEvent(error45);
            }
          }
          process.nextTick(() => {
            this.emit("end");
          });
        });
      }
      connect(callback) {
        if (callback) {
          this._connect(callback);
          return;
        }
        return new this._Promise((resolve2, reject) => {
          this._connect((error45) => {
            if (error45) {
              reject(error45);
            } else {
              resolve2();
            }
          });
        });
      }
      _attachListeners(con) {
        con.on("authenticationCleartextPassword", this._handleAuthCleartextPassword.bind(this));
        con.on("authenticationMD5Password", this._handleAuthMD5Password.bind(this));
        con.on("authenticationSASL", this._handleAuthSASL.bind(this));
        con.on("authenticationSASLContinue", this._handleAuthSASLContinue.bind(this));
        con.on("authenticationSASLFinal", this._handleAuthSASLFinal.bind(this));
        con.on("backendKeyData", this._handleBackendKeyData.bind(this));
        con.on("error", this._handleErrorEvent.bind(this));
        con.on("errorMessage", this._handleErrorMessage.bind(this));
        con.on("readyForQuery", this._handleReadyForQuery.bind(this));
        con.on("notice", this._handleNotice.bind(this));
        con.on("rowDescription", this._handleRowDescription.bind(this));
        con.on("dataRow", this._handleDataRow.bind(this));
        con.on("portalSuspended", this._handlePortalSuspended.bind(this));
        con.on("emptyQuery", this._handleEmptyQuery.bind(this));
        con.on("commandComplete", this._handleCommandComplete.bind(this));
        con.on("parseComplete", this._handleParseComplete.bind(this));
        con.on("copyInResponse", this._handleCopyInResponse.bind(this));
        con.on("copyData", this._handleCopyData.bind(this));
        con.on("notification", this._handleNotification.bind(this));
      }
      // TODO(bmc): deprecate pgpass "built in" integration since this.password can be a function
      // it can be supplied by the user if required - this is a breaking change!
      _checkPgPass(cb) {
        const con = this.connection;
        if (typeof this.password === "function") {
          this._Promise.resolve().then(() => this.password()).then((pass) => {
            if (pass !== void 0) {
              if (typeof pass !== "string") {
                con.emit("error", new TypeError("Password must be a string"));
                return;
              }
              this.connectionParameters.password = this.password = pass;
            } else {
              this.connectionParameters.password = this.password = null;
            }
            cb();
          }).catch((err) => {
            con.emit("error", err);
          });
        } else if (this.password !== null) {
          cb();
        } else {
          try {
            const pgPass = require_lib();
            pgPass(this.connectionParameters, (pass) => {
              if (void 0 !== pass) {
                this.connectionParameters.password = this.password = pass;
              }
              cb();
            });
          } catch (e2) {
            this.emit("error", e2);
          }
        }
      }
      _handleAuthCleartextPassword(msg) {
        this._checkPgPass(() => {
          this.connection.password(this.password);
        });
      }
      _handleAuthMD5Password(msg) {
        this._checkPgPass(async () => {
          try {
            const hashedPassword = await crypto.postgresMd5PasswordHash(this.user, this.password, msg.salt);
            this.connection.password(hashedPassword);
          } catch (e2) {
            this.emit("error", e2);
          }
        });
      }
      _handleAuthSASL(msg) {
        this._checkPgPass(() => {
          try {
            this.saslSession = sasl.startSession(msg.mechanisms, this.enableChannelBinding && this.connection.stream);
            this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism, this.saslSession.response);
          } catch (err) {
            this.connection.emit("error", err);
          }
        });
      }
      async _handleAuthSASLContinue(msg) {
        try {
          await sasl.continueSession(
            this.saslSession,
            this.password,
            msg.data,
            this.enableChannelBinding && this.connection.stream
          );
          this.connection.sendSCRAMClientFinalMessage(this.saslSession.response);
        } catch (err) {
          this.connection.emit("error", err);
        }
      }
      _handleAuthSASLFinal(msg) {
        try {
          sasl.finalizeSession(this.saslSession, msg.data);
          this.saslSession = null;
        } catch (err) {
          this.connection.emit("error", err);
        }
      }
      _handleBackendKeyData(msg) {
        this.processID = msg.processID;
        this.secretKey = msg.secretKey;
      }
      _handleReadyForQuery(msg) {
        if (this._connecting) {
          this._connecting = false;
          this._connected = true;
          clearTimeout(this.connectionTimeoutHandle);
          if (this._connectionCallback) {
            this._connectionCallback(null, this);
            this._connectionCallback = null;
          }
          this.emit("connect");
        }
        const { activeQuery } = this;
        this.activeQuery = null;
        this.readyForQuery = true;
        if (activeQuery) {
          activeQuery.handleReadyForQuery(this.connection);
        }
        this._pulseQueryQueue();
      }
      // if we receive an error event or error message
      // during the connection process we handle it here
      _handleErrorWhileConnecting(err) {
        if (this._connectionError) {
          return;
        }
        this._connectionError = true;
        clearTimeout(this.connectionTimeoutHandle);
        if (this._connectionCallback) {
          return this._connectionCallback(err);
        }
        this.emit("error", err);
      }
      // if we're connected and we receive an error event from the connection
      // this means the socket is dead - do a hard abort of all queries and emit
      // the socket error on the client as well
      _handleErrorEvent(err) {
        if (this._connecting) {
          return this._handleErrorWhileConnecting(err);
        }
        this._queryable = false;
        this._errorAllQueries(err);
        this.emit("error", err);
      }
      // handle error messages from the postgres backend
      _handleErrorMessage(msg) {
        if (this._connecting) {
          return this._handleErrorWhileConnecting(msg);
        }
        const activeQuery = this.activeQuery;
        if (!activeQuery) {
          this._handleErrorEvent(msg);
          return;
        }
        this.activeQuery = null;
        activeQuery.handleError(msg, this.connection);
      }
      _handleRowDescription(msg) {
        this.activeQuery.handleRowDescription(msg);
      }
      _handleDataRow(msg) {
        this.activeQuery.handleDataRow(msg);
      }
      _handlePortalSuspended(msg) {
        this.activeQuery.handlePortalSuspended(this.connection);
      }
      _handleEmptyQuery(msg) {
        this.activeQuery.handleEmptyQuery(this.connection);
      }
      _handleCommandComplete(msg) {
        if (this.activeQuery == null) {
          const error45 = new Error("Received unexpected commandComplete message from backend.");
          this._handleErrorEvent(error45);
          return;
        }
        this.activeQuery.handleCommandComplete(msg, this.connection);
      }
      _handleParseComplete() {
        if (this.activeQuery == null) {
          const error45 = new Error("Received unexpected parseComplete message from backend.");
          this._handleErrorEvent(error45);
          return;
        }
        if (this.activeQuery.name) {
          this.connection.parsedStatements[this.activeQuery.name] = this.activeQuery.text;
        }
      }
      _handleCopyInResponse(msg) {
        this.activeQuery.handleCopyInResponse(this.connection);
      }
      _handleCopyData(msg) {
        this.activeQuery.handleCopyData(msg, this.connection);
      }
      _handleNotification(msg) {
        this.emit("notification", msg);
      }
      _handleNotice(msg) {
        this.emit("notice", msg);
      }
      getStartupConf() {
        const params = this.connectionParameters;
        const data = {
          user: params.user,
          database: params.database
        };
        const appName = params.application_name || params.fallback_application_name;
        if (appName) {
          data.application_name = appName;
        }
        if (params.replication) {
          data.replication = "" + params.replication;
        }
        if (params.statement_timeout) {
          data.statement_timeout = String(parseInt(params.statement_timeout, 10));
        }
        if (params.lock_timeout) {
          data.lock_timeout = String(parseInt(params.lock_timeout, 10));
        }
        if (params.idle_in_transaction_session_timeout) {
          data.idle_in_transaction_session_timeout = String(parseInt(params.idle_in_transaction_session_timeout, 10));
        }
        if (params.options) {
          data.options = params.options;
        }
        return data;
      }
      cancel(client, query) {
        if (client.activeQuery === query) {
          const con = this.connection;
          if (this.host && this.host.indexOf("/") === 0) {
            con.connect(this.host + "/.s.PGSQL." + this.port);
          } else {
            con.connect(this.port, this.host);
          }
          con.on("connect", function() {
            con.cancel(client.processID, client.secretKey);
          });
        } else if (client.queryQueue.indexOf(query) !== -1) {
          client.queryQueue.splice(client.queryQueue.indexOf(query), 1);
        }
      }
      setTypeParser(oid, format, parseFn) {
        return this._types.setTypeParser(oid, format, parseFn);
      }
      getTypeParser(oid, format) {
        return this._types.getTypeParser(oid, format);
      }
      // escapeIdentifier and escapeLiteral moved to utility functions & exported
      // on PG
      // re-exported here for backwards compatibility
      escapeIdentifier(str) {
        return utils.escapeIdentifier(str);
      }
      escapeLiteral(str) {
        return utils.escapeLiteral(str);
      }
      _pulseQueryQueue() {
        if (this.readyForQuery === true) {
          this.activeQuery = this.queryQueue.shift();
          if (this.activeQuery) {
            this.readyForQuery = false;
            this.hasExecuted = true;
            const queryError = this.activeQuery.submit(this.connection);
            if (queryError) {
              process.nextTick(() => {
                this.activeQuery.handleError(queryError, this.connection);
                this.readyForQuery = true;
                this._pulseQueryQueue();
              });
            }
          } else if (this.hasExecuted) {
            this.activeQuery = null;
            this.emit("drain");
          }
        }
      }
      query(config2, values, callback) {
        let query;
        let result;
        let readTimeout;
        let readTimeoutTimer;
        let queryCallback;
        if (config2 === null || config2 === void 0) {
          throw new TypeError("Client was passed a null or undefined query");
        } else if (typeof config2.submit === "function") {
          readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
          result = query = config2;
          if (typeof values === "function") {
            query.callback = query.callback || values;
          }
        } else {
          readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
          query = new Query2(config2, values, callback);
          if (!query.callback) {
            result = new this._Promise((resolve2, reject) => {
              query.callback = (err, res) => err ? reject(err) : resolve2(res);
            }).catch((err) => {
              Error.captureStackTrace(err);
              throw err;
            });
          }
        }
        if (readTimeout) {
          queryCallback = query.callback;
          readTimeoutTimer = setTimeout(() => {
            const error45 = new Error("Query read timeout");
            process.nextTick(() => {
              query.handleError(error45, this.connection);
            });
            queryCallback(error45);
            query.callback = () => {
            };
            const index = this.queryQueue.indexOf(query);
            if (index > -1) {
              this.queryQueue.splice(index, 1);
            }
            this._pulseQueryQueue();
          }, readTimeout);
          query.callback = (err, res) => {
            clearTimeout(readTimeoutTimer);
            queryCallback(err, res);
          };
        }
        if (this.binary && !query.binary) {
          query.binary = true;
        }
        if (query._result && !query._result._types) {
          query._result._types = this._types;
        }
        if (!this._queryable) {
          process.nextTick(() => {
            query.handleError(new Error("Client has encountered a connection error and is not queryable"), this.connection);
          });
          return result;
        }
        if (this._ending) {
          process.nextTick(() => {
            query.handleError(new Error("Client was closed and is not queryable"), this.connection);
          });
          return result;
        }
        this.queryQueue.push(query);
        this._pulseQueryQueue();
        return result;
      }
      ref() {
        this.connection.ref();
      }
      unref() {
        this.connection.unref();
      }
      end(cb) {
        this._ending = true;
        if (!this.connection._connecting || this._ended) {
          if (cb) {
            cb();
          } else {
            return this._Promise.resolve();
          }
        }
        if (this.activeQuery || !this._queryable) {
          this.connection.stream.destroy();
        } else {
          this.connection.end();
        }
        if (cb) {
          this.connection.once("end", cb);
        } else {
          return new this._Promise((resolve2) => {
            this.connection.once("end", resolve2);
          });
        }
      }
    };
    Client2.Query = Query2;
    module2.exports = Client2;
  }
});

// node_modules/pg-pool/index.js
var require_pg_pool = __commonJS({
  "node_modules/pg-pool/index.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var NOOP = function() {
    };
    var removeWhere = (list, predicate) => {
      const i2 = list.findIndex(predicate);
      return i2 === -1 ? void 0 : list.splice(i2, 1)[0];
    };
    var IdleItem = class {
      constructor(client, idleListener, timeoutId) {
        this.client = client;
        this.idleListener = idleListener;
        this.timeoutId = timeoutId;
      }
    };
    var PendingItem = class {
      constructor(callback) {
        this.callback = callback;
      }
    };
    function throwOnDoubleRelease() {
      throw new Error("Release called on client which has already been released to the pool.");
    }
    function promisify(Promise2, callback) {
      if (callback) {
        return { callback, result: void 0 };
      }
      let rej;
      let res;
      const cb = function(err, client) {
        err ? rej(err) : res(client);
      };
      const result = new Promise2(function(resolve2, reject) {
        res = resolve2;
        rej = reject;
      }).catch((err) => {
        Error.captureStackTrace(err);
        throw err;
      });
      return { callback: cb, result };
    }
    function makeIdleListener(pool2, client) {
      return function idleListener(err) {
        err.client = client;
        client.removeListener("error", idleListener);
        client.on("error", () => {
          pool2.log("additional client error after disconnection due to error", err);
        });
        pool2._remove(client);
        pool2.emit("error", err, client);
      };
    }
    var Pool2 = class extends EventEmitter {
      constructor(options, Client2) {
        super();
        this.options = Object.assign({}, options);
        if (options != null && "password" in options) {
          Object.defineProperty(this.options, "password", {
            configurable: true,
            enumerable: false,
            writable: true,
            value: options.password
          });
        }
        if (options != null && options.ssl && options.ssl.key) {
          Object.defineProperty(this.options.ssl, "key", {
            enumerable: false
          });
        }
        this.options.max = this.options.max || this.options.poolSize || 10;
        this.options.min = this.options.min || 0;
        this.options.maxUses = this.options.maxUses || Infinity;
        this.options.allowExitOnIdle = this.options.allowExitOnIdle || false;
        this.options.maxLifetimeSeconds = this.options.maxLifetimeSeconds || 0;
        this.log = this.options.log || function() {
        };
        this.Client = this.options.Client || Client2 || require_lib2().Client;
        this.Promise = this.options.Promise || global.Promise;
        if (typeof this.options.idleTimeoutMillis === "undefined") {
          this.options.idleTimeoutMillis = 1e4;
        }
        this._clients = [];
        this._idle = [];
        this._expired = /* @__PURE__ */ new WeakSet();
        this._pendingQueue = [];
        this._endCallback = void 0;
        this.ending = false;
        this.ended = false;
      }
      _isFull() {
        return this._clients.length >= this.options.max;
      }
      _isAboveMin() {
        return this._clients.length > this.options.min;
      }
      _pulseQueue() {
        this.log("pulse queue");
        if (this.ended) {
          this.log("pulse queue ended");
          return;
        }
        if (this.ending) {
          this.log("pulse queue on ending");
          if (this._idle.length) {
            this._idle.slice().map((item) => {
              this._remove(item.client);
            });
          }
          if (!this._clients.length) {
            this.ended = true;
            this._endCallback();
          }
          return;
        }
        if (!this._pendingQueue.length) {
          this.log("no queued requests");
          return;
        }
        if (!this._idle.length && this._isFull()) {
          return;
        }
        const pendingItem = this._pendingQueue.shift();
        if (this._idle.length) {
          const idleItem = this._idle.pop();
          clearTimeout(idleItem.timeoutId);
          const client = idleItem.client;
          client.ref && client.ref();
          const idleListener = idleItem.idleListener;
          return this._acquireClient(client, pendingItem, idleListener, false);
        }
        if (!this._isFull()) {
          return this.newClient(pendingItem);
        }
        throw new Error("unexpected condition");
      }
      _remove(client, callback) {
        const removed = removeWhere(this._idle, (item) => item.client === client);
        if (removed !== void 0) {
          clearTimeout(removed.timeoutId);
        }
        this._clients = this._clients.filter((c) => c !== client);
        const context = this;
        client.end(() => {
          context.emit("remove", client);
          if (typeof callback === "function") {
            callback();
          }
        });
      }
      connect(cb) {
        if (this.ending) {
          const err = new Error("Cannot use a pool after calling end on the pool");
          return cb ? cb(err) : this.Promise.reject(err);
        }
        const response = promisify(this.Promise, cb);
        const result = response.result;
        if (this._isFull() || this._idle.length) {
          if (this._idle.length) {
            process.nextTick(() => this._pulseQueue());
          }
          if (!this.options.connectionTimeoutMillis) {
            this._pendingQueue.push(new PendingItem(response.callback));
            return result;
          }
          const queueCallback = (err, res, done) => {
            clearTimeout(tid);
            response.callback(err, res, done);
          };
          const pendingItem = new PendingItem(queueCallback);
          const tid = setTimeout(() => {
            removeWhere(this._pendingQueue, (i2) => i2.callback === queueCallback);
            pendingItem.timedOut = true;
            response.callback(new Error("timeout exceeded when trying to connect"));
          }, this.options.connectionTimeoutMillis);
          if (tid.unref) {
            tid.unref();
          }
          this._pendingQueue.push(pendingItem);
          return result;
        }
        this.newClient(new PendingItem(response.callback));
        return result;
      }
      newClient(pendingItem) {
        const client = new this.Client(this.options);
        this._clients.push(client);
        const idleListener = makeIdleListener(this, client);
        this.log("checking client timeout");
        let tid;
        let timeoutHit = false;
        if (this.options.connectionTimeoutMillis) {
          tid = setTimeout(() => {
            this.log("ending client due to timeout");
            timeoutHit = true;
            client.connection ? client.connection.stream.destroy() : client.end();
          }, this.options.connectionTimeoutMillis);
        }
        this.log("connecting new client");
        client.connect((err) => {
          if (tid) {
            clearTimeout(tid);
          }
          client.on("error", idleListener);
          if (err) {
            this.log("client failed to connect", err);
            this._clients = this._clients.filter((c) => c !== client);
            if (timeoutHit) {
              err = new Error("Connection terminated due to connection timeout", { cause: err });
            }
            this._pulseQueue();
            if (!pendingItem.timedOut) {
              pendingItem.callback(err, void 0, NOOP);
            }
          } else {
            this.log("new client connected");
            if (this.options.maxLifetimeSeconds !== 0) {
              const maxLifetimeTimeout = setTimeout(() => {
                this.log("ending client due to expired lifetime");
                this._expired.add(client);
                const idleIndex = this._idle.findIndex((idleItem) => idleItem.client === client);
                if (idleIndex !== -1) {
                  this._acquireClient(
                    client,
                    new PendingItem((err2, client2, clientRelease) => clientRelease()),
                    idleListener,
                    false
                  );
                }
              }, this.options.maxLifetimeSeconds * 1e3);
              maxLifetimeTimeout.unref();
              client.once("end", () => clearTimeout(maxLifetimeTimeout));
            }
            return this._acquireClient(client, pendingItem, idleListener, true);
          }
        });
      }
      // acquire a client for a pending work item
      _acquireClient(client, pendingItem, idleListener, isNew) {
        if (isNew) {
          this.emit("connect", client);
        }
        this.emit("acquire", client);
        client.release = this._releaseOnce(client, idleListener);
        client.removeListener("error", idleListener);
        if (!pendingItem.timedOut) {
          if (isNew && this.options.verify) {
            this.options.verify(client, (err) => {
              if (err) {
                client.release(err);
                return pendingItem.callback(err, void 0, NOOP);
              }
              pendingItem.callback(void 0, client, client.release);
            });
          } else {
            pendingItem.callback(void 0, client, client.release);
          }
        } else {
          if (isNew && this.options.verify) {
            this.options.verify(client, client.release);
          } else {
            client.release();
          }
        }
      }
      // returns a function that wraps _release and throws if called more than once
      _releaseOnce(client, idleListener) {
        let released = false;
        return (err) => {
          if (released) {
            throwOnDoubleRelease();
          }
          released = true;
          this._release(client, idleListener, err);
        };
      }
      // release a client back to the poll, include an error
      // to remove it from the pool
      _release(client, idleListener, err) {
        client.on("error", idleListener);
        client._poolUseCount = (client._poolUseCount || 0) + 1;
        this.emit("release", err, client);
        if (err || this.ending || !client._queryable || client._ending || client._poolUseCount >= this.options.maxUses) {
          if (client._poolUseCount >= this.options.maxUses) {
            this.log("remove expended client");
          }
          return this._remove(client, this._pulseQueue.bind(this));
        }
        const isExpired = this._expired.has(client);
        if (isExpired) {
          this.log("remove expired client");
          this._expired.delete(client);
          return this._remove(client, this._pulseQueue.bind(this));
        }
        let tid;
        if (this.options.idleTimeoutMillis && this._isAboveMin()) {
          tid = setTimeout(() => {
            this.log("remove idle client");
            this._remove(client, this._pulseQueue.bind(this));
          }, this.options.idleTimeoutMillis);
          if (this.options.allowExitOnIdle) {
            tid.unref();
          }
        }
        if (this.options.allowExitOnIdle) {
          client.unref();
        }
        this._idle.push(new IdleItem(client, idleListener, tid));
        this._pulseQueue();
      }
      query(text2, values, cb) {
        if (typeof text2 === "function") {
          const response2 = promisify(this.Promise, text2);
          setImmediate(function() {
            return response2.callback(new Error("Passing a function as the first parameter to pool.query is not supported"));
          });
          return response2.result;
        }
        if (typeof values === "function") {
          cb = values;
          values = void 0;
        }
        const response = promisify(this.Promise, cb);
        cb = response.callback;
        this.connect((err, client) => {
          if (err) {
            return cb(err);
          }
          let clientReleased = false;
          const onError = (err2) => {
            if (clientReleased) {
              return;
            }
            clientReleased = true;
            client.release(err2);
            cb(err2);
          };
          client.once("error", onError);
          this.log("dispatching query");
          try {
            client.query(text2, values, (err2, res) => {
              this.log("query dispatched");
              client.removeListener("error", onError);
              if (clientReleased) {
                return;
              }
              clientReleased = true;
              client.release(err2);
              if (err2) {
                return cb(err2);
              }
              return cb(void 0, res);
            });
          } catch (err2) {
            client.release(err2);
            return cb(err2);
          }
        });
        return response.result;
      }
      end(cb) {
        this.log("ending");
        if (this.ending) {
          const err = new Error("Called end on pool more than once");
          return cb ? cb(err) : this.Promise.reject(err);
        }
        this.ending = true;
        const promised = promisify(this.Promise, cb);
        this._endCallback = promised.callback;
        this._pulseQueue();
        return promised.result;
      }
      get waitingCount() {
        return this._pendingQueue.length;
      }
      get idleCount() {
        return this._idle.length;
      }
      get expiredCount() {
        return this._clients.reduce((acc, client) => acc + (this._expired.has(client) ? 1 : 0), 0);
      }
      get totalCount() {
        return this._clients.length;
      }
    };
    module2.exports = Pool2;
  }
});

// node_modules/pg/lib/native/query.js
var require_query2 = __commonJS({
  "node_modules/pg/lib/native/query.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var util2 = require("util");
    var utils = require_utils();
    var NativeQuery = module2.exports = function(config2, values, callback) {
      EventEmitter.call(this);
      config2 = utils.normalizeQueryConfig(config2, values, callback);
      this.text = config2.text;
      this.values = config2.values;
      this.name = config2.name;
      this.queryMode = config2.queryMode;
      this.callback = config2.callback;
      this.state = "new";
      this._arrayMode = config2.rowMode === "array";
      this._emitRowEvents = false;
      this.on(
        "newListener",
        function(event) {
          if (event === "row") this._emitRowEvents = true;
        }.bind(this)
      );
    };
    util2.inherits(NativeQuery, EventEmitter);
    var errorFieldMap = {
      sqlState: "code",
      statementPosition: "position",
      messagePrimary: "message",
      context: "where",
      schemaName: "schema",
      tableName: "table",
      columnName: "column",
      dataTypeName: "dataType",
      constraintName: "constraint",
      sourceFile: "file",
      sourceLine: "line",
      sourceFunction: "routine"
    };
    NativeQuery.prototype.handleError = function(err) {
      const fields = this.native.pq.resultErrorFields();
      if (fields) {
        for (const key in fields) {
          const normalizedFieldName = errorFieldMap[key] || key;
          err[normalizedFieldName] = fields[key];
        }
      }
      if (this.callback) {
        this.callback(err);
      } else {
        this.emit("error", err);
      }
      this.state = "error";
    };
    NativeQuery.prototype.then = function(onSuccess, onFailure) {
      return this._getPromise().then(onSuccess, onFailure);
    };
    NativeQuery.prototype.catch = function(callback) {
      return this._getPromise().catch(callback);
    };
    NativeQuery.prototype._getPromise = function() {
      if (this._promise) return this._promise;
      this._promise = new Promise(
        function(resolve2, reject) {
          this._once("end", resolve2);
          this._once("error", reject);
        }.bind(this)
      );
      return this._promise;
    };
    NativeQuery.prototype.submit = function(client) {
      this.state = "running";
      const self = this;
      this.native = client.native;
      client.native.arrayMode = this._arrayMode;
      let after = function(err, rows, results) {
        client.native.arrayMode = false;
        setImmediate(function() {
          self.emit("_done");
        });
        if (err) {
          return self.handleError(err);
        }
        if (self._emitRowEvents) {
          if (results.length > 1) {
            rows.forEach((rowOfRows, i2) => {
              rowOfRows.forEach((row) => {
                self.emit("row", row, results[i2]);
              });
            });
          } else {
            rows.forEach(function(row) {
              self.emit("row", row, results);
            });
          }
        }
        self.state = "end";
        self.emit("end", results);
        if (self.callback) {
          self.callback(null, results);
        }
      };
      if (process.domain) {
        after = process.domain.bind(after);
      }
      if (this.name) {
        if (this.name.length > 63) {
          console.error("Warning! Postgres only supports 63 characters for query names.");
          console.error("You supplied %s (%s)", this.name, this.name.length);
          console.error("This can cause conflicts and silent errors executing queries");
        }
        const values = (this.values || []).map(utils.prepareValue);
        if (client.namedQueries[this.name]) {
          if (this.text && client.namedQueries[this.name] !== this.text) {
            const err = new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);
            return after(err);
          }
          return client.native.execute(this.name, values, after);
        }
        return client.native.prepare(this.name, this.text, values.length, function(err) {
          if (err) return after(err);
          client.namedQueries[self.name] = self.text;
          return self.native.execute(self.name, values, after);
        });
      } else if (this.values) {
        if (!Array.isArray(this.values)) {
          const err = new Error("Query values must be an array");
          return after(err);
        }
        const vals = this.values.map(utils.prepareValue);
        client.native.query(this.text, vals, after);
      } else if (this.queryMode === "extended") {
        client.native.query(this.text, [], after);
      } else {
        client.native.query(this.text, after);
      }
    };
  }
});

// node_modules/pg/lib/native/client.js
var require_client2 = __commonJS({
  "node_modules/pg/lib/native/client.js"(exports2, module2) {
    "use strict";
    var Native;
    try {
      Native = require("pg-native");
    } catch (e2) {
      throw e2;
    }
    var TypeOverrides2 = require_type_overrides();
    var EventEmitter = require("events").EventEmitter;
    var util2 = require("util");
    var ConnectionParameters = require_connection_parameters();
    var NativeQuery = require_query2();
    var Client2 = module2.exports = function(config2) {
      EventEmitter.call(this);
      config2 = config2 || {};
      this._Promise = config2.Promise || global.Promise;
      this._types = new TypeOverrides2(config2.types);
      this.native = new Native({
        types: this._types
      });
      this._queryQueue = [];
      this._ending = false;
      this._connecting = false;
      this._connected = false;
      this._queryable = true;
      const cp = this.connectionParameters = new ConnectionParameters(config2);
      if (config2.nativeConnectionString) cp.nativeConnectionString = config2.nativeConnectionString;
      this.user = cp.user;
      Object.defineProperty(this, "password", {
        configurable: true,
        enumerable: false,
        writable: true,
        value: cp.password
      });
      this.database = cp.database;
      this.host = cp.host;
      this.port = cp.port;
      this.namedQueries = {};
    };
    Client2.Query = NativeQuery;
    util2.inherits(Client2, EventEmitter);
    Client2.prototype._errorAllQueries = function(err) {
      const enqueueError = (query) => {
        process.nextTick(() => {
          query.native = this.native;
          query.handleError(err);
        });
      };
      if (this._hasActiveQuery()) {
        enqueueError(this._activeQuery);
        this._activeQuery = null;
      }
      this._queryQueue.forEach(enqueueError);
      this._queryQueue.length = 0;
    };
    Client2.prototype._connect = function(cb) {
      const self = this;
      if (this._connecting) {
        process.nextTick(() => cb(new Error("Client has already been connected. You cannot reuse a client.")));
        return;
      }
      this._connecting = true;
      this.connectionParameters.getLibpqConnectionString(function(err, conString) {
        if (self.connectionParameters.nativeConnectionString) conString = self.connectionParameters.nativeConnectionString;
        if (err) return cb(err);
        self.native.connect(conString, function(err2) {
          if (err2) {
            self.native.end();
            return cb(err2);
          }
          self._connected = true;
          self.native.on("error", function(err3) {
            self._queryable = false;
            self._errorAllQueries(err3);
            self.emit("error", err3);
          });
          self.native.on("notification", function(msg) {
            self.emit("notification", {
              channel: msg.relname,
              payload: msg.extra
            });
          });
          self.emit("connect");
          self._pulseQueryQueue(true);
          cb();
        });
      });
    };
    Client2.prototype.connect = function(callback) {
      if (callback) {
        this._connect(callback);
        return;
      }
      return new this._Promise((resolve2, reject) => {
        this._connect((error45) => {
          if (error45) {
            reject(error45);
          } else {
            resolve2();
          }
        });
      });
    };
    Client2.prototype.query = function(config2, values, callback) {
      let query;
      let result;
      let readTimeout;
      let readTimeoutTimer;
      let queryCallback;
      if (config2 === null || config2 === void 0) {
        throw new TypeError("Client was passed a null or undefined query");
      } else if (typeof config2.submit === "function") {
        readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
        result = query = config2;
        if (typeof values === "function") {
          config2.callback = values;
        }
      } else {
        readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
        query = new NativeQuery(config2, values, callback);
        if (!query.callback) {
          let resolveOut, rejectOut;
          result = new this._Promise((resolve2, reject) => {
            resolveOut = resolve2;
            rejectOut = reject;
          }).catch((err) => {
            Error.captureStackTrace(err);
            throw err;
          });
          query.callback = (err, res) => err ? rejectOut(err) : resolveOut(res);
        }
      }
      if (readTimeout) {
        queryCallback = query.callback;
        readTimeoutTimer = setTimeout(() => {
          const error45 = new Error("Query read timeout");
          process.nextTick(() => {
            query.handleError(error45, this.connection);
          });
          queryCallback(error45);
          query.callback = () => {
          };
          const index = this._queryQueue.indexOf(query);
          if (index > -1) {
            this._queryQueue.splice(index, 1);
          }
          this._pulseQueryQueue();
        }, readTimeout);
        query.callback = (err, res) => {
          clearTimeout(readTimeoutTimer);
          queryCallback(err, res);
        };
      }
      if (!this._queryable) {
        query.native = this.native;
        process.nextTick(() => {
          query.handleError(new Error("Client has encountered a connection error and is not queryable"));
        });
        return result;
      }
      if (this._ending) {
        query.native = this.native;
        process.nextTick(() => {
          query.handleError(new Error("Client was closed and is not queryable"));
        });
        return result;
      }
      this._queryQueue.push(query);
      this._pulseQueryQueue();
      return result;
    };
    Client2.prototype.end = function(cb) {
      const self = this;
      this._ending = true;
      if (!this._connected) {
        this.once("connect", this.end.bind(this, cb));
      }
      let result;
      if (!cb) {
        result = new this._Promise(function(resolve2, reject) {
          cb = (err) => err ? reject(err) : resolve2();
        });
      }
      this.native.end(function() {
        self._errorAllQueries(new Error("Connection terminated"));
        process.nextTick(() => {
          self.emit("end");
          if (cb) cb();
        });
      });
      return result;
    };
    Client2.prototype._hasActiveQuery = function() {
      return this._activeQuery && this._activeQuery.state !== "error" && this._activeQuery.state !== "end";
    };
    Client2.prototype._pulseQueryQueue = function(initialConnection) {
      if (!this._connected) {
        return;
      }
      if (this._hasActiveQuery()) {
        return;
      }
      const query = this._queryQueue.shift();
      if (!query) {
        if (!initialConnection) {
          this.emit("drain");
        }
        return;
      }
      this._activeQuery = query;
      query.submit(this);
      const self = this;
      query.once("_done", function() {
        self._pulseQueryQueue();
      });
    };
    Client2.prototype.cancel = function(query) {
      if (this._activeQuery === query) {
        this.native.cancel(function() {
        });
      } else if (this._queryQueue.indexOf(query) !== -1) {
        this._queryQueue.splice(this._queryQueue.indexOf(query), 1);
      }
    };
    Client2.prototype.ref = function() {
    };
    Client2.prototype.unref = function() {
    };
    Client2.prototype.setTypeParser = function(oid, format, parseFn) {
      return this._types.setTypeParser(oid, format, parseFn);
    };
    Client2.prototype.getTypeParser = function(oid, format) {
      return this._types.getTypeParser(oid, format);
    };
  }
});

// node_modules/pg/lib/native/index.js
var require_native = __commonJS({
  "node_modules/pg/lib/native/index.js"(exports2, module2) {
    "use strict";
    module2.exports = require_client2();
  }
});

// node_modules/pg/lib/index.js
var require_lib2 = __commonJS({
  "node_modules/pg/lib/index.js"(exports2, module2) {
    "use strict";
    var Client2 = require_client();
    var defaults2 = require_defaults();
    var Connection2 = require_connection();
    var Result2 = require_result();
    var utils = require_utils();
    var Pool2 = require_pg_pool();
    var TypeOverrides2 = require_type_overrides();
    var { DatabaseError: DatabaseError2 } = require_dist();
    var { escapeIdentifier: escapeIdentifier2, escapeLiteral: escapeLiteral2 } = require_utils();
    var poolFactory = (Client3) => {
      return class BoundPool extends Pool2 {
        constructor(options) {
          super(options, Client3);
        }
      };
    };
    var PG = function(clientConstructor) {
      this.defaults = defaults2;
      this.Client = clientConstructor;
      this.Query = this.Client.Query;
      this.Pool = poolFactory(this.Client);
      this._pools = [];
      this.Connection = Connection2;
      this.types = require_pg_types();
      this.DatabaseError = DatabaseError2;
      this.TypeOverrides = TypeOverrides2;
      this.escapeIdentifier = escapeIdentifier2;
      this.escapeLiteral = escapeLiteral2;
      this.Result = Result2;
      this.utils = utils;
    };
    if (typeof process.env.NODE_PG_FORCE_NATIVE !== "undefined") {
      module2.exports = new PG(require_native());
    } else {
      module2.exports = new PG(Client2);
      Object.defineProperty(module2.exports, "native", {
        configurable: true,
        enumerable: false,
        get() {
          let native = null;
          try {
            native = new PG(require_native());
          } catch (err) {
            if (err.code !== "MODULE_NOT_FOUND") {
              throw err;
            }
          }
          Object.defineProperty(module2.exports, "native", {
            value: native
          });
          return native;
        }
      });
    }
  }
});

// agent.ts
var agent_exports = {};
__export(agent_exports, {
  default: () => agent_default
});
module.exports = __toCommonJS(agent_exports);

// node_modules/@ai-sdk/provider/dist/index.mjs
var marker = "vercel.ai.error";
var symbol = Symbol.for(marker);
var _a;
var _AISDKError = class _AISDKError2 extends Error {
  /**
   * Creates an AI SDK Error.
   *
   * @param {Object} params - The parameters for creating the error.
   * @param {string} params.name - The name of the error.
   * @param {string} params.message - The error message.
   * @param {unknown} [params.cause] - The underlying cause of the error.
   */
  constructor({
    name: name143,
    message,
    cause
  }) {
    super(message);
    this[_a] = true;
    this.name = name143;
    this.cause = cause;
  }
  /**
   * Checks if the given error is an AI SDK Error.
   * @param {unknown} error - The error to check.
   * @returns {boolean} True if the error is an AI SDK Error, false otherwise.
   */
  static isInstance(error45) {
    return _AISDKError2.hasMarker(error45, marker);
  }
  static hasMarker(error45, marker153) {
    const markerSymbol = Symbol.for(marker153);
    return error45 != null && typeof error45 === "object" && markerSymbol in error45 && typeof error45[markerSymbol] === "boolean" && error45[markerSymbol] === true;
  }
};
_a = symbol;
var AISDKError = _AISDKError;
var name = "AI_APICallError";
var marker2 = `vercel.ai.error.${name}`;
var symbol2 = Symbol.for(marker2);
var _a2;
var APICallError = class extends AISDKError {
  constructor({
    message,
    url: url2,
    requestBodyValues,
    statusCode,
    responseHeaders,
    responseBody,
    cause,
    isRetryable = statusCode != null && (statusCode === 408 || // request timeout
    statusCode === 409 || // conflict
    statusCode === 429 || // too many requests
    statusCode >= 500),
    // server error
    data
  }) {
    super({ name, message, cause });
    this[_a2] = true;
    this.url = url2;
    this.requestBodyValues = requestBodyValues;
    this.statusCode = statusCode;
    this.responseHeaders = responseHeaders;
    this.responseBody = responseBody;
    this.isRetryable = isRetryable;
    this.data = data;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker2);
  }
};
_a2 = symbol2;
var name2 = "AI_EmptyResponseBodyError";
var marker3 = `vercel.ai.error.${name2}`;
var symbol3 = Symbol.for(marker3);
var _a3;
var EmptyResponseBodyError = class extends AISDKError {
  // used in isInstance
  constructor({ message = "Empty response body" } = {}) {
    super({ name: name2, message });
    this[_a3] = true;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker3);
  }
};
_a3 = symbol3;
function getErrorMessage(error45) {
  if (error45 == null) {
    return "unknown error";
  }
  if (typeof error45 === "string") {
    return error45;
  }
  if (error45 instanceof Error) {
    return error45.message;
  }
  return JSON.stringify(error45);
}
var name3 = "AI_InvalidArgumentError";
var marker4 = `vercel.ai.error.${name3}`;
var symbol4 = Symbol.for(marker4);
var _a4;
var InvalidArgumentError = class extends AISDKError {
  constructor({
    message,
    cause,
    argument
  }) {
    super({ name: name3, message, cause });
    this[_a4] = true;
    this.argument = argument;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker4);
  }
};
_a4 = symbol4;
var name4 = "AI_InvalidPromptError";
var marker5 = `vercel.ai.error.${name4}`;
var symbol5 = Symbol.for(marker5);
var _a5;
var InvalidPromptError = class extends AISDKError {
  constructor({
    prompt,
    message,
    cause
  }) {
    super({ name: name4, message: `Invalid prompt: ${message}`, cause });
    this[_a5] = true;
    this.prompt = prompt;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker5);
  }
};
_a5 = symbol5;
var name5 = "AI_InvalidResponseDataError";
var marker6 = `vercel.ai.error.${name5}`;
var symbol6 = Symbol.for(marker6);
var _a6;
_a6 = symbol6;
var name6 = "AI_JSONParseError";
var marker7 = `vercel.ai.error.${name6}`;
var symbol7 = Symbol.for(marker7);
var _a7;
var JSONParseError = class extends AISDKError {
  constructor({ text: text2, cause }) {
    super({
      name: name6,
      message: `JSON parsing failed: Text: ${text2}.
Error message: ${getErrorMessage(cause)}`,
      cause
    });
    this[_a7] = true;
    this.text = text2;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker7);
  }
};
_a7 = symbol7;
var name7 = "AI_LoadAPIKeyError";
var marker8 = `vercel.ai.error.${name7}`;
var symbol8 = Symbol.for(marker8);
var _a8;
_a8 = symbol8;
var name8 = "AI_LoadSettingError";
var marker9 = `vercel.ai.error.${name8}`;
var symbol9 = Symbol.for(marker9);
var _a9;
_a9 = symbol9;
var name9 = "AI_NoContentGeneratedError";
var marker10 = `vercel.ai.error.${name9}`;
var symbol10 = Symbol.for(marker10);
var _a10;
_a10 = symbol10;
var name10 = "AI_NoSuchModelError";
var marker11 = `vercel.ai.error.${name10}`;
var symbol11 = Symbol.for(marker11);
var _a11;
var NoSuchModelError = class extends AISDKError {
  constructor({
    errorName = name10,
    modelId,
    modelType,
    message = `No such ${modelType}: ${modelId}`
  }) {
    super({ name: errorName, message });
    this[_a11] = true;
    this.modelId = modelId;
    this.modelType = modelType;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker11);
  }
};
_a11 = symbol11;
var name11 = "AI_TooManyEmbeddingValuesForCallError";
var marker12 = `vercel.ai.error.${name11}`;
var symbol12 = Symbol.for(marker12);
var _a12;
_a12 = symbol12;
var name12 = "AI_TypeValidationError";
var marker13 = `vercel.ai.error.${name12}`;
var symbol13 = Symbol.for(marker13);
var _a13;
var _TypeValidationError = class _TypeValidationError2 extends AISDKError {
  constructor({ value, cause }) {
    super({
      name: name12,
      message: `Type validation failed: Value: ${JSON.stringify(value)}.
Error message: ${getErrorMessage(cause)}`,
      cause
    });
    this[_a13] = true;
    this.value = value;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker13);
  }
  /**
   * Wraps an error into a TypeValidationError.
   * If the cause is already a TypeValidationError with the same value, it returns the cause.
   * Otherwise, it creates a new TypeValidationError.
   *
   * @param {Object} params - The parameters for wrapping the error.
   * @param {unknown} params.value - The value that failed validation.
   * @param {unknown} params.cause - The original error or cause of the validation failure.
   * @returns {TypeValidationError} A TypeValidationError instance.
   */
  static wrap({
    value,
    cause
  }) {
    return _TypeValidationError2.isInstance(cause) && cause.value === value ? cause : new _TypeValidationError2({ value, cause });
  }
};
_a13 = symbol13;
var TypeValidationError = _TypeValidationError;
var name13 = "AI_UnsupportedFunctionalityError";
var marker14 = `vercel.ai.error.${name13}`;
var symbol14 = Symbol.for(marker14);
var _a14;
_a14 = symbol14;

// node_modules/eventsource-parser/dist/index.js
var ParseError = class extends Error {
  constructor(message, options) {
    super(message), this.name = "ParseError", this.type = options.type, this.field = options.field, this.value = options.value, this.line = options.line;
  }
};
function noop(_arg) {
}
function createParser(callbacks) {
  if (typeof callbacks == "function")
    throw new TypeError(
      "`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?"
    );
  const { onEvent = noop, onError = noop, onRetry = noop, onComment } = callbacks;
  let incompleteLine = "", isFirstChunk = true, id, data = "", eventType = "";
  function feed(newChunk) {
    const chunk = isFirstChunk ? newChunk.replace(/^\xEF\xBB\xBF/, "") : newChunk, [complete, incomplete] = splitLines(`${incompleteLine}${chunk}`);
    for (const line of complete)
      parseLine(line);
    incompleteLine = incomplete, isFirstChunk = false;
  }
  function parseLine(line) {
    if (line === "") {
      dispatchEvent();
      return;
    }
    if (line.startsWith(":")) {
      onComment && onComment(line.slice(line.startsWith(": ") ? 2 : 1));
      return;
    }
    const fieldSeparatorIndex = line.indexOf(":");
    if (fieldSeparatorIndex !== -1) {
      const field = line.slice(0, fieldSeparatorIndex), offset = line[fieldSeparatorIndex + 1] === " " ? 2 : 1, value = line.slice(fieldSeparatorIndex + offset);
      processField(field, value, line);
      return;
    }
    processField(line, "", line);
  }
  function processField(field, value, line) {
    switch (field) {
      case "event":
        eventType = value;
        break;
      case "data":
        data = `${data}${value}
`;
        break;
      case "id":
        id = value.includes("\0") ? void 0 : value;
        break;
      case "retry":
        /^\d+$/.test(value) ? onRetry(parseInt(value, 10)) : onError(
          new ParseError(`Invalid \`retry\` value: "${value}"`, {
            type: "invalid-retry",
            value,
            line
          })
        );
        break;
      default:
        onError(
          new ParseError(
            `Unknown field "${field.length > 20 ? `${field.slice(0, 20)}\u2026` : field}"`,
            { type: "unknown-field", field, value, line }
          )
        );
        break;
    }
  }
  function dispatchEvent() {
    data.length > 0 && onEvent({
      id,
      event: eventType || void 0,
      // If the data buffer's last character is a U+000A LINE FEED (LF) character,
      // then remove the last character from the data buffer.
      data: data.endsWith(`
`) ? data.slice(0, -1) : data
    }), id = void 0, data = "", eventType = "";
  }
  function reset(options = {}) {
    incompleteLine && options.consume && parseLine(incompleteLine), isFirstChunk = true, id = void 0, data = "", eventType = "", incompleteLine = "";
  }
  return { feed, reset };
}
function splitLines(chunk) {
  const lines = [];
  let incompleteLine = "", searchIndex = 0;
  for (; searchIndex < chunk.length; ) {
    const crIndex = chunk.indexOf("\r", searchIndex), lfIndex = chunk.indexOf(`
`, searchIndex);
    let lineEnd = -1;
    if (crIndex !== -1 && lfIndex !== -1 ? lineEnd = Math.min(crIndex, lfIndex) : crIndex !== -1 ? crIndex === chunk.length - 1 ? lineEnd = -1 : lineEnd = crIndex : lfIndex !== -1 && (lineEnd = lfIndex), lineEnd === -1) {
      incompleteLine = chunk.slice(searchIndex);
      break;
    } else {
      const line = chunk.slice(searchIndex, lineEnd);
      lines.push(line), searchIndex = lineEnd + 1, chunk[searchIndex - 1] === "\r" && chunk[searchIndex] === `
` && searchIndex++;
    }
  }
  return [lines, incompleteLine];
}

// node_modules/eventsource-parser/dist/stream.js
var EventSourceParserStream = class extends TransformStream {
  constructor({ onError, onRetry, onComment } = {}) {
    let parser;
    super({
      start(controller) {
        parser = createParser({
          onEvent: (event) => {
            controller.enqueue(event);
          },
          onError(error45) {
            onError === "terminate" ? controller.error(error45) : typeof onError == "function" && onError(error45);
          },
          onRetry,
          onComment
        });
      },
      transform(chunk) {
        parser.feed(chunk);
      }
    });
  }
};

// node_modules/zod/v4/classic/external.js
var external_exports = {};
__export(external_exports, {
  $brand: () => $brand,
  $input: () => $input,
  $output: () => $output,
  NEVER: () => NEVER,
  TimePrecision: () => TimePrecision,
  ZodAny: () => ZodAny,
  ZodArray: () => ZodArray,
  ZodBase64: () => ZodBase64,
  ZodBase64URL: () => ZodBase64URL,
  ZodBigInt: () => ZodBigInt,
  ZodBigIntFormat: () => ZodBigIntFormat,
  ZodBoolean: () => ZodBoolean,
  ZodCIDRv4: () => ZodCIDRv4,
  ZodCIDRv6: () => ZodCIDRv6,
  ZodCUID: () => ZodCUID,
  ZodCUID2: () => ZodCUID2,
  ZodCatch: () => ZodCatch,
  ZodCodec: () => ZodCodec,
  ZodCustom: () => ZodCustom,
  ZodCustomStringFormat: () => ZodCustomStringFormat,
  ZodDate: () => ZodDate,
  ZodDefault: () => ZodDefault,
  ZodDiscriminatedUnion: () => ZodDiscriminatedUnion,
  ZodE164: () => ZodE164,
  ZodEmail: () => ZodEmail,
  ZodEmoji: () => ZodEmoji,
  ZodEnum: () => ZodEnum,
  ZodError: () => ZodError,
  ZodFile: () => ZodFile,
  ZodFirstPartyTypeKind: () => ZodFirstPartyTypeKind,
  ZodFunction: () => ZodFunction,
  ZodGUID: () => ZodGUID,
  ZodIPv4: () => ZodIPv4,
  ZodIPv6: () => ZodIPv6,
  ZodISODate: () => ZodISODate,
  ZodISODateTime: () => ZodISODateTime,
  ZodISODuration: () => ZodISODuration,
  ZodISOTime: () => ZodISOTime,
  ZodIntersection: () => ZodIntersection,
  ZodIssueCode: () => ZodIssueCode,
  ZodJWT: () => ZodJWT,
  ZodKSUID: () => ZodKSUID,
  ZodLazy: () => ZodLazy,
  ZodLiteral: () => ZodLiteral,
  ZodMap: () => ZodMap,
  ZodNaN: () => ZodNaN,
  ZodNanoID: () => ZodNanoID,
  ZodNever: () => ZodNever,
  ZodNonOptional: () => ZodNonOptional,
  ZodNull: () => ZodNull,
  ZodNullable: () => ZodNullable,
  ZodNumber: () => ZodNumber,
  ZodNumberFormat: () => ZodNumberFormat,
  ZodObject: () => ZodObject,
  ZodOptional: () => ZodOptional,
  ZodPipe: () => ZodPipe,
  ZodPrefault: () => ZodPrefault,
  ZodPromise: () => ZodPromise,
  ZodReadonly: () => ZodReadonly,
  ZodRealError: () => ZodRealError,
  ZodRecord: () => ZodRecord,
  ZodSet: () => ZodSet,
  ZodString: () => ZodString,
  ZodStringFormat: () => ZodStringFormat,
  ZodSuccess: () => ZodSuccess,
  ZodSymbol: () => ZodSymbol,
  ZodTemplateLiteral: () => ZodTemplateLiteral,
  ZodTransform: () => ZodTransform,
  ZodTuple: () => ZodTuple,
  ZodType: () => ZodType,
  ZodULID: () => ZodULID,
  ZodURL: () => ZodURL,
  ZodUUID: () => ZodUUID,
  ZodUndefined: () => ZodUndefined,
  ZodUnion: () => ZodUnion,
  ZodUnknown: () => ZodUnknown,
  ZodVoid: () => ZodVoid,
  ZodXID: () => ZodXID,
  _ZodString: () => _ZodString,
  _default: () => _default2,
  _function: () => _function,
  any: () => any,
  array: () => array,
  base64: () => base642,
  base64url: () => base64url2,
  bigint: () => bigint2,
  boolean: () => boolean2,
  catch: () => _catch2,
  check: () => check,
  cidrv4: () => cidrv42,
  cidrv6: () => cidrv62,
  clone: () => clone,
  codec: () => codec,
  coerce: () => coerce_exports,
  config: () => config,
  core: () => core_exports2,
  cuid: () => cuid3,
  cuid2: () => cuid22,
  custom: () => custom,
  date: () => date3,
  decode: () => decode2,
  decodeAsync: () => decodeAsync2,
  discriminatedUnion: () => discriminatedUnion,
  e164: () => e1642,
  email: () => email2,
  emoji: () => emoji2,
  encode: () => encode2,
  encodeAsync: () => encodeAsync2,
  endsWith: () => _endsWith,
  enum: () => _enum2,
  file: () => file,
  flattenError: () => flattenError,
  float32: () => float32,
  float64: () => float64,
  formatError: () => formatError,
  function: () => _function,
  getErrorMap: () => getErrorMap,
  globalRegistry: () => globalRegistry,
  gt: () => _gt,
  gte: () => _gte,
  guid: () => guid2,
  hash: () => hash,
  hex: () => hex2,
  hostname: () => hostname2,
  httpUrl: () => httpUrl,
  includes: () => _includes,
  instanceof: () => _instanceof,
  int: () => int,
  int32: () => int32,
  int64: () => int64,
  intersection: () => intersection,
  ipv4: () => ipv42,
  ipv6: () => ipv62,
  iso: () => iso_exports,
  json: () => json,
  jwt: () => jwt,
  keyof: () => keyof,
  ksuid: () => ksuid2,
  lazy: () => lazy,
  length: () => _length,
  literal: () => literal,
  locales: () => locales_exports,
  looseObject: () => looseObject,
  lowercase: () => _lowercase,
  lt: () => _lt,
  lte: () => _lte,
  map: () => map,
  maxLength: () => _maxLength,
  maxSize: () => _maxSize,
  mime: () => _mime,
  minLength: () => _minLength,
  minSize: () => _minSize,
  multipleOf: () => _multipleOf,
  nan: () => nan,
  nanoid: () => nanoid2,
  nativeEnum: () => nativeEnum,
  negative: () => _negative,
  never: () => never,
  nonnegative: () => _nonnegative,
  nonoptional: () => nonoptional,
  nonpositive: () => _nonpositive,
  normalize: () => _normalize,
  null: () => _null3,
  nullable: () => nullable,
  nullish: () => nullish2,
  number: () => number2,
  object: () => object,
  optional: () => optional,
  overwrite: () => _overwrite,
  parse: () => parse2,
  parseAsync: () => parseAsync2,
  partialRecord: () => partialRecord,
  pipe: () => pipe,
  positive: () => _positive,
  prefault: () => prefault,
  preprocess: () => preprocess,
  prettifyError: () => prettifyError,
  promise: () => promise,
  property: () => _property,
  readonly: () => readonly,
  record: () => record,
  refine: () => refine,
  regex: () => _regex,
  regexes: () => regexes_exports,
  registry: () => registry,
  safeDecode: () => safeDecode2,
  safeDecodeAsync: () => safeDecodeAsync2,
  safeEncode: () => safeEncode2,
  safeEncodeAsync: () => safeEncodeAsync2,
  safeParse: () => safeParse2,
  safeParseAsync: () => safeParseAsync2,
  set: () => set,
  setErrorMap: () => setErrorMap,
  size: () => _size,
  startsWith: () => _startsWith,
  strictObject: () => strictObject,
  string: () => string2,
  stringFormat: () => stringFormat,
  stringbool: () => stringbool,
  success: () => success,
  superRefine: () => superRefine,
  symbol: () => symbol15,
  templateLiteral: () => templateLiteral,
  toJSONSchema: () => toJSONSchema,
  toLowerCase: () => _toLowerCase,
  toUpperCase: () => _toUpperCase,
  transform: () => transform,
  treeifyError: () => treeifyError,
  trim: () => _trim,
  tuple: () => tuple,
  uint32: () => uint32,
  uint64: () => uint64,
  ulid: () => ulid2,
  undefined: () => _undefined3,
  union: () => union,
  unknown: () => unknown,
  uppercase: () => _uppercase,
  url: () => url,
  util: () => util_exports,
  uuid: () => uuid2,
  uuidv4: () => uuidv4,
  uuidv6: () => uuidv6,
  uuidv7: () => uuidv7,
  void: () => _void2,
  xid: () => xid2
});

// node_modules/zod/v4/core/index.js
var core_exports2 = {};
__export(core_exports2, {
  $ZodAny: () => $ZodAny,
  $ZodArray: () => $ZodArray,
  $ZodAsyncError: () => $ZodAsyncError,
  $ZodBase64: () => $ZodBase64,
  $ZodBase64URL: () => $ZodBase64URL,
  $ZodBigInt: () => $ZodBigInt,
  $ZodBigIntFormat: () => $ZodBigIntFormat,
  $ZodBoolean: () => $ZodBoolean,
  $ZodCIDRv4: () => $ZodCIDRv4,
  $ZodCIDRv6: () => $ZodCIDRv6,
  $ZodCUID: () => $ZodCUID,
  $ZodCUID2: () => $ZodCUID2,
  $ZodCatch: () => $ZodCatch,
  $ZodCheck: () => $ZodCheck,
  $ZodCheckBigIntFormat: () => $ZodCheckBigIntFormat,
  $ZodCheckEndsWith: () => $ZodCheckEndsWith,
  $ZodCheckGreaterThan: () => $ZodCheckGreaterThan,
  $ZodCheckIncludes: () => $ZodCheckIncludes,
  $ZodCheckLengthEquals: () => $ZodCheckLengthEquals,
  $ZodCheckLessThan: () => $ZodCheckLessThan,
  $ZodCheckLowerCase: () => $ZodCheckLowerCase,
  $ZodCheckMaxLength: () => $ZodCheckMaxLength,
  $ZodCheckMaxSize: () => $ZodCheckMaxSize,
  $ZodCheckMimeType: () => $ZodCheckMimeType,
  $ZodCheckMinLength: () => $ZodCheckMinLength,
  $ZodCheckMinSize: () => $ZodCheckMinSize,
  $ZodCheckMultipleOf: () => $ZodCheckMultipleOf,
  $ZodCheckNumberFormat: () => $ZodCheckNumberFormat,
  $ZodCheckOverwrite: () => $ZodCheckOverwrite,
  $ZodCheckProperty: () => $ZodCheckProperty,
  $ZodCheckRegex: () => $ZodCheckRegex,
  $ZodCheckSizeEquals: () => $ZodCheckSizeEquals,
  $ZodCheckStartsWith: () => $ZodCheckStartsWith,
  $ZodCheckStringFormat: () => $ZodCheckStringFormat,
  $ZodCheckUpperCase: () => $ZodCheckUpperCase,
  $ZodCodec: () => $ZodCodec,
  $ZodCustom: () => $ZodCustom,
  $ZodCustomStringFormat: () => $ZodCustomStringFormat,
  $ZodDate: () => $ZodDate,
  $ZodDefault: () => $ZodDefault,
  $ZodDiscriminatedUnion: () => $ZodDiscriminatedUnion,
  $ZodE164: () => $ZodE164,
  $ZodEmail: () => $ZodEmail,
  $ZodEmoji: () => $ZodEmoji,
  $ZodEncodeError: () => $ZodEncodeError,
  $ZodEnum: () => $ZodEnum,
  $ZodError: () => $ZodError,
  $ZodFile: () => $ZodFile,
  $ZodFunction: () => $ZodFunction,
  $ZodGUID: () => $ZodGUID,
  $ZodIPv4: () => $ZodIPv4,
  $ZodIPv6: () => $ZodIPv6,
  $ZodISODate: () => $ZodISODate,
  $ZodISODateTime: () => $ZodISODateTime,
  $ZodISODuration: () => $ZodISODuration,
  $ZodISOTime: () => $ZodISOTime,
  $ZodIntersection: () => $ZodIntersection,
  $ZodJWT: () => $ZodJWT,
  $ZodKSUID: () => $ZodKSUID,
  $ZodLazy: () => $ZodLazy,
  $ZodLiteral: () => $ZodLiteral,
  $ZodMap: () => $ZodMap,
  $ZodNaN: () => $ZodNaN,
  $ZodNanoID: () => $ZodNanoID,
  $ZodNever: () => $ZodNever,
  $ZodNonOptional: () => $ZodNonOptional,
  $ZodNull: () => $ZodNull,
  $ZodNullable: () => $ZodNullable,
  $ZodNumber: () => $ZodNumber,
  $ZodNumberFormat: () => $ZodNumberFormat,
  $ZodObject: () => $ZodObject,
  $ZodObjectJIT: () => $ZodObjectJIT,
  $ZodOptional: () => $ZodOptional,
  $ZodPipe: () => $ZodPipe,
  $ZodPrefault: () => $ZodPrefault,
  $ZodPromise: () => $ZodPromise,
  $ZodReadonly: () => $ZodReadonly,
  $ZodRealError: () => $ZodRealError,
  $ZodRecord: () => $ZodRecord,
  $ZodRegistry: () => $ZodRegistry,
  $ZodSet: () => $ZodSet,
  $ZodString: () => $ZodString,
  $ZodStringFormat: () => $ZodStringFormat,
  $ZodSuccess: () => $ZodSuccess,
  $ZodSymbol: () => $ZodSymbol,
  $ZodTemplateLiteral: () => $ZodTemplateLiteral,
  $ZodTransform: () => $ZodTransform,
  $ZodTuple: () => $ZodTuple,
  $ZodType: () => $ZodType,
  $ZodULID: () => $ZodULID,
  $ZodURL: () => $ZodURL,
  $ZodUUID: () => $ZodUUID,
  $ZodUndefined: () => $ZodUndefined,
  $ZodUnion: () => $ZodUnion,
  $ZodUnknown: () => $ZodUnknown,
  $ZodVoid: () => $ZodVoid,
  $ZodXID: () => $ZodXID,
  $brand: () => $brand,
  $constructor: () => $constructor,
  $input: () => $input,
  $output: () => $output,
  Doc: () => Doc,
  JSONSchema: () => json_schema_exports,
  JSONSchemaGenerator: () => JSONSchemaGenerator,
  NEVER: () => NEVER,
  TimePrecision: () => TimePrecision,
  _any: () => _any,
  _array: () => _array,
  _base64: () => _base64,
  _base64url: () => _base64url,
  _bigint: () => _bigint,
  _boolean: () => _boolean,
  _catch: () => _catch,
  _check: () => _check,
  _cidrv4: () => _cidrv4,
  _cidrv6: () => _cidrv6,
  _coercedBigint: () => _coercedBigint,
  _coercedBoolean: () => _coercedBoolean,
  _coercedDate: () => _coercedDate,
  _coercedNumber: () => _coercedNumber,
  _coercedString: () => _coercedString,
  _cuid: () => _cuid,
  _cuid2: () => _cuid2,
  _custom: () => _custom,
  _date: () => _date,
  _decode: () => _decode,
  _decodeAsync: () => _decodeAsync,
  _default: () => _default,
  _discriminatedUnion: () => _discriminatedUnion,
  _e164: () => _e164,
  _email: () => _email,
  _emoji: () => _emoji2,
  _encode: () => _encode,
  _encodeAsync: () => _encodeAsync,
  _endsWith: () => _endsWith,
  _enum: () => _enum,
  _file: () => _file,
  _float32: () => _float32,
  _float64: () => _float64,
  _gt: () => _gt,
  _gte: () => _gte,
  _guid: () => _guid,
  _includes: () => _includes,
  _int: () => _int,
  _int32: () => _int32,
  _int64: () => _int64,
  _intersection: () => _intersection,
  _ipv4: () => _ipv4,
  _ipv6: () => _ipv6,
  _isoDate: () => _isoDate,
  _isoDateTime: () => _isoDateTime,
  _isoDuration: () => _isoDuration,
  _isoTime: () => _isoTime,
  _jwt: () => _jwt,
  _ksuid: () => _ksuid,
  _lazy: () => _lazy,
  _length: () => _length,
  _literal: () => _literal,
  _lowercase: () => _lowercase,
  _lt: () => _lt,
  _lte: () => _lte,
  _map: () => _map,
  _max: () => _lte,
  _maxLength: () => _maxLength,
  _maxSize: () => _maxSize,
  _mime: () => _mime,
  _min: () => _gte,
  _minLength: () => _minLength,
  _minSize: () => _minSize,
  _multipleOf: () => _multipleOf,
  _nan: () => _nan,
  _nanoid: () => _nanoid,
  _nativeEnum: () => _nativeEnum,
  _negative: () => _negative,
  _never: () => _never,
  _nonnegative: () => _nonnegative,
  _nonoptional: () => _nonoptional,
  _nonpositive: () => _nonpositive,
  _normalize: () => _normalize,
  _null: () => _null2,
  _nullable: () => _nullable,
  _number: () => _number,
  _optional: () => _optional,
  _overwrite: () => _overwrite,
  _parse: () => _parse,
  _parseAsync: () => _parseAsync,
  _pipe: () => _pipe,
  _positive: () => _positive,
  _promise: () => _promise,
  _property: () => _property,
  _readonly: () => _readonly,
  _record: () => _record,
  _refine: () => _refine,
  _regex: () => _regex,
  _safeDecode: () => _safeDecode,
  _safeDecodeAsync: () => _safeDecodeAsync,
  _safeEncode: () => _safeEncode,
  _safeEncodeAsync: () => _safeEncodeAsync,
  _safeParse: () => _safeParse,
  _safeParseAsync: () => _safeParseAsync,
  _set: () => _set,
  _size: () => _size,
  _startsWith: () => _startsWith,
  _string: () => _string,
  _stringFormat: () => _stringFormat,
  _stringbool: () => _stringbool,
  _success: () => _success,
  _superRefine: () => _superRefine,
  _symbol: () => _symbol,
  _templateLiteral: () => _templateLiteral,
  _toLowerCase: () => _toLowerCase,
  _toUpperCase: () => _toUpperCase,
  _transform: () => _transform,
  _trim: () => _trim,
  _tuple: () => _tuple,
  _uint32: () => _uint32,
  _uint64: () => _uint64,
  _ulid: () => _ulid,
  _undefined: () => _undefined2,
  _union: () => _union,
  _unknown: () => _unknown,
  _uppercase: () => _uppercase,
  _url: () => _url,
  _uuid: () => _uuid,
  _uuidv4: () => _uuidv4,
  _uuidv6: () => _uuidv6,
  _uuidv7: () => _uuidv7,
  _void: () => _void,
  _xid: () => _xid,
  clone: () => clone,
  config: () => config,
  decode: () => decode,
  decodeAsync: () => decodeAsync,
  encode: () => encode,
  encodeAsync: () => encodeAsync,
  flattenError: () => flattenError,
  formatError: () => formatError,
  globalConfig: () => globalConfig,
  globalRegistry: () => globalRegistry,
  isValidBase64: () => isValidBase64,
  isValidBase64URL: () => isValidBase64URL,
  isValidJWT: () => isValidJWT,
  locales: () => locales_exports,
  parse: () => parse,
  parseAsync: () => parseAsync,
  prettifyError: () => prettifyError,
  regexes: () => regexes_exports,
  registry: () => registry,
  safeDecode: () => safeDecode,
  safeDecodeAsync: () => safeDecodeAsync,
  safeEncode: () => safeEncode,
  safeEncodeAsync: () => safeEncodeAsync,
  safeParse: () => safeParse,
  safeParseAsync: () => safeParseAsync,
  toDotPath: () => toDotPath,
  toJSONSchema: () => toJSONSchema,
  treeifyError: () => treeifyError,
  util: () => util_exports,
  version: () => version
});

// node_modules/zod/v4/core/core.js
var NEVER = Object.freeze({
  status: "aborted"
});
// @__NO_SIDE_EFFECTS__
function $constructor(name17, initializer3, params) {
  function init(inst, def) {
    var _a17;
    Object.defineProperty(inst, "_zod", {
      value: inst._zod ?? {},
      enumerable: false
    });
    (_a17 = inst._zod).traits ?? (_a17.traits = /* @__PURE__ */ new Set());
    inst._zod.traits.add(name17);
    initializer3(inst, def);
    for (const k in _.prototype) {
      if (!(k in inst))
        Object.defineProperty(inst, k, { value: _.prototype[k].bind(inst) });
    }
    inst._zod.constr = _;
    inst._zod.def = def;
  }
  const Parent = params?.Parent ?? Object;
  class Definition extends Parent {
  }
  Object.defineProperty(Definition, "name", { value: name17 });
  function _(def) {
    var _a17;
    const inst = params?.Parent ? new Definition() : this;
    init(inst, def);
    (_a17 = inst._zod).deferred ?? (_a17.deferred = []);
    for (const fn of inst._zod.deferred) {
      fn();
    }
    return inst;
  }
  Object.defineProperty(_, "init", { value: init });
  Object.defineProperty(_, Symbol.hasInstance, {
    value: (inst) => {
      if (params?.Parent && inst instanceof params.Parent)
        return true;
      return inst?._zod?.traits?.has(name17);
    }
  });
  Object.defineProperty(_, "name", { value: name17 });
  return _;
}
var $brand = Symbol("zod_brand");
var $ZodAsyncError = class extends Error {
  constructor() {
    super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`);
  }
};
var $ZodEncodeError = class extends Error {
  constructor(name17) {
    super(`Encountered unidirectional transform during encode: ${name17}`);
    this.name = "ZodEncodeError";
  }
};
var globalConfig = {};
function config(newConfig) {
  if (newConfig)
    Object.assign(globalConfig, newConfig);
  return globalConfig;
}

// node_modules/zod/v4/core/util.js
var util_exports = {};
__export(util_exports, {
  BIGINT_FORMAT_RANGES: () => BIGINT_FORMAT_RANGES,
  Class: () => Class,
  NUMBER_FORMAT_RANGES: () => NUMBER_FORMAT_RANGES,
  aborted: () => aborted,
  allowsEval: () => allowsEval,
  assert: () => assert,
  assertEqual: () => assertEqual,
  assertIs: () => assertIs,
  assertNever: () => assertNever,
  assertNotEqual: () => assertNotEqual,
  assignProp: () => assignProp,
  base64ToUint8Array: () => base64ToUint8Array,
  base64urlToUint8Array: () => base64urlToUint8Array,
  cached: () => cached,
  captureStackTrace: () => captureStackTrace,
  cleanEnum: () => cleanEnum,
  cleanRegex: () => cleanRegex,
  clone: () => clone,
  cloneDef: () => cloneDef,
  createTransparentProxy: () => createTransparentProxy,
  defineLazy: () => defineLazy,
  esc: () => esc,
  escapeRegex: () => escapeRegex,
  extend: () => extend,
  finalizeIssue: () => finalizeIssue,
  floatSafeRemainder: () => floatSafeRemainder,
  getElementAtPath: () => getElementAtPath,
  getEnumValues: () => getEnumValues,
  getLengthableOrigin: () => getLengthableOrigin,
  getParsedType: () => getParsedType,
  getSizableOrigin: () => getSizableOrigin,
  hexToUint8Array: () => hexToUint8Array,
  isObject: () => isObject,
  isPlainObject: () => isPlainObject,
  issue: () => issue,
  joinValues: () => joinValues,
  jsonStringifyReplacer: () => jsonStringifyReplacer,
  merge: () => merge,
  mergeDefs: () => mergeDefs,
  normalizeParams: () => normalizeParams,
  nullish: () => nullish,
  numKeys: () => numKeys,
  objectClone: () => objectClone,
  omit: () => omit,
  optionalKeys: () => optionalKeys,
  partial: () => partial,
  pick: () => pick,
  prefixIssues: () => prefixIssues,
  primitiveTypes: () => primitiveTypes,
  promiseAllObject: () => promiseAllObject,
  propertyKeyTypes: () => propertyKeyTypes,
  randomString: () => randomString,
  required: () => required,
  safeExtend: () => safeExtend,
  shallowClone: () => shallowClone,
  stringifyPrimitive: () => stringifyPrimitive,
  uint8ArrayToBase64: () => uint8ArrayToBase64,
  uint8ArrayToBase64url: () => uint8ArrayToBase64url,
  uint8ArrayToHex: () => uint8ArrayToHex,
  unwrapMessage: () => unwrapMessage
});
function assertEqual(val) {
  return val;
}
function assertNotEqual(val) {
  return val;
}
function assertIs(_arg) {
}
function assertNever(_x) {
  throw new Error();
}
function assert(_) {
}
function getEnumValues(entries) {
  const numericValues = Object.values(entries).filter((v) => typeof v === "number");
  const values = Object.entries(entries).filter(([k, _]) => numericValues.indexOf(+k) === -1).map(([_, v]) => v);
  return values;
}
function joinValues(array2, separator = "|") {
  return array2.map((val) => stringifyPrimitive(val)).join(separator);
}
function jsonStringifyReplacer(_, value) {
  if (typeof value === "bigint")
    return value.toString();
  return value;
}
function cached(getter) {
  const set2 = false;
  return {
    get value() {
      if (!set2) {
        const value = getter();
        Object.defineProperty(this, "value", { value });
        return value;
      }
      throw new Error("cached value already set");
    }
  };
}
function nullish(input) {
  return input === null || input === void 0;
}
function cleanRegex(source) {
  const start = source.startsWith("^") ? 1 : 0;
  const end = source.endsWith("$") ? source.length - 1 : source.length;
  return source.slice(start, end);
}
function floatSafeRemainder(val, step) {
  const valDecCount = (val.toString().split(".")[1] || "").length;
  const stepString = step.toString();
  let stepDecCount = (stepString.split(".")[1] || "").length;
  if (stepDecCount === 0 && /\d?e-\d?/.test(stepString)) {
    const match = stepString.match(/\d?e-(\d?)/);
    if (match?.[1]) {
      stepDecCount = Number.parseInt(match[1]);
    }
  }
  const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
  const valInt = Number.parseInt(val.toFixed(decCount).replace(".", ""));
  const stepInt = Number.parseInt(step.toFixed(decCount).replace(".", ""));
  return valInt % stepInt / 10 ** decCount;
}
var EVALUATING = Symbol("evaluating");
function defineLazy(object3, key, getter) {
  let value = void 0;
  Object.defineProperty(object3, key, {
    get() {
      if (value === EVALUATING) {
        return void 0;
      }
      if (value === void 0) {
        value = EVALUATING;
        value = getter();
      }
      return value;
    },
    set(v) {
      Object.defineProperty(object3, key, {
        value: v
        // configurable: true,
      });
    },
    configurable: true
  });
}
function objectClone(obj) {
  return Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));
}
function assignProp(target, prop, value) {
  Object.defineProperty(target, prop, {
    value,
    writable: true,
    enumerable: true,
    configurable: true
  });
}
function mergeDefs(...defs) {
  const mergedDescriptors = {};
  for (const def of defs) {
    const descriptors = Object.getOwnPropertyDescriptors(def);
    Object.assign(mergedDescriptors, descriptors);
  }
  return Object.defineProperties({}, mergedDescriptors);
}
function cloneDef(schema) {
  return mergeDefs(schema._zod.def);
}
function getElementAtPath(obj, path) {
  if (!path)
    return obj;
  return path.reduce((acc, key) => acc?.[key], obj);
}
function promiseAllObject(promisesObj) {
  const keys = Object.keys(promisesObj);
  const promises = keys.map((key) => promisesObj[key]);
  return Promise.all(promises).then((results) => {
    const resolvedObj = {};
    for (let i2 = 0; i2 < keys.length; i2++) {
      resolvedObj[keys[i2]] = results[i2];
    }
    return resolvedObj;
  });
}
function randomString(length = 10) {
  const chars = "abcdefghijklmnopqrstuvwxyz";
  let str = "";
  for (let i2 = 0; i2 < length; i2++) {
    str += chars[Math.floor(Math.random() * chars.length)];
  }
  return str;
}
function esc(str) {
  return JSON.stringify(str);
}
var captureStackTrace = "captureStackTrace" in Error ? Error.captureStackTrace : (..._args) => {
};
function isObject(data) {
  return typeof data === "object" && data !== null && !Array.isArray(data);
}
var allowsEval = cached(() => {
  if (typeof navigator !== "undefined" && navigator?.userAgent?.includes("Cloudflare")) {
    return false;
  }
  try {
    const F = Function;
    new F("");
    return true;
  } catch (_) {
    return false;
  }
});
function isPlainObject(o2) {
  if (isObject(o2) === false)
    return false;
  const ctor = o2.constructor;
  if (ctor === void 0)
    return true;
  const prot = ctor.prototype;
  if (isObject(prot) === false)
    return false;
  if (Object.prototype.hasOwnProperty.call(prot, "isPrototypeOf") === false) {
    return false;
  }
  return true;
}
function shallowClone(o2) {
  if (isPlainObject(o2))
    return { ...o2 };
  if (Array.isArray(o2))
    return [...o2];
  return o2;
}
function numKeys(data) {
  let keyCount = 0;
  for (const key in data) {
    if (Object.prototype.hasOwnProperty.call(data, key)) {
      keyCount++;
    }
  }
  return keyCount;
}
var getParsedType = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "undefined":
      return "undefined";
    case "string":
      return "string";
    case "number":
      return Number.isNaN(data) ? "nan" : "number";
    case "boolean":
      return "boolean";
    case "function":
      return "function";
    case "bigint":
      return "bigint";
    case "symbol":
      return "symbol";
    case "object":
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (data.then && typeof data.then === "function" && data.catch && typeof data.catch === "function") {
        return "promise";
      }
      if (typeof Map !== "undefined" && data instanceof Map) {
        return "map";
      }
      if (typeof Set !== "undefined" && data instanceof Set) {
        return "set";
      }
      if (typeof Date !== "undefined" && data instanceof Date) {
        return "date";
      }
      if (typeof File !== "undefined" && data instanceof File) {
        return "file";
      }
      return "object";
    default:
      throw new Error(`Unknown data type: ${t2}`);
  }
};
var propertyKeyTypes = /* @__PURE__ */ new Set(["string", "number", "symbol"]);
var primitiveTypes = /* @__PURE__ */ new Set(["string", "number", "bigint", "boolean", "symbol", "undefined"]);
function escapeRegex(str) {
  return str.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function clone(inst, def, params) {
  const cl = new inst._zod.constr(def ?? inst._zod.def);
  if (!def || params?.parent)
    cl._zod.parent = inst;
  return cl;
}
function normalizeParams(_params) {
  const params = _params;
  if (!params)
    return {};
  if (typeof params === "string")
    return { error: () => params };
  if (params?.message !== void 0) {
    if (params?.error !== void 0)
      throw new Error("Cannot specify both `message` and `error` params");
    params.error = params.message;
  }
  delete params.message;
  if (typeof params.error === "string")
    return { ...params, error: () => params.error };
  return params;
}
function createTransparentProxy(getter) {
  let target;
  return new Proxy({}, {
    get(_, prop, receiver) {
      target ?? (target = getter());
      return Reflect.get(target, prop, receiver);
    },
    set(_, prop, value, receiver) {
      target ?? (target = getter());
      return Reflect.set(target, prop, value, receiver);
    },
    has(_, prop) {
      target ?? (target = getter());
      return Reflect.has(target, prop);
    },
    deleteProperty(_, prop) {
      target ?? (target = getter());
      return Reflect.deleteProperty(target, prop);
    },
    ownKeys(_) {
      target ?? (target = getter());
      return Reflect.ownKeys(target);
    },
    getOwnPropertyDescriptor(_, prop) {
      target ?? (target = getter());
      return Reflect.getOwnPropertyDescriptor(target, prop);
    },
    defineProperty(_, prop, descriptor) {
      target ?? (target = getter());
      return Reflect.defineProperty(target, prop, descriptor);
    }
  });
}
function stringifyPrimitive(value) {
  if (typeof value === "bigint")
    return value.toString() + "n";
  if (typeof value === "string")
    return `"${value}"`;
  return `${value}`;
}
function optionalKeys(shape) {
  return Object.keys(shape).filter((k) => {
    return shape[k]._zod.optin === "optional" && shape[k]._zod.optout === "optional";
  });
}
var NUMBER_FORMAT_RANGES = {
  safeint: [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],
  int32: [-2147483648, 2147483647],
  uint32: [0, 4294967295],
  float32: [-34028234663852886e22, 34028234663852886e22],
  float64: [-Number.MAX_VALUE, Number.MAX_VALUE]
};
var BIGINT_FORMAT_RANGES = {
  int64: [/* @__PURE__ */ BigInt("-9223372036854775808"), /* @__PURE__ */ BigInt("9223372036854775807")],
  uint64: [/* @__PURE__ */ BigInt(0), /* @__PURE__ */ BigInt("18446744073709551615")]
};
function pick(schema, mask) {
  const currDef = schema._zod.def;
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const newShape = {};
      for (const key in mask) {
        if (!(key in currDef.shape)) {
          throw new Error(`Unrecognized key: "${key}"`);
        }
        if (!mask[key])
          continue;
        newShape[key] = currDef.shape[key];
      }
      assignProp(this, "shape", newShape);
      return newShape;
    },
    checks: []
  });
  return clone(schema, def);
}
function omit(schema, mask) {
  const currDef = schema._zod.def;
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const newShape = { ...schema._zod.def.shape };
      for (const key in mask) {
        if (!(key in currDef.shape)) {
          throw new Error(`Unrecognized key: "${key}"`);
        }
        if (!mask[key])
          continue;
        delete newShape[key];
      }
      assignProp(this, "shape", newShape);
      return newShape;
    },
    checks: []
  });
  return clone(schema, def);
}
function extend(schema, shape) {
  if (!isPlainObject(shape)) {
    throw new Error("Invalid input to extend: expected a plain object");
  }
  const checks = schema._zod.def.checks;
  const hasChecks = checks && checks.length > 0;
  if (hasChecks) {
    throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");
  }
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const _shape = { ...schema._zod.def.shape, ...shape };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    checks: []
  });
  return clone(schema, def);
}
function safeExtend(schema, shape) {
  if (!isPlainObject(shape)) {
    throw new Error("Invalid input to safeExtend: expected a plain object");
  }
  const def = {
    ...schema._zod.def,
    get shape() {
      const _shape = { ...schema._zod.def.shape, ...shape };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    checks: schema._zod.def.checks
  };
  return clone(schema, def);
}
function merge(a2, b) {
  const def = mergeDefs(a2._zod.def, {
    get shape() {
      const _shape = { ...a2._zod.def.shape, ...b._zod.def.shape };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    get catchall() {
      return b._zod.def.catchall;
    },
    checks: []
    // delete existing checks
  });
  return clone(a2, def);
}
function partial(Class2, schema, mask) {
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const oldShape = schema._zod.def.shape;
      const shape = { ...oldShape };
      if (mask) {
        for (const key in mask) {
          if (!(key in oldShape)) {
            throw new Error(`Unrecognized key: "${key}"`);
          }
          if (!mask[key])
            continue;
          shape[key] = Class2 ? new Class2({
            type: "optional",
            innerType: oldShape[key]
          }) : oldShape[key];
        }
      } else {
        for (const key in oldShape) {
          shape[key] = Class2 ? new Class2({
            type: "optional",
            innerType: oldShape[key]
          }) : oldShape[key];
        }
      }
      assignProp(this, "shape", shape);
      return shape;
    },
    checks: []
  });
  return clone(schema, def);
}
function required(Class2, schema, mask) {
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const oldShape = schema._zod.def.shape;
      const shape = { ...oldShape };
      if (mask) {
        for (const key in mask) {
          if (!(key in shape)) {
            throw new Error(`Unrecognized key: "${key}"`);
          }
          if (!mask[key])
            continue;
          shape[key] = new Class2({
            type: "nonoptional",
            innerType: oldShape[key]
          });
        }
      } else {
        for (const key in oldShape) {
          shape[key] = new Class2({
            type: "nonoptional",
            innerType: oldShape[key]
          });
        }
      }
      assignProp(this, "shape", shape);
      return shape;
    },
    checks: []
  });
  return clone(schema, def);
}
function aborted(x, startIndex = 0) {
  if (x.aborted === true)
    return true;
  for (let i2 = startIndex; i2 < x.issues.length; i2++) {
    if (x.issues[i2]?.continue !== true) {
      return true;
    }
  }
  return false;
}
function prefixIssues(path, issues) {
  return issues.map((iss) => {
    var _a17;
    (_a17 = iss).path ?? (_a17.path = []);
    iss.path.unshift(path);
    return iss;
  });
}
function unwrapMessage(message) {
  return typeof message === "string" ? message : message?.message;
}
function finalizeIssue(iss, ctx, config2) {
  const full = { ...iss, path: iss.path ?? [] };
  if (!iss.message) {
    const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ?? unwrapMessage(ctx?.error?.(iss)) ?? unwrapMessage(config2.customError?.(iss)) ?? unwrapMessage(config2.localeError?.(iss)) ?? "Invalid input";
    full.message = message;
  }
  delete full.inst;
  delete full.continue;
  if (!ctx?.reportInput) {
    delete full.input;
  }
  return full;
}
function getSizableOrigin(input) {
  if (input instanceof Set)
    return "set";
  if (input instanceof Map)
    return "map";
  if (input instanceof File)
    return "file";
  return "unknown";
}
function getLengthableOrigin(input) {
  if (Array.isArray(input))
    return "array";
  if (typeof input === "string")
    return "string";
  return "unknown";
}
function issue(...args) {
  const [iss, input, inst] = args;
  if (typeof iss === "string") {
    return {
      message: iss,
      code: "custom",
      input,
      inst
    };
  }
  return { ...iss };
}
function cleanEnum(obj) {
  return Object.entries(obj).filter(([k, _]) => {
    return Number.isNaN(Number.parseInt(k, 10));
  }).map((el) => el[1]);
}
function base64ToUint8Array(base643) {
  const binaryString = atob(base643);
  const bytes = new Uint8Array(binaryString.length);
  for (let i2 = 0; i2 < binaryString.length; i2++) {
    bytes[i2] = binaryString.charCodeAt(i2);
  }
  return bytes;
}
function uint8ArrayToBase64(bytes) {
  let binaryString = "";
  for (let i2 = 0; i2 < bytes.length; i2++) {
    binaryString += String.fromCharCode(bytes[i2]);
  }
  return btoa(binaryString);
}
function base64urlToUint8Array(base64url3) {
  const base643 = base64url3.replace(/-/g, "+").replace(/_/g, "/");
  const padding = "=".repeat((4 - base643.length % 4) % 4);
  return base64ToUint8Array(base643 + padding);
}
function uint8ArrayToBase64url(bytes) {
  return uint8ArrayToBase64(bytes).replace(/\+/g, "-").replace(/\//g, "_").replace(/=/g, "");
}
function hexToUint8Array(hex3) {
  const cleanHex = hex3.replace(/^0x/, "");
  if (cleanHex.length % 2 !== 0) {
    throw new Error("Invalid hex string length");
  }
  const bytes = new Uint8Array(cleanHex.length / 2);
  for (let i2 = 0; i2 < cleanHex.length; i2 += 2) {
    bytes[i2 / 2] = Number.parseInt(cleanHex.slice(i2, i2 + 2), 16);
  }
  return bytes;
}
function uint8ArrayToHex(bytes) {
  return Array.from(bytes).map((b) => b.toString(16).padStart(2, "0")).join("");
}
var Class = class {
  constructor(..._args) {
  }
};

// node_modules/zod/v4/core/errors.js
var initializer = (inst, def) => {
  inst.name = "$ZodError";
  Object.defineProperty(inst, "_zod", {
    value: inst._zod,
    enumerable: false
  });
  Object.defineProperty(inst, "issues", {
    value: def,
    enumerable: false
  });
  inst.message = JSON.stringify(def, jsonStringifyReplacer, 2);
  Object.defineProperty(inst, "toString", {
    value: () => inst.message,
    enumerable: false
  });
};
var $ZodError = $constructor("$ZodError", initializer);
var $ZodRealError = $constructor("$ZodError", initializer, { Parent: Error });
function flattenError(error45, mapper = (issue2) => issue2.message) {
  const fieldErrors = {};
  const formErrors = [];
  for (const sub of error45.issues) {
    if (sub.path.length > 0) {
      fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];
      fieldErrors[sub.path[0]].push(mapper(sub));
    } else {
      formErrors.push(mapper(sub));
    }
  }
  return { formErrors, fieldErrors };
}
function formatError(error45, _mapper) {
  const mapper = _mapper || function(issue2) {
    return issue2.message;
  };
  const fieldErrors = { _errors: [] };
  const processError = (error46) => {
    for (const issue2 of error46.issues) {
      if (issue2.code === "invalid_union" && issue2.errors.length) {
        issue2.errors.map((issues) => processError({ issues }));
      } else if (issue2.code === "invalid_key") {
        processError({ issues: issue2.issues });
      } else if (issue2.code === "invalid_element") {
        processError({ issues: issue2.issues });
      } else if (issue2.path.length === 0) {
        fieldErrors._errors.push(mapper(issue2));
      } else {
        let curr = fieldErrors;
        let i2 = 0;
        while (i2 < issue2.path.length) {
          const el = issue2.path[i2];
          const terminal = i2 === issue2.path.length - 1;
          if (!terminal) {
            curr[el] = curr[el] || { _errors: [] };
          } else {
            curr[el] = curr[el] || { _errors: [] };
            curr[el]._errors.push(mapper(issue2));
          }
          curr = curr[el];
          i2++;
        }
      }
    }
  };
  processError(error45);
  return fieldErrors;
}
function treeifyError(error45, _mapper) {
  const mapper = _mapper || function(issue2) {
    return issue2.message;
  };
  const result = { errors: [] };
  const processError = (error46, path = []) => {
    var _a17, _b8;
    for (const issue2 of error46.issues) {
      if (issue2.code === "invalid_union" && issue2.errors.length) {
        issue2.errors.map((issues) => processError({ issues }, issue2.path));
      } else if (issue2.code === "invalid_key") {
        processError({ issues: issue2.issues }, issue2.path);
      } else if (issue2.code === "invalid_element") {
        processError({ issues: issue2.issues }, issue2.path);
      } else {
        const fullpath = [...path, ...issue2.path];
        if (fullpath.length === 0) {
          result.errors.push(mapper(issue2));
          continue;
        }
        let curr = result;
        let i2 = 0;
        while (i2 < fullpath.length) {
          const el = fullpath[i2];
          const terminal = i2 === fullpath.length - 1;
          if (typeof el === "string") {
            curr.properties ?? (curr.properties = {});
            (_a17 = curr.properties)[el] ?? (_a17[el] = { errors: [] });
            curr = curr.properties[el];
          } else {
            curr.items ?? (curr.items = []);
            (_b8 = curr.items)[el] ?? (_b8[el] = { errors: [] });
            curr = curr.items[el];
          }
          if (terminal) {
            curr.errors.push(mapper(issue2));
          }
          i2++;
        }
      }
    }
  };
  processError(error45);
  return result;
}
function toDotPath(_path) {
  const segs = [];
  const path = _path.map((seg) => typeof seg === "object" ? seg.key : seg);
  for (const seg of path) {
    if (typeof seg === "number")
      segs.push(`[${seg}]`);
    else if (typeof seg === "symbol")
      segs.push(`[${JSON.stringify(String(seg))}]`);
    else if (/[^\w$]/.test(seg))
      segs.push(`[${JSON.stringify(seg)}]`);
    else {
      if (segs.length)
        segs.push(".");
      segs.push(seg);
    }
  }
  return segs.join("");
}
function prettifyError(error45) {
  const lines = [];
  const issues = [...error45.issues].sort((a2, b) => (a2.path ?? []).length - (b.path ?? []).length);
  for (const issue2 of issues) {
    lines.push(`\u2716 ${issue2.message}`);
    if (issue2.path?.length)
      lines.push(`  \u2192 at ${toDotPath(issue2.path)}`);
  }
  return lines.join("\n");
}

// node_modules/zod/v4/core/parse.js
var _parse = (_Err) => (schema, value, _ctx, _params) => {
  const ctx = _ctx ? Object.assign(_ctx, { async: false }) : { async: false };
  const result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise) {
    throw new $ZodAsyncError();
  }
  if (result.issues.length) {
    const e2 = new (_params?.Err ?? _Err)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())));
    captureStackTrace(e2, _params?.callee);
    throw e2;
  }
  return result.value;
};
var parse = /* @__PURE__ */ _parse($ZodRealError);
var _parseAsync = (_Err) => async (schema, value, _ctx, params) => {
  const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };
  let result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise)
    result = await result;
  if (result.issues.length) {
    const e2 = new (params?.Err ?? _Err)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())));
    captureStackTrace(e2, params?.callee);
    throw e2;
  }
  return result.value;
};
var parseAsync = /* @__PURE__ */ _parseAsync($ZodRealError);
var _safeParse = (_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? { ..._ctx, async: false } : { async: false };
  const result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise) {
    throw new $ZodAsyncError();
  }
  return result.issues.length ? {
    success: false,
    error: new (_Err ?? $ZodError)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  } : { success: true, data: result.value };
};
var safeParse = /* @__PURE__ */ _safeParse($ZodRealError);
var _safeParseAsync = (_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };
  let result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise)
    result = await result;
  return result.issues.length ? {
    success: false,
    error: new _Err(result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  } : { success: true, data: result.value };
};
var safeParseAsync = /* @__PURE__ */ _safeParseAsync($ZodRealError);
var _encode = (_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _parse(_Err)(schema, value, ctx);
};
var encode = /* @__PURE__ */ _encode($ZodRealError);
var _decode = (_Err) => (schema, value, _ctx) => {
  return _parse(_Err)(schema, value, _ctx);
};
var decode = /* @__PURE__ */ _decode($ZodRealError);
var _encodeAsync = (_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _parseAsync(_Err)(schema, value, ctx);
};
var encodeAsync = /* @__PURE__ */ _encodeAsync($ZodRealError);
var _decodeAsync = (_Err) => async (schema, value, _ctx) => {
  return _parseAsync(_Err)(schema, value, _ctx);
};
var decodeAsync = /* @__PURE__ */ _decodeAsync($ZodRealError);
var _safeEncode = (_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _safeParse(_Err)(schema, value, ctx);
};
var safeEncode = /* @__PURE__ */ _safeEncode($ZodRealError);
var _safeDecode = (_Err) => (schema, value, _ctx) => {
  return _safeParse(_Err)(schema, value, _ctx);
};
var safeDecode = /* @__PURE__ */ _safeDecode($ZodRealError);
var _safeEncodeAsync = (_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _safeParseAsync(_Err)(schema, value, ctx);
};
var safeEncodeAsync = /* @__PURE__ */ _safeEncodeAsync($ZodRealError);
var _safeDecodeAsync = (_Err) => async (schema, value, _ctx) => {
  return _safeParseAsync(_Err)(schema, value, _ctx);
};
var safeDecodeAsync = /* @__PURE__ */ _safeDecodeAsync($ZodRealError);

// node_modules/zod/v4/core/regexes.js
var regexes_exports = {};
__export(regexes_exports, {
  base64: () => base64,
  base64url: () => base64url,
  bigint: () => bigint,
  boolean: () => boolean,
  browserEmail: () => browserEmail,
  cidrv4: () => cidrv4,
  cidrv6: () => cidrv6,
  cuid: () => cuid,
  cuid2: () => cuid2,
  date: () => date,
  datetime: () => datetime,
  domain: () => domain,
  duration: () => duration,
  e164: () => e164,
  email: () => email,
  emoji: () => emoji,
  extendedDuration: () => extendedDuration,
  guid: () => guid,
  hex: () => hex,
  hostname: () => hostname,
  html5Email: () => html5Email,
  idnEmail: () => idnEmail,
  integer: () => integer,
  ipv4: () => ipv4,
  ipv6: () => ipv6,
  ksuid: () => ksuid,
  lowercase: () => lowercase,
  md5_base64: () => md5_base64,
  md5_base64url: () => md5_base64url,
  md5_hex: () => md5_hex,
  nanoid: () => nanoid,
  null: () => _null,
  number: () => number,
  rfc5322Email: () => rfc5322Email,
  sha1_base64: () => sha1_base64,
  sha1_base64url: () => sha1_base64url,
  sha1_hex: () => sha1_hex,
  sha256_base64: () => sha256_base64,
  sha256_base64url: () => sha256_base64url,
  sha256_hex: () => sha256_hex,
  sha384_base64: () => sha384_base64,
  sha384_base64url: () => sha384_base64url,
  sha384_hex: () => sha384_hex,
  sha512_base64: () => sha512_base64,
  sha512_base64url: () => sha512_base64url,
  sha512_hex: () => sha512_hex,
  string: () => string,
  time: () => time,
  ulid: () => ulid,
  undefined: () => _undefined,
  unicodeEmail: () => unicodeEmail,
  uppercase: () => uppercase,
  uuid: () => uuid,
  uuid4: () => uuid4,
  uuid6: () => uuid6,
  uuid7: () => uuid7,
  xid: () => xid
});
var cuid = /^[cC][^\s-]{8,}$/;
var cuid2 = /^[0-9a-z]+$/;
var ulid = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;
var xid = /^[0-9a-vA-V]{20}$/;
var ksuid = /^[A-Za-z0-9]{27}$/;
var nanoid = /^[a-zA-Z0-9_-]{21}$/;
var duration = /^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/;
var extendedDuration = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/;
var guid = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;
var uuid = (version2) => {
  if (!version2)
    return /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;
  return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version2}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`);
};
var uuid4 = /* @__PURE__ */ uuid(4);
var uuid6 = /* @__PURE__ */ uuid(6);
var uuid7 = /* @__PURE__ */ uuid(7);
var email = /^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;
var html5Email = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
var rfc5322Email = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
var unicodeEmail = /^[^\s@"]{1,64}@[^\s@]{1,255}$/u;
var idnEmail = unicodeEmail;
var browserEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
var _emoji = `^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;
function emoji() {
  return new RegExp(_emoji, "u");
}
var ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
var ipv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;
var cidrv4 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/;
var cidrv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
var base64 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;
var base64url = /^[A-Za-z0-9_-]*$/;
var hostname = /^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/;
var domain = /^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/;
var e164 = /^\+(?:[0-9]){6,14}[0-9]$/;
var dateSource = `(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))`;
var date = /* @__PURE__ */ new RegExp(`^${dateSource}$`);
function timeSource(args) {
  const hhmm = `(?:[01]\\d|2[0-3]):[0-5]\\d`;
  const regex = typeof args.precision === "number" ? args.precision === -1 ? `${hhmm}` : args.precision === 0 ? `${hhmm}:[0-5]\\d` : `${hhmm}:[0-5]\\d\\.\\d{${args.precision}}` : `${hhmm}(?::[0-5]\\d(?:\\.\\d+)?)?`;
  return regex;
}
function time(args) {
  return new RegExp(`^${timeSource(args)}$`);
}
function datetime(args) {
  const time3 = timeSource({ precision: args.precision });
  const opts = ["Z"];
  if (args.local)
    opts.push("");
  if (args.offset)
    opts.push(`([+-](?:[01]\\d|2[0-3]):[0-5]\\d)`);
  const timeRegex2 = `${time3}(?:${opts.join("|")})`;
  return new RegExp(`^${dateSource}T(?:${timeRegex2})$`);
}
var string = (params) => {
  const regex = params ? `[\\s\\S]{${params?.minimum ?? 0},${params?.maximum ?? ""}}` : `[\\s\\S]*`;
  return new RegExp(`^${regex}$`);
};
var bigint = /^-?\d+n?$/;
var integer = /^-?\d+$/;
var number = /^-?\d+(?:\.\d+)?/;
var boolean = /^(?:true|false)$/i;
var _null = /^null$/i;
var _undefined = /^undefined$/i;
var lowercase = /^[^A-Z]*$/;
var uppercase = /^[^a-z]*$/;
var hex = /^[0-9a-fA-F]*$/;
function fixedBase64(bodyLength, padding) {
  return new RegExp(`^[A-Za-z0-9+/]{${bodyLength}}${padding}$`);
}
function fixedBase64url(length) {
  return new RegExp(`^[A-Za-z0-9_-]{${length}}$`);
}
var md5_hex = /^[0-9a-fA-F]{32}$/;
var md5_base64 = /* @__PURE__ */ fixedBase64(22, "==");
var md5_base64url = /* @__PURE__ */ fixedBase64url(22);
var sha1_hex = /^[0-9a-fA-F]{40}$/;
var sha1_base64 = /* @__PURE__ */ fixedBase64(27, "=");
var sha1_base64url = /* @__PURE__ */ fixedBase64url(27);
var sha256_hex = /^[0-9a-fA-F]{64}$/;
var sha256_base64 = /* @__PURE__ */ fixedBase64(43, "=");
var sha256_base64url = /* @__PURE__ */ fixedBase64url(43);
var sha384_hex = /^[0-9a-fA-F]{96}$/;
var sha384_base64 = /* @__PURE__ */ fixedBase64(64, "");
var sha384_base64url = /* @__PURE__ */ fixedBase64url(64);
var sha512_hex = /^[0-9a-fA-F]{128}$/;
var sha512_base64 = /* @__PURE__ */ fixedBase64(86, "==");
var sha512_base64url = /* @__PURE__ */ fixedBase64url(86);

// node_modules/zod/v4/core/checks.js
var $ZodCheck = /* @__PURE__ */ $constructor("$ZodCheck", (inst, def) => {
  var _a17;
  inst._zod ?? (inst._zod = {});
  inst._zod.def = def;
  (_a17 = inst._zod).onattach ?? (_a17.onattach = []);
});
var numericOriginMap = {
  number: "number",
  bigint: "bigint",
  object: "date"
};
var $ZodCheckLessThan = /* @__PURE__ */ $constructor("$ZodCheckLessThan", (inst, def) => {
  $ZodCheck.init(inst, def);
  const origin = numericOriginMap[typeof def.value];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    const curr = (def.inclusive ? bag.maximum : bag.exclusiveMaximum) ?? Number.POSITIVE_INFINITY;
    if (def.value < curr) {
      if (def.inclusive)
        bag.maximum = def.value;
      else
        bag.exclusiveMaximum = def.value;
    }
  });
  inst._zod.check = (payload) => {
    if (def.inclusive ? payload.value <= def.value : payload.value < def.value) {
      return;
    }
    payload.issues.push({
      origin,
      code: "too_big",
      maximum: def.value,
      input: payload.value,
      inclusive: def.inclusive,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckGreaterThan = /* @__PURE__ */ $constructor("$ZodCheckGreaterThan", (inst, def) => {
  $ZodCheck.init(inst, def);
  const origin = numericOriginMap[typeof def.value];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    const curr = (def.inclusive ? bag.minimum : bag.exclusiveMinimum) ?? Number.NEGATIVE_INFINITY;
    if (def.value > curr) {
      if (def.inclusive)
        bag.minimum = def.value;
      else
        bag.exclusiveMinimum = def.value;
    }
  });
  inst._zod.check = (payload) => {
    if (def.inclusive ? payload.value >= def.value : payload.value > def.value) {
      return;
    }
    payload.issues.push({
      origin,
      code: "too_small",
      minimum: def.value,
      input: payload.value,
      inclusive: def.inclusive,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMultipleOf = /* @__PURE__ */ $constructor("$ZodCheckMultipleOf", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    var _a17;
    (_a17 = inst2._zod.bag).multipleOf ?? (_a17.multipleOf = def.value);
  });
  inst._zod.check = (payload) => {
    if (typeof payload.value !== typeof def.value)
      throw new Error("Cannot mix number and bigint in multiple_of check.");
    const isMultiple = typeof payload.value === "bigint" ? payload.value % def.value === BigInt(0) : floatSafeRemainder(payload.value, def.value) === 0;
    if (isMultiple)
      return;
    payload.issues.push({
      origin: typeof payload.value,
      code: "not_multiple_of",
      divisor: def.value,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckNumberFormat = /* @__PURE__ */ $constructor("$ZodCheckNumberFormat", (inst, def) => {
  $ZodCheck.init(inst, def);
  def.format = def.format || "float64";
  const isInt = def.format?.includes("int");
  const origin = isInt ? "int" : "number";
  const [minimum, maximum] = NUMBER_FORMAT_RANGES[def.format];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    bag.minimum = minimum;
    bag.maximum = maximum;
    if (isInt)
      bag.pattern = integer;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    if (isInt) {
      if (!Number.isInteger(input)) {
        payload.issues.push({
          expected: origin,
          format: def.format,
          code: "invalid_type",
          continue: false,
          input,
          inst
        });
        return;
      }
      if (!Number.isSafeInteger(input)) {
        if (input > 0) {
          payload.issues.push({
            input,
            code: "too_big",
            maximum: Number.MAX_SAFE_INTEGER,
            note: "Integers must be within the safe integer range.",
            inst,
            origin,
            continue: !def.abort
          });
        } else {
          payload.issues.push({
            input,
            code: "too_small",
            minimum: Number.MIN_SAFE_INTEGER,
            note: "Integers must be within the safe integer range.",
            inst,
            origin,
            continue: !def.abort
          });
        }
        return;
      }
    }
    if (input < minimum) {
      payload.issues.push({
        origin: "number",
        input,
        code: "too_small",
        minimum,
        inclusive: true,
        inst,
        continue: !def.abort
      });
    }
    if (input > maximum) {
      payload.issues.push({
        origin: "number",
        input,
        code: "too_big",
        maximum,
        inst
      });
    }
  };
});
var $ZodCheckBigIntFormat = /* @__PURE__ */ $constructor("$ZodCheckBigIntFormat", (inst, def) => {
  $ZodCheck.init(inst, def);
  const [minimum, maximum] = BIGINT_FORMAT_RANGES[def.format];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    bag.minimum = minimum;
    bag.maximum = maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    if (input < minimum) {
      payload.issues.push({
        origin: "bigint",
        input,
        code: "too_small",
        minimum,
        inclusive: true,
        inst,
        continue: !def.abort
      });
    }
    if (input > maximum) {
      payload.issues.push({
        origin: "bigint",
        input,
        code: "too_big",
        maximum,
        inst
      });
    }
  };
});
var $ZodCheckMaxSize = /* @__PURE__ */ $constructor("$ZodCheckMaxSize", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.maximum ?? Number.POSITIVE_INFINITY;
    if (def.maximum < curr)
      inst2._zod.bag.maximum = def.maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size <= def.maximum)
      return;
    payload.issues.push({
      origin: getSizableOrigin(input),
      code: "too_big",
      maximum: def.maximum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMinSize = /* @__PURE__ */ $constructor("$ZodCheckMinSize", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.minimum ?? Number.NEGATIVE_INFINITY;
    if (def.minimum > curr)
      inst2._zod.bag.minimum = def.minimum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size >= def.minimum)
      return;
    payload.issues.push({
      origin: getSizableOrigin(input),
      code: "too_small",
      minimum: def.minimum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckSizeEquals = /* @__PURE__ */ $constructor("$ZodCheckSizeEquals", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.minimum = def.size;
    bag.maximum = def.size;
    bag.size = def.size;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size === def.size)
      return;
    const tooBig = size > def.size;
    payload.issues.push({
      origin: getSizableOrigin(input),
      ...tooBig ? { code: "too_big", maximum: def.size } : { code: "too_small", minimum: def.size },
      inclusive: true,
      exact: true,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMaxLength = /* @__PURE__ */ $constructor("$ZodCheckMaxLength", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.maximum ?? Number.POSITIVE_INFINITY;
    if (def.maximum < curr)
      inst2._zod.bag.maximum = def.maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length <= def.maximum)
      return;
    const origin = getLengthableOrigin(input);
    payload.issues.push({
      origin,
      code: "too_big",
      maximum: def.maximum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMinLength = /* @__PURE__ */ $constructor("$ZodCheckMinLength", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.minimum ?? Number.NEGATIVE_INFINITY;
    if (def.minimum > curr)
      inst2._zod.bag.minimum = def.minimum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length >= def.minimum)
      return;
    const origin = getLengthableOrigin(input);
    payload.issues.push({
      origin,
      code: "too_small",
      minimum: def.minimum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckLengthEquals = /* @__PURE__ */ $constructor("$ZodCheckLengthEquals", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.minimum = def.length;
    bag.maximum = def.length;
    bag.length = def.length;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length === def.length)
      return;
    const origin = getLengthableOrigin(input);
    const tooBig = length > def.length;
    payload.issues.push({
      origin,
      ...tooBig ? { code: "too_big", maximum: def.length } : { code: "too_small", minimum: def.length },
      inclusive: true,
      exact: true,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckStringFormat = /* @__PURE__ */ $constructor("$ZodCheckStringFormat", (inst, def) => {
  var _a17, _b8;
  $ZodCheck.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    if (def.pattern) {
      bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
      bag.patterns.add(def.pattern);
    }
  });
  if (def.pattern)
    (_a17 = inst._zod).check ?? (_a17.check = (payload) => {
      def.pattern.lastIndex = 0;
      if (def.pattern.test(payload.value))
        return;
      payload.issues.push({
        origin: "string",
        code: "invalid_format",
        format: def.format,
        input: payload.value,
        ...def.pattern ? { pattern: def.pattern.toString() } : {},
        inst,
        continue: !def.abort
      });
    });
  else
    (_b8 = inst._zod).check ?? (_b8.check = () => {
    });
});
var $ZodCheckRegex = /* @__PURE__ */ $constructor("$ZodCheckRegex", (inst, def) => {
  $ZodCheckStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    def.pattern.lastIndex = 0;
    if (def.pattern.test(payload.value))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "regex",
      input: payload.value,
      pattern: def.pattern.toString(),
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckLowerCase = /* @__PURE__ */ $constructor("$ZodCheckLowerCase", (inst, def) => {
  def.pattern ?? (def.pattern = lowercase);
  $ZodCheckStringFormat.init(inst, def);
});
var $ZodCheckUpperCase = /* @__PURE__ */ $constructor("$ZodCheckUpperCase", (inst, def) => {
  def.pattern ?? (def.pattern = uppercase);
  $ZodCheckStringFormat.init(inst, def);
});
var $ZodCheckIncludes = /* @__PURE__ */ $constructor("$ZodCheckIncludes", (inst, def) => {
  $ZodCheck.init(inst, def);
  const escapedRegex = escapeRegex(def.includes);
  const pattern = new RegExp(typeof def.position === "number" ? `^.{${def.position}}${escapedRegex}` : escapedRegex);
  def.pattern = pattern;
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.includes(def.includes, def.position))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "includes",
      includes: def.includes,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckStartsWith = /* @__PURE__ */ $constructor("$ZodCheckStartsWith", (inst, def) => {
  $ZodCheck.init(inst, def);
  const pattern = new RegExp(`^${escapeRegex(def.prefix)}.*`);
  def.pattern ?? (def.pattern = pattern);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.startsWith(def.prefix))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "starts_with",
      prefix: def.prefix,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckEndsWith = /* @__PURE__ */ $constructor("$ZodCheckEndsWith", (inst, def) => {
  $ZodCheck.init(inst, def);
  const pattern = new RegExp(`.*${escapeRegex(def.suffix)}$`);
  def.pattern ?? (def.pattern = pattern);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.endsWith(def.suffix))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "ends_with",
      suffix: def.suffix,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
function handleCheckPropertyResult(result, payload, property) {
  if (result.issues.length) {
    payload.issues.push(...prefixIssues(property, result.issues));
  }
}
var $ZodCheckProperty = /* @__PURE__ */ $constructor("$ZodCheckProperty", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.check = (payload) => {
    const result = def.schema._zod.run({
      value: payload.value[def.property],
      issues: []
    }, {});
    if (result instanceof Promise) {
      return result.then((result2) => handleCheckPropertyResult(result2, payload, def.property));
    }
    handleCheckPropertyResult(result, payload, def.property);
    return;
  };
});
var $ZodCheckMimeType = /* @__PURE__ */ $constructor("$ZodCheckMimeType", (inst, def) => {
  $ZodCheck.init(inst, def);
  const mimeSet = new Set(def.mime);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.mime = def.mime;
  });
  inst._zod.check = (payload) => {
    if (mimeSet.has(payload.value.type))
      return;
    payload.issues.push({
      code: "invalid_value",
      values: def.mime,
      input: payload.value.type,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckOverwrite = /* @__PURE__ */ $constructor("$ZodCheckOverwrite", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.check = (payload) => {
    payload.value = def.tx(payload.value);
  };
});

// node_modules/zod/v4/core/doc.js
var Doc = class {
  constructor(args = []) {
    this.content = [];
    this.indent = 0;
    if (this)
      this.args = args;
  }
  indented(fn) {
    this.indent += 1;
    fn(this);
    this.indent -= 1;
  }
  write(arg) {
    if (typeof arg === "function") {
      arg(this, { execution: "sync" });
      arg(this, { execution: "async" });
      return;
    }
    const content = arg;
    const lines = content.split("\n").filter((x) => x);
    const minIndent = Math.min(...lines.map((x) => x.length - x.trimStart().length));
    const dedented = lines.map((x) => x.slice(minIndent)).map((x) => " ".repeat(this.indent * 2) + x);
    for (const line of dedented) {
      this.content.push(line);
    }
  }
  compile() {
    const F = Function;
    const args = this?.args;
    const content = this?.content ?? [``];
    const lines = [...content.map((x) => `  ${x}`)];
    return new F(...args, lines.join("\n"));
  }
};

// node_modules/zod/v4/core/versions.js
var version = {
  major: 4,
  minor: 1,
  patch: 8
};

// node_modules/zod/v4/core/schemas.js
var $ZodType = /* @__PURE__ */ $constructor("$ZodType", (inst, def) => {
  var _a17;
  inst ?? (inst = {});
  inst._zod.def = def;
  inst._zod.bag = inst._zod.bag || {};
  inst._zod.version = version;
  const checks = [...inst._zod.def.checks ?? []];
  if (inst._zod.traits.has("$ZodCheck")) {
    checks.unshift(inst);
  }
  for (const ch of checks) {
    for (const fn of ch._zod.onattach) {
      fn(inst);
    }
  }
  if (checks.length === 0) {
    (_a17 = inst._zod).deferred ?? (_a17.deferred = []);
    inst._zod.deferred?.push(() => {
      inst._zod.run = inst._zod.parse;
    });
  } else {
    const runChecks = (payload, checks2, ctx) => {
      let isAborted2 = aborted(payload);
      let asyncResult;
      for (const ch of checks2) {
        if (ch._zod.def.when) {
          const shouldRun = ch._zod.def.when(payload);
          if (!shouldRun)
            continue;
        } else if (isAborted2) {
          continue;
        }
        const currLen = payload.issues.length;
        const _ = ch._zod.check(payload);
        if (_ instanceof Promise && ctx?.async === false) {
          throw new $ZodAsyncError();
        }
        if (asyncResult || _ instanceof Promise) {
          asyncResult = (asyncResult ?? Promise.resolve()).then(async () => {
            await _;
            const nextLen = payload.issues.length;
            if (nextLen === currLen)
              return;
            if (!isAborted2)
              isAborted2 = aborted(payload, currLen);
          });
        } else {
          const nextLen = payload.issues.length;
          if (nextLen === currLen)
            continue;
          if (!isAborted2)
            isAborted2 = aborted(payload, currLen);
        }
      }
      if (asyncResult) {
        return asyncResult.then(() => {
          return payload;
        });
      }
      return payload;
    };
    const handleCanaryResult = (canary, payload, ctx) => {
      if (aborted(canary)) {
        canary.aborted = true;
        return canary;
      }
      const checkResult = runChecks(payload, checks, ctx);
      if (checkResult instanceof Promise) {
        if (ctx.async === false)
          throw new $ZodAsyncError();
        return checkResult.then((checkResult2) => inst._zod.parse(checkResult2, ctx));
      }
      return inst._zod.parse(checkResult, ctx);
    };
    inst._zod.run = (payload, ctx) => {
      if (ctx.skipChecks) {
        return inst._zod.parse(payload, ctx);
      }
      if (ctx.direction === "backward") {
        const canary = inst._zod.parse({ value: payload.value, issues: [] }, { ...ctx, skipChecks: true });
        if (canary instanceof Promise) {
          return canary.then((canary2) => {
            return handleCanaryResult(canary2, payload, ctx);
          });
        }
        return handleCanaryResult(canary, payload, ctx);
      }
      const result = inst._zod.parse(payload, ctx);
      if (result instanceof Promise) {
        if (ctx.async === false)
          throw new $ZodAsyncError();
        return result.then((result2) => runChecks(result2, checks, ctx));
      }
      return runChecks(result, checks, ctx);
    };
  }
  inst["~standard"] = {
    validate: (value) => {
      try {
        const r2 = safeParse(inst, value);
        return r2.success ? { value: r2.data } : { issues: r2.error?.issues };
      } catch (_) {
        return safeParseAsync(inst, value).then((r2) => r2.success ? { value: r2.data } : { issues: r2.error?.issues });
      }
    },
    vendor: "zod",
    version: 1
  };
});
var $ZodString = /* @__PURE__ */ $constructor("$ZodString", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = [...inst?._zod.bag?.patterns ?? []].pop() ?? string(inst._zod.bag);
  inst._zod.parse = (payload, _) => {
    if (def.coerce)
      try {
        payload.value = String(payload.value);
      } catch (_2) {
      }
    if (typeof payload.value === "string")
      return payload;
    payload.issues.push({
      expected: "string",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodStringFormat = /* @__PURE__ */ $constructor("$ZodStringFormat", (inst, def) => {
  $ZodCheckStringFormat.init(inst, def);
  $ZodString.init(inst, def);
});
var $ZodGUID = /* @__PURE__ */ $constructor("$ZodGUID", (inst, def) => {
  def.pattern ?? (def.pattern = guid);
  $ZodStringFormat.init(inst, def);
});
var $ZodUUID = /* @__PURE__ */ $constructor("$ZodUUID", (inst, def) => {
  if (def.version) {
    const versionMap = {
      v1: 1,
      v2: 2,
      v3: 3,
      v4: 4,
      v5: 5,
      v6: 6,
      v7: 7,
      v8: 8
    };
    const v = versionMap[def.version];
    if (v === void 0)
      throw new Error(`Invalid UUID version: "${def.version}"`);
    def.pattern ?? (def.pattern = uuid(v));
  } else
    def.pattern ?? (def.pattern = uuid());
  $ZodStringFormat.init(inst, def);
});
var $ZodEmail = /* @__PURE__ */ $constructor("$ZodEmail", (inst, def) => {
  def.pattern ?? (def.pattern = email);
  $ZodStringFormat.init(inst, def);
});
var $ZodURL = /* @__PURE__ */ $constructor("$ZodURL", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    try {
      const trimmed = payload.value.trim();
      const url2 = new URL(trimmed);
      if (def.hostname) {
        def.hostname.lastIndex = 0;
        if (!def.hostname.test(url2.hostname)) {
          payload.issues.push({
            code: "invalid_format",
            format: "url",
            note: "Invalid hostname",
            pattern: hostname.source,
            input: payload.value,
            inst,
            continue: !def.abort
          });
        }
      }
      if (def.protocol) {
        def.protocol.lastIndex = 0;
        if (!def.protocol.test(url2.protocol.endsWith(":") ? url2.protocol.slice(0, -1) : url2.protocol)) {
          payload.issues.push({
            code: "invalid_format",
            format: "url",
            note: "Invalid protocol",
            pattern: def.protocol.source,
            input: payload.value,
            inst,
            continue: !def.abort
          });
        }
      }
      if (def.normalize) {
        payload.value = url2.href;
      } else {
        payload.value = trimmed;
      }
      return;
    } catch (_) {
      payload.issues.push({
        code: "invalid_format",
        format: "url",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
var $ZodEmoji = /* @__PURE__ */ $constructor("$ZodEmoji", (inst, def) => {
  def.pattern ?? (def.pattern = emoji());
  $ZodStringFormat.init(inst, def);
});
var $ZodNanoID = /* @__PURE__ */ $constructor("$ZodNanoID", (inst, def) => {
  def.pattern ?? (def.pattern = nanoid);
  $ZodStringFormat.init(inst, def);
});
var $ZodCUID = /* @__PURE__ */ $constructor("$ZodCUID", (inst, def) => {
  def.pattern ?? (def.pattern = cuid);
  $ZodStringFormat.init(inst, def);
});
var $ZodCUID2 = /* @__PURE__ */ $constructor("$ZodCUID2", (inst, def) => {
  def.pattern ?? (def.pattern = cuid2);
  $ZodStringFormat.init(inst, def);
});
var $ZodULID = /* @__PURE__ */ $constructor("$ZodULID", (inst, def) => {
  def.pattern ?? (def.pattern = ulid);
  $ZodStringFormat.init(inst, def);
});
var $ZodXID = /* @__PURE__ */ $constructor("$ZodXID", (inst, def) => {
  def.pattern ?? (def.pattern = xid);
  $ZodStringFormat.init(inst, def);
});
var $ZodKSUID = /* @__PURE__ */ $constructor("$ZodKSUID", (inst, def) => {
  def.pattern ?? (def.pattern = ksuid);
  $ZodStringFormat.init(inst, def);
});
var $ZodISODateTime = /* @__PURE__ */ $constructor("$ZodISODateTime", (inst, def) => {
  def.pattern ?? (def.pattern = datetime(def));
  $ZodStringFormat.init(inst, def);
});
var $ZodISODate = /* @__PURE__ */ $constructor("$ZodISODate", (inst, def) => {
  def.pattern ?? (def.pattern = date);
  $ZodStringFormat.init(inst, def);
});
var $ZodISOTime = /* @__PURE__ */ $constructor("$ZodISOTime", (inst, def) => {
  def.pattern ?? (def.pattern = time(def));
  $ZodStringFormat.init(inst, def);
});
var $ZodISODuration = /* @__PURE__ */ $constructor("$ZodISODuration", (inst, def) => {
  def.pattern ?? (def.pattern = duration);
  $ZodStringFormat.init(inst, def);
});
var $ZodIPv4 = /* @__PURE__ */ $constructor("$ZodIPv4", (inst, def) => {
  def.pattern ?? (def.pattern = ipv4);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = `ipv4`;
  });
});
var $ZodIPv6 = /* @__PURE__ */ $constructor("$ZodIPv6", (inst, def) => {
  def.pattern ?? (def.pattern = ipv6);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = `ipv6`;
  });
  inst._zod.check = (payload) => {
    try {
      new URL(`http://[${payload.value}]`);
    } catch {
      payload.issues.push({
        code: "invalid_format",
        format: "ipv6",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
var $ZodCIDRv4 = /* @__PURE__ */ $constructor("$ZodCIDRv4", (inst, def) => {
  def.pattern ?? (def.pattern = cidrv4);
  $ZodStringFormat.init(inst, def);
});
var $ZodCIDRv6 = /* @__PURE__ */ $constructor("$ZodCIDRv6", (inst, def) => {
  def.pattern ?? (def.pattern = cidrv6);
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    const parts = payload.value.split("/");
    try {
      if (parts.length !== 2)
        throw new Error();
      const [address, prefix] = parts;
      if (!prefix)
        throw new Error();
      const prefixNum = Number(prefix);
      if (`${prefixNum}` !== prefix)
        throw new Error();
      if (prefixNum < 0 || prefixNum > 128)
        throw new Error();
      new URL(`http://[${address}]`);
    } catch {
      payload.issues.push({
        code: "invalid_format",
        format: "cidrv6",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
function isValidBase64(data) {
  if (data === "")
    return true;
  if (data.length % 4 !== 0)
    return false;
  try {
    atob(data);
    return true;
  } catch {
    return false;
  }
}
var $ZodBase64 = /* @__PURE__ */ $constructor("$ZodBase64", (inst, def) => {
  def.pattern ?? (def.pattern = base64);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.contentEncoding = "base64";
  });
  inst._zod.check = (payload) => {
    if (isValidBase64(payload.value))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: "base64",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
function isValidBase64URL(data) {
  if (!base64url.test(data))
    return false;
  const base643 = data.replace(/[-_]/g, (c) => c === "-" ? "+" : "/");
  const padded = base643.padEnd(Math.ceil(base643.length / 4) * 4, "=");
  return isValidBase64(padded);
}
var $ZodBase64URL = /* @__PURE__ */ $constructor("$ZodBase64URL", (inst, def) => {
  def.pattern ?? (def.pattern = base64url);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.contentEncoding = "base64url";
  });
  inst._zod.check = (payload) => {
    if (isValidBase64URL(payload.value))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: "base64url",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodE164 = /* @__PURE__ */ $constructor("$ZodE164", (inst, def) => {
  def.pattern ?? (def.pattern = e164);
  $ZodStringFormat.init(inst, def);
});
function isValidJWT(token, algorithm = null) {
  try {
    const tokensParts = token.split(".");
    if (tokensParts.length !== 3)
      return false;
    const [header] = tokensParts;
    if (!header)
      return false;
    const parsedHeader = JSON.parse(atob(header));
    if ("typ" in parsedHeader && parsedHeader?.typ !== "JWT")
      return false;
    if (!parsedHeader.alg)
      return false;
    if (algorithm && (!("alg" in parsedHeader) || parsedHeader.alg !== algorithm))
      return false;
    return true;
  } catch {
    return false;
  }
}
var $ZodJWT = /* @__PURE__ */ $constructor("$ZodJWT", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    if (isValidJWT(payload.value, def.alg))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: "jwt",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCustomStringFormat = /* @__PURE__ */ $constructor("$ZodCustomStringFormat", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    if (def.fn(payload.value))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: def.format,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodNumber = /* @__PURE__ */ $constructor("$ZodNumber", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = inst._zod.bag.pattern ?? number;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce)
      try {
        payload.value = Number(payload.value);
      } catch (_) {
      }
    const input = payload.value;
    if (typeof input === "number" && !Number.isNaN(input) && Number.isFinite(input)) {
      return payload;
    }
    const received = typeof input === "number" ? Number.isNaN(input) ? "NaN" : !Number.isFinite(input) ? "Infinity" : void 0 : void 0;
    payload.issues.push({
      expected: "number",
      code: "invalid_type",
      input,
      inst,
      ...received ? { received } : {}
    });
    return payload;
  };
});
var $ZodNumberFormat = /* @__PURE__ */ $constructor("$ZodNumber", (inst, def) => {
  $ZodCheckNumberFormat.init(inst, def);
  $ZodNumber.init(inst, def);
});
var $ZodBoolean = /* @__PURE__ */ $constructor("$ZodBoolean", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = boolean;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce)
      try {
        payload.value = Boolean(payload.value);
      } catch (_) {
      }
    const input = payload.value;
    if (typeof input === "boolean")
      return payload;
    payload.issues.push({
      expected: "boolean",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodBigInt = /* @__PURE__ */ $constructor("$ZodBigInt", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = bigint;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce)
      try {
        payload.value = BigInt(payload.value);
      } catch (_) {
      }
    if (typeof payload.value === "bigint")
      return payload;
    payload.issues.push({
      expected: "bigint",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodBigIntFormat = /* @__PURE__ */ $constructor("$ZodBigInt", (inst, def) => {
  $ZodCheckBigIntFormat.init(inst, def);
  $ZodBigInt.init(inst, def);
});
var $ZodSymbol = /* @__PURE__ */ $constructor("$ZodSymbol", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "symbol")
      return payload;
    payload.issues.push({
      expected: "symbol",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodUndefined = /* @__PURE__ */ $constructor("$ZodUndefined", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = _undefined;
  inst._zod.values = /* @__PURE__ */ new Set([void 0]);
  inst._zod.optin = "optional";
  inst._zod.optout = "optional";
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "undefined")
      return payload;
    payload.issues.push({
      expected: "undefined",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodNull = /* @__PURE__ */ $constructor("$ZodNull", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = _null;
  inst._zod.values = /* @__PURE__ */ new Set([null]);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (input === null)
      return payload;
    payload.issues.push({
      expected: "null",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodAny = /* @__PURE__ */ $constructor("$ZodAny", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload) => payload;
});
var $ZodUnknown = /* @__PURE__ */ $constructor("$ZodUnknown", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload) => payload;
});
var $ZodNever = /* @__PURE__ */ $constructor("$ZodNever", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    payload.issues.push({
      expected: "never",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodVoid = /* @__PURE__ */ $constructor("$ZodVoid", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "undefined")
      return payload;
    payload.issues.push({
      expected: "void",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodDate = /* @__PURE__ */ $constructor("$ZodDate", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce) {
      try {
        payload.value = new Date(payload.value);
      } catch (_err) {
      }
    }
    const input = payload.value;
    const isDate = input instanceof Date;
    const isValidDate = isDate && !Number.isNaN(input.getTime());
    if (isValidDate)
      return payload;
    payload.issues.push({
      expected: "date",
      code: "invalid_type",
      input,
      ...isDate ? { received: "Invalid Date" } : {},
      inst
    });
    return payload;
  };
});
function handleArrayResult(result, final, index) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(index, result.issues));
  }
  final.value[index] = result.value;
}
var $ZodArray = /* @__PURE__ */ $constructor("$ZodArray", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!Array.isArray(input)) {
      payload.issues.push({
        expected: "array",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    payload.value = Array(input.length);
    const proms = [];
    for (let i2 = 0; i2 < input.length; i2++) {
      const item = input[i2];
      const result = def.element._zod.run({
        value: item,
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleArrayResult(result2, payload, i2)));
      } else {
        handleArrayResult(result, payload, i2);
      }
    }
    if (proms.length) {
      return Promise.all(proms).then(() => payload);
    }
    return payload;
  };
});
function handlePropertyResult(result, final, key, input) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(key, result.issues));
  }
  if (result.value === void 0) {
    if (key in input) {
      final.value[key] = void 0;
    }
  } else {
    final.value[key] = result.value;
  }
}
function normalizeDef(def) {
  const keys = Object.keys(def.shape);
  for (const k of keys) {
    if (!def.shape?.[k]?._zod?.traits?.has("$ZodType")) {
      throw new Error(`Invalid element at key "${k}": expected a Zod schema`);
    }
  }
  const okeys = optionalKeys(def.shape);
  return {
    ...def,
    keys,
    keySet: new Set(keys),
    numKeys: keys.length,
    optionalKeys: new Set(okeys)
  };
}
function handleCatchall(proms, input, payload, ctx, def, inst) {
  const unrecognized = [];
  const keySet = def.keySet;
  const _catchall = def.catchall._zod;
  const t2 = _catchall.def.type;
  for (const key of Object.keys(input)) {
    if (keySet.has(key))
      continue;
    if (t2 === "never") {
      unrecognized.push(key);
      continue;
    }
    const r2 = _catchall.run({ value: input[key], issues: [] }, ctx);
    if (r2 instanceof Promise) {
      proms.push(r2.then((r3) => handlePropertyResult(r3, payload, key, input)));
    } else {
      handlePropertyResult(r2, payload, key, input);
    }
  }
  if (unrecognized.length) {
    payload.issues.push({
      code: "unrecognized_keys",
      keys: unrecognized,
      input,
      inst
    });
  }
  if (!proms.length)
    return payload;
  return Promise.all(proms).then(() => {
    return payload;
  });
}
var $ZodObject = /* @__PURE__ */ $constructor("$ZodObject", (inst, def) => {
  $ZodType.init(inst, def);
  const _normalized = cached(() => normalizeDef(def));
  defineLazy(inst._zod, "propValues", () => {
    const shape = def.shape;
    const propValues = {};
    for (const key in shape) {
      const field = shape[key]._zod;
      if (field.values) {
        propValues[key] ?? (propValues[key] = /* @__PURE__ */ new Set());
        for (const v of field.values)
          propValues[key].add(v);
      }
    }
    return propValues;
  });
  const isObject2 = isObject;
  const catchall = def.catchall;
  let value;
  inst._zod.parse = (payload, ctx) => {
    value ?? (value = _normalized.value);
    const input = payload.value;
    if (!isObject2(input)) {
      payload.issues.push({
        expected: "object",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    payload.value = {};
    const proms = [];
    const shape = value.shape;
    for (const key of value.keys) {
      const el = shape[key];
      const r2 = el._zod.run({ value: input[key], issues: [] }, ctx);
      if (r2 instanceof Promise) {
        proms.push(r2.then((r3) => handlePropertyResult(r3, payload, key, input)));
      } else {
        handlePropertyResult(r2, payload, key, input);
      }
    }
    if (!catchall) {
      return proms.length ? Promise.all(proms).then(() => payload) : payload;
    }
    return handleCatchall(proms, input, payload, ctx, _normalized.value, inst);
  };
});
var $ZodObjectJIT = /* @__PURE__ */ $constructor("$ZodObjectJIT", (inst, def) => {
  $ZodObject.init(inst, def);
  const superParse = inst._zod.parse;
  const _normalized = cached(() => normalizeDef(def));
  const generateFastpass = (shape) => {
    const doc = new Doc(["shape", "payload", "ctx"]);
    const normalized = _normalized.value;
    const parseStr = (key) => {
      const k = esc(key);
      return `shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`;
    };
    doc.write(`const input = payload.value;`);
    const ids = /* @__PURE__ */ Object.create(null);
    let counter = 0;
    for (const key of normalized.keys) {
      ids[key] = `key_${counter++}`;
    }
    doc.write(`const newResult = {};`);
    for (const key of normalized.keys) {
      const id = ids[key];
      const k = esc(key);
      doc.write(`const ${id} = ${parseStr(key)};`);
      doc.write(`
        if (${id}.issues.length) {
          payload.issues = payload.issues.concat(${id}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k}, ...iss.path] : [${k}]
          })));
        }
        
        
        if (${id}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${id}.value;
        }
        
      `);
    }
    doc.write(`payload.value = newResult;`);
    doc.write(`return payload;`);
    const fn = doc.compile();
    return (payload, ctx) => fn(shape, payload, ctx);
  };
  let fastpass;
  const isObject2 = isObject;
  const jit = !globalConfig.jitless;
  const allowsEval2 = allowsEval;
  const fastEnabled = jit && allowsEval2.value;
  const catchall = def.catchall;
  let value;
  inst._zod.parse = (payload, ctx) => {
    value ?? (value = _normalized.value);
    const input = payload.value;
    if (!isObject2(input)) {
      payload.issues.push({
        expected: "object",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    if (jit && fastEnabled && ctx?.async === false && ctx.jitless !== true) {
      if (!fastpass)
        fastpass = generateFastpass(def.shape);
      payload = fastpass(payload, ctx);
      if (!catchall)
        return payload;
      return handleCatchall([], input, payload, ctx, value, inst);
    }
    return superParse(payload, ctx);
  };
});
function handleUnionResults(results, final, inst, ctx) {
  for (const result of results) {
    if (result.issues.length === 0) {
      final.value = result.value;
      return final;
    }
  }
  const nonaborted = results.filter((r2) => !aborted(r2));
  if (nonaborted.length === 1) {
    final.value = nonaborted[0].value;
    return nonaborted[0];
  }
  final.issues.push({
    code: "invalid_union",
    input: final.value,
    inst,
    errors: results.map((result) => result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  });
  return final;
}
var $ZodUnion = /* @__PURE__ */ $constructor("$ZodUnion", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.options.some((o2) => o2._zod.optin === "optional") ? "optional" : void 0);
  defineLazy(inst._zod, "optout", () => def.options.some((o2) => o2._zod.optout === "optional") ? "optional" : void 0);
  defineLazy(inst._zod, "values", () => {
    if (def.options.every((o2) => o2._zod.values)) {
      return new Set(def.options.flatMap((option) => Array.from(option._zod.values)));
    }
    return void 0;
  });
  defineLazy(inst._zod, "pattern", () => {
    if (def.options.every((o2) => o2._zod.pattern)) {
      const patterns = def.options.map((o2) => o2._zod.pattern);
      return new RegExp(`^(${patterns.map((p) => cleanRegex(p.source)).join("|")})$`);
    }
    return void 0;
  });
  const single = def.options.length === 1;
  const first = def.options[0]._zod.run;
  inst._zod.parse = (payload, ctx) => {
    if (single) {
      return first(payload, ctx);
    }
    let async = false;
    const results = [];
    for (const option of def.options) {
      const result = option._zod.run({
        value: payload.value,
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        results.push(result);
        async = true;
      } else {
        if (result.issues.length === 0)
          return result;
        results.push(result);
      }
    }
    if (!async)
      return handleUnionResults(results, payload, inst, ctx);
    return Promise.all(results).then((results2) => {
      return handleUnionResults(results2, payload, inst, ctx);
    });
  };
});
var $ZodDiscriminatedUnion = /* @__PURE__ */ $constructor("$ZodDiscriminatedUnion", (inst, def) => {
  $ZodUnion.init(inst, def);
  const _super = inst._zod.parse;
  defineLazy(inst._zod, "propValues", () => {
    const propValues = {};
    for (const option of def.options) {
      const pv = option._zod.propValues;
      if (!pv || Object.keys(pv).length === 0)
        throw new Error(`Invalid discriminated union option at index "${def.options.indexOf(option)}"`);
      for (const [k, v] of Object.entries(pv)) {
        if (!propValues[k])
          propValues[k] = /* @__PURE__ */ new Set();
        for (const val of v) {
          propValues[k].add(val);
        }
      }
    }
    return propValues;
  });
  const disc = cached(() => {
    const opts = def.options;
    const map2 = /* @__PURE__ */ new Map();
    for (const o2 of opts) {
      const values = o2._zod.propValues?.[def.discriminator];
      if (!values || values.size === 0)
        throw new Error(`Invalid discriminated union option at index "${def.options.indexOf(o2)}"`);
      for (const v of values) {
        if (map2.has(v)) {
          throw new Error(`Duplicate discriminator value "${String(v)}"`);
        }
        map2.set(v, o2);
      }
    }
    return map2;
  });
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!isObject(input)) {
      payload.issues.push({
        code: "invalid_type",
        expected: "object",
        input,
        inst
      });
      return payload;
    }
    const opt = disc.value.get(input?.[def.discriminator]);
    if (opt) {
      return opt._zod.run(payload, ctx);
    }
    if (def.unionFallback) {
      return _super(payload, ctx);
    }
    payload.issues.push({
      code: "invalid_union",
      errors: [],
      note: "No matching discriminator",
      discriminator: def.discriminator,
      input,
      path: [def.discriminator],
      inst
    });
    return payload;
  };
});
var $ZodIntersection = /* @__PURE__ */ $constructor("$ZodIntersection", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    const left = def.left._zod.run({ value: input, issues: [] }, ctx);
    const right = def.right._zod.run({ value: input, issues: [] }, ctx);
    const async = left instanceof Promise || right instanceof Promise;
    if (async) {
      return Promise.all([left, right]).then(([left2, right2]) => {
        return handleIntersectionResults(payload, left2, right2);
      });
    }
    return handleIntersectionResults(payload, left, right);
  };
});
function mergeValues(a2, b) {
  if (a2 === b) {
    return { valid: true, data: a2 };
  }
  if (a2 instanceof Date && b instanceof Date && +a2 === +b) {
    return { valid: true, data: a2 };
  }
  if (isPlainObject(a2) && isPlainObject(b)) {
    const bKeys = Object.keys(b);
    const sharedKeys = Object.keys(a2).filter((key) => bKeys.indexOf(key) !== -1);
    const newObj = { ...a2, ...b };
    for (const key of sharedKeys) {
      const sharedValue = mergeValues(a2[key], b[key]);
      if (!sharedValue.valid) {
        return {
          valid: false,
          mergeErrorPath: [key, ...sharedValue.mergeErrorPath]
        };
      }
      newObj[key] = sharedValue.data;
    }
    return { valid: true, data: newObj };
  }
  if (Array.isArray(a2) && Array.isArray(b)) {
    if (a2.length !== b.length) {
      return { valid: false, mergeErrorPath: [] };
    }
    const newArray = [];
    for (let index = 0; index < a2.length; index++) {
      const itemA = a2[index];
      const itemB = b[index];
      const sharedValue = mergeValues(itemA, itemB);
      if (!sharedValue.valid) {
        return {
          valid: false,
          mergeErrorPath: [index, ...sharedValue.mergeErrorPath]
        };
      }
      newArray.push(sharedValue.data);
    }
    return { valid: true, data: newArray };
  }
  return { valid: false, mergeErrorPath: [] };
}
function handleIntersectionResults(result, left, right) {
  if (left.issues.length) {
    result.issues.push(...left.issues);
  }
  if (right.issues.length) {
    result.issues.push(...right.issues);
  }
  if (aborted(result))
    return result;
  const merged = mergeValues(left.value, right.value);
  if (!merged.valid) {
    throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(merged.mergeErrorPath)}`);
  }
  result.value = merged.data;
  return result;
}
var $ZodTuple = /* @__PURE__ */ $constructor("$ZodTuple", (inst, def) => {
  $ZodType.init(inst, def);
  const items = def.items;
  const optStart = items.length - [...items].reverse().findIndex((item) => item._zod.optin !== "optional");
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!Array.isArray(input)) {
      payload.issues.push({
        input,
        inst,
        expected: "tuple",
        code: "invalid_type"
      });
      return payload;
    }
    payload.value = [];
    const proms = [];
    if (!def.rest) {
      const tooBig = input.length > items.length;
      const tooSmall = input.length < optStart - 1;
      if (tooBig || tooSmall) {
        payload.issues.push({
          ...tooBig ? { code: "too_big", maximum: items.length } : { code: "too_small", minimum: items.length },
          input,
          inst,
          origin: "array"
        });
        return payload;
      }
    }
    let i2 = -1;
    for (const item of items) {
      i2++;
      if (i2 >= input.length) {
        if (i2 >= optStart)
          continue;
      }
      const result = item._zod.run({
        value: input[i2],
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleTupleResult(result2, payload, i2)));
      } else {
        handleTupleResult(result, payload, i2);
      }
    }
    if (def.rest) {
      const rest = input.slice(items.length);
      for (const el of rest) {
        i2++;
        const result = def.rest._zod.run({
          value: el,
          issues: []
        }, ctx);
        if (result instanceof Promise) {
          proms.push(result.then((result2) => handleTupleResult(result2, payload, i2)));
        } else {
          handleTupleResult(result, payload, i2);
        }
      }
    }
    if (proms.length)
      return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleTupleResult(result, final, index) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(index, result.issues));
  }
  final.value[index] = result.value;
}
var $ZodRecord = /* @__PURE__ */ $constructor("$ZodRecord", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!isPlainObject(input)) {
      payload.issues.push({
        expected: "record",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    const proms = [];
    if (def.keyType._zod.values) {
      const values = def.keyType._zod.values;
      payload.value = {};
      for (const key of values) {
        if (typeof key === "string" || typeof key === "number" || typeof key === "symbol") {
          const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);
          if (result instanceof Promise) {
            proms.push(result.then((result2) => {
              if (result2.issues.length) {
                payload.issues.push(...prefixIssues(key, result2.issues));
              }
              payload.value[key] = result2.value;
            }));
          } else {
            if (result.issues.length) {
              payload.issues.push(...prefixIssues(key, result.issues));
            }
            payload.value[key] = result.value;
          }
        }
      }
      let unrecognized;
      for (const key in input) {
        if (!values.has(key)) {
          unrecognized = unrecognized ?? [];
          unrecognized.push(key);
        }
      }
      if (unrecognized && unrecognized.length > 0) {
        payload.issues.push({
          code: "unrecognized_keys",
          input,
          inst,
          keys: unrecognized
        });
      }
    } else {
      payload.value = {};
      for (const key of Reflect.ownKeys(input)) {
        if (key === "__proto__")
          continue;
        const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);
        if (keyResult instanceof Promise) {
          throw new Error("Async schemas not supported in object keys currently");
        }
        if (keyResult.issues.length) {
          payload.issues.push({
            code: "invalid_key",
            origin: "record",
            issues: keyResult.issues.map((iss) => finalizeIssue(iss, ctx, config())),
            input: key,
            path: [key],
            inst
          });
          payload.value[keyResult.value] = keyResult.value;
          continue;
        }
        const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);
        if (result instanceof Promise) {
          proms.push(result.then((result2) => {
            if (result2.issues.length) {
              payload.issues.push(...prefixIssues(key, result2.issues));
            }
            payload.value[keyResult.value] = result2.value;
          }));
        } else {
          if (result.issues.length) {
            payload.issues.push(...prefixIssues(key, result.issues));
          }
          payload.value[keyResult.value] = result.value;
        }
      }
    }
    if (proms.length) {
      return Promise.all(proms).then(() => payload);
    }
    return payload;
  };
});
var $ZodMap = /* @__PURE__ */ $constructor("$ZodMap", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!(input instanceof Map)) {
      payload.issues.push({
        expected: "map",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    const proms = [];
    payload.value = /* @__PURE__ */ new Map();
    for (const [key, value] of input) {
      const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);
      const valueResult = def.valueType._zod.run({ value, issues: [] }, ctx);
      if (keyResult instanceof Promise || valueResult instanceof Promise) {
        proms.push(Promise.all([keyResult, valueResult]).then(([keyResult2, valueResult2]) => {
          handleMapResult(keyResult2, valueResult2, payload, key, input, inst, ctx);
        }));
      } else {
        handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);
      }
    }
    if (proms.length)
      return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleMapResult(keyResult, valueResult, final, key, input, inst, ctx) {
  if (keyResult.issues.length) {
    if (propertyKeyTypes.has(typeof key)) {
      final.issues.push(...prefixIssues(key, keyResult.issues));
    } else {
      final.issues.push({
        code: "invalid_key",
        origin: "map",
        input,
        inst,
        issues: keyResult.issues.map((iss) => finalizeIssue(iss, ctx, config()))
      });
    }
  }
  if (valueResult.issues.length) {
    if (propertyKeyTypes.has(typeof key)) {
      final.issues.push(...prefixIssues(key, valueResult.issues));
    } else {
      final.issues.push({
        origin: "map",
        code: "invalid_element",
        input,
        inst,
        key,
        issues: valueResult.issues.map((iss) => finalizeIssue(iss, ctx, config()))
      });
    }
  }
  final.value.set(keyResult.value, valueResult.value);
}
var $ZodSet = /* @__PURE__ */ $constructor("$ZodSet", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!(input instanceof Set)) {
      payload.issues.push({
        input,
        inst,
        expected: "set",
        code: "invalid_type"
      });
      return payload;
    }
    const proms = [];
    payload.value = /* @__PURE__ */ new Set();
    for (const item of input) {
      const result = def.valueType._zod.run({ value: item, issues: [] }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleSetResult(result2, payload)));
      } else
        handleSetResult(result, payload);
    }
    if (proms.length)
      return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleSetResult(result, final) {
  if (result.issues.length) {
    final.issues.push(...result.issues);
  }
  final.value.add(result.value);
}
var $ZodEnum = /* @__PURE__ */ $constructor("$ZodEnum", (inst, def) => {
  $ZodType.init(inst, def);
  const values = getEnumValues(def.entries);
  const valuesSet = new Set(values);
  inst._zod.values = valuesSet;
  inst._zod.pattern = new RegExp(`^(${values.filter((k) => propertyKeyTypes.has(typeof k)).map((o2) => typeof o2 === "string" ? escapeRegex(o2) : o2.toString()).join("|")})$`);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (valuesSet.has(input)) {
      return payload;
    }
    payload.issues.push({
      code: "invalid_value",
      values,
      input,
      inst
    });
    return payload;
  };
});
var $ZodLiteral = /* @__PURE__ */ $constructor("$ZodLiteral", (inst, def) => {
  $ZodType.init(inst, def);
  if (def.values.length === 0) {
    throw new Error("Cannot create literal schema with no valid values");
  }
  inst._zod.values = new Set(def.values);
  inst._zod.pattern = new RegExp(`^(${def.values.map((o2) => typeof o2 === "string" ? escapeRegex(o2) : o2 ? escapeRegex(o2.toString()) : String(o2)).join("|")})$`);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (inst._zod.values.has(input)) {
      return payload;
    }
    payload.issues.push({
      code: "invalid_value",
      values: def.values,
      input,
      inst
    });
    return payload;
  };
});
var $ZodFile = /* @__PURE__ */ $constructor("$ZodFile", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (input instanceof File)
      return payload;
    payload.issues.push({
      expected: "file",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodTransform = /* @__PURE__ */ $constructor("$ZodTransform", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      throw new $ZodEncodeError(inst.constructor.name);
    }
    const _out = def.transform(payload.value, payload);
    if (ctx.async) {
      const output = _out instanceof Promise ? _out : Promise.resolve(_out);
      return output.then((output2) => {
        payload.value = output2;
        return payload;
      });
    }
    if (_out instanceof Promise) {
      throw new $ZodAsyncError();
    }
    payload.value = _out;
    return payload;
  };
});
function handleOptionalResult(result, input) {
  if (result.issues.length && input === void 0) {
    return { issues: [], value: void 0 };
  }
  return result;
}
var $ZodOptional = /* @__PURE__ */ $constructor("$ZodOptional", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  inst._zod.optout = "optional";
  defineLazy(inst._zod, "values", () => {
    return def.innerType._zod.values ? /* @__PURE__ */ new Set([...def.innerType._zod.values, void 0]) : void 0;
  });
  defineLazy(inst._zod, "pattern", () => {
    const pattern = def.innerType._zod.pattern;
    return pattern ? new RegExp(`^(${cleanRegex(pattern.source)})?$`) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    if (def.innerType._zod.optin === "optional") {
      const result = def.innerType._zod.run(payload, ctx);
      if (result instanceof Promise)
        return result.then((r2) => handleOptionalResult(r2, payload.value));
      return handleOptionalResult(result, payload.value);
    }
    if (payload.value === void 0) {
      return payload;
    }
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodNullable = /* @__PURE__ */ $constructor("$ZodNullable", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  defineLazy(inst._zod, "pattern", () => {
    const pattern = def.innerType._zod.pattern;
    return pattern ? new RegExp(`^(${cleanRegex(pattern.source)}|null)$`) : void 0;
  });
  defineLazy(inst._zod, "values", () => {
    return def.innerType._zod.values ? /* @__PURE__ */ new Set([...def.innerType._zod.values, null]) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    if (payload.value === null)
      return payload;
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodDefault = /* @__PURE__ */ $constructor("$ZodDefault", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    if (payload.value === void 0) {
      payload.value = def.defaultValue;
      return payload;
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => handleDefaultResult(result2, def));
    }
    return handleDefaultResult(result, def);
  };
});
function handleDefaultResult(payload, def) {
  if (payload.value === void 0) {
    payload.value = def.defaultValue;
  }
  return payload;
}
var $ZodPrefault = /* @__PURE__ */ $constructor("$ZodPrefault", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    if (payload.value === void 0) {
      payload.value = def.defaultValue;
    }
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodNonOptional = /* @__PURE__ */ $constructor("$ZodNonOptional", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => {
    const v = def.innerType._zod.values;
    return v ? new Set([...v].filter((x) => x !== void 0)) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => handleNonOptionalResult(result2, inst));
    }
    return handleNonOptionalResult(result, inst);
  };
});
function handleNonOptionalResult(payload, inst) {
  if (!payload.issues.length && payload.value === void 0) {
    payload.issues.push({
      code: "invalid_type",
      expected: "nonoptional",
      input: payload.value,
      inst
    });
  }
  return payload;
}
var $ZodSuccess = /* @__PURE__ */ $constructor("$ZodSuccess", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      throw new $ZodEncodeError("ZodSuccess");
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => {
        payload.value = result2.issues.length === 0;
        return payload;
      });
    }
    payload.value = result.issues.length === 0;
    return payload;
  };
});
var $ZodCatch = /* @__PURE__ */ $constructor("$ZodCatch", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => {
        payload.value = result2.value;
        if (result2.issues.length) {
          payload.value = def.catchValue({
            ...payload,
            error: {
              issues: result2.issues.map((iss) => finalizeIssue(iss, ctx, config()))
            },
            input: payload.value
          });
          payload.issues = [];
        }
        return payload;
      });
    }
    payload.value = result.value;
    if (result.issues.length) {
      payload.value = def.catchValue({
        ...payload,
        error: {
          issues: result.issues.map((iss) => finalizeIssue(iss, ctx, config()))
        },
        input: payload.value
      });
      payload.issues = [];
    }
    return payload;
  };
});
var $ZodNaN = /* @__PURE__ */ $constructor("$ZodNaN", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "number" || !Number.isNaN(payload.value)) {
      payload.issues.push({
        input: payload.value,
        inst,
        expected: "nan",
        code: "invalid_type"
      });
      return payload;
    }
    return payload;
  };
});
var $ZodPipe = /* @__PURE__ */ $constructor("$ZodPipe", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => def.in._zod.values);
  defineLazy(inst._zod, "optin", () => def.in._zod.optin);
  defineLazy(inst._zod, "optout", () => def.out._zod.optout);
  defineLazy(inst._zod, "propValues", () => def.in._zod.propValues);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      const right = def.out._zod.run(payload, ctx);
      if (right instanceof Promise) {
        return right.then((right2) => handlePipeResult(right2, def.in, ctx));
      }
      return handlePipeResult(right, def.in, ctx);
    }
    const left = def.in._zod.run(payload, ctx);
    if (left instanceof Promise) {
      return left.then((left2) => handlePipeResult(left2, def.out, ctx));
    }
    return handlePipeResult(left, def.out, ctx);
  };
});
function handlePipeResult(left, next, ctx) {
  if (left.issues.length) {
    left.aborted = true;
    return left;
  }
  return next._zod.run({ value: left.value, issues: left.issues }, ctx);
}
var $ZodCodec = /* @__PURE__ */ $constructor("$ZodCodec", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => def.in._zod.values);
  defineLazy(inst._zod, "optin", () => def.in._zod.optin);
  defineLazy(inst._zod, "optout", () => def.out._zod.optout);
  defineLazy(inst._zod, "propValues", () => def.in._zod.propValues);
  inst._zod.parse = (payload, ctx) => {
    const direction = ctx.direction || "forward";
    if (direction === "forward") {
      const left = def.in._zod.run(payload, ctx);
      if (left instanceof Promise) {
        return left.then((left2) => handleCodecAResult(left2, def, ctx));
      }
      return handleCodecAResult(left, def, ctx);
    } else {
      const right = def.out._zod.run(payload, ctx);
      if (right instanceof Promise) {
        return right.then((right2) => handleCodecAResult(right2, def, ctx));
      }
      return handleCodecAResult(right, def, ctx);
    }
  };
});
function handleCodecAResult(result, def, ctx) {
  if (result.issues.length) {
    result.aborted = true;
    return result;
  }
  const direction = ctx.direction || "forward";
  if (direction === "forward") {
    const transformed = def.transform(result.value, result);
    if (transformed instanceof Promise) {
      return transformed.then((value) => handleCodecTxResult(result, value, def.out, ctx));
    }
    return handleCodecTxResult(result, transformed, def.out, ctx);
  } else {
    const transformed = def.reverseTransform(result.value, result);
    if (transformed instanceof Promise) {
      return transformed.then((value) => handleCodecTxResult(result, value, def.in, ctx));
    }
    return handleCodecTxResult(result, transformed, def.in, ctx);
  }
}
function handleCodecTxResult(left, value, nextSchema, ctx) {
  if (left.issues.length) {
    left.aborted = true;
    return left;
  }
  return nextSchema._zod.run({ value, issues: left.issues }, ctx);
}
var $ZodReadonly = /* @__PURE__ */ $constructor("$ZodReadonly", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "propValues", () => def.innerType._zod.propValues);
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then(handleReadonlyResult);
    }
    return handleReadonlyResult(result);
  };
});
function handleReadonlyResult(payload) {
  payload.value = Object.freeze(payload.value);
  return payload;
}
var $ZodTemplateLiteral = /* @__PURE__ */ $constructor("$ZodTemplateLiteral", (inst, def) => {
  $ZodType.init(inst, def);
  const regexParts = [];
  for (const part of def.parts) {
    if (typeof part === "object" && part !== null) {
      if (!part._zod.pattern) {
        throw new Error(`Invalid template literal part, no pattern found: ${[...part._zod.traits].shift()}`);
      }
      const source = part._zod.pattern instanceof RegExp ? part._zod.pattern.source : part._zod.pattern;
      if (!source)
        throw new Error(`Invalid template literal part: ${part._zod.traits}`);
      const start = source.startsWith("^") ? 1 : 0;
      const end = source.endsWith("$") ? source.length - 1 : source.length;
      regexParts.push(source.slice(start, end));
    } else if (part === null || primitiveTypes.has(typeof part)) {
      regexParts.push(escapeRegex(`${part}`));
    } else {
      throw new Error(`Invalid template literal part: ${part}`);
    }
  }
  inst._zod.pattern = new RegExp(`^${regexParts.join("")}$`);
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "string") {
      payload.issues.push({
        input: payload.value,
        inst,
        expected: "template_literal",
        code: "invalid_type"
      });
      return payload;
    }
    inst._zod.pattern.lastIndex = 0;
    if (!inst._zod.pattern.test(payload.value)) {
      payload.issues.push({
        input: payload.value,
        inst,
        code: "invalid_format",
        format: def.format ?? "template_literal",
        pattern: inst._zod.pattern.source
      });
      return payload;
    }
    return payload;
  };
});
var $ZodFunction = /* @__PURE__ */ $constructor("$ZodFunction", (inst, def) => {
  $ZodType.init(inst, def);
  inst._def = def;
  inst._zod.def = def;
  inst.implement = (func) => {
    if (typeof func !== "function") {
      throw new Error("implement() must be called with a function");
    }
    return function(...args) {
      const parsedArgs = inst._def.input ? parse(inst._def.input, args) : args;
      const result = Reflect.apply(func, this, parsedArgs);
      if (inst._def.output) {
        return parse(inst._def.output, result);
      }
      return result;
    };
  };
  inst.implementAsync = (func) => {
    if (typeof func !== "function") {
      throw new Error("implementAsync() must be called with a function");
    }
    return async function(...args) {
      const parsedArgs = inst._def.input ? await parseAsync(inst._def.input, args) : args;
      const result = await Reflect.apply(func, this, parsedArgs);
      if (inst._def.output) {
        return await parseAsync(inst._def.output, result);
      }
      return result;
    };
  };
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "function") {
      payload.issues.push({
        code: "invalid_type",
        expected: "function",
        input: payload.value,
        inst
      });
      return payload;
    }
    const hasPromiseOutput = inst._def.output && inst._def.output._zod.def.type === "promise";
    if (hasPromiseOutput) {
      payload.value = inst.implementAsync(payload.value);
    } else {
      payload.value = inst.implement(payload.value);
    }
    return payload;
  };
  inst.input = (...args) => {
    const F = inst.constructor;
    if (Array.isArray(args[0])) {
      return new F({
        type: "function",
        input: new $ZodTuple({
          type: "tuple",
          items: args[0],
          rest: args[1]
        }),
        output: inst._def.output
      });
    }
    return new F({
      type: "function",
      input: args[0],
      output: inst._def.output
    });
  };
  inst.output = (output) => {
    const F = inst.constructor;
    return new F({
      type: "function",
      input: inst._def.input,
      output
    });
  };
  return inst;
});
var $ZodPromise = /* @__PURE__ */ $constructor("$ZodPromise", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    return Promise.resolve(payload.value).then((inner) => def.innerType._zod.run({ value: inner, issues: [] }, ctx));
  };
});
var $ZodLazy = /* @__PURE__ */ $constructor("$ZodLazy", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "innerType", () => def.getter());
  defineLazy(inst._zod, "pattern", () => inst._zod.innerType._zod.pattern);
  defineLazy(inst._zod, "propValues", () => inst._zod.innerType._zod.propValues);
  defineLazy(inst._zod, "optin", () => inst._zod.innerType._zod.optin ?? void 0);
  defineLazy(inst._zod, "optout", () => inst._zod.innerType._zod.optout ?? void 0);
  inst._zod.parse = (payload, ctx) => {
    const inner = inst._zod.innerType;
    return inner._zod.run(payload, ctx);
  };
});
var $ZodCustom = /* @__PURE__ */ $constructor("$ZodCustom", (inst, def) => {
  $ZodCheck.init(inst, def);
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _) => {
    return payload;
  };
  inst._zod.check = (payload) => {
    const input = payload.value;
    const r2 = def.fn(input);
    if (r2 instanceof Promise) {
      return r2.then((r3) => handleRefineResult(r3, payload, input, inst));
    }
    handleRefineResult(r2, payload, input, inst);
    return;
  };
});
function handleRefineResult(result, payload, input, inst) {
  if (!result) {
    const _iss = {
      code: "custom",
      input,
      inst,
      // incorporates params.error into issue reporting
      path: [...inst._zod.def.path ?? []],
      // incorporates params.error into issue reporting
      continue: !inst._zod.def.abort
      // params: inst._zod.def.params,
    };
    if (inst._zod.def.params)
      _iss.params = inst._zod.def.params;
    payload.issues.push(issue(_iss));
  }
}

// node_modules/zod/v4/locales/index.js
var locales_exports = {};
__export(locales_exports, {
  ar: () => ar_default,
  az: () => az_default,
  be: () => be_default,
  ca: () => ca_default,
  cs: () => cs_default,
  da: () => da_default,
  de: () => de_default,
  en: () => en_default,
  eo: () => eo_default,
  es: () => es_default,
  fa: () => fa_default,
  fi: () => fi_default,
  fr: () => fr_default,
  frCA: () => fr_CA_default,
  he: () => he_default,
  hu: () => hu_default,
  id: () => id_default,
  is: () => is_default,
  it: () => it_default,
  ja: () => ja_default,
  ka: () => ka_default,
  kh: () => kh_default,
  km: () => km_default,
  ko: () => ko_default,
  lt: () => lt_default,
  mk: () => mk_default,
  ms: () => ms_default,
  nl: () => nl_default,
  no: () => no_default,
  ota: () => ota_default,
  pl: () => pl_default,
  ps: () => ps_default,
  pt: () => pt_default,
  ru: () => ru_default,
  sl: () => sl_default,
  sv: () => sv_default,
  ta: () => ta_default,
  th: () => th_default,
  tr: () => tr_default,
  ua: () => ua_default,
  uk: () => uk_default,
  ur: () => ur_default,
  vi: () => vi_default,
  yo: () => yo_default,
  zhCN: () => zh_CN_default,
  zhTW: () => zh_TW_default
});

// node_modules/zod/v4/locales/ar.js
var error = () => {
  const Sizable = {
    string: { unit: "\u062D\u0631\u0641", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" },
    file: { unit: "\u0628\u0627\u064A\u062A", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" },
    array: { unit: "\u0639\u0646\u0635\u0631", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" },
    set: { unit: "\u0639\u0646\u0635\u0631", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0645\u062F\u062E\u0644",
    email: "\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",
    url: "\u0631\u0627\u0628\u0637",
    emoji: "\u0625\u064A\u0645\u0648\u062C\u064A",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    date: "\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    time: "\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    duration: "\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    ipv4: "\u0639\u0646\u0648\u0627\u0646 IPv4",
    ipv6: "\u0639\u0646\u0648\u0627\u0646 IPv6",
    cidrv4: "\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",
    cidrv6: "\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",
    base64: "\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",
    base64url: "\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",
    json_string: "\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",
    e164: "\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",
    jwt: "JWT",
    template_literal: "\u0645\u062F\u062E\u0644"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${issue2.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return ` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${issue2.origin ?? "\u0627\u0644\u0642\u064A\u0645\u0629"} ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0635\u0631"}`;
        return `\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${issue2.origin ?? "\u0627\u0644\u0642\u064A\u0645\u0629"} ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${issue2.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${issue2.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${issue2.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`;
      }
      case "not_multiple_of":
        return `\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u0645\u0639\u0631\u0641${issue2.keys.length > 1 ? "\u0627\u062A" : ""} \u063A\u0631\u064A\u0628${issue2.keys.length > 1 ? "\u0629" : ""}: ${joinValues(issue2.keys, "\u060C ")}`;
      case "invalid_key":
        return `\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${issue2.origin}`;
      case "invalid_union":
        return "\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";
      case "invalid_element":
        return `\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${issue2.origin}`;
      default:
        return "\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";
    }
  };
};
function ar_default() {
  return {
    localeError: error()
  };
}

// node_modules/zod/v4/locales/az.js
var error2 = () => {
  const Sizable = {
    string: { unit: "simvol", verb: "olmal\u0131d\u0131r" },
    file: { unit: "bayt", verb: "olmal\u0131d\u0131r" },
    array: { unit: "element", verb: "olmal\u0131d\u0131r" },
    set: { unit: "element", verb: "olmal\u0131d\u0131r" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "email address",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datetime",
    date: "ISO date",
    time: "ISO time",
    duration: "ISO duration",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded string",
    base64url: "base64url-encoded string",
    json_string: "JSON string",
    e164: "E.164 number",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${issue2.expected}, daxil olan ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${stringifyPrimitive(issue2.values[0])}`;
        return `Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${issue2.origin ?? "d\u0259y\u0259r"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "element"}`;
        return `\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${issue2.origin ?? "d\u0259y\u0259r"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        return `\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Yanl\u0131\u015F m\u0259tn: "${_issue.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`;
        if (_issue.format === "ends_with")
          return `Yanl\u0131\u015F m\u0259tn: "${_issue.suffix}" il\u0259 bitm\u0259lidir`;
        if (_issue.format === "includes")
          return `Yanl\u0131\u015F m\u0259tn: "${_issue.includes}" daxil olmal\u0131d\u0131r`;
        if (_issue.format === "regex")
          return `Yanl\u0131\u015F m\u0259tn: ${_issue.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`;
        return `Yanl\u0131\u015F ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Yanl\u0131\u015F \u0259d\u0259d: ${issue2.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;
      case "unrecognized_keys":
        return `Tan\u0131nmayan a\xE7ar${issue2.keys.length > 1 ? "lar" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;
      case "invalid_union":
        return "Yanl\u0131\u015F d\u0259y\u0259r";
      case "invalid_element":
        return `${issue2.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;
      default:
        return `Yanl\u0131\u015F d\u0259y\u0259r`;
    }
  };
};
function az_default() {
  return {
    localeError: error2()
  };
}

// node_modules/zod/v4/locales/be.js
function getBelarusianPlural(count, one, few, many) {
  const absCount = Math.abs(count);
  const lastDigit = absCount % 10;
  const lastTwoDigits = absCount % 100;
  if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {
    return many;
  }
  if (lastDigit === 1) {
    return one;
  }
  if (lastDigit >= 2 && lastDigit <= 4) {
    return few;
  }
  return many;
}
var error3 = () => {
  const Sizable = {
    string: {
      unit: {
        one: "\u0441\u0456\u043C\u0432\u0430\u043B",
        few: "\u0441\u0456\u043C\u0432\u0430\u043B\u044B",
        many: "\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    },
    array: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    },
    set: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    },
    file: {
      unit: {
        one: "\u0431\u0430\u0439\u0442",
        few: "\u0431\u0430\u0439\u0442\u044B",
        many: "\u0431\u0430\u0439\u0442\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u043B\u0456\u043A";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043C\u0430\u0441\u0456\u045E";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0443\u0432\u043E\u0434",
    email: "email \u0430\u0434\u0440\u0430\u0441",
    url: "URL",
    emoji: "\u044D\u043C\u043E\u0434\u0437\u0456",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",
    date: "ISO \u0434\u0430\u0442\u0430",
    time: "ISO \u0447\u0430\u0441",
    duration: "ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",
    ipv4: "IPv4 \u0430\u0434\u0440\u0430\u0441",
    ipv6: "IPv6 \u0430\u0434\u0440\u0430\u0441",
    cidrv4: "IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",
    cidrv6: "IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",
    base64: "\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",
    base64url: "\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",
    json_string: "JSON \u0440\u0430\u0434\u043E\u043A",
    e164: "\u043D\u0443\u043C\u0430\u0440 E.164",
    jwt: "JWT",
    template_literal: "\u0443\u0432\u043E\u0434"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${issue2.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${stringifyPrimitive(issue2.values[0])}`;
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const maxValue = Number(issue2.maximum);
          const unit = getBelarusianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${sizing.verb} ${adj}${issue2.maximum.toString()} ${unit}`;
        }
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const minValue = Number(issue2.minimum);
          const unit = getBelarusianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${sizing.verb} ${adj}${issue2.minimum.toString()} ${unit}`;
        }
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${issue2.keys.length > 1 ? "\u043A\u043B\u044E\u0447\u044B" : "\u043A\u043B\u044E\u0447"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${issue2.origin}`;
      case "invalid_union":
        return "\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";
      case "invalid_element":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${issue2.origin}`;
      default:
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434`;
    }
  };
};
function be_default() {
  return {
    localeError: error3()
  };
}

// node_modules/zod/v4/locales/ca.js
var error4 = () => {
  const Sizable = {
    string: { unit: "car\xE0cters", verb: "contenir" },
    file: { unit: "bytes", verb: "contenir" },
    array: { unit: "elements", verb: "contenir" },
    set: { unit: "elements", verb: "contenir" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entrada",
    email: "adre\xE7a electr\xF2nica",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data i hora ISO",
    date: "data ISO",
    time: "hora ISO",
    duration: "durada ISO",
    ipv4: "adre\xE7a IPv4",
    ipv6: "adre\xE7a IPv6",
    cidrv4: "rang IPv4",
    cidrv6: "rang IPv6",
    base64: "cadena codificada en base64",
    base64url: "cadena codificada en base64url",
    json_string: "cadena JSON",
    e164: "n\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Tipus inv\xE0lid: s'esperava ${issue2.expected}, s'ha rebut ${parsedType7(issue2.input)}`;
      // return `Tipus invlid: s'esperava ${issue.expected}, s'ha rebut ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Valor inv\xE0lid: s'esperava ${stringifyPrimitive(issue2.values[0])}`;
        return `Opci\xF3 inv\xE0lida: s'esperava una de ${joinValues(issue2.values, " o ")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "com a m\xE0xim" : "menys de";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Massa gran: s'esperava que ${issue2.origin ?? "el valor"} contingu\xE9s ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "elements"}`;
        return `Massa gran: s'esperava que ${issue2.origin ?? "el valor"} fos ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "com a m\xEDnim" : "m\xE9s de";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Massa petit: s'esperava que ${issue2.origin} contingu\xE9s ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Massa petit: s'esperava que ${issue2.origin} fos ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Format inv\xE0lid: ha de comen\xE7ar amb "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Format inv\xE0lid: ha d'acabar amb "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Format inv\xE0lid: ha d'incloure "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${_issue.pattern}`;
        return `Format inv\xE0lid per a ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Clau${issue2.keys.length > 1 ? "s" : ""} no reconeguda${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Clau inv\xE0lida a ${issue2.origin}`;
      case "invalid_union":
        return "Entrada inv\xE0lida";
      // Could also be "Tipus d'uni invlid" but "Entrada invlida" is more general
      case "invalid_element":
        return `Element inv\xE0lid a ${issue2.origin}`;
      default:
        return `Entrada inv\xE0lida`;
    }
  };
};
function ca_default() {
  return {
    localeError: error4()
  };
}

// node_modules/zod/v4/locales/cs.js
var error5 = () => {
  const Sizable = {
    string: { unit: "znak\u016F", verb: "m\xEDt" },
    file: { unit: "bajt\u016F", verb: "m\xEDt" },
    array: { unit: "prvk\u016F", verb: "m\xEDt" },
    set: { unit: "prvk\u016F", verb: "m\xEDt" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u010D\xEDslo";
      }
      case "string": {
        return "\u0159et\u011Bzec";
      }
      case "boolean": {
        return "boolean";
      }
      case "bigint": {
        return "bigint";
      }
      case "function": {
        return "funkce";
      }
      case "symbol": {
        return "symbol";
      }
      case "undefined": {
        return "undefined";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "pole";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "regul\xE1rn\xED v\xFDraz",
    email: "e-mailov\xE1 adresa",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "datum a \u010Das ve form\xE1tu ISO",
    date: "datum ve form\xE1tu ISO",
    time: "\u010Das ve form\xE1tu ISO",
    duration: "doba trv\xE1n\xED ISO",
    ipv4: "IPv4 adresa",
    ipv6: "IPv6 adresa",
    cidrv4: "rozsah IPv4",
    cidrv6: "rozsah IPv6",
    base64: "\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",
    base64url: "\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",
    json_string: "\u0159et\u011Bzec ve form\xE1tu JSON",
    e164: "\u010D\xEDslo E.164",
    jwt: "JWT",
    template_literal: "vstup"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${issue2.expected}, obdr\u017Eeno ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${stringifyPrimitive(issue2.values[0])}`;
        return `Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${issue2.origin ?? "hodnota"} mus\xED m\xEDt ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "prvk\u016F"}`;
        }
        return `Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${issue2.origin ?? "hodnota"} mus\xED b\xFDt ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${issue2.origin ?? "hodnota"} mus\xED m\xEDt ${adj}${issue2.minimum.toString()} ${sizing.unit ?? "prvk\u016F"}`;
        }
        return `Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${issue2.origin ?? "hodnota"} mus\xED b\xFDt ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${_issue.pattern}`;
        return `Neplatn\xFD form\xE1t ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Nezn\xE1m\xE9 kl\xED\u010De: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Neplatn\xFD kl\xED\u010D v ${issue2.origin}`;
      case "invalid_union":
        return "Neplatn\xFD vstup";
      case "invalid_element":
        return `Neplatn\xE1 hodnota v ${issue2.origin}`;
      default:
        return `Neplatn\xFD vstup`;
    }
  };
};
function cs_default() {
  return {
    localeError: error5()
  };
}

// node_modules/zod/v4/locales/da.js
var error6 = () => {
  const Sizable = {
    string: { unit: "tegn", verb: "havde" },
    file: { unit: "bytes", verb: "havde" },
    array: { unit: "elementer", verb: "indeholdt" },
    set: { unit: "elementer", verb: "indeholdt" }
  };
  const TypeNames = {
    string: "streng",
    number: "tal",
    boolean: "boolean",
    array: "liste",
    object: "objekt",
    set: "s\xE6t",
    file: "fil"
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  function getTypeName(type) {
    return TypeNames[type] ?? type;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "tal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "liste";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
        return "objekt";
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "e-mailadresse",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dato- og klokkesl\xE6t",
    date: "ISO-dato",
    time: "ISO-klokkesl\xE6t",
    duration: "ISO-varighed",
    ipv4: "IPv4-omr\xE5de",
    ipv6: "IPv6-omr\xE5de",
    cidrv4: "IPv4-spektrum",
    cidrv6: "IPv6-spektrum",
    base64: "base64-kodet streng",
    base64url: "base64url-kodet streng",
    json_string: "JSON-streng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ugyldigt input: forventede ${getTypeName(issue2.expected)}, fik ${getTypeName(parsedType7(issue2.input))}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ugyldig v\xE6rdi: forventede ${stringifyPrimitive(issue2.values[0])}`;
        return `Ugyldigt valg: forventede en af f\xF8lgende ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing)
          return `For stor: forventede ${origin ?? "value"} ${sizing.verb} ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "elementer"}`;
        return `For stor: forventede ${origin ?? "value"} havde ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing) {
          return `For lille: forventede ${origin} ${sizing.verb} ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `For lille: forventede ${origin} havde ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ugyldig streng: skal starte med "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Ugyldig streng: skal ende med "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Ugyldig streng: skal indeholde "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Ugyldig streng: skal matche m\xF8nsteret ${_issue.pattern}`;
        return `Ugyldig ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ugyldigt tal: skal v\xE6re deleligt med ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Ukendte n\xF8gler" : "Ukendt n\xF8gle"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ugyldig n\xF8gle i ${issue2.origin}`;
      case "invalid_union":
        return "Ugyldigt input: matcher ingen af de tilladte typer";
      case "invalid_element":
        return `Ugyldig v\xE6rdi i ${issue2.origin}`;
      default:
        return `Ugyldigt input`;
    }
  };
};
function da_default() {
  return {
    localeError: error6()
  };
}

// node_modules/zod/v4/locales/de.js
var error7 = () => {
  const Sizable = {
    string: { unit: "Zeichen", verb: "zu haben" },
    file: { unit: "Bytes", verb: "zu haben" },
    array: { unit: "Elemente", verb: "zu haben" },
    set: { unit: "Elemente", verb: "zu haben" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "Zahl";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "Array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "Eingabe",
    email: "E-Mail-Adresse",
    url: "URL",
    emoji: "Emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-Datum und -Uhrzeit",
    date: "ISO-Datum",
    time: "ISO-Uhrzeit",
    duration: "ISO-Dauer",
    ipv4: "IPv4-Adresse",
    ipv6: "IPv6-Adresse",
    cidrv4: "IPv4-Bereich",
    cidrv6: "IPv6-Bereich",
    base64: "Base64-codierter String",
    base64url: "Base64-URL-codierter String",
    json_string: "JSON-String",
    e164: "E.164-Nummer",
    jwt: "JWT",
    template_literal: "Eingabe"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ung\xFCltige Eingabe: erwartet ${issue2.expected}, erhalten ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ung\xFCltige Eingabe: erwartet ${stringifyPrimitive(issue2.values[0])}`;
        return `Ung\xFCltige Option: erwartet eine von ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Zu gro\xDF: erwartet, dass ${issue2.origin ?? "Wert"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "Elemente"} hat`;
        return `Zu gro\xDF: erwartet, dass ${issue2.origin ?? "Wert"} ${adj}${issue2.maximum.toString()} ist`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Zu klein: erwartet, dass ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit} hat`;
        }
        return `Zu klein: erwartet, dass ${issue2.origin} ${adj}${issue2.minimum.toString()} ist`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ung\xFCltiger String: muss mit "${_issue.prefix}" beginnen`;
        if (_issue.format === "ends_with")
          return `Ung\xFCltiger String: muss mit "${_issue.suffix}" enden`;
        if (_issue.format === "includes")
          return `Ung\xFCltiger String: muss "${_issue.includes}" enthalten`;
        if (_issue.format === "regex")
          return `Ung\xFCltiger String: muss dem Muster ${_issue.pattern} entsprechen`;
        return `Ung\xFCltig: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ung\xFCltige Zahl: muss ein Vielfaches von ${issue2.divisor} sein`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Unbekannte Schl\xFCssel" : "Unbekannter Schl\xFCssel"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ung\xFCltiger Schl\xFCssel in ${issue2.origin}`;
      case "invalid_union":
        return "Ung\xFCltige Eingabe";
      case "invalid_element":
        return `Ung\xFCltiger Wert in ${issue2.origin}`;
      default:
        return `Ung\xFCltige Eingabe`;
    }
  };
};
function de_default() {
  return {
    localeError: error7()
  };
}

// node_modules/zod/v4/locales/en.js
var parsedType = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "number";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error8 = () => {
  const Sizable = {
    string: { unit: "characters", verb: "to have" },
    file: { unit: "bytes", verb: "to have" },
    array: { unit: "items", verb: "to have" },
    set: { unit: "items", verb: "to have" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "input",
    email: "email address",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datetime",
    date: "ISO date",
    time: "ISO time",
    duration: "ISO duration",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded string",
    base64url: "base64url-encoded string",
    json_string: "JSON string",
    e164: "E.164 number",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Invalid input: expected ${issue2.expected}, received ${parsedType(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Invalid input: expected ${stringifyPrimitive(issue2.values[0])}`;
        return `Invalid option: expected one of ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Too big: expected ${issue2.origin ?? "value"} to have ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elements"}`;
        return `Too big: expected ${issue2.origin ?? "value"} to be ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Too small: expected ${issue2.origin} to have ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Too small: expected ${issue2.origin} to be ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Invalid string: must start with "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Invalid string: must end with "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Invalid string: must include "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Invalid string: must match pattern ${_issue.pattern}`;
        return `Invalid ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Invalid number: must be a multiple of ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Unrecognized key${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Invalid key in ${issue2.origin}`;
      case "invalid_union":
        return "Invalid input";
      case "invalid_element":
        return `Invalid value in ${issue2.origin}`;
      default:
        return `Invalid input`;
    }
  };
};
function en_default() {
  return {
    localeError: error8()
  };
}

// node_modules/zod/v4/locales/eo.js
var parsedType2 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "nombro";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "tabelo";
      }
      if (data === null) {
        return "senvalora";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error9 = () => {
  const Sizable = {
    string: { unit: "karaktrojn", verb: "havi" },
    file: { unit: "bajtojn", verb: "havi" },
    array: { unit: "elementojn", verb: "havi" },
    set: { unit: "elementojn", verb: "havi" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "enigo",
    email: "retadreso",
    url: "URL",
    emoji: "emo\u011Dio",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-datotempo",
    date: "ISO-dato",
    time: "ISO-tempo",
    duration: "ISO-da\u016Dro",
    ipv4: "IPv4-adreso",
    ipv6: "IPv6-adreso",
    cidrv4: "IPv4-rango",
    cidrv6: "IPv6-rango",
    base64: "64-ume kodita karaktraro",
    base64url: "URL-64-ume kodita karaktraro",
    json_string: "JSON-karaktraro",
    e164: "E.164-nombro",
    jwt: "JWT",
    template_literal: "enigo"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Nevalida enigo: atendi\u011Dis ${issue2.expected}, ricevi\u011Dis ${parsedType2(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Nevalida enigo: atendi\u011Dis ${stringifyPrimitive(issue2.values[0])}`;
        return `Nevalida opcio: atendi\u011Dis unu el ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Tro granda: atendi\u011Dis ke ${issue2.origin ?? "valoro"} havu ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementojn"}`;
        return `Tro granda: atendi\u011Dis ke ${issue2.origin ?? "valoro"} havu ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Tro malgranda: atendi\u011Dis ke ${issue2.origin} havu ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Tro malgranda: atendi\u011Dis ke ${issue2.origin} estu ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Nevalida karaktraro: devas komenci\u011Di per "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Nevalida karaktraro: devas fini\u011Di per "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Nevalida karaktraro: devas inkluzivi "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Nevalida karaktraro: devas kongrui kun la modelo ${_issue.pattern}`;
        return `Nevalida ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Nevalida nombro: devas esti oblo de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Nekonata${issue2.keys.length > 1 ? "j" : ""} \u015Dlosilo${issue2.keys.length > 1 ? "j" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Nevalida \u015Dlosilo en ${issue2.origin}`;
      case "invalid_union":
        return "Nevalida enigo";
      case "invalid_element":
        return `Nevalida valoro en ${issue2.origin}`;
      default:
        return `Nevalida enigo`;
    }
  };
};
function eo_default() {
  return {
    localeError: error9()
  };
}

// node_modules/zod/v4/locales/es.js
var error10 = () => {
  const Sizable = {
    string: { unit: "caracteres", verb: "tener" },
    file: { unit: "bytes", verb: "tener" },
    array: { unit: "elementos", verb: "tener" },
    set: { unit: "elementos", verb: "tener" }
  };
  const TypeNames = {
    string: "texto",
    number: "n\xFAmero",
    boolean: "booleano",
    array: "arreglo",
    object: "objeto",
    set: "conjunto",
    file: "archivo",
    date: "fecha",
    bigint: "n\xFAmero grande",
    symbol: "s\xEDmbolo",
    undefined: "indefinido",
    null: "nulo",
    function: "funci\xF3n",
    map: "mapa",
    record: "registro",
    tuple: "tupla",
    enum: "enumeraci\xF3n",
    union: "uni\xF3n",
    literal: "literal",
    promise: "promesa",
    void: "vac\xEDo",
    never: "nunca",
    unknown: "desconocido",
    any: "cualquiera"
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  function getTypeName(type) {
    return TypeNames[type] ?? type;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype) {
          return data.constructor.name;
        }
        return "object";
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entrada",
    email: "direcci\xF3n de correo electr\xF3nico",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "fecha y hora ISO",
    date: "fecha ISO",
    time: "hora ISO",
    duration: "duraci\xF3n ISO",
    ipv4: "direcci\xF3n IPv4",
    ipv6: "direcci\xF3n IPv6",
    cidrv4: "rango IPv4",
    cidrv6: "rango IPv6",
    base64: "cadena codificada en base64",
    base64url: "URL codificada en base64",
    json_string: "cadena JSON",
    e164: "n\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Entrada inv\xE1lida: se esperaba ${getTypeName(issue2.expected)}, recibido ${getTypeName(parsedType7(issue2.input))}`;
      // return `Entrada invlida: se esperaba ${issue.expected}, recibido ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entrada inv\xE1lida: se esperaba ${stringifyPrimitive(issue2.values[0])}`;
        return `Opci\xF3n inv\xE1lida: se esperaba una de ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing)
          return `Demasiado grande: se esperaba que ${origin ?? "valor"} tuviera ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementos"}`;
        return `Demasiado grande: se esperaba que ${origin ?? "valor"} fuera ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing) {
          return `Demasiado peque\xF1o: se esperaba que ${origin} tuviera ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Demasiado peque\xF1o: se esperaba que ${origin} fuera ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Cadena inv\xE1lida: debe comenzar con "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Cadena inv\xE1lida: debe terminar en "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Cadena inv\xE1lida: debe incluir "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${_issue.pattern}`;
        return `Inv\xE1lido ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Llave${issue2.keys.length > 1 ? "s" : ""} desconocida${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Llave inv\xE1lida en ${getTypeName(issue2.origin)}`;
      case "invalid_union":
        return "Entrada inv\xE1lida";
      case "invalid_element":
        return `Valor inv\xE1lido en ${getTypeName(issue2.origin)}`;
      default:
        return `Entrada inv\xE1lida`;
    }
  };
};
function es_default() {
  return {
    localeError: error10()
  };
}

// node_modules/zod/v4/locales/fa.js
var error11 = () => {
  const Sizable = {
    string: { unit: "\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" },
    file: { unit: "\u0628\u0627\u06CC\u062A", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" },
    array: { unit: "\u0622\u06CC\u062A\u0645", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" },
    set: { unit: "\u0622\u06CC\u062A\u0645", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0639\u062F\u062F";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0622\u0631\u0627\u06CC\u0647";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0648\u0631\u0648\u062F\u06CC",
    email: "\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",
    url: "URL",
    emoji: "\u0627\u06CC\u0645\u0648\u062C\u06CC",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",
    date: "\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",
    time: "\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",
    duration: "\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",
    ipv4: "IPv4 \u0622\u062F\u0631\u0633",
    ipv6: "IPv6 \u0622\u062F\u0631\u0633",
    cidrv4: "IPv4 \u062F\u0627\u0645\u0646\u0647",
    cidrv6: "IPv6 \u062F\u0627\u0645\u0646\u0647",
    base64: "base64-encoded \u0631\u0634\u062A\u0647",
    base64url: "base64url-encoded \u0631\u0634\u062A\u0647",
    json_string: "JSON \u0631\u0634\u062A\u0647",
    e164: "E.164 \u0639\u062F\u062F",
    jwt: "JWT",
    template_literal: "\u0648\u0631\u0648\u062F\u06CC"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${issue2.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${parsedType7(issue2.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;
      case "invalid_value":
        if (issue2.values.length === 1) {
          return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${stringifyPrimitive(issue2.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`;
        }
        return `\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${joinValues(issue2.values, "|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${issue2.origin ?? "\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`;
        }
        return `\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${issue2.origin ?? "\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} \u0628\u0627\u0634\u062F`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} ${sizing.unit} \u0628\u0627\u0634\u062F`;
        }
        return `\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} \u0628\u0627\u0634\u062F`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${_issue.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`;
        }
        if (_issue.format === "ends_with") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${_issue.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`;
        }
        if (_issue.format === "includes") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${_issue.includes}" \u0628\u0627\u0634\u062F`;
        }
        if (_issue.format === "regex") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${_issue.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`;
        }
        return `${Nouns[_issue.format] ?? issue2.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;
      }
      case "not_multiple_of":
        return `\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${issue2.divisor} \u0628\u0627\u0634\u062F`;
      case "unrecognized_keys":
        return `\u06A9\u0644\u06CC\u062F${issue2.keys.length > 1 ? "\u0647\u0627\u06CC" : ""} \u0646\u0627\u0634\u0646\u0627\u0633: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${issue2.origin}`;
      case "invalid_union":
        return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;
      case "invalid_element":
        return `\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${issue2.origin}`;
      default:
        return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;
    }
  };
};
function fa_default() {
  return {
    localeError: error11()
  };
}

// node_modules/zod/v4/locales/fi.js
var error12 = () => {
  const Sizable = {
    string: { unit: "merkki\xE4", subject: "merkkijonon" },
    file: { unit: "tavua", subject: "tiedoston" },
    array: { unit: "alkiota", subject: "listan" },
    set: { unit: "alkiota", subject: "joukon" },
    number: { unit: "", subject: "luvun" },
    bigint: { unit: "", subject: "suuren kokonaisluvun" },
    int: { unit: "", subject: "kokonaisluvun" },
    date: { unit: "", subject: "p\xE4iv\xE4m\xE4\xE4r\xE4n" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "s\xE4\xE4nn\xF6llinen lauseke",
    email: "s\xE4hk\xF6postiosoite",
    url: "URL-osoite",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-aikaleima",
    date: "ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",
    time: "ISO-aika",
    duration: "ISO-kesto",
    ipv4: "IPv4-osoite",
    ipv6: "IPv6-osoite",
    cidrv4: "IPv4-alue",
    cidrv6: "IPv6-alue",
    base64: "base64-koodattu merkkijono",
    base64url: "base64url-koodattu merkkijono",
    json_string: "JSON-merkkijono",
    e164: "E.164-luku",
    jwt: "JWT",
    template_literal: "templaattimerkkijono"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Virheellinen tyyppi: odotettiin ${issue2.expected}, oli ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Virheellinen sy\xF6te: t\xE4ytyy olla ${stringifyPrimitive(issue2.values[0])}`;
        return `Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Liian suuri: ${sizing.subject} t\xE4ytyy olla ${adj}${issue2.maximum.toString()} ${sizing.unit}`.trim();
        }
        return `Liian suuri: arvon t\xE4ytyy olla ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Liian pieni: ${sizing.subject} t\xE4ytyy olla ${adj}${issue2.minimum.toString()} ${sizing.unit}`.trim();
        }
        return `Liian pieni: arvon t\xE4ytyy olla ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Virheellinen sy\xF6te: t\xE4ytyy alkaa "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Virheellinen sy\xF6te: t\xE4ytyy loppua "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${_issue.includes}"`;
        if (_issue.format === "regex") {
          return `Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${_issue.pattern}`;
        }
        return `Virheellinen ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Virheellinen luku: t\xE4ytyy olla luvun ${issue2.divisor} monikerta`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Tuntemattomat avaimet" : "Tuntematon avain"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return "Virheellinen avain tietueessa";
      case "invalid_union":
        return "Virheellinen unioni";
      case "invalid_element":
        return "Virheellinen arvo joukossa";
      default:
        return `Virheellinen sy\xF6te`;
    }
  };
};
function fi_default() {
  return {
    localeError: error12()
  };
}

// node_modules/zod/v4/locales/fr.js
var error13 = () => {
  const Sizable = {
    string: { unit: "caract\xE8res", verb: "avoir" },
    file: { unit: "octets", verb: "avoir" },
    array: { unit: "\xE9l\xE9ments", verb: "avoir" },
    set: { unit: "\xE9l\xE9ments", verb: "avoir" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "nombre";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tableau";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entr\xE9e",
    email: "adresse e-mail",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "date et heure ISO",
    date: "date ISO",
    time: "heure ISO",
    duration: "dur\xE9e ISO",
    ipv4: "adresse IPv4",
    ipv6: "adresse IPv6",
    cidrv4: "plage IPv4",
    cidrv6: "plage IPv6",
    base64: "cha\xEEne encod\xE9e en base64",
    base64url: "cha\xEEne encod\xE9e en base64url",
    json_string: "cha\xEEne JSON",
    e164: "num\xE9ro E.164",
    jwt: "JWT",
    template_literal: "entr\xE9e"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Entr\xE9e invalide : ${issue2.expected} attendu, ${parsedType7(issue2.input)} re\xE7u`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entr\xE9e invalide : ${stringifyPrimitive(issue2.values[0])} attendu`;
        return `Option invalide : une valeur parmi ${joinValues(issue2.values, "|")} attendue`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Trop grand : ${issue2.origin ?? "valeur"} doit ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\xE9l\xE9ment(s)"}`;
        return `Trop grand : ${issue2.origin ?? "valeur"} doit \xEAtre ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Trop petit : ${issue2.origin} doit ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Trop petit : ${issue2.origin} doit \xEAtre ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Cha\xEEne invalide : doit commencer par "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Cha\xEEne invalide : doit se terminer par "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Cha\xEEne invalide : doit inclure "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Cha\xEEne invalide : doit correspondre au mod\xE8le ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} invalide`;
      }
      case "not_multiple_of":
        return `Nombre invalide : doit \xEAtre un multiple de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Cl\xE9${issue2.keys.length > 1 ? "s" : ""} non reconnue${issue2.keys.length > 1 ? "s" : ""} : ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Cl\xE9 invalide dans ${issue2.origin}`;
      case "invalid_union":
        return "Entr\xE9e invalide";
      case "invalid_element":
        return `Valeur invalide dans ${issue2.origin}`;
      default:
        return `Entr\xE9e invalide`;
    }
  };
};
function fr_default() {
  return {
    localeError: error13()
  };
}

// node_modules/zod/v4/locales/fr-CA.js
var error14 = () => {
  const Sizable = {
    string: { unit: "caract\xE8res", verb: "avoir" },
    file: { unit: "octets", verb: "avoir" },
    array: { unit: "\xE9l\xE9ments", verb: "avoir" },
    set: { unit: "\xE9l\xE9ments", verb: "avoir" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entr\xE9e",
    email: "adresse courriel",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "date-heure ISO",
    date: "date ISO",
    time: "heure ISO",
    duration: "dur\xE9e ISO",
    ipv4: "adresse IPv4",
    ipv6: "adresse IPv6",
    cidrv4: "plage IPv4",
    cidrv6: "plage IPv6",
    base64: "cha\xEEne encod\xE9e en base64",
    base64url: "cha\xEEne encod\xE9e en base64url",
    json_string: "cha\xEEne JSON",
    e164: "num\xE9ro E.164",
    jwt: "JWT",
    template_literal: "entr\xE9e"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Entr\xE9e invalide : attendu ${issue2.expected}, re\xE7u ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entr\xE9e invalide : attendu ${stringifyPrimitive(issue2.values[0])}`;
        return `Option invalide : attendu l'une des valeurs suivantes ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "\u2264" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Trop grand : attendu que ${issue2.origin ?? "la valeur"} ait ${adj}${issue2.maximum.toString()} ${sizing.unit}`;
        return `Trop grand : attendu que ${issue2.origin ?? "la valeur"} soit ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\u2265" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Trop petit : attendu que ${issue2.origin} ait ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Trop petit : attendu que ${issue2.origin} soit ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Cha\xEEne invalide : doit commencer par "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Cha\xEEne invalide : doit se terminer par "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Cha\xEEne invalide : doit inclure "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Cha\xEEne invalide : doit correspondre au motif ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} invalide`;
      }
      case "not_multiple_of":
        return `Nombre invalide : doit \xEAtre un multiple de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Cl\xE9${issue2.keys.length > 1 ? "s" : ""} non reconnue${issue2.keys.length > 1 ? "s" : ""} : ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Cl\xE9 invalide dans ${issue2.origin}`;
      case "invalid_union":
        return "Entr\xE9e invalide";
      case "invalid_element":
        return `Valeur invalide dans ${issue2.origin}`;
      default:
        return `Entr\xE9e invalide`;
    }
  };
};
function fr_CA_default() {
  return {
    localeError: error14()
  };
}

// node_modules/zod/v4/locales/he.js
var error15 = () => {
  const Sizable = {
    string: { unit: "\u05D0\u05D5\u05EA\u05D9\u05D5\u05EA", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" },
    file: { unit: "\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" },
    array: { unit: "\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" },
    set: { unit: "\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u05E7\u05DC\u05D8",
    email: "\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",
    url: "\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",
    emoji: "\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",
    date: "\u05EA\u05D0\u05E8\u05D9\u05DA ISO",
    time: "\u05D6\u05DE\u05DF ISO",
    duration: "\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",
    ipv4: "\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",
    ipv6: "\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",
    cidrv4: "\u05D8\u05D5\u05D5\u05D7 IPv4",
    cidrv6: "\u05D8\u05D5\u05D5\u05D7 IPv6",
    base64: "\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",
    base64url: "\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",
    json_string: "\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",
    e164: "\u05DE\u05E1\u05E4\u05E8 E.164",
    jwt: "JWT",
    template_literal: "\u05E7\u05DC\u05D8"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${issue2.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${parsedType7(issue2.input)}`;
      // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${stringifyPrimitive(issue2.values[0])}`;
        return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05D0\u05D7\u05EA \u05DE\u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA  ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${issue2.origin ?? "value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elements"}`;
        return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${issue2.origin ?? "value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${issue2.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${issue2.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1"${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`;
      }
      case "not_multiple_of":
        return `\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u05DE\u05E4\u05EA\u05D7${issue2.keys.length > 1 ? "\u05D5\u05EA" : ""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${issue2.keys.length > 1 ? "\u05D9\u05DD" : "\u05D4"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u05DE\u05E4\u05EA\u05D7 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${issue2.origin}`;
      case "invalid_union":
        return "\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";
      case "invalid_element":
        return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${issue2.origin}`;
      default:
        return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`;
    }
  };
};
function he_default() {
  return {
    localeError: error15()
  };
}

// node_modules/zod/v4/locales/hu.js
var error16 = () => {
  const Sizable = {
    string: { unit: "karakter", verb: "legyen" },
    file: { unit: "byte", verb: "legyen" },
    array: { unit: "elem", verb: "legyen" },
    set: { unit: "elem", verb: "legyen" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "sz\xE1m";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "t\xF6mb";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "bemenet",
    email: "email c\xEDm",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO id\u0151b\xE9lyeg",
    date: "ISO d\xE1tum",
    time: "ISO id\u0151",
    duration: "ISO id\u0151intervallum",
    ipv4: "IPv4 c\xEDm",
    ipv6: "IPv6 c\xEDm",
    cidrv4: "IPv4 tartom\xE1ny",
    cidrv6: "IPv6 tartom\xE1ny",
    base64: "base64-k\xF3dolt string",
    base64url: "base64url-k\xF3dolt string",
    json_string: "JSON string",
    e164: "E.164 sz\xE1m",
    jwt: "JWT",
    template_literal: "bemenet"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${issue2.expected}, a kapott \xE9rt\xE9k ${parsedType7(issue2.input)}`;
      // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${stringifyPrimitive(issue2.values[0])}`;
        return `\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `T\xFAl nagy: ${issue2.origin ?? "\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elem"}`;
        return `T\xFAl nagy: a bemeneti \xE9rt\xE9k ${issue2.origin ?? "\xE9rt\xE9k"} t\xFAl nagy: ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${issue2.origin} m\xE9rete t\xFAl kicsi ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${issue2.origin} t\xFAl kicsi ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\xC9rv\xE9nytelen string: "${_issue.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`;
        if (_issue.format === "ends_with")
          return `\xC9rv\xE9nytelen string: "${_issue.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`;
        if (_issue.format === "includes")
          return `\xC9rv\xE9nytelen string: "${_issue.includes}" \xE9rt\xE9ket kell tartalmaznia`;
        if (_issue.format === "regex")
          return `\xC9rv\xE9nytelen string: ${_issue.pattern} mint\xE1nak kell megfelelnie`;
        return `\xC9rv\xE9nytelen ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\xC9rv\xE9nytelen sz\xE1m: ${issue2.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;
      case "unrecognized_keys":
        return `Ismeretlen kulcs${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\xC9rv\xE9nytelen kulcs ${issue2.origin}`;
      case "invalid_union":
        return "\xC9rv\xE9nytelen bemenet";
      case "invalid_element":
        return `\xC9rv\xE9nytelen \xE9rt\xE9k: ${issue2.origin}`;
      default:
        return `\xC9rv\xE9nytelen bemenet`;
    }
  };
};
function hu_default() {
  return {
    localeError: error16()
  };
}

// node_modules/zod/v4/locales/id.js
var error17 = () => {
  const Sizable = {
    string: { unit: "karakter", verb: "memiliki" },
    file: { unit: "byte", verb: "memiliki" },
    array: { unit: "item", verb: "memiliki" },
    set: { unit: "item", verb: "memiliki" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "alamat email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "tanggal dan waktu format ISO",
    date: "tanggal format ISO",
    time: "jam format ISO",
    duration: "durasi format ISO",
    ipv4: "alamat IPv4",
    ipv6: "alamat IPv6",
    cidrv4: "rentang alamat IPv4",
    cidrv6: "rentang alamat IPv6",
    base64: "string dengan enkode base64",
    base64url: "string dengan enkode base64url",
    json_string: "string JSON",
    e164: "angka E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Input tidak valid: diharapkan ${issue2.expected}, diterima ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Input tidak valid: diharapkan ${stringifyPrimitive(issue2.values[0])}`;
        return `Pilihan tidak valid: diharapkan salah satu dari ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Terlalu besar: diharapkan ${issue2.origin ?? "value"} memiliki ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elemen"}`;
        return `Terlalu besar: diharapkan ${issue2.origin ?? "value"} menjadi ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Terlalu kecil: diharapkan ${issue2.origin} memiliki ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Terlalu kecil: diharapkan ${issue2.origin} menjadi ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `String tidak valid: harus dimulai dengan "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `String tidak valid: harus berakhir dengan "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `String tidak valid: harus menyertakan "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `String tidak valid: harus sesuai pola ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} tidak valid`;
      }
      case "not_multiple_of":
        return `Angka tidak valid: harus kelipatan dari ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Kunci tidak dikenali ${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Kunci tidak valid di ${issue2.origin}`;
      case "invalid_union":
        return "Input tidak valid";
      case "invalid_element":
        return `Nilai tidak valid di ${issue2.origin}`;
      default:
        return `Input tidak valid`;
    }
  };
};
function id_default() {
  return {
    localeError: error17()
  };
}

// node_modules/zod/v4/locales/is.js
var parsedType3 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "n\xFAmer";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "fylki";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error18 = () => {
  const Sizable = {
    string: { unit: "stafi", verb: "a\xF0 hafa" },
    file: { unit: "b\xE6ti", verb: "a\xF0 hafa" },
    array: { unit: "hluti", verb: "a\xF0 hafa" },
    set: { unit: "hluti", verb: "a\xF0 hafa" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "gildi",
    email: "netfang",
    url: "vefsl\xF3\xF0",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dagsetning og t\xEDmi",
    date: "ISO dagsetning",
    time: "ISO t\xEDmi",
    duration: "ISO t\xEDmalengd",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded strengur",
    base64url: "base64url-encoded strengur",
    json_string: "JSON strengur",
    e164: "E.164 t\xF6lugildi",
    jwt: "JWT",
    template_literal: "gildi"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Rangt gildi: \xDE\xFA sl\xF3st inn ${parsedType3(issue2.input)} \xFEar sem \xE1 a\xF0 vera ${issue2.expected}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Rangt gildi: gert r\xE1\xF0 fyrir ${stringifyPrimitive(issue2.values[0])}`;
        return `\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin ?? "gildi"} hafi ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "hluti"}`;
        return `Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin ?? "gildi"} s\xE9 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin} hafi ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin} s\xE9 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${_issue.pattern}`;
        return `Rangt ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\xD3\xFEekkt ${issue2.keys.length > 1 ? "ir lyklar" : "ur lykill"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Rangur lykill \xED ${issue2.origin}`;
      case "invalid_union":
        return "Rangt gildi";
      case "invalid_element":
        return `Rangt gildi \xED ${issue2.origin}`;
      default:
        return `Rangt gildi`;
    }
  };
};
function is_default() {
  return {
    localeError: error18()
  };
}

// node_modules/zod/v4/locales/it.js
var error19 = () => {
  const Sizable = {
    string: { unit: "caratteri", verb: "avere" },
    file: { unit: "byte", verb: "avere" },
    array: { unit: "elementi", verb: "avere" },
    set: { unit: "elementi", verb: "avere" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "numero";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "vettore";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "indirizzo email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data e ora ISO",
    date: "data ISO",
    time: "ora ISO",
    duration: "durata ISO",
    ipv4: "indirizzo IPv4",
    ipv6: "indirizzo IPv6",
    cidrv4: "intervallo IPv4",
    cidrv6: "intervallo IPv6",
    base64: "stringa codificata in base64",
    base64url: "URL codificata in base64",
    json_string: "stringa JSON",
    e164: "numero E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Input non valido: atteso ${issue2.expected}, ricevuto ${parsedType7(issue2.input)}`;
      // return `Input non valido: atteso ${issue.expected}, ricevuto ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Input non valido: atteso ${stringifyPrimitive(issue2.values[0])}`;
        return `Opzione non valida: atteso uno tra ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Troppo grande: ${issue2.origin ?? "valore"} deve avere ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementi"}`;
        return `Troppo grande: ${issue2.origin ?? "valore"} deve essere ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Troppo piccolo: ${issue2.origin} deve avere ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Troppo piccolo: ${issue2.origin} deve essere ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Stringa non valida: deve iniziare con "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Stringa non valida: deve terminare con "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Stringa non valida: deve includere "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Stringa non valida: deve corrispondere al pattern ${_issue.pattern}`;
        return `Invalid ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Numero non valido: deve essere un multiplo di ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Chiav${issue2.keys.length > 1 ? "i" : "e"} non riconosciut${issue2.keys.length > 1 ? "e" : "a"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Chiave non valida in ${issue2.origin}`;
      case "invalid_union":
        return "Input non valido";
      case "invalid_element":
        return `Valore non valido in ${issue2.origin}`;
      default:
        return `Input non valido`;
    }
  };
};
function it_default() {
  return {
    localeError: error19()
  };
}

// node_modules/zod/v4/locales/ja.js
var error20 = () => {
  const Sizable = {
    string: { unit: "\u6587\u5B57", verb: "\u3067\u3042\u308B" },
    file: { unit: "\u30D0\u30A4\u30C8", verb: "\u3067\u3042\u308B" },
    array: { unit: "\u8981\u7D20", verb: "\u3067\u3042\u308B" },
    set: { unit: "\u8981\u7D20", verb: "\u3067\u3042\u308B" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u6570\u5024";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u914D\u5217";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u5165\u529B\u5024",
    email: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",
    url: "URL",
    emoji: "\u7D75\u6587\u5B57",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO\u65E5\u6642",
    date: "ISO\u65E5\u4ED8",
    time: "ISO\u6642\u523B",
    duration: "ISO\u671F\u9593",
    ipv4: "IPv4\u30A2\u30C9\u30EC\u30B9",
    ipv6: "IPv6\u30A2\u30C9\u30EC\u30B9",
    cidrv4: "IPv4\u7BC4\u56F2",
    cidrv6: "IPv6\u7BC4\u56F2",
    base64: "base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",
    base64url: "base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",
    json_string: "JSON\u6587\u5B57\u5217",
    e164: "E.164\u756A\u53F7",
    jwt: "JWT",
    template_literal: "\u5165\u529B\u5024"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u7121\u52B9\u306A\u5165\u529B: ${issue2.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${parsedType7(issue2.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u7121\u52B9\u306A\u5165\u529B: ${stringifyPrimitive(issue2.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`;
        return `\u7121\u52B9\u306A\u9078\u629E: ${joinValues(issue2.values, "\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      case "too_big": {
        const adj = issue2.inclusive ? "\u4EE5\u4E0B\u3067\u3042\u308B" : "\u3088\u308A\u5C0F\u3055\u3044";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u5927\u304D\u3059\u304E\u308B\u5024: ${issue2.origin ?? "\u5024"}\u306F${issue2.maximum.toString()}${sizing.unit ?? "\u8981\u7D20"}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        return `\u5927\u304D\u3059\u304E\u308B\u5024: ${issue2.origin ?? "\u5024"}\u306F${issue2.maximum.toString()}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\u4EE5\u4E0A\u3067\u3042\u308B" : "\u3088\u308A\u5927\u304D\u3044";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u5C0F\u3055\u3059\u304E\u308B\u5024: ${issue2.origin}\u306F${issue2.minimum.toString()}${sizing.unit}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        return `\u5C0F\u3055\u3059\u304E\u308B\u5024: ${issue2.origin}\u306F${issue2.minimum.toString()}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: "${_issue.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        if (_issue.format === "ends_with")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: "${_issue.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        if (_issue.format === "includes")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: "${_issue.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        if (_issue.format === "regex")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${_issue.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        return `\u7121\u52B9\u306A${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u7121\u52B9\u306A\u6570\u5024: ${issue2.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      case "unrecognized_keys":
        return `\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${issue2.keys.length > 1 ? "\u7FA4" : ""}: ${joinValues(issue2.keys, "\u3001")}`;
      case "invalid_key":
        return `${issue2.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;
      case "invalid_union":
        return "\u7121\u52B9\u306A\u5165\u529B";
      case "invalid_element":
        return `${issue2.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;
      default:
        return `\u7121\u52B9\u306A\u5165\u529B`;
    }
  };
};
function ja_default() {
  return {
    localeError: error20()
  };
}

// node_modules/zod/v4/locales/ka.js
var parsedType4 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  const typeMap = {
    string: "\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    boolean: "\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",
    undefined: "undefined",
    bigint: "bigint",
    symbol: "symbol",
    function: "\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0"
  };
  return typeMap[t2] ?? t2;
};
var error21 = () => {
  const Sizable = {
    string: { unit: "\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" },
    file: { unit: "\u10D1\u10D0\u10D8\u10E2\u10D8", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" },
    array: { unit: "\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" },
    set: { unit: "\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",
    email: "\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",
    url: "URL",
    emoji: "\u10D4\u10DB\u10DD\u10EF\u10D8",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",
    date: "\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",
    time: "\u10D3\u10E0\u10DD",
    duration: "\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",
    ipv4: "IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",
    ipv6: "IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",
    cidrv4: "IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",
    cidrv6: "IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",
    base64: "base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    base64url: "base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    json_string: "JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    e164: "E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",
    jwt: "JWT",
    template_literal: "\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${parsedType4(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${joinValues(issue2.values, "|")}-\u10D3\u10D0\u10DC`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin ?? "\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit}`;
        return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin ?? "\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin} \u10D8\u10E7\u10DD\u10E1 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${_issue.prefix}"-\u10D8\u10D7`;
        }
        if (_issue.format === "ends_with")
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${_issue.suffix}"-\u10D8\u10D7`;
        if (_issue.format === "includes")
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${_issue.includes}"-\u10E1`;
        if (_issue.format === "regex")
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${_issue.pattern}`;
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${issue2.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;
      case "unrecognized_keys":
        return `\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${issue2.keys.length > 1 ? "\u10D4\u10D1\u10D8" : "\u10D8"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${issue2.origin}-\u10E8\u10D8`;
      case "invalid_union":
        return "\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";
      case "invalid_element":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${issue2.origin}-\u10E8\u10D8`;
      default:
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0`;
    }
  };
};
function ka_default() {
  return {
    localeError: error21()
  };
}

// node_modules/zod/v4/locales/km.js
var error22 = () => {
  const Sizable = {
    string: { unit: "\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" },
    file: { unit: "\u1794\u17C3", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" },
    array: { unit: "\u1792\u17B6\u178F\u17BB", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" },
    set: { unit: "\u1792\u17B6\u178F\u17BB", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)" : "\u179B\u17C1\u1781";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u17A2\u17B6\u179A\u17C1 (Array)";
        }
        if (data === null) {
          return "\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",
    email: "\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",
    url: "URL",
    emoji: "\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",
    date: "\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",
    time: "\u1798\u17C9\u17C4\u1784 ISO",
    duration: "\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",
    ipv4: "\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",
    ipv6: "\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",
    cidrv4: "\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",
    cidrv6: "\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",
    base64: "\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",
    base64url: "\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",
    json_string: "\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",
    e164: "\u179B\u17C1\u1781 E.164",
    jwt: "JWT",
    template_literal: "\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${stringifyPrimitive(issue2.values[0])}`;
        return `\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin ?? "\u178F\u1798\u17D2\u179B\u17C3"} ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "\u1792\u17B6\u178F\u17BB"}`;
        return `\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin ?? "\u178F\u1798\u17D2\u179B\u17C3"} ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin} ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin} ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${_issue.pattern}`;
        return `\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${issue2.origin}`;
      case "invalid_union":
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C`;
      case "invalid_element":
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${issue2.origin}`;
      default:
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C`;
    }
  };
};
function km_default() {
  return {
    localeError: error22()
  };
}

// node_modules/zod/v4/locales/kh.js
function kh_default() {
  return km_default();
}

// node_modules/zod/v4/locales/ko.js
var error23 = () => {
  const Sizable = {
    string: { unit: "\uBB38\uC790", verb: "to have" },
    file: { unit: "\uBC14\uC774\uD2B8", verb: "to have" },
    array: { unit: "\uAC1C", verb: "to have" },
    set: { unit: "\uAC1C", verb: "to have" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\uC785\uB825",
    email: "\uC774\uBA54\uC77C \uC8FC\uC18C",
    url: "URL",
    emoji: "\uC774\uBAA8\uC9C0",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \uB0A0\uC9DC\uC2DC\uAC04",
    date: "ISO \uB0A0\uC9DC",
    time: "ISO \uC2DC\uAC04",
    duration: "ISO \uAE30\uAC04",
    ipv4: "IPv4 \uC8FC\uC18C",
    ipv6: "IPv6 \uC8FC\uC18C",
    cidrv4: "IPv4 \uBC94\uC704",
    cidrv6: "IPv6 \uBC94\uC704",
    base64: "base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",
    base64url: "base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",
    json_string: "JSON \uBB38\uC790\uC5F4",
    e164: "E.164 \uBC88\uD638",
    jwt: "JWT",
    template_literal: "\uC785\uB825"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${issue2.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${parsedType7(issue2.input)}\uC785\uB2C8\uB2E4`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${stringifyPrimitive(issue2.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`;
        return `\uC798\uBABB\uB41C \uC635\uC158: ${joinValues(issue2.values, "\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;
      case "too_big": {
        const adj = issue2.inclusive ? "\uC774\uD558" : "\uBBF8\uB9CC";
        const suffix = adj === "\uBBF8\uB9CC" ? "\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4" : "\uC5EC\uC57C \uD569\uB2C8\uB2E4";
        const sizing = getSizing(issue2.origin);
        const unit = sizing?.unit ?? "\uC694\uC18C";
        if (sizing)
          return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${issue2.maximum.toString()}${unit} ${adj}${suffix}`;
        return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${issue2.maximum.toString()} ${adj}${suffix}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\uC774\uC0C1" : "\uCD08\uACFC";
        const suffix = adj === "\uC774\uC0C1" ? "\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4" : "\uC5EC\uC57C \uD569\uB2C8\uB2E4";
        const sizing = getSizing(issue2.origin);
        const unit = sizing?.unit ?? "\uC694\uC18C";
        if (sizing) {
          return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${issue2.minimum.toString()}${unit} ${adj}${suffix}`;
        }
        return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${issue2.minimum.toString()} ${adj}${suffix}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${_issue.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`;
        }
        if (_issue.format === "ends_with")
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${_issue.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`;
        if (_issue.format === "includes")
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${_issue.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`;
        if (_issue.format === "regex")
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${_issue.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`;
        return `\uC798\uBABB\uB41C ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\uC798\uBABB\uB41C \uC22B\uC790: ${issue2.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;
      case "unrecognized_keys":
        return `\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\uC798\uBABB\uB41C \uD0A4: ${issue2.origin}`;
      case "invalid_union":
        return `\uC798\uBABB\uB41C \uC785\uB825`;
      case "invalid_element":
        return `\uC798\uBABB\uB41C \uAC12: ${issue2.origin}`;
      default:
        return `\uC798\uBABB\uB41C \uC785\uB825`;
    }
  };
};
function ko_default() {
  return {
    localeError: error23()
  };
}

// node_modules/zod/v4/locales/lt.js
var parsedType5 = (data) => {
  const t2 = typeof data;
  return parsedTypeFromType(t2, data);
};
var parsedTypeFromType = (t2, data = void 0) => {
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "skai\u010Dius";
    }
    case "bigint": {
      return "sveikasis skai\u010Dius";
    }
    case "string": {
      return "eilut\u0117";
    }
    case "boolean": {
      return "login\u0117 reik\u0161m\u0117";
    }
    case "undefined":
    case "void": {
      return "neapibr\u0117\u017Eta reik\u0161m\u0117";
    }
    case "function": {
      return "funkcija";
    }
    case "symbol": {
      return "simbolis";
    }
    case "object": {
      if (data === void 0)
        return "ne\u017Einomas objektas";
      if (data === null)
        return "nulin\u0117 reik\u0161m\u0117";
      if (Array.isArray(data))
        return "masyvas";
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
      return "objektas";
    }
    //Zod types below
    case "null": {
      return "nulin\u0117 reik\u0161m\u0117";
    }
  }
  return t2;
};
var capitalizeFirstCharacter = (text2) => {
  return text2.charAt(0).toUpperCase() + text2.slice(1);
};
function getUnitTypeFromNumber(number4) {
  const abs = Math.abs(number4);
  const last = abs % 10;
  const last2 = abs % 100;
  if (last2 >= 11 && last2 <= 19 || last === 0)
    return "many";
  if (last === 1)
    return "one";
  return "few";
}
var error24 = () => {
  const Sizable = {
    string: {
      unit: {
        one: "simbolis",
        few: "simboliai",
        many: "simboli\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi b\u016Bti ne ilgesn\u0117 kaip",
          notInclusive: "turi b\u016Bti trumpesn\u0117 kaip"
        },
        bigger: {
          inclusive: "turi b\u016Bti ne trumpesn\u0117 kaip",
          notInclusive: "turi b\u016Bti ilgesn\u0117 kaip"
        }
      }
    },
    file: {
      unit: {
        one: "baitas",
        few: "baitai",
        many: "bait\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi b\u016Bti ne didesnis kaip",
          notInclusive: "turi b\u016Bti ma\u017Eesnis kaip"
        },
        bigger: {
          inclusive: "turi b\u016Bti ne ma\u017Eesnis kaip",
          notInclusive: "turi b\u016Bti didesnis kaip"
        }
      }
    },
    array: {
      unit: {
        one: "element\u0105",
        few: "elementus",
        many: "element\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi tur\u0117ti ne daugiau kaip",
          notInclusive: "turi tur\u0117ti ma\u017Eiau kaip"
        },
        bigger: {
          inclusive: "turi tur\u0117ti ne ma\u017Eiau kaip",
          notInclusive: "turi tur\u0117ti daugiau kaip"
        }
      }
    },
    set: {
      unit: {
        one: "element\u0105",
        few: "elementus",
        many: "element\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi tur\u0117ti ne daugiau kaip",
          notInclusive: "turi tur\u0117ti ma\u017Eiau kaip"
        },
        bigger: {
          inclusive: "turi tur\u0117ti ne ma\u017Eiau kaip",
          notInclusive: "turi tur\u0117ti daugiau kaip"
        }
      }
    }
  };
  function getSizing(origin, unitType, inclusive, targetShouldBe) {
    const result = Sizable[origin] ?? null;
    if (result === null)
      return result;
    return {
      unit: result.unit[unitType],
      verb: result.verb[targetShouldBe][inclusive ? "inclusive" : "notInclusive"]
    };
  }
  const Nouns = {
    regex: "\u012Fvestis",
    email: "el. pa\u0161to adresas",
    url: "URL",
    emoji: "jaustukas",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO data ir laikas",
    date: "ISO data",
    time: "ISO laikas",
    duration: "ISO trukm\u0117",
    ipv4: "IPv4 adresas",
    ipv6: "IPv6 adresas",
    cidrv4: "IPv4 tinklo prefiksas (CIDR)",
    cidrv6: "IPv6 tinklo prefiksas (CIDR)",
    base64: "base64 u\u017Ekoduota eilut\u0117",
    base64url: "base64url u\u017Ekoduota eilut\u0117",
    json_string: "JSON eilut\u0117",
    e164: "E.164 numeris",
    jwt: "JWT",
    template_literal: "\u012Fvestis"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Gautas tipas ${parsedType5(issue2.input)}, o tik\u0117tasi - ${parsedTypeFromType(issue2.expected)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Privalo b\u016Bti ${stringifyPrimitive(issue2.values[0])}`;
        return `Privalo b\u016Bti vienas i\u0161 ${joinValues(issue2.values, "|")} pasirinkim\u0173`;
      case "too_big": {
        const origin = parsedTypeFromType(issue2.origin);
        const sizing = getSizing(issue2.origin, getUnitTypeFromNumber(Number(issue2.maximum)), issue2.inclusive ?? false, "smaller");
        if (sizing?.verb)
          return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} ${sizing.verb} ${issue2.maximum.toString()} ${sizing.unit ?? "element\u0173"}`;
        const adj = issue2.inclusive ? "ne didesnis kaip" : "ma\u017Eesnis kaip";
        return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} turi b\u016Bti ${adj} ${issue2.maximum.toString()} ${sizing?.unit}`;
      }
      case "too_small": {
        const origin = parsedTypeFromType(issue2.origin);
        const sizing = getSizing(issue2.origin, getUnitTypeFromNumber(Number(issue2.minimum)), issue2.inclusive ?? false, "bigger");
        if (sizing?.verb)
          return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} ${sizing.verb} ${issue2.minimum.toString()} ${sizing.unit ?? "element\u0173"}`;
        const adj = issue2.inclusive ? "ne ma\u017Eesnis kaip" : "didesnis kaip";
        return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} turi b\u016Bti ${adj} ${issue2.minimum.toString()} ${sizing?.unit}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Eilut\u0117 privalo prasid\u0117ti "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Eilut\u0117 privalo pasibaigti "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Eilut\u0117 privalo \u012Ftraukti "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Eilut\u0117 privalo atitikti ${_issue.pattern}`;
        return `Neteisingas ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Skai\u010Dius privalo b\u016Bti ${issue2.divisor} kartotinis.`;
      case "unrecognized_keys":
        return `Neatpa\u017Eint${issue2.keys.length > 1 ? "i" : "as"} rakt${issue2.keys.length > 1 ? "ai" : "as"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return "Rastas klaidingas raktas";
      case "invalid_union":
        return "Klaidinga \u012Fvestis";
      case "invalid_element": {
        const origin = parsedTypeFromType(issue2.origin);
        return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`;
      }
      default:
        return "Klaidinga \u012Fvestis";
    }
  };
};
function lt_default() {
  return {
    localeError: error24()
  };
}

// node_modules/zod/v4/locales/mk.js
var error25 = () => {
  const Sizable = {
    string: { unit: "\u0437\u043D\u0430\u0446\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" },
    file: { unit: "\u0431\u0430\u0458\u0442\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" },
    array: { unit: "\u0441\u0442\u0430\u0432\u043A\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" },
    set: { unit: "\u0441\u0442\u0430\u0432\u043A\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0431\u0440\u043E\u0458";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043D\u0438\u0437\u0430";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0432\u043D\u0435\u0441",
    email: "\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",
    url: "URL",
    emoji: "\u0435\u043C\u043E\u045F\u0438",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",
    date: "ISO \u0434\u0430\u0442\u0443\u043C",
    time: "ISO \u0432\u0440\u0435\u043C\u0435",
    duration: "ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",
    ipv4: "IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",
    ipv6: "IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",
    cidrv4: "IPv4 \u043E\u043F\u0441\u0435\u0433",
    cidrv6: "IPv6 \u043E\u043F\u0441\u0435\u0433",
    base64: "base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",
    base64url: "base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",
    json_string: "JSON \u043D\u0438\u0437\u0430",
    e164: "E.164 \u0431\u0440\u043E\u0458",
    jwt: "JWT",
    template_literal: "\u0432\u043D\u0435\u0441"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${parsedType7(issue2.input)}`;
      // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Invalid input: expected ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin ?? "\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`;
        return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin ?? "\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin} \u0434\u0430 \u0438\u043C\u0430 ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${_issue.pattern}`;
        return `Invalid ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438" : "\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${issue2.origin}`;
      case "invalid_union":
        return "\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";
      case "invalid_element":
        return `\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${issue2.origin}`;
      default:
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441`;
    }
  };
};
function mk_default() {
  return {
    localeError: error25()
  };
}

// node_modules/zod/v4/locales/ms.js
var error26 = () => {
  const Sizable = {
    string: { unit: "aksara", verb: "mempunyai" },
    file: { unit: "bait", verb: "mempunyai" },
    array: { unit: "elemen", verb: "mempunyai" },
    set: { unit: "elemen", verb: "mempunyai" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "nombor";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "alamat e-mel",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "tarikh masa ISO",
    date: "tarikh ISO",
    time: "masa ISO",
    duration: "tempoh ISO",
    ipv4: "alamat IPv4",
    ipv6: "alamat IPv6",
    cidrv4: "julat IPv4",
    cidrv6: "julat IPv6",
    base64: "string dikodkan base64",
    base64url: "string dikodkan base64url",
    json_string: "string JSON",
    e164: "nombor E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Input tidak sah: dijangka ${issue2.expected}, diterima ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Input tidak sah: dijangka ${stringifyPrimitive(issue2.values[0])}`;
        return `Pilihan tidak sah: dijangka salah satu daripada ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Terlalu besar: dijangka ${issue2.origin ?? "nilai"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elemen"}`;
        return `Terlalu besar: dijangka ${issue2.origin ?? "nilai"} adalah ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Terlalu kecil: dijangka ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Terlalu kecil: dijangka ${issue2.origin} adalah ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `String tidak sah: mesti bermula dengan "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `String tidak sah: mesti berakhir dengan "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `String tidak sah: mesti mengandungi "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `String tidak sah: mesti sepadan dengan corak ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} tidak sah`;
      }
      case "not_multiple_of":
        return `Nombor tidak sah: perlu gandaan ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Kunci tidak dikenali: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Kunci tidak sah dalam ${issue2.origin}`;
      case "invalid_union":
        return "Input tidak sah";
      case "invalid_element":
        return `Nilai tidak sah dalam ${issue2.origin}`;
      default:
        return `Input tidak sah`;
    }
  };
};
function ms_default() {
  return {
    localeError: error26()
  };
}

// node_modules/zod/v4/locales/nl.js
var error27 = () => {
  const Sizable = {
    string: { unit: "tekens" },
    file: { unit: "bytes" },
    array: { unit: "elementen" },
    set: { unit: "elementen" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "getal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "invoer",
    email: "emailadres",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datum en tijd",
    date: "ISO datum",
    time: "ISO tijd",
    duration: "ISO duur",
    ipv4: "IPv4-adres",
    ipv6: "IPv6-adres",
    cidrv4: "IPv4-bereik",
    cidrv6: "IPv6-bereik",
    base64: "base64-gecodeerde tekst",
    base64url: "base64 URL-gecodeerde tekst",
    json_string: "JSON string",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "invoer"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ongeldige invoer: verwacht ${issue2.expected}, ontving ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ongeldige invoer: verwacht ${stringifyPrimitive(issue2.values[0])}`;
        return `Ongeldige optie: verwacht \xE9\xE9n van ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Te lang: verwacht dat ${issue2.origin ?? "waarde"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementen"} bevat`;
        return `Te lang: verwacht dat ${issue2.origin ?? "waarde"} ${adj}${issue2.maximum.toString()} is`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Te kort: verwacht dat ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit} bevat`;
        }
        return `Te kort: verwacht dat ${issue2.origin} ${adj}${issue2.minimum.toString()} is`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Ongeldige tekst: moet met "${_issue.prefix}" beginnen`;
        }
        if (_issue.format === "ends_with")
          return `Ongeldige tekst: moet op "${_issue.suffix}" eindigen`;
        if (_issue.format === "includes")
          return `Ongeldige tekst: moet "${_issue.includes}" bevatten`;
        if (_issue.format === "regex")
          return `Ongeldige tekst: moet overeenkomen met patroon ${_issue.pattern}`;
        return `Ongeldig: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ongeldig getal: moet een veelvoud van ${issue2.divisor} zijn`;
      case "unrecognized_keys":
        return `Onbekende key${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ongeldige key in ${issue2.origin}`;
      case "invalid_union":
        return "Ongeldige invoer";
      case "invalid_element":
        return `Ongeldige waarde in ${issue2.origin}`;
      default:
        return `Ongeldige invoer`;
    }
  };
};
function nl_default() {
  return {
    localeError: error27()
  };
}

// node_modules/zod/v4/locales/no.js
var error28 = () => {
  const Sizable = {
    string: { unit: "tegn", verb: "\xE5 ha" },
    file: { unit: "bytes", verb: "\xE5 ha" },
    array: { unit: "elementer", verb: "\xE5 inneholde" },
    set: { unit: "elementer", verb: "\xE5 inneholde" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "tall";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "liste";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "e-postadresse",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dato- og klokkeslett",
    date: "ISO-dato",
    time: "ISO-klokkeslett",
    duration: "ISO-varighet",
    ipv4: "IPv4-omr\xE5de",
    ipv6: "IPv6-omr\xE5de",
    cidrv4: "IPv4-spekter",
    cidrv6: "IPv6-spekter",
    base64: "base64-enkodet streng",
    base64url: "base64url-enkodet streng",
    json_string: "JSON-streng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ugyldig input: forventet ${issue2.expected}, fikk ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ugyldig verdi: forventet ${stringifyPrimitive(issue2.values[0])}`;
        return `Ugyldig valg: forventet en av ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `For stor(t): forventet ${issue2.origin ?? "value"} til \xE5 ha ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementer"}`;
        return `For stor(t): forventet ${issue2.origin ?? "value"} til \xE5 ha ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `For lite(n): forventet ${issue2.origin} til \xE5 ha ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `For lite(n): forventet ${issue2.origin} til \xE5 ha ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ugyldig streng: m\xE5 starte med "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Ugyldig streng: m\xE5 ende med "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Ugyldig streng: m\xE5 inneholde "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Ugyldig streng: m\xE5 matche m\xF8nsteret ${_issue.pattern}`;
        return `Ugyldig ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ugyldig tall: m\xE5 v\xE6re et multiplum av ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Ukjente n\xF8kler" : "Ukjent n\xF8kkel"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ugyldig n\xF8kkel i ${issue2.origin}`;
      case "invalid_union":
        return "Ugyldig input";
      case "invalid_element":
        return `Ugyldig verdi i ${issue2.origin}`;
      default:
        return `Ugyldig input`;
    }
  };
};
function no_default() {
  return {
    localeError: error28()
  };
}

// node_modules/zod/v4/locales/ota.js
var error29 = () => {
  const Sizable = {
    string: { unit: "harf", verb: "olmal\u0131d\u0131r" },
    file: { unit: "bayt", verb: "olmal\u0131d\u0131r" },
    array: { unit: "unsur", verb: "olmal\u0131d\u0131r" },
    set: { unit: "unsur", verb: "olmal\u0131d\u0131r" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "numara";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "saf";
        }
        if (data === null) {
          return "gayb";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "giren",
    email: "epostag\xE2h",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO heng\xE2m\u0131",
    date: "ISO tarihi",
    time: "ISO zaman\u0131",
    duration: "ISO m\xFCddeti",
    ipv4: "IPv4 ni\u015F\xE2n\u0131",
    ipv6: "IPv6 ni\u015F\xE2n\u0131",
    cidrv4: "IPv4 menzili",
    cidrv6: "IPv6 menzili",
    base64: "base64-\u015Fifreli metin",
    base64url: "base64url-\u015Fifreli metin",
    json_string: "JSON metin",
    e164: "E.164 say\u0131s\u0131",
    jwt: "JWT",
    template_literal: "giren"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `F\xE2sit giren: umulan ${issue2.expected}, al\u0131nan ${parsedType7(issue2.input)}`;
      // return `Fsit giren: umulan ${issue.expected}, alnan ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `F\xE2sit giren: umulan ${stringifyPrimitive(issue2.values[0])}`;
        return `F\xE2sit tercih: m\xFBteberler ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Fazla b\xFCy\xFCk: ${issue2.origin ?? "value"}, ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elements"} sahip olmal\u0131yd\u0131.`;
        return `Fazla b\xFCy\xFCk: ${issue2.origin ?? "value"}, ${adj}${issue2.maximum.toString()} olmal\u0131yd\u0131.`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Fazla k\xFC\xE7\xFCk: ${issue2.origin}, ${adj}${issue2.minimum.toString()} ${sizing.unit} sahip olmal\u0131yd\u0131.`;
        }
        return `Fazla k\xFC\xE7\xFCk: ${issue2.origin}, ${adj}${issue2.minimum.toString()} olmal\u0131yd\u0131.`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `F\xE2sit metin: "${_issue.prefix}" ile ba\u015Flamal\u0131.`;
        if (_issue.format === "ends_with")
          return `F\xE2sit metin: "${_issue.suffix}" ile bitmeli.`;
        if (_issue.format === "includes")
          return `F\xE2sit metin: "${_issue.includes}" ihtiv\xE2 etmeli.`;
        if (_issue.format === "regex")
          return `F\xE2sit metin: ${_issue.pattern} nak\u015F\u0131na uymal\u0131.`;
        return `F\xE2sit ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `F\xE2sit say\u0131: ${issue2.divisor} kat\u0131 olmal\u0131yd\u0131.`;
      case "unrecognized_keys":
        return `Tan\u0131nmayan anahtar ${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} i\xE7in tan\u0131nmayan anahtar var.`;
      case "invalid_union":
        return "Giren tan\u0131namad\u0131.";
      case "invalid_element":
        return `${issue2.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;
      default:
        return `K\u0131ymet tan\u0131namad\u0131.`;
    }
  };
};
function ota_default() {
  return {
    localeError: error29()
  };
}

// node_modules/zod/v4/locales/ps.js
var error30 = () => {
  const Sizable = {
    string: { unit: "\u062A\u0648\u06A9\u064A", verb: "\u0648\u0644\u0631\u064A" },
    file: { unit: "\u0628\u0627\u06CC\u067C\u0633", verb: "\u0648\u0644\u0631\u064A" },
    array: { unit: "\u062A\u0648\u06A9\u064A", verb: "\u0648\u0644\u0631\u064A" },
    set: { unit: "\u062A\u0648\u06A9\u064A", verb: "\u0648\u0644\u0631\u064A" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0639\u062F\u062F";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0627\u0631\u06D0";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0648\u0631\u0648\u062F\u064A",
    email: "\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",
    url: "\u06CC\u0648 \u0622\u0631 \u0627\u0644",
    emoji: "\u0627\u06CC\u0645\u0648\u062C\u064A",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",
    date: "\u0646\u06D0\u067C\u0647",
    time: "\u0648\u062E\u062A",
    duration: "\u0645\u0648\u062F\u0647",
    ipv4: "\u062F IPv4 \u067E\u062A\u0647",
    ipv6: "\u062F IPv6 \u067E\u062A\u0647",
    cidrv4: "\u062F IPv4 \u0633\u0627\u062D\u0647",
    cidrv6: "\u062F IPv6 \u0633\u0627\u062D\u0647",
    base64: "base64-encoded \u0645\u062A\u0646",
    base64url: "base64url-encoded \u0645\u062A\u0646",
    json_string: "JSON \u0645\u062A\u0646",
    e164: "\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",
    jwt: "JWT",
    template_literal: "\u0648\u0631\u0648\u062F\u064A"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${issue2.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${parsedType7(issue2.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;
      case "invalid_value":
        if (issue2.values.length === 1) {
          return `\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${stringifyPrimitive(issue2.values[0])} \u0648\u0627\u06CC`;
        }
        return `\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${joinValues(issue2.values, "|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${issue2.origin ?? "\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`;
        }
        return `\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${issue2.origin ?? "\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} \u0648\u064A`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} ${sizing.unit} \u0648\u0644\u0631\u064A`;
        }
        return `\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} \u0648\u064A`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${_issue.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`;
        }
        if (_issue.format === "ends_with") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${_issue.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`;
        }
        if (_issue.format === "includes") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${_issue.includes}" \u0648\u0644\u0631\u064A`;
        }
        if (_issue.format === "regex") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${_issue.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`;
        }
        return `${Nouns[_issue.format] ?? issue2.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`;
      }
      case "not_multiple_of":
        return `\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${issue2.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;
      case "unrecognized_keys":
        return `\u0646\u0627\u0633\u0645 ${issue2.keys.length > 1 ? "\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647" : "\u06A9\u0644\u06CC\u0689"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${issue2.origin} \u06A9\u06D0`;
      case "invalid_union":
        return `\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A`;
      case "invalid_element":
        return `\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${issue2.origin} \u06A9\u06D0`;
      default:
        return `\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A`;
    }
  };
};
function ps_default() {
  return {
    localeError: error30()
  };
}

// node_modules/zod/v4/locales/pl.js
var error31 = () => {
  const Sizable = {
    string: { unit: "znak\xF3w", verb: "mie\u0107" },
    file: { unit: "bajt\xF3w", verb: "mie\u0107" },
    array: { unit: "element\xF3w", verb: "mie\u0107" },
    set: { unit: "element\xF3w", verb: "mie\u0107" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "liczba";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tablica";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "wyra\u017Cenie",
    email: "adres email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data i godzina w formacie ISO",
    date: "data w formacie ISO",
    time: "godzina w formacie ISO",
    duration: "czas trwania ISO",
    ipv4: "adres IPv4",
    ipv6: "adres IPv6",
    cidrv4: "zakres IPv4",
    cidrv6: "zakres IPv6",
    base64: "ci\u0105g znak\xF3w zakodowany w formacie base64",
    base64url: "ci\u0105g znak\xF3w zakodowany w formacie base64url",
    json_string: "ci\u0105g znak\xF3w w formacie JSON",
    e164: "liczba E.164",
    jwt: "JWT",
    template_literal: "wej\u015Bcie"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${issue2.expected}, otrzymano ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${stringifyPrimitive(issue2.values[0])}`;
        return `Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie mie\u0107 ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "element\xF3w"}`;
        }
        return `Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie mie\u0107 ${adj}${issue2.minimum.toString()} ${sizing.unit ?? "element\xF3w"}`;
        }
        return `Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${_issue.pattern}`;
        return `Nieprawid\u0142ow(y/a/e) ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Nierozpoznane klucze${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Nieprawid\u0142owy klucz w ${issue2.origin}`;
      case "invalid_union":
        return "Nieprawid\u0142owe dane wej\u015Bciowe";
      case "invalid_element":
        return `Nieprawid\u0142owa warto\u015B\u0107 w ${issue2.origin}`;
      default:
        return `Nieprawid\u0142owe dane wej\u015Bciowe`;
    }
  };
};
function pl_default() {
  return {
    localeError: error31()
  };
}

// node_modules/zod/v4/locales/pt.js
var error32 = () => {
  const Sizable = {
    string: { unit: "caracteres", verb: "ter" },
    file: { unit: "bytes", verb: "ter" },
    array: { unit: "itens", verb: "ter" },
    set: { unit: "itens", verb: "ter" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "n\xFAmero";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "nulo";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "padr\xE3o",
    email: "endere\xE7o de e-mail",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data e hora ISO",
    date: "data ISO",
    time: "hora ISO",
    duration: "dura\xE7\xE3o ISO",
    ipv4: "endere\xE7o IPv4",
    ipv6: "endere\xE7o IPv6",
    cidrv4: "faixa de IPv4",
    cidrv6: "faixa de IPv6",
    base64: "texto codificado em base64",
    base64url: "URL codificada em base64",
    json_string: "texto JSON",
    e164: "n\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Tipo inv\xE1lido: esperado ${issue2.expected}, recebido ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entrada inv\xE1lida: esperado ${stringifyPrimitive(issue2.values[0])}`;
        return `Op\xE7\xE3o inv\xE1lida: esperada uma das ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Muito grande: esperado que ${issue2.origin ?? "valor"} tivesse ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementos"}`;
        return `Muito grande: esperado que ${issue2.origin ?? "valor"} fosse ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Muito pequeno: esperado que ${issue2.origin} tivesse ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Muito pequeno: esperado que ${issue2.origin} fosse ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Texto inv\xE1lido: deve come\xE7ar com "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Texto inv\xE1lido: deve terminar com "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Texto inv\xE1lido: deve incluir "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Texto inv\xE1lido: deve corresponder ao padr\xE3o ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} inv\xE1lido`;
      }
      case "not_multiple_of":
        return `N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Chave${issue2.keys.length > 1 ? "s" : ""} desconhecida${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Chave inv\xE1lida em ${issue2.origin}`;
      case "invalid_union":
        return "Entrada inv\xE1lida";
      case "invalid_element":
        return `Valor inv\xE1lido em ${issue2.origin}`;
      default:
        return `Campo inv\xE1lido`;
    }
  };
};
function pt_default() {
  return {
    localeError: error32()
  };
}

// node_modules/zod/v4/locales/ru.js
function getRussianPlural(count, one, few, many) {
  const absCount = Math.abs(count);
  const lastDigit = absCount % 10;
  const lastTwoDigits = absCount % 100;
  if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {
    return many;
  }
  if (lastDigit === 1) {
    return one;
  }
  if (lastDigit >= 2 && lastDigit <= 4) {
    return few;
  }
  return many;
}
var error33 = () => {
  const Sizable = {
    string: {
      unit: {
        one: "\u0441\u0438\u043C\u0432\u043E\u043B",
        few: "\u0441\u0438\u043C\u0432\u043E\u043B\u0430",
        many: "\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    },
    file: {
      unit: {
        one: "\u0431\u0430\u0439\u0442",
        few: "\u0431\u0430\u0439\u0442\u0430",
        many: "\u0431\u0430\u0439\u0442"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    },
    array: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    },
    set: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0447\u0438\u0441\u043B\u043E";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043C\u0430\u0441\u0441\u0438\u0432";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0432\u0432\u043E\u0434",
    email: "email \u0430\u0434\u0440\u0435\u0441",
    url: "URL",
    emoji: "\u044D\u043C\u043E\u0434\u0437\u0438",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",
    date: "ISO \u0434\u0430\u0442\u0430",
    time: "ISO \u0432\u0440\u0435\u043C\u044F",
    duration: "ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",
    ipv4: "IPv4 \u0430\u0434\u0440\u0435\u0441",
    ipv6: "IPv6 \u0430\u0434\u0440\u0435\u0441",
    cidrv4: "IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",
    cidrv6: "IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",
    base64: "\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",
    base64url: "\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",
    json_string: "JSON \u0441\u0442\u0440\u043E\u043A\u0430",
    e164: "\u043D\u043E\u043C\u0435\u0440 E.164",
    jwt: "JWT",
    template_literal: "\u0432\u0432\u043E\u0434"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${issue2.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${stringifyPrimitive(issue2.values[0])}`;
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const maxValue = Number(issue2.maximum);
          const unit = getRussianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${adj}${issue2.maximum.toString()} ${unit}`;
        }
        return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const minValue = Number(issue2.minimum);
          const unit = getRussianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${adj}${issue2.minimum.toString()} ${unit}`;
        }
        return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin} \u0431\u0443\u0434\u0435\u0442 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${issue2.keys.length > 1 ? "\u044B\u0435" : "\u044B\u0439"} \u043A\u043B\u044E\u0447${issue2.keys.length > 1 ? "\u0438" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${issue2.origin}`;
      case "invalid_union":
        return "\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";
      case "invalid_element":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${issue2.origin}`;
      default:
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435`;
    }
  };
};
function ru_default() {
  return {
    localeError: error33()
  };
}

// node_modules/zod/v4/locales/sl.js
var error34 = () => {
  const Sizable = {
    string: { unit: "znakov", verb: "imeti" },
    file: { unit: "bajtov", verb: "imeti" },
    array: { unit: "elementov", verb: "imeti" },
    set: { unit: "elementov", verb: "imeti" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0161tevilo";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tabela";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "vnos",
    email: "e-po\u0161tni naslov",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datum in \u010Das",
    date: "ISO datum",
    time: "ISO \u010Das",
    duration: "ISO trajanje",
    ipv4: "IPv4 naslov",
    ipv6: "IPv6 naslov",
    cidrv4: "obseg IPv4",
    cidrv6: "obseg IPv6",
    base64: "base64 kodiran niz",
    base64url: "base64url kodiran niz",
    json_string: "JSON niz",
    e164: "E.164 \u0161tevilka",
    jwt: "JWT",
    template_literal: "vnos"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Neveljaven vnos: pri\u010Dakovano ${issue2.expected}, prejeto ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Neveljaven vnos: pri\u010Dakovano ${stringifyPrimitive(issue2.values[0])}`;
        return `Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Preveliko: pri\u010Dakovano, da bo ${issue2.origin ?? "vrednost"} imelo ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementov"}`;
        return `Preveliko: pri\u010Dakovano, da bo ${issue2.origin ?? "vrednost"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Premajhno: pri\u010Dakovano, da bo ${issue2.origin} imelo ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Premajhno: pri\u010Dakovano, da bo ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Neveljaven niz: mora se za\u010Deti z "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Neveljaven niz: mora se kon\u010Dati z "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Neveljaven niz: mora vsebovati "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Neveljaven niz: mora ustrezati vzorcu ${_issue.pattern}`;
        return `Neveljaven ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Neprepoznan${issue2.keys.length > 1 ? "i klju\u010Di" : " klju\u010D"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Neveljaven klju\u010D v ${issue2.origin}`;
      case "invalid_union":
        return "Neveljaven vnos";
      case "invalid_element":
        return `Neveljavna vrednost v ${issue2.origin}`;
      default:
        return "Neveljaven vnos";
    }
  };
};
function sl_default() {
  return {
    localeError: error34()
  };
}

// node_modules/zod/v4/locales/sv.js
var error35 = () => {
  const Sizable = {
    string: { unit: "tecken", verb: "att ha" },
    file: { unit: "bytes", verb: "att ha" },
    array: { unit: "objekt", verb: "att inneh\xE5lla" },
    set: { unit: "objekt", verb: "att inneh\xE5lla" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "antal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "lista";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "regulj\xE4rt uttryck",
    email: "e-postadress",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-datum och tid",
    date: "ISO-datum",
    time: "ISO-tid",
    duration: "ISO-varaktighet",
    ipv4: "IPv4-intervall",
    ipv6: "IPv6-intervall",
    cidrv4: "IPv4-spektrum",
    cidrv6: "IPv6-spektrum",
    base64: "base64-kodad str\xE4ng",
    base64url: "base64url-kodad str\xE4ng",
    json_string: "JSON-str\xE4ng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "mall-literal"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ogiltig inmatning: f\xF6rv\xE4ntat ${issue2.expected}, fick ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ogiltig inmatning: f\xF6rv\xE4ntat ${stringifyPrimitive(issue2.values[0])}`;
        return `Ogiltigt val: f\xF6rv\xE4ntade en av ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `F\xF6r stor(t): f\xF6rv\xE4ntade ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "element"}`;
        }
        return `F\xF6r stor(t): f\xF6rv\xE4ntat ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `F\xF6r lite(t): f\xF6rv\xE4ntade ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `F\xF6r lite(t): f\xF6rv\xE4ntade ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Ogiltig str\xE4ng: m\xE5ste sluta med "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${_issue.pattern}"`;
        return `Ogiltig(t) ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ogiltigt tal: m\xE5ste vara en multipel av ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Ok\xE4nda nycklar" : "Ok\xE4nd nyckel"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ogiltig nyckel i ${issue2.origin ?? "v\xE4rdet"}`;
      case "invalid_union":
        return "Ogiltig input";
      case "invalid_element":
        return `Ogiltigt v\xE4rde i ${issue2.origin ?? "v\xE4rdet"}`;
      default:
        return `Ogiltig input`;
    }
  };
};
function sv_default() {
  return {
    localeError: error35()
  };
}

// node_modules/zod/v4/locales/ta.js
var error36 = () => {
  const Sizable = {
    string: { unit: "\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" },
    file: { unit: "\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" },
    array: { unit: "\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" },
    set: { unit: "\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1" : "\u0B8E\u0BA3\u0BCD";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0B85\u0BA3\u0BBF";
        }
        if (data === null) {
          return "\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",
    email: "\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",
    date: "ISO \u0BA4\u0BC7\u0BA4\u0BBF",
    time: "ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",
    duration: "ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",
    ipv4: "IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",
    ipv6: "IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",
    cidrv4: "IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",
    cidrv6: "IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",
    base64: "base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",
    base64url: "base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",
    json_string: "JSON \u0B9A\u0BB0\u0BAE\u0BCD",
    e164: "E.164 \u0B8E\u0BA3\u0BCD",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${joinValues(issue2.values, "|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin ?? "\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        }
        return `\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin ?? "\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${adj}${issue2.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        }
        return `\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin} ${adj}${issue2.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${_issue.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        if (_issue.format === "ends_with")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${_issue.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        if (_issue.format === "includes")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${_issue.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        if (_issue.format === "regex")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${_issue.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${issue2.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
      case "unrecognized_keys":
        return `\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${issue2.keys.length > 1 ? "\u0B95\u0BB3\u0BCD" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;
      case "invalid_union":
        return "\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";
      case "invalid_element":
        return `${issue2.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;
      default:
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1`;
    }
  };
};
function ta_default() {
  return {
    localeError: error36()
  };
}

// node_modules/zod/v4/locales/th.js
var error37 = () => {
  const Sizable = {
    string: { unit: "\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" },
    file: { unit: "\u0E44\u0E1A\u0E15\u0E4C", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" },
    array: { unit: "\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" },
    set: { unit: "\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)" : "\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";
        }
        if (data === null) {
          return "\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",
    email: "\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",
    url: "URL",
    emoji: "\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",
    date: "\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",
    time: "\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",
    duration: "\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",
    ipv4: "\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",
    ipv6: "\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",
    cidrv4: "\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",
    cidrv6: "\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",
    base64: "\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",
    base64url: "\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",
    json_string: "\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",
    e164: "\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",
    jwt: "\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",
    template_literal: "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${issue2.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19" : "\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin ?? "\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`;
        return `\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin ?? "\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22" : "\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${_issue.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`;
        if (_issue.format === "regex")
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${_issue.pattern}`;
        return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${issue2.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;
      case "unrecognized_keys":
        return `\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${issue2.origin}`;
      case "invalid_union":
        return "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";
      case "invalid_element":
        return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${issue2.origin}`;
      default:
        return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07`;
    }
  };
};
function th_default() {
  return {
    localeError: error37()
  };
}

// node_modules/zod/v4/locales/tr.js
var parsedType6 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "number";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error38 = () => {
  const Sizable = {
    string: { unit: "karakter", verb: "olmal\u0131" },
    file: { unit: "bayt", verb: "olmal\u0131" },
    array: { unit: "\xF6\u011Fe", verb: "olmal\u0131" },
    set: { unit: "\xF6\u011Fe", verb: "olmal\u0131" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "girdi",
    email: "e-posta adresi",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO tarih ve saat",
    date: "ISO tarih",
    time: "ISO saat",
    duration: "ISO s\xFCre",
    ipv4: "IPv4 adresi",
    ipv6: "IPv6 adresi",
    cidrv4: "IPv4 aral\u0131\u011F\u0131",
    cidrv6: "IPv6 aral\u0131\u011F\u0131",
    base64: "base64 ile \u015Fifrelenmi\u015F metin",
    base64url: "base64url ile \u015Fifrelenmi\u015F metin",
    json_string: "JSON dizesi",
    e164: "E.164 say\u0131s\u0131",
    jwt: "JWT",
    template_literal: "\u015Eablon dizesi"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ge\xE7ersiz de\u011Fer: beklenen ${issue2.expected}, al\u0131nan ${parsedType6(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ge\xE7ersiz de\u011Fer: beklenen ${stringifyPrimitive(issue2.values[0])}`;
        return `Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ok b\xFCy\xFCk: beklenen ${issue2.origin ?? "de\u011Fer"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\xF6\u011Fe"}`;
        return `\xC7ok b\xFCy\xFCk: beklenen ${issue2.origin ?? "de\u011Fer"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ok k\xFC\xE7\xFCk: beklenen ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        return `\xC7ok k\xFC\xE7\xFCk: beklenen ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ge\xE7ersiz metin: "${_issue.prefix}" ile ba\u015Flamal\u0131`;
        if (_issue.format === "ends_with")
          return `Ge\xE7ersiz metin: "${_issue.suffix}" ile bitmeli`;
        if (_issue.format === "includes")
          return `Ge\xE7ersiz metin: "${_issue.includes}" i\xE7ermeli`;
        if (_issue.format === "regex")
          return `Ge\xE7ersiz metin: ${_issue.pattern} desenine uymal\u0131`;
        return `Ge\xE7ersiz ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ge\xE7ersiz say\u0131: ${issue2.divisor} ile tam b\xF6l\xFCnebilmeli`;
      case "unrecognized_keys":
        return `Tan\u0131nmayan anahtar${issue2.keys.length > 1 ? "lar" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} i\xE7inde ge\xE7ersiz anahtar`;
      case "invalid_union":
        return "Ge\xE7ersiz de\u011Fer";
      case "invalid_element":
        return `${issue2.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;
      default:
        return `Ge\xE7ersiz de\u011Fer`;
    }
  };
};
function tr_default() {
  return {
    localeError: error38()
  };
}

// node_modules/zod/v4/locales/uk.js
var error39 = () => {
  const Sizable = {
    string: { unit: "\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" },
    file: { unit: "\u0431\u0430\u0439\u0442\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" },
    array: { unit: "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" },
    set: { unit: "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0447\u0438\u0441\u043B\u043E";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043C\u0430\u0441\u0438\u0432";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",
    email: "\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",
    url: "URL",
    emoji: "\u0435\u043C\u043E\u0434\u0437\u0456",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",
    date: "\u0434\u0430\u0442\u0430 ISO",
    time: "\u0447\u0430\u0441 ISO",
    duration: "\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",
    ipv4: "\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",
    ipv6: "\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",
    cidrv4: "\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",
    cidrv6: "\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",
    base64: "\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",
    base64url: "\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",
    json_string: "\u0440\u044F\u0434\u043E\u043A JSON",
    e164: "\u043D\u043E\u043C\u0435\u0440 E.164",
    jwt: "JWT",
    template_literal: "\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${issue2.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${parsedType7(issue2.input)}`;
      // return `  :  ${issue.expected},  ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${stringifyPrimitive(issue2.values[0])}`;
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`;
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin} \u0431\u0443\u0434\u0435 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${issue2.keys.length > 1 ? "\u0456" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${issue2.origin}`;
      case "invalid_union":
        return "\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";
      case "invalid_element":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${issue2.origin}`;
      default:
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456`;
    }
  };
};
function uk_default() {
  return {
    localeError: error39()
  };
}

// node_modules/zod/v4/locales/ua.js
function ua_default() {
  return uk_default();
}

// node_modules/zod/v4/locales/ur.js
var error40 = () => {
  const Sizable = {
    string: { unit: "\u062D\u0631\u0648\u0641", verb: "\u06C1\u0648\u0646\u0627" },
    file: { unit: "\u0628\u0627\u0626\u0679\u0633", verb: "\u06C1\u0648\u0646\u0627" },
    array: { unit: "\u0622\u0626\u0679\u0645\u0632", verb: "\u06C1\u0648\u0646\u0627" },
    set: { unit: "\u0622\u0626\u0679\u0645\u0632", verb: "\u06C1\u0648\u0646\u0627" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0646\u0645\u0628\u0631";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0622\u0631\u06D2";
        }
        if (data === null) {
          return "\u0646\u0644";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0627\u0646 \u067E\u0679",
    email: "\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",
    url: "\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",
    emoji: "\u0627\u06CC\u0645\u0648\u062C\u06CC",
    uuid: "\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    uuidv4: "\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",
    uuidv6: "\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",
    nanoid: "\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    guid: "\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    cuid: "\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    cuid2: "\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",
    ulid: "\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",
    xid: "\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",
    ksuid: "\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    datetime: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",
    date: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",
    time: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",
    duration: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",
    ipv4: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",
    ipv6: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",
    cidrv4: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",
    cidrv6: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",
    base64: "\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",
    base64url: "\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",
    json_string: "\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",
    e164: "\u0627\u06CC 164 \u0646\u0645\u0628\u0631",
    jwt: "\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",
    template_literal: "\u0627\u0646 \u067E\u0679"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${issue2.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${parsedType7(issue2.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${stringifyPrimitive(issue2.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
        return `\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${joinValues(issue2.values, "|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u0628\u06C1\u062A \u0628\u0691\u0627: ${issue2.origin ?? "\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;
        return `\u0628\u06C1\u062A \u0628\u0691\u0627: ${issue2.origin ?? "\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${adj}${issue2.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${issue2.origin} \u06A9\u06D2 ${adj}${issue2.minimum.toString()} ${sizing.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;
        }
        return `\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${issue2.origin} \u06A9\u0627 ${adj}${issue2.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${_issue.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        }
        if (_issue.format === "ends_with")
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${_issue.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        if (_issue.format === "includes")
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${_issue.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        if (_issue.format === "regex")
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${_issue.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        return `\u063A\u0644\u0637 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${issue2.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
      case "unrecognized_keys":
        return `\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${issue2.keys.length > 1 ? "\u0632" : ""}: ${joinValues(issue2.keys, "\u060C ")}`;
      case "invalid_key":
        return `${issue2.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;
      case "invalid_union":
        return "\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";
      case "invalid_element":
        return `${issue2.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;
      default:
        return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679`;
    }
  };
};
function ur_default() {
  return {
    localeError: error40()
  };
}

// node_modules/zod/v4/locales/vi.js
var error41 = () => {
  const Sizable = {
    string: { unit: "k\xFD t\u1EF1", verb: "c\xF3" },
    file: { unit: "byte", verb: "c\xF3" },
    array: { unit: "ph\u1EA7n t\u1EED", verb: "c\xF3" },
    set: { unit: "ph\u1EA7n t\u1EED", verb: "c\xF3" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "s\u1ED1";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "m\u1EA3ng";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0111\u1EA7u v\xE0o",
    email: "\u0111\u1ECBa ch\u1EC9 email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ng\xE0y gi\u1EDD ISO",
    date: "ng\xE0y ISO",
    time: "gi\u1EDD ISO",
    duration: "kho\u1EA3ng th\u1EDDi gian ISO",
    ipv4: "\u0111\u1ECBa ch\u1EC9 IPv4",
    ipv6: "\u0111\u1ECBa ch\u1EC9 IPv6",
    cidrv4: "d\u1EA3i IPv4",
    cidrv6: "d\u1EA3i IPv6",
    base64: "chu\u1ED7i m\xE3 h\xF3a base64",
    base64url: "chu\u1ED7i m\xE3 h\xF3a base64url",
    json_string: "chu\u1ED7i JSON",
    e164: "s\u1ED1 E.164",
    jwt: "JWT",
    template_literal: "\u0111\u1EA7u v\xE0o"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${issue2.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${stringifyPrimitive(issue2.values[0])}`;
        return `T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${issue2.origin ?? "gi\xE1 tr\u1ECB"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "ph\u1EA7n t\u1EED"}`;
        return `Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${issue2.origin ?? "gi\xE1 tr\u1ECB"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} kh\xF4ng h\u1EE3p l\u1EC7`;
      }
      case "not_multiple_of":
        return `S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${issue2.origin}`;
      case "invalid_union":
        return "\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";
      case "invalid_element":
        return `Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${issue2.origin}`;
      default:
        return `\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7`;
    }
  };
};
function vi_default() {
  return {
    localeError: error41()
  };
}

// node_modules/zod/v4/locales/zh-CN.js
var error42 = () => {
  const Sizable = {
    string: { unit: "\u5B57\u7B26", verb: "\u5305\u542B" },
    file: { unit: "\u5B57\u8282", verb: "\u5305\u542B" },
    array: { unit: "\u9879", verb: "\u5305\u542B" },
    set: { unit: "\u9879", verb: "\u5305\u542B" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u975E\u6570\u5B57(NaN)" : "\u6570\u5B57";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u6570\u7EC4";
        }
        if (data === null) {
          return "\u7A7A\u503C(null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u8F93\u5165",
    email: "\u7535\u5B50\u90AE\u4EF6",
    url: "URL",
    emoji: "\u8868\u60C5\u7B26\u53F7",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO\u65E5\u671F\u65F6\u95F4",
    date: "ISO\u65E5\u671F",
    time: "ISO\u65F6\u95F4",
    duration: "ISO\u65F6\u957F",
    ipv4: "IPv4\u5730\u5740",
    ipv6: "IPv6\u5730\u5740",
    cidrv4: "IPv4\u7F51\u6BB5",
    cidrv6: "IPv6\u7F51\u6BB5",
    base64: "base64\u7F16\u7801\u5B57\u7B26\u4E32",
    base64url: "base64url\u7F16\u7801\u5B57\u7B26\u4E32",
    json_string: "JSON\u5B57\u7B26\u4E32",
    e164: "E.164\u53F7\u7801",
    jwt: "JWT",
    template_literal: "\u8F93\u5165"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${issue2.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${stringifyPrimitive(issue2.values[0])}`;
        return `\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${issue2.origin ?? "\u503C"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u4E2A\u5143\u7D20"}`;
        return `\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${issue2.origin ?? "\u503C"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${_issue.prefix}" \u5F00\u5934`;
        if (_issue.format === "ends_with")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${_issue.suffix}" \u7ED3\u5C3E`;
        if (_issue.format === "includes")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${_issue.pattern}`;
        return `\u65E0\u6548${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${issue2.divisor} \u7684\u500D\u6570`;
      case "unrecognized_keys":
        return `\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;
      case "invalid_union":
        return "\u65E0\u6548\u8F93\u5165";
      case "invalid_element":
        return `${issue2.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;
      default:
        return `\u65E0\u6548\u8F93\u5165`;
    }
  };
};
function zh_CN_default() {
  return {
    localeError: error42()
  };
}

// node_modules/zod/v4/locales/zh-TW.js
var error43 = () => {
  const Sizable = {
    string: { unit: "\u5B57\u5143", verb: "\u64C1\u6709" },
    file: { unit: "\u4F4D\u5143\u7D44", verb: "\u64C1\u6709" },
    array: { unit: "\u9805\u76EE", verb: "\u64C1\u6709" },
    set: { unit: "\u9805\u76EE", verb: "\u64C1\u6709" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u8F38\u5165",
    email: "\u90F5\u4EF6\u5730\u5740",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u65E5\u671F\u6642\u9593",
    date: "ISO \u65E5\u671F",
    time: "ISO \u6642\u9593",
    duration: "ISO \u671F\u9593",
    ipv4: "IPv4 \u4F4D\u5740",
    ipv6: "IPv6 \u4F4D\u5740",
    cidrv4: "IPv4 \u7BC4\u570D",
    cidrv6: "IPv6 \u7BC4\u570D",
    base64: "base64 \u7DE8\u78BC\u5B57\u4E32",
    base64url: "base64url \u7DE8\u78BC\u5B57\u4E32",
    json_string: "JSON \u5B57\u4E32",
    e164: "E.164 \u6578\u503C",
    jwt: "JWT",
    template_literal: "\u8F38\u5165"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${issue2.expected}\uFF0C\u4F46\u6536\u5230 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${stringifyPrimitive(issue2.values[0])}`;
        return `\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${issue2.origin ?? "\u503C"} \u61C9\u70BA ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u500B\u5143\u7D20"}`;
        return `\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${issue2.origin ?? "\u503C"} \u61C9\u70BA ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${issue2.origin} \u61C9\u70BA ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${issue2.origin} \u61C9\u70BA ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${_issue.prefix}" \u958B\u982D`;
        }
        if (_issue.format === "ends_with")
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${_issue.suffix}" \u7D50\u5C3E`;
        if (_issue.format === "includes")
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${_issue.pattern}`;
        return `\u7121\u6548\u7684 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${issue2.divisor} \u7684\u500D\u6578`;
      case "unrecognized_keys":
        return `\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${issue2.keys.length > 1 ? "\u5011" : ""}\uFF1A${joinValues(issue2.keys, "\u3001")}`;
      case "invalid_key":
        return `${issue2.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;
      case "invalid_union":
        return "\u7121\u6548\u7684\u8F38\u5165\u503C";
      case "invalid_element":
        return `${issue2.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;
      default:
        return `\u7121\u6548\u7684\u8F38\u5165\u503C`;
    }
  };
};
function zh_TW_default() {
  return {
    localeError: error43()
  };
}

// node_modules/zod/v4/locales/yo.js
var error44 = () => {
  const Sizable = {
    string: { unit: "\xE0mi", verb: "n\xED" },
    file: { unit: "bytes", verb: "n\xED" },
    array: { unit: "nkan", verb: "n\xED" },
    set: { unit: "nkan", verb: "n\xED" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "n\u1ECD\u0301mb\xE0";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "akop\u1ECD";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",
    email: "\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\xE0k\xF3k\xF2 ISO",
    date: "\u1ECDj\u1ECD\u0301 ISO",
    time: "\xE0k\xF3k\xF2 ISO",
    duration: "\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",
    ipv4: "\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",
    ipv6: "\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",
    cidrv4: "\xE0gb\xE8gb\xE8 IPv4",
    cidrv6: "\xE0gb\xE8gb\xE8 IPv6",
    base64: "\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",
    base64url: "\u1ECD\u0300r\u1ECD\u0300 base64url",
    json_string: "\u1ECD\u0300r\u1ECD\u0300 JSON",
    e164: "n\u1ECD\u0301mb\xE0 E.164",
    jwt: "JWT",
    template_literal: "\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${issue2.expected}, \xE0m\u1ECD\u0300 a r\xED ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${stringifyPrimitive(issue2.values[0])}`;
        return `\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${issue2.origin ?? "iye"} ${sizing.verb} ${adj}${issue2.maximum} ${sizing.unit}`;
        return `T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${adj}${issue2.maximum}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum} ${sizing.unit}`;
        return `K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${adj}${issue2.minimum}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${_issue.pattern}`;
        return `A\u1E63\xEC\u1E63e: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${issue2.divisor}`;
      case "unrecognized_keys":
        return `B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${issue2.origin}`;
      case "invalid_union":
        return "\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";
      case "invalid_element":
        return `Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${issue2.origin}`;
      default:
        return "\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";
    }
  };
};
function yo_default() {
  return {
    localeError: error44()
  };
}

// node_modules/zod/v4/core/registries.js
var $output = Symbol("ZodOutput");
var $input = Symbol("ZodInput");
var $ZodRegistry = class {
  constructor() {
    this._map = /* @__PURE__ */ new WeakMap();
    this._idmap = /* @__PURE__ */ new Map();
  }
  add(schema, ..._meta) {
    const meta = _meta[0];
    this._map.set(schema, meta);
    if (meta && typeof meta === "object" && "id" in meta) {
      if (this._idmap.has(meta.id)) {
        throw new Error(`ID ${meta.id} already exists in the registry`);
      }
      this._idmap.set(meta.id, schema);
    }
    return this;
  }
  clear() {
    this._map = /* @__PURE__ */ new WeakMap();
    this._idmap = /* @__PURE__ */ new Map();
    return this;
  }
  remove(schema) {
    const meta = this._map.get(schema);
    if (meta && typeof meta === "object" && "id" in meta) {
      this._idmap.delete(meta.id);
    }
    this._map.delete(schema);
    return this;
  }
  get(schema) {
    const p = schema._zod.parent;
    if (p) {
      const pm = { ...this.get(p) ?? {} };
      delete pm.id;
      const f = { ...pm, ...this._map.get(schema) };
      return Object.keys(f).length ? f : void 0;
    }
    return this._map.get(schema);
  }
  has(schema) {
    return this._map.has(schema);
  }
};
function registry() {
  return new $ZodRegistry();
}
var globalRegistry = /* @__PURE__ */ registry();

// node_modules/zod/v4/core/api.js
function _string(Class2, params) {
  return new Class2({
    type: "string",
    ...normalizeParams(params)
  });
}
function _coercedString(Class2, params) {
  return new Class2({
    type: "string",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _email(Class2, params) {
  return new Class2({
    type: "string",
    format: "email",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _guid(Class2, params) {
  return new Class2({
    type: "string",
    format: "guid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _uuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _uuidv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v4",
    ...normalizeParams(params)
  });
}
function _uuidv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v6",
    ...normalizeParams(params)
  });
}
function _uuidv7(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v7",
    ...normalizeParams(params)
  });
}
function _url(Class2, params) {
  return new Class2({
    type: "string",
    format: "url",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _emoji2(Class2, params) {
  return new Class2({
    type: "string",
    format: "emoji",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _nanoid(Class2, params) {
  return new Class2({
    type: "string",
    format: "nanoid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "cuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cuid2(Class2, params) {
  return new Class2({
    type: "string",
    format: "cuid2",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ulid(Class2, params) {
  return new Class2({
    type: "string",
    format: "ulid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _xid(Class2, params) {
  return new Class2({
    type: "string",
    format: "xid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ksuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "ksuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ipv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "ipv4",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ipv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "ipv6",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cidrv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "cidrv4",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cidrv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "cidrv6",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _base64(Class2, params) {
  return new Class2({
    type: "string",
    format: "base64",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _base64url(Class2, params) {
  return new Class2({
    type: "string",
    format: "base64url",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _e164(Class2, params) {
  return new Class2({
    type: "string",
    format: "e164",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _jwt(Class2, params) {
  return new Class2({
    type: "string",
    format: "jwt",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
var TimePrecision = {
  Any: null,
  Minute: -1,
  Second: 0,
  Millisecond: 3,
  Microsecond: 6
};
function _isoDateTime(Class2, params) {
  return new Class2({
    type: "string",
    format: "datetime",
    check: "string_format",
    offset: false,
    local: false,
    precision: null,
    ...normalizeParams(params)
  });
}
function _isoDate(Class2, params) {
  return new Class2({
    type: "string",
    format: "date",
    check: "string_format",
    ...normalizeParams(params)
  });
}
function _isoTime(Class2, params) {
  return new Class2({
    type: "string",
    format: "time",
    check: "string_format",
    precision: null,
    ...normalizeParams(params)
  });
}
function _isoDuration(Class2, params) {
  return new Class2({
    type: "string",
    format: "duration",
    check: "string_format",
    ...normalizeParams(params)
  });
}
function _number(Class2, params) {
  return new Class2({
    type: "number",
    checks: [],
    ...normalizeParams(params)
  });
}
function _coercedNumber(Class2, params) {
  return new Class2({
    type: "number",
    coerce: true,
    checks: [],
    ...normalizeParams(params)
  });
}
function _int(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "safeint",
    ...normalizeParams(params)
  });
}
function _float32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "float32",
    ...normalizeParams(params)
  });
}
function _float64(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "float64",
    ...normalizeParams(params)
  });
}
function _int32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "int32",
    ...normalizeParams(params)
  });
}
function _uint32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "uint32",
    ...normalizeParams(params)
  });
}
function _boolean(Class2, params) {
  return new Class2({
    type: "boolean",
    ...normalizeParams(params)
  });
}
function _coercedBoolean(Class2, params) {
  return new Class2({
    type: "boolean",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _bigint(Class2, params) {
  return new Class2({
    type: "bigint",
    ...normalizeParams(params)
  });
}
function _coercedBigint(Class2, params) {
  return new Class2({
    type: "bigint",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _int64(Class2, params) {
  return new Class2({
    type: "bigint",
    check: "bigint_format",
    abort: false,
    format: "int64",
    ...normalizeParams(params)
  });
}
function _uint64(Class2, params) {
  return new Class2({
    type: "bigint",
    check: "bigint_format",
    abort: false,
    format: "uint64",
    ...normalizeParams(params)
  });
}
function _symbol(Class2, params) {
  return new Class2({
    type: "symbol",
    ...normalizeParams(params)
  });
}
function _undefined2(Class2, params) {
  return new Class2({
    type: "undefined",
    ...normalizeParams(params)
  });
}
function _null2(Class2, params) {
  return new Class2({
    type: "null",
    ...normalizeParams(params)
  });
}
function _any(Class2) {
  return new Class2({
    type: "any"
  });
}
function _unknown(Class2) {
  return new Class2({
    type: "unknown"
  });
}
function _never(Class2, params) {
  return new Class2({
    type: "never",
    ...normalizeParams(params)
  });
}
function _void(Class2, params) {
  return new Class2({
    type: "void",
    ...normalizeParams(params)
  });
}
function _date(Class2, params) {
  return new Class2({
    type: "date",
    ...normalizeParams(params)
  });
}
function _coercedDate(Class2, params) {
  return new Class2({
    type: "date",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _nan(Class2, params) {
  return new Class2({
    type: "nan",
    ...normalizeParams(params)
  });
}
function _lt(value, params) {
  return new $ZodCheckLessThan({
    check: "less_than",
    ...normalizeParams(params),
    value,
    inclusive: false
  });
}
function _lte(value, params) {
  return new $ZodCheckLessThan({
    check: "less_than",
    ...normalizeParams(params),
    value,
    inclusive: true
  });
}
function _gt(value, params) {
  return new $ZodCheckGreaterThan({
    check: "greater_than",
    ...normalizeParams(params),
    value,
    inclusive: false
  });
}
function _gte(value, params) {
  return new $ZodCheckGreaterThan({
    check: "greater_than",
    ...normalizeParams(params),
    value,
    inclusive: true
  });
}
function _positive(params) {
  return _gt(0, params);
}
function _negative(params) {
  return _lt(0, params);
}
function _nonpositive(params) {
  return _lte(0, params);
}
function _nonnegative(params) {
  return _gte(0, params);
}
function _multipleOf(value, params) {
  return new $ZodCheckMultipleOf({
    check: "multiple_of",
    ...normalizeParams(params),
    value
  });
}
function _maxSize(maximum, params) {
  return new $ZodCheckMaxSize({
    check: "max_size",
    ...normalizeParams(params),
    maximum
  });
}
function _minSize(minimum, params) {
  return new $ZodCheckMinSize({
    check: "min_size",
    ...normalizeParams(params),
    minimum
  });
}
function _size(size, params) {
  return new $ZodCheckSizeEquals({
    check: "size_equals",
    ...normalizeParams(params),
    size
  });
}
function _maxLength(maximum, params) {
  const ch = new $ZodCheckMaxLength({
    check: "max_length",
    ...normalizeParams(params),
    maximum
  });
  return ch;
}
function _minLength(minimum, params) {
  return new $ZodCheckMinLength({
    check: "min_length",
    ...normalizeParams(params),
    minimum
  });
}
function _length(length, params) {
  return new $ZodCheckLengthEquals({
    check: "length_equals",
    ...normalizeParams(params),
    length
  });
}
function _regex(pattern, params) {
  return new $ZodCheckRegex({
    check: "string_format",
    format: "regex",
    ...normalizeParams(params),
    pattern
  });
}
function _lowercase(params) {
  return new $ZodCheckLowerCase({
    check: "string_format",
    format: "lowercase",
    ...normalizeParams(params)
  });
}
function _uppercase(params) {
  return new $ZodCheckUpperCase({
    check: "string_format",
    format: "uppercase",
    ...normalizeParams(params)
  });
}
function _includes(includes, params) {
  return new $ZodCheckIncludes({
    check: "string_format",
    format: "includes",
    ...normalizeParams(params),
    includes
  });
}
function _startsWith(prefix, params) {
  return new $ZodCheckStartsWith({
    check: "string_format",
    format: "starts_with",
    ...normalizeParams(params),
    prefix
  });
}
function _endsWith(suffix, params) {
  return new $ZodCheckEndsWith({
    check: "string_format",
    format: "ends_with",
    ...normalizeParams(params),
    suffix
  });
}
function _property(property, schema, params) {
  return new $ZodCheckProperty({
    check: "property",
    property,
    schema,
    ...normalizeParams(params)
  });
}
function _mime(types2, params) {
  return new $ZodCheckMimeType({
    check: "mime_type",
    mime: types2,
    ...normalizeParams(params)
  });
}
function _overwrite(tx) {
  return new $ZodCheckOverwrite({
    check: "overwrite",
    tx
  });
}
function _normalize(form) {
  return _overwrite((input) => input.normalize(form));
}
function _trim() {
  return _overwrite((input) => input.trim());
}
function _toLowerCase() {
  return _overwrite((input) => input.toLowerCase());
}
function _toUpperCase() {
  return _overwrite((input) => input.toUpperCase());
}
function _array(Class2, element, params) {
  return new Class2({
    type: "array",
    element,
    // get element() {
    //   return element;
    // },
    ...normalizeParams(params)
  });
}
function _union(Class2, options, params) {
  return new Class2({
    type: "union",
    options,
    ...normalizeParams(params)
  });
}
function _discriminatedUnion(Class2, discriminator, options, params) {
  return new Class2({
    type: "union",
    options,
    discriminator,
    ...normalizeParams(params)
  });
}
function _intersection(Class2, left, right) {
  return new Class2({
    type: "intersection",
    left,
    right
  });
}
function _tuple(Class2, items, _paramsOrRest, _params) {
  const hasRest = _paramsOrRest instanceof $ZodType;
  const params = hasRest ? _params : _paramsOrRest;
  const rest = hasRest ? _paramsOrRest : null;
  return new Class2({
    type: "tuple",
    items,
    rest,
    ...normalizeParams(params)
  });
}
function _record(Class2, keyType, valueType, params) {
  return new Class2({
    type: "record",
    keyType,
    valueType,
    ...normalizeParams(params)
  });
}
function _map(Class2, keyType, valueType, params) {
  return new Class2({
    type: "map",
    keyType,
    valueType,
    ...normalizeParams(params)
  });
}
function _set(Class2, valueType, params) {
  return new Class2({
    type: "set",
    valueType,
    ...normalizeParams(params)
  });
}
function _enum(Class2, values, params) {
  const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;
  return new Class2({
    type: "enum",
    entries,
    ...normalizeParams(params)
  });
}
function _nativeEnum(Class2, entries, params) {
  return new Class2({
    type: "enum",
    entries,
    ...normalizeParams(params)
  });
}
function _literal(Class2, value, params) {
  return new Class2({
    type: "literal",
    values: Array.isArray(value) ? value : [value],
    ...normalizeParams(params)
  });
}
function _file(Class2, params) {
  return new Class2({
    type: "file",
    ...normalizeParams(params)
  });
}
function _transform(Class2, fn) {
  return new Class2({
    type: "transform",
    transform: fn
  });
}
function _optional(Class2, innerType) {
  return new Class2({
    type: "optional",
    innerType
  });
}
function _nullable(Class2, innerType) {
  return new Class2({
    type: "nullable",
    innerType
  });
}
function _default(Class2, innerType, defaultValue) {
  return new Class2({
    type: "default",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : shallowClone(defaultValue);
    }
  });
}
function _nonoptional(Class2, innerType, params) {
  return new Class2({
    type: "nonoptional",
    innerType,
    ...normalizeParams(params)
  });
}
function _success(Class2, innerType) {
  return new Class2({
    type: "success",
    innerType
  });
}
function _catch(Class2, innerType, catchValue) {
  return new Class2({
    type: "catch",
    innerType,
    catchValue: typeof catchValue === "function" ? catchValue : () => catchValue
  });
}
function _pipe(Class2, in_, out) {
  return new Class2({
    type: "pipe",
    in: in_,
    out
  });
}
function _readonly(Class2, innerType) {
  return new Class2({
    type: "readonly",
    innerType
  });
}
function _templateLiteral(Class2, parts, params) {
  return new Class2({
    type: "template_literal",
    parts,
    ...normalizeParams(params)
  });
}
function _lazy(Class2, getter) {
  return new Class2({
    type: "lazy",
    getter
  });
}
function _promise(Class2, innerType) {
  return new Class2({
    type: "promise",
    innerType
  });
}
function _custom(Class2, fn, _params) {
  const norm = normalizeParams(_params);
  norm.abort ?? (norm.abort = true);
  const schema = new Class2({
    type: "custom",
    check: "custom",
    fn,
    ...norm
  });
  return schema;
}
function _refine(Class2, fn, _params) {
  const schema = new Class2({
    type: "custom",
    check: "custom",
    fn,
    ...normalizeParams(_params)
  });
  return schema;
}
function _superRefine(fn) {
  const ch = _check((payload) => {
    payload.addIssue = (issue2) => {
      if (typeof issue2 === "string") {
        payload.issues.push(issue(issue2, payload.value, ch._zod.def));
      } else {
        const _issue = issue2;
        if (_issue.fatal)
          _issue.continue = false;
        _issue.code ?? (_issue.code = "custom");
        _issue.input ?? (_issue.input = payload.value);
        _issue.inst ?? (_issue.inst = ch);
        _issue.continue ?? (_issue.continue = !ch._zod.def.abort);
        payload.issues.push(issue(_issue));
      }
    };
    return fn(payload.value, payload);
  });
  return ch;
}
function _check(fn, params) {
  const ch = new $ZodCheck({
    check: "custom",
    ...normalizeParams(params)
  });
  ch._zod.check = fn;
  return ch;
}
function _stringbool(Classes, _params) {
  const params = normalizeParams(_params);
  let truthyArray = params.truthy ?? ["true", "1", "yes", "on", "y", "enabled"];
  let falsyArray = params.falsy ?? ["false", "0", "no", "off", "n", "disabled"];
  if (params.case !== "sensitive") {
    truthyArray = truthyArray.map((v) => typeof v === "string" ? v.toLowerCase() : v);
    falsyArray = falsyArray.map((v) => typeof v === "string" ? v.toLowerCase() : v);
  }
  const truthySet = new Set(truthyArray);
  const falsySet = new Set(falsyArray);
  const _Codec = Classes.Codec ?? $ZodCodec;
  const _Boolean = Classes.Boolean ?? $ZodBoolean;
  const _String = Classes.String ?? $ZodString;
  const stringSchema = new _String({ type: "string", error: params.error });
  const booleanSchema = new _Boolean({ type: "boolean", error: params.error });
  const codec2 = new _Codec({
    type: "pipe",
    in: stringSchema,
    out: booleanSchema,
    transform: ((input, payload) => {
      let data = input;
      if (params.case !== "sensitive")
        data = data.toLowerCase();
      if (truthySet.has(data)) {
        return true;
      } else if (falsySet.has(data)) {
        return false;
      } else {
        payload.issues.push({
          code: "invalid_value",
          expected: "stringbool",
          values: [...truthySet, ...falsySet],
          input: payload.value,
          inst: codec2,
          continue: false
        });
        return {};
      }
    }),
    reverseTransform: ((input, _payload) => {
      if (input === true) {
        return truthyArray[0] || "true";
      } else {
        return falsyArray[0] || "false";
      }
    }),
    error: params.error
  });
  return codec2;
}
function _stringFormat(Class2, format, fnOrRegex, _params = {}) {
  const params = normalizeParams(_params);
  const def = {
    ...normalizeParams(_params),
    check: "string_format",
    type: "string",
    format,
    fn: typeof fnOrRegex === "function" ? fnOrRegex : (val) => fnOrRegex.test(val),
    ...params
  };
  if (fnOrRegex instanceof RegExp) {
    def.pattern = fnOrRegex;
  }
  const inst = new Class2(def);
  return inst;
}

// node_modules/zod/v4/core/to-json-schema.js
var JSONSchemaGenerator = class {
  constructor(params) {
    this.counter = 0;
    this.metadataRegistry = params?.metadata ?? globalRegistry;
    this.target = params?.target ?? "draft-2020-12";
    this.unrepresentable = params?.unrepresentable ?? "throw";
    this.override = params?.override ?? (() => {
    });
    this.io = params?.io ?? "output";
    this.seen = /* @__PURE__ */ new Map();
  }
  process(schema, _params = { path: [], schemaPath: [] }) {
    var _a17;
    const def = schema._zod.def;
    const formatMap = {
      guid: "uuid",
      url: "uri",
      datetime: "date-time",
      json_string: "json-string",
      regex: ""
      // do not set
    };
    const seen = this.seen.get(schema);
    if (seen) {
      seen.count++;
      const isCycle = _params.schemaPath.includes(schema);
      if (isCycle) {
        seen.cycle = _params.path;
      }
      return seen.schema;
    }
    const result = { schema: {}, count: 1, cycle: void 0, path: _params.path };
    this.seen.set(schema, result);
    const overrideSchema = schema._zod.toJSONSchema?.();
    if (overrideSchema) {
      result.schema = overrideSchema;
    } else {
      const params = {
        ..._params,
        schemaPath: [..._params.schemaPath, schema],
        path: _params.path
      };
      const parent = schema._zod.parent;
      if (parent) {
        result.ref = parent;
        this.process(parent, params);
        this.seen.get(parent).isParent = true;
      } else {
        const _json = result.schema;
        switch (def.type) {
          case "string": {
            const json2 = _json;
            json2.type = "string";
            const { minimum, maximum, format, patterns, contentEncoding } = schema._zod.bag;
            if (typeof minimum === "number")
              json2.minLength = minimum;
            if (typeof maximum === "number")
              json2.maxLength = maximum;
            if (format) {
              json2.format = formatMap[format] ?? format;
              if (json2.format === "")
                delete json2.format;
            }
            if (contentEncoding)
              json2.contentEncoding = contentEncoding;
            if (patterns && patterns.size > 0) {
              const regexes = [...patterns];
              if (regexes.length === 1)
                json2.pattern = regexes[0].source;
              else if (regexes.length > 1) {
                result.schema.allOf = [
                  ...regexes.map((regex) => ({
                    ...this.target === "draft-7" || this.target === "draft-4" || this.target === "openapi-3.0" ? { type: "string" } : {},
                    pattern: regex.source
                  }))
                ];
              }
            }
            break;
          }
          case "number": {
            const json2 = _json;
            const { minimum, maximum, format, multipleOf, exclusiveMaximum, exclusiveMinimum } = schema._zod.bag;
            if (typeof format === "string" && format.includes("int"))
              json2.type = "integer";
            else
              json2.type = "number";
            if (typeof exclusiveMinimum === "number") {
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.minimum = exclusiveMinimum;
                json2.exclusiveMinimum = true;
              } else {
                json2.exclusiveMinimum = exclusiveMinimum;
              }
            }
            if (typeof minimum === "number") {
              json2.minimum = minimum;
              if (typeof exclusiveMinimum === "number" && this.target !== "draft-4") {
                if (exclusiveMinimum >= minimum)
                  delete json2.minimum;
                else
                  delete json2.exclusiveMinimum;
              }
            }
            if (typeof exclusiveMaximum === "number") {
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.maximum = exclusiveMaximum;
                json2.exclusiveMaximum = true;
              } else {
                json2.exclusiveMaximum = exclusiveMaximum;
              }
            }
            if (typeof maximum === "number") {
              json2.maximum = maximum;
              if (typeof exclusiveMaximum === "number" && this.target !== "draft-4") {
                if (exclusiveMaximum <= maximum)
                  delete json2.maximum;
                else
                  delete json2.exclusiveMaximum;
              }
            }
            if (typeof multipleOf === "number")
              json2.multipleOf = multipleOf;
            break;
          }
          case "boolean": {
            const json2 = _json;
            json2.type = "boolean";
            break;
          }
          case "bigint": {
            if (this.unrepresentable === "throw") {
              throw new Error("BigInt cannot be represented in JSON Schema");
            }
            break;
          }
          case "symbol": {
            if (this.unrepresentable === "throw") {
              throw new Error("Symbols cannot be represented in JSON Schema");
            }
            break;
          }
          case "null": {
            if (this.target === "openapi-3.0") {
              _json.type = "string";
              _json.nullable = true;
              _json.enum = [null];
            } else
              _json.type = "null";
            break;
          }
          case "any": {
            break;
          }
          case "unknown": {
            break;
          }
          case "undefined": {
            if (this.unrepresentable === "throw") {
              throw new Error("Undefined cannot be represented in JSON Schema");
            }
            break;
          }
          case "void": {
            if (this.unrepresentable === "throw") {
              throw new Error("Void cannot be represented in JSON Schema");
            }
            break;
          }
          case "never": {
            _json.not = {};
            break;
          }
          case "date": {
            if (this.unrepresentable === "throw") {
              throw new Error("Date cannot be represented in JSON Schema");
            }
            break;
          }
          case "array": {
            const json2 = _json;
            const { minimum, maximum } = schema._zod.bag;
            if (typeof minimum === "number")
              json2.minItems = minimum;
            if (typeof maximum === "number")
              json2.maxItems = maximum;
            json2.type = "array";
            json2.items = this.process(def.element, { ...params, path: [...params.path, "items"] });
            break;
          }
          case "object": {
            const json2 = _json;
            json2.type = "object";
            json2.properties = {};
            const shape = def.shape;
            for (const key in shape) {
              json2.properties[key] = this.process(shape[key], {
                ...params,
                path: [...params.path, "properties", key]
              });
            }
            const allKeys = new Set(Object.keys(shape));
            const requiredKeys = new Set([...allKeys].filter((key) => {
              const v = def.shape[key]._zod;
              if (this.io === "input") {
                return v.optin === void 0;
              } else {
                return v.optout === void 0;
              }
            }));
            if (requiredKeys.size > 0) {
              json2.required = Array.from(requiredKeys);
            }
            if (def.catchall?._zod.def.type === "never") {
              json2.additionalProperties = false;
            } else if (!def.catchall) {
              if (this.io === "output")
                json2.additionalProperties = false;
            } else if (def.catchall) {
              json2.additionalProperties = this.process(def.catchall, {
                ...params,
                path: [...params.path, "additionalProperties"]
              });
            }
            break;
          }
          case "union": {
            const json2 = _json;
            const options = def.options.map((x, i2) => this.process(x, {
              ...params,
              path: [...params.path, "anyOf", i2]
            }));
            json2.anyOf = options;
            break;
          }
          case "intersection": {
            const json2 = _json;
            const a2 = this.process(def.left, {
              ...params,
              path: [...params.path, "allOf", 0]
            });
            const b = this.process(def.right, {
              ...params,
              path: [...params.path, "allOf", 1]
            });
            const isSimpleIntersection = (val) => "allOf" in val && Object.keys(val).length === 1;
            const allOf = [
              ...isSimpleIntersection(a2) ? a2.allOf : [a2],
              ...isSimpleIntersection(b) ? b.allOf : [b]
            ];
            json2.allOf = allOf;
            break;
          }
          case "tuple": {
            const json2 = _json;
            json2.type = "array";
            const prefixPath = this.target === "draft-2020-12" ? "prefixItems" : "items";
            const restPath = this.target === "draft-2020-12" ? "items" : this.target === "openapi-3.0" ? "items" : "additionalItems";
            const prefixItems = def.items.map((x, i2) => this.process(x, {
              ...params,
              path: [...params.path, prefixPath, i2]
            }));
            const rest = def.rest ? this.process(def.rest, {
              ...params,
              path: [...params.path, restPath, ...this.target === "openapi-3.0" ? [def.items.length] : []]
            }) : null;
            if (this.target === "draft-2020-12") {
              json2.prefixItems = prefixItems;
              if (rest) {
                json2.items = rest;
              }
            } else if (this.target === "openapi-3.0") {
              json2.items = {
                anyOf: prefixItems
              };
              if (rest) {
                json2.items.anyOf.push(rest);
              }
              json2.minItems = prefixItems.length;
              if (!rest) {
                json2.maxItems = prefixItems.length;
              }
            } else {
              json2.items = prefixItems;
              if (rest) {
                json2.additionalItems = rest;
              }
            }
            const { minimum, maximum } = schema._zod.bag;
            if (typeof minimum === "number")
              json2.minItems = minimum;
            if (typeof maximum === "number")
              json2.maxItems = maximum;
            break;
          }
          case "record": {
            const json2 = _json;
            json2.type = "object";
            if (this.target === "draft-7" || this.target === "draft-2020-12") {
              json2.propertyNames = this.process(def.keyType, {
                ...params,
                path: [...params.path, "propertyNames"]
              });
            }
            json2.additionalProperties = this.process(def.valueType, {
              ...params,
              path: [...params.path, "additionalProperties"]
            });
            break;
          }
          case "map": {
            if (this.unrepresentable === "throw") {
              throw new Error("Map cannot be represented in JSON Schema");
            }
            break;
          }
          case "set": {
            if (this.unrepresentable === "throw") {
              throw new Error("Set cannot be represented in JSON Schema");
            }
            break;
          }
          case "enum": {
            const json2 = _json;
            const values = getEnumValues(def.entries);
            if (values.every((v) => typeof v === "number"))
              json2.type = "number";
            if (values.every((v) => typeof v === "string"))
              json2.type = "string";
            json2.enum = values;
            break;
          }
          case "literal": {
            const json2 = _json;
            const vals = [];
            for (const val of def.values) {
              if (val === void 0) {
                if (this.unrepresentable === "throw") {
                  throw new Error("Literal `undefined` cannot be represented in JSON Schema");
                } else {
                }
              } else if (typeof val === "bigint") {
                if (this.unrepresentable === "throw") {
                  throw new Error("BigInt literals cannot be represented in JSON Schema");
                } else {
                  vals.push(Number(val));
                }
              } else {
                vals.push(val);
              }
            }
            if (vals.length === 0) {
            } else if (vals.length === 1) {
              const val = vals[0];
              json2.type = val === null ? "null" : typeof val;
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.enum = [val];
              } else {
                json2.const = val;
              }
            } else {
              if (vals.every((v) => typeof v === "number"))
                json2.type = "number";
              if (vals.every((v) => typeof v === "string"))
                json2.type = "string";
              if (vals.every((v) => typeof v === "boolean"))
                json2.type = "string";
              if (vals.every((v) => v === null))
                json2.type = "null";
              json2.enum = vals;
            }
            break;
          }
          case "file": {
            const json2 = _json;
            const file2 = {
              type: "string",
              format: "binary",
              contentEncoding: "binary"
            };
            const { minimum, maximum, mime } = schema._zod.bag;
            if (minimum !== void 0)
              file2.minLength = minimum;
            if (maximum !== void 0)
              file2.maxLength = maximum;
            if (mime) {
              if (mime.length === 1) {
                file2.contentMediaType = mime[0];
                Object.assign(json2, file2);
              } else {
                json2.anyOf = mime.map((m) => {
                  const mFile = { ...file2, contentMediaType: m };
                  return mFile;
                });
              }
            } else {
              Object.assign(json2, file2);
            }
            break;
          }
          case "transform": {
            if (this.unrepresentable === "throw") {
              throw new Error("Transforms cannot be represented in JSON Schema");
            }
            break;
          }
          case "nullable": {
            const inner = this.process(def.innerType, params);
            if (this.target === "openapi-3.0") {
              result.ref = def.innerType;
              _json.nullable = true;
            } else {
              _json.anyOf = [inner, { type: "null" }];
            }
            break;
          }
          case "nonoptional": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "success": {
            const json2 = _json;
            json2.type = "boolean";
            break;
          }
          case "default": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            _json.default = JSON.parse(JSON.stringify(def.defaultValue));
            break;
          }
          case "prefault": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            if (this.io === "input")
              _json._prefault = JSON.parse(JSON.stringify(def.defaultValue));
            break;
          }
          case "catch": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            let catchValue;
            try {
              catchValue = def.catchValue(void 0);
            } catch {
              throw new Error("Dynamic catch values are not supported in JSON Schema");
            }
            _json.default = catchValue;
            break;
          }
          case "nan": {
            if (this.unrepresentable === "throw") {
              throw new Error("NaN cannot be represented in JSON Schema");
            }
            break;
          }
          case "template_literal": {
            const json2 = _json;
            const pattern = schema._zod.pattern;
            if (!pattern)
              throw new Error("Pattern not found in template literal");
            json2.type = "string";
            json2.pattern = pattern.source;
            break;
          }
          case "pipe": {
            const innerType = this.io === "input" ? def.in._zod.def.type === "transform" ? def.out : def.in : def.out;
            this.process(innerType, params);
            result.ref = innerType;
            break;
          }
          case "readonly": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            _json.readOnly = true;
            break;
          }
          // passthrough types
          case "promise": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "optional": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "lazy": {
            const innerType = schema._zod.innerType;
            this.process(innerType, params);
            result.ref = innerType;
            break;
          }
          case "custom": {
            if (this.unrepresentable === "throw") {
              throw new Error("Custom types cannot be represented in JSON Schema");
            }
            break;
          }
          case "function": {
            if (this.unrepresentable === "throw") {
              throw new Error("Function types cannot be represented in JSON Schema");
            }
            break;
          }
          default: {
            def;
          }
        }
      }
    }
    const meta = this.metadataRegistry.get(schema);
    if (meta)
      Object.assign(result.schema, meta);
    if (this.io === "input" && isTransforming(schema)) {
      delete result.schema.examples;
      delete result.schema.default;
    }
    if (this.io === "input" && result.schema._prefault)
      (_a17 = result.schema).default ?? (_a17.default = result.schema._prefault);
    delete result.schema._prefault;
    const _result = this.seen.get(schema);
    return _result.schema;
  }
  emit(schema, _params) {
    const params = {
      cycles: _params?.cycles ?? "ref",
      reused: _params?.reused ?? "inline",
      // unrepresentable: _params?.unrepresentable ?? "throw",
      // uri: _params?.uri ?? ((id) => `${id}`),
      external: _params?.external ?? void 0
    };
    const root = this.seen.get(schema);
    if (!root)
      throw new Error("Unprocessed schema. This is a bug in Zod.");
    const makeURI = (entry) => {
      const defsSegment = this.target === "draft-2020-12" ? "$defs" : "definitions";
      if (params.external) {
        const externalId = params.external.registry.get(entry[0])?.id;
        const uriGenerator = params.external.uri ?? ((id2) => id2);
        if (externalId) {
          return { ref: uriGenerator(externalId) };
        }
        const id = entry[1].defId ?? entry[1].schema.id ?? `schema${this.counter++}`;
        entry[1].defId = id;
        return { defId: id, ref: `${uriGenerator("__shared")}#/${defsSegment}/${id}` };
      }
      if (entry[1] === root) {
        return { ref: "#" };
      }
      const uriPrefix = `#`;
      const defUriPrefix = `${uriPrefix}/${defsSegment}/`;
      const defId = entry[1].schema.id ?? `__schema${this.counter++}`;
      return { defId, ref: defUriPrefix + defId };
    };
    const extractToDef = (entry) => {
      if (entry[1].schema.$ref) {
        return;
      }
      const seen = entry[1];
      const { ref, defId } = makeURI(entry);
      seen.def = { ...seen.schema };
      if (defId)
        seen.defId = defId;
      const schema2 = seen.schema;
      for (const key in schema2) {
        delete schema2[key];
      }
      schema2.$ref = ref;
    };
    if (params.cycles === "throw") {
      for (const entry of this.seen.entries()) {
        const seen = entry[1];
        if (seen.cycle) {
          throw new Error(`Cycle detected: #/${seen.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`);
        }
      }
    }
    for (const entry of this.seen.entries()) {
      const seen = entry[1];
      if (schema === entry[0]) {
        extractToDef(entry);
        continue;
      }
      if (params.external) {
        const ext = params.external.registry.get(entry[0])?.id;
        if (schema !== entry[0] && ext) {
          extractToDef(entry);
          continue;
        }
      }
      const id = this.metadataRegistry.get(entry[0])?.id;
      if (id) {
        extractToDef(entry);
        continue;
      }
      if (seen.cycle) {
        extractToDef(entry);
        continue;
      }
      if (seen.count > 1) {
        if (params.reused === "ref") {
          extractToDef(entry);
          continue;
        }
      }
    }
    const flattenRef = (zodSchema2, params2) => {
      const seen = this.seen.get(zodSchema2);
      const schema2 = seen.def ?? seen.schema;
      const _cached = { ...schema2 };
      if (seen.ref === null) {
        return;
      }
      const ref = seen.ref;
      seen.ref = null;
      if (ref) {
        flattenRef(ref, params2);
        const refSchema = this.seen.get(ref).schema;
        if (refSchema.$ref && (params2.target === "draft-7" || params2.target === "draft-4" || params2.target === "openapi-3.0")) {
          schema2.allOf = schema2.allOf ?? [];
          schema2.allOf.push(refSchema);
        } else {
          Object.assign(schema2, refSchema);
          Object.assign(schema2, _cached);
        }
      }
      if (!seen.isParent)
        this.override({
          zodSchema: zodSchema2,
          jsonSchema: schema2,
          path: seen.path ?? []
        });
    };
    for (const entry of [...this.seen.entries()].reverse()) {
      flattenRef(entry[0], { target: this.target });
    }
    const result = {};
    if (this.target === "draft-2020-12") {
      result.$schema = "https://json-schema.org/draft/2020-12/schema";
    } else if (this.target === "draft-7") {
      result.$schema = "http://json-schema.org/draft-07/schema#";
    } else if (this.target === "draft-4") {
      result.$schema = "http://json-schema.org/draft-04/schema#";
    } else if (this.target === "openapi-3.0") {
    } else {
      console.warn(`Invalid target: ${this.target}`);
    }
    if (params.external?.uri) {
      const id = params.external.registry.get(schema)?.id;
      if (!id)
        throw new Error("Schema is missing an `id` property");
      result.$id = params.external.uri(id);
    }
    Object.assign(result, root.def);
    const defs = params.external?.defs ?? {};
    for (const entry of this.seen.entries()) {
      const seen = entry[1];
      if (seen.def && seen.defId) {
        defs[seen.defId] = seen.def;
      }
    }
    if (params.external) {
    } else {
      if (Object.keys(defs).length > 0) {
        if (this.target === "draft-2020-12") {
          result.$defs = defs;
        } else {
          result.definitions = defs;
        }
      }
    }
    try {
      return JSON.parse(JSON.stringify(result));
    } catch (_err) {
      throw new Error("Error converting schema to JSON.");
    }
  }
};
function toJSONSchema(input, _params) {
  if (input instanceof $ZodRegistry) {
    const gen2 = new JSONSchemaGenerator(_params);
    const defs = {};
    for (const entry of input._idmap.entries()) {
      const [_, schema] = entry;
      gen2.process(schema);
    }
    const schemas = {};
    const external = {
      registry: input,
      uri: _params?.uri,
      defs
    };
    for (const entry of input._idmap.entries()) {
      const [key, schema] = entry;
      schemas[key] = gen2.emit(schema, {
        ..._params,
        external
      });
    }
    if (Object.keys(defs).length > 0) {
      const defsSegment = gen2.target === "draft-2020-12" ? "$defs" : "definitions";
      schemas.__shared = {
        [defsSegment]: defs
      };
    }
    return { schemas };
  }
  const gen = new JSONSchemaGenerator(_params);
  gen.process(input);
  return gen.emit(input, _params);
}
function isTransforming(_schema, _ctx) {
  const ctx = _ctx ?? { seen: /* @__PURE__ */ new Set() };
  if (ctx.seen.has(_schema))
    return false;
  ctx.seen.add(_schema);
  const schema = _schema;
  const def = schema._zod.def;
  switch (def.type) {
    case "string":
    case "number":
    case "bigint":
    case "boolean":
    case "date":
    case "symbol":
    case "undefined":
    case "null":
    case "any":
    case "unknown":
    case "never":
    case "void":
    case "literal":
    case "enum":
    case "nan":
    case "file":
    case "template_literal":
      return false;
    case "array": {
      return isTransforming(def.element, ctx);
    }
    case "object": {
      for (const key in def.shape) {
        if (isTransforming(def.shape[key], ctx))
          return true;
      }
      return false;
    }
    case "union": {
      for (const option of def.options) {
        if (isTransforming(option, ctx))
          return true;
      }
      return false;
    }
    case "intersection": {
      return isTransforming(def.left, ctx) || isTransforming(def.right, ctx);
    }
    case "tuple": {
      for (const item of def.items) {
        if (isTransforming(item, ctx))
          return true;
      }
      if (def.rest && isTransforming(def.rest, ctx))
        return true;
      return false;
    }
    case "record": {
      return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);
    }
    case "map": {
      return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);
    }
    case "set": {
      return isTransforming(def.valueType, ctx);
    }
    // inner types
    case "promise":
    case "optional":
    case "nonoptional":
    case "nullable":
    case "readonly":
      return isTransforming(def.innerType, ctx);
    case "lazy":
      return isTransforming(def.getter(), ctx);
    case "default": {
      return isTransforming(def.innerType, ctx);
    }
    case "prefault": {
      return isTransforming(def.innerType, ctx);
    }
    case "custom": {
      return false;
    }
    case "transform": {
      return true;
    }
    case "pipe": {
      return isTransforming(def.in, ctx) || isTransforming(def.out, ctx);
    }
    case "success": {
      return false;
    }
    case "catch": {
      return false;
    }
    case "function": {
      return false;
    }
    default:
      def;
  }
  throw new Error(`Unknown schema type: ${def.type}`);
}

// node_modules/zod/v4/core/json-schema.js
var json_schema_exports = {};

// node_modules/zod/v4/classic/iso.js
var iso_exports = {};
__export(iso_exports, {
  ZodISODate: () => ZodISODate,
  ZodISODateTime: () => ZodISODateTime,
  ZodISODuration: () => ZodISODuration,
  ZodISOTime: () => ZodISOTime,
  date: () => date2,
  datetime: () => datetime2,
  duration: () => duration2,
  time: () => time2
});
var ZodISODateTime = /* @__PURE__ */ $constructor("ZodISODateTime", (inst, def) => {
  $ZodISODateTime.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function datetime2(params) {
  return _isoDateTime(ZodISODateTime, params);
}
var ZodISODate = /* @__PURE__ */ $constructor("ZodISODate", (inst, def) => {
  $ZodISODate.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function date2(params) {
  return _isoDate(ZodISODate, params);
}
var ZodISOTime = /* @__PURE__ */ $constructor("ZodISOTime", (inst, def) => {
  $ZodISOTime.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function time2(params) {
  return _isoTime(ZodISOTime, params);
}
var ZodISODuration = /* @__PURE__ */ $constructor("ZodISODuration", (inst, def) => {
  $ZodISODuration.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function duration2(params) {
  return _isoDuration(ZodISODuration, params);
}

// node_modules/zod/v4/classic/errors.js
var initializer2 = (inst, issues) => {
  $ZodError.init(inst, issues);
  inst.name = "ZodError";
  Object.defineProperties(inst, {
    format: {
      value: (mapper) => formatError(inst, mapper)
      // enumerable: false,
    },
    flatten: {
      value: (mapper) => flattenError(inst, mapper)
      // enumerable: false,
    },
    addIssue: {
      value: (issue2) => {
        inst.issues.push(issue2);
        inst.message = JSON.stringify(inst.issues, jsonStringifyReplacer, 2);
      }
      // enumerable: false,
    },
    addIssues: {
      value: (issues2) => {
        inst.issues.push(...issues2);
        inst.message = JSON.stringify(inst.issues, jsonStringifyReplacer, 2);
      }
      // enumerable: false,
    },
    isEmpty: {
      get() {
        return inst.issues.length === 0;
      }
      // enumerable: false,
    }
  });
};
var ZodError = $constructor("ZodError", initializer2);
var ZodRealError = $constructor("ZodError", initializer2, {
  Parent: Error
});

// node_modules/zod/v4/classic/parse.js
var parse2 = /* @__PURE__ */ _parse(ZodRealError);
var parseAsync2 = /* @__PURE__ */ _parseAsync(ZodRealError);
var safeParse2 = /* @__PURE__ */ _safeParse(ZodRealError);
var safeParseAsync2 = /* @__PURE__ */ _safeParseAsync(ZodRealError);
var encode2 = /* @__PURE__ */ _encode(ZodRealError);
var decode2 = /* @__PURE__ */ _decode(ZodRealError);
var encodeAsync2 = /* @__PURE__ */ _encodeAsync(ZodRealError);
var decodeAsync2 = /* @__PURE__ */ _decodeAsync(ZodRealError);
var safeEncode2 = /* @__PURE__ */ _safeEncode(ZodRealError);
var safeDecode2 = /* @__PURE__ */ _safeDecode(ZodRealError);
var safeEncodeAsync2 = /* @__PURE__ */ _safeEncodeAsync(ZodRealError);
var safeDecodeAsync2 = /* @__PURE__ */ _safeDecodeAsync(ZodRealError);

// node_modules/zod/v4/classic/schemas.js
var ZodType = /* @__PURE__ */ $constructor("ZodType", (inst, def) => {
  $ZodType.init(inst, def);
  inst.def = def;
  inst.type = def.type;
  Object.defineProperty(inst, "_def", { value: def });
  inst.check = (...checks) => {
    return inst.clone(
      {
        ...def,
        checks: [
          ...def.checks ?? [],
          ...checks.map((ch) => typeof ch === "function" ? { _zod: { check: ch, def: { check: "custom" }, onattach: [] } } : ch)
        ]
      }
      // { parent: true }
    );
  };
  inst.clone = (def2, params) => clone(inst, def2, params);
  inst.brand = () => inst;
  inst.register = ((reg, meta) => {
    reg.add(inst, meta);
    return inst;
  });
  inst.parse = (data, params) => parse2(inst, data, params, { callee: inst.parse });
  inst.safeParse = (data, params) => safeParse2(inst, data, params);
  inst.parseAsync = async (data, params) => parseAsync2(inst, data, params, { callee: inst.parseAsync });
  inst.safeParseAsync = async (data, params) => safeParseAsync2(inst, data, params);
  inst.spa = inst.safeParseAsync;
  inst.encode = (data, params) => encode2(inst, data, params);
  inst.decode = (data, params) => decode2(inst, data, params);
  inst.encodeAsync = async (data, params) => encodeAsync2(inst, data, params);
  inst.decodeAsync = async (data, params) => decodeAsync2(inst, data, params);
  inst.safeEncode = (data, params) => safeEncode2(inst, data, params);
  inst.safeDecode = (data, params) => safeDecode2(inst, data, params);
  inst.safeEncodeAsync = async (data, params) => safeEncodeAsync2(inst, data, params);
  inst.safeDecodeAsync = async (data, params) => safeDecodeAsync2(inst, data, params);
  inst.refine = (check2, params) => inst.check(refine(check2, params));
  inst.superRefine = (refinement) => inst.check(superRefine(refinement));
  inst.overwrite = (fn) => inst.check(_overwrite(fn));
  inst.optional = () => optional(inst);
  inst.nullable = () => nullable(inst);
  inst.nullish = () => optional(nullable(inst));
  inst.nonoptional = (params) => nonoptional(inst, params);
  inst.array = () => array(inst);
  inst.or = (arg) => union([inst, arg]);
  inst.and = (arg) => intersection(inst, arg);
  inst.transform = (tx) => pipe(inst, transform(tx));
  inst.default = (def2) => _default2(inst, def2);
  inst.prefault = (def2) => prefault(inst, def2);
  inst.catch = (params) => _catch2(inst, params);
  inst.pipe = (target) => pipe(inst, target);
  inst.readonly = () => readonly(inst);
  inst.describe = (description) => {
    const cl = inst.clone();
    globalRegistry.add(cl, { description });
    return cl;
  };
  Object.defineProperty(inst, "description", {
    get() {
      return globalRegistry.get(inst)?.description;
    },
    configurable: true
  });
  inst.meta = (...args) => {
    if (args.length === 0) {
      return globalRegistry.get(inst);
    }
    const cl = inst.clone();
    globalRegistry.add(cl, args[0]);
    return cl;
  };
  inst.isOptional = () => inst.safeParse(void 0).success;
  inst.isNullable = () => inst.safeParse(null).success;
  return inst;
});
var _ZodString = /* @__PURE__ */ $constructor("_ZodString", (inst, def) => {
  $ZodString.init(inst, def);
  ZodType.init(inst, def);
  const bag = inst._zod.bag;
  inst.format = bag.format ?? null;
  inst.minLength = bag.minimum ?? null;
  inst.maxLength = bag.maximum ?? null;
  inst.regex = (...args) => inst.check(_regex(...args));
  inst.includes = (...args) => inst.check(_includes(...args));
  inst.startsWith = (...args) => inst.check(_startsWith(...args));
  inst.endsWith = (...args) => inst.check(_endsWith(...args));
  inst.min = (...args) => inst.check(_minLength(...args));
  inst.max = (...args) => inst.check(_maxLength(...args));
  inst.length = (...args) => inst.check(_length(...args));
  inst.nonempty = (...args) => inst.check(_minLength(1, ...args));
  inst.lowercase = (params) => inst.check(_lowercase(params));
  inst.uppercase = (params) => inst.check(_uppercase(params));
  inst.trim = () => inst.check(_trim());
  inst.normalize = (...args) => inst.check(_normalize(...args));
  inst.toLowerCase = () => inst.check(_toLowerCase());
  inst.toUpperCase = () => inst.check(_toUpperCase());
});
var ZodString = /* @__PURE__ */ $constructor("ZodString", (inst, def) => {
  $ZodString.init(inst, def);
  _ZodString.init(inst, def);
  inst.email = (params) => inst.check(_email(ZodEmail, params));
  inst.url = (params) => inst.check(_url(ZodURL, params));
  inst.jwt = (params) => inst.check(_jwt(ZodJWT, params));
  inst.emoji = (params) => inst.check(_emoji2(ZodEmoji, params));
  inst.guid = (params) => inst.check(_guid(ZodGUID, params));
  inst.uuid = (params) => inst.check(_uuid(ZodUUID, params));
  inst.uuidv4 = (params) => inst.check(_uuidv4(ZodUUID, params));
  inst.uuidv6 = (params) => inst.check(_uuidv6(ZodUUID, params));
  inst.uuidv7 = (params) => inst.check(_uuidv7(ZodUUID, params));
  inst.nanoid = (params) => inst.check(_nanoid(ZodNanoID, params));
  inst.guid = (params) => inst.check(_guid(ZodGUID, params));
  inst.cuid = (params) => inst.check(_cuid(ZodCUID, params));
  inst.cuid2 = (params) => inst.check(_cuid2(ZodCUID2, params));
  inst.ulid = (params) => inst.check(_ulid(ZodULID, params));
  inst.base64 = (params) => inst.check(_base64(ZodBase64, params));
  inst.base64url = (params) => inst.check(_base64url(ZodBase64URL, params));
  inst.xid = (params) => inst.check(_xid(ZodXID, params));
  inst.ksuid = (params) => inst.check(_ksuid(ZodKSUID, params));
  inst.ipv4 = (params) => inst.check(_ipv4(ZodIPv4, params));
  inst.ipv6 = (params) => inst.check(_ipv6(ZodIPv6, params));
  inst.cidrv4 = (params) => inst.check(_cidrv4(ZodCIDRv4, params));
  inst.cidrv6 = (params) => inst.check(_cidrv6(ZodCIDRv6, params));
  inst.e164 = (params) => inst.check(_e164(ZodE164, params));
  inst.datetime = (params) => inst.check(datetime2(params));
  inst.date = (params) => inst.check(date2(params));
  inst.time = (params) => inst.check(time2(params));
  inst.duration = (params) => inst.check(duration2(params));
});
function string2(params) {
  return _string(ZodString, params);
}
var ZodStringFormat = /* @__PURE__ */ $constructor("ZodStringFormat", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  _ZodString.init(inst, def);
});
var ZodEmail = /* @__PURE__ */ $constructor("ZodEmail", (inst, def) => {
  $ZodEmail.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function email2(params) {
  return _email(ZodEmail, params);
}
var ZodGUID = /* @__PURE__ */ $constructor("ZodGUID", (inst, def) => {
  $ZodGUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function guid2(params) {
  return _guid(ZodGUID, params);
}
var ZodUUID = /* @__PURE__ */ $constructor("ZodUUID", (inst, def) => {
  $ZodUUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function uuid2(params) {
  return _uuid(ZodUUID, params);
}
function uuidv4(params) {
  return _uuidv4(ZodUUID, params);
}
function uuidv6(params) {
  return _uuidv6(ZodUUID, params);
}
function uuidv7(params) {
  return _uuidv7(ZodUUID, params);
}
var ZodURL = /* @__PURE__ */ $constructor("ZodURL", (inst, def) => {
  $ZodURL.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function url(params) {
  return _url(ZodURL, params);
}
function httpUrl(params) {
  return _url(ZodURL, {
    protocol: /^https?$/,
    hostname: regexes_exports.domain,
    ...util_exports.normalizeParams(params)
  });
}
var ZodEmoji = /* @__PURE__ */ $constructor("ZodEmoji", (inst, def) => {
  $ZodEmoji.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function emoji2(params) {
  return _emoji2(ZodEmoji, params);
}
var ZodNanoID = /* @__PURE__ */ $constructor("ZodNanoID", (inst, def) => {
  $ZodNanoID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function nanoid2(params) {
  return _nanoid(ZodNanoID, params);
}
var ZodCUID = /* @__PURE__ */ $constructor("ZodCUID", (inst, def) => {
  $ZodCUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cuid3(params) {
  return _cuid(ZodCUID, params);
}
var ZodCUID2 = /* @__PURE__ */ $constructor("ZodCUID2", (inst, def) => {
  $ZodCUID2.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cuid22(params) {
  return _cuid2(ZodCUID2, params);
}
var ZodULID = /* @__PURE__ */ $constructor("ZodULID", (inst, def) => {
  $ZodULID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ulid2(params) {
  return _ulid(ZodULID, params);
}
var ZodXID = /* @__PURE__ */ $constructor("ZodXID", (inst, def) => {
  $ZodXID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function xid2(params) {
  return _xid(ZodXID, params);
}
var ZodKSUID = /* @__PURE__ */ $constructor("ZodKSUID", (inst, def) => {
  $ZodKSUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ksuid2(params) {
  return _ksuid(ZodKSUID, params);
}
var ZodIPv4 = /* @__PURE__ */ $constructor("ZodIPv4", (inst, def) => {
  $ZodIPv4.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ipv42(params) {
  return _ipv4(ZodIPv4, params);
}
var ZodIPv6 = /* @__PURE__ */ $constructor("ZodIPv6", (inst, def) => {
  $ZodIPv6.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ipv62(params) {
  return _ipv6(ZodIPv6, params);
}
var ZodCIDRv4 = /* @__PURE__ */ $constructor("ZodCIDRv4", (inst, def) => {
  $ZodCIDRv4.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cidrv42(params) {
  return _cidrv4(ZodCIDRv4, params);
}
var ZodCIDRv6 = /* @__PURE__ */ $constructor("ZodCIDRv6", (inst, def) => {
  $ZodCIDRv6.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cidrv62(params) {
  return _cidrv6(ZodCIDRv6, params);
}
var ZodBase64 = /* @__PURE__ */ $constructor("ZodBase64", (inst, def) => {
  $ZodBase64.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function base642(params) {
  return _base64(ZodBase64, params);
}
var ZodBase64URL = /* @__PURE__ */ $constructor("ZodBase64URL", (inst, def) => {
  $ZodBase64URL.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function base64url2(params) {
  return _base64url(ZodBase64URL, params);
}
var ZodE164 = /* @__PURE__ */ $constructor("ZodE164", (inst, def) => {
  $ZodE164.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function e1642(params) {
  return _e164(ZodE164, params);
}
var ZodJWT = /* @__PURE__ */ $constructor("ZodJWT", (inst, def) => {
  $ZodJWT.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function jwt(params) {
  return _jwt(ZodJWT, params);
}
var ZodCustomStringFormat = /* @__PURE__ */ $constructor("ZodCustomStringFormat", (inst, def) => {
  $ZodCustomStringFormat.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function stringFormat(format, fnOrRegex, _params = {}) {
  return _stringFormat(ZodCustomStringFormat, format, fnOrRegex, _params);
}
function hostname2(_params) {
  return _stringFormat(ZodCustomStringFormat, "hostname", regexes_exports.hostname, _params);
}
function hex2(_params) {
  return _stringFormat(ZodCustomStringFormat, "hex", regexes_exports.hex, _params);
}
function hash(alg, params) {
  const enc = params?.enc ?? "hex";
  const format = `${alg}_${enc}`;
  const regex = regexes_exports[format];
  if (!regex)
    throw new Error(`Unrecognized hash format: ${format}`);
  return _stringFormat(ZodCustomStringFormat, format, regex, params);
}
var ZodNumber = /* @__PURE__ */ $constructor("ZodNumber", (inst, def) => {
  $ZodNumber.init(inst, def);
  ZodType.init(inst, def);
  inst.gt = (value, params) => inst.check(_gt(value, params));
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.lt = (value, params) => inst.check(_lt(value, params));
  inst.lte = (value, params) => inst.check(_lte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  inst.int = (params) => inst.check(int(params));
  inst.safe = (params) => inst.check(int(params));
  inst.positive = (params) => inst.check(_gt(0, params));
  inst.nonnegative = (params) => inst.check(_gte(0, params));
  inst.negative = (params) => inst.check(_lt(0, params));
  inst.nonpositive = (params) => inst.check(_lte(0, params));
  inst.multipleOf = (value, params) => inst.check(_multipleOf(value, params));
  inst.step = (value, params) => inst.check(_multipleOf(value, params));
  inst.finite = () => inst;
  const bag = inst._zod.bag;
  inst.minValue = Math.max(bag.minimum ?? Number.NEGATIVE_INFINITY, bag.exclusiveMinimum ?? Number.NEGATIVE_INFINITY) ?? null;
  inst.maxValue = Math.min(bag.maximum ?? Number.POSITIVE_INFINITY, bag.exclusiveMaximum ?? Number.POSITIVE_INFINITY) ?? null;
  inst.isInt = (bag.format ?? "").includes("int") || Number.isSafeInteger(bag.multipleOf ?? 0.5);
  inst.isFinite = true;
  inst.format = bag.format ?? null;
});
function number2(params) {
  return _number(ZodNumber, params);
}
var ZodNumberFormat = /* @__PURE__ */ $constructor("ZodNumberFormat", (inst, def) => {
  $ZodNumberFormat.init(inst, def);
  ZodNumber.init(inst, def);
});
function int(params) {
  return _int(ZodNumberFormat, params);
}
function float32(params) {
  return _float32(ZodNumberFormat, params);
}
function float64(params) {
  return _float64(ZodNumberFormat, params);
}
function int32(params) {
  return _int32(ZodNumberFormat, params);
}
function uint32(params) {
  return _uint32(ZodNumberFormat, params);
}
var ZodBoolean = /* @__PURE__ */ $constructor("ZodBoolean", (inst, def) => {
  $ZodBoolean.init(inst, def);
  ZodType.init(inst, def);
});
function boolean2(params) {
  return _boolean(ZodBoolean, params);
}
var ZodBigInt = /* @__PURE__ */ $constructor("ZodBigInt", (inst, def) => {
  $ZodBigInt.init(inst, def);
  ZodType.init(inst, def);
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.gt = (value, params) => inst.check(_gt(value, params));
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.lt = (value, params) => inst.check(_lt(value, params));
  inst.lte = (value, params) => inst.check(_lte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  inst.positive = (params) => inst.check(_gt(BigInt(0), params));
  inst.negative = (params) => inst.check(_lt(BigInt(0), params));
  inst.nonpositive = (params) => inst.check(_lte(BigInt(0), params));
  inst.nonnegative = (params) => inst.check(_gte(BigInt(0), params));
  inst.multipleOf = (value, params) => inst.check(_multipleOf(value, params));
  const bag = inst._zod.bag;
  inst.minValue = bag.minimum ?? null;
  inst.maxValue = bag.maximum ?? null;
  inst.format = bag.format ?? null;
});
function bigint2(params) {
  return _bigint(ZodBigInt, params);
}
var ZodBigIntFormat = /* @__PURE__ */ $constructor("ZodBigIntFormat", (inst, def) => {
  $ZodBigIntFormat.init(inst, def);
  ZodBigInt.init(inst, def);
});
function int64(params) {
  return _int64(ZodBigIntFormat, params);
}
function uint64(params) {
  return _uint64(ZodBigIntFormat, params);
}
var ZodSymbol = /* @__PURE__ */ $constructor("ZodSymbol", (inst, def) => {
  $ZodSymbol.init(inst, def);
  ZodType.init(inst, def);
});
function symbol15(params) {
  return _symbol(ZodSymbol, params);
}
var ZodUndefined = /* @__PURE__ */ $constructor("ZodUndefined", (inst, def) => {
  $ZodUndefined.init(inst, def);
  ZodType.init(inst, def);
});
function _undefined3(params) {
  return _undefined2(ZodUndefined, params);
}
var ZodNull = /* @__PURE__ */ $constructor("ZodNull", (inst, def) => {
  $ZodNull.init(inst, def);
  ZodType.init(inst, def);
});
function _null3(params) {
  return _null2(ZodNull, params);
}
var ZodAny = /* @__PURE__ */ $constructor("ZodAny", (inst, def) => {
  $ZodAny.init(inst, def);
  ZodType.init(inst, def);
});
function any() {
  return _any(ZodAny);
}
var ZodUnknown = /* @__PURE__ */ $constructor("ZodUnknown", (inst, def) => {
  $ZodUnknown.init(inst, def);
  ZodType.init(inst, def);
});
function unknown() {
  return _unknown(ZodUnknown);
}
var ZodNever = /* @__PURE__ */ $constructor("ZodNever", (inst, def) => {
  $ZodNever.init(inst, def);
  ZodType.init(inst, def);
});
function never(params) {
  return _never(ZodNever, params);
}
var ZodVoid = /* @__PURE__ */ $constructor("ZodVoid", (inst, def) => {
  $ZodVoid.init(inst, def);
  ZodType.init(inst, def);
});
function _void2(params) {
  return _void(ZodVoid, params);
}
var ZodDate = /* @__PURE__ */ $constructor("ZodDate", (inst, def) => {
  $ZodDate.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  const c = inst._zod.bag;
  inst.minDate = c.minimum ? new Date(c.minimum) : null;
  inst.maxDate = c.maximum ? new Date(c.maximum) : null;
});
function date3(params) {
  return _date(ZodDate, params);
}
var ZodArray = /* @__PURE__ */ $constructor("ZodArray", (inst, def) => {
  $ZodArray.init(inst, def);
  ZodType.init(inst, def);
  inst.element = def.element;
  inst.min = (minLength, params) => inst.check(_minLength(minLength, params));
  inst.nonempty = (params) => inst.check(_minLength(1, params));
  inst.max = (maxLength, params) => inst.check(_maxLength(maxLength, params));
  inst.length = (len, params) => inst.check(_length(len, params));
  inst.unwrap = () => inst.element;
});
function array(element, params) {
  return _array(ZodArray, element, params);
}
function keyof(schema) {
  const shape = schema._zod.def.shape;
  return _enum2(Object.keys(shape));
}
var ZodObject = /* @__PURE__ */ $constructor("ZodObject", (inst, def) => {
  $ZodObjectJIT.init(inst, def);
  ZodType.init(inst, def);
  util_exports.defineLazy(inst, "shape", () => def.shape);
  inst.keyof = () => _enum2(Object.keys(inst._zod.def.shape));
  inst.catchall = (catchall) => inst.clone({ ...inst._zod.def, catchall });
  inst.passthrough = () => inst.clone({ ...inst._zod.def, catchall: unknown() });
  inst.loose = () => inst.clone({ ...inst._zod.def, catchall: unknown() });
  inst.strict = () => inst.clone({ ...inst._zod.def, catchall: never() });
  inst.strip = () => inst.clone({ ...inst._zod.def, catchall: void 0 });
  inst.extend = (incoming) => {
    return util_exports.extend(inst, incoming);
  };
  inst.safeExtend = (incoming) => {
    return util_exports.safeExtend(inst, incoming);
  };
  inst.merge = (other) => util_exports.merge(inst, other);
  inst.pick = (mask) => util_exports.pick(inst, mask);
  inst.omit = (mask) => util_exports.omit(inst, mask);
  inst.partial = (...args) => util_exports.partial(ZodOptional, inst, args[0]);
  inst.required = (...args) => util_exports.required(ZodNonOptional, inst, args[0]);
});
function object(shape, params) {
  const def = {
    type: "object",
    get shape() {
      util_exports.assignProp(this, "shape", shape ? util_exports.objectClone(shape) : {});
      return this.shape;
    },
    ...util_exports.normalizeParams(params)
  };
  return new ZodObject(def);
}
function strictObject(shape, params) {
  return new ZodObject({
    type: "object",
    get shape() {
      util_exports.assignProp(this, "shape", util_exports.objectClone(shape));
      return this.shape;
    },
    catchall: never(),
    ...util_exports.normalizeParams(params)
  });
}
function looseObject(shape, params) {
  return new ZodObject({
    type: "object",
    get shape() {
      util_exports.assignProp(this, "shape", util_exports.objectClone(shape));
      return this.shape;
    },
    catchall: unknown(),
    ...util_exports.normalizeParams(params)
  });
}
var ZodUnion = /* @__PURE__ */ $constructor("ZodUnion", (inst, def) => {
  $ZodUnion.init(inst, def);
  ZodType.init(inst, def);
  inst.options = def.options;
});
function union(options, params) {
  return new ZodUnion({
    type: "union",
    options,
    ...util_exports.normalizeParams(params)
  });
}
var ZodDiscriminatedUnion = /* @__PURE__ */ $constructor("ZodDiscriminatedUnion", (inst, def) => {
  ZodUnion.init(inst, def);
  $ZodDiscriminatedUnion.init(inst, def);
});
function discriminatedUnion(discriminator, options, params) {
  return new ZodDiscriminatedUnion({
    type: "union",
    options,
    discriminator,
    ...util_exports.normalizeParams(params)
  });
}
var ZodIntersection = /* @__PURE__ */ $constructor("ZodIntersection", (inst, def) => {
  $ZodIntersection.init(inst, def);
  ZodType.init(inst, def);
});
function intersection(left, right) {
  return new ZodIntersection({
    type: "intersection",
    left,
    right
  });
}
var ZodTuple = /* @__PURE__ */ $constructor("ZodTuple", (inst, def) => {
  $ZodTuple.init(inst, def);
  ZodType.init(inst, def);
  inst.rest = (rest) => inst.clone({
    ...inst._zod.def,
    rest
  });
});
function tuple(items, _paramsOrRest, _params) {
  const hasRest = _paramsOrRest instanceof $ZodType;
  const params = hasRest ? _params : _paramsOrRest;
  const rest = hasRest ? _paramsOrRest : null;
  return new ZodTuple({
    type: "tuple",
    items,
    rest,
    ...util_exports.normalizeParams(params)
  });
}
var ZodRecord = /* @__PURE__ */ $constructor("ZodRecord", (inst, def) => {
  $ZodRecord.init(inst, def);
  ZodType.init(inst, def);
  inst.keyType = def.keyType;
  inst.valueType = def.valueType;
});
function record(keyType, valueType, params) {
  return new ZodRecord({
    type: "record",
    keyType,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
function partialRecord(keyType, valueType, params) {
  const k = clone(keyType);
  k._zod.values = void 0;
  return new ZodRecord({
    type: "record",
    keyType: k,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodMap = /* @__PURE__ */ $constructor("ZodMap", (inst, def) => {
  $ZodMap.init(inst, def);
  ZodType.init(inst, def);
  inst.keyType = def.keyType;
  inst.valueType = def.valueType;
});
function map(keyType, valueType, params) {
  return new ZodMap({
    type: "map",
    keyType,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodSet = /* @__PURE__ */ $constructor("ZodSet", (inst, def) => {
  $ZodSet.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (...args) => inst.check(_minSize(...args));
  inst.nonempty = (params) => inst.check(_minSize(1, params));
  inst.max = (...args) => inst.check(_maxSize(...args));
  inst.size = (...args) => inst.check(_size(...args));
});
function set(valueType, params) {
  return new ZodSet({
    type: "set",
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodEnum = /* @__PURE__ */ $constructor("ZodEnum", (inst, def) => {
  $ZodEnum.init(inst, def);
  ZodType.init(inst, def);
  inst.enum = def.entries;
  inst.options = Object.values(def.entries);
  const keys = new Set(Object.keys(def.entries));
  inst.extract = (values, params) => {
    const newEntries = {};
    for (const value of values) {
      if (keys.has(value)) {
        newEntries[value] = def.entries[value];
      } else
        throw new Error(`Key ${value} not found in enum`);
    }
    return new ZodEnum({
      ...def,
      checks: [],
      ...util_exports.normalizeParams(params),
      entries: newEntries
    });
  };
  inst.exclude = (values, params) => {
    const newEntries = { ...def.entries };
    for (const value of values) {
      if (keys.has(value)) {
        delete newEntries[value];
      } else
        throw new Error(`Key ${value} not found in enum`);
    }
    return new ZodEnum({
      ...def,
      checks: [],
      ...util_exports.normalizeParams(params),
      entries: newEntries
    });
  };
});
function _enum2(values, params) {
  const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;
  return new ZodEnum({
    type: "enum",
    entries,
    ...util_exports.normalizeParams(params)
  });
}
function nativeEnum(entries, params) {
  return new ZodEnum({
    type: "enum",
    entries,
    ...util_exports.normalizeParams(params)
  });
}
var ZodLiteral = /* @__PURE__ */ $constructor("ZodLiteral", (inst, def) => {
  $ZodLiteral.init(inst, def);
  ZodType.init(inst, def);
  inst.values = new Set(def.values);
  Object.defineProperty(inst, "value", {
    get() {
      if (def.values.length > 1) {
        throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");
      }
      return def.values[0];
    }
  });
});
function literal(value, params) {
  return new ZodLiteral({
    type: "literal",
    values: Array.isArray(value) ? value : [value],
    ...util_exports.normalizeParams(params)
  });
}
var ZodFile = /* @__PURE__ */ $constructor("ZodFile", (inst, def) => {
  $ZodFile.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (size, params) => inst.check(_minSize(size, params));
  inst.max = (size, params) => inst.check(_maxSize(size, params));
  inst.mime = (types2, params) => inst.check(_mime(Array.isArray(types2) ? types2 : [types2], params));
});
function file(params) {
  return _file(ZodFile, params);
}
var ZodTransform = /* @__PURE__ */ $constructor("ZodTransform", (inst, def) => {
  $ZodTransform.init(inst, def);
  ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (_ctx.direction === "backward") {
      throw new $ZodEncodeError(inst.constructor.name);
    }
    payload.addIssue = (issue2) => {
      if (typeof issue2 === "string") {
        payload.issues.push(util_exports.issue(issue2, payload.value, def));
      } else {
        const _issue = issue2;
        if (_issue.fatal)
          _issue.continue = false;
        _issue.code ?? (_issue.code = "custom");
        _issue.input ?? (_issue.input = payload.value);
        _issue.inst ?? (_issue.inst = inst);
        payload.issues.push(util_exports.issue(_issue));
      }
    };
    const output = def.transform(payload.value, payload);
    if (output instanceof Promise) {
      return output.then((output2) => {
        payload.value = output2;
        return payload;
      });
    }
    payload.value = output;
    return payload;
  };
});
function transform(fn) {
  return new ZodTransform({
    type: "transform",
    transform: fn
  });
}
var ZodOptional = /* @__PURE__ */ $constructor("ZodOptional", (inst, def) => {
  $ZodOptional.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function optional(innerType) {
  return new ZodOptional({
    type: "optional",
    innerType
  });
}
var ZodNullable = /* @__PURE__ */ $constructor("ZodNullable", (inst, def) => {
  $ZodNullable.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function nullable(innerType) {
  return new ZodNullable({
    type: "nullable",
    innerType
  });
}
function nullish2(innerType) {
  return optional(nullable(innerType));
}
var ZodDefault = /* @__PURE__ */ $constructor("ZodDefault", (inst, def) => {
  $ZodDefault.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
  inst.removeDefault = inst.unwrap;
});
function _default2(innerType, defaultValue) {
  return new ZodDefault({
    type: "default",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : util_exports.shallowClone(defaultValue);
    }
  });
}
var ZodPrefault = /* @__PURE__ */ $constructor("ZodPrefault", (inst, def) => {
  $ZodPrefault.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function prefault(innerType, defaultValue) {
  return new ZodPrefault({
    type: "prefault",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : util_exports.shallowClone(defaultValue);
    }
  });
}
var ZodNonOptional = /* @__PURE__ */ $constructor("ZodNonOptional", (inst, def) => {
  $ZodNonOptional.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function nonoptional(innerType, params) {
  return new ZodNonOptional({
    type: "nonoptional",
    innerType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodSuccess = /* @__PURE__ */ $constructor("ZodSuccess", (inst, def) => {
  $ZodSuccess.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function success(innerType) {
  return new ZodSuccess({
    type: "success",
    innerType
  });
}
var ZodCatch = /* @__PURE__ */ $constructor("ZodCatch", (inst, def) => {
  $ZodCatch.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
  inst.removeCatch = inst.unwrap;
});
function _catch2(innerType, catchValue) {
  return new ZodCatch({
    type: "catch",
    innerType,
    catchValue: typeof catchValue === "function" ? catchValue : () => catchValue
  });
}
var ZodNaN = /* @__PURE__ */ $constructor("ZodNaN", (inst, def) => {
  $ZodNaN.init(inst, def);
  ZodType.init(inst, def);
});
function nan(params) {
  return _nan(ZodNaN, params);
}
var ZodPipe = /* @__PURE__ */ $constructor("ZodPipe", (inst, def) => {
  $ZodPipe.init(inst, def);
  ZodType.init(inst, def);
  inst.in = def.in;
  inst.out = def.out;
});
function pipe(in_, out) {
  return new ZodPipe({
    type: "pipe",
    in: in_,
    out
    // ...util.normalizeParams(params),
  });
}
var ZodCodec = /* @__PURE__ */ $constructor("ZodCodec", (inst, def) => {
  ZodPipe.init(inst, def);
  $ZodCodec.init(inst, def);
});
function codec(in_, out, params) {
  return new ZodCodec({
    type: "pipe",
    in: in_,
    out,
    transform: params.decode,
    reverseTransform: params.encode
  });
}
var ZodReadonly = /* @__PURE__ */ $constructor("ZodReadonly", (inst, def) => {
  $ZodReadonly.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function readonly(innerType) {
  return new ZodReadonly({
    type: "readonly",
    innerType
  });
}
var ZodTemplateLiteral = /* @__PURE__ */ $constructor("ZodTemplateLiteral", (inst, def) => {
  $ZodTemplateLiteral.init(inst, def);
  ZodType.init(inst, def);
});
function templateLiteral(parts, params) {
  return new ZodTemplateLiteral({
    type: "template_literal",
    parts,
    ...util_exports.normalizeParams(params)
  });
}
var ZodLazy = /* @__PURE__ */ $constructor("ZodLazy", (inst, def) => {
  $ZodLazy.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.getter();
});
function lazy(getter) {
  return new ZodLazy({
    type: "lazy",
    getter
  });
}
var ZodPromise = /* @__PURE__ */ $constructor("ZodPromise", (inst, def) => {
  $ZodPromise.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function promise(innerType) {
  return new ZodPromise({
    type: "promise",
    innerType
  });
}
var ZodFunction = /* @__PURE__ */ $constructor("ZodFunction", (inst, def) => {
  $ZodFunction.init(inst, def);
  ZodType.init(inst, def);
});
function _function(params) {
  return new ZodFunction({
    type: "function",
    input: Array.isArray(params?.input) ? tuple(params?.input) : params?.input ?? array(unknown()),
    output: params?.output ?? unknown()
  });
}
var ZodCustom = /* @__PURE__ */ $constructor("ZodCustom", (inst, def) => {
  $ZodCustom.init(inst, def);
  ZodType.init(inst, def);
});
function check(fn) {
  const ch = new $ZodCheck({
    check: "custom"
    // ...util.normalizeParams(params),
  });
  ch._zod.check = fn;
  return ch;
}
function custom(fn, _params) {
  return _custom(ZodCustom, fn ?? (() => true), _params);
}
function refine(fn, _params = {}) {
  return _refine(ZodCustom, fn, _params);
}
function superRefine(fn) {
  return _superRefine(fn);
}
function _instanceof(cls, params = {
  error: `Input not instance of ${cls.name}`
}) {
  const inst = new ZodCustom({
    type: "custom",
    check: "custom",
    fn: (data) => data instanceof cls,
    abort: true,
    ...util_exports.normalizeParams(params)
  });
  inst._zod.bag.Class = cls;
  return inst;
}
var stringbool = (...args) => _stringbool({
  Codec: ZodCodec,
  Boolean: ZodBoolean,
  String: ZodString
}, ...args);
function json(params) {
  const jsonSchema2 = lazy(() => {
    return union([string2(params), number2(), boolean2(), _null3(), array(jsonSchema2), record(string2(), jsonSchema2)]);
  });
  return jsonSchema2;
}
function preprocess(fn, schema) {
  return pipe(transform(fn), schema);
}

// node_modules/zod/v4/classic/compat.js
var ZodIssueCode = {
  invalid_type: "invalid_type",
  too_big: "too_big",
  too_small: "too_small",
  invalid_format: "invalid_format",
  not_multiple_of: "not_multiple_of",
  unrecognized_keys: "unrecognized_keys",
  invalid_union: "invalid_union",
  invalid_key: "invalid_key",
  invalid_element: "invalid_element",
  invalid_value: "invalid_value",
  custom: "custom"
};
function setErrorMap(map2) {
  config({
    customError: map2
  });
}
function getErrorMap() {
  return config().customError;
}
var ZodFirstPartyTypeKind;
/* @__PURE__ */ (function(ZodFirstPartyTypeKind3) {
})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));

// node_modules/zod/v4/classic/coerce.js
var coerce_exports = {};
__export(coerce_exports, {
  bigint: () => bigint3,
  boolean: () => boolean3,
  date: () => date4,
  number: () => number3,
  string: () => string3
});
function string3(params) {
  return _coercedString(ZodString, params);
}
function number3(params) {
  return _coercedNumber(ZodNumber, params);
}
function boolean3(params) {
  return _coercedBoolean(ZodBoolean, params);
}
function bigint3(params) {
  return _coercedBigint(ZodBigInt, params);
}
function date4(params) {
  return _coercedDate(ZodDate, params);
}

// node_modules/zod/v4/classic/external.js
config(en_default());

// node_modules/zod/v3/helpers/util.js
var util;
(function(util2) {
  util2.assertEqual = (_) => {
  };
  function assertIs2(_arg) {
  }
  util2.assertIs = assertIs2;
  function assertNever2(_x) {
    throw new Error();
  }
  util2.assertNever = assertNever2;
  util2.arrayToEnum = (items) => {
    const obj = {};
    for (const item of items) {
      obj[item] = item;
    }
    return obj;
  };
  util2.getValidEnumValues = (obj) => {
    const validKeys = util2.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== "number");
    const filtered = {};
    for (const k of validKeys) {
      filtered[k] = obj[k];
    }
    return util2.objectValues(filtered);
  };
  util2.objectValues = (obj) => {
    return util2.objectKeys(obj).map(function(e2) {
      return obj[e2];
    });
  };
  util2.objectKeys = typeof Object.keys === "function" ? (obj) => Object.keys(obj) : (object3) => {
    const keys = [];
    for (const key in object3) {
      if (Object.prototype.hasOwnProperty.call(object3, key)) {
        keys.push(key);
      }
    }
    return keys;
  };
  util2.find = (arr, checker) => {
    for (const item of arr) {
      if (checker(item))
        return item;
    }
    return void 0;
  };
  util2.isInteger = typeof Number.isInteger === "function" ? (val) => Number.isInteger(val) : (val) => typeof val === "number" && Number.isFinite(val) && Math.floor(val) === val;
  function joinValues2(array2, separator = " | ") {
    return array2.map((val) => typeof val === "string" ? `'${val}'` : val).join(separator);
  }
  util2.joinValues = joinValues2;
  util2.jsonStringifyReplacer = (_, value) => {
    if (typeof value === "bigint") {
      return value.toString();
    }
    return value;
  };
})(util || (util = {}));
var objectUtil;
(function(objectUtil2) {
  objectUtil2.mergeShapes = (first, second) => {
    return {
      ...first,
      ...second
      // second overwrites first
    };
  };
})(objectUtil || (objectUtil = {}));
var ZodParsedType = util.arrayToEnum([
  "string",
  "nan",
  "number",
  "integer",
  "float",
  "boolean",
  "date",
  "bigint",
  "symbol",
  "function",
  "undefined",
  "null",
  "array",
  "object",
  "unknown",
  "promise",
  "void",
  "never",
  "map",
  "set"
]);
var getParsedType2 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "undefined":
      return ZodParsedType.undefined;
    case "string":
      return ZodParsedType.string;
    case "number":
      return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;
    case "boolean":
      return ZodParsedType.boolean;
    case "function":
      return ZodParsedType.function;
    case "bigint":
      return ZodParsedType.bigint;
    case "symbol":
      return ZodParsedType.symbol;
    case "object":
      if (Array.isArray(data)) {
        return ZodParsedType.array;
      }
      if (data === null) {
        return ZodParsedType.null;
      }
      if (data.then && typeof data.then === "function" && data.catch && typeof data.catch === "function") {
        return ZodParsedType.promise;
      }
      if (typeof Map !== "undefined" && data instanceof Map) {
        return ZodParsedType.map;
      }
      if (typeof Set !== "undefined" && data instanceof Set) {
        return ZodParsedType.set;
      }
      if (typeof Date !== "undefined" && data instanceof Date) {
        return ZodParsedType.date;
      }
      return ZodParsedType.object;
    default:
      return ZodParsedType.unknown;
  }
};

// node_modules/zod/v3/ZodError.js
var ZodIssueCode2 = util.arrayToEnum([
  "invalid_type",
  "invalid_literal",
  "custom",
  "invalid_union",
  "invalid_union_discriminator",
  "invalid_enum_value",
  "unrecognized_keys",
  "invalid_arguments",
  "invalid_return_type",
  "invalid_date",
  "invalid_string",
  "too_small",
  "too_big",
  "invalid_intersection_types",
  "not_multiple_of",
  "not_finite"
]);
var ZodError2 = class _ZodError extends Error {
  get errors() {
    return this.issues;
  }
  constructor(issues) {
    super();
    this.issues = [];
    this.addIssue = (sub) => {
      this.issues = [...this.issues, sub];
    };
    this.addIssues = (subs = []) => {
      this.issues = [...this.issues, ...subs];
    };
    const actualProto = new.target.prototype;
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(this, actualProto);
    } else {
      this.__proto__ = actualProto;
    }
    this.name = "ZodError";
    this.issues = issues;
  }
  format(_mapper) {
    const mapper = _mapper || function(issue2) {
      return issue2.message;
    };
    const fieldErrors = { _errors: [] };
    const processError = (error45) => {
      for (const issue2 of error45.issues) {
        if (issue2.code === "invalid_union") {
          issue2.unionErrors.map(processError);
        } else if (issue2.code === "invalid_return_type") {
          processError(issue2.returnTypeError);
        } else if (issue2.code === "invalid_arguments") {
          processError(issue2.argumentsError);
        } else if (issue2.path.length === 0) {
          fieldErrors._errors.push(mapper(issue2));
        } else {
          let curr = fieldErrors;
          let i2 = 0;
          while (i2 < issue2.path.length) {
            const el = issue2.path[i2];
            const terminal = i2 === issue2.path.length - 1;
            if (!terminal) {
              curr[el] = curr[el] || { _errors: [] };
            } else {
              curr[el] = curr[el] || { _errors: [] };
              curr[el]._errors.push(mapper(issue2));
            }
            curr = curr[el];
            i2++;
          }
        }
      }
    };
    processError(this);
    return fieldErrors;
  }
  static assert(value) {
    if (!(value instanceof _ZodError)) {
      throw new Error(`Not a ZodError: ${value}`);
    }
  }
  toString() {
    return this.message;
  }
  get message() {
    return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);
  }
  get isEmpty() {
    return this.issues.length === 0;
  }
  flatten(mapper = (issue2) => issue2.message) {
    const fieldErrors = {};
    const formErrors = [];
    for (const sub of this.issues) {
      if (sub.path.length > 0) {
        const firstEl = sub.path[0];
        fieldErrors[firstEl] = fieldErrors[firstEl] || [];
        fieldErrors[firstEl].push(mapper(sub));
      } else {
        formErrors.push(mapper(sub));
      }
    }
    return { formErrors, fieldErrors };
  }
  get formErrors() {
    return this.flatten();
  }
};
ZodError2.create = (issues) => {
  const error45 = new ZodError2(issues);
  return error45;
};

// node_modules/zod/v3/locales/en.js
var errorMap = (issue2, _ctx) => {
  let message;
  switch (issue2.code) {
    case ZodIssueCode2.invalid_type:
      if (issue2.received === ZodParsedType.undefined) {
        message = "Required";
      } else {
        message = `Expected ${issue2.expected}, received ${issue2.received}`;
      }
      break;
    case ZodIssueCode2.invalid_literal:
      message = `Invalid literal value, expected ${JSON.stringify(issue2.expected, util.jsonStringifyReplacer)}`;
      break;
    case ZodIssueCode2.unrecognized_keys:
      message = `Unrecognized key(s) in object: ${util.joinValues(issue2.keys, ", ")}`;
      break;
    case ZodIssueCode2.invalid_union:
      message = `Invalid input`;
      break;
    case ZodIssueCode2.invalid_union_discriminator:
      message = `Invalid discriminator value. Expected ${util.joinValues(issue2.options)}`;
      break;
    case ZodIssueCode2.invalid_enum_value:
      message = `Invalid enum value. Expected ${util.joinValues(issue2.options)}, received '${issue2.received}'`;
      break;
    case ZodIssueCode2.invalid_arguments:
      message = `Invalid function arguments`;
      break;
    case ZodIssueCode2.invalid_return_type:
      message = `Invalid function return type`;
      break;
    case ZodIssueCode2.invalid_date:
      message = `Invalid date`;
      break;
    case ZodIssueCode2.invalid_string:
      if (typeof issue2.validation === "object") {
        if ("includes" in issue2.validation) {
          message = `Invalid input: must include "${issue2.validation.includes}"`;
          if (typeof issue2.validation.position === "number") {
            message = `${message} at one or more positions greater than or equal to ${issue2.validation.position}`;
          }
        } else if ("startsWith" in issue2.validation) {
          message = `Invalid input: must start with "${issue2.validation.startsWith}"`;
        } else if ("endsWith" in issue2.validation) {
          message = `Invalid input: must end with "${issue2.validation.endsWith}"`;
        } else {
          util.assertNever(issue2.validation);
        }
      } else if (issue2.validation !== "regex") {
        message = `Invalid ${issue2.validation}`;
      } else {
        message = "Invalid";
      }
      break;
    case ZodIssueCode2.too_small:
      if (issue2.type === "array")
        message = `Array must contain ${issue2.exact ? "exactly" : issue2.inclusive ? `at least` : `more than`} ${issue2.minimum} element(s)`;
      else if (issue2.type === "string")
        message = `String must contain ${issue2.exact ? "exactly" : issue2.inclusive ? `at least` : `over`} ${issue2.minimum} character(s)`;
      else if (issue2.type === "number")
        message = `Number must be ${issue2.exact ? `exactly equal to ` : issue2.inclusive ? `greater than or equal to ` : `greater than `}${issue2.minimum}`;
      else if (issue2.type === "bigint")
        message = `Number must be ${issue2.exact ? `exactly equal to ` : issue2.inclusive ? `greater than or equal to ` : `greater than `}${issue2.minimum}`;
      else if (issue2.type === "date")
        message = `Date must be ${issue2.exact ? `exactly equal to ` : issue2.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue2.minimum))}`;
      else
        message = "Invalid input";
      break;
    case ZodIssueCode2.too_big:
      if (issue2.type === "array")
        message = `Array must contain ${issue2.exact ? `exactly` : issue2.inclusive ? `at most` : `less than`} ${issue2.maximum} element(s)`;
      else if (issue2.type === "string")
        message = `String must contain ${issue2.exact ? `exactly` : issue2.inclusive ? `at most` : `under`} ${issue2.maximum} character(s)`;
      else if (issue2.type === "number")
        message = `Number must be ${issue2.exact ? `exactly` : issue2.inclusive ? `less than or equal to` : `less than`} ${issue2.maximum}`;
      else if (issue2.type === "bigint")
        message = `BigInt must be ${issue2.exact ? `exactly` : issue2.inclusive ? `less than or equal to` : `less than`} ${issue2.maximum}`;
      else if (issue2.type === "date")
        message = `Date must be ${issue2.exact ? `exactly` : issue2.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue2.maximum))}`;
      else
        message = "Invalid input";
      break;
    case ZodIssueCode2.custom:
      message = `Invalid input`;
      break;
    case ZodIssueCode2.invalid_intersection_types:
      message = `Intersection results could not be merged`;
      break;
    case ZodIssueCode2.not_multiple_of:
      message = `Number must be a multiple of ${issue2.multipleOf}`;
      break;
    case ZodIssueCode2.not_finite:
      message = "Number must be finite";
      break;
    default:
      message = _ctx.defaultError;
      util.assertNever(issue2);
  }
  return { message };
};
var en_default2 = errorMap;

// node_modules/zod/v3/errors.js
var overrideErrorMap = en_default2;
function getErrorMap2() {
  return overrideErrorMap;
}

// node_modules/zod/v3/helpers/parseUtil.js
var makeIssue = (params) => {
  const { data, path, errorMaps, issueData } = params;
  const fullPath = [...path, ...issueData.path || []];
  const fullIssue = {
    ...issueData,
    path: fullPath
  };
  if (issueData.message !== void 0) {
    return {
      ...issueData,
      path: fullPath,
      message: issueData.message
    };
  }
  let errorMessage = "";
  const maps = errorMaps.filter((m) => !!m).slice().reverse();
  for (const map2 of maps) {
    errorMessage = map2(fullIssue, { data, defaultError: errorMessage }).message;
  }
  return {
    ...issueData,
    path: fullPath,
    message: errorMessage
  };
};
function addIssueToContext(ctx, issueData) {
  const overrideMap = getErrorMap2();
  const issue2 = makeIssue({
    issueData,
    data: ctx.data,
    path: ctx.path,
    errorMaps: [
      ctx.common.contextualErrorMap,
      // contextual error map is first priority
      ctx.schemaErrorMap,
      // then schema-bound map if available
      overrideMap,
      // then global override map
      overrideMap === en_default2 ? void 0 : en_default2
      // then global default map
    ].filter((x) => !!x)
  });
  ctx.common.issues.push(issue2);
}
var ParseStatus = class _ParseStatus {
  constructor() {
    this.value = "valid";
  }
  dirty() {
    if (this.value === "valid")
      this.value = "dirty";
  }
  abort() {
    if (this.value !== "aborted")
      this.value = "aborted";
  }
  static mergeArray(status, results) {
    const arrayValue = [];
    for (const s2 of results) {
      if (s2.status === "aborted")
        return INVALID;
      if (s2.status === "dirty")
        status.dirty();
      arrayValue.push(s2.value);
    }
    return { status: status.value, value: arrayValue };
  }
  static async mergeObjectAsync(status, pairs) {
    const syncPairs = [];
    for (const pair of pairs) {
      const key = await pair.key;
      const value = await pair.value;
      syncPairs.push({
        key,
        value
      });
    }
    return _ParseStatus.mergeObjectSync(status, syncPairs);
  }
  static mergeObjectSync(status, pairs) {
    const finalObject = {};
    for (const pair of pairs) {
      const { key, value } = pair;
      if (key.status === "aborted")
        return INVALID;
      if (value.status === "aborted")
        return INVALID;
      if (key.status === "dirty")
        status.dirty();
      if (value.status === "dirty")
        status.dirty();
      if (key.value !== "__proto__" && (typeof value.value !== "undefined" || pair.alwaysSet)) {
        finalObject[key.value] = value.value;
      }
    }
    return { status: status.value, value: finalObject };
  }
};
var INVALID = Object.freeze({
  status: "aborted"
});
var DIRTY = (value) => ({ status: "dirty", value });
var OK = (value) => ({ status: "valid", value });
var isAborted = (x) => x.status === "aborted";
var isDirty = (x) => x.status === "dirty";
var isValid = (x) => x.status === "valid";
var isAsync = (x) => typeof Promise !== "undefined" && x instanceof Promise;

// node_modules/zod/v3/helpers/errorUtil.js
var errorUtil;
(function(errorUtil2) {
  errorUtil2.errToObj = (message) => typeof message === "string" ? { message } : message || {};
  errorUtil2.toString = (message) => typeof message === "string" ? message : message?.message;
})(errorUtil || (errorUtil = {}));

// node_modules/zod/v3/types.js
var ParseInputLazyPath = class {
  constructor(parent, value, path, key) {
    this._cachedPath = [];
    this.parent = parent;
    this.data = value;
    this._path = path;
    this._key = key;
  }
  get path() {
    if (!this._cachedPath.length) {
      if (Array.isArray(this._key)) {
        this._cachedPath.push(...this._path, ...this._key);
      } else {
        this._cachedPath.push(...this._path, this._key);
      }
    }
    return this._cachedPath;
  }
};
var handleResult = (ctx, result) => {
  if (isValid(result)) {
    return { success: true, data: result.value };
  } else {
    if (!ctx.common.issues.length) {
      throw new Error("Validation failed but no issues detected.");
    }
    return {
      success: false,
      get error() {
        if (this._error)
          return this._error;
        const error45 = new ZodError2(ctx.common.issues);
        this._error = error45;
        return this._error;
      }
    };
  }
};
function processCreateParams(params) {
  if (!params)
    return {};
  const { errorMap: errorMap2, invalid_type_error, required_error, description } = params;
  if (errorMap2 && (invalid_type_error || required_error)) {
    throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
  }
  if (errorMap2)
    return { errorMap: errorMap2, description };
  const customMap = (iss, ctx) => {
    const { message } = params;
    if (iss.code === "invalid_enum_value") {
      return { message: message ?? ctx.defaultError };
    }
    if (typeof ctx.data === "undefined") {
      return { message: message ?? required_error ?? ctx.defaultError };
    }
    if (iss.code !== "invalid_type")
      return { message: ctx.defaultError };
    return { message: message ?? invalid_type_error ?? ctx.defaultError };
  };
  return { errorMap: customMap, description };
}
var ZodType2 = class {
  get description() {
    return this._def.description;
  }
  _getType(input) {
    return getParsedType2(input.data);
  }
  _getOrReturnCtx(input, ctx) {
    return ctx || {
      common: input.parent.common,
      data: input.data,
      parsedType: getParsedType2(input.data),
      schemaErrorMap: this._def.errorMap,
      path: input.path,
      parent: input.parent
    };
  }
  _processInputParams(input) {
    return {
      status: new ParseStatus(),
      ctx: {
        common: input.parent.common,
        data: input.data,
        parsedType: getParsedType2(input.data),
        schemaErrorMap: this._def.errorMap,
        path: input.path,
        parent: input.parent
      }
    };
  }
  _parseSync(input) {
    const result = this._parse(input);
    if (isAsync(result)) {
      throw new Error("Synchronous parse encountered promise.");
    }
    return result;
  }
  _parseAsync(input) {
    const result = this._parse(input);
    return Promise.resolve(result);
  }
  parse(data, params) {
    const result = this.safeParse(data, params);
    if (result.success)
      return result.data;
    throw result.error;
  }
  safeParse(data, params) {
    const ctx = {
      common: {
        issues: [],
        async: params?.async ?? false,
        contextualErrorMap: params?.errorMap
      },
      path: params?.path || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    const result = this._parseSync({ data, path: ctx.path, parent: ctx });
    return handleResult(ctx, result);
  }
  "~validate"(data) {
    const ctx = {
      common: {
        issues: [],
        async: !!this["~standard"].async
      },
      path: [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    if (!this["~standard"].async) {
      try {
        const result = this._parseSync({ data, path: [], parent: ctx });
        return isValid(result) ? {
          value: result.value
        } : {
          issues: ctx.common.issues
        };
      } catch (err) {
        if (err?.message?.toLowerCase()?.includes("encountered")) {
          this["~standard"].async = true;
        }
        ctx.common = {
          issues: [],
          async: true
        };
      }
    }
    return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result) ? {
      value: result.value
    } : {
      issues: ctx.common.issues
    });
  }
  async parseAsync(data, params) {
    const result = await this.safeParseAsync(data, params);
    if (result.success)
      return result.data;
    throw result.error;
  }
  async safeParseAsync(data, params) {
    const ctx = {
      common: {
        issues: [],
        contextualErrorMap: params?.errorMap,
        async: true
      },
      path: params?.path || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });
    const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));
    return handleResult(ctx, result);
  }
  refine(check2, message) {
    const getIssueProperties = (val) => {
      if (typeof message === "string" || typeof message === "undefined") {
        return { message };
      } else if (typeof message === "function") {
        return message(val);
      } else {
        return message;
      }
    };
    return this._refinement((val, ctx) => {
      const result = check2(val);
      const setError = () => ctx.addIssue({
        code: ZodIssueCode2.custom,
        ...getIssueProperties(val)
      });
      if (typeof Promise !== "undefined" && result instanceof Promise) {
        return result.then((data) => {
          if (!data) {
            setError();
            return false;
          } else {
            return true;
          }
        });
      }
      if (!result) {
        setError();
        return false;
      } else {
        return true;
      }
    });
  }
  refinement(check2, refinementData) {
    return this._refinement((val, ctx) => {
      if (!check2(val)) {
        ctx.addIssue(typeof refinementData === "function" ? refinementData(val, ctx) : refinementData);
        return false;
      } else {
        return true;
      }
    });
  }
  _refinement(refinement) {
    return new ZodEffects({
      schema: this,
      typeName: ZodFirstPartyTypeKind2.ZodEffects,
      effect: { type: "refinement", refinement }
    });
  }
  superRefine(refinement) {
    return this._refinement(refinement);
  }
  constructor(def) {
    this.spa = this.safeParseAsync;
    this._def = def;
    this.parse = this.parse.bind(this);
    this.safeParse = this.safeParse.bind(this);
    this.parseAsync = this.parseAsync.bind(this);
    this.safeParseAsync = this.safeParseAsync.bind(this);
    this.spa = this.spa.bind(this);
    this.refine = this.refine.bind(this);
    this.refinement = this.refinement.bind(this);
    this.superRefine = this.superRefine.bind(this);
    this.optional = this.optional.bind(this);
    this.nullable = this.nullable.bind(this);
    this.nullish = this.nullish.bind(this);
    this.array = this.array.bind(this);
    this.promise = this.promise.bind(this);
    this.or = this.or.bind(this);
    this.and = this.and.bind(this);
    this.transform = this.transform.bind(this);
    this.brand = this.brand.bind(this);
    this.default = this.default.bind(this);
    this.catch = this.catch.bind(this);
    this.describe = this.describe.bind(this);
    this.pipe = this.pipe.bind(this);
    this.readonly = this.readonly.bind(this);
    this.isNullable = this.isNullable.bind(this);
    this.isOptional = this.isOptional.bind(this);
    this["~standard"] = {
      version: 1,
      vendor: "zod",
      validate: (data) => this["~validate"](data)
    };
  }
  optional() {
    return ZodOptional2.create(this, this._def);
  }
  nullable() {
    return ZodNullable2.create(this, this._def);
  }
  nullish() {
    return this.nullable().optional();
  }
  array() {
    return ZodArray2.create(this);
  }
  promise() {
    return ZodPromise2.create(this, this._def);
  }
  or(option) {
    return ZodUnion2.create([this, option], this._def);
  }
  and(incoming) {
    return ZodIntersection2.create(this, incoming, this._def);
  }
  transform(transform2) {
    return new ZodEffects({
      ...processCreateParams(this._def),
      schema: this,
      typeName: ZodFirstPartyTypeKind2.ZodEffects,
      effect: { type: "transform", transform: transform2 }
    });
  }
  default(def) {
    const defaultValueFunc = typeof def === "function" ? def : () => def;
    return new ZodDefault2({
      ...processCreateParams(this._def),
      innerType: this,
      defaultValue: defaultValueFunc,
      typeName: ZodFirstPartyTypeKind2.ZodDefault
    });
  }
  brand() {
    return new ZodBranded({
      typeName: ZodFirstPartyTypeKind2.ZodBranded,
      type: this,
      ...processCreateParams(this._def)
    });
  }
  catch(def) {
    const catchValueFunc = typeof def === "function" ? def : () => def;
    return new ZodCatch2({
      ...processCreateParams(this._def),
      innerType: this,
      catchValue: catchValueFunc,
      typeName: ZodFirstPartyTypeKind2.ZodCatch
    });
  }
  describe(description) {
    const This = this.constructor;
    return new This({
      ...this._def,
      description
    });
  }
  pipe(target) {
    return ZodPipeline.create(this, target);
  }
  readonly() {
    return ZodReadonly2.create(this);
  }
  isOptional() {
    return this.safeParse(void 0).success;
  }
  isNullable() {
    return this.safeParse(null).success;
  }
};
var cuidRegex = /^c[^\s-]{8,}$/i;
var cuid2Regex = /^[0-9a-z]+$/;
var ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;
var uuidRegex = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i;
var nanoidRegex = /^[a-z0-9_-]{21}$/i;
var jwtRegex = /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;
var durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/;
var emailRegex = /^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;
var _emojiRegex = `^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;
var emojiRegex;
var ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
var ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/;
var ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;
var ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
var base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;
var base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;
var dateRegexSource = `((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))`;
var dateRegex = new RegExp(`^${dateRegexSource}$`);
function timeRegexSource(args) {
  let secondsRegexSource = `[0-5]\\d`;
  if (args.precision) {
    secondsRegexSource = `${secondsRegexSource}\\.\\d{${args.precision}}`;
  } else if (args.precision == null) {
    secondsRegexSource = `${secondsRegexSource}(\\.\\d+)?`;
  }
  const secondsQuantifier = args.precision ? "+" : "?";
  return `([01]\\d|2[0-3]):[0-5]\\d(:${secondsRegexSource})${secondsQuantifier}`;
}
function timeRegex(args) {
  return new RegExp(`^${timeRegexSource(args)}$`);
}
function datetimeRegex(args) {
  let regex = `${dateRegexSource}T${timeRegexSource(args)}`;
  const opts = [];
  opts.push(args.local ? `Z?` : `Z`);
  if (args.offset)
    opts.push(`([+-]\\d{2}:?\\d{2})`);
  regex = `${regex}(${opts.join("|")})`;
  return new RegExp(`^${regex}$`);
}
function isValidIP(ip, version2) {
  if ((version2 === "v4" || !version2) && ipv4Regex.test(ip)) {
    return true;
  }
  if ((version2 === "v6" || !version2) && ipv6Regex.test(ip)) {
    return true;
  }
  return false;
}
function isValidJWT2(jwt2, alg) {
  if (!jwtRegex.test(jwt2))
    return false;
  try {
    const [header] = jwt2.split(".");
    if (!header)
      return false;
    const base643 = header.replace(/-/g, "+").replace(/_/g, "/").padEnd(header.length + (4 - header.length % 4) % 4, "=");
    const decoded = JSON.parse(atob(base643));
    if (typeof decoded !== "object" || decoded === null)
      return false;
    if ("typ" in decoded && decoded?.typ !== "JWT")
      return false;
    if (!decoded.alg)
      return false;
    if (alg && decoded.alg !== alg)
      return false;
    return true;
  } catch {
    return false;
  }
}
function isValidCidr(ip, version2) {
  if ((version2 === "v4" || !version2) && ipv4CidrRegex.test(ip)) {
    return true;
  }
  if ((version2 === "v6" || !version2) && ipv6CidrRegex.test(ip)) {
    return true;
  }
  return false;
}
var ZodString2 = class _ZodString2 extends ZodType2 {
  _parse(input) {
    if (this._def.coerce) {
      input.data = String(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.string) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.string,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    const status = new ParseStatus();
    let ctx = void 0;
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        if (input.data.length < check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            minimum: check2.value,
            type: "string",
            inclusive: true,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        if (input.data.length > check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            maximum: check2.value,
            type: "string",
            inclusive: true,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "length") {
        const tooBig = input.data.length > check2.value;
        const tooSmall = input.data.length < check2.value;
        if (tooBig || tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          if (tooBig) {
            addIssueToContext(ctx, {
              code: ZodIssueCode2.too_big,
              maximum: check2.value,
              type: "string",
              inclusive: true,
              exact: true,
              message: check2.message
            });
          } else if (tooSmall) {
            addIssueToContext(ctx, {
              code: ZodIssueCode2.too_small,
              minimum: check2.value,
              type: "string",
              inclusive: true,
              exact: true,
              message: check2.message
            });
          }
          status.dirty();
        }
      } else if (check2.kind === "email") {
        if (!emailRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "email",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "emoji") {
        if (!emojiRegex) {
          emojiRegex = new RegExp(_emojiRegex, "u");
        }
        if (!emojiRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "emoji",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "uuid") {
        if (!uuidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "uuid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "nanoid") {
        if (!nanoidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "nanoid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cuid") {
        if (!cuidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cuid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cuid2") {
        if (!cuid2Regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cuid2",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "ulid") {
        if (!ulidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "ulid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "url") {
        try {
          new URL(input.data);
        } catch {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "url",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "regex") {
        check2.regex.lastIndex = 0;
        const testResult = check2.regex.test(input.data);
        if (!testResult) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "regex",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "trim") {
        input.data = input.data.trim();
      } else if (check2.kind === "includes") {
        if (!input.data.includes(check2.value, check2.position)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: { includes: check2.value, position: check2.position },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "toLowerCase") {
        input.data = input.data.toLowerCase();
      } else if (check2.kind === "toUpperCase") {
        input.data = input.data.toUpperCase();
      } else if (check2.kind === "startsWith") {
        if (!input.data.startsWith(check2.value)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: { startsWith: check2.value },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "endsWith") {
        if (!input.data.endsWith(check2.value)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: { endsWith: check2.value },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "datetime") {
        const regex = datetimeRegex(check2);
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "datetime",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "date") {
        const regex = dateRegex;
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "date",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "time") {
        const regex = timeRegex(check2);
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "time",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "duration") {
        if (!durationRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "duration",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "ip") {
        if (!isValidIP(input.data, check2.version)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "ip",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "jwt") {
        if (!isValidJWT2(input.data, check2.alg)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "jwt",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cidr") {
        if (!isValidCidr(input.data, check2.version)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cidr",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "base64") {
        if (!base64Regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "base64",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "base64url") {
        if (!base64urlRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "base64url",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return { status: status.value, value: input.data };
  }
  _regex(regex, validation, message) {
    return this.refinement((data) => regex.test(data), {
      validation,
      code: ZodIssueCode2.invalid_string,
      ...errorUtil.errToObj(message)
    });
  }
  _addCheck(check2) {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  email(message) {
    return this._addCheck({ kind: "email", ...errorUtil.errToObj(message) });
  }
  url(message) {
    return this._addCheck({ kind: "url", ...errorUtil.errToObj(message) });
  }
  emoji(message) {
    return this._addCheck({ kind: "emoji", ...errorUtil.errToObj(message) });
  }
  uuid(message) {
    return this._addCheck({ kind: "uuid", ...errorUtil.errToObj(message) });
  }
  nanoid(message) {
    return this._addCheck({ kind: "nanoid", ...errorUtil.errToObj(message) });
  }
  cuid(message) {
    return this._addCheck({ kind: "cuid", ...errorUtil.errToObj(message) });
  }
  cuid2(message) {
    return this._addCheck({ kind: "cuid2", ...errorUtil.errToObj(message) });
  }
  ulid(message) {
    return this._addCheck({ kind: "ulid", ...errorUtil.errToObj(message) });
  }
  base64(message) {
    return this._addCheck({ kind: "base64", ...errorUtil.errToObj(message) });
  }
  base64url(message) {
    return this._addCheck({
      kind: "base64url",
      ...errorUtil.errToObj(message)
    });
  }
  jwt(options) {
    return this._addCheck({ kind: "jwt", ...errorUtil.errToObj(options) });
  }
  ip(options) {
    return this._addCheck({ kind: "ip", ...errorUtil.errToObj(options) });
  }
  cidr(options) {
    return this._addCheck({ kind: "cidr", ...errorUtil.errToObj(options) });
  }
  datetime(options) {
    if (typeof options === "string") {
      return this._addCheck({
        kind: "datetime",
        precision: null,
        offset: false,
        local: false,
        message: options
      });
    }
    return this._addCheck({
      kind: "datetime",
      precision: typeof options?.precision === "undefined" ? null : options?.precision,
      offset: options?.offset ?? false,
      local: options?.local ?? false,
      ...errorUtil.errToObj(options?.message)
    });
  }
  date(message) {
    return this._addCheck({ kind: "date", message });
  }
  time(options) {
    if (typeof options === "string") {
      return this._addCheck({
        kind: "time",
        precision: null,
        message: options
      });
    }
    return this._addCheck({
      kind: "time",
      precision: typeof options?.precision === "undefined" ? null : options?.precision,
      ...errorUtil.errToObj(options?.message)
    });
  }
  duration(message) {
    return this._addCheck({ kind: "duration", ...errorUtil.errToObj(message) });
  }
  regex(regex, message) {
    return this._addCheck({
      kind: "regex",
      regex,
      ...errorUtil.errToObj(message)
    });
  }
  includes(value, options) {
    return this._addCheck({
      kind: "includes",
      value,
      position: options?.position,
      ...errorUtil.errToObj(options?.message)
    });
  }
  startsWith(value, message) {
    return this._addCheck({
      kind: "startsWith",
      value,
      ...errorUtil.errToObj(message)
    });
  }
  endsWith(value, message) {
    return this._addCheck({
      kind: "endsWith",
      value,
      ...errorUtil.errToObj(message)
    });
  }
  min(minLength, message) {
    return this._addCheck({
      kind: "min",
      value: minLength,
      ...errorUtil.errToObj(message)
    });
  }
  max(maxLength, message) {
    return this._addCheck({
      kind: "max",
      value: maxLength,
      ...errorUtil.errToObj(message)
    });
  }
  length(len, message) {
    return this._addCheck({
      kind: "length",
      value: len,
      ...errorUtil.errToObj(message)
    });
  }
  /**
   * Equivalent to `.min(1)`
   */
  nonempty(message) {
    return this.min(1, errorUtil.errToObj(message));
  }
  trim() {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, { kind: "trim" }]
    });
  }
  toLowerCase() {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, { kind: "toLowerCase" }]
    });
  }
  toUpperCase() {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, { kind: "toUpperCase" }]
    });
  }
  get isDatetime() {
    return !!this._def.checks.find((ch) => ch.kind === "datetime");
  }
  get isDate() {
    return !!this._def.checks.find((ch) => ch.kind === "date");
  }
  get isTime() {
    return !!this._def.checks.find((ch) => ch.kind === "time");
  }
  get isDuration() {
    return !!this._def.checks.find((ch) => ch.kind === "duration");
  }
  get isEmail() {
    return !!this._def.checks.find((ch) => ch.kind === "email");
  }
  get isURL() {
    return !!this._def.checks.find((ch) => ch.kind === "url");
  }
  get isEmoji() {
    return !!this._def.checks.find((ch) => ch.kind === "emoji");
  }
  get isUUID() {
    return !!this._def.checks.find((ch) => ch.kind === "uuid");
  }
  get isNANOID() {
    return !!this._def.checks.find((ch) => ch.kind === "nanoid");
  }
  get isCUID() {
    return !!this._def.checks.find((ch) => ch.kind === "cuid");
  }
  get isCUID2() {
    return !!this._def.checks.find((ch) => ch.kind === "cuid2");
  }
  get isULID() {
    return !!this._def.checks.find((ch) => ch.kind === "ulid");
  }
  get isIP() {
    return !!this._def.checks.find((ch) => ch.kind === "ip");
  }
  get isCIDR() {
    return !!this._def.checks.find((ch) => ch.kind === "cidr");
  }
  get isBase64() {
    return !!this._def.checks.find((ch) => ch.kind === "base64");
  }
  get isBase64url() {
    return !!this._def.checks.find((ch) => ch.kind === "base64url");
  }
  get minLength() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxLength() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
};
ZodString2.create = (params) => {
  return new ZodString2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodString,
    coerce: params?.coerce ?? false,
    ...processCreateParams(params)
  });
};
function floatSafeRemainder2(val, step) {
  const valDecCount = (val.toString().split(".")[1] || "").length;
  const stepDecCount = (step.toString().split(".")[1] || "").length;
  const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
  const valInt = Number.parseInt(val.toFixed(decCount).replace(".", ""));
  const stepInt = Number.parseInt(step.toFixed(decCount).replace(".", ""));
  return valInt % stepInt / 10 ** decCount;
}
var ZodNumber2 = class _ZodNumber extends ZodType2 {
  constructor() {
    super(...arguments);
    this.min = this.gte;
    this.max = this.lte;
    this.step = this.multipleOf;
  }
  _parse(input) {
    if (this._def.coerce) {
      input.data = Number(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.number) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.number,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    let ctx = void 0;
    const status = new ParseStatus();
    for (const check2 of this._def.checks) {
      if (check2.kind === "int") {
        if (!util.isInteger(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_type,
            expected: "integer",
            received: "float",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "min") {
        const tooSmall = check2.inclusive ? input.data < check2.value : input.data <= check2.value;
        if (tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            minimum: check2.value,
            type: "number",
            inclusive: check2.inclusive,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        const tooBig = check2.inclusive ? input.data > check2.value : input.data >= check2.value;
        if (tooBig) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            maximum: check2.value,
            type: "number",
            inclusive: check2.inclusive,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "multipleOf") {
        if (floatSafeRemainder2(input.data, check2.value) !== 0) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_multiple_of,
            multipleOf: check2.value,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "finite") {
        if (!Number.isFinite(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_finite,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return { status: status.value, value: input.data };
  }
  gte(value, message) {
    return this.setLimit("min", value, true, errorUtil.toString(message));
  }
  gt(value, message) {
    return this.setLimit("min", value, false, errorUtil.toString(message));
  }
  lte(value, message) {
    return this.setLimit("max", value, true, errorUtil.toString(message));
  }
  lt(value, message) {
    return this.setLimit("max", value, false, errorUtil.toString(message));
  }
  setLimit(kind, value, inclusive, message) {
    return new _ZodNumber({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind,
          value,
          inclusive,
          message: errorUtil.toString(message)
        }
      ]
    });
  }
  _addCheck(check2) {
    return new _ZodNumber({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  int(message) {
    return this._addCheck({
      kind: "int",
      message: errorUtil.toString(message)
    });
  }
  positive(message) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  negative(message) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  nonpositive(message) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  nonnegative(message) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  multipleOf(value, message) {
    return this._addCheck({
      kind: "multipleOf",
      value,
      message: errorUtil.toString(message)
    });
  }
  finite(message) {
    return this._addCheck({
      kind: "finite",
      message: errorUtil.toString(message)
    });
  }
  safe(message) {
    return this._addCheck({
      kind: "min",
      inclusive: true,
      value: Number.MIN_SAFE_INTEGER,
      message: errorUtil.toString(message)
    })._addCheck({
      kind: "max",
      inclusive: true,
      value: Number.MAX_SAFE_INTEGER,
      message: errorUtil.toString(message)
    });
  }
  get minValue() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxValue() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
  get isInt() {
    return !!this._def.checks.find((ch) => ch.kind === "int" || ch.kind === "multipleOf" && util.isInteger(ch.value));
  }
  get isFinite() {
    let max = null;
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "finite" || ch.kind === "int" || ch.kind === "multipleOf") {
        return true;
      } else if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      } else if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return Number.isFinite(min) && Number.isFinite(max);
  }
};
ZodNumber2.create = (params) => {
  return new ZodNumber2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodNumber,
    coerce: params?.coerce || false,
    ...processCreateParams(params)
  });
};
var ZodBigInt2 = class _ZodBigInt extends ZodType2 {
  constructor() {
    super(...arguments);
    this.min = this.gte;
    this.max = this.lte;
  }
  _parse(input) {
    if (this._def.coerce) {
      try {
        input.data = BigInt(input.data);
      } catch {
        return this._getInvalidInput(input);
      }
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.bigint) {
      return this._getInvalidInput(input);
    }
    let ctx = void 0;
    const status = new ParseStatus();
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        const tooSmall = check2.inclusive ? input.data < check2.value : input.data <= check2.value;
        if (tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            type: "bigint",
            minimum: check2.value,
            inclusive: check2.inclusive,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        const tooBig = check2.inclusive ? input.data > check2.value : input.data >= check2.value;
        if (tooBig) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            type: "bigint",
            maximum: check2.value,
            inclusive: check2.inclusive,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "multipleOf") {
        if (input.data % check2.value !== BigInt(0)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_multiple_of,
            multipleOf: check2.value,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return { status: status.value, value: input.data };
  }
  _getInvalidInput(input) {
    const ctx = this._getOrReturnCtx(input);
    addIssueToContext(ctx, {
      code: ZodIssueCode2.invalid_type,
      expected: ZodParsedType.bigint,
      received: ctx.parsedType
    });
    return INVALID;
  }
  gte(value, message) {
    return this.setLimit("min", value, true, errorUtil.toString(message));
  }
  gt(value, message) {
    return this.setLimit("min", value, false, errorUtil.toString(message));
  }
  lte(value, message) {
    return this.setLimit("max", value, true, errorUtil.toString(message));
  }
  lt(value, message) {
    return this.setLimit("max", value, false, errorUtil.toString(message));
  }
  setLimit(kind, value, inclusive, message) {
    return new _ZodBigInt({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind,
          value,
          inclusive,
          message: errorUtil.toString(message)
        }
      ]
    });
  }
  _addCheck(check2) {
    return new _ZodBigInt({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  positive(message) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  negative(message) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  nonpositive(message) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  nonnegative(message) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  multipleOf(value, message) {
    return this._addCheck({
      kind: "multipleOf",
      value,
      message: errorUtil.toString(message)
    });
  }
  get minValue() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxValue() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
};
ZodBigInt2.create = (params) => {
  return new ZodBigInt2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodBigInt,
    coerce: params?.coerce ?? false,
    ...processCreateParams(params)
  });
};
var ZodBoolean2 = class extends ZodType2 {
  _parse(input) {
    if (this._def.coerce) {
      input.data = Boolean(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.boolean) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.boolean,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodBoolean2.create = (params) => {
  return new ZodBoolean2({
    typeName: ZodFirstPartyTypeKind2.ZodBoolean,
    coerce: params?.coerce || false,
    ...processCreateParams(params)
  });
};
var ZodDate2 = class _ZodDate extends ZodType2 {
  _parse(input) {
    if (this._def.coerce) {
      input.data = new Date(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.date) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.date,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    if (Number.isNaN(input.data.getTime())) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_date
      });
      return INVALID;
    }
    const status = new ParseStatus();
    let ctx = void 0;
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        if (input.data.getTime() < check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            message: check2.message,
            inclusive: true,
            exact: false,
            minimum: check2.value,
            type: "date"
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        if (input.data.getTime() > check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            message: check2.message,
            inclusive: true,
            exact: false,
            maximum: check2.value,
            type: "date"
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return {
      status: status.value,
      value: new Date(input.data.getTime())
    };
  }
  _addCheck(check2) {
    return new _ZodDate({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  min(minDate, message) {
    return this._addCheck({
      kind: "min",
      value: minDate.getTime(),
      message: errorUtil.toString(message)
    });
  }
  max(maxDate, message) {
    return this._addCheck({
      kind: "max",
      value: maxDate.getTime(),
      message: errorUtil.toString(message)
    });
  }
  get minDate() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min != null ? new Date(min) : null;
  }
  get maxDate() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max != null ? new Date(max) : null;
  }
};
ZodDate2.create = (params) => {
  return new ZodDate2({
    checks: [],
    coerce: params?.coerce || false,
    typeName: ZodFirstPartyTypeKind2.ZodDate,
    ...processCreateParams(params)
  });
};
var ZodSymbol2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.symbol) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.symbol,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodSymbol2.create = (params) => {
  return new ZodSymbol2({
    typeName: ZodFirstPartyTypeKind2.ZodSymbol,
    ...processCreateParams(params)
  });
};
var ZodUndefined2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.undefined) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.undefined,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodUndefined2.create = (params) => {
  return new ZodUndefined2({
    typeName: ZodFirstPartyTypeKind2.ZodUndefined,
    ...processCreateParams(params)
  });
};
var ZodNull2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.null) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.null,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodNull2.create = (params) => {
  return new ZodNull2({
    typeName: ZodFirstPartyTypeKind2.ZodNull,
    ...processCreateParams(params)
  });
};
var ZodAny2 = class extends ZodType2 {
  constructor() {
    super(...arguments);
    this._any = true;
  }
  _parse(input) {
    return OK(input.data);
  }
};
ZodAny2.create = (params) => {
  return new ZodAny2({
    typeName: ZodFirstPartyTypeKind2.ZodAny,
    ...processCreateParams(params)
  });
};
var ZodUnknown2 = class extends ZodType2 {
  constructor() {
    super(...arguments);
    this._unknown = true;
  }
  _parse(input) {
    return OK(input.data);
  }
};
ZodUnknown2.create = (params) => {
  return new ZodUnknown2({
    typeName: ZodFirstPartyTypeKind2.ZodUnknown,
    ...processCreateParams(params)
  });
};
var ZodNever2 = class extends ZodType2 {
  _parse(input) {
    const ctx = this._getOrReturnCtx(input);
    addIssueToContext(ctx, {
      code: ZodIssueCode2.invalid_type,
      expected: ZodParsedType.never,
      received: ctx.parsedType
    });
    return INVALID;
  }
};
ZodNever2.create = (params) => {
  return new ZodNever2({
    typeName: ZodFirstPartyTypeKind2.ZodNever,
    ...processCreateParams(params)
  });
};
var ZodVoid2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.undefined) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.void,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodVoid2.create = (params) => {
  return new ZodVoid2({
    typeName: ZodFirstPartyTypeKind2.ZodVoid,
    ...processCreateParams(params)
  });
};
var ZodArray2 = class _ZodArray extends ZodType2 {
  _parse(input) {
    const { ctx, status } = this._processInputParams(input);
    const def = this._def;
    if (ctx.parsedType !== ZodParsedType.array) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.array,
        received: ctx.parsedType
      });
      return INVALID;
    }
    if (def.exactLength !== null) {
      const tooBig = ctx.data.length > def.exactLength.value;
      const tooSmall = ctx.data.length < def.exactLength.value;
      if (tooBig || tooSmall) {
        addIssueToContext(ctx, {
          code: tooBig ? ZodIssueCode2.too_big : ZodIssueCode2.too_small,
          minimum: tooSmall ? def.exactLength.value : void 0,
          maximum: tooBig ? def.exactLength.value : void 0,
          type: "array",
          inclusive: true,
          exact: true,
          message: def.exactLength.message
        });
        status.dirty();
      }
    }
    if (def.minLength !== null) {
      if (ctx.data.length < def.minLength.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_small,
          minimum: def.minLength.value,
          type: "array",
          inclusive: true,
          exact: false,
          message: def.minLength.message
        });
        status.dirty();
      }
    }
    if (def.maxLength !== null) {
      if (ctx.data.length > def.maxLength.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_big,
          maximum: def.maxLength.value,
          type: "array",
          inclusive: true,
          exact: false,
          message: def.maxLength.message
        });
        status.dirty();
      }
    }
    if (ctx.common.async) {
      return Promise.all([...ctx.data].map((item, i2) => {
        return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i2));
      })).then((result2) => {
        return ParseStatus.mergeArray(status, result2);
      });
    }
    const result = [...ctx.data].map((item, i2) => {
      return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i2));
    });
    return ParseStatus.mergeArray(status, result);
  }
  get element() {
    return this._def.type;
  }
  min(minLength, message) {
    return new _ZodArray({
      ...this._def,
      minLength: { value: minLength, message: errorUtil.toString(message) }
    });
  }
  max(maxLength, message) {
    return new _ZodArray({
      ...this._def,
      maxLength: { value: maxLength, message: errorUtil.toString(message) }
    });
  }
  length(len, message) {
    return new _ZodArray({
      ...this._def,
      exactLength: { value: len, message: errorUtil.toString(message) }
    });
  }
  nonempty(message) {
    return this.min(1, message);
  }
};
ZodArray2.create = (schema, params) => {
  return new ZodArray2({
    type: schema,
    minLength: null,
    maxLength: null,
    exactLength: null,
    typeName: ZodFirstPartyTypeKind2.ZodArray,
    ...processCreateParams(params)
  });
};
function deepPartialify(schema) {
  if (schema instanceof ZodObject2) {
    const newShape = {};
    for (const key in schema.shape) {
      const fieldSchema = schema.shape[key];
      newShape[key] = ZodOptional2.create(deepPartialify(fieldSchema));
    }
    return new ZodObject2({
      ...schema._def,
      shape: () => newShape
    });
  } else if (schema instanceof ZodArray2) {
    return new ZodArray2({
      ...schema._def,
      type: deepPartialify(schema.element)
    });
  } else if (schema instanceof ZodOptional2) {
    return ZodOptional2.create(deepPartialify(schema.unwrap()));
  } else if (schema instanceof ZodNullable2) {
    return ZodNullable2.create(deepPartialify(schema.unwrap()));
  } else if (schema instanceof ZodTuple2) {
    return ZodTuple2.create(schema.items.map((item) => deepPartialify(item)));
  } else {
    return schema;
  }
}
var ZodObject2 = class _ZodObject extends ZodType2 {
  constructor() {
    super(...arguments);
    this._cached = null;
    this.nonstrict = this.passthrough;
    this.augment = this.extend;
  }
  _getCached() {
    if (this._cached !== null)
      return this._cached;
    const shape = this._def.shape();
    const keys = util.objectKeys(shape);
    this._cached = { shape, keys };
    return this._cached;
  }
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.object) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    const { status, ctx } = this._processInputParams(input);
    const { shape, keys: shapeKeys } = this._getCached();
    const extraKeys = [];
    if (!(this._def.catchall instanceof ZodNever2 && this._def.unknownKeys === "strip")) {
      for (const key in ctx.data) {
        if (!shapeKeys.includes(key)) {
          extraKeys.push(key);
        }
      }
    }
    const pairs = [];
    for (const key of shapeKeys) {
      const keyValidator = shape[key];
      const value = ctx.data[key];
      pairs.push({
        key: { status: "valid", value: key },
        value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),
        alwaysSet: key in ctx.data
      });
    }
    if (this._def.catchall instanceof ZodNever2) {
      const unknownKeys = this._def.unknownKeys;
      if (unknownKeys === "passthrough") {
        for (const key of extraKeys) {
          pairs.push({
            key: { status: "valid", value: key },
            value: { status: "valid", value: ctx.data[key] }
          });
        }
      } else if (unknownKeys === "strict") {
        if (extraKeys.length > 0) {
          addIssueToContext(ctx, {
            code: ZodIssueCode2.unrecognized_keys,
            keys: extraKeys
          });
          status.dirty();
        }
      } else if (unknownKeys === "strip") {
      } else {
        throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);
      }
    } else {
      const catchall = this._def.catchall;
      for (const key of extraKeys) {
        const value = ctx.data[key];
        pairs.push({
          key: { status: "valid", value: key },
          value: catchall._parse(
            new ParseInputLazyPath(ctx, value, ctx.path, key)
            //, ctx.child(key), value, getParsedType(value)
          ),
          alwaysSet: key in ctx.data
        });
      }
    }
    if (ctx.common.async) {
      return Promise.resolve().then(async () => {
        const syncPairs = [];
        for (const pair of pairs) {
          const key = await pair.key;
          const value = await pair.value;
          syncPairs.push({
            key,
            value,
            alwaysSet: pair.alwaysSet
          });
        }
        return syncPairs;
      }).then((syncPairs) => {
        return ParseStatus.mergeObjectSync(status, syncPairs);
      });
    } else {
      return ParseStatus.mergeObjectSync(status, pairs);
    }
  }
  get shape() {
    return this._def.shape();
  }
  strict(message) {
    errorUtil.errToObj;
    return new _ZodObject({
      ...this._def,
      unknownKeys: "strict",
      ...message !== void 0 ? {
        errorMap: (issue2, ctx) => {
          const defaultError = this._def.errorMap?.(issue2, ctx).message ?? ctx.defaultError;
          if (issue2.code === "unrecognized_keys")
            return {
              message: errorUtil.errToObj(message).message ?? defaultError
            };
          return {
            message: defaultError
          };
        }
      } : {}
    });
  }
  strip() {
    return new _ZodObject({
      ...this._def,
      unknownKeys: "strip"
    });
  }
  passthrough() {
    return new _ZodObject({
      ...this._def,
      unknownKeys: "passthrough"
    });
  }
  // const AugmentFactory =
  //   <Def extends ZodObjectDef>(def: Def) =>
  //   <Augmentation extends ZodRawShape>(
  //     augmentation: Augmentation
  //   ): ZodObject<
  //     extendShape<ReturnType<Def["shape"]>, Augmentation>,
  //     Def["unknownKeys"],
  //     Def["catchall"]
  //   > => {
  //     return new ZodObject({
  //       ...def,
  //       shape: () => ({
  //         ...def.shape(),
  //         ...augmentation,
  //       }),
  //     }) as any;
  //   };
  extend(augmentation) {
    return new _ZodObject({
      ...this._def,
      shape: () => ({
        ...this._def.shape(),
        ...augmentation
      })
    });
  }
  /**
   * Prior to zod@1.0.12 there was a bug in the
   * inferred type of merged objects. Please
   * upgrade if you are experiencing issues.
   */
  merge(merging) {
    const merged = new _ZodObject({
      unknownKeys: merging._def.unknownKeys,
      catchall: merging._def.catchall,
      shape: () => ({
        ...this._def.shape(),
        ...merging._def.shape()
      }),
      typeName: ZodFirstPartyTypeKind2.ZodObject
    });
    return merged;
  }
  // merge<
  //   Incoming extends AnyZodObject,
  //   Augmentation extends Incoming["shape"],
  //   NewOutput extends {
  //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation
  //       ? Augmentation[k]["_output"]
  //       : k extends keyof Output
  //       ? Output[k]
  //       : never;
  //   },
  //   NewInput extends {
  //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation
  //       ? Augmentation[k]["_input"]
  //       : k extends keyof Input
  //       ? Input[k]
  //       : never;
  //   }
  // >(
  //   merging: Incoming
  // ): ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"],
  //   NewOutput,
  //   NewInput
  // > {
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  setKey(key, schema) {
    return this.augment({ [key]: schema });
  }
  // merge<Incoming extends AnyZodObject>(
  //   merging: Incoming
  // ): //ZodObject<T & Incoming["_shape"], UnknownKeys, Catchall> = (merging) => {
  // ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"]
  // > {
  //   // const mergedShape = objectUtil.mergeShapes(
  //   //   this._def.shape(),
  //   //   merging._def.shape()
  //   // );
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  catchall(index) {
    return new _ZodObject({
      ...this._def,
      catchall: index
    });
  }
  pick(mask) {
    const shape = {};
    for (const key of util.objectKeys(mask)) {
      if (mask[key] && this.shape[key]) {
        shape[key] = this.shape[key];
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => shape
    });
  }
  omit(mask) {
    const shape = {};
    for (const key of util.objectKeys(this.shape)) {
      if (!mask[key]) {
        shape[key] = this.shape[key];
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => shape
    });
  }
  /**
   * @deprecated
   */
  deepPartial() {
    return deepPartialify(this);
  }
  partial(mask) {
    const newShape = {};
    for (const key of util.objectKeys(this.shape)) {
      const fieldSchema = this.shape[key];
      if (mask && !mask[key]) {
        newShape[key] = fieldSchema;
      } else {
        newShape[key] = fieldSchema.optional();
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => newShape
    });
  }
  required(mask) {
    const newShape = {};
    for (const key of util.objectKeys(this.shape)) {
      if (mask && !mask[key]) {
        newShape[key] = this.shape[key];
      } else {
        const fieldSchema = this.shape[key];
        let newField = fieldSchema;
        while (newField instanceof ZodOptional2) {
          newField = newField._def.innerType;
        }
        newShape[key] = newField;
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => newShape
    });
  }
  keyof() {
    return createZodEnum(util.objectKeys(this.shape));
  }
};
ZodObject2.create = (shape, params) => {
  return new ZodObject2({
    shape: () => shape,
    unknownKeys: "strip",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
ZodObject2.strictCreate = (shape, params) => {
  return new ZodObject2({
    shape: () => shape,
    unknownKeys: "strict",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
ZodObject2.lazycreate = (shape, params) => {
  return new ZodObject2({
    shape,
    unknownKeys: "strip",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
var ZodUnion2 = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const options = this._def.options;
    function handleResults(results) {
      for (const result of results) {
        if (result.result.status === "valid") {
          return result.result;
        }
      }
      for (const result of results) {
        if (result.result.status === "dirty") {
          ctx.common.issues.push(...result.ctx.common.issues);
          return result.result;
        }
      }
      const unionErrors = results.map((result) => new ZodError2(result.ctx.common.issues));
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union,
        unionErrors
      });
      return INVALID;
    }
    if (ctx.common.async) {
      return Promise.all(options.map(async (option) => {
        const childCtx = {
          ...ctx,
          common: {
            ...ctx.common,
            issues: []
          },
          parent: null
        };
        return {
          result: await option._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: childCtx
          }),
          ctx: childCtx
        };
      })).then(handleResults);
    } else {
      let dirty = void 0;
      const issues = [];
      for (const option of options) {
        const childCtx = {
          ...ctx,
          common: {
            ...ctx.common,
            issues: []
          },
          parent: null
        };
        const result = option._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: childCtx
        });
        if (result.status === "valid") {
          return result;
        } else if (result.status === "dirty" && !dirty) {
          dirty = { result, ctx: childCtx };
        }
        if (childCtx.common.issues.length) {
          issues.push(childCtx.common.issues);
        }
      }
      if (dirty) {
        ctx.common.issues.push(...dirty.ctx.common.issues);
        return dirty.result;
      }
      const unionErrors = issues.map((issues2) => new ZodError2(issues2));
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union,
        unionErrors
      });
      return INVALID;
    }
  }
  get options() {
    return this._def.options;
  }
};
ZodUnion2.create = (types2, params) => {
  return new ZodUnion2({
    options: types2,
    typeName: ZodFirstPartyTypeKind2.ZodUnion,
    ...processCreateParams(params)
  });
};
var getDiscriminator = (type) => {
  if (type instanceof ZodLazy2) {
    return getDiscriminator(type.schema);
  } else if (type instanceof ZodEffects) {
    return getDiscriminator(type.innerType());
  } else if (type instanceof ZodLiteral2) {
    return [type.value];
  } else if (type instanceof ZodEnum2) {
    return type.options;
  } else if (type instanceof ZodNativeEnum) {
    return util.objectValues(type.enum);
  } else if (type instanceof ZodDefault2) {
    return getDiscriminator(type._def.innerType);
  } else if (type instanceof ZodUndefined2) {
    return [void 0];
  } else if (type instanceof ZodNull2) {
    return [null];
  } else if (type instanceof ZodOptional2) {
    return [void 0, ...getDiscriminator(type.unwrap())];
  } else if (type instanceof ZodNullable2) {
    return [null, ...getDiscriminator(type.unwrap())];
  } else if (type instanceof ZodBranded) {
    return getDiscriminator(type.unwrap());
  } else if (type instanceof ZodReadonly2) {
    return getDiscriminator(type.unwrap());
  } else if (type instanceof ZodCatch2) {
    return getDiscriminator(type._def.innerType);
  } else {
    return [];
  }
};
var ZodDiscriminatedUnion2 = class _ZodDiscriminatedUnion extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.object) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const discriminator = this.discriminator;
    const discriminatorValue = ctx.data[discriminator];
    const option = this.optionsMap.get(discriminatorValue);
    if (!option) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union_discriminator,
        options: Array.from(this.optionsMap.keys()),
        path: [discriminator]
      });
      return INVALID;
    }
    if (ctx.common.async) {
      return option._parseAsync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
    } else {
      return option._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
    }
  }
  get discriminator() {
    return this._def.discriminator;
  }
  get options() {
    return this._def.options;
  }
  get optionsMap() {
    return this._def.optionsMap;
  }
  /**
   * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.
   * However, it only allows a union of objects, all of which need to share a discriminator property. This property must
   * have a different value for each object in the union.
   * @param discriminator the name of the discriminator property
   * @param types an array of object schemas
   * @param params
   */
  static create(discriminator, options, params) {
    const optionsMap = /* @__PURE__ */ new Map();
    for (const type of options) {
      const discriminatorValues = getDiscriminator(type.shape[discriminator]);
      if (!discriminatorValues.length) {
        throw new Error(`A discriminator value for key \`${discriminator}\` could not be extracted from all schema options`);
      }
      for (const value of discriminatorValues) {
        if (optionsMap.has(value)) {
          throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);
        }
        optionsMap.set(value, type);
      }
    }
    return new _ZodDiscriminatedUnion({
      typeName: ZodFirstPartyTypeKind2.ZodDiscriminatedUnion,
      discriminator,
      options,
      optionsMap,
      ...processCreateParams(params)
    });
  }
};
function mergeValues2(a2, b) {
  const aType = getParsedType2(a2);
  const bType = getParsedType2(b);
  if (a2 === b) {
    return { valid: true, data: a2 };
  } else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {
    const bKeys = util.objectKeys(b);
    const sharedKeys = util.objectKeys(a2).filter((key) => bKeys.indexOf(key) !== -1);
    const newObj = { ...a2, ...b };
    for (const key of sharedKeys) {
      const sharedValue = mergeValues2(a2[key], b[key]);
      if (!sharedValue.valid) {
        return { valid: false };
      }
      newObj[key] = sharedValue.data;
    }
    return { valid: true, data: newObj };
  } else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {
    if (a2.length !== b.length) {
      return { valid: false };
    }
    const newArray = [];
    for (let index = 0; index < a2.length; index++) {
      const itemA = a2[index];
      const itemB = b[index];
      const sharedValue = mergeValues2(itemA, itemB);
      if (!sharedValue.valid) {
        return { valid: false };
      }
      newArray.push(sharedValue.data);
    }
    return { valid: true, data: newArray };
  } else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a2 === +b) {
    return { valid: true, data: a2 };
  } else {
    return { valid: false };
  }
}
var ZodIntersection2 = class extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    const handleParsed = (parsedLeft, parsedRight) => {
      if (isAborted(parsedLeft) || isAborted(parsedRight)) {
        return INVALID;
      }
      const merged = mergeValues2(parsedLeft.value, parsedRight.value);
      if (!merged.valid) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.invalid_intersection_types
        });
        return INVALID;
      }
      if (isDirty(parsedLeft) || isDirty(parsedRight)) {
        status.dirty();
      }
      return { status: status.value, value: merged.data };
    };
    if (ctx.common.async) {
      return Promise.all([
        this._def.left._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        }),
        this._def.right._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        })
      ]).then(([left, right]) => handleParsed(left, right));
    } else {
      return handleParsed(this._def.left._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      }), this._def.right._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      }));
    }
  }
};
ZodIntersection2.create = (left, right, params) => {
  return new ZodIntersection2({
    left,
    right,
    typeName: ZodFirstPartyTypeKind2.ZodIntersection,
    ...processCreateParams(params)
  });
};
var ZodTuple2 = class _ZodTuple extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.array) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.array,
        received: ctx.parsedType
      });
      return INVALID;
    }
    if (ctx.data.length < this._def.items.length) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.too_small,
        minimum: this._def.items.length,
        inclusive: true,
        exact: false,
        type: "array"
      });
      return INVALID;
    }
    const rest = this._def.rest;
    if (!rest && ctx.data.length > this._def.items.length) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.too_big,
        maximum: this._def.items.length,
        inclusive: true,
        exact: false,
        type: "array"
      });
      status.dirty();
    }
    const items = [...ctx.data].map((item, itemIndex) => {
      const schema = this._def.items[itemIndex] || this._def.rest;
      if (!schema)
        return null;
      return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));
    }).filter((x) => !!x);
    if (ctx.common.async) {
      return Promise.all(items).then((results) => {
        return ParseStatus.mergeArray(status, results);
      });
    } else {
      return ParseStatus.mergeArray(status, items);
    }
  }
  get items() {
    return this._def.items;
  }
  rest(rest) {
    return new _ZodTuple({
      ...this._def,
      rest
    });
  }
};
ZodTuple2.create = (schemas, params) => {
  if (!Array.isArray(schemas)) {
    throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
  }
  return new ZodTuple2({
    items: schemas,
    typeName: ZodFirstPartyTypeKind2.ZodTuple,
    rest: null,
    ...processCreateParams(params)
  });
};
var ZodRecord2 = class _ZodRecord extends ZodType2 {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.object) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const pairs = [];
    const keyType = this._def.keyType;
    const valueType = this._def.valueType;
    for (const key in ctx.data) {
      pairs.push({
        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),
        value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),
        alwaysSet: key in ctx.data
      });
    }
    if (ctx.common.async) {
      return ParseStatus.mergeObjectAsync(status, pairs);
    } else {
      return ParseStatus.mergeObjectSync(status, pairs);
    }
  }
  get element() {
    return this._def.valueType;
  }
  static create(first, second, third) {
    if (second instanceof ZodType2) {
      return new _ZodRecord({
        keyType: first,
        valueType: second,
        typeName: ZodFirstPartyTypeKind2.ZodRecord,
        ...processCreateParams(third)
      });
    }
    return new _ZodRecord({
      keyType: ZodString2.create(),
      valueType: first,
      typeName: ZodFirstPartyTypeKind2.ZodRecord,
      ...processCreateParams(second)
    });
  }
};
var ZodMap2 = class extends ZodType2 {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.map) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.map,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const keyType = this._def.keyType;
    const valueType = this._def.valueType;
    const pairs = [...ctx.data.entries()].map(([key, value], index) => {
      return {
        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, "key"])),
        value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, "value"]))
      };
    });
    if (ctx.common.async) {
      const finalMap = /* @__PURE__ */ new Map();
      return Promise.resolve().then(async () => {
        for (const pair of pairs) {
          const key = await pair.key;
          const value = await pair.value;
          if (key.status === "aborted" || value.status === "aborted") {
            return INVALID;
          }
          if (key.status === "dirty" || value.status === "dirty") {
            status.dirty();
          }
          finalMap.set(key.value, value.value);
        }
        return { status: status.value, value: finalMap };
      });
    } else {
      const finalMap = /* @__PURE__ */ new Map();
      for (const pair of pairs) {
        const key = pair.key;
        const value = pair.value;
        if (key.status === "aborted" || value.status === "aborted") {
          return INVALID;
        }
        if (key.status === "dirty" || value.status === "dirty") {
          status.dirty();
        }
        finalMap.set(key.value, value.value);
      }
      return { status: status.value, value: finalMap };
    }
  }
};
ZodMap2.create = (keyType, valueType, params) => {
  return new ZodMap2({
    valueType,
    keyType,
    typeName: ZodFirstPartyTypeKind2.ZodMap,
    ...processCreateParams(params)
  });
};
var ZodSet2 = class _ZodSet extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.set) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.set,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const def = this._def;
    if (def.minSize !== null) {
      if (ctx.data.size < def.minSize.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_small,
          minimum: def.minSize.value,
          type: "set",
          inclusive: true,
          exact: false,
          message: def.minSize.message
        });
        status.dirty();
      }
    }
    if (def.maxSize !== null) {
      if (ctx.data.size > def.maxSize.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_big,
          maximum: def.maxSize.value,
          type: "set",
          inclusive: true,
          exact: false,
          message: def.maxSize.message
        });
        status.dirty();
      }
    }
    const valueType = this._def.valueType;
    function finalizeSet(elements2) {
      const parsedSet = /* @__PURE__ */ new Set();
      for (const element of elements2) {
        if (element.status === "aborted")
          return INVALID;
        if (element.status === "dirty")
          status.dirty();
        parsedSet.add(element.value);
      }
      return { status: status.value, value: parsedSet };
    }
    const elements = [...ctx.data.values()].map((item, i2) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i2)));
    if (ctx.common.async) {
      return Promise.all(elements).then((elements2) => finalizeSet(elements2));
    } else {
      return finalizeSet(elements);
    }
  }
  min(minSize, message) {
    return new _ZodSet({
      ...this._def,
      minSize: { value: minSize, message: errorUtil.toString(message) }
    });
  }
  max(maxSize, message) {
    return new _ZodSet({
      ...this._def,
      maxSize: { value: maxSize, message: errorUtil.toString(message) }
    });
  }
  size(size, message) {
    return this.min(size, message).max(size, message);
  }
  nonempty(message) {
    return this.min(1, message);
  }
};
ZodSet2.create = (valueType, params) => {
  return new ZodSet2({
    valueType,
    minSize: null,
    maxSize: null,
    typeName: ZodFirstPartyTypeKind2.ZodSet,
    ...processCreateParams(params)
  });
};
var ZodFunction2 = class _ZodFunction extends ZodType2 {
  constructor() {
    super(...arguments);
    this.validate = this.implement;
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.function) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.function,
        received: ctx.parsedType
      });
      return INVALID;
    }
    function makeArgsIssue(args, error45) {
      return makeIssue({
        data: args,
        path: ctx.path,
        errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap2(), en_default2].filter((x) => !!x),
        issueData: {
          code: ZodIssueCode2.invalid_arguments,
          argumentsError: error45
        }
      });
    }
    function makeReturnsIssue(returns, error45) {
      return makeIssue({
        data: returns,
        path: ctx.path,
        errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap2(), en_default2].filter((x) => !!x),
        issueData: {
          code: ZodIssueCode2.invalid_return_type,
          returnTypeError: error45
        }
      });
    }
    const params = { errorMap: ctx.common.contextualErrorMap };
    const fn = ctx.data;
    if (this._def.returns instanceof ZodPromise2) {
      const me = this;
      return OK(async function(...args) {
        const error45 = new ZodError2([]);
        const parsedArgs = await me._def.args.parseAsync(args, params).catch((e2) => {
          error45.addIssue(makeArgsIssue(args, e2));
          throw error45;
        });
        const result = await Reflect.apply(fn, this, parsedArgs);
        const parsedReturns = await me._def.returns._def.type.parseAsync(result, params).catch((e2) => {
          error45.addIssue(makeReturnsIssue(result, e2));
          throw error45;
        });
        return parsedReturns;
      });
    } else {
      const me = this;
      return OK(function(...args) {
        const parsedArgs = me._def.args.safeParse(args, params);
        if (!parsedArgs.success) {
          throw new ZodError2([makeArgsIssue(args, parsedArgs.error)]);
        }
        const result = Reflect.apply(fn, this, parsedArgs.data);
        const parsedReturns = me._def.returns.safeParse(result, params);
        if (!parsedReturns.success) {
          throw new ZodError2([makeReturnsIssue(result, parsedReturns.error)]);
        }
        return parsedReturns.data;
      });
    }
  }
  parameters() {
    return this._def.args;
  }
  returnType() {
    return this._def.returns;
  }
  args(...items) {
    return new _ZodFunction({
      ...this._def,
      args: ZodTuple2.create(items).rest(ZodUnknown2.create())
    });
  }
  returns(returnType) {
    return new _ZodFunction({
      ...this._def,
      returns: returnType
    });
  }
  implement(func) {
    const validatedFunc = this.parse(func);
    return validatedFunc;
  }
  strictImplement(func) {
    const validatedFunc = this.parse(func);
    return validatedFunc;
  }
  static create(args, returns, params) {
    return new _ZodFunction({
      args: args ? args : ZodTuple2.create([]).rest(ZodUnknown2.create()),
      returns: returns || ZodUnknown2.create(),
      typeName: ZodFirstPartyTypeKind2.ZodFunction,
      ...processCreateParams(params)
    });
  }
};
var ZodLazy2 = class extends ZodType2 {
  get schema() {
    return this._def.getter();
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const lazySchema = this._def.getter();
    return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });
  }
};
ZodLazy2.create = (getter, params) => {
  return new ZodLazy2({
    getter,
    typeName: ZodFirstPartyTypeKind2.ZodLazy,
    ...processCreateParams(params)
  });
};
var ZodLiteral2 = class extends ZodType2 {
  _parse(input) {
    if (input.data !== this._def.value) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_literal,
        expected: this._def.value
      });
      return INVALID;
    }
    return { status: "valid", value: input.data };
  }
  get value() {
    return this._def.value;
  }
};
ZodLiteral2.create = (value, params) => {
  return new ZodLiteral2({
    value,
    typeName: ZodFirstPartyTypeKind2.ZodLiteral,
    ...processCreateParams(params)
  });
};
function createZodEnum(values, params) {
  return new ZodEnum2({
    values,
    typeName: ZodFirstPartyTypeKind2.ZodEnum,
    ...processCreateParams(params)
  });
}
var ZodEnum2 = class _ZodEnum extends ZodType2 {
  _parse(input) {
    if (typeof input.data !== "string") {
      const ctx = this._getOrReturnCtx(input);
      const expectedValues = this._def.values;
      addIssueToContext(ctx, {
        expected: util.joinValues(expectedValues),
        received: ctx.parsedType,
        code: ZodIssueCode2.invalid_type
      });
      return INVALID;
    }
    if (!this._cache) {
      this._cache = new Set(this._def.values);
    }
    if (!this._cache.has(input.data)) {
      const ctx = this._getOrReturnCtx(input);
      const expectedValues = this._def.values;
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_enum_value,
        options: expectedValues
      });
      return INVALID;
    }
    return OK(input.data);
  }
  get options() {
    return this._def.values;
  }
  get enum() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  get Values() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  get Enum() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  extract(values, newDef = this._def) {
    return _ZodEnum.create(values, {
      ...this._def,
      ...newDef
    });
  }
  exclude(values, newDef = this._def) {
    return _ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {
      ...this._def,
      ...newDef
    });
  }
};
ZodEnum2.create = createZodEnum;
var ZodNativeEnum = class extends ZodType2 {
  _parse(input) {
    const nativeEnumValues = util.getValidEnumValues(this._def.values);
    const ctx = this._getOrReturnCtx(input);
    if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {
      const expectedValues = util.objectValues(nativeEnumValues);
      addIssueToContext(ctx, {
        expected: util.joinValues(expectedValues),
        received: ctx.parsedType,
        code: ZodIssueCode2.invalid_type
      });
      return INVALID;
    }
    if (!this._cache) {
      this._cache = new Set(util.getValidEnumValues(this._def.values));
    }
    if (!this._cache.has(input.data)) {
      const expectedValues = util.objectValues(nativeEnumValues);
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_enum_value,
        options: expectedValues
      });
      return INVALID;
    }
    return OK(input.data);
  }
  get enum() {
    return this._def.values;
  }
};
ZodNativeEnum.create = (values, params) => {
  return new ZodNativeEnum({
    values,
    typeName: ZodFirstPartyTypeKind2.ZodNativeEnum,
    ...processCreateParams(params)
  });
};
var ZodPromise2 = class extends ZodType2 {
  unwrap() {
    return this._def.type;
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.promise,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);
    return OK(promisified.then((data) => {
      return this._def.type.parseAsync(data, {
        path: ctx.path,
        errorMap: ctx.common.contextualErrorMap
      });
    }));
  }
};
ZodPromise2.create = (schema, params) => {
  return new ZodPromise2({
    type: schema,
    typeName: ZodFirstPartyTypeKind2.ZodPromise,
    ...processCreateParams(params)
  });
};
var ZodEffects = class extends ZodType2 {
  innerType() {
    return this._def.schema;
  }
  sourceType() {
    return this._def.schema._def.typeName === ZodFirstPartyTypeKind2.ZodEffects ? this._def.schema.sourceType() : this._def.schema;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    const effect = this._def.effect || null;
    const checkCtx = {
      addIssue: (arg) => {
        addIssueToContext(ctx, arg);
        if (arg.fatal) {
          status.abort();
        } else {
          status.dirty();
        }
      },
      get path() {
        return ctx.path;
      }
    };
    checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);
    if (effect.type === "preprocess") {
      const processed = effect.transform(ctx.data, checkCtx);
      if (ctx.common.async) {
        return Promise.resolve(processed).then(async (processed2) => {
          if (status.value === "aborted")
            return INVALID;
          const result = await this._def.schema._parseAsync({
            data: processed2,
            path: ctx.path,
            parent: ctx
          });
          if (result.status === "aborted")
            return INVALID;
          if (result.status === "dirty")
            return DIRTY(result.value);
          if (status.value === "dirty")
            return DIRTY(result.value);
          return result;
        });
      } else {
        if (status.value === "aborted")
          return INVALID;
        const result = this._def.schema._parseSync({
          data: processed,
          path: ctx.path,
          parent: ctx
        });
        if (result.status === "aborted")
          return INVALID;
        if (result.status === "dirty")
          return DIRTY(result.value);
        if (status.value === "dirty")
          return DIRTY(result.value);
        return result;
      }
    }
    if (effect.type === "refinement") {
      const executeRefinement = (acc) => {
        const result = effect.refinement(acc, checkCtx);
        if (ctx.common.async) {
          return Promise.resolve(result);
        }
        if (result instanceof Promise) {
          throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
        }
        return acc;
      };
      if (ctx.common.async === false) {
        const inner = this._def.schema._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inner.status === "aborted")
          return INVALID;
        if (inner.status === "dirty")
          status.dirty();
        executeRefinement(inner.value);
        return { status: status.value, value: inner.value };
      } else {
        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {
          if (inner.status === "aborted")
            return INVALID;
          if (inner.status === "dirty")
            status.dirty();
          return executeRefinement(inner.value).then(() => {
            return { status: status.value, value: inner.value };
          });
        });
      }
    }
    if (effect.type === "transform") {
      if (ctx.common.async === false) {
        const base = this._def.schema._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (!isValid(base))
          return INVALID;
        const result = effect.transform(base.value, checkCtx);
        if (result instanceof Promise) {
          throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);
        }
        return { status: status.value, value: result };
      } else {
        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {
          if (!isValid(base))
            return INVALID;
          return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({
            status: status.value,
            value: result
          }));
        });
      }
    }
    util.assertNever(effect);
  }
};
ZodEffects.create = (schema, effect, params) => {
  return new ZodEffects({
    schema,
    typeName: ZodFirstPartyTypeKind2.ZodEffects,
    effect,
    ...processCreateParams(params)
  });
};
ZodEffects.createWithPreprocess = (preprocess2, schema, params) => {
  return new ZodEffects({
    schema,
    effect: { type: "preprocess", transform: preprocess2 },
    typeName: ZodFirstPartyTypeKind2.ZodEffects,
    ...processCreateParams(params)
  });
};
var ZodOptional2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 === ZodParsedType.undefined) {
      return OK(void 0);
    }
    return this._def.innerType._parse(input);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodOptional2.create = (type, params) => {
  return new ZodOptional2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodOptional,
    ...processCreateParams(params)
  });
};
var ZodNullable2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 === ZodParsedType.null) {
      return OK(null);
    }
    return this._def.innerType._parse(input);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodNullable2.create = (type, params) => {
  return new ZodNullable2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodNullable,
    ...processCreateParams(params)
  });
};
var ZodDefault2 = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    let data = ctx.data;
    if (ctx.parsedType === ZodParsedType.undefined) {
      data = this._def.defaultValue();
    }
    return this._def.innerType._parse({
      data,
      path: ctx.path,
      parent: ctx
    });
  }
  removeDefault() {
    return this._def.innerType;
  }
};
ZodDefault2.create = (type, params) => {
  return new ZodDefault2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodDefault,
    defaultValue: typeof params.default === "function" ? params.default : () => params.default,
    ...processCreateParams(params)
  });
};
var ZodCatch2 = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const newCtx = {
      ...ctx,
      common: {
        ...ctx.common,
        issues: []
      }
    };
    const result = this._def.innerType._parse({
      data: newCtx.data,
      path: newCtx.path,
      parent: {
        ...newCtx
      }
    });
    if (isAsync(result)) {
      return result.then((result2) => {
        return {
          status: "valid",
          value: result2.status === "valid" ? result2.value : this._def.catchValue({
            get error() {
              return new ZodError2(newCtx.common.issues);
            },
            input: newCtx.data
          })
        };
      });
    } else {
      return {
        status: "valid",
        value: result.status === "valid" ? result.value : this._def.catchValue({
          get error() {
            return new ZodError2(newCtx.common.issues);
          },
          input: newCtx.data
        })
      };
    }
  }
  removeCatch() {
    return this._def.innerType;
  }
};
ZodCatch2.create = (type, params) => {
  return new ZodCatch2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodCatch,
    catchValue: typeof params.catch === "function" ? params.catch : () => params.catch,
    ...processCreateParams(params)
  });
};
var ZodNaN2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.nan) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.nan,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return { status: "valid", value: input.data };
  }
};
ZodNaN2.create = (params) => {
  return new ZodNaN2({
    typeName: ZodFirstPartyTypeKind2.ZodNaN,
    ...processCreateParams(params)
  });
};
var BRAND = Symbol("zod_brand");
var ZodBranded = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const data = ctx.data;
    return this._def.type._parse({
      data,
      path: ctx.path,
      parent: ctx
    });
  }
  unwrap() {
    return this._def.type;
  }
};
var ZodPipeline = class _ZodPipeline extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.common.async) {
      const handleAsync = async () => {
        const inResult = await this._def.in._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inResult.status === "aborted")
          return INVALID;
        if (inResult.status === "dirty") {
          status.dirty();
          return DIRTY(inResult.value);
        } else {
          return this._def.out._parseAsync({
            data: inResult.value,
            path: ctx.path,
            parent: ctx
          });
        }
      };
      return handleAsync();
    } else {
      const inResult = this._def.in._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
      if (inResult.status === "aborted")
        return INVALID;
      if (inResult.status === "dirty") {
        status.dirty();
        return {
          status: "dirty",
          value: inResult.value
        };
      } else {
        return this._def.out._parseSync({
          data: inResult.value,
          path: ctx.path,
          parent: ctx
        });
      }
    }
  }
  static create(a2, b) {
    return new _ZodPipeline({
      in: a2,
      out: b,
      typeName: ZodFirstPartyTypeKind2.ZodPipeline
    });
  }
};
var ZodReadonly2 = class extends ZodType2 {
  _parse(input) {
    const result = this._def.innerType._parse(input);
    const freeze = (data) => {
      if (isValid(data)) {
        data.value = Object.freeze(data.value);
      }
      return data;
    };
    return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodReadonly2.create = (type, params) => {
  return new ZodReadonly2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodReadonly,
    ...processCreateParams(params)
  });
};
var late = {
  object: ZodObject2.lazycreate
};
var ZodFirstPartyTypeKind2;
(function(ZodFirstPartyTypeKind3) {
  ZodFirstPartyTypeKind3["ZodString"] = "ZodString";
  ZodFirstPartyTypeKind3["ZodNumber"] = "ZodNumber";
  ZodFirstPartyTypeKind3["ZodNaN"] = "ZodNaN";
  ZodFirstPartyTypeKind3["ZodBigInt"] = "ZodBigInt";
  ZodFirstPartyTypeKind3["ZodBoolean"] = "ZodBoolean";
  ZodFirstPartyTypeKind3["ZodDate"] = "ZodDate";
  ZodFirstPartyTypeKind3["ZodSymbol"] = "ZodSymbol";
  ZodFirstPartyTypeKind3["ZodUndefined"] = "ZodUndefined";
  ZodFirstPartyTypeKind3["ZodNull"] = "ZodNull";
  ZodFirstPartyTypeKind3["ZodAny"] = "ZodAny";
  ZodFirstPartyTypeKind3["ZodUnknown"] = "ZodUnknown";
  ZodFirstPartyTypeKind3["ZodNever"] = "ZodNever";
  ZodFirstPartyTypeKind3["ZodVoid"] = "ZodVoid";
  ZodFirstPartyTypeKind3["ZodArray"] = "ZodArray";
  ZodFirstPartyTypeKind3["ZodObject"] = "ZodObject";
  ZodFirstPartyTypeKind3["ZodUnion"] = "ZodUnion";
  ZodFirstPartyTypeKind3["ZodDiscriminatedUnion"] = "ZodDiscriminatedUnion";
  ZodFirstPartyTypeKind3["ZodIntersection"] = "ZodIntersection";
  ZodFirstPartyTypeKind3["ZodTuple"] = "ZodTuple";
  ZodFirstPartyTypeKind3["ZodRecord"] = "ZodRecord";
  ZodFirstPartyTypeKind3["ZodMap"] = "ZodMap";
  ZodFirstPartyTypeKind3["ZodSet"] = "ZodSet";
  ZodFirstPartyTypeKind3["ZodFunction"] = "ZodFunction";
  ZodFirstPartyTypeKind3["ZodLazy"] = "ZodLazy";
  ZodFirstPartyTypeKind3["ZodLiteral"] = "ZodLiteral";
  ZodFirstPartyTypeKind3["ZodEnum"] = "ZodEnum";
  ZodFirstPartyTypeKind3["ZodEffects"] = "ZodEffects";
  ZodFirstPartyTypeKind3["ZodNativeEnum"] = "ZodNativeEnum";
  ZodFirstPartyTypeKind3["ZodOptional"] = "ZodOptional";
  ZodFirstPartyTypeKind3["ZodNullable"] = "ZodNullable";
  ZodFirstPartyTypeKind3["ZodDefault"] = "ZodDefault";
  ZodFirstPartyTypeKind3["ZodCatch"] = "ZodCatch";
  ZodFirstPartyTypeKind3["ZodPromise"] = "ZodPromise";
  ZodFirstPartyTypeKind3["ZodBranded"] = "ZodBranded";
  ZodFirstPartyTypeKind3["ZodPipeline"] = "ZodPipeline";
  ZodFirstPartyTypeKind3["ZodReadonly"] = "ZodReadonly";
})(ZodFirstPartyTypeKind2 || (ZodFirstPartyTypeKind2 = {}));
var stringType = ZodString2.create;
var numberType = ZodNumber2.create;
var nanType = ZodNaN2.create;
var bigIntType = ZodBigInt2.create;
var booleanType = ZodBoolean2.create;
var dateType = ZodDate2.create;
var symbolType = ZodSymbol2.create;
var undefinedType = ZodUndefined2.create;
var nullType = ZodNull2.create;
var anyType = ZodAny2.create;
var unknownType = ZodUnknown2.create;
var neverType = ZodNever2.create;
var voidType = ZodVoid2.create;
var arrayType = ZodArray2.create;
var objectType = ZodObject2.create;
var strictObjectType = ZodObject2.strictCreate;
var unionType = ZodUnion2.create;
var discriminatedUnionType = ZodDiscriminatedUnion2.create;
var intersectionType = ZodIntersection2.create;
var tupleType = ZodTuple2.create;
var recordType = ZodRecord2.create;
var mapType = ZodMap2.create;
var setType = ZodSet2.create;
var functionType = ZodFunction2.create;
var lazyType = ZodLazy2.create;
var literalType = ZodLiteral2.create;
var enumType = ZodEnum2.create;
var nativeEnumType = ZodNativeEnum.create;
var promiseType = ZodPromise2.create;
var effectsType = ZodEffects.create;
var optionalType = ZodOptional2.create;
var nullableType = ZodNullable2.create;
var preprocessType = ZodEffects.createWithPreprocess;
var pipelineType = ZodPipeline.create;

// node_modules/@ai-sdk/provider-utils/dist/index.mjs
function combineHeaders(...headers) {
  return headers.reduce(
    (combinedHeaders, currentHeaders) => ({
      ...combinedHeaders,
      ...currentHeaders != null ? currentHeaders : {}
    }),
    {}
  );
}
async function delay(delayInMs, options) {
  if (delayInMs == null) {
    return Promise.resolve();
  }
  const signal = options == null ? void 0 : options.abortSignal;
  return new Promise((resolve2, reject) => {
    if (signal == null ? void 0 : signal.aborted) {
      reject(createAbortError());
      return;
    }
    const timeoutId = setTimeout(() => {
      cleanup();
      resolve2();
    }, delayInMs);
    const cleanup = () => {
      clearTimeout(timeoutId);
      signal == null ? void 0 : signal.removeEventListener("abort", onAbort);
    };
    const onAbort = () => {
      cleanup();
      reject(createAbortError());
    };
    signal == null ? void 0 : signal.addEventListener("abort", onAbort);
  });
}
function createAbortError() {
  return new DOMException("Delay was aborted", "AbortError");
}
function extractResponseHeaders(response) {
  return Object.fromEntries([...response.headers]);
}
function getRuntimeEnvironmentUserAgent(globalThisAny = globalThis) {
  var _a17, _b8, _c;
  if (globalThisAny.window) {
    return `runtime/browser`;
  }
  if ((_a17 = globalThisAny.navigator) == null ? void 0 : _a17.userAgent) {
    return `runtime/${globalThisAny.navigator.userAgent.toLowerCase()}`;
  }
  if ((_c = (_b8 = globalThisAny.process) == null ? void 0 : _b8.versions) == null ? void 0 : _c.node) {
    return `runtime/node.js/${globalThisAny.process.version.substring(0)}`;
  }
  if (globalThisAny.EdgeRuntime) {
    return `runtime/vercel-edge`;
  }
  return "runtime/unknown";
}
function removeUndefinedEntries(record2) {
  return Object.fromEntries(
    Object.entries(record2).filter(([_key, value]) => value != null)
  );
}
function withUserAgentSuffix(headers, ...userAgentSuffixParts) {
  const cleanedHeaders = removeUndefinedEntries(
    headers != null ? headers : {}
  );
  const normalizedHeaders = new Headers(cleanedHeaders);
  const currentUserAgentHeader = normalizedHeaders.get("user-agent") || "";
  normalizedHeaders.set(
    "user-agent",
    [currentUserAgentHeader, ...userAgentSuffixParts].filter(Boolean).join(" ")
  );
  return Object.fromEntries(normalizedHeaders);
}
var createIdGenerator = ({
  prefix,
  size = 16,
  alphabet = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",
  separator = "-"
} = {}) => {
  const generator = () => {
    const alphabetLength = alphabet.length;
    const chars = new Array(size);
    for (let i2 = 0; i2 < size; i2++) {
      chars[i2] = alphabet[Math.random() * alphabetLength | 0];
    }
    return chars.join("");
  };
  if (prefix == null) {
    return generator;
  }
  if (alphabet.includes(separator)) {
    throw new InvalidArgumentError({
      argument: "separator",
      message: `The separator "${separator}" must not be part of the alphabet "${alphabet}".`
    });
  }
  return () => `${prefix}${separator}${generator()}`;
};
var generateId = createIdGenerator();
function getErrorMessage2(error45) {
  if (error45 == null) {
    return "unknown error";
  }
  if (typeof error45 === "string") {
    return error45;
  }
  if (error45 instanceof Error) {
    return error45.message;
  }
  return JSON.stringify(error45);
}
function isAbortError(error45) {
  return (error45 instanceof Error || error45 instanceof DOMException) && (error45.name === "AbortError" || error45.name === "ResponseAborted" || // Next.js
  error45.name === "TimeoutError");
}
var FETCH_FAILED_ERROR_MESSAGES = ["fetch failed", "failed to fetch"];
function handleFetchError({
  error: error45,
  url: url2,
  requestBodyValues
}) {
  if (isAbortError(error45)) {
    return error45;
  }
  if (error45 instanceof TypeError && FETCH_FAILED_ERROR_MESSAGES.includes(error45.message.toLowerCase())) {
    const cause = error45.cause;
    if (cause != null) {
      return new APICallError({
        message: `Cannot connect to API: ${cause.message}`,
        cause,
        url: url2,
        requestBodyValues,
        isRetryable: true
        // retry when network error
      });
    }
  }
  return error45;
}
var VERSION = true ? "3.0.9" : "0.0.0-test";
var getOriginalFetch = () => globalThis.fetch;
var getFromApi = async ({
  url: url2,
  headers = {},
  successfulResponseHandler,
  failedResponseHandler,
  abortSignal,
  fetch: fetch2 = getOriginalFetch()
}) => {
  try {
    const response = await fetch2(url2, {
      method: "GET",
      headers: withUserAgentSuffix(
        headers,
        `ai-sdk/provider-utils/${VERSION}`,
        getRuntimeEnvironmentUserAgent()
      ),
      signal: abortSignal
    });
    const responseHeaders = extractResponseHeaders(response);
    if (!response.ok) {
      let errorInformation;
      try {
        errorInformation = await failedResponseHandler({
          response,
          url: url2,
          requestBodyValues: {}
        });
      } catch (error45) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
        throw new APICallError({
          message: "Failed to process error response",
          cause: error45,
          statusCode: response.status,
          url: url2,
          responseHeaders,
          requestBodyValues: {}
        });
      }
      throw errorInformation.value;
    }
    try {
      return await successfulResponseHandler({
        response,
        url: url2,
        requestBodyValues: {}
      });
    } catch (error45) {
      if (error45 instanceof Error) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
      }
      throw new APICallError({
        message: "Failed to process successful response",
        cause: error45,
        statusCode: response.status,
        url: url2,
        responseHeaders,
        requestBodyValues: {}
      });
    }
  } catch (error45) {
    throw handleFetchError({ error: error45, url: url2, requestBodyValues: {} });
  }
};
function isUrlSupported({
  mediaType,
  url: url2,
  supportedUrls
}) {
  url2 = url2.toLowerCase();
  mediaType = mediaType.toLowerCase();
  return Object.entries(supportedUrls).map(([key, value]) => {
    const mediaType2 = key.toLowerCase();
    return mediaType2 === "*" || mediaType2 === "*/*" ? { mediaTypePrefix: "", regexes: value } : { mediaTypePrefix: mediaType2.replace(/\*/, ""), regexes: value };
  }).filter(({ mediaTypePrefix }) => mediaType.startsWith(mediaTypePrefix)).flatMap(({ regexes }) => regexes).some((pattern) => pattern.test(url2));
}
function loadOptionalSetting({
  settingValue,
  environmentVariableName
}) {
  if (typeof settingValue === "string") {
    return settingValue;
  }
  if (settingValue != null || typeof process === "undefined") {
    return void 0;
  }
  settingValue = process.env[environmentVariableName];
  if (settingValue == null || typeof settingValue !== "string") {
    return void 0;
  }
  return settingValue;
}
var suspectProtoRx = /"__proto__"\s*:/;
var suspectConstructorRx = /"constructor"\s*:/;
function _parse2(text2) {
  const obj = JSON.parse(text2);
  if (obj === null || typeof obj !== "object") {
    return obj;
  }
  if (suspectProtoRx.test(text2) === false && suspectConstructorRx.test(text2) === false) {
    return obj;
  }
  return filter(obj);
}
function filter(obj) {
  let next = [obj];
  while (next.length) {
    const nodes = next;
    next = [];
    for (const node of nodes) {
      if (Object.prototype.hasOwnProperty.call(node, "__proto__")) {
        throw new SyntaxError("Object contains forbidden prototype property");
      }
      if (Object.prototype.hasOwnProperty.call(node, "constructor") && Object.prototype.hasOwnProperty.call(node.constructor, "prototype")) {
        throw new SyntaxError("Object contains forbidden prototype property");
      }
      for (const key in node) {
        const value = node[key];
        if (value && typeof value === "object") {
          next.push(value);
        }
      }
    }
  }
  return obj;
}
function secureJsonParse(text2) {
  const { stackTraceLimit } = Error;
  Error.stackTraceLimit = 0;
  try {
    return _parse2(text2);
  } finally {
    Error.stackTraceLimit = stackTraceLimit;
  }
}
var validatorSymbol = Symbol.for("vercel.ai.validator");
function validator(validate) {
  return { [validatorSymbol]: true, validate };
}
function isValidator(value) {
  return typeof value === "object" && value !== null && validatorSymbol in value && value[validatorSymbol] === true && "validate" in value;
}
function asValidator(value) {
  return isValidator(value) ? value : standardSchemaValidator(value);
}
function standardSchemaValidator(standardSchema) {
  return validator(async (value) => {
    const result = await standardSchema["~standard"].validate(value);
    return result.issues == null ? { success: true, value: result.value } : {
      success: false,
      error: new TypeValidationError({
        value,
        cause: result.issues
      })
    };
  });
}
async function validateTypes({
  value,
  schema
}) {
  const result = await safeValidateTypes({ value, schema });
  if (!result.success) {
    throw TypeValidationError.wrap({ value, cause: result.error });
  }
  return result.value;
}
async function safeValidateTypes({
  value,
  schema
}) {
  const validator2 = asValidator(schema);
  try {
    if (validator2.validate == null) {
      return { success: true, value, rawValue: value };
    }
    const result = await validator2.validate(value);
    if (result.success) {
      return { success: true, value: result.value, rawValue: value };
    }
    return {
      success: false,
      error: TypeValidationError.wrap({ value, cause: result.error }),
      rawValue: value
    };
  } catch (error45) {
    return {
      success: false,
      error: TypeValidationError.wrap({ value, cause: error45 }),
      rawValue: value
    };
  }
}
async function parseJSON({
  text: text2,
  schema
}) {
  try {
    const value = secureJsonParse(text2);
    if (schema == null) {
      return value;
    }
    return validateTypes({ value, schema });
  } catch (error45) {
    if (JSONParseError.isInstance(error45) || TypeValidationError.isInstance(error45)) {
      throw error45;
    }
    throw new JSONParseError({ text: text2, cause: error45 });
  }
}
async function safeParseJSON({
  text: text2,
  schema
}) {
  try {
    const value = secureJsonParse(text2);
    if (schema == null) {
      return { success: true, value, rawValue: value };
    }
    return await safeValidateTypes({ value, schema });
  } catch (error45) {
    return {
      success: false,
      error: JSONParseError.isInstance(error45) ? error45 : new JSONParseError({ text: text2, cause: error45 }),
      rawValue: void 0
    };
  }
}
function parseJsonEventStream({
  stream,
  schema
}) {
  return stream.pipeThrough(new TextDecoderStream()).pipeThrough(new EventSourceParserStream()).pipeThrough(
    new TransformStream({
      async transform({ data }, controller) {
        if (data === "[DONE]") {
          return;
        }
        controller.enqueue(await safeParseJSON({ text: data, schema }));
      }
    })
  );
}
var getOriginalFetch2 = () => globalThis.fetch;
var postJsonToApi = async ({
  url: url2,
  headers,
  body,
  failedResponseHandler,
  successfulResponseHandler,
  abortSignal,
  fetch: fetch2
}) => postToApi({
  url: url2,
  headers: {
    "Content-Type": "application/json",
    ...headers
  },
  body: {
    content: JSON.stringify(body),
    values: body
  },
  failedResponseHandler,
  successfulResponseHandler,
  abortSignal,
  fetch: fetch2
});
var postToApi = async ({
  url: url2,
  headers = {},
  body,
  successfulResponseHandler,
  failedResponseHandler,
  abortSignal,
  fetch: fetch2 = getOriginalFetch2()
}) => {
  try {
    const response = await fetch2(url2, {
      method: "POST",
      headers: withUserAgentSuffix(
        headers,
        `ai-sdk/provider-utils/${VERSION}`,
        getRuntimeEnvironmentUserAgent()
      ),
      body: body.content,
      signal: abortSignal
    });
    const responseHeaders = extractResponseHeaders(response);
    if (!response.ok) {
      let errorInformation;
      try {
        errorInformation = await failedResponseHandler({
          response,
          url: url2,
          requestBodyValues: body.values
        });
      } catch (error45) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
        throw new APICallError({
          message: "Failed to process error response",
          cause: error45,
          statusCode: response.status,
          url: url2,
          responseHeaders,
          requestBodyValues: body.values
        });
      }
      throw errorInformation.value;
    }
    try {
      return await successfulResponseHandler({
        response,
        url: url2,
        requestBodyValues: body.values
      });
    } catch (error45) {
      if (error45 instanceof Error) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
      }
      throw new APICallError({
        message: "Failed to process successful response",
        cause: error45,
        statusCode: response.status,
        url: url2,
        responseHeaders,
        requestBodyValues: body.values
      });
    }
  } catch (error45) {
    throw handleFetchError({ error: error45, url: url2, requestBodyValues: body.values });
  }
};
function tool(tool2) {
  return tool2;
}
async function resolve(value) {
  if (typeof value === "function") {
    value = value();
  }
  return Promise.resolve(value);
}
var createJsonErrorResponseHandler = ({
  errorSchema,
  errorToMessage,
  isRetryable
}) => async ({ response, url: url2, requestBodyValues }) => {
  const responseBody = await response.text();
  const responseHeaders = extractResponseHeaders(response);
  if (responseBody.trim() === "") {
    return {
      responseHeaders,
      value: new APICallError({
        message: response.statusText,
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response)
      })
    };
  }
  try {
    const parsedError = await parseJSON({
      text: responseBody,
      schema: errorSchema
    });
    return {
      responseHeaders,
      value: new APICallError({
        message: errorToMessage(parsedError),
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        data: parsedError,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response, parsedError)
      })
    };
  } catch (parseError) {
    return {
      responseHeaders,
      value: new APICallError({
        message: response.statusText,
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response)
      })
    };
  }
};
var createEventSourceResponseHandler = (chunkSchema) => async ({ response }) => {
  const responseHeaders = extractResponseHeaders(response);
  if (response.body == null) {
    throw new EmptyResponseBodyError({});
  }
  return {
    responseHeaders,
    value: parseJsonEventStream({
      stream: response.body,
      schema: chunkSchema
    })
  };
};
var createJsonResponseHandler = (responseSchema) => async ({ response, url: url2, requestBodyValues }) => {
  const responseBody = await response.text();
  const parsedResult = await safeParseJSON({
    text: responseBody,
    schema: responseSchema
  });
  const responseHeaders = extractResponseHeaders(response);
  if (!parsedResult.success) {
    throw new APICallError({
      message: "Invalid JSON response",
      cause: parsedResult.error,
      statusCode: response.status,
      responseHeaders,
      responseBody,
      url: url2,
      requestBodyValues
    });
  }
  return {
    responseHeaders,
    value: parsedResult.value,
    rawValue: parsedResult.rawValue
  };
};
var getRelativePath = (pathA, pathB) => {
  let i2 = 0;
  for (; i2 < pathA.length && i2 < pathB.length; i2++) {
    if (pathA[i2] !== pathB[i2])
      break;
  }
  return [(pathA.length - i2).toString(), ...pathB.slice(i2)].join("/");
};
var ignoreOverride = Symbol(
  "Let zodToJsonSchema decide on which parser to use"
);
var defaultOptions = {
  name: void 0,
  $refStrategy: "root",
  basePath: ["#"],
  effectStrategy: "input",
  pipeStrategy: "all",
  dateStrategy: "format:date-time",
  mapStrategy: "entries",
  removeAdditionalStrategy: "passthrough",
  allowedAdditionalProperties: true,
  rejectedAdditionalProperties: false,
  definitionPath: "definitions",
  strictUnions: false,
  definitions: {},
  errorMessages: false,
  patternStrategy: "escape",
  applyRegexFlags: false,
  emailStrategy: "format:email",
  base64Strategy: "contentEncoding:base64",
  nameStrategy: "ref"
};
var getDefaultOptions = (options) => typeof options === "string" ? {
  ...defaultOptions,
  name: options
} : {
  ...defaultOptions,
  ...options
};
function parseAnyDef() {
  return {};
}
function parseArrayDef(def, refs) {
  var _a17, _b8, _c;
  const res = {
    type: "array"
  };
  if (((_a17 = def.type) == null ? void 0 : _a17._def) && ((_c = (_b8 = def.type) == null ? void 0 : _b8._def) == null ? void 0 : _c.typeName) !== ZodFirstPartyTypeKind2.ZodAny) {
    res.items = parseDef(def.type._def, {
      ...refs,
      currentPath: [...refs.currentPath, "items"]
    });
  }
  if (def.minLength) {
    res.minItems = def.minLength.value;
  }
  if (def.maxLength) {
    res.maxItems = def.maxLength.value;
  }
  if (def.exactLength) {
    res.minItems = def.exactLength.value;
    res.maxItems = def.exactLength.value;
  }
  return res;
}
function parseBigintDef(def) {
  const res = {
    type: "integer",
    format: "int64"
  };
  if (!def.checks)
    return res;
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "min":
        if (check2.inclusive) {
          res.minimum = check2.value;
        } else {
          res.exclusiveMinimum = check2.value;
        }
        break;
      case "max":
        if (check2.inclusive) {
          res.maximum = check2.value;
        } else {
          res.exclusiveMaximum = check2.value;
        }
        break;
      case "multipleOf":
        res.multipleOf = check2.value;
        break;
    }
  }
  return res;
}
function parseBooleanDef() {
  return { type: "boolean" };
}
function parseBrandedDef(_def, refs) {
  return parseDef(_def.type._def, refs);
}
var parseCatchDef = (def, refs) => {
  return parseDef(def.innerType._def, refs);
};
function parseDateDef(def, refs, overrideDateStrategy) {
  const strategy = overrideDateStrategy != null ? overrideDateStrategy : refs.dateStrategy;
  if (Array.isArray(strategy)) {
    return {
      anyOf: strategy.map((item, i2) => parseDateDef(def, refs, item))
    };
  }
  switch (strategy) {
    case "string":
    case "format:date-time":
      return {
        type: "string",
        format: "date-time"
      };
    case "format:date":
      return {
        type: "string",
        format: "date"
      };
    case "integer":
      return integerDateParser(def);
  }
}
var integerDateParser = (def) => {
  const res = {
    type: "integer",
    format: "unix-time"
  };
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "min":
        res.minimum = check2.value;
        break;
      case "max":
        res.maximum = check2.value;
        break;
    }
  }
  return res;
};
function parseDefaultDef(_def, refs) {
  return {
    ...parseDef(_def.innerType._def, refs),
    default: _def.defaultValue()
  };
}
function parseEffectsDef(_def, refs) {
  return refs.effectStrategy === "input" ? parseDef(_def.schema._def, refs) : parseAnyDef();
}
function parseEnumDef(def) {
  return {
    type: "string",
    enum: Array.from(def.values)
  };
}
var isJsonSchema7AllOfType = (type) => {
  if ("type" in type && type.type === "string")
    return false;
  return "allOf" in type;
};
function parseIntersectionDef(def, refs) {
  const allOf = [
    parseDef(def.left._def, {
      ...refs,
      currentPath: [...refs.currentPath, "allOf", "0"]
    }),
    parseDef(def.right._def, {
      ...refs,
      currentPath: [...refs.currentPath, "allOf", "1"]
    })
  ].filter((x) => !!x);
  const mergedAllOf = [];
  allOf.forEach((schema) => {
    if (isJsonSchema7AllOfType(schema)) {
      mergedAllOf.push(...schema.allOf);
    } else {
      let nestedSchema = schema;
      if ("additionalProperties" in schema && schema.additionalProperties === false) {
        const { additionalProperties, ...rest } = schema;
        nestedSchema = rest;
      }
      mergedAllOf.push(nestedSchema);
    }
  });
  return mergedAllOf.length ? { allOf: mergedAllOf } : void 0;
}
function parseLiteralDef(def) {
  const parsedType7 = typeof def.value;
  if (parsedType7 !== "bigint" && parsedType7 !== "number" && parsedType7 !== "boolean" && parsedType7 !== "string") {
    return {
      type: Array.isArray(def.value) ? "array" : "object"
    };
  }
  return {
    type: parsedType7 === "bigint" ? "integer" : parsedType7,
    const: def.value
  };
}
var emojiRegex2 = void 0;
var zodPatterns = {
  /**
   * `c` was changed to `[cC]` to replicate /i flag
   */
  cuid: /^[cC][^\s-]{8,}$/,
  cuid2: /^[0-9a-z]+$/,
  ulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,
  /**
   * `a-z` was added to replicate /i flag
   */
  email: /^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,
  /**
   * Constructed a valid Unicode RegExp
   *
   * Lazily instantiate since this type of regex isn't supported
   * in all envs (e.g. React Native).
   *
   * See:
   * https://github.com/colinhacks/zod/issues/2433
   * Fix in Zod:
   * https://github.com/colinhacks/zod/commit/9340fd51e48576a75adc919bff65dbc4a5d4c99b
   */
  emoji: () => {
    if (emojiRegex2 === void 0) {
      emojiRegex2 = RegExp(
        "^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",
        "u"
      );
    }
    return emojiRegex2;
  },
  /**
   * Unused
   */
  uuid: /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,
  /**
   * Unused
   */
  ipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,
  ipv4Cidr: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,
  /**
   * Unused
   */
  ipv6: /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,
  ipv6Cidr: /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,
  base64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,
  base64url: /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,
  nanoid: /^[a-zA-Z0-9_-]{21}$/,
  jwt: /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/
};
function parseStringDef(def, refs) {
  const res = {
    type: "string"
  };
  if (def.checks) {
    for (const check2 of def.checks) {
      switch (check2.kind) {
        case "min":
          res.minLength = typeof res.minLength === "number" ? Math.max(res.minLength, check2.value) : check2.value;
          break;
        case "max":
          res.maxLength = typeof res.maxLength === "number" ? Math.min(res.maxLength, check2.value) : check2.value;
          break;
        case "email":
          switch (refs.emailStrategy) {
            case "format:email":
              addFormat(res, "email", check2.message, refs);
              break;
            case "format:idn-email":
              addFormat(res, "idn-email", check2.message, refs);
              break;
            case "pattern:zod":
              addPattern(res, zodPatterns.email, check2.message, refs);
              break;
          }
          break;
        case "url":
          addFormat(res, "uri", check2.message, refs);
          break;
        case "uuid":
          addFormat(res, "uuid", check2.message, refs);
          break;
        case "regex":
          addPattern(res, check2.regex, check2.message, refs);
          break;
        case "cuid":
          addPattern(res, zodPatterns.cuid, check2.message, refs);
          break;
        case "cuid2":
          addPattern(res, zodPatterns.cuid2, check2.message, refs);
          break;
        case "startsWith":
          addPattern(
            res,
            RegExp(`^${escapeLiteralCheckValue(check2.value, refs)}`),
            check2.message,
            refs
          );
          break;
        case "endsWith":
          addPattern(
            res,
            RegExp(`${escapeLiteralCheckValue(check2.value, refs)}$`),
            check2.message,
            refs
          );
          break;
        case "datetime":
          addFormat(res, "date-time", check2.message, refs);
          break;
        case "date":
          addFormat(res, "date", check2.message, refs);
          break;
        case "time":
          addFormat(res, "time", check2.message, refs);
          break;
        case "duration":
          addFormat(res, "duration", check2.message, refs);
          break;
        case "length":
          res.minLength = typeof res.minLength === "number" ? Math.max(res.minLength, check2.value) : check2.value;
          res.maxLength = typeof res.maxLength === "number" ? Math.min(res.maxLength, check2.value) : check2.value;
          break;
        case "includes": {
          addPattern(
            res,
            RegExp(escapeLiteralCheckValue(check2.value, refs)),
            check2.message,
            refs
          );
          break;
        }
        case "ip": {
          if (check2.version !== "v6") {
            addFormat(res, "ipv4", check2.message, refs);
          }
          if (check2.version !== "v4") {
            addFormat(res, "ipv6", check2.message, refs);
          }
          break;
        }
        case "base64url":
          addPattern(res, zodPatterns.base64url, check2.message, refs);
          break;
        case "jwt":
          addPattern(res, zodPatterns.jwt, check2.message, refs);
          break;
        case "cidr": {
          if (check2.version !== "v6") {
            addPattern(res, zodPatterns.ipv4Cidr, check2.message, refs);
          }
          if (check2.version !== "v4") {
            addPattern(res, zodPatterns.ipv6Cidr, check2.message, refs);
          }
          break;
        }
        case "emoji":
          addPattern(res, zodPatterns.emoji(), check2.message, refs);
          break;
        case "ulid": {
          addPattern(res, zodPatterns.ulid, check2.message, refs);
          break;
        }
        case "base64": {
          switch (refs.base64Strategy) {
            case "format:binary": {
              addFormat(res, "binary", check2.message, refs);
              break;
            }
            case "contentEncoding:base64": {
              res.contentEncoding = "base64";
              break;
            }
            case "pattern:zod": {
              addPattern(res, zodPatterns.base64, check2.message, refs);
              break;
            }
          }
          break;
        }
        case "nanoid": {
          addPattern(res, zodPatterns.nanoid, check2.message, refs);
        }
        case "toLowerCase":
        case "toUpperCase":
        case "trim":
          break;
        default:
          /* @__PURE__ */ ((_) => {
          })(check2);
      }
    }
  }
  return res;
}
function escapeLiteralCheckValue(literal2, refs) {
  return refs.patternStrategy === "escape" ? escapeNonAlphaNumeric(literal2) : literal2;
}
var ALPHA_NUMERIC = new Set(
  "ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789"
);
function escapeNonAlphaNumeric(source) {
  let result = "";
  for (let i2 = 0; i2 < source.length; i2++) {
    if (!ALPHA_NUMERIC.has(source[i2])) {
      result += "\\";
    }
    result += source[i2];
  }
  return result;
}
function addFormat(schema, value, message, refs) {
  var _a17;
  if (schema.format || ((_a17 = schema.anyOf) == null ? void 0 : _a17.some((x) => x.format))) {
    if (!schema.anyOf) {
      schema.anyOf = [];
    }
    if (schema.format) {
      schema.anyOf.push({
        format: schema.format
      });
      delete schema.format;
    }
    schema.anyOf.push({
      format: value,
      ...message && refs.errorMessages && { errorMessage: { format: message } }
    });
  } else {
    schema.format = value;
  }
}
function addPattern(schema, regex, message, refs) {
  var _a17;
  if (schema.pattern || ((_a17 = schema.allOf) == null ? void 0 : _a17.some((x) => x.pattern))) {
    if (!schema.allOf) {
      schema.allOf = [];
    }
    if (schema.pattern) {
      schema.allOf.push({
        pattern: schema.pattern
      });
      delete schema.pattern;
    }
    schema.allOf.push({
      pattern: stringifyRegExpWithFlags(regex, refs),
      ...message && refs.errorMessages && { errorMessage: { pattern: message } }
    });
  } else {
    schema.pattern = stringifyRegExpWithFlags(regex, refs);
  }
}
function stringifyRegExpWithFlags(regex, refs) {
  var _a17;
  if (!refs.applyRegexFlags || !regex.flags) {
    return regex.source;
  }
  const flags = {
    i: regex.flags.includes("i"),
    // Case-insensitive
    m: regex.flags.includes("m"),
    // `^` and `$` matches adjacent to newline characters
    s: regex.flags.includes("s")
    // `.` matches newlines
  };
  const source = flags.i ? regex.source.toLowerCase() : regex.source;
  let pattern = "";
  let isEscaped = false;
  let inCharGroup = false;
  let inCharRange = false;
  for (let i2 = 0; i2 < source.length; i2++) {
    if (isEscaped) {
      pattern += source[i2];
      isEscaped = false;
      continue;
    }
    if (flags.i) {
      if (inCharGroup) {
        if (source[i2].match(/[a-z]/)) {
          if (inCharRange) {
            pattern += source[i2];
            pattern += `${source[i2 - 2]}-${source[i2]}`.toUpperCase();
            inCharRange = false;
          } else if (source[i2 + 1] === "-" && ((_a17 = source[i2 + 2]) == null ? void 0 : _a17.match(/[a-z]/))) {
            pattern += source[i2];
            inCharRange = true;
          } else {
            pattern += `${source[i2]}${source[i2].toUpperCase()}`;
          }
          continue;
        }
      } else if (source[i2].match(/[a-z]/)) {
        pattern += `[${source[i2]}${source[i2].toUpperCase()}]`;
        continue;
      }
    }
    if (flags.m) {
      if (source[i2] === "^") {
        pattern += `(^|(?<=[\r
]))`;
        continue;
      } else if (source[i2] === "$") {
        pattern += `($|(?=[\r
]))`;
        continue;
      }
    }
    if (flags.s && source[i2] === ".") {
      pattern += inCharGroup ? `${source[i2]}\r
` : `[${source[i2]}\r
]`;
      continue;
    }
    pattern += source[i2];
    if (source[i2] === "\\") {
      isEscaped = true;
    } else if (inCharGroup && source[i2] === "]") {
      inCharGroup = false;
    } else if (!inCharGroup && source[i2] === "[") {
      inCharGroup = true;
    }
  }
  try {
    new RegExp(pattern);
  } catch (e2) {
    console.warn(
      `Could not convert regex pattern at ${refs.currentPath.join(
        "/"
      )} to a flag-independent form! Falling back to the flag-ignorant source`
    );
    return regex.source;
  }
  return pattern;
}
function parseRecordDef(def, refs) {
  var _a17, _b8, _c, _d, _e, _f;
  const schema = {
    type: "object",
    additionalProperties: (_a17 = parseDef(def.valueType._def, {
      ...refs,
      currentPath: [...refs.currentPath, "additionalProperties"]
    })) != null ? _a17 : refs.allowedAdditionalProperties
  };
  if (((_b8 = def.keyType) == null ? void 0 : _b8._def.typeName) === ZodFirstPartyTypeKind2.ZodString && ((_c = def.keyType._def.checks) == null ? void 0 : _c.length)) {
    const { type, ...keyType } = parseStringDef(def.keyType._def, refs);
    return {
      ...schema,
      propertyNames: keyType
    };
  } else if (((_d = def.keyType) == null ? void 0 : _d._def.typeName) === ZodFirstPartyTypeKind2.ZodEnum) {
    return {
      ...schema,
      propertyNames: {
        enum: def.keyType._def.values
      }
    };
  } else if (((_e = def.keyType) == null ? void 0 : _e._def.typeName) === ZodFirstPartyTypeKind2.ZodBranded && def.keyType._def.type._def.typeName === ZodFirstPartyTypeKind2.ZodString && ((_f = def.keyType._def.type._def.checks) == null ? void 0 : _f.length)) {
    const { type, ...keyType } = parseBrandedDef(
      def.keyType._def,
      refs
    );
    return {
      ...schema,
      propertyNames: keyType
    };
  }
  return schema;
}
function parseMapDef(def, refs) {
  if (refs.mapStrategy === "record") {
    return parseRecordDef(def, refs);
  }
  const keys = parseDef(def.keyType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "items", "items", "0"]
  }) || parseAnyDef();
  const values = parseDef(def.valueType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "items", "items", "1"]
  }) || parseAnyDef();
  return {
    type: "array",
    maxItems: 125,
    items: {
      type: "array",
      items: [keys, values],
      minItems: 2,
      maxItems: 2
    }
  };
}
function parseNativeEnumDef(def) {
  const object3 = def.values;
  const actualKeys = Object.keys(def.values).filter((key) => {
    return typeof object3[object3[key]] !== "number";
  });
  const actualValues = actualKeys.map((key) => object3[key]);
  const parsedTypes = Array.from(
    new Set(actualValues.map((values) => typeof values))
  );
  return {
    type: parsedTypes.length === 1 ? parsedTypes[0] === "string" ? "string" : "number" : ["string", "number"],
    enum: actualValues
  };
}
function parseNeverDef() {
  return { not: parseAnyDef() };
}
function parseNullDef() {
  return {
    type: "null"
  };
}
var primitiveMappings = {
  ZodString: "string",
  ZodNumber: "number",
  ZodBigInt: "integer",
  ZodBoolean: "boolean",
  ZodNull: "null"
};
function parseUnionDef(def, refs) {
  const options = def.options instanceof Map ? Array.from(def.options.values()) : def.options;
  if (options.every(
    (x) => x._def.typeName in primitiveMappings && (!x._def.checks || !x._def.checks.length)
  )) {
    const types2 = options.reduce((types22, x) => {
      const type = primitiveMappings[x._def.typeName];
      return type && !types22.includes(type) ? [...types22, type] : types22;
    }, []);
    return {
      type: types2.length > 1 ? types2 : types2[0]
    };
  } else if (options.every((x) => x._def.typeName === "ZodLiteral" && !x.description)) {
    const types2 = options.reduce(
      (acc, x) => {
        const type = typeof x._def.value;
        switch (type) {
          case "string":
          case "number":
          case "boolean":
            return [...acc, type];
          case "bigint":
            return [...acc, "integer"];
          case "object":
            if (x._def.value === null)
              return [...acc, "null"];
          case "symbol":
          case "undefined":
          case "function":
          default:
            return acc;
        }
      },
      []
    );
    if (types2.length === options.length) {
      const uniqueTypes = types2.filter((x, i2, a2) => a2.indexOf(x) === i2);
      return {
        type: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],
        enum: options.reduce(
          (acc, x) => {
            return acc.includes(x._def.value) ? acc : [...acc, x._def.value];
          },
          []
        )
      };
    }
  } else if (options.every((x) => x._def.typeName === "ZodEnum")) {
    return {
      type: "string",
      enum: options.reduce(
        (acc, x) => [
          ...acc,
          ...x._def.values.filter((x2) => !acc.includes(x2))
        ],
        []
      )
    };
  }
  return asAnyOf(def, refs);
}
var asAnyOf = (def, refs) => {
  const anyOf = (def.options instanceof Map ? Array.from(def.options.values()) : def.options).map(
    (x, i2) => parseDef(x._def, {
      ...refs,
      currentPath: [...refs.currentPath, "anyOf", `${i2}`]
    })
  ).filter(
    (x) => !!x && (!refs.strictUnions || typeof x === "object" && Object.keys(x).length > 0)
  );
  return anyOf.length ? { anyOf } : void 0;
};
function parseNullableDef(def, refs) {
  if (["ZodString", "ZodNumber", "ZodBigInt", "ZodBoolean", "ZodNull"].includes(
    def.innerType._def.typeName
  ) && (!def.innerType._def.checks || !def.innerType._def.checks.length)) {
    return {
      type: [
        primitiveMappings[def.innerType._def.typeName],
        "null"
      ]
    };
  }
  const base = parseDef(def.innerType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "anyOf", "0"]
  });
  return base && { anyOf: [base, { type: "null" }] };
}
function parseNumberDef(def) {
  const res = {
    type: "number"
  };
  if (!def.checks)
    return res;
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "int":
        res.type = "integer";
        break;
      case "min":
        if (check2.inclusive) {
          res.minimum = check2.value;
        } else {
          res.exclusiveMinimum = check2.value;
        }
        break;
      case "max":
        if (check2.inclusive) {
          res.maximum = check2.value;
        } else {
          res.exclusiveMaximum = check2.value;
        }
        break;
      case "multipleOf":
        res.multipleOf = check2.value;
        break;
    }
  }
  return res;
}
function parseObjectDef(def, refs) {
  const result = {
    type: "object",
    properties: {}
  };
  const required2 = [];
  const shape = def.shape();
  for (const propName in shape) {
    let propDef = shape[propName];
    if (propDef === void 0 || propDef._def === void 0) {
      continue;
    }
    const propOptional = safeIsOptional(propDef);
    const parsedDef = parseDef(propDef._def, {
      ...refs,
      currentPath: [...refs.currentPath, "properties", propName],
      propertyPath: [...refs.currentPath, "properties", propName]
    });
    if (parsedDef === void 0) {
      continue;
    }
    result.properties[propName] = parsedDef;
    if (!propOptional) {
      required2.push(propName);
    }
  }
  if (required2.length) {
    result.required = required2;
  }
  const additionalProperties = decideAdditionalProperties(def, refs);
  if (additionalProperties !== void 0) {
    result.additionalProperties = additionalProperties;
  }
  return result;
}
function decideAdditionalProperties(def, refs) {
  if (def.catchall._def.typeName !== "ZodNever") {
    return parseDef(def.catchall._def, {
      ...refs,
      currentPath: [...refs.currentPath, "additionalProperties"]
    });
  }
  switch (def.unknownKeys) {
    case "passthrough":
      return refs.allowedAdditionalProperties;
    case "strict":
      return refs.rejectedAdditionalProperties;
    case "strip":
      return refs.removeAdditionalStrategy === "strict" ? refs.allowedAdditionalProperties : refs.rejectedAdditionalProperties;
  }
}
function safeIsOptional(schema) {
  try {
    return schema.isOptional();
  } catch (e2) {
    return true;
  }
}
var parseOptionalDef = (def, refs) => {
  var _a17;
  if (refs.currentPath.toString() === ((_a17 = refs.propertyPath) == null ? void 0 : _a17.toString())) {
    return parseDef(def.innerType._def, refs);
  }
  const innerSchema = parseDef(def.innerType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "anyOf", "1"]
  });
  return innerSchema ? { anyOf: [{ not: parseAnyDef() }, innerSchema] } : parseAnyDef();
};
var parsePipelineDef = (def, refs) => {
  if (refs.pipeStrategy === "input") {
    return parseDef(def.in._def, refs);
  } else if (refs.pipeStrategy === "output") {
    return parseDef(def.out._def, refs);
  }
  const a2 = parseDef(def.in._def, {
    ...refs,
    currentPath: [...refs.currentPath, "allOf", "0"]
  });
  const b = parseDef(def.out._def, {
    ...refs,
    currentPath: [...refs.currentPath, "allOf", a2 ? "1" : "0"]
  });
  return {
    allOf: [a2, b].filter((x) => x !== void 0)
  };
};
function parsePromiseDef(def, refs) {
  return parseDef(def.type._def, refs);
}
function parseSetDef(def, refs) {
  const items = parseDef(def.valueType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "items"]
  });
  const schema = {
    type: "array",
    uniqueItems: true,
    items
  };
  if (def.minSize) {
    schema.minItems = def.minSize.value;
  }
  if (def.maxSize) {
    schema.maxItems = def.maxSize.value;
  }
  return schema;
}
function parseTupleDef(def, refs) {
  if (def.rest) {
    return {
      type: "array",
      minItems: def.items.length,
      items: def.items.map(
        (x, i2) => parseDef(x._def, {
          ...refs,
          currentPath: [...refs.currentPath, "items", `${i2}`]
        })
      ).reduce(
        (acc, x) => x === void 0 ? acc : [...acc, x],
        []
      ),
      additionalItems: parseDef(def.rest._def, {
        ...refs,
        currentPath: [...refs.currentPath, "additionalItems"]
      })
    };
  } else {
    return {
      type: "array",
      minItems: def.items.length,
      maxItems: def.items.length,
      items: def.items.map(
        (x, i2) => parseDef(x._def, {
          ...refs,
          currentPath: [...refs.currentPath, "items", `${i2}`]
        })
      ).reduce(
        (acc, x) => x === void 0 ? acc : [...acc, x],
        []
      )
    };
  }
}
function parseUndefinedDef() {
  return {
    not: parseAnyDef()
  };
}
function parseUnknownDef() {
  return parseAnyDef();
}
var parseReadonlyDef = (def, refs) => {
  return parseDef(def.innerType._def, refs);
};
var selectParser = (def, typeName, refs) => {
  switch (typeName) {
    case ZodFirstPartyTypeKind2.ZodString:
      return parseStringDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodNumber:
      return parseNumberDef(def);
    case ZodFirstPartyTypeKind2.ZodObject:
      return parseObjectDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodBigInt:
      return parseBigintDef(def);
    case ZodFirstPartyTypeKind2.ZodBoolean:
      return parseBooleanDef();
    case ZodFirstPartyTypeKind2.ZodDate:
      return parseDateDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodUndefined:
      return parseUndefinedDef();
    case ZodFirstPartyTypeKind2.ZodNull:
      return parseNullDef();
    case ZodFirstPartyTypeKind2.ZodArray:
      return parseArrayDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodUnion:
    case ZodFirstPartyTypeKind2.ZodDiscriminatedUnion:
      return parseUnionDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodIntersection:
      return parseIntersectionDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodTuple:
      return parseTupleDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodRecord:
      return parseRecordDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodLiteral:
      return parseLiteralDef(def);
    case ZodFirstPartyTypeKind2.ZodEnum:
      return parseEnumDef(def);
    case ZodFirstPartyTypeKind2.ZodNativeEnum:
      return parseNativeEnumDef(def);
    case ZodFirstPartyTypeKind2.ZodNullable:
      return parseNullableDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodOptional:
      return parseOptionalDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodMap:
      return parseMapDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodSet:
      return parseSetDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodLazy:
      return () => def.getter()._def;
    case ZodFirstPartyTypeKind2.ZodPromise:
      return parsePromiseDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodNaN:
    case ZodFirstPartyTypeKind2.ZodNever:
      return parseNeverDef();
    case ZodFirstPartyTypeKind2.ZodEffects:
      return parseEffectsDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodAny:
      return parseAnyDef();
    case ZodFirstPartyTypeKind2.ZodUnknown:
      return parseUnknownDef();
    case ZodFirstPartyTypeKind2.ZodDefault:
      return parseDefaultDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodBranded:
      return parseBrandedDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodReadonly:
      return parseReadonlyDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodCatch:
      return parseCatchDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodPipeline:
      return parsePipelineDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodFunction:
    case ZodFirstPartyTypeKind2.ZodVoid:
    case ZodFirstPartyTypeKind2.ZodSymbol:
      return void 0;
    default:
      return /* @__PURE__ */ ((_) => void 0)(typeName);
  }
};
function parseDef(def, refs, forceResolution = false) {
  var _a17;
  const seenItem = refs.seen.get(def);
  if (refs.override) {
    const overrideResult = (_a17 = refs.override) == null ? void 0 : _a17.call(
      refs,
      def,
      refs,
      seenItem,
      forceResolution
    );
    if (overrideResult !== ignoreOverride) {
      return overrideResult;
    }
  }
  if (seenItem && !forceResolution) {
    const seenSchema = get$ref(seenItem, refs);
    if (seenSchema !== void 0) {
      return seenSchema;
    }
  }
  const newItem = { def, path: refs.currentPath, jsonSchema: void 0 };
  refs.seen.set(def, newItem);
  const jsonSchemaOrGetter = selectParser(def, def.typeName, refs);
  const jsonSchema2 = typeof jsonSchemaOrGetter === "function" ? parseDef(jsonSchemaOrGetter(), refs) : jsonSchemaOrGetter;
  if (jsonSchema2) {
    addMeta(def, refs, jsonSchema2);
  }
  if (refs.postProcess) {
    const postProcessResult = refs.postProcess(jsonSchema2, def, refs);
    newItem.jsonSchema = jsonSchema2;
    return postProcessResult;
  }
  newItem.jsonSchema = jsonSchema2;
  return jsonSchema2;
}
var get$ref = (item, refs) => {
  switch (refs.$refStrategy) {
    case "root":
      return { $ref: item.path.join("/") };
    case "relative":
      return { $ref: getRelativePath(refs.currentPath, item.path) };
    case "none":
    case "seen": {
      if (item.path.length < refs.currentPath.length && item.path.every((value, index) => refs.currentPath[index] === value)) {
        console.warn(
          `Recursive reference detected at ${refs.currentPath.join(
            "/"
          )}! Defaulting to any`
        );
        return parseAnyDef();
      }
      return refs.$refStrategy === "seen" ? parseAnyDef() : void 0;
    }
  }
};
var addMeta = (def, refs, jsonSchema2) => {
  if (def.description) {
    jsonSchema2.description = def.description;
  }
  return jsonSchema2;
};
var getRefs = (options) => {
  const _options = getDefaultOptions(options);
  const currentPath = _options.name !== void 0 ? [..._options.basePath, _options.definitionPath, _options.name] : _options.basePath;
  return {
    ..._options,
    currentPath,
    propertyPath: void 0,
    seen: new Map(
      Object.entries(_options.definitions).map(([name17, def]) => [
        def._def,
        {
          def: def._def,
          path: [..._options.basePath, _options.definitionPath, name17],
          // Resolution of references will be forced even though seen, so it's ok that the schema is undefined here for now.
          jsonSchema: void 0
        }
      ])
    )
  };
};
var zodToJsonSchema = (schema, options) => {
  var _a17;
  const refs = getRefs(options);
  let definitions = typeof options === "object" && options.definitions ? Object.entries(options.definitions).reduce(
    (acc, [name24, schema2]) => {
      var _a24;
      return {
        ...acc,
        [name24]: (_a24 = parseDef(
          schema2._def,
          {
            ...refs,
            currentPath: [...refs.basePath, refs.definitionPath, name24]
          },
          true
        )) != null ? _a24 : parseAnyDef()
      };
    },
    {}
  ) : void 0;
  const name17 = typeof options === "string" ? options : (options == null ? void 0 : options.nameStrategy) === "title" ? void 0 : options == null ? void 0 : options.name;
  const main = (_a17 = parseDef(
    schema._def,
    name17 === void 0 ? refs : {
      ...refs,
      currentPath: [...refs.basePath, refs.definitionPath, name17]
    },
    false
  )) != null ? _a17 : parseAnyDef();
  const title = typeof options === "object" && options.name !== void 0 && options.nameStrategy === "title" ? options.name : void 0;
  if (title !== void 0) {
    main.title = title;
  }
  const combined = name17 === void 0 ? definitions ? {
    ...main,
    [refs.definitionPath]: definitions
  } : main : {
    $ref: [
      ...refs.$refStrategy === "relative" ? [] : refs.basePath,
      refs.definitionPath,
      name17
    ].join("/"),
    [refs.definitionPath]: {
      ...definitions,
      [name17]: main
    }
  };
  combined.$schema = "http://json-schema.org/draft-07/schema#";
  return combined;
};
var zod_to_json_schema_default = zodToJsonSchema;
function zod3Schema(zodSchema2, options) {
  var _a17;
  const useReferences = (_a17 = options == null ? void 0 : options.useReferences) != null ? _a17 : false;
  return jsonSchema(
    zod_to_json_schema_default(zodSchema2, {
      $refStrategy: useReferences ? "root" : "none"
    }),
    {
      validate: async (value) => {
        const result = await zodSchema2.safeParseAsync(value);
        return result.success ? { success: true, value: result.data } : { success: false, error: result.error };
      }
    }
  );
}
function zod4Schema(zodSchema2, options) {
  var _a17;
  const useReferences = (_a17 = options == null ? void 0 : options.useReferences) != null ? _a17 : false;
  const z4JSONSchema = toJSONSchema(zodSchema2, {
    target: "draft-7",
    io: "output",
    reused: useReferences ? "ref" : "inline"
  });
  return jsonSchema(z4JSONSchema, {
    validate: async (value) => {
      const result = await safeParseAsync2(zodSchema2, value);
      return result.success ? { success: true, value: result.data } : { success: false, error: result.error };
    }
  });
}
function isZod4Schema(zodSchema2) {
  return "_zod" in zodSchema2;
}
function zodSchema(zodSchema2, options) {
  if (isZod4Schema(zodSchema2)) {
    return zod4Schema(zodSchema2, options);
  } else {
    return zod3Schema(zodSchema2, options);
  }
}
var schemaSymbol = Symbol.for("vercel.ai.schema");
function jsonSchema(jsonSchema2, {
  validate
} = {}) {
  return {
    [schemaSymbol]: true,
    _type: void 0,
    // should never be used directly
    [validatorSymbol]: true,
    jsonSchema: jsonSchema2,
    validate
  };
}
function isSchema(value) {
  return typeof value === "object" && value !== null && schemaSymbol in value && value[schemaSymbol] === true && "jsonSchema" in value && "validate" in value;
}
function asSchema(schema) {
  return schema == null ? jsonSchema({
    properties: {},
    additionalProperties: false
  }) : isSchema(schema) ? schema : zodSchema(schema);
}
var { btoa: btoa2, atob: atob2 } = globalThis;
function convertBase64ToUint8Array(base64String) {
  const base64Url = base64String.replace(/-/g, "+").replace(/_/g, "/");
  const latin1string = atob2(base64Url);
  return Uint8Array.from(latin1string, (byte) => byte.codePointAt(0));
}
function convertUint8ArrayToBase64(array2) {
  let latin1string = "";
  for (let i2 = 0; i2 < array2.length; i2++) {
    latin1string += String.fromCodePoint(array2[i2]);
  }
  return btoa2(latin1string);
}
function withoutTrailingSlash(url2) {
  return url2 == null ? void 0 : url2.replace(/\/$/, "");
}
function isAsyncIterable(obj) {
  return obj != null && typeof obj[Symbol.asyncIterator] === "function";
}
async function* executeTool({
  execute,
  input,
  options
}) {
  const result = execute(input, options);
  if (isAsyncIterable(result)) {
    let lastOutput;
    for await (const output of result) {
      lastOutput = output;
      yield { type: "preliminary", output };
    }
    yield { type: "final", output: lastOutput };
  } else {
    yield { type: "final", output: await result };
  }
}

// node_modules/@ai-sdk/gateway/dist/index.mjs
var marker15 = "vercel.ai.gateway.error";
var symbol16 = Symbol.for(marker15);
var _a15;
var _b;
var GatewayError = class _GatewayError extends (_b = Error, _a15 = symbol16, _b) {
  constructor({
    message,
    statusCode = 500,
    cause
  }) {
    super(message);
    this[_a15] = true;
    this.statusCode = statusCode;
    this.cause = cause;
  }
  /**
   * Checks if the given error is a Gateway Error.
   * @param {unknown} error - The error to check.
   * @returns {boolean} True if the error is a Gateway Error, false otherwise.
   */
  static isInstance(error45) {
    return _GatewayError.hasMarker(error45);
  }
  static hasMarker(error45) {
    return typeof error45 === "object" && error45 !== null && symbol16 in error45 && error45[symbol16] === true;
  }
};
var name14 = "GatewayAuthenticationError";
var marker22 = `vercel.ai.gateway.error.${name14}`;
var symbol22 = Symbol.for(marker22);
var _a22;
var _b2;
var GatewayAuthenticationError = class _GatewayAuthenticationError extends (_b2 = GatewayError, _a22 = symbol22, _b2) {
  constructor({
    message = "Authentication failed",
    statusCode = 401,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a22] = true;
    this.name = name14;
    this.type = "authentication_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol22 in error45;
  }
  /**
   * Creates a contextual error message when authentication fails
   */
  static createContextualError({
    apiKeyProvided,
    oidcTokenProvided,
    message = "Authentication failed",
    statusCode = 401,
    cause
  }) {
    let contextualMessage;
    if (apiKeyProvided) {
      contextualMessage = `AI Gateway authentication failed: Invalid API key provided.

The token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`;
    } else if (oidcTokenProvided) {
      contextualMessage = `AI Gateway authentication failed: Invalid OIDC token provided.

The token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.
- make sure your Vercel project settings have OIDC enabled
- if running locally with 'vercel dev', the token is automatically obtained and refreshed
- if running locally with your own dev server, run 'vercel env pull' to fetch the token
- in production/preview, the token is automatically obtained and refreshed

Alternative: Provide an API key via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`;
    } else {
      contextualMessage = `AI Gateway authentication failed: No authentication provided.

Provide either an API key or OIDC token.

API key instructions:

The token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

OIDC token instructions:

The token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.
- make sure your Vercel project settings have OIDC enabled
- if running locally with 'vercel dev', the token is automatically obtained and refreshed
- if running locally with your own dev server, run 'vercel env pull' to fetch the token
- in production/preview, the token is automatically obtained and refreshed`;
    }
    return new _GatewayAuthenticationError({
      message: contextualMessage,
      statusCode,
      cause
    });
  }
};
var name22 = "GatewayInvalidRequestError";
var marker32 = `vercel.ai.gateway.error.${name22}`;
var symbol32 = Symbol.for(marker32);
var _a32;
var _b3;
var GatewayInvalidRequestError = class extends (_b3 = GatewayError, _a32 = symbol32, _b3) {
  constructor({
    message = "Invalid request",
    statusCode = 400,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a32] = true;
    this.name = name22;
    this.type = "invalid_request_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol32 in error45;
  }
};
var name32 = "GatewayRateLimitError";
var marker42 = `vercel.ai.gateway.error.${name32}`;
var symbol42 = Symbol.for(marker42);
var _a42;
var _b4;
var GatewayRateLimitError = class extends (_b4 = GatewayError, _a42 = symbol42, _b4) {
  constructor({
    message = "Rate limit exceeded",
    statusCode = 429,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a42] = true;
    this.name = name32;
    this.type = "rate_limit_exceeded";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol42 in error45;
  }
};
var name42 = "GatewayModelNotFoundError";
var marker52 = `vercel.ai.gateway.error.${name42}`;
var symbol52 = Symbol.for(marker52);
var modelNotFoundParamSchema = external_exports.object({
  modelId: external_exports.string()
});
var _a52;
var _b5;
var GatewayModelNotFoundError = class extends (_b5 = GatewayError, _a52 = symbol52, _b5) {
  constructor({
    message = "Model not found",
    statusCode = 404,
    modelId,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a52] = true;
    this.name = name42;
    this.type = "model_not_found";
    this.modelId = modelId;
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol52 in error45;
  }
};
var name52 = "GatewayInternalServerError";
var marker62 = `vercel.ai.gateway.error.${name52}`;
var symbol62 = Symbol.for(marker62);
var _a62;
var _b6;
var GatewayInternalServerError = class extends (_b6 = GatewayError, _a62 = symbol62, _b6) {
  constructor({
    message = "Internal server error",
    statusCode = 500,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a62] = true;
    this.name = name52;
    this.type = "internal_server_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol62 in error45;
  }
};
var name62 = "GatewayResponseError";
var marker72 = `vercel.ai.gateway.error.${name62}`;
var symbol72 = Symbol.for(marker72);
var _a72;
var _b7;
var GatewayResponseError = class extends (_b7 = GatewayError, _a72 = symbol72, _b7) {
  constructor({
    message = "Invalid response from Gateway",
    statusCode = 502,
    response,
    validationError,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a72] = true;
    this.name = name62;
    this.type = "response_error";
    this.response = response;
    this.validationError = validationError;
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol72 in error45;
  }
};
function createGatewayErrorFromResponse({
  response,
  statusCode,
  defaultMessage = "Gateway request failed",
  cause,
  authMethod
}) {
  const parseResult = gatewayErrorResponseSchema.safeParse(response);
  if (!parseResult.success) {
    return new GatewayResponseError({
      message: `Invalid error response format: ${defaultMessage}`,
      statusCode,
      response,
      validationError: parseResult.error,
      cause
    });
  }
  const validatedResponse = parseResult.data;
  const errorType = validatedResponse.error.type;
  const message = validatedResponse.error.message;
  switch (errorType) {
    case "authentication_error":
      return GatewayAuthenticationError.createContextualError({
        apiKeyProvided: authMethod === "api-key",
        oidcTokenProvided: authMethod === "oidc",
        statusCode,
        cause
      });
    case "invalid_request_error":
      return new GatewayInvalidRequestError({ message, statusCode, cause });
    case "rate_limit_exceeded":
      return new GatewayRateLimitError({ message, statusCode, cause });
    case "model_not_found": {
      const modelResult = modelNotFoundParamSchema.safeParse(
        validatedResponse.error.param
      );
      return new GatewayModelNotFoundError({
        message,
        statusCode,
        modelId: modelResult.success ? modelResult.data.modelId : void 0,
        cause
      });
    }
    case "internal_server_error":
      return new GatewayInternalServerError({ message, statusCode, cause });
    default:
      return new GatewayInternalServerError({ message, statusCode, cause });
  }
}
var gatewayErrorResponseSchema = external_exports.object({
  error: external_exports.object({
    message: external_exports.string(),
    type: external_exports.string().nullish(),
    param: external_exports.unknown().nullish(),
    code: external_exports.union([external_exports.string(), external_exports.number()]).nullish()
  })
});
function asGatewayError(error45, authMethod) {
  var _a83;
  if (GatewayError.isInstance(error45)) {
    return error45;
  }
  if (APICallError.isInstance(error45)) {
    return createGatewayErrorFromResponse({
      response: extractApiCallResponse(error45),
      statusCode: (_a83 = error45.statusCode) != null ? _a83 : 500,
      defaultMessage: "Gateway request failed",
      cause: error45,
      authMethod
    });
  }
  return createGatewayErrorFromResponse({
    response: {},
    statusCode: 500,
    defaultMessage: error45 instanceof Error ? `Gateway request failed: ${error45.message}` : "Unknown Gateway error",
    cause: error45,
    authMethod
  });
}
function extractApiCallResponse(error45) {
  if (error45.data !== void 0) {
    return error45.data;
  }
  if (error45.responseBody != null) {
    try {
      return JSON.parse(error45.responseBody);
    } catch (e2) {
      return error45.responseBody;
    }
  }
  return {};
}
var GATEWAY_AUTH_METHOD_HEADER = "ai-gateway-auth-method";
function parseAuthMethod(headers) {
  const result = gatewayAuthMethodSchema.safeParse(
    headers[GATEWAY_AUTH_METHOD_HEADER]
  );
  return result.success ? result.data : void 0;
}
var gatewayAuthMethodSchema = external_exports.union([
  external_exports.literal("api-key"),
  external_exports.literal("oidc")
]);
var GatewayFetchMetadata = class {
  constructor(config2) {
    this.config = config2;
  }
  async getAvailableModels() {
    try {
      const { value } = await getFromApi({
        url: `${this.config.baseURL}/config`,
        headers: await resolve(this.config.headers()),
        successfulResponseHandler: createJsonResponseHandler(
          gatewayFetchMetadataSchema
        ),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        fetch: this.config.fetch
      });
      return value;
    } catch (error45) {
      throw asGatewayError(error45);
    }
  }
};
var gatewayLanguageModelSpecificationSchema = external_exports.object({
  specificationVersion: external_exports.literal("v2"),
  provider: external_exports.string(),
  modelId: external_exports.string()
});
var gatewayLanguageModelPricingSchema = external_exports.object({
  input: external_exports.string(),
  output: external_exports.string(),
  input_cache_read: external_exports.string().nullish(),
  input_cache_write: external_exports.string().nullish()
}).transform(({ input, output, input_cache_read, input_cache_write }) => ({
  input,
  output,
  ...input_cache_read ? { cachedInputTokens: input_cache_read } : {},
  ...input_cache_write ? { cacheCreationInputTokens: input_cache_write } : {}
}));
var gatewayLanguageModelEntrySchema = external_exports.object({
  id: external_exports.string(),
  name: external_exports.string(),
  description: external_exports.string().nullish(),
  pricing: gatewayLanguageModelPricingSchema.nullish(),
  specification: gatewayLanguageModelSpecificationSchema,
  modelType: external_exports.enum(["language", "embedding", "image"]).nullish()
});
var gatewayFetchMetadataSchema = external_exports.object({
  models: external_exports.array(gatewayLanguageModelEntrySchema)
});
var GatewayLanguageModel = class {
  constructor(modelId, config2) {
    this.modelId = modelId;
    this.config = config2;
    this.specificationVersion = "v2";
    this.supportedUrls = { "*/*": [/.*/] };
  }
  get provider() {
    return this.config.provider;
  }
  async getArgs(options) {
    const { abortSignal: _abortSignal, ...optionsWithoutSignal } = options;
    return {
      args: this.maybeEncodeFileParts(optionsWithoutSignal),
      warnings: []
    };
  }
  async doGenerate(options) {
    const { args, warnings } = await this.getArgs(options);
    const { abortSignal } = options;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const {
        responseHeaders,
        value: responseBody,
        rawValue: rawResponse
      } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(
          resolvedHeaders,
          options.headers,
          this.getModelConfigHeaders(this.modelId, false),
          await resolve(this.config.o11yHeaders)
        ),
        body: args,
        successfulResponseHandler: createJsonResponseHandler(external_exports.any()),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        ...abortSignal && { abortSignal },
        fetch: this.config.fetch
      });
      return {
        ...responseBody,
        request: { body: args },
        response: { headers: responseHeaders, body: rawResponse },
        warnings
      };
    } catch (error45) {
      throw asGatewayError(error45, parseAuthMethod(resolvedHeaders));
    }
  }
  async doStream(options) {
    const { args, warnings } = await this.getArgs(options);
    const { abortSignal } = options;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const { value: response, responseHeaders } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(
          resolvedHeaders,
          options.headers,
          this.getModelConfigHeaders(this.modelId, true),
          await resolve(this.config.o11yHeaders)
        ),
        body: args,
        successfulResponseHandler: createEventSourceResponseHandler(external_exports.any()),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        ...abortSignal && { abortSignal },
        fetch: this.config.fetch
      });
      return {
        stream: response.pipeThrough(
          new TransformStream({
            start(controller) {
              if (warnings.length > 0) {
                controller.enqueue({ type: "stream-start", warnings });
              }
            },
            transform(chunk, controller) {
              if (chunk.success) {
                const streamPart = chunk.value;
                if (streamPart.type === "raw" && !options.includeRawChunks) {
                  return;
                }
                if (streamPart.type === "response-metadata" && streamPart.timestamp && typeof streamPart.timestamp === "string") {
                  streamPart.timestamp = new Date(streamPart.timestamp);
                }
                controller.enqueue(streamPart);
              } else {
                controller.error(
                  chunk.error
                );
              }
            }
          })
        ),
        request: { body: args },
        response: { headers: responseHeaders }
      };
    } catch (error45) {
      throw asGatewayError(error45, parseAuthMethod(resolvedHeaders));
    }
  }
  isFilePart(part) {
    return part && typeof part === "object" && "type" in part && part.type === "file";
  }
  /**
   * Encodes file parts in the prompt to base64. Mutates the passed options
   * instance directly to avoid copying the file data.
   * @param options - The options to encode.
   * @returns The options with the file parts encoded.
   */
  maybeEncodeFileParts(options) {
    for (const message of options.prompt) {
      for (const part of message.content) {
        if (this.isFilePart(part)) {
          const filePart = part;
          if (filePart.data instanceof Uint8Array) {
            const buffer = Uint8Array.from(filePart.data);
            const base64Data = Buffer.from(buffer).toString("base64");
            filePart.data = new URL(
              `data:${filePart.mediaType || "application/octet-stream"};base64,${base64Data}`
            );
          }
        }
      }
    }
    return options;
  }
  getUrl() {
    return `${this.config.baseURL}/language-model`;
  }
  getModelConfigHeaders(modelId, streaming) {
    return {
      "ai-language-model-specification-version": "2",
      "ai-language-model-id": modelId,
      "ai-language-model-streaming": String(streaming)
    };
  }
};
var GatewayEmbeddingModel = class {
  constructor(modelId, config2) {
    this.modelId = modelId;
    this.config = config2;
    this.specificationVersion = "v2";
    this.maxEmbeddingsPerCall = 2048;
    this.supportsParallelCalls = true;
  }
  get provider() {
    return this.config.provider;
  }
  async doEmbed({
    values,
    headers,
    abortSignal,
    providerOptions
  }) {
    var _a83;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const {
        responseHeaders,
        value: responseBody,
        rawValue
      } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(
          resolvedHeaders,
          headers != null ? headers : {},
          this.getModelConfigHeaders(),
          await resolve(this.config.o11yHeaders)
        ),
        body: {
          input: values.length === 1 ? values[0] : values,
          ...providerOptions ? { providerOptions } : {}
        },
        successfulResponseHandler: createJsonResponseHandler(
          gatewayEmbeddingResponseSchema
        ),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        ...abortSignal && { abortSignal },
        fetch: this.config.fetch
      });
      return {
        embeddings: responseBody.embeddings,
        usage: (_a83 = responseBody.usage) != null ? _a83 : void 0,
        providerMetadata: responseBody.providerMetadata,
        response: { headers: responseHeaders, body: rawValue }
      };
    } catch (error45) {
      throw asGatewayError(error45, parseAuthMethod(resolvedHeaders));
    }
  }
  getUrl() {
    return `${this.config.baseURL}/embedding-model`;
  }
  getModelConfigHeaders() {
    return {
      "ai-embedding-model-specification-version": "2",
      "ai-model-id": this.modelId
    };
  }
};
var gatewayEmbeddingResponseSchema = external_exports.object({
  embeddings: external_exports.array(external_exports.array(external_exports.number())),
  usage: external_exports.object({ tokens: external_exports.number() }).nullish(),
  providerMetadata: external_exports.record(external_exports.string(), external_exports.record(external_exports.string(), external_exports.unknown())).optional()
});
async function getVercelOidcToken() {
  var _a83, _b8;
  const token = (_b8 = (_a83 = getContext().headers) == null ? void 0 : _a83["x-vercel-oidc-token"]) != null ? _b8 : process.env.VERCEL_OIDC_TOKEN;
  if (!token) {
    throw new GatewayAuthenticationError({
      message: "OIDC token not available",
      statusCode: 401
    });
  }
  return token;
}
async function getVercelRequestId() {
  var _a83;
  return (_a83 = getContext().headers) == null ? void 0 : _a83["x-vercel-id"];
}
var SYMBOL_FOR_REQ_CONTEXT = Symbol.for("@vercel/request-context");
function getContext() {
  var _a83, _b8, _c;
  const fromSymbol = globalThis;
  return (_c = (_b8 = (_a83 = fromSymbol[SYMBOL_FOR_REQ_CONTEXT]) == null ? void 0 : _a83.get) == null ? void 0 : _b8.call(_a83)) != null ? _c : {};
}
var AI_GATEWAY_PROTOCOL_VERSION = "0.0.1";
function createGatewayProvider(options = {}) {
  var _a83, _b8;
  let pendingMetadata = null;
  let metadataCache = null;
  const cacheRefreshMillis = (_a83 = options.metadataCacheRefreshMillis) != null ? _a83 : 1e3 * 60 * 5;
  let lastFetchTime = 0;
  const baseURL = (_b8 = withoutTrailingSlash(options.baseURL)) != null ? _b8 : "https://ai-gateway.vercel.sh/v1/ai";
  const getHeaders = async () => {
    const auth = await getGatewayAuthToken(options);
    if (auth) {
      return {
        Authorization: `Bearer ${auth.token}`,
        "ai-gateway-protocol-version": AI_GATEWAY_PROTOCOL_VERSION,
        [GATEWAY_AUTH_METHOD_HEADER]: auth.authMethod,
        ...options.headers
      };
    }
    throw GatewayAuthenticationError.createContextualError({
      apiKeyProvided: false,
      oidcTokenProvided: false,
      statusCode: 401
    });
  };
  const createO11yHeaders = () => {
    const deploymentId = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_DEPLOYMENT_ID"
    });
    const environment = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_ENV"
    });
    const region = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_REGION"
    });
    return async () => {
      const requestId = await getVercelRequestId();
      return {
        ...deploymentId && { "ai-o11y-deployment-id": deploymentId },
        ...environment && { "ai-o11y-environment": environment },
        ...region && { "ai-o11y-region": region },
        ...requestId && { "ai-o11y-request-id": requestId }
      };
    };
  };
  const createLanguageModel = (modelId) => {
    return new GatewayLanguageModel(modelId, {
      provider: "gateway",
      baseURL,
      headers: getHeaders,
      fetch: options.fetch,
      o11yHeaders: createO11yHeaders()
    });
  };
  const getAvailableModels = async () => {
    var _a93, _b9, _c;
    const now2 = (_c = (_b9 = (_a93 = options._internal) == null ? void 0 : _a93.currentDate) == null ? void 0 : _b9.call(_a93).getTime()) != null ? _c : Date.now();
    if (!pendingMetadata || now2 - lastFetchTime > cacheRefreshMillis) {
      lastFetchTime = now2;
      pendingMetadata = new GatewayFetchMetadata({
        baseURL,
        headers: getHeaders,
        fetch: options.fetch
      }).getAvailableModels().then((metadata) => {
        metadataCache = metadata;
        return metadata;
      }).catch(async (error45) => {
        throw asGatewayError(error45, parseAuthMethod(await getHeaders()));
      });
    }
    return metadataCache ? Promise.resolve(metadataCache) : pendingMetadata;
  };
  const provider = function(modelId) {
    if (new.target) {
      throw new Error(
        "The Gateway Provider model function cannot be called with the new keyword."
      );
    }
    return createLanguageModel(modelId);
  };
  provider.getAvailableModels = getAvailableModels;
  provider.imageModel = (modelId) => {
    throw new NoSuchModelError({ modelId, modelType: "imageModel" });
  };
  provider.languageModel = createLanguageModel;
  provider.textEmbeddingModel = (modelId) => {
    return new GatewayEmbeddingModel(modelId, {
      provider: "gateway",
      baseURL,
      headers: getHeaders,
      fetch: options.fetch,
      o11yHeaders: createO11yHeaders()
    });
  };
  return provider;
}
var gateway = createGatewayProvider();
async function getGatewayAuthToken(options) {
  const apiKey = loadOptionalSetting({
    settingValue: options.apiKey,
    environmentVariableName: "AI_GATEWAY_API_KEY"
  });
  if (apiKey) {
    return {
      token: apiKey,
      authMethod: "api-key"
    };
  }
  try {
    const oidcToken = await getVercelOidcToken();
    return {
      token: oidcToken,
      authMethod: "oidc"
    };
  } catch (e2) {
    return null;
  }
}

// node_modules/@opentelemetry/api/build/esm/platform/node/globalThis.js
var _globalThis = typeof globalThis === "object" ? globalThis : global;

// node_modules/@opentelemetry/api/build/esm/version.js
var VERSION2 = "1.9.0";

// node_modules/@opentelemetry/api/build/esm/internal/semver.js
var re = /^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;
function _makeCompatibilityCheck(ownVersion) {
  var acceptedVersions = /* @__PURE__ */ new Set([ownVersion]);
  var rejectedVersions = /* @__PURE__ */ new Set();
  var myVersionMatch = ownVersion.match(re);
  if (!myVersionMatch) {
    return function() {
      return false;
    };
  }
  var ownVersionParsed = {
    major: +myVersionMatch[1],
    minor: +myVersionMatch[2],
    patch: +myVersionMatch[3],
    prerelease: myVersionMatch[4]
  };
  if (ownVersionParsed.prerelease != null) {
    return function isExactmatch(globalVersion) {
      return globalVersion === ownVersion;
    };
  }
  function _reject(v) {
    rejectedVersions.add(v);
    return false;
  }
  function _accept(v) {
    acceptedVersions.add(v);
    return true;
  }
  return function isCompatible2(globalVersion) {
    if (acceptedVersions.has(globalVersion)) {
      return true;
    }
    if (rejectedVersions.has(globalVersion)) {
      return false;
    }
    var globalVersionMatch = globalVersion.match(re);
    if (!globalVersionMatch) {
      return _reject(globalVersion);
    }
    var globalVersionParsed = {
      major: +globalVersionMatch[1],
      minor: +globalVersionMatch[2],
      patch: +globalVersionMatch[3],
      prerelease: globalVersionMatch[4]
    };
    if (globalVersionParsed.prerelease != null) {
      return _reject(globalVersion);
    }
    if (ownVersionParsed.major !== globalVersionParsed.major) {
      return _reject(globalVersion);
    }
    if (ownVersionParsed.major === 0) {
      if (ownVersionParsed.minor === globalVersionParsed.minor && ownVersionParsed.patch <= globalVersionParsed.patch) {
        return _accept(globalVersion);
      }
      return _reject(globalVersion);
    }
    if (ownVersionParsed.minor <= globalVersionParsed.minor) {
      return _accept(globalVersion);
    }
    return _reject(globalVersion);
  };
}
var isCompatible = _makeCompatibilityCheck(VERSION2);

// node_modules/@opentelemetry/api/build/esm/internal/global-utils.js
var major = VERSION2.split(".")[0];
var GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for("opentelemetry.js.api." + major);
var _global = _globalThis;
function registerGlobal(type, instance, diag, allowOverride) {
  var _a17;
  if (allowOverride === void 0) {
    allowOverride = false;
  }
  var api = _global[GLOBAL_OPENTELEMETRY_API_KEY] = (_a17 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) !== null && _a17 !== void 0 ? _a17 : {
    version: VERSION2
  };
  if (!allowOverride && api[type]) {
    var err = new Error("@opentelemetry/api: Attempted duplicate registration of API: " + type);
    diag.error(err.stack || err.message);
    return false;
  }
  if (api.version !== VERSION2) {
    var err = new Error("@opentelemetry/api: Registration of version v" + api.version + " for " + type + " does not match previously registered API v" + VERSION2);
    diag.error(err.stack || err.message);
    return false;
  }
  api[type] = instance;
  diag.debug("@opentelemetry/api: Registered a global for " + type + " v" + VERSION2 + ".");
  return true;
}
function getGlobal(type) {
  var _a17, _b8;
  var globalVersion = (_a17 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _a17 === void 0 ? void 0 : _a17.version;
  if (!globalVersion || !isCompatible(globalVersion)) {
    return;
  }
  return (_b8 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _b8 === void 0 ? void 0 : _b8[type];
}
function unregisterGlobal(type, diag) {
  diag.debug("@opentelemetry/api: Unregistering a global for " + type + " v" + VERSION2 + ".");
  var api = _global[GLOBAL_OPENTELEMETRY_API_KEY];
  if (api) {
    delete api[type];
  }
}

// node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js
var __read = function(o2, n2) {
  var m = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m) return o2;
  var i2 = m.call(o2), r2, ar = [], e2;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e2 = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m = i2["return"])) m.call(i2);
    } finally {
      if (e2) throw e2.error;
    }
  }
  return ar;
};
var __spreadArray = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l = from.length, ar; i2 < l; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var DiagComponentLogger = (
  /** @class */
  (function() {
    function DiagComponentLogger2(props) {
      this._namespace = props.namespace || "DiagComponentLogger";
    }
    DiagComponentLogger2.prototype.debug = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("debug", this._namespace, args);
    };
    DiagComponentLogger2.prototype.error = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("error", this._namespace, args);
    };
    DiagComponentLogger2.prototype.info = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("info", this._namespace, args);
    };
    DiagComponentLogger2.prototype.warn = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("warn", this._namespace, args);
    };
    DiagComponentLogger2.prototype.verbose = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("verbose", this._namespace, args);
    };
    return DiagComponentLogger2;
  })()
);
function logProxy(funcName, namespace, args) {
  var logger = getGlobal("diag");
  if (!logger) {
    return;
  }
  args.unshift(namespace);
  return logger[funcName].apply(logger, __spreadArray([], __read(args), false));
}

// node_modules/@opentelemetry/api/build/esm/diag/types.js
var DiagLogLevel;
(function(DiagLogLevel2) {
  DiagLogLevel2[DiagLogLevel2["NONE"] = 0] = "NONE";
  DiagLogLevel2[DiagLogLevel2["ERROR"] = 30] = "ERROR";
  DiagLogLevel2[DiagLogLevel2["WARN"] = 50] = "WARN";
  DiagLogLevel2[DiagLogLevel2["INFO"] = 60] = "INFO";
  DiagLogLevel2[DiagLogLevel2["DEBUG"] = 70] = "DEBUG";
  DiagLogLevel2[DiagLogLevel2["VERBOSE"] = 80] = "VERBOSE";
  DiagLogLevel2[DiagLogLevel2["ALL"] = 9999] = "ALL";
})(DiagLogLevel || (DiagLogLevel = {}));

// node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js
function createLogLevelDiagLogger(maxLevel, logger) {
  if (maxLevel < DiagLogLevel.NONE) {
    maxLevel = DiagLogLevel.NONE;
  } else if (maxLevel > DiagLogLevel.ALL) {
    maxLevel = DiagLogLevel.ALL;
  }
  logger = logger || {};
  function _filterFunc(funcName, theLevel) {
    var theFunc = logger[funcName];
    if (typeof theFunc === "function" && maxLevel >= theLevel) {
      return theFunc.bind(logger);
    }
    return function() {
    };
  }
  return {
    error: _filterFunc("error", DiagLogLevel.ERROR),
    warn: _filterFunc("warn", DiagLogLevel.WARN),
    info: _filterFunc("info", DiagLogLevel.INFO),
    debug: _filterFunc("debug", DiagLogLevel.DEBUG),
    verbose: _filterFunc("verbose", DiagLogLevel.VERBOSE)
  };
}

// node_modules/@opentelemetry/api/build/esm/api/diag.js
var __read2 = function(o2, n2) {
  var m = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m) return o2;
  var i2 = m.call(o2), r2, ar = [], e2;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e2 = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m = i2["return"])) m.call(i2);
    } finally {
      if (e2) throw e2.error;
    }
  }
  return ar;
};
var __spreadArray2 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l = from.length, ar; i2 < l; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var API_NAME = "diag";
var DiagAPI = (
  /** @class */
  (function() {
    function DiagAPI2() {
      function _logProxy(funcName) {
        return function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          var logger = getGlobal("diag");
          if (!logger)
            return;
          return logger[funcName].apply(logger, __spreadArray2([], __read2(args), false));
        };
      }
      var self = this;
      var setLogger = function(logger, optionsOrLogLevel) {
        var _a17, _b8, _c;
        if (optionsOrLogLevel === void 0) {
          optionsOrLogLevel = { logLevel: DiagLogLevel.INFO };
        }
        if (logger === self) {
          var err = new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");
          self.error((_a17 = err.stack) !== null && _a17 !== void 0 ? _a17 : err.message);
          return false;
        }
        if (typeof optionsOrLogLevel === "number") {
          optionsOrLogLevel = {
            logLevel: optionsOrLogLevel
          };
        }
        var oldLogger = getGlobal("diag");
        var newLogger = createLogLevelDiagLogger((_b8 = optionsOrLogLevel.logLevel) !== null && _b8 !== void 0 ? _b8 : DiagLogLevel.INFO, logger);
        if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {
          var stack = (_c = new Error().stack) !== null && _c !== void 0 ? _c : "<failed to generate stacktrace>";
          oldLogger.warn("Current logger will be overwritten from " + stack);
          newLogger.warn("Current logger will overwrite one already registered from " + stack);
        }
        return registerGlobal("diag", newLogger, self, true);
      };
      self.setLogger = setLogger;
      self.disable = function() {
        unregisterGlobal(API_NAME, self);
      };
      self.createComponentLogger = function(options) {
        return new DiagComponentLogger(options);
      };
      self.verbose = _logProxy("verbose");
      self.debug = _logProxy("debug");
      self.info = _logProxy("info");
      self.warn = _logProxy("warn");
      self.error = _logProxy("error");
    }
    DiagAPI2.instance = function() {
      if (!this._instance) {
        this._instance = new DiagAPI2();
      }
      return this._instance;
    };
    return DiagAPI2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/context/context.js
function createContextKey(description) {
  return Symbol.for(description);
}
var BaseContext = (
  /** @class */
  /* @__PURE__ */ (function() {
    function BaseContext2(parentContext) {
      var self = this;
      self._currentContext = parentContext ? new Map(parentContext) : /* @__PURE__ */ new Map();
      self.getValue = function(key) {
        return self._currentContext.get(key);
      };
      self.setValue = function(key, value) {
        var context = new BaseContext2(self._currentContext);
        context._currentContext.set(key, value);
        return context;
      };
      self.deleteValue = function(key) {
        var context = new BaseContext2(self._currentContext);
        context._currentContext.delete(key);
        return context;
      };
    }
    return BaseContext2;
  })()
);
var ROOT_CONTEXT = new BaseContext();

// node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js
var __read3 = function(o2, n2) {
  var m = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m) return o2;
  var i2 = m.call(o2), r2, ar = [], e2;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e2 = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m = i2["return"])) m.call(i2);
    } finally {
      if (e2) throw e2.error;
    }
  }
  return ar;
};
var __spreadArray3 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l = from.length, ar; i2 < l; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var NoopContextManager = (
  /** @class */
  (function() {
    function NoopContextManager2() {
    }
    NoopContextManager2.prototype.active = function() {
      return ROOT_CONTEXT;
    };
    NoopContextManager2.prototype.with = function(_context, fn, thisArg) {
      var args = [];
      for (var _i = 3; _i < arguments.length; _i++) {
        args[_i - 3] = arguments[_i];
      }
      return fn.call.apply(fn, __spreadArray3([thisArg], __read3(args), false));
    };
    NoopContextManager2.prototype.bind = function(_context, target) {
      return target;
    };
    NoopContextManager2.prototype.enable = function() {
      return this;
    };
    NoopContextManager2.prototype.disable = function() {
      return this;
    };
    return NoopContextManager2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/api/context.js
var __read4 = function(o2, n2) {
  var m = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m) return o2;
  var i2 = m.call(o2), r2, ar = [], e2;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e2 = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m = i2["return"])) m.call(i2);
    } finally {
      if (e2) throw e2.error;
    }
  }
  return ar;
};
var __spreadArray4 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l = from.length, ar; i2 < l; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var API_NAME2 = "context";
var NOOP_CONTEXT_MANAGER = new NoopContextManager();
var ContextAPI = (
  /** @class */
  (function() {
    function ContextAPI2() {
    }
    ContextAPI2.getInstance = function() {
      if (!this._instance) {
        this._instance = new ContextAPI2();
      }
      return this._instance;
    };
    ContextAPI2.prototype.setGlobalContextManager = function(contextManager) {
      return registerGlobal(API_NAME2, contextManager, DiagAPI.instance());
    };
    ContextAPI2.prototype.active = function() {
      return this._getContextManager().active();
    };
    ContextAPI2.prototype.with = function(context, fn, thisArg) {
      var _a17;
      var args = [];
      for (var _i = 3; _i < arguments.length; _i++) {
        args[_i - 3] = arguments[_i];
      }
      return (_a17 = this._getContextManager()).with.apply(_a17, __spreadArray4([context, fn, thisArg], __read4(args), false));
    };
    ContextAPI2.prototype.bind = function(context, target) {
      return this._getContextManager().bind(context, target);
    };
    ContextAPI2.prototype._getContextManager = function() {
      return getGlobal(API_NAME2) || NOOP_CONTEXT_MANAGER;
    };
    ContextAPI2.prototype.disable = function() {
      this._getContextManager().disable();
      unregisterGlobal(API_NAME2, DiagAPI.instance());
    };
    return ContextAPI2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js
var TraceFlags;
(function(TraceFlags2) {
  TraceFlags2[TraceFlags2["NONE"] = 0] = "NONE";
  TraceFlags2[TraceFlags2["SAMPLED"] = 1] = "SAMPLED";
})(TraceFlags || (TraceFlags = {}));

// node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js
var INVALID_SPANID = "0000000000000000";
var INVALID_TRACEID = "00000000000000000000000000000000";
var INVALID_SPAN_CONTEXT = {
  traceId: INVALID_TRACEID,
  spanId: INVALID_SPANID,
  traceFlags: TraceFlags.NONE
};

// node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js
var NonRecordingSpan = (
  /** @class */
  (function() {
    function NonRecordingSpan2(_spanContext) {
      if (_spanContext === void 0) {
        _spanContext = INVALID_SPAN_CONTEXT;
      }
      this._spanContext = _spanContext;
    }
    NonRecordingSpan2.prototype.spanContext = function() {
      return this._spanContext;
    };
    NonRecordingSpan2.prototype.setAttribute = function(_key, _value) {
      return this;
    };
    NonRecordingSpan2.prototype.setAttributes = function(_attributes) {
      return this;
    };
    NonRecordingSpan2.prototype.addEvent = function(_name, _attributes) {
      return this;
    };
    NonRecordingSpan2.prototype.addLink = function(_link) {
      return this;
    };
    NonRecordingSpan2.prototype.addLinks = function(_links) {
      return this;
    };
    NonRecordingSpan2.prototype.setStatus = function(_status) {
      return this;
    };
    NonRecordingSpan2.prototype.updateName = function(_name) {
      return this;
    };
    NonRecordingSpan2.prototype.end = function(_endTime) {
    };
    NonRecordingSpan2.prototype.isRecording = function() {
      return false;
    };
    NonRecordingSpan2.prototype.recordException = function(_exception, _time) {
    };
    return NonRecordingSpan2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/context-utils.js
var SPAN_KEY = createContextKey("OpenTelemetry Context Key SPAN");
function getSpan(context) {
  return context.getValue(SPAN_KEY) || void 0;
}
function getActiveSpan() {
  return getSpan(ContextAPI.getInstance().active());
}
function setSpan(context, span) {
  return context.setValue(SPAN_KEY, span);
}
function deleteSpan(context) {
  return context.deleteValue(SPAN_KEY);
}
function setSpanContext(context, spanContext) {
  return setSpan(context, new NonRecordingSpan(spanContext));
}
function getSpanContext(context) {
  var _a17;
  return (_a17 = getSpan(context)) === null || _a17 === void 0 ? void 0 : _a17.spanContext();
}

// node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js
var VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;
var VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;
function isValidTraceId(traceId) {
  return VALID_TRACEID_REGEX.test(traceId) && traceId !== INVALID_TRACEID;
}
function isValidSpanId(spanId) {
  return VALID_SPANID_REGEX.test(spanId) && spanId !== INVALID_SPANID;
}
function isSpanContextValid(spanContext) {
  return isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId);
}
function wrapSpanContext(spanContext) {
  return new NonRecordingSpan(spanContext);
}

// node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js
var contextApi = ContextAPI.getInstance();
var NoopTracer = (
  /** @class */
  (function() {
    function NoopTracer2() {
    }
    NoopTracer2.prototype.startSpan = function(name17, options, context) {
      if (context === void 0) {
        context = contextApi.active();
      }
      var root = Boolean(options === null || options === void 0 ? void 0 : options.root);
      if (root) {
        return new NonRecordingSpan();
      }
      var parentFromContext = context && getSpanContext(context);
      if (isSpanContext(parentFromContext) && isSpanContextValid(parentFromContext)) {
        return new NonRecordingSpan(parentFromContext);
      } else {
        return new NonRecordingSpan();
      }
    };
    NoopTracer2.prototype.startActiveSpan = function(name17, arg2, arg3, arg4) {
      var opts;
      var ctx;
      var fn;
      if (arguments.length < 2) {
        return;
      } else if (arguments.length === 2) {
        fn = arg2;
      } else if (arguments.length === 3) {
        opts = arg2;
        fn = arg3;
      } else {
        opts = arg2;
        ctx = arg3;
        fn = arg4;
      }
      var parentContext = ctx !== null && ctx !== void 0 ? ctx : contextApi.active();
      var span = this.startSpan(name17, opts, parentContext);
      var contextWithSpanSet = setSpan(parentContext, span);
      return contextApi.with(contextWithSpanSet, fn, void 0, span);
    };
    return NoopTracer2;
  })()
);
function isSpanContext(spanContext) {
  return typeof spanContext === "object" && typeof spanContext["spanId"] === "string" && typeof spanContext["traceId"] === "string" && typeof spanContext["traceFlags"] === "number";
}

// node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js
var NOOP_TRACER = new NoopTracer();
var ProxyTracer = (
  /** @class */
  (function() {
    function ProxyTracer2(_provider, name17, version2, options) {
      this._provider = _provider;
      this.name = name17;
      this.version = version2;
      this.options = options;
    }
    ProxyTracer2.prototype.startSpan = function(name17, options, context) {
      return this._getTracer().startSpan(name17, options, context);
    };
    ProxyTracer2.prototype.startActiveSpan = function(_name, _options, _context, _fn) {
      var tracer = this._getTracer();
      return Reflect.apply(tracer.startActiveSpan, tracer, arguments);
    };
    ProxyTracer2.prototype._getTracer = function() {
      if (this._delegate) {
        return this._delegate;
      }
      var tracer = this._provider.getDelegateTracer(this.name, this.version, this.options);
      if (!tracer) {
        return NOOP_TRACER;
      }
      this._delegate = tracer;
      return this._delegate;
    };
    return ProxyTracer2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js
var NoopTracerProvider = (
  /** @class */
  (function() {
    function NoopTracerProvider2() {
    }
    NoopTracerProvider2.prototype.getTracer = function(_name, _version, _options) {
      return new NoopTracer();
    };
    return NoopTracerProvider2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js
var NOOP_TRACER_PROVIDER = new NoopTracerProvider();
var ProxyTracerProvider = (
  /** @class */
  (function() {
    function ProxyTracerProvider2() {
    }
    ProxyTracerProvider2.prototype.getTracer = function(name17, version2, options) {
      var _a17;
      return (_a17 = this.getDelegateTracer(name17, version2, options)) !== null && _a17 !== void 0 ? _a17 : new ProxyTracer(this, name17, version2, options);
    };
    ProxyTracerProvider2.prototype.getDelegate = function() {
      var _a17;
      return (_a17 = this._delegate) !== null && _a17 !== void 0 ? _a17 : NOOP_TRACER_PROVIDER;
    };
    ProxyTracerProvider2.prototype.setDelegate = function(delegate) {
      this._delegate = delegate;
    };
    ProxyTracerProvider2.prototype.getDelegateTracer = function(name17, version2, options) {
      var _a17;
      return (_a17 = this._delegate) === null || _a17 === void 0 ? void 0 : _a17.getTracer(name17, version2, options);
    };
    return ProxyTracerProvider2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/status.js
var SpanStatusCode;
(function(SpanStatusCode2) {
  SpanStatusCode2[SpanStatusCode2["UNSET"] = 0] = "UNSET";
  SpanStatusCode2[SpanStatusCode2["OK"] = 1] = "OK";
  SpanStatusCode2[SpanStatusCode2["ERROR"] = 2] = "ERROR";
})(SpanStatusCode || (SpanStatusCode = {}));

// node_modules/@opentelemetry/api/build/esm/api/trace.js
var API_NAME3 = "trace";
var TraceAPI = (
  /** @class */
  (function() {
    function TraceAPI2() {
      this._proxyTracerProvider = new ProxyTracerProvider();
      this.wrapSpanContext = wrapSpanContext;
      this.isSpanContextValid = isSpanContextValid;
      this.deleteSpan = deleteSpan;
      this.getSpan = getSpan;
      this.getActiveSpan = getActiveSpan;
      this.getSpanContext = getSpanContext;
      this.setSpan = setSpan;
      this.setSpanContext = setSpanContext;
    }
    TraceAPI2.getInstance = function() {
      if (!this._instance) {
        this._instance = new TraceAPI2();
      }
      return this._instance;
    };
    TraceAPI2.prototype.setGlobalTracerProvider = function(provider) {
      var success2 = registerGlobal(API_NAME3, this._proxyTracerProvider, DiagAPI.instance());
      if (success2) {
        this._proxyTracerProvider.setDelegate(provider);
      }
      return success2;
    };
    TraceAPI2.prototype.getTracerProvider = function() {
      return getGlobal(API_NAME3) || this._proxyTracerProvider;
    };
    TraceAPI2.prototype.getTracer = function(name17, version2) {
      return this.getTracerProvider().getTracer(name17, version2);
    };
    TraceAPI2.prototype.disable = function() {
      unregisterGlobal(API_NAME3, DiagAPI.instance());
      this._proxyTracerProvider = new ProxyTracerProvider();
    };
    return TraceAPI2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace-api.js
var trace = TraceAPI.getInstance();

// node_modules/ai/dist/index.mjs
var __defProp2 = Object.defineProperty;
var __export2 = (target, all) => {
  for (var name17 in all)
    __defProp2(target, name17, { get: all[name17], enumerable: true });
};
var name15 = "AI_NoOutputSpecifiedError";
var marker16 = `vercel.ai.error.${name15}`;
var symbol17 = Symbol.for(marker16);
var _a16;
var NoOutputSpecifiedError = class extends AISDKError {
  // used in isInstance
  constructor({ message = "No output specified." } = {}) {
    super({ name: name15, message });
    this[_a16] = true;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker16);
  }
};
_a16 = symbol17;
function formatWarning(warning) {
  const prefix = "AI SDK Warning:";
  switch (warning.type) {
    case "unsupported-setting": {
      let message = `${prefix} The "${warning.setting}" setting is not supported by this model`;
      if (warning.details) {
        message += ` - ${warning.details}`;
      }
      return message;
    }
    case "unsupported-tool": {
      const toolName = "name" in warning.tool ? warning.tool.name : "unknown tool";
      let message = `${prefix} The tool "${toolName}" is not supported by this model`;
      if (warning.details) {
        message += ` - ${warning.details}`;
      }
      return message;
    }
    case "other": {
      return `${prefix} ${warning.message}`;
    }
    default: {
      return `${prefix} ${JSON.stringify(warning, null, 2)}`;
    }
  }
}
var FIRST_WARNING_INFO_MESSAGE = "AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.";
var hasLoggedBefore = false;
var logWarnings = (warnings) => {
  if (warnings.length === 0) {
    return;
  }
  const logger = globalThis.AI_SDK_LOG_WARNINGS;
  if (logger === false) {
    return;
  }
  if (typeof logger === "function") {
    logger(warnings);
    return;
  }
  if (!hasLoggedBefore) {
    hasLoggedBefore = true;
    console.info(FIRST_WARNING_INFO_MESSAGE);
  }
  for (const warning of warnings) {
    console.warn(formatWarning(warning));
  }
};
var name23 = "AI_InvalidArgumentError";
var marker23 = `vercel.ai.error.${name23}`;
var symbol23 = Symbol.for(marker23);
var _a23;
var InvalidArgumentError2 = class extends AISDKError {
  constructor({
    parameter,
    value,
    message
  }) {
    super({
      name: name23,
      message: `Invalid argument for parameter ${parameter}: ${message}`
    });
    this[_a23] = true;
    this.parameter = parameter;
    this.value = value;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker23);
  }
};
_a23 = symbol23;
var name33 = "AI_InvalidStreamPartError";
var marker33 = `vercel.ai.error.${name33}`;
var symbol33 = Symbol.for(marker33);
var _a33;
_a33 = symbol33;
var name43 = "AI_InvalidToolInputError";
var marker43 = `vercel.ai.error.${name43}`;
var symbol43 = Symbol.for(marker43);
var _a43;
var InvalidToolInputError = class extends AISDKError {
  constructor({
    toolInput,
    toolName,
    cause,
    message = `Invalid input for tool ${toolName}: ${getErrorMessage(cause)}`
  }) {
    super({ name: name43, message, cause });
    this[_a43] = true;
    this.toolInput = toolInput;
    this.toolName = toolName;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker43);
  }
};
_a43 = symbol43;
var name53 = "AI_MCPClientError";
var marker53 = `vercel.ai.error.${name53}`;
var symbol53 = Symbol.for(marker53);
var _a53;
_a53 = symbol53;
var name63 = "AI_NoImageGeneratedError";
var marker63 = `vercel.ai.error.${name63}`;
var symbol63 = Symbol.for(marker63);
var _a63;
_a63 = symbol63;
var name72 = "AI_NoObjectGeneratedError";
var marker73 = `vercel.ai.error.${name72}`;
var symbol73 = Symbol.for(marker73);
var _a73;
var NoObjectGeneratedError = class extends AISDKError {
  constructor({
    message = "No object generated.",
    cause,
    text: text2,
    response,
    usage,
    finishReason
  }) {
    super({ name: name72, message, cause });
    this[_a73] = true;
    this.text = text2;
    this.response = response;
    this.usage = usage;
    this.finishReason = finishReason;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker73);
  }
};
_a73 = symbol73;
var name82 = "AI_NoOutputGeneratedError";
var marker82 = `vercel.ai.error.${name82}`;
var symbol82 = Symbol.for(marker82);
var _a82;
var NoOutputGeneratedError = class extends AISDKError {
  // used in isInstance
  constructor({
    message = "No output generated.",
    cause
  } = {}) {
    super({ name: name82, message, cause });
    this[_a82] = true;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker82);
  }
};
_a82 = symbol82;
var name92 = "AI_NoSuchToolError";
var marker92 = `vercel.ai.error.${name92}`;
var symbol92 = Symbol.for(marker92);
var _a92;
var NoSuchToolError = class extends AISDKError {
  constructor({
    toolName,
    availableTools = void 0,
    message = `Model tried to call unavailable tool '${toolName}'. ${availableTools === void 0 ? "No tools are available." : `Available tools: ${availableTools.join(", ")}.`}`
  }) {
    super({ name: name92, message });
    this[_a92] = true;
    this.toolName = toolName;
    this.availableTools = availableTools;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker92);
  }
};
_a92 = symbol92;
var name102 = "AI_ToolCallRepairError";
var marker102 = `vercel.ai.error.${name102}`;
var symbol102 = Symbol.for(marker102);
var _a102;
var ToolCallRepairError = class extends AISDKError {
  constructor({
    cause,
    originalError,
    message = `Error repairing tool call: ${getErrorMessage(cause)}`
  }) {
    super({ name: name102, message, cause });
    this[_a102] = true;
    this.originalError = originalError;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker102);
  }
};
_a102 = symbol102;
var UnsupportedModelVersionError = class extends AISDKError {
  constructor(options) {
    super({
      name: "AI_UnsupportedModelVersionError",
      message: `Unsupported model version ${options.version} for provider "${options.provider}" and model "${options.modelId}". AI SDK 5 only supports models that implement specification version "v2".`
    });
    this.version = options.version;
    this.provider = options.provider;
    this.modelId = options.modelId;
  }
};
var name112 = "AI_InvalidDataContentError";
var marker112 = `vercel.ai.error.${name112}`;
var symbol112 = Symbol.for(marker112);
var _a112;
_a112 = symbol112;
var name122 = "AI_InvalidMessageRoleError";
var marker122 = `vercel.ai.error.${name122}`;
var symbol122 = Symbol.for(marker122);
var _a122;
var InvalidMessageRoleError = class extends AISDKError {
  constructor({
    role,
    message = `Invalid message role: '${role}'. Must be one of: "system", "user", "assistant", "tool".`
  }) {
    super({ name: name122, message });
    this[_a122] = true;
    this.role = role;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker122);
  }
};
_a122 = symbol122;
var name132 = "AI_MessageConversionError";
var marker132 = `vercel.ai.error.${name132}`;
var symbol132 = Symbol.for(marker132);
var _a132;
var MessageConversionError = class extends AISDKError {
  constructor({
    originalMessage,
    message
  }) {
    super({ name: name132, message });
    this[_a132] = true;
    this.originalMessage = originalMessage;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker132);
  }
};
_a132 = symbol132;
var name142 = "AI_DownloadError";
var marker142 = `vercel.ai.error.${name142}`;
var symbol142 = Symbol.for(marker142);
var _a142;
var DownloadError = class extends AISDKError {
  constructor({
    url: url2,
    statusCode,
    statusText,
    cause,
    message = cause == null ? `Failed to download ${url2}: ${statusCode} ${statusText}` : `Failed to download ${url2}: ${cause}`
  }) {
    super({ name: name142, message, cause });
    this[_a142] = true;
    this.url = url2;
    this.statusCode = statusCode;
    this.statusText = statusText;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker142);
  }
};
_a142 = symbol142;
var name152 = "AI_RetryError";
var marker152 = `vercel.ai.error.${name152}`;
var symbol152 = Symbol.for(marker152);
var _a152;
var RetryError = class extends AISDKError {
  constructor({
    message,
    reason,
    errors
  }) {
    super({ name: name152, message });
    this[_a152] = true;
    this.reason = reason;
    this.errors = errors;
    this.lastError = errors[errors.length - 1];
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker152);
  }
};
_a152 = symbol152;
function resolveLanguageModel(model) {
  if (typeof model !== "string") {
    if (model.specificationVersion !== "v2") {
      throw new UnsupportedModelVersionError({
        version: model.specificationVersion,
        provider: model.provider,
        modelId: model.modelId
      });
    }
    return model;
  }
  return getGlobalProvider().languageModel(model);
}
function getGlobalProvider() {
  var _a17;
  return (_a17 = globalThis.AI_SDK_DEFAULT_PROVIDER) != null ? _a17 : gateway;
}
var imageMediaTypeSignatures = [
  {
    mediaType: "image/gif",
    bytesPrefix: [71, 73, 70],
    base64Prefix: "R0lG"
  },
  {
    mediaType: "image/png",
    bytesPrefix: [137, 80, 78, 71],
    base64Prefix: "iVBORw"
  },
  {
    mediaType: "image/jpeg",
    bytesPrefix: [255, 216],
    base64Prefix: "/9j/"
  },
  {
    mediaType: "image/webp",
    bytesPrefix: [82, 73, 70, 70],
    base64Prefix: "UklGRg"
  },
  {
    mediaType: "image/bmp",
    bytesPrefix: [66, 77],
    base64Prefix: "Qk"
  },
  {
    mediaType: "image/tiff",
    bytesPrefix: [73, 73, 42, 0],
    base64Prefix: "SUkqAA"
  },
  {
    mediaType: "image/tiff",
    bytesPrefix: [77, 77, 0, 42],
    base64Prefix: "TU0AKg"
  },
  {
    mediaType: "image/avif",
    bytesPrefix: [
      0,
      0,
      0,
      32,
      102,
      116,
      121,
      112,
      97,
      118,
      105,
      102
    ],
    base64Prefix: "AAAAIGZ0eXBhdmlm"
  },
  {
    mediaType: "image/heic",
    bytesPrefix: [
      0,
      0,
      0,
      32,
      102,
      116,
      121,
      112,
      104,
      101,
      105,
      99
    ],
    base64Prefix: "AAAAIGZ0eXBoZWlj"
  }
];
var stripID3 = (data) => {
  const bytes = typeof data === "string" ? convertBase64ToUint8Array(data) : data;
  const id3Size = (bytes[6] & 127) << 21 | (bytes[7] & 127) << 14 | (bytes[8] & 127) << 7 | bytes[9] & 127;
  return bytes.slice(id3Size + 10);
};
function stripID3TagsIfPresent(data) {
  const hasId3 = typeof data === "string" && data.startsWith("SUQz") || typeof data !== "string" && data.length > 10 && data[0] === 73 && // 'I'
  data[1] === 68 && // 'D'
  data[2] === 51;
  return hasId3 ? stripID3(data) : data;
}
function detectMediaType({
  data,
  signatures
}) {
  const processedData = stripID3TagsIfPresent(data);
  for (const signature of signatures) {
    if (typeof processedData === "string" ? processedData.startsWith(signature.base64Prefix) : processedData.length >= signature.bytesPrefix.length && signature.bytesPrefix.every(
      (byte, index) => processedData[index] === byte
    )) {
      return signature.mediaType;
    }
  }
  return void 0;
}
var download = async ({ url: url2 }) => {
  var _a17;
  const urlText = url2.toString();
  try {
    const response = await fetch(urlText);
    if (!response.ok) {
      throw new DownloadError({
        url: urlText,
        statusCode: response.status,
        statusText: response.statusText
      });
    }
    return {
      data: new Uint8Array(await response.arrayBuffer()),
      mediaType: (_a17 = response.headers.get("content-type")) != null ? _a17 : void 0
    };
  } catch (error45) {
    if (DownloadError.isInstance(error45)) {
      throw error45;
    }
    throw new DownloadError({ url: urlText, cause: error45 });
  }
};
var createDefaultDownloadFunction = (download2 = download) => (requestedDownloads) => Promise.all(
  requestedDownloads.map(
    async (requestedDownload) => requestedDownload.isUrlSupportedByModel ? null : download2(requestedDownload)
  )
);
function splitDataUrl(dataUrl) {
  try {
    const [header, base64Content] = dataUrl.split(",");
    return {
      mediaType: header.split(";")[0].split(":")[1],
      base64Content
    };
  } catch (error45) {
    return {
      mediaType: void 0,
      base64Content: void 0
    };
  }
}
var dataContentSchema = external_exports.union([
  external_exports.string(),
  external_exports.instanceof(Uint8Array),
  external_exports.instanceof(ArrayBuffer),
  external_exports.custom(
    // Buffer might not be available in some environments such as CloudFlare:
    (value) => {
      var _a17, _b8;
      return (_b8 = (_a17 = globalThis.Buffer) == null ? void 0 : _a17.isBuffer(value)) != null ? _b8 : false;
    },
    { message: "Must be a Buffer" }
  )
]);
function convertToLanguageModelV2DataContent(content) {
  if (content instanceof Uint8Array) {
    return { data: content, mediaType: void 0 };
  }
  if (content instanceof ArrayBuffer) {
    return { data: new Uint8Array(content), mediaType: void 0 };
  }
  if (typeof content === "string") {
    try {
      content = new URL(content);
    } catch (error45) {
    }
  }
  if (content instanceof URL && content.protocol === "data:") {
    const { mediaType: dataUrlMediaType, base64Content } = splitDataUrl(
      content.toString()
    );
    if (dataUrlMediaType == null || base64Content == null) {
      throw new AISDKError({
        name: "InvalidDataContentError",
        message: `Invalid data URL format in content ${content.toString()}`
      });
    }
    return { data: base64Content, mediaType: dataUrlMediaType };
  }
  return { data: content, mediaType: void 0 };
}
function convertDataContentToBase64String(content) {
  if (typeof content === "string") {
    return content;
  }
  if (content instanceof ArrayBuffer) {
    return convertUint8ArrayToBase64(new Uint8Array(content));
  }
  return convertUint8ArrayToBase64(content);
}
async function convertToLanguageModelPrompt({
  prompt,
  supportedUrls,
  download: download2 = createDefaultDownloadFunction()
}) {
  const downloadedAssets = await downloadAssets(
    prompt.messages,
    download2,
    supportedUrls
  );
  return [
    ...prompt.system != null ? [{ role: "system", content: prompt.system }] : [],
    ...prompt.messages.map(
      (message) => convertToLanguageModelMessage({ message, downloadedAssets })
    )
  ];
}
function convertToLanguageModelMessage({
  message,
  downloadedAssets
}) {
  const role = message.role;
  switch (role) {
    case "system": {
      return {
        role: "system",
        content: message.content,
        providerOptions: message.providerOptions
      };
    }
    case "user": {
      if (typeof message.content === "string") {
        return {
          role: "user",
          content: [{ type: "text", text: message.content }],
          providerOptions: message.providerOptions
        };
      }
      return {
        role: "user",
        content: message.content.map((part) => convertPartToLanguageModelPart(part, downloadedAssets)).filter((part) => part.type !== "text" || part.text !== ""),
        providerOptions: message.providerOptions
      };
    }
    case "assistant": {
      if (typeof message.content === "string") {
        return {
          role: "assistant",
          content: [{ type: "text", text: message.content }],
          providerOptions: message.providerOptions
        };
      }
      return {
        role: "assistant",
        content: message.content.filter(
          // remove empty text parts:
          (part) => part.type !== "text" || part.text !== ""
        ).map((part) => {
          const providerOptions = part.providerOptions;
          switch (part.type) {
            case "file": {
              const { data, mediaType } = convertToLanguageModelV2DataContent(
                part.data
              );
              return {
                type: "file",
                data,
                filename: part.filename,
                mediaType: mediaType != null ? mediaType : part.mediaType,
                providerOptions
              };
            }
            case "reasoning": {
              return {
                type: "reasoning",
                text: part.text,
                providerOptions
              };
            }
            case "text": {
              return {
                type: "text",
                text: part.text,
                providerOptions
              };
            }
            case "tool-call": {
              return {
                type: "tool-call",
                toolCallId: part.toolCallId,
                toolName: part.toolName,
                input: part.input,
                providerExecuted: part.providerExecuted,
                providerOptions
              };
            }
            case "tool-result": {
              return {
                type: "tool-result",
                toolCallId: part.toolCallId,
                toolName: part.toolName,
                output: part.output,
                providerOptions
              };
            }
          }
        }),
        providerOptions: message.providerOptions
      };
    }
    case "tool": {
      return {
        role: "tool",
        content: message.content.map((part) => ({
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: part.output,
          providerOptions: part.providerOptions
        })),
        providerOptions: message.providerOptions
      };
    }
    default: {
      const _exhaustiveCheck = role;
      throw new InvalidMessageRoleError({ role: _exhaustiveCheck });
    }
  }
}
async function downloadAssets(messages, download2, supportedUrls) {
  const plannedDownloads = messages.filter((message) => message.role === "user").map((message) => message.content).filter(
    (content) => Array.isArray(content)
  ).flat().filter(
    (part) => part.type === "image" || part.type === "file"
  ).map((part) => {
    var _a17;
    const mediaType = (_a17 = part.mediaType) != null ? _a17 : part.type === "image" ? "image/*" : void 0;
    let data = part.type === "image" ? part.image : part.data;
    if (typeof data === "string") {
      try {
        data = new URL(data);
      } catch (ignored) {
      }
    }
    return { mediaType, data };
  }).filter(
    (part) => part.data instanceof URL
  ).map((part) => ({
    url: part.data,
    isUrlSupportedByModel: part.mediaType != null && isUrlSupported({
      url: part.data.toString(),
      mediaType: part.mediaType,
      supportedUrls
    })
  }));
  const downloadedFiles = await download2(plannedDownloads);
  return Object.fromEntries(
    downloadedFiles.filter(
      (downloadedFile) => (downloadedFile == null ? void 0 : downloadedFile.data) != null
    ).map(({ data, mediaType }, index) => [
      plannedDownloads[index].url.toString(),
      { data, mediaType }
    ])
  );
}
function convertPartToLanguageModelPart(part, downloadedAssets) {
  var _a17;
  if (part.type === "text") {
    return {
      type: "text",
      text: part.text,
      providerOptions: part.providerOptions
    };
  }
  let originalData;
  const type = part.type;
  switch (type) {
    case "image":
      originalData = part.image;
      break;
    case "file":
      originalData = part.data;
      break;
    default:
      throw new Error(`Unsupported part type: ${type}`);
  }
  const { data: convertedData, mediaType: convertedMediaType } = convertToLanguageModelV2DataContent(originalData);
  let mediaType = convertedMediaType != null ? convertedMediaType : part.mediaType;
  let data = convertedData;
  if (data instanceof URL) {
    const downloadedFile = downloadedAssets[data.toString()];
    if (downloadedFile) {
      data = downloadedFile.data;
      mediaType != null ? mediaType : mediaType = downloadedFile.mediaType;
    }
  }
  switch (type) {
    case "image": {
      if (data instanceof Uint8Array || typeof data === "string") {
        mediaType = (_a17 = detectMediaType({ data, signatures: imageMediaTypeSignatures })) != null ? _a17 : mediaType;
      }
      return {
        type: "file",
        mediaType: mediaType != null ? mediaType : "image/*",
        // any image
        filename: void 0,
        data,
        providerOptions: part.providerOptions
      };
    }
    case "file": {
      if (mediaType == null) {
        throw new Error(`Media type is missing for file part`);
      }
      return {
        type: "file",
        mediaType,
        filename: part.filename,
        data,
        providerOptions: part.providerOptions
      };
    }
  }
}
function prepareCallSettings({
  maxOutputTokens,
  temperature,
  topP,
  topK,
  presencePenalty,
  frequencyPenalty,
  seed,
  stopSequences
}) {
  if (maxOutputTokens != null) {
    if (!Number.isInteger(maxOutputTokens)) {
      throw new InvalidArgumentError2({
        parameter: "maxOutputTokens",
        value: maxOutputTokens,
        message: "maxOutputTokens must be an integer"
      });
    }
    if (maxOutputTokens < 1) {
      throw new InvalidArgumentError2({
        parameter: "maxOutputTokens",
        value: maxOutputTokens,
        message: "maxOutputTokens must be >= 1"
      });
    }
  }
  if (temperature != null) {
    if (typeof temperature !== "number") {
      throw new InvalidArgumentError2({
        parameter: "temperature",
        value: temperature,
        message: "temperature must be a number"
      });
    }
  }
  if (topP != null) {
    if (typeof topP !== "number") {
      throw new InvalidArgumentError2({
        parameter: "topP",
        value: topP,
        message: "topP must be a number"
      });
    }
  }
  if (topK != null) {
    if (typeof topK !== "number") {
      throw new InvalidArgumentError2({
        parameter: "topK",
        value: topK,
        message: "topK must be a number"
      });
    }
  }
  if (presencePenalty != null) {
    if (typeof presencePenalty !== "number") {
      throw new InvalidArgumentError2({
        parameter: "presencePenalty",
        value: presencePenalty,
        message: "presencePenalty must be a number"
      });
    }
  }
  if (frequencyPenalty != null) {
    if (typeof frequencyPenalty !== "number") {
      throw new InvalidArgumentError2({
        parameter: "frequencyPenalty",
        value: frequencyPenalty,
        message: "frequencyPenalty must be a number"
      });
    }
  }
  if (seed != null) {
    if (!Number.isInteger(seed)) {
      throw new InvalidArgumentError2({
        parameter: "seed",
        value: seed,
        message: "seed must be an integer"
      });
    }
  }
  return {
    maxOutputTokens,
    temperature,
    topP,
    topK,
    presencePenalty,
    frequencyPenalty,
    stopSequences,
    seed
  };
}
function isNonEmptyObject(object22) {
  return object22 != null && Object.keys(object22).length > 0;
}
function prepareToolsAndToolChoice({
  tools,
  toolChoice,
  activeTools
}) {
  if (!isNonEmptyObject(tools)) {
    return {
      tools: void 0,
      toolChoice: void 0
    };
  }
  const filteredTools = activeTools != null ? Object.entries(tools).filter(
    ([name17]) => activeTools.includes(name17)
  ) : Object.entries(tools);
  return {
    tools: filteredTools.map(([name17, tool3]) => {
      const toolType = tool3.type;
      switch (toolType) {
        case void 0:
        case "dynamic":
        case "function":
          return {
            type: "function",
            name: name17,
            description: tool3.description,
            inputSchema: asSchema(tool3.inputSchema).jsonSchema,
            providerOptions: tool3.providerOptions
          };
        case "provider-defined":
          return {
            type: "provider-defined",
            name: name17,
            id: tool3.id,
            args: tool3.args
          };
        default: {
          const exhaustiveCheck = toolType;
          throw new Error(`Unsupported tool type: ${exhaustiveCheck}`);
        }
      }
    }),
    toolChoice: toolChoice == null ? { type: "auto" } : typeof toolChoice === "string" ? { type: toolChoice } : { type: "tool", toolName: toolChoice.toolName }
  };
}
var jsonValueSchema = external_exports.lazy(
  () => external_exports.union([
    external_exports.null(),
    external_exports.string(),
    external_exports.number(),
    external_exports.boolean(),
    external_exports.record(external_exports.string(), jsonValueSchema),
    external_exports.array(jsonValueSchema)
  ])
);
var providerMetadataSchema = external_exports.record(
  external_exports.string(),
  external_exports.record(external_exports.string(), jsonValueSchema)
);
var textPartSchema = external_exports.object({
  type: external_exports.literal("text"),
  text: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var imagePartSchema = external_exports.object({
  type: external_exports.literal("image"),
  image: external_exports.union([dataContentSchema, external_exports.instanceof(URL)]),
  mediaType: external_exports.string().optional(),
  providerOptions: providerMetadataSchema.optional()
});
var filePartSchema = external_exports.object({
  type: external_exports.literal("file"),
  data: external_exports.union([dataContentSchema, external_exports.instanceof(URL)]),
  filename: external_exports.string().optional(),
  mediaType: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var reasoningPartSchema = external_exports.object({
  type: external_exports.literal("reasoning"),
  text: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var toolCallPartSchema = external_exports.object({
  type: external_exports.literal("tool-call"),
  toolCallId: external_exports.string(),
  toolName: external_exports.string(),
  input: external_exports.unknown(),
  providerOptions: providerMetadataSchema.optional(),
  providerExecuted: external_exports.boolean().optional()
});
var outputSchema = external_exports.discriminatedUnion("type", [
  external_exports.object({
    type: external_exports.literal("text"),
    value: external_exports.string()
  }),
  external_exports.object({
    type: external_exports.literal("json"),
    value: jsonValueSchema
  }),
  external_exports.object({
    type: external_exports.literal("error-text"),
    value: external_exports.string()
  }),
  external_exports.object({
    type: external_exports.literal("error-json"),
    value: jsonValueSchema
  }),
  external_exports.object({
    type: external_exports.literal("content"),
    value: external_exports.array(
      external_exports.union([
        external_exports.object({
          type: external_exports.literal("text"),
          text: external_exports.string()
        }),
        external_exports.object({
          type: external_exports.literal("media"),
          data: external_exports.string(),
          mediaType: external_exports.string()
        })
      ])
    )
  })
]);
var toolResultPartSchema = external_exports.object({
  type: external_exports.literal("tool-result"),
  toolCallId: external_exports.string(),
  toolName: external_exports.string(),
  output: outputSchema,
  providerOptions: providerMetadataSchema.optional()
});
var systemModelMessageSchema = external_exports.object(
  {
    role: external_exports.literal("system"),
    content: external_exports.string(),
    providerOptions: providerMetadataSchema.optional()
  }
);
var userModelMessageSchema = external_exports.object({
  role: external_exports.literal("user"),
  content: external_exports.union([
    external_exports.string(),
    external_exports.array(external_exports.union([textPartSchema, imagePartSchema, filePartSchema]))
  ]),
  providerOptions: providerMetadataSchema.optional()
});
var assistantModelMessageSchema = external_exports.object({
  role: external_exports.literal("assistant"),
  content: external_exports.union([
    external_exports.string(),
    external_exports.array(
      external_exports.union([
        textPartSchema,
        filePartSchema,
        reasoningPartSchema,
        toolCallPartSchema,
        toolResultPartSchema
      ])
    )
  ]),
  providerOptions: providerMetadataSchema.optional()
});
var toolModelMessageSchema = external_exports.object({
  role: external_exports.literal("tool"),
  content: external_exports.array(toolResultPartSchema),
  providerOptions: providerMetadataSchema.optional()
});
var modelMessageSchema = external_exports.union([
  systemModelMessageSchema,
  userModelMessageSchema,
  assistantModelMessageSchema,
  toolModelMessageSchema
]);
async function standardizePrompt(prompt) {
  if (prompt.prompt == null && prompt.messages == null) {
    throw new InvalidPromptError({
      prompt,
      message: "prompt or messages must be defined"
    });
  }
  if (prompt.prompt != null && prompt.messages != null) {
    throw new InvalidPromptError({
      prompt,
      message: "prompt and messages cannot be defined at the same time"
    });
  }
  if (prompt.system != null && typeof prompt.system !== "string") {
    throw new InvalidPromptError({
      prompt,
      message: "system must be a string"
    });
  }
  let messages;
  if (prompt.prompt != null && typeof prompt.prompt === "string") {
    messages = [{ role: "user", content: prompt.prompt }];
  } else if (prompt.prompt != null && Array.isArray(prompt.prompt)) {
    messages = prompt.prompt;
  } else if (prompt.messages != null) {
    messages = prompt.messages;
  } else {
    throw new InvalidPromptError({
      prompt,
      message: "prompt or messages must be defined"
    });
  }
  if (messages.length === 0) {
    throw new InvalidPromptError({
      prompt,
      message: "messages must not be empty"
    });
  }
  const validationResult = await safeValidateTypes({
    value: messages,
    schema: external_exports.array(modelMessageSchema)
  });
  if (!validationResult.success) {
    throw new InvalidPromptError({
      prompt,
      message: "The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",
      cause: validationResult.error
    });
  }
  return {
    messages,
    system: prompt.system
  };
}
function wrapGatewayError(error45) {
  if (GatewayAuthenticationError.isInstance(error45) || GatewayModelNotFoundError.isInstance(error45)) {
    return new AISDKError({
      name: "GatewayError",
      message: "Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.",
      cause: error45
    });
  }
  return error45;
}
function assembleOperationName({
  operationId,
  telemetry
}) {
  return {
    // standardized operation and resource name:
    "operation.name": `${operationId}${(telemetry == null ? void 0 : telemetry.functionId) != null ? ` ${telemetry.functionId}` : ""}`,
    "resource.name": telemetry == null ? void 0 : telemetry.functionId,
    // detailed, AI SDK specific data:
    "ai.operationId": operationId,
    "ai.telemetry.functionId": telemetry == null ? void 0 : telemetry.functionId
  };
}
function getBaseTelemetryAttributes({
  model,
  settings,
  telemetry,
  headers
}) {
  var _a17;
  return {
    "ai.model.provider": model.provider,
    "ai.model.id": model.modelId,
    // settings:
    ...Object.entries(settings).reduce((attributes, [key, value]) => {
      attributes[`ai.settings.${key}`] = value;
      return attributes;
    }, {}),
    // add metadata as attributes:
    ...Object.entries((_a17 = telemetry == null ? void 0 : telemetry.metadata) != null ? _a17 : {}).reduce(
      (attributes, [key, value]) => {
        attributes[`ai.telemetry.metadata.${key}`] = value;
        return attributes;
      },
      {}
    ),
    // request headers
    ...Object.entries(headers != null ? headers : {}).reduce((attributes, [key, value]) => {
      if (value !== void 0) {
        attributes[`ai.request.headers.${key}`] = value;
      }
      return attributes;
    }, {})
  };
}
var noopTracer = {
  startSpan() {
    return noopSpan;
  },
  startActiveSpan(name17, arg1, arg2, arg3) {
    if (typeof arg1 === "function") {
      return arg1(noopSpan);
    }
    if (typeof arg2 === "function") {
      return arg2(noopSpan);
    }
    if (typeof arg3 === "function") {
      return arg3(noopSpan);
    }
  }
};
var noopSpan = {
  spanContext() {
    return noopSpanContext;
  },
  setAttribute() {
    return this;
  },
  setAttributes() {
    return this;
  },
  addEvent() {
    return this;
  },
  addLink() {
    return this;
  },
  addLinks() {
    return this;
  },
  setStatus() {
    return this;
  },
  updateName() {
    return this;
  },
  end() {
    return this;
  },
  isRecording() {
    return false;
  },
  recordException() {
    return this;
  }
};
var noopSpanContext = {
  traceId: "",
  spanId: "",
  traceFlags: 0
};
function getTracer({
  isEnabled = false,
  tracer
} = {}) {
  if (!isEnabled) {
    return noopTracer;
  }
  if (tracer) {
    return tracer;
  }
  return trace.getTracer("ai");
}
function recordSpan({
  name: name17,
  tracer,
  attributes,
  fn,
  endWhenDone = true
}) {
  return tracer.startActiveSpan(name17, { attributes }, async (span) => {
    try {
      const result = await fn(span);
      if (endWhenDone) {
        span.end();
      }
      return result;
    } catch (error45) {
      try {
        recordErrorOnSpan(span, error45);
      } finally {
        span.end();
      }
      throw error45;
    }
  });
}
function recordErrorOnSpan(span, error45) {
  if (error45 instanceof Error) {
    span.recordException({
      name: error45.name,
      message: error45.message,
      stack: error45.stack
    });
    span.setStatus({
      code: SpanStatusCode.ERROR,
      message: error45.message
    });
  } else {
    span.setStatus({ code: SpanStatusCode.ERROR });
  }
}
function selectTelemetryAttributes({
  telemetry,
  attributes
}) {
  if ((telemetry == null ? void 0 : telemetry.isEnabled) !== true) {
    return {};
  }
  return Object.entries(attributes).reduce((attributes2, [key, value]) => {
    if (value == null) {
      return attributes2;
    }
    if (typeof value === "object" && "input" in value && typeof value.input === "function") {
      if ((telemetry == null ? void 0 : telemetry.recordInputs) === false) {
        return attributes2;
      }
      const result = value.input();
      return result == null ? attributes2 : { ...attributes2, [key]: result };
    }
    if (typeof value === "object" && "output" in value && typeof value.output === "function") {
      if ((telemetry == null ? void 0 : telemetry.recordOutputs) === false) {
        return attributes2;
      }
      const result = value.output();
      return result == null ? attributes2 : { ...attributes2, [key]: result };
    }
    return { ...attributes2, [key]: value };
  }, {});
}
function stringifyForTelemetry(prompt) {
  return JSON.stringify(
    prompt.map((message) => ({
      ...message,
      content: typeof message.content === "string" ? message.content : message.content.map(
        (part) => part.type === "file" ? {
          ...part,
          data: part.data instanceof Uint8Array ? convertDataContentToBase64String(part.data) : part.data
        } : part
      )
    }))
  );
}
function addLanguageModelUsage(usage1, usage2) {
  return {
    inputTokens: addTokenCounts(usage1.inputTokens, usage2.inputTokens),
    outputTokens: addTokenCounts(usage1.outputTokens, usage2.outputTokens),
    totalTokens: addTokenCounts(usage1.totalTokens, usage2.totalTokens),
    reasoningTokens: addTokenCounts(
      usage1.reasoningTokens,
      usage2.reasoningTokens
    ),
    cachedInputTokens: addTokenCounts(
      usage1.cachedInputTokens,
      usage2.cachedInputTokens
    )
  };
}
function addTokenCounts(tokenCount1, tokenCount2) {
  return tokenCount1 == null && tokenCount2 == null ? void 0 : (tokenCount1 != null ? tokenCount1 : 0) + (tokenCount2 != null ? tokenCount2 : 0);
}
function asArray(value) {
  return value === void 0 ? [] : Array.isArray(value) ? value : [value];
}
function getRetryDelayInMs({
  error: error45,
  exponentialBackoffDelay
}) {
  const headers = error45.responseHeaders;
  if (!headers)
    return exponentialBackoffDelay;
  let ms;
  const retryAfterMs = headers["retry-after-ms"];
  if (retryAfterMs) {
    const timeoutMs = parseFloat(retryAfterMs);
    if (!Number.isNaN(timeoutMs)) {
      ms = timeoutMs;
    }
  }
  const retryAfter = headers["retry-after"];
  if (retryAfter && ms === void 0) {
    const timeoutSeconds = parseFloat(retryAfter);
    if (!Number.isNaN(timeoutSeconds)) {
      ms = timeoutSeconds * 1e3;
    } else {
      ms = Date.parse(retryAfter) - Date.now();
    }
  }
  if (ms != null && !Number.isNaN(ms) && 0 <= ms && (ms < 60 * 1e3 || ms < exponentialBackoffDelay)) {
    return ms;
  }
  return exponentialBackoffDelay;
}
var retryWithExponentialBackoffRespectingRetryHeaders = ({
  maxRetries = 2,
  initialDelayInMs = 2e3,
  backoffFactor = 2,
  abortSignal
} = {}) => async (f) => _retryWithExponentialBackoff(f, {
  maxRetries,
  delayInMs: initialDelayInMs,
  backoffFactor,
  abortSignal
});
async function _retryWithExponentialBackoff(f, {
  maxRetries,
  delayInMs,
  backoffFactor,
  abortSignal
}, errors = []) {
  try {
    return await f();
  } catch (error45) {
    if (isAbortError(error45)) {
      throw error45;
    }
    if (maxRetries === 0) {
      throw error45;
    }
    const errorMessage = getErrorMessage2(error45);
    const newErrors = [...errors, error45];
    const tryNumber = newErrors.length;
    if (tryNumber > maxRetries) {
      throw new RetryError({
        message: `Failed after ${tryNumber} attempts. Last error: ${errorMessage}`,
        reason: "maxRetriesExceeded",
        errors: newErrors
      });
    }
    if (error45 instanceof Error && APICallError.isInstance(error45) && error45.isRetryable === true && tryNumber <= maxRetries) {
      await delay(
        getRetryDelayInMs({
          error: error45,
          exponentialBackoffDelay: delayInMs
        }),
        { abortSignal }
      );
      return _retryWithExponentialBackoff(
        f,
        {
          maxRetries,
          delayInMs: backoffFactor * delayInMs,
          backoffFactor,
          abortSignal
        },
        newErrors
      );
    }
    if (tryNumber === 1) {
      throw error45;
    }
    throw new RetryError({
      message: `Failed after ${tryNumber} attempts with non-retryable error: '${errorMessage}'`,
      reason: "errorNotRetryable",
      errors: newErrors
    });
  }
}
function prepareRetries({
  maxRetries,
  abortSignal
}) {
  if (maxRetries != null) {
    if (!Number.isInteger(maxRetries)) {
      throw new InvalidArgumentError2({
        parameter: "maxRetries",
        value: maxRetries,
        message: "maxRetries must be an integer"
      });
    }
    if (maxRetries < 0) {
      throw new InvalidArgumentError2({
        parameter: "maxRetries",
        value: maxRetries,
        message: "maxRetries must be >= 0"
      });
    }
  }
  const maxRetriesResult = maxRetries != null ? maxRetries : 2;
  return {
    maxRetries: maxRetriesResult,
    retry: retryWithExponentialBackoffRespectingRetryHeaders({
      maxRetries: maxRetriesResult,
      abortSignal
    })
  };
}
var DefaultGeneratedFile = class {
  constructor({
    data,
    mediaType
  }) {
    const isUint8Array = data instanceof Uint8Array;
    this.base64Data = isUint8Array ? void 0 : data;
    this.uint8ArrayData = isUint8Array ? data : void 0;
    this.mediaType = mediaType;
  }
  // lazy conversion with caching to avoid unnecessary conversion overhead:
  get base64() {
    if (this.base64Data == null) {
      this.base64Data = convertUint8ArrayToBase64(this.uint8ArrayData);
    }
    return this.base64Data;
  }
  // lazy conversion with caching to avoid unnecessary conversion overhead:
  get uint8Array() {
    if (this.uint8ArrayData == null) {
      this.uint8ArrayData = convertBase64ToUint8Array(this.base64Data);
    }
    return this.uint8ArrayData;
  }
};
var DefaultGeneratedFileWithType = class extends DefaultGeneratedFile {
  constructor(options) {
    super(options);
    this.type = "file";
  }
};
async function parseToolCall({
  toolCall,
  tools,
  repairToolCall,
  system,
  messages
}) {
  try {
    if (tools == null) {
      throw new NoSuchToolError({ toolName: toolCall.toolName });
    }
    try {
      return await doParseToolCall({ toolCall, tools });
    } catch (error45) {
      if (repairToolCall == null || !(NoSuchToolError.isInstance(error45) || InvalidToolInputError.isInstance(error45))) {
        throw error45;
      }
      let repairedToolCall = null;
      try {
        repairedToolCall = await repairToolCall({
          toolCall,
          tools,
          inputSchema: ({ toolName }) => {
            const { inputSchema } = tools[toolName];
            return asSchema(inputSchema).jsonSchema;
          },
          system,
          messages,
          error: error45
        });
      } catch (repairError) {
        throw new ToolCallRepairError({
          cause: repairError,
          originalError: error45
        });
      }
      if (repairedToolCall == null) {
        throw error45;
      }
      return await doParseToolCall({ toolCall: repairedToolCall, tools });
    }
  } catch (error45) {
    const parsedInput = await safeParseJSON({ text: toolCall.input });
    const input = parsedInput.success ? parsedInput.value : toolCall.input;
    return {
      type: "tool-call",
      toolCallId: toolCall.toolCallId,
      toolName: toolCall.toolName,
      input,
      dynamic: true,
      invalid: true,
      error: error45
    };
  }
}
async function doParseToolCall({
  toolCall,
  tools
}) {
  const toolName = toolCall.toolName;
  const tool3 = tools[toolName];
  if (tool3 == null) {
    throw new NoSuchToolError({
      toolName: toolCall.toolName,
      availableTools: Object.keys(tools)
    });
  }
  const schema = asSchema(tool3.inputSchema);
  const parseResult = toolCall.input.trim() === "" ? await safeValidateTypes({ value: {}, schema }) : await safeParseJSON({ text: toolCall.input, schema });
  if (parseResult.success === false) {
    throw new InvalidToolInputError({
      toolName,
      toolInput: toolCall.input,
      cause: parseResult.error
    });
  }
  return tool3.type === "dynamic" ? {
    type: "tool-call",
    toolCallId: toolCall.toolCallId,
    toolName: toolCall.toolName,
    input: parseResult.value,
    providerExecuted: toolCall.providerExecuted,
    providerMetadata: toolCall.providerMetadata,
    dynamic: true
  } : {
    type: "tool-call",
    toolCallId: toolCall.toolCallId,
    toolName,
    input: parseResult.value,
    providerExecuted: toolCall.providerExecuted,
    providerMetadata: toolCall.providerMetadata
  };
}
var DefaultStepResult = class {
  constructor({
    content,
    finishReason,
    usage,
    warnings,
    request,
    response,
    providerMetadata
  }) {
    this.content = content;
    this.finishReason = finishReason;
    this.usage = usage;
    this.warnings = warnings;
    this.request = request;
    this.response = response;
    this.providerMetadata = providerMetadata;
  }
  get text() {
    return this.content.filter((part) => part.type === "text").map((part) => part.text).join("");
  }
  get reasoning() {
    return this.content.filter((part) => part.type === "reasoning");
  }
  get reasoningText() {
    return this.reasoning.length === 0 ? void 0 : this.reasoning.map((part) => part.text).join("");
  }
  get files() {
    return this.content.filter((part) => part.type === "file").map((part) => part.file);
  }
  get sources() {
    return this.content.filter((part) => part.type === "source");
  }
  get toolCalls() {
    return this.content.filter((part) => part.type === "tool-call");
  }
  get staticToolCalls() {
    return this.toolCalls.filter(
      (toolCall) => toolCall.dynamic === false
    );
  }
  get dynamicToolCalls() {
    return this.toolCalls.filter(
      (toolCall) => toolCall.dynamic === true
    );
  }
  get toolResults() {
    return this.content.filter((part) => part.type === "tool-result");
  }
  get staticToolResults() {
    return this.toolResults.filter(
      (toolResult) => toolResult.dynamic === false
    );
  }
  get dynamicToolResults() {
    return this.toolResults.filter(
      (toolResult) => toolResult.dynamic === true
    );
  }
};
function stepCountIs(stepCount) {
  return ({ steps }) => steps.length === stepCount;
}
async function isStopConditionMet({
  stopConditions,
  steps
}) {
  return (await Promise.all(stopConditions.map((condition) => condition({ steps })))).some((result) => result);
}
function createToolModelOutput({
  output,
  tool: tool3,
  errorMode
}) {
  if (errorMode === "text") {
    return { type: "error-text", value: getErrorMessage(output) };
  } else if (errorMode === "json") {
    return { type: "error-json", value: toJSONValue(output) };
  }
  if (tool3 == null ? void 0 : tool3.toModelOutput) {
    return tool3.toModelOutput(output);
  }
  return typeof output === "string" ? { type: "text", value: output } : { type: "json", value: toJSONValue(output) };
}
function toJSONValue(value) {
  return value === void 0 ? null : value;
}
function toResponseMessages({
  content: inputContent,
  tools
}) {
  const responseMessages = [];
  const content = inputContent.filter((part) => part.type !== "source").filter(
    (part) => (part.type !== "tool-result" || part.providerExecuted) && (part.type !== "tool-error" || part.providerExecuted)
  ).filter((part) => part.type !== "text" || part.text.length > 0).map((part) => {
    switch (part.type) {
      case "text":
        return {
          type: "text",
          text: part.text,
          providerOptions: part.providerMetadata
        };
      case "reasoning":
        return {
          type: "reasoning",
          text: part.text,
          providerOptions: part.providerMetadata
        };
      case "file":
        return {
          type: "file",
          data: part.file.base64,
          mediaType: part.file.mediaType,
          providerOptions: part.providerMetadata
        };
      case "tool-call":
        return {
          type: "tool-call",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          input: part.input,
          providerExecuted: part.providerExecuted,
          providerOptions: part.providerMetadata
        };
      case "tool-result":
        return {
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: createToolModelOutput({
            tool: tools == null ? void 0 : tools[part.toolName],
            output: part.output,
            errorMode: "none"
          }),
          providerExecuted: true,
          providerOptions: part.providerMetadata
        };
      case "tool-error":
        return {
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: createToolModelOutput({
            tool: tools == null ? void 0 : tools[part.toolName],
            output: part.error,
            errorMode: "json"
          }),
          providerOptions: part.providerMetadata
        };
    }
  });
  if (content.length > 0) {
    responseMessages.push({
      role: "assistant",
      content
    });
  }
  const toolResultContent = inputContent.filter((part) => part.type === "tool-result" || part.type === "tool-error").filter((part) => !part.providerExecuted).map((toolResult) => ({
    type: "tool-result",
    toolCallId: toolResult.toolCallId,
    toolName: toolResult.toolName,
    output: createToolModelOutput({
      tool: tools == null ? void 0 : tools[toolResult.toolName],
      output: toolResult.type === "tool-result" ? toolResult.output : toolResult.error,
      errorMode: toolResult.type === "tool-error" ? "text" : "none"
    })
  }));
  if (toolResultContent.length > 0) {
    responseMessages.push({
      role: "tool",
      content: toolResultContent
    });
  }
  return responseMessages;
}
var originalGenerateId = createIdGenerator({
  prefix: "aitxt",
  size: 24
});
function prepareHeaders(headers, defaultHeaders) {
  const responseHeaders = new Headers(headers != null ? headers : {});
  for (const [key, value] of Object.entries(defaultHeaders)) {
    if (!responseHeaders.has(key)) {
      responseHeaders.set(key, value);
    }
  }
  return responseHeaders;
}
function createTextStreamResponse({
  status,
  statusText,
  headers,
  textStream
}) {
  return new Response(textStream.pipeThrough(new TextEncoderStream()), {
    status: status != null ? status : 200,
    statusText,
    headers: prepareHeaders(headers, {
      "content-type": "text/plain; charset=utf-8"
    })
  });
}
function writeToServerResponse({
  response,
  status,
  statusText,
  headers,
  stream
}) {
  response.writeHead(status != null ? status : 200, statusText, headers);
  const reader = stream.getReader();
  const read = async () => {
    try {
      while (true) {
        const { done, value } = await reader.read();
        if (done)
          break;
        response.write(value);
      }
    } catch (error45) {
      throw error45;
    } finally {
      response.end();
    }
  };
  read();
}
function pipeTextStreamToResponse({
  response,
  status,
  statusText,
  headers,
  textStream
}) {
  writeToServerResponse({
    response,
    status,
    statusText,
    headers: Object.fromEntries(
      prepareHeaders(headers, {
        "content-type": "text/plain; charset=utf-8"
      }).entries()
    ),
    stream: textStream.pipeThrough(new TextEncoderStream())
  });
}
var JsonToSseTransformStream = class extends TransformStream {
  constructor() {
    super({
      transform(part, controller) {
        controller.enqueue(`data: ${JSON.stringify(part)}

`);
      },
      flush(controller) {
        controller.enqueue("data: [DONE]\n\n");
      }
    });
  }
};
var UI_MESSAGE_STREAM_HEADERS = {
  "content-type": "text/event-stream",
  "cache-control": "no-cache",
  connection: "keep-alive",
  "x-vercel-ai-ui-message-stream": "v1",
  "x-accel-buffering": "no"
  // disable nginx buffering
};
function createUIMessageStreamResponse({
  status,
  statusText,
  headers,
  stream,
  consumeSseStream
}) {
  let sseStream = stream.pipeThrough(new JsonToSseTransformStream());
  if (consumeSseStream) {
    const [stream1, stream2] = sseStream.tee();
    sseStream = stream1;
    consumeSseStream({ stream: stream2 });
  }
  return new Response(sseStream.pipeThrough(new TextEncoderStream()), {
    status,
    statusText,
    headers: prepareHeaders(headers, UI_MESSAGE_STREAM_HEADERS)
  });
}
function getResponseUIMessageId({
  originalMessages,
  responseMessageId
}) {
  if (originalMessages == null) {
    return void 0;
  }
  const lastMessage = originalMessages[originalMessages.length - 1];
  return (lastMessage == null ? void 0 : lastMessage.role) === "assistant" ? lastMessage.id : typeof responseMessageId === "function" ? responseMessageId() : responseMessageId;
}
var uiMessageChunkSchema = external_exports.union([
  external_exports.strictObject({
    type: external_exports.literal("text-start"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("text-delta"),
    id: external_exports.string(),
    delta: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("text-end"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("error"),
    errorText: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-start"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-delta"),
    toolCallId: external_exports.string(),
    inputTextDelta: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-available"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    input: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    providerMetadata: providerMetadataSchema.optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-error"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    input: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    providerMetadata: providerMetadataSchema.optional(),
    dynamic: external_exports.boolean().optional(),
    errorText: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-output-available"),
    toolCallId: external_exports.string(),
    output: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional(),
    preliminary: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-output-error"),
    toolCallId: external_exports.string(),
    errorText: external_exports.string(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning"),
    text: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-start"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-delta"),
    id: external_exports.string(),
    delta: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-end"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-part-finish")
  }),
  external_exports.strictObject({
    type: external_exports.literal("source-url"),
    sourceId: external_exports.string(),
    url: external_exports.string(),
    title: external_exports.string().optional(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("source-document"),
    sourceId: external_exports.string(),
    mediaType: external_exports.string(),
    title: external_exports.string(),
    filename: external_exports.string().optional(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("file"),
    url: external_exports.string(),
    mediaType: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.string().startsWith("data-"),
    id: external_exports.string().optional(),
    data: external_exports.unknown(),
    transient: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("start-step")
  }),
  external_exports.strictObject({
    type: external_exports.literal("finish-step")
  }),
  external_exports.strictObject({
    type: external_exports.literal("start"),
    messageId: external_exports.string().optional(),
    messageMetadata: external_exports.unknown().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("finish"),
    messageMetadata: external_exports.unknown().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("abort")
  }),
  external_exports.strictObject({
    type: external_exports.literal("message-metadata"),
    messageMetadata: external_exports.unknown()
  })
]);
function isDataUIMessageChunk(chunk) {
  return chunk.type.startsWith("data-");
}
function mergeObjects(base, overrides) {
  if (base === void 0 && overrides === void 0) {
    return void 0;
  }
  if (base === void 0) {
    return overrides;
  }
  if (overrides === void 0) {
    return base;
  }
  const result = { ...base };
  for (const key in overrides) {
    if (Object.prototype.hasOwnProperty.call(overrides, key)) {
      const overridesValue = overrides[key];
      if (overridesValue === void 0)
        continue;
      const baseValue = key in base ? base[key] : void 0;
      const isSourceObject = overridesValue !== null && typeof overridesValue === "object" && !Array.isArray(overridesValue) && !(overridesValue instanceof Date) && !(overridesValue instanceof RegExp);
      const isTargetObject = baseValue !== null && baseValue !== void 0 && typeof baseValue === "object" && !Array.isArray(baseValue) && !(baseValue instanceof Date) && !(baseValue instanceof RegExp);
      if (isSourceObject && isTargetObject) {
        result[key] = mergeObjects(
          baseValue,
          overridesValue
        );
      } else {
        result[key] = overridesValue;
      }
    }
  }
  return result;
}
function fixJson(input) {
  const stack = ["ROOT"];
  let lastValidIndex = -1;
  let literalStart = null;
  function processValueStart(char, i2, swapState) {
    {
      switch (char) {
        case '"': {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_STRING");
          break;
        }
        case "f":
        case "t":
        case "n": {
          lastValidIndex = i2;
          literalStart = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_LITERAL");
          break;
        }
        case "-": {
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_NUMBER");
          break;
        }
        case "0":
        case "1":
        case "2":
        case "3":
        case "4":
        case "5":
        case "6":
        case "7":
        case "8":
        case "9": {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_NUMBER");
          break;
        }
        case "{": {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_OBJECT_START");
          break;
        }
        case "[": {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_ARRAY_START");
          break;
        }
      }
    }
  }
  function processAfterObjectValue(char, i2) {
    switch (char) {
      case ",": {
        stack.pop();
        stack.push("INSIDE_OBJECT_AFTER_COMMA");
        break;
      }
      case "}": {
        lastValidIndex = i2;
        stack.pop();
        break;
      }
    }
  }
  function processAfterArrayValue(char, i2) {
    switch (char) {
      case ",": {
        stack.pop();
        stack.push("INSIDE_ARRAY_AFTER_COMMA");
        break;
      }
      case "]": {
        lastValidIndex = i2;
        stack.pop();
        break;
      }
    }
  }
  for (let i2 = 0; i2 < input.length; i2++) {
    const char = input[i2];
    const currentState = stack[stack.length - 1];
    switch (currentState) {
      case "ROOT":
        processValueStart(char, i2, "FINISH");
        break;
      case "INSIDE_OBJECT_START": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_KEY");
            break;
          }
          case "}": {
            lastValidIndex = i2;
            stack.pop();
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_AFTER_COMMA": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_KEY");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_KEY": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_AFTER_KEY");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_AFTER_KEY": {
        switch (char) {
          case ":": {
            stack.pop();
            stack.push("INSIDE_OBJECT_BEFORE_VALUE");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_BEFORE_VALUE": {
        processValueStart(char, i2, "INSIDE_OBJECT_AFTER_VALUE");
        break;
      }
      case "INSIDE_OBJECT_AFTER_VALUE": {
        processAfterObjectValue(char, i2);
        break;
      }
      case "INSIDE_STRING": {
        switch (char) {
          case '"': {
            stack.pop();
            lastValidIndex = i2;
            break;
          }
          case "\\": {
            stack.push("INSIDE_STRING_ESCAPE");
            break;
          }
          default: {
            lastValidIndex = i2;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_START": {
        switch (char) {
          case "]": {
            lastValidIndex = i2;
            stack.pop();
            break;
          }
          default: {
            lastValidIndex = i2;
            processValueStart(char, i2, "INSIDE_ARRAY_AFTER_VALUE");
            break;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_AFTER_VALUE": {
        switch (char) {
          case ",": {
            stack.pop();
            stack.push("INSIDE_ARRAY_AFTER_COMMA");
            break;
          }
          case "]": {
            lastValidIndex = i2;
            stack.pop();
            break;
          }
          default: {
            lastValidIndex = i2;
            break;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_AFTER_COMMA": {
        processValueStart(char, i2, "INSIDE_ARRAY_AFTER_VALUE");
        break;
      }
      case "INSIDE_STRING_ESCAPE": {
        stack.pop();
        lastValidIndex = i2;
        break;
      }
      case "INSIDE_NUMBER": {
        switch (char) {
          case "0":
          case "1":
          case "2":
          case "3":
          case "4":
          case "5":
          case "6":
          case "7":
          case "8":
          case "9": {
            lastValidIndex = i2;
            break;
          }
          case "e":
          case "E":
          case "-":
          case ".": {
            break;
          }
          case ",": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
              processAfterArrayValue(char, i2);
            }
            if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
              processAfterObjectValue(char, i2);
            }
            break;
          }
          case "}": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
              processAfterObjectValue(char, i2);
            }
            break;
          }
          case "]": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
              processAfterArrayValue(char, i2);
            }
            break;
          }
          default: {
            stack.pop();
            break;
          }
        }
        break;
      }
      case "INSIDE_LITERAL": {
        const partialLiteral = input.substring(literalStart, i2 + 1);
        if (!"false".startsWith(partialLiteral) && !"true".startsWith(partialLiteral) && !"null".startsWith(partialLiteral)) {
          stack.pop();
          if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
            processAfterObjectValue(char, i2);
          } else if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
            processAfterArrayValue(char, i2);
          }
        } else {
          lastValidIndex = i2;
        }
        break;
      }
    }
  }
  let result = input.slice(0, lastValidIndex + 1);
  for (let i2 = stack.length - 1; i2 >= 0; i2--) {
    const state = stack[i2];
    switch (state) {
      case "INSIDE_STRING": {
        result += '"';
        break;
      }
      case "INSIDE_OBJECT_KEY":
      case "INSIDE_OBJECT_AFTER_KEY":
      case "INSIDE_OBJECT_AFTER_COMMA":
      case "INSIDE_OBJECT_START":
      case "INSIDE_OBJECT_BEFORE_VALUE":
      case "INSIDE_OBJECT_AFTER_VALUE": {
        result += "}";
        break;
      }
      case "INSIDE_ARRAY_START":
      case "INSIDE_ARRAY_AFTER_COMMA":
      case "INSIDE_ARRAY_AFTER_VALUE": {
        result += "]";
        break;
      }
      case "INSIDE_LITERAL": {
        const partialLiteral = input.substring(literalStart, input.length);
        if ("true".startsWith(partialLiteral)) {
          result += "true".slice(partialLiteral.length);
        } else if ("false".startsWith(partialLiteral)) {
          result += "false".slice(partialLiteral.length);
        } else if ("null".startsWith(partialLiteral)) {
          result += "null".slice(partialLiteral.length);
        }
      }
    }
  }
  return result;
}
async function parsePartialJson(jsonText) {
  if (jsonText === void 0) {
    return { value: void 0, state: "undefined-input" };
  }
  let result = await safeParseJSON({ text: jsonText });
  if (result.success) {
    return { value: result.value, state: "successful-parse" };
  }
  result = await safeParseJSON({ text: fixJson(jsonText) });
  if (result.success) {
    return { value: result.value, state: "repaired-parse" };
  }
  return { value: void 0, state: "failed-parse" };
}
function isToolUIPart(part) {
  return part.type.startsWith("tool-");
}
function isDynamicToolUIPart(part) {
  return part.type === "dynamic-tool";
}
function isToolOrDynamicToolUIPart(part) {
  return isToolUIPart(part) || isDynamicToolUIPart(part);
}
function getToolName(part) {
  return part.type.split("-").slice(1).join("-");
}
function createStreamingUIMessageState({
  lastMessage,
  messageId
}) {
  return {
    message: (lastMessage == null ? void 0 : lastMessage.role) === "assistant" ? lastMessage : {
      id: messageId,
      metadata: void 0,
      role: "assistant",
      parts: []
    },
    activeTextParts: {},
    activeReasoningParts: {},
    partialToolCalls: {}
  };
}
function processUIMessageStream({
  stream,
  messageMetadataSchema,
  dataPartSchemas,
  runUpdateMessageJob,
  onError,
  onToolCall,
  onData
}) {
  return stream.pipeThrough(
    new TransformStream({
      async transform(chunk, controller) {
        await runUpdateMessageJob(async ({ state, write }) => {
          var _a17, _b8, _c, _d;
          function getToolInvocation(toolCallId) {
            const toolInvocations = state.message.parts.filter(isToolUIPart);
            const toolInvocation = toolInvocations.find(
              (invocation) => invocation.toolCallId === toolCallId
            );
            if (toolInvocation == null) {
              throw new Error(
                "tool-output-error must be preceded by a tool-input-available"
              );
            }
            return toolInvocation;
          }
          function getDynamicToolInvocation(toolCallId) {
            const toolInvocations = state.message.parts.filter(
              (part) => part.type === "dynamic-tool"
            );
            const toolInvocation = toolInvocations.find(
              (invocation) => invocation.toolCallId === toolCallId
            );
            if (toolInvocation == null) {
              throw new Error(
                "tool-output-error must be preceded by a tool-input-available"
              );
            }
            return toolInvocation;
          }
          function updateToolPart(options) {
            var _a18;
            const part = state.message.parts.find(
              (part2) => isToolUIPart(part2) && part2.toolCallId === options.toolCallId
            );
            const anyOptions = options;
            const anyPart = part;
            if (part != null) {
              part.state = options.state;
              anyPart.input = anyOptions.input;
              anyPart.output = anyOptions.output;
              anyPart.errorText = anyOptions.errorText;
              anyPart.rawInput = anyOptions.rawInput;
              anyPart.preliminary = anyOptions.preliminary;
              anyPart.providerExecuted = (_a18 = anyOptions.providerExecuted) != null ? _a18 : part.providerExecuted;
              if (anyOptions.providerMetadata != null && part.state === "input-available") {
                part.callProviderMetadata = anyOptions.providerMetadata;
              }
            } else {
              state.message.parts.push({
                type: `tool-${options.toolName}`,
                toolCallId: options.toolCallId,
                state: options.state,
                input: anyOptions.input,
                output: anyOptions.output,
                rawInput: anyOptions.rawInput,
                errorText: anyOptions.errorText,
                providerExecuted: anyOptions.providerExecuted,
                preliminary: anyOptions.preliminary,
                ...anyOptions.providerMetadata != null ? { callProviderMetadata: anyOptions.providerMetadata } : {}
              });
            }
          }
          function updateDynamicToolPart(options) {
            var _a18;
            const part = state.message.parts.find(
              (part2) => part2.type === "dynamic-tool" && part2.toolCallId === options.toolCallId
            );
            const anyOptions = options;
            const anyPart = part;
            if (part != null) {
              part.state = options.state;
              anyPart.toolName = options.toolName;
              anyPart.input = anyOptions.input;
              anyPart.output = anyOptions.output;
              anyPart.errorText = anyOptions.errorText;
              anyPart.rawInput = (_a18 = anyOptions.rawInput) != null ? _a18 : anyPart.rawInput;
              anyPart.preliminary = anyOptions.preliminary;
              if (anyOptions.providerMetadata != null && part.state === "input-available") {
                part.callProviderMetadata = anyOptions.providerMetadata;
              }
            } else {
              state.message.parts.push({
                type: "dynamic-tool",
                toolName: options.toolName,
                toolCallId: options.toolCallId,
                state: options.state,
                input: anyOptions.input,
                output: anyOptions.output,
                errorText: anyOptions.errorText,
                preliminary: anyOptions.preliminary,
                ...anyOptions.providerMetadata != null ? { callProviderMetadata: anyOptions.providerMetadata } : {}
              });
            }
          }
          async function updateMessageMetadata(metadata) {
            if (metadata != null) {
              const mergedMetadata = state.message.metadata != null ? mergeObjects(state.message.metadata, metadata) : metadata;
              if (messageMetadataSchema != null) {
                await validateTypes({
                  value: mergedMetadata,
                  schema: messageMetadataSchema
                });
              }
              state.message.metadata = mergedMetadata;
            }
          }
          switch (chunk.type) {
            case "text-start": {
              const textPart = {
                type: "text",
                text: "",
                providerMetadata: chunk.providerMetadata,
                state: "streaming"
              };
              state.activeTextParts[chunk.id] = textPart;
              state.message.parts.push(textPart);
              write();
              break;
            }
            case "text-delta": {
              const textPart = state.activeTextParts[chunk.id];
              textPart.text += chunk.delta;
              textPart.providerMetadata = (_a17 = chunk.providerMetadata) != null ? _a17 : textPart.providerMetadata;
              write();
              break;
            }
            case "text-end": {
              const textPart = state.activeTextParts[chunk.id];
              textPart.state = "done";
              textPart.providerMetadata = (_b8 = chunk.providerMetadata) != null ? _b8 : textPart.providerMetadata;
              delete state.activeTextParts[chunk.id];
              write();
              break;
            }
            case "reasoning-start": {
              const reasoningPart = {
                type: "reasoning",
                text: "",
                providerMetadata: chunk.providerMetadata,
                state: "streaming"
              };
              state.activeReasoningParts[chunk.id] = reasoningPart;
              state.message.parts.push(reasoningPart);
              write();
              break;
            }
            case "reasoning-delta": {
              const reasoningPart = state.activeReasoningParts[chunk.id];
              reasoningPart.text += chunk.delta;
              reasoningPart.providerMetadata = (_c = chunk.providerMetadata) != null ? _c : reasoningPart.providerMetadata;
              write();
              break;
            }
            case "reasoning-end": {
              const reasoningPart = state.activeReasoningParts[chunk.id];
              reasoningPart.providerMetadata = (_d = chunk.providerMetadata) != null ? _d : reasoningPart.providerMetadata;
              reasoningPart.state = "done";
              delete state.activeReasoningParts[chunk.id];
              write();
              break;
            }
            case "file": {
              state.message.parts.push({
                type: "file",
                mediaType: chunk.mediaType,
                url: chunk.url
              });
              write();
              break;
            }
            case "source-url": {
              state.message.parts.push({
                type: "source-url",
                sourceId: chunk.sourceId,
                url: chunk.url,
                title: chunk.title,
                providerMetadata: chunk.providerMetadata
              });
              write();
              break;
            }
            case "source-document": {
              state.message.parts.push({
                type: "source-document",
                sourceId: chunk.sourceId,
                mediaType: chunk.mediaType,
                title: chunk.title,
                filename: chunk.filename,
                providerMetadata: chunk.providerMetadata
              });
              write();
              break;
            }
            case "tool-input-start": {
              const toolInvocations = state.message.parts.filter(isToolUIPart);
              state.partialToolCalls[chunk.toolCallId] = {
                text: "",
                toolName: chunk.toolName,
                index: toolInvocations.length,
                dynamic: chunk.dynamic
              };
              if (chunk.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-streaming",
                  input: void 0
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-streaming",
                  input: void 0,
                  providerExecuted: chunk.providerExecuted
                });
              }
              write();
              break;
            }
            case "tool-input-delta": {
              const partialToolCall = state.partialToolCalls[chunk.toolCallId];
              partialToolCall.text += chunk.inputTextDelta;
              const { value: partialArgs } = await parsePartialJson(
                partialToolCall.text
              );
              if (partialToolCall.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: partialToolCall.toolName,
                  state: "input-streaming",
                  input: partialArgs
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: partialToolCall.toolName,
                  state: "input-streaming",
                  input: partialArgs
                });
              }
              write();
              break;
            }
            case "tool-input-available": {
              if (chunk.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-available",
                  input: chunk.input,
                  providerMetadata: chunk.providerMetadata
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-available",
                  input: chunk.input,
                  providerExecuted: chunk.providerExecuted,
                  providerMetadata: chunk.providerMetadata
                });
              }
              write();
              if (onToolCall && !chunk.providerExecuted) {
                await onToolCall({
                  toolCall: chunk
                });
              }
              break;
            }
            case "tool-input-error": {
              if (chunk.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "output-error",
                  input: chunk.input,
                  errorText: chunk.errorText,
                  providerMetadata: chunk.providerMetadata
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "output-error",
                  input: void 0,
                  rawInput: chunk.input,
                  errorText: chunk.errorText,
                  providerExecuted: chunk.providerExecuted,
                  providerMetadata: chunk.providerMetadata
                });
              }
              write();
              break;
            }
            case "tool-output-available": {
              if (chunk.dynamic) {
                const toolInvocation = getDynamicToolInvocation(
                  chunk.toolCallId
                );
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: toolInvocation.toolName,
                  state: "output-available",
                  input: toolInvocation.input,
                  output: chunk.output,
                  preliminary: chunk.preliminary
                });
              } else {
                const toolInvocation = getToolInvocation(chunk.toolCallId);
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: getToolName(toolInvocation),
                  state: "output-available",
                  input: toolInvocation.input,
                  output: chunk.output,
                  providerExecuted: chunk.providerExecuted,
                  preliminary: chunk.preliminary
                });
              }
              write();
              break;
            }
            case "tool-output-error": {
              if (chunk.dynamic) {
                const toolInvocation = getDynamicToolInvocation(
                  chunk.toolCallId
                );
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: toolInvocation.toolName,
                  state: "output-error",
                  input: toolInvocation.input,
                  errorText: chunk.errorText
                });
              } else {
                const toolInvocation = getToolInvocation(chunk.toolCallId);
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: getToolName(toolInvocation),
                  state: "output-error",
                  input: toolInvocation.input,
                  rawInput: toolInvocation.rawInput,
                  errorText: chunk.errorText
                });
              }
              write();
              break;
            }
            case "start-step": {
              state.message.parts.push({ type: "step-start" });
              break;
            }
            case "finish-step": {
              state.activeTextParts = {};
              state.activeReasoningParts = {};
              break;
            }
            case "start": {
              if (chunk.messageId != null) {
                state.message.id = chunk.messageId;
              }
              await updateMessageMetadata(chunk.messageMetadata);
              if (chunk.messageId != null || chunk.messageMetadata != null) {
                write();
              }
              break;
            }
            case "finish": {
              await updateMessageMetadata(chunk.messageMetadata);
              if (chunk.messageMetadata != null) {
                write();
              }
              break;
            }
            case "message-metadata": {
              await updateMessageMetadata(chunk.messageMetadata);
              if (chunk.messageMetadata != null) {
                write();
              }
              break;
            }
            case "error": {
              onError == null ? void 0 : onError(new Error(chunk.errorText));
              break;
            }
            default: {
              if (isDataUIMessageChunk(chunk)) {
                if ((dataPartSchemas == null ? void 0 : dataPartSchemas[chunk.type]) != null) {
                  await validateTypes({
                    value: chunk.data,
                    schema: dataPartSchemas[chunk.type]
                  });
                }
                const dataChunk = chunk;
                if (dataChunk.transient) {
                  onData == null ? void 0 : onData(dataChunk);
                  break;
                }
                const existingUIPart = dataChunk.id != null ? state.message.parts.find(
                  (chunkArg) => dataChunk.type === chunkArg.type && dataChunk.id === chunkArg.id
                ) : void 0;
                if (existingUIPart != null) {
                  existingUIPart.data = dataChunk.data;
                } else {
                  state.message.parts.push(dataChunk);
                }
                onData == null ? void 0 : onData(dataChunk);
                write();
              }
            }
          }
          controller.enqueue(chunk);
        });
      }
    })
  );
}
function handleUIMessageStreamFinish({
  messageId,
  originalMessages = [],
  onFinish,
  onError,
  stream
}) {
  let lastMessage = originalMessages == null ? void 0 : originalMessages[originalMessages.length - 1];
  if ((lastMessage == null ? void 0 : lastMessage.role) !== "assistant") {
    lastMessage = void 0;
  } else {
    messageId = lastMessage.id;
  }
  let isAborted2 = false;
  const idInjectedStream = stream.pipeThrough(
    new TransformStream({
      transform(chunk, controller) {
        if (chunk.type === "start") {
          const startChunk = chunk;
          if (startChunk.messageId == null && messageId != null) {
            startChunk.messageId = messageId;
          }
        }
        if (chunk.type === "abort") {
          isAborted2 = true;
        }
        controller.enqueue(chunk);
      }
    })
  );
  if (onFinish == null) {
    return idInjectedStream;
  }
  const state = createStreamingUIMessageState({
    lastMessage: lastMessage ? structuredClone(lastMessage) : void 0,
    messageId: messageId != null ? messageId : ""
    // will be overridden by the stream
  });
  const runUpdateMessageJob = async (job) => {
    await job({ state, write: () => {
    } });
  };
  let finishCalled = false;
  const callOnFinish = async () => {
    if (finishCalled || !onFinish) {
      return;
    }
    finishCalled = true;
    const isContinuation = state.message.id === (lastMessage == null ? void 0 : lastMessage.id);
    await onFinish({
      isAborted: isAborted2,
      isContinuation,
      responseMessage: state.message,
      messages: [
        ...isContinuation ? originalMessages.slice(0, -1) : originalMessages,
        state.message
      ]
    });
  };
  return processUIMessageStream({
    stream: idInjectedStream,
    runUpdateMessageJob,
    onError
  }).pipeThrough(
    new TransformStream({
      transform(chunk, controller) {
        controller.enqueue(chunk);
      },
      // @ts-expect-error cancel is still new and missing from types https://developer.mozilla.org/en-US/docs/Web/API/TransformStream#browser_compatibility
      async cancel() {
        await callOnFinish();
      },
      async flush() {
        await callOnFinish();
      }
    })
  );
}
function pipeUIMessageStreamToResponse({
  response,
  status,
  statusText,
  headers,
  stream,
  consumeSseStream
}) {
  let sseStream = stream.pipeThrough(new JsonToSseTransformStream());
  if (consumeSseStream) {
    const [stream1, stream2] = sseStream.tee();
    sseStream = stream1;
    consumeSseStream({ stream: stream2 });
  }
  writeToServerResponse({
    response,
    status,
    statusText,
    headers: Object.fromEntries(
      prepareHeaders(headers, UI_MESSAGE_STREAM_HEADERS).entries()
    ),
    stream: sseStream.pipeThrough(new TextEncoderStream())
  });
}
function createAsyncIterableStream(source) {
  const stream = source.pipeThrough(new TransformStream());
  stream[Symbol.asyncIterator] = function() {
    const reader = this.getReader();
    let finished = false;
    async function cleanup(cancelStream) {
      var _a17;
      finished = true;
      try {
        if (cancelStream) {
          await ((_a17 = reader.cancel) == null ? void 0 : _a17.call(reader));
        }
      } finally {
        try {
          reader.releaseLock();
        } catch (e2) {
        }
      }
    }
    return {
      /**
       * Reads the next chunk from the stream.
       * @returns A promise resolving to the next IteratorResult.
       */
      async next() {
        if (finished) {
          return { done: true, value: void 0 };
        }
        const { done, value } = await reader.read();
        if (done) {
          await cleanup(true);
          return { done: true, value: void 0 };
        }
        return { done: false, value };
      },
      /**
       * Called on early exit (e.g., break from for-await).
       * Ensures the stream is cancelled and resources are released.
       * @returns A promise resolving to a completed IteratorResult.
       */
      async return() {
        await cleanup(true);
        return { done: true, value: void 0 };
      },
      /**
       * Called on early exit with error.
       * Ensures the stream is cancelled and resources are released, then rethrows the error.
       * @param err The error to throw.
       * @returns A promise that rejects with the provided error.
       */
      async throw(err) {
        await cleanup(true);
        throw err;
      }
    };
  };
  return stream;
}
async function consumeStream({
  stream,
  onError
}) {
  const reader = stream.getReader();
  try {
    while (true) {
      const { done } = await reader.read();
      if (done)
        break;
    }
  } catch (error45) {
    onError == null ? void 0 : onError(error45);
  } finally {
    reader.releaseLock();
  }
}
function createResolvablePromise() {
  let resolve2;
  let reject;
  const promise2 = new Promise((res, rej) => {
    resolve2 = res;
    reject = rej;
  });
  return {
    promise: promise2,
    resolve: resolve2,
    reject
  };
}
function createStitchableStream() {
  let innerStreamReaders = [];
  let controller = null;
  let isClosed = false;
  let waitForNewStream = createResolvablePromise();
  const terminate = () => {
    isClosed = true;
    waitForNewStream.resolve();
    innerStreamReaders.forEach((reader) => reader.cancel());
    innerStreamReaders = [];
    controller == null ? void 0 : controller.close();
  };
  const processPull = async () => {
    if (isClosed && innerStreamReaders.length === 0) {
      controller == null ? void 0 : controller.close();
      return;
    }
    if (innerStreamReaders.length === 0) {
      waitForNewStream = createResolvablePromise();
      await waitForNewStream.promise;
      return processPull();
    }
    try {
      const { value, done } = await innerStreamReaders[0].read();
      if (done) {
        innerStreamReaders.shift();
        if (innerStreamReaders.length > 0) {
          await processPull();
        } else if (isClosed) {
          controller == null ? void 0 : controller.close();
        }
      } else {
        controller == null ? void 0 : controller.enqueue(value);
      }
    } catch (error45) {
      controller == null ? void 0 : controller.error(error45);
      innerStreamReaders.shift();
      terminate();
    }
  };
  return {
    stream: new ReadableStream({
      start(controllerParam) {
        controller = controllerParam;
      },
      pull: processPull,
      async cancel() {
        for (const reader of innerStreamReaders) {
          await reader.cancel();
        }
        innerStreamReaders = [];
        isClosed = true;
      }
    }),
    addStream: (innerStream) => {
      if (isClosed) {
        throw new Error("Cannot add inner stream: outer stream is closed");
      }
      innerStreamReaders.push(innerStream.getReader());
      waitForNewStream.resolve();
    },
    /**
     * Gracefully close the outer stream. This will let the inner streams
     * finish processing and then close the outer stream.
     */
    close: () => {
      isClosed = true;
      waitForNewStream.resolve();
      if (innerStreamReaders.length === 0) {
        controller == null ? void 0 : controller.close();
      }
    },
    /**
     * Immediately close the outer stream. This will cancel all inner streams
     * and close the outer stream.
     */
    terminate
  };
}
var DelayedPromise = class {
  constructor() {
    this.status = { type: "pending" };
    this._resolve = void 0;
    this._reject = void 0;
  }
  get promise() {
    if (this._promise) {
      return this._promise;
    }
    this._promise = new Promise((resolve2, reject) => {
      if (this.status.type === "resolved") {
        resolve2(this.status.value);
      } else if (this.status.type === "rejected") {
        reject(this.status.error);
      }
      this._resolve = resolve2;
      this._reject = reject;
    });
    return this._promise;
  }
  resolve(value) {
    var _a17;
    this.status = { type: "resolved", value };
    if (this._promise) {
      (_a17 = this._resolve) == null ? void 0 : _a17.call(this, value);
    }
  }
  reject(error45) {
    var _a17;
    this.status = { type: "rejected", error: error45 };
    if (this._promise) {
      (_a17 = this._reject) == null ? void 0 : _a17.call(this, error45);
    }
  }
};
function now() {
  var _a17, _b8;
  return (_b8 = (_a17 = globalThis == null ? void 0 : globalThis.performance) == null ? void 0 : _a17.now()) != null ? _b8 : Date.now();
}
function runToolsTransformation({
  tools,
  generatorStream,
  tracer,
  telemetry,
  system,
  messages,
  abortSignal,
  repairToolCall,
  experimental_context
}) {
  let toolResultsStreamController = null;
  const toolResultsStream = new ReadableStream({
    start(controller) {
      toolResultsStreamController = controller;
    }
  });
  const outstandingToolResults = /* @__PURE__ */ new Set();
  const toolInputs = /* @__PURE__ */ new Map();
  let canClose = false;
  let finishChunk = void 0;
  function attemptClose() {
    if (canClose && outstandingToolResults.size === 0) {
      if (finishChunk != null) {
        toolResultsStreamController.enqueue(finishChunk);
      }
      toolResultsStreamController.close();
    }
  }
  const forwardStream = new TransformStream({
    async transform(chunk, controller) {
      const chunkType = chunk.type;
      switch (chunkType) {
        case "stream-start":
        case "text-start":
        case "text-delta":
        case "text-end":
        case "reasoning-start":
        case "reasoning-delta":
        case "reasoning-end":
        case "tool-input-start":
        case "tool-input-delta":
        case "tool-input-end":
        case "source":
        case "response-metadata":
        case "error":
        case "raw": {
          controller.enqueue(chunk);
          break;
        }
        case "file": {
          controller.enqueue({
            type: "file",
            file: new DefaultGeneratedFileWithType({
              data: chunk.data,
              mediaType: chunk.mediaType
            })
          });
          break;
        }
        case "finish": {
          finishChunk = {
            type: "finish",
            finishReason: chunk.finishReason,
            usage: chunk.usage,
            providerMetadata: chunk.providerMetadata
          };
          break;
        }
        case "tool-call": {
          try {
            const toolCall = await parseToolCall({
              toolCall: chunk,
              tools,
              repairToolCall,
              system,
              messages
            });
            controller.enqueue(toolCall);
            if (toolCall.invalid) {
              toolResultsStreamController.enqueue({
                type: "tool-error",
                toolCallId: toolCall.toolCallId,
                toolName: toolCall.toolName,
                input: toolCall.input,
                error: getErrorMessage2(toolCall.error),
                dynamic: true
              });
              break;
            }
            const tool3 = tools[toolCall.toolName];
            toolInputs.set(toolCall.toolCallId, toolCall.input);
            if (tool3.onInputAvailable != null) {
              await tool3.onInputAvailable({
                input: toolCall.input,
                toolCallId: toolCall.toolCallId,
                messages,
                abortSignal,
                experimental_context
              });
            }
            if (tool3.execute != null && toolCall.providerExecuted !== true) {
              const toolExecutionId = generateId();
              outstandingToolResults.add(toolExecutionId);
              recordSpan({
                name: "ai.toolCall",
                attributes: selectTelemetryAttributes({
                  telemetry,
                  attributes: {
                    ...assembleOperationName({
                      operationId: "ai.toolCall",
                      telemetry
                    }),
                    "ai.toolCall.name": toolCall.toolName,
                    "ai.toolCall.id": toolCall.toolCallId,
                    "ai.toolCall.args": {
                      output: () => JSON.stringify(toolCall.input)
                    }
                  }
                }),
                tracer,
                fn: async (span) => {
                  let output;
                  try {
                    const stream = executeTool({
                      execute: tool3.execute.bind(tool3),
                      input: toolCall.input,
                      options: {
                        toolCallId: toolCall.toolCallId,
                        messages,
                        abortSignal,
                        experimental_context
                      }
                    });
                    for await (const part of stream) {
                      toolResultsStreamController.enqueue({
                        ...toolCall,
                        type: "tool-result",
                        output: part.output,
                        ...part.type === "preliminary" && {
                          preliminary: true
                        }
                      });
                      if (part.type === "final") {
                        output = part.output;
                      }
                    }
                  } catch (error45) {
                    recordErrorOnSpan(span, error45);
                    toolResultsStreamController.enqueue({
                      ...toolCall,
                      type: "tool-error",
                      error: error45
                    });
                    outstandingToolResults.delete(toolExecutionId);
                    attemptClose();
                    return;
                  }
                  outstandingToolResults.delete(toolExecutionId);
                  attemptClose();
                  try {
                    span.setAttributes(
                      selectTelemetryAttributes({
                        telemetry,
                        attributes: {
                          "ai.toolCall.result": {
                            output: () => JSON.stringify(output)
                          }
                        }
                      })
                    );
                  } catch (ignored) {
                  }
                }
              });
            }
          } catch (error45) {
            toolResultsStreamController.enqueue({ type: "error", error: error45 });
          }
          break;
        }
        case "tool-result": {
          const toolName = chunk.toolName;
          if (chunk.isError) {
            toolResultsStreamController.enqueue({
              type: "tool-error",
              toolCallId: chunk.toolCallId,
              toolName,
              input: toolInputs.get(chunk.toolCallId),
              providerExecuted: chunk.providerExecuted,
              error: chunk.result
            });
          } else {
            controller.enqueue({
              type: "tool-result",
              toolCallId: chunk.toolCallId,
              toolName,
              input: toolInputs.get(chunk.toolCallId),
              output: chunk.result,
              providerExecuted: chunk.providerExecuted
            });
          }
          break;
        }
        default: {
          const _exhaustiveCheck = chunkType;
          throw new Error(`Unhandled chunk type: ${_exhaustiveCheck}`);
        }
      }
    },
    flush() {
      canClose = true;
      attemptClose();
    }
  });
  return new ReadableStream({
    async start(controller) {
      return Promise.all([
        generatorStream.pipeThrough(forwardStream).pipeTo(
          new WritableStream({
            write(chunk) {
              controller.enqueue(chunk);
            },
            close() {
            }
          })
        ),
        toolResultsStream.pipeTo(
          new WritableStream({
            write(chunk) {
              controller.enqueue(chunk);
            },
            close() {
              controller.close();
            }
          })
        )
      ]);
    }
  });
}
var originalGenerateId2 = createIdGenerator({
  prefix: "aitxt",
  size: 24
});
function streamText({
  model,
  tools,
  toolChoice,
  system,
  prompt,
  messages,
  maxRetries,
  abortSignal,
  headers,
  stopWhen = stepCountIs(1),
  experimental_output: output,
  experimental_telemetry: telemetry,
  prepareStep,
  providerOptions,
  experimental_activeTools,
  activeTools = experimental_activeTools,
  experimental_repairToolCall: repairToolCall,
  experimental_transform: transform2,
  experimental_download: download2,
  includeRawChunks = false,
  onChunk,
  onError = ({ error: error45 }) => {
    console.error(error45);
  },
  onFinish,
  onAbort,
  onStepFinish,
  experimental_context,
  _internal: {
    now: now2 = now,
    generateId: generateId3 = originalGenerateId2,
    currentDate = () => /* @__PURE__ */ new Date()
  } = {},
  ...settings
}) {
  return new DefaultStreamTextResult({
    model: resolveLanguageModel(model),
    telemetry,
    headers,
    settings,
    maxRetries,
    abortSignal,
    system,
    prompt,
    messages,
    tools,
    toolChoice,
    transforms: asArray(transform2),
    activeTools,
    repairToolCall,
    stopConditions: asArray(stopWhen),
    output,
    providerOptions,
    prepareStep,
    includeRawChunks,
    onChunk,
    onError,
    onFinish,
    onAbort,
    onStepFinish,
    now: now2,
    currentDate,
    generateId: generateId3,
    experimental_context,
    download: download2
  });
}
function createOutputTransformStream(output) {
  if (!output) {
    return new TransformStream({
      transform(chunk, controller) {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
      }
    });
  }
  let firstTextChunkId = void 0;
  let text2 = "";
  let textChunk = "";
  let lastPublishedJson = "";
  function publishTextChunk({
    controller,
    partialOutput = void 0
  }) {
    controller.enqueue({
      part: {
        type: "text-delta",
        id: firstTextChunkId,
        text: textChunk
      },
      partialOutput
    });
    textChunk = "";
  }
  return new TransformStream({
    async transform(chunk, controller) {
      if (chunk.type === "finish-step" && textChunk.length > 0) {
        publishTextChunk({ controller });
      }
      if (chunk.type !== "text-delta" && chunk.type !== "text-start" && chunk.type !== "text-end") {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      if (firstTextChunkId == null) {
        firstTextChunkId = chunk.id;
      } else if (chunk.id !== firstTextChunkId) {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      if (chunk.type === "text-start") {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      if (chunk.type === "text-end") {
        if (textChunk.length > 0) {
          publishTextChunk({ controller });
        }
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      text2 += chunk.text;
      textChunk += chunk.text;
      const result = await output.parsePartial({ text: text2 });
      if (result != null) {
        const currentJson = JSON.stringify(result.partial);
        if (currentJson !== lastPublishedJson) {
          publishTextChunk({ controller, partialOutput: result.partial });
          lastPublishedJson = currentJson;
        }
      }
    }
  });
}
var DefaultStreamTextResult = class {
  constructor({
    model,
    telemetry,
    headers,
    settings,
    maxRetries: maxRetriesArg,
    abortSignal,
    system,
    prompt,
    messages,
    tools,
    toolChoice,
    transforms,
    activeTools,
    repairToolCall,
    stopConditions,
    output,
    providerOptions,
    prepareStep,
    includeRawChunks,
    now: now2,
    currentDate,
    generateId: generateId3,
    onChunk,
    onError,
    onFinish,
    onAbort,
    onStepFinish,
    experimental_context,
    download: download2
  }) {
    this._totalUsage = new DelayedPromise();
    this._finishReason = new DelayedPromise();
    this._steps = new DelayedPromise();
    this.output = output;
    this.includeRawChunks = includeRawChunks;
    this.tools = tools;
    let stepFinish;
    let recordedContent = [];
    const recordedResponseMessages = [];
    let recordedFinishReason = void 0;
    let recordedTotalUsage = void 0;
    let recordedRequest = {};
    let recordedWarnings = [];
    const recordedSteps = [];
    let rootSpan;
    let activeTextContent = {};
    let activeReasoningContent = {};
    const eventProcessor = new TransformStream({
      async transform(chunk, controller) {
        var _a17, _b8, _c;
        controller.enqueue(chunk);
        const { part } = chunk;
        if (part.type === "text-delta" || part.type === "reasoning-delta" || part.type === "source" || part.type === "tool-call" || part.type === "tool-result" || part.type === "tool-input-start" || part.type === "tool-input-delta" || part.type === "raw") {
          await (onChunk == null ? void 0 : onChunk({ chunk: part }));
        }
        if (part.type === "error") {
          await onError({ error: wrapGatewayError(part.error) });
        }
        if (part.type === "text-start") {
          activeTextContent[part.id] = {
            type: "text",
            text: "",
            providerMetadata: part.providerMetadata
          };
          recordedContent.push(activeTextContent[part.id]);
        }
        if (part.type === "text-delta") {
          const activeText = activeTextContent[part.id];
          if (activeText == null) {
            controller.enqueue({
              part: {
                type: "error",
                error: `text part ${part.id} not found`
              },
              partialOutput: void 0
            });
            return;
          }
          activeText.text += part.text;
          activeText.providerMetadata = (_a17 = part.providerMetadata) != null ? _a17 : activeText.providerMetadata;
        }
        if (part.type === "text-end") {
          delete activeTextContent[part.id];
        }
        if (part.type === "reasoning-start") {
          activeReasoningContent[part.id] = {
            type: "reasoning",
            text: "",
            providerMetadata: part.providerMetadata
          };
          recordedContent.push(activeReasoningContent[part.id]);
        }
        if (part.type === "reasoning-delta") {
          const activeReasoning = activeReasoningContent[part.id];
          if (activeReasoning == null) {
            controller.enqueue({
              part: {
                type: "error",
                error: `reasoning part ${part.id} not found`
              },
              partialOutput: void 0
            });
            return;
          }
          activeReasoning.text += part.text;
          activeReasoning.providerMetadata = (_b8 = part.providerMetadata) != null ? _b8 : activeReasoning.providerMetadata;
        }
        if (part.type === "reasoning-end") {
          const activeReasoning = activeReasoningContent[part.id];
          if (activeReasoning == null) {
            controller.enqueue({
              part: {
                type: "error",
                error: `reasoning part ${part.id} not found`
              },
              partialOutput: void 0
            });
            return;
          }
          activeReasoning.providerMetadata = (_c = part.providerMetadata) != null ? _c : activeReasoning.providerMetadata;
          delete activeReasoningContent[part.id];
        }
        if (part.type === "file") {
          recordedContent.push({ type: "file", file: part.file });
        }
        if (part.type === "source") {
          recordedContent.push(part);
        }
        if (part.type === "tool-call") {
          recordedContent.push(part);
        }
        if (part.type === "tool-result" && !part.preliminary) {
          recordedContent.push(part);
        }
        if (part.type === "tool-error") {
          recordedContent.push(part);
        }
        if (part.type === "start-step") {
          recordedRequest = part.request;
          recordedWarnings = part.warnings;
        }
        if (part.type === "finish-step") {
          const stepMessages = toResponseMessages({
            content: recordedContent,
            tools
          });
          const currentStepResult = new DefaultStepResult({
            content: recordedContent,
            finishReason: part.finishReason,
            usage: part.usage,
            warnings: recordedWarnings,
            request: recordedRequest,
            response: {
              ...part.response,
              messages: [...recordedResponseMessages, ...stepMessages]
            },
            providerMetadata: part.providerMetadata
          });
          await (onStepFinish == null ? void 0 : onStepFinish(currentStepResult));
          logWarnings(recordedWarnings);
          recordedSteps.push(currentStepResult);
          recordedContent = [];
          activeReasoningContent = {};
          activeTextContent = {};
          recordedResponseMessages.push(...stepMessages);
          stepFinish.resolve();
        }
        if (part.type === "finish") {
          recordedTotalUsage = part.totalUsage;
          recordedFinishReason = part.finishReason;
        }
      },
      async flush(controller) {
        try {
          if (recordedSteps.length === 0) {
            const error45 = new NoOutputGeneratedError({
              message: "No output generated. Check the stream for errors."
            });
            self._finishReason.reject(error45);
            self._totalUsage.reject(error45);
            self._steps.reject(error45);
            return;
          }
          const finishReason = recordedFinishReason != null ? recordedFinishReason : "unknown";
          const totalUsage = recordedTotalUsage != null ? recordedTotalUsage : {
            inputTokens: void 0,
            outputTokens: void 0,
            totalTokens: void 0
          };
          self._finishReason.resolve(finishReason);
          self._totalUsage.resolve(totalUsage);
          self._steps.resolve(recordedSteps);
          const finalStep = recordedSteps[recordedSteps.length - 1];
          await (onFinish == null ? void 0 : onFinish({
            finishReason,
            totalUsage,
            usage: finalStep.usage,
            content: finalStep.content,
            text: finalStep.text,
            reasoningText: finalStep.reasoningText,
            reasoning: finalStep.reasoning,
            files: finalStep.files,
            sources: finalStep.sources,
            toolCalls: finalStep.toolCalls,
            staticToolCalls: finalStep.staticToolCalls,
            dynamicToolCalls: finalStep.dynamicToolCalls,
            toolResults: finalStep.toolResults,
            staticToolResults: finalStep.staticToolResults,
            dynamicToolResults: finalStep.dynamicToolResults,
            request: finalStep.request,
            response: finalStep.response,
            warnings: finalStep.warnings,
            providerMetadata: finalStep.providerMetadata,
            steps: recordedSteps
          }));
          rootSpan.setAttributes(
            selectTelemetryAttributes({
              telemetry,
              attributes: {
                "ai.response.finishReason": finishReason,
                "ai.response.text": { output: () => finalStep.text },
                "ai.response.toolCalls": {
                  output: () => {
                    var _a17;
                    return ((_a17 = finalStep.toolCalls) == null ? void 0 : _a17.length) ? JSON.stringify(finalStep.toolCalls) : void 0;
                  }
                },
                "ai.response.providerMetadata": JSON.stringify(
                  finalStep.providerMetadata
                ),
                "ai.usage.inputTokens": totalUsage.inputTokens,
                "ai.usage.outputTokens": totalUsage.outputTokens,
                "ai.usage.totalTokens": totalUsage.totalTokens,
                "ai.usage.reasoningTokens": totalUsage.reasoningTokens,
                "ai.usage.cachedInputTokens": totalUsage.cachedInputTokens
              }
            })
          );
        } catch (error45) {
          controller.error(error45);
        } finally {
          rootSpan.end();
        }
      }
    });
    const stitchableStream = createStitchableStream();
    this.addStream = stitchableStream.addStream;
    this.closeStream = stitchableStream.close;
    const reader = stitchableStream.stream.getReader();
    let stream = new ReadableStream({
      async start(controller) {
        controller.enqueue({ type: "start" });
      },
      async pull(controller) {
        function abort() {
          onAbort == null ? void 0 : onAbort({ steps: recordedSteps });
          controller.enqueue({ type: "abort" });
          controller.close();
        }
        try {
          const { done, value } = await reader.read();
          if (done) {
            controller.close();
            return;
          }
          if (abortSignal == null ? void 0 : abortSignal.aborted) {
            abort();
            return;
          }
          controller.enqueue(value);
        } catch (error45) {
          if (isAbortError(error45) && (abortSignal == null ? void 0 : abortSignal.aborted)) {
            abort();
          } else {
            controller.error(error45);
          }
        }
      },
      cancel(reason) {
        return stitchableStream.stream.cancel(reason);
      }
    });
    for (const transform2 of transforms) {
      stream = stream.pipeThrough(
        transform2({
          tools,
          stopStream() {
            stitchableStream.terminate();
          }
        })
      );
    }
    this.baseStream = stream.pipeThrough(createOutputTransformStream(output)).pipeThrough(eventProcessor);
    const { maxRetries, retry } = prepareRetries({
      maxRetries: maxRetriesArg,
      abortSignal
    });
    const tracer = getTracer(telemetry);
    const callSettings = prepareCallSettings(settings);
    const baseTelemetryAttributes = getBaseTelemetryAttributes({
      model,
      telemetry,
      headers,
      settings: { ...callSettings, maxRetries }
    });
    const self = this;
    recordSpan({
      name: "ai.streamText",
      attributes: selectTelemetryAttributes({
        telemetry,
        attributes: {
          ...assembleOperationName({ operationId: "ai.streamText", telemetry }),
          ...baseTelemetryAttributes,
          // specific settings that only make sense on the outer level:
          "ai.prompt": {
            input: () => JSON.stringify({ system, prompt, messages })
          }
        }
      }),
      tracer,
      endWhenDone: false,
      fn: async (rootSpanArg) => {
        rootSpan = rootSpanArg;
        async function streamStep({
          currentStep,
          responseMessages,
          usage
        }) {
          var _a17, _b8, _c, _d, _e;
          const includeRawChunks2 = self.includeRawChunks;
          stepFinish = new DelayedPromise();
          const initialPrompt = await standardizePrompt({
            system,
            prompt,
            messages
          });
          const stepInputMessages = [
            ...initialPrompt.messages,
            ...responseMessages
          ];
          const prepareStepResult = await (prepareStep == null ? void 0 : prepareStep({
            model,
            steps: recordedSteps,
            stepNumber: recordedSteps.length,
            messages: stepInputMessages
          }));
          const promptMessages = await convertToLanguageModelPrompt({
            prompt: {
              system: (_a17 = prepareStepResult == null ? void 0 : prepareStepResult.system) != null ? _a17 : initialPrompt.system,
              messages: (_b8 = prepareStepResult == null ? void 0 : prepareStepResult.messages) != null ? _b8 : stepInputMessages
            },
            supportedUrls: await model.supportedUrls,
            download: download2
          });
          const stepModel = resolveLanguageModel(
            (_c = prepareStepResult == null ? void 0 : prepareStepResult.model) != null ? _c : model
          );
          const { toolChoice: stepToolChoice, tools: stepTools } = prepareToolsAndToolChoice({
            tools,
            toolChoice: (_d = prepareStepResult == null ? void 0 : prepareStepResult.toolChoice) != null ? _d : toolChoice,
            activeTools: (_e = prepareStepResult == null ? void 0 : prepareStepResult.activeTools) != null ? _e : activeTools
          });
          const {
            result: { stream: stream2, response, request },
            doStreamSpan,
            startTimestampMs
          } = await retry(
            () => recordSpan({
              name: "ai.streamText.doStream",
              attributes: selectTelemetryAttributes({
                telemetry,
                attributes: {
                  ...assembleOperationName({
                    operationId: "ai.streamText.doStream",
                    telemetry
                  }),
                  ...baseTelemetryAttributes,
                  // model:
                  "ai.model.provider": stepModel.provider,
                  "ai.model.id": stepModel.modelId,
                  // prompt:
                  "ai.prompt.messages": {
                    input: () => stringifyForTelemetry(promptMessages)
                  },
                  "ai.prompt.tools": {
                    // convert the language model level tools:
                    input: () => stepTools == null ? void 0 : stepTools.map((tool3) => JSON.stringify(tool3))
                  },
                  "ai.prompt.toolChoice": {
                    input: () => stepToolChoice != null ? JSON.stringify(stepToolChoice) : void 0
                  },
                  // standardized gen-ai llm span attributes:
                  "gen_ai.system": stepModel.provider,
                  "gen_ai.request.model": stepModel.modelId,
                  "gen_ai.request.frequency_penalty": callSettings.frequencyPenalty,
                  "gen_ai.request.max_tokens": callSettings.maxOutputTokens,
                  "gen_ai.request.presence_penalty": callSettings.presencePenalty,
                  "gen_ai.request.stop_sequences": callSettings.stopSequences,
                  "gen_ai.request.temperature": callSettings.temperature,
                  "gen_ai.request.top_k": callSettings.topK,
                  "gen_ai.request.top_p": callSettings.topP
                }
              }),
              tracer,
              endWhenDone: false,
              fn: async (doStreamSpan2) => {
                return {
                  startTimestampMs: now2(),
                  // get before the call
                  doStreamSpan: doStreamSpan2,
                  result: await stepModel.doStream({
                    ...callSettings,
                    tools: stepTools,
                    toolChoice: stepToolChoice,
                    responseFormat: output == null ? void 0 : output.responseFormat,
                    prompt: promptMessages,
                    providerOptions,
                    abortSignal,
                    headers,
                    includeRawChunks: includeRawChunks2
                  })
                };
              }
            })
          );
          const streamWithToolResults = runToolsTransformation({
            tools,
            generatorStream: stream2,
            tracer,
            telemetry,
            system,
            messages: stepInputMessages,
            repairToolCall,
            abortSignal,
            experimental_context
          });
          const stepRequest = request != null ? request : {};
          const stepToolCalls = [];
          const stepToolOutputs = [];
          let warnings;
          const activeToolCallToolNames = {};
          let stepFinishReason = "unknown";
          let stepUsage = {
            inputTokens: void 0,
            outputTokens: void 0,
            totalTokens: void 0
          };
          let stepProviderMetadata;
          let stepFirstChunk = true;
          let stepResponse = {
            id: generateId3(),
            timestamp: currentDate(),
            modelId: model.modelId
          };
          let activeText = "";
          self.addStream(
            streamWithToolResults.pipeThrough(
              new TransformStream({
                async transform(chunk, controller) {
                  var _a18, _b22, _c2, _d2;
                  if (chunk.type === "stream-start") {
                    warnings = chunk.warnings;
                    return;
                  }
                  if (stepFirstChunk) {
                    const msToFirstChunk = now2() - startTimestampMs;
                    stepFirstChunk = false;
                    doStreamSpan.addEvent("ai.stream.firstChunk", {
                      "ai.response.msToFirstChunk": msToFirstChunk
                    });
                    doStreamSpan.setAttributes({
                      "ai.response.msToFirstChunk": msToFirstChunk
                    });
                    controller.enqueue({
                      type: "start-step",
                      request: stepRequest,
                      warnings: warnings != null ? warnings : []
                    });
                  }
                  const chunkType = chunk.type;
                  switch (chunkType) {
                    case "text-start":
                    case "text-end": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "text-delta": {
                      if (chunk.delta.length > 0) {
                        controller.enqueue({
                          type: "text-delta",
                          id: chunk.id,
                          text: chunk.delta,
                          providerMetadata: chunk.providerMetadata
                        });
                        activeText += chunk.delta;
                      }
                      break;
                    }
                    case "reasoning-start":
                    case "reasoning-end": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "reasoning-delta": {
                      controller.enqueue({
                        type: "reasoning-delta",
                        id: chunk.id,
                        text: chunk.delta,
                        providerMetadata: chunk.providerMetadata
                      });
                      break;
                    }
                    case "tool-call": {
                      controller.enqueue(chunk);
                      stepToolCalls.push(chunk);
                      break;
                    }
                    case "tool-result": {
                      controller.enqueue(chunk);
                      if (!chunk.preliminary) {
                        stepToolOutputs.push(chunk);
                      }
                      break;
                    }
                    case "tool-error": {
                      controller.enqueue(chunk);
                      stepToolOutputs.push(chunk);
                      break;
                    }
                    case "response-metadata": {
                      stepResponse = {
                        id: (_a18 = chunk.id) != null ? _a18 : stepResponse.id,
                        timestamp: (_b22 = chunk.timestamp) != null ? _b22 : stepResponse.timestamp,
                        modelId: (_c2 = chunk.modelId) != null ? _c2 : stepResponse.modelId
                      };
                      break;
                    }
                    case "finish": {
                      stepUsage = chunk.usage;
                      stepFinishReason = chunk.finishReason;
                      stepProviderMetadata = chunk.providerMetadata;
                      const msToFinish = now2() - startTimestampMs;
                      doStreamSpan.addEvent("ai.stream.finish");
                      doStreamSpan.setAttributes({
                        "ai.response.msToFinish": msToFinish,
                        "ai.response.avgOutputTokensPerSecond": 1e3 * ((_d2 = stepUsage.outputTokens) != null ? _d2 : 0) / msToFinish
                      });
                      break;
                    }
                    case "file": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "source": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "tool-input-start": {
                      activeToolCallToolNames[chunk.id] = chunk.toolName;
                      const tool3 = tools == null ? void 0 : tools[chunk.toolName];
                      if ((tool3 == null ? void 0 : tool3.onInputStart) != null) {
                        await tool3.onInputStart({
                          toolCallId: chunk.id,
                          messages: stepInputMessages,
                          abortSignal,
                          experimental_context
                        });
                      }
                      controller.enqueue({
                        ...chunk,
                        dynamic: (tool3 == null ? void 0 : tool3.type) === "dynamic"
                      });
                      break;
                    }
                    case "tool-input-end": {
                      delete activeToolCallToolNames[chunk.id];
                      controller.enqueue(chunk);
                      break;
                    }
                    case "tool-input-delta": {
                      const toolName = activeToolCallToolNames[chunk.id];
                      const tool3 = tools == null ? void 0 : tools[toolName];
                      if ((tool3 == null ? void 0 : tool3.onInputDelta) != null) {
                        await tool3.onInputDelta({
                          inputTextDelta: chunk.delta,
                          toolCallId: chunk.id,
                          messages: stepInputMessages,
                          abortSignal,
                          experimental_context
                        });
                      }
                      controller.enqueue(chunk);
                      break;
                    }
                    case "error": {
                      controller.enqueue(chunk);
                      stepFinishReason = "error";
                      break;
                    }
                    case "raw": {
                      if (includeRawChunks2) {
                        controller.enqueue(chunk);
                      }
                      break;
                    }
                    default: {
                      const exhaustiveCheck = chunkType;
                      throw new Error(`Unknown chunk type: ${exhaustiveCheck}`);
                    }
                  }
                },
                // invoke onFinish callback and resolve toolResults promise when the stream is about to close:
                async flush(controller) {
                  const stepToolCallsJson = stepToolCalls.length > 0 ? JSON.stringify(stepToolCalls) : void 0;
                  try {
                    doStreamSpan.setAttributes(
                      selectTelemetryAttributes({
                        telemetry,
                        attributes: {
                          "ai.response.finishReason": stepFinishReason,
                          "ai.response.text": {
                            output: () => activeText
                          },
                          "ai.response.toolCalls": {
                            output: () => stepToolCallsJson
                          },
                          "ai.response.id": stepResponse.id,
                          "ai.response.model": stepResponse.modelId,
                          "ai.response.timestamp": stepResponse.timestamp.toISOString(),
                          "ai.response.providerMetadata": JSON.stringify(stepProviderMetadata),
                          "ai.usage.inputTokens": stepUsage.inputTokens,
                          "ai.usage.outputTokens": stepUsage.outputTokens,
                          "ai.usage.totalTokens": stepUsage.totalTokens,
                          "ai.usage.reasoningTokens": stepUsage.reasoningTokens,
                          "ai.usage.cachedInputTokens": stepUsage.cachedInputTokens,
                          // standardized gen-ai llm span attributes:
                          "gen_ai.response.finish_reasons": [stepFinishReason],
                          "gen_ai.response.id": stepResponse.id,
                          "gen_ai.response.model": stepResponse.modelId,
                          "gen_ai.usage.input_tokens": stepUsage.inputTokens,
                          "gen_ai.usage.output_tokens": stepUsage.outputTokens
                        }
                      })
                    );
                  } catch (error45) {
                  } finally {
                    doStreamSpan.end();
                  }
                  controller.enqueue({
                    type: "finish-step",
                    finishReason: stepFinishReason,
                    usage: stepUsage,
                    providerMetadata: stepProviderMetadata,
                    response: {
                      ...stepResponse,
                      headers: response == null ? void 0 : response.headers
                    }
                  });
                  const combinedUsage = addLanguageModelUsage(usage, stepUsage);
                  await stepFinish.promise;
                  const clientToolCalls = stepToolCalls.filter(
                    (toolCall) => toolCall.providerExecuted !== true
                  );
                  const clientToolOutputs = stepToolOutputs.filter(
                    (toolOutput) => toolOutput.providerExecuted !== true
                  );
                  if (clientToolCalls.length > 0 && // all current tool calls have outputs (incl. execution errors):
                  clientToolOutputs.length === clientToolCalls.length && // continue until a stop condition is met:
                  !await isStopConditionMet({
                    stopConditions,
                    steps: recordedSteps
                  })) {
                    responseMessages.push(
                      ...toResponseMessages({
                        content: (
                          // use transformed content to create the messages for the next step:
                          recordedSteps[recordedSteps.length - 1].content
                        ),
                        tools
                      })
                    );
                    try {
                      await streamStep({
                        currentStep: currentStep + 1,
                        responseMessages,
                        usage: combinedUsage
                      });
                    } catch (error45) {
                      controller.enqueue({
                        type: "error",
                        error: error45
                      });
                      self.closeStream();
                    }
                  } else {
                    controller.enqueue({
                      type: "finish",
                      finishReason: stepFinishReason,
                      totalUsage: combinedUsage
                    });
                    self.closeStream();
                  }
                }
              })
            )
          );
        }
        await streamStep({
          currentStep: 0,
          responseMessages: [],
          usage: {
            inputTokens: void 0,
            outputTokens: void 0,
            totalTokens: void 0
          }
        });
      }
    }).catch((error45) => {
      self.addStream(
        new ReadableStream({
          start(controller) {
            controller.enqueue({ type: "error", error: error45 });
            controller.close();
          }
        })
      );
      self.closeStream();
    });
  }
  get steps() {
    this.consumeStream();
    return this._steps.promise;
  }
  get finalStep() {
    return this.steps.then((steps) => steps[steps.length - 1]);
  }
  get content() {
    return this.finalStep.then((step) => step.content);
  }
  get warnings() {
    return this.finalStep.then((step) => step.warnings);
  }
  get providerMetadata() {
    return this.finalStep.then((step) => step.providerMetadata);
  }
  get text() {
    return this.finalStep.then((step) => step.text);
  }
  get reasoningText() {
    return this.finalStep.then((step) => step.reasoningText);
  }
  get reasoning() {
    return this.finalStep.then((step) => step.reasoning);
  }
  get sources() {
    return this.finalStep.then((step) => step.sources);
  }
  get files() {
    return this.finalStep.then((step) => step.files);
  }
  get toolCalls() {
    return this.finalStep.then((step) => step.toolCalls);
  }
  get staticToolCalls() {
    return this.finalStep.then((step) => step.staticToolCalls);
  }
  get dynamicToolCalls() {
    return this.finalStep.then((step) => step.dynamicToolCalls);
  }
  get toolResults() {
    return this.finalStep.then((step) => step.toolResults);
  }
  get staticToolResults() {
    return this.finalStep.then((step) => step.staticToolResults);
  }
  get dynamicToolResults() {
    return this.finalStep.then((step) => step.dynamicToolResults);
  }
  get usage() {
    return this.finalStep.then((step) => step.usage);
  }
  get request() {
    return this.finalStep.then((step) => step.request);
  }
  get response() {
    return this.finalStep.then((step) => step.response);
  }
  get totalUsage() {
    this.consumeStream();
    return this._totalUsage.promise;
  }
  get finishReason() {
    this.consumeStream();
    return this._finishReason.promise;
  }
  /**
  Split out a new stream from the original stream.
  The original stream is replaced to allow for further splitting,
  since we do not know how many times the stream will be split.
  
  Note: this leads to buffering the stream content on the server.
  However, the LLM results are expected to be small enough to not cause issues.
     */
  teeStream() {
    const [stream1, stream2] = this.baseStream.tee();
    this.baseStream = stream2;
    return stream1;
  }
  get textStream() {
    return createAsyncIterableStream(
      this.teeStream().pipeThrough(
        new TransformStream({
          transform({ part }, controller) {
            if (part.type === "text-delta") {
              controller.enqueue(part.text);
            }
          }
        })
      )
    );
  }
  get fullStream() {
    return createAsyncIterableStream(
      this.teeStream().pipeThrough(
        new TransformStream({
          transform({ part }, controller) {
            controller.enqueue(part);
          }
        })
      )
    );
  }
  async consumeStream(options) {
    var _a17;
    try {
      await consumeStream({
        stream: this.fullStream,
        onError: options == null ? void 0 : options.onError
      });
    } catch (error45) {
      (_a17 = options == null ? void 0 : options.onError) == null ? void 0 : _a17.call(options, error45);
    }
  }
  get experimental_partialOutputStream() {
    if (this.output == null) {
      throw new NoOutputSpecifiedError();
    }
    return createAsyncIterableStream(
      this.teeStream().pipeThrough(
        new TransformStream({
          transform({ partialOutput }, controller) {
            if (partialOutput != null) {
              controller.enqueue(partialOutput);
            }
          }
        })
      )
    );
  }
  toUIMessageStream({
    originalMessages,
    generateMessageId,
    onFinish,
    messageMetadata,
    sendReasoning = true,
    sendSources = false,
    sendStart = true,
    sendFinish = true,
    onError = getErrorMessage
  } = {}) {
    const responseMessageId = generateMessageId != null ? getResponseUIMessageId({
      originalMessages,
      responseMessageId: generateMessageId
    }) : void 0;
    const toolNamesByCallId = {};
    const isDynamic = (toolCallId) => {
      var _a17, _b8;
      const toolName = toolNamesByCallId[toolCallId];
      const dynamic = ((_b8 = (_a17 = this.tools) == null ? void 0 : _a17[toolName]) == null ? void 0 : _b8.type) === "dynamic";
      return dynamic ? true : void 0;
    };
    const baseStream = this.fullStream.pipeThrough(
      new TransformStream({
        transform: async (part, controller) => {
          const messageMetadataValue = messageMetadata == null ? void 0 : messageMetadata({ part });
          const partType = part.type;
          switch (partType) {
            case "text-start": {
              controller.enqueue({
                type: "text-start",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "text-delta": {
              controller.enqueue({
                type: "text-delta",
                id: part.id,
                delta: part.text,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "text-end": {
              controller.enqueue({
                type: "text-end",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "reasoning-start": {
              controller.enqueue({
                type: "reasoning-start",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "reasoning-delta": {
              if (sendReasoning) {
                controller.enqueue({
                  type: "reasoning-delta",
                  id: part.id,
                  delta: part.text,
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
                });
              }
              break;
            }
            case "reasoning-end": {
              controller.enqueue({
                type: "reasoning-end",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "file": {
              controller.enqueue({
                type: "file",
                mediaType: part.file.mediaType,
                url: `data:${part.file.mediaType};base64,${part.file.base64}`
              });
              break;
            }
            case "source": {
              if (sendSources && part.sourceType === "url") {
                controller.enqueue({
                  type: "source-url",
                  sourceId: part.id,
                  url: part.url,
                  title: part.title,
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
                });
              }
              if (sendSources && part.sourceType === "document") {
                controller.enqueue({
                  type: "source-document",
                  sourceId: part.id,
                  mediaType: part.mediaType,
                  title: part.title,
                  filename: part.filename,
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
                });
              }
              break;
            }
            case "tool-input-start": {
              toolNamesByCallId[part.id] = part.toolName;
              const dynamic = isDynamic(part.id);
              controller.enqueue({
                type: "tool-input-start",
                toolCallId: part.id,
                toolName: part.toolName,
                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                ...dynamic != null ? { dynamic } : {}
              });
              break;
            }
            case "tool-input-delta": {
              controller.enqueue({
                type: "tool-input-delta",
                toolCallId: part.id,
                inputTextDelta: part.delta
              });
              break;
            }
            case "tool-call": {
              toolNamesByCallId[part.toolCallId] = part.toolName;
              const dynamic = isDynamic(part.toolCallId);
              if (part.invalid) {
                controller.enqueue({
                  type: "tool-input-error",
                  toolCallId: part.toolCallId,
                  toolName: part.toolName,
                  input: part.input,
                  ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {},
                  ...dynamic != null ? { dynamic } : {},
                  errorText: onError(part.error)
                });
              } else {
                controller.enqueue({
                  type: "tool-input-available",
                  toolCallId: part.toolCallId,
                  toolName: part.toolName,
                  input: part.input,
                  ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {},
                  ...dynamic != null ? { dynamic } : {}
                });
              }
              break;
            }
            case "tool-result": {
              const dynamic = isDynamic(part.toolCallId);
              controller.enqueue({
                type: "tool-output-available",
                toolCallId: part.toolCallId,
                output: part.output,
                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                ...part.preliminary != null ? { preliminary: part.preliminary } : {},
                ...dynamic != null ? { dynamic } : {}
              });
              break;
            }
            case "tool-error": {
              const dynamic = isDynamic(part.toolCallId);
              controller.enqueue({
                type: "tool-output-error",
                toolCallId: part.toolCallId,
                errorText: onError(part.error),
                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                ...dynamic != null ? { dynamic } : {}
              });
              break;
            }
            case "error": {
              controller.enqueue({
                type: "error",
                errorText: onError(part.error)
              });
              break;
            }
            case "start-step": {
              controller.enqueue({ type: "start-step" });
              break;
            }
            case "finish-step": {
              controller.enqueue({ type: "finish-step" });
              break;
            }
            case "start": {
              if (sendStart) {
                controller.enqueue({
                  type: "start",
                  ...messageMetadataValue != null ? { messageMetadata: messageMetadataValue } : {},
                  ...responseMessageId != null ? { messageId: responseMessageId } : {}
                });
              }
              break;
            }
            case "finish": {
              if (sendFinish) {
                controller.enqueue({
                  type: "finish",
                  ...messageMetadataValue != null ? { messageMetadata: messageMetadataValue } : {}
                });
              }
              break;
            }
            case "abort": {
              controller.enqueue(part);
              break;
            }
            case "tool-input-end": {
              break;
            }
            case "raw": {
              break;
            }
            default: {
              const exhaustiveCheck = partType;
              throw new Error(`Unknown chunk type: ${exhaustiveCheck}`);
            }
          }
          if (messageMetadataValue != null && partType !== "start" && partType !== "finish") {
            controller.enqueue({
              type: "message-metadata",
              messageMetadata: messageMetadataValue
            });
          }
        }
      })
    );
    return createAsyncIterableStream(
      handleUIMessageStreamFinish({
        stream: baseStream,
        messageId: responseMessageId != null ? responseMessageId : generateMessageId == null ? void 0 : generateMessageId(),
        originalMessages,
        onFinish,
        onError
      })
    );
  }
  pipeUIMessageStreamToResponse(response, {
    originalMessages,
    generateMessageId,
    onFinish,
    messageMetadata,
    sendReasoning,
    sendSources,
    sendFinish,
    sendStart,
    onError,
    ...init
  } = {}) {
    pipeUIMessageStreamToResponse({
      response,
      stream: this.toUIMessageStream({
        originalMessages,
        generateMessageId,
        onFinish,
        messageMetadata,
        sendReasoning,
        sendSources,
        sendFinish,
        sendStart,
        onError
      }),
      ...init
    });
  }
  pipeTextStreamToResponse(response, init) {
    pipeTextStreamToResponse({
      response,
      textStream: this.textStream,
      ...init
    });
  }
  toUIMessageStreamResponse({
    originalMessages,
    generateMessageId,
    onFinish,
    messageMetadata,
    sendReasoning,
    sendSources,
    sendFinish,
    sendStart,
    onError,
    ...init
  } = {}) {
    return createUIMessageStreamResponse({
      stream: this.toUIMessageStream({
        originalMessages,
        generateMessageId,
        onFinish,
        messageMetadata,
        sendReasoning,
        sendSources,
        sendFinish,
        sendStart,
        onError
      }),
      ...init
    });
  }
  toTextStreamResponse(init) {
    return createTextStreamResponse({
      textStream: this.textStream,
      ...init
    });
  }
};
function convertToModelMessages(messages, options) {
  const modelMessages = [];
  if (options == null ? void 0 : options.ignoreIncompleteToolCalls) {
    messages = messages.map((message) => ({
      ...message,
      parts: message.parts.filter(
        (part) => !isToolOrDynamicToolUIPart(part) || part.state !== "input-streaming" && part.state !== "input-available"
      )
    }));
  }
  for (const message of messages) {
    switch (message.role) {
      case "system": {
        const textParts = message.parts.filter((part) => part.type === "text");
        const providerMetadata = textParts.reduce((acc, part) => {
          if (part.providerMetadata != null) {
            return { ...acc, ...part.providerMetadata };
          }
          return acc;
        }, {});
        modelMessages.push({
          role: "system",
          content: textParts.map((part) => part.text).join(""),
          ...Object.keys(providerMetadata).length > 0 ? { providerOptions: providerMetadata } : {}
        });
        break;
      }
      case "user": {
        modelMessages.push({
          role: "user",
          content: message.parts.filter(
            (part) => part.type === "text" || part.type === "file"
          ).map((part) => {
            switch (part.type) {
              case "text":
                return {
                  type: "text",
                  text: part.text,
                  ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}
                };
              case "file":
                return {
                  type: "file",
                  mediaType: part.mediaType,
                  filename: part.filename,
                  data: part.url,
                  ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}
                };
              default:
                return part;
            }
          })
        });
        break;
      }
      case "assistant": {
        if (message.parts != null) {
          let processBlock2 = function() {
            var _a17, _b8;
            if (block.length === 0) {
              return;
            }
            const content = [];
            for (const part of block) {
              if (part.type === "text") {
                content.push({
                  type: "text",
                  text: part.text,
                  ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}
                });
              } else if (part.type === "file") {
                content.push({
                  type: "file",
                  mediaType: part.mediaType,
                  filename: part.filename,
                  data: part.url
                });
              } else if (part.type === "reasoning") {
                content.push({
                  type: "reasoning",
                  text: part.text,
                  providerOptions: part.providerMetadata
                });
              } else if (part.type === "dynamic-tool") {
                const toolName = part.toolName;
                if (part.state !== "input-streaming") {
                  content.push({
                    type: "tool-call",
                    toolCallId: part.toolCallId,
                    toolName,
                    input: part.input,
                    ...part.callProviderMetadata != null ? { providerOptions: part.callProviderMetadata } : {}
                  });
                }
              } else if (isToolUIPart(part)) {
                const toolName = getToolName(part);
                if (part.state !== "input-streaming") {
                  content.push({
                    type: "tool-call",
                    toolCallId: part.toolCallId,
                    toolName,
                    input: part.state === "output-error" ? (_a17 = part.input) != null ? _a17 : part.rawInput : part.input,
                    providerExecuted: part.providerExecuted,
                    ...part.callProviderMetadata != null ? { providerOptions: part.callProviderMetadata } : {}
                  });
                  if (part.providerExecuted === true && (part.state === "output-available" || part.state === "output-error")) {
                    content.push({
                      type: "tool-result",
                      toolCallId: part.toolCallId,
                      toolName,
                      output: createToolModelOutput({
                        output: part.state === "output-error" ? part.errorText : part.output,
                        tool: (_b8 = options == null ? void 0 : options.tools) == null ? void 0 : _b8[toolName],
                        errorMode: part.state === "output-error" ? "json" : "none"
                      })
                    });
                  }
                }
              } else {
                const _exhaustiveCheck = part;
                throw new Error(`Unsupported part: ${_exhaustiveCheck}`);
              }
            }
            modelMessages.push({
              role: "assistant",
              content
            });
            const toolParts = block.filter(
              (part) => isToolUIPart(part) && part.providerExecuted !== true || part.type === "dynamic-tool"
            );
            if (toolParts.length > 0) {
              modelMessages.push({
                role: "tool",
                content: toolParts.map((toolPart) => {
                  var _a18;
                  switch (toolPart.state) {
                    case "output-error":
                    case "output-available": {
                      const toolName = toolPart.type === "dynamic-tool" ? toolPart.toolName : getToolName(toolPart);
                      return {
                        type: "tool-result",
                        toolCallId: toolPart.toolCallId,
                        toolName,
                        output: createToolModelOutput({
                          output: toolPart.state === "output-error" ? toolPart.errorText : toolPart.output,
                          tool: (_a18 = options == null ? void 0 : options.tools) == null ? void 0 : _a18[toolName],
                          errorMode: toolPart.state === "output-error" ? "text" : "none"
                        })
                      };
                    }
                    default: {
                      return null;
                    }
                  }
                }).filter(
                  (output) => output != null
                )
              });
            }
            block = [];
          };
          var processBlock = processBlock2;
          let block = [];
          for (const part of message.parts) {
            if (part.type === "text" || part.type === "reasoning" || part.type === "file" || part.type === "dynamic-tool" || isToolUIPart(part)) {
              block.push(part);
            } else if (part.type === "step-start") {
              processBlock2();
            }
          }
          processBlock2();
          break;
        }
        break;
      }
      default: {
        const _exhaustiveCheck = message.role;
        throw new MessageConversionError({
          originalMessage: message,
          message: `Unsupported role: ${_exhaustiveCheck}`
        });
      }
    }
  }
  return modelMessages;
}
var originalGenerateId3 = createIdGenerator({ prefix: "aiobj", size: 24 });
var originalGenerateId4 = createIdGenerator({ prefix: "aiobj", size: 24 });
var output_exports = {};
__export2(output_exports, {
  object: () => object2,
  text: () => text
});
var text = () => ({
  type: "text",
  responseFormat: { type: "text" },
  async parsePartial({ text: text2 }) {
    return { partial: text2 };
  },
  async parseOutput({ text: text2 }) {
    return text2;
  }
});
var object2 = ({
  schema: inputSchema
}) => {
  const schema = asSchema(inputSchema);
  return {
    type: "object",
    responseFormat: {
      type: "json",
      schema: schema.jsonSchema
    },
    async parsePartial({ text: text2 }) {
      const result = await parsePartialJson(text2);
      switch (result.state) {
        case "failed-parse":
        case "undefined-input":
          return void 0;
        case "repaired-parse":
        case "successful-parse":
          return {
            // Note: currently no validation of partial results:
            partial: result.value
          };
        default: {
          const _exhaustiveCheck = result.state;
          throw new Error(`Unsupported parse state: ${_exhaustiveCheck}`);
        }
      }
    },
    async parseOutput({ text: text2 }, context) {
      const parseResult = await safeParseJSON({ text: text2 });
      if (!parseResult.success) {
        throw new NoObjectGeneratedError({
          message: "No object generated: could not parse the response.",
          cause: parseResult.error,
          text: text2,
          response: context.response,
          usage: context.usage,
          finishReason: context.finishReason
        });
      }
      const validationResult = await safeValidateTypes({
        value: parseResult.value,
        schema
      });
      if (!validationResult.success) {
        throw new NoObjectGeneratedError({
          message: "No object generated: response did not match schema.",
          cause: validationResult.error,
          text: text2,
          response: context.response,
          usage: context.usage,
          finishReason: context.finishReason
        });
      }
      return validationResult.value;
    }
  };
};
var name16 = "AI_NoSuchProviderError";
var marker162 = `vercel.ai.error.${name16}`;
var symbol162 = Symbol.for(marker162);
var _a162;
_a162 = symbol162;
var ClientOrServerImplementationSchema = external_exports.looseObject({
  name: external_exports.string(),
  version: external_exports.string()
});
var BaseParamsSchema = external_exports.looseObject({
  _meta: external_exports.optional(external_exports.object({}).loose())
});
var ResultSchema = BaseParamsSchema;
var RequestSchema = external_exports.object({
  method: external_exports.string(),
  params: external_exports.optional(BaseParamsSchema)
});
var ServerCapabilitiesSchema = external_exports.looseObject({
  experimental: external_exports.optional(external_exports.object({}).loose()),
  logging: external_exports.optional(external_exports.object({}).loose()),
  prompts: external_exports.optional(
    external_exports.looseObject({
      listChanged: external_exports.optional(external_exports.boolean())
    })
  ),
  resources: external_exports.optional(
    external_exports.looseObject({
      subscribe: external_exports.optional(external_exports.boolean()),
      listChanged: external_exports.optional(external_exports.boolean())
    })
  ),
  tools: external_exports.optional(
    external_exports.looseObject({
      listChanged: external_exports.optional(external_exports.boolean())
    })
  )
});
var InitializeResultSchema = ResultSchema.extend({
  protocolVersion: external_exports.string(),
  capabilities: ServerCapabilitiesSchema,
  serverInfo: ClientOrServerImplementationSchema,
  instructions: external_exports.optional(external_exports.string())
});
var PaginatedResultSchema = ResultSchema.extend({
  nextCursor: external_exports.optional(external_exports.string())
});
var ToolSchema = external_exports.object({
  name: external_exports.string(),
  description: external_exports.optional(external_exports.string()),
  inputSchema: external_exports.object({
    type: external_exports.literal("object"),
    properties: external_exports.optional(external_exports.object({}).loose())
  }).loose()
}).loose();
var ListToolsResultSchema = PaginatedResultSchema.extend({
  tools: external_exports.array(ToolSchema)
});
var TextContentSchema = external_exports.object({
  type: external_exports.literal("text"),
  text: external_exports.string()
}).loose();
var ImageContentSchema = external_exports.object({
  type: external_exports.literal("image"),
  data: external_exports.base64(),
  mimeType: external_exports.string()
}).loose();
var ResourceContentsSchema = external_exports.object({
  /**
   * The URI of this resource.
   */
  uri: external_exports.string(),
  /**
   * The MIME type of this resource, if known.
   */
  mimeType: external_exports.optional(external_exports.string())
}).loose();
var TextResourceContentsSchema = ResourceContentsSchema.extend({
  text: external_exports.string()
});
var BlobResourceContentsSchema = ResourceContentsSchema.extend({
  blob: external_exports.base64()
});
var EmbeddedResourceSchema = external_exports.object({
  type: external_exports.literal("resource"),
  resource: external_exports.union([TextResourceContentsSchema, BlobResourceContentsSchema])
}).loose();
var CallToolResultSchema = ResultSchema.extend({
  content: external_exports.array(
    external_exports.union([TextContentSchema, ImageContentSchema, EmbeddedResourceSchema])
  ),
  isError: external_exports.boolean().default(false).optional()
}).or(
  ResultSchema.extend({
    toolResult: external_exports.unknown()
  })
);
var JSONRPC_VERSION = "2.0";
var JSONRPCRequestSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION),
  id: external_exports.union([external_exports.string(), external_exports.number().int()])
}).merge(RequestSchema).strict();
var JSONRPCResponseSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION),
  id: external_exports.union([external_exports.string(), external_exports.number().int()]),
  result: ResultSchema
}).strict();
var JSONRPCErrorSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION),
  id: external_exports.union([external_exports.string(), external_exports.number().int()]),
  error: external_exports.object({
    code: external_exports.number().int(),
    message: external_exports.string(),
    data: external_exports.optional(external_exports.unknown())
  })
}).strict();
var JSONRPCNotificationSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION)
}).merge(
  external_exports.object({
    method: external_exports.string(),
    params: external_exports.optional(BaseParamsSchema)
  })
).strict();
var JSONRPCMessageSchema = external_exports.union([
  JSONRPCRequestSchema,
  JSONRPCNotificationSchema,
  JSONRPCResponseSchema,
  JSONRPCErrorSchema
]);
var textUIPartSchema = external_exports.object({
  type: external_exports.literal("text"),
  text: external_exports.string(),
  state: external_exports.enum(["streaming", "done"]).optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var reasoningUIPartSchema = external_exports.object({
  type: external_exports.literal("reasoning"),
  text: external_exports.string(),
  state: external_exports.enum(["streaming", "done"]).optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var sourceUrlUIPartSchema = external_exports.object({
  type: external_exports.literal("source-url"),
  sourceId: external_exports.string(),
  url: external_exports.string(),
  title: external_exports.string().optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var sourceDocumentUIPartSchema = external_exports.object({
  type: external_exports.literal("source-document"),
  sourceId: external_exports.string(),
  mediaType: external_exports.string(),
  title: external_exports.string(),
  filename: external_exports.string().optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var fileUIPartSchema = external_exports.object({
  type: external_exports.literal("file"),
  mediaType: external_exports.string(),
  filename: external_exports.string().optional(),
  url: external_exports.string(),
  providerMetadata: providerMetadataSchema.optional()
});
var stepStartUIPartSchema = external_exports.object({
  type: external_exports.literal("step-start")
});
var dataUIPartSchema = external_exports.object({
  type: external_exports.string().startsWith("data-"),
  id: external_exports.string().optional(),
  data: external_exports.unknown()
});
var dynamicToolUIPartSchemas = [
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-streaming"),
    input: external_exports.unknown().optional(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional()
  }),
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-available"),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional()
  }),
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-available"),
    input: external_exports.unknown(),
    output: external_exports.unknown(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional(),
    preliminary: external_exports.boolean().optional()
  }),
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-error"),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.string(),
    callProviderMetadata: providerMetadataSchema.optional()
  })
];
var toolUIPartSchemas = [
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-streaming"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown().optional(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional()
  }),
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-available"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional()
  }),
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-available"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown(),
    output: external_exports.unknown(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional(),
    preliminary: external_exports.boolean().optional()
  }),
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-error"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.string(),
    callProviderMetadata: providerMetadataSchema.optional()
  })
];
var uiMessageSchema = external_exports.object({
  id: external_exports.string(),
  role: external_exports.enum(["system", "user", "assistant"]),
  metadata: external_exports.unknown().optional(),
  parts: external_exports.array(
    external_exports.union([
      textUIPartSchema,
      reasoningUIPartSchema,
      sourceUrlUIPartSchema,
      sourceDocumentUIPartSchema,
      fileUIPartSchema,
      stepStartUIPartSchema,
      dataUIPartSchema,
      ...dynamicToolUIPartSchemas,
      ...toolUIPartSchemas
    ])
  )
});

// node_modules/blink/dist/api-_RFSw3t6.js
var import_util6 = __toESM(require("util"), 1);
var t = Object.freeze({ find(e2) {
  throw Error(`Not implemented`);
}, create(e2) {
  throw Error(`Not implemented`);
}, message(e2, t2, n2) {
  throw Error(`Not implemented`);
} });
function n(e2) {
  return { version: `v0`, metadata: { displayName: e2.displayName, description: e2.description }, fetch: async (t2) => {
    let n2 = new URL(t2.url);
    switch (n2.pathname) {
      case `/sendMessages`:
        return i(t2, e2);
      case `/webhook`:
        return a(t2, e2);
      default:
        return new Response(`Not found`, { status: 404 });
    }
  } };
}
var r;
async function i(t2, n2) {
  if (t2.method !== `POST`) return new Response(`Method not allowed`, { status: 405 });
  let i2;
  try {
    i2 = await t2.json();
  } catch {
    return new Response(`Invalid request`, { status: 400 });
  }
  let a2;
  try {
    a2 = await n2.sendMessages({ messages: i2.messages });
  } catch (t3) {
    return new Response(JSON.stringify({ error: import_util6.default.inspect(t3) }), { status: 500 });
  }
  if (a2 instanceof Response) return a2;
  if (a2 instanceof ReadableStream) return new Response(a2, { headers: { "Content-Type": `text/event-stream` } });
  if (typeof a2 != `object` || typeof a2 == `object` && !(`toUIMessageStream` in a2)) throw Error(`The agent must return a "Response", "ReadableStream", or "toUIMessageStream" function.`);
  r ||= new TextEncoder();
  let o2 = new TransformStream({ transform(e2, t3) {
    t3.enqueue(r.encode(`data: ${JSON.stringify(e2)}

`));
  } }), s2 = a2.toUIMessageStream();
  return s2.pipeTo(o2.writable), new Response(o2.readable, { headers: { "Content-Type": `text/event-stream` } });
}
async function a(t2, n2) {
  if (!n2.webhook) return new Response(`No webhook function provided`, { status: 501 });
  try {
    let e2 = await n2.webhook(t2);
    return e2 || new Response(`OK`, { status: 200 });
  } catch (t3) {
    return new Response(JSON.stringify({ error: import_util6.default.inspect(t3) }), { status: 500 });
  }
}

// node_modules/pg/esm/index.mjs
var import_lib = __toESM(require_lib2(), 1);
var Client = import_lib.default.Client;
var Pool = import_lib.default.Pool;
var Connection = import_lib.default.Connection;
var types = import_lib.default.types;
var Query = import_lib.default.Query;
var DatabaseError = import_lib.default.DatabaseError;
var escapeIdentifier = import_lib.default.escapeIdentifier;
var escapeLiteral = import_lib.default.escapeLiteral;
var Result = import_lib.default.Result;
var TypeOverrides = import_lib.default.TypeOverrides;
var defaults = import_lib.default.defaults;

// db.ts
var pool = null;
function getPool() {
  if (!pool) {
    const connectionString = process.env.DATABASE_URL;
    if (!connectionString) {
      throw new Error(
        "DATABASE_URL is required. Set it to your Neon connection string before starting the agent."
      );
    }
    pool = new Pool({
      connectionString,
      ssl: { rejectUnauthorized: false },
      max: 5,
      idleTimeoutMillis: 1e4,
      connectionTimeoutMillis: 1e4
    });
  }
  return pool;
}
var KNOWN_SCHEMA_SUMMARY = `
Tables:

1) field_changes (append-only)
  - id BIGSERIAL PRIMARY KEY
  - project_node_id TEXT NOT NULL
  - project_name TEXT
  - item_node_id TEXT NOT NULL
  - content_node_id TEXT
  - content_type TEXT
  - content_title TEXT
  - content_url TEXT
  - repository_name TEXT
  - field_name TEXT NOT NULL
  - field_type TEXT NOT NULL
  - old_value JSONB
  - new_value JSONB
  - changed_at TIMESTAMPTZ NOT NULL
  - detected_at TIMESTAMPTZ DEFAULT NOW()
  - actor_login TEXT
  - UNIQUE(item_node_id, field_name, changed_at)
  Indexes: project_node_id, project_name, repository_name, item_node_id, changed_at

2) current_field_values (current snapshot)
  - project_node_id TEXT NOT NULL
  - project_name TEXT
  - item_node_id TEXT NOT NULL
  - content_node_id TEXT
  - content_type TEXT
  - content_title TEXT
  - content_url TEXT
  - repository_name TEXT
  - field_name TEXT NOT NULL
  - field_type TEXT NOT NULL
  - field_value JSONB
  - updated_at TIMESTAMPTZ DEFAULT NOW()
  - PRIMARY KEY (item_node_id, field_name)
  Indexes: project_node_id, project_name, repository_name

Usage patterns:
- "What's new / what changed" \u2192 query field_changes filtered by project_name (or project_node_id) with changed_at >= now() - interval '7 days'.
- "Current state" \u2192 query current_field_values filtered by project_name (or project_node_id).
- Common filters: repository_name, field_name (e.g. Status), actor_login, content_type.
`;
async function getSchema() {
  const client = await getPool().connect();
  try {
    await client.query("BEGIN READ ONLY");
    const colRes = await client.query(
      `select c.table_name as table, c.column_name as name, c.data_type as "dataType", (c.is_nullable = 'YES') as "isNullable"
       from information_schema.columns c
       where c.table_schema = 'public' and c.table_name in ('field_changes','current_field_values')
       order by c.table_name, c.ordinal_position`
    );
    const idxRes = await client.query(
      `select tablename as table, indexname as name, indexdef as definition
       from pg_indexes
       where schemaname = 'public' and tablename in ('field_changes','current_field_values')
       order by tablename, indexname`
    );
    await client.query("COMMIT");
    const columns = colRes.rows;
    const indexes = idxRes.rows;
    return {
      columns,
      indexes,
      summary: KNOWN_SCHEMA_SUMMARY
    };
  } catch (e2) {
    try {
      await client.query("ROLLBACK");
    } catch {
    }
    throw e2;
  } finally {
    client.release();
  }
}
function ensureSelectOnly(sql) {
  const s2 = sql.trim();
  if (s2.split(";").filter(Boolean).length > 1) {
    throw new Error("Only a single SELECT statement is allowed.");
  }
  const noSemi = s2.endsWith(";") ? s2.slice(0, -1) : s2;
  const head = noSemi.trim().slice(0, 20).toLowerCase();
  if (!(head.startsWith("select") || head.startsWith("with"))) {
    throw new Error("Only SELECT queries are allowed.");
  }
  const forbidden = /(insert|update|delete|alter|drop|create|truncate|grant|revoke|vacuum|analyze|reindex)\b/i;
  if (forbidden.test(noSemi)) {
    throw new Error(
      "Query contains forbidden keywords. Read-only SELECTs only."
    );
  }
  return noSemi;
}
async function runQuery({
  sql,
  params = [],
  limit = 200,
  offset = 0,
  timeoutMs = 15e3
}) {
  const safeSql = ensureSelectOnly(sql);
  const client = await getPool().connect();
  const clampedLimit = Math.max(0, Math.min(limit ?? 200, 2e3));
  const clampedOffset = Math.max(0, offset ?? 0);
  try {
    await client.query("BEGIN READ ONLY");
    await client.query(
      `SET LOCAL statement_timeout TO '${Math.max(1e3, Math.min(timeoutMs, 6e4))}ms'`
    );
    const wrapped = `select * from ( ${safeSql} ) as t limit $${params.length + 1} offset $${params.length + 2}`;
    const res = await client.query({
      text: wrapped,
      values: [...params, clampedLimit, clampedOffset]
    });
    await client.query("COMMIT");
    return {
      rowCount: res.rowCount,
      rows: res.rows,
      appliedLimit: clampedLimit,
      appliedOffset: clampedOffset
    };
  } catch (e2) {
    try {
      await client.query("ROLLBACK");
    } catch {
    }
    throw e2;
  } finally {
    client.release();
  }
}

// prompt.ts
var import_fs = require("fs");
function buildSystemPrompt() {
  const base = `You are an agent that answers questions about GitHub Projects using a Neon Postgres database accessed via tools db_schema and db_query.

Tool usage contract
- Tools available: db_schema, db_query
- You must call tools using exactly these names. Do not add suffixes or prefixes (e.g., do not use "db_query<|constrain|>json" or variants). If you intend to call db_query, the tool name must be exactly db_query.
- Provide tool inputs that conform to the declared JSON schema.

Operating principles
- Prefer filtering by project_name (users know names/URLs, not node IDs).
- Default lookback window for "what's new" or "what changed" is the last 7 days unless the user specifies otherwise.
- When uncertain, call db_schema to refresh your understanding of the schema, then construct a db_query with parameters.
- Safety: Only generate SELECT (or WITH ... SELECT) queries; keep them single-statement. Use parameter placeholders ($1, $2, ...). Keep LIMIT <= 2000 and use OFFSET for pagination.

Database schema and semantics
Tables
1) field_changes (append-only changelog)
  Columns
  - id BIGSERIAL PRIMARY KEY
  - project_node_id TEXT (GitHub project node ID)
  - project_name TEXT (GitHub project title)
  - item_node_id TEXT (project item node ID)
  - content_node_id TEXT (Issue/PR node ID if present)
  - content_type TEXT ("Issue", "PullRequest", or empty)
  - content_title TEXT (Issue/PR title if present)
  - content_url TEXT (Issue/PR URL if present)
  - repository_name TEXT ("owner/repo")
  - field_name TEXT (e.g., "Status", "Assignees", "labels", or synthetic names like "title")
  - field_type TEXT (project GraphQL typename like ProjectV2ItemFieldSingleSelectValue, or synthetic tags like issue_title, pr_state, system_event, cleared_field)
  - old_value JSONB (previous value \u2014 may be string, number, null, string[], object[], etc.)
  - new_value JSONB (new value \u2014 same shape as above)
  - changed_at TIMESTAMPTZ (when change happened; batch timestamp)
  - detected_at TIMESTAMPTZ (when change was detected; typically equals changed_at)
  - actor_login TEXT (may be empty)
  Constraints & notes
  - UNIQUE(item_node_id, field_name, changed_at)
  - Special deletion event: field_name = "_item_deleted", field_type = "system_event", old_value = true, new_value = null

2) current_field_values (latest snapshot of each item\u2019s fields)
  Columns
  - project_node_id TEXT
  - project_name TEXT
  - item_node_id TEXT
  - content_node_id TEXT
  - content_type TEXT
  - content_title TEXT
  - content_url TEXT
  - repository_name TEXT
  - field_name TEXT
  - field_type TEXT
  - field_value JSONB (latest value)
  - updated_at TIMESTAMPTZ
  Primary key
  - (item_node_id, field_name)

Value shapes in JSONB (examples)
- Project fields (source: project; field_type is a ProjectV2* typename)
  - Text \u2192 string | null (e.g., "Blocked")
  - SingleSelect \u2192 string | null (e.g., "In Progress")
  - Number \u2192 number | null (e.g., 3)
  - Date \u2192 string | null (ISO date, e.g., "2025-09-10")
  - Iteration \u2192 string | null (iteration title)
  - User \u2192 string[] (array of GitHub logins)
  - Repository \u2192 string | null ("owner/repo")
  - Label \u2192 string[] (array of label names)
  - Cleared project field \u2192 null with field_type = "cleared_field"
- Issue content fields (source: issue; field_type starts with "issue_")
  - title/body/state/created_at/updated_at \u2192 string
  - assignees \u2192 string[] (logins)
  - labels \u2192 string[] (label names)
  - milestone \u2192 string | null (title)
  - linked_pull_requests \u2192 array of objects: [{ repo, number, title, state, mergedAt }]
  - closing_pull_requests \u2192 array of objects: [{ repo, number }]
- Pull request content fields (source: pull_request; field_type starts with "pr_")
  - similar shapes to issue_* (title/body/state/created_at/updated_at/assignees/labels/milestone)

Disambiguation guidance
- "status"/"column"/"stage" from users typically refers to a Project field (SingleSelect or Text) named "Status". Prefer project fields (field_type starts with ProjectV2...) over issue_state/pr_state.
- "state" usually means Issue/PR state (OPEN, CLOSED, MERGED) \u2192 filter field_type in (issue_state, pr_state).
- "assignee"/"owner"/"assigned to" \u2192 arrays of GitHub logins in field_name = "assignees" (issue_* or pr_*); for project user fields, field_value is also an array of logins.
- "labels"/"tags" \u2192 arrays of label names.
- "milestone"/"version"/"release" \u2192 milestone title.
- "iteration"/"sprint"/"cycle" \u2192 project iteration title stored as a string value.
- "repo"/"repository" \u2192 repository_name (e.g., "coder/coder").
- "card"/"item" \u2192 project item (item_node_id); users won't know IDs, so scope by project_name and other filters.
- "recent"/"what's new"/"changes" \u2192 use field_changes filtered by changed_at; default to last 7 days.
- "customer" \u2192 use field_name filtered by Customer then check the value of field_value.

Query patterns to use with db_query
- Recent changes for a project (last 7 days by default)
  select * from field_changes
  where project_name = $1 and changed_at >= now() - interval '7 days'
  order by changed_at desc

- Current state for a project
  select * from current_field_values
  where project_name = $1

- Filter by repository and specific field (e.g., Status)
  select * from field_changes
  where project_name = $1
    and repository_name = $2
    and field_name = $3
  order by changed_at desc

Timestamps and change semantics
- current_field_values.updated_at represents when the latest snapshot was recorded. Do not use it to infer when a change occurred to a field.
- field_changes.changed_at is the authoritative timestamp for when a field value changed. Use this for ordering and answering \u201Cwhen did this change?\u201D.

Answering behavior
- Always clarify ambiguous project_name or time windows.
- If a request sounds like a summary, you may run a broader query with an explicit LIMIT (<= 2000) and then summarize.
- When returning results, consider sorting by changed_at desc for "what changed" and grouping by repository_name or field_name when helpful.
- For any "what changed" response, explicitly show both old_value and new_value for each change event with clear labels. Do not omit either.
- Show null explicitly as null for cleared values. Include field_name, changed_at (ISO), actor_login (if present), repository_name, and content_title/content_url (if present). Example format:
  - Status: "In Progress" \u2192 "Done" (changed_at: 2025-09-12T17:03:12Z, actor: octocat)
  - Assignees: ["alice"] \u2192 ["alice","bob"]
- When asked "when did this change?", use field_changes.changed_at, not current_field_values.updated_at. This timestamp provides the accurate timing of changes.

`;
  const pieces = [base];
  const envExtra = process.env.PROMPT_USER_LANGUAGE_GUIDE;
  if (envExtra && envExtra.trim().length > 0) {
    pieces.push("User language guide (custom additions)\n" + envExtra.trim());
  }
  const filePath = process.env.PROMPT_ADDITIONS_FILE;
  if (filePath && (0, import_fs.existsSync)(filePath)) {
    try {
      const file2 = (0, import_fs.readFileSync)(filePath, "utf8");
      if (file2.trim().length > 0) {
        pieces.push("User language guide (file)\n" + file2.trim());
      }
    } catch {
    }
  }
  return pieces.join("\n\n");
}

// agent.ts
var agent_default = n({
  displayName: "gh-project-agent",
  async sendMessages({ messages }) {
    return streamText({
      //model: "openai/gpt-oss-120b",
      model: "anthropic/claude-sonnet-4",
      system: buildSystemPrompt(),
      messages: convertToModelMessages(messages),
      tools: {
        db_schema: tool({
          description: "Return the schema and usage notes for the Neon database backing GitHub Project insights. Includes tables, columns, indexes, and a concise guide for common queries using project_name.",
          inputSchema: external_exports.object({}),
          execute: async () => {
            const schema = await getSchema();
            return schema;
          }
        }),
        db_query: tool({
          description: "Execute a read-only SQL SELECT against the Neon database. Use project_name for scoping; default lookback is the last 7 days for 'what's new' queries. Returns rows with enforced LIMIT/OFFSET (max 2000).",
          inputSchema: external_exports.object({
            sql: external_exports.string().describe("A single SELECT (or WITH ... SELECT) statement."),
            params: external_exports.array(external_exports.any()).optional().default([]),
            limit: external_exports.number().int().min(1).max(2e3).optional().default(200),
            offset: external_exports.number().int().min(0).optional().default(0),
            timeoutMs: external_exports.number().int().min(1e3).max(6e4).optional().default(15e3)
          }),
          execute: async ({ sql, params, limit, offset, timeoutMs }) => {
            const result = await runQuery({
              sql,
              params,
              limit,
              offset,
              timeoutMs
            });
            return result;
          }
        })
      }
    });
  }
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vcG9zdGdyZXMtYXJyYXkvaW5kZXguanMiLCAiLi4vcGctdHlwZXMvbGliL2FycmF5UGFyc2VyLmpzIiwgIi4uL3Bvc3RncmVzLWRhdGUvaW5kZXguanMiLCAiLi4veHRlbmQvbXV0YWJsZS5qcyIsICIuLi9wb3N0Z3Jlcy1pbnRlcnZhbC9pbmRleC5qcyIsICIuLi9wb3N0Z3Jlcy1ieXRlYS9pbmRleC5qcyIsICIuLi9wZy10eXBlcy9saWIvdGV4dFBhcnNlcnMuanMiLCAiLi4vcGctaW50OC9pbmRleC5qcyIsICIuLi9wZy10eXBlcy9saWIvYmluYXJ5UGFyc2Vycy5qcyIsICIuLi9wZy10eXBlcy9saWIvYnVpbHRpbnMuanMiLCAiLi4vcGctdHlwZXMvaW5kZXguanMiLCAiLi4vcGcvbGliL2RlZmF1bHRzLmpzIiwgIi4uL3BnL2xpYi91dGlscy5qcyIsICIuLi9wZy9saWIvY3J5cHRvL3V0aWxzLWxlZ2FjeS5qcyIsICIuLi9wZy9saWIvY3J5cHRvL3V0aWxzLXdlYmNyeXB0by5qcyIsICIuLi9wZy9saWIvY3J5cHRvL3V0aWxzLmpzIiwgIi4uL3BnL2xpYi9jcnlwdG8vY2VydC1zaWduYXR1cmVzLmpzIiwgIi4uL3BnL2xpYi9jcnlwdG8vc2FzbC5qcyIsICIuLi9wZy9saWIvdHlwZS1vdmVycmlkZXMuanMiLCAiLi4vcGctY29ubmVjdGlvbi1zdHJpbmcvaW5kZXguanMiLCAiLi4vcGcvbGliL2Nvbm5lY3Rpb24tcGFyYW1ldGVycy5qcyIsICIuLi9wZy9saWIvcmVzdWx0LmpzIiwgIi4uL3BnL2xpYi9xdWVyeS5qcyIsICIuLi9wZy1wcm90b2NvbC9zcmMvbWVzc2FnZXMudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL2J1ZmZlci13cml0ZXIudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL3NlcmlhbGl6ZXIudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL2J1ZmZlci1yZWFkZXIudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL3BhcnNlci50cyIsICIuLi9wZy1wcm90b2NvbC9zcmMvaW5kZXgudHMiLCAiLi4vcGctY2xvdWRmbGFyZS9zcmMvZW1wdHkudHMiLCAiLi4vcGcvbGliL3N0cmVhbS5qcyIsICIuLi9wZy9saWIvY29ubmVjdGlvbi5qcyIsICIuLi9zcGxpdDIvaW5kZXguanMiLCAiLi4vcGdwYXNzL2xpYi9oZWxwZXIuanMiLCAiLi4vcGdwYXNzL2xpYi9pbmRleC5qcyIsICIuLi9wZy9saWIvY2xpZW50LmpzIiwgIi4uL3BnLXBvb2wvaW5kZXguanMiLCAiLi4vcGcvbGliL25hdGl2ZS9xdWVyeS5qcyIsICIuLi9wZy9saWIvbmF0aXZlL2NsaWVudC5qcyIsICIuLi9wZy9saWIvbmF0aXZlL2luZGV4LmpzIiwgIi4uL3BnL2xpYi9pbmRleC5qcyIsICIuLi8uLi9hZ2VudC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvYWktc2RrLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9hcGktY2FsbC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvZW1wdHktcmVzcG9uc2UtYm9keS1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvZ2V0LWVycm9yLW1lc3NhZ2UudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2ludmFsaWQtcHJvbXB0LWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9pbnZhbGlkLXJlc3BvbnNlLWRhdGEtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2pzb24tcGFyc2UtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2xvYWQtYXBpLWtleS1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvbG9hZC1zZXR0aW5nLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9uby1jb250ZW50LWdlbmVyYXRlZC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvbm8tc3VjaC1tb2RlbC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvdG9vLW1hbnktZW1iZWRkaW5nLXZhbHVlcy1mb3ItY2FsbC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvdHlwZS12YWxpZGF0aW9uLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy91bnN1cHBvcnRlZC1mdW5jdGlvbmFsaXR5LWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2pzb24tdmFsdWUvaXMtanNvbi50cyIsICIuLi9ldmVudHNvdXJjZS1wYXJzZXIvc3JjL2Vycm9ycy50cyIsICIuLi9ldmVudHNvdXJjZS1wYXJzZXIvc3JjL3BhcnNlLnRzIiwgIi4uL2V2ZW50c291cmNlLXBhcnNlci9zcmMvc3RyZWFtLnRzIiwgIi4uL3pvZC92NC9jbGFzc2ljL2V4dGVybmFsLmpzIiwgIi4uL3pvZC92NC9jb3JlL2luZGV4LmpzIiwgIi4uL3pvZC92NC9jb3JlL2NvcmUuanMiLCAiLi4vem9kL3Y0L2NvcmUvdXRpbC5qcyIsICIuLi96b2QvdjQvY29yZS9lcnJvcnMuanMiLCAiLi4vem9kL3Y0L2NvcmUvcGFyc2UuanMiLCAiLi4vem9kL3Y0L2NvcmUvcmVnZXhlcy5qcyIsICIuLi96b2QvdjQvY29yZS9jaGVja3MuanMiLCAiLi4vem9kL3Y0L2NvcmUvZG9jLmpzIiwgIi4uL3pvZC92NC9jb3JlL3ZlcnNpb25zLmpzIiwgIi4uL3pvZC92NC9jb3JlL3NjaGVtYXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaW5kZXguanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvYXIuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvYXouanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvYmUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvY2EuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvY3MuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZGEuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZGUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZW4uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZW8uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZmEuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZmkuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZnIuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZnItQ0EuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaGUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaHUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaWQuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaXQuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvamEuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva2EuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva20uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva2guanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva28uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbHQuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbWsuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbmwuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbm8uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvb3RhLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3BzLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3BsLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3B0LmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3J1LmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3NsLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3N2LmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3RhLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3RoLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3RyLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3VrLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3VhLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3VyLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3ZpLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3poLUNOLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3poLVRXLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3lvLmpzIiwgIi4uL3pvZC92NC9jb3JlL3JlZ2lzdHJpZXMuanMiLCAiLi4vem9kL3Y0L2NvcmUvYXBpLmpzIiwgIi4uL3pvZC92NC9jb3JlL3RvLWpzb24tc2NoZW1hLmpzIiwgIi4uL3pvZC92NC9jb3JlL2pzb24tc2NoZW1hLmpzIiwgIi4uL3pvZC92NC9jbGFzc2ljL2lzby5qcyIsICIuLi96b2QvdjQvY2xhc3NpYy9lcnJvcnMuanMiLCAiLi4vem9kL3Y0L2NsYXNzaWMvcGFyc2UuanMiLCAiLi4vem9kL3Y0L2NsYXNzaWMvc2NoZW1hcy5qcyIsICIuLi96b2QvdjQvY2xhc3NpYy9jb21wYXQuanMiLCAiLi4vem9kL3Y0L2NsYXNzaWMvY29lcmNlLmpzIiwgIi4uL3pvZC92My9oZWxwZXJzL3V0aWwuanMiLCAiLi4vem9kL3YzL1pvZEVycm9yLmpzIiwgIi4uL3pvZC92My9sb2NhbGVzL2VuLmpzIiwgIi4uL3pvZC92My9lcnJvcnMuanMiLCAiLi4vem9kL3YzL2hlbHBlcnMvcGFyc2VVdGlsLmpzIiwgIi4uL3pvZC92My9oZWxwZXJzL2Vycm9yVXRpbC5qcyIsICIuLi96b2QvdjMvdHlwZXMuanMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvY29tYmluZS1oZWFkZXJzLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2NvbnZlcnQtYXN5bmMtaXRlcmF0b3ItdG8tcmVhZGFibGUtc3RyZWFtLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2RlbGF5LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2V4dHJhY3QtcmVzcG9uc2UtaGVhZGVycy50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9nZXQtcnVudGltZS1lbnZpcm9ubWVudC11c2VyLWFnZW50LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3JlbW92ZS11bmRlZmluZWQtZW50cmllcy50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy93aXRoLXVzZXItYWdlbnQtc3VmZml4LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2dlbmVyYXRlLWlkLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2dldC1lcnJvci1tZXNzYWdlLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2dldC1mcm9tLWFwaS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9oYW5kbGUtZmV0Y2gtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvaXMtYWJvcnQtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdmVyc2lvbi50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pbmplY3QtanNvbi1pbnN0cnVjdGlvbi50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pcy11cmwtc3VwcG9ydGVkLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2xvYWQtYXBpLWtleS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9sb2FkLW9wdGlvbmFsLXNldHRpbmcudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvbG9hZC1zZXR0aW5nLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL21lZGlhLXR5cGUtdG8tZXh0ZW5zaW9uLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3BhcnNlLWpzb24udHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvc2VjdXJlLWpzb24tcGFyc2UudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdmFsaWRhdGUtdHlwZXMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdmFsaWRhdG9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3BhcnNlLWpzb24tZXZlbnQtc3RyZWFtLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3BhcnNlLXByb3ZpZGVyLW9wdGlvbnMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvcG9zdC10by1hcGkudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdHlwZXMvdG9vbC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9wcm92aWRlci1kZWZpbmVkLXRvb2wtZmFjdG9yeS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9yZXNvbHZlLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3Jlc3BvbnNlLWhhbmRsZXIudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXNjaGVtYS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvZ2V0LXJlbGF0aXZlLXBhdGgudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL29wdGlvbnMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3NlbGVjdC1wYXJzZXIudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYW55LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FycmF5LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JpZ2ludC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9ib29sZWFuLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JyYW5kZWQudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvY2F0Y2gudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGF0ZS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2VmZmVjdHMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZW51bS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9pbnRlcnNlY3Rpb24udHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbGl0ZXJhbC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9yZWNvcmQudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvc3RyaW5nLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL21hcC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uYXRpdmUtZW51bS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uZXZlci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuaW9uLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bGxhYmxlLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bWJlci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vYmplY3QudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb3B0aW9uYWwudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcGlwZWxpbmUudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcHJvbWlzZS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zZXQudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdHVwbGUudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5kZWZpbmVkLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Vua25vd24udHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcmVhZG9ubHkudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlLWRlZi50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcmVmcy50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvem9kLXRvLWpzb24tc2NoZW1hLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9pbmRleC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9zY2hlbWEudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdWludDgtdXRpbHMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvd2l0aG91dC10cmFpbGluZy1zbGFzaC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pcy1hc3luYy1pdGVyYWJsZS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy90eXBlcy9leGVjdXRlLXRvb2wudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvaW5kZXgudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9nYXRld2F5LXByb3ZpZGVyLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2FzLWdhdGV3YXktZXJyb3IudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvY3JlYXRlLWdhdGV3YXktZXJyb3IudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvZ2F0ZXdheS1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LWF1dGhlbnRpY2F0aW9uLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2dhdGV3YXktaW52YWxpZC1yZXF1ZXN0LWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2dhdGV3YXktcmF0ZS1saW1pdC1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LW1vZGVsLW5vdC1mb3VuZC1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LWludGVybmFsLXNlcnZlci1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LXJlc3BvbnNlLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2V4dHJhY3QtYXBpLWNhbGwtcmVzcG9uc2UudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvcGFyc2UtYXV0aC1tZXRob2QudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9nYXRld2F5LWZldGNoLW1ldGFkYXRhLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZ2F0ZXdheS1sYW5ndWFnZS1tb2RlbC50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2dhdGV3YXktZW1iZWRkaW5nLW1vZGVsLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvdmVyY2VsLWVudmlyb25tZW50LnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvcGxhdGZvcm0vbm9kZS9nbG9iYWxUaGlzLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdmVyc2lvbi50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2ludGVybmFsL3NlbXZlci50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2ludGVybmFsL2dsb2JhbC11dGlscy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2RpYWcvQ29tcG9uZW50TG9nZ2VyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvZGlhZy90eXBlcy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2RpYWcvaW50ZXJuYWwvbG9nTGV2ZWxMb2dnZXIudHMiLCAiLi4vQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9hcGkvZGlhZy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2NvbnRleHQvY29udGV4dC50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2NvbnRleHQvTm9vcENvbnRleHRNYW5hZ2VyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvYXBpL2NvbnRleHQudHMiLCAiLi4vQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy90cmFjZS90cmFjZV9mbGFncy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL2ludmFsaWQtc3Bhbi1jb25zdGFudHMudHMiLCAiLi4vQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy90cmFjZS9Ob25SZWNvcmRpbmdTcGFuLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvY29udGV4dC11dGlscy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL3NwYW5jb250ZXh0LXV0aWxzLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvTm9vcFRyYWNlci50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL1Byb3h5VHJhY2VyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvTm9vcFRyYWNlclByb3ZpZGVyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvUHJveHlUcmFjZXJQcm92aWRlci50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL3N0YXR1cy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2FwaS90cmFjZS50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlLWFwaS50cyIsICIuLi9haS9zcmMvaW5kZXgudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLXRleHQvZ2VuZXJhdGUtdGV4dC50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8tb3V0cHV0LXNwZWNpZmllZC1lcnJvci50cyIsICIuLi9haS9zcmMvbG9nZ2VyL2xvZy13YXJuaW5ncy50cyIsICIuLi9haS9zcmMvbW9kZWwvcmVzb2x2ZS1tb2RlbC50cyIsICIuLi9haS9zcmMvZXJyb3IvaW5kZXgudHMiLCAiLi4vYWkvc3JjL2Vycm9yL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL2ludmFsaWQtc3RyZWFtLXBhcnQtZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL2ludmFsaWQtdG9vbC1pbnB1dC1lcnJvci50cyIsICIuLi9haS9zcmMvZXJyb3IvbWNwLWNsaWVudC1lcnJvci50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8taW1hZ2UtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9lcnJvci9uby1vYmplY3QtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9lcnJvci9uby1vdXRwdXQtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9lcnJvci9uby1zdWNoLXRvb2wtZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL3Rvb2wtY2FsbC1yZXBhaXItZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3IudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9pbnZhbGlkLWRhdGEtY29udGVudC1lcnJvci50cyIsICIuLi9haS9zcmMvcHJvbXB0L2ludmFsaWQtbWVzc2FnZS1yb2xlLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9wcm9tcHQvbWVzc2FnZS1jb252ZXJzaW9uLWVycm9yLnRzIiwgIi4uL2FpL3NyYy91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy91dGlsL3JldHJ5LWVycm9yLnRzIiwgIi4uL2FpL3NyYy9wcm9tcHQvY29udmVydC10by1sYW5ndWFnZS1tb2RlbC1wcm9tcHQudHMiLCAiLi4vYWkvc3JjL3V0aWwvZGV0ZWN0LW1lZGlhLXR5cGUudHMiLCAiLi4vYWkvc3JjL3V0aWwvZG93bmxvYWQvZG93bmxvYWQudHMiLCAiLi4vYWkvc3JjL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZnVuY3Rpb24udHMiLCAiLi4vYWkvc3JjL3Byb21wdC9kYXRhLWNvbnRlbnQudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9zcGxpdC1kYXRhLXVybC50cyIsICIuLi9haS9zcmMvcHJvbXB0L3ByZXBhcmUtY2FsbC1zZXR0aW5ncy50cyIsICIuLi9haS9zcmMvcHJvbXB0L3ByZXBhcmUtdG9vbHMtYW5kLXRvb2wtY2hvaWNlLnRzIiwgIi4uL2FpL3NyYy91dGlsL2lzLW5vbi1lbXB0eS1vYmplY3QudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9tZXNzYWdlLnRzIiwgIi4uL2FpL3NyYy90eXBlcy9wcm92aWRlci1tZXRhZGF0YS50cyIsICIuLi9haS9zcmMvdHlwZXMvanNvbi12YWx1ZS50cyIsICIuLi9haS9zcmMvcHJvbXB0L2NvbnRlbnQtcGFydC50cyIsICIuLi9haS9zcmMvcHJvbXB0L3dyYXAtZ2F0ZXdheS1lcnJvci50cyIsICIuLi9haS9zcmMvdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lLnRzIiwgIi4uL2FpL3NyYy90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMudHMiLCAiLi4vYWkvc3JjL3RlbGVtZXRyeS9nZXQtdHJhY2VyLnRzIiwgIi4uL2FpL3NyYy90ZWxlbWV0cnkvbm9vcC10cmFjZXIudHMiLCAiLi4vYWkvc3JjL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbi50cyIsICIuLi9haS9zcmMvdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcy50cyIsICIuLi9haS9zcmMvdGVsZW1ldHJ5L3N0cmluZ2lmeS1mb3ItdGVsZW1ldHJ5LnRzIiwgIi4uL2FpL3NyYy90eXBlcy91c2FnZS50cyIsICIuLi9haS9zcmMvdXRpbC9hcy1hcnJheS50cyIsICIuLi9haS9zcmMvdXRpbC9yZXRyeS13aXRoLWV4cG9uZW50aWFsLWJhY2tvZmYudHMiLCAiLi4vYWkvc3JjL3V0aWwvcHJlcGFyZS1yZXRyaWVzLnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L2V4dHJhY3QtdGV4dC1jb250ZW50LnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlZC1maWxlLnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L3BhcnNlLXRvb2wtY2FsbC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdGVwLXJlc3VsdC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdG9wLWNvbmRpdGlvbi50cyIsICIuLi9haS9zcmMvcHJvbXB0L2NyZWF0ZS10b29sLW1vZGVsLW91dHB1dC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC90by1yZXNwb25zZS1tZXNzYWdlcy50cyIsICIuLi9haS9zcmMvdmVyc2lvbi50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdHJlYW0tdGV4dC50cyIsICIuLi9haS9zcmMvdXRpbC9wcmVwYXJlLWhlYWRlcnMudHMiLCAiLi4vYWkvc3JjL3RleHQtc3RyZWFtL2NyZWF0ZS10ZXh0LXN0cmVhbS1yZXNwb25zZS50cyIsICIuLi9haS9zcmMvdXRpbC93cml0ZS10by1zZXJ2ZXItcmVzcG9uc2UudHMiLCAiLi4vYWkvc3JjL3RleHQtc3RyZWFtL3BpcGUtdGV4dC1zdHJlYW0tdG8tcmVzcG9uc2UudHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL2pzb24tdG8tc3NlLXRyYW5zZm9ybS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2Utc3RyZWFtLWhlYWRlcnMudHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL2NyZWF0ZS11aS1tZXNzYWdlLXN0cmVhbS1yZXNwb25zZS50cyIsICIuLi9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vZ2V0LXJlc3BvbnNlLXVpLW1lc3NhZ2UtaWQudHMiLCAiLi4vYWkvc3JjL3VpL3Byb2Nlc3MtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzLnRzIiwgIi4uL2FpL3NyYy91dGlsL21lcmdlLW9iamVjdHMudHMiLCAiLi4vYWkvc3JjL3V0aWwvcGFyc2UtcGFydGlhbC1qc29uLnRzIiwgIi4uL2FpL3NyYy91dGlsL2ZpeC1qc29uLnRzIiwgIi4uL2FpL3NyYy91aS91aS1tZXNzYWdlcy50cyIsICIuLi9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vaGFuZGxlLXVpLW1lc3NhZ2Utc3RyZWFtLWZpbmlzaC50cyIsICIuLi9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vcGlwZS11aS1tZXNzYWdlLXN0cmVhbS10by1yZXNwb25zZS50cyIsICIuLi9haS9zcmMvdXRpbC9hc3luYy1pdGVyYWJsZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3V0aWwvY29uc3VtZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3V0aWwvY3JlYXRlLXJlc29sdmFibGUtcHJvbWlzZS50cyIsICIuLi9haS9zcmMvdXRpbC9jcmVhdGUtc3RpdGNoYWJsZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3V0aWwvZGVsYXllZC1wcm9taXNlLnRzIiwgIi4uL2FpL3NyYy91dGlsL25vdy50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9ydW4tdG9vbHMtdHJhbnNmb3JtYXRpb24udHMiLCAiLi4vYWkvc3JjL3VpL2NvbnZlcnQtdG8tbW9kZWwtbWVzc2FnZXMudHMiLCAiLi4vYWkvc3JjL2FnZW50L2FnZW50LnRzIiwgIi4uL2FpL3NyYy9lbWJlZC9lbWJlZC50cyIsICIuLi9haS9zcmMvZW1iZWQvZW1iZWQtbWFueS50cyIsICIuLi9haS9zcmMvdXRpbC9zcGxpdC1hcnJheS50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtaW1hZ2UvZ2VuZXJhdGUtaW1hZ2UudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLW9iamVjdC9nZW5lcmF0ZS1vYmplY3QudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLXRleHQvZXh0cmFjdC1yZWFzb25pbmctY29udGVudC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtb2JqZWN0L291dHB1dC1zdHJhdGVneS50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtb2JqZWN0L3BhcnNlLWFuZC12YWxpZGF0ZS1vYmplY3QtcmVzdWx0LnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS1vYmplY3QvdmFsaWRhdGUtb2JqZWN0LWdlbmVyYXRpb24taW5wdXQudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLW9iamVjdC9zdHJlYW0tb2JqZWN0LnRzIiwgIi4uL2FpL3NyYy91dGlsL2Nvc2luZS1zaW1pbGFyaXR5LnRzIiwgIi4uL2FpL3NyYy91dGlsL2RhdGEtdXJsLnRzIiwgIi4uL2FpL3NyYy91dGlsL2lzLWRlZXAtZXF1YWwtZGF0YS50cyIsICIuLi9haS9zcmMvdXRpbC9zZXJpYWwtam9iLWV4ZWN1dG9yLnRzIiwgIi4uL2FpL3NyYy91dGlsL3NpbXVsYXRlLXJlYWRhYmxlLXN0cmVhbS50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtc3BlZWNoL2dlbmVyYXRlLXNwZWVjaC50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8tc3BlZWNoLWdlbmVyYXRlZC1lcnJvci50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtc3BlZWNoL2dlbmVyYXRlZC1hdWRpby1maWxlLnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L291dHB1dC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zbW9vdGgtc3RyZWFtLnRzIiwgIi4uL2FpL3NyYy9taWRkbGV3YXJlL2RlZmF1bHQtc2V0dGluZ3MtbWlkZGxld2FyZS50cyIsICIuLi9haS9zcmMvdXRpbC9nZXQtcG90ZW50aWFsLXN0YXJ0LWluZGV4LnRzIiwgIi4uL2FpL3NyYy9taWRkbGV3YXJlL2V4dHJhY3QtcmVhc29uaW5nLW1pZGRsZXdhcmUudHMiLCAiLi4vYWkvc3JjL21pZGRsZXdhcmUvc2ltdWxhdGUtc3RyZWFtaW5nLW1pZGRsZXdhcmUudHMiLCAiLi4vYWkvc3JjL21pZGRsZXdhcmUvd3JhcC1sYW5ndWFnZS1tb2RlbC50cyIsICIuLi9haS9zcmMvbWlkZGxld2FyZS93cmFwLXByb3ZpZGVyLnRzIiwgIi4uL2FpL3NyYy9yZWdpc3RyeS9jdXN0b20tcHJvdmlkZXIudHMiLCAiLi4vYWkvc3JjL3JlZ2lzdHJ5L25vLXN1Y2gtcHJvdmlkZXItZXJyb3IudHMiLCAiLi4vYWkvc3JjL3JlZ2lzdHJ5L3Byb3ZpZGVyLXJlZ2lzdHJ5LnRzIiwgIi4uL2FpL3NyYy90b29sL21jcC9tY3AtY2xpZW50LnRzIiwgIi4uL2FpL3NyYy90b29sL21jcC9tY3Atc3NlLXRyYW5zcG9ydC50cyIsICIuLi9haS9zcmMvdG9vbC9tY3AvanNvbi1ycGMtbWVzc2FnZS50cyIsICIuLi9haS9zcmMvdG9vbC9tY3AvdHlwZXMudHMiLCAiLi4vYWkvc3JjL3Rvb2wvbWNwL21jcC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3RyYW5zY3JpYmUvdHJhbnNjcmliZS50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8tdHJhbnNjcmlwdC1nZW5lcmF0ZWQtZXJyb3IudHMiLCAiLi4vYWkvc3JjL3VpL2NhbGwtY29tcGxldGlvbi1hcGkudHMiLCAiLi4vYWkvc3JjL3VpL3Byb2Nlc3MtdGV4dC1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpL2NoYXQudHMiLCAiLi4vYWkvc3JjL3VpL2NvbnZlcnQtZmlsZS1saXN0LXRvLWZpbGUtdWktcGFydHMudHMiLCAiLi4vYWkvc3JjL3VpL2RlZmF1bHQtY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3VpL2h0dHAtY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3VpL2xhc3QtYXNzaXN0YW50LW1lc3NhZ2UtaXMtY29tcGxldGUtd2l0aC10b29sLWNhbGxzLnRzIiwgIi4uL2FpL3NyYy91aS90cmFuc2Zvcm0tdGV4dC10by11aS1tZXNzYWdlLXN0cmVhbS50cyIsICIuLi9haS9zcmMvdWkvdGV4dC1zdHJlYW0tY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3VpL3ZhbGlkYXRlLXVpLW1lc3NhZ2VzLnRzIiwgIi4uL2FpL3NyYy91aS1tZXNzYWdlLXN0cmVhbS9jcmVhdGUtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3JlYWQtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vYmxpbmsvZGlzdC9hcGktX1JGU3czdDYuanMiLCAiLi4vcGcvZXNtL2luZGV4Lm1qcyIsICIuLi8uLi9kYi50cyIsICIuLi8uLi9wcm9tcHQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHNvdXJjZSwgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBuZXcgQXJyYXlQYXJzZXIoc291cmNlLCB0cmFuc2Zvcm0pLnBhcnNlKClcbn1cblxuY2xhc3MgQXJyYXlQYXJzZXIge1xuICBjb25zdHJ1Y3RvciAoc291cmNlLCB0cmFuc2Zvcm0pIHtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZVxuICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtIHx8IGlkZW50aXR5XG4gICAgdGhpcy5wb3NpdGlvbiA9IDBcbiAgICB0aGlzLmVudHJpZXMgPSBbXVxuICAgIHRoaXMucmVjb3JkZWQgPSBbXVxuICAgIHRoaXMuZGltZW5zaW9uID0gMFxuICB9XG5cbiAgaXNFb2YgKCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uID49IHRoaXMuc291cmNlLmxlbmd0aFxuICB9XG5cbiAgbmV4dENoYXJhY3RlciAoKSB7XG4gICAgdmFyIGNoYXJhY3RlciA9IHRoaXMuc291cmNlW3RoaXMucG9zaXRpb24rK11cbiAgICBpZiAoY2hhcmFjdGVyID09PSAnXFxcXCcpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnNvdXJjZVt0aGlzLnBvc2l0aW9uKytdLFxuICAgICAgICBlc2NhcGVkOiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogY2hhcmFjdGVyLFxuICAgICAgZXNjYXBlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICByZWNvcmQgKGNoYXJhY3Rlcikge1xuICAgIHRoaXMucmVjb3JkZWQucHVzaChjaGFyYWN0ZXIpXG4gIH1cblxuICBuZXdFbnRyeSAoaW5jbHVkZUVtcHR5KSB7XG4gICAgdmFyIGVudHJ5XG4gICAgaWYgKHRoaXMucmVjb3JkZWQubGVuZ3RoID4gMCB8fCBpbmNsdWRlRW1wdHkpIHtcbiAgICAgIGVudHJ5ID0gdGhpcy5yZWNvcmRlZC5qb2luKCcnKVxuICAgICAgaWYgKGVudHJ5ID09PSAnTlVMTCcgJiYgIWluY2x1ZGVFbXB0eSkge1xuICAgICAgICBlbnRyeSA9IG51bGxcbiAgICAgIH1cbiAgICAgIGlmIChlbnRyeSAhPT0gbnVsbCkgZW50cnkgPSB0aGlzLnRyYW5zZm9ybShlbnRyeSlcbiAgICAgIHRoaXMuZW50cmllcy5wdXNoKGVudHJ5KVxuICAgICAgdGhpcy5yZWNvcmRlZCA9IFtdXG4gICAgfVxuICB9XG5cbiAgY29uc3VtZURpbWVuc2lvbnMgKCkge1xuICAgIGlmICh0aGlzLnNvdXJjZVswXSA9PT0gJ1snKSB7XG4gICAgICB3aGlsZSAoIXRoaXMuaXNFb2YoKSkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMubmV4dENoYXJhY3RlcigpXG4gICAgICAgIGlmIChjaGFyLnZhbHVlID09PSAnPScpIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcGFyc2UgKG5lc3RlZCkge1xuICAgIHZhciBjaGFyYWN0ZXIsIHBhcnNlciwgcXVvdGVcbiAgICB0aGlzLmNvbnN1bWVEaW1lbnNpb25zKClcbiAgICB3aGlsZSAoIXRoaXMuaXNFb2YoKSkge1xuICAgICAgY2hhcmFjdGVyID0gdGhpcy5uZXh0Q2hhcmFjdGVyKClcbiAgICAgIGlmIChjaGFyYWN0ZXIudmFsdWUgPT09ICd7JyAmJiAhcXVvdGUpIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb24rK1xuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb24gPiAxKSB7XG4gICAgICAgICAgcGFyc2VyID0gbmV3IEFycmF5UGFyc2VyKHRoaXMuc291cmNlLnN1YnN0cih0aGlzLnBvc2l0aW9uIC0gMSksIHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgIHRoaXMuZW50cmllcy5wdXNoKHBhcnNlci5wYXJzZSh0cnVlKSlcbiAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IHBhcnNlci5wb3NpdGlvbiAtIDJcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIudmFsdWUgPT09ICd9JyAmJiAhcXVvdGUpIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb24tLVxuICAgICAgICBpZiAoIXRoaXMuZGltZW5zaW9uKSB7XG4gICAgICAgICAgdGhpcy5uZXdFbnRyeSgpXG4gICAgICAgICAgaWYgKG5lc3RlZCkgcmV0dXJuIHRoaXMuZW50cmllc1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci52YWx1ZSA9PT0gJ1wiJyAmJiAhY2hhcmFjdGVyLmVzY2FwZWQpIHtcbiAgICAgICAgaWYgKHF1b3RlKSB0aGlzLm5ld0VudHJ5KHRydWUpXG4gICAgICAgIHF1b3RlID0gIXF1b3RlXG4gICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci52YWx1ZSA9PT0gJywnICYmICFxdW90ZSkge1xuICAgICAgICB0aGlzLm5ld0VudHJ5KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVjb3JkKGNoYXJhY3Rlci52YWx1ZSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuZGltZW5zaW9uICE9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FycmF5IGRpbWVuc2lvbiBub3QgYmFsYW5jZWQnKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5lbnRyaWVzXG4gIH1cbn1cblxuZnVuY3Rpb24gaWRlbnRpdHkgKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZVxufVxuIiwgInZhciBhcnJheSA9IHJlcXVpcmUoJ3Bvc3RncmVzLWFycmF5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGU6IGZ1bmN0aW9uIChzb3VyY2UsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBhcnJheS5wYXJzZShzb3VyY2UsIHRyYW5zZm9ybSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbiIsICIndXNlIHN0cmljdCdcblxudmFyIERBVEVfVElNRSA9IC8oXFxkezEsfSktKFxcZHsyfSktKFxcZHsyfSkgKFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSkoXFwuXFxkezEsfSk/Lio/KCBCQyk/JC9cbnZhciBEQVRFID0gL14oXFxkezEsfSktKFxcZHsyfSktKFxcZHsyfSkoIEJDKT8kL1xudmFyIFRJTUVfWk9ORSA9IC8oW1orLV0pKFxcZHsyfSk/Oj8oXFxkezJ9KT86PyhcXGR7Mn0pPy9cbnZhciBJTkZJTklUWSA9IC9eLT9pbmZpbml0eSQvXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VEYXRlIChpc29EYXRlKSB7XG4gIGlmIChJTkZJTklUWS50ZXN0KGlzb0RhdGUpKSB7XG4gICAgLy8gQ2FwaXRhbGl6ZSB0byBJbmZpbml0eSBiZWZvcmUgcGFzc2luZyB0byBOdW1iZXJcbiAgICByZXR1cm4gTnVtYmVyKGlzb0RhdGUucmVwbGFjZSgnaScsICdJJykpXG4gIH1cbiAgdmFyIG1hdGNoZXMgPSBEQVRFX1RJTUUuZXhlYyhpc29EYXRlKVxuXG4gIGlmICghbWF0Y2hlcykge1xuICAgIC8vIEZvcmNlIFlZWVktTU0tREQgZGF0ZXMgdG8gYmUgcGFyc2VkIGFzIGxvY2FsIHRpbWVcbiAgICByZXR1cm4gZ2V0RGF0ZShpc29EYXRlKSB8fCBudWxsXG4gIH1cblxuICB2YXIgaXNCQyA9ICEhbWF0Y2hlc1s4XVxuICB2YXIgeWVhciA9IHBhcnNlSW50KG1hdGNoZXNbMV0sIDEwKVxuICBpZiAoaXNCQykge1xuICAgIHllYXIgPSBiY1llYXJUb05lZ2F0aXZlWWVhcih5ZWFyKVxuICB9XG5cbiAgdmFyIG1vbnRoID0gcGFyc2VJbnQobWF0Y2hlc1syXSwgMTApIC0gMVxuICB2YXIgZGF5ID0gbWF0Y2hlc1szXVxuICB2YXIgaG91ciA9IHBhcnNlSW50KG1hdGNoZXNbNF0sIDEwKVxuICB2YXIgbWludXRlID0gcGFyc2VJbnQobWF0Y2hlc1s1XSwgMTApXG4gIHZhciBzZWNvbmQgPSBwYXJzZUludChtYXRjaGVzWzZdLCAxMClcblxuICB2YXIgbXMgPSBtYXRjaGVzWzddXG4gIG1zID0gbXMgPyAxMDAwICogcGFyc2VGbG9hdChtcykgOiAwXG5cbiAgdmFyIGRhdGVcbiAgdmFyIG9mZnNldCA9IHRpbWVab25lT2Zmc2V0KGlzb0RhdGUpXG4gIGlmIChvZmZzZXQgIT0gbnVsbCkge1xuICAgIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgbXMpKVxuXG4gICAgLy8gQWNjb3VudCBmb3IgeWVhcnMgZnJvbSAwIHRvIDk5IGJlaW5nIGludGVycHJldGVkIGFzIDE5MDAtMTk5OVxuICAgIC8vIGJ5IERhdGUuVVRDIC8gdGhlIG11bHRpLWFyZ3VtZW50IGZvcm0gb2YgdGhlIERhdGUgY29uc3RydWN0b3JcbiAgICBpZiAoaXMwVG85OSh5ZWFyKSkge1xuICAgICAgZGF0ZS5zZXRVVENGdWxsWWVhcih5ZWFyKVxuICAgIH1cblxuICAgIGlmIChvZmZzZXQgIT09IDApIHtcbiAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSAtIG9mZnNldClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtcylcblxuICAgIGlmIChpczBUbzk5KHllYXIpKSB7XG4gICAgICBkYXRlLnNldEZ1bGxZZWFyKHllYXIpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRhdGVcbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZSAoaXNvRGF0ZSkge1xuICB2YXIgbWF0Y2hlcyA9IERBVEUuZXhlYyhpc29EYXRlKVxuICBpZiAoIW1hdGNoZXMpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciB5ZWFyID0gcGFyc2VJbnQobWF0Y2hlc1sxXSwgMTApXG4gIHZhciBpc0JDID0gISFtYXRjaGVzWzRdXG4gIGlmIChpc0JDKSB7XG4gICAgeWVhciA9IGJjWWVhclRvTmVnYXRpdmVZZWFyKHllYXIpXG4gIH1cblxuICB2YXIgbW9udGggPSBwYXJzZUludChtYXRjaGVzWzJdLCAxMCkgLSAxXG4gIHZhciBkYXkgPSBtYXRjaGVzWzNdXG4gIC8vIFlZWVktTU0tREQgd2lsbCBiZSBwYXJzZWQgYXMgbG9jYWwgdGltZVxuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpXG5cbiAgaWYgKGlzMFRvOTkoeWVhcikpIHtcbiAgICBkYXRlLnNldEZ1bGxZZWFyKHllYXIpXG4gIH1cblxuICByZXR1cm4gZGF0ZVxufVxuXG4vLyBtYXRjaCB0aW1lem9uZXM6XG4vLyBaIChVVEMpXG4vLyAtMDVcbi8vICswNjozMFxuZnVuY3Rpb24gdGltZVpvbmVPZmZzZXQgKGlzb0RhdGUpIHtcbiAgaWYgKGlzb0RhdGUuZW5kc1dpdGgoJyswMCcpKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuXG4gIHZhciB6b25lID0gVElNRV9aT05FLmV4ZWMoaXNvRGF0ZS5zcGxpdCgnICcpWzFdKVxuICBpZiAoIXpvbmUpIHJldHVyblxuICB2YXIgdHlwZSA9IHpvbmVbMV1cblxuICBpZiAodHlwZSA9PT0gJ1onKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICB2YXIgc2lnbiA9IHR5cGUgPT09ICctJyA/IC0xIDogMVxuICB2YXIgb2Zmc2V0ID0gcGFyc2VJbnQoem9uZVsyXSwgMTApICogMzYwMCArXG4gICAgcGFyc2VJbnQoem9uZVszXSB8fCAwLCAxMCkgKiA2MCArXG4gICAgcGFyc2VJbnQoem9uZVs0XSB8fCAwLCAxMClcblxuICByZXR1cm4gb2Zmc2V0ICogc2lnbiAqIDEwMDBcbn1cblxuZnVuY3Rpb24gYmNZZWFyVG9OZWdhdGl2ZVllYXIgKHllYXIpIHtcbiAgLy8gQWNjb3VudCBmb3IgbnVtZXJpY2FsIGRpZmZlcmVuY2UgYmV0d2VlbiByZXByZXNlbnRhdGlvbnMgb2YgQkMgeWVhcnNcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVuZHJ1Y2tlci9wb3N0Z3Jlcy1kYXRlL2lzc3Vlcy81XG4gIHJldHVybiAtKHllYXIgLSAxKVxufVxuXG5mdW5jdGlvbiBpczBUbzk5IChudW0pIHtcbiAgcmV0dXJuIG51bSA+PSAwICYmIG51bSA8IDEwMFxufVxuIiwgIm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kXG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldXG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldFxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG52YXIgZXh0ZW5kID0gcmVxdWlyZSgneHRlbmQvbXV0YWJsZScpXG5cbm1vZHVsZS5leHBvcnRzID0gUG9zdGdyZXNJbnRlcnZhbFxuXG5mdW5jdGlvbiBQb3N0Z3Jlc0ludGVydmFsIChyYXcpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBvc3RncmVzSW50ZXJ2YWwpKSB7XG4gICAgcmV0dXJuIG5ldyBQb3N0Z3Jlc0ludGVydmFsKHJhdylcbiAgfVxuICBleHRlbmQodGhpcywgcGFyc2UocmF3KSlcbn1cbnZhciBwcm9wZXJ0aWVzID0gWydzZWNvbmRzJywgJ21pbnV0ZXMnLCAnaG91cnMnLCAnZGF5cycsICdtb250aHMnLCAneWVhcnMnXVxuUG9zdGdyZXNJbnRlcnZhbC5wcm90b3R5cGUudG9Qb3N0Z3JlcyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZpbHRlcmVkID0gcHJvcGVydGllcy5maWx0ZXIodGhpcy5oYXNPd25Qcm9wZXJ0eSwgdGhpcylcblxuICAvLyBJbiBhZGRpdGlvbiB0byBgcHJvcGVydGllc2AsIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgZnJhY3Rpb25zIG9mIHNlY29uZHMuXG4gIGlmICh0aGlzLm1pbGxpc2Vjb25kcyAmJiBmaWx0ZXJlZC5pbmRleE9mKCdzZWNvbmRzJykgPCAwKSB7XG4gICAgZmlsdGVyZWQucHVzaCgnc2Vjb25kcycpXG4gIH1cblxuICBpZiAoZmlsdGVyZWQubGVuZ3RoID09PSAwKSByZXR1cm4gJzAnXG4gIHJldHVybiBmaWx0ZXJlZFxuICAgIC5tYXAoZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzW3Byb3BlcnR5XSB8fCAwXG5cbiAgICAgIC8vIEFjY291bnQgZm9yIGZyYWN0aW9uYWwgcGFydCBvZiBzZWNvbmRzLFxuICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nIHplcm9lcy5cbiAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3NlY29uZHMnICYmIHRoaXMubWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlICsgdGhpcy5taWxsaXNlY29uZHMgLyAxMDAwKS50b0ZpeGVkKDYpLnJlcGxhY2UoL1xcLj8wKyQvLCAnJylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlICsgJyAnICsgcHJvcGVydHlcbiAgICB9LCB0aGlzKVxuICAgIC5qb2luKCcgJylcbn1cblxudmFyIHByb3BlcnRpZXNJU09FcXVpdmFsZW50ID0ge1xuICB5ZWFyczogJ1knLFxuICBtb250aHM6ICdNJyxcbiAgZGF5czogJ0QnLFxuICBob3VyczogJ0gnLFxuICBtaW51dGVzOiAnTScsXG4gIHNlY29uZHM6ICdTJ1xufVxudmFyIGRhdGVQcm9wZXJ0aWVzID0gWyd5ZWFycycsICdtb250aHMnLCAnZGF5cyddXG52YXIgdGltZVByb3BlcnRpZXMgPSBbJ2hvdXJzJywgJ21pbnV0ZXMnLCAnc2Vjb25kcyddXG4vLyBhY2NvcmRpbmcgdG8gSVNPIDg2MDFcblBvc3RncmVzSW50ZXJ2YWwucHJvdG90eXBlLnRvSVNPU3RyaW5nID0gUG9zdGdyZXNJbnRlcnZhbC5wcm90b3R5cGUudG9JU08gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkYXRlUGFydCA9IGRhdGVQcm9wZXJ0aWVzXG4gICAgLm1hcChidWlsZFByb3BlcnR5LCB0aGlzKVxuICAgIC5qb2luKCcnKVxuXG4gIHZhciB0aW1lUGFydCA9IHRpbWVQcm9wZXJ0aWVzXG4gICAgLm1hcChidWlsZFByb3BlcnR5LCB0aGlzKVxuICAgIC5qb2luKCcnKVxuXG4gIHJldHVybiAnUCcgKyBkYXRlUGFydCArICdUJyArIHRpbWVQYXJ0XG5cbiAgZnVuY3Rpb24gYnVpbGRQcm9wZXJ0eSAocHJvcGVydHkpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzW3Byb3BlcnR5XSB8fCAwXG5cbiAgICAvLyBBY2NvdW50IGZvciBmcmFjdGlvbmFsIHBhcnQgb2Ygc2Vjb25kcyxcbiAgICAvLyByZW1vdmUgdHJhaWxpbmcgemVyb2VzLlxuICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3NlY29uZHMnICYmIHRoaXMubWlsbGlzZWNvbmRzKSB7XG4gICAgICB2YWx1ZSA9ICh2YWx1ZSArIHRoaXMubWlsbGlzZWNvbmRzIC8gMTAwMCkudG9GaXhlZCg2KS5yZXBsYWNlKC8wKyQvLCAnJylcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWUgKyBwcm9wZXJ0aWVzSVNPRXF1aXZhbGVudFtwcm9wZXJ0eV1cbiAgfVxufVxuXG52YXIgTlVNQkVSID0gJyhbKy1dP1xcXFxkKyknXG52YXIgWUVBUiA9IE5VTUJFUiArICdcXFxccyt5ZWFycz8nXG52YXIgTU9OVEggPSBOVU1CRVIgKyAnXFxcXHMrbW9ucz8nXG52YXIgREFZID0gTlVNQkVSICsgJ1xcXFxzK2RheXM/J1xudmFyIFRJTUUgPSAnKFsrLV0pPyhbXFxcXGRdKik6KFxcXFxkXFxcXGQpOihcXFxcZFxcXFxkKVxcXFwuPyhcXFxcZHsxLDZ9KT8nXG52YXIgSU5URVJWQUwgPSBuZXcgUmVnRXhwKFtZRUFSLCBNT05USCwgREFZLCBUSU1FXS5tYXAoZnVuY3Rpb24gKHJlZ2V4U3RyaW5nKSB7XG4gIHJldHVybiAnKCcgKyByZWdleFN0cmluZyArICcpPydcbn0pXG4gIC5qb2luKCdcXFxccyonKSlcblxuLy8gUG9zaXRpb25zIG9mIHZhbHVlcyBpbiByZWdleCBtYXRjaFxudmFyIHBvc2l0aW9ucyA9IHtcbiAgeWVhcnM6IDIsXG4gIG1vbnRoczogNCxcbiAgZGF5czogNixcbiAgaG91cnM6IDksXG4gIG1pbnV0ZXM6IDEwLFxuICBzZWNvbmRzOiAxMSxcbiAgbWlsbGlzZWNvbmRzOiAxMlxufVxuLy8gV2UgY2FuIHVzZSBuZWdhdGl2ZSB0aW1lXG52YXIgbmVnYXRpdmVzID0gWydob3VycycsICdtaW51dGVzJywgJ3NlY29uZHMnLCAnbWlsbGlzZWNvbmRzJ11cblxuZnVuY3Rpb24gcGFyc2VNaWxsaXNlY29uZHMgKGZyYWN0aW9uKSB7XG4gIC8vIGFkZCBvbWl0dGVkIHplcm9lc1xuICB2YXIgbWljcm9zZWNvbmRzID0gZnJhY3Rpb24gKyAnMDAwMDAwJy5zbGljZShmcmFjdGlvbi5sZW5ndGgpXG4gIHJldHVybiBwYXJzZUludChtaWNyb3NlY29uZHMsIDEwKSAvIDEwMDBcbn1cblxuZnVuY3Rpb24gcGFyc2UgKGludGVydmFsKSB7XG4gIGlmICghaW50ZXJ2YWwpIHJldHVybiB7fVxuICB2YXIgbWF0Y2hlcyA9IElOVEVSVkFMLmV4ZWMoaW50ZXJ2YWwpXG4gIHZhciBpc05lZ2F0aXZlID0gbWF0Y2hlc1s4XSA9PT0gJy0nXG4gIHJldHVybiBPYmplY3Qua2V5cyhwb3NpdGlvbnMpXG4gICAgLnJlZHVjZShmdW5jdGlvbiAocGFyc2VkLCBwcm9wZXJ0eSkge1xuICAgICAgdmFyIHBvc2l0aW9uID0gcG9zaXRpb25zW3Byb3BlcnR5XVxuICAgICAgdmFyIHZhbHVlID0gbWF0Y2hlc1twb3NpdGlvbl1cbiAgICAgIC8vIG5vIGVtcHR5IHN0cmluZ1xuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHBhcnNlZFxuICAgICAgLy8gbWlsbGlzZWNvbmRzIGFyZSBhY3R1YWxseSBtaWNyb3NlY29uZHMgKHVwIHRvIDYgZGlnaXRzKVxuICAgICAgLy8gd2l0aCBvbWl0dGVkIHRyYWlsaW5nIHplcm9lcy5cbiAgICAgIHZhbHVlID0gcHJvcGVydHkgPT09ICdtaWxsaXNlY29uZHMnXG4gICAgICAgID8gcGFyc2VNaWxsaXNlY29uZHModmFsdWUpXG4gICAgICAgIDogcGFyc2VJbnQodmFsdWUsIDEwKVxuICAgICAgLy8gbm8gemVyb3NcbiAgICAgIGlmICghdmFsdWUpIHJldHVybiBwYXJzZWRcbiAgICAgIGlmIChpc05lZ2F0aXZlICYmIH5uZWdhdGl2ZXMuaW5kZXhPZihwcm9wZXJ0eSkpIHtcbiAgICAgICAgdmFsdWUgKj0gLTFcbiAgICAgIH1cbiAgICAgIHBhcnNlZFtwcm9wZXJ0eV0gPSB2YWx1ZVxuICAgICAgcmV0dXJuIHBhcnNlZFxuICAgIH0sIHt9KVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlQnl0ZWEgKGlucHV0KSB7XG4gIGlmICgvXlxcXFx4Ly50ZXN0KGlucHV0KSkge1xuICAgIC8vIG5ldyAnaGV4JyBzdHlsZSByZXNwb25zZSAocGcgPjkuMClcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihpbnB1dC5zdWJzdHIoMiksICdoZXgnKVxuICB9XG4gIHZhciBvdXRwdXQgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICBpZiAoaW5wdXRbaV0gIT09ICdcXFxcJykge1xuICAgICAgb3V0cHV0ICs9IGlucHV0W2ldXG4gICAgICArK2lcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKC9bMC03XXszfS8udGVzdChpbnB1dC5zdWJzdHIoaSArIDEsIDMpKSkge1xuICAgICAgICBvdXRwdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChpbnB1dC5zdWJzdHIoaSArIDEsIDMpLCA4KSlcbiAgICAgICAgaSArPSA0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYmFja3NsYXNoZXMgPSAxXG4gICAgICAgIHdoaWxlIChpICsgYmFja3NsYXNoZXMgPCBpbnB1dC5sZW5ndGggJiYgaW5wdXRbaSArIGJhY2tzbGFzaGVzXSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgYmFja3NsYXNoZXMrK1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgTWF0aC5mbG9vcihiYWNrc2xhc2hlcyAvIDIpOyArK2spIHtcbiAgICAgICAgICBvdXRwdXQgKz0gJ1xcXFwnXG4gICAgICAgIH1cbiAgICAgICAgaSArPSBNYXRoLmZsb29yKGJhY2tzbGFzaGVzIC8gMikgKiAyXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgQnVmZmVyKG91dHB1dCwgJ2JpbmFyeScpXG59XG4iLCAidmFyIGFycmF5ID0gcmVxdWlyZSgncG9zdGdyZXMtYXJyYXknKVxudmFyIGFycmF5UGFyc2VyID0gcmVxdWlyZSgnLi9hcnJheVBhcnNlcicpO1xudmFyIHBhcnNlRGF0ZSA9IHJlcXVpcmUoJ3Bvc3RncmVzLWRhdGUnKTtcbnZhciBwYXJzZUludGVydmFsID0gcmVxdWlyZSgncG9zdGdyZXMtaW50ZXJ2YWwnKTtcbnZhciBwYXJzZUJ5dGVBID0gcmVxdWlyZSgncG9zdGdyZXMtYnl0ZWEnKTtcblxuZnVuY3Rpb24gYWxsb3dOdWxsIChmbikge1xuICByZXR1cm4gZnVuY3Rpb24gbnVsbEFsbG93ZWQgKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gdmFsdWVcbiAgICByZXR1cm4gZm4odmFsdWUpXG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VCb29sICh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiB2YWx1ZVxuICByZXR1cm4gdmFsdWUgPT09ICdUUlVFJyB8fFxuICAgIHZhbHVlID09PSAndCcgfHxcbiAgICB2YWx1ZSA9PT0gJ3RydWUnIHx8XG4gICAgdmFsdWUgPT09ICd5JyB8fFxuICAgIHZhbHVlID09PSAneWVzJyB8fFxuICAgIHZhbHVlID09PSAnb24nIHx8XG4gICAgdmFsdWUgPT09ICcxJztcbn1cblxuZnVuY3Rpb24gcGFyc2VCb29sQXJyYXkgKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsXG4gIHJldHVybiBhcnJheS5wYXJzZSh2YWx1ZSwgcGFyc2VCb29sKVxufVxuXG5mdW5jdGlvbiBwYXJzZUJhc2VUZW5JbnQgKHN0cmluZykge1xuICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nLCAxMClcbn1cblxuZnVuY3Rpb24gcGFyc2VJbnRlZ2VyQXJyYXkgKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsXG4gIHJldHVybiBhcnJheS5wYXJzZSh2YWx1ZSwgYWxsb3dOdWxsKHBhcnNlQmFzZVRlbkludCkpXG59XG5cbmZ1bmN0aW9uIHBhcnNlQmlnSW50ZWdlckFycmF5ICh2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gbnVsbFxuICByZXR1cm4gYXJyYXkucGFyc2UodmFsdWUsIGFsbG93TnVsbChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICByZXR1cm4gcGFyc2VCaWdJbnRlZ2VyKGVudHJ5KS50cmltKClcbiAgfSkpXG59XG5cbnZhciBwYXJzZVBvaW50QXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZighdmFsdWUpIHsgcmV0dXJuIG51bGw7IH1cbiAgdmFyIHAgPSBhcnJheVBhcnNlci5jcmVhdGUodmFsdWUsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgaWYoZW50cnkgIT09IG51bGwpIHtcbiAgICAgIGVudHJ5ID0gcGFyc2VQb2ludChlbnRyeSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyeTtcbiAgfSk7XG5cbiAgcmV0dXJuIHAucGFyc2UoKTtcbn07XG5cbnZhciBwYXJzZUZsb2F0QXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZighdmFsdWUpIHsgcmV0dXJuIG51bGw7IH1cbiAgdmFyIHAgPSBhcnJheVBhcnNlci5jcmVhdGUodmFsdWUsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgaWYoZW50cnkgIT09IG51bGwpIHtcbiAgICAgIGVudHJ5ID0gcGFyc2VGbG9hdChlbnRyeSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyeTtcbiAgfSk7XG5cbiAgcmV0dXJuIHAucGFyc2UoKTtcbn07XG5cbnZhciBwYXJzZVN0cmluZ0FycmF5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYoIXZhbHVlKSB7IHJldHVybiBudWxsOyB9XG5cbiAgdmFyIHAgPSBhcnJheVBhcnNlci5jcmVhdGUodmFsdWUpO1xuICByZXR1cm4gcC5wYXJzZSgpO1xufTtcblxudmFyIHBhcnNlRGF0ZUFycmF5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gIHZhciBwID0gYXJyYXlQYXJzZXIuY3JlYXRlKHZhbHVlLCBmdW5jdGlvbihlbnRyeSkge1xuICAgIGlmIChlbnRyeSAhPT0gbnVsbCkge1xuICAgICAgZW50cnkgPSBwYXJzZURhdGUoZW50cnkpO1xuICAgIH1cbiAgICByZXR1cm4gZW50cnk7XG4gIH0pO1xuXG4gIHJldHVybiBwLnBhcnNlKCk7XG59O1xuXG52YXIgcGFyc2VJbnRlcnZhbEFycmF5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gIHZhciBwID0gYXJyYXlQYXJzZXIuY3JlYXRlKHZhbHVlLCBmdW5jdGlvbihlbnRyeSkge1xuICAgIGlmIChlbnRyeSAhPT0gbnVsbCkge1xuICAgICAgZW50cnkgPSBwYXJzZUludGVydmFsKGVudHJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJ5O1xuICB9KTtcblxuICByZXR1cm4gcC5wYXJzZSgpO1xufTtcblxudmFyIHBhcnNlQnl0ZUFBcnJheSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHsgcmV0dXJuIG51bGw7IH1cblxuICByZXR1cm4gYXJyYXkucGFyc2UodmFsdWUsIGFsbG93TnVsbChwYXJzZUJ5dGVBKSk7XG59O1xuXG52YXIgcGFyc2VJbnRlZ2VyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XG59O1xuXG52YXIgcGFyc2VCaWdJbnRlZ2VyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIHZhbFN0ciA9IFN0cmluZyh2YWx1ZSk7XG4gIGlmICgvXlxcZCskLy50ZXN0KHZhbFN0cikpIHsgcmV0dXJuIHZhbFN0cjsgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgcGFyc2VKc29uQXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSB7IHJldHVybiBudWxsOyB9XG5cbiAgcmV0dXJuIGFycmF5LnBhcnNlKHZhbHVlLCBhbGxvd051bGwoSlNPTi5wYXJzZSkpO1xufTtcblxudmFyIHBhcnNlUG9pbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodmFsdWVbMF0gIT09ICcoJykgeyByZXR1cm4gbnVsbDsgfVxuXG4gIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKCAxLCB2YWx1ZS5sZW5ndGggLSAxICkuc3BsaXQoJywnKTtcblxuICByZXR1cm4ge1xuICAgIHg6IHBhcnNlRmxvYXQodmFsdWVbMF0pXG4gICwgeTogcGFyc2VGbG9hdCh2YWx1ZVsxXSlcbiAgfTtcbn07XG5cbnZhciBwYXJzZUNpcmNsZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICh2YWx1ZVswXSAhPT0gJzwnICYmIHZhbHVlWzFdICE9PSAnKCcpIHsgcmV0dXJuIG51bGw7IH1cblxuICB2YXIgcG9pbnQgPSAnKCc7XG4gIHZhciByYWRpdXMgPSAnJztcbiAgdmFyIHBvaW50UGFyc2VkID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSAyOyBpIDwgdmFsdWUubGVuZ3RoIC0gMTsgaSsrKXtcbiAgICBpZiAoIXBvaW50UGFyc2VkKSB7XG4gICAgICBwb2ludCArPSB2YWx1ZVtpXTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWVbaV0gPT09ICcpJykge1xuICAgICAgcG9pbnRQYXJzZWQgPSB0cnVlO1xuICAgICAgY29udGludWU7XG4gICAgfSBlbHNlIGlmICghcG9pbnRQYXJzZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZVtpXSA9PT0gJywnKXtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJhZGl1cyArPSB2YWx1ZVtpXTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gcGFyc2VQb2ludChwb2ludCk7XG4gIHJlc3VsdC5yYWRpdXMgPSBwYXJzZUZsb2F0KHJhZGl1cyk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBpbml0ID0gZnVuY3Rpb24ocmVnaXN0ZXIpIHtcbiAgcmVnaXN0ZXIoMjAsIHBhcnNlQmlnSW50ZWdlcik7IC8vIGludDhcbiAgcmVnaXN0ZXIoMjEsIHBhcnNlSW50ZWdlcik7IC8vIGludDJcbiAgcmVnaXN0ZXIoMjMsIHBhcnNlSW50ZWdlcik7IC8vIGludDRcbiAgcmVnaXN0ZXIoMjYsIHBhcnNlSW50ZWdlcik7IC8vIG9pZFxuICByZWdpc3Rlcig3MDAsIHBhcnNlRmxvYXQpOyAvLyBmbG9hdDQvcmVhbFxuICByZWdpc3Rlcig3MDEsIHBhcnNlRmxvYXQpOyAvLyBmbG9hdDgvZG91YmxlXG4gIHJlZ2lzdGVyKDE2LCBwYXJzZUJvb2wpO1xuICByZWdpc3RlcigxMDgyLCBwYXJzZURhdGUpOyAvLyBkYXRlXG4gIHJlZ2lzdGVyKDExMTQsIHBhcnNlRGF0ZSk7IC8vIHRpbWVzdGFtcCB3aXRob3V0IHRpbWV6b25lXG4gIHJlZ2lzdGVyKDExODQsIHBhcnNlRGF0ZSk7IC8vIHRpbWVzdGFtcFxuICByZWdpc3Rlcig2MDAsIHBhcnNlUG9pbnQpOyAvLyBwb2ludFxuICByZWdpc3Rlcig2NTEsIHBhcnNlU3RyaW5nQXJyYXkpOyAvLyBjaWRyW11cbiAgcmVnaXN0ZXIoNzE4LCBwYXJzZUNpcmNsZSk7IC8vIGNpcmNsZVxuICByZWdpc3RlcigxMDAwLCBwYXJzZUJvb2xBcnJheSk7XG4gIHJlZ2lzdGVyKDEwMDEsIHBhcnNlQnl0ZUFBcnJheSk7XG4gIHJlZ2lzdGVyKDEwMDUsIHBhcnNlSW50ZWdlckFycmF5KTsgLy8gX2ludDJcbiAgcmVnaXN0ZXIoMTAwNywgcGFyc2VJbnRlZ2VyQXJyYXkpOyAvLyBfaW50NFxuICByZWdpc3RlcigxMDI4LCBwYXJzZUludGVnZXJBcnJheSk7IC8vIG9pZFtdXG4gIHJlZ2lzdGVyKDEwMTYsIHBhcnNlQmlnSW50ZWdlckFycmF5KTsgLy8gX2ludDhcbiAgcmVnaXN0ZXIoMTAxNywgcGFyc2VQb2ludEFycmF5KTsgLy8gcG9pbnRbXVxuICByZWdpc3RlcigxMDIxLCBwYXJzZUZsb2F0QXJyYXkpOyAvLyBfZmxvYXQ0XG4gIHJlZ2lzdGVyKDEwMjIsIHBhcnNlRmxvYXRBcnJheSk7IC8vIF9mbG9hdDhcbiAgcmVnaXN0ZXIoMTIzMSwgcGFyc2VGbG9hdEFycmF5KTsgLy8gX251bWVyaWNcbiAgcmVnaXN0ZXIoMTAxNCwgcGFyc2VTdHJpbmdBcnJheSk7IC8vY2hhclxuICByZWdpc3RlcigxMDE1LCBwYXJzZVN0cmluZ0FycmF5KTsgLy92YXJjaGFyXG4gIHJlZ2lzdGVyKDEwMDgsIHBhcnNlU3RyaW5nQXJyYXkpO1xuICByZWdpc3RlcigxMDA5LCBwYXJzZVN0cmluZ0FycmF5KTtcbiAgcmVnaXN0ZXIoMTA0MCwgcGFyc2VTdHJpbmdBcnJheSk7IC8vIG1hY2FkZHJbXVxuICByZWdpc3RlcigxMDQxLCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gaW5ldFtdXG4gIHJlZ2lzdGVyKDExMTUsIHBhcnNlRGF0ZUFycmF5KTsgLy8gdGltZXN0YW1wIHdpdGhvdXQgdGltZSB6b25lW11cbiAgcmVnaXN0ZXIoMTE4MiwgcGFyc2VEYXRlQXJyYXkpOyAvLyBfZGF0ZVxuICByZWdpc3RlcigxMTg1LCBwYXJzZURhdGVBcnJheSk7IC8vIHRpbWVzdGFtcCB3aXRoIHRpbWUgem9uZVtdXG4gIHJlZ2lzdGVyKDExODYsIHBhcnNlSW50ZXJ2YWwpO1xuICByZWdpc3RlcigxMTg3LCBwYXJzZUludGVydmFsQXJyYXkpO1xuICByZWdpc3RlcigxNywgcGFyc2VCeXRlQSk7XG4gIHJlZ2lzdGVyKDExNCwgSlNPTi5wYXJzZS5iaW5kKEpTT04pKTsgLy8ganNvblxuICByZWdpc3RlcigzODAyLCBKU09OLnBhcnNlLmJpbmQoSlNPTikpOyAvLyBqc29uYlxuICByZWdpc3RlcigxOTksIHBhcnNlSnNvbkFycmF5KTsgLy8ganNvbltdXG4gIHJlZ2lzdGVyKDM4MDcsIHBhcnNlSnNvbkFycmF5KTsgLy8ganNvbmJbXVxuICByZWdpc3RlcigzOTA3LCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gbnVtcmFuZ2VbXVxuICByZWdpc3RlcigyOTUxLCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gdXVpZFtdXG4gIHJlZ2lzdGVyKDc5MSwgcGFyc2VTdHJpbmdBcnJheSk7IC8vIG1vbmV5W11cbiAgcmVnaXN0ZXIoMTE4MywgcGFyc2VTdHJpbmdBcnJheSk7IC8vIHRpbWVbXVxuICByZWdpc3RlcigxMjcwLCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gdGltZXR6W11cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpbml0OiBpbml0XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLy8gc2VsZWN0ZWQgc28gKEJBU0UgLSAxKSAqIDB4MTAwMDAwMDAwICsgMHhmZmZmZmZmZiBpcyBhIHNhZmUgaW50ZWdlclxudmFyIEJBU0UgPSAxMDAwMDAwO1xuXG5mdW5jdGlvbiByZWFkSW50OChidWZmZXIpIHtcblx0dmFyIGhpZ2ggPSBidWZmZXIucmVhZEludDMyQkUoMCk7XG5cdHZhciBsb3cgPSBidWZmZXIucmVhZFVJbnQzMkJFKDQpO1xuXHR2YXIgc2lnbiA9ICcnO1xuXG5cdGlmIChoaWdoIDwgMCkge1xuXHRcdGhpZ2ggPSB+aGlnaCArIChsb3cgPT09IDApO1xuXHRcdGxvdyA9ICh+bG93ICsgMSkgPj4+IDA7XG5cdFx0c2lnbiA9ICctJztcblx0fVxuXG5cdHZhciByZXN1bHQgPSAnJztcblx0dmFyIGNhcnJ5O1xuXHR2YXIgdDtcblx0dmFyIGRpZ2l0cztcblx0dmFyIHBhZDtcblx0dmFyIGw7XG5cdHZhciBpO1xuXG5cdHtcblx0XHRjYXJyeSA9IGhpZ2ggJSBCQVNFO1xuXHRcdGhpZ2ggPSBoaWdoIC8gQkFTRSA+Pj4gMDtcblxuXHRcdHQgPSAweDEwMDAwMDAwMCAqIGNhcnJ5ICsgbG93O1xuXHRcdGxvdyA9IHQgLyBCQVNFID4+PiAwO1xuXHRcdGRpZ2l0cyA9ICcnICsgKHQgLSBCQVNFICogbG93KTtcblxuXHRcdGlmIChsb3cgPT09IDAgJiYgaGlnaCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHNpZ24gKyBkaWdpdHMgKyByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0cGFkID0gJyc7XG5cdFx0bCA9IDYgLSBkaWdpdHMubGVuZ3RoO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuXHRcdFx0cGFkICs9ICcwJztcblx0XHR9XG5cblx0XHRyZXN1bHQgPSBwYWQgKyBkaWdpdHMgKyByZXN1bHQ7XG5cdH1cblxuXHR7XG5cdFx0Y2FycnkgPSBoaWdoICUgQkFTRTtcblx0XHRoaWdoID0gaGlnaCAvIEJBU0UgPj4+IDA7XG5cblx0XHR0ID0gMHgxMDAwMDAwMDAgKiBjYXJyeSArIGxvdztcblx0XHRsb3cgPSB0IC8gQkFTRSA+Pj4gMDtcblx0XHRkaWdpdHMgPSAnJyArICh0IC0gQkFTRSAqIGxvdyk7XG5cblx0XHRpZiAobG93ID09PSAwICYmIGhpZ2ggPT09IDApIHtcblx0XHRcdHJldHVybiBzaWduICsgZGlnaXRzICsgcmVzdWx0O1xuXHRcdH1cblxuXHRcdHBhZCA9ICcnO1xuXHRcdGwgPSA2IC0gZGlnaXRzLmxlbmd0aDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcblx0XHRcdHBhZCArPSAnMCc7XG5cdFx0fVxuXG5cdFx0cmVzdWx0ID0gcGFkICsgZGlnaXRzICsgcmVzdWx0O1xuXHR9XG5cblx0e1xuXHRcdGNhcnJ5ID0gaGlnaCAlIEJBU0U7XG5cdFx0aGlnaCA9IGhpZ2ggLyBCQVNFID4+PiAwO1xuXG5cdFx0dCA9IDB4MTAwMDAwMDAwICogY2FycnkgKyBsb3c7XG5cdFx0bG93ID0gdCAvIEJBU0UgPj4+IDA7XG5cdFx0ZGlnaXRzID0gJycgKyAodCAtIEJBU0UgKiBsb3cpO1xuXG5cdFx0aWYgKGxvdyA9PT0gMCAmJiBoaWdoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gc2lnbiArIGRpZ2l0cyArIHJlc3VsdDtcblx0XHR9XG5cblx0XHRwYWQgPSAnJztcblx0XHRsID0gNiAtIGRpZ2l0cy5sZW5ndGg7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRwYWQgKz0gJzAnO1xuXHRcdH1cblxuXHRcdHJlc3VsdCA9IHBhZCArIGRpZ2l0cyArIHJlc3VsdDtcblx0fVxuXG5cdHtcblx0XHRjYXJyeSA9IGhpZ2ggJSBCQVNFO1xuXHRcdHQgPSAweDEwMDAwMDAwMCAqIGNhcnJ5ICsgbG93O1xuXHRcdGRpZ2l0cyA9ICcnICsgdCAlIEJBU0U7XG5cblx0XHRyZXR1cm4gc2lnbiArIGRpZ2l0cyArIHJlc3VsdDtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlYWRJbnQ4O1xuIiwgInZhciBwYXJzZUludDY0ID0gcmVxdWlyZSgncGctaW50OCcpO1xuXG52YXIgcGFyc2VCaXRzID0gZnVuY3Rpb24oZGF0YSwgYml0cywgb2Zmc2V0LCBpbnZlcnQsIGNhbGxiYWNrKSB7XG4gIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICBpbnZlcnQgPSBpbnZlcnQgfHwgZmFsc2U7XG4gIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24obGFzdFZhbHVlLCBuZXdWYWx1ZSwgYml0cykgeyByZXR1cm4gKGxhc3RWYWx1ZSAqIE1hdGgucG93KDIsIGJpdHMpKSArIG5ld1ZhbHVlOyB9O1xuICB2YXIgb2Zmc2V0Qnl0ZXMgPSBvZmZzZXQgPj4gMztcblxuICB2YXIgaW52ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaW52ZXJ0KSB7XG4gICAgICByZXR1cm4gfnZhbHVlICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLy8gcmVhZCBmaXJzdCAobWF5YmUgcGFydGlhbCkgYnl0ZVxuICB2YXIgbWFzayA9IDB4ZmY7XG4gIHZhciBmaXJzdEJpdHMgPSA4IC0gKG9mZnNldCAlIDgpO1xuICBpZiAoYml0cyA8IGZpcnN0Qml0cykge1xuICAgIG1hc2sgPSAoMHhmZiA8PCAoOCAtIGJpdHMpKSAmIDB4ZmY7XG4gICAgZmlyc3RCaXRzID0gYml0cztcbiAgfVxuXG4gIGlmIChvZmZzZXQpIHtcbiAgICBtYXNrID0gbWFzayA+PiAob2Zmc2V0ICUgOCk7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gMDtcbiAgaWYgKChvZmZzZXQgJSA4KSArIGJpdHMgPj0gOCkge1xuICAgIHJlc3VsdCA9IGNhbGxiYWNrKDAsIGludihkYXRhW29mZnNldEJ5dGVzXSkgJiBtYXNrLCBmaXJzdEJpdHMpO1xuICB9XG5cbiAgLy8gcmVhZCBieXRlc1xuICB2YXIgYnl0ZXMgPSAoYml0cyArIG9mZnNldCkgPj4gMztcbiAgZm9yICh2YXIgaSA9IG9mZnNldEJ5dGVzICsgMTsgaSA8IGJ5dGVzOyBpKyspIHtcbiAgICByZXN1bHQgPSBjYWxsYmFjayhyZXN1bHQsIGludihkYXRhW2ldKSwgOCk7XG4gIH1cblxuICAvLyBiaXRzIHRvIHJlYWQsIHRoYXQgYXJlIG5vdCBhIGNvbXBsZXRlIGJ5dGVcbiAgdmFyIGxhc3RCaXRzID0gKGJpdHMgKyBvZmZzZXQpICUgODtcbiAgaWYgKGxhc3RCaXRzID4gMCkge1xuICAgIHJlc3VsdCA9IGNhbGxiYWNrKHJlc3VsdCwgaW52KGRhdGFbYnl0ZXNdKSA+PiAoOCAtIGxhc3RCaXRzKSwgbGFzdEJpdHMpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBwYXJzZUZsb2F0RnJvbUJpdHMgPSBmdW5jdGlvbihkYXRhLCBwcmVjaXNpb25CaXRzLCBleHBvbmVudEJpdHMpIHtcbiAgdmFyIGJpYXMgPSBNYXRoLnBvdygyLCBleHBvbmVudEJpdHMgLSAxKSAtIDE7XG4gIHZhciBzaWduID0gcGFyc2VCaXRzKGRhdGEsIDEpO1xuICB2YXIgZXhwb25lbnQgPSBwYXJzZUJpdHMoZGF0YSwgZXhwb25lbnRCaXRzLCAxKTtcblxuICBpZiAoZXhwb25lbnQgPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8vIHBhcnNlIG1hbnRpc3NhXG4gIHZhciBwcmVjaXNpb25CaXRzQ291bnRlciA9IDE7XG4gIHZhciBwYXJzZVByZWNpc2lvbkJpdHMgPSBmdW5jdGlvbihsYXN0VmFsdWUsIG5ld1ZhbHVlLCBiaXRzKSB7XG4gICAgaWYgKGxhc3RWYWx1ZSA9PT0gMCkge1xuICAgICAgbGFzdFZhbHVlID0gMTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBiaXRzOyBpKyspIHtcbiAgICAgIHByZWNpc2lvbkJpdHNDb3VudGVyIC89IDI7XG4gICAgICBpZiAoKG5ld1ZhbHVlICYgKDB4MSA8PCAoYml0cyAtIGkpKSkgPiAwKSB7XG4gICAgICAgIGxhc3RWYWx1ZSArPSBwcmVjaXNpb25CaXRzQ291bnRlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdFZhbHVlO1xuICB9O1xuXG4gIHZhciBtYW50aXNzYSA9IHBhcnNlQml0cyhkYXRhLCBwcmVjaXNpb25CaXRzLCBleHBvbmVudEJpdHMgKyAxLCBmYWxzZSwgcGFyc2VQcmVjaXNpb25CaXRzKTtcblxuICAvLyBzcGVjaWFsIGNhc2VzXG4gIGlmIChleHBvbmVudCA9PSAoTWF0aC5wb3coMiwgZXhwb25lbnRCaXRzICsgMSkgLSAxKSkge1xuICAgIGlmIChtYW50aXNzYSA9PT0gMCkge1xuICAgICAgcmV0dXJuIChzaWduID09PSAwKSA/IEluZmluaXR5IDogLUluZmluaXR5O1xuICAgIH1cblxuICAgIHJldHVybiBOYU47XG4gIH1cblxuICAvLyBub3JtYWxlIG51bWJlclxuICByZXR1cm4gKChzaWduID09PSAwKSA/IDEgOiAtMSkgKiBNYXRoLnBvdygyLCBleHBvbmVudCAtIGJpYXMpICogbWFudGlzc2E7XG59O1xuXG52YXIgcGFyc2VJbnQxNiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmIChwYXJzZUJpdHModmFsdWUsIDEpID09IDEpIHtcbiAgICByZXR1cm4gLTEgKiAocGFyc2VCaXRzKHZhbHVlLCAxNSwgMSwgdHJ1ZSkgKyAxKTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZUJpdHModmFsdWUsIDE1LCAxKTtcbn07XG5cbnZhciBwYXJzZUludDMyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKHBhcnNlQml0cyh2YWx1ZSwgMSkgPT0gMSkge1xuICAgIHJldHVybiAtMSAqIChwYXJzZUJpdHModmFsdWUsIDMxLCAxLCB0cnVlKSArIDEpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlQml0cyh2YWx1ZSwgMzEsIDEpO1xufTtcblxudmFyIHBhcnNlRmxvYXQzMiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBwYXJzZUZsb2F0RnJvbUJpdHModmFsdWUsIDIzLCA4KTtcbn07XG5cbnZhciBwYXJzZUZsb2F0NjQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gcGFyc2VGbG9hdEZyb21CaXRzKHZhbHVlLCA1MiwgMTEpO1xufTtcblxudmFyIHBhcnNlTnVtZXJpYyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBzaWduID0gcGFyc2VCaXRzKHZhbHVlLCAxNiwgMzIpO1xuICBpZiAoc2lnbiA9PSAweGMwMDApIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG5cbiAgdmFyIHdlaWdodCA9IE1hdGgucG93KDEwMDAwLCBwYXJzZUJpdHModmFsdWUsIDE2LCAxNikpO1xuICB2YXIgcmVzdWx0ID0gMDtcblxuICB2YXIgZGlnaXRzID0gW107XG4gIHZhciBuZGlnaXRzID0gcGFyc2VCaXRzKHZhbHVlLCAxNik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbmRpZ2l0czsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IHBhcnNlQml0cyh2YWx1ZSwgMTYsIDY0ICsgKDE2ICogaSkpICogd2VpZ2h0O1xuICAgIHdlaWdodCAvPSAxMDAwMDtcbiAgfVxuXG4gIHZhciBzY2FsZSA9IE1hdGgucG93KDEwLCBwYXJzZUJpdHModmFsdWUsIDE2LCA0OCkpO1xuICByZXR1cm4gKChzaWduID09PSAwKSA/IDEgOiAtMSkgKiBNYXRoLnJvdW5kKHJlc3VsdCAqIHNjYWxlKSAvIHNjYWxlO1xufTtcblxudmFyIHBhcnNlRGF0ZSA9IGZ1bmN0aW9uKGlzVVRDLCB2YWx1ZSkge1xuICB2YXIgc2lnbiA9IHBhcnNlQml0cyh2YWx1ZSwgMSk7XG4gIHZhciByYXdWYWx1ZSA9IHBhcnNlQml0cyh2YWx1ZSwgNjMsIDEpO1xuXG4gIC8vIGRpc2NhcmQgdXNlY3MgYW5kIHNoaWZ0IGZyb20gMjAwMCB0byAxOTcwXG4gIHZhciByZXN1bHQgPSBuZXcgRGF0ZSgoKChzaWduID09PSAwKSA/IDEgOiAtMSkgKiByYXdWYWx1ZSAvIDEwMDApICsgOTQ2Njg0ODAwMDAwKTtcblxuICBpZiAoIWlzVVRDKSB7XG4gICAgcmVzdWx0LnNldFRpbWUocmVzdWx0LmdldFRpbWUoKSArIHJlc3VsdC5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xuICB9XG5cbiAgLy8gYWRkIG1pY3Jvc2Vjb25kcyB0byB0aGUgZGF0ZVxuICByZXN1bHQudXNlYyA9IHJhd1ZhbHVlICUgMTAwMDtcbiAgcmVzdWx0LmdldE1pY3JvU2Vjb25kcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnVzZWM7XG4gIH07XG4gIHJlc3VsdC5zZXRNaWNyb1NlY29uZHMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXMudXNlYyA9IHZhbHVlO1xuICB9O1xuICByZXN1bHQuZ2V0VVRDTWljcm9TZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlYztcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHBhcnNlQXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgZGltID0gcGFyc2VCaXRzKHZhbHVlLCAzMik7XG5cbiAgdmFyIGZsYWdzID0gcGFyc2VCaXRzKHZhbHVlLCAzMiwgMzIpO1xuICB2YXIgZWxlbWVudFR5cGUgPSBwYXJzZUJpdHModmFsdWUsIDMyLCA2NCk7XG5cbiAgdmFyIG9mZnNldCA9IDk2O1xuICB2YXIgZGltcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbTsgaSsrKSB7XG4gICAgLy8gcGFyc2UgZGltZW5zaW9uXG4gICAgZGltc1tpXSA9IHBhcnNlQml0cyh2YWx1ZSwgMzIsIG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IDMyO1xuXG4gICAgLy8gaWdub3JlIGxvd2VyIGJvdW5kc1xuICAgIG9mZnNldCArPSAzMjtcbiAgfVxuXG4gIHZhciBwYXJzZUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50VHlwZSkge1xuICAgIC8vIHBhcnNlIGNvbnRlbnQgbGVuZ3RoXG4gICAgdmFyIGxlbmd0aCA9IHBhcnNlQml0cyh2YWx1ZSwgMzIsIG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IDMyO1xuXG4gICAgLy8gcGFyc2UgbnVsbCB2YWx1ZXNcbiAgICBpZiAobGVuZ3RoID09IDB4ZmZmZmZmZmYpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKChlbGVtZW50VHlwZSA9PSAweDE3KSB8fCAoZWxlbWVudFR5cGUgPT0gMHgxNCkpIHtcbiAgICAgIC8vIGludC9iaWdpbnRcbiAgICAgIHJlc3VsdCA9IHBhcnNlQml0cyh2YWx1ZSwgbGVuZ3RoICogOCwgb2Zmc2V0KTtcbiAgICAgIG9mZnNldCArPSBsZW5ndGggKiA4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZWxlbWVudFR5cGUgPT0gMHgxOSkge1xuICAgICAgLy8gc3RyaW5nXG4gICAgICByZXN1bHQgPSB2YWx1ZS50b1N0cmluZyh0aGlzLmVuY29kaW5nLCBvZmZzZXQgPj4gMywgKG9mZnNldCArPSAobGVuZ3RoIDw8IDMpKSA+PiAzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJFUlJPUjogRWxlbWVudFR5cGUgbm90IGltcGxlbWVudGVkOiBcIiArIGVsZW1lbnRUeXBlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHBhcnNlID0gZnVuY3Rpb24oZGltZW5zaW9uLCBlbGVtZW50VHlwZSkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIHZhciBpO1xuXG4gICAgaWYgKGRpbWVuc2lvbi5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgY291bnQgPSBkaW1lbnNpb24uc2hpZnQoKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gcGFyc2UoZGltZW5zaW9uLCBlbGVtZW50VHlwZSk7XG4gICAgICB9XG4gICAgICBkaW1lbnNpb24udW5zaGlmdChjb3VudCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGRpbWVuc2lvblswXTsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gcGFyc2VFbGVtZW50KGVsZW1lbnRUeXBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG4gIH07XG5cbiAgcmV0dXJuIHBhcnNlKGRpbXMsIGVsZW1lbnRUeXBlKTtcbn07XG5cbnZhciBwYXJzZVRleHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUudG9TdHJpbmcoJ3V0ZjgnKTtcbn07XG5cbnZhciBwYXJzZUJvb2wgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZih2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiAocGFyc2VCaXRzKHZhbHVlLCA4KSA+IDApO1xufTtcblxudmFyIGluaXQgPSBmdW5jdGlvbihyZWdpc3Rlcikge1xuICByZWdpc3RlcigyMCwgcGFyc2VJbnQ2NCk7XG4gIHJlZ2lzdGVyKDIxLCBwYXJzZUludDE2KTtcbiAgcmVnaXN0ZXIoMjMsIHBhcnNlSW50MzIpO1xuICByZWdpc3RlcigyNiwgcGFyc2VJbnQzMik7XG4gIHJlZ2lzdGVyKDE3MDAsIHBhcnNlTnVtZXJpYyk7XG4gIHJlZ2lzdGVyKDcwMCwgcGFyc2VGbG9hdDMyKTtcbiAgcmVnaXN0ZXIoNzAxLCBwYXJzZUZsb2F0NjQpO1xuICByZWdpc3RlcigxNiwgcGFyc2VCb29sKTtcbiAgcmVnaXN0ZXIoMTExNCwgcGFyc2VEYXRlLmJpbmQobnVsbCwgZmFsc2UpKTtcbiAgcmVnaXN0ZXIoMTE4NCwgcGFyc2VEYXRlLmJpbmQobnVsbCwgdHJ1ZSkpO1xuICByZWdpc3RlcigxMDAwLCBwYXJzZUFycmF5KTtcbiAgcmVnaXN0ZXIoMTAwNywgcGFyc2VBcnJheSk7XG4gIHJlZ2lzdGVyKDEwMTYsIHBhcnNlQXJyYXkpO1xuICByZWdpc3RlcigxMDA4LCBwYXJzZUFycmF5KTtcbiAgcmVnaXN0ZXIoMTAwOSwgcGFyc2VBcnJheSk7XG4gIHJlZ2lzdGVyKDI1LCBwYXJzZVRleHQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGluaXQ6IGluaXRcbn07XG4iLCAiLyoqXG4gKiBGb2xsb3dpbmcgcXVlcnkgd2FzIHVzZWQgdG8gZ2VuZXJhdGUgdGhpcyBmaWxlOlxuXG4gU0VMRUNUIGpzb25fb2JqZWN0X2FnZyhVUFBFUihQVC50eXBuYW1lKSwgUFQub2lkOjppbnQ0IE9SREVSIEJZIHB0Lm9pZClcbiBGUk9NIHBnX3R5cGUgUFRcbiBXSEVSRSB0eXBuYW1lc3BhY2UgPSAoU0VMRUNUIHBnbi5vaWQgRlJPTSBwZ19uYW1lc3BhY2UgcGduIFdIRVJFIG5zcG5hbWUgPSAncGdfY2F0YWxvZycpIC0tIFRha2Ugb25seSBidWlsdGluZyBQb3N0Z3JlcyB0eXBlcyB3aXRoIHN0YWJsZSBPSUQgKGV4dGVuc2lvbiB0eXBlcyBhcmUgbm90IGd1YXJhbnRlZCB0byBiZSBzdGFibGUpXG4gQU5EIHR5cHR5cGUgPSAnYicgLS0gT25seSBiYXNpYyB0eXBlc1xuIEFORCB0eXBlbGVtID0gMCAtLSBJZ25vcmUgYWxpYXNlc1xuIEFORCB0eXBpc2RlZmluZWQgLS0gSWdub3JlIHVuZGVmaW5lZCB0eXBlc1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIEJPT0w6IDE2LFxuICAgIEJZVEVBOiAxNyxcbiAgICBDSEFSOiAxOCxcbiAgICBJTlQ4OiAyMCxcbiAgICBJTlQyOiAyMSxcbiAgICBJTlQ0OiAyMyxcbiAgICBSRUdQUk9DOiAyNCxcbiAgICBURVhUOiAyNSxcbiAgICBPSUQ6IDI2LFxuICAgIFRJRDogMjcsXG4gICAgWElEOiAyOCxcbiAgICBDSUQ6IDI5LFxuICAgIEpTT046IDExNCxcbiAgICBYTUw6IDE0MixcbiAgICBQR19OT0RFX1RSRUU6IDE5NCxcbiAgICBTTUdSOiAyMTAsXG4gICAgUEFUSDogNjAyLFxuICAgIFBPTFlHT046IDYwNCxcbiAgICBDSURSOiA2NTAsXG4gICAgRkxPQVQ0OiA3MDAsXG4gICAgRkxPQVQ4OiA3MDEsXG4gICAgQUJTVElNRTogNzAyLFxuICAgIFJFTFRJTUU6IDcwMyxcbiAgICBUSU5URVJWQUw6IDcwNCxcbiAgICBDSVJDTEU6IDcxOCxcbiAgICBNQUNBRERSODogNzc0LFxuICAgIE1PTkVZOiA3OTAsXG4gICAgTUFDQUREUjogODI5LFxuICAgIElORVQ6IDg2OSxcbiAgICBBQ0xJVEVNOiAxMDMzLFxuICAgIEJQQ0hBUjogMTA0MixcbiAgICBWQVJDSEFSOiAxMDQzLFxuICAgIERBVEU6IDEwODIsXG4gICAgVElNRTogMTA4MyxcbiAgICBUSU1FU1RBTVA6IDExMTQsXG4gICAgVElNRVNUQU1QVFo6IDExODQsXG4gICAgSU5URVJWQUw6IDExODYsXG4gICAgVElNRVRaOiAxMjY2LFxuICAgIEJJVDogMTU2MCxcbiAgICBWQVJCSVQ6IDE1NjIsXG4gICAgTlVNRVJJQzogMTcwMCxcbiAgICBSRUZDVVJTT1I6IDE3OTAsXG4gICAgUkVHUFJPQ0VEVVJFOiAyMjAyLFxuICAgIFJFR09QRVI6IDIyMDMsXG4gICAgUkVHT1BFUkFUT1I6IDIyMDQsXG4gICAgUkVHQ0xBU1M6IDIyMDUsXG4gICAgUkVHVFlQRTogMjIwNixcbiAgICBVVUlEOiAyOTUwLFxuICAgIFRYSURfU05BUFNIT1Q6IDI5NzAsXG4gICAgUEdfTFNOOiAzMjIwLFxuICAgIFBHX05ESVNUSU5DVDogMzM2MSxcbiAgICBQR19ERVBFTkRFTkNJRVM6IDM0MDIsXG4gICAgVFNWRUNUT1I6IDM2MTQsXG4gICAgVFNRVUVSWTogMzYxNSxcbiAgICBHVFNWRUNUT1I6IDM2NDIsXG4gICAgUkVHQ09ORklHOiAzNzM0LFxuICAgIFJFR0RJQ1RJT05BUlk6IDM3NjksXG4gICAgSlNPTkI6IDM4MDIsXG4gICAgUkVHTkFNRVNQQUNFOiA0MDg5LFxuICAgIFJFR1JPTEU6IDQwOTZcbn07XG4iLCAidmFyIHRleHRQYXJzZXJzID0gcmVxdWlyZSgnLi9saWIvdGV4dFBhcnNlcnMnKTtcbnZhciBiaW5hcnlQYXJzZXJzID0gcmVxdWlyZSgnLi9saWIvYmluYXJ5UGFyc2VycycpO1xudmFyIGFycmF5UGFyc2VyID0gcmVxdWlyZSgnLi9saWIvYXJyYXlQYXJzZXInKTtcbnZhciBidWlsdGluVHlwZXMgPSByZXF1aXJlKCcuL2xpYi9idWlsdGlucycpO1xuXG5leHBvcnRzLmdldFR5cGVQYXJzZXIgPSBnZXRUeXBlUGFyc2VyO1xuZXhwb3J0cy5zZXRUeXBlUGFyc2VyID0gc2V0VHlwZVBhcnNlcjtcbmV4cG9ydHMuYXJyYXlQYXJzZXIgPSBhcnJheVBhcnNlcjtcbmV4cG9ydHMuYnVpbHRpbnMgPSBidWlsdGluVHlwZXM7XG5cbnZhciB0eXBlUGFyc2VycyA9IHtcbiAgdGV4dDoge30sXG4gIGJpbmFyeToge31cbn07XG5cbi8vdGhlIGVtcHR5IHBhcnNlIGZ1bmN0aW9uXG5mdW5jdGlvbiBub1BhcnNlICh2YWwpIHtcbiAgcmV0dXJuIFN0cmluZyh2YWwpO1xufTtcblxuLy9yZXR1cm5zIGEgZnVuY3Rpb24gdXNlZCB0byBjb252ZXJ0IGEgc3BlY2lmaWMgdHlwZSAoc3BlY2lmaWVkIGJ5XG4vL29pZCkgaW50byBhIHJlc3VsdCBqYXZhc2NyaXB0IHR5cGVcbi8vbm90ZTogdGhlIG9pZCBjYW4gYmUgb2J0YWluZWQgdmlhIHRoZSBmb2xsb3dpbmcgc3FsIHF1ZXJ5OlxuLy9TRUxFQ1Qgb2lkIEZST00gcGdfdHlwZSBXSEVSRSB0eXBuYW1lID0gJ1RZUEVfTkFNRV9IRVJFJztcbmZ1bmN0aW9uIGdldFR5cGVQYXJzZXIgKG9pZCwgZm9ybWF0KSB7XG4gIGZvcm1hdCA9IGZvcm1hdCB8fCAndGV4dCc7XG4gIGlmICghdHlwZVBhcnNlcnNbZm9ybWF0XSkge1xuICAgIHJldHVybiBub1BhcnNlO1xuICB9XG4gIHJldHVybiB0eXBlUGFyc2Vyc1tmb3JtYXRdW29pZF0gfHwgbm9QYXJzZTtcbn07XG5cbmZ1bmN0aW9uIHNldFR5cGVQYXJzZXIgKG9pZCwgZm9ybWF0LCBwYXJzZUZuKSB7XG4gIGlmKHR5cGVvZiBmb3JtYXQgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHBhcnNlRm4gPSBmb3JtYXQ7XG4gICAgZm9ybWF0ID0gJ3RleHQnO1xuICB9XG4gIHR5cGVQYXJzZXJzW2Zvcm1hdF1bb2lkXSA9IHBhcnNlRm47XG59O1xuXG50ZXh0UGFyc2Vycy5pbml0KGZ1bmN0aW9uKG9pZCwgY29udmVydGVyKSB7XG4gIHR5cGVQYXJzZXJzLnRleHRbb2lkXSA9IGNvbnZlcnRlcjtcbn0pO1xuXG5iaW5hcnlQYXJzZXJzLmluaXQoZnVuY3Rpb24ob2lkLCBjb252ZXJ0ZXIpIHtcbiAgdHlwZVBhcnNlcnMuYmluYXJ5W29pZF0gPSBjb252ZXJ0ZXI7XG59KTtcbiIsICIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGRhdGFiYXNlIGhvc3QuIGRlZmF1bHRzIHRvIGxvY2FsaG9zdFxuICBob3N0OiAnbG9jYWxob3N0JyxcblxuICAvLyBkYXRhYmFzZSB1c2VyJ3MgbmFtZVxuICB1c2VyOiBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInID8gcHJvY2Vzcy5lbnYuVVNFUk5BTUUgOiBwcm9jZXNzLmVudi5VU0VSLFxuXG4gIC8vIG5hbWUgb2YgZGF0YWJhc2UgdG8gY29ubmVjdFxuICBkYXRhYmFzZTogdW5kZWZpbmVkLFxuXG4gIC8vIGRhdGFiYXNlIHVzZXIncyBwYXNzd29yZFxuICBwYXNzd29yZDogbnVsbCxcblxuICAvLyBhIFBvc3RncmVzIGNvbm5lY3Rpb24gc3RyaW5nIHRvIGJlIHVzZWQgaW5zdGVhZCBvZiBzZXR0aW5nIGluZGl2aWR1YWwgY29ubmVjdGlvbiBpdGVtc1xuICAvLyBOT1RFOiAgU2V0dGluZyB0aGlzIHZhbHVlIHdpbGwgY2F1c2UgaXQgdG8gb3ZlcnJpZGUgYW55IG90aGVyIHZhbHVlIChzdWNoIGFzIGRhdGFiYXNlIG9yIHVzZXIpIGRlZmluZWRcbiAgLy8gaW4gdGhlIGRlZmF1bHRzIG9iamVjdC5cbiAgY29ubmVjdGlvblN0cmluZzogdW5kZWZpbmVkLFxuXG4gIC8vIGRhdGFiYXNlIHBvcnRcbiAgcG9ydDogNTQzMixcblxuICAvLyBudW1iZXIgb2Ygcm93cyB0byByZXR1cm4gYXQgYSB0aW1lIGZyb20gYSBwcmVwYXJlZCBzdGF0ZW1lbnQnc1xuICAvLyBwb3J0YWwuIDAgd2lsbCByZXR1cm4gYWxsIHJvd3MgYXQgb25jZVxuICByb3dzOiAwLFxuXG4gIC8vIGJpbmFyeSByZXN1bHQgbW9kZVxuICBiaW5hcnk6IGZhbHNlLFxuXG4gIC8vIENvbm5lY3Rpb24gcG9vbCBvcHRpb25zIC0gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icmlhbmMvbm9kZS1wZy1wb29sXG5cbiAgLy8gbnVtYmVyIG9mIGNvbm5lY3Rpb25zIHRvIHVzZSBpbiBjb25uZWN0aW9uIHBvb2xcbiAgLy8gMCB3aWxsIGRpc2FibGUgY29ubmVjdGlvbiBwb29saW5nXG4gIG1heDogMTAsXG5cbiAgLy8gbWF4IG1pbGxpc2Vjb25kcyBhIGNsaWVudCBjYW4gZ28gdW51c2VkIGJlZm9yZSBpdCBpcyByZW1vdmVkXG4gIC8vIGZyb20gdGhlIHBvb2wgYW5kIGRlc3Ryb3llZFxuICBpZGxlVGltZW91dE1pbGxpczogMzAwMDAsXG5cbiAgY2xpZW50X2VuY29kaW5nOiAnJyxcblxuICBzc2w6IGZhbHNlLFxuXG4gIGFwcGxpY2F0aW9uX25hbWU6IHVuZGVmaW5lZCxcblxuICBmYWxsYmFja19hcHBsaWNhdGlvbl9uYW1lOiB1bmRlZmluZWQsXG5cbiAgb3B0aW9uczogdW5kZWZpbmVkLFxuXG4gIHBhcnNlSW5wdXREYXRlc0FzVVRDOiBmYWxzZSxcblxuICAvLyBtYXggbWlsbGlzZWNvbmRzIGFueSBxdWVyeSB1c2luZyB0aGlzIGNvbm5lY3Rpb24gd2lsbCBleGVjdXRlIGZvciBiZWZvcmUgdGltaW5nIG91dCBpbiBlcnJvci5cbiAgLy8gZmFsc2U9dW5saW1pdGVkXG4gIHN0YXRlbWVudF90aW1lb3V0OiBmYWxzZSxcblxuICAvLyBBYm9ydCBhbnkgc3RhdGVtZW50IHRoYXQgd2FpdHMgbG9uZ2VyIHRoYW4gdGhlIHNwZWNpZmllZCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMgd2hpbGUgYXR0ZW1wdGluZyB0byBhY3F1aXJlIGEgbG9jay5cbiAgLy8gZmFsc2U9dW5saW1pdGVkXG4gIGxvY2tfdGltZW91dDogZmFsc2UsXG5cbiAgLy8gVGVybWluYXRlIGFueSBzZXNzaW9uIHdpdGggYW4gb3BlbiB0cmFuc2FjdGlvbiB0aGF0IGhhcyBiZWVuIGlkbGUgZm9yIGxvbmdlciB0aGFuIHRoZSBzcGVjaWZpZWQgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXG4gIC8vIGZhbHNlPXVubGltaXRlZFxuICBpZGxlX2luX3RyYW5zYWN0aW9uX3Nlc3Npb25fdGltZW91dDogZmFsc2UsXG5cbiAgLy8gbWF4IG1pbGxpc2Vjb25kcyB0byB3YWl0IGZvciBxdWVyeSB0byBjb21wbGV0ZSAoY2xpZW50IHNpZGUpXG4gIHF1ZXJ5X3RpbWVvdXQ6IGZhbHNlLFxuXG4gIGNvbm5lY3RfdGltZW91dDogMCxcblxuICBrZWVwYWxpdmVzOiAxLFxuXG4gIGtlZXBhbGl2ZXNfaWRsZTogMCxcbn1cblxuY29uc3QgcGdUeXBlcyA9IHJlcXVpcmUoJ3BnLXR5cGVzJylcbi8vIHNhdmUgZGVmYXVsdCBwYXJzZXJzXG5jb25zdCBwYXJzZUJpZ0ludGVnZXIgPSBwZ1R5cGVzLmdldFR5cGVQYXJzZXIoMjAsICd0ZXh0JylcbmNvbnN0IHBhcnNlQmlnSW50ZWdlckFycmF5ID0gcGdUeXBlcy5nZXRUeXBlUGFyc2VyKDEwMTYsICd0ZXh0JylcblxuLy8gcGFyc2UgaW50OCBzbyB5b3UgY2FuIGdldCB5b3VyIGNvdW50IHZhbHVlcyBhcyBhY3R1YWwgbnVtYmVyc1xubW9kdWxlLmV4cG9ydHMuX19kZWZpbmVTZXR0ZXJfXygncGFyc2VJbnQ4JywgZnVuY3Rpb24gKHZhbCkge1xuICBwZ1R5cGVzLnNldFR5cGVQYXJzZXIoMjAsICd0ZXh0JywgdmFsID8gcGdUeXBlcy5nZXRUeXBlUGFyc2VyKDIzLCAndGV4dCcpIDogcGFyc2VCaWdJbnRlZ2VyKVxuICBwZ1R5cGVzLnNldFR5cGVQYXJzZXIoMTAxNiwgJ3RleHQnLCB2YWwgPyBwZ1R5cGVzLmdldFR5cGVQYXJzZXIoMTAwNywgJ3RleHQnKSA6IHBhcnNlQmlnSW50ZWdlckFycmF5KVxufSlcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJylcblxuY29uc3QgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuY29uc3QgeyBpc0RhdGUgfSA9IHV0aWwudHlwZXMgfHwgdXRpbCAvLyBOb2RlIDggZG9lc24ndCBoYXZlIGB1dGlsLnR5cGVzYFxuXG5mdW5jdGlvbiBlc2NhcGVFbGVtZW50KGVsZW1lbnRSZXByZXNlbnRhdGlvbikge1xuICBjb25zdCBlc2NhcGVkID0gZWxlbWVudFJlcHJlc2VudGF0aW9uLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJykucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpXG5cbiAgcmV0dXJuICdcIicgKyBlc2NhcGVkICsgJ1wiJ1xufVxuXG4vLyBjb252ZXJ0IGEgSlMgYXJyYXkgdG8gYSBwb3N0Z3JlcyBhcnJheSBsaXRlcmFsXG4vLyB1c2VzIGNvbW1hIHNlcGFyYXRvciBzbyB3b24ndCB3b3JrIGZvciB0eXBlcyBsaWtlIGJveCB0aGF0IHVzZVxuLy8gYSBkaWZmZXJlbnQgYXJyYXkgc2VwYXJhdG9yLlxuZnVuY3Rpb24gYXJyYXlTdHJpbmcodmFsKSB7XG4gIGxldCByZXN1bHQgPSAneydcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaSA+IDApIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCArICcsJ1xuICAgIH1cbiAgICBpZiAodmFsW2ldID09PSBudWxsIHx8IHR5cGVvZiB2YWxbaV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQgKyAnTlVMTCdcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsW2ldKSkge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgYXJyYXlTdHJpbmcodmFsW2ldKVxuICAgIH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHZhbFtpXSkpIHtcbiAgICAgIGxldCBpdGVtID0gdmFsW2ldXG4gICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgICBjb25zdCBidWYgPSBCdWZmZXIuZnJvbShpdGVtLmJ1ZmZlciwgaXRlbS5ieXRlT2Zmc2V0LCBpdGVtLmJ5dGVMZW5ndGgpXG4gICAgICAgIGlmIChidWYubGVuZ3RoID09PSBpdGVtLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICBpdGVtID0gYnVmXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbSA9IGJ1Zi5zbGljZShpdGVtLmJ5dGVPZmZzZXQsIGl0ZW0uYnl0ZU9mZnNldCArIGl0ZW0uYnl0ZUxlbmd0aClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0ICs9ICdcXFxcXFxcXHgnICsgaXRlbS50b1N0cmluZygnaGV4JylcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ICs9IGVzY2FwZUVsZW1lbnQocHJlcGFyZVZhbHVlKHZhbFtpXSkpXG4gICAgfVxuICB9XG4gIHJlc3VsdCA9IHJlc3VsdCArICd9J1xuICByZXR1cm4gcmVzdWx0XG59XG5cbi8vIGNvbnZlcnRzIHZhbHVlcyBmcm9tIGphdmFzY3JpcHQgdHlwZXNcbi8vIHRvIHRoZWlyICdyYXcnIGNvdW50ZXJwYXJ0cyBmb3IgdXNlIGFzIGEgcG9zdGdyZXMgcGFyYW1ldGVyXG4vLyBub3RlOiB5b3UgY2FuIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gdG8gcHJvdmlkZSB5b3VyIG93biBjb252ZXJzaW9uIG1lY2hhbmlzbVxuLy8gZm9yIGNvbXBsZXggdHlwZXMsIGV0Yy4uLlxuY29uc3QgcHJlcGFyZVZhbHVlID0gZnVuY3Rpb24gKHZhbCwgc2Vlbikge1xuICAvLyBudWxsIGFuZCB1bmRlZmluZWQgYXJlIGJvdGggbnVsbCBmb3IgcG9zdGdyZXNcbiAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAodmFsIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICByZXR1cm4gdmFsXG4gICAgfVxuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKSkge1xuICAgICAgY29uc3QgYnVmID0gQnVmZmVyLmZyb20odmFsLmJ1ZmZlciwgdmFsLmJ5dGVPZmZzZXQsIHZhbC5ieXRlTGVuZ3RoKVxuICAgICAgaWYgKGJ1Zi5sZW5ndGggPT09IHZhbC5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBidWZcbiAgICAgIH1cbiAgICAgIHJldHVybiBidWYuc2xpY2UodmFsLmJ5dGVPZmZzZXQsIHZhbC5ieXRlT2Zmc2V0ICsgdmFsLmJ5dGVMZW5ndGgpIC8vIE5vZGUuanMgdjQgZG9lcyBub3Qgc3VwcG9ydCB0aG9zZSBCdWZmZXIuZnJvbSBwYXJhbXNcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWwpKSB7XG4gICAgICBpZiAoZGVmYXVsdHMucGFyc2VJbnB1dERhdGVzQXNVVEMpIHtcbiAgICAgICAgcmV0dXJuIGRhdGVUb1N0cmluZ1VUQyh2YWwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGF0ZVRvU3RyaW5nKHZhbClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgcmV0dXJuIGFycmF5U3RyaW5nKHZhbClcbiAgICB9XG5cbiAgICByZXR1cm4gcHJlcGFyZU9iamVjdCh2YWwsIHNlZW4pXG4gIH1cbiAgcmV0dXJuIHZhbC50b1N0cmluZygpXG59XG5cbmZ1bmN0aW9uIHByZXBhcmVPYmplY3QodmFsLCBzZWVuKSB7XG4gIGlmICh2YWwgJiYgdHlwZW9mIHZhbC50b1Bvc3RncmVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgW11cbiAgICBpZiAoc2Vlbi5pbmRleE9mKHZhbCkgIT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCB3aGlsZSBwcmVwYXJpbmcgXCInICsgdmFsICsgJ1wiIGZvciBxdWVyeScpXG4gICAgfVxuICAgIHNlZW4ucHVzaCh2YWwpXG5cbiAgICByZXR1cm4gcHJlcGFyZVZhbHVlKHZhbC50b1Bvc3RncmVzKHByZXBhcmVWYWx1ZSksIHNlZW4pXG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbClcbn1cblxuZnVuY3Rpb24gZGF0ZVRvU3RyaW5nKGRhdGUpIHtcbiAgbGV0IG9mZnNldCA9IC1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KClcblxuICBsZXQgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKVxuICBjb25zdCBpc0JDWWVhciA9IHllYXIgPCAxXG4gIGlmIChpc0JDWWVhcikgeWVhciA9IE1hdGguYWJzKHllYXIpICsgMSAvLyBuZWdhdGl2ZSB5ZWFycyBhcmUgMSBvZmYgdGhlaXIgQkMgcmVwcmVzZW50YXRpb25cblxuICBsZXQgcmV0ID1cbiAgICBTdHJpbmcoeWVhcikucGFkU3RhcnQoNCwgJzAnKSArXG4gICAgJy0nICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJy0nICtcbiAgICBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICdUJyArXG4gICAgU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJzonICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICc6JyArXG4gICAgU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCAnMCcpICtcbiAgICAnLicgK1xuICAgIFN0cmluZyhkYXRlLmdldE1pbGxpc2Vjb25kcygpKS5wYWRTdGFydCgzLCAnMCcpXG5cbiAgaWYgKG9mZnNldCA8IDApIHtcbiAgICByZXQgKz0gJy0nXG4gICAgb2Zmc2V0ICo9IC0xXG4gIH0gZWxzZSB7XG4gICAgcmV0ICs9ICcrJ1xuICB9XG5cbiAgcmV0ICs9IFN0cmluZyhNYXRoLmZsb29yKG9mZnNldCAvIDYwKSkucGFkU3RhcnQoMiwgJzAnKSArICc6JyArIFN0cmluZyhvZmZzZXQgJSA2MCkucGFkU3RhcnQoMiwgJzAnKVxuICBpZiAoaXNCQ1llYXIpIHJldCArPSAnIEJDJ1xuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGRhdGVUb1N0cmluZ1VUQyhkYXRlKSB7XG4gIGxldCB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpXG4gIGNvbnN0IGlzQkNZZWFyID0geWVhciA8IDFcbiAgaWYgKGlzQkNZZWFyKSB5ZWFyID0gTWF0aC5hYnMoeWVhcikgKyAxIC8vIG5lZ2F0aXZlIHllYXJzIGFyZSAxIG9mZiB0aGVpciBCQyByZXByZXNlbnRhdGlvblxuXG4gIGxldCByZXQgPVxuICAgIFN0cmluZyh5ZWFyKS5wYWRTdGFydCg0LCAnMCcpICtcbiAgICAnLScgK1xuICAgIFN0cmluZyhkYXRlLmdldFVUQ01vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpICtcbiAgICAnLScgK1xuICAgIFN0cmluZyhkYXRlLmdldFVUQ0RhdGUoKSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJ1QnICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRVVENIb3VycygpKS5wYWRTdGFydCgyLCAnMCcpICtcbiAgICAnOicgK1xuICAgIFN0cmluZyhkYXRlLmdldFVUQ01pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJzonICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRVVENTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICcuJyArXG4gICAgU3RyaW5nKGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpLnBhZFN0YXJ0KDMsICcwJylcblxuICByZXQgKz0gJyswMDowMCdcbiAgaWYgKGlzQkNZZWFyKSByZXQgKz0gJyBCQydcbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVRdWVyeUNvbmZpZyhjb25maWcsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgLy8gY2FuIHRha2UgaW4gc3RyaW5ncyBvciBjb25maWcgb2JqZWN0c1xuICBjb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJyA/IHsgdGV4dDogY29uZmlnIH0gOiBjb25maWdcbiAgaWYgKHZhbHVlcykge1xuICAgIGlmICh0eXBlb2YgdmFsdWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25maWcuY2FsbGJhY2sgPSB2YWx1ZXNcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnLnZhbHVlcyA9IHZhbHVlc1xuICAgIH1cbiAgfVxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBjb25maWcuY2FsbGJhY2sgPSBjYWxsYmFja1xuICB9XG4gIHJldHVybiBjb25maWdcbn1cblxuLy8gUG9ydGVkIGZyb20gUG9zdGdyZVNRTCA5LjIuNCBzb3VyY2UgY29kZSBpbiBzcmMvaW50ZXJmYWNlcy9saWJwcS9mZS1leGVjLmNcbmNvbnN0IGVzY2FwZUlkZW50aWZpZXIgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiAnXCInICsgc3RyLnJlcGxhY2UoL1wiL2csICdcIlwiJykgKyAnXCInXG59XG5cbmNvbnN0IGVzY2FwZUxpdGVyYWwgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIGxldCBoYXNCYWNrc2xhc2ggPSBmYWxzZVxuICBsZXQgZXNjYXBlZCA9IFwiJ1wiXG5cbiAgaWYgKHN0ciA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFwiJydcIlxuICB9XG5cbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIFwiJydcIlxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjID0gc3RyW2ldXG4gICAgaWYgKGMgPT09IFwiJ1wiKSB7XG4gICAgICBlc2NhcGVkICs9IGMgKyBjXG4gICAgfSBlbHNlIGlmIChjID09PSAnXFxcXCcpIHtcbiAgICAgIGVzY2FwZWQgKz0gYyArIGNcbiAgICAgIGhhc0JhY2tzbGFzaCA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgZXNjYXBlZCArPSBjXG4gICAgfVxuICB9XG5cbiAgZXNjYXBlZCArPSBcIidcIlxuXG4gIGlmIChoYXNCYWNrc2xhc2ggPT09IHRydWUpIHtcbiAgICBlc2NhcGVkID0gJyBFJyArIGVzY2FwZWRcbiAgfVxuXG4gIHJldHVybiBlc2NhcGVkXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBwcmVwYXJlVmFsdWU6IGZ1bmN0aW9uIHByZXBhcmVWYWx1ZVdyYXBwZXIodmFsdWUpIHtcbiAgICAvLyB0aGlzIGVuc3VyZXMgdGhhdCBleHRyYSBhcmd1bWVudHMgZG8gbm90IGdldCBwYXNzZWQgaW50byBwcmVwYXJlVmFsdWVcbiAgICAvLyBieSBhY2NpZGVudCwgZWc6IGZyb20gY2FsbGluZyB2YWx1ZXMubWFwKHV0aWxzLnByZXBhcmVWYWx1ZSlcbiAgICByZXR1cm4gcHJlcGFyZVZhbHVlKHZhbHVlKVxuICB9LFxuICBub3JtYWxpemVRdWVyeUNvbmZpZyxcbiAgZXNjYXBlSWRlbnRpZmllcixcbiAgZXNjYXBlTGl0ZXJhbCxcbn1cbiIsICIndXNlIHN0cmljdCdcbi8vIFRoaXMgZmlsZSBjb250YWlucyBjcnlwdG8gdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHZlcnNpb25zIG9mIE5vZGUuanMgPCAxNS4wLjAsXG4vLyB3aGljaCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBXZWJDcnlwdG8uc3VidGxlIEFQSS5cblxuY29uc3Qgbm9kZUNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpXG5cbmZ1bmN0aW9uIG1kNShzdHJpbmcpIHtcbiAgcmV0dXJuIG5vZGVDcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKHN0cmluZywgJ3V0Zi04JykuZGlnZXN0KCdoZXgnKVxufVxuXG4vLyBTZWUgQXV0aGVudGljYXRpb25NRDVQYXNzd29yZCBhdCBodHRwczovL3d3dy5wb3N0Z3Jlc3FsLm9yZy9kb2NzL2N1cnJlbnQvc3RhdGljL3Byb3RvY29sLWZsb3cuaHRtbFxuZnVuY3Rpb24gcG9zdGdyZXNNZDVQYXNzd29yZEhhc2godXNlciwgcGFzc3dvcmQsIHNhbHQpIHtcbiAgY29uc3QgaW5uZXIgPSBtZDUocGFzc3dvcmQgKyB1c2VyKVxuICBjb25zdCBvdXRlciA9IG1kNShCdWZmZXIuY29uY2F0KFtCdWZmZXIuZnJvbShpbm5lciksIHNhbHRdKSlcbiAgcmV0dXJuICdtZDUnICsgb3V0ZXJcbn1cblxuZnVuY3Rpb24gc2hhMjU2KHRleHQpIHtcbiAgcmV0dXJuIG5vZGVDcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKHRleHQpLmRpZ2VzdCgpXG59XG5cbmZ1bmN0aW9uIGhhc2hCeU5hbWUoaGFzaE5hbWUsIHRleHQpIHtcbiAgaGFzaE5hbWUgPSBoYXNoTmFtZS5yZXBsYWNlKC8oXFxEKS0vLCAnJDEnKSAvLyBlLmcuIFNIQS0yNTYgLT4gU0hBMjU2XG4gIHJldHVybiBub2RlQ3J5cHRvLmNyZWF0ZUhhc2goaGFzaE5hbWUpLnVwZGF0ZSh0ZXh0KS5kaWdlc3QoKVxufVxuXG5mdW5jdGlvbiBobWFjU2hhMjU2KGtleSwgbXNnKSB7XG4gIHJldHVybiBub2RlQ3J5cHRvLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIGtleSkudXBkYXRlKG1zZykuZGlnZXN0KClcbn1cblxuYXN5bmMgZnVuY3Rpb24gZGVyaXZlS2V5KHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zKSB7XG4gIHJldHVybiBub2RlQ3J5cHRvLnBia2RmMlN5bmMocGFzc3dvcmQsIHNhbHQsIGl0ZXJhdGlvbnMsIDMyLCAnc2hhMjU2Jylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHBvc3RncmVzTWQ1UGFzc3dvcmRIYXNoLFxuICByYW5kb21CeXRlczogbm9kZUNyeXB0by5yYW5kb21CeXRlcyxcbiAgZGVyaXZlS2V5LFxuICBzaGEyNTYsXG4gIGhhc2hCeU5hbWUsXG4gIGhtYWNTaGEyNTYsXG4gIG1kNSxcbn1cbiIsICJjb25zdCBub2RlQ3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHBvc3RncmVzTWQ1UGFzc3dvcmRIYXNoLFxuICByYW5kb21CeXRlcyxcbiAgZGVyaXZlS2V5LFxuICBzaGEyNTYsXG4gIGhhc2hCeU5hbWUsXG4gIGhtYWNTaGEyNTYsXG4gIG1kNSxcbn1cblxuLyoqXG4gKiBUaGUgV2ViIENyeXB0byBBUEkgLSBncmFiYmVkIGZyb20gdGhlIE5vZGUuanMgbGlicmFyeSBvciB0aGUgZ2xvYmFsXG4gKiBAdHlwZSBDcnlwdG9cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5jb25zdCB3ZWJDcnlwdG8gPSBub2RlQ3J5cHRvLndlYmNyeXB0byB8fCBnbG9iYWxUaGlzLmNyeXB0b1xuLyoqXG4gKiBUaGUgU3VidGxlQ3J5cHRvIEFQSSBmb3IgbG93IGxldmVsIGNyeXB0byBvcGVyYXRpb25zLlxuICogQHR5cGUgU3VidGxlQ3J5cHRvXG4gKi9cbmNvbnN0IHN1YnRsZUNyeXB0byA9IHdlYkNyeXB0by5zdWJ0bGVcbmNvbnN0IHRleHRFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKClcblxuLyoqXG4gKlxuICogQHBhcmFtIHsqfSBsZW5ndGhcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIHJhbmRvbUJ5dGVzKGxlbmd0aCkge1xuICByZXR1cm4gd2ViQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhCdWZmZXIuYWxsb2MobGVuZ3RoKSlcbn1cblxuYXN5bmMgZnVuY3Rpb24gbWQ1KHN0cmluZykge1xuICB0cnkge1xuICAgIHJldHVybiBub2RlQ3J5cHRvLmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShzdHJpbmcsICd1dGYtOCcpLmRpZ2VzdCgnaGV4JylcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIGBjcmVhdGVIYXNoKClgIGZhaWxlZCBzbyB3ZSBhcmUgcHJvYmFibHkgbm90IGluIE5vZGUuanMsIHVzZSB0aGUgV2ViQ3J5cHRvIEFQSSBpbnN0ZWFkLlxuICAgIC8vIE5vdGUgdGhhdCB0aGUgTUQ1IGFsZ29yaXRobSBvbiBXZWJDcnlwdG8gaXMgbm90IGF2YWlsYWJsZSBpbiBOb2RlLmpzLlxuICAgIC8vIFRoaXMgaXMgd2h5IHdlIGNhbm5vdCBqdXN0IHVzZSBXZWJDcnlwdG8gaW4gYWxsIGVudmlyb25tZW50cy5cbiAgICBjb25zdCBkYXRhID0gdHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycgPyB0ZXh0RW5jb2Rlci5lbmNvZGUoc3RyaW5nKSA6IHN0cmluZ1xuICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBzdWJ0bGVDcnlwdG8uZGlnZXN0KCdNRDUnLCBkYXRhKVxuICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2gpKVxuICAgICAgLm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSlcbiAgICAgIC5qb2luKCcnKVxuICB9XG59XG5cbi8vIFNlZSBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkIGF0IGh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL2RvY3MvY3VycmVudC9zdGF0aWMvcHJvdG9jb2wtZmxvdy5odG1sXG5hc3luYyBmdW5jdGlvbiBwb3N0Z3Jlc01kNVBhc3N3b3JkSGFzaCh1c2VyLCBwYXNzd29yZCwgc2FsdCkge1xuICBjb25zdCBpbm5lciA9IGF3YWl0IG1kNShwYXNzd29yZCArIHVzZXIpXG4gIGNvbnN0IG91dGVyID0gYXdhaXQgbWQ1KEJ1ZmZlci5jb25jYXQoW0J1ZmZlci5mcm9tKGlubmVyKSwgc2FsdF0pKVxuICByZXR1cm4gJ21kNScgKyBvdXRlclxufVxuXG4vKipcbiAqIENyZWF0ZSBhIFNIQS0yNTYgZGlnZXN0IG9mIHRoZSBnaXZlbiBkYXRhXG4gKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YVxuICovXG5hc3luYyBmdW5jdGlvbiBzaGEyNTYodGV4dCkge1xuICByZXR1cm4gYXdhaXQgc3VidGxlQ3J5cHRvLmRpZ2VzdCgnU0hBLTI1NicsIHRleHQpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGhhc2hCeU5hbWUoaGFzaE5hbWUsIHRleHQpIHtcbiAgcmV0dXJuIGF3YWl0IHN1YnRsZUNyeXB0by5kaWdlc3QoaGFzaE5hbWUsIHRleHQpXG59XG5cbi8qKlxuICogU2lnbiB0aGUgbWVzc2FnZSB3aXRoIHRoZSBnaXZlbiBrZXlcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGtleUJ1ZmZlclxuICogQHBhcmFtIHtzdHJpbmd9IG1zZ1xuICovXG5hc3luYyBmdW5jdGlvbiBobWFjU2hhMjU2KGtleUJ1ZmZlciwgbXNnKSB7XG4gIGNvbnN0IGtleSA9IGF3YWl0IHN1YnRsZUNyeXB0by5pbXBvcnRLZXkoJ3JhdycsIGtleUJ1ZmZlciwgeyBuYW1lOiAnSE1BQycsIGhhc2g6ICdTSEEtMjU2JyB9LCBmYWxzZSwgWydzaWduJ10pXG4gIHJldHVybiBhd2FpdCBzdWJ0bGVDcnlwdG8uc2lnbignSE1BQycsIGtleSwgdGV4dEVuY29kZXIuZW5jb2RlKG1zZykpXG59XG5cbi8qKlxuICogRGVyaXZlIGEga2V5IGZyb20gdGhlIHBhc3N3b3JkIGFuZCBzYWx0XG4gKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmRcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gc2FsdFxuICogQHBhcmFtIHtudW1iZXJ9IGl0ZXJhdGlvbnNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVyaXZlS2V5KHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zKSB7XG4gIGNvbnN0IGtleSA9IGF3YWl0IHN1YnRsZUNyeXB0by5pbXBvcnRLZXkoJ3JhdycsIHRleHRFbmNvZGVyLmVuY29kZShwYXNzd29yZCksICdQQktERjInLCBmYWxzZSwgWydkZXJpdmVCaXRzJ10pXG4gIGNvbnN0IHBhcmFtcyA9IHsgbmFtZTogJ1BCS0RGMicsIGhhc2g6ICdTSEEtMjU2Jywgc2FsdDogc2FsdCwgaXRlcmF0aW9uczogaXRlcmF0aW9ucyB9XG4gIHJldHVybiBhd2FpdCBzdWJ0bGVDcnlwdG8uZGVyaXZlQml0cyhwYXJhbXMsIGtleSwgMzIgKiA4LCBbJ2Rlcml2ZUJpdHMnXSlcbn1cbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgdXNlTGVnYWN5Q3J5cHRvID0gcGFyc2VJbnQocHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLnNwbGl0KCcuJylbMF0pIDwgMTVcbmlmICh1c2VMZWdhY3lDcnlwdG8pIHtcbiAgLy8gV2UgYXJlIG9uIGFuIG9sZCB2ZXJzaW9uIG9mIE5vZGUuanMgdGhhdCByZXF1aXJlcyBsZWdhY3kgY3J5cHRvIHV0aWxpdGllcy5cbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3V0aWxzLWxlZ2FjeScpXG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vdXRpbHMtd2ViY3J5cHRvJylcbn1cbiIsICJmdW5jdGlvbiB4NTA5RXJyb3IobXNnLCBjZXJ0KSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ1NBU0wgY2hhbm5lbCBiaW5kaW5nOiAnICsgbXNnICsgJyB3aGVuIHBhcnNpbmcgcHVibGljIGNlcnRpZmljYXRlICcgKyBjZXJ0LnRvU3RyaW5nKCdiYXNlNjQnKSlcbn1cblxuZnVuY3Rpb24gcmVhZEFTTjFMZW5ndGgoZGF0YSwgaW5kZXgpIHtcbiAgbGV0IGxlbmd0aCA9IGRhdGFbaW5kZXgrK11cbiAgaWYgKGxlbmd0aCA8IDB4ODApIHJldHVybiB7IGxlbmd0aCwgaW5kZXggfVxuXG4gIGNvbnN0IGxlbmd0aEJ5dGVzID0gbGVuZ3RoICYgMHg3ZlxuICBpZiAobGVuZ3RoQnl0ZXMgPiA0KSB0aHJvdyB4NTA5RXJyb3IoJ2JhZCBsZW5ndGgnLCBkYXRhKVxuXG4gIGxlbmd0aCA9IDBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGhCeXRlczsgaSsrKSB7XG4gICAgbGVuZ3RoID0gKGxlbmd0aCA8PCA4KSB8IGRhdGFbaW5kZXgrK11cbiAgfVxuXG4gIHJldHVybiB7IGxlbmd0aCwgaW5kZXggfVxufVxuXG5mdW5jdGlvbiByZWFkQVNOMU9JRChkYXRhLCBpbmRleCkge1xuICBpZiAoZGF0YVtpbmRleCsrXSAhPT0gMHg2KSB0aHJvdyB4NTA5RXJyb3IoJ25vbi1PSUQgZGF0YScsIGRhdGEpIC8vIDYgPSBPSURcblxuICBjb25zdCB7IGxlbmd0aDogT0lETGVuZ3RoLCBpbmRleDogaW5kZXhBZnRlck9JRExlbmd0aCB9ID0gcmVhZEFTTjFMZW5ndGgoZGF0YSwgaW5kZXgpXG4gIGluZGV4ID0gaW5kZXhBZnRlck9JRExlbmd0aFxuICBjb25zdCBsYXN0SW5kZXggPSBpbmRleCArIE9JRExlbmd0aFxuXG4gIGNvbnN0IGJ5dGUxID0gZGF0YVtpbmRleCsrXVxuICBsZXQgb2lkID0gKChieXRlMSAvIDQwKSA+PiAwKSArICcuJyArIChieXRlMSAlIDQwKVxuXG4gIHdoaWxlIChpbmRleCA8IGxhc3RJbmRleCkge1xuICAgIC8vIGxvb3Agb3ZlciBudW1iZXJzIGluIE9JRFxuICAgIGxldCB2YWx1ZSA9IDBcbiAgICB3aGlsZSAoaW5kZXggPCBsYXN0SW5kZXgpIHtcbiAgICAgIC8vIGxvb3Agb3ZlciBieXRlcyBpbiBudW1iZXJcbiAgICAgIGNvbnN0IG5leHRCeXRlID0gZGF0YVtpbmRleCsrXVxuICAgICAgdmFsdWUgPSAodmFsdWUgPDwgNykgfCAobmV4dEJ5dGUgJiAweDdmKVxuICAgICAgaWYgKG5leHRCeXRlIDwgMHg4MCkgYnJlYWtcbiAgICB9XG4gICAgb2lkICs9ICcuJyArIHZhbHVlXG4gIH1cblxuICByZXR1cm4geyBvaWQsIGluZGV4IH1cbn1cblxuZnVuY3Rpb24gZXhwZWN0QVNOMVNlcShkYXRhLCBpbmRleCkge1xuICBpZiAoZGF0YVtpbmRleCsrXSAhPT0gMHgzMCkgdGhyb3cgeDUwOUVycm9yKCdub24tc2VxdWVuY2UgZGF0YScsIGRhdGEpIC8vIDMwID0gU2VxdWVuY2VcbiAgcmV0dXJuIHJlYWRBU04xTGVuZ3RoKGRhdGEsIGluZGV4KVxufVxuXG5mdW5jdGlvbiBzaWduYXR1cmVBbGdvcml0aG1IYXNoRnJvbUNlcnRpZmljYXRlKGRhdGEsIGluZGV4KSB7XG4gIC8vIHJlYWQgdGhpcyB0aHJlYWQ6IGh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL21lc3NhZ2UtaWQvMTc3NjAtYjZjNjFlNzUyZWMwNzA2MCU0MHBvc3RncmVzcWwub3JnXG4gIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSBpbmRleCA9IDBcbiAgaW5kZXggPSBleHBlY3RBU04xU2VxKGRhdGEsIGluZGV4KS5pbmRleFxuICBjb25zdCB7IGxlbmd0aDogY2VydEluZm9MZW5ndGgsIGluZGV4OiBpbmRleEFmdGVyQ2VydEluZm9MZW5ndGggfSA9IGV4cGVjdEFTTjFTZXEoZGF0YSwgaW5kZXgpXG4gIGluZGV4ID0gaW5kZXhBZnRlckNlcnRJbmZvTGVuZ3RoICsgY2VydEluZm9MZW5ndGggLy8gc2tpcCBvdmVyIGNlcnRpZmljYXRlIGluZm9cbiAgaW5kZXggPSBleHBlY3RBU04xU2VxKGRhdGEsIGluZGV4KS5pbmRleCAvLyBza2lwIG92ZXIgc2lnbmF0dXJlIGxlbmd0aCBmaWVsZFxuICBjb25zdCB7IG9pZCwgaW5kZXg6IGluZGV4QWZ0ZXJPSUQgfSA9IHJlYWRBU04xT0lEKGRhdGEsIGluZGV4KVxuICBzd2l0Y2ggKG9pZCkge1xuICAgIC8vIFJTQVxuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS40JzpcbiAgICAgIHJldHVybiAnTUQ1J1xuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS41JzpcbiAgICAgIHJldHVybiAnU0hBLTEnXG4gICAgY2FzZSAnMS4yLjg0MC4xMTM1NDkuMS4xLjExJzpcbiAgICAgIHJldHVybiAnU0hBLTI1NidcbiAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMTInOlxuICAgICAgcmV0dXJuICdTSEEtMzg0J1xuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS4xMyc6XG4gICAgICByZXR1cm4gJ1NIQS01MTInXG4gICAgY2FzZSAnMS4yLjg0MC4xMTM1NDkuMS4xLjE0JzpcbiAgICAgIHJldHVybiAnU0hBLTIyNCdcbiAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMTUnOlxuICAgICAgcmV0dXJuICdTSEE1MTItMjI0J1xuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS4xNic6XG4gICAgICByZXR1cm4gJ1NIQTUxMi0yNTYnXG4gICAgLy8gRUNEU0FcbiAgICBjYXNlICcxLjIuODQwLjEwMDQ1LjQuMSc6XG4gICAgICByZXR1cm4gJ1NIQS0xJ1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjEnOlxuICAgICAgcmV0dXJuICdTSEEtMjI0J1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjInOlxuICAgICAgcmV0dXJuICdTSEEtMjU2J1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjMnOlxuICAgICAgcmV0dXJuICdTSEEtMzg0J1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjQnOlxuICAgICAgcmV0dXJuICdTSEEtNTEyJ1xuICAgIC8vIFJTQVNTQS1QU1M6IGhhc2ggaXMgaW5kaWNhdGVkIHNlcGFyYXRlbHlcbiAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMTAnOiB7XG4gICAgICBpbmRleCA9IGluZGV4QWZ0ZXJPSURcbiAgICAgIGluZGV4ID0gZXhwZWN0QVNOMVNlcShkYXRhLCBpbmRleCkuaW5kZXhcbiAgICAgIGlmIChkYXRhW2luZGV4KytdICE9PSAweGEwKSB0aHJvdyB4NTA5RXJyb3IoJ25vbi10YWcgZGF0YScsIGRhdGEpIC8vIGEwID0gY29uc3RydWN0ZWQgdGFnIDBcbiAgICAgIGluZGV4ID0gcmVhZEFTTjFMZW5ndGgoZGF0YSwgaW5kZXgpLmluZGV4IC8vIHNraXAgb3ZlciB0YWcgbGVuZ3RoIGZpZWxkXG4gICAgICBpbmRleCA9IGV4cGVjdEFTTjFTZXEoZGF0YSwgaW5kZXgpLmluZGV4IC8vIHNraXAgb3ZlciBzZXF1ZW5jZSBsZW5ndGggZmllbGRcbiAgICAgIGNvbnN0IHsgb2lkOiBoYXNoT0lEIH0gPSByZWFkQVNOMU9JRChkYXRhLCBpbmRleClcbiAgICAgIHN3aXRjaCAoaGFzaE9JRCkge1xuICAgICAgICAvLyBzdGFuZGFsb25lIGhhc2ggT0lEc1xuICAgICAgICBjYXNlICcxLjIuODQwLjExMzU0OS4yLjUnOlxuICAgICAgICAgIHJldHVybiAnTUQ1J1xuICAgICAgICBjYXNlICcxLjMuMTQuMy4yLjI2JzpcbiAgICAgICAgICByZXR1cm4gJ1NIQS0xJ1xuICAgICAgICBjYXNlICcyLjE2Ljg0MC4xLjEwMS4zLjQuMi4xJzpcbiAgICAgICAgICByZXR1cm4gJ1NIQS0yNTYnXG4gICAgICAgIGNhc2UgJzIuMTYuODQwLjEuMTAxLjMuNC4yLjInOlxuICAgICAgICAgIHJldHVybiAnU0hBLTM4NCdcbiAgICAgICAgY2FzZSAnMi4xNi44NDAuMS4xMDEuMy40LjIuMyc6XG4gICAgICAgICAgcmV0dXJuICdTSEEtNTEyJ1xuICAgICAgfVxuICAgICAgdGhyb3cgeDUwOUVycm9yKCd1bmtub3duIGhhc2ggT0lEICcgKyBoYXNoT0lELCBkYXRhKVxuICAgIH1cbiAgICAvLyBFZDI1NTE5IC0tIHNlZSBodHRwczogcmV0dXJuLy9naXRodWIuY29tL29wZW5zc2wvb3BlbnNzbC9pc3N1ZXMvMTU0NzdcbiAgICBjYXNlICcxLjMuMTAxLjExMCc6XG4gICAgY2FzZSAnMS4zLjEwMS4xMTInOiAvLyBwaFxuICAgICAgcmV0dXJuICdTSEEtNTEyJ1xuICAgIC8vIEVkNDQ4IC0tIHN0aWxsIG5vdCBpbiBwZyAxNy4yIChpZiBzdXBwb3J0ZWQsIGRpZ2VzdCB3b3VsZCBiZSBTSEFLRTI1NiB4IDY0IGJ5dGVzKVxuICAgIGNhc2UgJzEuMy4xMDEuMTExJzpcbiAgICBjYXNlICcxLjMuMTAxLjExMyc6IC8vIHBoXG4gICAgICB0aHJvdyB4NTA5RXJyb3IoJ0VkNDQ4IGNlcnRpZmljYXRlIGNoYW5uZWwgYmluZGluZyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBQb3N0Z3JlcycpXG4gIH1cbiAgdGhyb3cgeDUwOUVycm9yKCd1bmtub3duIE9JRCAnICsgb2lkLCBkYXRhKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgc2lnbmF0dXJlQWxnb3JpdGhtSGFzaEZyb21DZXJ0aWZpY2F0ZSB9XG4iLCAiJ3VzZSBzdHJpY3QnXG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKCcuL3V0aWxzJylcbmNvbnN0IHsgc2lnbmF0dXJlQWxnb3JpdGhtSGFzaEZyb21DZXJ0aWZpY2F0ZSB9ID0gcmVxdWlyZSgnLi9jZXJ0LXNpZ25hdHVyZXMnKVxuXG5mdW5jdGlvbiBzdGFydFNlc3Npb24obWVjaGFuaXNtcywgc3RyZWFtKSB7XG4gIGNvbnN0IGNhbmRpZGF0ZXMgPSBbJ1NDUkFNLVNIQS0yNTYnXVxuICBpZiAoc3RyZWFtKSBjYW5kaWRhdGVzLnVuc2hpZnQoJ1NDUkFNLVNIQS0yNTYtUExVUycpIC8vIGhpZ2hlci1wcmlvcml0eSwgc28gcGxhY2VkIGZpcnN0XG5cbiAgY29uc3QgbWVjaGFuaXNtID0gY2FuZGlkYXRlcy5maW5kKChjYW5kaWRhdGUpID0+IG1lY2hhbmlzbXMuaW5jbHVkZXMoY2FuZGlkYXRlKSlcblxuICBpZiAoIW1lY2hhbmlzbSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogT25seSBtZWNoYW5pc20ocykgJyArIGNhbmRpZGF0ZXMuam9pbignIGFuZCAnKSArICcgYXJlIHN1cHBvcnRlZCcpXG4gIH1cblxuICBpZiAobWVjaGFuaXNtID09PSAnU0NSQU0tU0hBLTI1Ni1QTFVTJyAmJiB0eXBlb2Ygc3RyZWFtLmdldFBlZXJDZXJ0aWZpY2F0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIHRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbiBpZiB3ZSBhcmUgcmVhbGx5IHRhbGtpbmcgdG8gYSBQb3N0Z3JlcyBzZXJ2ZXJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IE1lY2hhbmlzbSBTQ1JBTS1TSEEtMjU2LVBMVVMgcmVxdWlyZXMgYSBjZXJ0aWZpY2F0ZScpXG4gIH1cblxuICBjb25zdCBjbGllbnROb25jZSA9IGNyeXB0by5yYW5kb21CeXRlcygxOCkudG9TdHJpbmcoJ2Jhc2U2NCcpXG4gIGNvbnN0IGdzMkhlYWRlciA9IG1lY2hhbmlzbSA9PT0gJ1NDUkFNLVNIQS0yNTYtUExVUycgPyAncD10bHMtc2VydmVyLWVuZC1wb2ludCcgOiBzdHJlYW0gPyAneScgOiAnbidcblxuICByZXR1cm4ge1xuICAgIG1lY2hhbmlzbSxcbiAgICBjbGllbnROb25jZSxcbiAgICByZXNwb25zZTogZ3MySGVhZGVyICsgJywsbj0qLHI9JyArIGNsaWVudE5vbmNlLFxuICAgIG1lc3NhZ2U6ICdTQVNMSW5pdGlhbFJlc3BvbnNlJyxcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjb250aW51ZVNlc3Npb24oc2Vzc2lvbiwgcGFzc3dvcmQsIHNlcnZlckRhdGEsIHN0cmVhbSkge1xuICBpZiAoc2Vzc2lvbi5tZXNzYWdlICE9PSAnU0FTTEluaXRpYWxSZXNwb25zZScpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IExhc3QgbWVzc2FnZSB3YXMgbm90IFNBU0xJbml0aWFsUmVzcG9uc2UnKVxuICB9XG4gIGlmICh0eXBlb2YgcGFzc3dvcmQgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogY2xpZW50IHBhc3N3b3JkIG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG4gIGlmIChwYXNzd29yZCA9PT0gJycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBjbGllbnQgcGFzc3dvcmQgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKVxuICB9XG4gIGlmICh0eXBlb2Ygc2VydmVyRGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBzZXJ2ZXJEYXRhIG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG5cbiAgY29uc3Qgc3YgPSBwYXJzZVNlcnZlckZpcnN0TWVzc2FnZShzZXJ2ZXJEYXRhKVxuXG4gIGlmICghc3Yubm9uY2Uuc3RhcnRzV2l0aChzZXNzaW9uLmNsaWVudE5vbmNlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IHNlcnZlciBub25jZSBkb2VzIG5vdCBzdGFydCB3aXRoIGNsaWVudCBub25jZScpXG4gIH0gZWxzZSBpZiAoc3Yubm9uY2UubGVuZ3RoID09PSBzZXNzaW9uLmNsaWVudE5vbmNlLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IHNlcnZlciBub25jZSBpcyB0b28gc2hvcnQnKVxuICB9XG5cbiAgY29uc3QgY2xpZW50Rmlyc3RNZXNzYWdlQmFyZSA9ICduPSoscj0nICsgc2Vzc2lvbi5jbGllbnROb25jZVxuICBjb25zdCBzZXJ2ZXJGaXJzdE1lc3NhZ2UgPSAncj0nICsgc3Yubm9uY2UgKyAnLHM9JyArIHN2LnNhbHQgKyAnLGk9JyArIHN2Lml0ZXJhdGlvblxuXG4gIC8vIHdpdGhvdXQgY2hhbm5lbCBiaW5kaW5nOlxuICBsZXQgY2hhbm5lbEJpbmRpbmcgPSBzdHJlYW0gPyAnZVN3cycgOiAnYml3cycgLy8gJ3ksLCcgb3IgJ24sLCcsIGJhc2U2NC1lbmNvZGVkXG5cbiAgLy8gb3ZlcnJpZGUgaWYgY2hhbm5lbCBiaW5kaW5nIGlzIGluIHVzZTpcbiAgaWYgKHNlc3Npb24ubWVjaGFuaXNtID09PSAnU0NSQU0tU0hBLTI1Ni1QTFVTJykge1xuICAgIGNvbnN0IHBlZXJDZXJ0ID0gc3RyZWFtLmdldFBlZXJDZXJ0aWZpY2F0ZSgpLnJhd1xuICAgIGxldCBoYXNoTmFtZSA9IHNpZ25hdHVyZUFsZ29yaXRobUhhc2hGcm9tQ2VydGlmaWNhdGUocGVlckNlcnQpXG4gICAgaWYgKGhhc2hOYW1lID09PSAnTUQ1JyB8fCBoYXNoTmFtZSA9PT0gJ1NIQS0xJykgaGFzaE5hbWUgPSAnU0hBLTI1NidcbiAgICBjb25zdCBjZXJ0SGFzaCA9IGF3YWl0IGNyeXB0by5oYXNoQnlOYW1lKGhhc2hOYW1lLCBwZWVyQ2VydClcbiAgICBjb25zdCBiaW5kaW5nRGF0YSA9IEJ1ZmZlci5jb25jYXQoW0J1ZmZlci5mcm9tKCdwPXRscy1zZXJ2ZXItZW5kLXBvaW50LCwnKSwgQnVmZmVyLmZyb20oY2VydEhhc2gpXSlcbiAgICBjaGFubmVsQmluZGluZyA9IGJpbmRpbmdEYXRhLnRvU3RyaW5nKCdiYXNlNjQnKVxuICB9XG5cbiAgY29uc3QgY2xpZW50RmluYWxNZXNzYWdlV2l0aG91dFByb29mID0gJ2M9JyArIGNoYW5uZWxCaW5kaW5nICsgJyxyPScgKyBzdi5ub25jZVxuICBjb25zdCBhdXRoTWVzc2FnZSA9IGNsaWVudEZpcnN0TWVzc2FnZUJhcmUgKyAnLCcgKyBzZXJ2ZXJGaXJzdE1lc3NhZ2UgKyAnLCcgKyBjbGllbnRGaW5hbE1lc3NhZ2VXaXRob3V0UHJvb2ZcblxuICBjb25zdCBzYWx0Qnl0ZXMgPSBCdWZmZXIuZnJvbShzdi5zYWx0LCAnYmFzZTY0JylcbiAgY29uc3Qgc2FsdGVkUGFzc3dvcmQgPSBhd2FpdCBjcnlwdG8uZGVyaXZlS2V5KHBhc3N3b3JkLCBzYWx0Qnl0ZXMsIHN2Lml0ZXJhdGlvbilcbiAgY29uc3QgY2xpZW50S2V5ID0gYXdhaXQgY3J5cHRvLmhtYWNTaGEyNTYoc2FsdGVkUGFzc3dvcmQsICdDbGllbnQgS2V5JylcbiAgY29uc3Qgc3RvcmVkS2V5ID0gYXdhaXQgY3J5cHRvLnNoYTI1NihjbGllbnRLZXkpXG4gIGNvbnN0IGNsaWVudFNpZ25hdHVyZSA9IGF3YWl0IGNyeXB0by5obWFjU2hhMjU2KHN0b3JlZEtleSwgYXV0aE1lc3NhZ2UpXG4gIGNvbnN0IGNsaWVudFByb29mID0geG9yQnVmZmVycyhCdWZmZXIuZnJvbShjbGllbnRLZXkpLCBCdWZmZXIuZnJvbShjbGllbnRTaWduYXR1cmUpKS50b1N0cmluZygnYmFzZTY0JylcbiAgY29uc3Qgc2VydmVyS2V5ID0gYXdhaXQgY3J5cHRvLmhtYWNTaGEyNTYoc2FsdGVkUGFzc3dvcmQsICdTZXJ2ZXIgS2V5JylcbiAgY29uc3Qgc2VydmVyU2lnbmF0dXJlQnl0ZXMgPSBhd2FpdCBjcnlwdG8uaG1hY1NoYTI1NihzZXJ2ZXJLZXksIGF1dGhNZXNzYWdlKVxuXG4gIHNlc3Npb24ubWVzc2FnZSA9ICdTQVNMUmVzcG9uc2UnXG4gIHNlc3Npb24uc2VydmVyU2lnbmF0dXJlID0gQnVmZmVyLmZyb20oc2VydmVyU2lnbmF0dXJlQnl0ZXMpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICBzZXNzaW9uLnJlc3BvbnNlID0gY2xpZW50RmluYWxNZXNzYWdlV2l0aG91dFByb29mICsgJyxwPScgKyBjbGllbnRQcm9vZlxufVxuXG5mdW5jdGlvbiBmaW5hbGl6ZVNlc3Npb24oc2Vzc2lvbiwgc2VydmVyRGF0YSkge1xuICBpZiAoc2Vzc2lvbi5tZXNzYWdlICE9PSAnU0FTTFJlc3BvbnNlJykge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogTGFzdCBtZXNzYWdlIHdhcyBub3QgU0FTTFJlc3BvbnNlJylcbiAgfVxuICBpZiAodHlwZW9mIHNlcnZlckRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklOQUwtTUVTU0FHRTogc2VydmVyRGF0YSBtdXN0IGJlIGEgc3RyaW5nJylcbiAgfVxuXG4gIGNvbnN0IHsgc2VydmVyU2lnbmF0dXJlIH0gPSBwYXJzZVNlcnZlckZpbmFsTWVzc2FnZShzZXJ2ZXJEYXRhKVxuXG4gIGlmIChzZXJ2ZXJTaWduYXR1cmUgIT09IHNlc3Npb24uc2VydmVyU2lnbmF0dXJlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklOQUwtTUVTU0FHRTogc2VydmVyIHNpZ25hdHVyZSBkb2VzIG5vdCBtYXRjaCcpXG4gIH1cbn1cblxuLyoqXG4gKiBwcmludGFibGUgICAgICAgPSAleDIxLTJCIC8gJXgyRC03RVxuICogICAgICAgICAgICAgICAgICAgOzsgUHJpbnRhYmxlIEFTQ0lJIGV4Y2VwdCBcIixcIi5cbiAqICAgICAgICAgICAgICAgICAgIDs7IE5vdGUgdGhhdCBhbnkgXCJwcmludGFibGVcIiBpcyBhbHNvXG4gKiAgICAgICAgICAgICAgICAgICA7OyBhIHZhbGlkIFwidmFsdWVcIi5cbiAqL1xuZnVuY3Rpb24gaXNQcmludGFibGVDaGFycyh0ZXh0KSB7XG4gIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTQVNMOiB0ZXh0IG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG4gIHJldHVybiB0ZXh0XG4gICAgLnNwbGl0KCcnKVxuICAgIC5tYXAoKF8sIGkpID0+IHRleHQuY2hhckNvZGVBdChpKSlcbiAgICAuZXZlcnkoKGMpID0+IChjID49IDB4MjEgJiYgYyA8PSAweDJiKSB8fCAoYyA+PSAweDJkICYmIGMgPD0gMHg3ZSkpXG59XG5cbi8qKlxuICogYmFzZTY0LWNoYXIgICAgID0gQUxQSEEgLyBESUdJVCAvIFwiL1wiIC8gXCIrXCJcbiAqXG4gKiBiYXNlNjQtNCAgICAgICAgPSA0YmFzZTY0LWNoYXJcbiAqXG4gKiBiYXNlNjQtMyAgICAgICAgPSAzYmFzZTY0LWNoYXIgXCI9XCJcbiAqXG4gKiBiYXNlNjQtMiAgICAgICAgPSAyYmFzZTY0LWNoYXIgXCI9PVwiXG4gKlxuICogYmFzZTY0ICAgICAgICAgID0gKmJhc2U2NC00IFtiYXNlNjQtMyAvIGJhc2U2NC0yXVxuICovXG5mdW5jdGlvbiBpc0Jhc2U2NCh0ZXh0KSB7XG4gIHJldHVybiAvXig/OlthLXpBLVowLTkrL117NH0pKig/OlthLXpBLVowLTkrL117Mn09PXxbYS16QS1aMC05Ky9dezN9PSk/JC8udGVzdCh0ZXh0KVxufVxuXG5mdW5jdGlvbiBwYXJzZUF0dHJpYnV0ZVBhaXJzKHRleHQpIHtcbiAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NBU0w6IGF0dHJpYnV0ZSBwYWlycyB0ZXh0IG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG5cbiAgcmV0dXJuIG5ldyBNYXAoXG4gICAgdGV4dC5zcGxpdCgnLCcpLm1hcCgoYXR0clZhbHVlKSA9PiB7XG4gICAgICBpZiAoIS9eLj0vLnRlc3QoYXR0clZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IEludmFsaWQgYXR0cmlidXRlIHBhaXIgZW50cnknKVxuICAgICAgfVxuICAgICAgY29uc3QgbmFtZSA9IGF0dHJWYWx1ZVswXVxuICAgICAgY29uc3QgdmFsdWUgPSBhdHRyVmFsdWUuc3Vic3RyaW5nKDIpXG4gICAgICByZXR1cm4gW25hbWUsIHZhbHVlXVxuICAgIH0pXG4gIClcbn1cblxuZnVuY3Rpb24gcGFyc2VTZXJ2ZXJGaXJzdE1lc3NhZ2UoZGF0YSkge1xuICBjb25zdCBhdHRyUGFpcnMgPSBwYXJzZUF0dHJpYnV0ZVBhaXJzKGRhdGEpXG5cbiAgY29uc3Qgbm9uY2UgPSBhdHRyUGFpcnMuZ2V0KCdyJylcbiAgaWYgKCFub25jZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IG5vbmNlIG1pc3NpbmcnKVxuICB9IGVsc2UgaWYgKCFpc1ByaW50YWJsZUNoYXJzKG5vbmNlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IG5vbmNlIG11c3Qgb25seSBjb250YWluIHByaW50YWJsZSBjaGFyYWN0ZXJzJylcbiAgfVxuICBjb25zdCBzYWx0ID0gYXR0clBhaXJzLmdldCgncycpXG4gIGlmICghc2FsdCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IHNhbHQgbWlzc2luZycpXG4gIH0gZWxzZSBpZiAoIWlzQmFzZTY0KHNhbHQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogc2FsdCBtdXN0IGJlIGJhc2U2NCcpXG4gIH1cbiAgY29uc3QgaXRlcmF0aW9uVGV4dCA9IGF0dHJQYWlycy5nZXQoJ2knKVxuICBpZiAoIWl0ZXJhdGlvblRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBpdGVyYXRpb24gbWlzc2luZycpXG4gIH0gZWxzZSBpZiAoIS9eWzEtOV1bMC05XSokLy50ZXN0KGl0ZXJhdGlvblRleHQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogaW52YWxpZCBpdGVyYXRpb24gY291bnQnKVxuICB9XG4gIGNvbnN0IGl0ZXJhdGlvbiA9IHBhcnNlSW50KGl0ZXJhdGlvblRleHQsIDEwKVxuXG4gIHJldHVybiB7XG4gICAgbm9uY2UsXG4gICAgc2FsdCxcbiAgICBpdGVyYXRpb24sXG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VTZXJ2ZXJGaW5hbE1lc3NhZ2Uoc2VydmVyRGF0YSkge1xuICBjb25zdCBhdHRyUGFpcnMgPSBwYXJzZUF0dHJpYnV0ZVBhaXJzKHNlcnZlckRhdGEpXG4gIGNvbnN0IHNlcnZlclNpZ25hdHVyZSA9IGF0dHJQYWlycy5nZXQoJ3YnKVxuICBpZiAoIXNlcnZlclNpZ25hdHVyZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJTkFMLU1FU1NBR0U6IHNlcnZlciBzaWduYXR1cmUgaXMgbWlzc2luZycpXG4gIH0gZWxzZSBpZiAoIWlzQmFzZTY0KHNlcnZlclNpZ25hdHVyZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSU5BTC1NRVNTQUdFOiBzZXJ2ZXIgc2lnbmF0dXJlIG11c3QgYmUgYmFzZTY0JylcbiAgfVxuICByZXR1cm4ge1xuICAgIHNlcnZlclNpZ25hdHVyZSxcbiAgfVxufVxuXG5mdW5jdGlvbiB4b3JCdWZmZXJzKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdCdWZmZXIgbGVuZ3RocyBtdXN0IG1hdGNoJylcbiAgfVxuICBpZiAoYS5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlcnMgY2Fubm90IGJlIGVtcHR5JylcbiAgfVxuICByZXR1cm4gQnVmZmVyLmZyb20oYS5tYXAoKF8sIGkpID0+IGFbaV0gXiBiW2ldKSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN0YXJ0U2Vzc2lvbixcbiAgY29udGludWVTZXNzaW9uLFxuICBmaW5hbGl6ZVNlc3Npb24sXG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHR5cGVzID0gcmVxdWlyZSgncGctdHlwZXMnKVxuXG5mdW5jdGlvbiBUeXBlT3ZlcnJpZGVzKHVzZXJUeXBlcykge1xuICB0aGlzLl90eXBlcyA9IHVzZXJUeXBlcyB8fCB0eXBlc1xuICB0aGlzLnRleHQgPSB7fVxuICB0aGlzLmJpbmFyeSA9IHt9XG59XG5cblR5cGVPdmVycmlkZXMucHJvdG90eXBlLmdldE92ZXJyaWRlcyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICBjYXNlICd0ZXh0JzpcbiAgICAgIHJldHVybiB0aGlzLnRleHRcbiAgICBjYXNlICdiaW5hcnknOlxuICAgICAgcmV0dXJuIHRoaXMuYmluYXJ5XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7fVxuICB9XG59XG5cblR5cGVPdmVycmlkZXMucHJvdG90eXBlLnNldFR5cGVQYXJzZXIgPSBmdW5jdGlvbiAob2lkLCBmb3JtYXQsIHBhcnNlRm4pIHtcbiAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwYXJzZUZuID0gZm9ybWF0XG4gICAgZm9ybWF0ID0gJ3RleHQnXG4gIH1cbiAgdGhpcy5nZXRPdmVycmlkZXMoZm9ybWF0KVtvaWRdID0gcGFyc2VGblxufVxuXG5UeXBlT3ZlcnJpZGVzLnByb3RvdHlwZS5nZXRUeXBlUGFyc2VyID0gZnVuY3Rpb24gKG9pZCwgZm9ybWF0KSB7XG4gIGZvcm1hdCA9IGZvcm1hdCB8fCAndGV4dCdcbiAgcmV0dXJuIHRoaXMuZ2V0T3ZlcnJpZGVzKGZvcm1hdClbb2lkXSB8fCB0aGlzLl90eXBlcy5nZXRUeXBlUGFyc2VyKG9pZCwgZm9ybWF0KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFR5cGVPdmVycmlkZXNcbiIsICIndXNlIHN0cmljdCdcblxuLy9QYXJzZSBtZXRob2QgY29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2JyaWFuYy9ub2RlLXBvc3RncmVzXG4vL0NvcHlyaWdodCAoYykgMjAxMC0yMDE0IEJyaWFuIENhcmxzb24gKGJyaWFuLm0uY2FybHNvbkBnbWFpbC5jb20pXG4vL01JVCBMaWNlbnNlXG5cbi8vcGFyc2VzIGEgY29ubmVjdGlvbiBzdHJpbmdcbmZ1bmN0aW9uIHBhcnNlKHN0ciwgb3B0aW9ucyA9IHt9KSB7XG4gIC8vdW5peCBzb2NrZXRcbiAgaWYgKHN0ci5jaGFyQXQoMCkgPT09ICcvJykge1xuICAgIGNvbnN0IGNvbmZpZyA9IHN0ci5zcGxpdCgnICcpXG4gICAgcmV0dXJuIHsgaG9zdDogY29uZmlnWzBdLCBkYXRhYmFzZTogY29uZmlnWzFdIH1cbiAgfVxuXG4gIC8vIENoZWNrIGZvciBlbXB0eSBob3N0IGluIFVSTFxuXG4gIGNvbnN0IGNvbmZpZyA9IHt9XG4gIGxldCByZXN1bHRcbiAgbGV0IGR1bW15SG9zdCA9IGZhbHNlXG4gIGlmICgvIHwlW15hLWYwLTldfCVbYS1mMC05XVteYS1mMC05XS9pLnRlc3Qoc3RyKSkge1xuICAgIC8vIEVuc3VyZSBzcGFjZXMgYXJlIGVuY29kZWQgYXMgJTIwXG4gICAgc3RyID0gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvJTI1KFxcZFxcZCkvZywgJyUkMScpXG4gIH1cblxuICB0cnkge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBuZXcgVVJMKHN0ciwgJ3Bvc3RncmVzOi8vYmFzZScpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gVGhlIFVSTCBpcyBpbnZhbGlkIHNvIHRyeSBhZ2FpbiB3aXRoIGEgZHVtbXkgaG9zdFxuICAgICAgcmVzdWx0ID0gbmV3IFVSTChzdHIucmVwbGFjZSgnQC8nLCAnQF9fX0RVTU1ZX19fLycpLCAncG9zdGdyZXM6Ly9iYXNlJylcbiAgICAgIGR1bW15SG9zdCA9IHRydWVcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIFJlbW92ZSB0aGUgaW5wdXQgZnJvbSB0aGUgZXJyb3IgbWVzc2FnZSB0byBhdm9pZCBsZWFraW5nIHNlbnNpdGl2ZSBpbmZvcm1hdGlvblxuICAgIGVyci5pbnB1dCAmJiAoZXJyLmlucHV0ID0gJyoqKioqUkVEQUNURUQqKioqKicpXG4gIH1cblxuICAvLyBXZSdkIGxpa2UgdG8gdXNlIE9iamVjdC5mcm9tRW50cmllcygpIGhlcmUgYnV0IE5vZGUuanMgMTAgZG9lcyBub3Qgc3VwcG9ydCBpdFxuICBmb3IgKGNvbnN0IGVudHJ5IG9mIHJlc3VsdC5zZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgY29uZmlnW2VudHJ5WzBdXSA9IGVudHJ5WzFdXG4gIH1cblxuICBjb25maWcudXNlciA9IGNvbmZpZy51c2VyIHx8IGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHQudXNlcm5hbWUpXG4gIGNvbmZpZy5wYXNzd29yZCA9IGNvbmZpZy5wYXNzd29yZCB8fCBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0LnBhc3N3b3JkKVxuXG4gIGlmIChyZXN1bHQucHJvdG9jb2wgPT0gJ3NvY2tldDonKSB7XG4gICAgY29uZmlnLmhvc3QgPSBkZWNvZGVVUkkocmVzdWx0LnBhdGhuYW1lKVxuICAgIGNvbmZpZy5kYXRhYmFzZSA9IHJlc3VsdC5zZWFyY2hQYXJhbXMuZ2V0KCdkYicpXG4gICAgY29uZmlnLmNsaWVudF9lbmNvZGluZyA9IHJlc3VsdC5zZWFyY2hQYXJhbXMuZ2V0KCdlbmNvZGluZycpXG4gICAgcmV0dXJuIGNvbmZpZ1xuICB9XG4gIGNvbnN0IGhvc3RuYW1lID0gZHVtbXlIb3N0ID8gJycgOiByZXN1bHQuaG9zdG5hbWVcbiAgaWYgKCFjb25maWcuaG9zdCkge1xuICAgIC8vIE9ubHkgc2V0IHRoZSBob3N0IGlmIHRoZXJlIGlzIG5vIGVxdWl2YWxlbnQgcXVlcnkgcGFyYW0uXG4gICAgY29uZmlnLmhvc3QgPSBkZWNvZGVVUklDb21wb25lbnQoaG9zdG5hbWUpXG4gIH0gZWxzZSBpZiAoaG9zdG5hbWUgJiYgL14lMmYvaS50ZXN0KGhvc3RuYW1lKSkge1xuICAgIC8vIE9ubHkgcHJlcGVuZCB0aGUgaG9zdG5hbWUgdG8gdGhlIHBhdGhuYW1lIGlmIGl0IGlzIG5vdCBhIFVSTCBlbmNvZGVkIFVuaXggc29ja2V0IGhvc3QuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gaG9zdG5hbWUgKyByZXN1bHQucGF0aG5hbWVcbiAgfVxuICBpZiAoIWNvbmZpZy5wb3J0KSB7XG4gICAgLy8gT25seSBzZXQgdGhlIHBvcnQgaWYgdGhlcmUgaXMgbm8gZXF1aXZhbGVudCBxdWVyeSBwYXJhbS5cbiAgICBjb25maWcucG9ydCA9IHJlc3VsdC5wb3J0XG4gIH1cblxuICBjb25zdCBwYXRobmFtZSA9IHJlc3VsdC5wYXRobmFtZS5zbGljZSgxKSB8fCBudWxsXG4gIGNvbmZpZy5kYXRhYmFzZSA9IHBhdGhuYW1lID8gZGVjb2RlVVJJKHBhdGhuYW1lKSA6IG51bGxcblxuICBpZiAoY29uZmlnLnNzbCA9PT0gJ3RydWUnIHx8IGNvbmZpZy5zc2wgPT09ICcxJykge1xuICAgIGNvbmZpZy5zc2wgPSB0cnVlXG4gIH1cblxuICBpZiAoY29uZmlnLnNzbCA9PT0gJzAnKSB7XG4gICAgY29uZmlnLnNzbCA9IGZhbHNlXG4gIH1cblxuICBpZiAoY29uZmlnLnNzbGNlcnQgfHwgY29uZmlnLnNzbGtleSB8fCBjb25maWcuc3Nscm9vdGNlcnQgfHwgY29uZmlnLnNzbG1vZGUpIHtcbiAgICBjb25maWcuc3NsID0ge31cbiAgfVxuXG4gIC8vIE9ubHkgdHJ5IHRvIGxvYWQgZnMgaWYgd2UgZXhwZWN0IHRvIHJlYWQgZnJvbSB0aGUgZGlza1xuICBjb25zdCBmcyA9IGNvbmZpZy5zc2xjZXJ0IHx8IGNvbmZpZy5zc2xrZXkgfHwgY29uZmlnLnNzbHJvb3RjZXJ0ID8gcmVxdWlyZSgnZnMnKSA6IG51bGxcblxuICBpZiAoY29uZmlnLnNzbGNlcnQpIHtcbiAgICBjb25maWcuc3NsLmNlcnQgPSBmcy5yZWFkRmlsZVN5bmMoY29uZmlnLnNzbGNlcnQpLnRvU3RyaW5nKClcbiAgfVxuXG4gIGlmIChjb25maWcuc3Nsa2V5KSB7XG4gICAgY29uZmlnLnNzbC5rZXkgPSBmcy5yZWFkRmlsZVN5bmMoY29uZmlnLnNzbGtleSkudG9TdHJpbmcoKVxuICB9XG5cbiAgaWYgKGNvbmZpZy5zc2xyb290Y2VydCkge1xuICAgIGNvbmZpZy5zc2wuY2EgPSBmcy5yZWFkRmlsZVN5bmMoY29uZmlnLnNzbHJvb3RjZXJ0KS50b1N0cmluZygpXG4gIH1cblxuICBpZiAob3B0aW9ucy51c2VMaWJwcUNvbXBhdCAmJiBjb25maWcudXNlbGlicHFjb21wYXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0JvdGggdXNlTGlicHFDb21wYXQgYW5kIHVzZWxpYnBxY29tcGF0IGFyZSBzZXQuIFBsZWFzZSB1c2Ugb25seSBvbmUgb2YgdGhlbS4nKVxuICB9XG5cbiAgaWYgKGNvbmZpZy51c2VsaWJwcWNvbXBhdCA9PT0gJ3RydWUnIHx8IG9wdGlvbnMudXNlTGlicHFDb21wYXQpIHtcbiAgICBzd2l0Y2ggKGNvbmZpZy5zc2xtb2RlKSB7XG4gICAgICBjYXNlICdkaXNhYmxlJzoge1xuICAgICAgICBjb25maWcuc3NsID0gZmFsc2VcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3ByZWZlcic6IHtcbiAgICAgICAgY29uZmlnLnNzbC5yZWplY3RVbmF1dGhvcml6ZWQgPSBmYWxzZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAncmVxdWlyZSc6IHtcbiAgICAgICAgaWYgKGNvbmZpZy5zc2xyb290Y2VydCkge1xuICAgICAgICAgIC8vIElmIGEgcm9vdCBDQSBpcyBzcGVjaWZpZWQsIGJlaGF2aW9yIG9mIGBzc2xtb2RlPXJlcXVpcmVgIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhhdCBvZiBgdmVyaWZ5LWNhYFxuICAgICAgICAgIGNvbmZpZy5zc2wuY2hlY2tTZXJ2ZXJJZGVudGl0eSA9IGZ1bmN0aW9uICgpIHt9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uZmlnLnNzbC5yZWplY3RVbmF1dGhvcml6ZWQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICd2ZXJpZnktY2EnOiB7XG4gICAgICAgIGlmICghY29uZmlnLnNzbC5jYSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdTRUNVUklUWSBXQVJOSU5HOiBVc2luZyBzc2xtb2RlPXZlcmlmeS1jYSByZXF1aXJlcyBzcGVjaWZ5aW5nIGEgQ0Egd2l0aCBzc2xyb290Y2VydC4gSWYgYSBwdWJsaWMgQ0EgaXMgdXNlZCwgdmVyaWZ5LWNhIGFsbG93cyBjb25uZWN0aW9ucyB0byBhIHNlcnZlciB0aGF0IHNvbWVib2R5IGVsc2UgbWF5IGhhdmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSBDQSwgbWFraW5nIHlvdSB2dWxuZXJhYmxlIHRvIE1hbi1pbi10aGUtTWlkZGxlIGF0dGFja3MuIEVpdGhlciBzcGVjaWZ5IGEgY3VzdG9tIENBIGNlcnRpZmljYXRlIHdpdGggc3Nscm9vdGNlcnQgcGFyYW1ldGVyIG9yIHVzZSBzc2xtb2RlPXZlcmlmeS1mdWxsIGZvciBwcm9wZXIgc2VjdXJpdHkuJ1xuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBjb25maWcuc3NsLmNoZWNrU2VydmVySWRlbnRpdHkgPSBmdW5jdGlvbiAoKSB7fVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAndmVyaWZ5LWZ1bGwnOiB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXRjaCAoY29uZmlnLnNzbG1vZGUpIHtcbiAgICAgIGNhc2UgJ2Rpc2FibGUnOiB7XG4gICAgICAgIGNvbmZpZy5zc2wgPSBmYWxzZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAncHJlZmVyJzpcbiAgICAgIGNhc2UgJ3JlcXVpcmUnOlxuICAgICAgY2FzZSAndmVyaWZ5LWNhJzpcbiAgICAgIGNhc2UgJ3ZlcmlmeS1mdWxsJzoge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnbm8tdmVyaWZ5Jzoge1xuICAgICAgICBjb25maWcuc3NsLnJlamVjdFVuYXV0aG9yaXplZCA9IGZhbHNlXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmZpZ1xufVxuXG4vLyBjb252ZXJ0IHBnLWNvbm5lY3Rpb24tc3RyaW5nIHNzbCBjb25maWcgdG8gYSBDbGllbnRDb25maWcuQ29ubmVjdGlvbk9wdGlvbnNcbmZ1bmN0aW9uIHRvQ29ubmVjdGlvbk9wdGlvbnMoc3NsQ29uZmlnKSB7XG4gIGNvbnN0IGNvbm5lY3Rpb25PcHRpb25zID0gT2JqZWN0LmVudHJpZXMoc3NsQ29uZmlnKS5yZWR1Y2UoKGMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIC8vIHdlIGV4cGxpY2l0bHkgY2hlY2sgZm9yIHVuZGVmaW5lZCBhbmQgbnVsbCBpbnN0ZWFkIG9mIGBpZiAodmFsdWUpYCBiZWNhdXNlIHNvbWVcbiAgICAvLyBvcHRpb25zIGFjY2VwdCBmYWxzeSB2YWx1ZXMuIEV4YW1wbGU6IGBzc2wucmVqZWN0VW5hdXRob3JpemVkID0gZmFsc2VgXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIGNba2V5XSA9IHZhbHVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGNcbiAgfSwge30pXG5cbiAgcmV0dXJuIGNvbm5lY3Rpb25PcHRpb25zXG59XG5cbi8vIGNvbnZlcnQgcGctY29ubmVjdGlvbi1zdHJpbmcgY29uZmlnIHRvIGEgQ2xpZW50Q29uZmlnXG5mdW5jdGlvbiB0b0NsaWVudENvbmZpZyhjb25maWcpIHtcbiAgY29uc3QgcG9vbENvbmZpZyA9IE9iamVjdC5lbnRyaWVzKGNvbmZpZykucmVkdWNlKChjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBpZiAoa2V5ID09PSAnc3NsJykge1xuICAgICAgY29uc3Qgc3NsQ29uZmlnID0gdmFsdWVcblxuICAgICAgaWYgKHR5cGVvZiBzc2xDb25maWcgPT09ICdib29sZWFuJykge1xuICAgICAgICBjW2tleV0gPSBzc2xDb25maWdcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzc2xDb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNba2V5XSA9IHRvQ29ubmVjdGlvbk9wdGlvbnMoc3NsQ29uZmlnKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKGtleSA9PT0gJ3BvcnQnKSB7XG4gICAgICAgIC8vIHdoZW4gcG9ydCBpcyBub3Qgc3BlY2lmaWVkLCBpdCBpcyBjb252ZXJ0ZWQgaW50byBhbiBlbXB0eSBzdHJpbmdcbiAgICAgICAgLy8gd2Ugd2FudCB0byBhdm9pZCBOYU4gb3IgZW1wdHkgc3RyaW5nIGFzIGEgdmFsdWVzIGluIENsaWVudENvbmZpZ1xuICAgICAgICBpZiAodmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgY29uc3QgdiA9IHBhcnNlSW50KHZhbHVlLCAxMClcbiAgICAgICAgICBpZiAoaXNOYU4odikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCAke2tleX06ICR7dmFsdWV9YClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjW2tleV0gPSB2XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNba2V5XSA9IHZhbHVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNcbiAgfSwge30pXG5cbiAgcmV0dXJuIHBvb2xDb25maWdcbn1cblxuLy8gcGFyc2VzIGEgY29ubmVjdGlvbiBzdHJpbmcgaW50byBDbGllbnRDb25maWdcbmZ1bmN0aW9uIHBhcnNlSW50b0NsaWVudENvbmZpZyhzdHIpIHtcbiAgcmV0dXJuIHRvQ2xpZW50Q29uZmlnKHBhcnNlKHN0cikpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyc2VcblxucGFyc2UucGFyc2UgPSBwYXJzZVxucGFyc2UudG9DbGllbnRDb25maWcgPSB0b0NsaWVudENvbmZpZ1xucGFyc2UucGFyc2VJbnRvQ2xpZW50Q29uZmlnID0gcGFyc2VJbnRvQ2xpZW50Q29uZmlnXG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGRucyA9IHJlcXVpcmUoJ2RucycpXG5cbmNvbnN0IGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpXG5cbmNvbnN0IHBhcnNlID0gcmVxdWlyZSgncGctY29ubmVjdGlvbi1zdHJpbmcnKS5wYXJzZSAvLyBwYXJzZXMgYSBjb25uZWN0aW9uIHN0cmluZ1xuXG5jb25zdCB2YWwgPSBmdW5jdGlvbiAoa2V5LCBjb25maWcsIGVudlZhcikge1xuICBpZiAoZW52VmFyID09PSB1bmRlZmluZWQpIHtcbiAgICBlbnZWYXIgPSBwcm9jZXNzLmVudlsnUEcnICsga2V5LnRvVXBwZXJDYXNlKCldXG4gIH0gZWxzZSBpZiAoZW52VmFyID09PSBmYWxzZSkge1xuICAgIC8vIGRvIG5vdGhpbmcgLi4uIHVzZSBmYWxzZVxuICB9IGVsc2Uge1xuICAgIGVudlZhciA9IHByb2Nlc3MuZW52W2VudlZhcl1cbiAgfVxuXG4gIHJldHVybiBjb25maWdba2V5XSB8fCBlbnZWYXIgfHwgZGVmYXVsdHNba2V5XVxufVxuXG5jb25zdCByZWFkU1NMQ29uZmlnRnJvbUVudmlyb25tZW50ID0gZnVuY3Rpb24gKCkge1xuICBzd2l0Y2ggKHByb2Nlc3MuZW52LlBHU1NMTU9ERSkge1xuICAgIGNhc2UgJ2Rpc2FibGUnOlxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgY2FzZSAncHJlZmVyJzpcbiAgICBjYXNlICdyZXF1aXJlJzpcbiAgICBjYXNlICd2ZXJpZnktY2EnOlxuICAgIGNhc2UgJ3ZlcmlmeS1mdWxsJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgY2FzZSAnbm8tdmVyaWZ5JzpcbiAgICAgIHJldHVybiB7IHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UgfVxuICB9XG4gIHJldHVybiBkZWZhdWx0cy5zc2xcbn1cblxuLy8gQ29udmVydCBhcmcgdG8gYSBzdHJpbmcsIHN1cnJvdW5kIGluIHNpbmdsZSBxdW90ZXMsIGFuZCBlc2NhcGUgc2luZ2xlIHF1b3RlcyBhbmQgYmFja3NsYXNoZXNcbmNvbnN0IHF1b3RlUGFyYW1WYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICByZXR1cm4gXCInXCIgKyAoJycgKyB2YWx1ZSkucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikgKyBcIidcIlxufVxuXG5jb25zdCBhZGQgPSBmdW5jdGlvbiAocGFyYW1zLCBjb25maWcsIHBhcmFtTmFtZSkge1xuICBjb25zdCB2YWx1ZSA9IGNvbmZpZ1twYXJhbU5hbWVdXG4gIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgcGFyYW1zLnB1c2gocGFyYW1OYW1lICsgJz0nICsgcXVvdGVQYXJhbVZhbHVlKHZhbHVlKSlcbiAgfVxufVxuXG5jbGFzcyBDb25uZWN0aW9uUGFyYW1ldGVycyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIC8vIGlmIGEgc3RyaW5nIGlzIHBhc3NlZCwgaXQgaXMgYSByYXcgY29ubmVjdGlvbiBzdHJpbmcgc28gd2UgcGFyc2UgaXQgaW50byBhIGNvbmZpZ1xuICAgIGNvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnID8gcGFyc2UoY29uZmlnKSA6IGNvbmZpZyB8fCB7fVxuXG4gICAgLy8gaWYgdGhlIGNvbmZpZyBoYXMgYSBjb25uZWN0aW9uU3RyaW5nIGRlZmluZWQsIHBhcnNlIElUIGludG8gdGhlIGNvbmZpZyB3ZSB1c2VcbiAgICAvLyB0aGlzIHdpbGwgb3ZlcnJpZGUgb3RoZXIgZGVmYXVsdCB2YWx1ZXMgd2l0aCB3aGF0IGlzIHN0b3JlZCBpbiBjb25uZWN0aW9uU3RyaW5nXG4gICAgaWYgKGNvbmZpZy5jb25uZWN0aW9uU3RyaW5nKSB7XG4gICAgICBjb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBjb25maWcsIHBhcnNlKGNvbmZpZy5jb25uZWN0aW9uU3RyaW5nKSlcbiAgICB9XG5cbiAgICB0aGlzLnVzZXIgPSB2YWwoJ3VzZXInLCBjb25maWcpXG4gICAgdGhpcy5kYXRhYmFzZSA9IHZhbCgnZGF0YWJhc2UnLCBjb25maWcpXG5cbiAgICBpZiAodGhpcy5kYXRhYmFzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmRhdGFiYXNlID0gdGhpcy51c2VyXG4gICAgfVxuXG4gICAgdGhpcy5wb3J0ID0gcGFyc2VJbnQodmFsKCdwb3J0JywgY29uZmlnKSwgMTApXG4gICAgdGhpcy5ob3N0ID0gdmFsKCdob3N0JywgY29uZmlnKVxuXG4gICAgLy8gXCJoaWRpbmdcIiB0aGUgcGFzc3dvcmQgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgIC8vIG9yIGlmIHRoZSBjbGllbnQgaXMgY29uc29sZS5sb2dnZWRcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Bhc3N3b3JkJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2YWwoJ3Bhc3N3b3JkJywgY29uZmlnKSxcbiAgICB9KVxuXG4gICAgdGhpcy5iaW5hcnkgPSB2YWwoJ2JpbmFyeScsIGNvbmZpZylcbiAgICB0aGlzLm9wdGlvbnMgPSB2YWwoJ29wdGlvbnMnLCBjb25maWcpXG5cbiAgICB0aGlzLnNzbCA9IHR5cGVvZiBjb25maWcuc3NsID09PSAndW5kZWZpbmVkJyA/IHJlYWRTU0xDb25maWdGcm9tRW52aXJvbm1lbnQoKSA6IGNvbmZpZy5zc2xcblxuICAgIGlmICh0eXBlb2YgdGhpcy5zc2wgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodGhpcy5zc2wgPT09ICd0cnVlJykge1xuICAgICAgICB0aGlzLnNzbCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gc3VwcG9ydCBwYXNzaW5nIGluIHNzbD1uby12ZXJpZnkgdmlhIGNvbm5lY3Rpb24gc3RyaW5nXG4gICAgaWYgKHRoaXMuc3NsID09PSAnbm8tdmVyaWZ5Jykge1xuICAgICAgdGhpcy5zc2wgPSB7IHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zc2wgJiYgdGhpcy5zc2wua2V5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5zc2wsICdrZXknLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLmNsaWVudF9lbmNvZGluZyA9IHZhbCgnY2xpZW50X2VuY29kaW5nJywgY29uZmlnKVxuICAgIHRoaXMucmVwbGljYXRpb24gPSB2YWwoJ3JlcGxpY2F0aW9uJywgY29uZmlnKVxuICAgIC8vIGEgZG9tYWluIHNvY2tldCBiZWdpbnMgd2l0aCAnLydcbiAgICB0aGlzLmlzRG9tYWluU29ja2V0ID0gISh0aGlzLmhvc3QgfHwgJycpLmluZGV4T2YoJy8nKVxuXG4gICAgdGhpcy5hcHBsaWNhdGlvbl9uYW1lID0gdmFsKCdhcHBsaWNhdGlvbl9uYW1lJywgY29uZmlnLCAnUEdBUFBOQU1FJylcbiAgICB0aGlzLmZhbGxiYWNrX2FwcGxpY2F0aW9uX25hbWUgPSB2YWwoJ2ZhbGxiYWNrX2FwcGxpY2F0aW9uX25hbWUnLCBjb25maWcsIGZhbHNlKVxuICAgIHRoaXMuc3RhdGVtZW50X3RpbWVvdXQgPSB2YWwoJ3N0YXRlbWVudF90aW1lb3V0JywgY29uZmlnLCBmYWxzZSlcbiAgICB0aGlzLmxvY2tfdGltZW91dCA9IHZhbCgnbG9ja190aW1lb3V0JywgY29uZmlnLCBmYWxzZSlcbiAgICB0aGlzLmlkbGVfaW5fdHJhbnNhY3Rpb25fc2Vzc2lvbl90aW1lb3V0ID0gdmFsKCdpZGxlX2luX3RyYW5zYWN0aW9uX3Nlc3Npb25fdGltZW91dCcsIGNvbmZpZywgZmFsc2UpXG4gICAgdGhpcy5xdWVyeV90aW1lb3V0ID0gdmFsKCdxdWVyeV90aW1lb3V0JywgY29uZmlnLCBmYWxzZSlcblxuICAgIGlmIChjb25maWcuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jb25uZWN0X3RpbWVvdXQgPSBwcm9jZXNzLmVudi5QR0NPTk5FQ1RfVElNRU9VVCB8fCAwXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29ubmVjdF90aW1lb3V0ID0gTWF0aC5mbG9vcihjb25maWcuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMgLyAxMDAwKVxuICAgIH1cblxuICAgIGlmIChjb25maWcua2VlcEFsaXZlID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5rZWVwYWxpdmVzID0gMFxuICAgIH0gZWxzZSBpZiAoY29uZmlnLmtlZXBBbGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5rZWVwYWxpdmVzID0gMVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY29uZmlnLmtlZXBBbGl2ZUluaXRpYWxEZWxheU1pbGxpcyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMua2VlcGFsaXZlc19pZGxlID0gTWF0aC5mbG9vcihjb25maWcua2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzIC8gMTAwMClcbiAgICB9XG4gIH1cblxuICBnZXRMaWJwcUNvbm5lY3Rpb25TdHJpbmcoY2IpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBbXVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICd1c2VyJylcbiAgICBhZGQocGFyYW1zLCB0aGlzLCAncGFzc3dvcmQnKVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICdwb3J0JylcbiAgICBhZGQocGFyYW1zLCB0aGlzLCAnYXBwbGljYXRpb25fbmFtZScpXG4gICAgYWRkKHBhcmFtcywgdGhpcywgJ2ZhbGxiYWNrX2FwcGxpY2F0aW9uX25hbWUnKVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICdjb25uZWN0X3RpbWVvdXQnKVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICdvcHRpb25zJylcblxuICAgIGNvbnN0IHNzbCA9IHR5cGVvZiB0aGlzLnNzbCA9PT0gJ29iamVjdCcgPyB0aGlzLnNzbCA6IHRoaXMuc3NsID8geyBzc2xtb2RlOiB0aGlzLnNzbCB9IDoge31cbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xtb2RlJylcbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xjYScpXG4gICAgYWRkKHBhcmFtcywgc3NsLCAnc3Nsa2V5JylcbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xjZXJ0JylcbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xyb290Y2VydCcpXG5cbiAgICBpZiAodGhpcy5kYXRhYmFzZSkge1xuICAgICAgcGFyYW1zLnB1c2goJ2RibmFtZT0nICsgcXVvdGVQYXJhbVZhbHVlKHRoaXMuZGF0YWJhc2UpKVxuICAgIH1cbiAgICBpZiAodGhpcy5yZXBsaWNhdGlvbikge1xuICAgICAgcGFyYW1zLnB1c2goJ3JlcGxpY2F0aW9uPScgKyBxdW90ZVBhcmFtVmFsdWUodGhpcy5yZXBsaWNhdGlvbikpXG4gICAgfVxuICAgIGlmICh0aGlzLmhvc3QpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdob3N0PScgKyBxdW90ZVBhcmFtVmFsdWUodGhpcy5ob3N0KSlcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNEb21haW5Tb2NrZXQpIHtcbiAgICAgIHJldHVybiBjYihudWxsLCBwYXJhbXMuam9pbignICcpKVxuICAgIH1cbiAgICBpZiAodGhpcy5jbGllbnRfZW5jb2RpbmcpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdjbGllbnRfZW5jb2Rpbmc9JyArIHF1b3RlUGFyYW1WYWx1ZSh0aGlzLmNsaWVudF9lbmNvZGluZykpXG4gICAgfVxuICAgIGRucy5sb29rdXAodGhpcy5ob3N0LCBmdW5jdGlvbiAoZXJyLCBhZGRyZXNzKSB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyLCBudWxsKVxuICAgICAgcGFyYW1zLnB1c2goJ2hvc3RhZGRyPScgKyBxdW90ZVBhcmFtVmFsdWUoYWRkcmVzcykpXG4gICAgICByZXR1cm4gY2IobnVsbCwgcGFyYW1zLmpvaW4oJyAnKSlcbiAgICB9KVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29ubmVjdGlvblBhcmFtZXRlcnNcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgdHlwZXMgPSByZXF1aXJlKCdwZy10eXBlcycpXG5cbmNvbnN0IG1hdGNoUmVnZXhwID0gL14oW0EtWmEtel0rKSg/OiAoXFxkKykpPyg/OiAoXFxkKykpPy9cblxuLy8gcmVzdWx0IG9iamVjdCByZXR1cm5lZCBmcm9tIHF1ZXJ5XG4vLyBpbiB0aGUgJ2VuZCcgZXZlbnQgYW5kIGFsc29cbi8vIHBhc3NlZCBhcyBzZWNvbmQgYXJndW1lbnQgdG8gcHJvdmlkZWQgY2FsbGJhY2tcbmNsYXNzIFJlc3VsdCB7XG4gIGNvbnN0cnVjdG9yKHJvd01vZGUsIHR5cGVzKSB7XG4gICAgdGhpcy5jb21tYW5kID0gbnVsbFxuICAgIHRoaXMucm93Q291bnQgPSBudWxsXG4gICAgdGhpcy5vaWQgPSBudWxsXG4gICAgdGhpcy5yb3dzID0gW11cbiAgICB0aGlzLmZpZWxkcyA9IFtdXG4gICAgdGhpcy5fcGFyc2VycyA9IHVuZGVmaW5lZFxuICAgIHRoaXMuX3R5cGVzID0gdHlwZXNcbiAgICB0aGlzLlJvd0N0b3IgPSBudWxsXG4gICAgdGhpcy5yb3dBc0FycmF5ID0gcm93TW9kZSA9PT0gJ2FycmF5J1xuICAgIGlmICh0aGlzLnJvd0FzQXJyYXkpIHtcbiAgICAgIHRoaXMucGFyc2VSb3cgPSB0aGlzLl9wYXJzZVJvd0FzQXJyYXlcbiAgICB9XG4gICAgdGhpcy5fcHJlYnVpbHRFbXB0eVJlc3VsdE9iamVjdCA9IG51bGxcbiAgfVxuXG4gIC8vIGFkZHMgYSBjb21tYW5kIGNvbXBsZXRlIG1lc3NhZ2VcbiAgYWRkQ29tbWFuZENvbXBsZXRlKG1zZykge1xuICAgIGxldCBtYXRjaFxuICAgIGlmIChtc2cudGV4dCkge1xuICAgICAgLy8gcHVyZSBqYXZhc2NyaXB0XG4gICAgICBtYXRjaCA9IG1hdGNoUmVnZXhwLmV4ZWMobXNnLnRleHQpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5hdGl2ZSBiaW5kaW5nc1xuICAgICAgbWF0Y2ggPSBtYXRjaFJlZ2V4cC5leGVjKG1zZy5jb21tYW5kKVxuICAgIH1cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHRoaXMuY29tbWFuZCA9IG1hdGNoWzFdXG4gICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgLy8gQ09NTUFORCBPSUQgUk9XU1xuICAgICAgICB0aGlzLm9pZCA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMClcbiAgICAgICAgdGhpcy5yb3dDb3VudCA9IHBhcnNlSW50KG1hdGNoWzNdLCAxMClcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2hbMl0pIHtcbiAgICAgICAgLy8gQ09NTUFORCBST1dTXG4gICAgICAgIHRoaXMucm93Q291bnQgPSBwYXJzZUludChtYXRjaFsyXSwgMTApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3BhcnNlUm93QXNBcnJheShyb3dEYXRhKSB7XG4gICAgY29uc3Qgcm93ID0gbmV3IEFycmF5KHJvd0RhdGEubGVuZ3RoKVxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSByb3dEYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCByYXdWYWx1ZSA9IHJvd0RhdGFbaV1cbiAgICAgIGlmIChyYXdWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICByb3dbaV0gPSB0aGlzLl9wYXJzZXJzW2ldKHJhd1ZhbHVlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm93W2ldID0gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcm93XG4gIH1cblxuICBwYXJzZVJvdyhyb3dEYXRhKSB7XG4gICAgY29uc3Qgcm93ID0geyAuLi50aGlzLl9wcmVidWlsdEVtcHR5UmVzdWx0T2JqZWN0IH1cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcm93RGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgcmF3VmFsdWUgPSByb3dEYXRhW2ldXG4gICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZmllbGRzW2ldLm5hbWVcbiAgICAgIGlmIChyYXdWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB2ID0gdGhpcy5maWVsZHNbaV0uZm9ybWF0ID09PSAnYmluYXJ5JyA/IEJ1ZmZlci5mcm9tKHJhd1ZhbHVlKSA6IHJhd1ZhbHVlXG4gICAgICAgIHJvd1tmaWVsZF0gPSB0aGlzLl9wYXJzZXJzW2ldKHYpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3dbZmllbGRdID0gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcm93XG4gIH1cblxuICBhZGRSb3cocm93KSB7XG4gICAgdGhpcy5yb3dzLnB1c2gocm93KVxuICB9XG5cbiAgYWRkRmllbGRzKGZpZWxkRGVzY3JpcHRpb25zKSB7XG4gICAgLy8gY2xlYXJzIGZpZWxkIGRlZmluaXRpb25zXG4gICAgLy8gbXVsdGlwbGUgcXVlcnkgc3RhdGVtZW50cyBpbiAxIGFjdGlvbiBjYW4gcmVzdWx0IGluIG11bHRpcGxlIHNldHNcbiAgICAvLyBvZiByb3dEZXNjcmlwdGlvbnMuLi5lZzogJ3NlbGVjdCBOT1coKTsgc2VsZWN0IDE6OmludDsnXG4gICAgLy8geW91IG5lZWQgdG8gcmVzZXQgdGhlIGZpZWxkc1xuICAgIHRoaXMuZmllbGRzID0gZmllbGREZXNjcmlwdGlvbnNcbiAgICBpZiAodGhpcy5maWVsZHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9wYXJzZXJzID0gbmV3IEFycmF5KGZpZWxkRGVzY3JpcHRpb25zLmxlbmd0aClcbiAgICB9XG5cbiAgICBjb25zdCByb3cgPSB7fVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZERlc2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZGVzYyA9IGZpZWxkRGVzY3JpcHRpb25zW2ldXG4gICAgICByb3dbZGVzYy5uYW1lXSA9IG51bGxcblxuICAgICAgaWYgKHRoaXMuX3R5cGVzKSB7XG4gICAgICAgIHRoaXMuX3BhcnNlcnNbaV0gPSB0aGlzLl90eXBlcy5nZXRUeXBlUGFyc2VyKGRlc2MuZGF0YVR5cGVJRCwgZGVzYy5mb3JtYXQgfHwgJ3RleHQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcGFyc2Vyc1tpXSA9IHR5cGVzLmdldFR5cGVQYXJzZXIoZGVzYy5kYXRhVHlwZUlELCBkZXNjLmZvcm1hdCB8fCAndGV4dCcpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fcHJlYnVpbHRFbXB0eVJlc3VsdE9iamVjdCA9IHsgLi4ucm93IH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc3VsdFxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IEV2ZW50RW1pdHRlciB9ID0gcmVxdWlyZSgnZXZlbnRzJylcblxuY29uc3QgUmVzdWx0ID0gcmVxdWlyZSgnLi9yZXN1bHQnKVxuY29uc3QgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJylcblxuY2xhc3MgUXVlcnkgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgICBzdXBlcigpXG5cbiAgICBjb25maWcgPSB1dGlscy5ub3JtYWxpemVRdWVyeUNvbmZpZyhjb25maWcsIHZhbHVlcywgY2FsbGJhY2spXG5cbiAgICB0aGlzLnRleHQgPSBjb25maWcudGV4dFxuICAgIHRoaXMudmFsdWVzID0gY29uZmlnLnZhbHVlc1xuICAgIHRoaXMucm93cyA9IGNvbmZpZy5yb3dzXG4gICAgdGhpcy50eXBlcyA9IGNvbmZpZy50eXBlc1xuICAgIHRoaXMubmFtZSA9IGNvbmZpZy5uYW1lXG4gICAgdGhpcy5xdWVyeU1vZGUgPSBjb25maWcucXVlcnlNb2RlXG4gICAgdGhpcy5iaW5hcnkgPSBjb25maWcuYmluYXJ5XG4gICAgLy8gdXNlIHVuaXF1ZSBwb3J0YWwgbmFtZSBlYWNoIHRpbWVcbiAgICB0aGlzLnBvcnRhbCA9IGNvbmZpZy5wb3J0YWwgfHwgJydcbiAgICB0aGlzLmNhbGxiYWNrID0gY29uZmlnLmNhbGxiYWNrXG4gICAgdGhpcy5fcm93TW9kZSA9IGNvbmZpZy5yb3dNb2RlXG4gICAgaWYgKHByb2Nlc3MuZG9tYWluICYmIGNvbmZpZy5jYWxsYmFjaykge1xuICAgICAgdGhpcy5jYWxsYmFjayA9IHByb2Nlc3MuZG9tYWluLmJpbmQoY29uZmlnLmNhbGxiYWNrKVxuICAgIH1cbiAgICB0aGlzLl9yZXN1bHQgPSBuZXcgUmVzdWx0KHRoaXMuX3Jvd01vZGUsIHRoaXMudHlwZXMpXG5cbiAgICAvLyBwb3RlbnRpYWwgZm9yIG11bHRpcGxlIHJlc3VsdHNcbiAgICB0aGlzLl9yZXN1bHRzID0gdGhpcy5fcmVzdWx0XG4gICAgdGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yID0gZmFsc2VcbiAgfVxuXG4gIHJlcXVpcmVzUHJlcGFyYXRpb24oKSB7XG4gICAgaWYgKHRoaXMucXVlcnlNb2RlID09PSAnZXh0ZW5kZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIC8vIG5hbWVkIHF1ZXJpZXMgbXVzdCBhbHdheXMgYmUgcHJlcGFyZWRcbiAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBhbHdheXMgcHJlcGFyZSBpZiB0aGVyZSBhcmUgbWF4IG51bWJlciBvZiByb3dzIGV4cGVjdGVkIHBlclxuICAgIC8vIHBvcnRhbCBleGVjdXRpb25cbiAgICBpZiAodGhpcy5yb3dzKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBkb24ndCBwcmVwYXJlIGVtcHR5IHRleHQgcXVlcmllc1xuICAgIGlmICghdGhpcy50ZXh0KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgLy8gcHJlcGFyZSBpZiB0aGVyZSBhcmUgdmFsdWVzXG4gICAgaWYgKCF0aGlzLnZhbHVlcykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnZhbHVlcy5sZW5ndGggPiAwXG4gIH1cblxuICBfY2hlY2tGb3JNdWx0aXJvdygpIHtcbiAgICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSByZXN1bHQgd2l0aCBhIGNvbW1hbmQgcHJvcGVydHlcbiAgICAvLyB0aGVuIHdlJ3ZlIGFscmVhZHkgZXhlY3V0ZWQgb25lIHF1ZXJ5IGluIGEgbXVsdGktc3RhdGVtZW50IHNpbXBsZSBxdWVyeVxuICAgIC8vIHR1cm4gb3VyIHJlc3VsdHMgaW50byBhbiBhcnJheSBvZiByZXN1bHRzXG4gICAgaWYgKHRoaXMuX3Jlc3VsdC5jb21tYW5kKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5fcmVzdWx0cykpIHtcbiAgICAgICAgdGhpcy5fcmVzdWx0cyA9IFt0aGlzLl9yZXN1bHRdXG4gICAgICB9XG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgUmVzdWx0KHRoaXMuX3Jvd01vZGUsIHRoaXMuX3Jlc3VsdC5fdHlwZXMpXG4gICAgICB0aGlzLl9yZXN1bHRzLnB1c2godGhpcy5fcmVzdWx0KVxuICAgIH1cbiAgfVxuXG4gIC8vIGFzc29jaWF0ZXMgcm93IG1ldGFkYXRhIGZyb20gdGhlIHN1cHBsaWVkXG4gIC8vIG1lc3NhZ2Ugd2l0aCB0aGlzIHF1ZXJ5IG9iamVjdFxuICAvLyBtZXRhZGF0YSB1c2VkIHdoZW4gcGFyc2luZyByb3cgcmVzdWx0c1xuICBoYW5kbGVSb3dEZXNjcmlwdGlvbihtc2cpIHtcbiAgICB0aGlzLl9jaGVja0Zvck11bHRpcm93KClcbiAgICB0aGlzLl9yZXN1bHQuYWRkRmllbGRzKG1zZy5maWVsZHMpXG4gICAgdGhpcy5fYWNjdW11bGF0ZVJvd3MgPSB0aGlzLmNhbGxiYWNrIHx8ICF0aGlzLmxpc3RlbmVycygncm93JykubGVuZ3RoXG4gIH1cblxuICBoYW5kbGVEYXRhUm93KG1zZykge1xuICAgIGxldCByb3dcblxuICAgIGlmICh0aGlzLl9jYW5jZWxlZER1ZVRvRXJyb3IpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByb3cgPSB0aGlzLl9yZXN1bHQucGFyc2VSb3cobXNnLmZpZWxkcylcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuX2NhbmNlbGVkRHVlVG9FcnJvciA9IGVyclxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdyb3cnLCByb3csIHRoaXMuX3Jlc3VsdClcbiAgICBpZiAodGhpcy5fYWNjdW11bGF0ZVJvd3MpIHtcbiAgICAgIHRoaXMuX3Jlc3VsdC5hZGRSb3cocm93KVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNvbW1hbmRDb21wbGV0ZShtc2csIGNvbm5lY3Rpb24pIHtcbiAgICB0aGlzLl9jaGVja0Zvck11bHRpcm93KClcbiAgICB0aGlzLl9yZXN1bHQuYWRkQ29tbWFuZENvbXBsZXRlKG1zZylcbiAgICAvLyBuZWVkIHRvIHN5bmMgYWZ0ZXIgZWFjaCBjb21tYW5kIGNvbXBsZXRlIG9mIGEgcHJlcGFyZWQgc3RhdGVtZW50XG4gICAgLy8gaWYgd2Ugd2VyZSB1c2luZyBhIHJvdyBjb3VudCB3aGljaCByZXN1bHRzIGluIG11bHRpcGxlIGNhbGxzIHRvIF9nZXRSb3dzXG4gICAgaWYgKHRoaXMucm93cykge1xuICAgICAgY29ubmVjdGlvbi5zeW5jKClcbiAgICB9XG4gIH1cblxuICAvLyBpZiBhIG5hbWVkIHByZXBhcmVkIHN0YXRlbWVudCBpcyBjcmVhdGVkIHdpdGggZW1wdHkgcXVlcnkgdGV4dFxuICAvLyB0aGUgYmFja2VuZCB3aWxsIHNlbmQgYW4gZW1wdHlRdWVyeSBtZXNzYWdlIGJ1dCAqbm90KiBhIGNvbW1hbmQgY29tcGxldGUgbWVzc2FnZVxuICAvLyBzaW5jZSB3ZSBwaXBlbGluZSBzeW5jIGltbWVkaWF0ZWx5IGFmdGVyIGV4ZWN1dGUgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZyBoZXJlXG4gIC8vIHVubGVzcyB3ZSBoYXZlIHJvd3Mgc3BlY2lmaWVkLCBpbiB3aGljaCBjYXNlIHdlIGRpZCBub3QgcGlwZWxpbmUgdGhlIGluaXRpYWwgc3luYyBjYWxsXG4gIGhhbmRsZUVtcHR5UXVlcnkoY29ubmVjdGlvbikge1xuICAgIGlmICh0aGlzLnJvd3MpIHtcbiAgICAgIGNvbm5lY3Rpb24uc3luYygpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlRXJyb3IoZXJyLCBjb25uZWN0aW9uKSB7XG4gICAgLy8gbmVlZCB0byBzeW5jIGFmdGVyIGVycm9yIGR1cmluZyBhIHByZXBhcmVkIHN0YXRlbWVudFxuICAgIGlmICh0aGlzLl9jYW5jZWxlZER1ZVRvRXJyb3IpIHtcbiAgICAgIGVyciA9IHRoaXMuX2NhbmNlbGVkRHVlVG9FcnJvclxuICAgICAgdGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yID0gZmFsc2VcbiAgICB9XG4gICAgLy8gaWYgY2FsbGJhY2sgc3VwcGxpZWQgZG8gbm90IGVtaXQgZXJyb3IgZXZlbnQgYXMgdW5jYXVnaHQgZXJyb3JcbiAgICAvLyBldmVudHMgd2lsbCBidWJibGUgdXAgdG8gbm9kZSBwcm9jZXNzXG4gICAgaWYgKHRoaXMuY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrKGVycilcbiAgICB9XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgfVxuXG4gIGhhbmRsZVJlYWR5Rm9yUXVlcnkoY29uKSB7XG4gICAgaWYgKHRoaXMuX2NhbmNlbGVkRHVlVG9FcnJvcikge1xuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IodGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yLCBjb24pXG4gICAgfVxuICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrKG51bGwsIHRoaXMuX3Jlc3VsdHMpXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgdGhyb3cgZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZW1pdCgnZW5kJywgdGhpcy5fcmVzdWx0cylcbiAgfVxuXG4gIHN1Ym1pdChjb25uZWN0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnRleHQgIT09ICdzdHJpbmcnICYmIHR5cGVvZiB0aGlzLm5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdBIHF1ZXJ5IG11c3QgaGF2ZSBlaXRoZXIgdGV4dCBvciBhIG5hbWUuIFN1cHBseWluZyBuZWl0aGVyIGlzIHVuc3VwcG9ydGVkLicpXG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzID0gY29ubmVjdGlvbi5wYXJzZWRTdGF0ZW1lbnRzW3RoaXMubmFtZV1cbiAgICBpZiAodGhpcy50ZXh0ICYmIHByZXZpb3VzICYmIHRoaXMudGV4dCAhPT0gcHJldmlvdXMpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoYFByZXBhcmVkIHN0YXRlbWVudHMgbXVzdCBiZSB1bmlxdWUgLSAnJHt0aGlzLm5hbWV9JyB3YXMgdXNlZCBmb3IgYSBkaWZmZXJlbnQgc3RhdGVtZW50YClcbiAgICB9XG4gICAgaWYgKHRoaXMudmFsdWVzICYmICFBcnJheS5pc0FycmF5KHRoaXMudmFsdWVzKSkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignUXVlcnkgdmFsdWVzIG11c3QgYmUgYW4gYXJyYXknKVxuICAgIH1cbiAgICBpZiAodGhpcy5yZXF1aXJlc1ByZXBhcmF0aW9uKCkpIHtcbiAgICAgIC8vIElmIHdlJ3JlIHVzaW5nIHRoZSBleHRlbmRlZCBxdWVyeSBwcm90b2NvbCB3ZSBmaXJlIG9mZiBzZXZlcmFsIHNlcGFyYXRlIGNvbW1hbmRzXG4gICAgICAvLyB0byB0aGUgYmFja2VuZC4gT24gc29tZSB2ZXJzaW9ucyBvZiBub2RlICYgc29tZSBvcGVyYXRpbmcgc3lzdGVtIHZlcnNpb25zXG4gICAgICAvLyB0aGUgbmV0d29yayBzdGFjayB3cml0ZXMgZWFjaCBtZXNzYWdlIHNlcGFyYXRlbHkgaW5zdGVhZCBvZiBidWZmZXJpbmcgdGhlbSB0b2dldGhlclxuICAgICAgLy8gY2F1c2luZyB0aGUgY2xpZW50ICYgbmV0d29yayB0byBzZW5kIG1vcmUgc2xvd2x5LiBDb3JraW5nICYgdW5jb3JraW5nIHRoZSBzdHJlYW1cbiAgICAgIC8vIGFsbG93cyBub2RlIHRvIGJ1ZmZlciB1cCB0aGUgbWVzc2FnZXMgaW50ZXJuYWxseSBiZWZvcmUgc2VuZGluZyB0aGVtIGFsbCBvZmYgYXQgb25jZS5cbiAgICAgIC8vIG5vdGU6IHdlJ3JlIGNoZWNraW5nIGZvciBleGlzdGVuY2Ugb2YgY29yay91bmNvcmsgYmVjYXVzZSBzb21lIHZlcnNpb25zIG9mIHN0cmVhbXNcbiAgICAgIC8vIG1pZ2h0IG5vdCBoYXZlIHRoaXMgKGNsb3VkZmxhcmU/KVxuICAgICAgY29ubmVjdGlvbi5zdHJlYW0uY29yayAmJiBjb25uZWN0aW9uLnN0cmVhbS5jb3JrKClcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMucHJlcGFyZShjb25uZWN0aW9uKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gd2hpbGUgdW5saWtlbHkgZm9yIHRoaXMucHJlcGFyZSB0byB0aHJvdywgaWYgaXQgZG9lcyAmIHdlIGRvbid0IHVuY29yayB0aGlzIHN0cmVhbVxuICAgICAgICAvLyB0aGlzIGNsaWVudCBiZWNvbWVzIHVucmVzcG9uc2l2ZSwgc28gcHV0IGluIGZpbmFsbHkgYmxvY2sgXCJqdXN0IGluIGNhc2VcIlxuICAgICAgICBjb25uZWN0aW9uLnN0cmVhbS51bmNvcmsgJiYgY29ubmVjdGlvbi5zdHJlYW0udW5jb3JrKClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29ubmVjdGlvbi5xdWVyeSh0aGlzLnRleHQpXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBoYXNCZWVuUGFyc2VkKGNvbm5lY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lICYmIGNvbm5lY3Rpb24ucGFyc2VkU3RhdGVtZW50c1t0aGlzLm5hbWVdXG4gIH1cblxuICBoYW5kbGVQb3J0YWxTdXNwZW5kZWQoY29ubmVjdGlvbikge1xuICAgIHRoaXMuX2dldFJvd3MoY29ubmVjdGlvbiwgdGhpcy5yb3dzKVxuICB9XG5cbiAgX2dldFJvd3MoY29ubmVjdGlvbiwgcm93cykge1xuICAgIGNvbm5lY3Rpb24uZXhlY3V0ZSh7XG4gICAgICBwb3J0YWw6IHRoaXMucG9ydGFsLFxuICAgICAgcm93czogcm93cyxcbiAgICB9KVxuICAgIC8vIGlmIHdlJ3JlIG5vdCByZWFkaW5nIHBhZ2VzIG9mIHJvd3Mgc2VuZCB0aGUgc3luYyBjb21tYW5kXG4gICAgLy8gdG8gaW5kaWNhdGUgdGhlIHBpcGVsaW5lIGlzIGZpbmlzaGVkXG4gICAgaWYgKCFyb3dzKSB7XG4gICAgICBjb25uZWN0aW9uLnN5bmMoKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvdGhlcndpc2UgZmx1c2ggdGhlIGNhbGwgb3V0IHRvIHJlYWQgbW9yZSByb3dzXG4gICAgICBjb25uZWN0aW9uLmZsdXNoKClcbiAgICB9XG4gIH1cblxuICAvLyBodHRwOi8vZGV2ZWxvcGVyLnBvc3RncmVzcWwub3JnL3BnZG9jcy9wb3N0Z3Jlcy9wcm90b2NvbC1mbG93Lmh0bWwjUFJPVE9DT0wtRkxPVy1FWFQtUVVFUllcbiAgcHJlcGFyZShjb25uZWN0aW9uKSB7XG4gICAgLy8gVE9ETyByZWZhY3RvciB0aGlzIHBvb3IgZW5jYXBzdWxhdGlvblxuICAgIGlmICghdGhpcy5oYXNCZWVuUGFyc2VkKGNvbm5lY3Rpb24pKSB7XG4gICAgICBjb25uZWN0aW9uLnBhcnNlKHtcbiAgICAgICAgdGV4dDogdGhpcy50ZXh0LFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIHR5cGVzOiB0aGlzLnR5cGVzLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBiZWNhdXNlIHdlJ3JlIG1hcHBpbmcgdXNlciBzdXBwbGllZCB2YWx1ZXMgdG9cbiAgICAvLyBwb3N0Z3JlcyB3aXJlIHByb3RvY29sIGNvbXBhdGlibGUgdmFsdWVzIGl0IGNvdWxkXG4gICAgLy8gdGhyb3cgYW4gZXhjZXB0aW9uLCBzbyB0cnkvY2F0Y2ggdGhpcyBzZWN0aW9uXG4gICAgdHJ5IHtcbiAgICAgIGNvbm5lY3Rpb24uYmluZCh7XG4gICAgICAgIHBvcnRhbDogdGhpcy5wb3J0YWwsXG4gICAgICAgIHN0YXRlbWVudDogdGhpcy5uYW1lLFxuICAgICAgICB2YWx1ZXM6IHRoaXMudmFsdWVzLFxuICAgICAgICBiaW5hcnk6IHRoaXMuYmluYXJ5LFxuICAgICAgICB2YWx1ZU1hcHBlcjogdXRpbHMucHJlcGFyZVZhbHVlLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyLCBjb25uZWN0aW9uKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29ubmVjdGlvbi5kZXNjcmliZSh7XG4gICAgICB0eXBlOiAnUCcsXG4gICAgICBuYW1lOiB0aGlzLnBvcnRhbCB8fCAnJyxcbiAgICB9KVxuXG4gICAgdGhpcy5fZ2V0Um93cyhjb25uZWN0aW9uLCB0aGlzLnJvd3MpXG4gIH1cblxuICBoYW5kbGVDb3B5SW5SZXNwb25zZShjb25uZWN0aW9uKSB7XG4gICAgY29ubmVjdGlvbi5zZW5kQ29weUZhaWwoJ05vIHNvdXJjZSBzdHJlYW0gZGVmaW5lZCcpXG4gIH1cblxuICBoYW5kbGVDb3B5RGF0YShtc2csIGNvbm5lY3Rpb24pIHtcbiAgICAvLyBub29wXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBRdWVyeVxuIiwgImV4cG9ydCB0eXBlIE1vZGUgPSAndGV4dCcgfCAnYmluYXJ5J1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlTmFtZSA9XG4gIHwgJ3BhcnNlQ29tcGxldGUnXG4gIHwgJ2JpbmRDb21wbGV0ZSdcbiAgfCAnY2xvc2VDb21wbGV0ZSdcbiAgfCAnbm9EYXRhJ1xuICB8ICdwb3J0YWxTdXNwZW5kZWQnXG4gIHwgJ3JlcGxpY2F0aW9uU3RhcnQnXG4gIHwgJ2VtcHR5UXVlcnknXG4gIHwgJ2NvcHlEb25lJ1xuICB8ICdjb3B5RGF0YSdcbiAgfCAncm93RGVzY3JpcHRpb24nXG4gIHwgJ3BhcmFtZXRlckRlc2NyaXB0aW9uJ1xuICB8ICdwYXJhbWV0ZXJTdGF0dXMnXG4gIHwgJ2JhY2tlbmRLZXlEYXRhJ1xuICB8ICdub3RpZmljYXRpb24nXG4gIHwgJ3JlYWR5Rm9yUXVlcnknXG4gIHwgJ2NvbW1hbmRDb21wbGV0ZSdcbiAgfCAnZGF0YVJvdydcbiAgfCAnY29weUluUmVzcG9uc2UnXG4gIHwgJ2NvcHlPdXRSZXNwb25zZSdcbiAgfCAnYXV0aGVudGljYXRpb25PaydcbiAgfCAnYXV0aGVudGljYXRpb25NRDVQYXNzd29yZCdcbiAgfCAnYXV0aGVudGljYXRpb25DbGVhcnRleHRQYXNzd29yZCdcbiAgfCAnYXV0aGVudGljYXRpb25TQVNMJ1xuICB8ICdhdXRoZW50aWNhdGlvblNBU0xDb250aW51ZSdcbiAgfCAnYXV0aGVudGljYXRpb25TQVNMRmluYWwnXG4gIHwgJ2Vycm9yJ1xuICB8ICdub3RpY2UnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFja2VuZE1lc3NhZ2Uge1xuICBuYW1lOiBNZXNzYWdlTmFtZVxuICBsZW5ndGg6IG51bWJlclxufVxuXG5leHBvcnQgY29uc3QgcGFyc2VDb21wbGV0ZTogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdwYXJzZUNvbXBsZXRlJyxcbiAgbGVuZ3RoOiA1LFxufVxuXG5leHBvcnQgY29uc3QgYmluZENvbXBsZXRlOiBCYWNrZW5kTWVzc2FnZSA9IHtcbiAgbmFtZTogJ2JpbmRDb21wbGV0ZScsXG4gIGxlbmd0aDogNSxcbn1cblxuZXhwb3J0IGNvbnN0IGNsb3NlQ29tcGxldGU6IEJhY2tlbmRNZXNzYWdlID0ge1xuICBuYW1lOiAnY2xvc2VDb21wbGV0ZScsXG4gIGxlbmd0aDogNSxcbn1cblxuZXhwb3J0IGNvbnN0IG5vRGF0YTogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdub0RhdGEnLFxuICBsZW5ndGg6IDUsXG59XG5cbmV4cG9ydCBjb25zdCBwb3J0YWxTdXNwZW5kZWQ6IEJhY2tlbmRNZXNzYWdlID0ge1xuICBuYW1lOiAncG9ydGFsU3VzcGVuZGVkJyxcbiAgbGVuZ3RoOiA1LFxufVxuXG5leHBvcnQgY29uc3QgcmVwbGljYXRpb25TdGFydDogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdyZXBsaWNhdGlvblN0YXJ0JyxcbiAgbGVuZ3RoOiA0LFxufVxuXG5leHBvcnQgY29uc3QgZW1wdHlRdWVyeTogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdlbXB0eVF1ZXJ5JyxcbiAgbGVuZ3RoOiA0LFxufVxuXG5leHBvcnQgY29uc3QgY29weURvbmU6IEJhY2tlbmRNZXNzYWdlID0ge1xuICBuYW1lOiAnY29weURvbmUnLFxuICBsZW5ndGg6IDQsXG59XG5cbmludGVyZmFjZSBOb3RpY2VPckVycm9yIHtcbiAgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHNldmVyaXR5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgY29kZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGRldGFpbDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGhpbnQ6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwb3NpdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGludGVybmFsUG9zaXRpb246IHN0cmluZyB8IHVuZGVmaW5lZFxuICBpbnRlcm5hbFF1ZXJ5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgd2hlcmU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBzY2hlbWE6IHN0cmluZyB8IHVuZGVmaW5lZFxuICB0YWJsZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGNvbHVtbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGRhdGFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgY29uc3RyYWludDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGZpbGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBsaW5lOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcm91dGluZTogc3RyaW5nIHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZUVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBOb3RpY2VPckVycm9yIHtcbiAgcHVibGljIHNldmVyaXR5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGNvZGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgZGV0YWlsOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGhpbnQ6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgcG9zaXRpb246IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgaW50ZXJuYWxQb3NpdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBpbnRlcm5hbFF1ZXJ5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIHdoZXJlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIHNjaGVtYTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyB0YWJsZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBjb2x1bW46IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgZGF0YVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgY29uc3RyYWludDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBmaWxlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGxpbmU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgcm91dGluZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lXG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvcHlEYXRhTWVzc2FnZSB7XG4gIHB1YmxpYyByZWFkb25seSBuYW1lID0gJ2NvcHlEYXRhJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNodW5rOiBCdWZmZXJcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgQ29weVJlc3BvbnNlIHtcbiAgcHVibGljIHJlYWRvbmx5IGNvbHVtblR5cGVzOiBudW1iZXJbXVxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lLFxuICAgIHB1YmxpYyByZWFkb25seSBiaW5hcnk6IGJvb2xlYW4sXG4gICAgY29sdW1uQ291bnQ6IG51bWJlclxuICApIHtcbiAgICB0aGlzLmNvbHVtblR5cGVzID0gbmV3IEFycmF5KGNvbHVtbkNvdW50KVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWVsZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IHRhYmxlSUQ6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uSUQ6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YVR5cGVJRDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBkYXRhVHlwZVNpemU6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YVR5cGVNb2RpZmllcjogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBmb3JtYXQ6IE1vZGVcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgUm93RGVzY3JpcHRpb25NZXNzYWdlIHtcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ3Jvd0Rlc2NyaXB0aW9uJ1xuICBwdWJsaWMgcmVhZG9ubHkgZmllbGRzOiBGaWVsZFtdXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmllbGRDb3VudDogbnVtYmVyXG4gICkge1xuICAgIHRoaXMuZmllbGRzID0gbmV3IEFycmF5KHRoaXMuZmllbGRDb3VudClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlIHtcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ3BhcmFtZXRlckRlc2NyaXB0aW9uJ1xuICBwdWJsaWMgcmVhZG9ubHkgZGF0YVR5cGVJRHM6IG51bWJlcltdXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyYW1ldGVyQ291bnQ6IG51bWJlclxuICApIHtcbiAgICB0aGlzLmRhdGFUeXBlSURzID0gbmV3IEFycmF5KHRoaXMucGFyYW1ldGVyQ291bnQpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhcmFtZXRlclN0YXR1c01lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAncGFyYW1ldGVyU3RhdHVzJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmFtZXRlck5hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyYW1ldGVyVmFsdWU6IHN0cmluZ1xuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkIGltcGxlbWVudHMgQmFja2VuZE1lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAnYXV0aGVudGljYXRpb25NRDVQYXNzd29yZCdcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBzYWx0OiBCdWZmZXJcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgQmFja2VuZEtleURhdGFNZXNzYWdlIHtcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ2JhY2tlbmRLZXlEYXRhJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NJRDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBzZWNyZXRLZXk6IG51bWJlclxuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb25SZXNwb25zZU1lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAnbm90aWZpY2F0aW9uJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NJZDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjaGFubmVsOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IHBheWxvYWQ6IHN0cmluZ1xuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWFkeUZvclF1ZXJ5TWVzc2FnZSB7XG4gIHB1YmxpYyByZWFkb25seSBuYW1lOiBNZXNzYWdlTmFtZSA9ICdyZWFkeUZvclF1ZXJ5J1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YXR1czogc3RyaW5nXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIENvbW1hbmRDb21wbGV0ZU1lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAnY29tbWFuZENvbXBsZXRlJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHQ6IHN0cmluZ1xuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhUm93TWVzc2FnZSB7XG4gIHB1YmxpYyByZWFkb25seSBmaWVsZENvdW50OiBudW1iZXJcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ2RhdGFSb3cnXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgZmllbGRzOiBhbnlbXVxuICApIHtcbiAgICB0aGlzLmZpZWxkQ291bnQgPSBmaWVsZHMubGVuZ3RoXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vdGljZU1lc3NhZ2UgaW1wbGVtZW50cyBCYWNrZW5kTWVzc2FnZSwgTm90aWNlT3JFcnJvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gICkge31cbiAgcHVibGljIHJlYWRvbmx5IG5hbWUgPSAnbm90aWNlJ1xuICBwdWJsaWMgc2V2ZXJpdHk6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgY29kZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBkZXRhaWw6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgaGludDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBwb3NpdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBpbnRlcm5hbFBvc2l0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGludGVybmFsUXVlcnk6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgd2hlcmU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgc2NoZW1hOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIHRhYmxlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGNvbHVtbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBkYXRhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBjb25zdHJhaW50OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGZpbGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgbGluZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyByb3V0aW5lOiBzdHJpbmcgfCB1bmRlZmluZWRcbn1cbiIsICIvL2JpbmFyeSBkYXRhIHdyaXRlciB0dW5lZCBmb3IgZW5jb2RpbmcgYmluYXJ5IHNwZWNpZmljIHRvIHRoZSBwb3N0Z3JlcyBiaW5hcnkgcHJvdG9jb2xcblxuZXhwb3J0IGNsYXNzIFdyaXRlciB7XG4gIHByaXZhdGUgYnVmZmVyOiBCdWZmZXJcbiAgcHJpdmF0ZSBvZmZzZXQ6IG51bWJlciA9IDVcbiAgcHJpdmF0ZSBoZWFkZXJQb3NpdGlvbjogbnVtYmVyID0gMFxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNpemUgPSAyNTYpIHtcbiAgICB0aGlzLmJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShzaXplKVxuICB9XG5cbiAgcHJpdmF0ZSBlbnN1cmUoc2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgcmVtYWluaW5nID0gdGhpcy5idWZmZXIubGVuZ3RoIC0gdGhpcy5vZmZzZXRcbiAgICBpZiAocmVtYWluaW5nIDwgc2l6ZSkge1xuICAgICAgY29uc3Qgb2xkQnVmZmVyID0gdGhpcy5idWZmZXJcbiAgICAgIC8vIGV4cG9uZW50aWFsIGdyb3d0aCBmYWN0b3Igb2YgYXJvdW5kIH4gMS41XG4gICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMjY5MDYzL2J1ZmZlci1ncm93dGgtc3RyYXRlZ3lcbiAgICAgIGNvbnN0IG5ld1NpemUgPSBvbGRCdWZmZXIubGVuZ3RoICsgKG9sZEJ1ZmZlci5sZW5ndGggPj4gMSkgKyBzaXplXG4gICAgICB0aGlzLmJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuZXdTaXplKVxuICAgICAgb2xkQnVmZmVyLmNvcHkodGhpcy5idWZmZXIpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFkZEludDMyKG51bTogbnVtYmVyKTogV3JpdGVyIHtcbiAgICB0aGlzLmVuc3VyZSg0KVxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gMjQpICYgMHhmZlxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gMTYpICYgMHhmZlxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gOCkgJiAweGZmXG4gICAgdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK10gPSAobnVtID4+PiAwKSAmIDB4ZmZcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcHVibGljIGFkZEludDE2KG51bTogbnVtYmVyKTogV3JpdGVyIHtcbiAgICB0aGlzLmVuc3VyZSgyKVxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gOCkgJiAweGZmXG4gICAgdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK10gPSAobnVtID4+PiAwKSAmIDB4ZmZcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcHVibGljIGFkZENTdHJpbmcoc3RyaW5nOiBzdHJpbmcpOiBXcml0ZXIge1xuICAgIGlmICghc3RyaW5nKSB7XG4gICAgICB0aGlzLmVuc3VyZSgxKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsZW4gPSBCdWZmZXIuYnl0ZUxlbmd0aChzdHJpbmcpXG4gICAgICB0aGlzLmVuc3VyZShsZW4gKyAxKSAvLyArMSBmb3IgbnVsbCB0ZXJtaW5hdG9yXG4gICAgICB0aGlzLmJ1ZmZlci53cml0ZShzdHJpbmcsIHRoaXMub2Zmc2V0LCAndXRmLTgnKVxuICAgICAgdGhpcy5vZmZzZXQgKz0gbGVuXG4gICAgfVxuXG4gICAgdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK10gPSAwIC8vIG51bGwgdGVybWluYXRvclxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBwdWJsaWMgYWRkU3RyaW5nKHN0cmluZzogc3RyaW5nID0gJycpOiBXcml0ZXIge1xuICAgIGNvbnN0IGxlbiA9IEJ1ZmZlci5ieXRlTGVuZ3RoKHN0cmluZylcbiAgICB0aGlzLmVuc3VyZShsZW4pXG4gICAgdGhpcy5idWZmZXIud3JpdGUoc3RyaW5nLCB0aGlzLm9mZnNldClcbiAgICB0aGlzLm9mZnNldCArPSBsZW5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcHVibGljIGFkZChvdGhlckJ1ZmZlcjogQnVmZmVyKTogV3JpdGVyIHtcbiAgICB0aGlzLmVuc3VyZShvdGhlckJ1ZmZlci5sZW5ndGgpXG4gICAgb3RoZXJCdWZmZXIuY29weSh0aGlzLmJ1ZmZlciwgdGhpcy5vZmZzZXQpXG4gICAgdGhpcy5vZmZzZXQgKz0gb3RoZXJCdWZmZXIubGVuZ3RoXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHByaXZhdGUgam9pbihjb2RlPzogbnVtYmVyKTogQnVmZmVyIHtcbiAgICBpZiAoY29kZSkge1xuICAgICAgdGhpcy5idWZmZXJbdGhpcy5oZWFkZXJQb3NpdGlvbl0gPSBjb2RlXG4gICAgICAvL2xlbmd0aCBpcyBldmVyeXRoaW5nIGluIHRoaXMgcGFja2V0IG1pbnVzIHRoZSBjb2RlXG4gICAgICBjb25zdCBsZW5ndGggPSB0aGlzLm9mZnNldCAtICh0aGlzLmhlYWRlclBvc2l0aW9uICsgMSlcbiAgICAgIHRoaXMuYnVmZmVyLndyaXRlSW50MzJCRShsZW5ndGgsIHRoaXMuaGVhZGVyUG9zaXRpb24gKyAxKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXIuc2xpY2UoY29kZSA/IDAgOiA1LCB0aGlzLm9mZnNldClcbiAgfVxuXG4gIHB1YmxpYyBmbHVzaChjb2RlPzogbnVtYmVyKTogQnVmZmVyIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmpvaW4oY29kZSlcbiAgICB0aGlzLm9mZnNldCA9IDVcbiAgICB0aGlzLmhlYWRlclBvc2l0aW9uID0gMFxuICAgIHRoaXMuYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKHRoaXMuc2l6ZSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBXcml0ZXIgfSBmcm9tICcuL2J1ZmZlci13cml0ZXInXG5cbmNvbnN0IGVudW0gY29kZSB7XG4gIHN0YXJ0dXAgPSAweDcwLFxuICBxdWVyeSA9IDB4NTEsXG4gIHBhcnNlID0gMHg1MCxcbiAgYmluZCA9IDB4NDIsXG4gIGV4ZWN1dGUgPSAweDQ1LFxuICBmbHVzaCA9IDB4NDgsXG4gIHN5bmMgPSAweDUzLFxuICBlbmQgPSAweDU4LFxuICBjbG9zZSA9IDB4NDMsXG4gIGRlc2NyaWJlID0gMHg0NCxcbiAgY29weUZyb21DaHVuayA9IDB4NjQsXG4gIGNvcHlEb25lID0gMHg2MyxcbiAgY29weUZhaWwgPSAweDY2LFxufVxuXG5jb25zdCB3cml0ZXIgPSBuZXcgV3JpdGVyKClcblxuY29uc3Qgc3RhcnR1cCA9IChvcHRzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogQnVmZmVyID0+IHtcbiAgLy8gcHJvdG9jb2wgdmVyc2lvblxuICB3cml0ZXIuYWRkSW50MTYoMykuYWRkSW50MTYoMClcbiAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3B0cykpIHtcbiAgICB3cml0ZXIuYWRkQ1N0cmluZyhrZXkpLmFkZENTdHJpbmcob3B0c1trZXldKVxuICB9XG5cbiAgd3JpdGVyLmFkZENTdHJpbmcoJ2NsaWVudF9lbmNvZGluZycpLmFkZENTdHJpbmcoJ1VURjgnKVxuXG4gIGNvbnN0IGJvZHlCdWZmZXIgPSB3cml0ZXIuYWRkQ1N0cmluZygnJykuZmx1c2goKVxuICAvLyB0aGlzIG1lc3NhZ2UgaXMgc2VudCB3aXRob3V0IGEgY29kZVxuXG4gIGNvbnN0IGxlbmd0aCA9IGJvZHlCdWZmZXIubGVuZ3RoICsgNFxuXG4gIHJldHVybiBuZXcgV3JpdGVyKCkuYWRkSW50MzIobGVuZ3RoKS5hZGQoYm9keUJ1ZmZlcikuZmx1c2goKVxufVxuXG5jb25zdCByZXF1ZXN0U3NsID0gKCk6IEJ1ZmZlciA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gQnVmZmVyLmFsbG9jVW5zYWZlKDgpXG4gIHJlc3BvbnNlLndyaXRlSW50MzJCRSg4LCAwKVxuICByZXNwb25zZS53cml0ZUludDMyQkUoODA4NzcxMDMsIDQpXG4gIHJldHVybiByZXNwb25zZVxufVxuXG5jb25zdCBwYXNzd29yZCA9IChwYXNzd29yZDogc3RyaW5nKTogQnVmZmVyID0+IHtcbiAgcmV0dXJuIHdyaXRlci5hZGRDU3RyaW5nKHBhc3N3b3JkKS5mbHVzaChjb2RlLnN0YXJ0dXApXG59XG5cbmNvbnN0IHNlbmRTQVNMSW5pdGlhbFJlc3BvbnNlTWVzc2FnZSA9IGZ1bmN0aW9uIChtZWNoYW5pc206IHN0cmluZywgaW5pdGlhbFJlc3BvbnNlOiBzdHJpbmcpOiBCdWZmZXIge1xuICAvLyAweDcwID0gJ3AnXG4gIHdyaXRlci5hZGRDU3RyaW5nKG1lY2hhbmlzbSkuYWRkSW50MzIoQnVmZmVyLmJ5dGVMZW5ndGgoaW5pdGlhbFJlc3BvbnNlKSkuYWRkU3RyaW5nKGluaXRpYWxSZXNwb25zZSlcblxuICByZXR1cm4gd3JpdGVyLmZsdXNoKGNvZGUuc3RhcnR1cClcbn1cblxuY29uc3Qgc2VuZFNDUkFNQ2xpZW50RmluYWxNZXNzYWdlID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxEYXRhOiBzdHJpbmcpOiBCdWZmZXIge1xuICByZXR1cm4gd3JpdGVyLmFkZFN0cmluZyhhZGRpdGlvbmFsRGF0YSkuZmx1c2goY29kZS5zdGFydHVwKVxufVxuXG5jb25zdCBxdWVyeSA9ICh0ZXh0OiBzdHJpbmcpOiBCdWZmZXIgPT4ge1xuICByZXR1cm4gd3JpdGVyLmFkZENTdHJpbmcodGV4dCkuZmx1c2goY29kZS5xdWVyeSlcbn1cblxudHlwZSBQYXJzZU9wdHMgPSB7XG4gIG5hbWU/OiBzdHJpbmdcbiAgdHlwZXM/OiBudW1iZXJbXVxuICB0ZXh0OiBzdHJpbmdcbn1cblxuY29uc3QgZW1wdHlBcnJheTogYW55W10gPSBbXVxuXG5jb25zdCBwYXJzZSA9IChxdWVyeTogUGFyc2VPcHRzKTogQnVmZmVyID0+IHtcbiAgLy8gZXhwZWN0IHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gIC8vIHsgbmFtZTogJ3F1ZXJ5TmFtZScsXG4gIC8vICAgdGV4dDogJ3NlbGVjdCAqIGZyb20gYmxhaCcsXG4gIC8vICAgdHlwZXM6IFsnaW50OCcsICdib29sJ10gfVxuXG4gIC8vIG5vcm1hbGl6ZSBtaXNzaW5nIHF1ZXJ5IG5hbWVzIHRvIGFsbG93IGZvciBudWxsXG4gIGNvbnN0IG5hbWUgPSBxdWVyeS5uYW1lIHx8ICcnXG4gIGlmIChuYW1lLmxlbmd0aCA+IDYzKSB7XG4gICAgY29uc29sZS5lcnJvcignV2FybmluZyEgUG9zdGdyZXMgb25seSBzdXBwb3J0cyA2MyBjaGFyYWN0ZXJzIGZvciBxdWVyeSBuYW1lcy4nKVxuICAgIGNvbnNvbGUuZXJyb3IoJ1lvdSBzdXBwbGllZCAlcyAoJXMpJywgbmFtZSwgbmFtZS5sZW5ndGgpXG4gICAgY29uc29sZS5lcnJvcignVGhpcyBjYW4gY2F1c2UgY29uZmxpY3RzIGFuZCBzaWxlbnQgZXJyb3JzIGV4ZWN1dGluZyBxdWVyaWVzJylcbiAgfVxuXG4gIGNvbnN0IHR5cGVzID0gcXVlcnkudHlwZXMgfHwgZW1wdHlBcnJheVxuXG4gIGNvbnN0IGxlbiA9IHR5cGVzLmxlbmd0aFxuXG4gIGNvbnN0IGJ1ZmZlciA9IHdyaXRlclxuICAgIC5hZGRDU3RyaW5nKG5hbWUpIC8vIG5hbWUgb2YgcXVlcnlcbiAgICAuYWRkQ1N0cmluZyhxdWVyeS50ZXh0KSAvLyBhY3R1YWwgcXVlcnkgdGV4dFxuICAgIC5hZGRJbnQxNihsZW4pXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGJ1ZmZlci5hZGRJbnQzMih0eXBlc1tpXSlcbiAgfVxuXG4gIHJldHVybiB3cml0ZXIuZmx1c2goY29kZS5wYXJzZSlcbn1cblxudHlwZSBWYWx1ZU1hcHBlciA9IChwYXJhbTogYW55LCBpbmRleDogbnVtYmVyKSA9PiBhbnlcblxudHlwZSBCaW5kT3B0cyA9IHtcbiAgcG9ydGFsPzogc3RyaW5nXG4gIGJpbmFyeT86IGJvb2xlYW5cbiAgc3RhdGVtZW50Pzogc3RyaW5nXG4gIHZhbHVlcz86IGFueVtdXG4gIC8vIG9wdGlvbmFsIG1hcCBmcm9tIEpTIHZhbHVlIHRvIHBvc3RncmVzIHZhbHVlIHBlciBwYXJhbWV0ZXJcbiAgdmFsdWVNYXBwZXI/OiBWYWx1ZU1hcHBlclxufVxuXG5jb25zdCBwYXJhbVdyaXRlciA9IG5ldyBXcml0ZXIoKVxuXG4vLyBtYWtlIHRoaXMgYSBjb25zdCBlbnVtIHNvIHR5cGVzY3JpcHQgd2lsbCBpbmxpbmUgdGhlIHZhbHVlXG5jb25zdCBlbnVtIFBhcmFtVHlwZSB7XG4gIFNUUklORyA9IDAsXG4gIEJJTkFSWSA9IDEsXG59XG5cbmNvbnN0IHdyaXRlVmFsdWVzID0gZnVuY3Rpb24gKHZhbHVlczogYW55W10sIHZhbHVlTWFwcGVyPzogVmFsdWVNYXBwZXIpOiB2b2lkIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBtYXBwZWRWYWwgPSB2YWx1ZU1hcHBlciA/IHZhbHVlTWFwcGVyKHZhbHVlc1tpXSwgaSkgOiB2YWx1ZXNbaV1cbiAgICBpZiAobWFwcGVkVmFsID09IG51bGwpIHtcbiAgICAgIC8vIGFkZCB0aGUgcGFyYW0gdHlwZSAoc3RyaW5nKSB0byB0aGUgd3JpdGVyXG4gICAgICB3cml0ZXIuYWRkSW50MTYoUGFyYW1UeXBlLlNUUklORylcbiAgICAgIC8vIHdyaXRlIC0xIHRvIHRoZSBwYXJhbSB3cml0ZXIgdG8gaW5kaWNhdGUgbnVsbFxuICAgICAgcGFyYW1Xcml0ZXIuYWRkSW50MzIoLTEpXG4gICAgfSBlbHNlIGlmIChtYXBwZWRWYWwgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgIC8vIGFkZCB0aGUgcGFyYW0gdHlwZSAoYmluYXJ5KSB0byB0aGUgd3JpdGVyXG4gICAgICB3cml0ZXIuYWRkSW50MTYoUGFyYW1UeXBlLkJJTkFSWSlcbiAgICAgIC8vIGFkZCB0aGUgYnVmZmVyIHRvIHRoZSBwYXJhbSB3cml0ZXJcbiAgICAgIHBhcmFtV3JpdGVyLmFkZEludDMyKG1hcHBlZFZhbC5sZW5ndGgpXG4gICAgICBwYXJhbVdyaXRlci5hZGQobWFwcGVkVmFsKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhZGQgdGhlIHBhcmFtIHR5cGUgKHN0cmluZykgdG8gdGhlIHdyaXRlclxuICAgICAgd3JpdGVyLmFkZEludDE2KFBhcmFtVHlwZS5TVFJJTkcpXG4gICAgICBwYXJhbVdyaXRlci5hZGRJbnQzMihCdWZmZXIuYnl0ZUxlbmd0aChtYXBwZWRWYWwpKVxuICAgICAgcGFyYW1Xcml0ZXIuYWRkU3RyaW5nKG1hcHBlZFZhbClcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgYmluZCA9IChjb25maWc6IEJpbmRPcHRzID0ge30pOiBCdWZmZXIgPT4ge1xuICAvLyBub3JtYWxpemUgY29uZmlnXG4gIGNvbnN0IHBvcnRhbCA9IGNvbmZpZy5wb3J0YWwgfHwgJydcbiAgY29uc3Qgc3RhdGVtZW50ID0gY29uZmlnLnN0YXRlbWVudCB8fCAnJ1xuICBjb25zdCBiaW5hcnkgPSBjb25maWcuYmluYXJ5IHx8IGZhbHNlXG4gIGNvbnN0IHZhbHVlcyA9IGNvbmZpZy52YWx1ZXMgfHwgZW1wdHlBcnJheVxuICBjb25zdCBsZW4gPSB2YWx1ZXMubGVuZ3RoXG5cbiAgd3JpdGVyLmFkZENTdHJpbmcocG9ydGFsKS5hZGRDU3RyaW5nKHN0YXRlbWVudClcbiAgd3JpdGVyLmFkZEludDE2KGxlbilcblxuICB3cml0ZVZhbHVlcyh2YWx1ZXMsIGNvbmZpZy52YWx1ZU1hcHBlcilcblxuICB3cml0ZXIuYWRkSW50MTYobGVuKVxuICB3cml0ZXIuYWRkKHBhcmFtV3JpdGVyLmZsdXNoKCkpXG5cbiAgLy8gYWxsIHJlc3VsdHMgdXNlIHRoZSBzYW1lIGZvcm1hdCBjb2RlXG4gIHdyaXRlci5hZGRJbnQxNigxKVxuICAvLyBmb3JtYXQgY29kZVxuICB3cml0ZXIuYWRkSW50MTYoYmluYXJ5ID8gUGFyYW1UeXBlLkJJTkFSWSA6IFBhcmFtVHlwZS5TVFJJTkcpXG4gIHJldHVybiB3cml0ZXIuZmx1c2goY29kZS5iaW5kKVxufVxuXG50eXBlIEV4ZWNPcHRzID0ge1xuICBwb3J0YWw/OiBzdHJpbmdcbiAgcm93cz86IG51bWJlclxufVxuXG5jb25zdCBlbXB0eUV4ZWN1dGUgPSBCdWZmZXIuZnJvbShbY29kZS5leGVjdXRlLCAweDAwLCAweDAwLCAweDAwLCAweDA5LCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwXSlcblxuY29uc3QgZXhlY3V0ZSA9IChjb25maWc/OiBFeGVjT3B0cyk6IEJ1ZmZlciA9PiB7XG4gIC8vIHRoaXMgaXMgdGhlIGhhcHB5IHBhdGggZm9yIG1vc3QgcXVlcmllc1xuICBpZiAoIWNvbmZpZyB8fCAoIWNvbmZpZy5wb3J0YWwgJiYgIWNvbmZpZy5yb3dzKSkge1xuICAgIHJldHVybiBlbXB0eUV4ZWN1dGVcbiAgfVxuXG4gIGNvbnN0IHBvcnRhbCA9IGNvbmZpZy5wb3J0YWwgfHwgJydcbiAgY29uc3Qgcm93cyA9IGNvbmZpZy5yb3dzIHx8IDBcblxuICBjb25zdCBwb3J0YWxMZW5ndGggPSBCdWZmZXIuYnl0ZUxlbmd0aChwb3J0YWwpXG4gIGNvbnN0IGxlbiA9IDQgKyBwb3J0YWxMZW5ndGggKyAxICsgNFxuICAvLyBvbmUgZXh0cmEgYml0IGZvciBjb2RlXG4gIGNvbnN0IGJ1ZmYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMSArIGxlbilcbiAgYnVmZlswXSA9IGNvZGUuZXhlY3V0ZVxuICBidWZmLndyaXRlSW50MzJCRShsZW4sIDEpXG4gIGJ1ZmYud3JpdGUocG9ydGFsLCA1LCAndXRmLTgnKVxuICBidWZmW3BvcnRhbExlbmd0aCArIDVdID0gMCAvLyBudWxsIHRlcm1pbmF0ZSBwb3J0YWwgY1N0cmluZ1xuICBidWZmLndyaXRlVUludDMyQkUocm93cywgYnVmZi5sZW5ndGggLSA0KVxuICByZXR1cm4gYnVmZlxufVxuXG5jb25zdCBjYW5jZWwgPSAocHJvY2Vzc0lEOiBudW1iZXIsIHNlY3JldEtleTogbnVtYmVyKTogQnVmZmVyID0+IHtcbiAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKDE2KVxuICBidWZmZXIud3JpdGVJbnQzMkJFKDE2LCAwKVxuICBidWZmZXIud3JpdGVJbnQxNkJFKDEyMzQsIDQpXG4gIGJ1ZmZlci53cml0ZUludDE2QkUoNTY3OCwgNilcbiAgYnVmZmVyLndyaXRlSW50MzJCRShwcm9jZXNzSUQsIDgpXG4gIGJ1ZmZlci53cml0ZUludDMyQkUoc2VjcmV0S2V5LCAxMilcbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG50eXBlIFBvcnRhbE9wdHMgPSB7XG4gIHR5cGU6ICdTJyB8ICdQJ1xuICBuYW1lPzogc3RyaW5nXG59XG5cbmNvbnN0IGNzdHJpbmdNZXNzYWdlID0gKGNvZGU6IGNvZGUsIHN0cmluZzogc3RyaW5nKTogQnVmZmVyID0+IHtcbiAgY29uc3Qgc3RyaW5nTGVuID0gQnVmZmVyLmJ5dGVMZW5ndGgoc3RyaW5nKVxuICBjb25zdCBsZW4gPSA0ICsgc3RyaW5nTGVuICsgMVxuICAvLyBvbmUgZXh0cmEgYml0IGZvciBjb2RlXG4gIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxICsgbGVuKVxuICBidWZmZXJbMF0gPSBjb2RlXG4gIGJ1ZmZlci53cml0ZUludDMyQkUobGVuLCAxKVxuICBidWZmZXIud3JpdGUoc3RyaW5nLCA1LCAndXRmLTgnKVxuICBidWZmZXJbbGVuXSA9IDAgLy8gbnVsbCB0ZXJtaW5hdGUgY1N0cmluZ1xuICByZXR1cm4gYnVmZmVyXG59XG5cbmNvbnN0IGVtcHR5RGVzY3JpYmVQb3J0YWwgPSB3cml0ZXIuYWRkQ1N0cmluZygnUCcpLmZsdXNoKGNvZGUuZGVzY3JpYmUpXG5jb25zdCBlbXB0eURlc2NyaWJlU3RhdGVtZW50ID0gd3JpdGVyLmFkZENTdHJpbmcoJ1MnKS5mbHVzaChjb2RlLmRlc2NyaWJlKVxuXG5jb25zdCBkZXNjcmliZSA9IChtc2c6IFBvcnRhbE9wdHMpOiBCdWZmZXIgPT4ge1xuICByZXR1cm4gbXNnLm5hbWVcbiAgICA/IGNzdHJpbmdNZXNzYWdlKGNvZGUuZGVzY3JpYmUsIGAke21zZy50eXBlfSR7bXNnLm5hbWUgfHwgJyd9YClcbiAgICA6IG1zZy50eXBlID09PSAnUCdcbiAgICA/IGVtcHR5RGVzY3JpYmVQb3J0YWxcbiAgICA6IGVtcHR5RGVzY3JpYmVTdGF0ZW1lbnRcbn1cblxuY29uc3QgY2xvc2UgPSAobXNnOiBQb3J0YWxPcHRzKTogQnVmZmVyID0+IHtcbiAgY29uc3QgdGV4dCA9IGAke21zZy50eXBlfSR7bXNnLm5hbWUgfHwgJyd9YFxuICByZXR1cm4gY3N0cmluZ01lc3NhZ2UoY29kZS5jbG9zZSwgdGV4dClcbn1cblxuY29uc3QgY29weURhdGEgPSAoY2h1bms6IEJ1ZmZlcik6IEJ1ZmZlciA9PiB7XG4gIHJldHVybiB3cml0ZXIuYWRkKGNodW5rKS5mbHVzaChjb2RlLmNvcHlGcm9tQ2h1bmspXG59XG5cbmNvbnN0IGNvcHlGYWlsID0gKG1lc3NhZ2U6IHN0cmluZyk6IEJ1ZmZlciA9PiB7XG4gIHJldHVybiBjc3RyaW5nTWVzc2FnZShjb2RlLmNvcHlGYWlsLCBtZXNzYWdlKVxufVxuXG5jb25zdCBjb2RlT25seUJ1ZmZlciA9IChjb2RlOiBjb2RlKTogQnVmZmVyID0+IEJ1ZmZlci5mcm9tKFtjb2RlLCAweDAwLCAweDAwLCAweDAwLCAweDA0XSlcblxuY29uc3QgZmx1c2hCdWZmZXIgPSBjb2RlT25seUJ1ZmZlcihjb2RlLmZsdXNoKVxuY29uc3Qgc3luY0J1ZmZlciA9IGNvZGVPbmx5QnVmZmVyKGNvZGUuc3luYylcbmNvbnN0IGVuZEJ1ZmZlciA9IGNvZGVPbmx5QnVmZmVyKGNvZGUuZW5kKVxuY29uc3QgY29weURvbmVCdWZmZXIgPSBjb2RlT25seUJ1ZmZlcihjb2RlLmNvcHlEb25lKVxuXG5jb25zdCBzZXJpYWxpemUgPSB7XG4gIHN0YXJ0dXAsXG4gIHBhc3N3b3JkLFxuICByZXF1ZXN0U3NsLFxuICBzZW5kU0FTTEluaXRpYWxSZXNwb25zZU1lc3NhZ2UsXG4gIHNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZSxcbiAgcXVlcnksXG4gIHBhcnNlLFxuICBiaW5kLFxuICBleGVjdXRlLFxuICBkZXNjcmliZSxcbiAgY2xvc2UsXG4gIGZsdXNoOiAoKSA9PiBmbHVzaEJ1ZmZlcixcbiAgc3luYzogKCkgPT4gc3luY0J1ZmZlcixcbiAgZW5kOiAoKSA9PiBlbmRCdWZmZXIsXG4gIGNvcHlEYXRhLFxuICBjb3B5RG9uZTogKCkgPT4gY29weURvbmVCdWZmZXIsXG4gIGNvcHlGYWlsLFxuICBjYW5jZWwsXG59XG5cbmV4cG9ydCB7IHNlcmlhbGl6ZSB9XG4iLCAiY29uc3QgZW1wdHlCdWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMClcblxuZXhwb3J0IGNsYXNzIEJ1ZmZlclJlYWRlciB7XG4gIHByaXZhdGUgYnVmZmVyOiBCdWZmZXIgPSBlbXB0eUJ1ZmZlclxuXG4gIC8vIFRPRE8oYm1jKTogc3VwcG9ydCBub24tdXRmOCBlbmNvZGluZz9cbiAgcHJpdmF0ZSBlbmNvZGluZzogc3RyaW5nID0gJ3V0Zi04J1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgb2Zmc2V0OiBudW1iZXIgPSAwKSB7fVxuXG4gIHB1YmxpYyBzZXRCdWZmZXIob2Zmc2V0OiBudW1iZXIsIGJ1ZmZlcjogQnVmZmVyKTogdm9pZCB7XG4gICAgdGhpcy5vZmZzZXQgPSBvZmZzZXRcbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlclxuICB9XG5cbiAgcHVibGljIGludDE2KCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXIucmVhZEludDE2QkUodGhpcy5vZmZzZXQpXG4gICAgdGhpcy5vZmZzZXQgKz0gMlxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHB1YmxpYyBieXRlKCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXJbdGhpcy5vZmZzZXRdXG4gICAgdGhpcy5vZmZzZXQrK1xuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHB1YmxpYyBpbnQzMigpOiBudW1iZXIge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYnVmZmVyLnJlYWRJbnQzMkJFKHRoaXMub2Zmc2V0KVxuICAgIHRoaXMub2Zmc2V0ICs9IDRcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBwdWJsaWMgdWludDMyKCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXIucmVhZFVJbnQzMkJFKHRoaXMub2Zmc2V0KVxuICAgIHRoaXMub2Zmc2V0ICs9IDRcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBwdWJsaWMgc3RyaW5nKGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmJ1ZmZlci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCB0aGlzLm9mZnNldCwgdGhpcy5vZmZzZXQgKyBsZW5ndGgpXG4gICAgdGhpcy5vZmZzZXQgKz0gbGVuZ3RoXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgcHVibGljIGNzdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMub2Zmc2V0XG4gICAgbGV0IGVuZCA9IHN0YXJ0XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgd2hpbGUgKHRoaXMuYnVmZmVyW2VuZCsrXSAhPT0gMCkge31cbiAgICB0aGlzLm9mZnNldCA9IGVuZFxuICAgIHJldHVybiB0aGlzLmJ1ZmZlci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCBzdGFydCwgZW5kIC0gMSlcbiAgfVxuXG4gIHB1YmxpYyBieXRlcyhsZW5ndGg6IG51bWJlcik6IEJ1ZmZlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXIuc2xpY2UodGhpcy5vZmZzZXQsIHRoaXMub2Zmc2V0ICsgbGVuZ3RoKVxuICAgIHRoaXMub2Zmc2V0ICs9IGxlbmd0aFxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuIiwgImltcG9ydCB7IFRyYW5zZm9ybU9wdGlvbnMgfSBmcm9tICdzdHJlYW0nXG5pbXBvcnQge1xuICBNb2RlLFxuICBiaW5kQ29tcGxldGUsXG4gIHBhcnNlQ29tcGxldGUsXG4gIGNsb3NlQ29tcGxldGUsXG4gIG5vRGF0YSxcbiAgcG9ydGFsU3VzcGVuZGVkLFxuICBjb3B5RG9uZSxcbiAgcmVwbGljYXRpb25TdGFydCxcbiAgZW1wdHlRdWVyeSxcbiAgUmVhZHlGb3JRdWVyeU1lc3NhZ2UsXG4gIENvbW1hbmRDb21wbGV0ZU1lc3NhZ2UsXG4gIENvcHlEYXRhTWVzc2FnZSxcbiAgQ29weVJlc3BvbnNlLFxuICBOb3RpZmljYXRpb25SZXNwb25zZU1lc3NhZ2UsXG4gIFJvd0Rlc2NyaXB0aW9uTWVzc2FnZSxcbiAgUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlLFxuICBGaWVsZCxcbiAgRGF0YVJvd01lc3NhZ2UsXG4gIFBhcmFtZXRlclN0YXR1c01lc3NhZ2UsXG4gIEJhY2tlbmRLZXlEYXRhTWVzc2FnZSxcbiAgRGF0YWJhc2VFcnJvcixcbiAgQmFja2VuZE1lc3NhZ2UsXG4gIE1lc3NhZ2VOYW1lLFxuICBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkLFxuICBOb3RpY2VNZXNzYWdlLFxufSBmcm9tICcuL21lc3NhZ2VzJ1xuaW1wb3J0IHsgQnVmZmVyUmVhZGVyIH0gZnJvbSAnLi9idWZmZXItcmVhZGVyJ1xuXG4vLyBldmVyeSBtZXNzYWdlIGlzIHByZWZpeGVkIHdpdGggYSBzaW5nbGUgYnllXG5jb25zdCBDT0RFX0xFTkdUSCA9IDFcbi8vIGV2ZXJ5IG1lc3NhZ2UgaGFzIGFuIGludDMyIGxlbmd0aCB3aGljaCBpbmNsdWRlcyBpdHNlbGYgYnV0IGRvZXNcbi8vIE5PVCBpbmNsdWRlIHRoZSBjb2RlIGluIHRoZSBsZW5ndGhcbmNvbnN0IExFTl9MRU5HVEggPSA0XG5cbmNvbnN0IEhFQURFUl9MRU5HVEggPSBDT0RFX0xFTkdUSCArIExFTl9MRU5HVEhcblxuZXhwb3J0IHR5cGUgUGFja2V0ID0ge1xuICBjb2RlOiBudW1iZXJcbiAgcGFja2V0OiBCdWZmZXJcbn1cblxuY29uc3QgZW1wdHlCdWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMClcblxudHlwZSBTdHJlYW1PcHRpb25zID0gVHJhbnNmb3JtT3B0aW9ucyAmIHtcbiAgbW9kZTogTW9kZVxufVxuXG5jb25zdCBlbnVtIE1lc3NhZ2VDb2RlcyB7XG4gIERhdGFSb3cgPSAweDQ0LCAvLyBEXG4gIFBhcnNlQ29tcGxldGUgPSAweDMxLCAvLyAxXG4gIEJpbmRDb21wbGV0ZSA9IDB4MzIsIC8vIDJcbiAgQ2xvc2VDb21wbGV0ZSA9IDB4MzMsIC8vIDNcbiAgQ29tbWFuZENvbXBsZXRlID0gMHg0MywgLy8gQ1xuICBSZWFkeUZvclF1ZXJ5ID0gMHg1YSwgLy8gWlxuICBOb0RhdGEgPSAweDZlLCAvLyBuXG4gIE5vdGlmaWNhdGlvblJlc3BvbnNlID0gMHg0MSwgLy8gQVxuICBBdXRoZW50aWNhdGlvblJlc3BvbnNlID0gMHg1MiwgLy8gUlxuICBQYXJhbWV0ZXJTdGF0dXMgPSAweDUzLCAvLyBTXG4gIEJhY2tlbmRLZXlEYXRhID0gMHg0YiwgLy8gS1xuICBFcnJvck1lc3NhZ2UgPSAweDQ1LCAvLyBFXG4gIE5vdGljZU1lc3NhZ2UgPSAweDRlLCAvLyBOXG4gIFJvd0Rlc2NyaXB0aW9uTWVzc2FnZSA9IDB4NTQsIC8vIFRcbiAgUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlID0gMHg3NCwgLy8gdFxuICBQb3J0YWxTdXNwZW5kZWQgPSAweDczLCAvLyBzXG4gIFJlcGxpY2F0aW9uU3RhcnQgPSAweDU3LCAvLyBXXG4gIEVtcHR5UXVlcnkgPSAweDQ5LCAvLyBJXG4gIENvcHlJbiA9IDB4NDcsIC8vIEdcbiAgQ29weU91dCA9IDB4NDgsIC8vIEhcbiAgQ29weURvbmUgPSAweDYzLCAvLyBjXG4gIENvcHlEYXRhID0gMHg2NCwgLy8gZFxufVxuXG5leHBvcnQgdHlwZSBNZXNzYWdlQ2FsbGJhY2sgPSAobXNnOiBCYWNrZW5kTWVzc2FnZSkgPT4gdm9pZFxuXG5leHBvcnQgY2xhc3MgUGFyc2VyIHtcbiAgcHJpdmF0ZSBidWZmZXI6IEJ1ZmZlciA9IGVtcHR5QnVmZmVyXG4gIHByaXZhdGUgYnVmZmVyTGVuZ3RoOiBudW1iZXIgPSAwXG4gIHByaXZhdGUgYnVmZmVyT2Zmc2V0OiBudW1iZXIgPSAwXG4gIHByaXZhdGUgcmVhZGVyID0gbmV3IEJ1ZmZlclJlYWRlcigpXG4gIHByaXZhdGUgbW9kZTogTW9kZVxuXG4gIGNvbnN0cnVjdG9yKG9wdHM/OiBTdHJlYW1PcHRpb25zKSB7XG4gICAgaWYgKG9wdHM/Lm1vZGUgPT09ICdiaW5hcnknKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JpbmFyeSBtb2RlIG5vdCBzdXBwb3J0ZWQgeWV0JylcbiAgICB9XG4gICAgdGhpcy5tb2RlID0gb3B0cz8ubW9kZSB8fCAndGV4dCdcbiAgfVxuXG4gIHB1YmxpYyBwYXJzZShidWZmZXI6IEJ1ZmZlciwgY2FsbGJhY2s6IE1lc3NhZ2VDYWxsYmFjaykge1xuICAgIHRoaXMubWVyZ2VCdWZmZXIoYnVmZmVyKVxuICAgIGNvbnN0IGJ1ZmZlckZ1bGxMZW5ndGggPSB0aGlzLmJ1ZmZlck9mZnNldCArIHRoaXMuYnVmZmVyTGVuZ3RoXG4gICAgbGV0IG9mZnNldCA9IHRoaXMuYnVmZmVyT2Zmc2V0XG4gICAgd2hpbGUgKG9mZnNldCArIEhFQURFUl9MRU5HVEggPD0gYnVmZmVyRnVsbExlbmd0aCkge1xuICAgICAgLy8gY29kZSBpcyAxIGJ5dGUgbG9uZyAtIGl0IGlkZW50aWZpZXMgdGhlIG1lc3NhZ2UgdHlwZVxuICAgICAgY29uc3QgY29kZSA9IHRoaXMuYnVmZmVyW29mZnNldF1cbiAgICAgIC8vIGxlbmd0aCBpcyAxIFVpbnQzMkJFIC0gaXQgaXMgdGhlIGxlbmd0aCBvZiB0aGUgbWVzc2FnZSBFWENMVURJTkcgdGhlIGNvZGVcbiAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuYnVmZmVyLnJlYWRVSW50MzJCRShvZmZzZXQgKyBDT0RFX0xFTkdUSClcbiAgICAgIGNvbnN0IGZ1bGxNZXNzYWdlTGVuZ3RoID0gQ09ERV9MRU5HVEggKyBsZW5ndGhcbiAgICAgIGlmIChmdWxsTWVzc2FnZUxlbmd0aCArIG9mZnNldCA8PSBidWZmZXJGdWxsTGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmhhbmRsZVBhY2tldChvZmZzZXQgKyBIRUFERVJfTEVOR1RILCBjb2RlLCBsZW5ndGgsIHRoaXMuYnVmZmVyKVxuICAgICAgICBjYWxsYmFjayhtZXNzYWdlKVxuICAgICAgICBvZmZzZXQgKz0gZnVsbE1lc3NhZ2VMZW5ndGhcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvZmZzZXQgPT09IGJ1ZmZlckZ1bGxMZW5ndGgpIHtcbiAgICAgIC8vIE5vIG1vcmUgdXNlIGZvciB0aGUgYnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlciA9IGVtcHR5QnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDBcbiAgICAgIHRoaXMuYnVmZmVyT2Zmc2V0ID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBBZGp1c3QgdGhlIGN1cnNvcnMgb2YgcmVtYWluaW5nQnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IGJ1ZmZlckZ1bGxMZW5ndGggLSBvZmZzZXRcbiAgICAgIHRoaXMuYnVmZmVyT2Zmc2V0ID0gb2Zmc2V0XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBtZXJnZUJ1ZmZlcihidWZmZXI6IEJ1ZmZlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmJ1ZmZlckxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG5ld0xlbmd0aCA9IHRoaXMuYnVmZmVyTGVuZ3RoICsgYnVmZmVyLmJ5dGVMZW5ndGhcbiAgICAgIGNvbnN0IG5ld0Z1bGxMZW5ndGggPSBuZXdMZW5ndGggKyB0aGlzLmJ1ZmZlck9mZnNldFxuICAgICAgaWYgKG5ld0Z1bGxMZW5ndGggPiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIC8vIFdlIGNhbid0IGNvbmNhdCB0aGUgbmV3IGJ1ZmZlciB3aXRoIHRoZSByZW1haW5pbmcgb25lXG4gICAgICAgIGxldCBuZXdCdWZmZXI6IEJ1ZmZlclxuICAgICAgICBpZiAobmV3TGVuZ3RoIDw9IHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGggJiYgdGhpcy5idWZmZXJPZmZzZXQgPj0gdGhpcy5idWZmZXJMZW5ndGgpIHtcbiAgICAgICAgICAvLyBXZSBjYW4gbW92ZSB0aGUgcmVsZXZhbnQgcGFydCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXIgaW5zdGVhZCBvZiBhbGxvY2F0aW5nIGEgbmV3IGJ1ZmZlclxuICAgICAgICAgIG5ld0J1ZmZlciA9IHRoaXMuYnVmZmVyXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQWxsb2NhdGUgYSBuZXcgbGFyZ2VyIGJ1ZmZlclxuICAgICAgICAgIGxldCBuZXdCdWZmZXJMZW5ndGggPSB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoICogMlxuICAgICAgICAgIHdoaWxlIChuZXdMZW5ndGggPj0gbmV3QnVmZmVyTGVuZ3RoKSB7XG4gICAgICAgICAgICBuZXdCdWZmZXJMZW5ndGggKj0gMlxuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdCdWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobmV3QnVmZmVyTGVuZ3RoKVxuICAgICAgICB9XG4gICAgICAgIC8vIE1vdmUgdGhlIHJlbWFpbmluZyBidWZmZXIgdG8gdGhlIG5ldyBvbmVcbiAgICAgICAgdGhpcy5idWZmZXIuY29weShuZXdCdWZmZXIsIDAsIHRoaXMuYnVmZmVyT2Zmc2V0LCB0aGlzLmJ1ZmZlck9mZnNldCArIHRoaXMuYnVmZmVyTGVuZ3RoKVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ld0J1ZmZlclxuICAgICAgICB0aGlzLmJ1ZmZlck9mZnNldCA9IDBcbiAgICAgIH1cbiAgICAgIC8vIENvbmNhdCB0aGUgbmV3IGJ1ZmZlciB3aXRoIHRoZSByZW1haW5pbmcgb25lXG4gICAgICBidWZmZXIuY29weSh0aGlzLmJ1ZmZlciwgdGhpcy5idWZmZXJPZmZzZXQgKyB0aGlzLmJ1ZmZlckxlbmd0aClcbiAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gbmV3TGVuZ3RoXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlck9mZnNldCA9IDBcbiAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gYnVmZmVyLmJ5dGVMZW5ndGhcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVBhY2tldChvZmZzZXQ6IG51bWJlciwgY29kZTogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcik6IEJhY2tlbmRNZXNzYWdlIHtcbiAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkJpbmRDb21wbGV0ZTpcbiAgICAgICAgcmV0dXJuIGJpbmRDb21wbGV0ZVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUGFyc2VDb21wbGV0ZTpcbiAgICAgICAgcmV0dXJuIHBhcnNlQ29tcGxldGVcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNsb3NlQ29tcGxldGU6XG4gICAgICAgIHJldHVybiBjbG9zZUNvbXBsZXRlXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5Ob0RhdGE6XG4gICAgICAgIHJldHVybiBub0RhdGFcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLlBvcnRhbFN1c3BlbmRlZDpcbiAgICAgICAgcmV0dXJuIHBvcnRhbFN1c3BlbmRlZFxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuQ29weURvbmU6XG4gICAgICAgIHJldHVybiBjb3B5RG9uZVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUmVwbGljYXRpb25TdGFydDpcbiAgICAgICAgcmV0dXJuIHJlcGxpY2F0aW9uU3RhcnRcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkVtcHR5UXVlcnk6XG4gICAgICAgIHJldHVybiBlbXB0eVF1ZXJ5XG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5EYXRhUm93OlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZURhdGFSb3dNZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNvbW1hbmRDb21wbGV0ZTpcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VDb21tYW5kQ29tcGxldGVNZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLlJlYWR5Rm9yUXVlcnk6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlUmVhZHlGb3JRdWVyeU1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuTm90aWZpY2F0aW9uUmVzcG9uc2U6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlTm90aWZpY2F0aW9uTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMpXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5BdXRoZW50aWNhdGlvblJlc3BvbnNlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUF1dGhlbnRpY2F0aW9uUmVzcG9uc2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUGFyYW1ldGVyU3RhdHVzOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVBhcmFtZXRlclN0YXR1c01lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuQmFja2VuZEtleURhdGE6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlQmFja2VuZEtleURhdGEob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuRXJyb3JNZXNzYWdlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVycm9yTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMsICdlcnJvcicpXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5Ob3RpY2VNZXNzYWdlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVycm9yTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMsICdub3RpY2UnKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUm93RGVzY3JpcHRpb25NZXNzYWdlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVJvd0Rlc2NyaXB0aW9uTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMpXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5QYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2U6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNvcHlJbjpcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VDb3B5SW5NZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNvcHlPdXQ6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlQ29weU91dE1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuQ29weURhdGE6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlQ29weURhdGEob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhYmFzZUVycm9yKCdyZWNlaXZlZCBpbnZhbGlkIHJlc3BvbnNlOiAnICsgY29kZS50b1N0cmluZygxNiksIGxlbmd0aCwgJ2Vycm9yJylcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhcnNlUmVhZHlGb3JRdWVyeU1lc3NhZ2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5yZWFkZXIuc3RyaW5nKDEpXG4gICAgcmV0dXJuIG5ldyBSZWFkeUZvclF1ZXJ5TWVzc2FnZShsZW5ndGgsIHN0YXR1cylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VDb21tYW5kQ29tcGxldGVNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IHRleHQgPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICByZXR1cm4gbmV3IENvbW1hbmRDb21wbGV0ZU1lc3NhZ2UobGVuZ3RoLCB0ZXh0KVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUNvcHlEYXRhKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIGNvbnN0IGNodW5rID0gYnl0ZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyAobGVuZ3RoIC0gNCkpXG4gICAgcmV0dXJuIG5ldyBDb3B5RGF0YU1lc3NhZ2UobGVuZ3RoLCBjaHVuaylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VDb3B5SW5NZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHJldHVybiB0aGlzLnBhcnNlQ29weU1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzLCAnY29weUluUmVzcG9uc2UnKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUNvcHlPdXRNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHJldHVybiB0aGlzLnBhcnNlQ29weU1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzLCAnY29weU91dFJlc3BvbnNlJylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VDb3B5TWVzc2FnZShvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIGJ5dGVzOiBCdWZmZXIsIG1lc3NhZ2VOYW1lOiBNZXNzYWdlTmFtZSkge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IGlzQmluYXJ5ID0gdGhpcy5yZWFkZXIuYnl0ZSgpICE9PSAwXG4gICAgY29uc3QgY29sdW1uQ291bnQgPSB0aGlzLnJlYWRlci5pbnQxNigpXG4gICAgY29uc3QgbWVzc2FnZSA9IG5ldyBDb3B5UmVzcG9uc2UobGVuZ3RoLCBtZXNzYWdlTmFtZSwgaXNCaW5hcnksIGNvbHVtbkNvdW50KVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sdW1uQ291bnQ7IGkrKykge1xuICAgICAgbWVzc2FnZS5jb2x1bW5UeXBlc1tpXSA9IHRoaXMucmVhZGVyLmludDE2KClcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VOb3RpZmljYXRpb25NZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IHByb2Nlc3NJZCA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICBjb25zdCBjaGFubmVsID0gdGhpcy5yZWFkZXIuY3N0cmluZygpXG4gICAgY29uc3QgcGF5bG9hZCA9IHRoaXMucmVhZGVyLmNzdHJpbmcoKVxuICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uUmVzcG9uc2VNZXNzYWdlKGxlbmd0aCwgcHJvY2Vzc0lkLCBjaGFubmVsLCBwYXlsb2FkKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZVJvd0Rlc2NyaXB0aW9uTWVzc2FnZShvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIGJ5dGVzOiBCdWZmZXIpIHtcbiAgICB0aGlzLnJlYWRlci5zZXRCdWZmZXIob2Zmc2V0LCBieXRlcylcbiAgICBjb25zdCBmaWVsZENvdW50ID0gdGhpcy5yZWFkZXIuaW50MTYoKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgUm93RGVzY3JpcHRpb25NZXNzYWdlKGxlbmd0aCwgZmllbGRDb3VudClcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkQ291bnQ7IGkrKykge1xuICAgICAgbWVzc2FnZS5maWVsZHNbaV0gPSB0aGlzLnBhcnNlRmllbGQoKVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUZpZWxkKCk6IEZpZWxkIHtcbiAgICBjb25zdCBuYW1lID0gdGhpcy5yZWFkZXIuY3N0cmluZygpXG4gICAgY29uc3QgdGFibGVJRCA9IHRoaXMucmVhZGVyLnVpbnQzMigpXG4gICAgY29uc3QgY29sdW1uSUQgPSB0aGlzLnJlYWRlci5pbnQxNigpXG4gICAgY29uc3QgZGF0YVR5cGVJRCA9IHRoaXMucmVhZGVyLnVpbnQzMigpXG4gICAgY29uc3QgZGF0YVR5cGVTaXplID0gdGhpcy5yZWFkZXIuaW50MTYoKVxuICAgIGNvbnN0IGRhdGFUeXBlTW9kaWZpZXIgPSB0aGlzLnJlYWRlci5pbnQzMigpXG4gICAgY29uc3QgbW9kZSA9IHRoaXMucmVhZGVyLmludDE2KCkgPT09IDAgPyAndGV4dCcgOiAnYmluYXJ5J1xuICAgIHJldHVybiBuZXcgRmllbGQobmFtZSwgdGFibGVJRCwgY29sdW1uSUQsIGRhdGFUeXBlSUQsIGRhdGFUeXBlU2l6ZSwgZGF0YVR5cGVNb2RpZmllciwgbW9kZSlcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VQYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3QgcGFyYW1ldGVyQ291bnQgPSB0aGlzLnJlYWRlci5pbnQxNigpXG4gICAgY29uc3QgbWVzc2FnZSA9IG5ldyBQYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2UobGVuZ3RoLCBwYXJhbWV0ZXJDb3VudClcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlckNvdW50OyBpKyspIHtcbiAgICAgIG1lc3NhZ2UuZGF0YVR5cGVJRHNbaV0gPSB0aGlzLnJlYWRlci5pbnQzMigpXG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlXG4gIH1cblxuICBwcml2YXRlIHBhcnNlRGF0YVJvd01lc3NhZ2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3QgZmllbGRDb3VudCA9IHRoaXMucmVhZGVyLmludDE2KClcbiAgICBjb25zdCBmaWVsZHM6IGFueVtdID0gbmV3IEFycmF5KGZpZWxkQ291bnQpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZENvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IGxlbiA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICAgIC8vIGEgLTEgZm9yIGxlbmd0aCBtZWFucyB0aGUgdmFsdWUgb2YgdGhlIGZpZWxkIGlzIG51bGxcbiAgICAgIGZpZWxkc1tpXSA9IGxlbiA9PT0gLTEgPyBudWxsIDogdGhpcy5yZWFkZXIuc3RyaW5nKGxlbilcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEYXRhUm93TWVzc2FnZShsZW5ndGgsIGZpZWxkcylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VQYXJhbWV0ZXJTdGF0dXNNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IG5hbWUgPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMucmVhZGVyLmNzdHJpbmcoKVxuICAgIHJldHVybiBuZXcgUGFyYW1ldGVyU3RhdHVzTWVzc2FnZShsZW5ndGgsIG5hbWUsIHZhbHVlKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUJhY2tlbmRLZXlEYXRhKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IHByb2Nlc3NJRCA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICBjb25zdCBzZWNyZXRLZXkgPSB0aGlzLnJlYWRlci5pbnQzMigpXG4gICAgcmV0dXJuIG5ldyBCYWNrZW5kS2V5RGF0YU1lc3NhZ2UobGVuZ3RoLCBwcm9jZXNzSUQsIHNlY3JldEtleSlcbiAgfVxuXG4gIHB1YmxpYyBwYXJzZUF1dGhlbnRpY2F0aW9uUmVzcG9uc2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3QgY29kZSA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICAvLyBUT0RPKGJtYyk6IG1heWJlIGJldHRlciB0eXBlcyBoZXJlXG4gICAgY29uc3QgbWVzc2FnZTogQmFja2VuZE1lc3NhZ2UgJiBhbnkgPSB7XG4gICAgICBuYW1lOiAnYXV0aGVudGljYXRpb25PaycsXG4gICAgICBsZW5ndGgsXG4gICAgfVxuXG4gICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICBjYXNlIDA6IC8vIEF1dGhlbnRpY2F0aW9uT2tcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMzogLy8gQXV0aGVudGljYXRpb25DbGVhcnRleHRQYXNzd29yZFxuICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPT09IDgpIHtcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSAnYXV0aGVudGljYXRpb25DbGVhcnRleHRQYXNzd29yZCdcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSA1OiAvLyBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkXG4gICAgICAgIGlmIChtZXNzYWdlLmxlbmd0aCA9PT0gMTIpIHtcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSAnYXV0aGVudGljYXRpb25NRDVQYXNzd29yZCdcbiAgICAgICAgICBjb25zdCBzYWx0ID0gdGhpcy5yZWFkZXIuYnl0ZXMoNClcbiAgICAgICAgICByZXR1cm4gbmV3IEF1dGhlbnRpY2F0aW9uTUQ1UGFzc3dvcmQobGVuZ3RoLCBzYWx0KVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIDEwOiAvLyBBdXRoZW50aWNhdGlvblNBU0xcbiAgICAgICAge1xuICAgICAgICAgIG1lc3NhZ2UubmFtZSA9ICdhdXRoZW50aWNhdGlvblNBU0wnXG4gICAgICAgICAgbWVzc2FnZS5tZWNoYW5pc21zID0gW11cbiAgICAgICAgICBsZXQgbWVjaGFuaXNtOiBzdHJpbmdcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBtZWNoYW5pc20gPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICAgICAgICAgIGlmIChtZWNoYW5pc20pIHtcbiAgICAgICAgICAgICAgbWVzc2FnZS5tZWNoYW5pc21zLnB1c2gobWVjaGFuaXNtKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKG1lY2hhbmlzbSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAxMTogLy8gQXV0aGVudGljYXRpb25TQVNMQ29udGludWVcbiAgICAgICAgbWVzc2FnZS5uYW1lID0gJ2F1dGhlbnRpY2F0aW9uU0FTTENvbnRpbnVlJ1xuICAgICAgICBtZXNzYWdlLmRhdGEgPSB0aGlzLnJlYWRlci5zdHJpbmcobGVuZ3RoIC0gOClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMTI6IC8vIEF1dGhlbnRpY2F0aW9uU0FTTEZpbmFsXG4gICAgICAgIG1lc3NhZ2UubmFtZSA9ICdhdXRoZW50aWNhdGlvblNBU0xGaW5hbCdcbiAgICAgICAgbWVzc2FnZS5kYXRhID0gdGhpcy5yZWFkZXIuc3RyaW5nKGxlbmd0aCAtIDgpXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gYXV0aGVudGljYXRpb25PayBtZXNzYWdlIHR5cGUgJyArIGNvZGUpXG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlXG4gIH1cblxuICBwcml2YXRlIHBhcnNlRXJyb3JNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlciwgbmFtZTogTWVzc2FnZU5hbWUpIHtcbiAgICB0aGlzLnJlYWRlci5zZXRCdWZmZXIob2Zmc2V0LCBieXRlcylcbiAgICBjb25zdCBmaWVsZHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fVxuICAgIGxldCBmaWVsZFR5cGUgPSB0aGlzLnJlYWRlci5zdHJpbmcoMSlcbiAgICB3aGlsZSAoZmllbGRUeXBlICE9PSAnXFwwJykge1xuICAgICAgZmllbGRzW2ZpZWxkVHlwZV0gPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICAgIGZpZWxkVHlwZSA9IHRoaXMucmVhZGVyLnN0cmluZygxKVxuICAgIH1cblxuICAgIGNvbnN0IG1lc3NhZ2VWYWx1ZSA9IGZpZWxkcy5NXG5cbiAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgIG5hbWUgPT09ICdub3RpY2UnID8gbmV3IE5vdGljZU1lc3NhZ2UobGVuZ3RoLCBtZXNzYWdlVmFsdWUpIDogbmV3IERhdGFiYXNlRXJyb3IobWVzc2FnZVZhbHVlLCBsZW5ndGgsIG5hbWUpXG5cbiAgICBtZXNzYWdlLnNldmVyaXR5ID0gZmllbGRzLlNcbiAgICBtZXNzYWdlLmNvZGUgPSBmaWVsZHMuQ1xuICAgIG1lc3NhZ2UuZGV0YWlsID0gZmllbGRzLkRcbiAgICBtZXNzYWdlLmhpbnQgPSBmaWVsZHMuSFxuICAgIG1lc3NhZ2UucG9zaXRpb24gPSBmaWVsZHMuUFxuICAgIG1lc3NhZ2UuaW50ZXJuYWxQb3NpdGlvbiA9IGZpZWxkcy5wXG4gICAgbWVzc2FnZS5pbnRlcm5hbFF1ZXJ5ID0gZmllbGRzLnFcbiAgICBtZXNzYWdlLndoZXJlID0gZmllbGRzLldcbiAgICBtZXNzYWdlLnNjaGVtYSA9IGZpZWxkcy5zXG4gICAgbWVzc2FnZS50YWJsZSA9IGZpZWxkcy50XG4gICAgbWVzc2FnZS5jb2x1bW4gPSBmaWVsZHMuY1xuICAgIG1lc3NhZ2UuZGF0YVR5cGUgPSBmaWVsZHMuZFxuICAgIG1lc3NhZ2UuY29uc3RyYWludCA9IGZpZWxkcy5uXG4gICAgbWVzc2FnZS5maWxlID0gZmllbGRzLkZcbiAgICBtZXNzYWdlLmxpbmUgPSBmaWVsZHMuTFxuICAgIG1lc3NhZ2Uucm91dGluZSA9IGZpZWxkcy5SXG4gICAgcmV0dXJuIG1lc3NhZ2VcbiAgfVxufVxuIiwgImltcG9ydCB7IERhdGFiYXNlRXJyb3IgfSBmcm9tICcuL21lc3NhZ2VzJ1xuaW1wb3J0IHsgc2VyaWFsaXplIH0gZnJvbSAnLi9zZXJpYWxpemVyJ1xuaW1wb3J0IHsgUGFyc2VyLCBNZXNzYWdlQ2FsbGJhY2sgfSBmcm9tICcuL3BhcnNlcidcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHN0cmVhbTogTm9kZUpTLlJlYWRhYmxlU3RyZWFtLCBjYWxsYmFjazogTWVzc2FnZUNhbGxiYWNrKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIoKVxuICBzdHJlYW0ub24oJ2RhdGEnLCAoYnVmZmVyOiBCdWZmZXIpID0+IHBhcnNlci5wYXJzZShidWZmZXIsIGNhbGxiYWNrKSlcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzdHJlYW0ub24oJ2VuZCcsICgpID0+IHJlc29sdmUoKSkpXG59XG5cbmV4cG9ydCB7IHNlcmlhbGl6ZSwgRGF0YWJhc2VFcnJvciB9XG4iLCAiLy8gVGhpcyBpcyBhbiBlbXB0eSBtb2R1bGUgdGhhdCBpcyBzZXJ2ZWQgdXAgd2hlbiBvdXRzaWRlIG9mIGEgd29ya2VyZCBlbnZpcm9ubWVudFxuLy8gU2VlIHRoZSBgZXhwb3J0c2AgZmllbGQgaW4gcGFja2FnZS5qc29uXG5leHBvcnQgZGVmYXVsdCB7fVxuIiwgImNvbnN0IHsgZ2V0U3RyZWFtLCBnZXRTZWN1cmVTdHJlYW0gfSA9IGdldFN0cmVhbUZ1bmNzKClcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKlxuICAgKiBHZXQgYSBzb2NrZXQgc3RyZWFtIGNvbXBhdGlibGUgd2l0aCB0aGUgY3VycmVudCBydW50aW1lIGVudmlyb25tZW50LlxuICAgKiBAcmV0dXJucyB7RHVwbGV4fVxuICAgKi9cbiAgZ2V0U3RyZWFtLFxuICAvKipcbiAgICogR2V0IGEgVExTIHNlY3VyZWQgc29ja2V0LCBjb21wYXRpYmxlIHdpdGggdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQsXG4gICAqIHVzaW5nIHRoZSBzb2NrZXQgYW5kIG90aGVyIHNldHRpbmdzIGdpdmVuIGluIGBvcHRpb25zYC5cbiAgICogQHJldHVybnMge0R1cGxleH1cbiAgICovXG4gIGdldFNlY3VyZVN0cmVhbSxcbn1cblxuLyoqXG4gKiBUaGUgc3RyZWFtIGZ1bmN0aW9ucyB0aGF0IHdvcmsgaW4gTm9kZS5qc1xuICovXG5mdW5jdGlvbiBnZXROb2RlanNTdHJlYW1GdW5jcygpIHtcbiAgZnVuY3Rpb24gZ2V0U3RyZWFtKHNzbCkge1xuICAgIGNvbnN0IG5ldCA9IHJlcXVpcmUoJ25ldCcpXG4gICAgcmV0dXJuIG5ldyBuZXQuU29ja2V0KClcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlY3VyZVN0cmVhbShvcHRpb25zKSB7XG4gICAgY29uc3QgdGxzID0gcmVxdWlyZSgndGxzJylcbiAgICByZXR1cm4gdGxzLmNvbm5lY3Qob3B0aW9ucylcbiAgfVxuICByZXR1cm4ge1xuICAgIGdldFN0cmVhbSxcbiAgICBnZXRTZWN1cmVTdHJlYW0sXG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgc3RyZWFtIGZ1bmN0aW9ucyB0aGF0IHdvcmsgaW4gQ2xvdWRmbGFyZSBXb3JrZXJzXG4gKi9cbmZ1bmN0aW9uIGdldENsb3VkZmxhcmVTdHJlYW1GdW5jcygpIHtcbiAgZnVuY3Rpb24gZ2V0U3RyZWFtKHNzbCkge1xuICAgIGNvbnN0IHsgQ2xvdWRmbGFyZVNvY2tldCB9ID0gcmVxdWlyZSgncGctY2xvdWRmbGFyZScpXG4gICAgcmV0dXJuIG5ldyBDbG91ZGZsYXJlU29ja2V0KHNzbClcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlY3VyZVN0cmVhbShvcHRpb25zKSB7XG4gICAgb3B0aW9ucy5zb2NrZXQuc3RhcnRUbHMob3B0aW9ucylcbiAgICByZXR1cm4gb3B0aW9ucy5zb2NrZXRcbiAgfVxuICByZXR1cm4ge1xuICAgIGdldFN0cmVhbSxcbiAgICBnZXRTZWN1cmVTdHJlYW0sXG4gIH1cbn1cblxuLyoqXG4gKiBBcmUgd2UgcnVubmluZyBpbiBhIENsb3VkZmxhcmUgV29ya2VyP1xuICpcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGNvZGUgaXMgY3VycmVudGx5IHJ1bm5pbmcgaW5zaWRlIGEgQ2xvdWRmbGFyZSBXb3JrZXIuXG4gKi9cbmZ1bmN0aW9uIGlzQ2xvdWRmbGFyZVJ1bnRpbWUoKSB7XG4gIC8vIFNpbmNlIDIwMjItMDMtMjEgdGhlIGBnbG9iYWxfbmF2aWdhdG9yYCBjb21wYXRpYmlsaXR5IGZsYWcgaXMgb24gZm9yIENsb3VkZmxhcmUgV29ya2Vyc1xuICAvLyB3aGljaCBtZWFucyB0aGF0IGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIGRlZmluZWQuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgJiYgbmF2aWdhdG9yICE9PSBudWxsICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnc3RyaW5nJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnQ2xvdWRmbGFyZS1Xb3JrZXJzJ1xuICB9XG4gIC8vIEluIGNhc2UgYG5hdmlnYXRvcmAgb3IgYG5hdmlnYXRvci51c2VyQWdlbnRgIGlzIG5vdCBkZWZpbmVkIHRoZW4gdHJ5IGEgbW9yZSBzbmVha3kgYXBwcm9hY2hcbiAgaWYgKHR5cGVvZiBSZXNwb25zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnN0IHJlc3AgPSBuZXcgUmVzcG9uc2UobnVsbCwgeyBjZjogeyB0aGluZzogdHJ1ZSB9IH0pXG4gICAgaWYgKHR5cGVvZiByZXNwLmNmID09PSAnb2JqZWN0JyAmJiByZXNwLmNmICE9PSBudWxsICYmIHJlc3AuY2YudGhpbmcpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBnZXRTdHJlYW1GdW5jcygpIHtcbiAgaWYgKGlzQ2xvdWRmbGFyZVJ1bnRpbWUoKSkge1xuICAgIHJldHVybiBnZXRDbG91ZGZsYXJlU3RyZWFtRnVuY3MoKVxuICB9XG4gIHJldHVybiBnZXROb2RlanNTdHJlYW1GdW5jcygpXG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuXG5jb25zdCB7IHBhcnNlLCBzZXJpYWxpemUgfSA9IHJlcXVpcmUoJ3BnLXByb3RvY29sJylcbmNvbnN0IHsgZ2V0U3RyZWFtLCBnZXRTZWN1cmVTdHJlYW0gfSA9IHJlcXVpcmUoJy4vc3RyZWFtJylcblxuY29uc3QgZmx1c2hCdWZmZXIgPSBzZXJpYWxpemUuZmx1c2goKVxuY29uc3Qgc3luY0J1ZmZlciA9IHNlcmlhbGl6ZS5zeW5jKClcbmNvbnN0IGVuZEJ1ZmZlciA9IHNlcmlhbGl6ZS5lbmQoKVxuXG4vLyBUT0RPKGJtYykgc3VwcG9ydCBiaW5hcnkgbW9kZSBhdCBzb21lIHBvaW50XG5jbGFzcyBDb25uZWN0aW9uIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKVxuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fVxuXG4gICAgdGhpcy5zdHJlYW0gPSBjb25maWcuc3RyZWFtIHx8IGdldFN0cmVhbShjb25maWcuc3NsKVxuICAgIGlmICh0eXBlb2YgdGhpcy5zdHJlYW0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuc3RyZWFtID0gdGhpcy5zdHJlYW0oY29uZmlnKVxuICAgIH1cblxuICAgIHRoaXMuX2tlZXBBbGl2ZSA9IGNvbmZpZy5rZWVwQWxpdmVcbiAgICB0aGlzLl9rZWVwQWxpdmVJbml0aWFsRGVsYXlNaWxsaXMgPSBjb25maWcua2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzXG4gICAgdGhpcy5sYXN0QnVmZmVyID0gZmFsc2VcbiAgICB0aGlzLnBhcnNlZFN0YXRlbWVudHMgPSB7fVxuICAgIHRoaXMuc3NsID0gY29uZmlnLnNzbCB8fCBmYWxzZVxuICAgIHRoaXMuX2VuZGluZyA9IGZhbHNlXG4gICAgdGhpcy5fZW1pdE1lc3NhZ2UgPSBmYWxzZVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG4gICAgdGhpcy5vbignbmV3TGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICBpZiAoZXZlbnROYW1lID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgc2VsZi5fZW1pdE1lc3NhZ2UgPSB0cnVlXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbm5lY3QocG9ydCwgaG9zdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG5cbiAgICB0aGlzLl9jb25uZWN0aW5nID0gdHJ1ZVxuICAgIHRoaXMuc3RyZWFtLnNldE5vRGVsYXkodHJ1ZSlcbiAgICB0aGlzLnN0cmVhbS5jb25uZWN0KHBvcnQsIGhvc3QpXG5cbiAgICB0aGlzLnN0cmVhbS5vbmNlKCdjb25uZWN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuX2tlZXBBbGl2ZSkge1xuICAgICAgICBzZWxmLnN0cmVhbS5zZXRLZWVwQWxpdmUodHJ1ZSwgc2VsZi5fa2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzKVxuICAgICAgfVxuICAgICAgc2VsZi5lbWl0KCdjb25uZWN0JylcbiAgICB9KVxuXG4gICAgY29uc3QgcmVwb3J0U3RyZWFtRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIC8vIGVycm9ycyBhYm91dCBkaXNjb25uZWN0aW9ucyBzaG91bGQgYmUgaWdub3JlZCBkdXJpbmcgZGlzY29ubmVjdFxuICAgICAgaWYgKHNlbGYuX2VuZGluZyAmJiAoZXJyb3IuY29kZSA9PT0gJ0VDT05OUkVTRVQnIHx8IGVycm9yLmNvZGUgPT09ICdFUElQRScpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycm9yKVxuICAgIH1cbiAgICB0aGlzLnN0cmVhbS5vbignZXJyb3InLCByZXBvcnRTdHJlYW1FcnJvcilcblxuICAgIHRoaXMuc3RyZWFtLm9uKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuZW1pdCgnZW5kJylcbiAgICB9KVxuXG4gICAgaWYgKCF0aGlzLnNzbCkge1xuICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoTGlzdGVuZXJzKHRoaXMuc3RyZWFtKVxuICAgIH1cblxuICAgIHRoaXMuc3RyZWFtLm9uY2UoJ2RhdGEnLCBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICBjb25zdCByZXNwb25zZUNvZGUgPSBidWZmZXIudG9TdHJpbmcoJ3V0ZjgnKVxuICAgICAgc3dpdGNoIChyZXNwb25zZUNvZGUpIHtcbiAgICAgICAgY2FzZSAnUyc6IC8vIFNlcnZlciBzdXBwb3J0cyBTU0wgY29ubmVjdGlvbnMsIGNvbnRpbnVlIHdpdGggYSBzZWN1cmUgY29ubmVjdGlvblxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ04nOiAvLyBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBTU0wgY29ubmVjdGlvbnNcbiAgICAgICAgICBzZWxmLnN0cmVhbS5lbmQoKVxuICAgICAgICAgIHJldHVybiBzZWxmLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdUaGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgU1NMIGNvbm5lY3Rpb25zJykpXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gQW55IG90aGVyIHJlc3BvbnNlIGJ5dGUsIGluY2x1ZGluZyAnRScgKEVycm9yUmVzcG9uc2UpIGluZGljYXRpbmcgYSBzZXJ2ZXIgZXJyb3JcbiAgICAgICAgICBzZWxmLnN0cmVhbS5lbmQoKVxuICAgICAgICAgIHJldHVybiBzZWxmLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdUaGVyZSB3YXMgYW4gZXJyb3IgZXN0YWJsaXNoaW5nIGFuIFNTTCBjb25uZWN0aW9uJykpXG4gICAgICB9XG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBzb2NrZXQ6IHNlbGYuc3RyZWFtLFxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5zc2wgIT09IHRydWUpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCBzZWxmLnNzbClcblxuICAgICAgICBpZiAoJ2tleScgaW4gc2VsZi5zc2wpIHtcbiAgICAgICAgICBvcHRpb25zLmtleSA9IHNlbGYuc3NsLmtleVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ldCA9IHJlcXVpcmUoJ25ldCcpXG4gICAgICBpZiAobmV0LmlzSVAgJiYgbmV0LmlzSVAoaG9zdCkgPT09IDApIHtcbiAgICAgICAgb3B0aW9ucy5zZXJ2ZXJuYW1lID0gaG9zdFxuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgc2VsZi5zdHJlYW0gPSBnZXRTZWN1cmVTdHJlYW0ob3B0aW9ucylcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gc2VsZi5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH1cbiAgICAgIHNlbGYuYXR0YWNoTGlzdGVuZXJzKHNlbGYuc3RyZWFtKVxuICAgICAgc2VsZi5zdHJlYW0ub24oJ2Vycm9yJywgcmVwb3J0U3RyZWFtRXJyb3IpXG5cbiAgICAgIHNlbGYuZW1pdCgnc3NsY29ubmVjdCcpXG4gICAgfSlcbiAgfVxuXG4gIGF0dGFjaExpc3RlbmVycyhzdHJlYW0pIHtcbiAgICBwYXJzZShzdHJlYW0sIChtc2cpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IG1zZy5uYW1lID09PSAnZXJyb3InID8gJ2Vycm9yTWVzc2FnZScgOiBtc2cubmFtZVxuICAgICAgaWYgKHRoaXMuX2VtaXRNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIG1zZylcbiAgICAgIH1cbiAgICAgIHRoaXMuZW1pdChldmVudE5hbWUsIG1zZylcbiAgICB9KVxuICB9XG5cbiAgcmVxdWVzdFNzbCgpIHtcbiAgICB0aGlzLnN0cmVhbS53cml0ZShzZXJpYWxpemUucmVxdWVzdFNzbCgpKVxuICB9XG5cbiAgc3RhcnR1cChjb25maWcpIHtcbiAgICB0aGlzLnN0cmVhbS53cml0ZShzZXJpYWxpemUuc3RhcnR1cChjb25maWcpKVxuICB9XG5cbiAgY2FuY2VsKHByb2Nlc3NJRCwgc2VjcmV0S2V5KSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuY2FuY2VsKHByb2Nlc3NJRCwgc2VjcmV0S2V5KSlcbiAgfVxuXG4gIHBhc3N3b3JkKHBhc3N3b3JkKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUucGFzc3dvcmQocGFzc3dvcmQpKVxuICB9XG5cbiAgc2VuZFNBU0xJbml0aWFsUmVzcG9uc2VNZXNzYWdlKG1lY2hhbmlzbSwgaW5pdGlhbFJlc3BvbnNlKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuc2VuZFNBU0xJbml0aWFsUmVzcG9uc2VNZXNzYWdlKG1lY2hhbmlzbSwgaW5pdGlhbFJlc3BvbnNlKSlcbiAgfVxuXG4gIHNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZShhZGRpdGlvbmFsRGF0YSkge1xuICAgIHRoaXMuX3NlbmQoc2VyaWFsaXplLnNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZShhZGRpdGlvbmFsRGF0YSkpXG4gIH1cblxuICBfc2VuZChidWZmZXIpIHtcbiAgICBpZiAoIXRoaXMuc3RyZWFtLndyaXRhYmxlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKGJ1ZmZlcilcbiAgfVxuXG4gIHF1ZXJ5KHRleHQpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5xdWVyeSh0ZXh0KSlcbiAgfVxuXG4gIC8vIHNlbmQgcGFyc2UgbWVzc2FnZVxuICBwYXJzZShxdWVyeSkge1xuICAgIHRoaXMuX3NlbmQoc2VyaWFsaXplLnBhcnNlKHF1ZXJ5KSlcbiAgfVxuXG4gIC8vIHNlbmQgYmluZCBtZXNzYWdlXG4gIGJpbmQoY29uZmlnKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuYmluZChjb25maWcpKVxuICB9XG5cbiAgLy8gc2VuZCBleGVjdXRlIG1lc3NhZ2VcbiAgZXhlY3V0ZShjb25maWcpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5leGVjdXRlKGNvbmZpZykpXG4gIH1cblxuICBmbHVzaCgpIHtcbiAgICBpZiAodGhpcy5zdHJlYW0ud3JpdGFibGUpIHtcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKGZsdXNoQnVmZmVyKVxuICAgIH1cbiAgfVxuXG4gIHN5bmMoKSB7XG4gICAgdGhpcy5fZW5kaW5nID0gdHJ1ZVxuICAgIHRoaXMuX3NlbmQoc3luY0J1ZmZlcilcbiAgfVxuXG4gIHJlZigpIHtcbiAgICB0aGlzLnN0cmVhbS5yZWYoKVxuICB9XG5cbiAgdW5yZWYoKSB7XG4gICAgdGhpcy5zdHJlYW0udW5yZWYoKVxuICB9XG5cbiAgZW5kKCkge1xuICAgIC8vIDB4NTggPSAnWCdcbiAgICB0aGlzLl9lbmRpbmcgPSB0cnVlXG4gICAgaWYgKCF0aGlzLl9jb25uZWN0aW5nIHx8ICF0aGlzLnN0cmVhbS53cml0YWJsZSkge1xuICAgICAgdGhpcy5zdHJlYW0uZW5kKClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUoZW5kQnVmZmVyLCAoKSA9PiB7XG4gICAgICB0aGlzLnN0cmVhbS5lbmQoKVxuICAgIH0pXG4gIH1cblxuICBjbG9zZShtc2cpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5jbG9zZShtc2cpKVxuICB9XG5cbiAgZGVzY3JpYmUobXNnKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuZGVzY3JpYmUobXNnKSlcbiAgfVxuXG4gIHNlbmRDb3B5RnJvbUNodW5rKGNodW5rKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuY29weURhdGEoY2h1bmspKVxuICB9XG5cbiAgZW5kQ29weUZyb20oKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuY29weURvbmUoKSlcbiAgfVxuXG4gIHNlbmRDb3B5RmFpbChtc2cpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5jb3B5RmFpbChtc2cpKVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29ubmVjdGlvblxuIiwgIi8qXG5Db3B5cmlnaHQgKGMpIDIwMTQtMjAyMSwgTWF0dGVvIENvbGxpbmEgPGhlbGxvQG1hdHRlb2NvbGxpbmEuY29tPlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZCwgcHJvdmlkZWQgdGhhdCB0aGUgYWJvdmVcbmNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2UgYXBwZWFyIGluIGFsbCBjb3BpZXMuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTXG5XSVRIIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GXG5NRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUlxuQU5ZIFNQRUNJQUwsIERJUkVDVCwgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFU1xuV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTSBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOXG5BQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1IgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUlxuSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1IgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbiovXG5cbid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IFRyYW5zZm9ybSB9ID0gcmVxdWlyZSgnc3RyZWFtJylcbmNvbnN0IHsgU3RyaW5nRGVjb2RlciB9ID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKVxuY29uc3Qga0xhc3QgPSBTeW1ib2woJ2xhc3QnKVxuY29uc3Qga0RlY29kZXIgPSBTeW1ib2woJ2RlY29kZXInKVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm0gKGNodW5rLCBlbmMsIGNiKSB7XG4gIGxldCBsaXN0XG4gIGlmICh0aGlzLm92ZXJmbG93KSB7IC8vIExpbmUgYnVmZmVyIGlzIGZ1bGwuIFNraXAgdG8gc3RhcnQgb2YgbmV4dCBsaW5lLlxuICAgIGNvbnN0IGJ1ZiA9IHRoaXNba0RlY29kZXJdLndyaXRlKGNodW5rKVxuICAgIGxpc3QgPSBidWYuc3BsaXQodGhpcy5tYXRjaGVyKVxuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSByZXR1cm4gY2IoKSAvLyBMaW5lIGVuZGluZyBub3QgZm91bmQuIERpc2NhcmQgZW50aXJlIGNodW5rLlxuXG4gICAgLy8gTGluZSBlbmRpbmcgZm91bmQuIERpc2NhcmQgdHJhaWxpbmcgZnJhZ21lbnQgb2YgcHJldmlvdXMgbGluZSBhbmQgcmVzZXQgb3ZlcmZsb3cgc3RhdGUuXG4gICAgbGlzdC5zaGlmdCgpXG4gICAgdGhpcy5vdmVyZmxvdyA9IGZhbHNlXG4gIH0gZWxzZSB7XG4gICAgdGhpc1trTGFzdF0gKz0gdGhpc1trRGVjb2Rlcl0ud3JpdGUoY2h1bmspXG4gICAgbGlzdCA9IHRoaXNba0xhc3RdLnNwbGl0KHRoaXMubWF0Y2hlcilcbiAgfVxuXG4gIHRoaXNba0xhc3RdID0gbGlzdC5wb3AoKVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHRyeSB7XG4gICAgICBwdXNoKHRoaXMsIHRoaXMubWFwcGVyKGxpc3RbaV0pKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gY2IoZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgdGhpcy5vdmVyZmxvdyA9IHRoaXNba0xhc3RdLmxlbmd0aCA+IHRoaXMubWF4TGVuZ3RoXG4gIGlmICh0aGlzLm92ZXJmbG93ICYmICF0aGlzLnNraXBPdmVyZmxvdykge1xuICAgIGNiKG5ldyBFcnJvcignbWF4aW11bSBidWZmZXIgcmVhY2hlZCcpKVxuICAgIHJldHVyblxuICB9XG5cbiAgY2IoKVxufVxuXG5mdW5jdGlvbiBmbHVzaCAoY2IpIHtcbiAgLy8gZm9yd2FyZCBhbnkgZ2liYmVyaXNoIGxlZnQgaW4gdGhlcmVcbiAgdGhpc1trTGFzdF0gKz0gdGhpc1trRGVjb2Rlcl0uZW5kKClcblxuICBpZiAodGhpc1trTGFzdF0pIHtcbiAgICB0cnkge1xuICAgICAgcHVzaCh0aGlzLCB0aGlzLm1hcHBlcih0aGlzW2tMYXN0XSkpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYihlcnJvcilcbiAgICB9XG4gIH1cblxuICBjYigpXG59XG5cbmZ1bmN0aW9uIHB1c2ggKHNlbGYsIHZhbCkge1xuICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICBzZWxmLnB1c2godmFsKVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vb3AgKGluY29taW5nKSB7XG4gIHJldHVybiBpbmNvbWluZ1xufVxuXG5mdW5jdGlvbiBzcGxpdCAobWF0Y2hlciwgbWFwcGVyLCBvcHRpb25zKSB7XG4gIC8vIFNldCBkZWZhdWx0cyBmb3IgYW55IGFyZ3VtZW50cyBub3Qgc3VwcGxpZWQuXG4gIG1hdGNoZXIgPSBtYXRjaGVyIHx8IC9cXHI/XFxuL1xuICBtYXBwZXIgPSBtYXBwZXIgfHwgbm9vcFxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIC8vIFRlc3QgYXJndW1lbnRzIGV4cGxpY2l0bHkuXG4gIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGNhc2UgMTpcbiAgICAgIC8vIElmIG1hcHBlciBpcyBvbmx5IGFyZ3VtZW50LlxuICAgICAgaWYgKHR5cGVvZiBtYXRjaGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG1hcHBlciA9IG1hdGNoZXJcbiAgICAgICAgbWF0Y2hlciA9IC9cXHI/XFxuL1xuICAgICAgLy8gSWYgb3B0aW9ucyBpcyBvbmx5IGFyZ3VtZW50LlxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ29iamVjdCcgJiYgIShtYXRjaGVyIGluc3RhbmNlb2YgUmVnRXhwKSAmJiAhbWF0Y2hlcltTeW1ib2wuc3BsaXRdKSB7XG4gICAgICAgIG9wdGlvbnMgPSBtYXRjaGVyXG4gICAgICAgIG1hdGNoZXIgPSAvXFxyP1xcbi9cbiAgICAgIH1cbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlIDI6XG4gICAgICAvLyBJZiBtYXBwZXIgYW5kIG9wdGlvbnMgYXJlIGFyZ3VtZW50cy5cbiAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvcHRpb25zID0gbWFwcGVyXG4gICAgICAgIG1hcHBlciA9IG1hdGNoZXJcbiAgICAgICAgbWF0Y2hlciA9IC9cXHI/XFxuL1xuICAgICAgLy8gSWYgbWF0Y2hlciBhbmQgb3B0aW9ucyBhcmUgYXJndW1lbnRzLlxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWFwcGVyID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvcHRpb25zID0gbWFwcGVyXG4gICAgICAgIG1hcHBlciA9IG5vb3BcbiAgICAgIH1cbiAgfVxuXG4gIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKVxuICBvcHRpb25zLmF1dG9EZXN0cm95ID0gdHJ1ZVxuICBvcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuICBvcHRpb25zLmZsdXNoID0gZmx1c2hcbiAgb3B0aW9ucy5yZWFkYWJsZU9iamVjdE1vZGUgPSB0cnVlXG5cbiAgY29uc3Qgc3RyZWFtID0gbmV3IFRyYW5zZm9ybShvcHRpb25zKVxuXG4gIHN0cmVhbVtrTGFzdF0gPSAnJ1xuICBzdHJlYW1ba0RlY29kZXJdID0gbmV3IFN0cmluZ0RlY29kZXIoJ3V0ZjgnKVxuICBzdHJlYW0ubWF0Y2hlciA9IG1hdGNoZXJcbiAgc3RyZWFtLm1hcHBlciA9IG1hcHBlclxuICBzdHJlYW0ubWF4TGVuZ3RoID0gb3B0aW9ucy5tYXhMZW5ndGhcbiAgc3RyZWFtLnNraXBPdmVyZmxvdyA9IG9wdGlvbnMuc2tpcE92ZXJmbG93IHx8IGZhbHNlXG4gIHN0cmVhbS5vdmVyZmxvdyA9IGZhbHNlXG4gIHN0cmVhbS5fZGVzdHJveSA9IGZ1bmN0aW9uIChlcnIsIGNiKSB7XG4gICAgLy8gV2VpcmQgTm9kZSB2MTIgYnVnIHRoYXQgd2UgbmVlZCB0byB3b3JrIGFyb3VuZFxuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gZmFsc2VcbiAgICBjYihlcnIpXG4gIH1cblxuICByZXR1cm4gc3RyZWFtXG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3BsaXRcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG4gICwgU3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJykuU3RyZWFtXG4gICwgc3BsaXQgPSByZXF1aXJlKCdzcGxpdDInKVxuICAsIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbiAgLCBkZWZhdWx0UG9ydCA9IDU0MzJcbiAgLCBpc1dpbiA9IChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKVxuICAsIHdhcm5TdHJlYW0gPSBwcm9jZXNzLnN0ZGVyclxuO1xuXG5cbnZhciBTX0lSV1hHID0gNTYgICAgIC8vICAgIDAwMDcwKDgpXG4gICwgU19JUldYTyA9IDcgICAgICAvLyAgICAwMDAwNyg4KVxuICAsIFNfSUZNVCAgPSA2MTQ0MCAgLy8gMDAxNzAwMDAoOClcbiAgLCBTX0lGUkVHID0gMzI3NjggIC8vICAwMTAwMDAwKDgpXG47XG5mdW5jdGlvbiBpc1JlZ0ZpbGUobW9kZSkge1xuICAgIHJldHVybiAoKG1vZGUgJiBTX0lGTVQpID09IFNfSUZSRUcpO1xufVxuXG52YXIgZmllbGROYW1lcyA9IFsgJ2hvc3QnLCAncG9ydCcsICdkYXRhYmFzZScsICd1c2VyJywgJ3Bhc3N3b3JkJyBdO1xudmFyIG5yT2ZGaWVsZHMgPSBmaWVsZE5hbWVzLmxlbmd0aDtcbnZhciBwYXNzS2V5ID0gZmllbGROYW1lc1sgbnJPZkZpZWxkcyAtMSBdO1xuXG5cbmZ1bmN0aW9uIHdhcm4oKSB7XG4gICAgdmFyIGlzV3JpdGFibGUgPSAoXG4gICAgICAgIHdhcm5TdHJlYW0gaW5zdGFuY2VvZiBTdHJlYW0gJiZcbiAgICAgICAgICB0cnVlID09PSB3YXJuU3RyZWFtLndyaXRhYmxlXG4gICAgKTtcblxuICAgIGlmIChpc1dyaXRhYmxlKSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5jb25jYXQoXCJcXG5cIik7XG4gICAgICAgIHdhcm5TdHJlYW0ud3JpdGUoIHV0aWwuZm9ybWF0LmFwcGx5KHV0aWwsIGFyZ3MpICk7XG4gICAgfVxufVxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUuZXhwb3J0cywgJ2lzV2luJywge1xuICAgIGdldCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXNXaW47XG4gICAgfSAsXG4gICAgc2V0IDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGlzV2luID0gdmFsO1xuICAgIH1cbn0pO1xuXG5cbm1vZHVsZS5leHBvcnRzLndhcm5UbyA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHZhciBvbGQgPSB3YXJuU3RyZWFtO1xuICAgIHdhcm5TdHJlYW0gPSBzdHJlYW07XG4gICAgcmV0dXJuIG9sZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzLmdldEZpbGVOYW1lID0gZnVuY3Rpb24ocmF3RW52KXtcbiAgICB2YXIgZW52ID0gcmF3RW52IHx8IHByb2Nlc3MuZW52O1xuICAgIHZhciBmaWxlID0gZW52LlBHUEFTU0ZJTEUgfHwgKFxuICAgICAgICBpc1dpbiA/XG4gICAgICAgICAgcGF0aC5qb2luKCBlbnYuQVBQREFUQSB8fCAnLi8nICwgJ3Bvc3RncmVzcWwnLCAncGdwYXNzLmNvbmYnICkgOlxuICAgICAgICAgIHBhdGguam9pbiggZW52LkhPTUUgfHwgJy4vJywgJy5wZ3Bhc3MnIClcbiAgICApO1xuICAgIHJldHVybiBmaWxlO1xufTtcblxubW9kdWxlLmV4cG9ydHMudXNlUGdQYXNzID0gZnVuY3Rpb24oc3RhdHMsIGZuYW1lKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9jZXNzLmVudiwgJ1BHUEFTU1dPUkQnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGlzV2luKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZuYW1lID0gZm5hbWUgfHwgJzx1bmtuPic7XG5cbiAgICBpZiAoISBpc1JlZ0ZpbGUoc3RhdHMubW9kZSkpIHtcbiAgICAgICAgd2FybignV0FSTklORzogcGFzc3dvcmQgZmlsZSBcIiVzXCIgaXMgbm90IGEgcGxhaW4gZmlsZScsIGZuYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzdGF0cy5tb2RlICYgKFNfSVJXWEcgfCBTX0lSV1hPKSkge1xuICAgICAgICAvKiBJZiBwYXNzd29yZCBmaWxlIGlzIGluc2VjdXJlLCBhbGVydCB0aGUgdXNlciBhbmQgaWdub3JlIGl0LiAqL1xuICAgICAgICB3YXJuKCdXQVJOSU5HOiBwYXNzd29yZCBmaWxlIFwiJXNcIiBoYXMgZ3JvdXAgb3Igd29ybGQgYWNjZXNzOyBwZXJtaXNzaW9ucyBzaG91bGQgYmUgdT1ydyAoMDYwMCkgb3IgbGVzcycsIGZuYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuXG52YXIgbWF0Y2hlciA9IG1vZHVsZS5leHBvcnRzLm1hdGNoID0gZnVuY3Rpb24oY29ubkluZm8sIGVudHJ5KSB7XG4gICAgcmV0dXJuIGZpZWxkTmFtZXMuc2xpY2UoMCwgLTEpLnJlZHVjZShmdW5jdGlvbihwcmV2LCBmaWVsZCwgaWR4KXtcbiAgICAgICAgaWYgKGlkeCA9PSAxKSB7XG4gICAgICAgICAgICAvLyB0aGUgcG9ydFxuICAgICAgICAgICAgaWYgKCBOdW1iZXIoIGNvbm5JbmZvW2ZpZWxkXSB8fCBkZWZhdWx0UG9ydCApID09PSBOdW1iZXIoIGVudHJ5W2ZpZWxkXSApICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2ICYmIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXYgJiYgKFxuICAgICAgICAgICAgZW50cnlbZmllbGRdID09PSAnKicgfHxcbiAgICAgICAgICAgICAgZW50cnlbZmllbGRdID09PSBjb25uSW5mb1tmaWVsZF1cbiAgICAgICAgKTtcbiAgICB9LCB0cnVlKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMuZ2V0UGFzc3dvcmQgPSBmdW5jdGlvbihjb25uSW5mbywgc3RyZWFtLCBjYikge1xuICAgIHZhciBwYXNzO1xuICAgIHZhciBsaW5lU3RyZWFtID0gc3RyZWFtLnBpcGUoc3BsaXQoKSk7XG5cbiAgICBmdW5jdGlvbiBvbkxpbmUobGluZSkge1xuICAgICAgICB2YXIgZW50cnkgPSBwYXJzZUxpbmUobGluZSk7XG4gICAgICAgIGlmIChlbnRyeSAmJiBpc1ZhbGlkRW50cnkoZW50cnkpICYmIG1hdGNoZXIoY29ubkluZm8sIGVudHJ5KSkge1xuICAgICAgICAgICAgcGFzcyA9IGVudHJ5W3Bhc3NLZXldO1xuICAgICAgICAgICAgbGluZVN0cmVhbS5lbmQoKTsgLy8gLT4gY2FsbHMgb25FbmQoKSwgYnV0IHBhc3MgaXMgc2V0IG5vd1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG9uRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgIGNiKHBhc3MpO1xuICAgIH07XG5cbiAgICB2YXIgb25FcnIgPSBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgc3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgd2FybignV0FSTklORzogZXJyb3Igb24gcmVhZGluZyBmaWxlOiAlcycsIGVycik7XG4gICAgICAgIGNiKHVuZGVmaW5lZCk7XG4gICAgfTtcblxuICAgIHN0cmVhbS5vbignZXJyb3InLCBvbkVycik7XG4gICAgbGluZVN0cmVhbVxuICAgICAgICAub24oJ2RhdGEnLCBvbkxpbmUpXG4gICAgICAgIC5vbignZW5kJywgb25FbmQpXG4gICAgICAgIC5vbignZXJyb3InLCBvbkVycilcbiAgICA7XG5cbn07XG5cblxudmFyIHBhcnNlTGluZSA9IG1vZHVsZS5leHBvcnRzLnBhcnNlTGluZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICBpZiAobGluZS5sZW5ndGggPCAxMSB8fCBsaW5lLm1hdGNoKC9eXFxzKyMvKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY3VyQ2hhciA9ICcnO1xuICAgIHZhciBwcmV2Q2hhciA9ICcnO1xuICAgIHZhciBmaWVsZElkeCA9IDA7XG4gICAgdmFyIHN0YXJ0SWR4ID0gMDtcbiAgICB2YXIgZW5kSWR4ID0gMDtcbiAgICB2YXIgb2JqID0ge307XG4gICAgdmFyIGlzTGFzdEZpZWxkID0gZmFsc2U7XG4gICAgdmFyIGFkZFRvT2JqID0gZnVuY3Rpb24oaWR4LCBpMCwgaTEpIHtcbiAgICAgICAgdmFyIGZpZWxkID0gbGluZS5zdWJzdHJpbmcoaTAsIGkxKTtcblxuICAgICAgICBpZiAoISBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChwcm9jZXNzLmVudiwgJ1BHUEFTU19OT19ERUVTQ0FQRScpKSB7XG4gICAgICAgICAgICBmaWVsZCA9IGZpZWxkLnJlcGxhY2UoL1xcXFwoWzpcXFxcXSkvZywgJyQxJyk7XG4gICAgICAgIH1cblxuICAgICAgICBvYmpbIGZpZWxkTmFtZXNbaWR4XSBdID0gZmllbGQ7XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGxpbmUubGVuZ3RoLTEgOyBpICs9IDEpIHtcbiAgICAgICAgY3VyQ2hhciA9IGxpbmUuY2hhckF0KGkrMSk7XG4gICAgICAgIHByZXZDaGFyID0gbGluZS5jaGFyQXQoaSk7XG5cbiAgICAgICAgaXNMYXN0RmllbGQgPSAoZmllbGRJZHggPT0gbnJPZkZpZWxkcy0xKTtcblxuICAgICAgICBpZiAoaXNMYXN0RmllbGQpIHtcbiAgICAgICAgICAgIGFkZFRvT2JqKGZpZWxkSWR4LCBzdGFydElkeCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpID49IDAgJiYgY3VyQ2hhciA9PSAnOicgJiYgcHJldkNoYXIgIT09ICdcXFxcJykge1xuICAgICAgICAgICAgYWRkVG9PYmooZmllbGRJZHgsIHN0YXJ0SWR4LCBpKzEpO1xuXG4gICAgICAgICAgICBzdGFydElkeCA9IGkrMjtcbiAgICAgICAgICAgIGZpZWxkSWR4ICs9IDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvYmogPSAoIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSBuck9mRmllbGRzICkgPyBvYmogOiBudWxsO1xuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cblxudmFyIGlzVmFsaWRFbnRyeSA9IG1vZHVsZS5leHBvcnRzLmlzVmFsaWRFbnRyeSA9IGZ1bmN0aW9uKGVudHJ5KXtcbiAgICB2YXIgcnVsZXMgPSB7XG4gICAgICAgIC8vIGhvc3RcbiAgICAgICAgMCA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgcmV0dXJuIHgubGVuZ3RoID4gMDtcbiAgICAgICAgfSAsXG4gICAgICAgIC8vIHBvcnRcbiAgICAgICAgMSA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgaWYgKHggPT09ICcqJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgaXNGaW5pdGUoeCkgJiZcbiAgICAgICAgICAgICAgICAgIHggPiAwICYmXG4gICAgICAgICAgICAgICAgICB4IDwgOTAwNzE5OTI1NDc0MDk5MiAmJlxuICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcih4KSA9PT0geFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSAsXG4gICAgICAgIC8vIGRhdGFiYXNlXG4gICAgICAgIDIgOiBmdW5jdGlvbih4KXtcbiAgICAgICAgICAgIHJldHVybiB4Lmxlbmd0aCA+IDA7XG4gICAgICAgIH0gLFxuICAgICAgICAvLyB1c2VybmFtZVxuICAgICAgICAzIDogZnVuY3Rpb24oeCl7XG4gICAgICAgICAgICByZXR1cm4geC5sZW5ndGggPiAwO1xuICAgICAgICB9ICxcbiAgICAgICAgLy8gcGFzc3dvcmRcbiAgICAgICAgNCA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgcmV0dXJuIHgubGVuZ3RoID4gMDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpZHggPSAwIDsgaWR4IDwgZmllbGROYW1lcy5sZW5ndGggOyBpZHggKz0gMSkge1xuICAgICAgICB2YXIgcnVsZSA9IHJ1bGVzW2lkeF07XG4gICAgICAgIHZhciB2YWx1ZSA9IGVudHJ5WyBmaWVsZE5hbWVzW2lkeF0gXSB8fCAnJztcblxuICAgICAgICB2YXIgcmVzID0gcnVsZSh2YWx1ZSk7XG4gICAgICAgIGlmICghcmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG4gICwgZnMgPSByZXF1aXJlKCdmcycpXG4gICwgaGVscGVyID0gcmVxdWlyZSgnLi9oZWxwZXIuanMnKVxuO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29ubkluZm8sIGNiKSB7XG4gICAgdmFyIGZpbGUgPSBoZWxwZXIuZ2V0RmlsZU5hbWUoKTtcbiAgICBcbiAgICBmcy5zdGF0KGZpbGUsIGZ1bmN0aW9uKGVyciwgc3RhdCl7XG4gICAgICAgIGlmIChlcnIgfHwgIWhlbHBlci51c2VQZ1Bhc3Moc3RhdCwgZmlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYih1bmRlZmluZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0ID0gZnMuY3JlYXRlUmVhZFN0cmVhbShmaWxlKTtcblxuICAgICAgICBoZWxwZXIuZ2V0UGFzc3dvcmQoY29ubkluZm8sIHN0LCBjYik7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy53YXJuVG8gPSBoZWxwZXIud2FyblRvO1xuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpXG5jb25zdCBzYXNsID0gcmVxdWlyZSgnLi9jcnlwdG8vc2FzbCcpXG5jb25zdCBUeXBlT3ZlcnJpZGVzID0gcmVxdWlyZSgnLi90eXBlLW92ZXJyaWRlcycpXG5cbmNvbnN0IENvbm5lY3Rpb25QYXJhbWV0ZXJzID0gcmVxdWlyZSgnLi9jb25uZWN0aW9uLXBhcmFtZXRlcnMnKVxuY29uc3QgUXVlcnkgPSByZXF1aXJlKCcuL3F1ZXJ5JylcbmNvbnN0IGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpXG5jb25zdCBDb25uZWN0aW9uID0gcmVxdWlyZSgnLi9jb25uZWN0aW9uJylcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoJy4vY3J5cHRvL3V0aWxzJylcblxuY2xhc3MgQ2xpZW50IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycyA9IG5ldyBDb25uZWN0aW9uUGFyYW1ldGVycyhjb25maWcpXG4gICAgdGhpcy51c2VyID0gdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy51c2VyXG4gICAgdGhpcy5kYXRhYmFzZSA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuZGF0YWJhc2VcbiAgICB0aGlzLnBvcnQgPSB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLnBvcnRcbiAgICB0aGlzLmhvc3QgPSB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLmhvc3RcblxuICAgIC8vIFwiaGlkaW5nXCIgdGhlIHBhc3N3b3JkIHNvIGl0IGRvZXNuJ3Qgc2hvdyB1cCBpbiBzdGFjayB0cmFjZXNcbiAgICAvLyBvciBpZiB0aGUgY2xpZW50IGlzIGNvbnNvbGUubG9nZ2VkXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdwYXNzd29yZCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5wYXNzd29yZCxcbiAgICB9KVxuXG4gICAgdGhpcy5yZXBsaWNhdGlvbiA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucmVwbGljYXRpb25cblxuICAgIGNvbnN0IGMgPSBjb25maWcgfHwge31cblxuICAgIHRoaXMuX1Byb21pc2UgPSBjLlByb21pc2UgfHwgZ2xvYmFsLlByb21pc2VcbiAgICB0aGlzLl90eXBlcyA9IG5ldyBUeXBlT3ZlcnJpZGVzKGMudHlwZXMpXG4gICAgdGhpcy5fZW5kaW5nID0gZmFsc2VcbiAgICB0aGlzLl9lbmRlZCA9IGZhbHNlXG4gICAgdGhpcy5fY29ubmVjdGluZyA9IGZhbHNlXG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2VcbiAgICB0aGlzLl9jb25uZWN0aW9uRXJyb3IgPSBmYWxzZVxuICAgIHRoaXMuX3F1ZXJ5YWJsZSA9IHRydWVcblxuICAgIHRoaXMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcgPSBCb29sZWFuKGMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcpIC8vIHNldCB0cnVlIHRvIHVzZSBTQ1JBTS1TSEEtMjU2LVBMVVMgd2hlbiBvZmZlcmVkXG4gICAgdGhpcy5jb25uZWN0aW9uID1cbiAgICAgIGMuY29ubmVjdGlvbiB8fFxuICAgICAgbmV3IENvbm5lY3Rpb24oe1xuICAgICAgICBzdHJlYW06IGMuc3RyZWFtLFxuICAgICAgICBzc2w6IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuc3NsLFxuICAgICAgICBrZWVwQWxpdmU6IGMua2VlcEFsaXZlIHx8IGZhbHNlLFxuICAgICAgICBrZWVwQWxpdmVJbml0aWFsRGVsYXlNaWxsaXM6IGMua2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzIHx8IDAsXG4gICAgICAgIGVuY29kaW5nOiB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLmNsaWVudF9lbmNvZGluZyB8fCAndXRmOCcsXG4gICAgICB9KVxuICAgIHRoaXMucXVlcnlRdWV1ZSA9IFtdXG4gICAgdGhpcy5iaW5hcnkgPSBjLmJpbmFyeSB8fCBkZWZhdWx0cy5iaW5hcnlcbiAgICB0aGlzLnByb2Nlc3NJRCA9IG51bGxcbiAgICB0aGlzLnNlY3JldEtleSA9IG51bGxcbiAgICB0aGlzLnNzbCA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuc3NsIHx8IGZhbHNlXG4gICAgLy8gQXMgd2l0aCBQYXNzd29yZCwgbWFrZSBTU0wtPktleSAodGhlIHByaXZhdGUga2V5KSBub24tZW51bWVyYWJsZS5cbiAgICAvLyBJdCB3b24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgIC8vIG9yIGlmIHRoZSBjbGllbnQgaXMgY29uc29sZS5sb2dnZWRcbiAgICBpZiAodGhpcy5zc2wgJiYgdGhpcy5zc2wua2V5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5zc2wsICdrZXknLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLl9jb25uZWN0aW9uVGltZW91dE1pbGxpcyA9IGMuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMgfHwgMFxuICB9XG5cbiAgX2Vycm9yQWxsUXVlcmllcyhlcnIpIHtcbiAgICBjb25zdCBlbnF1ZXVlRXJyb3IgPSAocXVlcnkpID0+IHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICBxdWVyeS5oYW5kbGVFcnJvcihlcnIsIHRoaXMuY29ubmVjdGlvbilcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWN0aXZlUXVlcnkpIHtcbiAgICAgIGVucXVldWVFcnJvcih0aGlzLmFjdGl2ZVF1ZXJ5KVxuICAgICAgdGhpcy5hY3RpdmVRdWVyeSA9IG51bGxcbiAgICB9XG5cbiAgICB0aGlzLnF1ZXJ5UXVldWUuZm9yRWFjaChlbnF1ZXVlRXJyb3IpXG4gICAgdGhpcy5xdWVyeVF1ZXVlLmxlbmd0aCA9IDBcbiAgfVxuXG4gIF9jb25uZWN0KGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgICBjb25zdCBjb24gPSB0aGlzLmNvbm5lY3Rpb25cbiAgICB0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2sgPSBjYWxsYmFja1xuXG4gICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcgfHwgdGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ0NsaWVudCBoYXMgYWxyZWFkeSBiZWVuIGNvbm5lY3RlZC4gWW91IGNhbm5vdCByZXVzZSBhIGNsaWVudC4nKVxuICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGVycilcbiAgICAgIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5fY29ubmVjdGluZyA9IHRydWVcblxuICAgIGlmICh0aGlzLl9jb25uZWN0aW9uVGltZW91dE1pbGxpcyA+IDApIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uLl9lbmRpbmcgPSB0cnVlXG4gICAgICAgIGNvbi5zdHJlYW0uZGVzdHJveShuZXcgRXJyb3IoJ3RpbWVvdXQgZXhwaXJlZCcpKVxuICAgICAgfSwgdGhpcy5fY29ubmVjdGlvblRpbWVvdXRNaWxsaXMpXG5cbiAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25UaW1lb3V0SGFuZGxlLnVucmVmKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUudW5yZWYoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3QgJiYgdGhpcy5ob3N0LmluZGV4T2YoJy8nKSA9PT0gMCkge1xuICAgICAgY29uLmNvbm5lY3QodGhpcy5ob3N0ICsgJy8ucy5QR1NRTC4nICsgdGhpcy5wb3J0KVxuICAgIH0gZWxzZSB7XG4gICAgICBjb24uY29ubmVjdCh0aGlzLnBvcnQsIHRoaXMuaG9zdClcbiAgICB9XG5cbiAgICAvLyBvbmNlIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQgc2VuZCBzdGFydHVwIG1lc3NhZ2VcbiAgICBjb24ub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5zc2wpIHtcbiAgICAgICAgY29uLnJlcXVlc3RTc2woKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uLnN0YXJ0dXAoc2VsZi5nZXRTdGFydHVwQ29uZigpKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb24ub24oJ3NzbGNvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb24uc3RhcnR1cChzZWxmLmdldFN0YXJ0dXBDb25mKCkpXG4gICAgfSlcblxuICAgIHRoaXMuX2F0dGFjaExpc3RlbmVycyhjb24pXG5cbiAgICBjb24ub25jZSgnZW5kJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl9lbmRpbmcgPyBuZXcgRXJyb3IoJ0Nvbm5lY3Rpb24gdGVybWluYXRlZCcpIDogbmV3IEVycm9yKCdDb25uZWN0aW9uIHRlcm1pbmF0ZWQgdW5leHBlY3RlZGx5JylcblxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUpXG4gICAgICB0aGlzLl9lcnJvckFsbFF1ZXJpZXMoZXJyb3IpXG4gICAgICB0aGlzLl9lbmRlZCA9IHRydWVcblxuICAgICAgaWYgKCF0aGlzLl9lbmRpbmcpIHtcbiAgICAgICAgLy8gaWYgdGhlIGNvbm5lY3Rpb24gaXMgZW5kZWQgd2l0aG91dCB1cyBjYWxsaW5nIC5lbmQoKVxuICAgICAgICAvLyBvbiB0aGlzIGNsaWVudCB0aGVuIHdlIGhhdmUgYW4gdW5leHBlY3RlZCBkaXNjb25uZWN0aW9uXG4gICAgICAgIC8vIHRyZWF0IHRoaXMgYXMgYW4gZXJyb3IgdW5sZXNzIHdlJ3ZlIGFscmVhZHkgZW1pdHRlZCBhbiBlcnJvclxuICAgICAgICAvLyBkdXJpbmcgY29ubmVjdGlvbi5cbiAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcgJiYgIXRoaXMuX2Nvbm5lY3Rpb25FcnJvcikge1xuICAgICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25DYWxsYmFjayhlcnJvcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlRXJyb3JFdmVudChlcnJvcilcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2Nvbm5lY3Rpb25FcnJvcikge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUVycm9yRXZlbnQoZXJyb3IpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMuZW1pdCgnZW5kJylcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGNvbm5lY3QoY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2Nvbm5lY3QoY2FsbGJhY2spXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IHRoaXMuX1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fY29ubmVjdCgoZXJyb3IpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBfYXR0YWNoTGlzdGVuZXJzKGNvbikge1xuICAgIC8vIHBhc3N3b3JkIHJlcXVlc3QgaGFuZGxpbmdcbiAgICBjb24ub24oJ2F1dGhlbnRpY2F0aW9uQ2xlYXJ0ZXh0UGFzc3dvcmQnLCB0aGlzLl9oYW5kbGVBdXRoQ2xlYXJ0ZXh0UGFzc3dvcmQuYmluZCh0aGlzKSlcbiAgICAvLyBwYXNzd29yZCByZXF1ZXN0IGhhbmRsaW5nXG4gICAgY29uLm9uKCdhdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkJywgdGhpcy5faGFuZGxlQXV0aE1ENVBhc3N3b3JkLmJpbmQodGhpcykpXG4gICAgLy8gcGFzc3dvcmQgcmVxdWVzdCBoYW5kbGluZyAoU0FTTClcbiAgICBjb24ub24oJ2F1dGhlbnRpY2F0aW9uU0FTTCcsIHRoaXMuX2hhbmRsZUF1dGhTQVNMLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdhdXRoZW50aWNhdGlvblNBU0xDb250aW51ZScsIHRoaXMuX2hhbmRsZUF1dGhTQVNMQ29udGludWUuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ2F1dGhlbnRpY2F0aW9uU0FTTEZpbmFsJywgdGhpcy5faGFuZGxlQXV0aFNBU0xGaW5hbC5iaW5kKHRoaXMpKVxuICAgIGNvbi5vbignYmFja2VuZEtleURhdGEnLCB0aGlzLl9oYW5kbGVCYWNrZW5kS2V5RGF0YS5iaW5kKHRoaXMpKVxuICAgIGNvbi5vbignZXJyb3InLCB0aGlzLl9oYW5kbGVFcnJvckV2ZW50LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdlcnJvck1lc3NhZ2UnLCB0aGlzLl9oYW5kbGVFcnJvck1lc3NhZ2UuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ3JlYWR5Rm9yUXVlcnknLCB0aGlzLl9oYW5kbGVSZWFkeUZvclF1ZXJ5LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdub3RpY2UnLCB0aGlzLl9oYW5kbGVOb3RpY2UuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ3Jvd0Rlc2NyaXB0aW9uJywgdGhpcy5faGFuZGxlUm93RGVzY3JpcHRpb24uYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ2RhdGFSb3cnLCB0aGlzLl9oYW5kbGVEYXRhUm93LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdwb3J0YWxTdXNwZW5kZWQnLCB0aGlzLl9oYW5kbGVQb3J0YWxTdXNwZW5kZWQuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ2VtcHR5UXVlcnknLCB0aGlzLl9oYW5kbGVFbXB0eVF1ZXJ5LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdjb21tYW5kQ29tcGxldGUnLCB0aGlzLl9oYW5kbGVDb21tYW5kQ29tcGxldGUuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ3BhcnNlQ29tcGxldGUnLCB0aGlzLl9oYW5kbGVQYXJzZUNvbXBsZXRlLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdjb3B5SW5SZXNwb25zZScsIHRoaXMuX2hhbmRsZUNvcHlJblJlc3BvbnNlLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdjb3B5RGF0YScsIHRoaXMuX2hhbmRsZUNvcHlEYXRhLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdub3RpZmljYXRpb24nLCB0aGlzLl9oYW5kbGVOb3RpZmljYXRpb24uYmluZCh0aGlzKSlcbiAgfVxuXG4gIC8vIFRPRE8oYm1jKTogZGVwcmVjYXRlIHBncGFzcyBcImJ1aWx0IGluXCIgaW50ZWdyYXRpb24gc2luY2UgdGhpcy5wYXNzd29yZCBjYW4gYmUgYSBmdW5jdGlvblxuICAvLyBpdCBjYW4gYmUgc3VwcGxpZWQgYnkgdGhlIHVzZXIgaWYgcmVxdWlyZWQgLSB0aGlzIGlzIGEgYnJlYWtpbmcgY2hhbmdlIVxuICBfY2hlY2tQZ1Bhc3MoY2IpIHtcbiAgICBjb25zdCBjb24gPSB0aGlzLmNvbm5lY3Rpb25cbiAgICBpZiAodHlwZW9mIHRoaXMucGFzc3dvcmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX1Byb21pc2VcbiAgICAgICAgLnJlc29sdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLnBhc3N3b3JkKCkpXG4gICAgICAgIC50aGVuKChwYXNzKSA9PiB7XG4gICAgICAgICAgaWYgKHBhc3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXNzICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb24uZW1pdCgnZXJyb3InLCBuZXcgVHlwZUVycm9yKCdQYXNzd29yZCBtdXN0IGJlIGEgc3RyaW5nJykpXG4gICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5wYXNzd29yZCA9IHRoaXMucGFzc3dvcmQgPSBwYXNzXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucGFzc3dvcmQgPSB0aGlzLnBhc3N3b3JkID0gbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgICBjYigpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgICB9KVxuICAgIH0gZWxzZSBpZiAodGhpcy5wYXNzd29yZCAhPT0gbnVsbCkge1xuICAgICAgY2IoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwZ1Bhc3MgPSByZXF1aXJlKCdwZ3Bhc3MnKVxuICAgICAgICBwZ1Bhc3ModGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycywgKHBhc3MpID0+IHtcbiAgICAgICAgICBpZiAodW5kZWZpbmVkICE9PSBwYXNzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLnBhc3N3b3JkID0gdGhpcy5wYXNzd29yZCA9IHBhc3NcbiAgICAgICAgICB9XG4gICAgICAgICAgY2IoKVxuICAgICAgICB9KVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQXV0aENsZWFydGV4dFBhc3N3b3JkKG1zZykge1xuICAgIHRoaXMuX2NoZWNrUGdQYXNzKCgpID0+IHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5wYXNzd29yZCh0aGlzLnBhc3N3b3JkKVxuICAgIH0pXG4gIH1cblxuICBfaGFuZGxlQXV0aE1ENVBhc3N3b3JkKG1zZykge1xuICAgIHRoaXMuX2NoZWNrUGdQYXNzKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgY3J5cHRvLnBvc3RncmVzTWQ1UGFzc3dvcmRIYXNoKHRoaXMudXNlciwgdGhpcy5wYXNzd29yZCwgbXNnLnNhbHQpXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5wYXNzd29yZChoYXNoZWRQYXNzd29yZClcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGUpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIF9oYW5kbGVBdXRoU0FTTChtc2cpIHtcbiAgICB0aGlzLl9jaGVja1BnUGFzcygoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnNhc2xTZXNzaW9uID0gc2FzbC5zdGFydFNlc3Npb24obXNnLm1lY2hhbmlzbXMsIHRoaXMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcgJiYgdGhpcy5jb25uZWN0aW9uLnN0cmVhbSlcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLnNlbmRTQVNMSW5pdGlhbFJlc3BvbnNlTWVzc2FnZSh0aGlzLnNhc2xTZXNzaW9uLm1lY2hhbmlzbSwgdGhpcy5zYXNsU2Vzc2lvbi5yZXNwb25zZSlcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIF9oYW5kbGVBdXRoU0FTTENvbnRpbnVlKG1zZykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzYXNsLmNvbnRpbnVlU2Vzc2lvbihcbiAgICAgICAgdGhpcy5zYXNsU2Vzc2lvbixcbiAgICAgICAgdGhpcy5wYXNzd29yZCxcbiAgICAgICAgbXNnLmRhdGEsXG4gICAgICAgIHRoaXMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcgJiYgdGhpcy5jb25uZWN0aW9uLnN0cmVhbVxuICAgICAgKVxuICAgICAgdGhpcy5jb25uZWN0aW9uLnNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZSh0aGlzLnNhc2xTZXNzaW9uLnJlc3BvbnNlKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVBdXRoU0FTTEZpbmFsKG1zZykge1xuICAgIHRyeSB7XG4gICAgICBzYXNsLmZpbmFsaXplU2Vzc2lvbih0aGlzLnNhc2xTZXNzaW9uLCBtc2cuZGF0YSlcbiAgICAgIHRoaXMuc2FzbFNlc3Npb24gPSBudWxsXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb24uZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUJhY2tlbmRLZXlEYXRhKG1zZykge1xuICAgIHRoaXMucHJvY2Vzc0lEID0gbXNnLnByb2Nlc3NJRFxuICAgIHRoaXMuc2VjcmV0S2V5ID0gbXNnLnNlY3JldEtleVxuICB9XG5cbiAgX2hhbmRsZVJlYWR5Rm9yUXVlcnkobXNnKSB7XG4gICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcpIHtcbiAgICAgIHRoaXMuX2Nvbm5lY3RpbmcgPSBmYWxzZVxuICAgICAgdGhpcy5fY29ubmVjdGVkID0gdHJ1ZVxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUpXG5cbiAgICAgIC8vIHByb2Nlc3MgcG9zc2libGUgY2FsbGJhY2sgYXJndW1lbnQgdG8gQ2xpZW50I2Nvbm5lY3RcbiAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbkNhbGxiYWNrKG51bGwsIHRoaXMpXG4gICAgICAgIC8vIHJlbW92ZSBjYWxsYmFjayBmb3IgcHJvcGVyIGVycm9yIGhhbmRsaW5nXG4gICAgICAgIC8vIGFmdGVyIHRoZSBjb25uZWN0IGV2ZW50XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25DYWxsYmFjayA9IG51bGxcbiAgICAgIH1cbiAgICAgIHRoaXMuZW1pdCgnY29ubmVjdCcpXG4gICAgfVxuICAgIGNvbnN0IHsgYWN0aXZlUXVlcnkgfSA9IHRoaXNcbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5ID0gbnVsbFxuICAgIHRoaXMucmVhZHlGb3JRdWVyeSA9IHRydWVcbiAgICBpZiAoYWN0aXZlUXVlcnkpIHtcbiAgICAgIGFjdGl2ZVF1ZXJ5LmhhbmRsZVJlYWR5Rm9yUXVlcnkodGhpcy5jb25uZWN0aW9uKVxuICAgIH1cbiAgICB0aGlzLl9wdWxzZVF1ZXJ5UXVldWUoKVxuICB9XG5cbiAgLy8gaWYgd2UgcmVjZWl2ZSBhbiBlcnJvciBldmVudCBvciBlcnJvciBtZXNzYWdlXG4gIC8vIGR1cmluZyB0aGUgY29ubmVjdGlvbiBwcm9jZXNzIHdlIGhhbmRsZSBpdCBoZXJlXG4gIF9oYW5kbGVFcnJvcldoaWxlQ29ubmVjdGluZyhlcnIpIHtcbiAgICBpZiAodGhpcy5fY29ubmVjdGlvbkVycm9yKSB7XG4gICAgICAvLyBUT0RPKGJtYyk6IHRoaXMgaXMgc3dhbGxvd2luZyBlcnJvcnMgLSB3ZSBzaG91bGRuJ3QgZG8gdGhpc1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuX2Nvbm5lY3Rpb25FcnJvciA9IHRydWVcbiAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uVGltZW91dEhhbmRsZSlcbiAgICBpZiAodGhpcy5fY29ubmVjdGlvbkNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvbkNhbGxiYWNrKGVycilcbiAgICB9XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgfVxuXG4gIC8vIGlmIHdlJ3JlIGNvbm5lY3RlZCBhbmQgd2UgcmVjZWl2ZSBhbiBlcnJvciBldmVudCBmcm9tIHRoZSBjb25uZWN0aW9uXG4gIC8vIHRoaXMgbWVhbnMgdGhlIHNvY2tldCBpcyBkZWFkIC0gZG8gYSBoYXJkIGFib3J0IG9mIGFsbCBxdWVyaWVzIGFuZCBlbWl0XG4gIC8vIHRoZSBzb2NrZXQgZXJyb3Igb24gdGhlIGNsaWVudCBhcyB3ZWxsXG4gIF9oYW5kbGVFcnJvckV2ZW50KGVycikge1xuICAgIGlmICh0aGlzLl9jb25uZWN0aW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlRXJyb3JXaGlsZUNvbm5lY3RpbmcoZXJyKVxuICAgIH1cbiAgICB0aGlzLl9xdWVyeWFibGUgPSBmYWxzZVxuICAgIHRoaXMuX2Vycm9yQWxsUXVlcmllcyhlcnIpXG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgfVxuXG4gIC8vIGhhbmRsZSBlcnJvciBtZXNzYWdlcyBmcm9tIHRoZSBwb3N0Z3JlcyBiYWNrZW5kXG4gIF9oYW5kbGVFcnJvck1lc3NhZ2UobXNnKSB7XG4gICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVFcnJvcldoaWxlQ29ubmVjdGluZyhtc2cpXG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVF1ZXJ5ID0gdGhpcy5hY3RpdmVRdWVyeVxuXG4gICAgaWYgKCFhY3RpdmVRdWVyeSkge1xuICAgICAgdGhpcy5faGFuZGxlRXJyb3JFdmVudChtc2cpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5ID0gbnVsbFxuICAgIGFjdGl2ZVF1ZXJ5LmhhbmRsZUVycm9yKG1zZywgdGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZVJvd0Rlc2NyaXB0aW9uKG1zZykge1xuICAgIC8vIGRlbGVnYXRlIHJvd0Rlc2NyaXB0aW9uIHRvIGFjdGl2ZSBxdWVyeVxuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlUm93RGVzY3JpcHRpb24obXNnKVxuICB9XG5cbiAgX2hhbmRsZURhdGFSb3cobXNnKSB7XG4gICAgLy8gZGVsZWdhdGUgZGF0YVJvdyB0byBhY3RpdmUgcXVlcnlcbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5LmhhbmRsZURhdGFSb3cobXNnKVxuICB9XG5cbiAgX2hhbmRsZVBvcnRhbFN1c3BlbmRlZChtc2cpIHtcbiAgICAvLyBkZWxlZ2F0ZSBwb3J0YWxTdXNwZW5kZWQgdG8gYWN0aXZlIHF1ZXJ5XG4gICAgdGhpcy5hY3RpdmVRdWVyeS5oYW5kbGVQb3J0YWxTdXNwZW5kZWQodGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZUVtcHR5UXVlcnkobXNnKSB7XG4gICAgLy8gZGVsZWdhdGUgZW1wdHlRdWVyeSB0byBhY3RpdmUgcXVlcnlcbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5LmhhbmRsZUVtcHR5UXVlcnkodGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZUNvbW1hbmRDb21wbGV0ZShtc2cpIHtcbiAgICBpZiAodGhpcy5hY3RpdmVRdWVyeSA9PSBudWxsKSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignUmVjZWl2ZWQgdW5leHBlY3RlZCBjb21tYW5kQ29tcGxldGUgbWVzc2FnZSBmcm9tIGJhY2tlbmQuJylcbiAgICAgIHRoaXMuX2hhbmRsZUVycm9yRXZlbnQoZXJyb3IpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gZGVsZWdhdGUgY29tbWFuZENvbXBsZXRlIHRvIGFjdGl2ZSBxdWVyeVxuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlQ29tbWFuZENvbXBsZXRlKG1zZywgdGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZVBhcnNlQ29tcGxldGUoKSB7XG4gICAgaWYgKHRoaXMuYWN0aXZlUXVlcnkgPT0gbnVsbCkge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1JlY2VpdmVkIHVuZXhwZWN0ZWQgcGFyc2VDb21wbGV0ZSBtZXNzYWdlIGZyb20gYmFja2VuZC4nKVxuICAgICAgdGhpcy5faGFuZGxlRXJyb3JFdmVudChlcnJvcilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyBpZiBhIHByZXBhcmVkIHN0YXRlbWVudCBoYXMgYSBuYW1lIGFuZCBwcm9wZXJseSBwYXJzZXNcbiAgICAvLyB3ZSB0cmFjayB0aGF0IGl0cyBhbHJlYWR5IGJlZW4gZXhlY3V0ZWQgc28gd2UgZG9uJ3QgcGFyc2VcbiAgICAvLyBpdCBhZ2FpbiBvbiB0aGUgc2FtZSBjbGllbnRcbiAgICBpZiAodGhpcy5hY3RpdmVRdWVyeS5uYW1lKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb24ucGFyc2VkU3RhdGVtZW50c1t0aGlzLmFjdGl2ZVF1ZXJ5Lm5hbWVdID0gdGhpcy5hY3RpdmVRdWVyeS50ZXh0XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUNvcHlJblJlc3BvbnNlKG1zZykge1xuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlQ29weUluUmVzcG9uc2UodGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZUNvcHlEYXRhKG1zZykge1xuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlQ29weURhdGEobXNnLCB0aGlzLmNvbm5lY3Rpb24pXG4gIH1cblxuICBfaGFuZGxlTm90aWZpY2F0aW9uKG1zZykge1xuICAgIHRoaXMuZW1pdCgnbm90aWZpY2F0aW9uJywgbXNnKVxuICB9XG5cbiAgX2hhbmRsZU5vdGljZShtc2cpIHtcbiAgICB0aGlzLmVtaXQoJ25vdGljZScsIG1zZylcbiAgfVxuXG4gIGdldFN0YXJ0dXBDb25mKCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnNcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICB1c2VyOiBwYXJhbXMudXNlcixcbiAgICAgIGRhdGFiYXNlOiBwYXJhbXMuZGF0YWJhc2UsXG4gICAgfVxuXG4gICAgY29uc3QgYXBwTmFtZSA9IHBhcmFtcy5hcHBsaWNhdGlvbl9uYW1lIHx8IHBhcmFtcy5mYWxsYmFja19hcHBsaWNhdGlvbl9uYW1lXG4gICAgaWYgKGFwcE5hbWUpIHtcbiAgICAgIGRhdGEuYXBwbGljYXRpb25fbmFtZSA9IGFwcE5hbWVcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5yZXBsaWNhdGlvbikge1xuICAgICAgZGF0YS5yZXBsaWNhdGlvbiA9ICcnICsgcGFyYW1zLnJlcGxpY2F0aW9uXG4gICAgfVxuICAgIGlmIChwYXJhbXMuc3RhdGVtZW50X3RpbWVvdXQpIHtcbiAgICAgIGRhdGEuc3RhdGVtZW50X3RpbWVvdXQgPSBTdHJpbmcocGFyc2VJbnQocGFyYW1zLnN0YXRlbWVudF90aW1lb3V0LCAxMCkpXG4gICAgfVxuICAgIGlmIChwYXJhbXMubG9ja190aW1lb3V0KSB7XG4gICAgICBkYXRhLmxvY2tfdGltZW91dCA9IFN0cmluZyhwYXJzZUludChwYXJhbXMubG9ja190aW1lb3V0LCAxMCkpXG4gICAgfVxuICAgIGlmIChwYXJhbXMuaWRsZV9pbl90cmFuc2FjdGlvbl9zZXNzaW9uX3RpbWVvdXQpIHtcbiAgICAgIGRhdGEuaWRsZV9pbl90cmFuc2FjdGlvbl9zZXNzaW9uX3RpbWVvdXQgPSBTdHJpbmcocGFyc2VJbnQocGFyYW1zLmlkbGVfaW5fdHJhbnNhY3Rpb25fc2Vzc2lvbl90aW1lb3V0LCAxMCkpXG4gICAgfVxuICAgIGlmIChwYXJhbXMub3B0aW9ucykge1xuICAgICAgZGF0YS5vcHRpb25zID0gcGFyYW1zLm9wdGlvbnNcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgY2FuY2VsKGNsaWVudCwgcXVlcnkpIHtcbiAgICBpZiAoY2xpZW50LmFjdGl2ZVF1ZXJ5ID09PSBxdWVyeSkge1xuICAgICAgY29uc3QgY29uID0gdGhpcy5jb25uZWN0aW9uXG5cbiAgICAgIGlmICh0aGlzLmhvc3QgJiYgdGhpcy5ob3N0LmluZGV4T2YoJy8nKSA9PT0gMCkge1xuICAgICAgICBjb24uY29ubmVjdCh0aGlzLmhvc3QgKyAnLy5zLlBHU1FMLicgKyB0aGlzLnBvcnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb24uY29ubmVjdCh0aGlzLnBvcnQsIHRoaXMuaG9zdClcbiAgICAgIH1cblxuICAgICAgLy8gb25jZSBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIHNlbmQgY2FuY2VsIG1lc3NhZ2VcbiAgICAgIGNvbi5vbignY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uLmNhbmNlbChjbGllbnQucHJvY2Vzc0lELCBjbGllbnQuc2VjcmV0S2V5KVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKGNsaWVudC5xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpICE9PSAtMSkge1xuICAgICAgY2xpZW50LnF1ZXJ5UXVldWUuc3BsaWNlKGNsaWVudC5xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpLCAxKVxuICAgIH1cbiAgfVxuXG4gIHNldFR5cGVQYXJzZXIob2lkLCBmb3JtYXQsIHBhcnNlRm4pIHtcbiAgICByZXR1cm4gdGhpcy5fdHlwZXMuc2V0VHlwZVBhcnNlcihvaWQsIGZvcm1hdCwgcGFyc2VGbilcbiAgfVxuXG4gIGdldFR5cGVQYXJzZXIob2lkLCBmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5fdHlwZXMuZ2V0VHlwZVBhcnNlcihvaWQsIGZvcm1hdClcbiAgfVxuXG4gIC8vIGVzY2FwZUlkZW50aWZpZXIgYW5kIGVzY2FwZUxpdGVyYWwgbW92ZWQgdG8gdXRpbGl0eSBmdW5jdGlvbnMgJiBleHBvcnRlZFxuICAvLyBvbiBQR1xuICAvLyByZS1leHBvcnRlZCBoZXJlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICBlc2NhcGVJZGVudGlmaWVyKHN0cikge1xuICAgIHJldHVybiB1dGlscy5lc2NhcGVJZGVudGlmaWVyKHN0cilcbiAgfVxuXG4gIGVzY2FwZUxpdGVyYWwoc3RyKSB7XG4gICAgcmV0dXJuIHV0aWxzLmVzY2FwZUxpdGVyYWwoc3RyKVxuICB9XG5cbiAgX3B1bHNlUXVlcnlRdWV1ZSgpIHtcbiAgICBpZiAodGhpcy5yZWFkeUZvclF1ZXJ5ID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmFjdGl2ZVF1ZXJ5ID0gdGhpcy5xdWVyeVF1ZXVlLnNoaWZ0KClcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVF1ZXJ5KSB7XG4gICAgICAgIHRoaXMucmVhZHlGb3JRdWVyeSA9IGZhbHNlXG4gICAgICAgIHRoaXMuaGFzRXhlY3V0ZWQgPSB0cnVlXG5cbiAgICAgICAgY29uc3QgcXVlcnlFcnJvciA9IHRoaXMuYWN0aXZlUXVlcnkuc3VibWl0KHRoaXMuY29ubmVjdGlvbilcbiAgICAgICAgaWYgKHF1ZXJ5RXJyb3IpIHtcbiAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlRXJyb3IocXVlcnlFcnJvciwgdGhpcy5jb25uZWN0aW9uKVxuICAgICAgICAgICAgdGhpcy5yZWFkeUZvclF1ZXJ5ID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5fcHVsc2VRdWVyeVF1ZXVlKClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaGFzRXhlY3V0ZWQpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVRdWVyeSA9IG51bGxcbiAgICAgICAgdGhpcy5lbWl0KCdkcmFpbicpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcXVlcnkoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKSB7XG4gICAgLy8gY2FuIHRha2UgaW4gc3RyaW5ncywgY29uZmlnIG9iamVjdCBvciBxdWVyeSBvYmplY3RcbiAgICBsZXQgcXVlcnlcbiAgICBsZXQgcmVzdWx0XG4gICAgbGV0IHJlYWRUaW1lb3V0XG4gICAgbGV0IHJlYWRUaW1lb3V0VGltZXJcbiAgICBsZXQgcXVlcnlDYWxsYmFja1xuXG4gICAgaWYgKGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2xpZW50IHdhcyBwYXNzZWQgYSBudWxsIG9yIHVuZGVmaW5lZCBxdWVyeScpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnLnN1Ym1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVhZFRpbWVvdXQgPSBjb25maWcucXVlcnlfdGltZW91dCB8fCB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLnF1ZXJ5X3RpbWVvdXRcbiAgICAgIHJlc3VsdCA9IHF1ZXJ5ID0gY29uZmlnXG4gICAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBxdWVyeS5jYWxsYmFjayA9IHF1ZXJ5LmNhbGxiYWNrIHx8IHZhbHVlc1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWFkVGltZW91dCA9IGNvbmZpZy5xdWVyeV90aW1lb3V0IHx8IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucXVlcnlfdGltZW91dFxuICAgICAgcXVlcnkgPSBuZXcgUXVlcnkoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKVxuICAgICAgaWYgKCFxdWVyeS5jYWxsYmFjaykge1xuICAgICAgICByZXN1bHQgPSBuZXcgdGhpcy5fUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IChlcnIgPyByZWplY3QoZXJyKSA6IHJlc29sdmUocmVzKSlcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIHN0YWNrIHRyYWNlIHRoYXQgbGVhZHMgdG8gYFRDUC5vblN0cmVhbVJlYWRgIHdpdGggb25lIHRoYXQgbGVhZHMgYmFjayB0byB0aGVcbiAgICAgICAgICAvLyBhcHBsaWNhdGlvbiB0aGF0IGNyZWF0ZWQgdGhlIHF1ZXJ5XG4gICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyKVxuICAgICAgICAgIHRocm93IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZWFkVGltZW91dCkge1xuICAgICAgcXVlcnlDYWxsYmFjayA9IHF1ZXJ5LmNhbGxiYWNrXG5cbiAgICAgIHJlYWRUaW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1F1ZXJ5IHJlYWQgdGltZW91dCcpXG5cbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgcXVlcnkuaGFuZGxlRXJyb3IoZXJyb3IsIHRoaXMuY29ubmVjdGlvbilcbiAgICAgICAgfSlcblxuICAgICAgICBxdWVyeUNhbGxiYWNrKGVycm9yKVxuXG4gICAgICAgIC8vIHdlIGFscmVhZHkgcmV0dXJuZWQgYW4gZXJyb3IsXG4gICAgICAgIC8vIGp1c3QgZG8gbm90aGluZyBpZiBxdWVyeSBjb21wbGV0ZXNcbiAgICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoKSA9PiB7fVxuXG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIHF1ZXVlXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeVF1ZXVlLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3B1bHNlUXVlcnlRdWV1ZSgpXG4gICAgICB9LCByZWFkVGltZW91dClcblxuICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlYWRUaW1lb3V0VGltZXIpXG4gICAgICAgIHF1ZXJ5Q2FsbGJhY2soZXJyLCByZXMpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYmluYXJ5ICYmICFxdWVyeS5iaW5hcnkpIHtcbiAgICAgIHF1ZXJ5LmJpbmFyeSA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAocXVlcnkuX3Jlc3VsdCAmJiAhcXVlcnkuX3Jlc3VsdC5fdHlwZXMpIHtcbiAgICAgIHF1ZXJ5Ll9yZXN1bHQuX3R5cGVzID0gdGhpcy5fdHlwZXNcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3F1ZXJ5YWJsZSkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHF1ZXJ5LmhhbmRsZUVycm9yKG5ldyBFcnJvcignQ2xpZW50IGhhcyBlbmNvdW50ZXJlZCBhIGNvbm5lY3Rpb24gZXJyb3IgYW5kIGlzIG5vdCBxdWVyeWFibGUnKSwgdGhpcy5jb25uZWN0aW9uKVxuICAgICAgfSlcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZW5kaW5nKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgcXVlcnkuaGFuZGxlRXJyb3IobmV3IEVycm9yKCdDbGllbnQgd2FzIGNsb3NlZCBhbmQgaXMgbm90IHF1ZXJ5YWJsZScpLCB0aGlzLmNvbm5lY3Rpb24pXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIHRoaXMucXVlcnlRdWV1ZS5wdXNoKHF1ZXJ5KVxuICAgIHRoaXMuX3B1bHNlUXVlcnlRdWV1ZSgpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgcmVmKCkge1xuICAgIHRoaXMuY29ubmVjdGlvbi5yZWYoKVxuICB9XG5cbiAgdW5yZWYoKSB7XG4gICAgdGhpcy5jb25uZWN0aW9uLnVucmVmKClcbiAgfVxuXG4gIGVuZChjYikge1xuICAgIHRoaXMuX2VuZGluZyA9IHRydWVcblxuICAgIC8vIGlmIHdlIGhhdmUgbmV2ZXIgY29ubmVjdGVkLCB0aGVuIGVuZCBpcyBhIG5vb3AsIGNhbGxiYWNrIGltbWVkaWF0ZWx5XG4gICAgaWYgKCF0aGlzLmNvbm5lY3Rpb24uX2Nvbm5lY3RpbmcgfHwgdGhpcy5fZW5kZWQpIHtcbiAgICAgIGlmIChjYikge1xuICAgICAgICBjYigpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY3RpdmVRdWVyeSB8fCAhdGhpcy5fcXVlcnlhYmxlKSB7XG4gICAgICAvLyBpZiB3ZSBoYXZlIGFuIGFjdGl2ZSBxdWVyeSB3ZSBuZWVkIHRvIGZvcmNlIGEgZGlzY29ubmVjdFxuICAgICAgLy8gb24gdGhlIHNvY2tldCAtIG90aGVyd2lzZSBhIGh1bmcgcXVlcnkgY291bGQgYmxvY2sgZW5kIGZvcmV2ZXJcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5zdHJlYW0uZGVzdHJveSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5lbmQoKVxuICAgIH1cblxuICAgIGlmIChjYikge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLm9uY2UoJ2VuZCcsIGNiKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IHRoaXMuX1Byb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLm9uY2UoJ2VuZCcsIHJlc29sdmUpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuXG4vLyBleHBvc2UgYSBRdWVyeSBjb25zdHJ1Y3RvclxuQ2xpZW50LlF1ZXJ5ID0gUXVlcnlcblxubW9kdWxlLmV4cG9ydHMgPSBDbGllbnRcbiIsICIndXNlIHN0cmljdCdcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuXG5jb25zdCBOT09QID0gZnVuY3Rpb24gKCkge31cblxuY29uc3QgcmVtb3ZlV2hlcmUgPSAobGlzdCwgcHJlZGljYXRlKSA9PiB7XG4gIGNvbnN0IGkgPSBsaXN0LmZpbmRJbmRleChwcmVkaWNhdGUpXG5cbiAgcmV0dXJuIGkgPT09IC0xID8gdW5kZWZpbmVkIDogbGlzdC5zcGxpY2UoaSwgMSlbMF1cbn1cblxuY2xhc3MgSWRsZUl0ZW0ge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGlkbGVMaXN0ZW5lciwgdGltZW91dElkKSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnRcbiAgICB0aGlzLmlkbGVMaXN0ZW5lciA9IGlkbGVMaXN0ZW5lclxuICAgIHRoaXMudGltZW91dElkID0gdGltZW91dElkXG4gIH1cbn1cblxuY2xhc3MgUGVuZGluZ0l0ZW0ge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFja1xuICB9XG59XG5cbmZ1bmN0aW9uIHRocm93T25Eb3VibGVSZWxlYXNlKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1JlbGVhc2UgY2FsbGVkIG9uIGNsaWVudCB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIHJlbGVhc2VkIHRvIHRoZSBwb29sLicpXG59XG5cbmZ1bmN0aW9uIHByb21pc2lmeShQcm9taXNlLCBjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4geyBjYWxsYmFjazogY2FsbGJhY2ssIHJlc3VsdDogdW5kZWZpbmVkIH1cbiAgfVxuICBsZXQgcmVqXG4gIGxldCByZXNcbiAgY29uc3QgY2IgPSBmdW5jdGlvbiAoZXJyLCBjbGllbnQpIHtcbiAgICBlcnIgPyByZWooZXJyKSA6IHJlcyhjbGllbnQpXG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlcyA9IHJlc29sdmVcbiAgICByZWogPSByZWplY3RcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIC8vIHJlcGxhY2UgdGhlIHN0YWNrIHRyYWNlIHRoYXQgbGVhZHMgdG8gYFRDUC5vblN0cmVhbVJlYWRgIHdpdGggb25lIHRoYXQgbGVhZHMgYmFjayB0byB0aGVcbiAgICAvLyBhcHBsaWNhdGlvbiB0aGF0IGNyZWF0ZWQgdGhlIHF1ZXJ5XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyKVxuICAgIHRocm93IGVyclxuICB9KVxuICByZXR1cm4geyBjYWxsYmFjazogY2IsIHJlc3VsdDogcmVzdWx0IH1cbn1cblxuZnVuY3Rpb24gbWFrZUlkbGVMaXN0ZW5lcihwb29sLCBjbGllbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGlkbGVMaXN0ZW5lcihlcnIpIHtcbiAgICBlcnIuY2xpZW50ID0gY2xpZW50XG5cbiAgICBjbGllbnQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgaWRsZUxpc3RlbmVyKVxuICAgIGNsaWVudC5vbignZXJyb3InLCAoKSA9PiB7XG4gICAgICBwb29sLmxvZygnYWRkaXRpb25hbCBjbGllbnQgZXJyb3IgYWZ0ZXIgZGlzY29ubmVjdGlvbiBkdWUgdG8gZXJyb3InLCBlcnIpXG4gICAgfSlcbiAgICBwb29sLl9yZW1vdmUoY2xpZW50KVxuICAgIC8vIFRPRE8gLSBkb2N1bWVudCB0aGF0IG9uY2UgdGhlIHBvb2wgZW1pdHMgYW4gZXJyb3JcbiAgICAvLyB0aGUgY2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkICYgcHVyZ2VkIGFuZCBpcyB1bnVzYWJsZVxuICAgIHBvb2wuZW1pdCgnZXJyb3InLCBlcnIsIGNsaWVudClcbiAgfVxufVxuXG5jbGFzcyBQb29sIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgQ2xpZW50KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpXG5cbiAgICBpZiAob3B0aW9ucyAhPSBudWxsICYmICdwYXNzd29yZCcgaW4gb3B0aW9ucykge1xuICAgICAgLy8gXCJoaWRpbmdcIiB0aGUgcGFzc3dvcmQgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgICAgLy8gb3IgaWYgdGhlIGNsaWVudCBpcyBjb25zb2xlLmxvZ2dlZFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3B0aW9ucywgJ3Bhc3N3b3JkJywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMucGFzc3dvcmQsXG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAob3B0aW9ucyAhPSBudWxsICYmIG9wdGlvbnMuc3NsICYmIG9wdGlvbnMuc3NsLmtleSkge1xuICAgICAgLy8gXCJoaWRpbmdcIiB0aGUgc3NsLT5rZXkgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgICAgLy8gb3IgaWYgdGhlIGNsaWVudCBpcyBjb25zb2xlLmxvZ2dlZFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3B0aW9ucy5zc2wsICdrZXknLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMubWF4ID0gdGhpcy5vcHRpb25zLm1heCB8fCB0aGlzLm9wdGlvbnMucG9vbFNpemUgfHwgMTBcbiAgICB0aGlzLm9wdGlvbnMubWluID0gdGhpcy5vcHRpb25zLm1pbiB8fCAwXG4gICAgdGhpcy5vcHRpb25zLm1heFVzZXMgPSB0aGlzLm9wdGlvbnMubWF4VXNlcyB8fCBJbmZpbml0eVxuICAgIHRoaXMub3B0aW9ucy5hbGxvd0V4aXRPbklkbGUgPSB0aGlzLm9wdGlvbnMuYWxsb3dFeGl0T25JZGxlIHx8IGZhbHNlXG4gICAgdGhpcy5vcHRpb25zLm1heExpZmV0aW1lU2Vjb25kcyA9IHRoaXMub3B0aW9ucy5tYXhMaWZldGltZVNlY29uZHMgfHwgMFxuICAgIHRoaXMubG9nID0gdGhpcy5vcHRpb25zLmxvZyB8fCBmdW5jdGlvbiAoKSB7fVxuICAgIHRoaXMuQ2xpZW50ID0gdGhpcy5vcHRpb25zLkNsaWVudCB8fCBDbGllbnQgfHwgcmVxdWlyZSgncGcnKS5DbGllbnRcbiAgICB0aGlzLlByb21pc2UgPSB0aGlzLm9wdGlvbnMuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZVxuXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaWRsZVRpbWVvdXRNaWxsaXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuaWRsZVRpbWVvdXRNaWxsaXMgPSAxMDAwMFxuICAgIH1cblxuICAgIHRoaXMuX2NsaWVudHMgPSBbXVxuICAgIHRoaXMuX2lkbGUgPSBbXVxuICAgIHRoaXMuX2V4cGlyZWQgPSBuZXcgV2Vha1NldCgpXG4gICAgdGhpcy5fcGVuZGluZ1F1ZXVlID0gW11cbiAgICB0aGlzLl9lbmRDYWxsYmFjayA9IHVuZGVmaW5lZFxuICAgIHRoaXMuZW5kaW5nID0gZmFsc2VcbiAgICB0aGlzLmVuZGVkID0gZmFsc2VcbiAgfVxuXG4gIF9pc0Z1bGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudHMubGVuZ3RoID49IHRoaXMub3B0aW9ucy5tYXhcbiAgfVxuXG4gIF9pc0Fib3ZlTWluKCkge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnRzLmxlbmd0aCA+IHRoaXMub3B0aW9ucy5taW5cbiAgfVxuXG4gIF9wdWxzZVF1ZXVlKCkge1xuICAgIHRoaXMubG9nKCdwdWxzZSBxdWV1ZScpXG4gICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgIHRoaXMubG9nKCdwdWxzZSBxdWV1ZSBlbmRlZCcpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMuZW5kaW5nKSB7XG4gICAgICB0aGlzLmxvZygncHVsc2UgcXVldWUgb24gZW5kaW5nJylcbiAgICAgIGlmICh0aGlzLl9pZGxlLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9pZGxlLnNsaWNlKCkubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgdGhpcy5fcmVtb3ZlKGl0ZW0uY2xpZW50KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9jbGllbnRzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLl9lbmRDYWxsYmFjaygpXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGFueSB3YWl0aW5nLCBkbyBub3RoaW5nXG4gICAgaWYgKCF0aGlzLl9wZW5kaW5nUXVldWUubGVuZ3RoKSB7XG4gICAgICB0aGlzLmxvZygnbm8gcXVldWVkIHJlcXVlc3RzJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGFueSBpZGxlIGNsaWVudHMgYW5kIHdlIGhhdmUgbm8gbW9yZSByb29tIGRvIG5vdGhpbmdcbiAgICBpZiAoIXRoaXMuX2lkbGUubGVuZ3RoICYmIHRoaXMuX2lzRnVsbCgpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgcGVuZGluZ0l0ZW0gPSB0aGlzLl9wZW5kaW5nUXVldWUuc2hpZnQoKVxuICAgIGlmICh0aGlzLl9pZGxlLmxlbmd0aCkge1xuICAgICAgY29uc3QgaWRsZUl0ZW0gPSB0aGlzLl9pZGxlLnBvcCgpXG4gICAgICBjbGVhclRpbWVvdXQoaWRsZUl0ZW0udGltZW91dElkKVxuICAgICAgY29uc3QgY2xpZW50ID0gaWRsZUl0ZW0uY2xpZW50XG4gICAgICBjbGllbnQucmVmICYmIGNsaWVudC5yZWYoKVxuICAgICAgY29uc3QgaWRsZUxpc3RlbmVyID0gaWRsZUl0ZW0uaWRsZUxpc3RlbmVyXG5cbiAgICAgIHJldHVybiB0aGlzLl9hY3F1aXJlQ2xpZW50KGNsaWVudCwgcGVuZGluZ0l0ZW0sIGlkbGVMaXN0ZW5lciwgZmFsc2UpXG4gICAgfVxuICAgIGlmICghdGhpcy5faXNGdWxsKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLm5ld0NsaWVudChwZW5kaW5nSXRlbSlcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIGNvbmRpdGlvbicpXG4gIH1cblxuICBfcmVtb3ZlKGNsaWVudCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCByZW1vdmVkID0gcmVtb3ZlV2hlcmUodGhpcy5faWRsZSwgKGl0ZW0pID0+IGl0ZW0uY2xpZW50ID09PSBjbGllbnQpXG5cbiAgICBpZiAocmVtb3ZlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQocmVtb3ZlZC50aW1lb3V0SWQpXG4gICAgfVxuXG4gICAgdGhpcy5fY2xpZW50cyA9IHRoaXMuX2NsaWVudHMuZmlsdGVyKChjKSA9PiBjICE9PSBjbGllbnQpXG4gICAgY29uc3QgY29udGV4dCA9IHRoaXNcbiAgICBjbGllbnQuZW5kKCgpID0+IHtcbiAgICAgIGNvbnRleHQuZW1pdCgncmVtb3ZlJywgY2xpZW50KVxuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29ubmVjdChjYikge1xuICAgIGlmICh0aGlzLmVuZGluZykge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdDYW5ub3QgdXNlIGEgcG9vbCBhZnRlciBjYWxsaW5nIGVuZCBvbiB0aGUgcG9vbCcpXG4gICAgICByZXR1cm4gY2IgPyBjYihlcnIpIDogdGhpcy5Qcm9taXNlLnJlamVjdChlcnIpXG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBwcm9taXNpZnkodGhpcy5Qcm9taXNlLCBjYilcbiAgICBjb25zdCByZXN1bHQgPSByZXNwb25zZS5yZXN1bHRcblxuICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgdG8gY29ubmVjdCBhIG5ldyBjbGllbnQsIGRvbid0IGRvIHNvXG4gICAgaWYgKHRoaXMuX2lzRnVsbCgpIHx8IHRoaXMuX2lkbGUubGVuZ3RoKSB7XG4gICAgICAvLyBpZiB3ZSBoYXZlIGlkbGUgY2xpZW50cyBzY2hlZHVsZSBhIHB1bHNlIGltbWVkaWF0ZWx5XG4gICAgICBpZiAodGhpcy5faWRsZS5sZW5ndGgpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB0aGlzLl9wdWxzZVF1ZXVlKCkpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdRdWV1ZS5wdXNoKG5ldyBQZW5kaW5nSXRlbShyZXNwb25zZS5jYWxsYmFjaykpXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgIH1cblxuICAgICAgY29uc3QgcXVldWVDYWxsYmFjayA9IChlcnIsIHJlcywgZG9uZSkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGlkKVxuICAgICAgICByZXNwb25zZS5jYWxsYmFjayhlcnIsIHJlcywgZG9uZSlcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGVuZGluZ0l0ZW0gPSBuZXcgUGVuZGluZ0l0ZW0ocXVldWVDYWxsYmFjaylcblxuICAgICAgLy8gc2V0IGNvbm5lY3Rpb24gdGltZW91dCBvbiBjaGVja2luZyBvdXQgYW4gZXhpc3RpbmcgY2xpZW50XG4gICAgICBjb25zdCB0aWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBjYWxsYmFjayBmcm9tIHBlbmRpbmcgd2FpdGVycyBiZWNhdXNlXG4gICAgICAgIC8vIHdlJ3JlIGdvaW5nIHRvIGNhbGwgaXQgd2l0aCBhIHRpbWVvdXQgZXJyb3JcbiAgICAgICAgcmVtb3ZlV2hlcmUodGhpcy5fcGVuZGluZ1F1ZXVlLCAoaSkgPT4gaS5jYWxsYmFjayA9PT0gcXVldWVDYWxsYmFjaylcbiAgICAgICAgcGVuZGluZ0l0ZW0udGltZWRPdXQgPSB0cnVlXG4gICAgICAgIHJlc3BvbnNlLmNhbGxiYWNrKG5ldyBFcnJvcigndGltZW91dCBleGNlZWRlZCB3aGVuIHRyeWluZyB0byBjb25uZWN0JykpXG4gICAgICB9LCB0aGlzLm9wdGlvbnMuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMpXG5cbiAgICAgIGlmICh0aWQudW5yZWYpIHtcbiAgICAgICAgdGlkLnVucmVmKClcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcGVuZGluZ1F1ZXVlLnB1c2gocGVuZGluZ0l0ZW0pXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgdGhpcy5uZXdDbGllbnQobmV3IFBlbmRpbmdJdGVtKHJlc3BvbnNlLmNhbGxiYWNrKSlcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIG5ld0NsaWVudChwZW5kaW5nSXRlbSkge1xuICAgIGNvbnN0IGNsaWVudCA9IG5ldyB0aGlzLkNsaWVudCh0aGlzLm9wdGlvbnMpXG4gICAgdGhpcy5fY2xpZW50cy5wdXNoKGNsaWVudClcbiAgICBjb25zdCBpZGxlTGlzdGVuZXIgPSBtYWtlSWRsZUxpc3RlbmVyKHRoaXMsIGNsaWVudClcblxuICAgIHRoaXMubG9nKCdjaGVja2luZyBjbGllbnQgdGltZW91dCcpXG5cbiAgICAvLyBjb25uZWN0aW9uIHRpbWVvdXQgbG9naWNcbiAgICBsZXQgdGlkXG4gICAgbGV0IHRpbWVvdXRIaXQgPSBmYWxzZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMpIHtcbiAgICAgIHRpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZygnZW5kaW5nIGNsaWVudCBkdWUgdG8gdGltZW91dCcpXG4gICAgICAgIHRpbWVvdXRIaXQgPSB0cnVlXG4gICAgICAgIC8vIGZvcmNlIGtpbGwgdGhlIG5vZGUgZHJpdmVyLCBhbmQgbGV0IGxpYnBxIGRvIGl0cyB0ZWFyZG93blxuICAgICAgICBjbGllbnQuY29ubmVjdGlvbiA/IGNsaWVudC5jb25uZWN0aW9uLnN0cmVhbS5kZXN0cm95KCkgOiBjbGllbnQuZW5kKClcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5jb25uZWN0aW9uVGltZW91dE1pbGxpcylcbiAgICB9XG5cbiAgICB0aGlzLmxvZygnY29ubmVjdGluZyBuZXcgY2xpZW50JylcbiAgICBjbGllbnQuY29ubmVjdCgoZXJyKSA9PiB7XG4gICAgICBpZiAodGlkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aWQpXG4gICAgICB9XG4gICAgICBjbGllbnQub24oJ2Vycm9yJywgaWRsZUxpc3RlbmVyKVxuICAgICAgaWYgKGVycikge1xuICAgICAgICB0aGlzLmxvZygnY2xpZW50IGZhaWxlZCB0byBjb25uZWN0JywgZXJyKVxuICAgICAgICAvLyByZW1vdmUgdGhlIGRlYWQgY2xpZW50IGZyb20gb3VyIGxpc3Qgb2YgY2xpZW50c1xuICAgICAgICB0aGlzLl9jbGllbnRzID0gdGhpcy5fY2xpZW50cy5maWx0ZXIoKGMpID0+IGMgIT09IGNsaWVudClcbiAgICAgICAgaWYgKHRpbWVvdXRIaXQpIHtcbiAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ0Nvbm5lY3Rpb24gdGVybWluYXRlZCBkdWUgdG8gY29ubmVjdGlvbiB0aW1lb3V0JywgeyBjYXVzZTogZXJyIH0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzIGNsaWVudCB3b25cdTIwMTl0IGJlIHJlbGVhc2VkLCBzbyBtb3ZlIG9uIGltbWVkaWF0ZWx5XG4gICAgICAgIHRoaXMuX3B1bHNlUXVldWUoKVxuXG4gICAgICAgIGlmICghcGVuZGluZ0l0ZW0udGltZWRPdXQpIHtcbiAgICAgICAgICBwZW5kaW5nSXRlbS5jYWxsYmFjayhlcnIsIHVuZGVmaW5lZCwgTk9PUClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sb2coJ25ldyBjbGllbnQgY29ubmVjdGVkJylcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1heExpZmV0aW1lU2Vjb25kcyAhPT0gMCkge1xuICAgICAgICAgIGNvbnN0IG1heExpZmV0aW1lVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2coJ2VuZGluZyBjbGllbnQgZHVlIHRvIGV4cGlyZWQgbGlmZXRpbWUnKVxuICAgICAgICAgICAgdGhpcy5fZXhwaXJlZC5hZGQoY2xpZW50KVxuICAgICAgICAgICAgY29uc3QgaWRsZUluZGV4ID0gdGhpcy5faWRsZS5maW5kSW5kZXgoKGlkbGVJdGVtKSA9PiBpZGxlSXRlbS5jbGllbnQgPT09IGNsaWVudClcbiAgICAgICAgICAgIGlmIChpZGxlSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2FjcXVpcmVDbGllbnQoXG4gICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgIG5ldyBQZW5kaW5nSXRlbSgoZXJyLCBjbGllbnQsIGNsaWVudFJlbGVhc2UpID0+IGNsaWVudFJlbGVhc2UoKSksXG4gICAgICAgICAgICAgICAgaWRsZUxpc3RlbmVyLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMubWF4TGlmZXRpbWVTZWNvbmRzICogMTAwMClcblxuICAgICAgICAgIG1heExpZmV0aW1lVGltZW91dC51bnJlZigpXG4gICAgICAgICAgY2xpZW50Lm9uY2UoJ2VuZCcsICgpID0+IGNsZWFyVGltZW91dChtYXhMaWZldGltZVRpbWVvdXQpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjcXVpcmVDbGllbnQoY2xpZW50LCBwZW5kaW5nSXRlbSwgaWRsZUxpc3RlbmVyLCB0cnVlKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBhY3F1aXJlIGEgY2xpZW50IGZvciBhIHBlbmRpbmcgd29yayBpdGVtXG4gIF9hY3F1aXJlQ2xpZW50KGNsaWVudCwgcGVuZGluZ0l0ZW0sIGlkbGVMaXN0ZW5lciwgaXNOZXcpIHtcbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIHRoaXMuZW1pdCgnY29ubmVjdCcsIGNsaWVudClcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ2FjcXVpcmUnLCBjbGllbnQpXG5cbiAgICBjbGllbnQucmVsZWFzZSA9IHRoaXMuX3JlbGVhc2VPbmNlKGNsaWVudCwgaWRsZUxpc3RlbmVyKVxuXG4gICAgY2xpZW50LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGlkbGVMaXN0ZW5lcilcblxuICAgIGlmICghcGVuZGluZ0l0ZW0udGltZWRPdXQpIHtcbiAgICAgIGlmIChpc05ldyAmJiB0aGlzLm9wdGlvbnMudmVyaWZ5KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy52ZXJpZnkoY2xpZW50LCAoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY2xpZW50LnJlbGVhc2UoZXJyKVxuICAgICAgICAgICAgcmV0dXJuIHBlbmRpbmdJdGVtLmNhbGxiYWNrKGVyciwgdW5kZWZpbmVkLCBOT09QKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHBlbmRpbmdJdGVtLmNhbGxiYWNrKHVuZGVmaW5lZCwgY2xpZW50LCBjbGllbnQucmVsZWFzZSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlbmRpbmdJdGVtLmNhbGxiYWNrKHVuZGVmaW5lZCwgY2xpZW50LCBjbGllbnQucmVsZWFzZSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzTmV3ICYmIHRoaXMub3B0aW9ucy52ZXJpZnkpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnZlcmlmeShjbGllbnQsIGNsaWVudC5yZWxlYXNlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xpZW50LnJlbGVhc2UoKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIF9yZWxlYXNlIGFuZCB0aHJvd3MgaWYgY2FsbGVkIG1vcmUgdGhhbiBvbmNlXG4gIF9yZWxlYXNlT25jZShjbGllbnQsIGlkbGVMaXN0ZW5lcikge1xuICAgIGxldCByZWxlYXNlZCA9IGZhbHNlXG5cbiAgICByZXR1cm4gKGVycikgPT4ge1xuICAgICAgaWYgKHJlbGVhc2VkKSB7XG4gICAgICAgIHRocm93T25Eb3VibGVSZWxlYXNlKClcbiAgICAgIH1cblxuICAgICAgcmVsZWFzZWQgPSB0cnVlXG4gICAgICB0aGlzLl9yZWxlYXNlKGNsaWVudCwgaWRsZUxpc3RlbmVyLCBlcnIpXG4gICAgfVxuICB9XG5cbiAgLy8gcmVsZWFzZSBhIGNsaWVudCBiYWNrIHRvIHRoZSBwb2xsLCBpbmNsdWRlIGFuIGVycm9yXG4gIC8vIHRvIHJlbW92ZSBpdCBmcm9tIHRoZSBwb29sXG4gIF9yZWxlYXNlKGNsaWVudCwgaWRsZUxpc3RlbmVyLCBlcnIpIHtcbiAgICBjbGllbnQub24oJ2Vycm9yJywgaWRsZUxpc3RlbmVyKVxuXG4gICAgY2xpZW50Ll9wb29sVXNlQ291bnQgPSAoY2xpZW50Ll9wb29sVXNlQ291bnQgfHwgMCkgKyAxXG5cbiAgICB0aGlzLmVtaXQoJ3JlbGVhc2UnLCBlcnIsIGNsaWVudClcblxuICAgIC8vIFRPRE8oYm1jKTogZXhwb3NlIGEgcHJvcGVyLCBwdWJsaWMgaW50ZXJmYWNlIF9xdWVyeWFibGUgYW5kIF9lbmRpbmdcbiAgICBpZiAoZXJyIHx8IHRoaXMuZW5kaW5nIHx8ICFjbGllbnQuX3F1ZXJ5YWJsZSB8fCBjbGllbnQuX2VuZGluZyB8fCBjbGllbnQuX3Bvb2xVc2VDb3VudCA+PSB0aGlzLm9wdGlvbnMubWF4VXNlcykge1xuICAgICAgaWYgKGNsaWVudC5fcG9vbFVzZUNvdW50ID49IHRoaXMub3B0aW9ucy5tYXhVc2VzKSB7XG4gICAgICAgIHRoaXMubG9nKCdyZW1vdmUgZXhwZW5kZWQgY2xpZW50JylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX3JlbW92ZShjbGllbnQsIHRoaXMuX3B1bHNlUXVldWUuYmluZCh0aGlzKSlcbiAgICB9XG5cbiAgICBjb25zdCBpc0V4cGlyZWQgPSB0aGlzLl9leHBpcmVkLmhhcyhjbGllbnQpXG4gICAgaWYgKGlzRXhwaXJlZCkge1xuICAgICAgdGhpcy5sb2coJ3JlbW92ZSBleHBpcmVkIGNsaWVudCcpXG4gICAgICB0aGlzLl9leHBpcmVkLmRlbGV0ZShjbGllbnQpXG4gICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlKGNsaWVudCwgdGhpcy5fcHVsc2VRdWV1ZS5iaW5kKHRoaXMpKVxuICAgIH1cblxuICAgIC8vIGlkbGUgdGltZW91dFxuICAgIGxldCB0aWRcbiAgICBpZiAodGhpcy5vcHRpb25zLmlkbGVUaW1lb3V0TWlsbGlzICYmIHRoaXMuX2lzQWJvdmVNaW4oKSkge1xuICAgICAgdGlkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nKCdyZW1vdmUgaWRsZSBjbGllbnQnKVxuICAgICAgICB0aGlzLl9yZW1vdmUoY2xpZW50LCB0aGlzLl9wdWxzZVF1ZXVlLmJpbmQodGhpcykpXG4gICAgICB9LCB0aGlzLm9wdGlvbnMuaWRsZVRpbWVvdXRNaWxsaXMpXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dFeGl0T25JZGxlKSB7XG4gICAgICAgIC8vIGFsbG93IE5vZGUgdG8gZXhpdCBpZiB0aGlzIGlzIGFsbCB0aGF0J3MgbGVmdFxuICAgICAgICB0aWQudW5yZWYoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dFeGl0T25JZGxlKSB7XG4gICAgICBjbGllbnQudW5yZWYoKVxuICAgIH1cblxuICAgIHRoaXMuX2lkbGUucHVzaChuZXcgSWRsZUl0ZW0oY2xpZW50LCBpZGxlTGlzdGVuZXIsIHRpZCkpXG4gICAgdGhpcy5fcHVsc2VRdWV1ZSgpXG4gIH1cblxuICBxdWVyeSh0ZXh0LCB2YWx1ZXMsIGNiKSB7XG4gICAgLy8gZ3VhcmQgY2xhdXNlIGFnYWluc3QgcGFzc2luZyBhIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXJcbiAgICBpZiAodHlwZW9mIHRleHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcHJvbWlzaWZ5KHRoaXMuUHJvbWlzZSwgdGV4dClcbiAgICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5jYWxsYmFjayhuZXcgRXJyb3IoJ1Bhc3NpbmcgYSBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIHBvb2wucXVlcnkgaXMgbm90IHN1cHBvcnRlZCcpKVxuICAgICAgfSlcbiAgICAgIHJldHVybiByZXNwb25zZS5yZXN1bHRcbiAgICB9XG5cbiAgICAvLyBhbGxvdyBwbGFpbiB0ZXh0IHF1ZXJ5IHdpdGhvdXQgdmFsdWVzXG4gICAgaWYgKHR5cGVvZiB2YWx1ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gdmFsdWVzXG4gICAgICB2YWx1ZXMgPSB1bmRlZmluZWRcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBwcm9taXNpZnkodGhpcy5Qcm9taXNlLCBjYilcbiAgICBjYiA9IHJlc3BvbnNlLmNhbGxiYWNrXG5cbiAgICB0aGlzLmNvbm5lY3QoKGVyciwgY2xpZW50KSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYihlcnIpXG4gICAgICB9XG5cbiAgICAgIGxldCBjbGllbnRSZWxlYXNlZCA9IGZhbHNlXG4gICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICBpZiAoY2xpZW50UmVsZWFzZWQpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjbGllbnRSZWxlYXNlZCA9IHRydWVcbiAgICAgICAgY2xpZW50LnJlbGVhc2UoZXJyKVxuICAgICAgICBjYihlcnIpXG4gICAgICB9XG5cbiAgICAgIGNsaWVudC5vbmNlKCdlcnJvcicsIG9uRXJyb3IpXG4gICAgICB0aGlzLmxvZygnZGlzcGF0Y2hpbmcgcXVlcnknKVxuICAgICAgdHJ5IHtcbiAgICAgICAgY2xpZW50LnF1ZXJ5KHRleHQsIHZhbHVlcywgKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2coJ3F1ZXJ5IGRpc3BhdGNoZWQnKVxuICAgICAgICAgIGNsaWVudC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKVxuICAgICAgICAgIGlmIChjbGllbnRSZWxlYXNlZCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGNsaWVudFJlbGVhc2VkID0gdHJ1ZVxuICAgICAgICAgIGNsaWVudC5yZWxlYXNlKGVycilcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IoZXJyKVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY2IodW5kZWZpbmVkLCByZXMpXG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY2xpZW50LnJlbGVhc2UoZXJyKVxuICAgICAgICByZXR1cm4gY2IoZXJyKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdFxuICB9XG5cbiAgZW5kKGNiKSB7XG4gICAgdGhpcy5sb2coJ2VuZGluZycpXG4gICAgaWYgKHRoaXMuZW5kaW5nKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ0NhbGxlZCBlbmQgb24gcG9vbCBtb3JlIHRoYW4gb25jZScpXG4gICAgICByZXR1cm4gY2IgPyBjYihlcnIpIDogdGhpcy5Qcm9taXNlLnJlamVjdChlcnIpXG4gICAgfVxuICAgIHRoaXMuZW5kaW5nID0gdHJ1ZVxuICAgIGNvbnN0IHByb21pc2VkID0gcHJvbWlzaWZ5KHRoaXMuUHJvbWlzZSwgY2IpXG4gICAgdGhpcy5fZW5kQ2FsbGJhY2sgPSBwcm9taXNlZC5jYWxsYmFja1xuICAgIHRoaXMuX3B1bHNlUXVldWUoKVxuICAgIHJldHVybiBwcm9taXNlZC5yZXN1bHRcbiAgfVxuXG4gIGdldCB3YWl0aW5nQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdRdWV1ZS5sZW5ndGhcbiAgfVxuXG4gIGdldCBpZGxlQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkbGUubGVuZ3RoXG4gIH1cblxuICBnZXQgZXhwaXJlZENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnRzLnJlZHVjZSgoYWNjLCBjbGllbnQpID0+IGFjYyArICh0aGlzLl9leHBpcmVkLmhhcyhjbGllbnQpID8gMSA6IDApLCAwKVxuICB9XG5cbiAgZ2V0IHRvdGFsQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudHMubGVuZ3RoXG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gUG9vbFxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuXG5jb25zdCBOYXRpdmVRdWVyeSA9IChtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb25maWcsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcylcbiAgY29uZmlnID0gdXRpbHMubm9ybWFsaXplUXVlcnlDb25maWcoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKVxuICB0aGlzLnRleHQgPSBjb25maWcudGV4dFxuICB0aGlzLnZhbHVlcyA9IGNvbmZpZy52YWx1ZXNcbiAgdGhpcy5uYW1lID0gY29uZmlnLm5hbWVcbiAgdGhpcy5xdWVyeU1vZGUgPSBjb25maWcucXVlcnlNb2RlXG4gIHRoaXMuY2FsbGJhY2sgPSBjb25maWcuY2FsbGJhY2tcbiAgdGhpcy5zdGF0ZSA9ICduZXcnXG4gIHRoaXMuX2FycmF5TW9kZSA9IGNvbmZpZy5yb3dNb2RlID09PSAnYXJyYXknXG5cbiAgLy8gaWYgdGhlICdyb3cnIGV2ZW50IGlzIGxpc3RlbmVkIGZvclxuICAvLyB0aGVuIGVtaXQgdGhlbSBhcyB0aGV5IGNvbWUgaW5cbiAgLy8gd2l0aG91dCBzZXR0aW5nIHNpbmdsZVJvd01vZGUgdG8gdHJ1ZVxuICAvLyB0aGlzIGhhcyBhbG1vc3Qgbm8gbWVhbmluZyBiZWNhdXNlIGxpYnBxXG4gIC8vIHJlYWRzIGFsbCByb3dzIGludG8gbWVtb3J5IGJlZm9yZSByZXR1cm5pbmcgYW55XG4gIHRoaXMuX2VtaXRSb3dFdmVudHMgPSBmYWxzZVxuICB0aGlzLm9uKFxuICAgICduZXdMaXN0ZW5lcicsXG4gICAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQgPT09ICdyb3cnKSB0aGlzLl9lbWl0Um93RXZlbnRzID0gdHJ1ZVxuICAgIH0uYmluZCh0aGlzKVxuICApXG59KVxuXG51dGlsLmluaGVyaXRzKE5hdGl2ZVF1ZXJ5LCBFdmVudEVtaXR0ZXIpXG5cbmNvbnN0IGVycm9yRmllbGRNYXAgPSB7XG4gIHNxbFN0YXRlOiAnY29kZScsXG4gIHN0YXRlbWVudFBvc2l0aW9uOiAncG9zaXRpb24nLFxuICBtZXNzYWdlUHJpbWFyeTogJ21lc3NhZ2UnLFxuICBjb250ZXh0OiAnd2hlcmUnLFxuICBzY2hlbWFOYW1lOiAnc2NoZW1hJyxcbiAgdGFibGVOYW1lOiAndGFibGUnLFxuICBjb2x1bW5OYW1lOiAnY29sdW1uJyxcbiAgZGF0YVR5cGVOYW1lOiAnZGF0YVR5cGUnLFxuICBjb25zdHJhaW50TmFtZTogJ2NvbnN0cmFpbnQnLFxuICBzb3VyY2VGaWxlOiAnZmlsZScsXG4gIHNvdXJjZUxpbmU6ICdsaW5lJyxcbiAgc291cmNlRnVuY3Rpb246ICdyb3V0aW5lJyxcbn1cblxuTmF0aXZlUXVlcnkucHJvdG90eXBlLmhhbmRsZUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAvLyBjb3B5IHBxIGVycm9yIGZpZWxkcyBpbnRvIHRoZSBlcnJvciBvYmplY3RcbiAgY29uc3QgZmllbGRzID0gdGhpcy5uYXRpdmUucHEucmVzdWx0RXJyb3JGaWVsZHMoKVxuICBpZiAoZmllbGRzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZmllbGRzKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRmllbGROYW1lID0gZXJyb3JGaWVsZE1hcFtrZXldIHx8IGtleVxuICAgICAgZXJyW25vcm1hbGl6ZWRGaWVsZE5hbWVdID0gZmllbGRzW2tleV1cbiAgICB9XG4gIH1cbiAgaWYgKHRoaXMuY2FsbGJhY2spIHtcbiAgICB0aGlzLmNhbGxiYWNrKGVycilcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKVxuICB9XG4gIHRoaXMuc3RhdGUgPSAnZXJyb3InXG59XG5cbk5hdGl2ZVF1ZXJ5LnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gIHJldHVybiB0aGlzLl9nZXRQcm9taXNlKCkudGhlbihvblN1Y2Nlc3MsIG9uRmFpbHVyZSlcbn1cblxuTmF0aXZlUXVlcnkucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHJldHVybiB0aGlzLl9nZXRQcm9taXNlKCkuY2F0Y2goY2FsbGJhY2spXG59XG5cbk5hdGl2ZVF1ZXJ5LnByb3RvdHlwZS5fZ2V0UHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX3Byb21pc2UpIHJldHVybiB0aGlzLl9wcm9taXNlXG4gIHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZShcbiAgICBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB0aGlzLl9vbmNlKCdlbmQnLCByZXNvbHZlKVxuICAgICAgdGhpcy5fb25jZSgnZXJyb3InLCByZWplY3QpXG4gICAgfS5iaW5kKHRoaXMpXG4gIClcbiAgcmV0dXJuIHRoaXMuX3Byb21pc2Vcbn1cblxuTmF0aXZlUXVlcnkucHJvdG90eXBlLnN1Ym1pdCA9IGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgdGhpcy5zdGF0ZSA9ICdydW5uaW5nJ1xuICBjb25zdCBzZWxmID0gdGhpc1xuICB0aGlzLm5hdGl2ZSA9IGNsaWVudC5uYXRpdmVcbiAgY2xpZW50Lm5hdGl2ZS5hcnJheU1vZGUgPSB0aGlzLl9hcnJheU1vZGVcblxuICBsZXQgYWZ0ZXIgPSBmdW5jdGlvbiAoZXJyLCByb3dzLCByZXN1bHRzKSB7XG4gICAgY2xpZW50Lm5hdGl2ZS5hcnJheU1vZGUgPSBmYWxzZVxuICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLmVtaXQoJ19kb25lJylcbiAgICB9KVxuXG4gICAgLy8gaGFuZGxlIHBvc3NpYmxlIHF1ZXJ5IGVycm9yXG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIHNlbGYuaGFuZGxlRXJyb3IoZXJyKVxuICAgIH1cblxuICAgIC8vIGVtaXQgcm93IGV2ZW50cyBmb3IgZWFjaCByb3cgaW4gdGhlIHJlc3VsdFxuICAgIGlmIChzZWxmLl9lbWl0Um93RXZlbnRzKSB7XG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJvd3MuZm9yRWFjaCgocm93T2ZSb3dzLCBpKSA9PiB7XG4gICAgICAgICAgcm93T2ZSb3dzLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgICAgICAgc2VsZi5lbWl0KCdyb3cnLCByb3csIHJlc3VsdHNbaV0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgc2VsZi5lbWl0KCdyb3cnLCByb3csIHJlc3VsdHMpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIHN1Y2Nlc3NmdWwgcmVzdWx0XG4gICAgc2VsZi5zdGF0ZSA9ICdlbmQnXG4gICAgc2VsZi5lbWl0KCdlbmQnLCByZXN1bHRzKVxuICAgIGlmIChzZWxmLmNhbGxiYWNrKSB7XG4gICAgICBzZWxmLmNhbGxiYWNrKG51bGwsIHJlc3VsdHMpXG4gICAgfVxuICB9XG5cbiAgaWYgKHByb2Nlc3MuZG9tYWluKSB7XG4gICAgYWZ0ZXIgPSBwcm9jZXNzLmRvbWFpbi5iaW5kKGFmdGVyKVxuICB9XG5cbiAgLy8gbmFtZWQgcXVlcnlcbiAgaWYgKHRoaXMubmFtZSkge1xuICAgIGlmICh0aGlzLm5hbWUubGVuZ3RoID4gNjMpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1dhcm5pbmchIFBvc3RncmVzIG9ubHkgc3VwcG9ydHMgNjMgY2hhcmFjdGVycyBmb3IgcXVlcnkgbmFtZXMuJylcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1lvdSBzdXBwbGllZCAlcyAoJXMpJywgdGhpcy5uYW1lLCB0aGlzLm5hbWUubGVuZ3RoKVxuICAgICAgY29uc29sZS5lcnJvcignVGhpcyBjYW4gY2F1c2UgY29uZmxpY3RzIGFuZCBzaWxlbnQgZXJyb3JzIGV4ZWN1dGluZyBxdWVyaWVzJylcbiAgICB9XG4gICAgY29uc3QgdmFsdWVzID0gKHRoaXMudmFsdWVzIHx8IFtdKS5tYXAodXRpbHMucHJlcGFyZVZhbHVlKVxuXG4gICAgLy8gY2hlY2sgaWYgdGhlIGNsaWVudCBoYXMgYWxyZWFkeSBleGVjdXRlZCB0aGlzIG5hbWVkIHF1ZXJ5XG4gICAgLy8gaWYgc28uLi5qdXN0IGV4ZWN1dGUgaXQgYWdhaW4gLSBza2lwIHRoZSBwbGFubmluZyBwaGFzZVxuICAgIGlmIChjbGllbnQubmFtZWRRdWVyaWVzW3RoaXMubmFtZV0pIHtcbiAgICAgIGlmICh0aGlzLnRleHQgJiYgY2xpZW50Lm5hbWVkUXVlcmllc1t0aGlzLm5hbWVdICE9PSB0aGlzLnRleHQpIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBQcmVwYXJlZCBzdGF0ZW1lbnRzIG11c3QgYmUgdW5pcXVlIC0gJyR7dGhpcy5uYW1lfScgd2FzIHVzZWQgZm9yIGEgZGlmZmVyZW50IHN0YXRlbWVudGApXG4gICAgICAgIHJldHVybiBhZnRlcihlcnIpXG4gICAgICB9XG4gICAgICByZXR1cm4gY2xpZW50Lm5hdGl2ZS5leGVjdXRlKHRoaXMubmFtZSwgdmFsdWVzLCBhZnRlcilcbiAgICB9XG4gICAgLy8gcGxhbiB0aGUgbmFtZWQgcXVlcnkgdGhlIGZpcnN0IHRpbWUsIHRoZW4gZXhlY3V0ZSBpdFxuICAgIHJldHVybiBjbGllbnQubmF0aXZlLnByZXBhcmUodGhpcy5uYW1lLCB0aGlzLnRleHQsIHZhbHVlcy5sZW5ndGgsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBhZnRlcihlcnIpXG4gICAgICBjbGllbnQubmFtZWRRdWVyaWVzW3NlbGYubmFtZV0gPSBzZWxmLnRleHRcbiAgICAgIHJldHVybiBzZWxmLm5hdGl2ZS5leGVjdXRlKHNlbGYubmFtZSwgdmFsdWVzLCBhZnRlcilcbiAgICB9KVxuICB9IGVsc2UgaWYgKHRoaXMudmFsdWVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWVzKSkge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdRdWVyeSB2YWx1ZXMgbXVzdCBiZSBhbiBhcnJheScpXG4gICAgICByZXR1cm4gYWZ0ZXIoZXJyKVxuICAgIH1cbiAgICBjb25zdCB2YWxzID0gdGhpcy52YWx1ZXMubWFwKHV0aWxzLnByZXBhcmVWYWx1ZSlcbiAgICBjbGllbnQubmF0aXZlLnF1ZXJ5KHRoaXMudGV4dCwgdmFscywgYWZ0ZXIpXG4gIH0gZWxzZSBpZiAodGhpcy5xdWVyeU1vZGUgPT09ICdleHRlbmRlZCcpIHtcbiAgICBjbGllbnQubmF0aXZlLnF1ZXJ5KHRoaXMudGV4dCwgW10sIGFmdGVyKVxuICB9IGVsc2Uge1xuICAgIGNsaWVudC5uYXRpdmUucXVlcnkodGhpcy50ZXh0LCBhZnRlcilcbiAgfVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbnZhciBOYXRpdmVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNhdGNoXG50cnkge1xuICAvLyBXcmFwIHRoaXMgYHJlcXVpcmUoKWAgaW4gYSB0cnktY2F0Y2ggdG8gYXZvaWQgdXBzdHJlYW0gYnVuZGxlcnMgZnJvbSBjb21wbGFpbmluZyB0aGF0IHRoaXMgbWlnaHQgbm90IGJlIGF2YWlsYWJsZSBzaW5jZSBpdCBpcyBhbiBvcHRpb25hbCBpbXBvcnRcbiAgTmF0aXZlID0gcmVxdWlyZSgncGctbmF0aXZlJylcbn0gY2F0Y2ggKGUpIHtcbiAgdGhyb3cgZVxufVxuY29uc3QgVHlwZU92ZXJyaWRlcyA9IHJlcXVpcmUoJy4uL3R5cGUtb3ZlcnJpZGVzJylcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuY29uc3QgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuY29uc3QgQ29ubmVjdGlvblBhcmFtZXRlcnMgPSByZXF1aXJlKCcuLi9jb25uZWN0aW9uLXBhcmFtZXRlcnMnKVxuXG5jb25zdCBOYXRpdmVRdWVyeSA9IHJlcXVpcmUoJy4vcXVlcnknKVxuXG5jb25zdCBDbGllbnQgPSAobW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpXG4gIGNvbmZpZyA9IGNvbmZpZyB8fCB7fVxuXG4gIHRoaXMuX1Byb21pc2UgPSBjb25maWcuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZVxuICB0aGlzLl90eXBlcyA9IG5ldyBUeXBlT3ZlcnJpZGVzKGNvbmZpZy50eXBlcylcblxuICB0aGlzLm5hdGl2ZSA9IG5ldyBOYXRpdmUoe1xuICAgIHR5cGVzOiB0aGlzLl90eXBlcyxcbiAgfSlcblxuICB0aGlzLl9xdWVyeVF1ZXVlID0gW11cbiAgdGhpcy5fZW5kaW5nID0gZmFsc2VcbiAgdGhpcy5fY29ubmVjdGluZyA9IGZhbHNlXG4gIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlXG4gIHRoaXMuX3F1ZXJ5YWJsZSA9IHRydWVcblxuICAvLyBrZWVwIHRoZXNlIG9uIHRoZSBvYmplY3QgZm9yIGxlZ2FjeSByZWFzb25zXG4gIC8vIGZvciB0aGUgdGltZSBiZWluZy4gVE9ETzogZGVwcmVjYXRlIGFsbCB0aGlzIGphenpcbiAgY29uc3QgY3AgPSAodGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycyA9IG5ldyBDb25uZWN0aW9uUGFyYW1ldGVycyhjb25maWcpKVxuICBpZiAoY29uZmlnLm5hdGl2ZUNvbm5lY3Rpb25TdHJpbmcpIGNwLm5hdGl2ZUNvbm5lY3Rpb25TdHJpbmcgPSBjb25maWcubmF0aXZlQ29ubmVjdGlvblN0cmluZ1xuICB0aGlzLnVzZXIgPSBjcC51c2VyXG5cbiAgLy8gXCJoaWRpbmdcIiB0aGUgcGFzc3dvcmQgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAvLyBvciBpZiB0aGUgY2xpZW50IGlzIGNvbnNvbGUubG9nZ2VkXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncGFzc3dvcmQnLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiBjcC5wYXNzd29yZCxcbiAgfSlcbiAgdGhpcy5kYXRhYmFzZSA9IGNwLmRhdGFiYXNlXG4gIHRoaXMuaG9zdCA9IGNwLmhvc3RcbiAgdGhpcy5wb3J0ID0gY3AucG9ydFxuXG4gIC8vIGEgaGFzaCB0byBob2xkIG5hbWVkIHF1ZXJpZXNcbiAgdGhpcy5uYW1lZFF1ZXJpZXMgPSB7fVxufSlcblxuQ2xpZW50LlF1ZXJ5ID0gTmF0aXZlUXVlcnlcblxudXRpbC5pbmhlcml0cyhDbGllbnQsIEV2ZW50RW1pdHRlcilcblxuQ2xpZW50LnByb3RvdHlwZS5fZXJyb3JBbGxRdWVyaWVzID0gZnVuY3Rpb24gKGVycikge1xuICBjb25zdCBlbnF1ZXVlRXJyb3IgPSAocXVlcnkpID0+IHtcbiAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgIHF1ZXJ5Lm5hdGl2ZSA9IHRoaXMubmF0aXZlXG4gICAgICBxdWVyeS5oYW5kbGVFcnJvcihlcnIpXG4gICAgfSlcbiAgfVxuXG4gIGlmICh0aGlzLl9oYXNBY3RpdmVRdWVyeSgpKSB7XG4gICAgZW5xdWV1ZUVycm9yKHRoaXMuX2FjdGl2ZVF1ZXJ5KVxuICAgIHRoaXMuX2FjdGl2ZVF1ZXJ5ID0gbnVsbFxuICB9XG5cbiAgdGhpcy5fcXVlcnlRdWV1ZS5mb3JFYWNoKGVucXVldWVFcnJvcilcbiAgdGhpcy5fcXVlcnlRdWV1ZS5sZW5ndGggPSAwXG59XG5cbi8vIGNvbm5lY3QgdG8gdGhlIGJhY2tlbmRcbi8vIHBhc3MgYW4gb3B0aW9uYWwgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIG9uY2UgY29ubmVjdGVkXG4vLyBvciB3aXRoIGFuIGVycm9yIGlmIHRoZXJlIHdhcyBhIGNvbm5lY3Rpb24gZXJyb3JcbkNsaWVudC5wcm90b3R5cGUuX2Nvbm5lY3QgPSBmdW5jdGlvbiAoY2IpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXNcblxuICBpZiAodGhpcy5fY29ubmVjdGluZykge1xuICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4gY2IobmV3IEVycm9yKCdDbGllbnQgaGFzIGFscmVhZHkgYmVlbiBjb25uZWN0ZWQuIFlvdSBjYW5ub3QgcmV1c2UgYSBjbGllbnQuJykpKVxuICAgIHJldHVyblxuICB9XG5cbiAgdGhpcy5fY29ubmVjdGluZyA9IHRydWVcblxuICB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLmdldExpYnBxQ29ubmVjdGlvblN0cmluZyhmdW5jdGlvbiAoZXJyLCBjb25TdHJpbmcpIHtcbiAgICBpZiAoc2VsZi5jb25uZWN0aW9uUGFyYW1ldGVycy5uYXRpdmVDb25uZWN0aW9uU3RyaW5nKSBjb25TdHJpbmcgPSBzZWxmLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLm5hdGl2ZUNvbm5lY3Rpb25TdHJpbmdcbiAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgIHNlbGYubmF0aXZlLmNvbm5lY3QoY29uU3RyaW5nLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHNlbGYubmF0aXZlLmVuZCgpXG4gICAgICAgIHJldHVybiBjYihlcnIpXG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBpbnRlcm5hbCBzdGF0ZXMgdG8gY29ubmVjdGVkXG4gICAgICBzZWxmLl9jb25uZWN0ZWQgPSB0cnVlXG5cbiAgICAgIC8vIGhhbmRsZSBjb25uZWN0aW9uIGVycm9ycyBmcm9tIHRoZSBuYXRpdmUgbGF5ZXJcbiAgICAgIHNlbGYubmF0aXZlLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgc2VsZi5fcXVlcnlhYmxlID0gZmFsc2VcbiAgICAgICAgc2VsZi5fZXJyb3JBbGxRdWVyaWVzKGVycilcbiAgICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH0pXG5cbiAgICAgIHNlbGYubmF0aXZlLm9uKCdub3RpZmljYXRpb24nLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnbm90aWZpY2F0aW9uJywge1xuICAgICAgICAgIGNoYW5uZWw6IG1zZy5yZWxuYW1lLFxuICAgICAgICAgIHBheWxvYWQ6IG1zZy5leHRyYSxcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIC8vIHNpZ25hbCB3ZSBhcmUgY29ubmVjdGVkIG5vd1xuICAgICAgc2VsZi5lbWl0KCdjb25uZWN0JylcbiAgICAgIHNlbGYuX3B1bHNlUXVlcnlRdWV1ZSh0cnVlKVxuXG4gICAgICBjYigpXG4gICAgfSlcbiAgfSlcbn1cblxuQ2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIHRoaXMuX2Nvbm5lY3QoY2FsbGJhY2spXG4gICAgcmV0dXJuXG4gIH1cblxuICByZXR1cm4gbmV3IHRoaXMuX1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRoaXMuX2Nvbm5lY3QoKGVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuLy8gc2VuZCBhIHF1ZXJ5IHRvIHRoZSBzZXJ2ZXJcbi8vIHRoaXMgbWV0aG9kIGlzIGhpZ2hseSBvdmVybG9hZGVkIHRvIHRha2Vcbi8vIDEpIHN0cmluZyBxdWVyeSwgb3B0aW9uYWwgYXJyYXkgb2YgcGFyYW1ldGVycywgb3B0aW9uYWwgZnVuY3Rpb24gY2FsbGJhY2tcbi8vIDIpIG9iamVjdCBxdWVyeSB3aXRoIHtcbi8vICAgIHN0cmluZyBxdWVyeVxuLy8gICAgb3B0aW9uYWwgYXJyYXkgdmFsdWVzLFxuLy8gICAgb3B0aW9uYWwgZnVuY3Rpb24gY2FsbGJhY2sgaW5zdGVhZCBvZiBhcyBhIHNlcGFyYXRlIHBhcmFtZXRlclxuLy8gICAgb3B0aW9uYWwgc3RyaW5nIG5hbWUgdG8gbmFtZSAmIGNhY2hlIHRoZSBxdWVyeSBwbGFuXG4vLyAgICBvcHRpb25hbCBzdHJpbmcgcm93TW9kZSA9ICdhcnJheScgZm9yIGFuIGFycmF5IG9mIHJlc3VsdHNcbi8vICB9XG5DbGllbnQucHJvdG90eXBlLnF1ZXJ5ID0gZnVuY3Rpb24gKGNvbmZpZywgdmFsdWVzLCBjYWxsYmFjaykge1xuICBsZXQgcXVlcnlcbiAgbGV0IHJlc3VsdFxuICBsZXQgcmVhZFRpbWVvdXRcbiAgbGV0IHJlYWRUaW1lb3V0VGltZXJcbiAgbGV0IHF1ZXJ5Q2FsbGJhY2tcblxuICBpZiAoY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2xpZW50IHdhcyBwYXNzZWQgYSBudWxsIG9yIHVuZGVmaW5lZCBxdWVyeScpXG4gIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5zdWJtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZWFkVGltZW91dCA9IGNvbmZpZy5xdWVyeV90aW1lb3V0IHx8IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucXVlcnlfdGltZW91dFxuICAgIHJlc3VsdCA9IHF1ZXJ5ID0gY29uZmlnXG4gICAgLy8gYWNjZXB0IHF1ZXJ5KG5ldyBRdWVyeSguLi4pLCAoZXJyLCByZXMpID0+IHsgfSkgc3R5bGVcbiAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uZmlnLmNhbGxiYWNrID0gdmFsdWVzXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlYWRUaW1lb3V0ID0gY29uZmlnLnF1ZXJ5X3RpbWVvdXQgfHwgdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5xdWVyeV90aW1lb3V0XG4gICAgcXVlcnkgPSBuZXcgTmF0aXZlUXVlcnkoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKVxuICAgIGlmICghcXVlcnkuY2FsbGJhY2spIHtcbiAgICAgIGxldCByZXNvbHZlT3V0LCByZWplY3RPdXRcbiAgICAgIHJlc3VsdCA9IG5ldyB0aGlzLl9Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVzb2x2ZU91dCA9IHJlc29sdmVcbiAgICAgICAgcmVqZWN0T3V0ID0gcmVqZWN0XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVycilcbiAgICAgICAgdGhyb3cgZXJyXG4gICAgICB9KVxuICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IChlcnIgPyByZWplY3RPdXQoZXJyKSA6IHJlc29sdmVPdXQocmVzKSlcbiAgICB9XG4gIH1cblxuICBpZiAocmVhZFRpbWVvdXQpIHtcbiAgICBxdWVyeUNhbGxiYWNrID0gcXVlcnkuY2FsbGJhY2tcblxuICAgIHJlYWRUaW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdRdWVyeSByZWFkIHRpbWVvdXQnKVxuXG4gICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgcXVlcnkuaGFuZGxlRXJyb3IoZXJyb3IsIHRoaXMuY29ubmVjdGlvbilcbiAgICAgIH0pXG5cbiAgICAgIHF1ZXJ5Q2FsbGJhY2soZXJyb3IpXG5cbiAgICAgIC8vIHdlIGFscmVhZHkgcmV0dXJuZWQgYW4gZXJyb3IsXG4gICAgICAvLyBqdXN0IGRvIG5vdGhpbmcgaWYgcXVlcnkgY29tcGxldGVzXG4gICAgICBxdWVyeS5jYWxsYmFjayA9ICgpID0+IHt9XG5cbiAgICAgIC8vIFJlbW92ZSBmcm9tIHF1ZXVlXG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3F1ZXJ5UXVldWUuaW5kZXhPZihxdWVyeSlcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMuX3F1ZXJ5UXVldWUuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9wdWxzZVF1ZXJ5UXVldWUoKVxuICAgIH0sIHJlYWRUaW1lb3V0KVxuXG4gICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChyZWFkVGltZW91dFRpbWVyKVxuICAgICAgcXVlcnlDYWxsYmFjayhlcnIsIHJlcylcbiAgICB9XG4gIH1cblxuICBpZiAoIXRoaXMuX3F1ZXJ5YWJsZSkge1xuICAgIHF1ZXJ5Lm5hdGl2ZSA9IHRoaXMubmF0aXZlXG4gICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICBxdWVyeS5oYW5kbGVFcnJvcihuZXcgRXJyb3IoJ0NsaWVudCBoYXMgZW5jb3VudGVyZWQgYSBjb25uZWN0aW9uIGVycm9yIGFuZCBpcyBub3QgcXVlcnlhYmxlJykpXG4gICAgfSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBpZiAodGhpcy5fZW5kaW5nKSB7XG4gICAgcXVlcnkubmF0aXZlID0gdGhpcy5uYXRpdmVcbiAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgIHF1ZXJ5LmhhbmRsZUVycm9yKG5ldyBFcnJvcignQ2xpZW50IHdhcyBjbG9zZWQgYW5kIGlzIG5vdCBxdWVyeWFibGUnKSlcbiAgICB9KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHRoaXMuX3F1ZXJ5UXVldWUucHVzaChxdWVyeSlcbiAgdGhpcy5fcHVsc2VRdWVyeVF1ZXVlKClcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyBkaXNjb25uZWN0IGZyb20gdGhlIGJhY2tlbmQgc2VydmVyXG5DbGllbnQucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjYikge1xuICBjb25zdCBzZWxmID0gdGhpc1xuXG4gIHRoaXMuX2VuZGluZyA9IHRydWVcblxuICBpZiAoIXRoaXMuX2Nvbm5lY3RlZCkge1xuICAgIHRoaXMub25jZSgnY29ubmVjdCcsIHRoaXMuZW5kLmJpbmQodGhpcywgY2IpKVxuICB9XG4gIGxldCByZXN1bHRcbiAgaWYgKCFjYikge1xuICAgIHJlc3VsdCA9IG5ldyB0aGlzLl9Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGNiID0gKGVycikgPT4gKGVyciA/IHJlamVjdChlcnIpIDogcmVzb2x2ZSgpKVxuICAgIH0pXG4gIH1cbiAgdGhpcy5uYXRpdmUuZW5kKGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLl9lcnJvckFsbFF1ZXJpZXMobmV3IEVycm9yKCdDb25uZWN0aW9uIHRlcm1pbmF0ZWQnKSlcblxuICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgc2VsZi5lbWl0KCdlbmQnKVxuICAgICAgaWYgKGNiKSBjYigpXG4gICAgfSlcbiAgfSlcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5DbGllbnQucHJvdG90eXBlLl9oYXNBY3RpdmVRdWVyeSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX2FjdGl2ZVF1ZXJ5ICYmIHRoaXMuX2FjdGl2ZVF1ZXJ5LnN0YXRlICE9PSAnZXJyb3InICYmIHRoaXMuX2FjdGl2ZVF1ZXJ5LnN0YXRlICE9PSAnZW5kJ1xufVxuXG5DbGllbnQucHJvdG90eXBlLl9wdWxzZVF1ZXJ5UXVldWUgPSBmdW5jdGlvbiAoaW5pdGlhbENvbm5lY3Rpb24pIHtcbiAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodGhpcy5faGFzQWN0aXZlUXVlcnkoKSkge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IHF1ZXJ5ID0gdGhpcy5fcXVlcnlRdWV1ZS5zaGlmdCgpXG4gIGlmICghcXVlcnkpIHtcbiAgICBpZiAoIWluaXRpYWxDb25uZWN0aW9uKSB7XG4gICAgICB0aGlzLmVtaXQoJ2RyYWluJylcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgdGhpcy5fYWN0aXZlUXVlcnkgPSBxdWVyeVxuICBxdWVyeS5zdWJtaXQodGhpcylcbiAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgcXVlcnkub25jZSgnX2RvbmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5fcHVsc2VRdWVyeVF1ZXVlKClcbiAgfSlcbn1cblxuLy8gYXR0ZW1wdCB0byBjYW5jZWwgYW4gaW4tcHJvZ3Jlc3MgcXVlcnlcbkNsaWVudC5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gIGlmICh0aGlzLl9hY3RpdmVRdWVyeSA9PT0gcXVlcnkpIHtcbiAgICB0aGlzLm5hdGl2ZS5jYW5jZWwoZnVuY3Rpb24gKCkge30pXG4gIH0gZWxzZSBpZiAodGhpcy5fcXVlcnlRdWV1ZS5pbmRleE9mKHF1ZXJ5KSAhPT0gLTEpIHtcbiAgICB0aGlzLl9xdWVyeVF1ZXVlLnNwbGljZSh0aGlzLl9xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpLCAxKVxuICB9XG59XG5cbkNsaWVudC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24gKCkge31cbkNsaWVudC5wcm90b3R5cGUudW5yZWYgPSBmdW5jdGlvbiAoKSB7fVxuXG5DbGllbnQucHJvdG90eXBlLnNldFR5cGVQYXJzZXIgPSBmdW5jdGlvbiAob2lkLCBmb3JtYXQsIHBhcnNlRm4pIHtcbiAgcmV0dXJuIHRoaXMuX3R5cGVzLnNldFR5cGVQYXJzZXIob2lkLCBmb3JtYXQsIHBhcnNlRm4pXG59XG5cbkNsaWVudC5wcm90b3R5cGUuZ2V0VHlwZVBhcnNlciA9IGZ1bmN0aW9uIChvaWQsIGZvcm1hdCkge1xuICByZXR1cm4gdGhpcy5fdHlwZXMuZ2V0VHlwZVBhcnNlcihvaWQsIGZvcm1hdClcbn1cbiIsICIndXNlIHN0cmljdCdcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jbGllbnQnKVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBDbGllbnQgPSByZXF1aXJlKCcuL2NsaWVudCcpXG5jb25zdCBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKVxuY29uc3QgQ29ubmVjdGlvbiA9IHJlcXVpcmUoJy4vY29ubmVjdGlvbicpXG5jb25zdCBSZXN1bHQgPSByZXF1aXJlKCcuL3Jlc3VsdCcpXG5jb25zdCB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKVxuY29uc3QgUG9vbCA9IHJlcXVpcmUoJ3BnLXBvb2wnKVxuY29uc3QgVHlwZU92ZXJyaWRlcyA9IHJlcXVpcmUoJy4vdHlwZS1vdmVycmlkZXMnKVxuY29uc3QgeyBEYXRhYmFzZUVycm9yIH0gPSByZXF1aXJlKCdwZy1wcm90b2NvbCcpXG5jb25zdCB7IGVzY2FwZUlkZW50aWZpZXIsIGVzY2FwZUxpdGVyYWwgfSA9IHJlcXVpcmUoJy4vdXRpbHMnKVxuXG5jb25zdCBwb29sRmFjdG9yeSA9IChDbGllbnQpID0+IHtcbiAgcmV0dXJuIGNsYXNzIEJvdW5kUG9vbCBleHRlbmRzIFBvb2wge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKG9wdGlvbnMsIENsaWVudClcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgUEcgPSBmdW5jdGlvbiAoY2xpZW50Q29uc3RydWN0b3IpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGRlZmF1bHRzXG4gIHRoaXMuQ2xpZW50ID0gY2xpZW50Q29uc3RydWN0b3JcbiAgdGhpcy5RdWVyeSA9IHRoaXMuQ2xpZW50LlF1ZXJ5XG4gIHRoaXMuUG9vbCA9IHBvb2xGYWN0b3J5KHRoaXMuQ2xpZW50KVxuICB0aGlzLl9wb29scyA9IFtdXG4gIHRoaXMuQ29ubmVjdGlvbiA9IENvbm5lY3Rpb25cbiAgdGhpcy50eXBlcyA9IHJlcXVpcmUoJ3BnLXR5cGVzJylcbiAgdGhpcy5EYXRhYmFzZUVycm9yID0gRGF0YWJhc2VFcnJvclxuICB0aGlzLlR5cGVPdmVycmlkZXMgPSBUeXBlT3ZlcnJpZGVzXG4gIHRoaXMuZXNjYXBlSWRlbnRpZmllciA9IGVzY2FwZUlkZW50aWZpZXJcbiAgdGhpcy5lc2NhcGVMaXRlcmFsID0gZXNjYXBlTGl0ZXJhbFxuICB0aGlzLlJlc3VsdCA9IFJlc3VsdFxuICB0aGlzLnV0aWxzID0gdXRpbHNcbn1cblxuaWYgKHR5cGVvZiBwcm9jZXNzLmVudi5OT0RFX1BHX0ZPUkNFX05BVElWRSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBuZXcgUEcocmVxdWlyZSgnLi9uYXRpdmUnKSlcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gbmV3IFBHKENsaWVudClcblxuICAvLyBsYXp5IHJlcXVpcmUgbmF0aXZlIG1vZHVsZS4uLnRoZSBuYXRpdmUgbW9kdWxlIG1heSBub3QgaGF2ZSBpbnN0YWxsZWRcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnbmF0aXZlJywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBnZXQoKSB7XG4gICAgICBsZXQgbmF0aXZlID0gbnVsbFxuICAgICAgdHJ5IHtcbiAgICAgICAgbmF0aXZlID0gbmV3IFBHKHJlcXVpcmUoJy4vbmF0aXZlJykpXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyci5jb2RlICE9PSAnTU9EVUxFX05PVF9GT1VORCcpIHtcbiAgICAgICAgICB0aHJvdyBlcnJcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBvdmVyd3JpdGUgbW9kdWxlLmV4cG9ydHMubmF0aXZlIHNvIHRoYXQgZ2V0dGVyIGlzIG5ldmVyIGNhbGxlZCBhZ2FpblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnbmF0aXZlJywge1xuICAgICAgICB2YWx1ZTogbmF0aXZlLFxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIG5hdGl2ZVxuICAgIH0sXG4gIH0pXG59XG4iLCAiaW1wb3J0IHsgc3RyZWFtVGV4dCwgdG9vbCB9IGZyb20gXCJhaVwiO1xuaW1wb3J0ICogYXMgYmxpbmsgZnJvbSBcImJsaW5rXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHsgY29udmVydFRvTW9kZWxNZXNzYWdlcyB9IGZyb20gXCJhaVwiO1xuaW1wb3J0IHsgZ2V0U2NoZW1hLCBydW5RdWVyeSB9IGZyb20gXCIuL2RiLmpzXCI7XG5pbXBvcnQgeyBidWlsZFN5c3RlbVByb21wdCB9IGZyb20gXCIuL3Byb21wdC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBibGluay5hZ2VudCh7XG4gIGRpc3BsYXlOYW1lOiBcImdoLXByb2plY3QtYWdlbnRcIixcblxuICBhc3luYyBzZW5kTWVzc2FnZXMoeyBtZXNzYWdlcyB9KSB7XG4gICAgcmV0dXJuIHN0cmVhbVRleHQoe1xuICAgICAgLy9tb2RlbDogXCJvcGVuYWkvZ3B0LW9zcy0xMjBiXCIsXG4gICAgICBtb2RlbDogXCJhbnRocm9waWMvY2xhdWRlLXNvbm5ldC00XCIsXG4gICAgICBzeXN0ZW06IGJ1aWxkU3lzdGVtUHJvbXB0KCksXG4gICAgICBtZXNzYWdlczogY29udmVydFRvTW9kZWxNZXNzYWdlcyhtZXNzYWdlcyksXG4gICAgICB0b29sczoge1xuICAgICAgICBkYl9zY2hlbWE6IHRvb2woe1xuICAgICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICAgXCJSZXR1cm4gdGhlIHNjaGVtYSBhbmQgdXNhZ2Ugbm90ZXMgZm9yIHRoZSBOZW9uIGRhdGFiYXNlIGJhY2tpbmcgR2l0SHViIFByb2plY3QgaW5zaWdodHMuIEluY2x1ZGVzIHRhYmxlcywgY29sdW1ucywgaW5kZXhlcywgYW5kIGEgY29uY2lzZSBndWlkZSBmb3IgY29tbW9uIHF1ZXJpZXMgdXNpbmcgcHJvamVjdF9uYW1lLlwiLFxuICAgICAgICAgIGlucHV0U2NoZW1hOiB6Lm9iamVjdCh7fSksXG4gICAgICAgICAgZXhlY3V0ZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gYXdhaXQgZ2V0U2NoZW1hKCk7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgICBkYl9xdWVyeTogdG9vbCh7XG4gICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICBcIkV4ZWN1dGUgYSByZWFkLW9ubHkgU1FMIFNFTEVDVCBhZ2FpbnN0IHRoZSBOZW9uIGRhdGFiYXNlLiBVc2UgcHJvamVjdF9uYW1lIGZvciBzY29waW5nOyBkZWZhdWx0IGxvb2tiYWNrIGlzIHRoZSBsYXN0IDcgZGF5cyBmb3IgJ3doYXQncyBuZXcnIHF1ZXJpZXMuIFJldHVybnMgcm93cyB3aXRoIGVuZm9yY2VkIExJTUlUL09GRlNFVCAobWF4IDIwMDApLlwiLFxuICAgICAgICAgIGlucHV0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzcWw6IHpcbiAgICAgICAgICAgICAgLnN0cmluZygpXG4gICAgICAgICAgICAgIC5kZXNjcmliZShcIkEgc2luZ2xlIFNFTEVDVCAob3IgV0lUSCAuLi4gU0VMRUNUKSBzdGF0ZW1lbnQuXCIpLFxuICAgICAgICAgICAgcGFyYW1zOiB6LmFycmF5KHouYW55KCkpLm9wdGlvbmFsKCkuZGVmYXVsdChbXSksXG4gICAgICAgICAgICBsaW1pdDogei5udW1iZXIoKS5pbnQoKS5taW4oMSkubWF4KDIwMDApLm9wdGlvbmFsKCkuZGVmYXVsdCgyMDApLFxuICAgICAgICAgICAgb2Zmc2V0OiB6Lm51bWJlcigpLmludCgpLm1pbigwKS5vcHRpb25hbCgpLmRlZmF1bHQoMCksXG4gICAgICAgICAgICB0aW1lb3V0TXM6IHpcbiAgICAgICAgICAgICAgLm51bWJlcigpXG4gICAgICAgICAgICAgIC5pbnQoKVxuICAgICAgICAgICAgICAubWluKDEwMDApXG4gICAgICAgICAgICAgIC5tYXgoNjAwMDApXG4gICAgICAgICAgICAgIC5vcHRpb25hbCgpXG4gICAgICAgICAgICAgIC5kZWZhdWx0KDE1MDAwKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBleGVjdXRlOiBhc3luYyAoeyBzcWwsIHBhcmFtcywgbGltaXQsIG9mZnNldCwgdGltZW91dE1zIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJ1blF1ZXJ5KHtcbiAgICAgICAgICAgICAgc3FsLFxuICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAgIHRpbWVvdXRNcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0sXG59KTtcbiIsICIvKipcbiAqIFN5bWJvbCB1c2VkIGZvciBpZGVudGlmeWluZyBBSSBTREsgRXJyb3IgaW5zdGFuY2VzLlxuICogRW5hYmxlcyBjaGVja2luZyBpZiBhbiBlcnJvciBpcyBhbiBpbnN0YW5jZSBvZiBBSVNES0Vycm9yIGFjcm9zcyBwYWNrYWdlIHZlcnNpb25zLlxuICovXG5jb25zdCBtYXJrZXIgPSAndmVyY2VsLmFpLmVycm9yJztcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBDdXN0b20gZXJyb3IgY2xhc3MgZm9yIEFJIFNESyByZWxhdGVkIGVycm9ycy5cbiAqIEBleHRlbmRzIEVycm9yXG4gKi9cbmV4cG9ydCBjbGFzcyBBSVNES0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgLyoqXG4gICAqIFRoZSB1bmRlcmx5aW5nIGNhdXNlIG9mIHRoZSBlcnJvciwgaWYgYW55LlxuICAgKi9cbiAgcmVhZG9ubHkgY2F1c2U/OiB1bmtub3duO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIEFJIFNESyBFcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBjcmVhdGluZyB0aGUgZXJyb3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5tZXNzYWdlIC0gVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gW3BhcmFtcy5jYXVzZV0gLSBUaGUgdW5kZXJseWluZyBjYXVzZSBvZiB0aGUgZXJyb3IuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbmFtZSxcbiAgICBtZXNzYWdlLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0pIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gZXJyb3IgaXMgYW4gQUkgU0RLIEVycm9yLlxuICAgKiBAcGFyYW0ge3Vua25vd259IGVycm9yIC0gVGhlIGVycm9yIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXJyb3IgaXMgYW4gQUkgU0RLIEVycm9yLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEFJU0RLRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBzdGF0aWMgaGFzTWFya2VyKGVycm9yOiB1bmtub3duLCBtYXJrZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG1hcmtlclN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcbiAgICByZXR1cm4gKFxuICAgICAgZXJyb3IgIT0gbnVsbCAmJlxuICAgICAgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJlxuICAgICAgbWFya2VyU3ltYm9sIGluIGVycm9yICYmXG4gICAgICB0eXBlb2YgZXJyb3JbbWFya2VyU3ltYm9sXSA9PT0gJ2Jvb2xlYW4nICYmXG4gICAgICBlcnJvclttYXJrZXJTeW1ib2xdID09PSB0cnVlXG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfQVBJQ2FsbEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBBUElDYWxsRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHVybDogc3RyaW5nO1xuICByZWFkb25seSByZXF1ZXN0Qm9keVZhbHVlczogdW5rbm93bjtcbiAgcmVhZG9ubHkgc3RhdHVzQ29kZT86IG51bWJlcjtcblxuICByZWFkb25seSByZXNwb25zZUhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICByZWFkb25seSByZXNwb25zZUJvZHk/OiBzdHJpbmc7XG5cbiAgcmVhZG9ubHkgaXNSZXRyeWFibGU6IGJvb2xlYW47XG4gIHJlYWRvbmx5IGRhdGE/OiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlLFxuICAgIHVybCxcbiAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICBzdGF0dXNDb2RlLFxuICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICByZXNwb25zZUJvZHksXG4gICAgY2F1c2UsXG4gICAgaXNSZXRyeWFibGUgPSBzdGF0dXNDb2RlICE9IG51bGwgJiZcbiAgICAgIChzdGF0dXNDb2RlID09PSA0MDggfHwgLy8gcmVxdWVzdCB0aW1lb3V0XG4gICAgICAgIHN0YXR1c0NvZGUgPT09IDQwOSB8fCAvLyBjb25mbGljdFxuICAgICAgICBzdGF0dXNDb2RlID09PSA0MjkgfHwgLy8gdG9vIG1hbnkgcmVxdWVzdHNcbiAgICAgICAgc3RhdHVzQ29kZSA+PSA1MDApLCAvLyBzZXJ2ZXIgZXJyb3JcbiAgICBkYXRhLFxuICB9OiB7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIHVybDogc3RyaW5nO1xuICAgIHJlcXVlc3RCb2R5VmFsdWVzOiB1bmtub3duO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgcmVzcG9uc2VIZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICByZXNwb25zZUJvZHk/OiBzdHJpbmc7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICAgIGlzUmV0cnlhYmxlPzogYm9vbGVhbjtcbiAgICBkYXRhPzogdW5rbm93bjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG5cbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLnJlcXVlc3RCb2R5VmFsdWVzID0gcmVxdWVzdEJvZHlWYWx1ZXM7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLnJlc3BvbnNlSGVhZGVycyA9IHJlc3BvbnNlSGVhZGVycztcbiAgICB0aGlzLnJlc3BvbnNlQm9keSA9IHJlc3BvbnNlQm9keTtcbiAgICB0aGlzLmlzUmV0cnlhYmxlID0gaXNSZXRyeWFibGU7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgQVBJQ2FsbEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX0VtcHR5UmVzcG9uc2VCb2R5RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIEVtcHR5UmVzcG9uc2VCb2R5RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSA9ICdFbXB0eSByZXNwb25zZSBib2R5JyB9OiB7IG1lc3NhZ2U/OiBzdHJpbmcgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBFbXB0eVJlc3BvbnNlQm9keUVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yOiB1bmtub3duIHwgdW5kZWZpbmVkKSB7XG4gIGlmIChlcnJvciA9PSBudWxsKSB7XG4gICAgcmV0dXJuICd1bmtub3duIGVycm9yJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9JbnZhbGlkQXJndW1lbnRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gYXJndW1lbnQgaXMgaW52YWxpZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRBcmd1bWVudEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBhcmd1bWVudDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlLFxuICAgIGNhdXNlLFxuICAgIGFyZ3VtZW50LFxuICB9OiB7XG4gICAgYXJndW1lbnQ6IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlLCBjYXVzZSB9KTtcblxuICAgIHRoaXMuYXJndW1lbnQgPSBhcmd1bWVudDtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSW52YWxpZEFyZ3VtZW50RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSW52YWxpZFByb21wdEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogQSBwcm9tcHQgaXMgaW52YWxpZC4gVGhpcyBlcnJvciBzaG91bGQgYmUgdGhyb3duIGJ5IHByb3ZpZGVycyB3aGVuIHRoZXkgY2Fubm90XG4gKiBwcm9jZXNzIGEgcHJvbXB0LlxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZFByb21wdEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBwcm9tcHQ6IHVua25vd247XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHByb21wdCxcbiAgICBtZXNzYWdlLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgcHJvbXB0OiB1bmtub3duO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2U6IGBJbnZhbGlkIHByb21wdDogJHttZXNzYWdlfWAsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy5wcm9tcHQgPSBwcm9tcHQ7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEludmFsaWRQcm9tcHRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9JbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBTZXJ2ZXIgcmV0dXJuZWQgYSByZXNwb25zZSB3aXRoIGludmFsaWQgZGF0YSBjb250ZW50LlxuICogVGhpcyBzaG91bGQgYmUgdGhyb3duIGJ5IHByb3ZpZGVycyB3aGVuIHRoZXkgY2Fubm90IHBhcnNlIHRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IGRhdGE6IHVua25vd247XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGRhdGEsXG4gICAgbWVzc2FnZSA9IGBJbnZhbGlkIHJlc3BvbnNlIGRhdGE6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9LmAsXG4gIH06IHtcbiAgICBkYXRhOiB1bmtub3duO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG5cbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5pbXBvcnQgeyBnZXRFcnJvck1lc3NhZ2UgfSBmcm9tICcuL2dldC1lcnJvci1tZXNzYWdlJztcblxuY29uc3QgbmFtZSA9ICdBSV9KU09OUGFyc2VFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vLyBUT0RPIHY1OiByZW5hbWUgdG8gUGFyc2VFcnJvclxuZXhwb3J0IGNsYXNzIEpTT05QYXJzZUVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSB0ZXh0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoeyB0ZXh0LCBjYXVzZSB9OiB7IHRleHQ6IHN0cmluZzsgY2F1c2U6IHVua25vd24gfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWUsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICBgSlNPTiBwYXJzaW5nIGZhaWxlZDogYCArXG4gICAgICAgIGBUZXh0OiAke3RleHR9LlxcbmAgK1xuICAgICAgICBgRXJyb3IgbWVzc2FnZTogJHtnZXRFcnJvck1lc3NhZ2UoY2F1c2UpfWAsXG4gICAgICBjYXVzZSxcbiAgICB9KTtcblxuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEpTT05QYXJzZUVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX0xvYWRBUElLZXlFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgTG9hZEFQSUtleUVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgfTogeyBtZXNzYWdlOiBzdHJpbmcgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTG9hZEFQSUtleUVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX0xvYWRTZXR0aW5nRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIExvYWRTZXR0aW5nRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9OiB7IG1lc3NhZ2U6IHN0cmluZyB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBMb2FkU2V0dGluZ0Vycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX05vQ29udGVudEdlbmVyYXRlZEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuVGhyb3duIHdoZW4gdGhlIEFJIHByb3ZpZGVyIGZhaWxzIHRvIGdlbmVyYXRlIGFueSBjb250ZW50LlxuICovXG5leHBvcnQgY2xhc3MgTm9Db250ZW50R2VuZXJhdGVkRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ05vIGNvbnRlbnQgZ2VuZXJhdGVkLicsXG4gIH06IHsgbWVzc2FnZT86IHN0cmluZyB9ID0ge30pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE5vQ29udGVudEdlbmVyYXRlZEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX05vU3VjaE1vZGVsRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIE5vU3VjaE1vZGVsRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IG1vZGVsSWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgbW9kZWxUeXBlOlxuICAgIHwgJ2xhbmd1YWdlTW9kZWwnXG4gICAgfCAndGV4dEVtYmVkZGluZ01vZGVsJ1xuICAgIHwgJ2ltYWdlTW9kZWwnXG4gICAgfCAndHJhbnNjcmlwdGlvbk1vZGVsJ1xuICAgIHwgJ3NwZWVjaE1vZGVsJztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgZXJyb3JOYW1lID0gbmFtZSxcbiAgICBtb2RlbElkLFxuICAgIG1vZGVsVHlwZSxcbiAgICBtZXNzYWdlID0gYE5vIHN1Y2ggJHttb2RlbFR5cGV9OiAke21vZGVsSWR9YCxcbiAgfToge1xuICAgIGVycm9yTmFtZT86IHN0cmluZztcbiAgICBtb2RlbElkOiBzdHJpbmc7XG4gICAgbW9kZWxUeXBlOlxuICAgICAgfCAnbGFuZ3VhZ2VNb2RlbCdcbiAgICAgIHwgJ3RleHRFbWJlZGRpbmdNb2RlbCdcbiAgICAgIHwgJ2ltYWdlTW9kZWwnXG4gICAgICB8ICd0cmFuc2NyaXB0aW9uTW9kZWwnXG4gICAgICB8ICdzcGVlY2hNb2RlbCc7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogZXJyb3JOYW1lLCBtZXNzYWdlIH0pO1xuXG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLm1vZGVsVHlwZSA9IG1vZGVsVHlwZTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTm9TdWNoTW9kZWxFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ub29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBwcm92aWRlcjogc3RyaW5nO1xuICByZWFkb25seSBtb2RlbElkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IG1heEVtYmVkZGluZ3NQZXJDYWxsOiBudW1iZXI7XG4gIHJlYWRvbmx5IHZhbHVlczogQXJyYXk8dW5rbm93bj47XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIHByb3ZpZGVyOiBzdHJpbmc7XG4gICAgbW9kZWxJZDogc3RyaW5nO1xuICAgIG1heEVtYmVkZGluZ3NQZXJDYWxsOiBudW1iZXI7XG4gICAgdmFsdWVzOiBBcnJheTx1bmtub3duPjtcbiAgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWUsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICBgVG9vIG1hbnkgdmFsdWVzIGZvciBhIHNpbmdsZSBlbWJlZGRpbmcgY2FsbC4gYCArXG4gICAgICAgIGBUaGUgJHtvcHRpb25zLnByb3ZpZGVyfSBtb2RlbCBcIiR7b3B0aW9ucy5tb2RlbElkfVwiIGNhbiBvbmx5IGVtYmVkIHVwIHRvIGAgK1xuICAgICAgICBgJHtvcHRpb25zLm1heEVtYmVkZGluZ3NQZXJDYWxsfSB2YWx1ZXMgcGVyIGNhbGwsIGJ1dCAke29wdGlvbnMudmFsdWVzLmxlbmd0aH0gdmFsdWVzIHdlcmUgcHJvdmlkZWQuYCxcbiAgICB9KTtcblxuICAgIHRoaXMucHJvdmlkZXIgPSBvcHRpb25zLnByb3ZpZGVyO1xuICAgIHRoaXMubW9kZWxJZCA9IG9wdGlvbnMubW9kZWxJZDtcbiAgICB0aGlzLm1heEVtYmVkZGluZ3NQZXJDYWxsID0gb3B0aW9ucy5tYXhFbWJlZGRpbmdzUGVyQ2FsbDtcbiAgICB0aGlzLnZhbHVlcyA9IG9wdGlvbnMudmFsdWVzO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoXG4gICAgZXJyb3I6IHVua25vd24sXG4gICk6IGVycm9yIGlzIFRvb01hbnlFbWJlZGRpbmdWYWx1ZXNGb3JDYWxsRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5pbXBvcnQgeyBnZXRFcnJvck1lc3NhZ2UgfSBmcm9tICcuL2dldC1lcnJvci1tZXNzYWdlJztcblxuY29uc3QgbmFtZSA9ICdBSV9UeXBlVmFsaWRhdGlvbkVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBUeXBlVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSB2YWx1ZTogdW5rbm93bjtcblxuICBjb25zdHJ1Y3Rvcih7IHZhbHVlLCBjYXVzZSB9OiB7IHZhbHVlOiB1bmtub3duOyBjYXVzZTogdW5rbm93biB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIGBUeXBlIHZhbGlkYXRpb24gZmFpbGVkOiBgICtcbiAgICAgICAgYFZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0uXFxuYCArXG4gICAgICAgIGBFcnJvciBtZXNzYWdlOiAke2dldEVycm9yTWVzc2FnZShjYXVzZSl9YCxcbiAgICAgIGNhdXNlLFxuICAgIH0pO1xuXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBUeXBlVmFsaWRhdGlvbkVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cblxuICAvKipcbiAgICogV3JhcHMgYW4gZXJyb3IgaW50byBhIFR5cGVWYWxpZGF0aW9uRXJyb3IuXG4gICAqIElmIHRoZSBjYXVzZSBpcyBhbHJlYWR5IGEgVHlwZVZhbGlkYXRpb25FcnJvciB3aXRoIHRoZSBzYW1lIHZhbHVlLCBpdCByZXR1cm5zIHRoZSBjYXVzZS5cbiAgICogT3RoZXJ3aXNlLCBpdCBjcmVhdGVzIGEgbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3Igd3JhcHBpbmcgdGhlIGVycm9yLlxuICAgKiBAcGFyYW0ge3Vua25vd259IHBhcmFtcy52YWx1ZSAtIFRoZSB2YWx1ZSB0aGF0IGZhaWxlZCB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0ge3Vua25vd259IHBhcmFtcy5jYXVzZSAtIFRoZSBvcmlnaW5hbCBlcnJvciBvciBjYXVzZSBvZiB0aGUgdmFsaWRhdGlvbiBmYWlsdXJlLlxuICAgKiBAcmV0dXJucyB7VHlwZVZhbGlkYXRpb25FcnJvcn0gQSBUeXBlVmFsaWRhdGlvbkVycm9yIGluc3RhbmNlLlxuICAgKi9cbiAgc3RhdGljIHdyYXAoe1xuICAgIHZhbHVlLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgdmFsdWU6IHVua25vd247XG4gICAgY2F1c2U6IHVua25vd247XG4gIH0pOiBUeXBlVmFsaWRhdGlvbkVycm9yIHtcbiAgICByZXR1cm4gVHlwZVZhbGlkYXRpb25FcnJvci5pc0luc3RhbmNlKGNhdXNlKSAmJiBjYXVzZS52YWx1ZSA9PT0gdmFsdWVcbiAgICAgID8gY2F1c2VcbiAgICAgIDogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3IoeyB2YWx1ZSwgY2F1c2UgfSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX1Vuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgZnVuY3Rpb25hbGl0eTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBmdW5jdGlvbmFsaXR5LFxuICAgIG1lc3NhZ2UgPSBgJyR7ZnVuY3Rpb25hbGl0eX0nIGZ1bmN0aW9uYWxpdHkgbm90IHN1cHBvcnRlZC5gLFxuICB9OiB7XG4gICAgZnVuY3Rpb25hbGl0eTogc3RyaW5nO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG4gICAgdGhpcy5mdW5jdGlvbmFsaXR5ID0gZnVuY3Rpb25hbGl0eTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEpTT05BcnJheSwgSlNPTk9iamVjdCwgSlNPTlZhbHVlIH0gZnJvbSAnLi9qc29uLXZhbHVlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzSlNPTlZhbHVlKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSlNPTlZhbHVlIHtcbiAgaWYgKFxuICAgIHZhbHVlID09PSBudWxsIHx8XG4gICAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJ1xuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS5ldmVyeShpc0pTT05WYWx1ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh2YWx1ZSkuZXZlcnkoXG4gICAgICAoW2tleSwgdmFsXSkgPT4gdHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYgaXNKU09OVmFsdWUodmFsKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNKU09OQXJyYXkodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBKU09OQXJyYXkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkoaXNKU09OVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNKU09OT2JqZWN0KHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSlNPTk9iamVjdCB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgIT0gbnVsbCAmJlxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICBPYmplY3QuZW50cmllcyh2YWx1ZSkuZXZlcnkoXG4gICAgICAoW2tleSwgdmFsXSkgPT4gdHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYgaXNKU09OVmFsdWUodmFsKSxcbiAgICApXG4gICk7XG59XG4iLCAiLyoqXG4gKiBUaGUgdHlwZSBvZiBlcnJvciB0aGF0IG9jY3VycmVkLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBFcnJvclR5cGUgPSAnaW52YWxpZC1yZXRyeScgfCAndW5rbm93bi1maWVsZCdcblxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiBlbmNvdW50ZXJpbmcgYW4gaXNzdWUgZHVyaW5nIHBhcnNpbmcuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUGFyc2VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGVycm9yIHRoYXQgb2NjdXJyZWQuXG4gICAqL1xuICB0eXBlOiBFcnJvclR5cGVcblxuICAvKipcbiAgICogSW4gdGhlIGNhc2Ugb2YgYW4gdW5rbm93biBmaWVsZCBlbmNvdW50ZXJlZCBpbiB0aGUgc3RyZWFtLCB0aGlzIHdpbGwgYmUgdGhlIGZpZWxkIG5hbWUuXG4gICAqL1xuICBmaWVsZD86IHN0cmluZyB8IHVuZGVmaW5lZFxuXG4gIC8qKlxuICAgKiBJbiB0aGUgY2FzZSBvZiBhbiB1bmtub3duIGZpZWxkIGVuY291bnRlcmVkIGluIHRoZSBzdHJlYW0sIHRoaXMgd2lsbCBiZSB0aGUgdmFsdWUgb2YgdGhlIGZpZWxkLlxuICAgKi9cbiAgdmFsdWU/OiBzdHJpbmcgfCB1bmRlZmluZWRcblxuICAvKipcbiAgICogVGhlIGxpbmUgdGhhdCBjYXVzZWQgdGhlIGVycm9yLCBpZiBhdmFpbGFibGUuXG4gICAqL1xuICBsaW5lPzogc3RyaW5nIHwgdW5kZWZpbmVkXG5cbiAgY29uc3RydWN0b3IoXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIG9wdGlvbnM6IHt0eXBlOiBFcnJvclR5cGU7IGZpZWxkPzogc3RyaW5nOyB2YWx1ZT86IHN0cmluZzsgbGluZT86IHN0cmluZ30sXG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpXG4gICAgdGhpcy5uYW1lID0gJ1BhcnNlRXJyb3InXG4gICAgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlXG4gICAgdGhpcy5maWVsZCA9IG9wdGlvbnMuZmllbGRcbiAgICB0aGlzLnZhbHVlID0gb3B0aW9ucy52YWx1ZVxuICAgIHRoaXMubGluZSA9IG9wdGlvbnMubGluZVxuICB9XG59XG4iLCAiLyoqXG4gKiBFdmVudFNvdXJjZS9TZXJ2ZXItU2VudCBFdmVudHMgcGFyc2VyXG4gKiBAc2VlIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NlcnZlci1zZW50LWV2ZW50cy5odG1sXG4gKi9cbmltcG9ydCB7UGFyc2VFcnJvcn0gZnJvbSAnLi9lcnJvcnMudHMnXG5pbXBvcnQgdHlwZSB7RXZlbnRTb3VyY2VQYXJzZXIsIFBhcnNlckNhbGxiYWNrc30gZnJvbSAnLi90eXBlcy50cydcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuZnVuY3Rpb24gbm9vcChfYXJnOiB1bmtub3duKSB7XG4gIC8vIGludGVudGlvbmFsIG5vb3Bcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IEV2ZW50U291cmNlIHBhcnNlci5cbiAqXG4gKiBAcGFyYW0gY2FsbGJhY2tzIC0gQ2FsbGJhY2tzIHRvIGludm9rZSBvbiBkaWZmZXJlbnQgcGFyc2luZyBldmVudHM6XG4gKiAgIC0gYG9uRXZlbnRgIHdoZW4gYSBuZXcgZXZlbnQgaXMgcGFyc2VkXG4gKiAgIC0gYG9uRXJyb3JgIHdoZW4gYW4gZXJyb3Igb2NjdXJzXG4gKiAgIC0gYG9uUmV0cnlgIHdoZW4gYSBuZXcgcmVjb25uZWN0aW9uIGludGVydmFsIGhhcyBiZWVuIHNlbnQgZnJvbSB0aGUgc2VydmVyXG4gKiAgIC0gYG9uQ29tbWVudGAgd2hlbiBhIGNvbW1lbnQgaXMgZW5jb3VudGVyZWQgaW4gdGhlIHN0cmVhbVxuICpcbiAqIEByZXR1cm5zIEEgbmV3IEV2ZW50U291cmNlIHBhcnNlciwgd2l0aCBgcGFyc2VgIGFuZCBgcmVzZXRgIG1ldGhvZHMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYXJzZXIoY2FsbGJhY2tzOiBQYXJzZXJDYWxsYmFja3MpOiBFdmVudFNvdXJjZVBhcnNlciB7XG4gIGlmICh0eXBlb2YgY2FsbGJhY2tzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdgY2FsbGJhY2tzYCBtdXN0IGJlIGFuIG9iamVjdCwgZ290IGEgZnVuY3Rpb24gaW5zdGVhZC4gRGlkIHlvdSBtZWFuIGB7b25FdmVudDogZm59YD8nLFxuICAgIClcbiAgfVxuXG4gIGNvbnN0IHtvbkV2ZW50ID0gbm9vcCwgb25FcnJvciA9IG5vb3AsIG9uUmV0cnkgPSBub29wLCBvbkNvbW1lbnR9ID0gY2FsbGJhY2tzXG5cbiAgbGV0IGluY29tcGxldGVMaW5lID0gJydcblxuICBsZXQgaXNGaXJzdENodW5rID0gdHJ1ZVxuICBsZXQgaWQ6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBsZXQgZGF0YSA9ICcnXG4gIGxldCBldmVudFR5cGUgPSAnJ1xuXG4gIGZ1bmN0aW9uIGZlZWQobmV3Q2h1bms6IHN0cmluZykge1xuICAgIC8vIFN0cmlwIGFueSBVVEY4IGJ5dGUgb3JkZXIgbWFyayAoQk9NKSBhdCB0aGUgc3RhcnQgb2YgdGhlIHN0cmVhbVxuICAgIGNvbnN0IGNodW5rID0gaXNGaXJzdENodW5rID8gbmV3Q2h1bmsucmVwbGFjZSgvXlxceEVGXFx4QkJcXHhCRi8sICcnKSA6IG5ld0NodW5rXG5cbiAgICAvLyBJZiB0aGVyZSB3YXMgYSBwcmV2aW91cyBpbmNvbXBsZXRlIGxpbmUsIGFwcGVuZCBpdCB0byB0aGUgbmV3IGNodW5rLFxuICAgIC8vIHNvIHdlIG1heSBwcm9jZXNzIGl0IHRvZ2V0aGVyIGFzIGEgbmV3IChob3BlZnVsbHkgY29tcGxldGUpIGNodW5rLlxuICAgIGNvbnN0IFtjb21wbGV0ZSwgaW5jb21wbGV0ZV0gPSBzcGxpdExpbmVzKGAke2luY29tcGxldGVMaW5lfSR7Y2h1bmt9YClcblxuICAgIGZvciAoY29uc3QgbGluZSBvZiBjb21wbGV0ZSkge1xuICAgICAgcGFyc2VMaW5lKGxpbmUpXG4gICAgfVxuXG4gICAgaW5jb21wbGV0ZUxpbmUgPSBpbmNvbXBsZXRlXG4gICAgaXNGaXJzdENodW5rID0gZmFsc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlTGluZShsaW5lOiBzdHJpbmcpIHtcbiAgICAvLyBJZiB0aGUgbGluZSBpcyBlbXB0eSAoYSBibGFuayBsaW5lKSwgZGlzcGF0Y2ggdGhlIGV2ZW50XG4gICAgaWYgKGxpbmUgPT09ICcnKSB7XG4gICAgICBkaXNwYXRjaEV2ZW50KClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIElmIHRoZSBsaW5lIHN0YXJ0cyB3aXRoIGEgVSswMDNBIENPTE9OIGNoYXJhY3RlciAoOiksIGlnbm9yZSB0aGUgbGluZS5cbiAgICBpZiAobGluZS5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgIGlmIChvbkNvbW1lbnQpIHtcbiAgICAgICAgb25Db21tZW50KGxpbmUuc2xpY2UobGluZS5zdGFydHNXaXRoKCc6ICcpID8gMiA6IDEpKVxuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGxpbmUgY29udGFpbnMgYSBVKzAwM0EgQ09MT04gY2hhcmFjdGVyICg6KVxuICAgIGNvbnN0IGZpZWxkU2VwYXJhdG9ySW5kZXggPSBsaW5lLmluZGV4T2YoJzonKVxuICAgIGlmIChmaWVsZFNlcGFyYXRvckluZGV4ICE9PSAtMSkge1xuICAgICAgLy8gQ29sbGVjdCB0aGUgY2hhcmFjdGVycyBvbiB0aGUgbGluZSBiZWZvcmUgdGhlIGZpcnN0IFUrMDAzQSBDT0xPTiBjaGFyYWN0ZXIgKDopLFxuICAgICAgLy8gYW5kIGxldCBgZmllbGRgIGJlIHRoYXQgc3RyaW5nLlxuICAgICAgY29uc3QgZmllbGQgPSBsaW5lLnNsaWNlKDAsIGZpZWxkU2VwYXJhdG9ySW5kZXgpXG5cbiAgICAgIC8vIENvbGxlY3QgdGhlIGNoYXJhY3RlcnMgb24gdGhlIGxpbmUgYWZ0ZXIgdGhlIGZpcnN0IFUrMDAzQSBDT0xPTiBjaGFyYWN0ZXIgKDopLFxuICAgICAgLy8gYW5kIGxldCBgdmFsdWVgIGJlIHRoYXQgc3RyaW5nLiBJZiB2YWx1ZSBzdGFydHMgd2l0aCBhIFUrMDAyMCBTUEFDRSBjaGFyYWN0ZXIsXG4gICAgICAvLyByZW1vdmUgaXQgZnJvbSB2YWx1ZS5cbiAgICAgIGNvbnN0IG9mZnNldCA9IGxpbmVbZmllbGRTZXBhcmF0b3JJbmRleCArIDFdID09PSAnICcgPyAyIDogMVxuICAgICAgY29uc3QgdmFsdWUgPSBsaW5lLnNsaWNlKGZpZWxkU2VwYXJhdG9ySW5kZXggKyBvZmZzZXQpXG5cbiAgICAgIHByb2Nlc3NGaWVsZChmaWVsZCwgdmFsdWUsIGxpbmUpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBPdGhlcndpc2UsIHRoZSBzdHJpbmcgaXMgbm90IGVtcHR5IGJ1dCBkb2VzIG5vdCBjb250YWluIGEgVSswMDNBIENPTE9OIGNoYXJhY3RlciAoOilcbiAgICAvLyBQcm9jZXNzIHRoZSBmaWVsZCB1c2luZyB0aGUgd2hvbGUgbGluZSBhcyB0aGUgZmllbGQgbmFtZSwgYW5kIGFuIGVtcHR5IHN0cmluZyBhcyB0aGUgZmllbGQgdmFsdWUuXG4gICAgLy8g8J+RhiBUaGlzIGlzIGFjY29yZGluZyB0byBzcGVjLiBUaGF0IG1lYW5zIHRoYXQgYSBsaW5lIHRoYXQgaGFzIHRoZSB2YWx1ZSBgZGF0YWAgd2lsbCByZXN1bHQgaW5cbiAgICAvLyBhIG5ld2xpbmUgYmVpbmcgYWRkZWQgdG8gdGhlIGN1cnJlbnQgYGRhdGFgIGJ1ZmZlciwgZm9yIGluc3RhbmNlLlxuICAgIHByb2Nlc3NGaWVsZChsaW5lLCAnJywgbGluZSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NGaWVsZChmaWVsZDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBsaW5lOiBzdHJpbmcpIHtcbiAgICAvLyBGaWVsZCBuYW1lcyBtdXN0IGJlIGNvbXBhcmVkIGxpdGVyYWxseSwgd2l0aCBubyBjYXNlIGZvbGRpbmcgcGVyZm9ybWVkLlxuICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgIGNhc2UgJ2V2ZW50JzpcbiAgICAgICAgLy8gU2V0IHRoZSBgZXZlbnQgdHlwZWAgYnVmZmVyIHRvIGZpZWxkIHZhbHVlXG4gICAgICAgIGV2ZW50VHlwZSA9IHZhbHVlXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgLy8gQXBwZW5kIHRoZSBmaWVsZCB2YWx1ZSB0byB0aGUgYGRhdGFgIGJ1ZmZlciwgdGhlbiBhcHBlbmQgYSBzaW5nbGUgVSswMDBBIExJTkUgRkVFRChMRilcbiAgICAgICAgLy8gY2hhcmFjdGVyIHRvIHRoZSBgZGF0YWAgYnVmZmVyLlxuICAgICAgICBkYXRhID0gYCR7ZGF0YX0ke3ZhbHVlfVxcbmBcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2lkJzpcbiAgICAgICAgLy8gSWYgdGhlIGZpZWxkIHZhbHVlIGRvZXMgbm90IGNvbnRhaW4gVSswMDAwIE5VTEwsIHRoZW4gc2V0IHRoZSBgSURgIGJ1ZmZlciB0b1xuICAgICAgICAvLyB0aGUgZmllbGQgdmFsdWUuIE90aGVyd2lzZSwgaWdub3JlIHRoZSBmaWVsZC5cbiAgICAgICAgaWQgPSB2YWx1ZS5pbmNsdWRlcygnXFwwJykgPyB1bmRlZmluZWQgOiB2YWx1ZVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncmV0cnknOlxuICAgICAgICAvLyBJZiB0aGUgZmllbGQgdmFsdWUgY29uc2lzdHMgb2Ygb25seSBBU0NJSSBkaWdpdHMsIHRoZW4gaW50ZXJwcmV0IHRoZSBmaWVsZCB2YWx1ZSBhcyBhblxuICAgICAgICAvLyBpbnRlZ2VyIGluIGJhc2UgdGVuLCBhbmQgc2V0IHRoZSBldmVudCBzdHJlYW0ncyByZWNvbm5lY3Rpb24gdGltZSB0byB0aGF0IGludGVnZXIuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgaWdub3JlIHRoZSBmaWVsZC5cbiAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgb25SZXRyeShwYXJzZUludCh2YWx1ZSwgMTApKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uRXJyb3IoXG4gICAgICAgICAgICBuZXcgUGFyc2VFcnJvcihgSW52YWxpZCBcXGByZXRyeVxcYCB2YWx1ZTogXCIke3ZhbHVlfVwiYCwge1xuICAgICAgICAgICAgICB0eXBlOiAnaW52YWxpZC1yZXRyeScsXG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBsaW5lLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBPdGhlcndpc2UsIHRoZSBmaWVsZCBpcyBpZ25vcmVkLlxuICAgICAgICBvbkVycm9yKFxuICAgICAgICAgIG5ldyBQYXJzZUVycm9yKFxuICAgICAgICAgICAgYFVua25vd24gZmllbGQgXCIke2ZpZWxkLmxlbmd0aCA+IDIwID8gYCR7ZmllbGQuc2xpY2UoMCwgMjApfeKApmAgOiBmaWVsZH1cImAsXG4gICAgICAgICAgICB7dHlwZTogJ3Vua25vd24tZmllbGQnLCBmaWVsZCwgdmFsdWUsIGxpbmV9LFxuICAgICAgICAgICksXG4gICAgICAgIClcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KCkge1xuICAgIGNvbnN0IHNob3VsZERpc3BhdGNoID0gZGF0YS5sZW5ndGggPiAwXG4gICAgaWYgKHNob3VsZERpc3BhdGNoKSB7XG4gICAgICBvbkV2ZW50KHtcbiAgICAgICAgaWQsXG4gICAgICAgIGV2ZW50OiBldmVudFR5cGUgfHwgdW5kZWZpbmVkLFxuICAgICAgICAvLyBJZiB0aGUgZGF0YSBidWZmZXIncyBsYXN0IGNoYXJhY3RlciBpcyBhIFUrMDAwQSBMSU5FIEZFRUQgKExGKSBjaGFyYWN0ZXIsXG4gICAgICAgIC8vIHRoZW4gcmVtb3ZlIHRoZSBsYXN0IGNoYXJhY3RlciBmcm9tIHRoZSBkYXRhIGJ1ZmZlci5cbiAgICAgICAgZGF0YTogZGF0YS5lbmRzV2l0aCgnXFxuJykgPyBkYXRhLnNsaWNlKDAsIC0xKSA6IGRhdGEsXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIFJlc2V0IGZvciB0aGUgbmV4dCBldmVudFxuICAgIGlkID0gdW5kZWZpbmVkXG4gICAgZGF0YSA9ICcnXG4gICAgZXZlbnRUeXBlID0gJydcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0KG9wdGlvbnM6IHtjb25zdW1lPzogYm9vbGVhbn0gPSB7fSkge1xuICAgIGlmIChpbmNvbXBsZXRlTGluZSAmJiBvcHRpb25zLmNvbnN1bWUpIHtcbiAgICAgIHBhcnNlTGluZShpbmNvbXBsZXRlTGluZSlcbiAgICB9XG5cbiAgICBpc0ZpcnN0Q2h1bmsgPSB0cnVlXG4gICAgaWQgPSB1bmRlZmluZWRcbiAgICBkYXRhID0gJydcbiAgICBldmVudFR5cGUgPSAnJ1xuICAgIGluY29tcGxldGVMaW5lID0gJydcbiAgfVxuXG4gIHJldHVybiB7ZmVlZCwgcmVzZXR9XG59XG5cbi8qKlxuICogRm9yIHRoZSBnaXZlbiBgY2h1bmtgLCBzcGxpdCBpdCBpbnRvIGxpbmVzIGFjY29yZGluZyB0byBzcGVjLCBhbmQgcmV0dXJuIGFueSByZW1haW5pbmcgaW5jb21wbGV0ZSBsaW5lLlxuICpcbiAqIEBwYXJhbSBjaHVuayAtIFRoZSBjaHVuayB0byBzcGxpdCBpbnRvIGxpbmVzXG4gKiBAcmV0dXJucyBBIHR1cGxlIGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgY29tcGxldGUgbGluZXMsIGFuZCBhbnkgcmVtYWluaW5nIGluY29tcGxldGUgbGluZVxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHNwbGl0TGluZXMoY2h1bms6IHN0cmluZyk6IFtjb21wbGV0ZTogQXJyYXk8c3RyaW5nPiwgaW5jb21wbGV0ZTogc3RyaW5nXSB7XG4gIC8qKlxuICAgKiBBY2NvcmRpbmcgdG8gdGhlIHNwZWMsIGEgbGluZSBpcyB0ZXJtaW5hdGVkIGJ5IGVpdGhlcjpcbiAgICogLSBVKzAwMEQgQ0FSUklBR0UgUkVUVVJOIFUrMDAwQSBMSU5FIEZFRUQgKENSTEYpIGNoYXJhY3RlciBwYWlyXG4gICAqIC0gYSBzaW5nbGUgVSswMDBBIExJTkUgRkVFRChMRikgY2hhcmFjdGVyIG5vdCBwcmVjZWRlZCBieSBhIFUrMDAwRCBDQVJSSUFHRSBSRVRVUk4oQ1IpIGNoYXJhY3RlclxuICAgKiAtIGEgc2luZ2xlIFUrMDAwRCBDQVJSSUFHRSBSRVRVUk4oQ1IpIGNoYXJhY3RlciBub3QgZm9sbG93ZWQgYnkgYSBVKzAwMEEgTElORSBGRUVEKExGKSBjaGFyYWN0ZXJcbiAgICovXG4gIGNvbnN0IGxpbmVzOiBBcnJheTxzdHJpbmc+ID0gW11cbiAgbGV0IGluY29tcGxldGVMaW5lID0gJydcbiAgbGV0IHNlYXJjaEluZGV4ID0gMFxuXG4gIHdoaWxlIChzZWFyY2hJbmRleCA8IGNodW5rLmxlbmd0aCkge1xuICAgIC8vIEZpbmQgbmV4dCBsaW5lIHRlcm1pbmF0b3JcbiAgICBjb25zdCBjckluZGV4ID0gY2h1bmsuaW5kZXhPZignXFxyJywgc2VhcmNoSW5kZXgpXG4gICAgY29uc3QgbGZJbmRleCA9IGNodW5rLmluZGV4T2YoJ1xcbicsIHNlYXJjaEluZGV4KVxuXG4gICAgLy8gRGV0ZXJtaW5lIGxpbmUgZW5kXG4gICAgbGV0IGxpbmVFbmQgPSAtMVxuICAgIGlmIChjckluZGV4ICE9PSAtMSAmJiBsZkluZGV4ICE9PSAtMSkge1xuICAgICAgLy8gQ1JMRiBjYXNlXG4gICAgICBsaW5lRW5kID0gTWF0aC5taW4oY3JJbmRleCwgbGZJbmRleClcbiAgICB9IGVsc2UgaWYgKGNySW5kZXggIT09IC0xKSB7XG4gICAgICAvLyBDUiBhdCB0aGUgZW5kIG9mIGEgY2h1bmsgbWlnaHQgYmUgcGFydCBvZiBhIENSTEYgc2VxdWVuY2UgdGhhdCBzcGFucyBjaHVua3MsXG4gICAgICAvLyBzbyB3ZSBzaG91bGRuJ3QgdHJlYXQgaXQgYXMgYSBsaW5lIHRlcm1pbmF0b3IgKHlldClcbiAgICAgIGlmIChjckluZGV4ID09PSBjaHVuay5sZW5ndGggLSAxKSB7XG4gICAgICAgIGxpbmVFbmQgPSAtMVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGluZUVuZCA9IGNySW5kZXhcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxmSW5kZXggIT09IC0xKSB7XG4gICAgICBsaW5lRW5kID0gbGZJbmRleFxuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgbGluZSBpZiB0ZXJtaW5hdG9yIGZvdW5kXG4gICAgaWYgKGxpbmVFbmQgPT09IC0xKSB7XG4gICAgICAvLyBObyB0ZXJtaW5hdG9yIGZvdW5kLCByZXN0IGlzIGluY29tcGxldGVcbiAgICAgIGluY29tcGxldGVMaW5lID0gY2h1bmsuc2xpY2Uoc2VhcmNoSW5kZXgpXG4gICAgICBicmVha1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsaW5lID0gY2h1bmsuc2xpY2Uoc2VhcmNoSW5kZXgsIGxpbmVFbmQpXG4gICAgICBsaW5lcy5wdXNoKGxpbmUpXG5cbiAgICAgIC8vIE1vdmUgcGFzdCBsaW5lIHRlcm1pbmF0b3JcbiAgICAgIHNlYXJjaEluZGV4ID0gbGluZUVuZCArIDFcbiAgICAgIGlmIChjaHVua1tzZWFyY2hJbmRleCAtIDFdID09PSAnXFxyJyAmJiBjaHVua1tzZWFyY2hJbmRleF0gPT09ICdcXG4nKSB7XG4gICAgICAgIHNlYXJjaEluZGV4KytcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gW2xpbmVzLCBpbmNvbXBsZXRlTGluZV1cbn1cbiIsICJpbXBvcnQge2NyZWF0ZVBhcnNlcn0gZnJvbSAnLi9wYXJzZS50cydcbmltcG9ydCB0eXBlIHtFdmVudFNvdXJjZU1lc3NhZ2UsIEV2ZW50U291cmNlUGFyc2VyfSBmcm9tICcuL3R5cGVzLnRzJ1xuXG4vKipcbiAqIE9wdGlvbnMgZm9yIHRoZSBFdmVudFNvdXJjZVBhcnNlclN0cmVhbS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyZWFtT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBCZWhhdmlvciB3aGVuIGEgcGFyc2luZyBlcnJvciBvY2N1cnMuXG4gICAqXG4gICAqIC0gQSBjdXN0b20gZnVuY3Rpb24gY2FuIGJlIHByb3ZpZGVkIHRvIGhhbmRsZSB0aGUgZXJyb3IuXG4gICAqIC0gYCd0ZXJtaW5hdGUnYCB3aWxsIGVycm9yIHRoZSBzdHJlYW0gYW5kIHN0b3AgcGFyc2luZy5cbiAgICogLSBBbnkgb3RoZXIgdmFsdWUgd2lsbCBpZ25vcmUgdGhlIGVycm9yIGFuZCBjb250aW51ZSBwYXJzaW5nLlxuICAgKlxuICAgKiBAZGVmYXVsdFZhbHVlIGB1bmRlZmluZWRgXG4gICAqL1xuICBvbkVycm9yPzogKCd0ZXJtaW5hdGUnIHwgKChlcnJvcjogRXJyb3IpID0+IHZvaWQpKSB8IHVuZGVmaW5lZFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3Igd2hlbiBhIHJlY29ubmVjdGlvbiBpbnRlcnZhbCBpcyBzZW50IGZyb20gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQHBhcmFtIHJldHJ5IC0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgcmVjb25uZWN0aW5nLlxuICAgKi9cbiAgb25SZXRyeT86ICgocmV0cnk6IG51bWJlcikgPT4gdm9pZCkgfCB1bmRlZmluZWRcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gYSBjb21tZW50IGlzIGVuY291bnRlcmVkIGluIHRoZSBzdHJlYW0uXG4gICAqXG4gICAqIEBwYXJhbSBjb21tZW50IC0gVGhlIGNvbW1lbnQgZW5jb3VudGVyZWQgaW4gdGhlIHN0cmVhbS5cbiAgICovXG4gIG9uQ29tbWVudD86ICgoY29tbWVudDogc3RyaW5nKSA9PiB2b2lkKSB8IHVuZGVmaW5lZFxufVxuXG4vKipcbiAqIEEgVHJhbnNmb3JtU3RyZWFtIHRoYXQgaW5nZXN0cyBhIHN0cmVhbSBvZiBzdHJpbmdzIGFuZCBwcm9kdWNlcyBhIHN0cmVhbSBvZiBgRXZlbnRTb3VyY2VNZXNzYWdlYC5cbiAqXG4gKiBAZXhhbXBsZSBCYXNpYyB1c2FnZVxuICogYGBgXG4gKiBjb25zdCBldmVudFN0cmVhbSA9XG4gKiAgIHJlc3BvbnNlLmJvZHlcbiAqICAgICAucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpXG4gKiAgICAgLnBpcGVUaHJvdWdoKG5ldyBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSgpKVxuICogYGBgXG4gKlxuICogQGV4YW1wbGUgVGVybWluYXRlIHN0cmVhbSBvbiBwYXJzaW5nIGVycm9yc1xuICogYGBgXG4gKiBjb25zdCBldmVudFN0cmVhbSA9XG4gKiAgcmVzcG9uc2UuYm9keVxuICogICAucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpXG4gKiAgIC5waXBlVGhyb3VnaChuZXcgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0oe3Rlcm1pbmF0ZU9uRXJyb3I6IHRydWV9KSlcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50U291cmNlUGFyc2VyU3RyZWFtIGV4dGVuZHMgVHJhbnNmb3JtU3RyZWFtPHN0cmluZywgRXZlbnRTb3VyY2VNZXNzYWdlPiB7XG4gIGNvbnN0cnVjdG9yKHtvbkVycm9yLCBvblJldHJ5LCBvbkNvbW1lbnR9OiBTdHJlYW1PcHRpb25zID0ge30pIHtcbiAgICBsZXQgcGFyc2VyITogRXZlbnRTb3VyY2VQYXJzZXJcblxuICAgIHN1cGVyKHtcbiAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgcGFyc2VyID0gY3JlYXRlUGFyc2VyKHtcbiAgICAgICAgICBvbkV2ZW50OiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShldmVudClcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChvbkVycm9yID09PSAndGVybWluYXRlJykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb25FcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZ25vcmUgYnkgZGVmYXVsdFxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25SZXRyeSxcbiAgICAgICAgICBvbkNvbW1lbnQsXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgdHJhbnNmb3JtKGNodW5rKSB7XG4gICAgICAgIHBhcnNlci5mZWVkKGNodW5rKVxuICAgICAgfSxcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCB7dHlwZSBFcnJvclR5cGUsIFBhcnNlRXJyb3J9IGZyb20gJy4vZXJyb3JzLnRzJ1xuZXhwb3J0IHR5cGUge0V2ZW50U291cmNlTWVzc2FnZX0gZnJvbSAnLi90eXBlcy50cydcbiIsICJleHBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zY2hlbWFzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jaGVja3MuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcGFyc2UuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBhdC5qc1wiO1xuLy8gem9kLXNwZWNpZmllZFxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCBlbiBmcm9tIFwiLi4vbG9jYWxlcy9lbi5qc1wiO1xuY29uZmlnKGVuKCkpO1xuZXhwb3J0IHsgZ2xvYmFsUmVnaXN0cnksIHJlZ2lzdHJ5LCBjb25maWcsICRvdXRwdXQsICRpbnB1dCwgJGJyYW5kLCBjbG9uZSwgcmVnZXhlcywgdHJlZWlmeUVycm9yLCBwcmV0dGlmeUVycm9yLCBmb3JtYXRFcnJvciwgZmxhdHRlbkVycm9yLCB0b0pTT05TY2hlbWEsIFRpbWVQcmVjaXNpb24sIHV0aWwsIE5FVkVSLCB9IGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5leHBvcnQgKiBhcyBsb2NhbGVzIGZyb20gXCIuLi9sb2NhbGVzL2luZGV4LmpzXCI7XG4vLyBpc29cbi8vIG11c3QgYmUgZXhwb3J0ZWQgZnJvbSB0b3AtbGV2ZWxcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9pc3N1ZXMvNDQ5MVxuZXhwb3J0IHsgWm9kSVNPRGF0ZVRpbWUsIFpvZElTT0RhdGUsIFpvZElTT1RpbWUsIFpvZElTT0R1cmF0aW9uIH0gZnJvbSBcIi4vaXNvLmpzXCI7XG5leHBvcnQgKiBhcyBpc28gZnJvbSBcIi4vaXNvLmpzXCI7XG5leHBvcnQgKiBhcyBjb2VyY2UgZnJvbSBcIi4vY29lcmNlLmpzXCI7XG4iLCAiZXhwb3J0ICogZnJvbSBcIi4vY29yZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcGFyc2UuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2NoZW1hcy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY2hlY2tzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi92ZXJzaW9ucy5qc1wiO1xuZXhwb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgKiBhcyByZWdleGVzIGZyb20gXCIuL3JlZ2V4ZXMuanNcIjtcbmV4cG9ydCAqIGFzIGxvY2FsZXMgZnJvbSBcIi4uL2xvY2FsZXMvaW5kZXguanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3JlZ2lzdHJpZXMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RvYy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vYXBpLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi90by1qc29uLXNjaGVtYS5qc1wiO1xuZXhwb3J0ICogYXMgSlNPTlNjaGVtYSBmcm9tIFwiLi9qc29uLXNjaGVtYS5qc1wiO1xuIiwgIi8qKiBBIHNwZWNpYWwgY29uc3RhbnQgd2l0aCB0eXBlIGBuZXZlcmAgKi9cbmV4cG9ydCBjb25zdCBORVZFUiA9IE9iamVjdC5mcmVlemUoe1xuICAgIHN0YXR1czogXCJhYm9ydGVkXCIsXG59KTtcbmV4cG9ydCAvKkBfX05PX1NJREVfRUZGRUNUU19fKi8gZnVuY3Rpb24gJGNvbnN0cnVjdG9yKG5hbWUsIGluaXRpYWxpemVyLCBwYXJhbXMpIHtcbiAgICBmdW5jdGlvbiBpbml0KGluc3QsIGRlZikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcIl96b2RcIiwge1xuICAgICAgICAgICAgdmFsdWU6IGluc3QuX3pvZCA/PyB7fSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgKF9hID0gaW5zdC5fem9kKS50cmFpdHMgPz8gKF9hLnRyYWl0cyA9IG5ldyBTZXQoKSk7XG4gICAgICAgIGluc3QuX3pvZC50cmFpdHMuYWRkKG5hbWUpO1xuICAgICAgICBpbml0aWFsaXplcihpbnN0LCBkZWYpO1xuICAgICAgICAvLyBzdXBwb3J0IHByb3RvdHlwZSBtb2RpZmljYXRpb25zXG4gICAgICAgIGZvciAoY29uc3QgayBpbiBfLnByb3RvdHlwZSkge1xuICAgICAgICAgICAgaWYgKCEoayBpbiBpbnN0KSlcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgaywgeyB2YWx1ZTogXy5wcm90b3R5cGVba10uYmluZChpbnN0KSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0Ll96b2QuY29uc3RyID0gXztcbiAgICAgICAgaW5zdC5fem9kLmRlZiA9IGRlZjtcbiAgICB9XG4gICAgLy8gZG9lc24ndCB3b3JrIGlmIFBhcmVudCBoYXMgYSBjb25zdHJ1Y3RvciB3aXRoIGFyZ3VtZW50c1xuICAgIGNvbnN0IFBhcmVudCA9IHBhcmFtcz8uUGFyZW50ID8/IE9iamVjdDtcbiAgICBjbGFzcyBEZWZpbml0aW9uIGV4dGVuZHMgUGFyZW50IHtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlZmluaXRpb24sIFwibmFtZVwiLCB7IHZhbHVlOiBuYW1lIH0pO1xuICAgIGZ1bmN0aW9uIF8oZGVmKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgaW5zdCA9IHBhcmFtcz8uUGFyZW50ID8gbmV3IERlZmluaXRpb24oKSA6IHRoaXM7XG4gICAgICAgIGluaXQoaW5zdCwgZGVmKTtcbiAgICAgICAgKF9hID0gaW5zdC5fem9kKS5kZWZlcnJlZCA/PyAoX2EuZGVmZXJyZWQgPSBbXSk7XG4gICAgICAgIGZvciAoY29uc3QgZm4gb2YgaW5zdC5fem9kLmRlZmVycmVkKSB7XG4gICAgICAgICAgICBmbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXywgXCJpbml0XCIsIHsgdmFsdWU6IGluaXQgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF8sIFN5bWJvbC5oYXNJbnN0YW5jZSwge1xuICAgICAgICB2YWx1ZTogKGluc3QpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXJhbXM/LlBhcmVudCAmJiBpbnN0IGluc3RhbmNlb2YgcGFyYW1zLlBhcmVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBpbnN0Py5fem9kPy50cmFpdHM/LmhhcyhuYW1lKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXywgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSk7XG4gICAgcmV0dXJuIF87XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gICBVVElMSVRJRVMgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCBjb25zdCAkYnJhbmQgPSBTeW1ib2woXCJ6b2RfYnJhbmRcIik7XG5leHBvcnQgY2xhc3MgJFpvZEFzeW5jRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKGBFbmNvdW50ZXJlZCBQcm9taXNlIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZS4gVXNlIC5wYXJzZUFzeW5jKCkgaW5zdGVhZC5gKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgJFpvZEVuY29kZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgc3VwZXIoYEVuY291bnRlcmVkIHVuaWRpcmVjdGlvbmFsIHRyYW5zZm9ybSBkdXJpbmcgZW5jb2RlOiAke25hbWV9YCk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiWm9kRW5jb2RlRXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgZ2xvYmFsQ29uZmlnID0ge307XG5leHBvcnQgZnVuY3Rpb24gY29uZmlnKG5ld0NvbmZpZykge1xuICAgIGlmIChuZXdDb25maWcpXG4gICAgICAgIE9iamVjdC5hc3NpZ24oZ2xvYmFsQ29uZmlnLCBuZXdDb25maWcpO1xuICAgIHJldHVybiBnbG9iYWxDb25maWc7XG59XG4iLCAiLy8gZnVuY3Rpb25zXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RXF1YWwodmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROb3RFcXVhbCh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydElzKF9hcmcpIHsgfVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KF8pIHsgfVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVudW1WYWx1ZXMoZW50cmllcykge1xuICAgIGNvbnN0IG51bWVyaWNWYWx1ZXMgPSBPYmplY3QudmFsdWVzKGVudHJpZXMpLmZpbHRlcigodikgPT4gdHlwZW9mIHYgPT09IFwibnVtYmVyXCIpO1xuICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC5lbnRyaWVzKGVudHJpZXMpXG4gICAgICAgIC5maWx0ZXIoKFtrLCBfXSkgPT4gbnVtZXJpY1ZhbHVlcy5pbmRleE9mKCtrKSA9PT0gLTEpXG4gICAgICAgIC5tYXAoKFtfLCB2XSkgPT4gdik7XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBqb2luVmFsdWVzKGFycmF5LCBzZXBhcmF0b3IgPSBcInxcIikge1xuICAgIHJldHVybiBhcnJheS5tYXAoKHZhbCkgPT4gc3RyaW5naWZ5UHJpbWl0aXZlKHZhbCkpLmpvaW4oc2VwYXJhdG9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBqc29uU3RyaW5naWZ5UmVwbGFjZXIoXywgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKVxuICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FjaGVkKGdldHRlcikge1xuICAgIGNvbnN0IHNldCA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgICAgIGlmICghc2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBnZXR0ZXIoKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWx1ZVwiLCB7IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhY2hlZCB2YWx1ZSBhbHJlYWR5IHNldFwiKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bGxpc2goaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGVhblJlZ2V4KHNvdXJjZSkge1xuICAgIGNvbnN0IHN0YXJ0ID0gc291cmNlLnN0YXJ0c1dpdGgoXCJeXCIpID8gMSA6IDA7XG4gICAgY29uc3QgZW5kID0gc291cmNlLmVuZHNXaXRoKFwiJFwiKSA/IHNvdXJjZS5sZW5ndGggLSAxIDogc291cmNlLmxlbmd0aDtcbiAgICByZXR1cm4gc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZsb2F0U2FmZVJlbWFpbmRlcih2YWwsIHN0ZXApIHtcbiAgICBjb25zdCB2YWxEZWNDb3VudCA9ICh2YWwudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IHN0ZXBTdHJpbmcgPSBzdGVwLnRvU3RyaW5nKCk7XG4gICAgbGV0IHN0ZXBEZWNDb3VudCA9IChzdGVwU3RyaW5nLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgaWYgKHN0ZXBEZWNDb3VudCA9PT0gMCAmJiAvXFxkP2UtXFxkPy8udGVzdChzdGVwU3RyaW5nKSkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHN0ZXBTdHJpbmcubWF0Y2goL1xcZD9lLShcXGQ/KS8pO1xuICAgICAgICBpZiAobWF0Y2g/LlsxXSkge1xuICAgICAgICAgICAgc3RlcERlY0NvdW50ID0gTnVtYmVyLnBhcnNlSW50KG1hdGNoWzFdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBkZWNDb3VudCA9IHZhbERlY0NvdW50ID4gc3RlcERlY0NvdW50ID8gdmFsRGVjQ291bnQgOiBzdGVwRGVjQ291bnQ7XG4gICAgY29uc3QgdmFsSW50ID0gTnVtYmVyLnBhcnNlSW50KHZhbC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgY29uc3Qgc3RlcEludCA9IE51bWJlci5wYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICByZXR1cm4gKHZhbEludCAlIHN0ZXBJbnQpIC8gMTAgKiogZGVjQ291bnQ7XG59XG5jb25zdCBFVkFMVUFUSU5HID0gU3ltYm9sKFwiZXZhbHVhdGluZ1wiKTtcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVMYXp5KG9iamVjdCwga2V5LCBnZXR0ZXIpIHtcbiAgICBsZXQgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gRVZBTFVBVElORykge1xuICAgICAgICAgICAgICAgIC8vIENpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCwgcmV0dXJuIHVuZGVmaW5lZCB0byBicmVhayB0aGUgY3ljbGVcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IEVWQUxVQVRJTkc7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBnZXR0ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KHYpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2LFxuICAgICAgICAgICAgICAgIC8vIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gb2JqZWN0W2tleV0gPSB2O1xuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0Q2xvbmUob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaiksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaikpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnblByb3AodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VEZWZzKC4uLmRlZnMpIHtcbiAgICBjb25zdCBtZXJnZWREZXNjcmlwdG9ycyA9IHt9O1xuICAgIGZvciAoY29uc3QgZGVmIG9mIGRlZnMpIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhkZWYpO1xuICAgICAgICBPYmplY3QuYXNzaWduKG1lcmdlZERlc2NyaXB0b3JzLCBkZXNjcmlwdG9ycyk7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh7fSwgbWVyZ2VkRGVzY3JpcHRvcnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRGVmKHNjaGVtYSkge1xuICAgIHJldHVybiBtZXJnZURlZnMoc2NoZW1hLl96b2QuZGVmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50QXRQYXRoKG9iaiwgcGF0aCkge1xuICAgIGlmICghcGF0aClcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICByZXR1cm4gcGF0aC5yZWR1Y2UoKGFjYywga2V5KSA9PiBhY2M/LltrZXldLCBvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHByb21pc2VBbGxPYmplY3QocHJvbWlzZXNPYmopIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvbWlzZXNPYmopO1xuICAgIGNvbnN0IHByb21pc2VzID0ga2V5cy5tYXAoKGtleSkgPT4gcHJvbWlzZXNPYmpba2V5XSk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkT2JqID0ge307XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzb2x2ZWRPYmpba2V5c1tpXV0gPSByZXN1bHRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlZE9iajtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21TdHJpbmcobGVuZ3RoID0gMTApIHtcbiAgICBjb25zdCBjaGFycyA9IFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjtcbiAgICBsZXQgc3RyID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN0ciArPSBjaGFyc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFycy5sZW5ndGgpXTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlc2Moc3RyKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHN0cik7XG59XG5leHBvcnQgY29uc3QgY2FwdHVyZVN0YWNrVHJhY2UgPSAoXCJjYXB0dXJlU3RhY2tUcmFjZVwiIGluIEVycm9yID8gRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgOiAoLi4uX2FyZ3MpID0+IHsgfSk7XG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBkYXRhICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KGRhdGEpO1xufVxuZXhwb3J0IGNvbnN0IGFsbG93c0V2YWwgPSBjYWNoZWQoKCkgPT4ge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3I/LnVzZXJBZ2VudD8uaW5jbHVkZXMoXCJDbG91ZGZsYXJlXCIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgRiA9IEZ1bmN0aW9uO1xuICAgICAgICBuZXcgRihcIlwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChfKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG8pIHtcbiAgICBpZiAoaXNPYmplY3QobykgPT09IGZhbHNlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gbW9kaWZpZWQgY29uc3RydWN0b3JcbiAgICBjb25zdCBjdG9yID0gby5jb25zdHJ1Y3RvcjtcbiAgICBpZiAoY3RvciA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAvLyBtb2RpZmllZCBwcm90b3R5cGVcbiAgICBjb25zdCBwcm90ID0gY3Rvci5wcm90b3R5cGU7XG4gICAgaWYgKGlzT2JqZWN0KHByb3QpID09PSBmYWxzZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGN0b3IgZG9lc24ndCBoYXZlIHN0YXRpYyBgaXNQcm90b3R5cGVPZmBcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3QsIFwiaXNQcm90b3R5cGVPZlwiKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaGFsbG93Q2xvbmUobykge1xuICAgIGlmIChpc1BsYWluT2JqZWN0KG8pKVxuICAgICAgICByZXR1cm4geyAuLi5vIH07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobykpXG4gICAgICAgIHJldHVybiBbLi4ub107XG4gICAgcmV0dXJuIG87XG59XG5leHBvcnQgZnVuY3Rpb24gbnVtS2V5cyhkYXRhKSB7XG4gICAgbGV0IGtleUNvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICAgICAga2V5Q291bnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5Q291bnQ7XG59XG5leHBvcnQgY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIm5hblwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBcImJvb2xlYW5cIjtcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJmdW5jdGlvblwiO1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gXCJiaWdpbnRcIjtcbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwic3ltYm9sXCI7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEudGhlbiAmJiB0eXBlb2YgZGF0YS50aGVuID09PSBcImZ1bmN0aW9uXCIgJiYgZGF0YS5jYXRjaCAmJiB0eXBlb2YgZGF0YS5jYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwicHJvbWlzZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBNYXAgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm1hcFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInNldFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBEYXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZGF0ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBGaWxlICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZmlsZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0XCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZGF0YSB0eXBlOiAke3R9YCk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBwcm9wZXJ0eUtleVR5cGVzID0gbmV3IFNldChbXCJzdHJpbmdcIiwgXCJudW1iZXJcIiwgXCJzeW1ib2xcIl0pO1xuZXhwb3J0IGNvbnN0IHByaW1pdGl2ZVR5cGVzID0gbmV3IFNldChbXCJzdHJpbmdcIiwgXCJudW1iZXJcIiwgXCJiaWdpbnRcIiwgXCJib29sZWFuXCIsIFwic3ltYm9sXCIsIFwidW5kZWZpbmVkXCJdKTtcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVSZWdleChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCBcIlxcXFwkJlwiKTtcbn1cbi8vIHpvZC1zcGVjaWZpYyB1dGlsc1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGluc3QsIGRlZiwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2wgPSBuZXcgaW5zdC5fem9kLmNvbnN0cihkZWYgPz8gaW5zdC5fem9kLmRlZik7XG4gICAgaWYgKCFkZWYgfHwgcGFyYW1zPy5wYXJlbnQpXG4gICAgICAgIGNsLl96b2QucGFyZW50ID0gaW5zdDtcbiAgICByZXR1cm4gY2w7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUGFyYW1zKF9wYXJhbXMpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBfcGFyYW1zO1xuICAgIGlmICghcGFyYW1zKVxuICAgICAgICByZXR1cm4ge307XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiB7IGVycm9yOiAoKSA9PiBwYXJhbXMgfTtcbiAgICBpZiAocGFyYW1zPy5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHBhcmFtcz8uZXJyb3IgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzcGVjaWZ5IGJvdGggYG1lc3NhZ2VgIGFuZCBgZXJyb3JgIHBhcmFtc1wiKTtcbiAgICAgICAgcGFyYW1zLmVycm9yID0gcGFyYW1zLm1lc3NhZ2U7XG4gICAgfVxuICAgIGRlbGV0ZSBwYXJhbXMubWVzc2FnZTtcbiAgICBpZiAodHlwZW9mIHBhcmFtcy5lcnJvciA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIHsgLi4ucGFyYW1zLCBlcnJvcjogKCkgPT4gcGFyYW1zLmVycm9yIH07XG4gICAgcmV0dXJuIHBhcmFtcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc3BhcmVudFByb3h5KGdldHRlcikge1xuICAgIGxldCB0YXJnZXQ7XG4gICAgcmV0dXJuIG5ldyBQcm94eSh7fSwge1xuICAgICAgICBnZXQoXywgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQoXywgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGhhcyhfLCBwcm9wKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0Lmhhcyh0YXJnZXQsIHByb3ApO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGVQcm9wZXJ0eShfLCBwcm9wKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIG93bktleXMoXykge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihfLCBwcm9wKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3ApO1xuICAgICAgICB9LFxuICAgICAgICBkZWZpbmVQcm9wZXJ0eShfLCBwcm9wLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcCwgZGVzY3JpcHRvcik7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5UHJpbWl0aXZlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCkgKyBcIm5cIjtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XG4gICAgcmV0dXJuIGAke3ZhbHVlfWA7XG59XG5leHBvcnQgZnVuY3Rpb24gb3B0aW9uYWxLZXlzKHNoYXBlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNoYXBlKS5maWx0ZXIoKGspID0+IHtcbiAgICAgICAgcmV0dXJuIHNoYXBlW2tdLl96b2Qub3B0aW4gPT09IFwib3B0aW9uYWxcIiAmJiBzaGFwZVtrXS5fem9kLm9wdG91dCA9PT0gXCJvcHRpb25hbFwiO1xuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IE5VTUJFUl9GT1JNQVRfUkFOR0VTID0ge1xuICAgIHNhZmVpbnQ6IFtOdW1iZXIuTUlOX1NBRkVfSU5URUdFUiwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJdLFxuICAgIGludDMyOiBbLTIxNDc0ODM2NDgsIDIxNDc0ODM2NDddLFxuICAgIHVpbnQzMjogWzAsIDQyOTQ5NjcyOTVdLFxuICAgIGZsb2F0MzI6IFstMy40MDI4MjM0NjYzODUyODg2ZTM4LCAzLjQwMjgyMzQ2NjM4NTI4ODZlMzhdLFxuICAgIGZsb2F0NjQ6IFstTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRV0sXG59O1xuZXhwb3J0IGNvbnN0IEJJR0lOVF9GT1JNQVRfUkFOR0VTID0ge1xuICAgIGludDY0OiBbLyogQF9fUFVSRV9fKi8gQmlnSW50KFwiLTkyMjMzNzIwMzY4NTQ3NzU4MDhcIiksIC8qIEBfX1BVUkVfXyovIEJpZ0ludChcIjkyMjMzNzIwMzY4NTQ3NzU4MDdcIildLFxuICAgIHVpbnQ2NDogWy8qIEBfX1BVUkVfXyovIEJpZ0ludCgwKSwgLyogQF9fUFVSRV9fKi8gQmlnSW50KFwiMTg0NDY3NDQwNzM3MDk1NTE2MTVcIildLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBwaWNrKHNjaGVtYSwgbWFzaykge1xuICAgIGNvbnN0IGN1cnJEZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgY29uc3QgZGVmID0gbWVyZ2VEZWZzKHNjaGVtYS5fem9kLmRlZiwge1xuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFzaykge1xuICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBjdXJyRGVmLnNoYXBlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBrZXk6IFwiJHtrZXl9XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBjdXJyRGVmLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgbmV3U2hhcGUpOyAvLyBzZWxmLWNhY2hpbmdcbiAgICAgICAgICAgIHJldHVybiBuZXdTaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmUoc2NoZW1hLCBkZWYpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9taXQoc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3QgY3VyckRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICBjb25zdCBkZWYgPSBtZXJnZURlZnMoc2NoZW1hLl96b2QuZGVmLCB7XG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1NoYXBlID0geyAuLi5zY2hlbWEuX3pvZC5kZWYuc2hhcGUgfTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1hc2spIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gY3VyckRlZi5zaGFwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQga2V5OiBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbWFza1trZXldKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWxldGUgbmV3U2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBuZXdTaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIG5ld1NoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZShzY2hlbWEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKHNjaGVtYSwgc2hhcGUpIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3Qoc2hhcGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQgdG8gZXh0ZW5kOiBleHBlY3RlZCBhIHBsYWluIG9iamVjdFwiKTtcbiAgICB9XG4gICAgY29uc3QgY2hlY2tzID0gc2NoZW1hLl96b2QuZGVmLmNoZWNrcztcbiAgICBjb25zdCBoYXNDaGVja3MgPSBjaGVja3MgJiYgY2hlY2tzLmxlbmd0aCA+IDA7XG4gICAgaWYgKGhhc0NoZWNrcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3Qgc2NoZW1hcyBjb250YWluaW5nIHJlZmluZW1lbnRzIGNhbm5vdCBiZSBleHRlbmRlZC4gVXNlIGAuc2FmZUV4dGVuZCgpYCBpbnN0ZWFkLlwiKTtcbiAgICB9XG4gICAgY29uc3QgZGVmID0gbWVyZ2VEZWZzKHNjaGVtYS5fem9kLmRlZiwge1xuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICBjb25zdCBfc2hhcGUgPSB7IC4uLnNjaGVtYS5fem9kLmRlZi5zaGFwZSwgLi4uc2hhcGUgfTtcbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBfc2hhcGUpOyAvLyBzZWxmLWNhY2hpbmdcbiAgICAgICAgICAgIHJldHVybiBfc2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrczogW10sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzYWZlRXh0ZW5kKHNjaGVtYSwgc2hhcGUpIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3Qoc2hhcGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQgdG8gc2FmZUV4dGVuZDogZXhwZWN0ZWQgYSBwbGFpbiBvYmplY3RcIik7XG4gICAgfVxuICAgIGNvbnN0IGRlZiA9IHtcbiAgICAgICAgLi4uc2NoZW1hLl96b2QuZGVmLFxuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICBjb25zdCBfc2hhcGUgPSB7IC4uLnNjaGVtYS5fem9kLmRlZi5zaGFwZSwgLi4uc2hhcGUgfTtcbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBfc2hhcGUpOyAvLyBzZWxmLWNhY2hpbmdcbiAgICAgICAgICAgIHJldHVybiBfc2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrczogc2NoZW1hLl96b2QuZGVmLmNoZWNrcyxcbiAgICB9O1xuICAgIHJldHVybiBjbG9uZShzY2hlbWEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoYSwgYikge1xuICAgIGNvbnN0IGRlZiA9IG1lcmdlRGVmcyhhLl96b2QuZGVmLCB7XG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IF9zaGFwZSA9IHsgLi4uYS5fem9kLmRlZi5zaGFwZSwgLi4uYi5fem9kLmRlZi5zaGFwZSB9O1xuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIF9zaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIF9zaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGNhdGNoYWxsKCkge1xuICAgICAgICAgICAgcmV0dXJuIGIuX3pvZC5kZWYuY2F0Y2hhbGw7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrczogW10sIC8vIGRlbGV0ZSBleGlzdGluZyBjaGVja3NcbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmUoYSwgZGVmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aWFsKENsYXNzLCBzY2hlbWEsIG1hc2spIHtcbiAgICBjb25zdCBkZWYgPSBtZXJnZURlZnMoc2NoZW1hLl96b2QuZGVmLCB7XG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFNoYXBlID0gc2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSB7IC4uLm9sZFNoYXBlIH07XG4gICAgICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1hc2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG9sZFNoYXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQga2V5OiBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKG9sZFNoYXBlW2tleV0hLl96b2Qub3B0aW4gPT09IFwib3B0aW9uYWxcIikgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSBDbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcgQ2xhc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBvbGRTaGFwZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChvbGRTaGFwZVtrZXldIS5fem9kLm9wdGluID09PSBcIm9wdGlvbmFsXCIpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gQ2xhc3NcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvbmFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUeXBlOiBvbGRTaGFwZVtrZXldLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogb2xkU2hhcGVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgc2hhcGUpOyAvLyBzZWxmLWNhY2hpbmdcbiAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmUoc2NoZW1hLCBkZWYpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVkKENsYXNzLCBzY2hlbWEsIG1hc2spIHtcbiAgICBjb25zdCBkZWYgPSBtZXJnZURlZnMoc2NoZW1hLl96b2QuZGVmLCB7XG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFNoYXBlID0gc2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSB7IC4uLm9sZFNoYXBlIH07XG4gICAgICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1hc2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIHNoYXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQga2V5OiBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3ZlcndyaXRlIHdpdGggbm9uLW9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSBuZXcgQ2xhc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJub25vcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUeXBlOiBvbGRTaGFwZVtrZXldLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRTaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBvdmVyd3JpdGUgd2l0aCBub24tb3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IG5ldyBDbGFzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm5vbm9wdGlvbmFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBzaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZShzY2hlbWEsIGRlZik7XG59XG4vLyBpbnZhbGlkX3R5cGUgfCB0b29fYmlnIHwgdG9vX3NtYWxsIHwgaW52YWxpZF9mb3JtYXQgfCBub3RfbXVsdGlwbGVfb2YgfCB1bnJlY29nbml6ZWRfa2V5cyB8IGludmFsaWRfdW5pb24gfCBpbnZhbGlkX2tleSB8IGludmFsaWRfZWxlbWVudCB8IGludmFsaWRfdmFsdWUgfCBjdXN0b21cbmV4cG9ydCBmdW5jdGlvbiBhYm9ydGVkKHgsIHN0YXJ0SW5kZXggPSAwKSB7XG4gICAgaWYgKHguYWJvcnRlZCA9PT0gdHJ1ZSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCB4Lmlzc3Vlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoeC5pc3N1ZXNbaV0/LmNvbnRpbnVlICE9PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJlZml4SXNzdWVzKHBhdGgsIGlzc3Vlcykge1xuICAgIHJldHVybiBpc3N1ZXMubWFwKChpc3MpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBpc3MpLnBhdGggPz8gKF9hLnBhdGggPSBbXSk7XG4gICAgICAgIGlzcy5wYXRoLnVuc2hpZnQocGF0aCk7XG4gICAgICAgIHJldHVybiBpc3M7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdW53cmFwTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2U/Lm1lc3NhZ2U7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29uZmlnKSB7XG4gICAgY29uc3QgZnVsbCA9IHsgLi4uaXNzLCBwYXRoOiBpc3MucGF0aCA/PyBbXSB9O1xuICAgIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgIGlmICghaXNzLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHVud3JhcE1lc3NhZ2UoaXNzLmluc3Q/Ll96b2QuZGVmPy5lcnJvcj8uKGlzcykpID8/XG4gICAgICAgICAgICB1bndyYXBNZXNzYWdlKGN0eD8uZXJyb3I/Lihpc3MpKSA/P1xuICAgICAgICAgICAgdW53cmFwTWVzc2FnZShjb25maWcuY3VzdG9tRXJyb3I/Lihpc3MpKSA/P1xuICAgICAgICAgICAgdW53cmFwTWVzc2FnZShjb25maWcubG9jYWxlRXJyb3I/Lihpc3MpKSA/P1xuICAgICAgICAgICAgXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgIGZ1bGwubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuICAgIC8vIGRlbGV0ZSAoZnVsbCBhcyBhbnkpLmRlZjtcbiAgICBkZWxldGUgZnVsbC5pbnN0O1xuICAgIGRlbGV0ZSBmdWxsLmNvbnRpbnVlO1xuICAgIGlmICghY3R4Py5yZXBvcnRJbnB1dCkge1xuICAgICAgICBkZWxldGUgZnVsbC5pbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6YWJsZU9yaWdpbihpbnB1dCkge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIFNldClcbiAgICAgICAgcmV0dXJuIFwic2V0XCI7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgTWFwKVxuICAgICAgICByZXR1cm4gXCJtYXBcIjtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgRmlsZSlcbiAgICAgICAgcmV0dXJuIFwiZmlsZVwiO1xuICAgIHJldHVybiBcInVua25vd25cIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRMZW5ndGhhYmxlT3JpZ2luKGlucHV0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKVxuICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgIHJldHVybiBcInVua25vd25cIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc3N1ZSguLi5hcmdzKSB7XG4gICAgY29uc3QgW2lzcywgaW5wdXQsIGluc3RdID0gYXJncztcbiAgICBpZiAodHlwZW9mIGlzcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogaXNzLFxuICAgICAgICAgICAgY29kZTogXCJjdXN0b21cIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgLi4uaXNzIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYW5FbnVtKG9iaikge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhvYmopXG4gICAgICAgIC5maWx0ZXIoKFtrLCBfXSkgPT4ge1xuICAgICAgICAvLyByZXR1cm4gdHJ1ZSBpZiBOYU4sIG1lYW5pbmcgaXQncyBub3QgYSBudW1iZXIsIHRodXMgYSBzdHJpbmcga2V5XG4gICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oTnVtYmVyLnBhcnNlSW50KGssIDEwKSk7XG4gICAgfSlcbiAgICAgICAgLm1hcCgoZWwpID0+IGVsWzFdKTtcbn1cbi8vIENvZGVjIHV0aWxpdHkgZnVuY3Rpb25zXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0VG9VaW50OEFycmF5KGJhc2U2NCkge1xuICAgIGNvbnN0IGJpbmFyeVN0cmluZyA9IGF0b2IoYmFzZTY0KTtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJpbmFyeVN0cmluZy5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluYXJ5U3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJ5dGVzW2ldID0gYmluYXJ5U3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiB1aW50OEFycmF5VG9CYXNlNjQoYnl0ZXMpIHtcbiAgICBsZXQgYmluYXJ5U3RyaW5nID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJpbmFyeVN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ0b2EoYmluYXJ5U3RyaW5nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjR1cmxUb1VpbnQ4QXJyYXkoYmFzZTY0dXJsKSB7XG4gICAgY29uc3QgYmFzZTY0ID0gYmFzZTY0dXJsLnJlcGxhY2UoLy0vZywgXCIrXCIpLnJlcGxhY2UoL18vZywgXCIvXCIpO1xuICAgIGNvbnN0IHBhZGRpbmcgPSBcIj1cIi5yZXBlYXQoKDQgLSAoYmFzZTY0Lmxlbmd0aCAlIDQpKSAlIDQpO1xuICAgIHJldHVybiBiYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0ICsgcGFkZGluZyk7XG59XG5leHBvcnQgZnVuY3Rpb24gdWludDhBcnJheVRvQmFzZTY0dXJsKGJ5dGVzKSB7XG4gICAgcmV0dXJuIHVpbnQ4QXJyYXlUb0Jhc2U2NChieXRlcykucmVwbGFjZSgvXFwrL2csIFwiLVwiKS5yZXBsYWNlKC9cXC8vZywgXCJfXCIpLnJlcGxhY2UoLz0vZywgXCJcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gaGV4VG9VaW50OEFycmF5KGhleCkge1xuICAgIGNvbnN0IGNsZWFuSGV4ID0gaGV4LnJlcGxhY2UoL14weC8sIFwiXCIpO1xuICAgIGlmIChjbGVhbkhleC5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGV4IHN0cmluZyBsZW5ndGhcIik7XG4gICAgfVxuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY2xlYW5IZXgubGVuZ3RoIC8gMik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGVhbkhleC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBieXRlc1tpIC8gMl0gPSBOdW1iZXIucGFyc2VJbnQoY2xlYW5IZXguc2xpY2UoaSwgaSArIDIpLCAxNik7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiB1aW50OEFycmF5VG9IZXgoYnl0ZXMpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShieXRlcylcbiAgICAgICAgLm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKVxuICAgICAgICAuam9pbihcIlwiKTtcbn1cbi8vIGluc3RhbmNlb2ZcbmV4cG9ydCBjbGFzcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoLi4uX2FyZ3MpIHsgfVxufVxuIiwgImltcG9ydCB7ICRjb25zdHJ1Y3RvciB9IGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vdXRpbC5qc1wiO1xuY29uc3QgaW5pdGlhbGl6ZXIgPSAoaW5zdCwgZGVmKSA9PiB7XG4gICAgaW5zdC5uYW1lID0gXCIkWm9kRXJyb3JcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJfem9kXCIsIHtcbiAgICAgICAgdmFsdWU6IGluc3QuX3pvZCxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwiaXNzdWVzXCIsIHtcbiAgICAgICAgdmFsdWU6IGRlZixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSk7XG4gICAgaW5zdC5tZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZGVmLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwidG9TdHJpbmdcIiwge1xuICAgICAgICB2YWx1ZTogKCkgPT4gaW5zdC5tZXNzYWdlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgJFpvZEVycm9yID0gJGNvbnN0cnVjdG9yKFwiJFpvZEVycm9yXCIsIGluaXRpYWxpemVyKTtcbmV4cG9ydCBjb25zdCAkWm9kUmVhbEVycm9yID0gJGNvbnN0cnVjdG9yKFwiJFpvZEVycm9yXCIsIGluaXRpYWxpemVyLCB7IFBhcmVudDogRXJyb3IgfSk7XG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkVycm9yKGVycm9yLCBtYXBwZXIgPSAoaXNzdWUpID0+IGlzc3VlLm1lc3NhZ2UpIHtcbiAgICBjb25zdCBmaWVsZEVycm9ycyA9IHt9O1xuICAgIGNvbnN0IGZvcm1FcnJvcnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHN1YiBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgaWYgKHN1Yi5wYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSA9IGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSB8fCBbXTtcbiAgICAgICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXS5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvcm1FcnJvcnMucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgZm9ybUVycm9ycywgZmllbGRFcnJvcnMgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRFcnJvcihlcnJvciwgX21hcHBlcikge1xuICAgIGNvbnN0IG1hcHBlciA9IF9tYXBwZXIgfHxcbiAgICAgICAgZnVuY3Rpb24gKGlzc3VlKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNzdWUubWVzc2FnZTtcbiAgICAgICAgfTtcbiAgICBjb25zdCBmaWVsZEVycm9ycyA9IHsgX2Vycm9yczogW10gfTtcbiAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfdW5pb25cIiAmJiBpc3N1ZS5lcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaXNzdWUuZXJyb3JzLm1hcCgoaXNzdWVzKSA9PiBwcm9jZXNzRXJyb3IoeyBpc3N1ZXMgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2tleVwiKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKHsgaXNzdWVzOiBpc3N1ZS5pc3N1ZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfZWxlbWVudFwiKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKHsgaXNzdWVzOiBpc3N1ZS5pc3N1ZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBjdXJyID0gZmllbGRFcnJvcnM7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgaXNzdWUucGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBpc3N1ZS5wYXRoW2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3VycltlbF07XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHByb2Nlc3NFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIGZpZWxkRXJyb3JzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyZWVpZnlFcnJvcihlcnJvciwgX21hcHBlcikge1xuICAgIGNvbnN0IG1hcHBlciA9IF9tYXBwZXIgfHxcbiAgICAgICAgZnVuY3Rpb24gKGlzc3VlKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNzdWUubWVzc2FnZTtcbiAgICAgICAgfTtcbiAgICBjb25zdCByZXN1bHQgPSB7IGVycm9yczogW10gfTtcbiAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IsIHBhdGggPSBbXSkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiICYmIGlzc3VlLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyByZWd1bGFyIHVuaW9uIGVycm9yXG4gICAgICAgICAgICAgICAgaXNzdWUuZXJyb3JzLm1hcCgoaXNzdWVzKSA9PiBwcm9jZXNzRXJyb3IoeyBpc3N1ZXMgfSwgaXNzdWUucGF0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2tleVwiKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKHsgaXNzdWVzOiBpc3N1ZS5pc3N1ZXMgfSwgaXNzdWUucGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfZWxlbWVudFwiKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKHsgaXNzdWVzOiBpc3N1ZS5pc3N1ZXMgfSwgaXNzdWUucGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxscGF0aCA9IFsuLi5wYXRoLCAuLi5pc3N1ZS5wYXRoXTtcbiAgICAgICAgICAgICAgICBpZiAoZnVsbHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBjdXJyID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGZ1bGxwYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGZ1bGxwYXRoW2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGZ1bGxwYXRoLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIucHJvcGVydGllcyA/PyAoY3Vyci5wcm9wZXJ0aWVzID0ge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gY3Vyci5wcm9wZXJ0aWVzKVtlbF0gPz8gKF9hW2VsXSA9IHsgZXJyb3JzOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyLnByb3BlcnRpZXNbZWxdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyci5pdGVtcyA/PyAoY3Vyci5pdGVtcyA9IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IGN1cnIuaXRlbXMpW2VsXSA/PyAoX2JbZWxdID0geyBlcnJvcnM6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnIuaXRlbXNbZWxdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyci5lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBwcm9jZXNzRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKiogRm9ybWF0IGEgWm9kRXJyb3IgYXMgYSBodW1hbi1yZWFkYWJsZSBzdHJpbmcgaW4gdGhlIGZvbGxvd2luZyBmb3JtLlxuICpcbiAqIEZyb21cbiAqXG4gKiBgYGB0c1xuICogWm9kRXJyb3Ige1xuICogICBpc3N1ZXM6IFtcbiAqICAgICB7XG4gKiAgICAgICBleHBlY3RlZDogJ3N0cmluZycsXG4gKiAgICAgICBjb2RlOiAnaW52YWxpZF90eXBlJyxcbiAqICAgICAgIHBhdGg6IFsgJ3VzZXJuYW1lJyBdLFxuICogICAgICAgbWVzc2FnZTogJ0ludmFsaWQgaW5wdXQ6IGV4cGVjdGVkIHN0cmluZydcbiAqICAgICB9LFxuICogICAgIHtcbiAqICAgICAgIGV4cGVjdGVkOiAnbnVtYmVyJyxcbiAqICAgICAgIGNvZGU6ICdpbnZhbGlkX3R5cGUnLFxuICogICAgICAgcGF0aDogWyAnZmF2b3JpdGVOdW1iZXJzJywgMSBdLFxuICogICAgICAgbWVzc2FnZTogJ0ludmFsaWQgaW5wdXQ6IGV4cGVjdGVkIG51bWJlcidcbiAqICAgICB9XG4gKiAgIF07XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiB0b1xuICpcbiAqIGBgYFxuICogdXNlcm5hbWVcbiAqICAgXHUyNzE2IEV4cGVjdGVkIG51bWJlciwgcmVjZWl2ZWQgc3RyaW5nIGF0IFwidXNlcm5hbWVcbiAqIGZhdm9yaXRlTnVtYmVyc1swXVxuICogICBcdTI3MTYgSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgbnVtYmVyXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRG90UGF0aChfcGF0aCkge1xuICAgIGNvbnN0IHNlZ3MgPSBbXTtcbiAgICBjb25zdCBwYXRoID0gX3BhdGgubWFwKChzZWcpID0+ICh0eXBlb2Ygc2VnID09PSBcIm9iamVjdFwiID8gc2VnLmtleSA6IHNlZykpO1xuICAgIGZvciAoY29uc3Qgc2VnIG9mIHBhdGgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWcgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICBzZWdzLnB1c2goYFske3NlZ31dYCk7XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzZWcgPT09IFwic3ltYm9sXCIpXG4gICAgICAgICAgICBzZWdzLnB1c2goYFske0pTT04uc3RyaW5naWZ5KFN0cmluZyhzZWcpKX1dYCk7XG4gICAgICAgIGVsc2UgaWYgKC9bXlxcdyRdLy50ZXN0KHNlZykpXG4gICAgICAgICAgICBzZWdzLnB1c2goYFske0pTT04uc3RyaW5naWZ5KHNlZyl9XWApO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzZWdzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBzZWdzLnB1c2goXCIuXCIpO1xuICAgICAgICAgICAgc2Vncy5wdXNoKHNlZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlZ3Muam9pbihcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmV0dGlmeUVycm9yKGVycm9yKSB7XG4gICAgY29uc3QgbGluZXMgPSBbXTtcbiAgICAvLyBzb3J0IGJ5IHBhdGggbGVuZ3RoXG4gICAgY29uc3QgaXNzdWVzID0gWy4uLmVycm9yLmlzc3Vlc10uc29ydCgoYSwgYikgPT4gKGEucGF0aCA/PyBbXSkubGVuZ3RoIC0gKGIucGF0aCA/PyBbXSkubGVuZ3RoKTtcbiAgICAvLyBQcm9jZXNzIGVhY2ggaXNzdWVcbiAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGlzc3Vlcykge1xuICAgICAgICBsaW5lcy5wdXNoKGBcdTI3MTYgJHtpc3N1ZS5tZXNzYWdlfWApO1xuICAgICAgICBpZiAoaXNzdWUucGF0aD8ubGVuZ3RoKVxuICAgICAgICAgICAgbGluZXMucHVzaChgICBcdTIxOTIgYXQgJHt0b0RvdFBhdGgoaXNzdWUucGF0aCl9YCk7XG4gICAgfVxuICAgIC8vIENvbnZlcnQgTWFwIHRvIGZvcm1hdHRlZCBzdHJpbmdcbiAgICByZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCAqIGFzIGVycm9ycyBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0IF9wYXJzZSA9IChfRXJyKSA9PiAoc2NoZW1hLCB2YWx1ZSwgX2N0eCwgX3BhcmFtcykgPT4ge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHsgYXN5bmM6IGZhbHNlIH0pIDogeyBhc3luYzogZmFsc2UgfTtcbiAgICBjb25zdCByZXN1bHQgPSBzY2hlbWEuX3pvZC5ydW4oeyB2YWx1ZSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RBc3luY0Vycm9yKCk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBlID0gbmV3IChfcGFyYW1zPy5FcnIgPz8gX0VycikocmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSkpO1xuICAgICAgICB1dGlsLmNhcHR1cmVTdGFja1RyYWNlKGUsIF9wYXJhbXM/LmNhbGxlZSk7XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQudmFsdWU7XG59O1xuZXhwb3J0IGNvbnN0IHBhcnNlID0gLyogQF9fUFVSRV9fKi8gX3BhcnNlKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfcGFyc2VBc3luYyA9IChfRXJyKSA9PiBhc3luYyAoc2NoZW1hLCB2YWx1ZSwgX2N0eCwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgY3R4ID0gX2N0eCA/IE9iamVjdC5hc3NpZ24oX2N0eCwgeyBhc3luYzogdHJ1ZSB9KSA6IHsgYXN5bmM6IHRydWUgfTtcbiAgICBsZXQgcmVzdWx0ID0gc2NoZW1hLl96b2QucnVuKHsgdmFsdWUsIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgcmVzdWx0O1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBlID0gbmV3IChwYXJhbXM/LkVyciA/PyBfRXJyKShyZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSk7XG4gICAgICAgIHV0aWwuY2FwdHVyZVN0YWNrVHJhY2UoZSwgcGFyYW1zPy5jYWxsZWUpO1xuICAgICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xufTtcbmV4cG9ydCBjb25zdCBwYXJzZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX3BhcnNlQXN5bmMoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlUGFyc2UgPSAoX0VycikgPT4gKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8geyAuLi5fY3R4LCBhc3luYzogZmFsc2UgfSA6IHsgYXN5bmM6IGZhbHNlIH07XG4gICAgY29uc3QgcmVzdWx0ID0gc2NoZW1hLl96b2QucnVuKHsgdmFsdWUsIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kQXN5bmNFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0Lmlzc3Vlcy5sZW5ndGhcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBuZXcgKF9FcnIgPz8gZXJyb3JzLiRab2RFcnJvcikocmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSkpLFxuICAgICAgICB9XG4gICAgICAgIDogeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQudmFsdWUgfTtcbn07XG5leHBvcnQgY29uc3Qgc2FmZVBhcnNlID0gLyogQF9fUFVSRV9fKi8gX3NhZmVQYXJzZShlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX3NhZmVQYXJzZUFzeW5jID0gKF9FcnIpID0+IGFzeW5jIChzY2hlbWEsIHZhbHVlLCBfY3R4KSA9PiB7XG4gICAgY29uc3QgY3R4ID0gX2N0eCA/IE9iamVjdC5hc3NpZ24oX2N0eCwgeyBhc3luYzogdHJ1ZSB9KSA6IHsgYXN5bmM6IHRydWUgfTtcbiAgICBsZXQgcmVzdWx0ID0gc2NoZW1hLl96b2QucnVuKHsgdmFsdWUsIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgcmVzdWx0O1xuICAgIHJldHVybiByZXN1bHQuaXNzdWVzLmxlbmd0aFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IG5ldyBfRXJyKHJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpKSxcbiAgICAgICAgfVxuICAgICAgICA6IHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnZhbHVlIH07XG59O1xuZXhwb3J0IGNvbnN0IHNhZmVQYXJzZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX3NhZmVQYXJzZUFzeW5jKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfZW5jb2RlID0gKF9FcnIpID0+IChzY2hlbWEsIHZhbHVlLCBfY3R4KSA9PiB7XG4gICAgY29uc3QgY3R4ID0gX2N0eCA/IE9iamVjdC5hc3NpZ24oX2N0eCwgeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9KSA6IHsgZGlyZWN0aW9uOiBcImJhY2t3YXJkXCIgfTtcbiAgICByZXR1cm4gX3BhcnNlKF9FcnIpKHNjaGVtYSwgdmFsdWUsIGN0eCk7XG59O1xuZXhwb3J0IGNvbnN0IGVuY29kZSA9IC8qIEBfX1BVUkVfXyovIF9lbmNvZGUoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9kZWNvZGUgPSAoX0VycikgPT4gKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICByZXR1cm4gX3BhcnNlKF9FcnIpKHNjaGVtYSwgdmFsdWUsIF9jdHgpO1xufTtcbmV4cG9ydCBjb25zdCBkZWNvZGUgPSAvKiBAX19QVVJFX18qLyBfZGVjb2RlKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfZW5jb2RlQXN5bmMgPSAoX0VycikgPT4gYXN5bmMgKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH0pIDogeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9O1xuICAgIHJldHVybiBfcGFyc2VBc3luYyhfRXJyKShzY2hlbWEsIHZhbHVlLCBjdHgpO1xufTtcbmV4cG9ydCBjb25zdCBlbmNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyovIF9lbmNvZGVBc3luYyhlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX2RlY29kZUFzeW5jID0gKF9FcnIpID0+IGFzeW5jIChzY2hlbWEsIHZhbHVlLCBfY3R4KSA9PiB7XG4gICAgcmV0dXJuIF9wYXJzZUFzeW5jKF9FcnIpKHNjaGVtYSwgdmFsdWUsIF9jdHgpO1xufTtcbmV4cG9ydCBjb25zdCBkZWNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyovIF9kZWNvZGVBc3luYyhlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX3NhZmVFbmNvZGUgPSAoX0VycikgPT4gKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH0pIDogeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9O1xuICAgIHJldHVybiBfc2FmZVBhcnNlKF9FcnIpKHNjaGVtYSwgdmFsdWUsIGN0eCk7XG59O1xuZXhwb3J0IGNvbnN0IHNhZmVFbmNvZGUgPSAvKiBAX19QVVJFX18qLyBfc2FmZUVuY29kZShlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX3NhZmVEZWNvZGUgPSAoX0VycikgPT4gKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICByZXR1cm4gX3NhZmVQYXJzZShfRXJyKShzY2hlbWEsIHZhbHVlLCBfY3R4KTtcbn07XG5leHBvcnQgY29uc3Qgc2FmZURlY29kZSA9IC8qIEBfX1BVUkVfXyovIF9zYWZlRGVjb2RlKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfc2FmZUVuY29kZUFzeW5jID0gKF9FcnIpID0+IGFzeW5jIChzY2hlbWEsIHZhbHVlLCBfY3R4KSA9PiB7XG4gICAgY29uc3QgY3R4ID0gX2N0eCA/IE9iamVjdC5hc3NpZ24oX2N0eCwgeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9KSA6IHsgZGlyZWN0aW9uOiBcImJhY2t3YXJkXCIgfTtcbiAgICByZXR1cm4gX3NhZmVQYXJzZUFzeW5jKF9FcnIpKHNjaGVtYSwgdmFsdWUsIGN0eCk7XG59O1xuZXhwb3J0IGNvbnN0IHNhZmVFbmNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyovIF9zYWZlRW5jb2RlQXN5bmMoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlRGVjb2RlQXN5bmMgPSAoX0VycikgPT4gYXN5bmMgKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICByZXR1cm4gX3NhZmVQYXJzZUFzeW5jKF9FcnIpKHNjaGVtYSwgdmFsdWUsIF9jdHgpO1xufTtcbmV4cG9ydCBjb25zdCBzYWZlRGVjb2RlQXN5bmMgPSAvKiBAX19QVVJFX18qLyBfc2FmZURlY29kZUFzeW5jKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbiIsICJleHBvcnQgY29uc3QgY3VpZCA9IC9eW2NDXVteXFxzLV17OCx9JC87XG5leHBvcnQgY29uc3QgY3VpZDIgPSAvXlswLTlhLXpdKyQvO1xuZXhwb3J0IGNvbnN0IHVsaWQgPSAvXlswLTlBLUhKS01OUC1UVi1aYS1oamttbnAtdHYtel17MjZ9JC87XG5leHBvcnQgY29uc3QgeGlkID0gL15bMC05YS12QS1WXXsyMH0kLztcbmV4cG9ydCBjb25zdCBrc3VpZCA9IC9eW0EtWmEtejAtOV17Mjd9JC87XG5leHBvcnQgY29uc3QgbmFub2lkID0gL15bYS16QS1aMC05Xy1dezIxfSQvO1xuLyoqIElTTyA4NjAxLTEgZHVyYXRpb24gcmVnZXguIERvZXMgbm90IHN1cHBvcnQgdGhlIDg2MDEtMiBleHRlbnNpb25zIGxpa2UgbmVnYXRpdmUgZHVyYXRpb25zIG9yIGZyYWN0aW9uYWwvbmVnYXRpdmUgY29tcG9uZW50cy4gKi9cbmV4cG9ydCBjb25zdCBkdXJhdGlvbiA9IC9eUCg/OihcXGQrVyl8KD8hLipXKSg/PVxcZHxUXFxkKShcXGQrWSk/KFxcZCtNKT8oXFxkK0QpPyhUKD89XFxkKShcXGQrSCk/KFxcZCtNKT8oXFxkKyhbLixdXFxkKyk/Uyk/KT8pJC87XG4vKiogSW1wbGVtZW50cyBJU08gODYwMS0yIGV4dGVuc2lvbnMgbGlrZSBleHBsaWNpdCArLSBwcmVmaXhlcywgbWl4aW5nIHdlZWtzIHdpdGggb3RoZXIgdW5pdHMsIGFuZCBmcmFjdGlvbmFsL25lZ2F0aXZlIGNvbXBvbmVudHMuICovXG5leHBvcnQgY29uc3QgZXh0ZW5kZWREdXJhdGlvbiA9IC9eWy0rXT9QKD8hJCkoPzooPzpbLStdP1xcZCtZKXwoPzpbLStdP1xcZCtbLixdXFxkK1kkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/Oig/OlstK10/XFxkK1cpfCg/OlstK10/XFxkK1suLF1cXGQrVyQpKT8oPzooPzpbLStdP1xcZCtEKXwoPzpbLStdP1xcZCtbLixdXFxkK0QkKSk/KD86VCg/PVtcXGQrLV0pKD86KD86Wy0rXT9cXGQrSCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtIJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzpbLStdP1xcZCsoPzpbLixdXFxkKyk/Uyk/KT8/JC87XG4vKiogQSByZWdleCBmb3IgYW55IFVVSUQtbGlrZSBpZGVudGlmaWVyOiA4LTQtNC00LTEyIGhleCBwYXR0ZXJuICovXG5leHBvcnQgY29uc3QgZ3VpZCA9IC9eKFswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSkkLztcbi8qKiBSZXR1cm5zIGEgcmVnZXggZm9yIHZhbGlkYXRpbmcgYW4gUkZDIDk1NjIvNDEyMiBVVUlELlxuICpcbiAqIEBwYXJhbSB2ZXJzaW9uIE9wdGlvbmFsbHkgc3BlY2lmeSBhIHZlcnNpb24gMS04LiBJZiBubyB2ZXJzaW9uIGlzIHNwZWNpZmllZCwgYWxsIHZlcnNpb25zIGFyZSBzdXBwb3J0ZWQuICovXG5leHBvcnQgY29uc3QgdXVpZCA9ICh2ZXJzaW9uKSA9PiB7XG4gICAgaWYgKCF2ZXJzaW9uKVxuICAgICAgICByZXR1cm4gL14oWzAtOWEtZkEtRl17OH0tWzAtOWEtZkEtRl17NH0tWzEtOF1bMC05YS1mQS1GXXszfS1bODlhYkFCXVswLTlhLWZBLUZdezN9LVswLTlhLWZBLUZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDB8ZmZmZmZmZmYtZmZmZi1mZmZmLWZmZmYtZmZmZmZmZmZmZmZmKSQvO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeKFswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LSR7dmVyc2lvbn1bMC05YS1mQS1GXXszfS1bODlhYkFCXVswLTlhLWZBLUZdezN9LVswLTlhLWZBLUZdezEyfSkkYCk7XG59O1xuZXhwb3J0IGNvbnN0IHV1aWQ0ID0gLypAX19QVVJFX18qLyB1dWlkKDQpO1xuZXhwb3J0IGNvbnN0IHV1aWQ2ID0gLypAX19QVVJFX18qLyB1dWlkKDYpO1xuZXhwb3J0IGNvbnN0IHV1aWQ3ID0gLypAX19QVVJFX18qLyB1dWlkKDcpO1xuLyoqIFByYWN0aWNhbCBlbWFpbCB2YWxpZGF0aW9uICovXG5leHBvcnQgY29uc3QgZW1haWwgPSAvXig/IVxcLikoPyEuKlxcLlxcLikoW0EtWmEtejAtOV8nK1xcLVxcLl0qKVtBLVphLXowLTlfKy1dQChbQS1aYS16MC05XVtBLVphLXowLTlcXC1dKlxcLikrW0EtWmEtel17Mix9JC87XG4vKiogRXF1aXZhbGVudCB0byB0aGUgSFRNTDUgaW5wdXRbdHlwZT1lbWFpbF0gdmFsaWRhdGlvbiBpbXBsZW1lbnRlZCBieSBicm93c2Vycy4gU291cmNlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvaW5wdXQvZW1haWwgKi9cbmV4cG9ydCBjb25zdCBodG1sNUVtYWlsID0gL15bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLyoqIFRoZSBjbGFzc2ljIGVtYWlscmVnZXguY29tIHJlZ2V4IGZvciBSRkMgNTMyMi1jb21wbGlhbnQgZW1haWxzICovXG5leHBvcnQgY29uc3QgcmZjNTMyMkVtYWlsID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4vKiogQSBsb29zZSByZWdleCB0aGF0IGFsbG93cyBVbmljb2RlIGNoYXJhY3RlcnMsIGVuZm9yY2VzIGxlbmd0aCBsaW1pdHMsIGFuZCB0aGF0J3MgYWJvdXQgaXQuICovXG5leHBvcnQgY29uc3QgdW5pY29kZUVtYWlsID0gL15bXlxcc0BcIl17MSw2NH1AW15cXHNAXXsxLDI1NX0kL3U7XG5leHBvcnQgY29uc3QgaWRuRW1haWwgPSB1bmljb2RlRW1haWw7XG5leHBvcnQgY29uc3QgYnJvd3NlckVtYWlsID0gL15bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLy8gZnJvbSBodHRwczovL3RoZWtldmluc2NvdHQuY29tL2Vtb2ppcy1pbi1qYXZhc2NyaXB0LyN3cml0aW5nLWEtcmVndWxhci1leHByZXNzaW9uXG5jb25zdCBfZW1vamkgPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xuZXhwb3J0IGZ1bmN0aW9uIGVtb2ppKCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKF9lbW9qaSwgXCJ1XCIpO1xufVxuZXhwb3J0IGNvbnN0IGlwdjQgPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuZXhwb3J0IGNvbnN0IGlwdjYgPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopKSQvO1xuZXhwb3J0IGNvbnN0IGNpZHJ2NCA9IC9eKCgyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSgyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKFswLTldfFsxLTJdWzAtOV18M1swLTJdKSQvO1xuZXhwb3J0IGNvbnN0IGNpZHJ2NiA9IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7N31bMC05YS1mQS1GXXsxLDR9fDo6fChbMC05YS1mQS1GXXsxLDR9KT86OihbMC05YS1mQS1GXXsxLDR9Oj8pezAsNn0pXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLztcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NjAzOTIvZGV0ZXJtaW5lLWlmLXN0cmluZy1pcy1pbi1iYXNlNjQtdXNpbmctamF2YXNjcmlwdFxuZXhwb3J0IGNvbnN0IGJhc2U2NCA9IC9eJHxeKD86WzAtOWEtekEtWisvXXs0fSkqKD86KD86WzAtOWEtekEtWisvXXsyfT09KXwoPzpbMC05YS16QS1aKy9dezN9PSkpPyQvO1xuZXhwb3J0IGNvbnN0IGJhc2U2NHVybCA9IC9eW0EtWmEtejAtOV8tXSokLztcbi8vIGJhc2VkIG9uIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwNjE3OS9yZWd1bGFyLWV4cHJlc3Npb24tdG8tbWF0Y2gtZG5zLWhvc3RuYW1lLW9yLWlwLWFkZHJlc3Ncbi8vIGV4cG9ydCBjb25zdCBob3N0bmFtZTogUmVnRXhwID0gL14oW2EtekEtWjAtOS1dK1xcLikqW2EtekEtWjAtOS1dKyQvO1xuZXhwb3J0IGNvbnN0IGhvc3RuYW1lID0gL14oPz0uezEsMjUzfVxcLj8kKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86Wy0wLTlhLXpBLVpdezAsNjF9WzAtOWEtekEtWl0pPykqXFwuPyQvO1xuZXhwb3J0IGNvbnN0IGRvbWFpbiA9IC9eKFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pP1xcLikrW2EtekEtWl17Mix9JC87XG4vLyBodHRwczovL2Jsb2cuc3RldmVubGV2aXRoYW4uY29tL2FyY2hpdmVzL3ZhbGlkYXRlLXBob25lLW51bWJlciNyNC0zIChyZWdleCBzYW5zIHNwYWNlcylcbmV4cG9ydCBjb25zdCBlMTY0ID0gL15cXCsoPzpbMC05XSl7NiwxNH1bMC05XSQvO1xuLy8gY29uc3QgZGF0ZVNvdXJjZSA9IGAoKFxcXFxkXFxcXGRbMjQ2OF1bMDQ4XXxcXFxcZFxcXFxkWzEzNTc5XVsyNl18XFxcXGRcXFxcZDBbNDhdfFswMjQ2OF1bMDQ4XTAwfFsxMzU3OV1bMjZdMDApLTAyLTI5fFxcXFxkezR9LSgoMFsxMzU3OF18MVswMl0pLSgwWzEtOV18WzEyXVxcXFxkfDNbMDFdKXwoMFs0NjldfDExKS0oMFsxLTldfFsxMl1cXFxcZHwzMCl8KDAyKS0oMFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuY29uc3QgZGF0ZVNvdXJjZSA9IGAoPzooPzpcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oPzooPzowWzEzNTc4XXwxWzAyXSktKD86MFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KD86MFs0NjldfDExKS0oPzowWzEtOV18WzEyXVxcXFxkfDMwKXwoPzowMiktKD86MFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuZXhwb3J0IGNvbnN0IGRhdGUgPSAvKkBfX1BVUkVfXyovIG5ldyBSZWdFeHAoYF4ke2RhdGVTb3VyY2V9JGApO1xuZnVuY3Rpb24gdGltZVNvdXJjZShhcmdzKSB7XG4gICAgY29uc3QgaGhtbSA9IGAoPzpbMDFdXFxcXGR8MlswLTNdKTpbMC01XVxcXFxkYDtcbiAgICBjb25zdCByZWdleCA9IHR5cGVvZiBhcmdzLnByZWNpc2lvbiA9PT0gXCJudW1iZXJcIlxuICAgICAgICA/IGFyZ3MucHJlY2lzaW9uID09PSAtMVxuICAgICAgICAgICAgPyBgJHtoaG1tfWBcbiAgICAgICAgICAgIDogYXJncy5wcmVjaXNpb24gPT09IDBcbiAgICAgICAgICAgICAgICA/IGAke2hobW19OlswLTVdXFxcXGRgXG4gICAgICAgICAgICAgICAgOiBgJHtoaG1tfTpbMC01XVxcXFxkXFxcXC5cXFxcZHske2FyZ3MucHJlY2lzaW9ufX1gXG4gICAgICAgIDogYCR7aGhtbX0oPzo6WzAtNV1cXFxcZCg/OlxcXFwuXFxcXGQrKT8pP2A7XG4gICAgcmV0dXJuIHJlZ2V4O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRpbWUoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lU291cmNlKGFyZ3MpfSRgKTtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzE0MzIzMVxuZXhwb3J0IGZ1bmN0aW9uIGRhdGV0aW1lKGFyZ3MpIHtcbiAgICBjb25zdCB0aW1lID0gdGltZVNvdXJjZSh7IHByZWNpc2lvbjogYXJncy5wcmVjaXNpb24gfSk7XG4gICAgY29uc3Qgb3B0cyA9IFtcIlpcIl07XG4gICAgaWYgKGFyZ3MubG9jYWwpXG4gICAgICAgIG9wdHMucHVzaChcIlwiKTtcbiAgICAvLyBpZiAoYXJncy5vZmZzZXQpIG9wdHMucHVzaChgKFsrLV1cXFxcZHsyfTpcXFxcZHsyfSlgKTtcbiAgICBpZiAoYXJncy5vZmZzZXQpXG4gICAgICAgIG9wdHMucHVzaChgKFsrLV0oPzpbMDFdXFxcXGR8MlswLTNdKTpbMC01XVxcXFxkKWApO1xuICAgIGNvbnN0IHRpbWVSZWdleCA9IGAke3RpbWV9KD86JHtvcHRzLmpvaW4oXCJ8XCIpfSlgO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHtkYXRlU291cmNlfVQoPzoke3RpbWVSZWdleH0pJGApO1xufVxuZXhwb3J0IGNvbnN0IHN0cmluZyA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCByZWdleCA9IHBhcmFtcyA/IGBbXFxcXHNcXFxcU117JHtwYXJhbXM/Lm1pbmltdW0gPz8gMH0sJHtwYXJhbXM/Lm1heGltdW0gPz8gXCJcIn19YCA6IGBbXFxcXHNcXFxcU10qYDtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cmVnZXh9JGApO1xufTtcbmV4cG9ydCBjb25zdCBiaWdpbnQgPSAvXi0/XFxkK24/JC87XG5leHBvcnQgY29uc3QgaW50ZWdlciA9IC9eLT9cXGQrJC87XG5leHBvcnQgY29uc3QgbnVtYmVyID0gL14tP1xcZCsoPzpcXC5cXGQrKT8vO1xuZXhwb3J0IGNvbnN0IGJvb2xlYW4gPSAvXig/OnRydWV8ZmFsc2UpJC9pO1xuY29uc3QgX251bGwgPSAvXm51bGwkL2k7XG5leHBvcnQgeyBfbnVsbCBhcyBudWxsIH07XG5jb25zdCBfdW5kZWZpbmVkID0gL151bmRlZmluZWQkL2k7XG5leHBvcnQgeyBfdW5kZWZpbmVkIGFzIHVuZGVmaW5lZCB9O1xuLy8gcmVnZXggZm9yIHN0cmluZyB3aXRoIG5vIHVwcGVyY2FzZSBsZXR0ZXJzXG5leHBvcnQgY29uc3QgbG93ZXJjYXNlID0gL15bXkEtWl0qJC87XG4vLyByZWdleCBmb3Igc3RyaW5nIHdpdGggbm8gbG93ZXJjYXNlIGxldHRlcnNcbmV4cG9ydCBjb25zdCB1cHBlcmNhc2UgPSAvXlteYS16XSokLztcbi8vIHJlZ2V4IGZvciBoZXhhZGVjaW1hbCBzdHJpbmdzIChhbnkgbGVuZ3RoKVxuZXhwb3J0IGNvbnN0IGhleCA9IC9eWzAtOWEtZkEtRl0qJC87XG4vLyBIYXNoIHJlZ2V4ZXMgZm9yIGRpZmZlcmVudCBhbGdvcml0aG1zIGFuZCBlbmNvZGluZ3Ncbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgYmFzZTY0IHJlZ2V4IHdpdGggZXhhY3QgbGVuZ3RoIGFuZCBwYWRkaW5nXG5mdW5jdGlvbiBmaXhlZEJhc2U2NChib2R5TGVuZ3RoLCBwYWRkaW5nKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5bQS1aYS16MC05Ky9deyR7Ym9keUxlbmd0aH19JHtwYWRkaW5nfSRgKTtcbn1cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgYmFzZTY0dXJsIHJlZ2V4IHdpdGggZXhhY3QgbGVuZ3RoIChubyBwYWRkaW5nKVxuZnVuY3Rpb24gZml4ZWRCYXNlNjR1cmwobGVuZ3RoKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5bQS1aYS16MC05Xy1deyR7bGVuZ3RofX0kYCk7XG59XG4vLyBNRDUgKDE2IGJ5dGVzKTogYmFzZTY0ID0gMjQgY2hhcnMgdG90YWwgKDIyICsgXCI9PVwiKVxuZXhwb3J0IGNvbnN0IG1kNV9oZXggPSAvXlswLTlhLWZBLUZdezMyfSQvO1xuZXhwb3J0IGNvbnN0IG1kNV9iYXNlNjQgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0KDIyLCBcIj09XCIpO1xuZXhwb3J0IGNvbnN0IG1kNV9iYXNlNjR1cmwgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0dXJsKDIyKTtcbi8vIFNIQTEgKDIwIGJ5dGVzKTogYmFzZTY0ID0gMjggY2hhcnMgdG90YWwgKDI3ICsgXCI9XCIpXG5leHBvcnQgY29uc3Qgc2hhMV9oZXggPSAvXlswLTlhLWZBLUZdezQwfSQvO1xuZXhwb3J0IGNvbnN0IHNoYTFfYmFzZTY0ID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NCgyNywgXCI9XCIpO1xuZXhwb3J0IGNvbnN0IHNoYTFfYmFzZTY0dXJsID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NHVybCgyNyk7XG4vLyBTSEEyNTYgKDMyIGJ5dGVzKTogYmFzZTY0ID0gNDQgY2hhcnMgdG90YWwgKDQzICsgXCI9XCIpXG5leHBvcnQgY29uc3Qgc2hhMjU2X2hleCA9IC9eWzAtOWEtZkEtRl17NjR9JC87XG5leHBvcnQgY29uc3Qgc2hhMjU2X2Jhc2U2NCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjQoNDMsIFwiPVwiKTtcbmV4cG9ydCBjb25zdCBzaGEyNTZfYmFzZTY0dXJsID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NHVybCg0Myk7XG4vLyBTSEEzODQgKDQ4IGJ5dGVzKTogYmFzZTY0ID0gNjQgY2hhcnMgdG90YWwgKG5vIHBhZGRpbmcpXG5leHBvcnQgY29uc3Qgc2hhMzg0X2hleCA9IC9eWzAtOWEtZkEtRl17OTZ9JC87XG5leHBvcnQgY29uc3Qgc2hhMzg0X2Jhc2U2NCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjQoNjQsIFwiXCIpO1xuZXhwb3J0IGNvbnN0IHNoYTM4NF9iYXNlNjR1cmwgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0dXJsKDY0KTtcbi8vIFNIQTUxMiAoNjQgYnl0ZXMpOiBiYXNlNjQgPSA4OCBjaGFycyB0b3RhbCAoODYgKyBcIj09XCIpXG5leHBvcnQgY29uc3Qgc2hhNTEyX2hleCA9IC9eWzAtOWEtZkEtRl17MTI4fSQvO1xuZXhwb3J0IGNvbnN0IHNoYTUxMl9iYXNlNjQgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0KDg2LCBcIj09XCIpO1xuZXhwb3J0IGNvbnN0IHNoYTUxMl9iYXNlNjR1cmwgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0dXJsKDg2KTtcbiIsICIvLyBpbXBvcnQgeyAkWm9kVHlwZSB9IGZyb20gXCIuL3NjaGVtYXMuanNcIjtcbmltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0ICogYXMgcmVnZXhlcyBmcm9tIFwiLi9yZWdleGVzLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2sgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaW5zdC5fem9kID8/IChpbnN0Ll96b2QgPSB7fSk7XG4gICAgaW5zdC5fem9kLmRlZiA9IGRlZjtcbiAgICAoX2EgPSBpbnN0Ll96b2QpLm9uYXR0YWNoID8/IChfYS5vbmF0dGFjaCA9IFtdKTtcbn0pO1xuY29uc3QgbnVtZXJpY09yaWdpbk1hcCA9IHtcbiAgICBudW1iZXI6IFwibnVtYmVyXCIsXG4gICAgYmlnaW50OiBcImJpZ2ludFwiLFxuICAgIG9iamVjdDogXCJkYXRlXCIsXG59O1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja0xlc3NUaGFuID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja0xlc3NUaGFuXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IG9yaWdpbiA9IG51bWVyaWNPcmlnaW5NYXBbdHlwZW9mIGRlZi52YWx1ZV07XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgY29uc3QgY3VyciA9IChkZWYuaW5jbHVzaXZlID8gYmFnLm1heGltdW0gOiBiYWcuZXhjbHVzaXZlTWF4aW11bSkgPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICBpZiAoZGVmLnZhbHVlIDwgY3Vycikge1xuICAgICAgICAgICAgaWYgKGRlZi5pbmNsdXNpdmUpXG4gICAgICAgICAgICAgICAgYmFnLm1heGltdW0gPSBkZWYudmFsdWU7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYmFnLmV4Y2x1c2l2ZU1heGltdW0gPSBkZWYudmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAoZGVmLmluY2x1c2l2ZSA/IHBheWxvYWQudmFsdWUgPD0gZGVmLnZhbHVlIDogcGF5bG9hZC52YWx1ZSA8IGRlZi52YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICBtYXhpbXVtOiBkZWYudmFsdWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZGVmLmluY2x1c2l2ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja0dyZWF0ZXJUaGFuID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja0dyZWF0ZXJUaGFuXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IG9yaWdpbiA9IG51bWVyaWNPcmlnaW5NYXBbdHlwZW9mIGRlZi52YWx1ZV07XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgY29uc3QgY3VyciA9IChkZWYuaW5jbHVzaXZlID8gYmFnLm1pbmltdW0gOiBiYWcuZXhjbHVzaXZlTWluaW11bSkgPz8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgICAgICBpZiAoZGVmLnZhbHVlID4gY3Vycikge1xuICAgICAgICAgICAgaWYgKGRlZi5pbmNsdXNpdmUpXG4gICAgICAgICAgICAgICAgYmFnLm1pbmltdW0gPSBkZWYudmFsdWU7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYmFnLmV4Y2x1c2l2ZU1pbmltdW0gPSBkZWYudmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAoZGVmLmluY2x1c2l2ZSA/IHBheWxvYWQudmFsdWUgPj0gZGVmLnZhbHVlIDogcGF5bG9hZC52YWx1ZSA+IGRlZi52YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgY29kZTogXCJ0b29fc21hbGxcIixcbiAgICAgICAgICAgIG1pbmltdW06IGRlZi52YWx1ZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBkZWYuaW5jbHVzaXZlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTXVsdGlwbGVPZiA9IFxuLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja011bHRpcGxlT2ZcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBpbnN0Ll96b2QuYmFnKS5tdWx0aXBsZU9mID8/IChfYS5tdWx0aXBsZU9mID0gZGVmLnZhbHVlKTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQudmFsdWUgIT09IHR5cGVvZiBkZWYudmFsdWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgbWl4IG51bWJlciBhbmQgYmlnaW50IGluIG11bHRpcGxlX29mIGNoZWNrLlwiKTtcbiAgICAgICAgY29uc3QgaXNNdWx0aXBsZSA9IHR5cGVvZiBwYXlsb2FkLnZhbHVlID09PSBcImJpZ2ludFwiXG4gICAgICAgICAgICA/IHBheWxvYWQudmFsdWUgJSBkZWYudmFsdWUgPT09IEJpZ0ludCgwKVxuICAgICAgICAgICAgOiB1dGlsLmZsb2F0U2FmZVJlbWFpbmRlcihwYXlsb2FkLnZhbHVlLCBkZWYudmFsdWUpID09PSAwO1xuICAgICAgICBpZiAoaXNNdWx0aXBsZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IHR5cGVvZiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgY29kZTogXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICAgICAgICAgIGRpdmlzb3I6IGRlZi52YWx1ZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTnVtYmVyRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja051bWJlckZvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTsgLy8gbm8gZm9ybWF0IGNoZWNrc1xuICAgIGRlZi5mb3JtYXQgPSBkZWYuZm9ybWF0IHx8IFwiZmxvYXQ2NFwiO1xuICAgIGNvbnN0IGlzSW50ID0gZGVmLmZvcm1hdD8uaW5jbHVkZXMoXCJpbnRcIik7XG4gICAgY29uc3Qgb3JpZ2luID0gaXNJbnQgPyBcImludFwiIDogXCJudW1iZXJcIjtcbiAgICBjb25zdCBbbWluaW11bSwgbWF4aW11bV0gPSB1dGlsLk5VTUJFUl9GT1JNQVRfUkFOR0VTW2RlZi5mb3JtYXRdO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5mb3JtYXQgPSBkZWYuZm9ybWF0O1xuICAgICAgICBiYWcubWluaW11bSA9IG1pbmltdW07XG4gICAgICAgIGJhZy5tYXhpbXVtID0gbWF4aW11bTtcbiAgICAgICAgaWYgKGlzSW50KVxuICAgICAgICAgICAgYmFnLnBhdHRlcm4gPSByZWdleGVzLmludGVnZXI7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoaXNJbnQpIHtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICAvLyBpbnZhbGlkX2Zvcm1hdCBpc3N1ZVxuICAgICAgICAgICAgICAgIC8vIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIC8vICAgZXhwZWN0ZWQ6IGRlZi5mb3JtYXQsXG4gICAgICAgICAgICAgICAgLy8gICBmb3JtYXQ6IGRlZi5mb3JtYXQsXG4gICAgICAgICAgICAgICAgLy8gICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgLy8gICBpbnB1dCxcbiAgICAgICAgICAgICAgICAvLyAgIGluc3QsXG4gICAgICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICAgICAgLy8gaW52YWxpZF90eXBlIGlzc3VlXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBvcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogZGVmLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgLy8gbm90X211bHRpcGxlX29mIGlzc3VlXG4gICAgICAgICAgICAgICAgLy8gcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgLy8gICBjb2RlOiBcIm5vdF9tdWx0aXBsZV9vZlwiLFxuICAgICAgICAgICAgICAgIC8vICAgb3JpZ2luOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIC8vICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgLy8gICBpbnN0LFxuICAgICAgICAgICAgICAgIC8vICAgZGl2aXNvcjogMSxcbiAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzU2FmZUludGVnZXIoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0b29fYmlnXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19iaWdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZTogXCJJbnRlZ2VycyBtdXN0IGJlIHdpdGhpbiB0aGUgc2FmZSBpbnRlZ2VyIHJhbmdlLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvb19zbWFsbFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJ0b29fc21hbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZTogXCJJbnRlZ2VycyBtdXN0IGJlIHdpdGhpbiB0aGUgc2FmZSBpbnRlZ2VyIHJhbmdlLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCA8IG1pbmltdW0pIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19zbWFsbFwiLFxuICAgICAgICAgICAgICAgIG1pbmltdW0sXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQgPiBtYXhpbXVtKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICAgICAgbWF4aW11bSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrQmlnSW50Rm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja0JpZ0ludEZvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTsgLy8gbm8gZm9ybWF0IGNoZWNrc1xuICAgIGNvbnN0IFttaW5pbXVtLCBtYXhpbXVtXSA9IHV0aWwuQklHSU5UX0ZPUk1BVF9SQU5HRVNbZGVmLmZvcm1hdF07XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLmZvcm1hdCA9IGRlZi5mb3JtYXQ7XG4gICAgICAgIGJhZy5taW5pbXVtID0gbWluaW11bTtcbiAgICAgICAgYmFnLm1heGltdW0gPSBtYXhpbXVtO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKGlucHV0IDwgbWluaW11bSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICAgICAgbWluaW11bTogbWluaW11bSxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCA+IG1heGltdW0pIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19iaWdcIixcbiAgICAgICAgICAgICAgICBtYXhpbXVtLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tNYXhTaXplID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja01heFNpemVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIChfYSA9IGluc3QuX3pvZC5kZWYpLndoZW4gPz8gKF9hLndoZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICByZXR1cm4gIXV0aWwubnVsbGlzaCh2YWwpICYmIHZhbC5zaXplICE9PSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgY3VyciA9IChpbnN0Ll96b2QuYmFnLm1heGltdW0gPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgICAgICAgaWYgKGRlZi5tYXhpbXVtIDwgY3VycilcbiAgICAgICAgICAgIGluc3QuX3pvZC5iYWcubWF4aW11bSA9IGRlZi5tYXhpbXVtO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGlucHV0LnNpemU7XG4gICAgICAgIGlmIChzaXplIDw9IGRlZi5tYXhpbXVtKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogdXRpbC5nZXRTaXphYmxlT3JpZ2luKGlucHV0KSxcbiAgICAgICAgICAgIGNvZGU6IFwidG9vX2JpZ1wiLFxuICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heGltdW0sXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja01pblNpemUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTWluU2l6ZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgKF9hID0gaW5zdC5fem9kLmRlZikud2hlbiA/PyAoX2Eud2hlbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLnNpemUgIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyID0gKGluc3QuX3pvZC5iYWcubWluaW11bSA/PyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICBpZiAoZGVmLm1pbmltdW0gPiBjdXJyKVxuICAgICAgICAgICAgaW5zdC5fem9kLmJhZy5taW5pbXVtID0gZGVmLm1pbmltdW07XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBzaXplID0gaW5wdXQuc2l6ZTtcbiAgICAgICAgaWYgKHNpemUgPj0gZGVmLm1pbmltdW0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiB1dGlsLmdldFNpemFibGVPcmlnaW4oaW5wdXQpLFxuICAgICAgICAgICAgY29kZTogXCJ0b29fc21hbGxcIixcbiAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5pbXVtLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tTaXplRXF1YWxzID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1NpemVFcXVhbHNcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIChfYSA9IGluc3QuX3pvZC5kZWYpLndoZW4gPz8gKF9hLndoZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICByZXR1cm4gIXV0aWwubnVsbGlzaCh2YWwpICYmIHZhbC5zaXplICE9PSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLm1pbmltdW0gPSBkZWYuc2l6ZTtcbiAgICAgICAgYmFnLm1heGltdW0gPSBkZWYuc2l6ZTtcbiAgICAgICAgYmFnLnNpemUgPSBkZWYuc2l6ZTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IHNpemUgPSBpbnB1dC5zaXplO1xuICAgICAgICBpZiAoc2l6ZSA9PT0gZGVmLnNpemUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHRvb0JpZyA9IHNpemUgPiBkZWYuc2l6ZTtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IHV0aWwuZ2V0U2l6YWJsZU9yaWdpbihpbnB1dCksXG4gICAgICAgICAgICAuLi4odG9vQmlnID8geyBjb2RlOiBcInRvb19iaWdcIiwgbWF4aW11bTogZGVmLnNpemUgfSA6IHsgY29kZTogXCJ0b29fc21hbGxcIiwgbWluaW11bTogZGVmLnNpemUgfSksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTWF4TGVuZ3RoID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja01heExlbmd0aFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgKF9hID0gaW5zdC5fem9kLmRlZikud2hlbiA/PyAoX2Eud2hlbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLmxlbmd0aCAhPT0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnIgPSAoaW5zdC5fem9kLmJhZy5tYXhpbXVtID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgIGlmIChkZWYubWF4aW11bSA8IGN1cnIpXG4gICAgICAgICAgICBpbnN0Ll96b2QuYmFnLm1heGltdW0gPSBkZWYubWF4aW11bTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8PSBkZWYubWF4aW11bSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gdXRpbC5nZXRMZW5ndGhhYmxlT3JpZ2luKGlucHV0KTtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICBjb2RlOiBcInRvb19iaWdcIixcbiAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhpbXVtLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tNaW5MZW5ndGggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTWluTGVuZ3RoXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAoX2EgPSBpbnN0Ll96b2QuZGVmKS53aGVuID8/IChfYS53aGVuID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgdmFsID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgcmV0dXJuICF1dGlsLm51bGxpc2godmFsKSAmJiB2YWwubGVuZ3RoICE9PSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgY3VyciA9IChpbnN0Ll96b2QuYmFnLm1pbmltdW0gPz8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtcbiAgICAgICAgaWYgKGRlZi5taW5pbXVtID4gY3VycilcbiAgICAgICAgICAgIGluc3QuX3pvZC5iYWcubWluaW11bSA9IGRlZi5taW5pbXVtO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoID49IGRlZi5taW5pbXVtKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBvcmlnaW4gPSB1dGlsLmdldExlbmd0aGFibGVPcmlnaW4oaW5wdXQpO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluaW11bSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTGVuZ3RoRXF1YWxzID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja0xlbmd0aEVxdWFsc1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgKF9hID0gaW5zdC5fem9kLmRlZikud2hlbiA/PyAoX2Eud2hlbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLmxlbmd0aCAhPT0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5taW5pbXVtID0gZGVmLmxlbmd0aDtcbiAgICAgICAgYmFnLm1heGltdW0gPSBkZWYubGVuZ3RoO1xuICAgICAgICBiYWcubGVuZ3RoID0gZGVmLmxlbmd0aDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gZGVmLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gdXRpbC5nZXRMZW5ndGhhYmxlT3JpZ2luKGlucHV0KTtcbiAgICAgICAgY29uc3QgdG9vQmlnID0gbGVuZ3RoID4gZGVmLmxlbmd0aDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICAuLi4odG9vQmlnID8geyBjb2RlOiBcInRvb19iaWdcIiwgbWF4aW11bTogZGVmLmxlbmd0aCB9IDogeyBjb2RlOiBcInRvb19zbWFsbFwiLCBtaW5pbXVtOiBkZWYubGVuZ3RoIH0pLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja1N0cmluZ0Zvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tTdHJpbmdGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcuZm9ybWF0ID0gZGVmLmZvcm1hdDtcbiAgICAgICAgaWYgKGRlZi5wYXR0ZXJuKSB7XG4gICAgICAgICAgICBiYWcucGF0dGVybnMgPz8gKGJhZy5wYXR0ZXJucyA9IG5ldyBTZXQoKSk7XG4gICAgICAgICAgICBiYWcucGF0dGVybnMuYWRkKGRlZi5wYXR0ZXJuKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChkZWYucGF0dGVybilcbiAgICAgICAgKF9hID0gaW5zdC5fem9kKS5jaGVjayA/PyAoX2EuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgZGVmLnBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIGlmIChkZWYucGF0dGVybi50ZXN0KHBheWxvYWQudmFsdWUpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBkZWYuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIC4uLihkZWYucGF0dGVybiA/IHsgcGF0dGVybjogZGVmLnBhdHRlcm4udG9TdHJpbmcoKSB9IDoge30pLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgZWxzZVxuICAgICAgICAoX2IgPSBpbnN0Ll96b2QpLmNoZWNrID8/IChfYi5jaGVjayA9ICgpID0+IHsgfSk7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tSZWdleCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tSZWdleFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBkZWYucGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgICAgICBpZiAoZGVmLnBhdHRlcm4udGVzdChwYXlsb2FkLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwicmVnZXhcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgcGF0dGVybjogZGVmLnBhdHRlcm4udG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja0xvd2VyQ2FzZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tMb3dlckNhc2VcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMubG93ZXJjYXNlKTtcbiAgICAkWm9kQ2hlY2tTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrVXBwZXJDYXNlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1VwcGVyQ2FzZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy51cHBlcmNhc2UpO1xuICAgICRab2RDaGVja1N0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tJbmNsdWRlcyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tJbmNsdWRlc1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBlc2NhcGVkUmVnZXggPSB1dGlsLmVzY2FwZVJlZ2V4KGRlZi5pbmNsdWRlcyk7XG4gICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAodHlwZW9mIGRlZi5wb3NpdGlvbiA9PT0gXCJudW1iZXJcIiA/IGBeLnske2RlZi5wb3NpdGlvbn19JHtlc2NhcGVkUmVnZXh9YCA6IGVzY2FwZWRSZWdleCk7XG4gICAgZGVmLnBhdHRlcm4gPSBwYXR0ZXJuO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5wYXR0ZXJucyA/PyAoYmFnLnBhdHRlcm5zID0gbmV3IFNldCgpKTtcbiAgICAgICAgYmFnLnBhdHRlcm5zLmFkZChwYXR0ZXJuKTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZS5pbmNsdWRlcyhkZWYuaW5jbHVkZXMsIGRlZi5wb3NpdGlvbikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgZm9ybWF0OiBcImluY2x1ZGVzXCIsXG4gICAgICAgICAgICBpbmNsdWRlczogZGVmLmluY2x1ZGVzLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tTdGFydHNXaXRoID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1N0YXJ0c1dpdGhcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoYF4ke3V0aWwuZXNjYXBlUmVnZXgoZGVmLnByZWZpeCl9LipgKTtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSBwYXR0ZXJuKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcucGF0dGVybnMgPz8gKGJhZy5wYXR0ZXJucyA9IG5ldyBTZXQoKSk7XG4gICAgICAgIGJhZy5wYXR0ZXJucy5hZGQocGF0dGVybik7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKHBheWxvYWQudmFsdWUuc3RhcnRzV2l0aChkZWYucHJlZml4KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwic3RhcnRzX3dpdGhcIixcbiAgICAgICAgICAgIHByZWZpeDogZGVmLnByZWZpeCxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrRW5kc1dpdGggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrRW5kc1dpdGhcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoYC4qJHt1dGlsLmVzY2FwZVJlZ2V4KGRlZi5zdWZmaXgpfSRgKTtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSBwYXR0ZXJuKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcucGF0dGVybnMgPz8gKGJhZy5wYXR0ZXJucyA9IG5ldyBTZXQoKSk7XG4gICAgICAgIGJhZy5wYXR0ZXJucy5hZGQocGF0dGVybik7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKHBheWxvYWQudmFsdWUuZW5kc1dpdGgoZGVmLnN1ZmZpeCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgZm9ybWF0OiBcImVuZHNfd2l0aFwiLFxuICAgICAgICAgICAgc3VmZml4OiBkZWYuc3VmZml4LFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLyAgICAkWm9kQ2hlY2tQcm9wZXJ0eSAgICAvLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGhhbmRsZUNoZWNrUHJvcGVydHlSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBwcm9wZXJ0eSkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKHByb3BlcnR5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0ICRab2RDaGVja1Byb3BlcnR5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1Byb3BlcnR5XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5zY2hlbWEuX3pvZC5ydW4oe1xuICAgICAgICAgICAgdmFsdWU6IHBheWxvYWQudmFsdWVbZGVmLnByb3BlcnR5XSxcbiAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiBoYW5kbGVDaGVja1Byb3BlcnR5UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgZGVmLnByb3BlcnR5KSk7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlQ2hlY2tQcm9wZXJ0eVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGRlZi5wcm9wZXJ0eSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTWltZVR5cGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTWltZVR5cGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgbWltZVNldCA9IG5ldyBTZXQoZGVmLm1pbWUpO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGluc3QuX3pvZC5iYWcubWltZSA9IGRlZi5taW1lO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChtaW1lU2V0LmhhcyhwYXlsb2FkLnZhbHVlLnR5cGUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF92YWx1ZVwiLFxuICAgICAgICAgICAgdmFsdWVzOiBkZWYubWltZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLnR5cGUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tPdmVyd3JpdGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrT3ZlcndyaXRlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBkZWYudHgocGF5bG9hZC52YWx1ZSk7XG4gICAgfTtcbn0pO1xuIiwgImV4cG9ydCBjbGFzcyBEb2Mge1xuICAgIGNvbnN0cnVjdG9yKGFyZ3MgPSBbXSkge1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBbXTtcbiAgICAgICAgdGhpcy5pbmRlbnQgPSAwO1xuICAgICAgICBpZiAodGhpcylcbiAgICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3M7XG4gICAgfVxuICAgIGluZGVudGVkKGZuKSB7XG4gICAgICAgIHRoaXMuaW5kZW50ICs9IDE7XG4gICAgICAgIGZuKHRoaXMpO1xuICAgICAgICB0aGlzLmluZGVudCAtPSAxO1xuICAgIH1cbiAgICB3cml0ZShhcmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgYXJnKHRoaXMsIHsgZXhlY3V0aW9uOiBcInN5bmNcIiB9KTtcbiAgICAgICAgICAgIGFyZyh0aGlzLCB7IGV4ZWN1dGlvbjogXCJhc3luY1wiIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhcmc7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdChcIlxcblwiKS5maWx0ZXIoKHgpID0+IHgpO1xuICAgICAgICBjb25zdCBtaW5JbmRlbnQgPSBNYXRoLm1pbiguLi5saW5lcy5tYXAoKHgpID0+IHgubGVuZ3RoIC0geC50cmltU3RhcnQoKS5sZW5ndGgpKTtcbiAgICAgICAgY29uc3QgZGVkZW50ZWQgPSBsaW5lcy5tYXAoKHgpID0+IHguc2xpY2UobWluSW5kZW50KSkubWFwKCh4KSA9PiBcIiBcIi5yZXBlYXQodGhpcy5pbmRlbnQgKiAyKSArIHgpO1xuICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgZGVkZW50ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5wdXNoKGxpbmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBpbGUoKSB7XG4gICAgICAgIGNvbnN0IEYgPSBGdW5jdGlvbjtcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXM/LmFyZ3M7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzPy5jb250ZW50ID8/IFtgYF07XG4gICAgICAgIGNvbnN0IGxpbmVzID0gWy4uLmNvbnRlbnQubWFwKCh4KSA9PiBgICAke3h9YCldO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhsaW5lcy5qb2luKFwiXFxuXCIpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGKC4uLmFyZ3MsIGxpbmVzLmpvaW4oXCJcXG5cIikpO1xuICAgIH1cbn1cbiIsICJleHBvcnQgY29uc3QgdmVyc2lvbiA9IHtcbiAgICBtYWpvcjogNCxcbiAgICBtaW5vcjogMSxcbiAgICBwYXRjaDogOCxcbn07XG4iLCAiaW1wb3J0ICogYXMgY2hlY2tzIGZyb20gXCIuL2NoZWNrcy5qc1wiO1xuaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgeyBEb2MgfSBmcm9tIFwiLi9kb2MuanNcIjtcbmltcG9ydCB7IHBhcnNlLCBwYXJzZUFzeW5jLCBzYWZlUGFyc2UsIHNhZmVQYXJzZUFzeW5jIH0gZnJvbSBcIi4vcGFyc2UuanNcIjtcbmltcG9ydCAqIGFzIHJlZ2V4ZXMgZnJvbSBcIi4vcmVnZXhlcy5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4vdmVyc2lvbnMuanNcIjtcbmV4cG9ydCBjb25zdCAkWm9kVHlwZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVHlwZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGluc3QgPz8gKGluc3QgPSB7fSk7XG4gICAgaW5zdC5fem9kLmRlZiA9IGRlZjsgLy8gc2V0IF9kZWYgcHJvcGVydHlcbiAgICBpbnN0Ll96b2QuYmFnID0gaW5zdC5fem9kLmJhZyB8fCB7fTsgLy8gaW5pdGlhbGl6ZSBfYmFnIG9iamVjdFxuICAgIGluc3QuX3pvZC52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICBjb25zdCBjaGVja3MgPSBbLi4uKGluc3QuX3pvZC5kZWYuY2hlY2tzID8/IFtdKV07XG4gICAgLy8gaWYgaW5zdCBpcyBpdHNlbGYgYSBjaGVja3MuJFpvZENoZWNrLCBydW4gaXQgYXMgYSBjaGVja1xuICAgIGlmIChpbnN0Ll96b2QudHJhaXRzLmhhcyhcIiRab2RDaGVja1wiKSkge1xuICAgICAgICBjaGVja3MudW5zaGlmdChpbnN0KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjaCBvZiBjaGVja3MpIHtcbiAgICAgICAgZm9yIChjb25zdCBmbiBvZiBjaC5fem9kLm9uYXR0YWNoKSB7XG4gICAgICAgICAgICBmbihpbnN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2hlY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBkZWZlcnJlZCBpbml0aWFsaXplclxuICAgICAgICAvLyBpbnN0Ll96b2QucGFyc2UgaXMgbm90IHlldCBkZWZpbmVkXG4gICAgICAgIChfYSA9IGluc3QuX3pvZCkuZGVmZXJyZWQgPz8gKF9hLmRlZmVycmVkID0gW10pO1xuICAgICAgICBpbnN0Ll96b2QuZGVmZXJyZWQ/LnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgaW5zdC5fem9kLnJ1biA9IGluc3QuX3pvZC5wYXJzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBydW5DaGVja3MgPSAocGF5bG9hZCwgY2hlY2tzLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGxldCBpc0Fib3J0ZWQgPSB1dGlsLmFib3J0ZWQocGF5bG9hZCk7XG4gICAgICAgICAgICBsZXQgYXN5bmNSZXN1bHQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIGNoZWNrcykge1xuICAgICAgICAgICAgICAgIGlmIChjaC5fem9kLmRlZi53aGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFJ1biA9IGNoLl96b2QuZGVmLndoZW4ocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2hvdWxkUnVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyckxlbiA9IHBheWxvYWQuaXNzdWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBfID0gY2guX3pvZC5jaGVjayhwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICBpZiAoXyBpbnN0YW5jZW9mIFByb21pc2UgJiYgY3R4Py5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEFzeW5jRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFzeW5jUmVzdWx0IHx8IF8gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jUmVzdWx0ID0gKGFzeW5jUmVzdWx0ID8/IFByb21pc2UucmVzb2x2ZSgpKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IF87XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0TGVuID0gcGF5bG9hZC5pc3N1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRMZW4gPT09IGN1cnJMZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0Fib3J0ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBYm9ydGVkID0gdXRpbC5hYm9ydGVkKHBheWxvYWQsIGN1cnJMZW4pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRMZW4gPSBwYXlsb2FkLmlzc3Vlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0TGVuID09PSBjdXJyTGVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNBYm9ydGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBYm9ydGVkID0gdXRpbC5hYm9ydGVkKHBheWxvYWQsIGN1cnJMZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhc3luY1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhc3luY1Jlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gY29uc3QgaGFuZGxlQ2hlY2tzUmVzdWx0ID0gKFxuICAgICAgICAvLyAgIGNoZWNrUmVzdWx0OiBQYXJzZVBheWxvYWQsXG4gICAgICAgIC8vICAgb3JpZ2luYWxSZXN1bHQ6IFBhcnNlUGF5bG9hZCxcbiAgICAgICAgLy8gICBjdHg6IFBhcnNlQ29udGV4dEludGVybmFsXG4gICAgICAgIC8vICk6IHV0aWwuTWF5YmVBc3luYzxQYXJzZVBheWxvYWQ+ID0+IHtcbiAgICAgICAgLy8gICAvLyBpZiB0aGUgY2hlY2tzIG11dGF0ZWQgdGhlIHZhbHVlICYmIHRoZXJlIGFyZSBubyBpc3N1ZXMsIHJlLXBhcnNlIHRoZSByZXN1bHRcbiAgICAgICAgLy8gICBpZiAoY2hlY2tSZXN1bHQudmFsdWUgIT09IG9yaWdpbmFsUmVzdWx0LnZhbHVlICYmICFjaGVja1Jlc3VsdC5pc3N1ZXMubGVuZ3RoKVxuICAgICAgICAvLyAgICAgcmV0dXJuIGluc3QuX3pvZC5wYXJzZShjaGVja1Jlc3VsdCwgY3R4KTtcbiAgICAgICAgLy8gICByZXR1cm4gb3JpZ2luYWxSZXN1bHQ7XG4gICAgICAgIC8vIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZUNhbmFyeVJlc3VsdCA9IChjYW5hcnksIHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICAgICAgLy8gYWJvcnQgaWYgdGhlIGNhbmFyeSBpcyBhYm9ydGVkXG4gICAgICAgICAgICBpZiAodXRpbC5hYm9ydGVkKGNhbmFyeSkpIHtcbiAgICAgICAgICAgICAgICBjYW5hcnkuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbmFyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJ1biBjaGVja3MgZmlyc3QsIHRoZW5cbiAgICAgICAgICAgIGNvbnN0IGNoZWNrUmVzdWx0ID0gcnVuQ2hlY2tzKHBheWxvYWQsIGNoZWNrcywgY3R4KTtcbiAgICAgICAgICAgIGlmIChjaGVja1Jlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmFzeW5jID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEFzeW5jRXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2tSZXN1bHQudGhlbigoY2hlY2tSZXN1bHQpID0+IGluc3QuX3pvZC5wYXJzZShjaGVja1Jlc3VsdCwgY3R4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5zdC5fem9kLnBhcnNlKGNoZWNrUmVzdWx0LCBjdHgpO1xuICAgICAgICB9O1xuICAgICAgICBpbnN0Ll96b2QucnVuID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKGN0eC5za2lwQ2hlY2tzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3QuX3pvZC5wYXJzZShwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgICAgIC8vIHJ1biBjYW5hcnlcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsIHBhc3MgKG5vIGNoZWNrcylcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5hcnkgPSBpbnN0Ll96b2QucGFyc2UoeyB2YWx1ZTogcGF5bG9hZC52YWx1ZSwgaXNzdWVzOiBbXSB9LCB7IC4uLmN0eCwgc2tpcENoZWNrczogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuYXJ5IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FuYXJ5LnRoZW4oKGNhbmFyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUNhbmFyeVJlc3VsdChjYW5hcnksIHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlQ2FuYXJ5UmVzdWx0KGNhbmFyeSwgcGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZvcndhcmRcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGluc3QuX3pvZC5wYXJzZShwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmFzeW5jID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEFzeW5jRXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4gcnVuQ2hlY2tzKHJlc3VsdCwgY2hlY2tzLCBjdHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydW5DaGVja3MocmVzdWx0LCBjaGVja3MsIGN0eCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGluc3RbXCJ+c3RhbmRhcmRcIl0gPSB7XG4gICAgICAgIHZhbGlkYXRlOiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHNhZmVQYXJzZShpbnN0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHIuc3VjY2VzcyA/IHsgdmFsdWU6IHIuZGF0YSB9IDogeyBpc3N1ZXM6IHIuZXJyb3I/Lmlzc3VlcyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2FmZVBhcnNlQXN5bmMoaW5zdCwgdmFsdWUpLnRoZW4oKHIpID0+IChyLnN1Y2Nlc3MgPyB7IHZhbHVlOiByLmRhdGEgfSA6IHsgaXNzdWVzOiByLmVycm9yPy5pc3N1ZXMgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2ZW5kb3I6IFwiem9kXCIsXG4gICAgICAgIHZlcnNpb246IDEsXG4gICAgfTtcbn0pO1xuZXhwb3J0IHsgY2xvbmUgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgJFpvZFN0cmluZyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kU3RyaW5nXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSBbLi4uKGluc3Q/Ll96b2QuYmFnPy5wYXR0ZXJucyA/PyBbXSldLnBvcCgpID8/IHJlZ2V4ZXMuc3RyaW5nKGluc3QuX3pvZC5iYWcpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfKSA9PiB7XG4gICAgICAgIGlmIChkZWYuY29lcmNlKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gU3RyaW5nKHBheWxvYWQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQudmFsdWUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFN0cmluZ0Zvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kU3RyaW5nRm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBjaGVjayBpbml0aWFsaXphdGlvbiBtdXN0IGNvbWUgZmlyc3RcbiAgICBjaGVja3MuJFpvZENoZWNrU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICAkWm9kU3RyaW5nLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RHVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RHVUlEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmd1aWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFVVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFVVSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGlmIChkZWYudmVyc2lvbikge1xuICAgICAgICBjb25zdCB2ZXJzaW9uTWFwID0ge1xuICAgICAgICAgICAgdjE6IDEsXG4gICAgICAgICAgICB2MjogMixcbiAgICAgICAgICAgIHYzOiAzLFxuICAgICAgICAgICAgdjQ6IDQsXG4gICAgICAgICAgICB2NTogNSxcbiAgICAgICAgICAgIHY2OiA2LFxuICAgICAgICAgICAgdjc6IDcsXG4gICAgICAgICAgICB2ODogOCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdiA9IHZlcnNpb25NYXBbZGVmLnZlcnNpb25dO1xuICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIFVVSUQgdmVyc2lvbjogXCIke2RlZi52ZXJzaW9ufVwiYCk7XG4gICAgICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMudXVpZCh2KSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICAgICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy51dWlkKCkpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEVtYWlsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RFbWFpbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5lbWFpbCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kVVJMID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RVUkxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUcmltIHdoaXRlc3BhY2UgZnJvbSBpbnB1dFxuICAgICAgICAgICAgY29uc3QgdHJpbW1lZCA9IHBheWxvYWQudmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0cmltbWVkKTtcbiAgICAgICAgICAgIGlmIChkZWYuaG9zdG5hbWUpIHtcbiAgICAgICAgICAgICAgICBkZWYuaG9zdG5hbWUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoIWRlZi5ob3N0bmFtZS50ZXN0KHVybC5ob3N0bmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlOiBcIkludmFsaWQgaG9zdG5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IHJlZ2V4ZXMuaG9zdG5hbWUuc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWYucHJvdG9jb2wpIHtcbiAgICAgICAgICAgICAgICBkZWYucHJvdG9jb2wubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoIWRlZi5wcm90b2NvbC50ZXN0KHVybC5wcm90b2NvbC5lbmRzV2l0aChcIjpcIikgPyB1cmwucHJvdG9jb2wuc2xpY2UoMCwgLTEpIDogdXJsLnByb3RvY29sKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJ1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6IFwiSW52YWxpZCBwcm90b2NvbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogZGVmLnByb3RvY29sLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgdGhlIG91dHB1dCB2YWx1ZSBiYXNlZCBvbiBub3JtYWxpemUgZmxhZ1xuICAgICAgICAgICAgaWYgKGRlZi5ub3JtYWxpemUpIHtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugbm9ybWFsaXplZCBVUkxcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gdXJsLmhyZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBQcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgaW5wdXQgKHRyaW1tZWQpXG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHRyaW1tZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RFbW9qaSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRW1vamlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZW1vamkoKSk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTmFub0lEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROYW5vSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMubmFub2lkKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDVUlEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmN1aWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENVSUQyID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDVUlEMlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5jdWlkMik7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kVUxJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVUxJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy51bGlkKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RYSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFhJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy54aWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEtTVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RLU1VJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5rc3VpZCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSVNPRGF0ZVRpbWUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZElTT0RhdGVUaW1lXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmRhdGV0aW1lKGRlZikpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZElTT0RhdGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZElTT0RhdGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZGF0ZSk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSVNPVGltZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSVNPVGltZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy50aW1lKGRlZikpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZElTT0R1cmF0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJU09EdXJhdGlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5kdXJhdGlvbik7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSVB2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSVB2NFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5pcHY0KTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcuZm9ybWF0ID0gYGlwdjRgO1xuICAgIH0pO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZElQdjYgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZElQdjZcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuaXB2Nik7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLmZvcm1hdCA9IGBpcHY2YDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgbmV3IFVSTChgaHR0cDovL1ske3BheWxvYWQudmFsdWV9XWApO1xuICAgICAgICAgICAgLy8gcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiaXB2NlwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ0lEUnY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDSURSdjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuY2lkcnY0KTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDSURSdjYgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENJRFJ2NlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5jaWRydjYpOyAvLyBub3QgdXNlZCBmb3IgdmFsaWRhdGlvblxuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcGF5bG9hZC52YWx1ZS5zcGxpdChcIi9cIik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoICE9PSAyKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgY29uc3QgW2FkZHJlc3MsIHByZWZpeF0gPSBwYXJ0cztcbiAgICAgICAgICAgIGlmICghcHJlZml4KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgY29uc3QgcHJlZml4TnVtID0gTnVtYmVyKHByZWZpeCk7XG4gICAgICAgICAgICBpZiAoYCR7cHJlZml4TnVtfWAgIT09IHByZWZpeClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIGlmIChwcmVmaXhOdW0gPCAwIHx8IHByZWZpeE51bSA+IDEyOClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG5ldyBVUkwoYGh0dHA6Ly9bJHthZGRyZXNzfV1gKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBcImNpZHJ2NlwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAgIFpvZEJhc2U2NCAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRCYXNlNjQoZGF0YSkge1xuICAgIGlmIChkYXRhID09PSBcIlwiKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZGF0YS5sZW5ndGggJSA0ICE9PSAwKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhdG9iKGRhdGEpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0ICRab2RCYXNlNjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEJhc2U2NFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5iYXNlNjQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGluc3QuX3pvZC5iYWcuY29udGVudEVuY29kaW5nID0gXCJiYXNlNjRcIjtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAoaXNWYWxpZEJhc2U2NChwYXlsb2FkLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwiYmFzZTY0XCIsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICAgWm9kQmFzZTY0ICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEJhc2U2NFVSTChkYXRhKSB7XG4gICAgaWYgKCFyZWdleGVzLmJhc2U2NHVybC50ZXN0KGRhdGEpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgYmFzZTY0ID0gZGF0YS5yZXBsYWNlKC9bLV9dL2csIChjKSA9PiAoYyA9PT0gXCItXCIgPyBcIitcIiA6IFwiL1wiKSk7XG4gICAgY29uc3QgcGFkZGVkID0gYmFzZTY0LnBhZEVuZChNYXRoLmNlaWwoYmFzZTY0Lmxlbmd0aCAvIDQpICogNCwgXCI9XCIpO1xuICAgIHJldHVybiBpc1ZhbGlkQmFzZTY0KHBhZGRlZCk7XG59XG5leHBvcnQgY29uc3QgJFpvZEJhc2U2NFVSTCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQmFzZTY0VVJMXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmJhc2U2NHVybCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgaW5zdC5fem9kLmJhZy5jb250ZW50RW5jb2RpbmcgPSBcImJhc2U2NHVybFwiO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChpc1ZhbGlkQmFzZTY0VVJMKHBheWxvYWQudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEUxNjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEUxNjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZTE2NCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAgIFpvZEpXVCAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRKV1QodG9rZW4sIGFsZ29yaXRobSA9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbnNQYXJ0cyA9IHRva2VuLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgaWYgKHRva2Vuc1BhcnRzLmxlbmd0aCAhPT0gMylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgW2hlYWRlcl0gPSB0b2tlbnNQYXJ0cztcbiAgICAgICAgaWYgKCFoZWFkZXIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgcGFyc2VkSGVhZGVyID0gSlNPTi5wYXJzZShhdG9iKGhlYWRlcikpO1xuICAgICAgICBpZiAoXCJ0eXBcIiBpbiBwYXJzZWRIZWFkZXIgJiYgcGFyc2VkSGVhZGVyPy50eXAgIT09IFwiSldUXCIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghcGFyc2VkSGVhZGVyLmFsZylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGFsZ29yaXRobSAmJiAoIShcImFsZ1wiIGluIHBhcnNlZEhlYWRlcikgfHwgcGFyc2VkSGVhZGVyLmFsZyAhPT0gYWxnb3JpdGhtKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCAkWm9kSldUID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RKV1RcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChpc1ZhbGlkSldUKHBheWxvYWQudmFsdWUsIGRlZi5hbGcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJqd3RcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ3VzdG9tU3RyaW5nRm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAoZGVmLmZuKHBheWxvYWQudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogZGVmLmZvcm1hdCxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE51bWJlciA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTnVtYmVyXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSBpbnN0Ll96b2QuYmFnLnBhdHRlcm4gPz8gcmVnZXhlcy5udW1iZXI7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKGRlZi5jb2VyY2UpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBOdW1iZXIocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJudW1iZXJcIiAmJiAhTnVtYmVyLmlzTmFOKGlucHV0KSAmJiBOdW1iZXIuaXNGaW5pdGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWNlaXZlZCA9IHR5cGVvZiBpbnB1dCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgPyBOdW1iZXIuaXNOYU4oaW5wdXQpXG4gICAgICAgICAgICAgICAgPyBcIk5hTlwiXG4gICAgICAgICAgICAgICAgOiAhTnVtYmVyLmlzRmluaXRlKGlucHV0KVxuICAgICAgICAgICAgICAgICAgICA/IFwiSW5maW5pdHlcIlxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgLi4uKHJlY2VpdmVkID8geyByZWNlaXZlZCB9IDoge30pLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROdW1iZXJGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE51bWJlclwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY2hlY2tzLiRab2RDaGVja051bWJlckZvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgJFpvZE51bWJlci5pbml0KGluc3QsIGRlZik7IC8vIG5vIGZvcm1hdCBjaGVja3NwXG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQm9vbGVhbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQm9vbGVhblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gcmVnZXhlcy5ib29sZWFuO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGlmIChkZWYuY29lcmNlKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gQm9vbGVhbihwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcImJvb2xlYW5cIilcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcImJvb2xlYW5cIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEJpZ0ludCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQmlnSW50XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSByZWdleGVzLmJpZ2ludDtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBpZiAoZGVmLmNvZXJjZSlcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IEJpZ0ludChwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlID09PSBcImJpZ2ludFwiKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RCaWdJbnRGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEJpZ0ludFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY2hlY2tzLiRab2RDaGVja0JpZ0ludEZvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgJFpvZEJpZ0ludC5pbml0KGluc3QsIGRlZik7IC8vIG5vIGZvcm1hdCBjaGVja3Ncbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RTeW1ib2wgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFN5bWJvbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJzeW1ib2xcIilcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcInN5bWJvbFwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kVW5kZWZpbmVkID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RVbmRlZmluZWRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IHJlZ2V4ZXMudW5kZWZpbmVkO1xuICAgIGluc3QuX3pvZC52YWx1ZXMgPSBuZXcgU2V0KFt1bmRlZmluZWRdKTtcbiAgICBpbnN0Ll96b2Qub3B0aW4gPSBcIm9wdGlvbmFsXCI7XG4gICAgaW5zdC5fem9kLm9wdG91dCA9IFwib3B0aW9uYWxcIjtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJ1bmRlZmluZWRcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE51bGwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE51bGxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IHJlZ2V4ZXMubnVsbDtcbiAgICBpbnN0Ll96b2QudmFsdWVzID0gbmV3IFNldChbbnVsbF0pO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwibnVsbFwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQW55ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RBbnlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCkgPT4gcGF5bG9hZDtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RVbmtub3duID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RVbmtub3duXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQpID0+IHBheWxvYWQ7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTmV2ZXIgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE5ldmVyXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJuZXZlclwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kVm9pZCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVm9pZFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcInZvaWRcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZERhdGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZERhdGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBpZiAoZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gbmV3IERhdGUocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2VycikgeyB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBpc0RhdGUgPSBpbnB1dCBpbnN0YW5jZW9mIERhdGU7XG4gICAgICAgIGNvbnN0IGlzVmFsaWREYXRlID0gaXNEYXRlICYmICFOdW1iZXIuaXNOYU4oaW5wdXQuZ2V0VGltZSgpKTtcbiAgICAgICAgaWYgKGlzVmFsaWREYXRlKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgLi4uKGlzRGF0ZSA/IHsgcmVjZWl2ZWQ6IFwiSW52YWxpZCBEYXRlXCIgfSA6IHt9KSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVBcnJheVJlc3VsdChyZXN1bHQsIGZpbmFsLCBpbmRleCkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhpbmRleCwgcmVzdWx0Lmlzc3VlcykpO1xuICAgIH1cbiAgICBmaW5hbC52YWx1ZVtpbmRleF0gPSByZXN1bHQudmFsdWU7XG59XG5leHBvcnQgY29uc3QgJFpvZEFycmF5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RBcnJheVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IEFycmF5KGlucHV0Lmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHByb21zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpbnB1dFtpXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5lbGVtZW50Ll96b2QucnVuKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbSxcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcHJvbXMucHVzaChyZXN1bHQudGhlbigocmVzdWx0KSA9PiBoYW5kbGVBcnJheVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGkpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVBcnJheVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9tcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKSA9PiBwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF5bG9hZDsgLy9oYW5kbGVBcnJheVJlc3VsdHNBc3luYyhwYXJzZVJlc3VsdHMsIGZpbmFsKTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVQcm9wZXJ0eVJlc3VsdChyZXN1bHQsIGZpbmFsLCBrZXksIGlucHV0KSB7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGtleSwgcmVzdWx0Lmlzc3VlcykpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGtleSBpbiBpbnB1dCkge1xuICAgICAgICAgICAgZmluYWwudmFsdWVba2V5XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZmluYWwudmFsdWVba2V5XSA9IHJlc3VsdC52YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVEZWYoZGVmKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRlZi5zaGFwZSk7XG4gICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHtcbiAgICAgICAgaWYgKCFkZWYuc2hhcGU/LltrXT8uX3pvZD8udHJhaXRzPy5oYXMoXCIkWm9kVHlwZVwiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGVsZW1lbnQgYXQga2V5IFwiJHtrfVwiOiBleHBlY3RlZCBhIFpvZCBzY2hlbWFgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBva2V5cyA9IHV0aWwub3B0aW9uYWxLZXlzKGRlZi5zaGFwZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZGVmLFxuICAgICAgICBrZXlzLFxuICAgICAgICBrZXlTZXQ6IG5ldyBTZXQoa2V5cyksXG4gICAgICAgIG51bUtleXM6IGtleXMubGVuZ3RoLFxuICAgICAgICBvcHRpb25hbEtleXM6IG5ldyBTZXQob2tleXMpLFxuICAgIH07XG59XG5mdW5jdGlvbiBoYW5kbGVDYXRjaGFsbChwcm9tcywgaW5wdXQsIHBheWxvYWQsIGN0eCwgZGVmLCBpbnN0KSB7XG4gICAgY29uc3QgdW5yZWNvZ25pemVkID0gW107XG4gICAgLy8gaXRlcmF0ZSBvdmVyIGlucHV0IGtleXNcbiAgICBjb25zdCBrZXlTZXQgPSBkZWYua2V5U2V0O1xuICAgIGNvbnN0IF9jYXRjaGFsbCA9IGRlZi5jYXRjaGFsbC5fem9kO1xuICAgIGNvbnN0IHQgPSBfY2F0Y2hhbGwuZGVmLnR5cGU7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoaW5wdXQpKSB7XG4gICAgICAgIGlmIChrZXlTZXQuaGFzKGtleSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKHQgPT09IFwibmV2ZXJcIikge1xuICAgICAgICAgICAgdW5yZWNvZ25pemVkLnB1c2goa2V5KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSBfY2F0Y2hhbGwucnVuKHsgdmFsdWU6IGlucHV0W2tleV0sIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9tcy5wdXNoKHIudGhlbigocikgPT4gaGFuZGxlUHJvcGVydHlSZXN1bHQociwgcGF5bG9hZCwga2V5LCBpbnB1dCkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZVByb3BlcnR5UmVzdWx0KHIsIHBheWxvYWQsIGtleSwgaW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh1bnJlY29nbml6ZWQubGVuZ3RoKSB7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJ1bnJlY29nbml6ZWRfa2V5c1wiLFxuICAgICAgICAgICAga2V5czogdW5yZWNvZ25pemVkLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFwcm9tcy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0ICRab2RPYmplY3QgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE9iamVjdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gcmVxdWlyZXMgY2FzdCBiZWNhdXNlIHRlY2huaWNhbGx5ICRab2RPYmplY3QgZG9lc24ndCBleHRlbmRcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgX25vcm1hbGl6ZWQgPSB1dGlsLmNhY2hlZCgoKSA9PiBub3JtYWxpemVEZWYoZGVmKSk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwcm9wVmFsdWVzXCIsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBkZWYuc2hhcGU7XG4gICAgICAgIGNvbnN0IHByb3BWYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2hhcGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gc2hhcGVba2V5XS5fem9kO1xuICAgICAgICAgICAgaWYgKGZpZWxkLnZhbHVlcykge1xuICAgICAgICAgICAgICAgIHByb3BWYWx1ZXNba2V5XSA/PyAocHJvcFZhbHVlc1trZXldID0gbmV3IFNldCgpKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgZmllbGQudmFsdWVzKVxuICAgICAgICAgICAgICAgICAgICBwcm9wVmFsdWVzW2tleV0uYWRkKHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wVmFsdWVzO1xuICAgIH0pO1xuICAgIGNvbnN0IGlzT2JqZWN0ID0gdXRpbC5pc09iamVjdDtcbiAgICBjb25zdCBjYXRjaGFsbCA9IGRlZi5jYXRjaGFsbDtcbiAgICBsZXQgdmFsdWU7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICB2YWx1ZSA/PyAodmFsdWUgPSBfbm9ybWFsaXplZC52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKCFpc09iamVjdChpbnB1dCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHt9O1xuICAgICAgICBjb25zdCBwcm9tcyA9IFtdO1xuICAgICAgICBjb25zdCBzaGFwZSA9IHZhbHVlLnNoYXBlO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB2YWx1ZS5rZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IHNoYXBlW2tleV07XG4gICAgICAgICAgICBjb25zdCByID0gZWwuX3pvZC5ydW4oeyB2YWx1ZTogaW5wdXRba2V5XSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcHJvbXMucHVzaChyLnRoZW4oKHIpID0+IGhhbmRsZVByb3BlcnR5UmVzdWx0KHIsIHBheWxvYWQsIGtleSwgaW5wdXQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVQcm9wZXJ0eVJlc3VsdChyLCBwYXlsb2FkLCBrZXksIGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhdGNoYWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbXMubGVuZ3RoID8gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCkgPT4gcGF5bG9hZCkgOiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVDYXRjaGFsbChwcm9tcywgaW5wdXQsIHBheWxvYWQsIGN0eCwgX25vcm1hbGl6ZWQudmFsdWUsIGluc3QpO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kT2JqZWN0SklUID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RPYmplY3RKSVRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIHJlcXVpcmVzIGNhc3QgYmVjYXVzZSB0ZWNobmljYWxseSAkWm9kT2JqZWN0IGRvZXNuJ3QgZXh0ZW5kXG4gICAgJFpvZE9iamVjdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3Qgc3VwZXJQYXJzZSA9IGluc3QuX3pvZC5wYXJzZTtcbiAgICBjb25zdCBfbm9ybWFsaXplZCA9IHV0aWwuY2FjaGVkKCgpID0+IG5vcm1hbGl6ZURlZihkZWYpKTtcbiAgICBjb25zdCBnZW5lcmF0ZUZhc3RwYXNzID0gKHNoYXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IGRvYyA9IG5ldyBEb2MoW1wic2hhcGVcIiwgXCJwYXlsb2FkXCIsIFwiY3R4XCJdKTtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IF9ub3JtYWxpemVkLnZhbHVlO1xuICAgICAgICBjb25zdCBwYXJzZVN0ciA9IChrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGsgPSB1dGlsLmVzYyhrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGBzaGFwZVske2t9XS5fem9kLnJ1bih7IHZhbHVlOiBpbnB1dFske2t9XSwgaXNzdWVzOiBbXSB9LCBjdHgpYDtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jLndyaXRlKGBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7YCk7XG4gICAgICAgIGNvbnN0IGlkcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygbm9ybWFsaXplZC5rZXlzKSB7XG4gICAgICAgICAgICBpZHNba2V5XSA9IGBrZXlfJHtjb3VudGVyKyt9YDtcbiAgICAgICAgfVxuICAgICAgICAvLyBBOiBwcmVzZXJ2ZSBrZXkgb3JkZXIge1xuICAgICAgICBkb2Mud3JpdGUoYGNvbnN0IG5ld1Jlc3VsdCA9IHt9O2ApO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBub3JtYWxpemVkLmtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gaWRzW2tleV07XG4gICAgICAgICAgICBjb25zdCBrID0gdXRpbC5lc2Moa2V5KTtcbiAgICAgICAgICAgIGRvYy53cml0ZShgY29uc3QgJHtpZH0gPSAke3BhcnNlU3RyKGtleSl9O2ApO1xuICAgICAgICAgICAgZG9jLndyaXRlKGBcbiAgICAgICAgaWYgKCR7aWR9Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICBwYXlsb2FkLmlzc3VlcyA9IHBheWxvYWQuaXNzdWVzLmNvbmNhdCgke2lkfS5pc3N1ZXMubWFwKGlzcyA9PiAoe1xuICAgICAgICAgICAgLi4uaXNzLFxuICAgICAgICAgICAgcGF0aDogaXNzLnBhdGggPyBbJHtrfSwgLi4uaXNzLnBhdGhdIDogWyR7a31dXG4gICAgICAgICAgfSkpKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGlmICgke2lkfS52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKCR7a30gaW4gaW5wdXQpIHtcbiAgICAgICAgICAgIG5ld1Jlc3VsdFske2t9XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3UmVzdWx0WyR7a31dID0gJHtpZH0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICBgKTtcbiAgICAgICAgfVxuICAgICAgICBkb2Mud3JpdGUoYHBheWxvYWQudmFsdWUgPSBuZXdSZXN1bHQ7YCk7XG4gICAgICAgIGRvYy53cml0ZShgcmV0dXJuIHBheWxvYWQ7YCk7XG4gICAgICAgIGNvbnN0IGZuID0gZG9jLmNvbXBpbGUoKTtcbiAgICAgICAgcmV0dXJuIChwYXlsb2FkLCBjdHgpID0+IGZuKHNoYXBlLCBwYXlsb2FkLCBjdHgpO1xuICAgIH07XG4gICAgbGV0IGZhc3RwYXNzO1xuICAgIGNvbnN0IGlzT2JqZWN0ID0gdXRpbC5pc09iamVjdDtcbiAgICBjb25zdCBqaXQgPSAhY29yZS5nbG9iYWxDb25maWcuaml0bGVzcztcbiAgICBjb25zdCBhbGxvd3NFdmFsID0gdXRpbC5hbGxvd3NFdmFsO1xuICAgIGNvbnN0IGZhc3RFbmFibGVkID0gaml0ICYmIGFsbG93c0V2YWwudmFsdWU7IC8vICYmICFkZWYuY2F0Y2hhbGw7XG4gICAgY29uc3QgY2F0Y2hhbGwgPSBkZWYuY2F0Y2hhbGw7XG4gICAgbGV0IHZhbHVlO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgdmFsdWUgPz8gKHZhbHVlID0gX25vcm1hbGl6ZWQudmFsdWUpO1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghaXNPYmplY3QoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqaXQgJiYgZmFzdEVuYWJsZWQgJiYgY3R4Py5hc3luYyA9PT0gZmFsc2UgJiYgY3R4LmppdGxlc3MgIT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIGFsd2F5cyBzeW5jaHJvbm91c1xuICAgICAgICAgICAgaWYgKCFmYXN0cGFzcylcbiAgICAgICAgICAgICAgICBmYXN0cGFzcyA9IGdlbmVyYXRlRmFzdHBhc3MoZGVmLnNoYXBlKTtcbiAgICAgICAgICAgIHBheWxvYWQgPSBmYXN0cGFzcyhwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgaWYgKCFjYXRjaGFsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVDYXRjaGFsbChbXSwgaW5wdXQsIHBheWxvYWQsIGN0eCwgdmFsdWUsIGluc3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlclBhcnNlKHBheWxvYWQsIGN0eCk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlVW5pb25SZXN1bHRzKHJlc3VsdHMsIGZpbmFsLCBpbnN0LCBjdHgpIHtcbiAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZmluYWwudmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gZmluYWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgbm9uYWJvcnRlZCA9IHJlc3VsdHMuZmlsdGVyKChyKSA9PiAhdXRpbC5hYm9ydGVkKHIpKTtcbiAgICBpZiAobm9uYWJvcnRlZC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZmluYWwudmFsdWUgPSBub25hYm9ydGVkWzBdLnZhbHVlO1xuICAgICAgICByZXR1cm4gbm9uYWJvcnRlZFswXTtcbiAgICB9XG4gICAgZmluYWwuaXNzdWVzLnB1c2goe1xuICAgICAgICBjb2RlOiBcImludmFsaWRfdW5pb25cIixcbiAgICAgICAgaW5wdXQ6IGZpbmFsLnZhbHVlLFxuICAgICAgICBpbnN0LFxuICAgICAgICBlcnJvcnM6IHJlc3VsdHMubWFwKChyZXN1bHQpID0+IHJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpKSxcbiAgICB9KTtcbiAgICByZXR1cm4gZmluYWw7XG59XG5leHBvcnQgY29uc3QgJFpvZFVuaW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RVbmlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCkgPT4gZGVmLm9wdGlvbnMuc29tZSgobykgPT4gby5fem9kLm9wdGluID09PSBcIm9wdGlvbmFsXCIpID8gXCJvcHRpb25hbFwiIDogdW5kZWZpbmVkKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdG91dFwiLCAoKSA9PiBkZWYub3B0aW9ucy5zb21lKChvKSA9PiBvLl96b2Qub3B0b3V0ID09PSBcIm9wdGlvbmFsXCIpID8gXCJvcHRpb25hbFwiIDogdW5kZWZpbmVkKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiB7XG4gICAgICAgIGlmIChkZWYub3B0aW9ucy5ldmVyeSgobykgPT4gby5fem9kLnZhbHVlcykpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2V0KGRlZi5vcHRpb25zLmZsYXRNYXAoKG9wdGlvbikgPT4gQXJyYXkuZnJvbShvcHRpb24uX3pvZC52YWx1ZXMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInBhdHRlcm5cIiwgKCkgPT4ge1xuICAgICAgICBpZiAoZGVmLm9wdGlvbnMuZXZlcnkoKG8pID0+IG8uX3pvZC5wYXR0ZXJuKSkge1xuICAgICAgICAgICAgY29uc3QgcGF0dGVybnMgPSBkZWYub3B0aW9ucy5tYXAoKG8pID0+IG8uX3pvZC5wYXR0ZXJuKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBeKCR7cGF0dGVybnMubWFwKChwKSA9PiB1dGlsLmNsZWFuUmVnZXgocC5zb3VyY2UpKS5qb2luKFwifFwiKX0pJGApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgY29uc3Qgc2luZ2xlID0gZGVmLm9wdGlvbnMubGVuZ3RoID09PSAxO1xuICAgIGNvbnN0IGZpcnN0ID0gZGVmLm9wdGlvbnNbMF0uX3pvZC5ydW47XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoc2luZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3QocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXN5bmMgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBkZWYub3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl96b2QucnVuKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYXN5bmMpXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlVW5pb25SZXN1bHRzKHJlc3VsdHMsIHBheWxvYWQsIGluc3QsIGN0eCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZXN1bHRzKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlVW5pb25SZXN1bHRzKHJlc3VsdHMsIHBheWxvYWQsIGluc3QsIGN0eCk7XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRGlzY3JpbWluYXRlZFVuaW9uID0gXG4vKkBfX1BVUkVfXyovXG5jb3JlLiRjb25zdHJ1Y3RvcihcIiRab2REaXNjcmltaW5hdGVkVW5pb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RVbmlvbi5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgX3N1cGVyID0gaW5zdC5fem9kLnBhcnNlO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicHJvcFZhbHVlc1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BWYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgZGVmLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHB2ID0gb3B0aW9uLl96b2QucHJvcFZhbHVlcztcbiAgICAgICAgICAgIGlmICghcHYgfHwgT2JqZWN0LmtleXMocHYpLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZGlzY3JpbWluYXRlZCB1bmlvbiBvcHRpb24gYXQgaW5kZXggXCIke2RlZi5vcHRpb25zLmluZGV4T2Yob3B0aW9uKX1cImApO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMocHYpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wVmFsdWVzW2tdKVxuICAgICAgICAgICAgICAgICAgICBwcm9wVmFsdWVzW2tdID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlc1trXS5hZGQodmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BWYWx1ZXM7XG4gICAgfSk7XG4gICAgY29uc3QgZGlzYyA9IHV0aWwuY2FjaGVkKCgpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IGRlZi5vcHRpb25zO1xuICAgICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgbyBvZiBvcHRzKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBvLl96b2QucHJvcFZhbHVlcz8uW2RlZi5kaXNjcmltaW5hdG9yXTtcbiAgICAgICAgICAgIGlmICghdmFsdWVzIHx8IHZhbHVlcy5zaXplID09PSAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkaXNjcmltaW5hdGVkIHVuaW9uIG9wdGlvbiBhdCBpbmRleCBcIiR7ZGVmLm9wdGlvbnMuaW5kZXhPZihvKX1cImApO1xuICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIGlmIChtYXAuaGFzKHYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIGRpc2NyaW1pbmF0b3IgdmFsdWUgXCIke1N0cmluZyh2KX1cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXAuc2V0KHYsIG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghdXRpbC5pc09iamVjdChpbnB1dCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0ID0gZGlzYy52YWx1ZS5nZXQoaW5wdXQ/LltkZWYuZGlzY3JpbWluYXRvcl0pO1xuICAgICAgICBpZiAob3B0KSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0Ll96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi51bmlvbkZhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gbWF0Y2hpbmcgZGlzY3JpbWluYXRvclxuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF91bmlvblwiLFxuICAgICAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgICAgIG5vdGU6IFwiTm8gbWF0Y2hpbmcgZGlzY3JpbWluYXRvclwiLFxuICAgICAgICAgICAgZGlzY3JpbWluYXRvcjogZGVmLmRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIHBhdGg6IFtkZWYuZGlzY3JpbWluYXRvcl0sXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJbnRlcnNlY3Rpb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEludGVyc2VjdGlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBsZWZ0ID0gZGVmLmxlZnQuX3pvZC5ydW4oeyB2YWx1ZTogaW5wdXQsIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgY29uc3QgcmlnaHQgPSBkZWYucmlnaHQuX3pvZC5ydW4oeyB2YWx1ZTogaW5wdXQsIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgY29uc3QgYXN5bmMgPSBsZWZ0IGluc3RhbmNlb2YgUHJvbWlzZSB8fCByaWdodCBpbnN0YW5jZW9mIFByb21pc2U7XG4gICAgICAgIGlmIChhc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtsZWZ0LCByaWdodF0pLnRoZW4oKFtsZWZ0LCByaWdodF0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlSW50ZXJzZWN0aW9uUmVzdWx0cyhwYXlsb2FkLCBsZWZ0LCByaWdodCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlSW50ZXJzZWN0aW9uUmVzdWx0cyhwYXlsb2FkLCBsZWZ0LCByaWdodCk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gbWVyZ2VWYWx1ZXMoYSwgYikge1xuICAgIC8vIGNvbnN0IGFUeXBlID0gcGFyc2UudChhKTtcbiAgICAvLyBjb25zdCBiVHlwZSA9IHBhcnNlLnQoYik7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBEYXRlICYmIGIgaW5zdGFuY2VvZiBEYXRlICYmICthID09PSArYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBpZiAodXRpbC5pc1BsYWluT2JqZWN0KGEpICYmIHV0aWwuaXNQbGFpbk9iamVjdChiKSkge1xuICAgICAgICBjb25zdCBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuICAgICAgICBjb25zdCBzaGFyZWRLZXlzID0gT2JqZWN0LmtleXMoYSkuZmlsdGVyKChrZXkpID0+IGJLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpO1xuICAgICAgICBjb25zdCBuZXdPYmogPSB7IC4uLmEsIC4uLmIgfTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcmVkS2V5cykge1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXJnZUVycm9yUGF0aDogW2tleSwgLi4uc2hhcmVkVmFsdWUubWVyZ2VFcnJvclBhdGhdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld09iaiB9O1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSAmJiBBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVyZ2VFcnJvclBhdGg6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtQSA9IGFbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgaXRlbUIgPSBiW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoaXRlbUEsIGl0ZW1CKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlRXJyb3JQYXRoOiBbaW5kZXgsIC4uLnNoYXJlZFZhbHVlLm1lcmdlRXJyb3JQYXRoXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChzaGFyZWRWYWx1ZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3QXJyYXkgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXJnZUVycm9yUGF0aDogW10gfTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUludGVyc2VjdGlvblJlc3VsdHMocmVzdWx0LCBsZWZ0LCByaWdodCkge1xuICAgIGlmIChsZWZ0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0Lmlzc3Vlcy5wdXNoKC4uLmxlZnQuaXNzdWVzKTtcbiAgICB9XG4gICAgaWYgKHJpZ2h0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0Lmlzc3Vlcy5wdXNoKC4uLnJpZ2h0Lmlzc3Vlcyk7XG4gICAgfVxuICAgIGlmICh1dGlsLmFib3J0ZWQocmVzdWx0KSlcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICBjb25zdCBtZXJnZWQgPSBtZXJnZVZhbHVlcyhsZWZ0LnZhbHVlLCByaWdodC52YWx1ZSk7XG4gICAgaWYgKCFtZXJnZWQudmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbm1lcmdhYmxlIGludGVyc2VjdGlvbi4gRXJyb3IgcGF0aDogYCArIGAke0pTT04uc3RyaW5naWZ5KG1lcmdlZC5tZXJnZUVycm9yUGF0aCl9YCk7XG4gICAgfVxuICAgIHJlc3VsdC52YWx1ZSA9IG1lcmdlZC5kYXRhO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgY29uc3QgJFpvZFR1cGxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RUdXBsZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IGl0ZW1zID0gZGVmLml0ZW1zO1xuICAgIGNvbnN0IG9wdFN0YXJ0ID0gaXRlbXMubGVuZ3RoIC0gWy4uLml0ZW1zXS5yZXZlcnNlKCkuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLl96b2Qub3B0aW4gIT09IFwib3B0aW9uYWxcIik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwidHVwbGVcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0gW107XG4gICAgICAgIGNvbnN0IHByb21zID0gW107XG4gICAgICAgIGlmICghZGVmLnJlc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGlucHV0Lmxlbmd0aCA+IGl0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQubGVuZ3RoIDwgb3B0U3RhcnQgLSAxO1xuICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAuLi4odG9vQmlnID8geyBjb2RlOiBcInRvb19iaWdcIiwgbWF4aW11bTogaXRlbXMubGVuZ3RoIH0gOiB7IGNvZGU6IFwidG9vX3NtYWxsXCIsIG1pbmltdW06IGl0ZW1zLmxlbmd0aCB9KSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbjogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaWYgKGkgPj0gaW5wdXQubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGlmIChpID49IG9wdFN0YXJ0KVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGl0ZW0uX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpbnB1dFtpXSxcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcHJvbXMucHVzaChyZXN1bHQudGhlbigocmVzdWx0KSA9PiBoYW5kbGVUdXBsZVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGkpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVUdXBsZVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYucmVzdCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdCA9IGlucHV0LnNsaWNlKGl0ZW1zLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIHJlc3QpIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLnJlc3QuX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZWwsXG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgfSwgY3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpID0+IGhhbmRsZVR1cGxlUmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVR1cGxlUmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9tcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCkgPT4gcGF5bG9hZCk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVR1cGxlUmVzdWx0KHJlc3VsdCwgZmluYWwsIGluZGV4KSB7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGluZGV4LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgfVxuICAgIGZpbmFsLnZhbHVlW2luZGV4XSA9IHJlc3VsdC52YWx1ZTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kUmVjb3JkID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RSZWNvcmRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKCF1dGlsLmlzUGxhaW5PYmplY3QoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJyZWNvcmRcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21zID0gW107XG4gICAgICAgIGlmIChkZWYua2V5VHlwZS5fem9kLnZhbHVlcykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gZGVmLmtleVR5cGUuX3pvZC52YWx1ZXM7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2Yga2V5ID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLnZhbHVlVHlwZS5fem9kLnJ1bih7IHZhbHVlOiBpbnB1dFtrZXldLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhrZXksIHJlc3VsdC5pc3N1ZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZVtrZXldID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhrZXksIHJlc3VsdC5pc3N1ZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWVba2V5XSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB1bnJlY29nbml6ZWQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnB1dCkge1xuICAgICAgICAgICAgICAgIGlmICghdmFsdWVzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHVucmVjb2duaXplZCA9IHVucmVjb2duaXplZCA/PyBbXTtcbiAgICAgICAgICAgICAgICAgICAgdW5yZWNvZ25pemVkLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodW5yZWNvZ25pemVkICYmIHVucmVjb2duaXplZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgIGtleXM6IHVucmVjb2duaXplZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIFJlZmxlY3Qub3duS2V5cyhpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcIl9fcHJvdG9fX1wiKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlSZXN1bHQgPSBkZWYua2V5VHlwZS5fem9kLnJ1bih7IHZhbHVlOiBrZXksIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5UmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3luYyBzY2hlbWFzIG5vdCBzdXBwb3J0ZWQgaW4gb2JqZWN0IGtleXMgY3VycmVudGx5XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5UmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfa2V5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW46IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGtleVJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFtrZXldLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWVba2V5UmVzdWx0LnZhbHVlXSA9IGtleVJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi52YWx1ZVR5cGUuX3pvZC5ydW4oeyB2YWx1ZTogaW5wdXRba2V5XSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21zLnB1c2gocmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhrZXksIHJlc3VsdC5pc3N1ZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWVba2V5UmVzdWx0LnZhbHVlXSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGtleSwgcmVzdWx0Lmlzc3VlcykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWVba2V5UmVzdWx0LnZhbHVlXSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb21zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21zKS50aGVuKCgpID0+IHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTWFwID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RNYXBcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKCEoaW5wdXQgaW5zdGFuY2VvZiBNYXApKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJtYXBcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21zID0gW107XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGlucHV0KSB7XG4gICAgICAgICAgICBjb25zdCBrZXlSZXN1bHQgPSBkZWYua2V5VHlwZS5fem9kLnJ1bih7IHZhbHVlOiBrZXksIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlUmVzdWx0ID0gZGVmLnZhbHVlVHlwZS5fem9kLnJ1bih7IHZhbHVlOiB2YWx1ZSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICAgICAgaWYgKGtleVJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UgfHwgdmFsdWVSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcHJvbXMucHVzaChQcm9taXNlLmFsbChba2V5UmVzdWx0LCB2YWx1ZVJlc3VsdF0pLnRoZW4oKFtrZXlSZXN1bHQsIHZhbHVlUmVzdWx0XSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVNYXBSZXN1bHQoa2V5UmVzdWx0LCB2YWx1ZVJlc3VsdCwgcGF5bG9hZCwga2V5LCBpbnB1dCwgaW5zdCwgY3R4KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVNYXBSZXN1bHQoa2V5UmVzdWx0LCB2YWx1ZVJlc3VsdCwgcGF5bG9hZCwga2V5LCBpbnB1dCwgaW5zdCwgY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvbXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21zKS50aGVuKCgpID0+IHBheWxvYWQpO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVNYXBSZXN1bHQoa2V5UmVzdWx0LCB2YWx1ZVJlc3VsdCwgZmluYWwsIGtleSwgaW5wdXQsIGluc3QsIGN0eCkge1xuICAgIGlmIChrZXlSZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBpZiAodXRpbC5wcm9wZXJ0eUtleVR5cGVzLmhhcyh0eXBlb2Yga2V5KSkge1xuICAgICAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCBrZXlSZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2tleVwiLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJtYXBcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGlzc3Vlczoga2V5UmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodmFsdWVSZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBpZiAodXRpbC5wcm9wZXJ0eUtleVR5cGVzLmhhcyh0eXBlb2Yga2V5KSkge1xuICAgICAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCB2YWx1ZVJlc3VsdC5pc3N1ZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwibWFwXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2VsZW1lbnRcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgIGlzc3VlczogdmFsdWVSZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmFsLnZhbHVlLnNldChrZXlSZXN1bHQudmFsdWUsIHZhbHVlUmVzdWx0LnZhbHVlKTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kU2V0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RTZXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKCEoaW5wdXQgaW5zdGFuY2VvZiBTZXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcInNldFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21zID0gW107XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpbnB1dCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLnZhbHVlVHlwZS5fem9kLnJ1bih7IHZhbHVlOiBpdGVtLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21zLnB1c2gocmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4gaGFuZGxlU2V0UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBoYW5kbGVTZXRSZXN1bHQocmVzdWx0LCBwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvbXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21zKS50aGVuKCgpID0+IHBheWxvYWQpO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVTZXRSZXN1bHQocmVzdWx0LCBmaW5hbCkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCguLi5yZXN1bHQuaXNzdWVzKTtcbiAgICB9XG4gICAgZmluYWwudmFsdWUuYWRkKHJlc3VsdC52YWx1ZSk7XG59XG5leHBvcnQgY29uc3QgJFpvZEVudW0gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEVudW1cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCB2YWx1ZXMgPSB1dGlsLmdldEVudW1WYWx1ZXMoZGVmLmVudHJpZXMpO1xuICAgIGNvbnN0IHZhbHVlc1NldCA9IG5ldyBTZXQodmFsdWVzKTtcbiAgICBpbnN0Ll96b2QudmFsdWVzID0gdmFsdWVzU2V0O1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gbmV3IFJlZ0V4cChgXigke3ZhbHVlc1xuICAgICAgICAuZmlsdGVyKChrKSA9PiB1dGlsLnByb3BlcnR5S2V5VHlwZXMuaGFzKHR5cGVvZiBrKSlcbiAgICAgICAgLm1hcCgobykgPT4gKHR5cGVvZiBvID09PSBcInN0cmluZ1wiID8gdXRpbC5lc2NhcGVSZWdleChvKSA6IG8udG9TdHJpbmcoKSkpXG4gICAgICAgIC5qb2luKFwifFwiKX0pJGApO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlc1NldC5oYXMoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF92YWx1ZVwiLFxuICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RMaXRlcmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RMaXRlcmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaWYgKGRlZi52YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgbGl0ZXJhbCBzY2hlbWEgd2l0aCBubyB2YWxpZCB2YWx1ZXNcIik7XG4gICAgfVxuICAgIGluc3QuX3pvZC52YWx1ZXMgPSBuZXcgU2V0KGRlZi52YWx1ZXMpO1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gbmV3IFJlZ0V4cChgXigke2RlZi52YWx1ZXNcbiAgICAgICAgLm1hcCgobykgPT4gKHR5cGVvZiBvID09PSBcInN0cmluZ1wiID8gdXRpbC5lc2NhcGVSZWdleChvKSA6IG8gPyB1dGlsLmVzY2FwZVJlZ2V4KG8udG9TdHJpbmcoKSkgOiBTdHJpbmcobykpKVxuICAgICAgICAuam9pbihcInxcIil9KSRgKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmIChpbnN0Ll96b2QudmFsdWVzLmhhcyhpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3ZhbHVlXCIsXG4gICAgICAgICAgICB2YWx1ZXM6IGRlZi52YWx1ZXMsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEZpbGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEZpbGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgRmlsZSlcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcImZpbGVcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFRyYW5zZm9ybSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVHJhbnNmb3JtXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kRW5jb2RlRXJyb3IoaW5zdC5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBfb3V0ID0gZGVmLnRyYW5zZm9ybShwYXlsb2FkLnZhbHVlLCBwYXlsb2FkKTtcbiAgICAgICAgaWYgKGN0eC5hc3luYykge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gX291dCBpbnN0YW5jZW9mIFByb21pc2UgPyBfb3V0IDogUHJvbWlzZS5yZXNvbHZlKF9vdXQpO1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dC50aGVuKChvdXRwdXQpID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9vdXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kQXN5bmNFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBfb3V0O1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVPcHRpb25hbFJlc3VsdChyZXN1bHQsIGlucHV0KSB7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoICYmIGlucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgaXNzdWVzOiBbXSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGNvbnN0ICRab2RPcHRpb25hbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kT3B0aW9uYWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub3B0aW4gPSBcIm9wdGlvbmFsXCI7XG4gICAgaW5zdC5fem9kLm9wdG91dCA9IFwib3B0aW9uYWxcIjtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiB7XG4gICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzID8gbmV3IFNldChbLi4uZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcywgdW5kZWZpbmVkXSkgOiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwYXR0ZXJuXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IGRlZi5pbm5lclR5cGUuX3pvZC5wYXR0ZXJuO1xuICAgICAgICByZXR1cm4gcGF0dGVybiA/IG5ldyBSZWdFeHAoYF4oJHt1dGlsLmNsZWFuUmVnZXgocGF0dGVybi5zb3VyY2UpfSk/JGApIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKGRlZi5pbm5lclR5cGUuX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHIpID0+IGhhbmRsZU9wdGlvbmFsUmVzdWx0KHIsIHBheWxvYWQudmFsdWUpKTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVPcHRpb25hbFJlc3VsdChyZXN1bHQsIHBheWxvYWQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXlsb2FkLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROdWxsYWJsZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTnVsbGFibGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdGluXCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC5vcHRpbik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLm9wdG91dCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwYXR0ZXJuXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IGRlZi5pbm5lclR5cGUuX3pvZC5wYXR0ZXJuO1xuICAgICAgICByZXR1cm4gcGF0dGVybiA/IG5ldyBSZWdFeHAoYF4oJHt1dGlsLmNsZWFuUmVnZXgocGF0dGVybi5zb3VyY2UpfXxudWxsKSRgKSA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiB7XG4gICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzID8gbmV3IFNldChbLi4uZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcywgbnVsbF0pIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgLy8gRm9yd2FyZCBkaXJlY3Rpb24gKGRlY29kZSk6IGFsbG93IG51bGwgdG8gcGFzcyB0aHJvdWdoXG4gICAgICAgIGlmIChwYXlsb2FkLnZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2REZWZhdWx0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2REZWZhdWx0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgLy8gaW5zdC5fem9kLnFpbiA9IFwidHJ1ZVwiO1xuICAgIGluc3QuX3pvZC5vcHRpbiA9IFwib3B0aW9uYWxcIjtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yd2FyZCBkaXJlY3Rpb24gKGRlY29kZSk6IGFwcGx5IGRlZmF1bHRzIGZvciB1bmRlZmluZWQgaW5wdXRcbiAgICAgICAgaWYgKHBheWxvYWQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGRlZi5kZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqICRab2REZWZhdWx0IHJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWUgaW1tZWRpYXRlbHkgaW4gZm9yd2FyZCBkaXJlY3Rpb24uXG4gICAgICAgICAgICAgKiBJdCBkb2Vzbid0IHBhc3MgdGhlIGRlZmF1bHQgdmFsdWUgaW50byB0aGUgdmFsaWRhdG9yIChcInByZWZhdWx0XCIpLiBUaGVyZSdzIG5vIHJlYXNvbiB0byBwYXNzIHRoZSBkZWZhdWx0IHZhbHVlIHRocm91Z2ggdmFsaWRhdGlvbi4gVGhlIHZhbGlkaXR5IG9mIHRoZSBkZWZhdWx0IGlzIGVuZm9yY2VkIGJ5IFR5cGVTY3JpcHQgc3RhdGljYWxseS4gT3RoZXJ3aXNlLCBpdCdzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgdXNlciB0byBlbnN1cmUgdGhlIGRlZmF1bHQgaXMgdmFsaWQuIEluIHRoZSBjYXNlIG9mIHBpcGVzIHdpdGggZGl2ZXJnZW50IGluL291dCB0eXBlcywgeW91IGNhbiBzcGVjaWZ5IHRoZSBkZWZhdWx0IG9uIHRoZSBgaW5gIHNjaGVtYSBvZiB5b3VyIFpvZFBpcGUgdG8gc2V0IGEgXCJwcmVmYXVsdFwiIGZvciB0aGUgcGlwZS4gICAqL1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yd2FyZCBkaXJlY3Rpb246IGNvbnRpbnVlIHdpdGggZGVmYXVsdCBoYW5kbGluZ1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4gaGFuZGxlRGVmYXVsdFJlc3VsdChyZXN1bHQsIGRlZikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVEZWZhdWx0UmVzdWx0KHJlc3VsdCwgZGVmKTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVEZWZhdWx0UmVzdWx0KHBheWxvYWQsIGRlZikge1xuICAgIGlmIChwYXlsb2FkLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGRlZi5kZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBwYXlsb2FkO1xufVxuZXhwb3J0IGNvbnN0ICRab2RQcmVmYXVsdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kUHJlZmF1bHRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub3B0aW4gPSBcIm9wdGlvbmFsXCI7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcyk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvcndhcmQgZGlyZWN0aW9uIChkZWNvZGUpOiBhcHBseSBwcmVmYXVsdCBmb3IgdW5kZWZpbmVkIGlucHV0XG4gICAgICAgIGlmIChwYXlsb2FkLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBkZWYuZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROb25PcHRpb25hbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTm9uT3B0aW9uYWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHYgPSBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzO1xuICAgICAgICByZXR1cm4gdiA/IG5ldyBTZXQoWy4uLnZdLmZpbHRlcigoeCkgPT4geCAhPT0gdW5kZWZpbmVkKSkgOiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4gaGFuZGxlTm9uT3B0aW9uYWxSZXN1bHQocmVzdWx0LCBpbnN0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZU5vbk9wdGlvbmFsUmVzdWx0KHJlc3VsdCwgaW5zdCk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlTm9uT3B0aW9uYWxSZXN1bHQocGF5bG9hZCwgaW5zdCkge1xuICAgIGlmICghcGF5bG9hZC5pc3N1ZXMubGVuZ3RoICYmIHBheWxvYWQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBleHBlY3RlZDogXCJub25vcHRpb25hbFwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHBheWxvYWQ7XG59XG5leHBvcnQgY29uc3QgJFpvZFN1Y2Nlc3MgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFN1Y2Nlc3NcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RFbmNvZGVFcnJvcihcIlpvZFN1Y2Nlc3NcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gcmVzdWx0Lmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0gcmVzdWx0Lmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2F0Y2ggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENhdGNoXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2Qub3B0aW4pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC5vcHRvdXQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3J3YXJkIGRpcmVjdGlvbiAoZGVjb2RlKTogYXBwbHkgY2F0Y2ggbG9naWNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiByZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgIC4uLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiByZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3VlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTmFOID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROYU5cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQudmFsdWUgIT09IFwibnVtYmVyXCIgfHwgIU51bWJlci5pc05hTihwYXlsb2FkLnZhbHVlKSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJuYW5cIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFBpcGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFBpcGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiBkZWYuaW4uX3pvZC52YWx1ZXMpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCkgPT4gZGVmLmluLl96b2Qub3B0aW4pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpID0+IGRlZi5vdXQuX3pvZC5vcHRvdXQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicHJvcFZhbHVlc1wiLCAoKSA9PiBkZWYuaW4uX3pvZC5wcm9wVmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gZGVmLm91dC5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByaWdodC50aGVuKChyaWdodCkgPT4gaGFuZGxlUGlwZVJlc3VsdChyaWdodCwgZGVmLmluLCBjdHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVQaXBlUmVzdWx0KHJpZ2h0LCBkZWYuaW4sIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGVmdCA9IGRlZi5pbi5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICBpZiAobGVmdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0LnRoZW4oKGxlZnQpID0+IGhhbmRsZVBpcGVSZXN1bHQobGVmdCwgZGVmLm91dCwgY3R4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZVBpcGVSZXN1bHQobGVmdCwgZGVmLm91dCwgY3R4KTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVQaXBlUmVzdWx0KGxlZnQsIG5leHQsIGN0eCkge1xuICAgIGlmIChsZWZ0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gcHJldmVudCBmdXJ0aGVyIGNoZWNrc1xuICAgICAgICBsZWZ0LmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbGVmdDtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQuX3pvZC5ydW4oeyB2YWx1ZTogbGVmdC52YWx1ZSwgaXNzdWVzOiBsZWZ0Lmlzc3VlcyB9LCBjdHgpO1xufVxuZXhwb3J0IGNvbnN0ICRab2RDb2RlYyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ29kZWNcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiBkZWYuaW4uX3pvZC52YWx1ZXMpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCkgPT4gZGVmLmluLl96b2Qub3B0aW4pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpID0+IGRlZi5vdXQuX3pvZC5vcHRvdXQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicHJvcFZhbHVlc1wiLCAoKSA9PiBkZWYuaW4uX3pvZC5wcm9wVmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGN0eC5kaXJlY3Rpb24gfHwgXCJmb3J3YXJkXCI7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFwiZm9yd2FyZFwiKSB7XG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gZGVmLmluLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICBpZiAobGVmdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdC50aGVuKChsZWZ0KSA9PiBoYW5kbGVDb2RlY0FSZXN1bHQobGVmdCwgZGVmLCBjdHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVDb2RlY0FSZXN1bHQobGVmdCwgZGVmLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBkZWYub3V0Ll96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICBpZiAocmlnaHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJpZ2h0LnRoZW4oKHJpZ2h0KSA9PiBoYW5kbGVDb2RlY0FSZXN1bHQocmlnaHQsIGRlZiwgY3R4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQ29kZWNBUmVzdWx0KHJpZ2h0LCBkZWYsIGN0eCk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVDb2RlY0FSZXN1bHQocmVzdWx0LCBkZWYsIGN0eCkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAvLyBwcmV2ZW50IGZ1cnRoZXIgY2hlY2tzXG4gICAgICAgIHJlc3VsdC5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgZGlyZWN0aW9uID0gY3R4LmRpcmVjdGlvbiB8fCBcImZvcndhcmRcIjtcbiAgICBpZiAoZGlyZWN0aW9uID09PSBcImZvcndhcmRcIikge1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZCA9IGRlZi50cmFuc2Zvcm0ocmVzdWx0LnZhbHVlLCByZXN1bHQpO1xuICAgICAgICBpZiAodHJhbnNmb3JtZWQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWQudGhlbigodmFsdWUpID0+IGhhbmRsZUNvZGVjVHhSZXN1bHQocmVzdWx0LCB2YWx1ZSwgZGVmLm91dCwgY3R4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZUNvZGVjVHhSZXN1bHQocmVzdWx0LCB0cmFuc2Zvcm1lZCwgZGVmLm91dCwgY3R4KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkID0gZGVmLnJldmVyc2VUcmFuc2Zvcm0ocmVzdWx0LnZhbHVlLCByZXN1bHQpO1xuICAgICAgICBpZiAodHJhbnNmb3JtZWQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWQudGhlbigodmFsdWUpID0+IGhhbmRsZUNvZGVjVHhSZXN1bHQocmVzdWx0LCB2YWx1ZSwgZGVmLmluLCBjdHgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlQ29kZWNUeFJlc3VsdChyZXN1bHQsIHRyYW5zZm9ybWVkLCBkZWYuaW4sIGN0eCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFuZGxlQ29kZWNUeFJlc3VsdChsZWZ0LCB2YWx1ZSwgbmV4dFNjaGVtYSwgY3R4KSB7XG4gICAgLy8gQ2hlY2sgaWYgdHJhbnNmb3JtIGFkZGVkIGFueSBpc3N1ZXNcbiAgICBpZiAobGVmdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGxlZnQuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBsZWZ0O1xuICAgIH1cbiAgICByZXR1cm4gbmV4dFNjaGVtYS5fem9kLnJ1bih7IHZhbHVlLCBpc3N1ZXM6IGxlZnQuaXNzdWVzIH0sIGN0eCk7XG59XG5leHBvcnQgY29uc3QgJFpvZFJlYWRvbmx5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RSZWFkb25seVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicHJvcFZhbHVlc1wiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2QucHJvcFZhbHVlcyk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcyk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2Qub3B0aW4pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC5vcHRvdXQpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oaGFuZGxlUmVhZG9ubHlSZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVSZWFkb25seVJlc3VsdChyZXN1bHQpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVJlYWRvbmx5UmVzdWx0KHBheWxvYWQpIHtcbiAgICBwYXlsb2FkLnZhbHVlID0gT2JqZWN0LmZyZWV6ZShwYXlsb2FkLnZhbHVlKTtcbiAgICByZXR1cm4gcGF5bG9hZDtcbn1cbmV4cG9ydCBjb25zdCAkWm9kVGVtcGxhdGVMaXRlcmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RUZW1wbGF0ZUxpdGVyYWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCByZWdleFBhcnRzID0gW107XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIGRlZi5wYXJ0cykge1xuICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09IFwib2JqZWN0XCIgJiYgcGFydCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaXMgWm9kIHNjaGVtYVxuICAgICAgICAgICAgaWYgKCFwYXJ0Ll96b2QucGF0dGVybikge1xuICAgICAgICAgICAgICAgIC8vIGlmICghc291cmNlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0ZW1wbGF0ZSBsaXRlcmFsIHBhcnQsIG5vIHBhdHRlcm4gZm91bmQ6ICR7Wy4uLnBhcnQuX3pvZC50cmFpdHNdLnNoaWZ0KCl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBwYXJ0Ll96b2QucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCA/IHBhcnQuX3pvZC5wYXR0ZXJuLnNvdXJjZSA6IHBhcnQuX3pvZC5wYXR0ZXJuO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRlbXBsYXRlIGxpdGVyYWwgcGFydDogJHtwYXJ0Ll96b2QudHJhaXRzfWApO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBzb3VyY2Uuc3RhcnRzV2l0aChcIl5cIikgPyAxIDogMDtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHNvdXJjZS5lbmRzV2l0aChcIiRcIikgPyBzb3VyY2UubGVuZ3RoIC0gMSA6IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgICAgICByZWdleFBhcnRzLnB1c2goc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJ0ID09PSBudWxsIHx8IHV0aWwucHJpbWl0aXZlVHlwZXMuaGFzKHR5cGVvZiBwYXJ0KSkge1xuICAgICAgICAgICAgcmVnZXhQYXJ0cy5wdXNoKHV0aWwuZXNjYXBlUmVnZXgoYCR7cGFydH1gKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGVtcGxhdGUgbGl0ZXJhbCBwYXJ0OiAke3BhcnR9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSBuZXcgUmVnRXhwKGBeJHtyZWdleFBhcnRzLmpvaW4oXCJcIil9JGApO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZC52YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJ0ZW1wbGF0ZV9saXRlcmFsXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdC5fem9kLnBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaWYgKCFpbnN0Ll96b2QucGF0dGVybi50ZXN0KHBheWxvYWQudmFsdWUpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IGRlZi5mb3JtYXQgPz8gXCJ0ZW1wbGF0ZV9saXRlcmFsXCIsXG4gICAgICAgICAgICAgICAgcGF0dGVybjogaW5zdC5fem9kLnBhdHRlcm4uc291cmNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEZ1bmN0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RGdW5jdGlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX2RlZiA9IGRlZjtcbiAgICBpbnN0Ll96b2QuZGVmID0gZGVmO1xuICAgIGluc3QuaW1wbGVtZW50ID0gKGZ1bmMpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImltcGxlbWVudCgpIG11c3QgYmUgY2FsbGVkIHdpdGggYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBpbnN0Ll9kZWYuaW5wdXQgPyBwYXJzZShpbnN0Ll9kZWYuaW5wdXQsIGFyZ3MpIDogYXJncztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoZnVuYywgdGhpcywgcGFyc2VkQXJncyk7XG4gICAgICAgICAgICBpZiAoaW5zdC5fZGVmLm91dHB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZShpbnN0Ll9kZWYub3V0cHV0LCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGluc3QuaW1wbGVtZW50QXN5bmMgPSAoZnVuYykgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW1wbGVtZW50QXN5bmMoKSBtdXN0IGJlIGNhbGxlZCB3aXRoIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gaW5zdC5fZGVmLmlucHV0ID8gYXdhaXQgcGFyc2VBc3luYyhpbnN0Ll9kZWYuaW5wdXQsIGFyZ3MpIDogYXJncztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJlZmxlY3QuYXBwbHkoZnVuYywgdGhpcywgcGFyc2VkQXJncyk7XG4gICAgICAgICAgICBpZiAoaW5zdC5fZGVmLm91dHB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBwYXJzZUFzeW5jKGluc3QuX2RlZi5vdXRwdXQsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiBvdXRwdXQgaXMgYSBwcm9taXNlIHR5cGUgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCB1c2UgYXN5bmMgaW1wbGVtZW50YXRpb25cbiAgICAgICAgY29uc3QgaGFzUHJvbWlzZU91dHB1dCA9IGluc3QuX2RlZi5vdXRwdXQgJiYgaW5zdC5fZGVmLm91dHB1dC5fem9kLmRlZi50eXBlID09PSBcInByb21pc2VcIjtcbiAgICAgICAgaWYgKGhhc1Byb21pc2VPdXRwdXQpIHtcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBpbnN0LmltcGxlbWVudEFzeW5jKHBheWxvYWQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGluc3QuaW1wbGVtZW50KHBheWxvYWQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG4gICAgaW5zdC5pbnB1dCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IEYgPSBpbnN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IG5ldyAkWm9kVHVwbGUoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInR1cGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICByZXN0OiBhcmdzWzFdLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG91dHB1dDogaW5zdC5fZGVmLm91dHB1dCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRih7XG4gICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICBpbnB1dDogYXJnc1swXSxcbiAgICAgICAgICAgIG91dHB1dDogaW5zdC5fZGVmLm91dHB1dCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBpbnN0Lm91dHB1dCA9IChvdXRwdXQpID0+IHtcbiAgICAgICAgY29uc3QgRiA9IGluc3QuY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgRih7XG4gICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICBpbnB1dDogaW5zdC5fZGVmLmlucHV0LFxuICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBpbnN0O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFByb21pc2UgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFByb21pc2VcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGF5bG9hZC52YWx1ZSkudGhlbigoaW5uZXIpID0+IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4oeyB2YWx1ZTogaW5uZXIsIGlzc3VlczogW10gfSwgY3R4KSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RMYXp5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RMYXp5XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgLy8gbGV0IF9pbm5lclR5cGUhOiBhbnk7XG4gICAgLy8gdXRpbC5kZWZpbmVMYXp5KGRlZiwgXCJnZXR0ZXJcIiwgKCkgPT4ge1xuICAgIC8vICAgaWYgKCFfaW5uZXJUeXBlKSB7XG4gICAgLy8gICAgIF9pbm5lclR5cGUgPSBkZWYuZ2V0dGVyKCk7XG4gICAgLy8gICB9XG4gICAgLy8gICByZXR1cm4gKCkgPT4gX2lubmVyVHlwZTtcbiAgICAvLyB9KTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcImlubmVyVHlwZVwiLCAoKSA9PiBkZWYuZ2V0dGVyKCkpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicGF0dGVyblwiLCAoKSA9PiBpbnN0Ll96b2QuaW5uZXJUeXBlLl96b2QucGF0dGVybik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwcm9wVmFsdWVzXCIsICgpID0+IGluc3QuX3pvZC5pbm5lclR5cGUuX3pvZC5wcm9wVmFsdWVzKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdGluXCIsICgpID0+IGluc3QuX3pvZC5pbm5lclR5cGUuX3pvZC5vcHRpbiA/PyB1bmRlZmluZWQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpID0+IGluc3QuX3pvZC5pbm5lclR5cGUuX3pvZC5vcHRvdXQgPz8gdW5kZWZpbmVkKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlubmVyID0gaW5zdC5fem9kLmlubmVyVHlwZTtcbiAgICAgICAgcmV0dXJuIGlubmVyLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDdXN0b20gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEN1c3RvbVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY2hlY2tzLiRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfKSA9PiB7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCByID0gZGVmLmZuKGlucHV0KTtcbiAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gci50aGVuKChyKSA9PiBoYW5kbGVSZWZpbmVSZXN1bHQociwgcGF5bG9hZCwgaW5wdXQsIGluc3QpKTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVSZWZpbmVSZXN1bHQociwgcGF5bG9hZCwgaW5wdXQsIGluc3QpO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlUmVmaW5lUmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaW5wdXQsIGluc3QpIHtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICBjb25zdCBfaXNzID0ge1xuICAgICAgICAgICAgY29kZTogXCJjdXN0b21cIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCwgLy8gaW5jb3Jwb3JhdGVzIHBhcmFtcy5lcnJvciBpbnRvIGlzc3VlIHJlcG9ydGluZ1xuICAgICAgICAgICAgcGF0aDogWy4uLihpbnN0Ll96b2QuZGVmLnBhdGggPz8gW10pXSwgLy8gaW5jb3Jwb3JhdGVzIHBhcmFtcy5lcnJvciBpbnRvIGlzc3VlIHJlcG9ydGluZ1xuICAgICAgICAgICAgY29udGludWU6ICFpbnN0Ll96b2QuZGVmLmFib3J0LFxuICAgICAgICAgICAgLy8gcGFyYW1zOiBpbnN0Ll96b2QuZGVmLnBhcmFtcyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGluc3QuX3pvZC5kZWYucGFyYW1zKVxuICAgICAgICAgICAgX2lzcy5wYXJhbXMgPSBpbnN0Ll96b2QuZGVmLnBhcmFtcztcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh1dGlsLmlzc3VlKF9pc3MpKTtcbiAgICB9XG59XG4iLCAiZXhwb3J0IHsgZGVmYXVsdCBhcyBhciB9IGZyb20gXCIuL2FyLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGF6IH0gZnJvbSBcIi4vYXouanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgYmUgfSBmcm9tIFwiLi9iZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjYSB9IGZyb20gXCIuL2NhLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNzIH0gZnJvbSBcIi4vY3MuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGEgfSBmcm9tIFwiLi9kYS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBkZSB9IGZyb20gXCIuL2RlLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGVuIH0gZnJvbSBcIi4vZW4uanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZW8gfSBmcm9tIFwiLi9lby5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlcyB9IGZyb20gXCIuL2VzLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZhIH0gZnJvbSBcIi4vZmEuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZmkgfSBmcm9tIFwiLi9maS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBmciB9IGZyb20gXCIuL2ZyLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZyQ0EgfSBmcm9tIFwiLi9mci1DQS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBoZSB9IGZyb20gXCIuL2hlLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGh1IH0gZnJvbSBcIi4vaHUuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaWQgfSBmcm9tIFwiLi9pZC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpcyB9IGZyb20gXCIuL2lzLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGl0IH0gZnJvbSBcIi4vaXQuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgamEgfSBmcm9tIFwiLi9qYS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBrYSB9IGZyb20gXCIuL2thLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGtoIH0gZnJvbSBcIi4va2guanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMga20gfSBmcm9tIFwiLi9rbS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBrbyB9IGZyb20gXCIuL2tvLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGx0IH0gZnJvbSBcIi4vbHQuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbWsgfSBmcm9tIFwiLi9tay5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBtcyB9IGZyb20gXCIuL21zLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG5sIH0gZnJvbSBcIi4vbmwuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbm8gfSBmcm9tIFwiLi9uby5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBvdGEgfSBmcm9tIFwiLi9vdGEuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcHMgfSBmcm9tIFwiLi9wcy5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwbCB9IGZyb20gXCIuL3BsLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHB0IH0gZnJvbSBcIi4vcHQuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcnUgfSBmcm9tIFwiLi9ydS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBzbCB9IGZyb20gXCIuL3NsLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHN2IH0gZnJvbSBcIi4vc3YuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdGEgfSBmcm9tIFwiLi90YS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB0aCB9IGZyb20gXCIuL3RoLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHRyIH0gZnJvbSBcIi4vdHIuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdWEgfSBmcm9tIFwiLi91YS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1ayB9IGZyb20gXCIuL3VrLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVyIH0gZnJvbSBcIi4vdXIuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmkgfSBmcm9tIFwiLi92aS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB6aENOIH0gZnJvbSBcIi4vemgtQ04uanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgemhUVyB9IGZyb20gXCIuL3poLVRXLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHlvIH0gZnJvbSBcIi4veW8uanNcIjtcbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MDYyRFx1MDYzMVx1MDY0MVwiLCB2ZXJiOiBcIlx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MkRcdTA2NDhcdTA2NEFcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUwNjI4XHUwNjI3XHUwNjRBXHUwNjJBXCIsIHZlcmI6IFwiXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDYyRFx1MDY0OFx1MDY0QVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwNjM5XHUwNjQ2XHUwNjM1XHUwNjMxXCIsIHZlcmI6IFwiXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDYyRFx1MDY0OFx1MDY0QVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MDYzOVx1MDY0Nlx1MDYzNVx1MDYzMVwiLCB2ZXJiOiBcIlx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MkRcdTA2NDhcdTA2NEFcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNjQ1XHUwNjJGXHUwNjJFXHUwNjQ0XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDYyOFx1MDYzMVx1MDY0QVx1MDYyRiBcdTA2MjVcdTA2NDRcdTA2NDNcdTA2MkFcdTA2MzFcdTA2NDhcdTA2NDZcdTA2NEFcIixcbiAgICAgICAgdXJsOiBcIlx1MDYzMVx1MDYyN1x1MDYyOFx1MDYzN1wiLFxuICAgICAgICBlbW9qaTogXCJcdTA2MjVcdTA2NEFcdTA2NDVcdTA2NDhcdTA2MkNcdTA2NEFcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUwNjJBXHUwNjI3XHUwNjMxXHUwNjRBXHUwNjJFIFx1MDY0OFx1MDY0OFx1MDY0Mlx1MDYyQSBcdTA2MjhcdTA2NDVcdTA2MzlcdTA2NEFcdTA2MjdcdTA2MzEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiXHUwNjJBXHUwNjI3XHUwNjMxXHUwNjRBXHUwNjJFIFx1MDYyOFx1MDY0NVx1MDYzOVx1MDY0QVx1MDYyN1x1MDYzMSBJU09cIixcbiAgICAgICAgdGltZTogXCJcdTA2NDhcdTA2NDJcdTA2MkEgXHUwNjI4XHUwNjQ1XHUwNjM5XHUwNjRBXHUwNjI3XHUwNjMxIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJcdTA2NDVcdTA2MkZcdTA2MjkgXHUwNjI4XHUwNjQ1XHUwNjM5XHUwNjRBXHUwNjI3XHUwNjMxIElTT1wiLFxuICAgICAgICBpcHY0OiBcIlx1MDYzOVx1MDY0Nlx1MDY0OFx1MDYyN1x1MDY0NiBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiXHUwNjM5XHUwNjQ2XHUwNjQ4XHUwNjI3XHUwNjQ2IElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcIlx1MDY0NVx1MDYyRlx1MDY0OSBcdTA2MzlcdTA2NDZcdTA2MjdcdTA2NDhcdTA2NEFcdTA2NDYgXHUwNjI4XHUwNjM1XHUwNjRBXHUwNjNBXHUwNjI5IElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcIlx1MDY0NVx1MDYyRlx1MDY0OSBcdTA2MzlcdTA2NDZcdTA2MjdcdTA2NDhcdTA2NEFcdTA2NDYgXHUwNjI4XHUwNjM1XHUwNjRBXHUwNjNBXHUwNjI5IElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MDY0Nlx1MDY0RVx1MDYzNSBcdTA2MjhcdTA2MkFcdTA2MzFcdTA2NDVcdTA2NEFcdTA2MzIgYmFzZTY0LWVuY29kZWRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MDY0Nlx1MDY0RVx1MDYzNSBcdTA2MjhcdTA2MkFcdTA2MzFcdTA2NDVcdTA2NEFcdTA2MzIgYmFzZTY0dXJsLWVuY29kZWRcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUwNjQ2XHUwNjRFXHUwNjM1IFx1MDYzOVx1MDY0NFx1MDY0OSBcdTA2NDdcdTA2NEFcdTA2MjZcdTA2MjkgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIlx1MDYzMVx1MDY0Mlx1MDY0NSBcdTA2NDdcdTA2MjdcdTA2MkFcdTA2NDEgXHUwNjI4XHUwNjQ1XHUwNjM5XHUwNjRBXHUwNjI3XHUwNjMxIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTA2NDVcdTA2MkZcdTA2MkVcdTA2NDRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDVcdTA2MkZcdTA2MkVcdTA2NDRcdTA2MjdcdTA2MkEgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NFx1MDYyOTogXHUwNjRBXHUwNjQxXHUwNjJBXHUwNjMxXHUwNjM2IFx1MDYyNVx1MDYyRlx1MDYyRVx1MDYyN1x1MDY0NCAke2lzc3VlLmV4cGVjdGVkfVx1MDYwQyBcdTA2NDhcdTA2NDRcdTA2NDNcdTA2NDYgXHUwNjJBXHUwNjQ1IFx1MDYyNVx1MDYyRlx1MDYyRVx1MDYyN1x1MDY0NCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0NVx1MDYyRlx1MDYyRVx1MDY0NFx1MDYyN1x1MDYyQSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0XHUwNjI5OiBcdTA2NEFcdTA2NDFcdTA2MkFcdTA2MzFcdTA2MzYgXHUwNjI1XHUwNjJGXHUwNjJFXHUwNjI3XHUwNjQ0ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjI3XHUwNjJFXHUwNjJBXHUwNjRBXHUwNjI3XHUwNjMxIFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDQ6IFx1MDY0QVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MjdcdTA2NDZcdTA2MkFcdTA2NDJcdTA2MjdcdTA2MjEgXHUwNjIzXHUwNjJEXHUwNjJGIFx1MDY0N1x1MDYzMFx1MDY0NyBcdTA2MjdcdTA2NDRcdTA2MkVcdTA2NEFcdTA2MjdcdTA2MzFcdTA2MjdcdTA2MkE6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAgXHUwNjIzXHUwNjQzXHUwNjI4XHUwNjMxIFx1MDY0NVx1MDY0NiBcdTA2MjdcdTA2NDRcdTA2NDRcdTA2MjdcdTA2MzJcdTA2NDU6IFx1MDY0QVx1MDY0MVx1MDYyQVx1MDYzMVx1MDYzNiBcdTA2MjNcdTA2NDYgXHUwNjJBXHUwNjQzXHUwNjQ4XHUwNjQ2ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNjI3XHUwNjQ0XHUwNjQyXHUwNjRBXHUwNjQ1XHUwNjI5XCJ9ICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MDYzOVx1MDY0Nlx1MDYzNVx1MDYzMVwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MjNcdTA2NDNcdTA2MjhcdTA2MzEgXHUwNjQ1XHUwNjQ2IFx1MDYyN1x1MDY0NFx1MDY0NFx1MDYyN1x1MDYzMlx1MDY0NTogXHUwNjRBXHUwNjQxXHUwNjJBXHUwNjMxXHUwNjM2IFx1MDYyM1x1MDY0NiBcdTA2MkFcdTA2NDNcdTA2NDhcdTA2NDYgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA2MjdcdTA2NDRcdTA2NDJcdTA2NEFcdTA2NDVcdTA2MjlcIn0gJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjIzXHUwNjM1XHUwNjNBXHUwNjMxIFx1MDY0NVx1MDY0NiBcdTA2MjdcdTA2NDRcdTA2NDRcdTA2MjdcdTA2MzJcdTA2NDU6IFx1MDY0QVx1MDY0MVx1MDYyQVx1MDYzMVx1MDYzNiBcdTA2NDRcdTA2NDAgJHtpc3N1ZS5vcmlnaW59IFx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2NDNcdTA2NDhcdTA2NDYgJHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjIzXHUwNjM1XHUwNjNBXHUwNjMxIFx1MDY0NVx1MDY0NiBcdTA2MjdcdTA2NDRcdTA2NDRcdTA2MjdcdTA2MzJcdTA2NDU6IFx1MDY0QVx1MDY0MVx1MDYyQVx1MDYzMVx1MDYzNiBcdTA2NDRcdTA2NDAgJHtpc3N1ZS5vcmlnaW59IFx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2NDNcdTA2NDhcdTA2NDYgJHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjRFXHUwNjM1IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDQ6IFx1MDY0QVx1MDYyQ1x1MDYyOCBcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjI4XHUwNjJGXHUwNjIzIFx1MDYyOFx1MDY0MCBcIiR7aXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2NEVcdTA2MzUgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NDogXHUwNjRBXHUwNjJDXHUwNjI4IFx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2NDZcdTA2MkFcdTA2NDdcdTA2NEEgXHUwNjI4XHUwNjQwIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDY0RVx1MDYzNSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0OiBcdTA2NEFcdTA2MkNcdTA2MjggXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDYyQVx1MDYzNlx1MDY0NVx1MDY1MVx1MDY0RVx1MDY0NiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDY0RVx1MDYzNSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0OiBcdTA2NEFcdTA2MkNcdTA2MjggXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDYzN1x1MDYyN1x1MDYyOFx1MDY0MiBcdTA2MjdcdTA2NDRcdTA2NDZcdTA2NDVcdTA2MzcgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDRgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjMxXHUwNjQyXHUwNjQ1IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDQ6IFx1MDY0QVx1MDYyQ1x1MDYyOCBcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjQzXHUwNjQ4XHUwNjQ2IFx1MDY0NVx1MDY0NiBcdTA2NDVcdTA2MzZcdTA2MjdcdTA2MzlcdTA2NDFcdTA2MjdcdTA2MkEgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0NVx1MDYzOVx1MDYzMVx1MDY0MSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA2MjdcdTA2MkFcIiA6IFwiXCJ9IFx1MDYzQVx1MDYzMVx1MDY0QVx1MDYyOCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA2MjlcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIlx1MDYwQyBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ1XHUwNjM5XHUwNjMxXHUwNjQxIFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDQgXHUwNjQxXHUwNjRBICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDY0NVx1MDYyRlx1MDYyRVx1MDY0NCBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDVcdTA2MkZcdTA2MkVcdTA2NDQgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NCBcdTA2NDFcdTA2NEEgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNjQ1XHUwNjJGXHUwNjJFXHUwNjQ0IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDRcIjtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJzaW12b2xcIiwgdmVyYjogXCJvbG1hbFx1MDEzMWRcdTAxMzFyXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJheXRcIiwgdmVyYjogXCJvbG1hbFx1MDEzMWRcdTAxMzFyXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtZW50XCIsIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1lbnRcIiwgdmVyYjogXCJvbG1hbFx1MDEzMWRcdTAxMzFyXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImlucHV0XCIsXG4gICAgICAgIGVtYWlsOiBcImVtYWlsIGFkZHJlc3NcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gZGF0ZXRpbWVcIixcbiAgICAgICAgZGF0ZTogXCJJU08gZGF0ZVwiLFxuICAgICAgICB0aW1lOiBcIklTTyB0aW1lXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBkdXJhdGlvblwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgYWRkcmVzc1wiLFxuICAgICAgICBpcHY2OiBcIklQdjYgYWRkcmVzc1wiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCByYW5nZVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiByYW5nZVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWVuY29kZWQgc3RyaW5nXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwtZW5jb2RlZCBzdHJpbmdcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBzdHJpbmdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBudW1iZXJcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImlucHV0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBkXHUwMjU5eVx1MDI1OXI6IGdcdTAwRjZ6bFx1MDI1OW5pbFx1MDI1OW4gJHtpc3N1ZS5leHBlY3RlZH0sIGRheGlsIG9sYW4gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIGRcdTAyNTl5XHUwMjU5cjogZ1x1MDBGNnpsXHUwMjU5bmlsXHUwMjU5biAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgc2VcdTAwRTdpbTogYVx1MDE1RmFcdTAxMUZcdTAxMzFkYWtcdTAxMzFsYXJkYW4gYmlyaSBvbG1hbFx1MDEzMWRcdTAxMzFyOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM3b3ggYlx1MDBGNnlcdTAwRkNrOiBnXHUwMEY2emxcdTAyNTluaWxcdTAyNTluICR7aXNzdWUub3JpZ2luID8/IFwiZFx1MDI1OXlcdTAyNTlyXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudFwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzdveCBiXHUwMEY2eVx1MDBGQ2s6IGdcdTAwRjZ6bFx1MDI1OW5pbFx1MDI1OW4gJHtpc3N1ZS5vcmlnaW4gPz8gXCJkXHUwMjU5eVx1MDI1OXJcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM3b3gga2lcdTAwRTdpazogZ1x1MDBGNnpsXHUwMjU5bmlsXHUwMjU5biAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDN294IGtpXHUwMEU3aWs6IGdcdTAwRjZ6bFx1MDI1OW5pbFx1MDI1OW4gJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBtXHUwMjU5dG46IFwiJHtfaXNzdWUucHJlZml4fVwiIGlsXHUwMjU5IGJhXHUwMTVGbGFtYWxcdTAxMzFkXHUwMTMxcmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBtXHUwMjU5dG46IFwiJHtfaXNzdWUuc3VmZml4fVwiIGlsXHUwMjU5IGJpdG1cdTAyNTlsaWRpcmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIG1cdTAyNTl0bjogXCIke19pc3N1ZS5pbmNsdWRlc31cIiBkYXhpbCBvbG1hbFx1MDEzMWRcdTAxMzFyYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgbVx1MDI1OXRuOiAke19pc3N1ZS5wYXR0ZXJufSBcdTAxNUZhYmxvbnVuYSB1eVx1MDExRnVuIG9sbWFsXHUwMTMxZFx1MDEzMXJgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBcdTAyNTlkXHUwMjU5ZDogJHtpc3N1ZS5kaXZpc29yfSBpbFx1MDI1OSBiXHUwMEY2bFx1MDBGQ25cdTAyNTkgYmlsXHUwMjU5biBvbG1hbFx1MDEzMWRcdTAxMzFyYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVGFuXHUwMTMxbm1heWFuIGFcdTAwRTdhciR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJsYXJcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBkYXhpbGluZFx1MDI1OSB5YW5sXHUwMTMxXHUwMTVGIGFcdTAwRTdhcmA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIllhbmxcdTAxMzFcdTAxNUYgZFx1MDI1OXlcdTAyNTlyXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gZGF4aWxpbmRcdTAyNTkgeWFubFx1MDEzMVx1MDE1RiBkXHUwMjU5eVx1MDI1OXJgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgZFx1MDI1OXlcdTAyNTlyYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5mdW5jdGlvbiBnZXRCZWxhcnVzaWFuUGx1cmFsKGNvdW50LCBvbmUsIGZldywgbWFueSkge1xuICAgIGNvbnN0IGFic0NvdW50ID0gTWF0aC5hYnMoY291bnQpO1xuICAgIGNvbnN0IGxhc3REaWdpdCA9IGFic0NvdW50ICUgMTA7XG4gICAgY29uc3QgbGFzdFR3b0RpZ2l0cyA9IGFic0NvdW50ICUgMTAwO1xuICAgIGlmIChsYXN0VHdvRGlnaXRzID49IDExICYmIGxhc3RUd29EaWdpdHMgPD0gMTkpIHtcbiAgICAgICAgcmV0dXJuIG1hbnk7XG4gICAgfVxuICAgIGlmIChsYXN0RGlnaXQgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIG9uZTtcbiAgICB9XG4gICAgaWYgKGxhc3REaWdpdCA+PSAyICYmIGxhc3REaWdpdCA8PSA0KSB7XG4gICAgICAgIHJldHVybiBmZXc7XG4gICAgfVxuICAgIHJldHVybiBtYW55O1xufVxuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQ0MVx1MDQ1Nlx1MDQzQ1x1MDQzMlx1MDQzMFx1MDQzQlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0NDFcdTA0NTZcdTA0M0NcdTA0MzJcdTA0MzBcdTA0M0JcdTA0NEJcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQ0MVx1MDQ1Nlx1MDQzQ1x1MDQzMlx1MDQzMFx1MDQzQlx1MDQzMFx1MDQ1RVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDNDXHUwNDM1XHUwNDQ2XHUwNDRDXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGFycmF5OiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0MlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0NEJcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzMFx1MDQ1RVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDNDXHUwNDM1XHUwNDQ2XHUwNDRDXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDRCXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0MzBcdTA0NUVcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzQ1x1MDQzNVx1MDQ0Nlx1MDQ0Q1wiLFxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQzMVx1MDQzMFx1MDQzOVx1MDQ0MlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0MzFcdTA0MzBcdTA0MzlcdTA0NDJcdTA0NEJcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQzMVx1MDQzMFx1MDQzOVx1MDQ0Mlx1MDQzMFx1MDQ1RVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDNDXHUwNDM1XHUwNDQ2XHUwNDRDXCIsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUwNDNCXHUwNDU2XHUwNDNBXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA0M0NcdTA0MzBcdTA0NDFcdTA0NTZcdTA0NUVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNDQzXHUwNDMyXHUwNDNFXHUwNDM0XCIsXG4gICAgICAgIGVtYWlsOiBcImVtYWlsIFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzMFx1MDQ0MVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDQ0RFx1MDQzQ1x1MDQzRVx1MDQzNFx1MDQzN1x1MDQ1NlwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDMwIFx1MDQ1NiBcdTA0NDdcdTA0MzBcdTA0NDFcIixcbiAgICAgICAgZGF0ZTogXCJJU08gXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDMwXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIFx1MDQ0N1x1MDQzMFx1MDQ0MVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDQ2XHUwNDRGXHUwNDMzXHUwNDNCXHUwNDMwXHUwNDQxXHUwNDQ2XHUwNDRDXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzBcdTA0NDFcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzMFx1MDQ0MVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdTA0MzRcdTA0NEJcdTA0NEZcdTA0M0ZcdTA0MzBcdTA0MzdcdTA0M0VcdTA0M0RcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHUwNDM0XHUwNDRCXHUwNDRGXHUwNDNGXHUwNDMwXHUwNDM3XHUwNDNFXHUwNDNEXCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTA0NDBcdTA0MzBcdTA0MzRcdTA0M0VcdTA0M0EgXHUwNDQzIFx1MDQ0NFx1MDQzMFx1MDQ0MFx1MDQzQ1x1MDQzMFx1MDQ0Nlx1MDQzNSBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzRVx1MDQzQSBcdTA0NDMgXHUwNDQ0XHUwNDMwXHUwNDQwXHUwNDNDXHUwNDMwXHUwNDQ2XHUwNDM1IGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzRVx1MDQzQVwiLFxuICAgICAgICBlMTY0OiBcIlx1MDQzRFx1MDQ0M1x1MDQzQ1x1MDQzMFx1MDQ0MCBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwNDQzXHUwNDMyXHUwNDNFXHUwNDM0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQ1RVx1MDQzMlx1MDQzRVx1MDQzNDogXHUwNDQ3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDVFXHUwNDQxXHUwNDRGICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTA0MzBcdTA0NDJcdTA0NDBcdTA0NEJcdTA0M0NcdTA0MzBcdTA0M0RcdTA0MzAgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDVFXHUwNDMyXHUwNDNFXHUwNDM0OiBcdTA0NDdcdTA0MzBcdTA0M0FcdTA0MzBcdTA0M0JcdTA0MzBcdTA0NDFcdTA0NEYgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDMyXHUwNDMwXHUwNDQwXHUwNDRCXHUwNDRGXHUwNDNEXHUwNDQyOiBcdTA0NDdcdTA0MzBcdTA0M0FcdTA0MzBcdTA0NUVcdTA0NDFcdTA0NEYgXHUwNDMwXHUwNDM0XHUwNDM3XHUwNDU2XHUwNDNEIFx1MDQzNyAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4VmFsdWUgPSBOdW1iZXIoaXNzdWUubWF4aW11bSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuaXQgPSBnZXRCZWxhcnVzaWFuUGx1cmFsKG1heFZhbHVlLCBzaXppbmcudW5pdC5vbmUsIHNpemluZy51bml0LmZldywgc2l6aW5nLnVuaXQubWFueSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDE3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDMwIFx1MDQzMlx1MDQ0Rlx1MDQzQlx1MDQ1Nlx1MDQzQVx1MDQ1NjogXHUwNDQ3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNCXHUwNDMwXHUwNDQxXHUwNDRGLCBcdTA0NDhcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0NERcdTA0M0RcdTA0M0RcdTA0MzVcIn0gXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDNEXHUwNDMwICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3VuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0MzAgXHUwNDMyXHUwNDRGXHUwNDNCXHUwNDU2XHUwNDNBXHUwNDU2OiBcdTA0NDdcdTA0MzBcdTA0M0FcdTA0MzBcdTA0M0JcdTA0MzBcdTA0NDFcdTA0NEYsIFx1MDQ0OFx1MDQ0Mlx1MDQzRSAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQ0RFx1MDQzRFx1MDQzRFx1MDQzNVwifSBcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0RcdTA0M0RcdTA0MzAgXHUwNDMxXHUwNDRCXHUwNDQ2XHUwNDRDICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pblZhbHVlID0gTnVtYmVyKGlzc3VlLm1pbmltdW0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bml0ID0gZ2V0QmVsYXJ1c2lhblBsdXJhbChtaW5WYWx1ZSwgc2l6aW5nLnVuaXQub25lLCBzaXppbmcudW5pdC5mZXcsIHNpemluZy51bml0Lm1hbnkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzMCBcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NEI6IFx1MDQ0N1x1MDQzMFx1MDQzQVx1MDQzMFx1MDQzQlx1MDQzMFx1MDQ0MVx1MDQ0RiwgXHUwNDQ4XHUwNDQyXHUwNDNFICR7aXNzdWUub3JpZ2lufSBcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0RcdTA0M0RcdTA0MzAgJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7dW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzMCBcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NEI6IFx1MDQ0N1x1MDQzMFx1MDQzQVx1MDQzMFx1MDQzQlx1MDQzMFx1MDQ0MVx1MDQ0RiwgXHUwNDQ4XHUwNDQyXHUwNDNFICR7aXNzdWUub3JpZ2lufSBcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0RcdTA0M0RcdTA0MzAgXHUwNDMxXHUwNDRCXHUwNDQ2XHUwNDRDICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzRlx1MDQzMFx1MDQ0N1x1MDQ0Qlx1MDQzRFx1MDQzMFx1MDQ0Nlx1MDQ0Nlx1MDQzMCBcdTA0MzcgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0NDBcdTA0MzBcdTA0MzRcdTA0M0VcdTA0M0E6IFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzRFx1MDQzNVx1MDQzRCBcdTA0MzdcdTA0MzBcdTA0M0FcdTA0MzBcdTA0M0RcdTA0NDdcdTA0MzJcdTA0MzBcdTA0NDZcdTA0NDZcdTA0MzAgXHUwNDNEXHUwNDMwIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0NDBcdTA0MzBcdTA0MzRcdTA0M0VcdTA0M0E6IFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzRFx1MDQzNVx1MDQzRCBcdTA0MzdcdTA0M0NcdTA0NEZcdTA0NDhcdTA0NDdcdTA0MzBcdTA0NDZcdTA0NEMgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDNFXHUwNDNBOiBcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0RcdTA0MzVcdTA0M0QgXHUwNDMwXHUwNDM0XHUwNDNGXHUwNDMwXHUwNDMyXHUwNDRGXHUwNDM0XHUwNDMwXHUwNDQ2XHUwNDRDIFx1MDQ0OFx1MDQzMFx1MDQzMVx1MDQzQlx1MDQzRVx1MDQzRFx1MDQ0MyAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0M0JcdTA0NTZcdTA0M0E6IFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzRFx1MDQzNVx1MDQzRCBcdTA0MzFcdTA0NEJcdTA0NDZcdTA0NEMgXHUwNDNBXHUwNDQwXHUwNDMwXHUwNDQyXHUwNDNEXHUwNDRCXHUwNDNDICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0NDBcdTA0MzBcdTA0NDFcdTA0M0ZcdTA0MzBcdTA0MzdcdTA0M0RcdTA0MzBcdTA0M0RcdTA0NEIgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDQzQVx1MDQzQlx1MDQ0RVx1MDQ0N1x1MDQ0QlwiIDogXCJcdTA0M0FcdTA0M0JcdTA0NEVcdTA0NDdcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQzQVx1MDQzQlx1MDQ0RVx1MDQ0NyBcdTA0NDMgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQ1RVx1MDQzMlx1MDQzRVx1MDQzNFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDMwXHUwNDM1IFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQ0RFx1MDQzRFx1MDQzRFx1MDQzNSBcdTA0NUUgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDVFXHUwNDMyXHUwNDNFXHUwNDM0YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJjYXJcdTAwRTBjdGVyc1wiLCB2ZXJiOiBcImNvbnRlbmlyXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVzXCIsIHZlcmI6IFwiY29udGVuaXJcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1lbnRzXCIsIHZlcmI6IFwiY29udGVuaXJcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtZW50c1wiLCB2ZXJiOiBcImNvbnRlbmlyXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImVudHJhZGFcIixcbiAgICAgICAgZW1haWw6IFwiYWRyZVx1MDBFN2EgZWxlY3RyXHUwMEYybmljYVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdGEgaSBob3JhIElTT1wiLFxuICAgICAgICBkYXRlOiBcImRhdGEgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiaG9yYSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiZHVyYWRhIElTT1wiLFxuICAgICAgICBpcHY0OiBcImFkcmVcdTAwRTdhIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJhZHJlXHUwMEU3YSBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJyYW5nIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcInJhbmcgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiY2FkZW5hIGNvZGlmaWNhZGEgZW4gYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJjYWRlbmEgY29kaWZpY2FkYSBlbiBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiY2FkZW5hIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJuXHUwMEZBbWVybyBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiZW50cmFkYVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRpcHVzIGludlx1MDBFMGxpZDogcydlc3BlcmF2YSAke2lzc3VlLmV4cGVjdGVkfSwgcydoYSByZWJ1dCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICAvLyByZXR1cm4gYFRpcHVzIGludlx1MDBFMGxpZDogcydlc3BlcmF2YSAke2lzc3VlLmV4cGVjdGVkfSwgcydoYSByZWJ1dCAke3V0aWwuZ2V0UGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVmFsb3IgaW52XHUwMEUwbGlkOiBzJ2VzcGVyYXZhICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT3BjaVx1MDBGMyBpbnZcdTAwRTBsaWRhOiBzJ2VzcGVyYXZhIHVuYSBkZSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwiIG8gXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJjb20gYSBtXHUwMEUweGltXCIgOiBcIm1lbnlzIGRlXCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNYXNzYSBncmFuOiBzJ2VzcGVyYXZhIHF1ZSAke2lzc3VlLm9yaWdpbiA/PyBcImVsIHZhbG9yXCJ9IGNvbnRpbmd1XHUwMEU5cyAke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50c1wifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBNYXNzYSBncmFuOiBzJ2VzcGVyYXZhIHF1ZSAke2lzc3VlLm9yaWdpbiA/PyBcImVsIHZhbG9yXCJ9IGZvcyAke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiY29tIGEgbVx1MDBFRG5pbVwiIDogXCJtXHUwMEU5cyBkZVwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNYXNzYSBwZXRpdDogcydlc3BlcmF2YSBxdWUgJHtpc3N1ZS5vcmlnaW59IGNvbnRpbmd1XHUwMEU5cyAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBNYXNzYSBwZXRpdDogcydlc3BlcmF2YSBxdWUgJHtpc3N1ZS5vcmlnaW59IGZvcyAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvcm1hdCBpbnZcdTAwRTBsaWQ6IGhhIGRlIGNvbWVuXHUwMEU3YXIgYW1iIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRm9ybWF0IGludlx1MDBFMGxpZDogaGEgZCdhY2FiYXIgYW1iIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvcm1hdCBpbnZcdTAwRTBsaWQ6IGhhIGQnaW5jbG91cmUgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGb3JtYXQgaW52XHUwMEUwbGlkOiBoYSBkZSBjb2luY2lkaXIgYW1iIGVsIHBhdHJcdTAwRjMgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgRm9ybWF0IGludlx1MDBFMGxpZCBwZXIgYSAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTlx1MDBGQW1lcm8gaW52XHUwMEUwbGlkOiBoYSBkZSBzZXIgbVx1MDBGQWx0aXBsZSBkZSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2xhdSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifSBubyByZWNvbmVndWRhJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENsYXUgaW52XHUwMEUwbGlkYSBhICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkVudHJhZGEgaW52XHUwMEUwbGlkYVwiOyAvLyBDb3VsZCBhbHNvIGJlIFwiVGlwdXMgZCd1bmlcdTAwRjMgaW52XHUwMEUwbGlkXCIgYnV0IFwiRW50cmFkYSBpbnZcdTAwRTBsaWRhXCIgaXMgbW9yZSBnZW5lcmFsXG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBFbGVtZW50IGludlx1MDBFMGxpZCBhICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgRW50cmFkYSBpbnZcdTAwRTBsaWRhYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJ6bmFrXHUwMTZGXCIsIHZlcmI6IFwibVx1MDBFRHRcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYmFqdFx1MDE2RlwiLCB2ZXJiOiBcIm1cdTAwRUR0XCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJwcnZrXHUwMTZGXCIsIHZlcmI6IFwibVx1MDBFRHRcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJwcnZrXHUwMTZGXCIsIHZlcmI6IFwibVx1MDBFRHRcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MDEwRFx1MDBFRHNsb1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwMTU5ZXRcdTAxMUJ6ZWNcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJiaWdpbnRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZnVua2NlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzeW1ib2xcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInVuZGVmaW5lZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicG9sZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJyZWd1bFx1MDBFMXJuXHUwMEVEIHZcdTAwRkRyYXpcIixcbiAgICAgICAgZW1haWw6IFwiZS1tYWlsb3ZcdTAwRTEgYWRyZXNhXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZGF0dW0gYSBcdTAxMERhcyB2ZSBmb3JtXHUwMEUxdHUgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0dW0gdmUgZm9ybVx1MDBFMXR1IElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MDEwRGFzIHZlIGZvcm1cdTAwRTF0dSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiZG9iYSB0cnZcdTAwRTFuXHUwMEVEIElTT1wiLFxuICAgICAgICBpcHY0OiBcIklQdjQgYWRyZXNhXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBhZHJlc2FcIixcbiAgICAgICAgY2lkcnY0OiBcInJvenNhaCBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJyb3pzYWggSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwMTU5ZXRcdTAxMUJ6ZWMgemFrXHUwMEYzZG92YW5cdTAwRkQgdmUgZm9ybVx1MDBFMXR1IGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUwMTU5ZXRcdTAxMUJ6ZWMgemFrXHUwMEYzZG92YW5cdTAwRkQgdmUgZm9ybVx1MDBFMXR1IGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJcdTAxNTlldFx1MDExQnplYyB2ZSBmb3JtXHUwMEUxdHUgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIlx1MDEwRFx1MDBFRHNsbyBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwidnN0dXBcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIHZzdHVwOiBvXHUwMTBEZWtcdTAwRTF2XHUwMEUxbm8gJHtpc3N1ZS5leHBlY3RlZH0sIG9iZHJcdTAxN0Vlbm8gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIHZzdHVwOiBvXHUwMTBEZWtcdTAwRTF2XHUwMEUxbm8gJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEUxIG1vXHUwMTdFbm9zdDogb1x1MDEwRGVrXHUwMEUxdlx1MDBFMW5hIGplZG5hIHogaG9kbm90ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEhvZG5vdGEgamUgcFx1MDE1OVx1MDBFRGxpXHUwMTYxIHZlbGtcdTAwRTE6ICR7aXNzdWUub3JpZ2luID8/IFwiaG9kbm90YVwifSBtdXNcdTAwRUQgbVx1MDBFRHQgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJwcnZrXHUwMTZGXCJ9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBIb2Rub3RhIGplIHBcdTAxNTlcdTAwRURsaVx1MDE2MSB2ZWxrXHUwMEUxOiAke2lzc3VlLm9yaWdpbiA/PyBcImhvZG5vdGFcIn0gbXVzXHUwMEVEIGJcdTAwRkR0ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSG9kbm90YSBqZSBwXHUwMTU5XHUwMEVEbGlcdTAxNjEgbWFsXHUwMEUxOiAke2lzc3VlLm9yaWdpbiA/PyBcImhvZG5vdGFcIn0gbXVzXHUwMEVEIG1cdTAwRUR0ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwicHJ2a1x1MDE2RlwifWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgSG9kbm90YSBqZSBwXHUwMTU5XHUwMEVEbGlcdTAxNjEgbWFsXHUwMEUxOiAke2lzc3VlLm9yaWdpbiA/PyBcImhvZG5vdGFcIn0gbXVzXHUwMEVEIGJcdTAwRkR0ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCBcdTAxNTlldFx1MDExQnplYzogbXVzXHUwMEVEIHphXHUwMTBEXHUwMEVEbmF0IG5hIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIFx1MDE1OWV0XHUwMTFCemVjOiBtdXNcdTAwRUQga29uXHUwMTBEaXQgbmEgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCBcdTAxNTlldFx1MDExQnplYzogbXVzXHUwMEVEIG9ic2Fob3ZhdCBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRkQgXHUwMTU5ZXRcdTAxMUJ6ZWM6IG11c1x1MDBFRCBvZHBvdlx1MDBFRGRhdCB2em9ydSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIGZvcm1cdTAwRTF0ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEU5IFx1MDEwRFx1MDBFRHNsbzogbXVzXHUwMEVEIGJcdTAwRkR0IG5cdTAwRTFzb2JrZW0gJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lem5cdTAwRTFtXHUwMEU5IGtsXHUwMEVEXHUwMTBEZTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIGtsXHUwMEVEXHUwMTBEIHYgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTmVwbGF0blx1MDBGRCB2c3R1cFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBFMSBob2Rub3RhIHYgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIHZzdHVwYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJ0ZWduXCIsIHZlcmI6IFwiaGF2ZGVcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZXNcIiwgdmVyYjogXCJoYXZkZVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbWVudGVyXCIsIHZlcmI6IFwiaW5kZWhvbGR0XCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbWVudGVyXCIsIHZlcmI6IFwiaW5kZWhvbGR0XCIgfSxcbiAgICB9O1xuICAgIGNvbnN0IFR5cGVOYW1lcyA9IHtcbiAgICAgICAgc3RyaW5nOiBcInN0cmVuZ1wiLFxuICAgICAgICBudW1iZXI6IFwidGFsXCIsXG4gICAgICAgIGJvb2xlYW46IFwiYm9vbGVhblwiLFxuICAgICAgICBhcnJheTogXCJsaXN0ZVwiLFxuICAgICAgICBvYmplY3Q6IFwib2JqZWt0XCIsXG4gICAgICAgIHNldDogXCJzXHUwMEU2dFwiLFxuICAgICAgICBmaWxlOiBcImZpbFwiLFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFR5cGVOYW1lKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIFR5cGVOYW1lc1t0eXBlXSA/PyB0eXBlO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJ0YWxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxpc3RlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVrdFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImlucHV0XCIsXG4gICAgICAgIGVtYWlsOiBcImUtbWFpbGFkcmVzc2VcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gZGF0by0gb2cga2xva2tlc2xcdTAwRTZ0XCIsXG4gICAgICAgIGRhdGU6IFwiSVNPLWRhdG9cIixcbiAgICAgICAgdGltZTogXCJJU08ta2xva2tlc2xcdTAwRTZ0XCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTy12YXJpZ2hlZFwiLFxuICAgICAgICBpcHY0OiBcIklQdjQtb21yXHUwMEU1ZGVcIixcbiAgICAgICAgaXB2NjogXCJJUHY2LW9tclx1MDBFNWRlXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0LXNwZWt0cnVtXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2LXNwZWt0cnVtXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQta29kZXQgc3RyZW5nXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwta29kZXQgc3RyZW5nXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04tc3RyZW5nXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQtbnVtbWVyXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJpbnB1dFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWd0IGlucHV0OiBmb3J2ZW50ZWRlICR7Z2V0VHlwZU5hbWUoaXNzdWUuZXhwZWN0ZWQpfSwgZmlrICR7Z2V0VHlwZU5hbWUocGFyc2VkVHlwZShpc3N1ZS5pbnB1dCkpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgdlx1MDBFNnJkaTogZm9ydmVudGVkZSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWd0IHZhbGc6IGZvcnZlbnRlZGUgZW4gYWYgZlx1MDBGOGxnZW5kZSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IGdldFR5cGVOYW1lKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGb3Igc3RvcjogZm9ydmVudGVkZSAke29yaWdpbiA/PyBcInZhbHVlXCJ9ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRlclwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGb3Igc3RvcjogZm9ydmVudGVkZSAke29yaWdpbiA/PyBcInZhbHVlXCJ9IGhhdmRlICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gZ2V0VHlwZU5hbWUoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRm9yIGxpbGxlOiBmb3J2ZW50ZWRlICR7b3JpZ2lufSAke3NpemluZy52ZXJifSAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGb3IgbGlsbGU6IGZvcnZlbnRlZGUgJHtvcmlnaW59IGhhdmRlICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBza2FsIHN0YXJ0ZSBtZWQgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBza2FsIGVuZGUgbWVkIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBza2FsIGluZGVob2xkZSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBza2FsIG1hdGNoZSBtXHUwMEY4bnN0ZXJldCAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlndCB0YWw6IHNrYWwgdlx1MDBFNnJlIGRlbGVsaWd0IG1lZCAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlVrZW5kdGUgblx1MDBGOGdsZXJcIiA6IFwiVWtlbmR0IG5cdTAwRjhnbGVcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBuXHUwMEY4Z2xlIGkgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiVWd5bGRpZ3QgaW5wdXQ6IG1hdGNoZXIgaW5nZW4gYWYgZGUgdGlsbGFkdGUgdHlwZXJcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgdlx1MDBFNnJkaSBpICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZ3QgaW5wdXRgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlplaWNoZW5cIiwgdmVyYjogXCJ6dSBoYWJlblwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJCeXRlc1wiLCB2ZXJiOiBcInp1IGhhYmVuXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJFbGVtZW50ZVwiLCB2ZXJiOiBcInp1IGhhYmVuXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiRWxlbWVudGVcIiwgdmVyYjogXCJ6dSBoYWJlblwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiWmFobFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiRWluZ2FiZVwiLFxuICAgICAgICBlbWFpbDogXCJFLU1haWwtQWRyZXNzZVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIkVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTy1EYXR1bSB1bmQgLVVocnplaXRcIixcbiAgICAgICAgZGF0ZTogXCJJU08tRGF0dW1cIixcbiAgICAgICAgdGltZTogXCJJU08tVWhyemVpdFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08tRGF1ZXJcIixcbiAgICAgICAgaXB2NDogXCJJUHY0LUFkcmVzc2VcIixcbiAgICAgICAgaXB2NjogXCJJUHY2LUFkcmVzc2VcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQtQmVyZWljaFwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Ni1CZXJlaWNoXCIsXG4gICAgICAgIGJhc2U2NDogXCJCYXNlNjQtY29kaWVydGVyIFN0cmluZ1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiQmFzZTY0LVVSTC1jb2RpZXJ0ZXIgU3RyaW5nXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04tU3RyaW5nXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQtTnVtbWVyXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJFaW5nYWJlXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2UgRWluZ2FiZTogZXJ3YXJ0ZXQgJHtpc3N1ZS5leHBlY3RlZH0sIGVyaGFsdGVuICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2UgRWluZ2FiZTogZXJ3YXJ0ZXQgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZSBPcHRpb246IGVyd2FydGV0IGVpbmUgdm9uICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBadSBncm9cdTAwREY6IGVyd2FydGV0LCBkYXNzICR7aXNzdWUub3JpZ2luID8/IFwiV2VydFwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIkVsZW1lbnRlXCJ9IGhhdGA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBadSBncm9cdTAwREY6IGVyd2FydGV0LCBkYXNzICR7aXNzdWUub3JpZ2luID8/IFwiV2VydFwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gaXN0YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBadSBrbGVpbjogZXJ3YXJ0ZXQsIGRhc3MgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fSBoYXRgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFp1IGtsZWluOiBlcndhcnRldCwgZGFzcyAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9IGlzdGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2VyIFN0cmluZzogbXVzcyBtaXQgXCIke19pc3N1ZS5wcmVmaXh9XCIgYmVnaW5uZW5gO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlciBTdHJpbmc6IG11c3MgbWl0IFwiJHtfaXNzdWUuc3VmZml4fVwiIGVuZGVuYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlciBTdHJpbmc6IG11c3MgXCIke19pc3N1ZS5pbmNsdWRlc31cIiBlbnRoYWx0ZW5gO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2VyIFN0cmluZzogbXVzcyBkZW0gTXVzdGVyICR7X2lzc3VlLnBhdHRlcm59IGVudHNwcmVjaGVuYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWc6ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZSBaYWhsOiBtdXNzIGVpbiBWaWVsZmFjaGVzIHZvbiAke2lzc3VlLmRpdmlzb3J9IHNlaW5gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiVW5iZWthbm50ZSBTY2hsXHUwMEZDc3NlbFwiIDogXCJVbmJla2FubnRlciBTY2hsXHUwMEZDc3NlbFwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZXIgU2NobFx1MDBGQ3NzZWwgaW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiVW5nXHUwMEZDbHRpZ2UgRWluZ2FiZVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2VyIFdlcnQgaW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZSBFaW5nYWJlYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJjaGFyYWN0ZXJzXCIsIHZlcmI6IFwidG8gaGF2ZVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlc1wiLCB2ZXJiOiBcInRvIGhhdmVcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIml0ZW1zXCIsIHZlcmI6IFwidG8gaGF2ZVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIml0ZW1zXCIsIHZlcmI6IFwidG8gaGF2ZVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImlucHV0XCIsXG4gICAgICAgIGVtYWlsOiBcImVtYWlsIGFkZHJlc3NcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gZGF0ZXRpbWVcIixcbiAgICAgICAgZGF0ZTogXCJJU08gZGF0ZVwiLFxuICAgICAgICB0aW1lOiBcIklTTyB0aW1lXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBkdXJhdGlvblwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgYWRkcmVzc1wiLFxuICAgICAgICBpcHY2OiBcIklQdjYgYWRkcmVzc1wiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCByYW5nZVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiByYW5nZVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWVuY29kZWQgc3RyaW5nXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwtZW5jb2RlZCBzdHJpbmdcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBzdHJpbmdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBudW1iZXJcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImlucHV0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIG9wdGlvbjogZXhwZWN0ZWQgb25lIG9mICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUb28gYmlnOiBleHBlY3RlZCAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9IHRvIGhhdmUgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50c1wifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUb28gYmlnOiBleHBlY3RlZCAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9IHRvIGJlICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVG9vIHNtYWxsOiBleHBlY3RlZCAke2lzc3VlLm9yaWdpbn0gdG8gaGF2ZSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFRvbyBzbWFsbDogZXhwZWN0ZWQgJHtpc3N1ZS5vcmlnaW59IHRvIGJlICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIHN0cmluZzogbXVzdCBzdGFydCB3aXRoIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBzdHJpbmc6IG11c3QgZW5kIHdpdGggXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBzdHJpbmc6IG11c3QgaW5jbHVkZSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgc3RyaW5nOiBtdXN0IG1hdGNoIHBhdHRlcm4gJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBudW1iZXI6IG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVW5yZWNvZ25pemVkIGtleSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIGtleSBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIHZhbHVlIGluICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibm9tYnJvXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInRhYmVsb1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzZW52YWxvcmFcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwia2FyYWt0cm9qblwiLCB2ZXJiOiBcImhhdmlcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYmFqdG9qblwiLCB2ZXJiOiBcImhhdmlcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1lbnRvam5cIiwgdmVyYjogXCJoYXZpXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbWVudG9qblwiLCB2ZXJiOiBcImhhdmlcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJlbmlnb1wiLFxuICAgICAgICBlbWFpbDogXCJyZXRhZHJlc29cIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9cdTAxMURpb1wiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08tZGF0b3RlbXBvXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPLWRhdG9cIixcbiAgICAgICAgdGltZTogXCJJU08tdGVtcG9cIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPLWRhXHUwMTZEcm9cIixcbiAgICAgICAgaXB2NDogXCJJUHY0LWFkcmVzb1wiLFxuICAgICAgICBpcHY2OiBcIklQdjYtYWRyZXNvXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0LXJhbmdvXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2LXJhbmdvXCIsXG4gICAgICAgIGJhc2U2NDogXCI2NC11bWUga29kaXRhIGthcmFrdHJhcm9cIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlVSTC02NC11bWUga29kaXRhIGthcmFrdHJhcm9cIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTi1rYXJha3RyYXJvXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQtbm9tYnJvXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJlbmlnb1wiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIGVuaWdvOiBhdGVuZGlcdTAxMURpcyAke2lzc3VlLmV4cGVjdGVkfSwgcmljZXZpXHUwMTFEaXMgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSBlbmlnbzogYXRlbmRpXHUwMTFEaXMgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSBvcGNpbzogYXRlbmRpXHUwMTFEaXMgdW51IGVsICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUcm8gZ3JhbmRhOiBhdGVuZGlcdTAxMURpcyBrZSAke2lzc3VlLm9yaWdpbiA/PyBcInZhbG9yb1wifSBoYXZ1ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudG9qblwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUcm8gZ3JhbmRhOiBhdGVuZGlcdTAxMURpcyBrZSAke2lzc3VlLm9yaWdpbiA/PyBcInZhbG9yb1wifSBoYXZ1ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvIG1hbGdyYW5kYTogYXRlbmRpXHUwMTFEaXMga2UgJHtpc3N1ZS5vcmlnaW59IGhhdnUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUcm8gbWFsZ3JhbmRhOiBhdGVuZGlcdTAxMURpcyBrZSAke2lzc3VlLm9yaWdpbn0gZXN0dSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIGthcmFrdHJhcm86IGRldmFzIGtvbWVuY2lcdTAxMURpIHBlciBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEga2FyYWt0cmFybzogZGV2YXMgZmluaVx1MDExRGkgcGVyIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIGthcmFrdHJhcm86IGRldmFzIGlua2x1eml2aSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIGthcmFrdHJhcm86IGRldmFzIGtvbmdydWkga3VuIGxhIG1vZGVsbyAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEgbm9tYnJvOiBkZXZhcyBlc3RpIG9ibG8gZGUgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5la29uYXRhJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImpcIiA6IFwiXCJ9IFx1MDE1RGxvc2lsbyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJqXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSBcdTAxNURsb3NpbG8gZW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTmV2YWxpZGEgZW5pZ29cIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIHZhbG9ybyBlbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIGVuaWdvYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJjYXJhY3RlcmVzXCIsIHZlcmI6IFwidGVuZXJcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZXNcIiwgdmVyYjogXCJ0ZW5lclwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbWVudG9zXCIsIHZlcmI6IFwidGVuZXJcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtZW50b3NcIiwgdmVyYjogXCJ0ZW5lclwiIH0sXG4gICAgfTtcbiAgICBjb25zdCBUeXBlTmFtZXMgPSB7XG4gICAgICAgIHN0cmluZzogXCJ0ZXh0b1wiLFxuICAgICAgICBudW1iZXI6IFwiblx1MDBGQW1lcm9cIixcbiAgICAgICAgYm9vbGVhbjogXCJib29sZWFub1wiLFxuICAgICAgICBhcnJheTogXCJhcnJlZ2xvXCIsXG4gICAgICAgIG9iamVjdDogXCJvYmpldG9cIixcbiAgICAgICAgc2V0OiBcImNvbmp1bnRvXCIsXG4gICAgICAgIGZpbGU6IFwiYXJjaGl2b1wiLFxuICAgICAgICBkYXRlOiBcImZlY2hhXCIsXG4gICAgICAgIGJpZ2ludDogXCJuXHUwMEZBbWVybyBncmFuZGVcIixcbiAgICAgICAgc3ltYm9sOiBcInNcdTAwRURtYm9sb1wiLFxuICAgICAgICB1bmRlZmluZWQ6IFwiaW5kZWZpbmlkb1wiLFxuICAgICAgICBudWxsOiBcIm51bG9cIixcbiAgICAgICAgZnVuY3Rpb246IFwiZnVuY2lcdTAwRjNuXCIsXG4gICAgICAgIG1hcDogXCJtYXBhXCIsXG4gICAgICAgIHJlY29yZDogXCJyZWdpc3Ryb1wiLFxuICAgICAgICB0dXBsZTogXCJ0dXBsYVwiLFxuICAgICAgICBlbnVtOiBcImVudW1lcmFjaVx1MDBGM25cIixcbiAgICAgICAgdW5pb246IFwidW5pXHUwMEYzblwiLFxuICAgICAgICBsaXRlcmFsOiBcImxpdGVyYWxcIixcbiAgICAgICAgcHJvbWlzZTogXCJwcm9tZXNhXCIsXG4gICAgICAgIHZvaWQ6IFwidmFjXHUwMEVEb1wiLFxuICAgICAgICBuZXZlcjogXCJudW5jYVwiLFxuICAgICAgICB1bmtub3duOiBcImRlc2Nvbm9jaWRvXCIsXG4gICAgICAgIGFueTogXCJjdWFscXVpZXJhXCIsXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VHlwZU5hbWUodHlwZSkge1xuICAgICAgICByZXR1cm4gVHlwZU5hbWVzW3R5cGVdID8/IHR5cGU7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVjdFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImVudHJhZGFcIixcbiAgICAgICAgZW1haWw6IFwiZGlyZWNjaVx1MDBGM24gZGUgY29ycmVvIGVsZWN0clx1MDBGM25pY29cIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJmZWNoYSB5IGhvcmEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZmVjaGEgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiaG9yYSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiZHVyYWNpXHUwMEYzbiBJU09cIixcbiAgICAgICAgaXB2NDogXCJkaXJlY2NpXHUwMEYzbiBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiZGlyZWNjaVx1MDBGM24gSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwicmFuZ28gSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwicmFuZ28gSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiY2FkZW5hIGNvZGlmaWNhZGEgZW4gYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJVUkwgY29kaWZpY2FkYSBlbiBiYXNlNjRcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiY2FkZW5hIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJuXHUwMEZBbWVybyBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiZW50cmFkYVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJhZGEgaW52XHUwMEUxbGlkYTogc2UgZXNwZXJhYmEgJHtnZXRUeXBlTmFtZShpc3N1ZS5leHBlY3RlZCl9LCByZWNpYmlkbyAke2dldFR5cGVOYW1lKHBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpKX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBFbnRyYWRhIGludlx1MDBFMWxpZGE6IHNlIGVzcGVyYWJhICR7aXNzdWUuZXhwZWN0ZWR9LCByZWNpYmlkbyAke3V0aWwuZ2V0UGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRW50cmFkYSBpbnZcdTAwRTFsaWRhOiBzZSBlc3BlcmFiYSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9wY2lcdTAwRjNuIGludlx1MDBFMWxpZGE6IHNlIGVzcGVyYWJhIHVuYSBkZSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IGdldFR5cGVOYW1lKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBEZW1hc2lhZG8gZ3JhbmRlOiBzZSBlc3BlcmFiYSBxdWUgJHtvcmlnaW4gPz8gXCJ2YWxvclwifSB0dXZpZXJhICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudG9zXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYERlbWFzaWFkbyBncmFuZGU6IHNlIGVzcGVyYWJhIHF1ZSAke29yaWdpbiA/PyBcInZhbG9yXCJ9IGZ1ZXJhICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBnZXRUeXBlTmFtZShpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBEZW1hc2lhZG8gcGVxdWVcdTAwRjFvOiBzZSBlc3BlcmFiYSBxdWUgJHtvcmlnaW59IHR1dmllcmEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBEZW1hc2lhZG8gcGVxdWVcdTAwRjFvOiBzZSBlc3BlcmFiYSBxdWUgJHtvcmlnaW59IGZ1ZXJhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2FkZW5hIGludlx1MDBFMWxpZGE6IGRlYmUgY29tZW56YXIgY29uIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDYWRlbmEgaW52XHUwMEUxbGlkYTogZGViZSB0ZXJtaW5hciBlbiBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDYWRlbmEgaW52XHUwMEUxbGlkYTogZGViZSBpbmNsdWlyIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2FkZW5hIGludlx1MDBFMWxpZGE6IGRlYmUgY29pbmNpZGlyIGNvbiBlbCBwYXRyXHUwMEYzbiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZcdTAwRTFsaWRvICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOXHUwMEZBbWVybyBpbnZcdTAwRTFsaWRvOiBkZWJlIHNlciBtXHUwMEZBbHRpcGxvIGRlICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBMbGF2ZSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifSBkZXNjb25vY2lkYSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBMbGF2ZSBpbnZcdTAwRTFsaWRhIGVuICR7Z2V0VHlwZU5hbWUoaXNzdWUub3JpZ2luKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJFbnRyYWRhIGludlx1MDBFMWxpZGFcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZhbG9yIGludlx1MDBFMWxpZG8gZW4gJHtnZXRUeXBlTmFtZShpc3N1ZS5vcmlnaW4pfWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgRW50cmFkYSBpbnZcdTAwRTFsaWRhYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTA2QTlcdTA2MjdcdTA2MzFcdTA2MjdcdTA2QTlcdTA2MkFcdTA2MzFcIiwgdmVyYjogXCJcdTA2MkZcdTA2MjdcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyQVwiLCB2ZXJiOiBcIlx1MDYyRlx1MDYyN1x1MDYzNFx1MDYyQVx1MDY0NyBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MDYyMlx1MDZDQ1x1MDYyQVx1MDY0NVwiLCB2ZXJiOiBcIlx1MDYyRlx1MDYyN1x1MDYzNFx1MDYyQVx1MDY0NyBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTA2MjJcdTA2Q0NcdTA2MkFcdTA2NDVcIiwgdmVyYjogXCJcdTA2MkZcdTA2MjdcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA2MzlcdTA2MkZcdTA2MkZcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDYyMlx1MDYzMVx1MDYyN1x1MDZDQ1x1MDY0N1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2Q0NcIixcbiAgICAgICAgZW1haWw6IFwiXHUwNjIyXHUwNjJGXHUwNjMxXHUwNjMzIFx1MDYyN1x1MDZDQ1x1MDY0NVx1MDZDQ1x1MDY0NFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDYyN1x1MDZDQ1x1MDY0NVx1MDY0OFx1MDYyQ1x1MDZDQ1wiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTA2MkFcdTA2MjdcdTA2MzFcdTA2Q0NcdTA2MkUgXHUwNjQ4IFx1MDYzMlx1MDY0NVx1MDYyN1x1MDY0NiBcdTA2MjdcdTA2Q0NcdTA2MzJcdTA2NDhcIixcbiAgICAgICAgZGF0ZTogXCJcdTA2MkFcdTA2MjdcdTA2MzFcdTA2Q0NcdTA2MkUgXHUwNjI3XHUwNkNDXHUwNjMyXHUwNjQ4XCIsXG4gICAgICAgIHRpbWU6IFwiXHUwNjMyXHUwNjQ1XHUwNjI3XHUwNjQ2IFx1MDYyN1x1MDZDQ1x1MDYzMlx1MDY0OFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJcdTA2NDVcdTA2MkZcdTA2MkEgXHUwNjMyXHUwNjQ1XHUwNjI3XHUwNjQ2IFx1MDYyN1x1MDZDQ1x1MDYzMlx1MDY0OFwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgXHUwNjIyXHUwNjJGXHUwNjMxXHUwNjMzXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBcdTA2MjJcdTA2MkZcdTA2MzFcdTA2MzNcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgXHUwNjJGXHUwNjI3XHUwNjQ1XHUwNjQ2XHUwNjQ3XCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IFx1MDYyRlx1MDYyN1x1MDY0NVx1MDY0Nlx1MDY0N1wiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWVuY29kZWQgXHUwNjMxXHUwNjM0XHUwNjJBXHUwNjQ3XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwtZW5jb2RlZCBcdTA2MzFcdTA2MzRcdTA2MkFcdTA2NDdcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBcdTA2MzFcdTA2MzRcdTA2MkFcdTA2NDdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBcdTA2MzlcdTA2MkZcdTA2MkZcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDZDQ1wiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDZDQyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDY0NVx1MDZDQ1x1MjAwQ1x1MDYyOFx1MDYyN1x1MDZDQ1x1MDYzM1x1MDYyQSAke2lzc3VlLmV4cGVjdGVkfSBcdTA2NDVcdTA2Q0NcdTIwMENcdTA2MjhcdTA2NDhcdTA2MkZcdTA2MEMgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX0gXHUwNjJGXHUwNjMxXHUwNkNDXHUwNjI3XHUwNjQxXHUwNjJBIFx1MDYzNFx1MDYyRmA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNkNDIFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMTogXHUwNjQ1XHUwNkNDXHUyMDBDXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjMzXHUwNjJBICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX0gXHUwNjQ1XHUwNkNDXHUyMDBDXHUwNjI4XHUwNjQ4XHUwNjJGYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2QUZcdTA2MzJcdTA2Q0NcdTA2NDZcdTA2NDcgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxOiBcdTA2NDVcdTA2Q0NcdTIwMENcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MzNcdTA2MkEgXHUwNkNDXHUwNkE5XHUwNkNDIFx1MDYyN1x1MDYzMiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX0gXHUwNjQ1XHUwNkNDXHUyMDBDXHUwNjI4XHUwNjQ4XHUwNjJGYDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjJFXHUwNkNDXHUwNjQ0XHUwNkNDIFx1MDYyOFx1MDYzMlx1MDYzMVx1MDZBRjogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA2NDVcdTA2NDJcdTA2MkZcdTA2MjdcdTA2MzFcIn0gXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwNjM5XHUwNjQ2XHUwNjM1XHUwNjMxXCJ9IFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjJFXHUwNkNDXHUwNjQ0XHUwNkNDIFx1MDYyOFx1MDYzMlx1MDYzMVx1MDZBRjogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA2NDVcdTA2NDJcdTA2MkZcdTA2MjdcdTA2MzFcIn0gXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyRVx1MDZDQ1x1MDY0NFx1MDZDQyBcdTA2QTlcdTA2NDhcdTA2ODZcdTA2QTk6ICR7aXNzdWUub3JpZ2lufSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9IFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjJFXHUwNkNDXHUwNjQ0XHUwNkNDIFx1MDZBOVx1MDY0OFx1MDY4Nlx1MDZBOTogJHtpc3N1ZS5vcmlnaW59IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzMVx1MDYzNFx1MDYyQVx1MDY0NyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MjhcdTA2MjcgXCIke19pc3N1ZS5wcmVmaXh9XCIgXHUwNjM0XHUwNjMxXHUwNjQ4XHUwNjM5IFx1MDYzNFx1MDY0OFx1MDYyRmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjMxXHUwNjM0XHUwNjJBXHUwNjQ3IFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMTogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDYyOFx1MDYyNyBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBcdTA2MkFcdTA2NDVcdTA2MjdcdTA2NDUgXHUwNjM0XHUwNjQ4XHUwNjJGYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzMVx1MDYzNFx1MDYyQVx1MDY0NyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MzRcdTA2MjdcdTA2NDVcdTA2NDQgXCIke19pc3N1ZS5pbmNsdWRlc31cIiBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjMxXHUwNjM0XHUwNjJBXHUwNjQ3IFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMTogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDYyOFx1MDYyNyBcdTA2MjdcdTA2NDRcdTA2QUZcdTA2NDhcdTA2Q0MgJHtfaXNzdWUucGF0dGVybn0gXHUwNjQ1XHUwNjM3XHUwNjI3XHUwNjI4XHUwNjQyXHUwNjJBIFx1MDYyRlx1MDYyN1x1MDYzNFx1MDYyQVx1MDY0NyBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzFgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjM5XHUwNjJGXHUwNjJGIFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMTogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDY0NVx1MDYzNlx1MDYzMVx1MDYyOCAke2lzc3VlLmRpdmlzb3J9IFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRmA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDZBOVx1MDY0NFx1MDZDQ1x1MDYyRiR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA2NDdcdTA2MjdcdTA2Q0NcIiA6IFwiXCJ9IFx1MDY0Nlx1MDYyN1x1MDYzNFx1MDY0Nlx1MDYyN1x1MDYzMzogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2MkYgXHUwNjQ2XHUwNjI3XHUwNjM0XHUwNjQ2XHUwNjI3XHUwNjMzIFx1MDYyRlx1MDYzMSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDZDQyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzFgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ1XHUwNjQyXHUwNjJGXHUwNjI3XHUwNjMxIFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMSBcdTA2MkZcdTA2MzEgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2Q0MgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJtZXJra2lcdTAwRTRcIiwgc3ViamVjdDogXCJtZXJra2lqb25vblwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJ0YXZ1YVwiLCBzdWJqZWN0OiBcInRpZWRvc3RvblwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiYWxraW90YVwiLCBzdWJqZWN0OiBcImxpc3RhblwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImFsa2lvdGFcIiwgc3ViamVjdDogXCJqb3Vrb25cIiB9LFxuICAgICAgICBudW1iZXI6IHsgdW5pdDogXCJcIiwgc3ViamVjdDogXCJsdXZ1blwiIH0sXG4gICAgICAgIGJpZ2ludDogeyB1bml0OiBcIlwiLCBzdWJqZWN0OiBcInN1dXJlbiBrb2tvbmFpc2x1dnVuXCIgfSxcbiAgICAgICAgaW50OiB7IHVuaXQ6IFwiXCIsIHN1YmplY3Q6IFwia29rb25haXNsdXZ1blwiIH0sXG4gICAgICAgIGRhdGU6IHsgdW5pdDogXCJcIiwgc3ViamVjdDogXCJwXHUwMEU0aXZcdTAwRTRtXHUwMEU0XHUwMEU0clx1MDBFNG5cIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwic1x1MDBFNFx1MDBFNG5uXHUwMEY2bGxpbmVuIGxhdXNla2VcIixcbiAgICAgICAgZW1haWw6IFwic1x1MDBFNGhrXHUwMEY2cG9zdGlvc29pdGVcIixcbiAgICAgICAgdXJsOiBcIlVSTC1vc29pdGVcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPLWFpa2FsZWltYVwiLFxuICAgICAgICBkYXRlOiBcIklTTy1wXHUwMEU0aXZcdTAwRTRtXHUwMEU0XHUwMEU0clx1MDBFNFwiLFxuICAgICAgICB0aW1lOiBcIklTTy1haWthXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTy1rZXN0b1wiLFxuICAgICAgICBpcHY0OiBcIklQdjQtb3NvaXRlXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Ni1vc29pdGVcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQtYWx1ZVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Ni1hbHVlXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQta29vZGF0dHUgbWVya2tpam9ub1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWtvb2RhdHR1IG1lcmtraWpvbm9cIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTi1tZXJra2lqb25vXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQtbHVrdVwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwidGVtcGxhYXR0aW1lcmtraWpvbm9cIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gdHl5cHBpOiBvZG90ZXR0aWluICR7aXNzdWUuZXhwZWN0ZWR9LCBvbGkgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gc3lcdTAwRjZ0ZTogdFx1MDBFNHl0eXkgb2xsYSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiB2YWxpbnRhOiB0XHUwMEU0eXR5eSBvbGxhIHlrc2kgc2V1cmFhdmlzdGE6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYExpaWFuIHN1dXJpOiAke3NpemluZy5zdWJqZWN0fSB0XHUwMEU0eXR5eSBvbGxhICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWAudHJpbSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYExpaWFuIHN1dXJpOiBhcnZvbiB0XHUwMEU0eXR5eSBvbGxhICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTGlpYW4gcGllbmk6ICR7c2l6aW5nLnN1YmplY3R9IHRcdTAwRTR5dHl5IG9sbGEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YC50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgTGlpYW4gcGllbmk6IGFydm9uIHRcdTAwRTR5dHl5IG9sbGEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gc3lcdTAwRjZ0ZTogdFx1MDBFNHl0eXkgYWxrYWEgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiBzeVx1MDBGNnRlOiB0XHUwMEU0eXR5eSBsb3BwdWEgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVmlyaGVlbGxpbmVuIHN5XHUwMEY2dGU6IHRcdTAwRTR5dHl5IHNpc1x1MDBFNGx0XHUwMEU0XHUwMEU0IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gc3lcdTAwRjZ0ZTogdFx1MDBFNHl0eXkgdmFzdGF0YSBzXHUwMEU0XHUwMEU0bm5cdTAwRjZsbGlzdFx1MDBFNCBsYXVzZWtldHRhICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiBsdWt1OiB0XHUwMEU0eXR5eSBvbGxhIGx1dnVuICR7aXNzdWUuZGl2aXNvcn0gbW9uaWtlcnRhYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlR1bnRlbWF0dG9tYXQgYXZhaW1ldFwiIDogXCJUdW50ZW1hdG9uIGF2YWluXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJWaXJoZWVsbGluZW4gYXZhaW4gdGlldHVlZXNzYVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJWaXJoZWVsbGluZW4gdW5pb25pXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiVmlyaGVlbGxpbmVuIGFydm8gam91a29zc2FcIjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gc3lcdTAwRjZ0ZWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiY2FyYWN0XHUwMEU4cmVzXCIsIHZlcmI6IFwiYXZvaXJcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwib2N0ZXRzXCIsIHZlcmI6IFwiYXZvaXJcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MDBFOWxcdTAwRTltZW50c1wiLCB2ZXJiOiBcImF2b2lyXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwMEU5bFx1MDBFOW1lbnRzXCIsIHZlcmI6IFwiYXZvaXJcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm5vbWJyZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGFibGVhdVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJlbnRyXHUwMEU5ZVwiLFxuICAgICAgICBlbWFpbDogXCJhZHJlc3NlIGUtbWFpbFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdGUgZXQgaGV1cmUgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0ZSBJU09cIixcbiAgICAgICAgdGltZTogXCJoZXVyZSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiZHVyXHUwMEU5ZSBJU09cIixcbiAgICAgICAgaXB2NDogXCJhZHJlc3NlIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJhZHJlc3NlIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcInBsYWdlIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcInBsYWdlIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcImNoYVx1MDBFRW5lIGVuY29kXHUwMEU5ZSBlbiBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImNoYVx1MDBFRW5lIGVuY29kXHUwMEU5ZSBlbiBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiY2hhXHUwMEVFbmUgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm51bVx1MDBFOXJvIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJlbnRyXHUwMEU5ZVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJcdTAwRTllIGludmFsaWRlIDogJHtpc3N1ZS5leHBlY3RlZH0gYXR0ZW5kdSwgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX0gcmVcdTAwRTd1YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRW50clx1MDBFOWUgaW52YWxpZGUgOiAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9IGF0dGVuZHVgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT3B0aW9uIGludmFsaWRlIDogdW5lIHZhbGV1ciBwYXJtaSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX0gYXR0ZW5kdWVgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcCBncmFuZCA6ICR7aXNzdWUub3JpZ2luID8/IFwidmFsZXVyXCJ9IGRvaXQgJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTAwRTlsXHUwMEU5bWVudChzKVwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wIGdyYW5kIDogJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWxldXJcIn0gZG9pdCBcdTAwRUF0cmUgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wIHBldGl0IDogJHtpc3N1ZS5vcmlnaW59IGRvaXQgJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wIHBldGl0IDogJHtpc3N1ZS5vcmlnaW59IGRvaXQgXHUwMEVBdHJlICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IGNvbW1lbmNlciBwYXIgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENoYVx1MDBFRW5lIGludmFsaWRlIDogZG9pdCBzZSB0ZXJtaW5lciBwYXIgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IGluY2x1cmUgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgY29ycmVzcG9uZHJlIGF1IG1vZFx1MDBFOGxlICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSBpbnZhbGlkZWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOb21icmUgaW52YWxpZGUgOiBkb2l0IFx1MDBFQXRyZSB1biBtdWx0aXBsZSBkZSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2xcdTAwRTkke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn0gbm9uIHJlY29ubnVlJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9IDogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDbFx1MDBFOSBpbnZhbGlkZSBkYW5zICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkVudHJcdTAwRTllIGludmFsaWRlXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWYWxldXIgaW52YWxpZGUgZGFucyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJcdTAwRTllIGludmFsaWRlYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJjYXJhY3RcdTAwRThyZXNcIiwgdmVyYjogXCJhdm9pclwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJvY3RldHNcIiwgdmVyYjogXCJhdm9pclwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwMEU5bFx1MDBFOW1lbnRzXCIsIHZlcmI6IFwiYXZvaXJcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTAwRTlsXHUwMEU5bWVudHNcIiwgdmVyYjogXCJhdm9pclwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJlbnRyXHUwMEU5ZVwiLFxuICAgICAgICBlbWFpbDogXCJhZHJlc3NlIGNvdXJyaWVsXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZGF0ZS1oZXVyZSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJkYXRlIElTT1wiLFxuICAgICAgICB0aW1lOiBcImhldXJlIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJkdXJcdTAwRTllIElTT1wiLFxuICAgICAgICBpcHY0OiBcImFkcmVzc2UgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcImFkcmVzc2UgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwicGxhZ2UgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwicGxhZ2UgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiY2hhXHUwMEVFbmUgZW5jb2RcdTAwRTllIGVuIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiY2hhXHUwMEVFbmUgZW5jb2RcdTAwRTllIGVuIGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJjaGFcdTAwRUVuZSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwibnVtXHUwMEU5cm8gRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImVudHJcdTAwRTllXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgRW50clx1MDBFOWUgaW52YWxpZGUgOiBhdHRlbmR1ICR7aXNzdWUuZXhwZWN0ZWR9LCByZVx1MDBFN3UgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyXHUwMEU5ZSBpbnZhbGlkZSA6IGF0dGVuZHUgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPcHRpb24gaW52YWxpZGUgOiBhdHRlbmR1IGwndW5lIGRlcyB2YWxldXJzIHN1aXZhbnRlcyAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHUyMjY0XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3AgZ3JhbmQgOiBhdHRlbmR1IHF1ZSAke2lzc3VlLm9yaWdpbiA/PyBcImxhIHZhbGV1clwifSBhaXQgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3AgZ3JhbmQgOiBhdHRlbmR1IHF1ZSAke2lzc3VlLm9yaWdpbiA/PyBcImxhIHZhbGV1clwifSBzb2l0ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIlx1MjI2NVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3AgcGV0aXQgOiBhdHRlbmR1IHF1ZSAke2lzc3VlLm9yaWdpbn0gYWl0ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcCBwZXRpdCA6IGF0dGVuZHUgcXVlICR7aXNzdWUub3JpZ2lufSBzb2l0ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgY29tbWVuY2VyIHBhciBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENoYVx1MDBFRW5lIGludmFsaWRlIDogZG9pdCBzZSB0ZXJtaW5lciBwYXIgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IGluY2x1cmUgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgY29ycmVzcG9uZHJlIGF1IG1vdGlmICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSBpbnZhbGlkZWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOb21icmUgaW52YWxpZGUgOiBkb2l0IFx1MDBFQXRyZSB1biBtdWx0aXBsZSBkZSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2xcdTAwRTkke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn0gbm9uIHJlY29ubnVlJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9IDogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDbFx1MDBFOSBpbnZhbGlkZSBkYW5zICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkVudHJcdTAwRTllIGludmFsaWRlXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWYWxldXIgaW52YWxpZGUgZGFucyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJcdTAwRTllIGludmFsaWRlYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTA1RDBcdTA1RDVcdTA1RUFcdTA1RDlcdTA1RDVcdTA1RUFcIiwgdmVyYjogXCJcdTA1RENcdTA1REJcdTA1RENcdTA1RDVcdTA1RENcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUwNUQxXHUwNUQ5XHUwNUQ5XHUwNUQ4XHUwNUQ5XHUwNUREXCIsIHZlcmI6IFwiXHUwNURDXHUwNURCXHUwNURDXHUwNUQ1XHUwNURDXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTA1RTRcdTA1RThcdTA1RDlcdTA1RDhcdTA1RDlcdTA1RERcIiwgdmVyYjogXCJcdTA1RENcdTA1REJcdTA1RENcdTA1RDVcdTA1RENcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTA1RTRcdTA1RThcdTA1RDlcdTA1RDhcdTA1RDlcdTA1RERcIiwgdmVyYjogXCJcdTA1RENcdTA1REJcdTA1RENcdTA1RDVcdTA1RENcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNUU3XHUwNURDXHUwNUQ4XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDVEQlx1MDVFQVx1MDVENVx1MDVEMVx1MDVFQSBcdTA1RDBcdTA1RDlcdTA1REVcdTA1RDlcdTA1RDlcdTA1RENcIixcbiAgICAgICAgdXJsOiBcIlx1MDVEQlx1MDVFQVx1MDVENVx1MDVEMVx1MDVFQSBcdTA1RThcdTA1RTlcdTA1RUFcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNUQwXHUwNUQ5XHUwNURFXHUwNUQ1XHUwNUQyJ1x1MDVEOVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTA1RUFcdTA1RDBcdTA1RThcdTA1RDlcdTA1REEgXHUwNUQ1XHUwNUQ2XHUwNURFXHUwNURGIElTT1wiLFxuICAgICAgICBkYXRlOiBcIlx1MDVFQVx1MDVEMFx1MDVFOFx1MDVEOVx1MDVEQSBJU09cIixcbiAgICAgICAgdGltZTogXCJcdTA1RDZcdTA1REVcdTA1REYgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MDVERVx1MDVFOVx1MDVEQSBcdTA1RDZcdTA1REVcdTA1REYgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiXHUwNURCXHUwNUVBXHUwNUQ1XHUwNUQxXHUwNUVBIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJcdTA1REJcdTA1RUFcdTA1RDVcdTA1RDFcdTA1RUEgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiXHUwNUQ4XHUwNUQ1XHUwNUQ1XHUwNUQ3IElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcIlx1MDVEOFx1MDVENVx1MDVENVx1MDVENyBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTA1REVcdTA1RDdcdTA1RThcdTA1RDVcdTA1RDZcdTA1RUEgXHUwNUQxXHUwNUQxXHUwNUUxXHUwNUQ5XHUwNUUxIDY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTA1REVcdTA1RDdcdTA1RThcdTA1RDVcdTA1RDZcdTA1RUEgXHUwNUQxXHUwNUQxXHUwNUUxXHUwNUQ5XHUwNUUxIDY0IFx1MDVEQ1x1MDVEQlx1MDVFQVx1MDVENVx1MDVEMVx1MDVENVx1MDVFQSBcdTA1RThcdTA1RTlcdTA1RUFcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUwNURFXHUwNUQ3XHUwNUU4XHUwNUQ1XHUwNUQ2XHUwNUVBIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJcdTA1REVcdTA1RTFcdTA1RTRcdTA1RTggRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDVFN1x1MDVEQ1x1MDVEOFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVFN1x1MDVEQ1x1MDVEOCBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGOiBcdTA1RTZcdTA1RThcdTA1RDlcdTA1REEgJHtpc3N1ZS5leHBlY3RlZH0sIFx1MDVENFx1MDVFQVx1MDVFN1x1MDVEMVx1MDVEQyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICAvLyByZXR1cm4gYEludmFsaWQgaW5wdXQ6IGV4cGVjdGVkICR7aXNzdWUuZXhwZWN0ZWR9LCByZWNlaXZlZCAke3V0aWwuZ2V0UGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNUU3XHUwNURDXHUwNUQ4IFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1REY6IFx1MDVFNlx1MDVFOFx1MDVEOVx1MDVEQSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVFN1x1MDVEQ1x1MDVEOCBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGOiBcdTA1RTZcdTA1RThcdTA1RDlcdTA1REEgXHUwNUQwXHUwNUQ3XHUwNUVBIFx1MDVERVx1MDVENFx1MDVEMFx1MDVFNFx1MDVFOVx1MDVFOFx1MDVENVx1MDVEOVx1MDVENVx1MDVFQSAgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVEMlx1MDVEM1x1MDVENVx1MDVEQyBcdTA1REVcdTA1RDNcdTA1RDk6ICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0gXHUwNUU2XHUwNUU4XHUwNUQ5XHUwNURBIFx1MDVEQ1x1MDVENFx1MDVEOVx1MDVENVx1MDVFQSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRzXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVEMlx1MDVEM1x1MDVENVx1MDVEQyBcdTA1REVcdTA1RDNcdTA1RDk6ICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0gXHUwNUU2XHUwNUU4XHUwNUQ5XHUwNURBIFx1MDVEQ1x1MDVENFx1MDVEOVx1MDVENVx1MDVFQSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVFN1x1MDVEOFx1MDVERiBcdTA1REVcdTA1RDNcdTA1RDk6ICR7aXNzdWUub3JpZ2lufSBcdTA1RTZcdTA1RThcdTA1RDlcdTA1REEgXHUwNURDXHUwNUQ0XHUwNUQ5XHUwNUQ1XHUwNUVBICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNUU3XHUwNUQ4XHUwNURGIFx1MDVERVx1MDVEM1x1MDVEOTogJHtpc3N1ZS5vcmlnaW59IFx1MDVFNlx1MDVFOFx1MDVEOVx1MDVEQSBcdTA1RENcdTA1RDRcdTA1RDlcdTA1RDVcdTA1RUEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1REVcdTA1RDdcdTA1RThcdTA1RDVcdTA1RDZcdTA1RUEgXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVFMFx1MDVENDogXHUwNUQ3XHUwNUQ5XHUwNUQ5XHUwNUQxXHUwNUVBIFx1MDVEQ1x1MDVENFx1MDVFQVx1MDVEN1x1MDVEOVx1MDVEQyBcdTA1RDFcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNURFXHUwNUQ3XHUwNUU4XHUwNUQ1XHUwNUQ2XHUwNUVBIFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1RTBcdTA1RDQ6IFx1MDVEN1x1MDVEOVx1MDVEOVx1MDVEMVx1MDVFQSBcdTA1RENcdTA1RDRcdTA1RTFcdTA1RUFcdTA1RDlcdTA1RDlcdTA1REQgXHUwNUQxIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVERVx1MDVEN1x1MDVFOFx1MDVENVx1MDVENlx1MDVFQSBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNUUwXHUwNUQ0OiBcdTA1RDdcdTA1RDlcdTA1RDlcdTA1RDFcdTA1RUEgXHUwNURDXHUwNURCXHUwNURDXHUwNUQ1XHUwNURDIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNURFXHUwNUQ3XHUwNUU4XHUwNUQ1XHUwNUQ2XHUwNUVBIFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1RTBcdTA1RDQ6IFx1MDVEN1x1MDVEOVx1MDVEOVx1MDVEMVx1MDVFQSBcdTA1RENcdTA1RDRcdTA1RUFcdTA1RDBcdTA1RDlcdTA1REQgXHUwNURDXHUwNUVBXHUwNUQxXHUwNUUwXHUwNUQ5XHUwNUVBICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVERVx1MDVFMVx1MDVFNFx1MDVFOCBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGOiBcdTA1RDdcdTA1RDlcdTA1RDlcdTA1RDEgXHUwNURDXHUwNUQ0XHUwNUQ5XHUwNUQ1XHUwNUVBIFx1MDVERVx1MDVEQlx1MDVFNFx1MDVEQ1x1MDVENCBcdTA1RTlcdTA1REMgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVERVx1MDVFNFx1MDVFQVx1MDVENyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA1RDVcdTA1RUFcIiA6IFwiXCJ9IFx1MDVEQ1x1MDVEMCBcdTA1REVcdTA1RDZcdTA1RDVcdTA1RDQke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNUQ5XHUwNUREXCIgOiBcIlx1MDVENFwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1REVcdTA1RTRcdTA1RUFcdTA1RDcgXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERiBcdTA1RDEke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA1RTdcdTA1RENcdTA1RDggXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERlwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNUUyXHUwNUU4XHUwNURBIFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1REYgXHUwNUQxJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RTdcdTA1RENcdTA1RDggXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERmA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwia2FyYWt0ZXJcIiwgdmVyYjogXCJsZWd5ZW5cIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZVwiLCB2ZXJiOiBcImxlZ3llblwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbVwiLCB2ZXJiOiBcImxlZ3llblwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1cIiwgdmVyYjogXCJsZWd5ZW5cIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcInN6XHUwMEUxbVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidFx1MDBGNm1iXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImJlbWVuZXRcIixcbiAgICAgICAgZW1haWw6IFwiZW1haWwgY1x1MDBFRG1cIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gaWRcdTAxNTFiXHUwMEU5bHllZ1wiLFxuICAgICAgICBkYXRlOiBcIklTTyBkXHUwMEUxdHVtXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIGlkXHUwMTUxXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBpZFx1MDE1MWludGVydmFsbHVtXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBjXHUwMEVEbVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgY1x1MDBFRG1cIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgdGFydG9tXHUwMEUxbnlcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgdGFydG9tXHUwMEUxbnlcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1rXHUwMEYzZG9sdCBzdHJpbmdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1rXHUwMEYzZG9sdCBzdHJpbmdcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBzdHJpbmdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBzelx1MDBFMW1cIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImJlbWVuZXRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gYmVtZW5ldDogYSB2XHUwMEUxcnQgXHUwMEU5cnRcdTAwRTlrICR7aXNzdWUuZXhwZWN0ZWR9LCBhIGthcG90dCBcdTAwRTlydFx1MDBFOWsgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBJbnZhbGlkIGlucHV0OiBleHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBiZW1lbmV0OiBhIHZcdTAwRTFydCBcdTAwRTlydFx1MDBFOWsgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gb3BjaVx1MDBGMzogdmFsYW1lbHlpayBcdTAwRTlydFx1MDBFOWsgdlx1MDBFMXJ0ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUXHUwMEZBbCBuYWd5OiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDBFOXJ0XHUwMEU5a1wifSBtXHUwMEU5cmV0ZSB0XHUwMEZBbCBuYWd5ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbVwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUXHUwMEZBbCBuYWd5OiBhIGJlbWVuZXRpIFx1MDBFOXJ0XHUwMEU5ayAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDBFOXJ0XHUwMEU5a1wifSB0XHUwMEZBbCBuYWd5OiAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRcdTAwRkFsIGtpY3NpOiBhIGJlbWVuZXRpIFx1MDBFOXJ0XHUwMEU5ayAke2lzc3VlLm9yaWdpbn0gbVx1MDBFOXJldGUgdFx1MDBGQWwga2ljc2kgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUXHUwMEZBbCBraWNzaTogYSBiZW1lbmV0aSBcdTAwRTlydFx1MDBFOWsgJHtpc3N1ZS5vcmlnaW59IHRcdTAwRkFsIGtpY3NpICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIHN0cmluZzogXCIke19pc3N1ZS5wcmVmaXh9XCIgXHUwMEU5cnRcdTAwRTlra2VsIGtlbGwga2V6ZFx1MDE1MWRuaWVgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBzdHJpbmc6IFwiJHtfaXNzdWUuc3VmZml4fVwiIFx1MDBFOXJ0XHUwMEU5a2tlbCBrZWxsIHZcdTAwRTlnelx1MDE1MWRuaWVgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIHN0cmluZzogXCIke19pc3N1ZS5pbmNsdWRlc31cIiBcdTAwRTlydFx1MDBFOWtldCBrZWxsIHRhcnRhbG1hem5pYWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gc3RyaW5nOiAke19pc3N1ZS5wYXR0ZXJufSBtaW50XHUwMEUxbmFrIGtlbGwgbWVnZmVsZWxuaWVgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gc3pcdTAwRTFtOiAke2lzc3VlLmRpdmlzb3J9IHRcdTAwRjZiYnN6XHUwMEY2clx1MDBGNnNcdTAwRTluZWsga2VsbCBsZW5uaWVgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJc21lcmV0bGVuIGt1bGNzJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBrdWxjcyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTAwQzlydlx1MDBFOW55dGVsZW4gYmVtZW5ldFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIFx1MDBFOXJ0XHUwMEU5azogJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gYmVtZW5ldGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwia2FyYWt0ZXJcIiwgdmVyYjogXCJtZW1pbGlraVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlXCIsIHZlcmI6IFwibWVtaWxpa2lcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIml0ZW1cIiwgdmVyYjogXCJtZW1pbGlraVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIml0ZW1cIiwgdmVyYjogXCJtZW1pbGlraVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnB1dFwiLFxuICAgICAgICBlbWFpbDogXCJhbGFtYXQgZW1haWxcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJ0YW5nZ2FsIGRhbiB3YWt0dSBmb3JtYXQgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwidGFuZ2dhbCBmb3JtYXQgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiamFtIGZvcm1hdCBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiZHVyYXNpIGZvcm1hdCBJU09cIixcbiAgICAgICAgaXB2NDogXCJhbGFtYXQgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcImFsYW1hdCBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJyZW50YW5nIGFsYW1hdCBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJyZW50YW5nIGFsYW1hdCBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJzdHJpbmcgZGVuZ2FuIGVua29kZSBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcInN0cmluZyBkZW5nYW4gZW5rb2RlIGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJzdHJpbmcgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcImFuZ2thIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJpbnB1dFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYElucHV0IHRpZGFrIHZhbGlkOiBkaWhhcmFwa2FuICR7aXNzdWUuZXhwZWN0ZWR9LCBkaXRlcmltYSAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYElucHV0IHRpZGFrIHZhbGlkOiBkaWhhcmFwa2FuICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgUGlsaWhhbiB0aWRhayB2YWxpZDogZGloYXJhcGthbiBzYWxhaCBzYXR1IGRhcmkgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUgYmVzYXI6IGRpaGFyYXBrYW4gJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSBtZW1pbGlraSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lblwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUZXJsYWx1IGJlc2FyOiBkaWhhcmFwa2FuICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0gbWVuamFkaSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUga2VjaWw6IGRpaGFyYXBrYW4gJHtpc3N1ZS5vcmlnaW59IG1lbWlsaWtpICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgVGVybGFsdSBrZWNpbDogZGloYXJhcGthbiAke2lzc3VlLm9yaWdpbn0gbWVuamFkaSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZyB0aWRhayB2YWxpZDogaGFydXMgZGltdWxhaSBkZW5nYW4gXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZyB0aWRhayB2YWxpZDogaGFydXMgYmVyYWtoaXIgZGVuZ2FuIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZyB0aWRhayB2YWxpZDogaGFydXMgbWVueWVydGFrYW4gXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmcgdGlkYWsgdmFsaWQ6IGhhcnVzIHNlc3VhaSBwb2xhICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSB0aWRhayB2YWxpZGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBBbmdrYSB0aWRhayB2YWxpZDogaGFydXMga2VsaXBhdGFuIGRhcmkgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEt1bmNpIHRpZGFrIGRpa2VuYWxpICR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLdW5jaSB0aWRhayB2YWxpZCBkaSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnB1dCB0aWRhayB2YWxpZFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmlsYWkgdGlkYWsgdmFsaWQgZGkgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnB1dCB0aWRhayB2YWxpZGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiblx1MDBGQW1lclwiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJmeWxraVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcInN0YWZpXCIsIHZlcmI6IFwiYVx1MDBGMCBoYWZhXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJcdTAwRTZ0aVwiLCB2ZXJiOiBcImFcdTAwRjAgaGFmYVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiaGx1dGlcIiwgdmVyYjogXCJhXHUwMEYwIGhhZmFcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJobHV0aVwiLCB2ZXJiOiBcImFcdTAwRjAgaGFmYVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImdpbGRpXCIsXG4gICAgICAgIGVtYWlsOiBcIm5ldGZhbmdcIixcbiAgICAgICAgdXJsOiBcInZlZnNsXHUwMEYzXHUwMEYwXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYWdzZXRuaW5nIG9nIHRcdTAwRURtaVwiLFxuICAgICAgICBkYXRlOiBcIklTTyBkYWdzZXRuaW5nXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIHRcdTAwRURtaVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gdFx1MDBFRG1hbGVuZ2RcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IGFkZHJlc3NcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IGFkZHJlc3NcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgcmFuZ2VcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgcmFuZ2VcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1lbmNvZGVkIHN0cmVuZ3VyXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwtZW5jb2RlZCBzdHJlbmd1clwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIHN0cmVuZ3VyXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgdFx1MDBGNmx1Z2lsZGlcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImdpbGRpXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgUmFuZ3QgZ2lsZGk6IFx1MDBERVx1MDBGQSBzbFx1MDBGM3N0IGlubiAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfSBcdTAwRkVhciBzZW0gXHUwMEUxIGFcdTAwRjAgdmVyYSAke2lzc3VlLmV4cGVjdGVkfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFJhbmd0IGdpbGRpOiBnZXJ0IHJcdTAwRTFcdTAwRjAgZnlyaXIgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwRDNnaWx0IHZhbDogbVx1MDBFMSB2ZXJhIGVpdHQgYWYgZWZ0aXJmYXJhbmRpICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPZiBzdFx1MDBGM3J0OiBnZXJ0IGVyIHJcdTAwRTFcdTAwRjAgZnlyaXIgYVx1MDBGMCAke2lzc3VlLm9yaWdpbiA/PyBcImdpbGRpXCJ9IGhhZmkgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJobHV0aVwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPZiBzdFx1MDBGM3J0OiBnZXJ0IGVyIHJcdTAwRTFcdTAwRjAgZnlyaXIgYVx1MDBGMCAke2lzc3VlLm9yaWdpbiA/PyBcImdpbGRpXCJ9IHNcdTAwRTkgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPZiBsXHUwMEVEdGlcdTAwRjA6IGdlcnQgZXIgclx1MDBFMVx1MDBGMCBmeXJpciBhXHUwMEYwICR7aXNzdWUub3JpZ2lufSBoYWZpICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgT2YgbFx1MDBFRHRpXHUwMEYwOiBnZXJ0IGVyIHJcdTAwRTFcdTAwRjAgZnlyaXIgYVx1MDBGMCAke2lzc3VlLm9yaWdpbn0gc1x1MDBFOSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEQzZ2lsZHVyIHN0cmVuZ3VyOiB2ZXJcdTAwRjB1ciBhXHUwMEYwIGJ5cmphIFx1MDBFMSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBEM2dpbGR1ciBzdHJlbmd1cjogdmVyXHUwMEYwdXIgYVx1MDBGMCBlbmRhIFx1MDBFMSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwRDNnaWxkdXIgc3RyZW5ndXI6IHZlclx1MDBGMHVyIGFcdTAwRjAgaW5uaWhhbGRhIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEQzZ2lsZHVyIHN0cmVuZ3VyOiB2ZXJcdTAwRjB1ciBhXHUwMEYwIGZ5bGdqYSBteW5zdHJpICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFJhbmd0ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBSXHUwMEY2bmcgdGFsYTogdmVyXHUwMEYwdXIgYVx1MDBGMCB2ZXJhIG1hcmdmZWxkaSBhZiAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEQzXHUwMEZFZWtrdCAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiaXIgbHlrbGFyXCIgOiBcInVyIGx5a2lsbFwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBSYW5ndXIgbHlraWxsIFx1MDBFRCAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJSYW5ndCBnaWxkaVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgUmFuZ3QgZ2lsZGkgXHUwMEVEICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgUmFuZ3QgZ2lsZGlgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImNhcmF0dGVyaVwiLCB2ZXJiOiBcImF2ZXJlXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVcIiwgdmVyYjogXCJhdmVyZVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbWVudGlcIiwgdmVyYjogXCJhdmVyZVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1lbnRpXCIsIHZlcmI6IFwiYXZlcmVcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWVyb1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidmV0dG9yZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnB1dFwiLFxuICAgICAgICBlbWFpbDogXCJpbmRpcml6em8gZW1haWxcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJkYXRhIGUgb3JhIElTT1wiLFxuICAgICAgICBkYXRlOiBcImRhdGEgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwib3JhIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJkdXJhdGEgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiaW5kaXJpenpvIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJpbmRpcml6em8gSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiaW50ZXJ2YWxsbyBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJpbnRlcnZhbGxvIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcInN0cmluZ2EgY29kaWZpY2F0YSBpbiBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlVSTCBjb2RpZmljYXRhIGluIGJhc2U2NFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJzdHJpbmdhIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJudW1lcm8gRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImlucHV0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW5wdXQgbm9uIHZhbGlkbzogYXR0ZXNvICR7aXNzdWUuZXhwZWN0ZWR9LCByaWNldnV0byAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICAvLyByZXR1cm4gYElucHV0IG5vbiB2YWxpZG86IGF0dGVzbyAke2lzc3VlLmV4cGVjdGVkfSwgcmljZXZ1dG8gJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYElucHV0IG5vbiB2YWxpZG86IGF0dGVzbyAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9wemlvbmUgbm9uIHZhbGlkYTogYXR0ZXNvIHVubyB0cmEgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3BwbyBncmFuZGU6ICR7aXNzdWUub3JpZ2luID8/IFwidmFsb3JlXCJ9IGRldmUgYXZlcmUgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50aVwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wcG8gZ3JhbmRlOiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbG9yZVwifSBkZXZlIGVzc2VyZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3BwbyBwaWNjb2xvOiAke2lzc3VlLm9yaWdpbn0gZGV2ZSBhdmVyZSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3BwbyBwaWNjb2xvOiAke2lzc3VlLm9yaWdpbn0gZGV2ZSBlc3NlcmUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmdhIG5vbiB2YWxpZGE6IGRldmUgaW5pemlhcmUgY29uIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmdhIG5vbiB2YWxpZGE6IGRldmUgdGVybWluYXJlIGNvbiBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmdhIG5vbiB2YWxpZGE6IGRldmUgaW5jbHVkZXJlIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nYSBub24gdmFsaWRhOiBkZXZlIGNvcnJpc3BvbmRlcmUgYWwgcGF0dGVybiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOdW1lcm8gbm9uIHZhbGlkbzogZGV2ZSBlc3NlcmUgdW4gbXVsdGlwbG8gZGkgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENoaWF2JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImlcIiA6IFwiZVwifSBub24gcmljb25vc2NpdXQke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiZVwiIDogXCJhXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENoaWF2ZSBub24gdmFsaWRhIGluICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIklucHV0IG5vbiB2YWxpZG9cIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZhbG9yZSBub24gdmFsaWRvIGluICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW5wdXQgbm9uIHZhbGlkb2A7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHU2NTg3XHU1QjU3XCIsIHZlcmI6IFwiXHUzMDY3XHUzMDQyXHUzMDhCXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MzBEMFx1MzBBNFx1MzBDOFwiLCB2ZXJiOiBcIlx1MzA2N1x1MzA0Mlx1MzA4QlwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHU4OTgxXHU3RDIwXCIsIHZlcmI6IFwiXHUzMDY3XHUzMDQyXHUzMDhCXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHU4OTgxXHU3RDIwXCIsIHZlcmI6IFwiXHUzMDY3XHUzMDQyXHUzMDhCXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTY1NzBcdTUwMjRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1OTE0RFx1NTIxN1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTUxNjVcdTUyOUJcdTUwMjRcIixcbiAgICAgICAgZW1haWw6IFwiXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHU3RDc1XHU2NTg3XHU1QjU3XCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTT1x1NjVFNVx1NjY0MlwiLFxuICAgICAgICBkYXRlOiBcIklTT1x1NjVFNVx1NEVEOFwiLFxuICAgICAgICB0aW1lOiBcIklTT1x1NjY0Mlx1NTIzQlwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU09cdTY3MUZcdTk1OTNcIixcbiAgICAgICAgaXB2NDogXCJJUHY0XHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Nlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NFx1N0JDNFx1NTZGMlwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Nlx1N0JDNFx1NTZGMlwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0XHUzMEE4XHUzMEYzXHUzMEIzXHUzMEZDXHUzMEM5XHU2NTg3XHU1QjU3XHU1MjE3XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmxcdTMwQThcdTMwRjNcdTMwQjNcdTMwRkNcdTMwQzlcdTY1ODdcdTVCNTdcdTUyMTdcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTlx1NjU4N1x1NUI1N1x1NTIxN1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0XHU3NTZBXHU1M0Y3XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTUxNjVcdTUyOUJcdTUwMjRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTUxNjVcdTUyOUI6ICR7aXNzdWUuZXhwZWN0ZWR9XHUzMDRDXHU2NzFGXHU1Rjg1XHUzMDU1XHUzMDhDXHUzMDdFXHUzMDU3XHUzMDVGXHUzMDRDXHUzMDAxJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1cdTMwNENcdTUxNjVcdTUyOUJcdTMwNTVcdTMwOENcdTMwN0VcdTMwNTdcdTMwNUZgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTUxNjVcdTUyOUI6ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1cdTMwNENcdTY3MUZcdTVGODVcdTMwNTVcdTMwOENcdTMwN0VcdTMwNTdcdTMwNUZgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU5MDc4XHU2MjlFOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwiXHUzMDAxXCIpfVx1MzA2RVx1MzA0NFx1MzA1QVx1MzA4Q1x1MzA0Qlx1MzA2N1x1MzA0Mlx1MzA4Qlx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJcdTRFRTVcdTRFMEJcdTMwNjdcdTMwNDJcdTMwOEJcIiA6IFwiXHUzMDg4XHUzMDhBXHU1QzBGXHUzMDU1XHUzMDQ0XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTU5MjdcdTMwNERcdTMwNTlcdTMwNEVcdTMwOEJcdTUwMjQ6ICR7aXNzdWUub3JpZ2luID8/IFwiXHU1MDI0XCJ9XHUzMDZGJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9JHtzaXppbmcudW5pdCA/PyBcIlx1ODk4MVx1N0QyMFwifSR7YWRqfVx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTU5MjdcdTMwNERcdTMwNTlcdTMwNEVcdTMwOEJcdTUwMjQ6ICR7aXNzdWUub3JpZ2luID8/IFwiXHU1MDI0XCJ9XHUzMDZGJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9JHthZGp9XHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHU0RUU1XHU0RTBBXHUzMDY3XHUzMDQyXHUzMDhCXCIgOiBcIlx1MzA4OFx1MzA4QVx1NTkyN1x1MzA0RFx1MzA0NFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU1QzBGXHUzMDU1XHUzMDU5XHUzMDRFXHUzMDhCXHU1MDI0OiAke2lzc3VlLm9yaWdpbn1cdTMwNkYke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0ke3NpemluZy51bml0fSR7YWRqfVx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTVDMEZcdTMwNTVcdTMwNTlcdTMwNEVcdTMwOEJcdTUwMjQ6ICR7aXNzdWUub3JpZ2lufVx1MzA2RiR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSR7YWRqfVx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU2NTg3XHU1QjU3XHU1MjE3OiBcIiR7X2lzc3VlLnByZWZpeH1cIlx1MzA2N1x1NTlDQlx1MzA3RVx1MzA4Qlx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU2NTg3XHU1QjU3XHU1MjE3OiBcIiR7X2lzc3VlLnN1ZmZpeH1cIlx1MzA2N1x1N0Q0Mlx1MzA4Rlx1MzA4Qlx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTY1ODdcdTVCNTdcdTUyMTc6IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJcdTMwOTJcdTU0MkJcdTMwODBcdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU2NTg3XHU1QjU3XHU1MjE3OiBcdTMwRDFcdTMwQkZcdTMwRkNcdTMwRjMke19pc3N1ZS5wYXR0ZXJufVx1MzA2Qlx1NEUwMFx1ODFGNFx1MzA1OVx1MzA4Qlx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkEke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU2NTcwXHU1MDI0OiAke2lzc3VlLmRpdmlzb3J9XHUzMDZFXHU1MDBEXHU2NTcwXHUzMDY3XHUzMDQyXHUzMDhCXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU4QThEXHU4QjU4XHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDZBXHUzMDQ0XHUzMEFEXHUzMEZDJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1N0ZBNFwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiXHUzMDAxXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufVx1NTE4NVx1MzA2RVx1NzEyMVx1NTJCOVx1MzA2QVx1MzBBRFx1MzBGQ2A7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1NzEyMVx1NTJCOVx1MzA2QVx1NTE2NVx1NTI5QlwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59XHU1MTg1XHUzMDZFXHU3MTIxXHU1MkI5XHUzMDZBXHU1MDI0YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTUxNjVcdTUyOUJgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MTBFMFx1MTBEOFx1MTBFQVx1MTBFRVx1MTBENVx1MTBEOFwiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTEwREJcdTEwRDBcdTEwRTFcdTEwRDhcdTEwRDVcdTEwRDhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0eXBlTWFwID0ge1xuICAgICAgICBzdHJpbmc6IFwiXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4XCIsXG4gICAgICAgIGJvb2xlYW46IFwiXHUxMEQxXHUxMEUzXHUxMERBXHUxMEQ0XHUxMEQwXHUxMERDXHUxMEQ4XCIsXG4gICAgICAgIHVuZGVmaW5lZDogXCJ1bmRlZmluZWRcIixcbiAgICAgICAgYmlnaW50OiBcImJpZ2ludFwiLFxuICAgICAgICBzeW1ib2w6IFwic3ltYm9sXCIsXG4gICAgICAgIGZ1bmN0aW9uOiBcIlx1MTBFNFx1MTBFM1x1MTBEQ1x1MTBFNVx1MTBFQVx1MTBEOFx1MTBEMFwiLFxuICAgIH07XG4gICAgcmV0dXJuIHR5cGVNYXBbdF0gPz8gdDtcbn07XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTEwRTFcdTEwRDhcdTEwREJcdTEwRDFcdTEwRERcdTEwREFcdTEwRERcIiwgdmVyYjogXCJcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMEU4XHUxMEQ0XHUxMEQ4XHUxMEVBXHUxMEQwXHUxMEQ1XHUxMEQzXHUxMEQ0XHUxMEUxXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MTBEMVx1MTBEMFx1MTBEOFx1MTBFMlx1MTBEOFwiLCB2ZXJiOiBcIlx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwRThcdTEwRDRcdTEwRDhcdTEwRUFcdTEwRDBcdTEwRDVcdTEwRDNcdTEwRDRcdTEwRTFcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MTBENFx1MTBEQVx1MTBENFx1MTBEQlx1MTBENFx1MTBEQ1x1MTBFMlx1MTBEOFwiLCB2ZXJiOiBcIlx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwRThcdTEwRDRcdTEwRDhcdTEwRUFcdTEwRDBcdTEwRDVcdTEwRDNcdTEwRDRcdTEwRTFcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTEwRDRcdTEwREFcdTEwRDRcdTEwREJcdTEwRDRcdTEwRENcdTEwRTJcdTEwRDhcIiwgdmVyYjogXCJcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMEU4XHUxMEQ0XHUxMEQ4XHUxMEVBXHUxMEQwXHUxMEQ1XHUxMEQzXHUxMEQ0XHUxMEUxXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUxMEU4XHUxMEQ0XHUxMEU3XHUxMEQ1XHUxMEQwXHUxMERDXHUxMEQwXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MTBENFx1MTBEQS1cdTEwRTRcdTEwRERcdTEwRTFcdTEwRTJcdTEwRDhcdTEwRTEgXHUxMERCXHUxMEQ4XHUxMEUxXHUxMEQwXHUxMERCXHUxMEQwXHUxMEUwXHUxMEQ3XHUxMEQ4XCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHUxMEQ0XHUxMERCXHUxMEREXHUxMEVGXHUxMEQ4XCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIlx1MTBEN1x1MTBEMFx1MTBFMFx1MTBEOFx1MTBFNlx1MTBEOC1cdTEwRDNcdTEwRTBcdTEwRERcIixcbiAgICAgICAgZGF0ZTogXCJcdTEwRDdcdTEwRDBcdTEwRTBcdTEwRDhcdTEwRTZcdTEwRDhcIixcbiAgICAgICAgdGltZTogXCJcdTEwRDNcdTEwRTBcdTEwRERcIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUxMEVFXHUxMEQwXHUxMERDXHUxMEQyXHUxMEUwXHUxMEVCXHUxMERBXHUxMEQ4XHUxMEQ1XHUxMEREXHUxMEQxXHUxMEQwXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdTEwREJcdTEwRDhcdTEwRTFcdTEwRDBcdTEwREJcdTEwRDBcdTEwRTBcdTEwRDdcdTEwRDhcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1MTBEQlx1MTBEOFx1MTBFMVx1MTBEMFx1MTBEQlx1MTBEMFx1MTBFMFx1MTBEN1x1MTBEOFwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdTEwRDNcdTEwRDhcdTEwRDBcdTEwREVcdTEwRDBcdTEwRDZcdTEwRERcdTEwRENcdTEwRDhcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHUxMEQzXHUxMEQ4XHUxMEQwXHUxMERFXHUxMEQwXHUxMEQ2XHUxMEREXHUxMERDXHUxMEQ4XCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtXHUxMEQ5XHUxMEREXHUxMEQzXHUxMEQ4XHUxMEUwXHUxMEQ0XHUxMEQxXHUxMEUzXHUxMERBXHUxMEQ4IFx1MTBFMVx1MTBFMlx1MTBFMFx1MTBEOFx1MTBEQ1x1MTBEMlx1MTBEOFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLVx1MTBEOVx1MTBERFx1MTBEM1x1MTBEOFx1MTBFMFx1MTBENFx1MTBEMVx1MTBFM1x1MTBEQVx1MTBEOCBcdTEwRTFcdTEwRTJcdTEwRTBcdTEwRDhcdTEwRENcdTEwRDJcdTEwRDhcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBcdTEwRTFcdTEwRTJcdTEwRTBcdTEwRDhcdTEwRENcdTEwRDJcdTEwRDhcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBcdTEwRENcdTEwRERcdTEwREJcdTEwRDRcdTEwRTBcdTEwRDhcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MTBFOFx1MTBENFx1MTBFN1x1MTBENVx1MTBEMFx1MTBEQ1x1MTBEMFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRThcdTEwRDRcdTEwRTdcdTEwRDVcdTEwRDBcdTEwRENcdTEwRDA6IFx1MTBEQlx1MTBERFx1MTBFMVx1MTBEMFx1MTBEQVx1MTBERFx1MTBEM1x1MTBEQ1x1MTBENFx1MTBEQVx1MTBEOCAke2lzc3VlLmV4cGVjdGVkfSwgXHUxMERCXHUxMEQ4XHUxMEU2XHUxMEQ0XHUxMEQxXHUxMEUzXHUxMERBXHUxMEQ4ICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFOFx1MTBENFx1MTBFN1x1MTBENVx1MTBEMFx1MTBEQ1x1MTBEMDogXHUxMERCXHUxMEREXHUxMEUxXHUxMEQwXHUxMERBXHUxMEREXHUxMEQzXHUxMERDXHUxMEQ0XHUxMERBXHUxMEQ4ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBENVx1MTBEMFx1MTBFMFx1MTBEOFx1MTBEMFx1MTBEQ1x1MTBFMlx1MTBEODogXHUxMERCXHUxMEREXHUxMEUxXHUxMEQwXHUxMERBXHUxMEREXHUxMEQzXHUxMERDXHUxMEQ0XHUxMERBXHUxMEQ4XHUxMEQwIFx1MTBENFx1MTBFMFx1MTBENy1cdTEwRDRcdTEwRTBcdTEwRDdcdTEwRDggJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9LVx1MTBEM1x1MTBEMFx1MTBEQ2A7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDZcdTEwRDRcdTEwRDNcdTEwREJcdTEwRDRcdTEwRTJcdTEwRDBcdTEwRDMgXHUxMEQzXHUxMEQ4XHUxMEQzXHUxMEQ4OiBcdTEwREJcdTEwRERcdTEwRTFcdTEwRDBcdTEwREFcdTEwRERcdTEwRDNcdTEwRENcdTEwRDRcdTEwREFcdTEwRDggJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTEwREJcdTEwRENcdTEwRDhcdTEwRThcdTEwRDVcdTEwRENcdTEwRDRcdTEwREFcdTEwRERcdTEwRDFcdTEwRDBcIn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBENlx1MTBENFx1MTBEM1x1MTBEQlx1MTBENFx1MTBFMlx1MTBEMFx1MTBEMyBcdTEwRDNcdTEwRDhcdTEwRDNcdTEwRDg6IFx1MTBEQlx1MTBERFx1MTBFMVx1MTBEMFx1MTBEQVx1MTBERFx1MTBEM1x1MTBEQ1x1MTBENFx1MTBEQVx1MTBEOCAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MTBEQlx1MTBEQ1x1MTBEOFx1MTBFOFx1MTBENVx1MTBEQ1x1MTBENFx1MTBEQVx1MTBERFx1MTBEMVx1MTBEMFwifSBcdTEwRDhcdTEwRTdcdTEwRERcdTEwRTEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDZcdTEwRDRcdTEwRDNcdTEwREJcdTEwRDRcdTEwRTJcdTEwRDBcdTEwRDMgXHUxMERFXHUxMEQwXHUxMEUyXHUxMEQwXHUxMEUwXHUxMEQwOiBcdTEwREJcdTEwRERcdTEwRTFcdTEwRDBcdTEwREFcdTEwRERcdTEwRDNcdTEwRENcdTEwRDRcdTEwREFcdTEwRDggJHtpc3N1ZS5vcmlnaW59ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQ2XHUxMEQ0XHUxMEQzXHUxMERCXHUxMEQ0XHUxMEUyXHUxMEQwXHUxMEQzIFx1MTBERVx1MTBEMFx1MTBFMlx1MTBEMFx1MTBFMFx1MTBEMDogXHUxMERCXHUxMEREXHUxMEUxXHUxMEQwXHUxMERBXHUxMEREXHUxMEQzXHUxMERDXHUxMEQ0XHUxMERBXHUxMEQ4ICR7aXNzdWUub3JpZ2lufSBcdTEwRDhcdTEwRTdcdTEwRERcdTEwRTEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRTFcdTEwRTJcdTEwRTBcdTEwRDhcdTEwRENcdTEwRDJcdTEwRDg6IFx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwRDhcdTEwRUNcdTEwRTdcdTEwRDRcdTEwRDFcdTEwRERcdTEwRDNcdTEwRDRcdTEwRTEgXCIke19pc3N1ZS5wcmVmaXh9XCItXHUxMEQ4XHUxMEQ3YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFMVx1MTBFMlx1MTBFMFx1MTBEOFx1MTBEQ1x1MTBEMlx1MTBEODogXHUxMEUzXHUxMERDXHUxMEQzXHUxMEQwIFx1MTBEQlx1MTBEN1x1MTBEMFx1MTBENVx1MTBFMFx1MTBEM1x1MTBENFx1MTBEMVx1MTBERFx1MTBEM1x1MTBENFx1MTBFMSBcIiR7X2lzc3VlLnN1ZmZpeH1cIi1cdTEwRDhcdTEwRDdgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFMVx1MTBFMlx1MTBFMFx1MTBEOFx1MTBEQ1x1MTBEMlx1MTBEODogXHUxMEUzXHUxMERDXHUxMEQzXHUxMEQwIFx1MTBFOFx1MTBENFx1MTBEOFx1MTBFQVx1MTBEMFx1MTBENVx1MTBEM1x1MTBENFx1MTBFMSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiLVx1MTBFMWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4OiBcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMEU4XHUxMEQ0XHUxMEQ0XHUxMEUxXHUxMEQwXHUxMEQxXHUxMEQwXHUxMERCXHUxMEQ0XHUxMEQxXHUxMEREXHUxMEQzXHUxMEQ0XHUxMEUxIFx1MTBFOFx1MTBEMFx1MTBEMVx1MTBEQVx1MTBERFx1MTBEQ1x1MTBFMSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRTBcdTEwRDhcdTEwRUFcdTEwRUVcdTEwRDVcdTEwRDg6IFx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwRDhcdTEwRTdcdTEwRERcdTEwRTEgJHtpc3N1ZS5kaXZpc29yfS1cdTEwRDhcdTEwRTEgXHUxMEVGXHUxMEQ0XHUxMEUwXHUxMEQwXHUxMEQzXHUxMEQ4YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEUzXHUxMEVBXHUxMERDXHUxMEREXHUxMEQxXHUxMEQ4IFx1MTBEMlx1MTBEMFx1MTBFMVx1MTBEMFx1MTBFNlx1MTBENFx1MTBEMSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTEwRDRcdTEwRDFcdTEwRDhcIiA6IFwiXHUxMEQ4XCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRDJcdTEwRDBcdTEwRTFcdTEwRDBcdTEwRTZcdTEwRDRcdTEwRDFcdTEwRDggJHtpc3N1ZS5vcmlnaW59LVx1MTBFOFx1MTBEOGA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRThcdTEwRDRcdTEwRTdcdTEwRDVcdTEwRDBcdTEwRENcdTEwRDBcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwREJcdTEwRENcdTEwRDhcdTEwRThcdTEwRDVcdTEwRENcdTEwRDRcdTEwREFcdTEwRERcdTEwRDFcdTEwRDAgJHtpc3N1ZS5vcmlnaW59LVx1MTBFOFx1MTBEOGA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFOFx1MTBENFx1MTBFN1x1MTBENVx1MTBEMFx1MTBEQ1x1MTBEMGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUxNzhGXHUxN0JEXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBXCIsIHZlcmI6IFwiXHUxNzgyXHUxN0JEXHUxNzlBXHUxNzk4XHUxN0I2XHUxNzkzXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MTc5NFx1MTdDM1wiLCB2ZXJiOiBcIlx1MTc4Mlx1MTdCRFx1MTc5QVx1MTc5OFx1MTdCNlx1MTc5M1wiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUxNzkyXHUxN0I2XHUxNzhGXHUxN0JCXCIsIHZlcmI6IFwiXHUxNzgyXHUxN0JEXHUxNzlBXHUxNzk4XHUxN0I2XHUxNzkzXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUxNzkyXHUxN0I2XHUxNzhGXHUxN0JCXCIsIHZlcmI6IFwiXHUxNzgyXHUxN0JEXHUxNzlBXHUxNzk4XHUxN0I2XHUxNzkzXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIlx1MTc5OFx1MTdCN1x1MTc5M1x1MTc5OFx1MTdDMlx1MTc5M1x1MTc4N1x1MTdCNlx1MTc5Qlx1MTdDMVx1MTc4MSAoTmFOKVwiIDogXCJcdTE3OUJcdTE3QzFcdTE3ODFcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MTdBMlx1MTdCNlx1MTc5QVx1MTdDMSAoQXJyYXkpXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MTc4Mlx1MTdEMlx1MTc5OFx1MTdCNlx1MTc5M1x1MTc4Rlx1MTc5OFx1MTdEMlx1MTc5Qlx1MTdDMyAobnVsbClcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MTc5MVx1MTdCN1x1MTc5M1x1MTdEMlx1MTc5M1x1MTc5M1x1MTdEMFx1MTc5OVx1MTc5NFx1MTc4OVx1MTdEMlx1MTc4NVx1MTdCQ1x1MTc5QlwiLFxuICAgICAgICBlbWFpbDogXCJcdTE3QTJcdTE3QjZcdTE3OUZcdTE3OTlcdTE3OEFcdTE3RDJcdTE3OEJcdTE3QjZcdTE3OTNcdTE3QTJcdTE3Q0FcdTE3QjhcdTE3OThcdTE3QzJcdTE3OUJcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTE3OUZcdTE3ODlcdTE3RDJcdTE3ODlcdTE3QjZcdTE3QTJcdTE3QjZcdTE3OUFcdTE3OThcdTE3RDJcdTE3OThcdTE3OEVcdTE3Q0RcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUxNzgwXHUxN0I2XHUxNzlCXHUxNzk0XHUxNzlBXHUxN0I3XHUxNzg1XHUxN0QyXHUxNzg2XHUxN0MxXHUxNzkxIFx1MTc5M1x1MTdCN1x1MTc4NFx1MTc5OFx1MTdDOVx1MTdDNFx1MTc4NCBJU09cIixcbiAgICAgICAgZGF0ZTogXCJcdTE3ODBcdTE3QjZcdTE3OUJcdTE3OTRcdTE3OUFcdTE3QjdcdTE3ODVcdTE3RDJcdTE3ODZcdTE3QzFcdTE3OTEgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiXHUxNzk4XHUxN0M5XHUxN0M0XHUxNzg0IElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJcdTE3OUFcdTE3OTlcdTE3QzhcdTE3OTZcdTE3QzFcdTE3OUIgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiXHUxN0EyXHUxN0I2XHUxNzlGXHUxNzk5XHUxNzhBXHUxN0QyXHUxNzhCXHUxN0I2XHUxNzkzIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJcdTE3QTJcdTE3QjZcdTE3OUZcdTE3OTlcdTE3OEFcdTE3RDJcdTE3OEJcdTE3QjZcdTE3OTMgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiXHUxNzhBXHUxN0MyXHUxNzkzXHUxN0EyXHUxN0I2XHUxNzlGXHUxNzk5XHUxNzhBXHUxN0QyXHUxNzhCXHUxN0I2XHUxNzkzIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcIlx1MTc4QVx1MTdDMlx1MTc5M1x1MTdBMlx1MTdCNlx1MTc5Rlx1MTc5OVx1MTc4QVx1MTdEMlx1MTc4Qlx1MTdCNlx1MTc5MyBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTE3ODFcdTE3RDJcdTE3OUZcdTE3QzJcdTE3QTJcdTE3ODBcdTE3RDJcdTE3OUZcdTE3OUFcdTE3QTJcdTE3Q0FcdTE3QjdcdTE3ODBcdTE3QkNcdTE3OEEgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTE3ODFcdTE3RDJcdTE3OUZcdTE3QzJcdTE3QTJcdTE3ODBcdTE3RDJcdTE3OUZcdTE3OUFcdTE3QTJcdTE3Q0FcdTE3QjdcdTE3ODBcdTE3QkNcdTE3OEEgYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIlx1MTc4MVx1MTdEMlx1MTc5Rlx1MTdDMlx1MTdBMlx1MTc4MFx1MTdEMlx1MTc5Rlx1MTc5QSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiXHUxNzlCXHUxN0MxXHUxNzgxIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTE3OTFcdTE3QjdcdTE3OTNcdTE3RDJcdTE3OTNcdTE3OTNcdTE3RDBcdTE3OTlcdTE3OTRcdTE3ODlcdTE3RDJcdTE3ODVcdTE3QkNcdTE3OUJcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OTFcdTE3QjdcdTE3OTNcdTE3RDJcdTE3OTNcdTE3OTNcdTE3RDBcdTE3OTlcdTE3OTRcdTE3ODlcdTE3RDJcdTE3ODVcdTE3QkNcdTE3OUJcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzgwXHUxN0I2XHUxNzlBICR7aXNzdWUuZXhwZWN0ZWR9IFx1MTc5NFx1MTdDOVx1MTdCQlx1MTc5M1x1MTdEMlx1MTc4Rlx1MTdDMlx1MTc5MVx1MTc5MVx1MTdCRFx1MTc5Qlx1MTc5NFx1MTdCNlx1MTc5MyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc5MVx1MTdCN1x1MTc5M1x1MTdEMlx1MTc5M1x1MTc5M1x1MTdEMFx1MTc5OVx1MTc5NFx1MTc4OVx1MTdEMlx1MTc4NVx1MTdCQ1x1MTc5Qlx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3ODBcdTE3QjZcdTE3OUEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3ODdcdTE3OThcdTE3RDJcdTE3OUFcdTE3QkVcdTE3OUZcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzg3XHUxN0I2XHUxNzk4XHUxN0JEXHUxNzk5XHUxNzgwXHUxN0QyXHUxNzkzXHUxN0JCXHUxNzg0XHUxNzg1XHUxN0M2XHUxNzhFXHUxN0M0XHUxNzk4ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OTJcdTE3QzZcdTE3OTZcdTE3QzFcdTE3ODBcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzgwXHUxN0I2XHUxNzlBICR7aXNzdWUub3JpZ2luID8/IFwiXHUxNzhGXHUxNzk4XHUxN0QyXHUxNzlCXHUxN0MzXCJ9ICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MTc5Mlx1MTdCNlx1MTc4Rlx1MTdCQlwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OTJcdTE3QzZcdTE3OTZcdTE3QzFcdTE3ODBcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzgwXHUxN0I2XHUxNzlBICR7aXNzdWUub3JpZ2luID8/IFwiXHUxNzhGXHUxNzk4XHUxN0QyXHUxNzlCXHUxN0MzXCJ9ICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc4Rlx1MTdCQ1x1MTc4NVx1MTc5Nlx1MTdDMVx1MTc4MFx1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3ODBcdTE3QjZcdTE3OUEgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc4Rlx1MTdCQ1x1MTc4NVx1MTc5Nlx1MTdDMVx1MTc4MFx1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3ODBcdTE3QjZcdTE3OUEgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzgxXHUxN0QyXHUxNzlGXHUxN0MyXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc4NVx1MTdCNlx1MTc5NFx1MTdDQlx1MTc5NVx1MTdEMlx1MTc4Rlx1MTdCRVx1MTc5OFx1MTc4QVx1MTdDNFx1MTc5OSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc4MVx1MTdEMlx1MTc5Rlx1MTdDMlx1MTdBMlx1MTc4MFx1MTdEMlx1MTc5Rlx1MTc5QVx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3OTRcdTE3ODlcdTE3RDJcdTE3ODVcdTE3OTRcdTE3Q0JcdTE3OEFcdTE3QzRcdTE3OTkgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzgxXHUxN0QyXHUxNzlGXHUxN0MyXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc5OFx1MTdCNlx1MTc5MyBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc4MVx1MTdEMlx1MTc5Rlx1MTdDMlx1MTdBMlx1MTc4MFx1MTdEMlx1MTc5Rlx1MTc5QVx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3OEZcdTE3QzJcdTE3OTVcdTE3RDJcdTE3ODJcdTE3QkNcdTE3OTVcdTE3RDJcdTE3ODJcdTE3ODRcdTE3OTNcdTE3QjlcdTE3ODRcdTE3OTFcdTE3OThcdTE3RDJcdTE3OUFcdTE3ODRcdTE3Q0JcdTE3OEFcdTE3QzJcdTE3OUJcdTE3OTRcdTE3QjZcdTE3OTNcdTE3ODBcdTE3QzZcdTE3OEVcdTE3OEZcdTE3Q0IgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OUJcdTE3QzFcdTE3ODFcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzhGXHUxN0MyXHUxNzg3XHUxN0I2XHUxNzk2XHUxN0EwXHUxN0JCXHUxNzgyXHUxN0JCXHUxNzhFXHUxNzkzXHUxN0MzICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OUFcdTE3ODBcdTE3ODNcdTE3QkVcdTE3ODlcdTE3OUZcdTE3QzRcdTE3OThcdTE3QjdcdTE3OTNcdTE3OUZcdTE3RDJcdTE3ODJcdTE3QjZcdTE3OUJcdTE3Q0JcdTE3RDYgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OUZcdTE3QzRcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3OTNcdTE3QzVcdTE3ODBcdTE3RDJcdTE3OTNcdTE3QkJcdTE3ODQgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OTFcdTE3QjdcdTE3OTNcdTE3RDJcdTE3OTNcdTE3OTNcdTE3RDBcdTE3OTlcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzkxXHUxN0I3XHUxNzkzXHUxN0QyXHUxNzkzXHUxNzkzXHUxN0QwXHUxNzk5XHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzkzXHUxN0M1XHUxNzgwXHUxN0QyXHUxNzkzXHUxN0JCXHUxNzg0ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzkxXHUxN0I3XHUxNzkzXHUxN0QyXHUxNzkzXHUxNzkzXHUxN0QwXHUxNzk5XHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0IGttIGZyb20gXCIuL2ttLmpzXCI7XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGBrbWAgaW5zdGVhZC4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ga20oKTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1QkIzOFx1Qzc5MFwiLCB2ZXJiOiBcInRvIGhhdmVcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHVCQzE0XHVDNzc0XHVEMkI4XCIsIHZlcmI6IFwidG8gaGF2ZVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHVBQzFDXCIsIHZlcmI6IFwidG8gaGF2ZVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1QUMxQ1wiLCB2ZXJiOiBcInRvIGhhdmVcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHVDNzg1XHVCODI1XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1Qzc3NFx1QkE1NFx1Qzc3QyBcdUM4RkNcdUMxOENcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdUM3NzRcdUJBQThcdUM5QzBcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIFx1QjBBMFx1QzlEQ1x1QzJEQ1x1QUMwNFwiLFxuICAgICAgICBkYXRlOiBcIklTTyBcdUIwQTBcdUM5RENcIixcbiAgICAgICAgdGltZTogXCJJU08gXHVDMkRDXHVBQzA0XCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBcdUFFMzBcdUFDMDRcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IFx1QzhGQ1x1QzE4Q1wiLFxuICAgICAgICBpcHY2OiBcIklQdjYgXHVDOEZDXHVDMThDXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IFx1QkM5NFx1QzcwNFwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBcdUJDOTRcdUM3MDRcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NCBcdUM3NzhcdUNGNTRcdUI1MjkgXHVCQjM4XHVDNzkwXHVDNUY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwgXHVDNzc4XHVDRjU0XHVCNTI5IFx1QkIzOFx1Qzc5MFx1QzVGNFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1QkIzOFx1Qzc5MFx1QzVGNFwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IFx1QkM4OFx1RDYzOFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHVDNzg1XHVCODI1XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1Qzc4NVx1QjgyNTogXHVDNjA4XHVDMEMxIFx1RDBDMFx1Qzc4NVx1Qzc0MCAke2lzc3VlLmV4cGVjdGVkfSwgXHVCQzFCXHVDNzQwIFx1RDBDMFx1Qzc4NVx1Qzc0MCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfVx1Qzc4NVx1QjJDOFx1QjJFNGA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUM3ODVcdUI4MjU6IFx1QUMxMlx1Qzc0MCAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9IFx1Qzc3NFx1QzVCNFx1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1QzYzNVx1QzE1ODogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcIlx1QjYxMFx1QjI5NCBcIil9IFx1QzkxMSBcdUQ1NThcdUIwOThcdUM1RUNcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIlx1Qzc3NFx1RDU1OFwiIDogXCJcdUJCRjhcdUI5Q0NcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWZmaXggPSBhZGogPT09IFwiXHVCQkY4XHVCOUNDXCIgPyBcIlx1Qzc3NFx1QzVCNFx1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRcIiA6IFwiXHVDNUVDXHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaXQgPSBzaXppbmc/LnVuaXQgPz8gXCJcdUM2OTRcdUMxOENcIjtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2luID8/IFwiXHVBQzEyXCJ9XHVDNzc0IFx1QjEwOFx1QkIzNCBcdUQwN0RcdUIyQzhcdUIyRTQ6ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSR7dW5pdH0gJHthZGp9JHtzdWZmaXh9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2luID8/IFwiXHVBQzEyXCJ9XHVDNzc0IFx1QjEwOFx1QkIzNCBcdUQwN0RcdUIyQzhcdUIyRTQ6ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke2Fkan0ke3N1ZmZpeH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJcdUM3NzRcdUMwQzFcIiA6IFwiXHVDRDA4XHVBQ0ZDXCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VmZml4ID0gYWRqID09PSBcIlx1Qzc3NFx1QzBDMVwiID8gXCJcdUM3NzRcdUM1QjRcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0XCIgOiBcIlx1QzVFQ1x1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bml0ID0gc2l6aW5nPy51bml0ID8/IFwiXHVDNjk0XHVDMThDXCI7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2luID8/IFwiXHVBQzEyXCJ9XHVDNzc0IFx1QjEwOFx1QkIzNCBcdUM3OTFcdUMyQjVcdUIyQzhcdUIyRTQ6ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSR7dW5pdH0gJHthZGp9JHtzdWZmaXh9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbiA/PyBcIlx1QUMxMlwifVx1Qzc3NCBcdUIxMDhcdUJCMzQgXHVDNzkxXHVDMkI1XHVCMkM4XHVCMkU0OiAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHthZGp9JHtzdWZmaXh9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUJCMzhcdUM3OTBcdUM1RjQ6IFwiJHtfaXNzdWUucHJlZml4fVwiKFx1QzczQylcdUI4NUMgXHVDMkRDXHVDNzkxXHVENTc0XHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUJCMzhcdUM3OTBcdUM1RjQ6IFwiJHtfaXNzdWUuc3VmZml4fVwiKFx1QzczQylcdUI4NUMgXHVCMDVEXHVCMDk4XHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNGA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVCQjM4XHVDNzkwXHVDNUY0OiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiXHVDNzQ0KFx1Qjk3QykgXHVEM0VDXHVENTY4XHVENTc0XHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNGA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVCQjM4XHVDNzkwXHVDNUY0OiBcdUM4MTVcdUFERENcdUMyREQgJHtfaXNzdWUucGF0dGVybn0gXHVEMzI4XHVEMTM0XHVBQ0ZDIFx1Qzc3Q1x1Q0U1OFx1RDU3NFx1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVDMjJCXHVDNzkwOiAke2lzc3VlLmRpdmlzb3J9XHVDNzU4IFx1QkMzMFx1QzIxOFx1QzVFQ1x1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3NzhcdUMyRERcdUQ1NjAgXHVDMjE4IFx1QzVDNlx1QjI5NCBcdUQwQTQ6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1RDBBNDogJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVDNzg1XHVCODI1YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUFDMTI6ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1Qzc4NVx1QjgyNWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICByZXR1cm4gcGFyc2VkVHlwZUZyb21UeXBlKHQsIGRhdGEpO1xufTtcbmNvbnN0IHBhcnNlZFR5cGVGcm9tVHlwZSA9ICh0LCBkYXRhID0gdW5kZWZpbmVkKSA9PiB7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcInNrYWlcdTAxMERpdXNcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiYmlnaW50XCI6IHtcbiAgICAgICAgICAgIHJldHVybiBcInN2ZWlrYXNpcyBza2FpXHUwMTBEaXVzXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJlaWx1dFx1MDExN1wiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBcImxvZ2luXHUwMTE3IHJlaWtcdTAxNjFtXHUwMTE3XCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICBjYXNlIFwidm9pZFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJuZWFwaWJyXHUwMTE3XHUwMTdFdGEgcmVpa1x1MDE2MW1cdTAxMTdcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjoge1xuICAgICAgICAgICAgcmV0dXJuIFwiZnVua2NpamFcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwic3ltYm9sXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBcInNpbWJvbGlzXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIm5lXHUwMTdFaW5vbWFzIG9iamVrdGFzXCI7XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxpblx1MDExNyByZWlrXHUwMTYxbVx1MDExN1wiO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibWFzeXZhc1wiO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIm9iamVrdGFzXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy9ab2QgdHlwZXMgYmVsb3dcbiAgICAgICAgY2FzZSBcIm51bGxcIjoge1xuICAgICAgICAgICAgcmV0dXJuIFwibnVsaW5cdTAxMTcgcmVpa1x1MDE2MW1cdTAxMTdcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5jb25zdCBjYXBpdGFsaXplRmlyc3RDaGFyYWN0ZXIgPSAodGV4dCkgPT4ge1xuICAgIHJldHVybiB0ZXh0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGV4dC5zbGljZSgxKTtcbn07XG5mdW5jdGlvbiBnZXRVbml0VHlwZUZyb21OdW1iZXIobnVtYmVyKSB7XG4gICAgY29uc3QgYWJzID0gTWF0aC5hYnMobnVtYmVyKTtcbiAgICBjb25zdCBsYXN0ID0gYWJzICUgMTA7XG4gICAgY29uc3QgbGFzdDIgPSBhYnMgJSAxMDA7XG4gICAgaWYgKChsYXN0MiA+PSAxMSAmJiBsYXN0MiA8PSAxOSkgfHwgbGFzdCA9PT0gMClcbiAgICAgICAgcmV0dXJuIFwibWFueVwiO1xuICAgIGlmIChsYXN0ID09PSAxKVxuICAgICAgICByZXR1cm4gXCJvbmVcIjtcbiAgICByZXR1cm4gXCJmZXdcIjtcbn1cbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJzaW1ib2xpc1wiLFxuICAgICAgICAgICAgICAgIGZldzogXCJzaW1ib2xpYWlcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcInNpbWJvbGlcdTAxNzNcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiB7XG4gICAgICAgICAgICAgICAgc21hbGxlcjoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IFwidHVyaSBiXHUwMTZCdGkgbmUgaWxnZXNuXHUwMTE3IGthaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbm90SW5jbHVzaXZlOiBcInR1cmkgYlx1MDE2QnRpIHRydW1wZXNuXHUwMTE3IGthaXBcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJpZ2dlcjoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IFwidHVyaSBiXHUwMTZCdGkgbmUgdHJ1bXBlc25cdTAxMTcga2FpcFwiLFxuICAgICAgICAgICAgICAgICAgICBub3RJbmNsdXNpdmU6IFwidHVyaSBiXHUwMTZCdGkgaWxnZXNuXHUwMTE3IGthaXBcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJiYWl0YXNcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiYmFpdGFpXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJiYWl0XHUwMTczXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjoge1xuICAgICAgICAgICAgICAgIHNtYWxsZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBcInR1cmkgYlx1MDE2QnRpIG5lIGRpZGVzbmlzIGthaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbm90SW5jbHVzaXZlOiBcInR1cmkgYlx1MDE2QnRpIG1hXHUwMTdFZXNuaXMga2FpcFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBuZSBtYVx1MDE3RWVzbmlzIGthaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbm90SW5jbHVzaXZlOiBcInR1cmkgYlx1MDE2QnRpIGRpZGVzbmlzIGthaXBcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiZWxlbWVudFx1MDEwNVwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJlbGVtZW50dXNcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcImVsZW1lbnRcdTAxNzNcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiB7XG4gICAgICAgICAgICAgICAgc21hbGxlcjoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBuZSBkYXVnaWF1IGthaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbm90SW5jbHVzaXZlOiBcInR1cmkgdHVyXHUwMTE3dGkgbWFcdTAxN0VpYXUga2FpcFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIG5lIG1hXHUwMTdFaWF1IGthaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbm90SW5jbHVzaXZlOiBcInR1cmkgdHVyXHUwMTE3dGkgZGF1Z2lhdSBrYWlwXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJlbGVtZW50XHUwMTA1XCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcImVsZW1lbnR1c1wiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiZWxlbWVudFx1MDE3M1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IHtcbiAgICAgICAgICAgICAgICBzbWFsbGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIG5lIGRhdWdpYXUga2FpcFwiLFxuICAgICAgICAgICAgICAgICAgICBub3RJbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBtYVx1MDE3RWlhdSBrYWlwXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBiaWdnZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBcInR1cmkgdHVyXHUwMTE3dGkgbmUgbWFcdTAxN0VpYXUga2FpcFwiLFxuICAgICAgICAgICAgICAgICAgICBub3RJbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBkYXVnaWF1IGthaXBcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4sIHVuaXRUeXBlLCBpbmNsdXNpdmUsIHRhcmdldFNob3VsZEJlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVuaXQ6IHJlc3VsdC51bml0W3VuaXRUeXBlXSxcbiAgICAgICAgICAgIHZlcmI6IHJlc3VsdC52ZXJiW3RhcmdldFNob3VsZEJlXVtpbmNsdXNpdmUgPyBcImluY2x1c2l2ZVwiIDogXCJub3RJbmNsdXNpdmVcIl0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTAxMkZ2ZXN0aXNcIixcbiAgICAgICAgZW1haWw6IFwiZWwuIHBhXHUwMTYxdG8gYWRyZXNhc1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImphdXN0dWthc1wiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gZGF0YSBpciBsYWlrYXNcIixcbiAgICAgICAgZGF0ZTogXCJJU08gZGF0YVwiLFxuICAgICAgICB0aW1lOiBcIklTTyBsYWlrYXNcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIHRydWttXHUwMTE3XCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBhZHJlc2FzXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBhZHJlc2FzXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IHRpbmtsbyBwcmVmaWtzYXMgKENJRFIpXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IHRpbmtsbyBwcmVmaWtzYXMgKENJRFIpXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQgdVx1MDE3RWtvZHVvdGEgZWlsdXRcdTAxMTdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybCB1XHUwMTdFa29kdW90YSBlaWx1dFx1MDExN1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIGVpbHV0XHUwMTE3XCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgbnVtZXJpc1wiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwMTJGdmVzdGlzXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgR2F1dGFzIHRpcGFzICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9LCBvIHRpa1x1MDExN3Rhc2kgLSAke3BhcnNlZFR5cGVGcm9tVHlwZShpc3N1ZS5leHBlY3RlZCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgUHJpdmFsbyBiXHUwMTZCdGkgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBQcml2YWxvIGJcdTAxNkJ0aSB2aWVuYXMgaVx1MDE2MSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX0gcGFzaXJpbmtpbVx1MDE3M2A7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gcGFyc2VkVHlwZUZyb21UeXBlKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbiwgZ2V0VW5pdFR5cGVGcm9tTnVtYmVyKE51bWJlcihpc3N1ZS5tYXhpbXVtKSksIGlzc3VlLmluY2x1c2l2ZSA/PyBmYWxzZSwgXCJzbWFsbGVyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmc/LnZlcmIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtjYXBpdGFsaXplRmlyc3RDaGFyYWN0ZXIob3JpZ2luID8/IGlzc3VlLm9yaWdpbiA/PyBcInJlaWtcdTAxNjFtXHUwMTE3XCIpfSAke3NpemluZy52ZXJifSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRcdTAxNzNcIn1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwibmUgZGlkZXNuaXMga2FpcFwiIDogXCJtYVx1MDE3RWVzbmlzIGthaXBcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Y2FwaXRhbGl6ZUZpcnN0Q2hhcmFjdGVyKG9yaWdpbiA/PyBpc3N1ZS5vcmlnaW4gPz8gXCJyZWlrXHUwMTYxbVx1MDExN1wiKX0gdHVyaSBiXHUwMTZCdGkgJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZz8udW5pdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gcGFyc2VkVHlwZUZyb21UeXBlKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbiwgZ2V0VW5pdFR5cGVGcm9tTnVtYmVyKE51bWJlcihpc3N1ZS5taW5pbXVtKSksIGlzc3VlLmluY2x1c2l2ZSA/PyBmYWxzZSwgXCJiaWdnZXJcIik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZz8udmVyYilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2NhcGl0YWxpemVGaXJzdENoYXJhY3RlcihvcmlnaW4gPz8gaXNzdWUub3JpZ2luID8/IFwicmVpa1x1MDE2MW1cdTAxMTdcIil9ICR7c2l6aW5nLnZlcmJ9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudFx1MDE3M1wifWA7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJuZSBtYVx1MDE3RWVzbmlzIGthaXBcIiA6IFwiZGlkZXNuaXMga2FpcFwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtjYXBpdGFsaXplRmlyc3RDaGFyYWN0ZXIob3JpZ2luID8/IGlzc3VlLm9yaWdpbiA/PyBcInJlaWtcdTAxNjFtXHUwMTE3XCIpfSB0dXJpIGJcdTAxNkJ0aSAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nPy51bml0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBFaWx1dFx1MDExNyBwcml2YWxvIHByYXNpZFx1MDExN3RpIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRWlsdXRcdTAxMTcgcHJpdmFsbyBwYXNpYmFpZ3RpIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEVpbHV0XHUwMTE3IHByaXZhbG8gXHUwMTJGdHJhdWt0aSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEVpbHV0XHUwMTE3IHByaXZhbG8gYXRpdGlrdGkgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmV0ZWlzaW5nYXMgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFNrYWlcdTAxMERpdXMgcHJpdmFsbyBiXHUwMTZCdGkgJHtpc3N1ZS5kaXZpc29yfSBrYXJ0b3RpbmlzLmA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lYXRwYVx1MDE3RWludCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJpXCIgOiBcImFzXCJ9IHJha3Qke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiYWlcIiA6IFwiYXNcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlJhc3RhcyBrbGFpZGluZ2FzIHJha3Rhc1wiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJLbGFpZGluZ2EgXHUwMTJGdmVzdGlzXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBwYXJzZWRUeXBlRnJvbVR5cGUoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Y2FwaXRhbGl6ZUZpcnN0Q2hhcmFjdGVyKG9yaWdpbiA/PyBpc3N1ZS5vcmlnaW4gPz8gXCJyZWlrXHUwMTYxbVx1MDExN1wiKX0gdHVyaSBrbGFpZGluZ1x1MDEwNSBcdTAxMkZ2ZXN0XHUwMTJGYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiS2xhaWRpbmdhIFx1MDEyRnZlc3Rpc1wiO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0Nlx1MDQzOFwiLCB2ZXJiOiBcIlx1MDQzNFx1MDQzMCBcdTA0MzhcdTA0M0NcdTA0MzBcdTA0MzBcdTA0NDJcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUwNDMxXHUwNDMwXHUwNDU4XHUwNDQyXHUwNDM4XCIsIHZlcmI6IFwiXHUwNDM0XHUwNDMwIFx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzMFx1MDQ0MlwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDMyXHUwNDNBXHUwNDM4XCIsIHZlcmI6IFwiXHUwNDM0XHUwNDMwIFx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzMFx1MDQ0MlwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MDQ0MVx1MDQ0Mlx1MDQzMFx1MDQzMlx1MDQzQVx1MDQzOFwiLCB2ZXJiOiBcIlx1MDQzNFx1MDQzMCBcdTA0MzhcdTA0M0NcdTA0MzBcdTA0MzBcdTA0NDJcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MDQzMVx1MDQ0MFx1MDQzRVx1MDQ1OFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNDNEXHUwNDM4XHUwNDM3XHUwNDMwXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDQzMlx1MDQzRFx1MDQzNVx1MDQ0MVwiLFxuICAgICAgICBlbWFpbDogXCJcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzVcdTA0NDFcdTA0MzAgXHUwNDNEXHUwNDMwIFx1MDQzNS1cdTA0M0ZcdTA0M0VcdTA0NDhcdTA0NDJcdTA0MzBcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTA0MzVcdTA0M0NcdTA0M0VcdTA0NUZcdTA0MzhcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIFx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQ0M1x1MDQzQyBcdTA0MzggXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDM1XCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIFx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQ0M1x1MDQzQ1wiLFxuICAgICAgICB0aW1lOiBcIklTTyBcdTA0MzJcdTA0NDBcdTA0MzVcdTA0M0NcdTA0MzVcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIFx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0MFx1MDQzMFx1MDQzNVx1MDQ1QVx1MDQzNVwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXHUwNDMwXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzVcdTA0NDFcdTA0MzBcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgXHUwNDNFXHUwNDNGXHUwNDQxXHUwNDM1XHUwNDMzXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IFx1MDQzRVx1MDQzRlx1MDQ0MVx1MDQzNVx1MDQzM1wiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LVx1MDQzNVx1MDQzRFx1MDQzQVx1MDQzRVx1MDQzNFx1MDQzOFx1MDQ0MFx1MDQzMFx1MDQzRFx1MDQzMCBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzBcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1cdTA0MzVcdTA0M0RcdTA0M0FcdTA0M0VcdTA0MzRcdTA0MzhcdTA0NDBcdTA0MzBcdTA0M0RcdTA0MzAgXHUwNDNEXHUwNDM4XHUwNDM3XHUwNDMwXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHUwNDNEXHUwNDM4XHUwNDM3XHUwNDMwXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgXHUwNDMxXHUwNDQwXHUwNDNFXHUwNDU4XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTA0MzJcdTA0M0RcdTA0MzVcdTA0NDFcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTNcdTA0NDBcdTA0MzVcdTA0NDhcdTA0MzVcdTA0M0QgXHUwNDMyXHUwNDNEXHUwNDM1XHUwNDQxOiBcdTA0NDFcdTA0MzUgXHUwNDNFXHUwNDQ3XHUwNDM1XHUwNDNBXHUwNDQzXHUwNDMyXHUwNDMwICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTA0M0ZcdTA0NDBcdTA0MzhcdTA0M0NcdTA0MzVcdTA0M0RcdTA0M0UgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBJbnZhbGlkIGlucHV0OiBleHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgaW5wdXQ6IGV4cGVjdGVkICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDEzXHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDMwXHUwNDNEXHUwNDMwIFx1MDQzRVx1MDQzRlx1MDQ0Nlx1MDQzOFx1MDQ1OFx1MDQzMDogXHUwNDQxXHUwNDM1IFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQ0M1x1MDQzMlx1MDQzMCBcdTA0MzVcdTA0MzRcdTA0M0RcdTA0MzAgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQzRFx1MDQzRVx1MDQzM1x1MDQ0MyBcdTA0MzNcdTA0M0VcdTA0M0JcdTA0MzVcdTA0M0M6IFx1MDQ0MVx1MDQzNSBcdTA0M0VcdTA0NDdcdTA0MzVcdTA0M0FcdTA0NDNcdTA0MzJcdTA0MzAgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzJcdTA0NDBcdTA0MzVcdTA0MzRcdTA0M0RcdTA0M0VcdTA0NDFcdTA0NDJcdTA0MzBcIn0gXHUwNDM0XHUwNDMwIFx1MDQzOFx1MDQzQ1x1MDQzMCAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MDQzNVx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzOFwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MUZcdTA0NDBcdTA0MzVcdTA0M0NcdTA0M0RcdTA0M0VcdTA0MzNcdTA0NDMgXHUwNDMzXHUwNDNFXHUwNDNCXHUwNDM1XHUwNDNDOiBcdTA0NDFcdTA0MzUgXHUwNDNFXHUwNDQ3XHUwNDM1XHUwNDNBXHUwNDQzXHUwNDMyXHUwNDMwICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDNEXHUwNDNFXHUwNDQxXHUwNDQyXHUwNDMwXCJ9IFx1MDQzNFx1MDQzMCBcdTA0MzFcdTA0MzhcdTA0MzRcdTA0MzUgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MUZcdTA0NDBcdTA0MzVcdTA0M0NcdTA0M0RcdTA0M0VcdTA0MzNcdTA0NDMgXHUwNDNDXHUwNDMwXHUwNDNCOiBcdTA0NDFcdTA0MzUgXHUwNDNFXHUwNDQ3XHUwNDM1XHUwNDNBXHUwNDQzXHUwNDMyXHUwNDMwICR7aXNzdWUub3JpZ2lufSBcdTA0MzRcdTA0MzAgXHUwNDM4XHUwNDNDXHUwNDMwICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDNEXHUwNDNFXHUwNDMzXHUwNDQzIFx1MDQzQ1x1MDQzMFx1MDQzQjogXHUwNDQxXHUwNDM1IFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQ0M1x1MDQzMlx1MDQzMCAke2lzc3VlLm9yaWdpbn0gXHUwNDM0XHUwNDMwIFx1MDQzMVx1MDQzOFx1MDQzNFx1MDQzNSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDQ3XHUwNDNBXHUwNDMwIFx1MDQzRFx1MDQzOFx1MDQzN1x1MDQzMDogXHUwNDNDXHUwNDNFXHUwNDQwXHUwNDMwIFx1MDQzNFx1MDQzMCBcdTA0MzdcdTA0MzBcdTA0M0ZcdTA0M0VcdTA0NDdcdTA0M0RcdTA0NDNcdTA0MzJcdTA0MzAgXHUwNDQxXHUwNDNFIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDQ3XHUwNDNBXHUwNDMwIFx1MDQzRFx1MDQzOFx1MDQzN1x1MDQzMDogXHUwNDNDXHUwNDNFXHUwNDQwXHUwNDMwIFx1MDQzNFx1MDQzMCBcdTA0MzdcdTA0MzBcdTA0MzJcdTA0NDBcdTA0NDhcdTA0NDNcdTA0MzJcdTA0MzAgXHUwNDQxXHUwNDNFIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzMFx1MDQzNlx1MDQzNVx1MDQ0N1x1MDQzQVx1MDQzMCBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzA6IFx1MDQzQ1x1MDQzRVx1MDQ0MFx1MDQzMCBcdTA0MzRcdTA0MzAgXHUwNDMyXHUwNDNBXHUwNDNCXHUwNDQzXHUwNDQ3XHUwNDQzXHUwNDMyXHUwNDMwIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDQ3XHUwNDNBXHUwNDMwIFx1MDQzRFx1MDQzOFx1MDQzN1x1MDQzMDogXHUwNDNDXHUwNDNFXHUwNDQwXHUwNDMwIFx1MDQzNFx1MDQzMCBcdTA0M0VcdTA0MzRcdTA0MzNcdTA0M0VcdTA0MzBcdTA0NDBcdTA0MzAgXHUwNDNEXHUwNDMwIFx1MDQzRlx1MDQzMFx1MDQ0Mlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQzRVx1MDQ0MiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTNcdTA0NDBcdTA0MzVcdTA0NDhcdTA0MzVcdTA0M0QgXHUwNDMxXHUwNDQwXHUwNDNFXHUwNDU4OiBcdTA0M0NcdTA0M0VcdTA0NDBcdTA0MzAgXHUwNDM0XHUwNDMwIFx1MDQzMVx1MDQzOFx1MDQzNFx1MDQzNSBcdTA0MzRcdTA0MzVcdTA0M0JcdTA0MzhcdTA0MzIgXHUwNDQxXHUwNDNFICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDM1XHUwNDNGXHUwNDNFXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDM1XHUwNDNEXHUwNDM4IFx1MDQzQVx1MDQzQlx1MDQ0M1x1MDQ0N1x1MDQzNVx1MDQzMlx1MDQzOFwiIDogXCJcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzVcdTA0M0ZcdTA0M0VcdTA0MzdcdTA0M0RcdTA0MzBcdTA0MzVcdTA0M0QgXHUwNDNBXHUwNDNCXHUwNDQzXHUwNDQ3XCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxM1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzNVx1MDQzRCBcdTA0M0FcdTA0M0JcdTA0NDNcdTA0NDcgXHUwNDMyXHUwNDNFICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDQxM1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzNVx1MDQzRCBcdTA0MzJcdTA0M0RcdTA0MzVcdTA0NDFcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxM1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzRFx1MDQzMCBcdTA0MzJcdTA0NDBcdTA0MzVcdTA0MzRcdTA0M0RcdTA0M0VcdTA0NDFcdTA0NDIgXHUwNDMyXHUwNDNFICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDEzXHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEIFx1MDQzMlx1MDQzRFx1MDQzNVx1MDQ0MWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiYWtzYXJhXCIsIHZlcmI6IFwibWVtcHVueWFpXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJhaXRcIiwgdmVyYjogXCJtZW1wdW55YWlcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1lblwiLCB2ZXJiOiBcIm1lbXB1bnlhaVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1lblwiLCB2ZXJiOiBcIm1lbXB1bnlhaVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibm9tYm9yXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnB1dFwiLFxuICAgICAgICBlbWFpbDogXCJhbGFtYXQgZS1tZWxcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJ0YXJpa2ggbWFzYSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJ0YXJpa2ggSVNPXCIsXG4gICAgICAgIHRpbWU6IFwibWFzYSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwidGVtcG9oIElTT1wiLFxuICAgICAgICBpcHY0OiBcImFsYW1hdCBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiYWxhbWF0IElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcImp1bGF0IElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcImp1bGF0IElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcInN0cmluZyBkaWtvZGthbiBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcInN0cmluZyBkaWtvZGthbiBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwic3RyaW5nIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJub21ib3IgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImlucHV0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW5wdXQgdGlkYWsgc2FoOiBkaWphbmdrYSAke2lzc3VlLmV4cGVjdGVkfSwgZGl0ZXJpbWEgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnB1dCB0aWRhayBzYWg6IGRpamFuZ2thICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgUGlsaWhhbiB0aWRhayBzYWg6IGRpamFuZ2thIHNhbGFoIHNhdHUgZGFyaXBhZGEgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUgYmVzYXI6IGRpamFuZ2thICR7aXNzdWUub3JpZ2luID8/IFwibmlsYWlcIn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW5cIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVGVybGFsdSBiZXNhcjogZGlqYW5na2EgJHtpc3N1ZS5vcmlnaW4gPz8gXCJuaWxhaVwifSBhZGFsYWggJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZXJsYWx1IGtlY2lsOiBkaWphbmdrYSAke2lzc3VlLm9yaWdpbn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUZXJsYWx1IGtlY2lsOiBkaWphbmdrYSAke2lzc3VlLm9yaWdpbn0gYWRhbGFoICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nIHRpZGFrIHNhaDogbWVzdGkgYmVybXVsYSBkZW5nYW4gXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZyB0aWRhayBzYWg6IG1lc3RpIGJlcmFraGlyIGRlbmdhbiBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmcgdGlkYWsgc2FoOiBtZXN0aSBtZW5nYW5kdW5naSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZyB0aWRhayBzYWg6IG1lc3RpIHNlcGFkYW4gZGVuZ2FuIGNvcmFrICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSB0aWRhayBzYWhgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTm9tYm9yIHRpZGFrIHNhaDogcGVybHUgZ2FuZGFhbiAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgS3VuY2kgdGlkYWsgZGlrZW5hbGk6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgS3VuY2kgdGlkYWsgc2FoIGRhbGFtICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIklucHV0IHRpZGFrIHNhaFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmlsYWkgdGlkYWsgc2FoIGRhbGFtICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW5wdXQgdGlkYWsgc2FoYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJ0ZWtlbnNcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZXNcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1lbnRlblwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1lbnRlblwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiZ2V0YWxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImludm9lclwiLFxuICAgICAgICBlbWFpbDogXCJlbWFpbGFkcmVzXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGRhdHVtIGVuIHRpamRcIixcbiAgICAgICAgZGF0ZTogXCJJU08gZGF0dW1cIixcbiAgICAgICAgdGltZTogXCJJU08gdGlqZFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gZHV1clwiLFxuICAgICAgICBpcHY0OiBcIklQdjQtYWRyZXNcIixcbiAgICAgICAgaXB2NjogXCJJUHY2LWFkcmVzXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0LWJlcmVpa1wiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Ni1iZXJlaWtcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1nZWNvZGVlcmRlIHRla3N0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjQgVVJMLWdlY29kZWVyZGUgdGVrc3RcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBzdHJpbmdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NC1udW1tZXJcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImludm9lclwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSBpbnZvZXI6IHZlcndhY2h0ICR7aXNzdWUuZXhwZWN0ZWR9LCBvbnR2aW5nICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIGludm9lcjogdmVyd2FjaHQgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZ2Ugb3B0aWU6IHZlcndhY2h0IFx1MDBFOVx1MDBFOW4gdmFuICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZSBsYW5nOiB2ZXJ3YWNodCBkYXQgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ3YWFyZGVcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50ZW5cIn0gYmV2YXRgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVGUgbGFuZzogdmVyd2FjaHQgZGF0ICR7aXNzdWUub3JpZ2luID8/IFwid2FhcmRlXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSBpc2A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGUga29ydDogdmVyd2FjaHQgZGF0ICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH0gYmV2YXRgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFRlIGtvcnQ6IHZlcndhY2h0IGRhdCAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9IGlzYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSB0ZWtzdDogbW9ldCBtZXQgXCIke19pc3N1ZS5wcmVmaXh9XCIgYmVnaW5uZW5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZ2UgdGVrc3Q6IG1vZXQgb3AgXCIke19pc3N1ZS5zdWZmaXh9XCIgZWluZGlnZW5gO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIHRla3N0OiBtb2V0IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgYmV2YXR0ZW5gO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIHRla3N0OiBtb2V0IG92ZXJlZW5rb21lbiBtZXQgcGF0cm9vbiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZzogJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnIGdldGFsOiBtb2V0IGVlbiB2ZWVsdm91ZCB2YW4gJHtpc3N1ZS5kaXZpc29yfSB6aWpuYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT25iZWtlbmRlIGtleSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZ2Uga2V5IGluICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk9uZ2VsZGlnZSBpbnZvZXJcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSB3YWFyZGUgaW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZ2UgaW52b2VyYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJ0ZWduXCIsIHZlcmI6IFwiXHUwMEU1IGhhXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVzXCIsIHZlcmI6IFwiXHUwMEU1IGhhXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtZW50ZXJcIiwgdmVyYjogXCJcdTAwRTUgaW5uZWhvbGRlXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbWVudGVyXCIsIHZlcmI6IFwiXHUwMEU1IGlubmVob2xkZVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwidGFsbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGlzdGVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiaW5wdXRcIixcbiAgICAgICAgZW1haWw6IFwiZS1wb3N0YWRyZXNzZVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYXRvLSBvZyBrbG9ra2VzbGV0dFwiLFxuICAgICAgICBkYXRlOiBcIklTTy1kYXRvXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPLWtsb2trZXNsZXR0XCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTy12YXJpZ2hldFwiLFxuICAgICAgICBpcHY0OiBcIklQdjQtb21yXHUwMEU1ZGVcIixcbiAgICAgICAgaXB2NjogXCJJUHY2LW9tclx1MDBFNWRlXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0LXNwZWt0ZXJcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYtc3Bla3RlclwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWVua29kZXQgc3RyZW5nXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwtZW5rb2RldCBzdHJlbmdcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTi1zdHJlbmdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NC1udW1tZXJcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImlucHV0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBpbnB1dDogZm9ydmVudGV0ICR7aXNzdWUuZXhwZWN0ZWR9LCBmaWtrICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyB2ZXJkaTogZm9ydmVudGV0ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyB2YWxnOiBmb3J2ZW50ZXQgZW4gYXYgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvciBzdG9yKHQpOiBmb3J2ZW50ZXQgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSB0aWwgXHUwMEU1IGhhICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudGVyXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEZvciBzdG9yKHQpOiBmb3J2ZW50ZXQgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSB0aWwgXHUwMEU1IGhhICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRm9yIGxpdGUobik6IGZvcnZlbnRldCAke2lzc3VlLm9yaWdpbn0gdGlsIFx1MDBFNSBoYSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYEZvciBsaXRlKG4pOiBmb3J2ZW50ZXQgJHtpc3N1ZS5vcmlnaW59IHRpbCBcdTAwRTUgaGEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHN0cmVuZzogbVx1MDBFNSBzdGFydGUgbWVkIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHN0cmVuZzogbVx1MDBFNSBlbmRlIG1lZCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHN0cmVuZzogbVx1MDBFNSBpbm5laG9sZGUgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHN0cmVuZzogbVx1MDBFNSBtYXRjaGUgbVx1MDBGOG5zdGVyZXQgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyB0YWxsOiBtXHUwMEU1IHZcdTAwRTZyZSBldCBtdWx0aXBsdW0gYXYgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJVa2plbnRlIG5cdTAwRjhrbGVyXCIgOiBcIlVramVudCBuXHUwMEY4a2tlbFwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIG5cdTAwRjhra2VsIGkgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiVWd5bGRpZyBpbnB1dFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyB2ZXJkaSBpICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBpbnB1dGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiaGFyZlwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxZFx1MDEzMXJcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYmF5dFwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxZFx1MDEzMXJcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcInVuc3VyXCIsIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcInVuc3VyXCIsIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYXJhXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzYWZcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZ2F5YlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiZ2lyZW5cIixcbiAgICAgICAgZW1haWw6IFwiZXBvc3RhZ1x1MDBFMmhcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gaGVuZ1x1MDBFMm1cdTAxMzFcIixcbiAgICAgICAgZGF0ZTogXCJJU08gdGFyaWhpXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIHphbWFuXHUwMTMxXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBtXHUwMEZDZGRldGlcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IG5pXHUwMTVGXHUwMEUyblx1MDEzMVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgbmlcdTAxNUZcdTAwRTJuXHUwMTMxXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IG1lbnppbGlcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgbWVuemlsaVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LVx1MDE1RmlmcmVsaSBtZXRpblwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLVx1MDE1RmlmcmVsaSBtZXRpblwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIG1ldGluXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgc2F5XHUwMTMxc1x1MDEzMVwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiZ2lyZW5cIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEUyc2l0IGdpcmVuOiB1bXVsYW4gJHtpc3N1ZS5leHBlY3RlZH0sIGFsXHUwMTMxbmFuICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIC8vIHJldHVybiBgRlx1MDBFMnNpdCBnaXJlbjogdW11bGFuICR7aXNzdWUuZXhwZWN0ZWR9LCBhbFx1MDEzMW5hbiAke3V0aWwuZ2V0UGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBFMnNpdCBnaXJlbjogdW11bGFuICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBFMnNpdCB0ZXJjaWg6IG1cdTAwRkJ0ZWJlcmxlciAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRmF6bGEgYlx1MDBGQ3lcdTAwRkNrOiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9LCAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRzXCJ9IHNhaGlwIG9sbWFsXHUwMTMxeWRcdTAxMzEuYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEZhemxhIGJcdTAwRkN5XHUwMEZDazogJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSwgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9IG9sbWFsXHUwMTMxeWRcdTAxMzEuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGYXpsYSBrXHUwMEZDXHUwMEU3XHUwMEZDazogJHtpc3N1ZS5vcmlnaW59LCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH0gc2FoaXAgb2xtYWxcdTAxMzF5ZFx1MDEzMS5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYEZhemxhIGtcdTAwRkNcdTAwRTdcdTAwRkNrOiAke2lzc3VlLm9yaWdpbn0sICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSBvbG1hbFx1MDEzMXlkXHUwMTMxLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBFMnNpdCBtZXRpbjogXCIke19pc3N1ZS5wcmVmaXh9XCIgaWxlIGJhXHUwMTVGbGFtYWxcdTAxMzEuYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEUyc2l0IG1ldGluOiBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBpbGUgYml0bWVsaS5gO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBFMnNpdCBtZXRpbjogXCIke19pc3N1ZS5pbmNsdWRlc31cIiBpaHRpdlx1MDBFMiBldG1lbGkuYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRTJzaXQgbWV0aW46ICR7X2lzc3VlLnBhdHRlcm59IG5ha1x1MDE1Rlx1MDEzMW5hIHV5bWFsXHUwMTMxLmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEUyc2l0ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEUyc2l0IHNheVx1MDEzMTogJHtpc3N1ZS5kaXZpc29yfSBrYXRcdTAxMzEgb2xtYWxcdTAxMzF5ZFx1MDEzMS5gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUYW5cdTAxMzFubWF5YW4gYW5haHRhciAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IGlcdTAwRTdpbiB0YW5cdTAxMzFubWF5YW4gYW5haHRhciB2YXIuYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiR2lyZW4gdGFuXHUwMTMxbmFtYWRcdTAxMzEuXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gaVx1MDBFN2luIHRhblx1MDEzMW5tYXlhbiBrXHUwMTMxeW1ldCB2YXIuYDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLXHUwMTMxeW1ldCB0YW5cdTAxMzFuYW1hZFx1MDEzMS5gO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MDYyQVx1MDY0OFx1MDZBOVx1MDY0QVwiLCB2ZXJiOiBcIlx1MDY0OFx1MDY0NFx1MDYzMVx1MDY0QVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2N0NcdTA2MzNcIiwgdmVyYjogXCJcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MDYyQVx1MDY0OFx1MDZBOVx1MDY0QVwiLCB2ZXJiOiBcIlx1MDY0OFx1MDY0NFx1MDYzMVx1MDY0QVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MDYyQVx1MDY0OFx1MDZBOVx1MDY0QVwiLCB2ZXJiOiBcIlx1MDY0OFx1MDY0NFx1MDYzMVx1MDY0QVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUwNjM5XHUwNjJGXHUwNjJGXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA2MjdcdTA2MzFcdTA2RDBcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNjRBXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDYyOFx1MDYzMVx1MDZDQ1x1MDY5QVx1MDY0Nlx1MDYyN1x1MDY0NFx1MDZDQ1x1MDZBOVwiLFxuICAgICAgICB1cmw6IFwiXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYzMSBcdTA2MjdcdTA2NDRcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNjI3XHUwNkNDXHUwNjQ1XHUwNjQ4XHUwNjJDXHUwNjRBXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIlx1MDY0Nlx1MDZDQ1x1MDY3Q1x1MDY0NyBcdTA2MjdcdTA2NDggXHUwNjQ4XHUwNjJFXHUwNjJBXCIsXG4gICAgICAgIGRhdGU6IFwiXHUwNjQ2XHUwNkQwXHUwNjdDXHUwNjQ3XCIsXG4gICAgICAgIHRpbWU6IFwiXHUwNjQ4XHUwNjJFXHUwNjJBXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MDY0NVx1MDY0OFx1MDYyRlx1MDY0N1wiLFxuICAgICAgICBpcHY0OiBcIlx1MDYyRiBJUHY0IFx1MDY3RVx1MDYyQVx1MDY0N1wiLFxuICAgICAgICBpcHY2OiBcIlx1MDYyRiBJUHY2IFx1MDY3RVx1MDYyQVx1MDY0N1wiLFxuICAgICAgICBjaWRydjQ6IFwiXHUwNjJGIElQdjQgXHUwNjMzXHUwNjI3XHUwNjJEXHUwNjQ3XCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTA2MkYgSVB2NiBcdTA2MzNcdTA2MjdcdTA2MkRcdTA2NDdcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1lbmNvZGVkIFx1MDY0NVx1MDYyQVx1MDY0NlwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWVuY29kZWQgXHUwNjQ1XHUwNjJBXHUwNjQ2XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHUwNjQ1XHUwNjJBXHUwNjQ2XCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwNjJGIEUuMTY0IFx1MDYzNFx1MDY0NVx1MDZEMFx1MDYzMVx1MDY0N1wiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNjRBXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDY0QTogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7aXNzdWUuZXhwZWN0ZWR9IFx1MDY0OFx1MDYyN1x1MDZDQywgXHUwNjQ1XHUwNkFCXHUwNjMxICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9IFx1MDYyQVx1MDYzMVx1MDY0NFx1MDYyN1x1MDYzM1x1MDY0NyBcdTA2MzRcdTA2NDhgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2NEE6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9IFx1MDY0OFx1MDYyN1x1MDZDQ2A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDYyN1x1MDY0Nlx1MDYyQVx1MDYyRVx1MDYyN1x1MDYyODogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDZDQ1x1MDY0OCBcdTA2NDRcdTA2NDcgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9IFx1MDY4NVx1MDYyRVx1MDY0NyBcdTA2NDhcdTA2MjdcdTA2Q0NgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2ODlcdTA2Q0NcdTA2MzEgXHUwNjQ0XHUwNjQ4XHUwNkNDOiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDYyN1x1MDYzMVx1MDYzMlx1MDY5QVx1MDYyQVwifSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTA2MzlcdTA2NDZcdTA2MzVcdTA2MzFcdTA2NDhcdTA2NDZcdTA2NDdcIn0gXHUwNjQ4XHUwNjQ0XHUwNjMxXHUwNjRBYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2ODlcdTA2Q0NcdTA2MzEgXHUwNjQ0XHUwNjQ4XHUwNkNDOiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDYyN1x1MDYzMVx1MDYzMlx1MDY5QVx1MDYyQVwifSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9IFx1MDY0OFx1MDY0QWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjg5XHUwNkNDXHUwNjMxIFx1MDZBOVx1MDY0OFx1MDY4Nlx1MDY0Nlx1MDZDQzogJHtpc3N1ZS5vcmlnaW59IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH0gXHUwNjQ4XHUwNjQ0XHUwNjMxXHUwNjRBYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2ODlcdTA2Q0NcdTA2MzEgXHUwNkE5XHUwNjQ4XHUwNjg2XHUwNjQ2XHUwNkNDOiAke2lzc3VlLm9yaWdpbn0gXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSBcdTA2NDhcdTA2NEFgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDY0NVx1MDYyQVx1MDY0NjogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDYyRiBcIiR7X2lzc3VlLnByZWZpeH1cIiBcdTA2MzNcdTA2MzFcdTA2NDcgXHUwNjdFXHUwNkNDXHUwNjQ0IFx1MDYzNFx1MDY0QWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDY0NVx1MDYyQVx1MDY0NjogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDYyRiBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBcdTA2MzNcdTA2MzFcdTA2NDcgXHUwNjdFXHUwNjI3XHUwNkNDIFx1MDYyQVx1MDY0NyBcdTA2NDhcdTA2MzFcdTA2MzNcdTA2NEFcdTA2OTZcdTA2NEFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDY0NVx1MDYyQVx1MDY0NjogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgXHUwNjQ4XHUwNjQ0XHUwNjMxXHUwNjRBYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2NDVcdTA2MkFcdTA2NDY6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MkYgJHtfaXNzdWUucGF0dGVybn0gXHUwNjMzXHUwNjMxXHUwNjQ3IFx1MDY0NVx1MDYzN1x1MDYyN1x1MDYyOFx1MDY0Mlx1MDYyQSBcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNjJGXHUwNkNDYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2MzlcdTA2MkZcdTA2MkY6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MkYgJHtpc3N1ZS5kaXZpc29yfSBcdTA2NDVcdTA2MzZcdTA2MzFcdTA2MjggXHUwNjQ4XHUwNjRBYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1ICR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2ODlcdTA2NDhcdTA2NDZcdTA2NDdcIiA6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNjg5XCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2ODkgXHUwNjdFXHUwNjQ3ICR7aXNzdWUub3JpZ2lufSBcdTA2QTlcdTA2RDBgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NVx1MDY0NyBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2NEFgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDYzOVx1MDY0Nlx1MDYzNVx1MDYzMSBcdTA2N0VcdTA2NDcgJHtpc3N1ZS5vcmlnaW59IFx1MDZBOVx1MDZEMGA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1XHUwNjQ3IFx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDY0QWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiem5ha1x1MDBGM3dcIiwgdmVyYjogXCJtaWVcdTAxMDdcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYmFqdFx1MDBGM3dcIiwgdmVyYjogXCJtaWVcdTAxMDdcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1lbnRcdTAwRjN3XCIsIHZlcmI6IFwibWllXHUwMTA3XCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbWVudFx1MDBGM3dcIiwgdmVyYjogXCJtaWVcdTAxMDdcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcImxpY3piYVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGFibGljYVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJ3eXJhXHUwMTdDZW5pZVwiLFxuICAgICAgICBlbWFpbDogXCJhZHJlcyBlbWFpbFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdGEgaSBnb2R6aW5hIHcgZm9ybWFjaWUgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0YSB3IGZvcm1hY2llIElTT1wiLFxuICAgICAgICB0aW1lOiBcImdvZHppbmEgdyBmb3JtYWNpZSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiY3phcyB0cndhbmlhIElTT1wiLFxuICAgICAgICBpcHY0OiBcImFkcmVzIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJhZHJlcyBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJ6YWtyZXMgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiemFrcmVzIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcImNpXHUwMTA1ZyB6bmFrXHUwMEYzdyB6YWtvZG93YW55IHcgZm9ybWFjaWUgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJjaVx1MDEwNWcgem5ha1x1MDBGM3cgemFrb2Rvd2FueSB3IGZvcm1hY2llIGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJjaVx1MDEwNWcgem5ha1x1MDBGM3cgdyBmb3JtYWNpZSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwibGljemJhIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJ3ZWpcdTAxNUJjaWVcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd2UgZGFuZSB3ZWpcdTAxNUJjaW93ZTogb2N6ZWtpd2FubyAke2lzc3VlLmV4cGVjdGVkfSwgb3RyenltYW5vICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3dlIGRhbmUgd2VqXHUwMTVCY2lvd2U6IG9jemVraXdhbm8gJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd2Egb3BjamE6IG9jemVraXdhbm8gamVkbmVqIHogd2FydG9cdTAxNUJjaSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBaYSBkdVx1MDE3Q2Egd2FydG9cdTAxNUJcdTAxMDc6IG9jemVraXdhbm8sIFx1MDE3Q2UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ3YXJ0b1x1MDE1Qlx1MDEwN1wifSBiXHUwMTE5ZHppZSBtaWVcdTAxMDcgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50XHUwMEYzd1wifWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgWmJ5dCBkdVx1MDE3Qyh5L2EvZSk6IG9jemVraXdhbm8sIFx1MDE3Q2UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ3YXJ0b1x1MDE1Qlx1MDEwN1wifSBiXHUwMTE5ZHppZSB3eW5vc2lcdTAxMDcgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBaYSBtYVx1MDE0MmEgd2FydG9cdTAxNUJcdTAxMDc6IG9jemVraXdhbm8sIFx1MDE3Q2UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ3YXJ0b1x1MDE1Qlx1MDEwN1wifSBiXHUwMTE5ZHppZSBtaWVcdTAxMDcgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50XHUwMEYzd1wifWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgWmJ5dCBtYVx1MDE0Mih5L2EvZSk6IG9jemVraXdhbm8sIFx1MDE3Q2UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ3YXJ0b1x1MDE1Qlx1MDEwN1wifSBiXHUwMTE5ZHppZSB3eW5vc2lcdTAxMDcgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd3kgY2lcdTAxMDVnIHpuYWtcdTAwRjN3OiBtdXNpIHphY3p5bmFcdTAxMDcgc2lcdTAxMTkgb2QgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93eSBjaVx1MDEwNWcgem5ha1x1MDBGM3c6IG11c2kga29cdTAxNDRjenlcdTAxMDcgc2lcdTAxMTkgbmEgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3d5IGNpXHUwMTA1ZyB6bmFrXHUwMEYzdzogbXVzaSB6YXdpZXJhXHUwMTA3IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3d5IGNpXHUwMTA1ZyB6bmFrXHUwMEYzdzogbXVzaSBvZHBvd2lhZGFcdTAxMDcgd3pvcmNvd2kgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3coeS9hL2UpICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd2EgbGljemJhOiBtdXNpIGJ5XHUwMTA3IHdpZWxva3JvdG5vXHUwMTVCY2lcdTAxMDUgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXJvenBvem5hbmUga2x1Y3plJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93eSBrbHVjeiB3ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk5pZXByYXdpZFx1MDE0Mm93ZSBkYW5lIHdlalx1MDE1QmNpb3dlXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd2Egd2FydG9cdTAxNUJcdTAxMDcgdyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93ZSBkYW5lIHdlalx1MDE1QmNpb3dlYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJjYXJhY3RlcmVzXCIsIHZlcmI6IFwidGVyXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVzXCIsIHZlcmI6IFwidGVyXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJpdGVuc1wiLCB2ZXJiOiBcInRlclwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIml0ZW5zXCIsIHZlcmI6IFwidGVyXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJuXHUwMEZBbWVyb1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsb1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwicGFkclx1MDBFM29cIixcbiAgICAgICAgZW1haWw6IFwiZW5kZXJlXHUwMEU3byBkZSBlLW1haWxcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJkYXRhIGUgaG9yYSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJkYXRhIElTT1wiLFxuICAgICAgICB0aW1lOiBcImhvcmEgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImR1cmFcdTAwRTdcdTAwRTNvIElTT1wiLFxuICAgICAgICBpcHY0OiBcImVuZGVyZVx1MDBFN28gSVB2NFwiLFxuICAgICAgICBpcHY2OiBcImVuZGVyZVx1MDBFN28gSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiZmFpeGEgZGUgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiZmFpeGEgZGUgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwidGV4dG8gY29kaWZpY2FkbyBlbSBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlVSTCBjb2RpZmljYWRhIGVtIGJhc2U2NFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJ0ZXh0byBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiblx1MDBGQW1lcm8gRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImVudHJhZGFcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUaXBvIGludlx1MDBFMWxpZG86IGVzcGVyYWRvICR7aXNzdWUuZXhwZWN0ZWR9LCByZWNlYmlkbyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJhZGEgaW52XHUwMEUxbGlkYTogZXNwZXJhZG8gJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPcFx1MDBFN1x1MDBFM28gaW52XHUwMEUxbGlkYTogZXNwZXJhZGEgdW1hIGRhcyAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTXVpdG8gZ3JhbmRlOiBlc3BlcmFkbyBxdWUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWxvclwifSB0aXZlc3NlICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudG9zXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE11aXRvIGdyYW5kZTogZXNwZXJhZG8gcXVlICR7aXNzdWUub3JpZ2luID8/IFwidmFsb3JcIn0gZm9zc2UgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNdWl0byBwZXF1ZW5vOiBlc3BlcmFkbyBxdWUgJHtpc3N1ZS5vcmlnaW59IHRpdmVzc2UgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBNdWl0byBwZXF1ZW5vOiBlc3BlcmFkbyBxdWUgJHtpc3N1ZS5vcmlnaW59IGZvc3NlICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGV4dG8gaW52XHUwMEUxbGlkbzogZGV2ZSBjb21lXHUwMEU3YXIgY29tIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZXh0byBpbnZcdTAwRTFsaWRvOiBkZXZlIHRlcm1pbmFyIGNvbSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZXh0byBpbnZcdTAwRTFsaWRvOiBkZXZlIGluY2x1aXIgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZXh0byBpbnZcdTAwRTFsaWRvOiBkZXZlIGNvcnJlc3BvbmRlciBhbyBwYWRyXHUwMEUzbyAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gaW52XHUwMEUxbGlkb2A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOXHUwMEZBbWVybyBpbnZcdTAwRTFsaWRvOiBkZXZlIHNlciBtXHUwMEZBbHRpcGxvIGRlICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDaGF2ZSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifSBkZXNjb25oZWNpZGEke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2hhdmUgaW52XHUwMEUxbGlkYSBlbSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJFbnRyYWRhIGludlx1MDBFMWxpZGFcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZhbG9yIGludlx1MDBFMWxpZG8gZW0gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDYW1wbyBpbnZcdTAwRTFsaWRvYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5mdW5jdGlvbiBnZXRSdXNzaWFuUGx1cmFsKGNvdW50LCBvbmUsIGZldywgbWFueSkge1xuICAgIGNvbnN0IGFic0NvdW50ID0gTWF0aC5hYnMoY291bnQpO1xuICAgIGNvbnN0IGxhc3REaWdpdCA9IGFic0NvdW50ICUgMTA7XG4gICAgY29uc3QgbGFzdFR3b0RpZ2l0cyA9IGFic0NvdW50ICUgMTAwO1xuICAgIGlmIChsYXN0VHdvRGlnaXRzID49IDExICYmIGxhc3RUd29EaWdpdHMgPD0gMTkpIHtcbiAgICAgICAgcmV0dXJuIG1hbnk7XG4gICAgfVxuICAgIGlmIChsYXN0RGlnaXQgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIG9uZTtcbiAgICB9XG4gICAgaWYgKGxhc3REaWdpdCA+PSAyICYmIGxhc3REaWdpdCA8PSA0KSB7XG4gICAgICAgIHJldHVybiBmZXc7XG4gICAgfVxuICAgIHJldHVybiBtYW55O1xufVxuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMlx1MDQzRVx1MDQzQlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzJcdTA0M0VcdTA0M0JcdTA0MzBcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMlx1MDQzRVx1MDQzQlx1MDQzRVx1MDQzMlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDM4XHUwNDNDXHUwNDM1XHUwNDQyXHUwNDRDXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiXHUwNDMxXHUwNDMwXHUwNDM5XHUwNDQyXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcIlx1MDQzMVx1MDQzMFx1MDQzOVx1MDQ0Mlx1MDQzMFwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiXHUwNDMxXHUwNDMwXHUwNDM5XHUwNDQyXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0MzhcdTA0M0NcdTA0MzVcdTA0NDJcdTA0NENcIixcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzMFwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDNFXHUwNDMyXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0MzhcdTA0M0NcdTA0MzVcdTA0NDJcdTA0NENcIixcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0MlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0MzBcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzRVx1MDQzMlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDM4XHUwNDNDXHUwNDM1XHUwNDQyXHUwNDRDXCIsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUwNDQ3XHUwNDM4XHUwNDQxXHUwNDNCXHUwNDNFXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA0M0NcdTA0MzBcdTA0NDFcdTA0NDFcdTA0MzhcdTA0MzJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNDMyXHUwNDMyXHUwNDNFXHUwNDM0XCIsXG4gICAgICAgIGVtYWlsOiBcImVtYWlsIFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDQ0RFx1MDQzQ1x1MDQzRVx1MDQzNFx1MDQzN1x1MDQzOFwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDMwIFx1MDQzOCBcdTA0MzJcdTA0NDBcdTA0MzVcdTA0M0NcdTA0NEZcIixcbiAgICAgICAgZGF0ZTogXCJJU08gXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDMwXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIFx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQ0RlwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gXHUwNDM0XHUwNDNCXHUwNDM4XHUwNDQyXHUwNDM1XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDNFXHUwNDQxXHUwNDQyXHUwNDRDXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzVcdTA0NDFcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdTA0MzRcdTA0MzhcdTA0MzBcdTA0M0ZcdTA0MzBcdTA0MzdcdTA0M0VcdTA0M0RcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHUwNDM0XHUwNDM4XHUwNDMwXHUwNDNGXHUwNDMwXHUwNDM3XHUwNDNFXHUwNDNEXCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTA0NDFcdTA0NDJcdTA0NDBcdTA0M0VcdTA0M0FcdTA0MzAgXHUwNDMyIFx1MDQ0NFx1MDQzRVx1MDQ0MFx1MDQzQ1x1MDQzMFx1MDQ0Mlx1MDQzNSBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQVx1MDQzMCBcdTA0MzIgXHUwNDQ0XHUwNDNFXHUwNDQwXHUwNDNDXHUwNDMwXHUwNDQyXHUwNDM1IGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQVx1MDQzMFwiLFxuICAgICAgICBlMTY0OiBcIlx1MDQzRFx1MDQzRVx1MDQzQ1x1MDQzNVx1MDQ0MCBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwNDMyXHUwNDMyXHUwNDNFXHUwNDM0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDRCXHUwNDM5IFx1MDQzMlx1MDQzMlx1MDQzRVx1MDQzNDogXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDNFXHUwNDQxXHUwNDRDICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTA0M0ZcdTA0M0VcdTA0M0JcdTA0NDNcdTA0NDdcdTA0MzVcdTA0M0RcdTA0M0UgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0NEJcdTA0MzkgXHUwNDMyXHUwNDMyXHUwNDNFXHUwNDM0OiBcdTA0M0VcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0M0VcdTA0NDFcdTA0NEMgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0NEJcdTA0MzkgXHUwNDMyXHUwNDMwXHUwNDQwXHUwNDM4XHUwNDMwXHUwNDNEXHUwNDQyOiBcdTA0M0VcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0M0VcdTA0NDFcdTA0NEMgXHUwNDNFXHUwNDM0XHUwNDNEXHUwNDNFIFx1MDQzOFx1MDQzNyAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4VmFsdWUgPSBOdW1iZXIoaXNzdWUubWF4aW11bSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuaXQgPSBnZXRSdXNzaWFuUGx1cmFsKG1heFZhbHVlLCBzaXppbmcudW5pdC5vbmUsIHNpemluZy51bml0LmZldywgc2l6aW5nLnVuaXQubWFueSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDIxXHUwNDNCXHUwNDM4XHUwNDQ4XHUwNDNBXHUwNDNFXHUwNDNDIFx1MDQzMVx1MDQzRVx1MDQzQlx1MDQ0Q1x1MDQ0OFx1MDQzRVx1MDQzNSBcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzU6IFx1MDQzRVx1MDQzNlx1MDQzOFx1MDQzNFx1MDQzMFx1MDQzQlx1MDQzRVx1MDQ0MVx1MDQ0QywgXHUwNDQ3XHUwNDQyXHUwNDNFICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1XCJ9IFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQzNVx1MDQ0MiBcdTA0MzhcdTA0M0NcdTA0MzVcdTA0NDJcdTA0NEMgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7dW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQyMVx1MDQzQlx1MDQzOFx1MDQ0OFx1MDQzQVx1MDQzRVx1MDQzQyBcdTA0MzFcdTA0M0VcdTA0M0JcdTA0NENcdTA0NDhcdTA0M0VcdTA0MzUgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1OiBcdTA0M0VcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0M0VcdTA0NDFcdTA0NEMsIFx1MDQ0N1x1MDQ0Mlx1MDQzRSAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNVwifSBcdTA0MzFcdTA0NDNcdTA0MzRcdTA0MzVcdTA0NDIgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluVmFsdWUgPSBOdW1iZXIoaXNzdWUubWluaW11bSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuaXQgPSBnZXRSdXNzaWFuUGx1cmFsKG1pblZhbHVlLCBzaXppbmcudW5pdC5vbmUsIHNpemluZy51bml0LmZldywgc2l6aW5nLnVuaXQubWFueSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDIxXHUwNDNCXHUwNDM4XHUwNDQ4XHUwNDNBXHUwNDNFXHUwNDNDIFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQzNVx1MDQzRFx1MDQ0Q1x1MDQzQVx1MDQzRVx1MDQzNSBcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzU6IFx1MDQzRVx1MDQzNlx1MDQzOFx1MDQzNFx1MDQzMFx1MDQzQlx1MDQzRVx1MDQ0MVx1MDQ0QywgXHUwNDQ3XHUwNDQyXHUwNDNFICR7aXNzdWUub3JpZ2lufSBcdTA0MzFcdTA0NDNcdTA0MzRcdTA0MzVcdTA0NDIgXHUwNDM4XHUwNDNDXHUwNDM1XHUwNDQyXHUwNDRDICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3VuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MjFcdTA0M0JcdTA0MzhcdTA0NDhcdTA0M0FcdTA0M0VcdTA0M0MgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDRDXHUwNDNBXHUwNDNFXHUwNDM1IFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNTogXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDNFXHUwNDQxXHUwNDRDLCBcdTA0NDdcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW59IFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQzNVx1MDQ0MiAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQzMFx1MDQ0RiBcdTA0NDFcdTA0NDJcdTA0NDBcdTA0M0VcdTA0M0FcdTA0MzA6IFx1MDQzNFx1MDQzRVx1MDQzQlx1MDQzNlx1MDQzRFx1MDQzMCBcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzhcdTA0M0RcdTA0MzBcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYgXHUwNDQxIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0MzBcdTA0NEYgXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNBXHUwNDMwOiBcdTA0MzRcdTA0M0VcdTA0M0JcdTA0MzZcdTA0M0RcdTA0MzAgXHUwNDM3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNEXHUwNDQ3XHUwNDM4XHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGIFx1MDQzRFx1MDQzMCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0MzBcdTA0NEYgXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNBXHUwNDMwOiBcdTA0MzRcdTA0M0VcdTA0M0JcdTA0MzZcdTA0M0RcdTA0MzAgXHUwNDQxXHUwNDNFXHUwNDM0XHUwNDM1XHUwNDQwXHUwNDM2XHUwNDMwXHUwNDQyXHUwNDRDIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDMwXHUwNDRGIFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQVx1MDQzMDogXHUwNDM0XHUwNDNFXHUwNDNCXHUwNDM2XHUwNDNEXHUwNDMwIFx1MDQ0MVx1MDQzRVx1MDQzRVx1MDQ0Mlx1MDQzMlx1MDQzNVx1MDQ0Mlx1MDQ0MVx1MDQ0Mlx1MDQzMlx1MDQzRVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQ0QyBcdTA0NDhcdTA0MzBcdTA0MzFcdTA0M0JcdTA0M0VcdTA0M0RcdTA0NDMgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDRCXHUwNDM5ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0M0VcdTA0MzUgXHUwNDQ3XHUwNDM4XHUwNDQxXHUwNDNCXHUwNDNFOiBcdTA0MzRcdTA0M0VcdTA0M0JcdTA0MzZcdTA0M0RcdTA0M0UgXHUwNDMxXHUwNDRCXHUwNDQyXHUwNDRDIFx1MDQzQVx1MDQ0MFx1MDQzMFx1MDQ0Mlx1MDQzRFx1MDQ0Qlx1MDQzQyAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDQwXHUwNDMwXHUwNDQxXHUwNDNGXHUwNDNFXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDNEXHUwNDNEJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDQ0Qlx1MDQzNVwiIDogXCJcdTA0NEJcdTA0MzlcIn0gXHUwNDNBXHUwNDNCXHUwNDRFXHUwNDQ3JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDQzOFwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDRCXHUwNDM5IFx1MDQzQVx1MDQzQlx1MDQ0RVx1MDQ0NyBcdTA0MzIgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDRCXHUwNDM1IFx1MDQzMlx1MDQ0NVx1MDQzRVx1MDQzNFx1MDQzRFx1MDQ0Qlx1MDQzNSBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0M0RcdTA0NEJcdTA0MzVcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQzRVx1MDQzNSBcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzUgXHUwNDMyICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDRCXHUwNDM1IFx1MDQzMlx1MDQ0NVx1MDQzRVx1MDQzNFx1MDQzRFx1MDQ0Qlx1MDQzNSBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0M0RcdTA0NEJcdTA0MzVgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcInpuYWtvdlwiLCB2ZXJiOiBcImltZXRpXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJhanRvdlwiLCB2ZXJiOiBcImltZXRpXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtZW50b3ZcIiwgdmVyYjogXCJpbWV0aVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1lbnRvdlwiLCB2ZXJiOiBcImltZXRpXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTAxNjF0ZXZpbG9cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRhYmVsYVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJ2bm9zXCIsXG4gICAgICAgIGVtYWlsOiBcImUtcG9cdTAxNjF0bmkgbmFzbG92XCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGRhdHVtIGluIFx1MDEwRGFzXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIGRhdHVtXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIFx1MDEwRGFzXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyB0cmFqYW5qZVwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgbmFzbG92XCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBuYXNsb3ZcIixcbiAgICAgICAgY2lkcnY0OiBcIm9ic2VnIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcIm9ic2VnIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NCBrb2RpcmFuIG5pelwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsIGtvZGlyYW4gbml6XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gbml6XCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgXHUwMTYxdGV2aWxrYVwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwidm5vc1wiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmVsamF2ZW4gdm5vczogcHJpXHUwMTBEYWtvdmFubyAke2lzc3VlLmV4cGVjdGVkfSwgcHJlamV0byAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmVsamF2ZW4gdm5vczogcHJpXHUwMTBEYWtvdmFubyAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmVsamF2bmEgbW9cdTAxN0Vub3N0OiBwcmlcdTAxMERha292YW5vIGVubyBpem1lZCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgUHJldmVsaWtvOiBwcmlcdTAxMERha292YW5vLCBkYSBibyAke2lzc3VlLm9yaWdpbiA/PyBcInZyZWRub3N0XCJ9IGltZWxvICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudG92XCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFByZXZlbGlrbzogcHJpXHUwMTBEYWtvdmFubywgZGEgYm8gJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2cmVkbm9zdFwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFByZW1hamhubzogcHJpXHUwMTBEYWtvdmFubywgZGEgYm8gJHtpc3N1ZS5vcmlnaW59IGltZWxvICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgUHJlbWFqaG5vOiBwcmlcdTAxMERha292YW5vLCBkYSBibyAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmVsamF2ZW4gbml6OiBtb3JhIHNlIHphXHUwMTBEZXRpIHogXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdmVuIG5pejogbW9yYSBzZSBrb25cdTAxMERhdGkgeiBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdmVuIG5pejogbW9yYSB2c2Vib3ZhdGkgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdmVuIG5pejogbW9yYSB1c3RyZXphdGkgdnpvcmN1ICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmVsamF2ZW4gJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmVsamF2bm8gXHUwMTYxdGV2aWxvOiBtb3JhIGJpdGkgdmVcdTAxMERrcmF0bmlrICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXByZXBvem5hbiR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJpIGtsanVcdTAxMERpXCIgOiBcIiBrbGp1XHUwMTBEXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmVsamF2ZW4ga2xqdVx1MDEwRCB2ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk5ldmVsamF2ZW4gdm5vc1wiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZuYSB2cmVkbm9zdCB2ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk5ldmVsamF2ZW4gdm5vc1wiO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcInRlY2tlblwiLCB2ZXJiOiBcImF0dCBoYVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlc1wiLCB2ZXJiOiBcImF0dCBoYVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwib2JqZWt0XCIsIHZlcmI6IFwiYXR0IGlubmVoXHUwMEU1bGxhXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwib2JqZWt0XCIsIHZlcmI6IFwiYXR0IGlubmVoXHUwMEU1bGxhXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJhbnRhbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGlzdGFcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwicmVndWxqXHUwMEU0cnQgdXR0cnlja1wiLFxuICAgICAgICBlbWFpbDogXCJlLXBvc3RhZHJlc3NcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08tZGF0dW0gb2NoIHRpZFwiLFxuICAgICAgICBkYXRlOiBcIklTTy1kYXR1bVwiLFxuICAgICAgICB0aW1lOiBcIklTTy10aWRcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPLXZhcmFrdGlnaGV0XCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NC1pbnRlcnZhbGxcIixcbiAgICAgICAgaXB2NjogXCJJUHY2LWludGVydmFsbFwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NC1zcGVrdHJ1bVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Ni1zcGVrdHJ1bVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWtvZGFkIHN0clx1MDBFNG5nXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwta29kYWQgc3RyXHUwMEU0bmdcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTi1zdHJcdTAwRTRuZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0LW51bW1lclwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwibWFsbC1saXRlcmFsXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyBpbm1hdG5pbmc6IGZcdTAwRjZydlx1MDBFNG50YXQgJHtpc3N1ZS5leHBlY3RlZH0sIGZpY2sgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlnIGlubWF0bmluZzogZlx1MDBGNnJ2XHUwMEU0bnRhdCAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWd0IHZhbDogZlx1MDBGNnJ2XHUwMEU0bnRhZGUgZW4gYXYgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBGNnIgc3Rvcih0KTogZlx1MDBGNnJ2XHUwMEU0bnRhZGUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2XHUwMEU0cmRldFwifSBhdHQgaGEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50XCJ9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEY2ciBzdG9yKHQpOiBmXHUwMEY2cnZcdTAwRTRudGF0ICR7aXNzdWUub3JpZ2luID8/IFwidlx1MDBFNHJkZXRcIn0gYXR0IGhhICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBGNnIgbGl0ZSh0KTogZlx1MDBGNnJ2XHUwMEU0bnRhZGUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2XHUwMEU0cmRldFwifSBhdHQgaGEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEY2ciBsaXRlKHQpOiBmXHUwMEY2cnZcdTAwRTRudGFkZSAke2lzc3VlLm9yaWdpbiA/PyBcInZcdTAwRTRyZGV0XCJ9IGF0dCBoYSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyBzdHJcdTAwRTRuZzogbVx1MDBFNXN0ZSBiXHUwMEY2cmphIG1lZCBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWcgc3RyXHUwMEU0bmc6IG1cdTAwRTVzdGUgc2x1dGEgbWVkIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWcgc3RyXHUwMEU0bmc6IG1cdTAwRTVzdGUgaW5uZWhcdTAwRTVsbGEgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlnIHN0clx1MDBFNG5nOiBtXHUwMEU1c3RlIG1hdGNoYSBtXHUwMEY2bnN0cmV0IFwiJHtfaXNzdWUucGF0dGVybn1cImA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlnKHQpICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlndCB0YWw6IG1cdTAwRTVzdGUgdmFyYSBlbiBtdWx0aXBlbCBhdiAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIk9rXHUwMEU0bmRhIG55Y2tsYXJcIiA6IFwiT2tcdTAwRTRuZCBueWNrZWxcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyBueWNrZWwgaSAke2lzc3VlLm9yaWdpbiA/PyBcInZcdTAwRTRyZGV0XCJ9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiT2dpbHRpZyBpbnB1dFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZ3Qgdlx1MDBFNHJkZSBpICR7aXNzdWUub3JpZ2luID8/IFwidlx1MDBFNHJkZXRcIn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWcgaW5wdXRgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MEI4RVx1MEJCNFx1MEJDMVx1MEJBNFx1MEJDRFx1MEJBNFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NVx1MEJCM1x1MEJDRFwiLCB2ZXJiOiBcIlx1MEI5NVx1MEJDQVx1MEJBM1x1MEJDRFx1MEI5Rlx1MEJCRlx1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUwQkFBXHUwQkM4XHUwQjlGXHUwQkNEXHUwQjlGXHUwQkMxXHUwQjk1XHUwQkIzXHUwQkNEXCIsIHZlcmI6IFwiXHUwQjk1XHUwQkNBXHUwQkEzXHUwQkNEXHUwQjlGXHUwQkJGXHUwQkIwXHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRFwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwQjg5XHUwQkIxXHUwQkMxXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkMxXHUwQjk1XHUwQkIzXHUwQkNEXCIsIHZlcmI6IFwiXHUwQjk1XHUwQkNBXHUwQkEzXHUwQkNEXHUwQjlGXHUwQkJGXHUwQkIwXHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRFwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MEI4OVx1MEJCMVx1MEJDMVx1MEJBQVx1MEJDRFx1MEJBQVx1MEJDMVx1MEI5NVx1MEJCM1x1MEJDRFwiLCB2ZXJiOiBcIlx1MEI5NVx1MEJDQVx1MEJBM1x1MEJDRFx1MEI5Rlx1MEJCRlx1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiXHUwQjhFXHUwQkEzXHUwQkNEIFx1MEI4NVx1MEJCMlx1MEJDRFx1MEJCMlx1MEJCRVx1MEJBNFx1MEJBNFx1MEJDMVwiIDogXCJcdTBCOEVcdTBCQTNcdTBCQ0RcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MEI4NVx1MEJBM1x1MEJCRlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTBCQjVcdTBCQzZcdTBCQjFcdTBCQzFcdTBCQUVcdTBCQzhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MEI4OVx1MEJCM1x1MEJDRFx1MEJCM1x1MEJDMFx1MEI5Rlx1MEJDMVwiLFxuICAgICAgICBlbWFpbDogXCJcdTBCQUVcdTBCQkZcdTBCQTlcdTBCQ0RcdTBCQTlcdTBCOUVcdTBCQ0RcdTBCOUFcdTBCQjJcdTBCQ0QgXHUwQkFFXHUwQkMxXHUwQjk1XHUwQkI1XHUwQkIwXHUwQkJGXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIFx1MEJBNFx1MEJDN1x1MEJBNFx1MEJCRiBcdTBCQThcdTBCQzdcdTBCQjBcdTBCQUVcdTBCQ0RcIixcbiAgICAgICAgZGF0ZTogXCJJU08gXHUwQkE0XHUwQkM3XHUwQkE0XHUwQkJGXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIFx1MEJBOFx1MEJDN1x1MEJCMFx1MEJBRVx1MEJDRFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gXHUwQjk1XHUwQkJFXHUwQkIyIFx1MEI4NVx1MEJCM1x1MEJCNVx1MEJDMVwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgXHUwQkFFXHUwQkMxXHUwQjk1XHUwQkI1XHUwQkIwXHUwQkJGXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBcdTBCQUVcdTBCQzFcdTBCOTVcdTBCQjVcdTBCQjBcdTBCQkZcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgXHUwQkI1XHUwQkIwXHUwQkFFXHUwQkNEXHUwQkFBXHUwQkMxXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IFx1MEJCNVx1MEJCMFx1MEJBRVx1MEJDRFx1MEJBQVx1MEJDMVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWVuY29kZWQgXHUwQjlBXHUwQkIwXHUwQkFFXHUwQkNEXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwtZW5jb2RlZCBcdTBCOUFcdTBCQjBcdTBCQUVcdTBCQ0RcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBcdTBCOUFcdTBCQjBcdTBCQUVcdTBCQ0RcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBcdTBCOEVcdTBCQTNcdTBCQ0RcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImlucHV0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI4OVx1MEJCM1x1MEJDRFx1MEJCM1x1MEJDMFx1MEI5Rlx1MEJDMTogXHUwQjhFXHUwQkE0XHUwQkJGXHUwQkIwXHUwQkNEXHUwQkFBXHUwQkJFXHUwQkIwXHUwQkNEXHUwQjk1XHUwQkNEXHUwQjk1XHUwQkFBXHUwQkNEXHUwQkFBXHUwQjlGXHUwQkNEXHUwQjlGXHUwQkE0XHUwQkMxICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTBCQUFcdTBCQzZcdTBCQjFcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjg5XHUwQkIzXHUwQkNEXHUwQkIzXHUwQkMwXHUwQjlGXHUwQkMxOiBcdTBCOEVcdTBCQTRcdTBCQkZcdTBCQjBcdTBCQ0RcdTBCQUFcdTBCQkVcdTBCQjBcdTBCQ0RcdTBCOTVcdTBCQ0RcdTBCOTVcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQkI1XHUwQkJGXHUwQkIwXHUwQkMxXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkFFXHUwQkNEOiBcdTBCOEVcdTBCQTRcdTBCQkZcdTBCQjBcdTBCQ0RcdTBCQUFcdTBCQkVcdTBCQjBcdTBCQ0RcdTBCOTVcdTBCQ0RcdTBCOTVcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9IFx1MEI4N1x1MEJCMlx1MEJDRCBcdTBCOTJcdTBCQTlcdTBCQ0RcdTBCQjFcdTBCQzFgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQUVcdTBCQkZcdTBCOTUgXHUwQkFBXHUwQkM2XHUwQkIwXHUwQkJGXHUwQkFGXHUwQkE0XHUwQkMxOiBcdTBCOEVcdTBCQTRcdTBCQkZcdTBCQjBcdTBCQ0RcdTBCQUFcdTBCQkVcdTBCQjBcdTBCQ0RcdTBCOTVcdTBCQ0RcdTBCOTVcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTBCQUVcdTBCQTRcdTBCQkZcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCQzFcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTBCODlcdTBCQjFcdTBCQzFcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCQzFcdTBCOTVcdTBCQjNcdTBCQ0RcIn0gXHUwQjg2XHUwQjk1IFx1MEI4N1x1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBRVx1MEJCRlx1MEI5NSBcdTBCQUFcdTBCQzZcdTBCQjBcdTBCQkZcdTBCQUZcdTBCQTRcdTBCQzE6IFx1MEI4RVx1MEJBNFx1MEJCRlx1MEJCMFx1MEJDRFx1MEJBQVx1MEJCRVx1MEJCMFx1MEJDRFx1MEI5NVx1MEJDRFx1MEI5NVx1MEJBQVx1MEJDRFx1MEJBQVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJBNFx1MEJDMSAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MEJBRVx1MEJBNFx1MEJCRlx1MEJBQVx1MEJDRFx1MEJBQVx1MEJDMVwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gXHUwQjg2XHUwQjk1IFx1MEI4N1x1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBRVx1MEJCRlx1MEI5NVx1MEI5QVx1MEJDRCBcdTBCOUFcdTBCQkZcdTBCQjFcdTBCQkZcdTBCQUZcdTBCQTRcdTBCQzE6IFx1MEI4RVx1MEJBNFx1MEJCRlx1MEJCMFx1MEJDRFx1MEJBQVx1MEJCRVx1MEJCMFx1MEJDRFx1MEI5NVx1MEJDRFx1MEI5NVx1MEJBQVx1MEJDRFx1MEJBQVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJBNFx1MEJDMSAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9IFx1MEI4Nlx1MEI5NSBcdTBCODdcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDsgLy9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQUVcdTBCQkZcdTBCOTVcdTBCOUFcdTBCQ0QgXHUwQjlBXHUwQkJGXHUwQkIxXHUwQkJGXHUwQkFGXHUwQkE0XHUwQkMxOiBcdTBCOEVcdTBCQTRcdTBCQkZcdTBCQjBcdTBCQ0RcdTBCQUFcdTBCQkVcdTBCQjBcdTBCQ0RcdTBCOTVcdTBCQ0RcdTBCOTVcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSBcdTBCODZcdTBCOTUgXHUwQjg3XHUwQkIwXHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI5QVx1MEJCMFx1MEJBRVx1MEJDRDogXCIke19pc3N1ZS5wcmVmaXh9XCIgXHUwQjg3XHUwQkIyXHUwQkNEIFx1MEJBNFx1MEJDQVx1MEI5Rlx1MEI5OVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCOUFcdTBCQjBcdTBCQUVcdTBCQ0Q6IFwiJHtfaXNzdWUuc3VmZml4fVwiIFx1MEI4N1x1MEJCMlx1MEJDRCBcdTBCQUVcdTBCQzFcdTBCOUZcdTBCQkZcdTBCQjVcdTBCOUZcdTBCQzhcdTBCQUYgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCOUFcdTBCQjBcdTBCQUVcdTBCQ0Q6IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgXHUwQjkwIFx1MEI4OVx1MEJCM1x1MEJDRFx1MEJCM1x1MEI5Rlx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI5QVx1MEJCMFx1MEJBRVx1MEJDRDogJHtfaXNzdWUucGF0dGVybn0gXHUwQkFFXHUwQkMxXHUwQkIxXHUwQkM4XHUwQkFBXHUwQkJFXHUwQjlGXHUwQkNEXHUwQjlGXHUwQkMxXHUwQjlGXHUwQkE5XHUwQkNEIFx1MEJBQVx1MEJDQVx1MEJCMFx1MEJDMVx1MEJBOFx1MEJDRFx1MEJBNCBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjhFXHUwQkEzXHUwQkNEOiAke2lzc3VlLmRpdmlzb3J9IFx1MEI4N1x1MEJBOVx1MEJDRCBcdTBCQUFcdTBCQjJcdTBCQUVcdTBCQkVcdTBCOTUgXHUwQjg3XHUwQkIwXHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRGA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEI4NVx1MEI5Rlx1MEJDOFx1MEJBRlx1MEJCRVx1MEJCM1x1MEJBRVx1MEJDRCBcdTBCQTRcdTBCQzZcdTBCQjBcdTBCQkZcdTBCQUZcdTBCQkVcdTBCQTQgXHUwQkI1XHUwQkJGXHUwQjlBXHUwQkM4JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MEI5NVx1MEJCM1x1MEJDRFwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IFx1MEI4N1x1MEJCMlx1MEJDRCBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQkI1XHUwQkJGXHUwQjlBXHUwQkM4YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI4OVx1MEJCM1x1MEJDRFx1MEJCM1x1MEJDMFx1MEI5Rlx1MEJDMVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IFx1MEI4N1x1MEJCMlx1MEJDRCBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQkFFXHUwQkE0XHUwQkJGXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkMxYDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjg5XHUwQkIzXHUwQkNEXHUwQkIzXHUwQkMwXHUwQjlGXHUwQkMxYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTBFMTVcdTBFMzFcdTBFMjdcdTBFMkRcdTBFMzFcdTBFMDFcdTBFMjlcdTBFMjNcIiwgdmVyYjogXCJcdTBFMDRcdTBFMjdcdTBFMjNcdTBFMjFcdTBFMzVcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUwRTQ0XHUwRTFBXHUwRTE1XHUwRTRDXCIsIHZlcmI6IFwiXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1XCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTBFMjNcdTBFMzJcdTBFMjJcdTBFMDFcdTBFMzJcdTBFMjNcIiwgdmVyYjogXCJcdTBFMDRcdTBFMjdcdTBFMjNcdTBFMjFcdTBFMzVcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTBFMjNcdTBFMzJcdTBFMjJcdTBFMDFcdTBFMzJcdTBFMjNcIiwgdmVyYjogXCJcdTBFMDRcdTBFMjdcdTBFMjNcdTBFMjFcdTBFMzVcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTQzXHUwRTBBXHUwRTQ4XHUwRTE1XHUwRTMxXHUwRTI3XHUwRTQwXHUwRTI1XHUwRTAyIChOYU4pXCIgOiBcIlx1MEUxNVx1MEUzMVx1MEUyN1x1MEU0MFx1MEUyNVx1MEUwMlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwRTJEXHUwRTMyXHUwRTIzXHUwRTRDXHUwRTQwXHUwRTIzXHUwRTIyXHUwRTRDIChBcnJheSlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTIxXHUwRTM1XHUwRTA0XHUwRTQ4XHUwRTMyIChudWxsKVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTIxXHUwRTM5XHUwRTI1XHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTFCXHUwRTQ5XHUwRTJEXHUwRTE5XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MEUxN1x1MEUzNVx1MEU0OFx1MEUyRFx1MEUyMlx1MEUzOVx1MEU0OFx1MEUyRFx1MEUzNVx1MEU0MFx1MEUyMVx1MEUyNVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MEUyRFx1MEUzNFx1MEU0Mlx1MEUyMVx1MEUwOFx1MEUzNFwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTBFMjdcdTBFMzFcdTBFMTlcdTBFMTdcdTBFMzVcdTBFNDhcdTBFNDBcdTBFMjdcdTBFMjVcdTBFMzJcdTBFNDFcdTBFMUFcdTBFMUEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiXHUwRTI3XHUwRTMxXHUwRTE5XHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTQxXHUwRTFBXHUwRTFBIElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MEU0MFx1MEUyN1x1MEUyNVx1MEUzMlx1MEU0MVx1MEUxQVx1MEUxQSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUwRTBBXHUwRTQ4XHUwRTI3XHUwRTA3XHUwRTQwXHUwRTI3XHUwRTI1XHUwRTMyXHUwRTQxXHUwRTFBXHUwRTFBIElTT1wiLFxuICAgICAgICBpcHY0OiBcIlx1MEUxN1x1MEUzNVx1MEU0OFx1MEUyRFx1MEUyMlx1MEUzOVx1MEU0OCBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiXHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTJEXHUwRTIyXHUwRTM5XHUwRTQ4IElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcIlx1MEUwQVx1MEU0OFx1MEUyN1x1MEUwNyBJUCBcdTBFNDFcdTBFMUFcdTBFMUEgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiXHUwRTBBXHUwRTQ4XHUwRTI3XHUwRTA3IElQIFx1MEU0MVx1MEUxQVx1MEUxQSBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMDRcdTBFMjdcdTBFMzJcdTBFMjFcdTBFNDFcdTBFMUFcdTBFMUEgQmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMDRcdTBFMjdcdTBFMzJcdTBFMjFcdTBFNDFcdTBFMUFcdTBFMUEgQmFzZTY0IFx1MEUyQVx1MEUzM1x1MEUyQlx1MEUyM1x1MEUzMVx1MEUxQSBVUkxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTA0XHUwRTI3XHUwRTMyXHUwRTIxXHUwRTQxXHUwRTFBXHUwRTFBIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJcdTBFNDBcdTBFMUFcdTBFMkRcdTBFMjNcdTBFNENcdTBFNDJcdTBFMTdcdTBFMjNcdTBFMjhcdTBFMzFcdTBFMUVcdTBFMTdcdTBFNENcdTBFMjNcdTBFMzBcdTBFMkJcdTBFMjdcdTBFNDhcdTBFMzJcdTBFMDdcdTBFMUJcdTBFMjNcdTBFMzBcdTBFNDBcdTBFMTdcdTBFMjggKEUuMTY0KVwiLFxuICAgICAgICBqd3Q6IFwiXHUwRTQyXHUwRTE3XHUwRTQwXHUwRTA0XHUwRTE5IEpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MEUwMlx1MEU0OVx1MEUyRFx1MEUyMVx1MEUzOVx1MEUyNVx1MEUxN1x1MEUzNVx1MEU0OFx1MEUxQlx1MEU0OVx1MEUyRFx1MEUxOVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUxQlx1MEUyM1x1MEUzMFx1MEU0MFx1MEUyMFx1MEUxN1x1MEUwMlx1MEU0OVx1MEUyRFx1MEUyMVx1MEUzOVx1MEUyNVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTQwXHUwRTFCXHUwRTQ3XHUwRTE5ICR7aXNzdWUuZXhwZWN0ZWR9IFx1MEU0MVx1MEUxNVx1MEU0OFx1MEU0NFx1MEUxNFx1MEU0OVx1MEUyM1x1MEUzMVx1MEUxQSAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUwNFx1MEU0OFx1MEUzMlx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTQwXHUwRTFCXHUwRTQ3XHUwRTE5ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTE1XHUwRTMxXHUwRTI3XHUwRTQwXHUwRTI1XHUwRTM3XHUwRTJEXHUwRTAxXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFMDRcdTBFMjdcdTBFMjNcdTBFNDBcdTBFMUJcdTBFNDdcdTBFMTlcdTBFMkJcdTBFMTlcdTBFMzZcdTBFNDhcdTBFMDdcdTBFNDNcdTBFMTkgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIlx1MEU0NFx1MEUyMVx1MEU0OFx1MEU0MFx1MEUwMVx1MEUzNFx1MEUxOVwiIDogXCJcdTBFMTlcdTBFNDlcdTBFMkRcdTBFMjJcdTBFMDFcdTBFMjdcdTBFNDhcdTBFMzJcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEU0MFx1MEUwMVx1MEUzNFx1MEUxOVx1MEUwMVx1MEUzM1x1MEUyQlx1MEUxOVx1MEUxNDogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTBFMDRcdTBFNDhcdTBFMzJcIn0gXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1JHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwRTIzXHUwRTMyXHUwRTIyXHUwRTAxXHUwRTMyXHUwRTIzXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEU0MFx1MEUwMVx1MEUzNFx1MEUxOVx1MEUwMVx1MEUzM1x1MEUyQlx1MEUxOVx1MEUxNDogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTBFMDRcdTBFNDhcdTBFMzJcIn0gXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1JHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIlx1MEUyRFx1MEUyMlx1MEU0OFx1MEUzMlx1MEUwN1x1MEUxOVx1MEU0OVx1MEUyRFx1MEUyMlwiIDogXCJcdTBFMjFcdTBFMzJcdTBFMDFcdTBFMDFcdTBFMjdcdTBFNDhcdTBFMzJcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTE5XHUwRTQ5XHUwRTJEXHUwRTIyXHUwRTAxXHUwRTI3XHUwRTQ4XHUwRTMyXHUwRTAxXHUwRTMzXHUwRTJCXHUwRTE5XHUwRTE0OiAke2lzc3VlLm9yaWdpbn0gXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1JHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTE5XHUwRTQ5XHUwRTJEXHUwRTIyXHUwRTAxXHUwRTI3XHUwRTQ4XHUwRTMyXHUwRTAxXHUwRTMzXHUwRTJCXHUwRTE5XHUwRTE0OiAke2lzc3VlLm9yaWdpbn0gXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1JHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMjNcdTBFMzlcdTBFMUJcdTBFNDFcdTBFMUFcdTBFMUFcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUwMlx1MEU0OVx1MEUyRFx1MEUwNFx1MEUyN1x1MEUzMlx1MEUyMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN1x1MEUwMlx1MEUzNlx1MEU0OVx1MEUxOVx1MEUxNVx1MEU0OVx1MEUxOVx1MEUxNFx1MEU0OVx1MEUyN1x1MEUyMiBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUyM1x1MEUzOVx1MEUxQlx1MEU0MVx1MEUxQVx1MEUxQVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTA0XHUwRTI3XHUwRTMyXHUwRTIxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3XHUwRTI1XHUwRTA3XHUwRTE3XHUwRTQ5XHUwRTMyXHUwRTIyXHUwRTE0XHUwRTQ5XHUwRTI3XHUwRTIyIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUyM1x1MEUzOVx1MEUxQlx1MEU0MVx1MEUxQVx1MEUxQVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTA0XHUwRTI3XHUwRTMyXHUwRTIxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3XHUwRTIxXHUwRTM1IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgXHUwRTJEXHUwRTIyXHUwRTM5XHUwRTQ4XHUwRTQzXHUwRTE5XHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTA0XHUwRTI3XHUwRTMyXHUwRTIxYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUyM1x1MEUzOVx1MEUxQlx1MEU0MVx1MEUxQVx1MEUxQVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3XHUwRTE1XHUwRTIzXHUwRTA3XHUwRTAxXHUwRTMxXHUwRTFBXHUwRTIzXHUwRTM5XHUwRTFCXHUwRTQxXHUwRTFBXHUwRTFBXHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTAxXHUwRTMzXHUwRTJCXHUwRTE5XHUwRTE0ICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUyM1x1MEUzOVx1MEUxQlx1MEU0MVx1MEUxQVx1MEUxQVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUxNVx1MEUzMVx1MEUyN1x1MEU0MFx1MEUyNVx1MEUwMlx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3XHUwRTQwXHUwRTFCXHUwRTQ3XHUwRTE5XHUwRTA4XHUwRTMzXHUwRTE5XHUwRTI3XHUwRTE5XHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTJCXHUwRTMyXHUwRTIzXHUwRTE0XHUwRTQ5XHUwRTI3XHUwRTIyICR7aXNzdWUuZGl2aXNvcn0gXHUwRTQ0XHUwRTE0XHUwRTQ5XHUwRTI1XHUwRTA3XHUwRTE1XHUwRTMxXHUwRTI3YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTFFXHUwRTFBXHUwRTA0XHUwRTM1XHUwRTIyXHUwRTRDXHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTIzXHUwRTM5XHUwRTQ5XHUwRTA4XHUwRTMxXHUwRTAxOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUwNFx1MEUzNVx1MEUyMlx1MEU0Q1x1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN1x1MEU0M1x1MEUxOSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMjFcdTBFMzlcdTBFMjVcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNVx1MEUyM1x1MEUwN1x1MEUwMVx1MEUzMVx1MEUxQVx1MEUyM1x1MEUzOVx1MEUxQlx1MEU0MVx1MEUxQVx1MEUxQVx1MEUyMlx1MEUzOVx1MEU0MFx1MEUxOVx1MEUzNVx1MEUyMlx1MEUxOVx1MEUxN1x1MEUzNVx1MEU0OFx1MEUwMVx1MEUzM1x1MEUyQlx1MEUxOVx1MEUxNFx1MEU0NFx1MEUyN1x1MEU0OVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTIxXHUwRTM5XHUwRTI1XHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3XHUwRTQzXHUwRTE5ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTIxXHUwRTM5XHUwRTI1XHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJrYXJha3RlclwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJheXRcIiwgdmVyYjogXCJvbG1hbFx1MDEzMVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwMEY2XHUwMTFGZVwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwMEY2XHUwMTFGZVwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiZ2lyZGlcIixcbiAgICAgICAgZW1haWw6IFwiZS1wb3N0YSBhZHJlc2lcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gdGFyaWggdmUgc2FhdFwiLFxuICAgICAgICBkYXRlOiBcIklTTyB0YXJpaFwiLFxuICAgICAgICB0aW1lOiBcIklTTyBzYWF0XCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBzXHUwMEZDcmVcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IGFkcmVzaVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgYWRyZXNpXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IGFyYWxcdTAxMzFcdTAxMUZcdTAxMzFcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgYXJhbFx1MDEzMVx1MDExRlx1MDEzMVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0IGlsZSBcdTAxNUZpZnJlbGVubWlcdTAxNUYgbWV0aW5cIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybCBpbGUgXHUwMTVGaWZyZWxlbm1pXHUwMTVGIG1ldGluXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gZGl6ZXNpXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgc2F5XHUwMTMxc1x1MDEzMVwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwMTVFYWJsb24gZGl6ZXNpXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBkZVx1MDExRmVyOiBiZWtsZW5lbiAke2lzc3VlLmV4cGVjdGVkfSwgYWxcdTAxMzFuYW4gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IGRlXHUwMTFGZXI6IGJla2xlbmVuICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBzZVx1MDBFN2VuZWs6IGFcdTAxNUZhXHUwMTFGXHUwMTMxZGFraWxlcmRlbiBiaXJpIG9sbWFsXHUwMTMxOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM3b2sgYlx1MDBGQ3lcdTAwRkNrOiBiZWtsZW5lbiAke2lzc3VlLm9yaWdpbiA/PyBcImRlXHUwMTFGZXJcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTAwRjZcdTAxMUZlXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDN29rIGJcdTAwRkN5XHUwMEZDazogYmVrbGVuZW4gJHtpc3N1ZS5vcmlnaW4gPz8gXCJkZVx1MDExRmVyXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDN29rIGtcdTAwRkNcdTAwRTdcdTAwRkNrOiBiZWtsZW5lbiAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDN29rIGtcdTAwRkNcdTAwRTdcdTAwRkNrOiBiZWtsZW5lbiAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IG1ldGluOiBcIiR7X2lzc3VlLnByZWZpeH1cIiBpbGUgYmFcdTAxNUZsYW1hbFx1MDEzMWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBtZXRpbjogXCIke19pc3N1ZS5zdWZmaXh9XCIgaWxlIGJpdG1lbGlgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBtZXRpbjogXCIke19pc3N1ZS5pbmNsdWRlc31cIiBpXHUwMEU3ZXJtZWxpYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEdlXHUwMEU3ZXJzaXogbWV0aW46ICR7X2lzc3VlLnBhdHRlcm59IGRlc2VuaW5lIHV5bWFsXHUwMTMxYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEdlXHUwMEU3ZXJzaXogJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEdlXHUwMEU3ZXJzaXogc2F5XHUwMTMxOiAke2lzc3VlLmRpdmlzb3J9IGlsZSB0YW0gYlx1MDBGNmxcdTAwRkNuZWJpbG1lbGlgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUYW5cdTAxMzFubWF5YW4gYW5haHRhciR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJsYXJcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBpXHUwMEU3aW5kZSBnZVx1MDBFN2Vyc2l6IGFuYWh0YXJgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJHZVx1MDBFN2Vyc2l6IGRlXHUwMTFGZXJcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBpXHUwMEU3aW5kZSBnZVx1MDBFN2Vyc2l6IGRlXHUwMTFGZXJgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEdlXHUwMEU3ZXJzaXogZGVcdTAxMUZlcmA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUwNDQxXHUwNDM4XHUwNDNDXHUwNDMyXHUwNDNFXHUwNDNCXHUwNDU2XHUwNDMyXCIsIHZlcmI6IFwiXHUwNDNDXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDNDXHUwNDM1XCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MDQzMVx1MDQzMFx1MDQzOVx1MDQ0Mlx1MDQ1Nlx1MDQzMlwiLCB2ZXJiOiBcIlx1MDQzQ1x1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQzQ1x1MDQzNVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwNDM1XHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDU2XHUwNDMyXCIsIHZlcmI6IFwiXHUwNDNDXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDNDXHUwNDM1XCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwNDM1XHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDU2XHUwNDMyXCIsIHZlcmI6IFwiXHUwNDNDXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDNDXHUwNDM1XCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA0NDdcdTA0MzhcdTA0NDFcdTA0M0JcdTA0M0VcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDQzQ1x1MDQzMFx1MDQ0MVx1MDQzOFx1MDQzMlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA0MzJcdTA0NDVcdTA0NTZcdTA0MzRcdTA0M0RcdTA0NTYgXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDU2XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVx1MDQzMCBcdTA0MzVcdTA0M0JcdTA0MzVcdTA0M0FcdTA0NDJcdTA0NDBcdTA0M0VcdTA0M0RcdTA0M0RcdTA0M0VcdTA0NTcgXHUwNDNGXHUwNDNFXHUwNDQ4XHUwNDQyXHUwNDM4XCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNDM1XHUwNDNDXHUwNDNFXHUwNDM0XHUwNDM3XHUwNDU2XCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIlx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQzMCBcdTA0NDJcdTA0MzAgXHUwNDQ3XHUwNDMwXHUwNDQxIElTT1wiLFxuICAgICAgICBkYXRlOiBcIlx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQzMCBJU09cIixcbiAgICAgICAgdGltZTogXCJcdTA0NDdcdTA0MzBcdTA0NDEgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MDQ0Mlx1MDQ0MFx1MDQzOFx1MDQzMlx1MDQzMFx1MDQzQlx1MDQ1Nlx1MDQ0MVx1MDQ0Mlx1MDQ0QyBJU09cIixcbiAgICAgICAgaXB2NDogXCJcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzVcdTA0NDFcdTA0MzAgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcIlx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVx1MDQzMCBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJcdTA0MzRcdTA0NTZcdTA0MzBcdTA0M0ZcdTA0MzBcdTA0MzdcdTA0M0VcdTA0M0QgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiXHUwNDM0XHUwNDU2XHUwNDMwXHUwNDNGXHUwNDMwXHUwNDM3XHUwNDNFXHUwNDNEIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MDQ0MFx1MDQ0Rlx1MDQzNFx1MDQzRVx1MDQzQSBcdTA0NDMgXHUwNDNBXHUwNDNFXHUwNDM0XHUwNDQzXHUwNDMyXHUwNDMwXHUwNDNEXHUwNDNEXHUwNDU2IGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUwNDQwXHUwNDRGXHUwNDM0XHUwNDNFXHUwNDNBIFx1MDQ0MyBcdTA0M0FcdTA0M0VcdTA0MzRcdTA0NDNcdTA0MzJcdTA0MzBcdTA0M0RcdTA0M0RcdTA0NTYgYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIlx1MDQ0MFx1MDQ0Rlx1MDQzNFx1MDQzRVx1MDQzQSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwNDNEXHUwNDNFXHUwNDNDXHUwNDM1XHUwNDQwIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTA0MzJcdTA0NDVcdTA0NTZcdTA0MzRcdTA0M0RcdTA0NTYgXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDU2XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDU2IFx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTY6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiAke2lzc3VlLmV4cGVjdGVkfSwgXHUwNDNFXHUwNDQyXHUwNDQwXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDNEXHUwNDNFICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIC8vIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDU2IFx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTY6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiAke2lzc3VlLmV4cGVjdGVkfSwgXHUwNDNFXHUwNDQyXHUwNDQwXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDNEXHUwNDNFICR7dXRpbC5nZXRQYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0NTYgXHUwNDMyXHUwNDQ1XHUwNDU2XHUwNDM0XHUwNDNEXHUwNDU2IFx1MDQzNFx1MDQzMFx1MDQzRFx1MDQ1NjogXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDU0XHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDMwIFx1MDQzRVx1MDQzRlx1MDQ0Nlx1MDQ1Nlx1MDQ0RjogXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDU0XHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGIFx1MDQzRVx1MDQzNFx1MDQzRFx1MDQzNSBcdTA0MzcgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzRSBcdTA0MzJcdTA0MzVcdTA0M0JcdTA0MzhcdTA0M0FcdTA0MzU6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiwgXHUwNDQ5XHUwNDNFICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGXCJ9ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwNDM1XHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDU2XHUwNDMyXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzRSBcdTA0MzJcdTA0MzVcdTA0M0JcdTA0MzhcdTA0M0FcdTA0MzU6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiwgXHUwNDQ5XHUwNDNFICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGXCJ9IFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQzNSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzRSBcdTA0M0NcdTA0MzBcdTA0M0JcdTA0MzU6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiwgXHUwNDQ5XHUwNDNFICR7aXNzdWUub3JpZ2lufSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzRSBcdTA0M0NcdTA0MzBcdTA0M0JcdTA0MzU6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiwgXHUwNDQ5XHUwNDNFICR7aXNzdWUub3JpZ2lufSBcdTA0MzFcdTA0NDNcdTA0MzRcdTA0MzUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDQwXHUwNDRGXHUwNDM0XHUwNDNFXHUwNDNBOiBcdTA0M0ZcdTA0M0VcdTA0MzJcdTA0MzhcdTA0M0RcdTA0MzVcdTA0M0QgXHUwNDNGXHUwNDNFXHUwNDQ3XHUwNDM4XHUwNDNEXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDRGIFx1MDQzNyBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDM5IFx1MDQ0MFx1MDQ0Rlx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDM4XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzN1x1MDQzMFx1MDQzQVx1MDQ1Nlx1MDQzRFx1MDQ0N1x1MDQ0M1x1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQ0MVx1MDQ0RiBcdTA0M0RcdTA0MzAgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDM5IFx1MDQ0MFx1MDQ0Rlx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDM4XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzQ1x1MDQ1Nlx1MDQ0MVx1MDQ0Mlx1MDQzOFx1MDQ0Mlx1MDQzOCBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0NDBcdTA0NEZcdTA0MzRcdTA0M0VcdTA0M0E6IFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQzOFx1MDQzRFx1MDQzNVx1MDQzRCBcdTA0MzJcdTA0NTZcdTA0MzRcdTA0M0ZcdTA0M0VcdTA0MzJcdTA0NTZcdTA0MzRcdTA0MzBcdTA0NDJcdTA0MzggXHUwNDQ4XHUwNDMwXHUwNDMxXHUwNDNCXHUwNDNFXHUwNDNEXHUwNDQzICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM1IFx1MDQ0N1x1MDQzOFx1MDQ0MVx1MDQzQlx1MDQzRTogXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDM4XHUwNDNEXHUwNDNEXHUwNDNFIFx1MDQzMVx1MDQ0M1x1MDQ0Mlx1MDQzOCBcdTA0M0FcdTA0NDBcdTA0MzBcdTA0NDJcdTA0M0RcdTA0MzhcdTA0M0MgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQ0MFx1MDQzRVx1MDQzN1x1MDQzRlx1MDQ1Nlx1MDQzN1x1MDQzRFx1MDQzMFx1MDQzRFx1MDQzOFx1MDQzOSBcdTA0M0FcdTA0M0JcdTA0NEVcdTA0NDcke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNDU2XCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDNBXHUwNDNCXHUwNDRFXHUwNDQ3IFx1MDQ0MyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0NTYgXHUwNDMyXHUwNDQ1XHUwNDU2XHUwNDM0XHUwNDNEXHUwNDU2IFx1MDQzNFx1MDQzMFx1MDQzRFx1MDQ1NlwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM1IFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0RiBcdTA0NDMgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0NTYgXHUwNDMyXHUwNDQ1XHUwNDU2XHUwNDM0XHUwNDNEXHUwNDU2IFx1MDQzNFx1MDQzMFx1MDQzRFx1MDQ1NmA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCB1ayBmcm9tIFwiLi91ay5qc1wiO1xuLyoqIEBkZXByZWNhdGVkIFVzZSBgdWtgIGluc3RlYWQuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHVrKCk7XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTA2MkRcdTA2MzFcdTA2NDhcdTA2NDFcIiwgdmVyYjogXCJcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjdcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUwNjI4XHUwNjI3XHUwNjI2XHUwNjc5XHUwNjMzXCIsIHZlcmI6IFwiXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3XCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTA2MjJcdTA2MjZcdTA2NzlcdTA2NDVcdTA2MzJcIiwgdmVyYjogXCJcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjdcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTA2MjJcdTA2MjZcdTA2NzlcdTA2NDVcdTA2MzJcIiwgdmVyYjogXCJcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjdcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MDY0Nlx1MDY0NVx1MDYyOFx1MDYzMVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNjIyXHUwNjMxXHUwNkQyXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDY0Nlx1MDY0NFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNjI3XHUwNjQ2IFx1MDY3RVx1MDY3OVwiLFxuICAgICAgICBlbWFpbDogXCJcdTA2MjdcdTA2Q0MgXHUwNjQ1XHUwNkNDXHUwNjQ0IFx1MDYyN1x1MDZDQ1x1MDY4OFx1MDYzMVx1MDZDQ1x1MDYzM1wiLFxuICAgICAgICB1cmw6IFwiXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYzMSBcdTA2MjdcdTA2Q0NcdTA2NDRcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNjI3XHUwNkNDXHUwNjQ1XHUwNjQ4XHUwNjJDXHUwNkNDXCIsXG4gICAgICAgIHV1aWQ6IFwiXHUwNkNDXHUwNjQ4IFx1MDZDQ1x1MDY0OCBcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjg4XHUwNkNDXCIsXG4gICAgICAgIHV1aWR2NDogXCJcdTA2Q0NcdTA2NDggXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0MgXHUwNjQ4XHUwNkNDIDRcIixcbiAgICAgICAgdXVpZHY2OiBcIlx1MDZDQ1x1MDY0OCBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQyBcdTA2NDhcdTA2Q0MgNlwiLFxuICAgICAgICBuYW5vaWQ6IFwiXHUwNjQ2XHUwNkNDXHUwNjQ2XHUwNjQ4IFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0NcIixcbiAgICAgICAgZ3VpZDogXCJcdTA2MkNcdTA2Q0MgXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0NcIixcbiAgICAgICAgY3VpZDogXCJcdTA2MzNcdTA2Q0MgXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0NcIixcbiAgICAgICAgY3VpZDI6IFwiXHUwNjMzXHUwNkNDIFx1MDZDQ1x1MDY0OCBcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjg4XHUwNkNDIDJcIixcbiAgICAgICAgdWxpZDogXCJcdTA2Q0NcdTA2NDggXHUwNjI3XHUwNkNDXHUwNjQ0IFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0NcIixcbiAgICAgICAgeGlkOiBcIlx1MDYyN1x1MDZDQ1x1MDZBOVx1MDYzMyBcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjg4XHUwNkNDXCIsXG4gICAgICAgIGtzdWlkOiBcIlx1MDZBOVx1MDZEMiBcdTA2MjdcdTA2Q0NcdTA2MzMgXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0NcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDYyN1x1MDZDQ1x1MDYzMyBcdTA2MjdcdTA2NDggXHUwNjg4XHUwNkNDXHUwNjc5IFx1MDY3OVx1MDYyN1x1MDYyNlx1MDY0NVwiLFxuICAgICAgICBkYXRlOiBcIlx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2MjdcdTA2Q0NcdTA2MzMgXHUwNjI3XHUwNjQ4IFx1MDYyQVx1MDYyN1x1MDYzMVx1MDZDQ1x1MDYyRVwiLFxuICAgICAgICB0aW1lOiBcIlx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2MjdcdTA2Q0NcdTA2MzMgXHUwNjI3XHUwNjQ4IFx1MDY0OFx1MDY0Mlx1MDYyQVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjI3XHUwNkNDXHUwNjMzIFx1MDYyN1x1MDY0OCBcdTA2NDVcdTA2MkZcdTA2MkFcIixcbiAgICAgICAgaXB2NDogXCJcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjdFXHUwNkNDIFx1MDY0OFx1MDZDQyA0IFx1MDYyN1x1MDZDQ1x1MDY4OFx1MDYzMVx1MDZDQ1x1MDYzM1wiLFxuICAgICAgICBpcHY2OiBcIlx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2N0VcdTA2Q0MgXHUwNjQ4XHUwNkNDIDYgXHUwNjI3XHUwNkNDXHUwNjg4XHUwNjMxXHUwNkNDXHUwNjMzXCIsXG4gICAgICAgIGNpZHJ2NDogXCJcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjdFXHUwNkNDIFx1MDY0OFx1MDZDQyA0IFx1MDYzMVx1MDZDQ1x1MDY0Nlx1MDYyQ1wiLFxuICAgICAgICBjaWRydjY6IFwiXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY3RVx1MDZDQyBcdTA2NDhcdTA2Q0MgNiBcdTA2MzFcdTA2Q0NcdTA2NDZcdTA2MkNcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MDYyOFx1MDZDQ1x1MDYzMyA2NCBcdTA2MjdcdTA2NDYgXHUwNkE5XHUwNjQ4XHUwNjg4XHUwNjg4IFx1MDYzM1x1MDY3OVx1MDYzMVx1MDY0Nlx1MDZBRlwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUwNjI4XHUwNkNDXHUwNjMzIDY0IFx1MDZDQ1x1MDY0OCBcdTA2MjJcdTA2MzEgXHUwNjI3XHUwNkNDXHUwNjQ0IFx1MDYyN1x1MDY0NiBcdTA2QTlcdTA2NDhcdTA2ODhcdTA2ODggXHUwNjMzXHUwNjc5XHUwNjMxXHUwNjQ2XHUwNkFGXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIlx1MDYyQ1x1MDZEMiBcdTA2MjdcdTA2Q0NcdTA2MzMgXHUwNjI3XHUwNjQ4IFx1MDYyN1x1MDZDQ1x1MDY0NiBcdTA2MzNcdTA2NzlcdTA2MzFcdTA2NDZcdTA2QUZcIixcbiAgICAgICAgZTE2NDogXCJcdTA2MjdcdTA2Q0MgMTY0IFx1MDY0Nlx1MDY0NVx1MDYyOFx1MDYzMVwiLFxuICAgICAgICBqd3Q6IFwiXHUwNjJDXHUwNkQyIFx1MDY4OFx1MDYyOFx1MDY0NFx1MDZDQ1x1MDY0OCBcdTA2NzlcdTA2Q0NcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTA2MjdcdTA2NDYgXHUwNjdFXHUwNjc5XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYyN1x1MDY0NiBcdTA2N0VcdTA2Nzk6ICR7aXNzdWUuZXhwZWN0ZWR9IFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2MjdcdTA2MEMgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX0gXHUwNjQ1XHUwNjQ4XHUwNjM1XHUwNjQ4XHUwNjQ0IFx1MDZDMVx1MDY0OFx1MDYyN2A7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MjdcdTA2NDYgXHUwNjdFXHUwNjc5OiAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9IFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2MjdgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYyMlx1MDY3RVx1MDYzNFx1MDY0NjogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9IFx1MDY0NVx1MDZDQ1x1MDZCQSBcdTA2MzNcdTA2RDIgXHUwNjI3XHUwNkNDXHUwNkE5IFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2MjdgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjI4XHUwNkMxXHUwNjJBIFx1MDYyOFx1MDY5MVx1MDYyNzogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA2NDhcdTA2Q0NcdTA2NDRcdTA2Q0NcdTA2NDhcIn0gXHUwNkE5XHUwNkQyICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwNjM5XHUwNjQ2XHUwNjI3XHUwNjM1XHUwNjMxXCJ9IFx1MDZDMVx1MDY0OFx1MDY0Nlx1MDZEMiBcdTA2NDVcdTA2MkFcdTA2NDhcdTA2NDJcdTA2MzkgXHUwNjJBXHUwNkJFXHUwNkQyYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyOFx1MDZDMVx1MDYyQSBcdTA2MjhcdTA2OTFcdTA2Mjc6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNjQ4XHUwNkNDXHUwNjQ0XHUwNkNDXHUwNjQ4XCJ9IFx1MDZBOVx1MDYyNyAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3IFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2MjdgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyOFx1MDZDMVx1MDYyQSBcdTA2ODZcdTA2QkVcdTA2NDhcdTA2NzlcdTA2Mjc6ICR7aXNzdWUub3JpZ2lufSBcdTA2QTlcdTA2RDIgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9IFx1MDZDMVx1MDY0OFx1MDY0Nlx1MDZEMiBcdTA2NDVcdTA2MkFcdTA2NDhcdTA2NDJcdTA2MzkgXHUwNjJBXHUwNkJFXHUwNkQyYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MjhcdTA2QzFcdTA2MkEgXHUwNjg2XHUwNkJFXHUwNjQ4XHUwNjc5XHUwNjI3OiAke2lzc3VlLm9yaWdpbn0gXHUwNkE5XHUwNjI3ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSBcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjcgXHUwNjQ1XHUwNjJBXHUwNjQ4XHUwNjQyXHUwNjM5IFx1MDYyQVx1MDZCRVx1MDYyN2A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjMzXHUwNjc5XHUwNjMxXHUwNjQ2XHUwNkFGOiBcIiR7X2lzc3VlLnByZWZpeH1cIiBcdTA2MzNcdTA2RDIgXHUwNjM0XHUwNjMxXHUwNjQ4XHUwNjM5IFx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyNyBcdTA2ODZcdTA2MjdcdTA2QzFcdTA2Q0NcdTA2RDJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjMzXHUwNjc5XHUwNjMxXHUwNjQ2XHUwNkFGOiBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBcdTA2N0VcdTA2MzEgXHUwNjJFXHUwNjJBXHUwNjQ1IFx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyNyBcdTA2ODZcdTA2MjdcdTA2QzFcdTA2Q0NcdTA2RDJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYzM1x1MDY3OVx1MDYzMVx1MDY0Nlx1MDZBRjogXCIke19pc3N1ZS5pbmNsdWRlc31cIiBcdTA2MzRcdTA2MjdcdTA2NDVcdTA2NDQgXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3IFx1MDY4Nlx1MDYyN1x1MDZDMVx1MDZDQ1x1MDZEMmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjMzXHUwNjc5XHUwNjMxXHUwNjQ2XHUwNkFGOiBcdTA2N0VcdTA2Q0NcdTA2NzlcdTA2MzFcdTA2NDYgJHtfaXNzdWUucGF0dGVybn0gXHUwNjMzXHUwNkQyIFx1MDY0NVx1MDZDQ1x1MDY4NiBcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjcgXHUwNjg2XHUwNjI3XHUwNkMxXHUwNkNDXHUwNkQyYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDY0Nlx1MDY0NVx1MDYyOFx1MDYzMTogJHtpc3N1ZS5kaXZpc29yfSBcdTA2QTlcdTA2MjcgXHUwNjQ1XHUwNjM2XHUwNjI3XHUwNjM5XHUwNjQxIFx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyNyBcdTA2ODZcdTA2MjdcdTA2QzFcdTA2Q0NcdTA2RDJgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2Q0NcdTA2MzEgXHUwNjJBXHUwNjMzXHUwNjQ0XHUwNkNDXHUwNjQ1IFx1MDYzNFx1MDYyRlx1MDZDMSBcdTA2QTlcdTA2Q0Mke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNjMyXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCJcdTA2MEMgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBcdTA2NDVcdTA2Q0NcdTA2QkEgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDZBOVx1MDZDQ2A7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MjdcdTA2NDYgXHUwNjdFXHUwNjc5XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gXHUwNjQ1XHUwNkNDXHUwNkJBIFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2NDhcdTA2Q0NcdTA2NDRcdTA2Q0NcdTA2NDhgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MjdcdTA2NDYgXHUwNjdFXHUwNjc5YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJrXHUwMEZEIHRcdTFFRjFcIiwgdmVyYjogXCJjXHUwMEYzXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVcIiwgdmVyYjogXCJjXHUwMEYzXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJwaFx1MUVBN24gdFx1MUVFRFwiLCB2ZXJiOiBcImNcdTAwRjNcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJwaFx1MUVBN24gdFx1MUVFRFwiLCB2ZXJiOiBcImNcdTAwRjNcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcInNcdTFFRDFcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1cdTFFQTNuZ1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTAxMTFcdTFFQTd1IHZcdTAwRTBvXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDExMVx1MUVDQmEgY2hcdTFFQzkgZW1haWxcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJuZ1x1MDBFMHkgZ2lcdTFFREQgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwibmdcdTAwRTB5IElTT1wiLFxuICAgICAgICB0aW1lOiBcImdpXHUxRUREIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJraG9cdTFFQTNuZyB0aFx1MUVERGkgZ2lhbiBJU09cIixcbiAgICAgICAgaXB2NDogXCJcdTAxMTFcdTFFQ0JhIGNoXHUxRUM5IElQdjRcIixcbiAgICAgICAgaXB2NjogXCJcdTAxMTFcdTFFQ0JhIGNoXHUxRUM5IElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcImRcdTFFQTNpIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcImRcdTFFQTNpIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcImNodVx1MUVEN2kgbVx1MDBFMyBoXHUwMEYzYSBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImNodVx1MUVEN2kgbVx1MDBFMyBoXHUwMEYzYSBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiY2h1XHUxRUQ3aSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwic1x1MUVEMSBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwMTExXHUxRUE3dSB2XHUwMEUwb1wiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDExMFx1MUVBN3Ugdlx1MDBFMG8ga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBtb25nIFx1MDExMVx1MUVFM2kgJHtpc3N1ZS5leHBlY3RlZH0sIG5oXHUxRUFEbiBcdTAxMTFcdTAxQjBcdTFFRTNjICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMTEwXHUxRUE3dSB2XHUwMEUwbyBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzc6IG1vbmcgXHUwMTExXHUxRUUzaSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRcdTAwRjl5IGNoXHUxRUNEbiBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzc6IG1vbmcgXHUwMTExXHUxRUUzaSBtXHUxRUQ5dCB0cm9uZyBjXHUwMEUxYyBnaVx1MDBFMSB0clx1MUVDQiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgUXVcdTAwRTEgbFx1MUVEQm46IG1vbmcgXHUwMTExXHUxRUUzaSAke2lzc3VlLm9yaWdpbiA/PyBcImdpXHUwMEUxIHRyXHUxRUNCXCJ9ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwicGhcdTFFQTduIHRcdTFFRURcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgUXVcdTAwRTEgbFx1MUVEQm46IG1vbmcgXHUwMTExXHUxRUUzaSAke2lzc3VlLm9yaWdpbiA/PyBcImdpXHUwMEUxIHRyXHUxRUNCXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgUXVcdTAwRTEgbmhcdTFFQ0Y6IG1vbmcgXHUwMTExXHUxRUUzaSAke2lzc3VlLm9yaWdpbn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBRdVx1MDBFMSBuaFx1MUVDRjogbW9uZyBcdTAxMTFcdTFFRTNpICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENodVx1MUVEN2kga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBwaFx1MUVBM2kgYlx1MUVBRnQgXHUwMTExXHUxRUE3dSBiXHUxRUIxbmcgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENodVx1MUVEN2kga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBwaFx1MUVBM2kga1x1MUVCRnQgdGhcdTAwRkFjIGJcdTFFQjFuZyBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaHVcdTFFRDdpIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNzogcGhcdTFFQTNpIGJhbyBnXHUxRUQzbSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENodVx1MUVEN2kga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBwaFx1MUVBM2kga2hcdTFFREJwIHZcdTFFREJpIG1cdTFFQUJ1ICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzdgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgU1x1MUVEMSBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzc6IHBoXHUxRUEzaSBsXHUwMEUwIGJcdTFFRDlpIHNcdTFFRDEgY1x1MUVFN2EgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEtoXHUwMEYzYSBraFx1MDBGNG5nIFx1MDExMVx1MDFCMFx1MUVFM2MgbmhcdTFFQURuIGRcdTFFQTFuZzogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLaFx1MDBGM2Ega2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3IHRyb25nICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDExMFx1MUVBN3Ugdlx1MDBFMG8ga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBHaVx1MDBFMSB0clx1MUVDQiBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzcgdHJvbmcgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAxMTBcdTFFQTd1IHZcdTAwRTBvIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDN2A7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHU1QjU3XHU3QjI2XCIsIHZlcmI6IFwiXHU1MzA1XHU1NDJCXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1NUI1N1x1ODI4MlwiLCB2ZXJiOiBcIlx1NTMwNVx1NTQyQlwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHU5ODc5XCIsIHZlcmI6IFwiXHU1MzA1XHU1NDJCXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHU5ODc5XCIsIHZlcmI6IFwiXHU1MzA1XHU1NDJCXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIlx1OTc1RVx1NjU3MFx1NUI1NyhOYU4pXCIgOiBcIlx1NjU3MFx1NUI1N1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHU2NTcwXHU3RUM0XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1N0E3QVx1NTAzQyhudWxsKVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHU4RjkzXHU1MTY1XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1NzUzNVx1NUI1MFx1OTBBRVx1NEVGNlwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1ODg2OFx1NjBDNVx1N0IyNlx1NTNGN1wiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU09cdTY1RTVcdTY3MUZcdTY1RjZcdTk1RjRcIixcbiAgICAgICAgZGF0ZTogXCJJU09cdTY1RTVcdTY3MUZcIixcbiAgICAgICAgdGltZTogXCJJU09cdTY1RjZcdTk1RjRcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPXHU2NUY2XHU5NTdGXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NFx1NTczMFx1NTc0MFwiLFxuICAgICAgICBpcHY2OiBcIklQdjZcdTU3MzBcdTU3NDBcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjRcdTdGNTFcdTZCQjVcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjZcdTdGNTFcdTZCQjVcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NFx1N0YxNlx1NzgwMVx1NUI1N1x1N0IyNlx1NEUzMlwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsXHU3RjE2XHU3ODAxXHU1QjU3XHU3QjI2XHU0RTMyXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT05cdTVCNTdcdTdCMjZcdTRFMzJcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NFx1NTNGN1x1NzgwMVwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHU4RjkzXHU1MTY1XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU4RjkzXHU1MTY1XHVGRjFBXHU2NzFGXHU2NzFCICR7aXNzdWUuZXhwZWN0ZWR9XHVGRjBDXHU1QjlFXHU5NjQ1XHU2M0E1XHU2NTM2ICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU4RjkzXHU1MTY1XHVGRjFBXHU2NzFGXHU2NzFCICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU5MDA5XHU5ODc5XHVGRjFBXHU2NzFGXHU2NzFCXHU0RUU1XHU0RTBCXHU0RTRCXHU0RTAwICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1NzBcdTUwM0NcdThGQzdcdTU5MjdcdUZGMUFcdTY3MUZcdTY3MUIgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTUwM0NcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTRFMkFcdTUxNDNcdTdEMjBcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NTcwXHU1MDNDXHU4RkM3XHU1OTI3XHVGRjFBXHU2NzFGXHU2NzFCICR7aXNzdWUub3JpZ2luID8/IFwiXHU1MDNDXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NTcwXHU1MDNDXHU4RkM3XHU1QzBGXHVGRjFBXHU2NzFGXHU2NzFCICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjU3MFx1NTAzQ1x1OEZDN1x1NUMwRlx1RkYxQVx1NjcxRlx1NjcxQiAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1RTBcdTY1NDhcdTVCNTdcdTdCMjZcdTRFMzJcdUZGMUFcdTVGQzVcdTk4N0JcdTRFRTUgXCIke19pc3N1ZS5wcmVmaXh9XCIgXHU1RjAwXHU1OTM0YDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1RTBcdTY1NDhcdTVCNTdcdTdCMjZcdTRFMzJcdUZGMUFcdTVGQzVcdTk4N0JcdTRFRTUgXCIke19pc3N1ZS5zdWZmaXh9XCIgXHU3RUQzXHU1QzNFYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OFx1NUI1N1x1N0IyNlx1NEUzMlx1RkYxQVx1NUZDNVx1OTg3Qlx1NTMwNVx1NTQyQiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OFx1NUI1N1x1N0IyNlx1NEUzMlx1RkYxQVx1NUZDNVx1OTg3Qlx1NkVFMVx1OERCM1x1NkI2M1x1NTIxOVx1ODg2OFx1OEZCRVx1NUYwRiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1RTBcdTY1NDgke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU2NTcwXHU1QjU3XHVGRjFBXHU1RkM1XHU5ODdCXHU2NjJGICR7aXNzdWUuZGl2aXNvcn0gXHU3Njg0XHU1MDBEXHU2NTcwYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU1MUZBXHU3M0IwXHU2NzJBXHU3N0U1XHU3Njg0XHU5NTJFKGtleSk6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IFx1NEUyRFx1NzY4NFx1OTUyRShrZXkpXHU2NUUwXHU2NTQ4YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHU2NUUwXHU2NTQ4XHU4RjkzXHU1MTY1XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gXHU0RTJEXHU1MzA1XHU1NDJCXHU2NUUwXHU2NTQ4XHU1MDNDKHZhbHVlKWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU4RjkzXHU1MTY1YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTVCNTdcdTUxNDNcIiwgdmVyYjogXCJcdTY0QzFcdTY3MDlcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHU0RjREXHU1MTQzXHU3RDQ0XCIsIHZlcmI6IFwiXHU2NEMxXHU2NzA5XCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTk4MDVcdTc2RUVcIiwgdmVyYjogXCJcdTY0QzFcdTY3MDlcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTk4MDVcdTc2RUVcIiwgdmVyYjogXCJcdTY0QzFcdTY3MDlcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHU4RjM4XHU1MTY1XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1OTBGNVx1NEVGNlx1NTczMFx1NTc0MFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBcdTY1RTVcdTY3MUZcdTY2NDJcdTk1OTNcIixcbiAgICAgICAgZGF0ZTogXCJJU08gXHU2NUU1XHU2NzFGXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIFx1NjY0Mlx1OTU5M1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gXHU2NzFGXHU5NTkzXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdTRGNERcdTU3NDBcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1NEY0RFx1NTc0MFwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdTdCQzRcdTU3MERcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHU3QkM0XHU1NzBEXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQgXHU3REU4XHU3OEJDXHU1QjU3XHU0RTMyXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwgXHU3REU4XHU3OEJDXHU1QjU3XHU0RTMyXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHU1QjU3XHU0RTMyXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgXHU2NTc4XHU1MDNDXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdThGMzhcdTUxNjVcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTY1NDhcdTc2ODRcdThGMzhcdTUxNjVcdTUwM0NcdUZGMUFcdTk4MTBcdTY3MUZcdTcwQkEgJHtpc3N1ZS5leHBlY3RlZH1cdUZGMENcdTRGNDZcdTY1MzZcdTUyMzAgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTY1NDhcdTc2ODRcdThGMzhcdTUxNjVcdTUwM0NcdUZGMUFcdTk4MTBcdTY3MUZcdTcwQkEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTY1NDhcdTc2ODRcdTkwNzhcdTk4MDVcdUZGMUFcdTk4MTBcdTY3MUZcdTcwQkFcdTRFRTVcdTRFMEJcdTUxNzZcdTRFMkRcdTRFNEJcdTRFMDAgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjU3OFx1NTAzQ1x1OTA0RVx1NTkyN1x1RkYxQVx1OTgxMFx1NjcxRiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1NTAzQ1wifSBcdTYxQzlcdTcwQkEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTUwMEJcdTUxNDNcdTdEMjBcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NTc4XHU1MDNDXHU5MDRFXHU1OTI3XHVGRjFBXHU5ODEwXHU2NzFGICR7aXNzdWUub3JpZ2luID8/IFwiXHU1MDNDXCJ9IFx1NjFDOVx1NzBCQSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjU3OFx1NTAzQ1x1OTA0RVx1NUMwRlx1RkYxQVx1OTgxMFx1NjcxRiAke2lzc3VlLm9yaWdpbn0gXHU2MUM5XHU3MEJBICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NTc4XHU1MDNDXHU5MDRFXHU1QzBGXHVGRjFBXHU5ODEwXHU2NzFGICR7aXNzdWUub3JpZ2lufSBcdTYxQzlcdTcwQkEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1NUI1N1x1NEUzMlx1RkYxQVx1NUZDNVx1OTgwOFx1NEVFNSBcIiR7X2lzc3VlLnByZWZpeH1cIiBcdTk1OEJcdTk4MkRgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTY1NDhcdTc2ODRcdTVCNTdcdTRFMzJcdUZGMUFcdTVGQzVcdTk4MDhcdTRFRTUgXCIke19pc3N1ZS5zdWZmaXh9XCIgXHU3RDUwXHU1QzNFYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1NUI1N1x1NEUzMlx1RkYxQVx1NUZDNVx1OTgwOFx1NTMwNVx1NTQyQiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1NUI1N1x1NEUzMlx1RkYxQVx1NUZDNVx1OTgwOFx1N0IyNlx1NTQwOFx1NjgzQ1x1NUYwRiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTY1NDhcdTc2ODQgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1NjU3OFx1NUI1N1x1RkYxQVx1NUZDNVx1OTgwOFx1NzBCQSAke2lzc3VlLmRpdmlzb3J9IFx1NzY4NFx1NTAwRFx1NjU3OGA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NkNENVx1OEI1OFx1NTIyNVx1NzY4NFx1OTM3NVx1NTAzQyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTUwMTFcIiA6IFwiXCJ9XHVGRjFBJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCJcdTMwMDFcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IFx1NEUyRFx1NjcwOVx1NzEyMVx1NjU0OFx1NzY4NFx1OTM3NVx1NTAzQ2A7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1NzEyMVx1NjU0OFx1NzY4NFx1OEYzOFx1NTE2NVx1NTAzQ1wiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IFx1NEUyRFx1NjcwOVx1NzEyMVx1NjU0OFx1NzY4NFx1NTAzQ2A7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU4RjM4XHU1MTY1XHU1MDNDYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTAwRTBtaVwiLCB2ZXJiOiBcIm5cdTAwRURcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZXNcIiwgdmVyYjogXCJuXHUwMEVEXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJua2FuXCIsIHZlcmI6IFwiblx1MDBFRFwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIm5rYW5cIiwgdmVyYjogXCJuXHUwMEVEXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJuXHUxRUNEXHUwMzAxbWJcdTAwRTBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFrb3BcdTFFQ0RcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUxRUI5XHUwMzAwclx1MUVDRCBcdTAwRUNiXHUwMEUxd1x1MUVDRGxcdTAwRTlcIixcbiAgICAgICAgZW1haWw6IFwiXHUwMEUwZFx1MDBFRHJcdTFFQjlcdTAzMDFzXHUwMEVDIFx1MDBFQ21cdTFFQjlcdTAzMDFsXHUwMEVDXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUwMEUwa1x1MDBGM2tcdTAwRjIgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiXHUxRUNEalx1MUVDRFx1MDMwMSBJU09cIixcbiAgICAgICAgdGltZTogXCJcdTAwRTBrXHUwMEYza1x1MDBGMiBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUwMEUwa1x1MDBGM2tcdTAwRjIgdFx1MDBGMyBwXHUwMEU5IElTT1wiLFxuICAgICAgICBpcHY0OiBcIlx1MDBFMGRcdTAwRURyXHUxRUI5XHUwMzAxc1x1MDBFQyBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiXHUwMEUwZFx1MDBFRHJcdTFFQjlcdTAzMDFzXHUwMEVDIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcIlx1MDBFMGdiXHUwMEU4Z2JcdTAwRTggSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiXHUwMEUwZ2JcdTAwRThnYlx1MDBFOCBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTFFQ0RcdTAzMDByXHUxRUNEXHUwMzAwIHRcdTAwRUQgYSBrXHUxRUNEXHUwMzAxIG5cdTAwRUQgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTFFQ0RcdTAzMDByXHUxRUNEXHUwMzAwIGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJcdTFFQ0RcdTAzMDByXHUxRUNEXHUwMzAwIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJuXHUxRUNEXHUwMzAxbWJcdTAwRTAgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MUVCOVx1MDMwMHJcdTFFQ0QgXHUwMEVDYlx1MDBFMXdcdTFFQ0RsXHUwMEU5XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMENDYlx1MDBFMXdcdTFFQ0RsXHUwMEU5IGFcdTFFNjNcdTAwRUNcdTFFNjNlOiBhIG5cdTAwRUQgbFx1MDBFMXRpIGZpICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTAwRTBtXHUxRUNEXHUwMzAwIGEgclx1MDBFRCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDQ2JcdTAwRTF3XHUxRUNEbFx1MDBFOSBhXHUxRTYzXHUwMEVDXHUxRTYzZTogYSBuXHUwMEVEIGxcdTAwRTF0aSBmaSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDMFx1MUU2M1x1MDBFMHlcdTAwRTBuIGFcdTFFNjNcdTAwRUNcdTFFNjNlOiB5YW4gXHUxRUNEXHUwMzAwa2FuIGxcdTAwRTFyYSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVFx1MDBGMyBwXHUxRUNEXHUwMzAwIGpcdTAwRjk6IGEgblx1MDBFRCBsXHUwMEUxdGkgalx1MUVCOVx1MDMwMSBwXHUwMEU5ICR7aXNzdWUub3JpZ2luID8/IFwiaXllXCJ9ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVFx1MDBGMyBwXHUxRUNEXHUwMzAwIGpcdTAwRjk6IGEgblx1MDBFRCBsXHUwMEUxdGkgalx1MUVCOVx1MDMwMSAke2Fkan0ke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgS1x1MDBFOXJcdTAwRTkganU6IGEgblx1MDBFRCBsXHUwMEUxdGkgalx1MUVCOVx1MDMwMSBwXHUwMEU5ICR7aXNzdWUub3JpZ2lufSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW19ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEtcdTAwRTlyXHUwMEU5IGp1OiBhIG5cdTAwRUQgbFx1MDBFMXRpIGpcdTFFQjlcdTAzMDEgJHthZGp9JHtpc3N1ZS5taW5pbXVtfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxRUNDXHUwMzAwclx1MUVDRFx1MDMwMCBhXHUxRTYzXHUwMEVDXHUxRTYzZTogZ2JcdTFFQ0RcdTAzMDFkXHUxRUNEXHUwMzAwIGJcdTFFQjlcdTAzMDByXHUxRUI5XHUwMzAwIHBcdTFFQjlcdTAzMDBsXHUwMEZBIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTFFQ0NcdTAzMDByXHUxRUNEXHUwMzAwIGFcdTFFNjNcdTAwRUNcdTFFNjNlOiBnYlx1MUVDRFx1MDMwMWRcdTFFQ0RcdTAzMDAgcGFyXHUwMEVEIHBcdTFFQjlcdTAzMDBsXHUwMEZBIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MUVDQ1x1MDMwMHJcdTFFQ0RcdTAzMDAgYVx1MUU2M1x1MDBFQ1x1MUU2M2U6IGdiXHUxRUNEXHUwMzAxZFx1MUVDRFx1MDMwMCBuXHUwMEVEIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxRUNDXHUwMzAwclx1MUVDRFx1MDMwMCBhXHUxRTYzXHUwMEVDXHUxRTYzZTogZ2JcdTFFQ0RcdTAzMDFkXHUxRUNEXHUwMzAwIGJcdTAwRTEgXHUwMEUwcFx1MUVCOVx1MUVCOXJcdTFFQjkgbXUgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgQVx1MUU2M1x1MDBFQ1x1MUU2M2U6ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOXHUxRUNEXHUwMzAxbWJcdTAwRTAgYVx1MUU2M1x1MDBFQ1x1MUU2M2U6IGdiXHUxRUNEXHUwMzAxZFx1MUVDRFx1MDMwMCBqXHUxRUI5XHUwMzAxIFx1MDBFOHlcdTAwRTAgcFx1MDBFRHBcdTAwRURuIHRpICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBCXHUxRUNEdFx1MDBFQ25cdTAwRUMgXHUwMEUwXHUwMEVDbVx1MUVDRFx1MDMwMDogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBCXHUxRUNEdFx1MDBFQ25cdTAwRUMgYVx1MUU2M1x1MDBFQ1x1MUU2M2Ugblx1MDBFRG5cdTAwRkEgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwMENDYlx1MDBFMXdcdTFFQ0RsXHUwMEU5IGFcdTFFNjNcdTAwRUNcdTFFNjNlXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJeWUgYVx1MUU2M1x1MDBFQ1x1MUU2M2Ugblx1MDBFRG5cdTAwRkEgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwMENDYlx1MDBFMXdcdTFFQ0RsXHUwMEU5IGFcdTFFNjNcdTAwRUNcdTFFNjNlXCI7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImV4cG9ydCBjb25zdCAkb3V0cHV0ID0gU3ltYm9sKFwiWm9kT3V0cHV0XCIpO1xuZXhwb3J0IGNvbnN0ICRpbnB1dCA9IFN5bWJvbChcIlpvZElucHV0XCIpO1xuZXhwb3J0IGNsYXNzICRab2RSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuX2lkbWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBhZGQoc2NoZW1hLCAuLi5fbWV0YSkge1xuICAgICAgICBjb25zdCBtZXRhID0gX21ldGFbMF07XG4gICAgICAgIHRoaXMuX21hcC5zZXQoc2NoZW1hLCBtZXRhKTtcbiAgICAgICAgaWYgKG1ldGEgJiYgdHlwZW9mIG1ldGEgPT09IFwib2JqZWN0XCIgJiYgXCJpZFwiIGluIG1ldGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pZG1hcC5oYXMobWV0YS5pZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYElEICR7bWV0YS5pZH0gYWxyZWFkeSBleGlzdHMgaW4gdGhlIHJlZ2lzdHJ5YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pZG1hcC5zZXQobWV0YS5pZCwgc2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuX2lkbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVtb3ZlKHNjaGVtYSkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fbWFwLmdldChzY2hlbWEpO1xuICAgICAgICBpZiAobWV0YSAmJiB0eXBlb2YgbWV0YSA9PT0gXCJvYmplY3RcIiAmJiBcImlkXCIgaW4gbWV0YSkge1xuICAgICAgICAgICAgdGhpcy5faWRtYXAuZGVsZXRlKG1ldGEuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcC5kZWxldGUoc2NoZW1hKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldChzY2hlbWEpIHtcbiAgICAgICAgLy8gcmV0dXJuIHRoaXMuX21hcC5nZXQoc2NoZW1hKSBhcyBhbnk7XG4gICAgICAgIC8vIGluaGVyaXQgbWV0YWRhdGFcbiAgICAgICAgY29uc3QgcCA9IHNjaGVtYS5fem9kLnBhcmVudDtcbiAgICAgICAgaWYgKHApIHtcbiAgICAgICAgICAgIGNvbnN0IHBtID0geyAuLi4odGhpcy5nZXQocCkgPz8ge30pIH07XG4gICAgICAgICAgICBkZWxldGUgcG0uaWQ7IC8vIGRvIG5vdCBpbmhlcml0IGlkXG4gICAgICAgICAgICBjb25zdCBmID0geyAuLi5wbSwgLi4udGhpcy5fbWFwLmdldChzY2hlbWEpIH07XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZikubGVuZ3RoID8gZiA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmdldChzY2hlbWEpO1xuICAgIH1cbiAgICBoYXMoc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKHNjaGVtYSk7XG4gICAgfVxufVxuLy8gcmVnaXN0cmllc1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdHJ5KCkge1xuICAgIHJldHVybiBuZXcgJFpvZFJlZ2lzdHJ5KCk7XG59XG5leHBvcnQgY29uc3QgZ2xvYmFsUmVnaXN0cnkgPSAvKkBfX1BVUkVfXyovIHJlZ2lzdHJ5KCk7XG4iLCAiaW1wb3J0ICogYXMgY2hlY2tzIGZyb20gXCIuL2NoZWNrcy5qc1wiO1xuaW1wb3J0ICogYXMgc2NoZW1hcyBmcm9tIFwiLi9zY2hlbWFzLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBfc3RyaW5nKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlZFN0cmluZyhDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZW1haWwoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZW1haWxcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2d1aWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZ3VpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdXVpZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJ1dWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91dWlkdjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidXVpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgdmVyc2lvbjogXCJ2NFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91dWlkdjYoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidXVpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgdmVyc2lvbjogXCJ2NlwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91dWlkdjcoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidXVpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgdmVyc2lvbjogXCJ2N1wiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91cmwoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidXJsXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9lbW9qaShDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJlbW9qaVwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbmFub2lkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcIm5hbm9pZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY3VpZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJjdWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jdWlkMihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJjdWlkMlwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdWxpZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJ1bGlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF94aWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwieGlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9rc3VpZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJrc3VpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaXB2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJpcHY0XCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pcHY2KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImlwdjZcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NpZHJ2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJjaWRydjRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NpZHJ2NihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJjaWRydjZcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2Jhc2U2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJiYXNlNjRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2Jhc2U2NHVybChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2UxNjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZTE2NFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfand0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImp3dFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBUaW1lUHJlY2lzaW9uID0ge1xuICAgIEFueTogbnVsbCxcbiAgICBNaW51dGU6IC0xLFxuICAgIFNlY29uZDogMCxcbiAgICBNaWxsaXNlY29uZDogMyxcbiAgICBNaWNyb3NlY29uZDogNixcbn07XG5leHBvcnQgZnVuY3Rpb24gX2lzb0RhdGVUaW1lKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImRhdGV0aW1lXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgb2Zmc2V0OiBmYWxzZSxcbiAgICAgICAgbG9jYWw6IGZhbHNlLFxuICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2lzb0RhdGUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZGF0ZVwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2lzb1RpbWUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidGltZVwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaXNvRHVyYXRpb24oQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZHVyYXRpb25cIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9udW1iZXIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jb2VyY2VkTnVtYmVyKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pbnQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVjazogXCJudW1iZXJfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcInNhZmVpbnRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZmxvYXQzMihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNoZWNrOiBcIm51bWJlcl9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwiZmxvYXQzMlwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9mbG9hdDY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgY2hlY2s6IFwibnVtYmVyX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogXCJmbG9hdDY0XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2ludDMyKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgY2hlY2s6IFwibnVtYmVyX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogXCJpbnQzMlwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91aW50MzIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVjazogXCJudW1iZXJfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcInVpbnQzMlwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9ib29sZWFuKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NvZXJjZWRCb29sZWFuKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfYmlnaW50KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlZEJpZ2ludChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaW50NjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICBjaGVjazogXCJiaWdpbnRfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcImludDY0XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3VpbnQ2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgIGNoZWNrOiBcImJpZ2ludF9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwidWludDY0XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3N5bWJvbChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3ltYm9sXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3VuZGVmaW5lZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidW5kZWZpbmVkXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX251bGwoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bGxcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfYW55KENsYXNzKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYW55XCIsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3Vua25vd24oQ2xhc3MpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ1bmtub3duXCIsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX25ldmVyKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJuZXZlclwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF92b2lkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ2b2lkXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2RhdGUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlZERhdGUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9uYW4oQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm5hblwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9sdCh2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTGVzc1RoYW4oe1xuICAgICAgICBjaGVjazogXCJsZXNzX3RoYW5cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2x0ZSh2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTGVzc1RoYW4oe1xuICAgICAgICBjaGVjazogXCJsZXNzX3RoYW5cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICB9KTtcbn1cbmV4cG9ydCB7IFxuLyoqIEBkZXByZWNhdGVkIFVzZSBgei5sdGUoKWAgaW5zdGVhZC4gKi9cbl9sdGUgYXMgX21heCwgfTtcbmV4cG9ydCBmdW5jdGlvbiBfZ3QodmFsdWUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0dyZWF0ZXJUaGFuKHtcbiAgICAgICAgY2hlY2s6IFwiZ3JlYXRlcl90aGFuXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9ndGUodmFsdWUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0dyZWF0ZXJUaGFuKHtcbiAgICAgICAgY2hlY2s6IFwiZ3JlYXRlcl90aGFuXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgfSk7XG59XG5leHBvcnQgeyBcbi8qKiBAZGVwcmVjYXRlZCBVc2UgYHouZ3RlKClgIGluc3RlYWQuICovXG5fZ3RlIGFzIF9taW4sIH07XG5leHBvcnQgZnVuY3Rpb24gX3Bvc2l0aXZlKHBhcmFtcykge1xuICAgIHJldHVybiBfZ3QoMCwgcGFyYW1zKTtcbn1cbi8vIG5lZ2F0aXZlXG5leHBvcnQgZnVuY3Rpb24gX25lZ2F0aXZlKHBhcmFtcykge1xuICAgIHJldHVybiBfbHQoMCwgcGFyYW1zKTtcbn1cbi8vIG5vbnBvc2l0aXZlXG5leHBvcnQgZnVuY3Rpb24gX25vbnBvc2l0aXZlKHBhcmFtcykge1xuICAgIHJldHVybiBfbHRlKDAsIHBhcmFtcyk7XG59XG4vLyBub25uZWdhdGl2ZVxuZXhwb3J0IGZ1bmN0aW9uIF9ub25uZWdhdGl2ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gX2d0ZSgwLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9tdWx0aXBsZU9mKHZhbHVlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tNdWx0aXBsZU9mKHtcbiAgICAgICAgY2hlY2s6IFwibXVsdGlwbGVfb2ZcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgdmFsdWUsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX21heFNpemUobWF4aW11bSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTWF4U2l6ZSh7XG4gICAgICAgIGNoZWNrOiBcIm1heF9zaXplXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIG1heGltdW0sXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX21pblNpemUobWluaW11bSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTWluU2l6ZSh7XG4gICAgICAgIGNoZWNrOiBcIm1pbl9zaXplXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIG1pbmltdW0sXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3NpemUoc2l6ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrU2l6ZUVxdWFscyh7XG4gICAgICAgIGNoZWNrOiBcInNpemVfZXF1YWxzXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHNpemUsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX21heExlbmd0aChtYXhpbXVtLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjaCA9IG5ldyBjaGVja3MuJFpvZENoZWNrTWF4TGVuZ3RoKHtcbiAgICAgICAgY2hlY2s6IFwibWF4X2xlbmd0aFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBtYXhpbXVtLFxuICAgIH0pO1xuICAgIHJldHVybiBjaDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbWluTGVuZ3RoKG1pbmltdW0sIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja01pbkxlbmd0aCh7XG4gICAgICAgIGNoZWNrOiBcIm1pbl9sZW5ndGhcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgbWluaW11bSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbGVuZ3RoKGxlbmd0aCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTGVuZ3RoRXF1YWxzKHtcbiAgICAgICAgY2hlY2s6IFwibGVuZ3RoX2VxdWFsc1wiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBsZW5ndGgsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3JlZ2V4KHBhdHRlcm4sIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja1JlZ2V4KHtcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBmb3JtYXQ6IFwicmVnZXhcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgcGF0dGVybixcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbG93ZXJjYXNlKHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0xvd2VyQ2FzZSh7XG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgZm9ybWF0OiBcImxvd2VyY2FzZVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91cHBlcmNhc2UocGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrVXBwZXJDYXNlKHtcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBmb3JtYXQ6IFwidXBwZXJjYXNlXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2luY2x1ZGVzKGluY2x1ZGVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tJbmNsdWRlcyh7XG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgZm9ybWF0OiBcImluY2x1ZGVzXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIGluY2x1ZGVzLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9zdGFydHNXaXRoKHByZWZpeCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrU3RhcnRzV2l0aCh7XG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgZm9ybWF0OiBcInN0YXJ0c193aXRoXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHByZWZpeCxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZW5kc1dpdGgoc3VmZml4LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tFbmRzV2l0aCh7XG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgZm9ybWF0OiBcImVuZHNfd2l0aFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBzdWZmaXgsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3Byb3BlcnR5KHByb3BlcnR5LCBzY2hlbWEsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja1Byb3BlcnR5KHtcbiAgICAgICAgY2hlY2s6IFwicHJvcGVydHlcIixcbiAgICAgICAgcHJvcGVydHksXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbWltZSh0eXBlcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTWltZVR5cGUoe1xuICAgICAgICBjaGVjazogXCJtaW1lX3R5cGVcIixcbiAgICAgICAgbWltZTogdHlwZXMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX292ZXJ3cml0ZSh0eCkge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja092ZXJ3cml0ZSh7XG4gICAgICAgIGNoZWNrOiBcIm92ZXJ3cml0ZVwiLFxuICAgICAgICB0eCxcbiAgICB9KTtcbn1cbi8vIG5vcm1hbGl6ZVxuZXhwb3J0IGZ1bmN0aW9uIF9ub3JtYWxpemUoZm9ybSkge1xuICAgIHJldHVybiBfb3ZlcndyaXRlKChpbnB1dCkgPT4gaW5wdXQubm9ybWFsaXplKGZvcm0pKTtcbn1cbi8vIHRyaW1cbmV4cG9ydCBmdW5jdGlvbiBfdHJpbSgpIHtcbiAgICByZXR1cm4gX292ZXJ3cml0ZSgoaW5wdXQpID0+IGlucHV0LnRyaW0oKSk7XG59XG4vLyB0b0xvd2VyQ2FzZVxuZXhwb3J0IGZ1bmN0aW9uIF90b0xvd2VyQ2FzZSgpIHtcbiAgICByZXR1cm4gX292ZXJ3cml0ZSgoaW5wdXQpID0+IGlucHV0LnRvTG93ZXJDYXNlKCkpO1xufVxuLy8gdG9VcHBlckNhc2VcbmV4cG9ydCBmdW5jdGlvbiBfdG9VcHBlckNhc2UoKSB7XG4gICAgcmV0dXJuIF9vdmVyd3JpdGUoKGlucHV0KSA9PiBpbnB1dC50b1VwcGVyQ2FzZSgpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfYXJyYXkoQ2xhc3MsIGVsZW1lbnQsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIC8vIGdldCBlbGVtZW50KCkge1xuICAgICAgICAvLyAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAvLyB9LFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91bmlvbihDbGFzcywgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidW5pb25cIixcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZGlzY3JpbWluYXRlZFVuaW9uKENsYXNzLCBkaXNjcmltaW5hdG9yLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ1bmlvblwiLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBkaXNjcmltaW5hdG9yLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pbnRlcnNlY3Rpb24oQ2xhc3MsIGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiaW50ZXJzZWN0aW9uXCIsXG4gICAgICAgIGxlZnQsXG4gICAgICAgIHJpZ2h0LFxuICAgIH0pO1xufVxuLy8gZXhwb3J0IGZ1bmN0aW9uIF90dXBsZShcbi8vICAgQ2xhc3M6IHV0aWwuU2NoZW1hQ2xhc3M8c2NoZW1hcy4kWm9kVHVwbGU+LFxuLy8gICBpdGVtczogW10sXG4vLyAgIHBhcmFtcz86IHN0cmluZyB8ICRab2RUdXBsZVBhcmFtc1xuLy8gKTogc2NoZW1hcy4kWm9kVHVwbGU8W10sIG51bGw+O1xuZXhwb3J0IGZ1bmN0aW9uIF90dXBsZShDbGFzcywgaXRlbXMsIF9wYXJhbXNPclJlc3QsIF9wYXJhbXMpIHtcbiAgICBjb25zdCBoYXNSZXN0ID0gX3BhcmFtc09yUmVzdCBpbnN0YW5jZW9mIHNjaGVtYXMuJFpvZFR5cGU7XG4gICAgY29uc3QgcGFyYW1zID0gaGFzUmVzdCA/IF9wYXJhbXMgOiBfcGFyYW1zT3JSZXN0O1xuICAgIGNvbnN0IHJlc3QgPSBoYXNSZXN0ID8gX3BhcmFtc09yUmVzdCA6IG51bGw7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidHVwbGVcIixcbiAgICAgICAgaXRlbXMsXG4gICAgICAgIHJlc3QsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3JlY29yZChDbGFzcywga2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJyZWNvcmRcIixcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9tYXAoQ2xhc3MsIGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibWFwXCIsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc2V0KENsYXNzLCB2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2VudW0oQ2xhc3MsIHZhbHVlcywgcGFyYW1zKSB7XG4gICAgY29uc3QgZW50cmllcyA9IEFycmF5LmlzQXJyYXkodmFsdWVzKSA/IE9iamVjdC5mcm9tRW50cmllcyh2YWx1ZXMubWFwKCh2KSA9PiBbdiwgdl0pKSA6IHZhbHVlcztcbiAgICAvLyBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgLy8gICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgIC8vICAgICBlbnRyaWVzW3ZhbHVlXSA9IHZhbHVlO1xuICAgIC8vICAgfVxuICAgIC8vIH0gZWxzZSB7XG4gICAgLy8gICBPYmplY3QuYXNzaWduKGVudHJpZXMsIHZhbHVlcyk7XG4gICAgLy8gfVxuICAgIC8vIGNvbnN0IGVudHJpZXM6IHV0aWwuRW51bUxpa2UgPSB7fTtcbiAgICAvLyBmb3IgKGNvbnN0IHZhbCBvZiB2YWx1ZXMpIHtcbiAgICAvLyAgIGVudHJpZXNbdmFsXSA9IHZhbDtcbiAgICAvLyB9XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiZW51bVwiLFxuICAgICAgICBlbnRyaWVzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLyoqIEBkZXByZWNhdGVkIFRoaXMgQVBJIGhhcyBiZWVuIG1lcmdlZCBpbnRvIGB6LmVudW0oKWAuIFVzZSBgei5lbnVtKClgIGluc3RlYWQuXG4gKlxuICogYGBgdHNcbiAqIGVudW0gQ29sb3JzIHsgcmVkLCBncmVlbiwgYmx1ZSB9XG4gKiB6LmVudW0oQ29sb3JzKTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gX25hdGl2ZUVudW0oQ2xhc3MsIGVudHJpZXMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImVudW1cIixcbiAgICAgICAgZW50cmllcyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbGl0ZXJhbChDbGFzcywgdmFsdWUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImxpdGVyYWxcIixcbiAgICAgICAgdmFsdWVzOiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZmlsZShDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF90cmFuc2Zvcm0oQ2xhc3MsIGZuKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidHJhbnNmb3JtXCIsXG4gICAgICAgIHRyYW5zZm9ybTogZm4sXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX29wdGlvbmFsKENsYXNzLCBpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX251bGxhYmxlKENsYXNzLCBpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJudWxsYWJsZVwiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2RlZmF1bHQoQ2xhc3MsIGlubmVyVHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiZGVmYXVsdFwiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgICAgIGdldCBkZWZhdWx0VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gZGVmYXVsdFZhbHVlKCkgOiB1dGlsLnNoYWxsb3dDbG9uZShkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9ub25vcHRpb25hbChDbGFzcywgaW5uZXJUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJub25vcHRpb25hbFwiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3N1Y2Nlc3MoQ2xhc3MsIGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jYXRjaChDbGFzcywgaW5uZXJUeXBlLCBjYXRjaFZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiY2F0Y2hcIixcbiAgICAgICAgaW5uZXJUeXBlLFxuICAgICAgICBjYXRjaFZhbHVlOiAodHlwZW9mIGNhdGNoVmFsdWUgPT09IFwiZnVuY3Rpb25cIiA/IGNhdGNoVmFsdWUgOiAoKSA9PiBjYXRjaFZhbHVlKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfcGlwZShDbGFzcywgaW5fLCBvdXQpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJwaXBlXCIsXG4gICAgICAgIGluOiBpbl8sXG4gICAgICAgIG91dCxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfcmVhZG9ubHkoQ2xhc3MsIGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInJlYWRvbmx5XCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdGVtcGxhdGVMaXRlcmFsKENsYXNzLCBwYXJ0cywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidGVtcGxhdGVfbGl0ZXJhbFwiLFxuICAgICAgICBwYXJ0cyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbGF6eShDbGFzcywgZ2V0dGVyKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibGF6eVwiLFxuICAgICAgICBnZXR0ZXIsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3Byb21pc2UoQ2xhc3MsIGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInByb21pc2VcIixcbiAgICAgICAgaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jdXN0b20oQ2xhc3MsIGZuLCBfcGFyYW1zKSB7XG4gICAgY29uc3Qgbm9ybSA9IHV0aWwubm9ybWFsaXplUGFyYW1zKF9wYXJhbXMpO1xuICAgIG5vcm0uYWJvcnQgPz8gKG5vcm0uYWJvcnQgPSB0cnVlKTsgLy8gZGVmYXVsdCB0byBhYm9ydDpmYWxzZVxuICAgIGNvbnN0IHNjaGVtYSA9IG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiY3VzdG9tXCIsXG4gICAgICAgIGNoZWNrOiBcImN1c3RvbVwiLFxuICAgICAgICBmbjogZm4sXG4gICAgICAgIC4uLm5vcm0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbi8vIHNhbWUgYXMgX2N1c3RvbSBidXQgZGVmYXVsdHMgdG8gYWJvcnQ6ZmFsc2VcbmV4cG9ydCBmdW5jdGlvbiBfcmVmaW5lKENsYXNzLCBmbiwgX3BhcmFtcykge1xuICAgIGNvbnN0IHNjaGVtYSA9IG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiY3VzdG9tXCIsXG4gICAgICAgIGNoZWNrOiBcImN1c3RvbVwiLFxuICAgICAgICBmbjogZm4sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKF9wYXJhbXMpLFxuICAgIH0pO1xuICAgIHJldHVybiBzY2hlbWE7XG59XG5leHBvcnQgZnVuY3Rpb24gX3N1cGVyUmVmaW5lKGZuKSB7XG4gICAgY29uc3QgY2ggPSBfY2hlY2soKHBheWxvYWQpID0+IHtcbiAgICAgICAgcGF5bG9hZC5hZGRJc3N1ZSA9IChpc3N1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpc3N1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2godXRpbC5pc3N1ZShpc3N1ZSwgcGF5bG9hZC52YWx1ZSwgY2guX3pvZC5kZWYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGZvciBab2QgMyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZmF0YWwpXG4gICAgICAgICAgICAgICAgICAgIF9pc3N1ZS5jb250aW51ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF9pc3N1ZS5jb2RlID8/IChfaXNzdWUuY29kZSA9IFwiY3VzdG9tXCIpO1xuICAgICAgICAgICAgICAgIF9pc3N1ZS5pbnB1dCA/PyAoX2lzc3VlLmlucHV0ID0gcGF5bG9hZC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgX2lzc3VlLmluc3QgPz8gKF9pc3N1ZS5pbnN0ID0gY2gpO1xuICAgICAgICAgICAgICAgIF9pc3N1ZS5jb250aW51ZSA/PyAoX2lzc3VlLmNvbnRpbnVlID0gIWNoLl96b2QuZGVmLmFib3J0KTsgLy8gYWJvcnQgaXMgYWx3YXlzIHVuZGVmaW5lZCwgc28gdGhpcyBpcyBhbHdheXMgdHJ1ZS4uLlxuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2godXRpbC5pc3N1ZShfaXNzdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZuKHBheWxvYWQudmFsdWUsIHBheWxvYWQpO1xuICAgIH0pO1xuICAgIHJldHVybiBjaDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY2hlY2soZm4sIHBhcmFtcykge1xuICAgIGNvbnN0IGNoID0gbmV3IGNoZWNrcy4kWm9kQ2hlY2soe1xuICAgICAgICBjaGVjazogXCJjdXN0b21cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbiAgICBjaC5fem9kLmNoZWNrID0gZm47XG4gICAgcmV0dXJuIGNoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9zdHJpbmdib29sKENsYXNzZXMsIF9wYXJhbXMpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB1dGlsLm5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKTtcbiAgICBsZXQgdHJ1dGh5QXJyYXkgPSBwYXJhbXMudHJ1dGh5ID8/IFtcInRydWVcIiwgXCIxXCIsIFwieWVzXCIsIFwib25cIiwgXCJ5XCIsIFwiZW5hYmxlZFwiXTtcbiAgICBsZXQgZmFsc3lBcnJheSA9IHBhcmFtcy5mYWxzeSA/PyBbXCJmYWxzZVwiLCBcIjBcIiwgXCJub1wiLCBcIm9mZlwiLCBcIm5cIiwgXCJkaXNhYmxlZFwiXTtcbiAgICBpZiAocGFyYW1zLmNhc2UgIT09IFwic2Vuc2l0aXZlXCIpIHtcbiAgICAgICAgdHJ1dGh5QXJyYXkgPSB0cnV0aHlBcnJheS5tYXAoKHYpID0+ICh0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiA/IHYudG9Mb3dlckNhc2UoKSA6IHYpKTtcbiAgICAgICAgZmFsc3lBcnJheSA9IGZhbHN5QXJyYXkubWFwKCh2KSA9PiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIgPyB2LnRvTG93ZXJDYXNlKCkgOiB2KSk7XG4gICAgfVxuICAgIGNvbnN0IHRydXRoeVNldCA9IG5ldyBTZXQodHJ1dGh5QXJyYXkpO1xuICAgIGNvbnN0IGZhbHN5U2V0ID0gbmV3IFNldChmYWxzeUFycmF5KTtcbiAgICBjb25zdCBfQ29kZWMgPSBDbGFzc2VzLkNvZGVjID8/IHNjaGVtYXMuJFpvZENvZGVjO1xuICAgIGNvbnN0IF9Cb29sZWFuID0gQ2xhc3Nlcy5Cb29sZWFuID8/IHNjaGVtYXMuJFpvZEJvb2xlYW47XG4gICAgY29uc3QgX1N0cmluZyA9IENsYXNzZXMuU3RyaW5nID8/IHNjaGVtYXMuJFpvZFN0cmluZztcbiAgICBjb25zdCBzdHJpbmdTY2hlbWEgPSBuZXcgX1N0cmluZyh7IHR5cGU6IFwic3RyaW5nXCIsIGVycm9yOiBwYXJhbXMuZXJyb3IgfSk7XG4gICAgY29uc3QgYm9vbGVhblNjaGVtYSA9IG5ldyBfQm9vbGVhbih7IHR5cGU6IFwiYm9vbGVhblwiLCBlcnJvcjogcGFyYW1zLmVycm9yIH0pO1xuICAgIGNvbnN0IGNvZGVjID0gbmV3IF9Db2RlYyh7XG4gICAgICAgIHR5cGU6IFwicGlwZVwiLFxuICAgICAgICBpbjogc3RyaW5nU2NoZW1hLFxuICAgICAgICBvdXQ6IGJvb2xlYW5TY2hlbWEsXG4gICAgICAgIHRyYW5zZm9ybTogKChpbnB1dCwgcGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBpbnB1dDtcbiAgICAgICAgICAgIGlmIChwYXJhbXMuY2FzZSAhPT0gXCJzZW5zaXRpdmVcIilcbiAgICAgICAgICAgICAgICBkYXRhID0gZGF0YS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKHRydXRoeVNldC5oYXMoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZhbHN5U2V0LmhhcyhkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwic3RyaW5nYm9vbFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IFsuLi50cnV0aHlTZXQsIC4uLmZhbHN5U2V0XSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluc3Q6IGNvZGVjLFxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgcmV2ZXJzZVRyYW5zZm9ybTogKChpbnB1dCwgX3BheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmIChpbnB1dCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnV0aHlBcnJheVswXSB8fCBcInRydWVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzeUFycmF5WzBdIHx8IFwiZmFsc2VcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGVycm9yOiBwYXJhbXMuZXJyb3IsXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvZGVjO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9zdHJpbmdGb3JtYXQoQ2xhc3MsIGZvcm1hdCwgZm5PclJlZ2V4LCBfcGFyYW1zID0ge30pIHtcbiAgICBjb25zdCBwYXJhbXMgPSB1dGlsLm5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKTtcbiAgICBjb25zdCBkZWYgPSB7XG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKF9wYXJhbXMpLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdCxcbiAgICAgICAgZm46IHR5cGVvZiBmbk9yUmVnZXggPT09IFwiZnVuY3Rpb25cIiA/IGZuT3JSZWdleCA6ICh2YWwpID0+IGZuT3JSZWdleC50ZXN0KHZhbCksXG4gICAgICAgIC4uLnBhcmFtcyxcbiAgICB9O1xuICAgIGlmIChmbk9yUmVnZXggaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgZGVmLnBhdHRlcm4gPSBmbk9yUmVnZXg7XG4gICAgfVxuICAgIGNvbnN0IGluc3QgPSBuZXcgQ2xhc3MoZGVmKTtcbiAgICByZXR1cm4gaW5zdDtcbn1cbiIsICJpbXBvcnQgeyAkWm9kUmVnaXN0cnksIGdsb2JhbFJlZ2lzdHJ5IH0gZnJvbSBcIi4vcmVnaXN0cmllcy5qc1wiO1xuaW1wb3J0IHsgZ2V0RW51bVZhbHVlcyB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBjbGFzcyBKU09OU2NoZW1hR2VuZXJhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YVJlZ2lzdHJ5ID0gcGFyYW1zPy5tZXRhZGF0YSA/PyBnbG9iYWxSZWdpc3RyeTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBwYXJhbXM/LnRhcmdldCA/PyBcImRyYWZ0LTIwMjAtMTJcIjtcbiAgICAgICAgdGhpcy51bnJlcHJlc2VudGFibGUgPSBwYXJhbXM/LnVucmVwcmVzZW50YWJsZSA/PyBcInRocm93XCI7XG4gICAgICAgIHRoaXMub3ZlcnJpZGUgPSBwYXJhbXM/Lm92ZXJyaWRlID8/ICgoKSA9PiB7IH0pO1xuICAgICAgICB0aGlzLmlvID0gcGFyYW1zPy5pbyA/PyBcIm91dHB1dFwiO1xuICAgICAgICB0aGlzLnNlZW4gPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHByb2Nlc3Moc2NoZW1hLCBfcGFyYW1zID0geyBwYXRoOiBbXSwgc2NoZW1hUGF0aDogW10gfSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICAgICAgY29uc3QgZm9ybWF0TWFwID0ge1xuICAgICAgICAgICAgZ3VpZDogXCJ1dWlkXCIsXG4gICAgICAgICAgICB1cmw6IFwidXJpXCIsXG4gICAgICAgICAgICBkYXRldGltZTogXCJkYXRlLXRpbWVcIixcbiAgICAgICAgICAgIGpzb25fc3RyaW5nOiBcImpzb24tc3RyaW5nXCIsXG4gICAgICAgICAgICByZWdleDogXCJcIiwgLy8gZG8gbm90IHNldFxuICAgICAgICB9O1xuICAgICAgICAvLyBjaGVjayBmb3Igc2NoZW1hIGluIHNlZW5zXG4gICAgICAgIGNvbnN0IHNlZW4gPSB0aGlzLnNlZW4uZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLmNvdW50Kys7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjeWNsZVxuICAgICAgICAgICAgY29uc3QgaXNDeWNsZSA9IF9wYXJhbXMuc2NoZW1hUGF0aC5pbmNsdWRlcyhzY2hlbWEpO1xuICAgICAgICAgICAgaWYgKGlzQ3ljbGUpIHtcbiAgICAgICAgICAgICAgICBzZWVuLmN5Y2xlID0gX3BhcmFtcy5wYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNlZW4uc2NoZW1hO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyBzY2hlbWE6IHt9LCBjb3VudDogMSwgY3ljbGU6IHVuZGVmaW5lZCwgcGF0aDogX3BhcmFtcy5wYXRoIH07XG4gICAgICAgIHRoaXMuc2Vlbi5zZXQoc2NoZW1hLCByZXN1bHQpO1xuICAgICAgICAvLyBjdXN0b20gbWV0aG9kIG92ZXJyaWRlcyBkZWZhdWx0IGJlaGF2aW9yXG4gICAgICAgIGNvbnN0IG92ZXJyaWRlU2NoZW1hID0gc2NoZW1hLl96b2QudG9KU09OU2NoZW1hPy4oKTtcbiAgICAgICAgaWYgKG92ZXJyaWRlU2NoZW1hKSB7XG4gICAgICAgICAgICByZXN1bHQuc2NoZW1hID0gb3ZlcnJpZGVTY2hlbWE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgLi4uX3BhcmFtcyxcbiAgICAgICAgICAgICAgICBzY2hlbWFQYXRoOiBbLi4uX3BhcmFtcy5zY2hlbWFQYXRoLCBzY2hlbWFdLFxuICAgICAgICAgICAgICAgIHBhdGg6IF9wYXJhbXMucGF0aCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBzY2hlbWEuX3pvZC5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gc2NoZW1hIHdhcyBjbG9uZWQgZnJvbSBhbm90aGVyIHNjaGVtYVxuICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKHBhcmVudCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZW4uZ2V0KHBhcmVudCkuaXNQYXJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2pzb24gPSByZXN1bHQuc2NoZW1hO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGVmLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtLCBmb3JtYXQsIHBhdHRlcm5zLCBjb250ZW50RW5jb2RpbmcgfSA9IHNjaGVtYS5fem9kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWluaW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbkxlbmd0aCA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1heGltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXhMZW5ndGggPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VzdG9tIHBhdHRlcm4gb3ZlcnJpZGVzIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZm9ybWF0ID0gZm9ybWF0TWFwW2Zvcm1hdF0gPz8gZm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uLmZvcm1hdCA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb24uZm9ybWF0OyAvLyBlbXB0eSBmb3JtYXQgaXMgbm90IHZhbGlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEVuY29kaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uY29udGVudEVuY29kaW5nID0gY29udGVudEVuY29kaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm5zICYmIHBhdHRlcm5zLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnZXhlcyA9IFsuLi5wYXR0ZXJuc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2V4ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnBhdHRlcm4gPSByZWdleGVzWzBdLnNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZWdleGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNjaGVtYS5hbGxPZiA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlZ2V4ZXMubWFwKChyZWdleCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4odGhpcy50YXJnZXQgPT09IFwiZHJhZnQtN1wiIHx8IHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTRcIiB8fCB0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyB0eXBlOiBcInN0cmluZ1wiIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogcmVnZXguc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtLCBmb3JtYXQsIG11bHRpcGxlT2YsIGV4Y2x1c2l2ZU1heGltdW0sIGV4Y2x1c2l2ZU1pbmltdW0gfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm9ybWF0ID09PSBcInN0cmluZ1wiICYmIGZvcm1hdC5pbmNsdWRlcyhcImludFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcImludGVnZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNaW5pbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTRcIiB8fCB0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWluaW11bSA9IGV4Y2x1c2l2ZU1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmV4Y2x1c2l2ZU1pbmltdW0gPSBleGNsdXNpdmVNaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWluaW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWluaW11bSA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNaW5pbXVtID09PSBcIm51bWJlclwiICYmIHRoaXMudGFyZ2V0ICE9PSBcImRyYWZ0LTRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVzaXZlTWluaW11bSA+PSBtaW5pbXVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb24ubWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb24uZXhjbHVzaXZlTWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV4Y2x1c2l2ZU1heGltdW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtNFwiIHx8IHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXhpbXVtID0gZXhjbHVzaXZlTWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZXhjbHVzaXZlTWF4aW11bSA9IGV4Y2x1c2l2ZU1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtYXhpbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXhpbXVtID0gbWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV4Y2x1c2l2ZU1heGltdW0gPT09IFwibnVtYmVyXCIgJiYgdGhpcy50YXJnZXQgIT09IFwiZHJhZnQtNFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGNsdXNpdmVNYXhpbXVtIDw9IG1heGltdW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5tYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5leGNsdXNpdmVNYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbXVsdGlwbGVPZiA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm11bHRpcGxlT2YgPSBtdWx0aXBsZU9mO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJib29sZWFuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmlnSW50IGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTeW1ib2xzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudWxsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24udHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24ubnVsbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLmVudW0gPSBbbnVsbF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24udHlwZSA9IFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFueVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5rbm93blwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5kZWZpbmVkIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2b2lkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVm9pZCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibmV2ZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24ubm90ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGF0ZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGUgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFycmF5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWluaW11bSwgbWF4aW11bSB9ID0gc2NoZW1hLl96b2QuYmFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtaW5pbXVtID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWluSXRlbXMgPSBtaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtYXhpbXVtID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWF4SXRlbXMgPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi5pdGVtcyA9IHRoaXMucHJvY2VzcyhkZWYuZWxlbWVudCwgeyAuLi5wYXJhbXMsIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJpdGVtc1wiXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJvYmplY3RcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucHJvcGVydGllcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSBkZWYuc2hhcGU7IC8vIHBhcmFtcy5zaGFwZUNhY2hlLmdldChzY2hlbWEpITtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5wcm9wZXJ0aWVzW2tleV0gPSB0aGlzLnByb2Nlc3Moc2hhcGVba2V5XSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJwcm9wZXJ0aWVzXCIsIGtleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXF1aXJlZCBrZXlzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxLZXlzID0gbmV3IFNldChPYmplY3Qua2V5cyhzaGFwZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3Qgb3B0aW9uYWxLZXlzID0gbmV3IFNldChkZWYub3B0aW9uYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWlyZWRLZXlzID0gbmV3IFNldChbLi4uYWxsS2V5c10uZmlsdGVyKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ID0gZGVmLnNoYXBlW2tleV0uX3pvZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbyA9PT0gXCJpbnB1dFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2Lm9wdGluID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdi5vcHRvdXQgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWlyZWRLZXlzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5yZXF1aXJlZCA9IEFycmF5LmZyb20ocmVxdWlyZWRLZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhdGNoYWxsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmLmNhdGNoYWxsPy5fem9kLmRlZi50eXBlID09PSBcIm5ldmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHJpY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghZGVmLmNhdGNoYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVndWxhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlvID09PSBcIm91dHB1dFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkZWYuY2F0Y2hhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gdGhpcy5wcm9jZXNzKGRlZi5jYXRjaGFsbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmlvblwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gZGVmLm9wdGlvbnMubWFwKCh4LCBpKSA9PiB0aGlzLnByb2Nlc3MoeCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiYW55T2ZcIiwgaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFueU9mID0gb3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnRlcnNlY3Rpb25cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYSA9IHRoaXMucHJvY2VzcyhkZWYubGVmdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiYWxsT2ZcIiwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGIgPSB0aGlzLnByb2Nlc3MoZGVmLnJpZ2h0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJhbGxPZlwiLCAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTaW1wbGVJbnRlcnNlY3Rpb24gPSAodmFsKSA9PiBcImFsbE9mXCIgaW4gdmFsICYmIE9iamVjdC5rZXlzKHZhbCkubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsT2YgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGlzU2ltcGxlSW50ZXJzZWN0aW9uKGEpID8gYS5hbGxPZiA6IFthXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGlzU2ltcGxlSW50ZXJzZWN0aW9uKGIpID8gYi5hbGxPZiA6IFtiXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hbGxPZiA9IGFsbE9mO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInR1cGxlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZWZpeFBhdGggPSB0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIgPyBcInByZWZpeEl0ZW1zXCIgOiBcIml0ZW1zXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN0UGF0aCA9IHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwiaXRlbXNcIiA6IHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIgPyBcIml0ZW1zXCIgOiBcImFkZGl0aW9uYWxJdGVtc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlZml4SXRlbXMgPSBkZWYuaXRlbXMubWFwKCh4LCBpKSA9PiB0aGlzLnByb2Nlc3MoeCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIHByZWZpeFBhdGgsIGldLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdCA9IGRlZi5yZXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnByb2Nlc3MoZGVmLnJlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIHJlc3RQYXRoLCAuLi4odGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIiA/IFtkZWYuaXRlbXMubGVuZ3RoXSA6IFtdKV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5wcmVmaXhJdGVtcyA9IHByZWZpeEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMgPSByZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLml0ZW1zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnlPZjogcHJlZml4SXRlbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLml0ZW1zLmFueU9mLnB1c2gocmVzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWluSXRlbXMgPSBwcmVmaXhJdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWF4SXRlbXMgPSBwcmVmaXhJdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5pdGVtcyA9IHByZWZpeEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uYWRkaXRpb25hbEl0ZW1zID0gcmVzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWluaW11bSwgbWF4aW11bSB9ID0gc2NoZW1hLl96b2QuYmFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtaW5pbXVtID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWluSXRlbXMgPSBtaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtYXhpbXVtID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWF4SXRlbXMgPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlY29yZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcIm9iamVjdFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTdcIiB8fCB0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnByb3BlcnR5TmFtZXMgPSB0aGlzLnByb2Nlc3MoZGVmLmtleVR5cGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwicHJvcGVydHlOYW1lc1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMgPSB0aGlzLnByb2Nlc3MoZGVmLnZhbHVlVHlwZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtYXBcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYXAgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNldFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNldCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBnZXRFbnVtVmFsdWVzKGRlZi5lbnRyaWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE51bWJlciBlbnVtcyBjYW4gaGF2ZSBib3RoIHN0cmluZyBhbmQgbnVtYmVyIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5ldmVyeSgodikgPT4gdHlwZW9mIHYgPT09IFwibnVtYmVyXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmV2ZXJ5KCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZW51bSA9IHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsaXRlcmFsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdmFsIG9mIGRlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxpdGVyYWwgYHVuZGVmaW5lZGAgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCB0byB2YWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmlnSW50IGxpdGVyYWxzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMucHVzaChOdW1iZXIodmFsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMucHVzaCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcgKGFuIHVuZGVmaW5lZCBsaXRlcmFsIHdhcyBzdHJpcHBlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gdmFsc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSB2YWwgPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiB2YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTRcIiB8fCB0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZW51bSA9IFt2YWxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5jb25zdCA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5ldmVyeSgodikgPT4gdHlwZW9mIHYgPT09IFwibnVtYmVyXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmV2ZXJ5KCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHMuZXZlcnkoKHYpID0+IHR5cGVvZiB2ID09PSBcImJvb2xlYW5cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHMuZXZlcnkoKHYpID0+IHYgPT09IG51bGwpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmVudW0gPSB2YWxzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJiaW5hcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50RW5jb2Rpbmc6IFwiYmluYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtLCBtaW1lIH0gPSBzY2hlbWEuX3pvZC5iYWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWluaW11bSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUubWluTGVuZ3RoID0gbWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXhpbXVtICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5tYXhMZW5ndGggPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWltZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5jb250ZW50TWVkaWFUeXBlID0gbWltZVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihqc29uLCBmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uYW55T2YgPSBtaW1lLm1hcCgobSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbUZpbGUgPSB7IC4uLmZpbGUsIGNvbnRlbnRNZWRpYVR5cGU6IG0gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihqc29uLCBmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHRocm93IG5ldyBFcnJvcihcIkZpbGUgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRyYW5zZm9ybVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zZm9ybXMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm51bGxhYmxlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLm51bGxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLmFueU9mID0gW2lubmVyLCB7IHR5cGU6IFwibnVsbFwiIH1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vbm9wdGlvbmFsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3VjY2Vzc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcImJvb2xlYW5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5kZWZhdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkZWYuZGVmYXVsdFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicHJlZmF1bHRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlvID09PSBcImlucHV0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24uX3ByZWZhdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkZWYuZGVmYXVsdFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2F0Y2hcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlIGNvbmRpdGlvbmFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYXRjaFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaFZhbHVlID0gZGVmLmNhdGNoVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEeW5hbWljIGNhdGNoIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLmRlZmF1bHQgPSBjYXRjaFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5hblwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5hTiBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidGVtcGxhdGVfbGl0ZXJhbFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gc2NoZW1hLl96b2QucGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGF0dGVybilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXR0ZXJuIG5vdCBmb3VuZCBpbiB0ZW1wbGF0ZSBsaXRlcmFsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucGF0dGVybiA9IHBhdHRlcm4uc291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBpcGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5uZXJUeXBlID0gdGhpcy5pbyA9PT0gXCJpbnB1dFwiID8gKGRlZi5pbi5fem9kLmRlZi50eXBlID09PSBcInRyYW5zZm9ybVwiID8gZGVmLm91dCA6IGRlZi5pbikgOiBkZWYub3V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBpbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVhZG9ubHlcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3N0aHJvdWdoIHR5cGVzXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwcm9taXNlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3B0aW9uYWxcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsYXp5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyVHlwZSA9IHNjaGVtYS5fem9kLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzcyhpbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImN1c3RvbVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkN1c3RvbSB0eXBlcyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbiB0eXBlcyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWV0YWRhdGFcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMubWV0YWRhdGFSZWdpc3RyeS5nZXQoc2NoZW1hKTtcbiAgICAgICAgaWYgKG1ldGEpXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHJlc3VsdC5zY2hlbWEsIG1ldGEpO1xuICAgICAgICBpZiAodGhpcy5pbyA9PT0gXCJpbnB1dFwiICYmIGlzVHJhbnNmb3JtaW5nKHNjaGVtYSkpIHtcbiAgICAgICAgICAgIC8vIGV4YW1wbGVzL2RlZmF1bHRzIG9ubHkgYXBwbHkgdG8gb3V0cHV0IHR5cGUgb2YgcGlwZVxuICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC5zY2hlbWEuZXhhbXBsZXM7XG4gICAgICAgICAgICBkZWxldGUgcmVzdWx0LnNjaGVtYS5kZWZhdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBwcmVmYXVsdCBhcyBkZWZhdWx0XG4gICAgICAgIGlmICh0aGlzLmlvID09PSBcImlucHV0XCIgJiYgcmVzdWx0LnNjaGVtYS5fcHJlZmF1bHQpXG4gICAgICAgICAgICAoX2EgPSByZXN1bHQuc2NoZW1hKS5kZWZhdWx0ID8/IChfYS5kZWZhdWx0ID0gcmVzdWx0LnNjaGVtYS5fcHJlZmF1bHQpO1xuICAgICAgICBkZWxldGUgcmVzdWx0LnNjaGVtYS5fcHJlZmF1bHQ7XG4gICAgICAgIC8vIHB1bGxpbmcgZnJlc2ggZnJvbSB0aGlzLnNlZW4gaW4gY2FzZSBpdCB3YXMgb3ZlcndyaXR0ZW5cbiAgICAgICAgY29uc3QgX3Jlc3VsdCA9IHRoaXMuc2Vlbi5nZXQoc2NoZW1hKTtcbiAgICAgICAgcmV0dXJuIF9yZXN1bHQuc2NoZW1hO1xuICAgIH1cbiAgICBlbWl0KHNjaGVtYSwgX3BhcmFtcykge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBjeWNsZXM6IF9wYXJhbXM/LmN5Y2xlcyA/PyBcInJlZlwiLFxuICAgICAgICAgICAgcmV1c2VkOiBfcGFyYW1zPy5yZXVzZWQgPz8gXCJpbmxpbmVcIixcbiAgICAgICAgICAgIC8vIHVucmVwcmVzZW50YWJsZTogX3BhcmFtcz8udW5yZXByZXNlbnRhYmxlID8/IFwidGhyb3dcIixcbiAgICAgICAgICAgIC8vIHVyaTogX3BhcmFtcz8udXJpID8/ICgoaWQpID0+IGAke2lkfWApLFxuICAgICAgICAgICAgZXh0ZXJuYWw6IF9wYXJhbXM/LmV4dGVybmFsID8/IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHNlZW4gbWFwO1xuICAgICAgICBjb25zdCByb290ID0gdGhpcy5zZWVuLmdldChzY2hlbWEpO1xuICAgICAgICBpZiAoIXJvb3QpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnByb2Nlc3NlZCBzY2hlbWEuIFRoaXMgaXMgYSBidWcgaW4gWm9kLlwiKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSByZXN1bHQgd2l0aCByb290IHNjaGVtYSBmaWVsZHNcbiAgICAgICAgLy8gT2JqZWN0LmFzc2lnbihyZXN1bHQsIHNlZW4uY2FjaGVkKTtcbiAgICAgICAgLy8gcmV0dXJucyBhIHJlZiB0byB0aGUgc2NoZW1hXG4gICAgICAgIC8vIGRlZklkIHdpbGwgYmUgZW1wdHkgaWYgdGhlIHJlZiBwb2ludHMgdG8gYW4gZXh0ZXJuYWwgc2NoZW1hIChvciAjKVxuICAgICAgICBjb25zdCBtYWtlVVJJID0gKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAvLyBjb21wYXJpbmcgdGhlIHNlZW4gb2JqZWN0cyBiZWNhdXNlIHNvbWV0aW1lc1xuICAgICAgICAgICAgLy8gbXVsdGlwbGUgc2NoZW1hcyBtYXAgdG8gdGhlIHNhbWUgc2VlbiBvYmplY3QuXG4gICAgICAgICAgICAvLyBlLmcuIGxhenlcbiAgICAgICAgICAgIC8vIGV4dGVybmFsIGlzIGNvbmZpZ3VyZWRcbiAgICAgICAgICAgIGNvbnN0IGRlZnNTZWdtZW50ID0gdGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiID8gXCIkZGVmc1wiIDogXCJkZWZpbml0aW9uc1wiO1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5leHRlcm5hbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVybmFsSWQgPSBwYXJhbXMuZXh0ZXJuYWwucmVnaXN0cnkuZ2V0KGVudHJ5WzBdKT8uaWQ7IC8vID8/IFwiX19zaGFyZWRcIjsvLyBgX19zY2hlbWEke3RoaXMuY291bnRlcisrfWA7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgc2NoZW1hIGlzIGluIHRoZSBleHRlcm5hbCByZWdpc3RyeVxuICAgICAgICAgICAgICAgIGNvbnN0IHVyaUdlbmVyYXRvciA9IHBhcmFtcy5leHRlcm5hbC51cmkgPz8gKChpZCkgPT4gaWQpO1xuICAgICAgICAgICAgICAgIGlmIChleHRlcm5hbElkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlZjogdXJpR2VuZXJhdG9yKGV4dGVybmFsSWQpIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgYWRkIHRvIF9fc2hhcmVkXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBlbnRyeVsxXS5kZWZJZCA/PyBlbnRyeVsxXS5zY2hlbWEuaWQgPz8gYHNjaGVtYSR7dGhpcy5jb3VudGVyKyt9YDtcbiAgICAgICAgICAgICAgICBlbnRyeVsxXS5kZWZJZCA9IGlkOyAvLyBzZXQgZGVmSWQgc28gaXQgd2lsbCBiZSByZXVzZWQgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGVmSWQ6IGlkLCByZWY6IGAke3VyaUdlbmVyYXRvcihcIl9fc2hhcmVkXCIpfSMvJHtkZWZzU2VnbWVudH0vJHtpZH1gIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW50cnlbMV0gPT09IHJvb3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZWY6IFwiI1wiIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZWxmLWNvbnRhaW5lZCBzY2hlbWFcbiAgICAgICAgICAgIGNvbnN0IHVyaVByZWZpeCA9IGAjYDtcbiAgICAgICAgICAgIGNvbnN0IGRlZlVyaVByZWZpeCA9IGAke3VyaVByZWZpeH0vJHtkZWZzU2VnbWVudH0vYDtcbiAgICAgICAgICAgIGNvbnN0IGRlZklkID0gZW50cnlbMV0uc2NoZW1hLmlkID8/IGBfX3NjaGVtYSR7dGhpcy5jb3VudGVyKyt9YDtcbiAgICAgICAgICAgIHJldHVybiB7IGRlZklkLCByZWY6IGRlZlVyaVByZWZpeCArIGRlZklkIH07XG4gICAgICAgIH07XG4gICAgICAgIC8vIHN0b3JlZCBjYWNoZWQgdmVyc2lvbiBpbiBgZGVmYCBwcm9wZXJ0eVxuICAgICAgICAvLyByZW1vdmUgYWxsIHByb3BlcnRpZXMsIHNldCAkcmVmXG4gICAgICAgIGNvbnN0IGV4dHJhY3RUb0RlZiA9IChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNjaGVtYSBpcyBhbHJlYWR5IGEgcmVmZXJlbmNlLCBkbyBub3QgZXh0cmFjdCBpdFxuICAgICAgICAgICAgaWYgKGVudHJ5WzFdLnNjaGVtYS4kcmVmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgY29uc3QgeyByZWYsIGRlZklkIH0gPSBtYWtlVVJJKGVudHJ5KTtcbiAgICAgICAgICAgIHNlZW4uZGVmID0geyAuLi5zZWVuLnNjaGVtYSB9O1xuICAgICAgICAgICAgLy8gZGVmSWQgd29uJ3QgYmUgc2V0IGlmIHRoZSBzY2hlbWEgaXMgYSByZWZlcmVuY2UgdG8gYW4gZXh0ZXJuYWwgc2NoZW1hXG4gICAgICAgICAgICBpZiAoZGVmSWQpXG4gICAgICAgICAgICAgICAgc2Vlbi5kZWZJZCA9IGRlZklkO1xuICAgICAgICAgICAgLy8gd2lwZSBhd2F5IGFsbCBwcm9wZXJ0aWVzIGV4Y2VwdCAkcmVmXG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBzZWVuLnNjaGVtYTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWFba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjaGVtYS4kcmVmID0gcmVmO1xuICAgICAgICB9O1xuICAgICAgICAvLyB0aHJvdyBvbiBjeWNsZXNcbiAgICAgICAgLy8gYnJlYWsgY3ljbGVzXG4gICAgICAgIGlmIChwYXJhbXMuY3ljbGVzID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5zZWVuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBlbnRyeVsxXTtcbiAgICAgICAgICAgICAgICBpZiAoc2Vlbi5jeWNsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDeWNsZSBkZXRlY3RlZDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCMvJHtzZWVuLmN5Y2xlPy5qb2luKFwiL1wiKX0vPHJvb3Q+YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFxuXFxuU2V0IHRoZSBgY3ljbGVzYCBwYXJhbWV0ZXIgdG8gYFwicmVmXCJgIHRvIHJlc29sdmUgY3ljbGljYWwgc2NoZW1hcyB3aXRoIGRlZnMuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGV4dHJhY3Qgc2NoZW1hcyBpbnRvICRkZWZzXG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5zZWVuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgLy8gY29udmVydCByb290IHNjaGVtYSB0byAjICRyZWZcbiAgICAgICAgICAgIGlmIChzY2hlbWEgPT09IGVudHJ5WzBdKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTsgLy8gdGhpcyBoYXMgc3BlY2lhbCBoYW5kbGluZyBmb3IgdGhlIHJvb3Qgc2NoZW1hXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHRyYWN0IHNjaGVtYXMgdGhhdCBhcmUgaW4gdGhlIGV4dGVybmFsIHJlZ2lzdHJ5XG4gICAgICAgICAgICBpZiAocGFyYW1zLmV4dGVybmFsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gcGFyYW1zLmV4dGVybmFsLnJlZ2lzdHJ5LmdldChlbnRyeVswXSk/LmlkO1xuICAgICAgICAgICAgICAgIGlmIChzY2hlbWEgIT09IGVudHJ5WzBdICYmIGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHRyYWN0IHNjaGVtYXMgd2l0aCBgaWRgIG1ldGFcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5tZXRhZGF0YVJlZ2lzdHJ5LmdldChlbnRyeVswXSk/LmlkO1xuICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJyZWFrIGN5Y2xlc1xuICAgICAgICAgICAgaWYgKHNlZW4uY3ljbGUpIHtcbiAgICAgICAgICAgICAgICAvLyBhbnlcbiAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXh0cmFjdCByZXVzZWQgc2NoZW1hc1xuICAgICAgICAgICAgaWYgKHNlZW4uY291bnQgPiAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5yZXVzZWQgPT09IFwicmVmXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBmbGF0dGVuIF9yZWZzXG4gICAgICAgIGNvbnN0IGZsYXR0ZW5SZWYgPSAoem9kU2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlZW4gPSB0aGlzLnNlZW4uZ2V0KHpvZFNjaGVtYSk7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBzZWVuLmRlZiA/PyBzZWVuLnNjaGVtYTtcbiAgICAgICAgICAgIGNvbnN0IF9jYWNoZWQgPSB7IC4uLnNjaGVtYSB9O1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBzZWVuXG4gICAgICAgICAgICBpZiAoc2Vlbi5yZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmbGF0dGVuIHJlZiBpZiBkZWZpbmVkXG4gICAgICAgICAgICBjb25zdCByZWYgPSBzZWVuLnJlZjtcbiAgICAgICAgICAgIHNlZW4ucmVmID0gbnVsbDsgLy8gcHJldmVudCByZWN1cnNpb25cbiAgICAgICAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgICAgICAgICBmbGF0dGVuUmVmKHJlZiwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAvLyBtZXJnZSByZWZlcmVuY2VkIHNjaGVtYSBpbnRvIGN1cnJlbnRcbiAgICAgICAgICAgICAgICBjb25zdCByZWZTY2hlbWEgPSB0aGlzLnNlZW4uZ2V0KHJlZikuc2NoZW1hO1xuICAgICAgICAgICAgICAgIGlmIChyZWZTY2hlbWEuJHJlZiAmJlxuICAgICAgICAgICAgICAgICAgICAocGFyYW1zLnRhcmdldCA9PT0gXCJkcmFmdC03XCIgfHwgcGFyYW1zLnRhcmdldCA9PT0gXCJkcmFmdC00XCIgfHwgcGFyYW1zLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEuYWxsT2YgPSBzY2hlbWEuYWxsT2YgPz8gW107XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5hbGxPZi5wdXNoKHJlZlNjaGVtYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHNjaGVtYSwgcmVmU2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzY2hlbWEsIF9jYWNoZWQpOyAvLyBwcmV2ZW50IG92ZXJ3cml0aW5nIGFueSBmaWVsZHMgaW4gdGhlIG9yaWdpbmFsIHNjaGVtYVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4ZWN1dGUgb3ZlcnJpZGVzXG4gICAgICAgICAgICBpZiAoIXNlZW4uaXNQYXJlbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5vdmVycmlkZSh7XG4gICAgICAgICAgICAgICAgICAgIHpvZFNjaGVtYTogem9kU2NoZW1hLFxuICAgICAgICAgICAgICAgICAgICBqc29uU2NoZW1hOiBzY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHNlZW4ucGF0aCA/PyBbXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBbLi4udGhpcy5zZWVuLmVudHJpZXMoKV0ucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICBmbGF0dGVuUmVmKGVudHJ5WzBdLCB7IHRhcmdldDogdGhpcy50YXJnZXQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC4kc2NoZW1hID0gXCJodHRwczovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC8yMDIwLTEyL3NjaGVtYVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTdcIikge1xuICAgICAgICAgICAgcmVzdWx0LiRzY2hlbWEgPSBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hI1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTRcIikge1xuICAgICAgICAgICAgcmVzdWx0LiRzY2hlbWEgPSBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDQvc2NoZW1hI1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpIHtcbiAgICAgICAgICAgIC8vIE9wZW5BUEkgMy4wIHNjaGVtYSBvYmplY3RzIHNob3VsZCBub3QgaW5jbHVkZSBhICRzY2hlbWEgcHJvcGVydHlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCB0YXJnZXQ6ICR7dGhpcy50YXJnZXR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5leHRlcm5hbD8udXJpKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHBhcmFtcy5leHRlcm5hbC5yZWdpc3RyeS5nZXQoc2NoZW1hKT8uaWQ7XG4gICAgICAgICAgICBpZiAoIWlkKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSBpcyBtaXNzaW5nIGFuIGBpZGAgcHJvcGVydHlcIik7XG4gICAgICAgICAgICByZXN1bHQuJGlkID0gcGFyYW1zLmV4dGVybmFsLnVyaShpZCk7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmFzc2lnbihyZXN1bHQsIHJvb3QuZGVmKTtcbiAgICAgICAgLy8gYnVpbGQgZGVmcyBvYmplY3RcbiAgICAgICAgY29uc3QgZGVmcyA9IHBhcmFtcy5leHRlcm5hbD8uZGVmcyA/PyB7fTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLnNlZW4uZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBzZWVuID0gZW50cnlbMV07XG4gICAgICAgICAgICBpZiAoc2Vlbi5kZWYgJiYgc2Vlbi5kZWZJZCkge1xuICAgICAgICAgICAgICAgIGRlZnNbc2Vlbi5kZWZJZF0gPSBzZWVuLmRlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgZGVmaW5pdGlvbnMgaW4gcmVzdWx0XG4gICAgICAgIGlmIChwYXJhbXMuZXh0ZXJuYWwpIHtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhkZWZzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuJGRlZnMgPSBkZWZzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlZmluaXRpb25zID0gZGVmcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIHRoaXMgXCJmaW5hbGl6ZXNcIiB0aGlzIHNjaGVtYSBhbmQgZW5zdXJlcyBhbGwgY3ljbGVzIGFyZSByZW1vdmVkXG4gICAgICAgICAgICAvLyBlYWNoIGNhbGwgdG8gLmVtaXQoKSBpcyBmdW5jdGlvbmFsbHkgaW5kZXBlbmRlbnRcbiAgICAgICAgICAgIC8vIHRob3VnaCB0aGUgc2VlbiBtYXAgaXMgc2hhcmVkXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2Vycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY29udmVydGluZyBzY2hlbWEgdG8gSlNPTi5cIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdG9KU09OU2NoZW1hKGlucHV0LCBfcGFyYW1zKSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgJFpvZFJlZ2lzdHJ5KSB7XG4gICAgICAgIGNvbnN0IGdlbiA9IG5ldyBKU09OU2NoZW1hR2VuZXJhdG9yKF9wYXJhbXMpO1xuICAgICAgICBjb25zdCBkZWZzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQuX2lkbWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3QgW18sIHNjaGVtYV0gPSBlbnRyeTtcbiAgICAgICAgICAgIGdlbi5wcm9jZXNzKHNjaGVtYSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NoZW1hcyA9IHt9O1xuICAgICAgICBjb25zdCBleHRlcm5hbCA9IHtcbiAgICAgICAgICAgIHJlZ2lzdHJ5OiBpbnB1dCxcbiAgICAgICAgICAgIHVyaTogX3BhcmFtcz8udXJpLFxuICAgICAgICAgICAgZGVmcyxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dC5faWRtYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBba2V5LCBzY2hlbWFdID0gZW50cnk7XG4gICAgICAgICAgICBzY2hlbWFzW2tleV0gPSBnZW4uZW1pdChzY2hlbWEsIHtcbiAgICAgICAgICAgICAgICAuLi5fcGFyYW1zLFxuICAgICAgICAgICAgICAgIGV4dGVybmFsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRlZnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZnNTZWdtZW50ID0gZ2VuLnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIgPyBcIiRkZWZzXCIgOiBcImRlZmluaXRpb25zXCI7XG4gICAgICAgICAgICBzY2hlbWFzLl9fc2hhcmVkID0ge1xuICAgICAgICAgICAgICAgIFtkZWZzU2VnbWVudF06IGRlZnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHNjaGVtYXMgfTtcbiAgICB9XG4gICAgY29uc3QgZ2VuID0gbmV3IEpTT05TY2hlbWFHZW5lcmF0b3IoX3BhcmFtcyk7XG4gICAgZ2VuLnByb2Nlc3MoaW5wdXQpO1xuICAgIHJldHVybiBnZW4uZW1pdChpbnB1dCwgX3BhcmFtcyk7XG59XG5mdW5jdGlvbiBpc1RyYW5zZm9ybWluZyhfc2NoZW1hLCBfY3R4KSB7XG4gICAgY29uc3QgY3R4ID0gX2N0eCA/PyB7IHNlZW46IG5ldyBTZXQoKSB9O1xuICAgIGlmIChjdHguc2Vlbi5oYXMoX3NjaGVtYSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjdHguc2Vlbi5hZGQoX3NjaGVtYSk7XG4gICAgY29uc3Qgc2NoZW1hID0gX3NjaGVtYTtcbiAgICBjb25zdCBkZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgc3dpdGNoIChkZWYudHlwZSkge1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICBjYXNlIFwiZGF0ZVwiOlxuICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgY2FzZSBcIm51bGxcIjpcbiAgICAgICAgY2FzZSBcImFueVwiOlxuICAgICAgICBjYXNlIFwidW5rbm93blwiOlxuICAgICAgICBjYXNlIFwibmV2ZXJcIjpcbiAgICAgICAgY2FzZSBcInZvaWRcIjpcbiAgICAgICAgY2FzZSBcImxpdGVyYWxcIjpcbiAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgY2FzZSBcIm5hblwiOlxuICAgICAgICBjYXNlIFwiZmlsZVwiOlxuICAgICAgICBjYXNlIFwidGVtcGxhdGVfbGl0ZXJhbFwiOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlIFwiYXJyYXlcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5lbGVtZW50LCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVmLnNoYXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVHJhbnNmb3JtaW5nKGRlZi5zaGFwZVtrZXldLCBjdHgpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidW5pb25cIjoge1xuICAgICAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgZGVmLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNUcmFuc2Zvcm1pbmcob3B0aW9uLCBjdHgpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiaW50ZXJzZWN0aW9uXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYubGVmdCwgY3R4KSB8fCBpc1RyYW5zZm9ybWluZyhkZWYucmlnaHQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInR1cGxlXCI6IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBkZWYuaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNUcmFuc2Zvcm1pbmcoaXRlbSwgY3R4KSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVmLnJlc3QgJiYgaXNUcmFuc2Zvcm1pbmcoZGVmLnJlc3QsIGN0eCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInJlY29yZFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmtleVR5cGUsIGN0eCkgfHwgaXNUcmFuc2Zvcm1pbmcoZGVmLnZhbHVlVHlwZSwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwibWFwXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYua2V5VHlwZSwgY3R4KSB8fCBpc1RyYW5zZm9ybWluZyhkZWYudmFsdWVUeXBlLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzZXRcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi52YWx1ZVR5cGUsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5uZXIgdHlwZXNcbiAgICAgICAgY2FzZSBcInByb21pc2VcIjpcbiAgICAgICAgY2FzZSBcIm9wdGlvbmFsXCI6XG4gICAgICAgIGNhc2UgXCJub25vcHRpb25hbFwiOlxuICAgICAgICBjYXNlIFwibnVsbGFibGVcIjpcbiAgICAgICAgY2FzZSBcInJlYWRvbmx5XCI6XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmlubmVyVHlwZSwgY3R4KTtcbiAgICAgICAgY2FzZSBcImxhenlcIjpcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuZ2V0dGVyKCksIGN0eCk7XG4gICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuaW5uZXJUeXBlLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJwcmVmYXVsdFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmlubmVyVHlwZSwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiY3VzdG9tXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidHJhbnNmb3JtXCI6IHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJwaXBlXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuaW4sIGN0eCkgfHwgaXNUcmFuc2Zvcm1pbmcoZGVmLm91dCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwic3VjY2Vzc1wiOiB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImNhdGNoXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjoge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBkZWY7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzY2hlbWEgdHlwZTogJHtkZWYudHlwZX1gKTtcbn1cbiIsICJleHBvcnQge307XG4iLCAiaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0ICogYXMgc2NoZW1hcyBmcm9tIFwiLi9zY2hlbWFzLmpzXCI7XG5leHBvcnQgY29uc3QgWm9kSVNPRGF0ZVRpbWUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kSVNPRGF0ZVRpbWVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZElTT0RhdGVUaW1lLmluaXQoaW5zdCwgZGVmKTtcbiAgICBzY2hlbWFzLlpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBkYXRldGltZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faXNvRGF0ZVRpbWUoWm9kSVNPRGF0ZVRpbWUsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kSVNPRGF0ZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RJU09EYXRlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RJU09EYXRlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBzY2hlbWFzLlpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBkYXRlKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pc29EYXRlKFpvZElTT0RhdGUsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kSVNPVGltZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RJU09UaW1lXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RJU09UaW1lLmluaXQoaW5zdCwgZGVmKTtcbiAgICBzY2hlbWFzLlpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB0aW1lKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pc29UaW1lKFpvZElTT1RpbWUsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kSVNPRHVyYXRpb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kSVNPRHVyYXRpb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZElTT0R1cmF0aW9uLmluaXQoaW5zdCwgZGVmKTtcbiAgICBzY2hlbWFzLlpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBkdXJhdGlvbihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faXNvRHVyYXRpb24oWm9kSVNPRHVyYXRpb24sIHBhcmFtcyk7XG59XG4iLCAiaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgJFpvZEVycm9yIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgaW5pdGlhbGl6ZXIgPSAoaW5zdCwgaXNzdWVzKSA9PiB7XG4gICAgJFpvZEVycm9yLmluaXQoaW5zdCwgaXNzdWVzKTtcbiAgICBpbnN0Lm5hbWUgPSBcIlpvZEVycm9yXCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaW5zdCwge1xuICAgICAgICBmb3JtYXQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAobWFwcGVyKSA9PiBjb3JlLmZvcm1hdEVycm9yKGluc3QsIG1hcHBlciksXG4gICAgICAgICAgICAvLyBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgZmxhdHRlbjoge1xuICAgICAgICAgICAgdmFsdWU6IChtYXBwZXIpID0+IGNvcmUuZmxhdHRlbkVycm9yKGluc3QsIG1hcHBlciksXG4gICAgICAgICAgICAvLyBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgYWRkSXNzdWU6IHtcbiAgICAgICAgICAgIHZhbHVlOiAoaXNzdWUpID0+IHtcbiAgICAgICAgICAgICAgICBpbnN0Lmlzc3Vlcy5wdXNoKGlzc3VlKTtcbiAgICAgICAgICAgICAgICBpbnN0Lm1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShpbnN0Lmlzc3VlcywgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBhZGRJc3N1ZXM6IHtcbiAgICAgICAgICAgIHZhbHVlOiAoaXNzdWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5zdC5pc3N1ZXMucHVzaCguLi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIGluc3QubWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGluc3QuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIGlzRW1wdHk6IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdC5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcImlzRW1wdHlcIiwge1xuICAgIC8vICAgZ2V0KCkge1xuICAgIC8vICAgICByZXR1cm4gaW5zdC5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgIC8vICAgfSxcbiAgICAvLyB9KTtcbn07XG5leHBvcnQgY29uc3QgWm9kRXJyb3IgPSBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEVycm9yXCIsIGluaXRpYWxpemVyKTtcbmV4cG9ydCBjb25zdCBab2RSZWFsRXJyb3IgPSBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEVycm9yXCIsIGluaXRpYWxpemVyLCB7XG4gICAgUGFyZW50OiBFcnJvcixcbn0pO1xuLy8gLyoqIEBkZXByZWNhdGVkIFVzZSBgei5jb3JlLiRab2RFcnJvck1hcEN0eGAgaW5zdGVhZC4gKi9cbi8vIGV4cG9ydCB0eXBlIEVycm9yTWFwQ3R4ID0gY29yZS4kWm9kRXJyb3JNYXBDdHg7XG4iLCAiaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgWm9kUmVhbEVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2UgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fcGFyc2UoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBwYXJzZUFzeW5jID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3BhcnNlQXN5bmMoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBzYWZlUGFyc2UgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fc2FmZVBhcnNlKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3Qgc2FmZVBhcnNlQXN5bmMgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fc2FmZVBhcnNlQXN5bmMoWm9kUmVhbEVycm9yKTtcbi8vIENvZGVjIGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGVuY29kZSA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9lbmNvZGUoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBkZWNvZGUgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fZGVjb2RlKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgZW5jb2RlQXN5bmMgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fZW5jb2RlQXN5bmMoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBkZWNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9kZWNvZGVBc3luYyhab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IHNhZmVFbmNvZGUgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fc2FmZUVuY29kZShab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IHNhZmVEZWNvZGUgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fc2FmZURlY29kZShab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IHNhZmVFbmNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9zYWZlRW5jb2RlQXN5bmMoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBzYWZlRGVjb2RlQXN5bmMgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fc2FmZURlY29kZUFzeW5jKFpvZFJlYWxFcnJvcik7XG4iLCAiaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdXRpbCB9IGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgKiBhcyBjaGVja3MgZnJvbSBcIi4vY2hlY2tzLmpzXCI7XG5pbXBvcnQgKiBhcyBpc28gZnJvbSBcIi4vaXNvLmpzXCI7XG5pbXBvcnQgKiBhcyBwYXJzZSBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuZXhwb3J0IGNvbnN0IFpvZFR5cGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVHlwZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5kZWYgPSBkZWY7XG4gICAgaW5zdC50eXBlID0gZGVmLnR5cGU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwiX2RlZlwiLCB7IHZhbHVlOiBkZWYgfSk7XG4gICAgLy8gYmFzZSBtZXRob2RzXG4gICAgaW5zdC5jaGVjayA9ICguLi5jaGVja3MpID0+IHtcbiAgICAgICAgcmV0dXJuIGluc3QuY2xvbmUoe1xuICAgICAgICAgICAgLi4uZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4uKGRlZi5jaGVja3MgPz8gW10pLFxuICAgICAgICAgICAgICAgIC4uLmNoZWNrcy5tYXAoKGNoKSA9PiB0eXBlb2YgY2ggPT09IFwiZnVuY3Rpb25cIiA/IHsgX3pvZDogeyBjaGVjazogY2gsIGRlZjogeyBjaGVjazogXCJjdXN0b21cIiB9LCBvbmF0dGFjaDogW10gfSB9IDogY2gpLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgICAvLyB7IHBhcmVudDogdHJ1ZSB9XG4gICAgICAgICk7XG4gICAgfTtcbiAgICBpbnN0LmNsb25lID0gKGRlZiwgcGFyYW1zKSA9PiBjb3JlLmNsb25lKGluc3QsIGRlZiwgcGFyYW1zKTtcbiAgICBpbnN0LmJyYW5kID0gKCkgPT4gaW5zdDtcbiAgICBpbnN0LnJlZ2lzdGVyID0gKChyZWcsIG1ldGEpID0+IHtcbiAgICAgICAgcmVnLmFkZChpbnN0LCBtZXRhKTtcbiAgICAgICAgcmV0dXJuIGluc3Q7XG4gICAgfSk7XG4gICAgLy8gcGFyc2luZ1xuICAgIGluc3QucGFyc2UgPSAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5wYXJzZShpbnN0LCBkYXRhLCBwYXJhbXMsIHsgY2FsbGVlOiBpbnN0LnBhcnNlIH0pO1xuICAgIGluc3Quc2FmZVBhcnNlID0gKGRhdGEsIHBhcmFtcykgPT4gcGFyc2Uuc2FmZVBhcnNlKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5wYXJzZUFzeW5jID0gYXN5bmMgKGRhdGEsIHBhcmFtcykgPT4gcGFyc2UucGFyc2VBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMsIHsgY2FsbGVlOiBpbnN0LnBhcnNlQXN5bmMgfSk7XG4gICAgaW5zdC5zYWZlUGFyc2VBc3luYyA9IGFzeW5jIChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLnNhZmVQYXJzZUFzeW5jKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5zcGEgPSBpbnN0LnNhZmVQYXJzZUFzeW5jO1xuICAgIC8vIGVuY29kaW5nL2RlY29kaW5nXG4gICAgaW5zdC5lbmNvZGUgPSAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5lbmNvZGUoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LmRlY29kZSA9IChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLmRlY29kZShpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3QuZW5jb2RlQXN5bmMgPSBhc3luYyAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5lbmNvZGVBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3QuZGVjb2RlQXN5bmMgPSBhc3luYyAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5kZWNvZGVBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3Quc2FmZUVuY29kZSA9IChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLnNhZmVFbmNvZGUoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LnNhZmVEZWNvZGUgPSAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5zYWZlRGVjb2RlKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5zYWZlRW5jb2RlQXN5bmMgPSBhc3luYyAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5zYWZlRW5jb2RlQXN5bmMoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LnNhZmVEZWNvZGVBc3luYyA9IGFzeW5jIChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLnNhZmVEZWNvZGVBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIC8vIHJlZmluZW1lbnRzXG4gICAgaW5zdC5yZWZpbmUgPSAoY2hlY2ssIHBhcmFtcykgPT4gaW5zdC5jaGVjayhyZWZpbmUoY2hlY2ssIHBhcmFtcykpO1xuICAgIGluc3Quc3VwZXJSZWZpbmUgPSAocmVmaW5lbWVudCkgPT4gaW5zdC5jaGVjayhzdXBlclJlZmluZShyZWZpbmVtZW50KSk7XG4gICAgaW5zdC5vdmVyd3JpdGUgPSAoZm4pID0+IGluc3QuY2hlY2soY2hlY2tzLm92ZXJ3cml0ZShmbikpO1xuICAgIC8vIHdyYXBwZXJzXG4gICAgaW5zdC5vcHRpb25hbCA9ICgpID0+IG9wdGlvbmFsKGluc3QpO1xuICAgIGluc3QubnVsbGFibGUgPSAoKSA9PiBudWxsYWJsZShpbnN0KTtcbiAgICBpbnN0Lm51bGxpc2ggPSAoKSA9PiBvcHRpb25hbChudWxsYWJsZShpbnN0KSk7XG4gICAgaW5zdC5ub25vcHRpb25hbCA9IChwYXJhbXMpID0+IG5vbm9wdGlvbmFsKGluc3QsIHBhcmFtcyk7XG4gICAgaW5zdC5hcnJheSA9ICgpID0+IGFycmF5KGluc3QpO1xuICAgIGluc3Qub3IgPSAoYXJnKSA9PiB1bmlvbihbaW5zdCwgYXJnXSk7XG4gICAgaW5zdC5hbmQgPSAoYXJnKSA9PiBpbnRlcnNlY3Rpb24oaW5zdCwgYXJnKTtcbiAgICBpbnN0LnRyYW5zZm9ybSA9ICh0eCkgPT4gcGlwZShpbnN0LCB0cmFuc2Zvcm0odHgpKTtcbiAgICBpbnN0LmRlZmF1bHQgPSAoZGVmKSA9PiBfZGVmYXVsdChpbnN0LCBkZWYpO1xuICAgIGluc3QucHJlZmF1bHQgPSAoZGVmKSA9PiBwcmVmYXVsdChpbnN0LCBkZWYpO1xuICAgIC8vIGluc3QuY29hbGVzY2UgPSAoZGVmLCBwYXJhbXMpID0+IGNvYWxlc2NlKGluc3QsIGRlZiwgcGFyYW1zKTtcbiAgICBpbnN0LmNhdGNoID0gKHBhcmFtcykgPT4gX2NhdGNoKGluc3QsIHBhcmFtcyk7XG4gICAgaW5zdC5waXBlID0gKHRhcmdldCkgPT4gcGlwZShpbnN0LCB0YXJnZXQpO1xuICAgIGluc3QucmVhZG9ubHkgPSAoKSA9PiByZWFkb25seShpbnN0KTtcbiAgICAvLyBtZXRhXG4gICAgaW5zdC5kZXNjcmliZSA9IChkZXNjcmlwdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBjbCA9IGluc3QuY2xvbmUoKTtcbiAgICAgICAgY29yZS5nbG9iYWxSZWdpc3RyeS5hZGQoY2wsIHsgZGVzY3JpcHRpb24gfSk7XG4gICAgICAgIHJldHVybiBjbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcImRlc2NyaXB0aW9uXCIsIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvcmUuZ2xvYmFsUmVnaXN0cnkuZ2V0KGluc3QpPy5kZXNjcmlwdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH0pO1xuICAgIGluc3QubWV0YSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvcmUuZ2xvYmFsUmVnaXN0cnkuZ2V0KGluc3QpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNsID0gaW5zdC5jbG9uZSgpO1xuICAgICAgICBjb3JlLmdsb2JhbFJlZ2lzdHJ5LmFkZChjbCwgYXJnc1swXSk7XG4gICAgICAgIHJldHVybiBjbDtcbiAgICB9O1xuICAgIC8vIGhlbHBlcnNcbiAgICBpbnN0LmlzT3B0aW9uYWwgPSAoKSA9PiBpbnN0LnNhZmVQYXJzZSh1bmRlZmluZWQpLnN1Y2Nlc3M7XG4gICAgaW5zdC5pc051bGxhYmxlID0gKCkgPT4gaW5zdC5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICByZXR1cm4gaW5zdDtcbn0pO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9ab2RTdHJpbmcgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiX1pvZFN0cmluZ1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kU3RyaW5nLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgIGluc3QuZm9ybWF0ID0gYmFnLmZvcm1hdCA/PyBudWxsO1xuICAgIGluc3QubWluTGVuZ3RoID0gYmFnLm1pbmltdW0gPz8gbnVsbDtcbiAgICBpbnN0Lm1heExlbmd0aCA9IGJhZy5tYXhpbXVtID8/IG51bGw7XG4gICAgLy8gdmFsaWRhdGlvbnNcbiAgICBpbnN0LnJlZ2V4ID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLnJlZ2V4KC4uLmFyZ3MpKTtcbiAgICBpbnN0LmluY2x1ZGVzID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLmluY2x1ZGVzKC4uLmFyZ3MpKTtcbiAgICBpbnN0LnN0YXJ0c1dpdGggPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3Muc3RhcnRzV2l0aCguLi5hcmdzKSk7XG4gICAgaW5zdC5lbmRzV2l0aCA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5lbmRzV2l0aCguLi5hcmdzKSk7XG4gICAgaW5zdC5taW4gPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3MubWluTGVuZ3RoKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lm1heCA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5tYXhMZW5ndGgoLi4uYXJncykpO1xuICAgIGluc3QubGVuZ3RoID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLmxlbmd0aCguLi5hcmdzKSk7XG4gICAgaW5zdC5ub25lbXB0eSA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5taW5MZW5ndGgoMSwgLi4uYXJncykpO1xuICAgIGluc3QubG93ZXJjYXNlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubG93ZXJjYXNlKHBhcmFtcykpO1xuICAgIGluc3QudXBwZXJjYXNlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MudXBwZXJjYXNlKHBhcmFtcykpO1xuICAgIC8vIHRyYW5zZm9ybXNcbiAgICBpbnN0LnRyaW0gPSAoKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy50cmltKCkpO1xuICAgIGluc3Qubm9ybWFsaXplID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLm5vcm1hbGl6ZSguLi5hcmdzKSk7XG4gICAgaW5zdC50b0xvd2VyQ2FzZSA9ICgpID0+IGluc3QuY2hlY2soY2hlY2tzLnRvTG93ZXJDYXNlKCkpO1xuICAgIGluc3QudG9VcHBlckNhc2UgPSAoKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy50b1VwcGVyQ2FzZSgpKTtcbn0pO1xuZXhwb3J0IGNvbnN0IFpvZFN0cmluZyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RTdHJpbmdcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFN0cmluZy5pbml0KGluc3QsIGRlZik7XG4gICAgX1pvZFN0cmluZy5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5lbWFpbCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fZW1haWwoWm9kRW1haWwsIHBhcmFtcykpO1xuICAgIGluc3QudXJsID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl91cmwoWm9kVVJMLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmp3dCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fand0KFpvZEpXVCwgcGFyYW1zKSk7XG4gICAgaW5zdC5lbW9qaSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fZW1vamkoWm9kRW1vamksIHBhcmFtcykpO1xuICAgIGluc3QuZ3VpZCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fZ3VpZChab2RHVUlELCBwYXJhbXMpKTtcbiAgICBpbnN0LnV1aWQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX3V1aWQoWm9kVVVJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC51dWlkdjQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX3V1aWR2NChab2RVVUlELCBwYXJhbXMpKTtcbiAgICBpbnN0LnV1aWR2NiA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fdXVpZHY2KFpvZFVVSUQsIHBhcmFtcykpO1xuICAgIGluc3QudXVpZHY3ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl91dWlkdjcoWm9kVVVJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC5uYW5vaWQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX25hbm9pZChab2ROYW5vSUQsIHBhcmFtcykpO1xuICAgIGluc3QuZ3VpZCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fZ3VpZChab2RHVUlELCBwYXJhbXMpKTtcbiAgICBpbnN0LmN1aWQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2N1aWQoWm9kQ1VJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC5jdWlkMiA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fY3VpZDIoWm9kQ1VJRDIsIHBhcmFtcykpO1xuICAgIGluc3QudWxpZCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fdWxpZChab2RVTElELCBwYXJhbXMpKTtcbiAgICBpbnN0LmJhc2U2NCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fYmFzZTY0KFpvZEJhc2U2NCwgcGFyYW1zKSk7XG4gICAgaW5zdC5iYXNlNjR1cmwgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2Jhc2U2NHVybChab2RCYXNlNjRVUkwsIHBhcmFtcykpO1xuICAgIGluc3QueGlkID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl94aWQoWm9kWElELCBwYXJhbXMpKTtcbiAgICBpbnN0LmtzdWlkID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9rc3VpZChab2RLU1VJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC5pcHY0ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9pcHY0KFpvZElQdjQsIHBhcmFtcykpO1xuICAgIGluc3QuaXB2NiA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5faXB2Nihab2RJUHY2LCBwYXJhbXMpKTtcbiAgICBpbnN0LmNpZHJ2NCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fY2lkcnY0KFpvZENJRFJ2NCwgcGFyYW1zKSk7XG4gICAgaW5zdC5jaWRydjYgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2NpZHJ2Nihab2RDSURSdjYsIHBhcmFtcykpO1xuICAgIGluc3QuZTE2NCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fZTE2NChab2RFMTY0LCBwYXJhbXMpKTtcbiAgICAvLyBpc29cbiAgICBpbnN0LmRhdGV0aW1lID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhpc28uZGF0ZXRpbWUocGFyYW1zKSk7XG4gICAgaW5zdC5kYXRlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhpc28uZGF0ZShwYXJhbXMpKTtcbiAgICBpbnN0LnRpbWUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGlzby50aW1lKHBhcmFtcykpO1xuICAgIGluc3QuZHVyYXRpb24gPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGlzby5kdXJhdGlvbihwYXJhbXMpKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZyhwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fc3RyaW5nKFpvZFN0cmluZywgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RTdHJpbmdGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kU3RyaW5nRm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIF9ab2RTdHJpbmcuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgWm9kRW1haWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRW1haWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kRW1haWwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBlbWFpbChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZW1haWwoWm9kRW1haWwsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kR1VJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RHVUlEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEdVSUQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBndWlkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9ndWlkKFpvZEdVSUQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kVVVJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RVVUlEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZFVVSUQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB1dWlkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91dWlkKFpvZFVVSUQsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gdXVpZHY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91dWlkdjQoWm9kVVVJRCwgcGFyYW1zKTtcbn1cbi8vIFpvZFVVSUR2NlxuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdXVpZHY2KFpvZFVVSUQsIHBhcmFtcyk7XG59XG4vLyBab2RVVUlEdjdcbmV4cG9ydCBmdW5jdGlvbiB1dWlkdjcocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3V1aWR2Nyhab2RVVUlELCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFVSTCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RVUkxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kVVJMLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdXJsKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91cmwoWm9kVVJMLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGh0dHBVcmwocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3VybChab2RVUkwsIHtcbiAgICAgICAgcHJvdG9jb2w6IC9eaHR0cHM/JC8sXG4gICAgICAgIGhvc3RuYW1lOiBjb3JlLnJlZ2V4ZXMuZG9tYWluLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZEVtb2ppID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEVtb2ppXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEVtb2ppLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZW1vamkocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2Vtb2ppKFpvZEVtb2ppLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZE5hbm9JRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROYW5vSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kTmFub0lELmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbmFub2lkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9uYW5vaWQoWm9kTmFub0lELCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZENVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ1VJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RDVUlELmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gY3VpZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY3VpZChab2RDVUlELCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZENVSUQyID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZENVSUQyXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZENVSUQyLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gY3VpZDIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2N1aWQyKFpvZENVSUQyLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFVMSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVUxJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RVTElELmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdWxpZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdWxpZChab2RVTElELCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFhJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RYSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kWElELmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24geGlkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl94aWQoWm9kWElELCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEtTVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEtTVUlEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEtTVUlELmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24ga3N1aWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2tzdWlkKFpvZEtTVUlELCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZElQdjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kSVB2NFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RJUHY0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gaXB2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faXB2NChab2RJUHY0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZElQdjYgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kSVB2NlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RJUHY2LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gaXB2NihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faXB2Nihab2RJUHY2LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZENJRFJ2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RDSURSdjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZENJRFJ2NC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGNpZHJ2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY2lkcnY0KFpvZENJRFJ2NCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RDSURSdjYgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ0lEUnY2XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RDSURSdjYuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBjaWRydjYocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NpZHJ2Nihab2RDSURSdjYsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQmFzZTY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEJhc2U2NFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RCYXNlNjQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2Jhc2U2NChab2RCYXNlNjQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQmFzZTY0VVJMID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEJhc2U2NFVSTFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RCYXNlNjRVUkwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjR1cmwocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2Jhc2U2NHVybChab2RCYXNlNjRVUkwsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kRTE2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RFMTY0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEUxNjQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBlMTY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9lMTY0KFpvZEUxNjQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kSldUID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEpXVFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RKV1QuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBqd3QocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2p3dChab2RKV1QsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQ3VzdG9tU3RyaW5nRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEN1c3RvbVN0cmluZ0Zvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RDdXN0b21TdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdGb3JtYXQoZm9ybWF0LCBmbk9yUmVnZXgsIF9wYXJhbXMgPSB7fSkge1xuICAgIHJldHVybiBjb3JlLl9zdHJpbmdGb3JtYXQoWm9kQ3VzdG9tU3RyaW5nRm9ybWF0LCBmb3JtYXQsIGZuT3JSZWdleCwgX3BhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaG9zdG5hbWUoX3BhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9zdHJpbmdGb3JtYXQoWm9kQ3VzdG9tU3RyaW5nRm9ybWF0LCBcImhvc3RuYW1lXCIsIGNvcmUucmVnZXhlcy5ob3N0bmFtZSwgX3BhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGV4KF9wYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fc3RyaW5nRm9ybWF0KFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCwgXCJoZXhcIiwgY29yZS5yZWdleGVzLmhleCwgX3BhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzaChhbGcsIHBhcmFtcykge1xuICAgIGNvbnN0IGVuYyA9IHBhcmFtcz8uZW5jID8/IFwiaGV4XCI7XG4gICAgY29uc3QgZm9ybWF0ID0gYCR7YWxnfV8ke2VuY31gO1xuICAgIGNvbnN0IHJlZ2V4ID0gY29yZS5yZWdleGVzW2Zvcm1hdF07XG4gICAgaWYgKCFyZWdleClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgaGFzaCBmb3JtYXQ6ICR7Zm9ybWF0fWApO1xuICAgIHJldHVybiBjb3JlLl9zdHJpbmdGb3JtYXQoWm9kQ3VzdG9tU3RyaW5nRm9ybWF0LCBmb3JtYXQsIHJlZ2V4LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZE51bWJlciA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROdW1iZXJcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE51bWJlci5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5ndCA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndCh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5ndGUgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1pbiA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubHQgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHQodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubHRlID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tYXggPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHRlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0LmludCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soaW50KHBhcmFtcykpO1xuICAgIGluc3Quc2FmZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soaW50KHBhcmFtcykpO1xuICAgIGluc3QucG9zaXRpdmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndCgwLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm5vbm5lZ2F0aXZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKDAsIHBhcmFtcykpO1xuICAgIGluc3QubmVnYXRpdmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdCgwLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm5vbnBvc2l0aXZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHRlKDAsIHBhcmFtcykpO1xuICAgIGluc3QubXVsdGlwbGVPZiA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5tdWx0aXBsZU9mKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0LnN0ZXAgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubXVsdGlwbGVPZih2YWx1ZSwgcGFyYW1zKSk7XG4gICAgLy8gaW5zdC5maW5pdGUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuZmluaXRlKHBhcmFtcykpO1xuICAgIGluc3QuZmluaXRlID0gKCkgPT4gaW5zdDtcbiAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgIGluc3QubWluVmFsdWUgPVxuICAgICAgICBNYXRoLm1heChiYWcubWluaW11bSA/PyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIGJhZy5leGNsdXNpdmVNaW5pbXVtID8/IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSkgPz8gbnVsbDtcbiAgICBpbnN0Lm1heFZhbHVlID1cbiAgICAgICAgTWF0aC5taW4oYmFnLm1heGltdW0gPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBiYWcuZXhjbHVzaXZlTWF4aW11bSA/PyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpID8/IG51bGw7XG4gICAgaW5zdC5pc0ludCA9IChiYWcuZm9ybWF0ID8/IFwiXCIpLmluY2x1ZGVzKFwiaW50XCIpIHx8IE51bWJlci5pc1NhZmVJbnRlZ2VyKGJhZy5tdWx0aXBsZU9mID8/IDAuNSk7XG4gICAgaW5zdC5pc0Zpbml0ZSA9IHRydWU7XG4gICAgaW5zdC5mb3JtYXQgPSBiYWcuZm9ybWF0ID8/IG51bGw7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBudW1iZXIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX251bWJlcihab2ROdW1iZXIsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kTnVtYmVyRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE51bWJlckZvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTnVtYmVyRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2ROdW1iZXIuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gaW50KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pbnQoWm9kTnVtYmVyRm9ybWF0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZsb2F0MzIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2Zsb2F0MzIoWm9kTnVtYmVyRm9ybWF0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZsb2F0NjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2Zsb2F0NjQoWm9kTnVtYmVyRm9ybWF0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGludDMyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pbnQzMihab2ROdW1iZXJGb3JtYXQsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gdWludDMyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91aW50MzIoWm9kTnVtYmVyRm9ybWF0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEJvb2xlYW4gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQm9vbGVhblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQm9vbGVhbi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBib29sZWFuKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9ib29sZWFuKFpvZEJvb2xlYW4sIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQmlnSW50ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEJpZ0ludFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQmlnSW50LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Lmd0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubWluID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5ndCA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndCh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5ndGUgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1pbiA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubHQgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHQodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubHRlID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tYXggPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHRlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0LnBvc2l0aXZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3QoQmlnSW50KDApLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm5lZ2F0aXZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHQoQmlnSW50KDApLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm5vbnBvc2l0aXZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHRlKEJpZ0ludCgwKSwgcGFyYW1zKSk7XG4gICAgaW5zdC5ub25uZWdhdGl2ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZShCaWdJbnQoMCksIHBhcmFtcykpO1xuICAgIGluc3QubXVsdGlwbGVPZiA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5tdWx0aXBsZU9mKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgIGluc3QubWluVmFsdWUgPSBiYWcubWluaW11bSA/PyBudWxsO1xuICAgIGluc3QubWF4VmFsdWUgPSBiYWcubWF4aW11bSA/PyBudWxsO1xuICAgIGluc3QuZm9ybWF0ID0gYmFnLmZvcm1hdCA/PyBudWxsO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gYmlnaW50KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9iaWdpbnQoWm9kQmlnSW50LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEJpZ0ludEZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RCaWdJbnRGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEJpZ0ludEZvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kQmlnSW50LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuLy8gaW50NjRcbmV4cG9ydCBmdW5jdGlvbiBpbnQ2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faW50NjQoWm9kQmlnSW50Rm9ybWF0LCBwYXJhbXMpO1xufVxuLy8gdWludDY0XG5leHBvcnQgZnVuY3Rpb24gdWludDY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91aW50NjQoWm9kQmlnSW50Rm9ybWF0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFN5bWJvbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RTeW1ib2xcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFN5bWJvbC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBzeW1ib2wocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3N5bWJvbChab2RTeW1ib2wsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kVW5kZWZpbmVkID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFVuZGVmaW5lZFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kVW5kZWZpbmVkLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZnVuY3Rpb24gX3VuZGVmaW5lZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdW5kZWZpbmVkKFpvZFVuZGVmaW5lZCwgcGFyYW1zKTtcbn1cbmV4cG9ydCB7IF91bmRlZmluZWQgYXMgdW5kZWZpbmVkIH07XG5leHBvcnQgY29uc3QgWm9kTnVsbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROdWxsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2ROdWxsLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZnVuY3Rpb24gX251bGwocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX251bGwoWm9kTnVsbCwgcGFyYW1zKTtcbn1cbmV4cG9ydCB7IF9udWxsIGFzIG51bGwgfTtcbmV4cG9ydCBjb25zdCBab2RBbnkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQW55XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RBbnkuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gYW55KCkge1xuICAgIHJldHVybiBjb3JlLl9hbnkoWm9kQW55KTtcbn1cbmV4cG9ydCBjb25zdCBab2RVbmtub3duID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFVua25vd25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFVua25vd24uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdW5rbm93bigpIHtcbiAgICByZXR1cm4gY29yZS5fdW5rbm93bihab2RVbmtub3duKTtcbn1cbmV4cG9ydCBjb25zdCBab2ROZXZlciA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROZXZlclwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTmV2ZXIuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbmV2ZXIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX25ldmVyKFpvZE5ldmVyLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFZvaWQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVm9pZFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kVm9pZC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmZ1bmN0aW9uIF92b2lkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl92b2lkKFpvZFZvaWQsIHBhcmFtcyk7XG59XG5leHBvcnQgeyBfdm9pZCBhcyB2b2lkIH07XG5leHBvcnQgY29uc3QgWm9kRGF0ZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2REYXRlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2REYXRlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Lm1pbiA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgY29uc3QgYyA9IGluc3QuX3pvZC5iYWc7XG4gICAgaW5zdC5taW5EYXRlID0gYy5taW5pbXVtID8gbmV3IERhdGUoYy5taW5pbXVtKSA6IG51bGw7XG4gICAgaW5zdC5tYXhEYXRlID0gYy5tYXhpbXVtID8gbmV3IERhdGUoYy5tYXhpbXVtKSA6IG51bGw7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBkYXRlKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9kYXRlKFpvZERhdGUsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQXJyYXkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQXJyYXlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEFycmF5LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LmVsZW1lbnQgPSBkZWYuZWxlbWVudDtcbiAgICBpbnN0Lm1pbiA9IChtaW5MZW5ndGgsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubWluTGVuZ3RoKG1pbkxlbmd0aCwgcGFyYW1zKSk7XG4gICAgaW5zdC5ub25lbXB0eSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLm1pbkxlbmd0aCgxLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1heCA9IChtYXhMZW5ndGgsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubWF4TGVuZ3RoKG1heExlbmd0aCwgcGFyYW1zKSk7XG4gICAgaW5zdC5sZW5ndGggPSAobGVuLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmxlbmd0aChsZW4sIHBhcmFtcykpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5lbGVtZW50O1xufSk7XG5leHBvcnQgZnVuY3Rpb24gYXJyYXkoZWxlbWVudCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2FycmF5KFpvZEFycmF5LCBlbGVtZW50LCBwYXJhbXMpO1xufVxuLy8gLmtleW9mXG5leHBvcnQgZnVuY3Rpb24ga2V5b2Yoc2NoZW1hKSB7XG4gICAgY29uc3Qgc2hhcGUgPSBzY2hlbWEuX3pvZC5kZWYuc2hhcGU7XG4gICAgcmV0dXJuIF9lbnVtKE9iamVjdC5rZXlzKHNoYXBlKSk7XG59XG5leHBvcnQgY29uc3QgWm9kT2JqZWN0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE9iamVjdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kT2JqZWN0SklULmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdCwgXCJzaGFwZVwiLCAoKSA9PiBkZWYuc2hhcGUpO1xuICAgIGluc3Qua2V5b2YgPSAoKSA9PiBfZW51bShPYmplY3Qua2V5cyhpbnN0Ll96b2QuZGVmLnNoYXBlKSk7XG4gICAgaW5zdC5jYXRjaGFsbCA9IChjYXRjaGFsbCkgPT4gaW5zdC5jbG9uZSh7IC4uLmluc3QuX3pvZC5kZWYsIGNhdGNoYWxsOiBjYXRjaGFsbCB9KTtcbiAgICBpbnN0LnBhc3N0aHJvdWdoID0gKCkgPT4gaW5zdC5jbG9uZSh7IC4uLmluc3QuX3pvZC5kZWYsIGNhdGNoYWxsOiB1bmtub3duKCkgfSk7XG4gICAgaW5zdC5sb29zZSA9ICgpID0+IGluc3QuY2xvbmUoeyAuLi5pbnN0Ll96b2QuZGVmLCBjYXRjaGFsbDogdW5rbm93bigpIH0pO1xuICAgIGluc3Quc3RyaWN0ID0gKCkgPT4gaW5zdC5jbG9uZSh7IC4uLmluc3QuX3pvZC5kZWYsIGNhdGNoYWxsOiBuZXZlcigpIH0pO1xuICAgIGluc3Quc3RyaXAgPSAoKSA9PiBpbnN0LmNsb25lKHsgLi4uaW5zdC5fem9kLmRlZiwgY2F0Y2hhbGw6IHVuZGVmaW5lZCB9KTtcbiAgICBpbnN0LmV4dGVuZCA9IChpbmNvbWluZykgPT4ge1xuICAgICAgICByZXR1cm4gdXRpbC5leHRlbmQoaW5zdCwgaW5jb21pbmcpO1xuICAgIH07XG4gICAgaW5zdC5zYWZlRXh0ZW5kID0gKGluY29taW5nKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLnNhZmVFeHRlbmQoaW5zdCwgaW5jb21pbmcpO1xuICAgIH07XG4gICAgaW5zdC5tZXJnZSA9IChvdGhlcikgPT4gdXRpbC5tZXJnZShpbnN0LCBvdGhlcik7XG4gICAgaW5zdC5waWNrID0gKG1hc2spID0+IHV0aWwucGljayhpbnN0LCBtYXNrKTtcbiAgICBpbnN0Lm9taXQgPSAobWFzaykgPT4gdXRpbC5vbWl0KGluc3QsIG1hc2spO1xuICAgIGluc3QucGFydGlhbCA9ICguLi5hcmdzKSA9PiB1dGlsLnBhcnRpYWwoWm9kT3B0aW9uYWwsIGluc3QsIGFyZ3NbMF0pO1xuICAgIGluc3QucmVxdWlyZWQgPSAoLi4uYXJncykgPT4gdXRpbC5yZXF1aXJlZChab2ROb25PcHRpb25hbCwgaW5zdCwgYXJnc1swXSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBvYmplY3Qoc2hhcGUsIHBhcmFtcykge1xuICAgIGNvbnN0IGRlZiA9IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgdXRpbC5hc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgc2hhcGUgPyB1dGlsLm9iamVjdENsb25lKHNoYXBlKSA6IHt9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYXBlO1xuICAgICAgICB9LFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3QoZGVmKTtcbn1cbi8vIHN0cmljdE9iamVjdFxuZXhwb3J0IGZ1bmN0aW9uIHN0cmljdE9iamVjdChzaGFwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICB1dGlsLmFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCB1dGlsLm9iamVjdENsb25lKHNoYXBlKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2F0Y2hhbGw6IG5ldmVyKCksXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBsb29zZU9iamVjdFxuZXhwb3J0IGZ1bmN0aW9uIGxvb3NlT2JqZWN0KHNoYXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIHV0aWwuYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIHV0aWwub2JqZWN0Q2xvbmUoc2hhcGUpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjYXRjaGFsbDogdW5rbm93bigpLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFVuaW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFVuaW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RVbmlvbi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5vcHRpb25zID0gZGVmLm9wdGlvbnM7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB1bmlvbihvcHRpb25zLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZFVuaW9uKHtcbiAgICAgICAgdHlwZTogXCJ1bmlvblwiLFxuICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZERpc2NyaW1pbmF0ZWRVbmlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2REaXNjcmltaW5hdGVkVW5pb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIFpvZFVuaW9uLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2REaXNjcmltaW5hdGVkVW5pb24uaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZGlzY3JpbWluYXRlZFVuaW9uKGRpc2NyaW1pbmF0b3IsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgIC8vIGNvbnN0IFtvcHRpb25zLCBwYXJhbXNdID0gYXJncztcbiAgICByZXR1cm4gbmV3IFpvZERpc2NyaW1pbmF0ZWRVbmlvbih7XG4gICAgICAgIHR5cGU6IFwidW5pb25cIixcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgZGlzY3JpbWluYXRvcixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RJbnRlcnNlY3Rpb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kSW50ZXJzZWN0aW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RJbnRlcnNlY3Rpb24uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIG5ldyBab2RJbnRlcnNlY3Rpb24oe1xuICAgICAgICB0eXBlOiBcImludGVyc2VjdGlvblwiLFxuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICByaWdodDogcmlnaHQsXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kVHVwbGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVHVwbGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFR1cGxlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnJlc3QgPSAocmVzdCkgPT4gaW5zdC5jbG9uZSh7XG4gICAgICAgIC4uLmluc3QuX3pvZC5kZWYsXG4gICAgICAgIHJlc3Q6IHJlc3QsXG4gICAgfSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB0dXBsZShpdGVtcywgX3BhcmFtc09yUmVzdCwgX3BhcmFtcykge1xuICAgIGNvbnN0IGhhc1Jlc3QgPSBfcGFyYW1zT3JSZXN0IGluc3RhbmNlb2YgY29yZS4kWm9kVHlwZTtcbiAgICBjb25zdCBwYXJhbXMgPSBoYXNSZXN0ID8gX3BhcmFtcyA6IF9wYXJhbXNPclJlc3Q7XG4gICAgY29uc3QgcmVzdCA9IGhhc1Jlc3QgPyBfcGFyYW1zT3JSZXN0IDogbnVsbDtcbiAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgdHlwZTogXCJ0dXBsZVwiLFxuICAgICAgICBpdGVtczogaXRlbXMsXG4gICAgICAgIHJlc3QsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kUmVjb3JkID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFJlY29yZFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kUmVjb3JkLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LmtleVR5cGUgPSBkZWYua2V5VHlwZTtcbiAgICBpbnN0LnZhbHVlVHlwZSA9IGRlZi52YWx1ZVR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiByZWNvcmQoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHZhbHVlVHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gdHlwZSBhbGtzamYgPSBjb3JlLm91dHB1dDxjb3JlLiRab2RSZWNvcmRLZXk+O1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpYWxSZWNvcmQoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICBjb25zdCBrID0gY29yZS5jbG9uZShrZXlUeXBlKTtcbiAgICBrLl96b2QudmFsdWVzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgdHlwZTogXCJyZWNvcmRcIixcbiAgICAgICAga2V5VHlwZTogayxcbiAgICAgICAgdmFsdWVUeXBlOiB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kTWFwID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE1hcFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTWFwLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LmtleVR5cGUgPSBkZWYua2V5VHlwZTtcbiAgICBpbnN0LnZhbHVlVHlwZSA9IGRlZi52YWx1ZVR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBtYXAoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZE1hcCh7XG4gICAgICAgIHR5cGU6IFwibWFwXCIsXG4gICAgICAgIGtleVR5cGU6IGtleVR5cGUsXG4gICAgICAgIHZhbHVlVHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFNldCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RTZXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFNldC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5taW4gPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjb3JlLl9taW5TaXplKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lm5vbmVtcHR5ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9taW5TaXplKDEsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY29yZS5fbWF4U2l6ZSguLi5hcmdzKSk7XG4gICAgaW5zdC5zaXplID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY29yZS5fc2l6ZSguLi5hcmdzKSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBzZXQodmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgIHZhbHVlVHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZEVudW0gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRW51bVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kRW51bS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5lbnVtID0gZGVmLmVudHJpZXM7XG4gICAgaW5zdC5vcHRpb25zID0gT2JqZWN0LnZhbHVlcyhkZWYuZW50cmllcyk7XG4gICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMoZGVmLmVudHJpZXMpKTtcbiAgICBpbnN0LmV4dHJhY3QgPSAodmFsdWVzLCBwYXJhbXMpID0+IHtcbiAgICAgICAgY29uc3QgbmV3RW50cmllcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICAgICAgaWYgKGtleXMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG5ld0VudHJpZXNbdmFsdWVdID0gZGVmLmVudHJpZXNbdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgS2V5ICR7dmFsdWV9IG5vdCBmb3VuZCBpbiBlbnVtYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgICAgIC4uLmRlZixcbiAgICAgICAgICAgIGNoZWNrczogW10sXG4gICAgICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICAgICAgZW50cmllczogbmV3RW50cmllcyxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBpbnN0LmV4Y2x1ZGUgPSAodmFsdWVzLCBwYXJhbXMpID0+IHtcbiAgICAgICAgY29uc3QgbmV3RW50cmllcyA9IHsgLi4uZGVmLmVudHJpZXMgfTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgICAgIGlmIChrZXlzLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgbmV3RW50cmllc1t2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBLZXkgJHt2YWx1ZX0gbm90IGZvdW5kIGluIGVudW1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICAgICAgLi4uZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgICAgICBlbnRyaWVzOiBuZXdFbnRyaWVzLFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBfZW51bSh2YWx1ZXMsIHBhcmFtcykge1xuICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KHZhbHVlcykgPyBPYmplY3QuZnJvbUVudHJpZXModmFsdWVzLm1hcCgodikgPT4gW3YsIHZdKSkgOiB2YWx1ZXM7XG4gICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgdHlwZTogXCJlbnVtXCIsXG4gICAgICAgIGVudHJpZXMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgeyBfZW51bSBhcyBlbnVtIH07XG4vKiogQGRlcHJlY2F0ZWQgVGhpcyBBUEkgaGFzIGJlZW4gbWVyZ2VkIGludG8gYHouZW51bSgpYC4gVXNlIGB6LmVudW0oKWAgaW5zdGVhZC5cbiAqXG4gKiBgYGB0c1xuICogZW51bSBDb2xvcnMgeyByZWQsIGdyZWVuLCBibHVlIH1cbiAqIHouZW51bShDb2xvcnMpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuYXRpdmVFbnVtKGVudHJpZXMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICAgIHR5cGU6IFwiZW51bVwiLFxuICAgICAgICBlbnRyaWVzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZExpdGVyYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTGl0ZXJhbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTGl0ZXJhbC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC52YWx1ZXMgPSBuZXcgU2V0KGRlZi52YWx1ZXMpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgaWYgKGRlZi52YWx1ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgc2NoZW1hIGNvbnRhaW5zIG11bHRpcGxlIHZhbGlkIGxpdGVyYWwgdmFsdWVzLiBVc2UgYC52YWx1ZXNgIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZi52YWx1ZXNbMF07XG4gICAgICAgIH0sXG4gICAgfSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBsaXRlcmFsKHZhbHVlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZExpdGVyYWwoe1xuICAgICAgICB0eXBlOiBcImxpdGVyYWxcIixcbiAgICAgICAgdmFsdWVzOiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RGaWxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEZpbGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEZpbGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QubWluID0gKHNpemUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9taW5TaXplKHNpemUsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKHNpemUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9tYXhTaXplKHNpemUsIHBhcmFtcykpO1xuICAgIGluc3QubWltZSA9ICh0eXBlcywgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX21pbWUoQXJyYXkuaXNBcnJheSh0eXBlcykgPyB0eXBlcyA6IFt0eXBlc10sIHBhcmFtcykpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZmlsZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZmlsZShab2RGaWxlLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFRyYW5zZm9ybSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RUcmFuc2Zvcm1cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFRyYW5zZm9ybS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKF9jdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RFbmNvZGVFcnJvcihpbnN0LmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQuYWRkSXNzdWUgPSAoaXNzdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHV0aWwuaXNzdWUoaXNzdWUsIHBheWxvYWQudmFsdWUsIGRlZikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIFpvZCAzIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mYXRhbClcbiAgICAgICAgICAgICAgICAgICAgX2lzc3VlLmNvbnRpbnVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX2lzc3VlLmNvZGUgPz8gKF9pc3N1ZS5jb2RlID0gXCJjdXN0b21cIik7XG4gICAgICAgICAgICAgICAgX2lzc3VlLmlucHV0ID8/IChfaXNzdWUuaW5wdXQgPSBwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuaW5zdCA/PyAoX2lzc3VlLmluc3QgPSBpbnN0KTtcbiAgICAgICAgICAgICAgICAvLyBfaXNzdWUuY29udGludWUgPz89IHRydWU7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh1dGlsLmlzc3VlKF9pc3N1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBkZWYudHJhbnNmb3JtKHBheWxvYWQudmFsdWUsIHBheWxvYWQpO1xuICAgICAgICBpZiAob3V0cHV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dC50aGVuKChvdXRwdXQpID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IG91dHB1dDtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIHJldHVybiBuZXcgWm9kVHJhbnNmb3JtKHtcbiAgICAgICAgdHlwZTogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgdHJhbnNmb3JtOiBmbixcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RPcHRpb25hbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RPcHRpb25hbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kT3B0aW9uYWwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBvcHRpb25hbChpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFpvZE9wdGlvbmFsKHtcbiAgICAgICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2ROdWxsYWJsZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROdWxsYWJsZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTnVsbGFibGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBudWxsYWJsZShpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGxhYmxlKHtcbiAgICAgICAgdHlwZTogXCJudWxsYWJsZVwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbi8vIG51bGxpc2hcbmV4cG9ydCBmdW5jdGlvbiBudWxsaXNoKGlubmVyVHlwZSkge1xuICAgIHJldHVybiBvcHRpb25hbChudWxsYWJsZShpbm5lclR5cGUpKTtcbn1cbmV4cG9ydCBjb25zdCBab2REZWZhdWx0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZERlZmF1bHRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZERlZmF1bHQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG4gICAgaW5zdC5yZW1vdmVEZWZhdWx0ID0gaW5zdC51bndyYXA7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBfZGVmYXVsdChpbm5lclR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgIHR5cGU6IFwiZGVmYXVsdFwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICAgICAgZ2V0IGRlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZGVmYXVsdFZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyBkZWZhdWx0VmFsdWUoKSA6IHV0aWwuc2hhbGxvd0Nsb25lKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kUHJlZmF1bHQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kUHJlZmF1bHRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFByZWZhdWx0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gcHJlZmF1bHQoaW5uZXJUeXBlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IFpvZFByZWZhdWx0KHtcbiAgICAgICAgdHlwZTogXCJwcmVmYXVsdFwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICAgICAgZ2V0IGRlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZGVmYXVsdFZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyBkZWZhdWx0VmFsdWUoKSA6IHV0aWwuc2hhbGxvd0Nsb25lKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kTm9uT3B0aW9uYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTm9uT3B0aW9uYWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE5vbk9wdGlvbmFsLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbm9ub3B0aW9uYWwoaW5uZXJUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZE5vbk9wdGlvbmFsKHtcbiAgICAgICAgdHlwZTogXCJub25vcHRpb25hbFwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RTdWNjZXNzID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFN1Y2Nlc3NcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFN1Y2Nlc3MuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBzdWNjZXNzKGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgWm9kU3VjY2Vzcyh7XG4gICAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RDYXRjaCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RDYXRjaFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQ2F0Y2guaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG4gICAgaW5zdC5yZW1vdmVDYXRjaCA9IGluc3QudW53cmFwO1xufSk7XG5mdW5jdGlvbiBfY2F0Y2goaW5uZXJUeXBlLCBjYXRjaFZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgICAgIHR5cGU6IFwiY2F0Y2hcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgICAgIGNhdGNoVmFsdWU6ICh0eXBlb2YgY2F0Y2hWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gY2F0Y2hWYWx1ZSA6ICgpID0+IGNhdGNoVmFsdWUpLFxuICAgIH0pO1xufVxuZXhwb3J0IHsgX2NhdGNoIGFzIGNhdGNoIH07XG5leHBvcnQgY29uc3QgWm9kTmFOID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE5hTlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTmFOLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG5hbihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fbmFuKFpvZE5hTiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RQaXBlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFBpcGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFBpcGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuaW4gPSBkZWYuaW47XG4gICAgaW5zdC5vdXQgPSBkZWYub3V0O1xufSk7XG5leHBvcnQgZnVuY3Rpb24gcGlwZShpbl8sIG91dCkge1xuICAgIHJldHVybiBuZXcgWm9kUGlwZSh7XG4gICAgICAgIHR5cGU6IFwicGlwZVwiLFxuICAgICAgICBpbjogaW5fLFxuICAgICAgICBvdXQ6IG91dCxcbiAgICAgICAgLy8gLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RDb2RlYyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RDb2RlY1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgWm9kUGlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kQ29kZWMuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gY29kZWMoaW5fLCBvdXQsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kQ29kZWMoe1xuICAgICAgICB0eXBlOiBcInBpcGVcIixcbiAgICAgICAgaW46IGluXyxcbiAgICAgICAgb3V0OiBvdXQsXG4gICAgICAgIHRyYW5zZm9ybTogcGFyYW1zLmRlY29kZSxcbiAgICAgICAgcmV2ZXJzZVRyYW5zZm9ybTogcGFyYW1zLmVuY29kZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RSZWFkb25seSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RSZWFkb25seVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kUmVhZG9ubHkuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiByZWFkb25seShpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFpvZFJlYWRvbmx5KHtcbiAgICAgICAgdHlwZTogXCJyZWFkb25seVwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RUZW1wbGF0ZUxpdGVyYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVGVtcGxhdGVMaXRlcmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RUZW1wbGF0ZUxpdGVyYWwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVMaXRlcmFsKHBhcnRzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZFRlbXBsYXRlTGl0ZXJhbCh7XG4gICAgICAgIHR5cGU6IFwidGVtcGxhdGVfbGl0ZXJhbFwiLFxuICAgICAgICBwYXJ0cyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RMYXp5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZExhenlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZExhenkuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5nZXR0ZXIoKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGxhenkoZ2V0dGVyKSB7XG4gICAgcmV0dXJuIG5ldyBab2RMYXp5KHtcbiAgICAgICAgdHlwZTogXCJsYXp5XCIsXG4gICAgICAgIGdldHRlcjogZ2V0dGVyLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFByb21pc2UgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kUHJvbWlzZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kUHJvbWlzZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHByb21pc2UoaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RQcm9taXNlKHtcbiAgICAgICAgdHlwZTogXCJwcm9taXNlXCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZEZ1bmN0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEZ1bmN0aW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RGdW5jdGlvbi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBfZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgaW5wdXQ6IEFycmF5LmlzQXJyYXkocGFyYW1zPy5pbnB1dCkgPyB0dXBsZShwYXJhbXM/LmlucHV0KSA6IChwYXJhbXM/LmlucHV0ID8/IGFycmF5KHVua25vd24oKSkpLFxuICAgICAgICBvdXRwdXQ6IHBhcmFtcz8ub3V0cHV0ID8/IHVua25vd24oKSxcbiAgICB9KTtcbn1cbmV4cG9ydCB7IF9mdW5jdGlvbiBhcyBmdW5jdGlvbiB9O1xuZXhwb3J0IGNvbnN0IFpvZEN1c3RvbSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RDdXN0b21cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEN1c3RvbS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbi8vIGN1c3RvbSBjaGVja3NcbmV4cG9ydCBmdW5jdGlvbiBjaGVjayhmbikge1xuICAgIGNvbnN0IGNoID0gbmV3IGNvcmUuJFpvZENoZWNrKHtcbiAgICAgICAgY2hlY2s6IFwiY3VzdG9tXCIsXG4gICAgICAgIC8vIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG4gICAgY2guX3pvZC5jaGVjayA9IGZuO1xuICAgIHJldHVybiBjaDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b20oZm4sIF9wYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY3VzdG9tKFpvZEN1c3RvbSwgZm4gPz8gKCgpID0+IHRydWUpLCBfcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWZpbmUoZm4sIF9wYXJhbXMgPSB7fSkge1xuICAgIHJldHVybiBjb3JlLl9yZWZpbmUoWm9kQ3VzdG9tLCBmbiwgX3BhcmFtcyk7XG59XG4vLyBzdXBlclJlZmluZVxuZXhwb3J0IGZ1bmN0aW9uIHN1cGVyUmVmaW5lKGZuKSB7XG4gICAgcmV0dXJuIGNvcmUuX3N1cGVyUmVmaW5lKGZuKTtcbn1cbmZ1bmN0aW9uIF9pbnN0YW5jZW9mKGNscywgcGFyYW1zID0ge1xuICAgIGVycm9yOiBgSW5wdXQgbm90IGluc3RhbmNlIG9mICR7Y2xzLm5hbWV9YCxcbn0pIHtcbiAgICBjb25zdCBpbnN0ID0gbmV3IFpvZEN1c3RvbSh7XG4gICAgICAgIHR5cGU6IFwiY3VzdG9tXCIsXG4gICAgICAgIGNoZWNrOiBcImN1c3RvbVwiLFxuICAgICAgICBmbjogKGRhdGEpID0+IGRhdGEgaW5zdGFuY2VvZiBjbHMsXG4gICAgICAgIGFib3J0OiB0cnVlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xuICAgIGluc3QuX3pvZC5iYWcuQ2xhc3MgPSBjbHM7XG4gICAgcmV0dXJuIGluc3Q7XG59XG5leHBvcnQgeyBfaW5zdGFuY2VvZiBhcyBpbnN0YW5jZW9mIH07XG4vLyBzdHJpbmdib29sXG5leHBvcnQgY29uc3Qgc3RyaW5nYm9vbCA9ICguLi5hcmdzKSA9PiBjb3JlLl9zdHJpbmdib29sKHtcbiAgICBDb2RlYzogWm9kQ29kZWMsXG4gICAgQm9vbGVhbjogWm9kQm9vbGVhbixcbiAgICBTdHJpbmc6IFpvZFN0cmluZyxcbn0sIC4uLmFyZ3MpO1xuZXhwb3J0IGZ1bmN0aW9uIGpzb24ocGFyYW1zKSB7XG4gICAgY29uc3QganNvblNjaGVtYSA9IGxhenkoKCkgPT4ge1xuICAgICAgICByZXR1cm4gdW5pb24oW3N0cmluZyhwYXJhbXMpLCBudW1iZXIoKSwgYm9vbGVhbigpLCBfbnVsbCgpLCBhcnJheShqc29uU2NoZW1hKSwgcmVjb3JkKHN0cmluZygpLCBqc29uU2NoZW1hKV0pO1xuICAgIH0pO1xuICAgIHJldHVybiBqc29uU2NoZW1hO1xufVxuLy8gcHJlcHJvY2Vzc1xuLy8gLyoqIEBkZXByZWNhdGVkIFVzZSBgei5waXBlKClgIGFuZCBgei50cmFuc2Zvcm0oKWAgaW5zdGVhZC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwcm9jZXNzKGZuLCBzY2hlbWEpIHtcbiAgICByZXR1cm4gcGlwZSh0cmFuc2Zvcm0oZm4pLCBzY2hlbWEpO1xufVxuIiwgIi8vIFpvZCAzIGNvbXBhdCBsYXllclxuaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuLyoqIEBkZXByZWNhdGVkIFVzZSB0aGUgcmF3IHN0cmluZyBsaXRlcmFsIGNvZGVzIGluc3RlYWQsIGUuZy4gXCJpbnZhbGlkX3R5cGVcIi4gKi9cbmV4cG9ydCBjb25zdCBab2RJc3N1ZUNvZGUgPSB7XG4gICAgaW52YWxpZF90eXBlOiBcImludmFsaWRfdHlwZVwiLFxuICAgIHRvb19iaWc6IFwidG9vX2JpZ1wiLFxuICAgIHRvb19zbWFsbDogXCJ0b29fc21hbGxcIixcbiAgICBpbnZhbGlkX2Zvcm1hdDogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgIG5vdF9tdWx0aXBsZV9vZjogXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICB1bnJlY29nbml6ZWRfa2V5czogXCJ1bnJlY29nbml6ZWRfa2V5c1wiLFxuICAgIGludmFsaWRfdW5pb246IFwiaW52YWxpZF91bmlvblwiLFxuICAgIGludmFsaWRfa2V5OiBcImludmFsaWRfa2V5XCIsXG4gICAgaW52YWxpZF9lbGVtZW50OiBcImludmFsaWRfZWxlbWVudFwiLFxuICAgIGludmFsaWRfdmFsdWU6IFwiaW52YWxpZF92YWx1ZVwiLFxuICAgIGN1c3RvbTogXCJjdXN0b21cIixcbn07XG5leHBvcnQgeyAkYnJhbmQsIGNvbmZpZyB9IGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGB6LmNvbmZpZyhwYXJhbXMpYCBpbnN0ZWFkLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEVycm9yTWFwKG1hcCkge1xuICAgIGNvcmUuY29uZmlnKHtcbiAgICAgICAgY3VzdG9tRXJyb3I6IG1hcCxcbiAgICB9KTtcbn1cbi8qKiBAZGVwcmVjYXRlZCBVc2UgYHouY29uZmlnKClgIGluc3RlYWQuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXJyb3JNYXAoKSB7XG4gICAgcmV0dXJuIGNvcmUuY29uZmlnKCkuY3VzdG9tRXJyb3I7XG59XG4vKiogQGRlcHJlY2F0ZWQgRG8gbm90IHVzZS4gU3R1YiBkZWZpbml0aW9uLCBvbmx5IGluY2x1ZGVkIGZvciB6b2QtdG8tanNvbi1zY2hlbWEgY29tcGF0aWJpbGl0eS4gKi9cbmV4cG9ydCB2YXIgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kO1xuKGZ1bmN0aW9uIChab2RGaXJzdFBhcnR5VHlwZUtpbmQpIHtcbn0pKFpvZEZpcnN0UGFydHlUeXBlS2luZCB8fCAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kID0ge30pKTtcbiIsICJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgKiBhcyBzY2hlbWFzIGZyb20gXCIuL3NjaGVtYXMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmcocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NvZXJjZWRTdHJpbmcoc2NoZW1hcy5ab2RTdHJpbmcsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jb2VyY2VkTnVtYmVyKHNjaGVtYXMuWm9kTnVtYmVyLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJvb2xlYW4ocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NvZXJjZWRCb29sZWFuKHNjaGVtYXMuWm9kQm9vbGVhbiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBiaWdpbnQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NvZXJjZWRCaWdpbnQoc2NoZW1hcy5ab2RCaWdJbnQsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGF0ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY29lcmNlZERhdGUoc2NoZW1hcy5ab2REYXRlLCBwYXJhbXMpO1xufVxuIiwgImV4cG9ydCB2YXIgdXRpbDtcbihmdW5jdGlvbiAodXRpbCkge1xuICAgIHV0aWwuYXNzZXJ0RXF1YWwgPSAoXykgPT4geyB9O1xuICAgIGZ1bmN0aW9uIGFzc2VydElzKF9hcmcpIHsgfVxuICAgIHV0aWwuYXNzZXJ0SXMgPSBhc3NlcnRJcztcbiAgICBmdW5jdGlvbiBhc3NlcnROZXZlcihfeCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG4gICAgdXRpbC5hc3NlcnROZXZlciA9IGFzc2VydE5ldmVyO1xuICAgIHV0aWwuYXJyYXlUb0VudW0gPSAoaXRlbXMpID0+IHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgb2JqW2l0ZW1dID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgdXRpbC5nZXRWYWxpZEVudW1WYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhvYmopLmZpbHRlcigoaykgPT4gdHlwZW9mIG9ialtvYmpba11dICE9PSBcIm51bWJlclwiKTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIHZhbGlkS2V5cykge1xuICAgICAgICAgICAgZmlsdGVyZWRba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKGZpbHRlcmVkKTtcbiAgICB9O1xuICAgIHV0aWwub2JqZWN0VmFsdWVzID0gKG9iaikgPT4ge1xuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RLZXlzKG9iaikubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqW2VdO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHV0aWwub2JqZWN0S2V5cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gXCJmdW5jdGlvblwiIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA/IChvYmopID0+IE9iamVjdC5rZXlzKG9iaikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKG9iamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH07XG4gICAgdXRpbC5maW5kID0gKGFyciwgY2hlY2tlcikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tlcihpdGVtKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgdXRpbC5pc0ludGVnZXIgPSB0eXBlb2YgTnVtYmVyLmlzSW50ZWdlciA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gKHZhbCkgPT4gTnVtYmVyLmlzSW50ZWdlcih2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA6ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKHZhbCkgJiYgTWF0aC5mbG9vcih2YWwpID09PSB2YWw7XG4gICAgZnVuY3Rpb24gam9pblZhbHVlcyhhcnJheSwgc2VwYXJhdG9yID0gXCIgfCBcIikge1xuICAgICAgICByZXR1cm4gYXJyYXkubWFwKCh2YWwpID0+ICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiID8gYCcke3ZhbH0nYCA6IHZhbCkpLmpvaW4oc2VwYXJhdG9yKTtcbiAgICB9XG4gICAgdXRpbC5qb2luVmFsdWVzID0gam9pblZhbHVlcztcbiAgICB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciA9IChfLCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn0pKHV0aWwgfHwgKHV0aWwgPSB7fSkpO1xuZXhwb3J0IHZhciBvYmplY3RVdGlsO1xuKGZ1bmN0aW9uIChvYmplY3RVdGlsKSB7XG4gICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyA9IChmaXJzdCwgc2Vjb25kKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5maXJzdCxcbiAgICAgICAgICAgIC4uLnNlY29uZCwgLy8gc2Vjb25kIG92ZXJ3cml0ZXMgZmlyc3RcbiAgICAgICAgfTtcbiAgICB9O1xufSkob2JqZWN0VXRpbCB8fCAob2JqZWN0VXRpbCA9IHt9KSk7XG5leHBvcnQgY29uc3QgWm9kUGFyc2VkVHlwZSA9IHV0aWwuYXJyYXlUb0VudW0oW1xuICAgIFwic3RyaW5nXCIsXG4gICAgXCJuYW5cIixcbiAgICBcIm51bWJlclwiLFxuICAgIFwiaW50ZWdlclwiLFxuICAgIFwiZmxvYXRcIixcbiAgICBcImJvb2xlYW5cIixcbiAgICBcImRhdGVcIixcbiAgICBcImJpZ2ludFwiLFxuICAgIFwic3ltYm9sXCIsXG4gICAgXCJmdW5jdGlvblwiLFxuICAgIFwidW5kZWZpbmVkXCIsXG4gICAgXCJudWxsXCIsXG4gICAgXCJhcnJheVwiLFxuICAgIFwib2JqZWN0XCIsXG4gICAgXCJ1bmtub3duXCIsXG4gICAgXCJwcm9taXNlXCIsXG4gICAgXCJ2b2lkXCIsXG4gICAgXCJuZXZlclwiLFxuICAgIFwibWFwXCIsXG4gICAgXCJzZXRcIixcbl0pO1xuZXhwb3J0IGNvbnN0IGdldFBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zdHJpbmc7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBab2RQYXJzZWRUeXBlLm5hbiA6IFpvZFBhcnNlZFR5cGUubnVtYmVyO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYm9vbGVhbjtcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5mdW5jdGlvbjtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYmlnaW50O1xuICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zeW1ib2w7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS50aGVuICYmIHR5cGVvZiBkYXRhLnRoZW4gPT09IFwiZnVuY3Rpb25cIiAmJiBkYXRhLmNhdGNoICYmIHR5cGVvZiBkYXRhLmNhdGNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5wcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBNYXAgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm1hcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgU2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIERhdGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5kYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUub2JqZWN0O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUudW5rbm93bjtcbiAgICB9XG59O1xuIiwgImltcG9ydCB7IHV0aWwgfSBmcm9tIFwiLi9oZWxwZXJzL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBab2RJc3N1ZUNvZGUgPSB1dGlsLmFycmF5VG9FbnVtKFtcbiAgICBcImludmFsaWRfdHlwZVwiLFxuICAgIFwiaW52YWxpZF9saXRlcmFsXCIsXG4gICAgXCJjdXN0b21cIixcbiAgICBcImludmFsaWRfdW5pb25cIixcbiAgICBcImludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvclwiLFxuICAgIFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIsXG4gICAgXCJ1bnJlY29nbml6ZWRfa2V5c1wiLFxuICAgIFwiaW52YWxpZF9hcmd1bWVudHNcIixcbiAgICBcImludmFsaWRfcmV0dXJuX3R5cGVcIixcbiAgICBcImludmFsaWRfZGF0ZVwiLFxuICAgIFwiaW52YWxpZF9zdHJpbmdcIixcbiAgICBcInRvb19zbWFsbFwiLFxuICAgIFwidG9vX2JpZ1wiLFxuICAgIFwiaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXNcIixcbiAgICBcIm5vdF9tdWx0aXBsZV9vZlwiLFxuICAgIFwibm90X2Zpbml0ZVwiLFxuXSk7XG5leHBvcnQgY29uc3QgcXVvdGVsZXNzSnNvbiA9IChvYmopID0+IHtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcbiAgICByZXR1cm4ganNvbi5yZXBsYWNlKC9cIihbXlwiXSspXCI6L2csIFwiJDE6XCIpO1xufTtcbmV4cG9ydCBjbGFzcyBab2RFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBnZXQgZXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXM7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlzc3Vlcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlzc3VlcyA9IFtdO1xuICAgICAgICB0aGlzLmFkZElzc3VlID0gKHN1YikgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIHN1Yl07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWRkSXNzdWVzID0gKHN1YnMgPSBbXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIC4uLnN1YnNdO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhY3R1YWxQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYmFuL2JhblxuICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIGFjdHVhbFByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX19wcm90b19fID0gYWN0dWFsUHJvdG87XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gXCJab2RFcnJvclwiO1xuICAgICAgICB0aGlzLmlzc3VlcyA9IGlzc3VlcztcbiAgICB9XG4gICAgZm9ybWF0KF9tYXBwZXIpIHtcbiAgICAgICAgY29uc3QgbWFwcGVyID0gX21hcHBlciB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGlzc3VlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc0Vycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfdW5pb25cIikge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZS51bmlvbkVycm9ycy5tYXAocHJvY2Vzc0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3JldHVybl90eXBlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLnJldHVyblR5cGVFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9hcmd1bWVudHNcIikge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUuYXJndW1lbnRzRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZEVycm9ycy5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyciA9IGZpZWxkRXJyb3JzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgaXNzdWUucGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gaXNzdWUucGF0aFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gaSA9PT0gaXNzdWUucGF0aC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh0eXBlb2YgZWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAodHlwZW9mIGVsID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjb25zdCBlcnJvckFycmF5OiBhbnkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGVycm9yQXJyYXkuX2Vycm9ycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCBlcnJvckFycmF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyW2VsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcHJvY2Vzc0Vycm9yKHRoaXMpO1xuICAgICAgICByZXR1cm4gZmllbGRFcnJvcnM7XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnQodmFsdWUpIHtcbiAgICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBab2RFcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm90IGEgWm9kRXJyb3I6ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gICAgfVxuICAgIGdldCBtZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5pc3N1ZXMsIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyLCAyKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIGZsYXR0ZW4obWFwcGVyID0gKGlzc3VlKSA9PiBpc3N1ZS5tZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0ge307XG4gICAgICAgIGNvbnN0IGZvcm1FcnJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzdWIgb2YgdGhpcy5pc3N1ZXMpIHtcbiAgICAgICAgICAgIGlmIChzdWIucGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RFbCA9IHN1Yi5wYXRoWzBdO1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW2ZpcnN0RWxdID0gZmllbGRFcnJvcnNbZmlyc3RFbF0gfHwgW107XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbZmlyc3RFbF0ucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3JtRXJyb3JzLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGZvcm1FcnJvcnMsIGZpZWxkRXJyb3JzIH07XG4gICAgfVxuICAgIGdldCBmb3JtRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGF0dGVuKCk7XG4gICAgfVxufVxuWm9kRXJyb3IuY3JlYXRlID0gKGlzc3VlcykgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGlzc3Vlcyk7XG4gICAgcmV0dXJuIGVycm9yO1xufTtcbiIsICJpbXBvcnQgeyBab2RJc3N1ZUNvZGUgfSBmcm9tIFwiLi4vWm9kRXJyb3IuanNcIjtcbmltcG9ydCB7IHV0aWwsIFpvZFBhcnNlZFR5cGUgfSBmcm9tIFwiLi4vaGVscGVycy91dGlsLmpzXCI7XG5jb25zdCBlcnJvck1hcCA9IChpc3N1ZSwgX2N0eCkgPT4ge1xuICAgIGxldCBtZXNzYWdlO1xuICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGU6XG4gICAgICAgICAgICBpZiAoaXNzdWUucmVjZWl2ZWQgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiUmVxdWlyZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7aXNzdWUucmVjZWl2ZWR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWw6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgbGl0ZXJhbCB2YWx1ZSwgZXhwZWN0ZWQgJHtKU09OLnN0cmluZ2lmeShpc3N1ZS5leHBlY3RlZCwgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYFVucmVjb2duaXplZCBrZXkocykgaW4gb2JqZWN0OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGVudW0gdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfSwgcmVjZWl2ZWQgJyR7aXNzdWUucmVjZWl2ZWR9J2A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gYXJndW1lbnRzYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIHJldHVybiB0eXBlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGF0ZWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGluY2x1ZGUgXCIke2lzc3VlLnZhbGlkYXRpb24uaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24ucG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBhdCBvbmUgb3IgbW9yZSBwb3NpdGlvbnMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7aXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwic3RhcnRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IHN0YXJ0IHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uc3RhcnRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwiZW5kc1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBlbmQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5lbmRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGlzc3VlLnZhbGlkYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnZhbGlkYXRpb24gIT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCAke2lzc3VlLnZhbGlkYXRpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgb3ZlcmB9ICR7aXNzdWUubWluaW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1pbmltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fYmlnOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYHVuZGVyYH0gJHtpc3N1ZS5tYXhpbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBCaWdJbnQgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2AgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYHNtYWxsZXIgdGhhbiBvciBlcXVhbCB0b2AgOiBgc21hbGxlciB0aGFuYH0gJHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWF4aW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmN1c3RvbTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludGVyc2VjdGlvbiByZXN1bHRzIGNvdWxkIG5vdCBiZSBtZXJnZWRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5ub3RfZmluaXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiTnVtYmVyIG11c3QgYmUgZmluaXRlXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBfY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUpO1xuICAgIH1cbiAgICByZXR1cm4geyBtZXNzYWdlIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZXJyb3JNYXA7XG4iLCAiaW1wb3J0IGRlZmF1bHRFcnJvck1hcCBmcm9tIFwiLi9sb2NhbGVzL2VuLmpzXCI7XG5sZXQgb3ZlcnJpZGVFcnJvck1hcCA9IGRlZmF1bHRFcnJvck1hcDtcbmV4cG9ydCB7IGRlZmF1bHRFcnJvck1hcCB9O1xuZXhwb3J0IGZ1bmN0aW9uIHNldEVycm9yTWFwKG1hcCkge1xuICAgIG92ZXJyaWRlRXJyb3JNYXAgPSBtYXA7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RXJyb3JNYXAoKSB7XG4gICAgcmV0dXJuIG92ZXJyaWRlRXJyb3JNYXA7XG59XG4iLCAiaW1wb3J0IHsgZ2V0RXJyb3JNYXAgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgZGVmYXVsdEVycm9yTWFwIGZyb20gXCIuLi9sb2NhbGVzL2VuLmpzXCI7XG5leHBvcnQgY29uc3QgbWFrZUlzc3VlID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgcGF0aCwgZXJyb3JNYXBzLCBpc3N1ZURhdGEgfSA9IHBhcmFtcztcbiAgICBjb25zdCBmdWxsUGF0aCA9IFsuLi5wYXRoLCAuLi4oaXNzdWVEYXRhLnBhdGggfHwgW10pXTtcbiAgICBjb25zdCBmdWxsSXNzdWUgPSB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgfTtcbiAgICBpZiAoaXNzdWVEYXRhLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgICAgICBtZXNzYWdlOiBpc3N1ZURhdGEubWVzc2FnZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgY29uc3QgbWFwcyA9IGVycm9yTWFwc1xuICAgICAgICAuZmlsdGVyKChtKSA9PiAhIW0pXG4gICAgICAgIC5zbGljZSgpXG4gICAgICAgIC5yZXZlcnNlKCk7XG4gICAgZm9yIChjb25zdCBtYXAgb2YgbWFwcykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBtYXAoZnVsbElzc3VlLCB7IGRhdGEsIGRlZmF1bHRFcnJvcjogZXJyb3JNZXNzYWdlIH0pLm1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBFTVBUWV9QQVRIID0gW107XG5leHBvcnQgZnVuY3Rpb24gYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBpc3N1ZURhdGEpIHtcbiAgICBjb25zdCBvdmVycmlkZU1hcCA9IGdldEVycm9yTWFwKCk7XG4gICAgY29uc3QgaXNzdWUgPSBtYWtlSXNzdWUoe1xuICAgICAgICBpc3N1ZURhdGE6IGlzc3VlRGF0YSxcbiAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCAvLyBjb250ZXh0dWFsIGVycm9yIG1hcCBpcyBmaXJzdCBwcmlvcml0eVxuICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLCAvLyB0aGVuIHNjaGVtYS1ib3VuZCBtYXAgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICBvdmVycmlkZU1hcCwgLy8gdGhlbiBnbG9iYWwgb3ZlcnJpZGUgbWFwXG4gICAgICAgICAgICBvdmVycmlkZU1hcCA9PT0gZGVmYXVsdEVycm9yTWFwID8gdW5kZWZpbmVkIDogZGVmYXVsdEVycm9yTWFwLCAvLyB0aGVuIGdsb2JhbCBkZWZhdWx0IG1hcFxuICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICB9KTtcbiAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKGlzc3VlKTtcbn1cbmV4cG9ydCBjbGFzcyBQYXJzZVN0YXR1cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcInZhbGlkXCI7XG4gICAgfVxuICAgIGRpcnR5KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gXCJ2YWxpZFwiKVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiZGlydHlcIjtcbiAgICB9XG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImFib3J0ZWRcIjtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKSB7XG4gICAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGFycmF5VmFsdWUucHVzaChzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGFycmF5VmFsdWUgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIG1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsT2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBwYWlyO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKGtleS52YWx1ZSAhPT0gXCJfX3Byb3RvX19cIiAmJiAodHlwZW9mIHZhbHVlLnZhbHVlICE9PSBcInVuZGVmaW5lZFwiIHx8IHBhaXIuYWx3YXlzU2V0KSkge1xuICAgICAgICAgICAgICAgIGZpbmFsT2JqZWN0W2tleS52YWx1ZV0gPSB2YWx1ZS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsT2JqZWN0IH07XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IElOVkFMSUQgPSBPYmplY3QuZnJlZXplKHtcbiAgICBzdGF0dXM6IFwiYWJvcnRlZFwiLFxufSk7XG5leHBvcnQgY29uc3QgRElSVFkgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJkaXJ0eVwiLCB2YWx1ZSB9KTtcbmV4cG9ydCBjb25zdCBPSyA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlIH0pO1xuZXhwb3J0IGNvbnN0IGlzQWJvcnRlZCA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCI7XG5leHBvcnQgY29uc3QgaXNEaXJ0eSA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJkaXJ0eVwiO1xuZXhwb3J0IGNvbnN0IGlzVmFsaWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwidmFsaWRcIjtcbmV4cG9ydCBjb25zdCBpc0FzeW5jID0gKHgpID0+IHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHggaW5zdGFuY2VvZiBQcm9taXNlO1xuIiwgImV4cG9ydCB2YXIgZXJyb3JVdGlsO1xuKGZ1bmN0aW9uIChlcnJvclV0aWwpIHtcbiAgICBlcnJvclV0aWwuZXJyVG9PYmogPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2UgfSA6IG1lc3NhZ2UgfHwge307XG4gICAgLy8gYmlvbWUtaWdub3JlIGxpbnQ6XG4gICAgZXJyb3JVdGlsLnRvU3RyaW5nID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2U/Lm1lc3NhZ2U7XG59KShlcnJvclV0aWwgfHwgKGVycm9yVXRpbCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgWm9kRXJyb3IsIFpvZElzc3VlQ29kZSwgfSBmcm9tIFwiLi9ab2RFcnJvci5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdEVycm9yTWFwLCBnZXRFcnJvck1hcCB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgZXJyb3JVdGlsIH0gZnJvbSBcIi4vaGVscGVycy9lcnJvclV0aWwuanNcIjtcbmltcG9ydCB7IERJUlRZLCBJTlZBTElELCBPSywgUGFyc2VTdGF0dXMsIGFkZElzc3VlVG9Db250ZXh0LCBpc0Fib3J0ZWQsIGlzQXN5bmMsIGlzRGlydHksIGlzVmFsaWQsIG1ha2VJc3N1ZSwgfSBmcm9tIFwiLi9oZWxwZXJzL3BhcnNlVXRpbC5qc1wiO1xuaW1wb3J0IHsgdXRpbCwgWm9kUGFyc2VkVHlwZSwgZ2V0UGFyc2VkVHlwZSB9IGZyb20gXCIuL2hlbHBlcnMvdXRpbC5qc1wiO1xuY2xhc3MgUGFyc2VJbnB1dExhenlQYXRoIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIHZhbHVlLCBwYXRoLCBrZXkpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkUGF0aCA9IFtdO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5kYXRhID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3BhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLl9rZXkgPSBrZXk7XG4gICAgfVxuICAgIGdldCBwYXRoKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlZFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLl9rZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIC4uLnRoaXMuX2tleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgdGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkUGF0aDtcbiAgICB9XG59XG5jb25zdCBoYW5kbGVSZXN1bHQgPSAoY3R4LCByZXN1bHQpID0+IHtcbiAgICBpZiAoaXNWYWxpZChyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC52YWx1ZSB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFjdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZhbGlkYXRpb24gZmFpbGVkIGJ1dCBubyBpc3N1ZXMgZGV0ZWN0ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihjdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn07XG5mdW5jdGlvbiBwcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zKVxuICAgICAgICByZXR1cm4ge307XG4gICAgY29uc3QgeyBlcnJvck1hcCwgaW52YWxpZF90eXBlX2Vycm9yLCByZXF1aXJlZF9lcnJvciwgZGVzY3JpcHRpb24gfSA9IHBhcmFtcztcbiAgICBpZiAoZXJyb3JNYXAgJiYgKGludmFsaWRfdHlwZV9lcnJvciB8fCByZXF1aXJlZF9lcnJvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCB1c2UgXCJpbnZhbGlkX3R5cGVfZXJyb3JcIiBvciBcInJlcXVpcmVkX2Vycm9yXCIgaW4gY29uanVuY3Rpb24gd2l0aCBjdXN0b20gZXJyb3IgbWFwLmApO1xuICAgIH1cbiAgICBpZiAoZXJyb3JNYXApXG4gICAgICAgIHJldHVybiB7IGVycm9yTWFwOiBlcnJvck1hcCwgZGVzY3JpcHRpb24gfTtcbiAgICBjb25zdCBjdXN0b21NYXAgPSAoaXNzLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBwYXJhbXM7XG4gICAgICAgIGlmIChpc3MuY29kZSA9PT0gXCJpbnZhbGlkX2VudW1fdmFsdWVcIikge1xuICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogbWVzc2FnZSA/PyBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjdHguZGF0YSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogbWVzc2FnZSA/PyByZXF1aXJlZF9lcnJvciA/PyBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzcy5jb2RlICE9PSBcImludmFsaWRfdHlwZVwiKVxuICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IGludmFsaWRfdHlwZV9lcnJvciA/PyBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgfTtcbiAgICByZXR1cm4geyBlcnJvck1hcDogY3VzdG9tTWFwLCBkZXNjcmlwdGlvbiB9O1xufVxuZXhwb3J0IGNsYXNzIFpvZFR5cGUge1xuICAgIGdldCBkZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgX2dldFR5cGUoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIF9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KSB7XG4gICAgICAgIHJldHVybiAoY3R4IHx8IHtcbiAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGlucHV0LnBhcmVudCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogbmV3IFBhcnNlU3RhdHVzKCksXG4gICAgICAgICAgICBjdHg6IHtcbiAgICAgICAgICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpLFxuICAgICAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGlucHV0LnBhcmVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9wYXJzZVN5bmMoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAoaXNBc3luYyhyZXN1bHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTeW5jaHJvbm91cyBwYXJzZSBlbmNvdW50ZXJlZCBwcm9taXNlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfcGFyc2VBc3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICB9XG4gICAgcGFyc2UoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc2FmZVBhcnNlKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBzYWZlUGFyc2UoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgYXN5bmM6IHBhcmFtcz8uYXN5bmMgPz8gZmFsc2UsXG4gICAgICAgICAgICAgICAgY29udGV4dHVhbEVycm9yTWFwOiBwYXJhbXM/LmVycm9yTWFwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IHBhcmFtcz8ucGF0aCB8fCBbXSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShkYXRhKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVzdWx0KGN0eCwgcmVzdWx0KTtcbiAgICB9XG4gICAgXCJ+dmFsaWRhdGVcIihkYXRhKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgYXN5bmM6ICEhdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiBbXSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShkYXRhKSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlU3luYyh7IGRhdGEsIHBhdGg6IFtdLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZChyZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogY3R4LmNvbW1vbi5pc3N1ZXMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycj8ubWVzc2FnZT8udG9Mb3dlckNhc2UoKT8uaW5jbHVkZXMoXCJlbmNvdW50ZXJlZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3R4LmNvbW1vbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VBc3luYyh7IGRhdGEsIHBhdGg6IFtdLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChyZXN1bHQpID0+IGlzVmFsaWQocmVzdWx0KVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGlzc3VlczogY3R4LmNvbW1vbi5pc3N1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpO1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICB9XG4gICAgYXN5bmMgc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgY29udGV4dHVhbEVycm9yTWFwOiBwYXJhbXM/LmVycm9yTWFwLFxuICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IHBhcmFtcz8ucGF0aCB8fCBbXSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShkYXRhKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWF5YmVBc3luY1Jlc3VsdCA9IHRoaXMuX3BhcnNlKHsgZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoaXNBc3luYyhtYXliZUFzeW5jUmVzdWx0KSA/IG1heWJlQXN5bmNSZXN1bHQgOiBQcm9taXNlLnJlc29sdmUobWF5YmVBc3luY1Jlc3VsdCkpO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVzdWx0KGN0eCwgcmVzdWx0KTtcbiAgICB9XG4gICAgcmVmaW5lKGNoZWNrLCBtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IGdldElzc3VlUHJvcGVydGllcyA9ICh2YWwpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgbWVzc2FnZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZSh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2hlY2sodmFsKTtcbiAgICAgICAgICAgIGNvbnN0IHNldEVycm9yID0gKCkgPT4gY3R4LmFkZElzc3VlKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuY3VzdG9tLFxuICAgICAgICAgICAgICAgIC4uLmdldElzc3VlUHJvcGVydGllcyh2YWwpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVmaW5lbWVudChjaGVjaywgcmVmaW5lbWVudERhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNoZWNrKHZhbCkpIHtcbiAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUodHlwZW9mIHJlZmluZW1lbnREYXRhID09PSBcImZ1bmN0aW9uXCIgPyByZWZpbmVtZW50RGF0YSh2YWwsIGN0eCkgOiByZWZpbmVtZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfcmVmaW5lbWVudChyZWZpbmVtZW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJyZWZpbmVtZW50XCIsIHJlZmluZW1lbnQgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN1cGVyUmVmaW5lKHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQocmVmaW5lbWVudCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGRlZikge1xuICAgICAgICAvKiogQWxpYXMgb2Ygc2FmZVBhcnNlQXN5bmMgKi9cbiAgICAgICAgdGhpcy5zcGEgPSB0aGlzLnNhZmVQYXJzZUFzeW5jO1xuICAgICAgICB0aGlzLl9kZWYgPSBkZWY7XG4gICAgICAgIHRoaXMucGFyc2UgPSB0aGlzLnBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2FmZVBhcnNlID0gdGhpcy5zYWZlUGFyc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wYXJzZUFzeW5jID0gdGhpcy5wYXJzZUFzeW5jLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2FmZVBhcnNlQXN5bmMgPSB0aGlzLnNhZmVQYXJzZUFzeW5jLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zcGEuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmUgPSB0aGlzLnJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZmluZW1lbnQgPSB0aGlzLnJlZmluZW1lbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zdXBlclJlZmluZSA9IHRoaXMuc3VwZXJSZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vcHRpb25hbCA9IHRoaXMub3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5udWxsYWJsZSA9IHRoaXMubnVsbGFibGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5udWxsaXNoID0gdGhpcy5udWxsaXNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYXJyYXkgPSB0aGlzLmFycmF5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IHRoaXMucHJvbWlzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9yID0gdGhpcy5vci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFuZCA9IHRoaXMuYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5icmFuZCA9IHRoaXMuYnJhbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gdGhpcy5kZWZhdWx0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuY2F0Y2ggPSB0aGlzLmNhdGNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVzY3JpYmUgPSB0aGlzLmRlc2NyaWJlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGlwZSA9IHRoaXMucGlwZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlYWRvbmx5ID0gdGhpcy5yZWFkb25seS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlzTnVsbGFibGUgPSB0aGlzLmlzTnVsbGFibGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc09wdGlvbmFsID0gdGhpcy5pc09wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXNbXCJ+c3RhbmRhcmRcIl0gPSB7XG4gICAgICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICAgICAgdmVuZG9yOiBcInpvZFwiLFxuICAgICAgICAgICAgdmFsaWRhdGU6IChkYXRhKSA9PiB0aGlzW1wifnZhbGlkYXRlXCJdKGRhdGEpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBvcHRpb25hbCgpIHtcbiAgICAgICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBudWxsYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZE51bGxhYmxlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBudWxsaXNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5udWxsYWJsZSgpLm9wdGlvbmFsKCk7XG4gICAgfVxuICAgIGFycmF5KCkge1xuICAgICAgICByZXR1cm4gWm9kQXJyYXkuY3JlYXRlKHRoaXMpO1xuICAgIH1cbiAgICBwcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gWm9kUHJvbWlzZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgb3Iob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiBab2RVbmlvbi5jcmVhdGUoW3RoaXMsIG9wdGlvbl0sIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIGFuZChpbmNvbWluZykge1xuICAgICAgICByZXR1cm4gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZSh0aGlzLCBpbmNvbWluZywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgdHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwidHJhbnNmb3JtXCIsIHRyYW5zZm9ybSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVmYXVsdChkZWYpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlRnVuYyA9IHR5cGVvZiBkZWYgPT09IFwiZnVuY3Rpb25cIiA/IGRlZiA6ICgpID0+IGRlZjtcbiAgICAgICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlRnVuYyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGJyYW5kKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJyYW5kZWQoe1xuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkLFxuICAgICAgICAgICAgdHlwZTogdGhpcyxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoKGRlZikge1xuICAgICAgICBjb25zdCBjYXRjaFZhbHVlRnVuYyA9IHR5cGVvZiBkZWYgPT09IFwiZnVuY3Rpb25cIiA/IGRlZiA6ICgpID0+IGRlZjtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBpbm5lclR5cGU6IHRoaXMsXG4gICAgICAgICAgICBjYXRjaFZhbHVlOiBjYXRjaFZhbHVlRnVuYyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZXNjcmliZShkZXNjcmlwdGlvbikge1xuICAgICAgICBjb25zdCBUaGlzID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBUaGlzKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGlwZSh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIFpvZFBpcGVsaW5lLmNyZWF0ZSh0aGlzLCB0YXJnZXQpO1xuICAgIH1cbiAgICByZWFkb25seSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZFJlYWRvbmx5LmNyZWF0ZSh0aGlzKTtcbiAgICB9XG4gICAgaXNPcHRpb25hbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FmZVBhcnNlKHVuZGVmaW5lZCkuc3VjY2VzcztcbiAgICB9XG4gICAgaXNOdWxsYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FmZVBhcnNlKG51bGwpLnN1Y2Nlc3M7XG4gICAgfVxufVxuY29uc3QgY3VpZFJlZ2V4ID0gL15jW15cXHMtXXs4LH0kL2k7XG5jb25zdCBjdWlkMlJlZ2V4ID0gL15bMC05YS16XSskLztcbmNvbnN0IHVsaWRSZWdleCA9IC9eWzAtOUEtSEpLTU5QLVRWLVpdezI2fSQvaTtcbi8vIGNvbnN0IHV1aWRSZWdleCA9XG4vLyAgIC9eKFthLWYwLTldezh9LVthLWYwLTldezR9LVsxLTVdW2EtZjAtOV17M30tW2EtZjAtOV17NH0tW2EtZjAtOV17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7XG5jb25zdCB1dWlkUmVnZXggPSAvXlswLTlhLWZBLUZdezh9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezEyfSQvaTtcbmNvbnN0IG5hbm9pZFJlZ2V4ID0gL15bYS16MC05Xy1dezIxfSQvaTtcbmNvbnN0IGp3dFJlZ2V4ID0gL15bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXSokLztcbmNvbnN0IGR1cmF0aW9uUmVnZXggPSAvXlstK10/UCg/ISQpKD86KD86Wy0rXT9cXGQrWSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtZJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzooPzpbLStdP1xcZCtXKXwoPzpbLStdP1xcZCtbLixdXFxkK1ckKSk/KD86KD86Wy0rXT9cXGQrRCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtEJCkpPyg/OlQoPz1bXFxkKy1dKSg/Oig/OlstK10/XFxkK0gpfCg/OlstK10/XFxkK1suLF1cXGQrSCQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86Wy0rXT9cXGQrKD86Wy4sXVxcZCspP1MpPyk/PyQvO1xuLy8gZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDYxODEvMTU1MDE1NVxuLy8gb2xkIHZlcnNpb246IHRvbyBzbG93LCBkaWRuJ3Qgc3VwcG9ydCB1bmljb2RlXG4vLyBjb25zdCBlbWFpbFJlZ2V4ID0gL14oKChbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKFxcLihbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKSopfCgoXFx4MjIpKCgoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oKFtcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDdmXXxcXHgyMXxbXFx4MjMtXFx4NWJdfFtcXHg1ZC1cXHg3ZV18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfChcXFxcKFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZC1cXHg3Zl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkpKigoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oXFx4MjIpKSlAKCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLikrKChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpJC9pO1xuLy9vbGQgZW1haWwgcmVnZXhcbi8vIGNvbnN0IGVtYWlsUmVnZXggPSAvXigoW148PigpW1xcXS4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKD8hLSkoW148PigpW1xcXS4sOzpcXHNAXCJdK1xcLikrW148PigpW1xcXS4sOzpcXHNAXCJdezEsfSlbXi08PigpW1xcXS4sOzpcXHNAXCJdJC9pO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbKCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFxdKXwoXFxbSVB2NjooKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpXFxdKXwoW0EtWmEtejAtOV0oW0EtWmEtejAtOS1dKltBLVphLXowLTldKSooXFwuW0EtWmEtel17Mix9KSspKSQvO1xuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eW2EtekEtWjAtOVxcLlxcIVxcI1xcJFxcJVxcJlxcJ1xcKlxcK1xcL1xcPVxcP1xcXlxcX1xcYFxce1xcfFxcfVxcflxcLV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC87XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL14oPzpbYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKD86XFwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKykqfFwiKD86W1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4MjFcXHgyMy1cXHg1YlxceDVkLVxceDdmXXxcXFxcW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBlLVxceDdmXSkqXCIpQCg/Oig/OlthLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT9cXC4pK1thLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT98XFxbKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT98W2EtejAtOS1dKlthLXowLTldOig/OltcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDIxLVxceDVhXFx4NTMtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSspXFxdKSQvaTtcbmNvbnN0IGVtYWlsUmVnZXggPSAvXig/IVxcLikoPyEuKlxcLlxcLikoW0EtWjAtOV8nK1xcLVxcLl0qKVtBLVowLTlfKy1dQChbQS1aMC05XVtBLVowLTlcXC1dKlxcLikrW0EtWl17Mix9JC9pO1xuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eW2EtejAtOS4hIyQlJlx1MjAxOSorLz0/Xl9ge3x9fi1dK0BbYS16MC05LV0rKD86XFwuW2EtejAtOVxcLV0rKSokL2k7XG4vLyBmcm9tIGh0dHBzOi8vdGhla2V2aW5zY290dC5jb20vZW1vamlzLWluLWphdmFzY3JpcHQvI3dyaXRpbmctYS1yZWd1bGFyLWV4cHJlc3Npb25cbmNvbnN0IF9lbW9qaVJlZ2V4ID0gYF4oXFxcXHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxcXFxccHtFbW9qaV9Db21wb25lbnR9KSskYDtcbmxldCBlbW9qaVJlZ2V4O1xuLy8gZmFzdGVyLCBzaW1wbGVyLCBzYWZlclxuY29uc3QgaXB2NFJlZ2V4ID0gL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSkkLztcbmNvbnN0IGlwdjRDaWRyUmVnZXggPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLygzWzAtMl18WzEyXT9bMC05XSkkLztcbi8vIGNvbnN0IGlwdjZSZWdleCA9XG4vLyAvXigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSkkLztcbmNvbnN0IGlwdjZSZWdleCA9IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7Nyw3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KXxmZTgwOig6WzAtOWEtZkEtRl17MCw0fSl7MCw0fSVbMC05YS16QS1aXXsxLH18OjooZmZmZig6MHsxLDR9KXswLDF9Oil7MCwxfSgoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH06KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pKSQvO1xuY29uc3QgaXB2NkNpZHJSZWdleCA9IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7Nyw3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KXxmZTgwOig6WzAtOWEtZkEtRl17MCw0fSl7MCw0fSVbMC05YS16QS1aXXsxLH18OjooZmZmZig6MHsxLDR9KXswLDF9Oil7MCwxfSgoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH06KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pKVxcLygxMlswLThdfDFbMDFdWzAtOV18WzEtOV0/WzAtOV0pJC87XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODYwMzkyL2RldGVybWluZS1pZi1zdHJpbmctaXMtaW4tYmFzZTY0LXVzaW5nLWphdmFzY3JpcHRcbmNvbnN0IGJhc2U2NFJlZ2V4ID0gL14oWzAtOWEtekEtWisvXXs0fSkqKChbMC05YS16QS1aKy9dezJ9PT0pfChbMC05YS16QS1aKy9dezN9PSkpPyQvO1xuLy8gaHR0cHM6Ly9iYXNlNjQuZ3VydS9zdGFuZGFyZHMvYmFzZTY0dXJsXG5jb25zdCBiYXNlNjR1cmxSZWdleCA9IC9eKFswLTlhLXpBLVotX117NH0pKigoWzAtOWEtekEtWi1fXXsyfSg9PSk/KXwoWzAtOWEtekEtWi1fXXszfSg9KT8pKT8kLztcbi8vIHNpbXBsZVxuLy8gY29uc3QgZGF0ZVJlZ2V4U291cmNlID0gYFxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9YDtcbi8vIG5vIGxlYXAgeWVhciB2YWxpZGF0aW9uXG4vLyBjb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgXFxcXGR7NH0tKCgwWzEzNTc4XXwxMHwxMiktMzF8KDBbMTMtOV18MVswLTJdKS0zMHwoMFsxLTldfDFbMC0yXSktKDBbMS05XXwxXFxcXGR8MlxcXFxkKSlgO1xuLy8gd2l0aCBsZWFwIHllYXIgdmFsaWRhdGlvblxuY29uc3QgZGF0ZVJlZ2V4U291cmNlID0gYCgoXFxcXGRcXFxcZFsyNDY4XVswNDhdfFxcXFxkXFxcXGRbMTM1NzldWzI2XXxcXFxcZFxcXFxkMFs0OF18WzAyNDY4XVswNDhdMDB8WzEzNTc5XVsyNl0wMCktMDItMjl8XFxcXGR7NH0tKCgwWzEzNTc4XXwxWzAyXSktKDBbMS05XXxbMTJdXFxcXGR8M1swMV0pfCgwWzQ2OV18MTEpLSgwWzEtOV18WzEyXVxcXFxkfDMwKXwoMDIpLSgwWzEtOV18MVxcXFxkfDJbMC04XSkpKWA7XG5jb25zdCBkYXRlUmVnZXggPSBuZXcgUmVnRXhwKGBeJHtkYXRlUmVnZXhTb3VyY2V9JGApO1xuZnVuY3Rpb24gdGltZVJlZ2V4U291cmNlKGFyZ3MpIHtcbiAgICBsZXQgc2Vjb25kc1JlZ2V4U291cmNlID0gYFswLTVdXFxcXGRgO1xuICAgIGlmIChhcmdzLnByZWNpc2lvbikge1xuICAgICAgICBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgJHtzZWNvbmRzUmVnZXhTb3VyY2V9XFxcXC5cXFxcZHske2FyZ3MucHJlY2lzaW9ufX1gO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcmdzLnByZWNpc2lvbiA9PSBudWxsKSB7XG4gICAgICAgIHNlY29uZHNSZWdleFNvdXJjZSA9IGAke3NlY29uZHNSZWdleFNvdXJjZX0oXFxcXC5cXFxcZCspP2A7XG4gICAgfVxuICAgIGNvbnN0IHNlY29uZHNRdWFudGlmaWVyID0gYXJncy5wcmVjaXNpb24gPyBcIitcIiA6IFwiP1wiOyAvLyByZXF1aXJlIHNlY29uZHMgaWYgcHJlY2lzaW9uIGlzIG5vbnplcm9cbiAgICByZXR1cm4gYChbMDFdXFxcXGR8MlswLTNdKTpbMC01XVxcXFxkKDoke3NlY29uZHNSZWdleFNvdXJjZX0pJHtzZWNvbmRzUXVhbnRpZmllcn1gO1xufVxuZnVuY3Rpb24gdGltZVJlZ2V4KGFyZ3MpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7dGltZVJlZ2V4U291cmNlKGFyZ3MpfSRgKTtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzE0MzIzMVxuZXhwb3J0IGZ1bmN0aW9uIGRhdGV0aW1lUmVnZXgoYXJncykge1xuICAgIGxldCByZWdleCA9IGAke2RhdGVSZWdleFNvdXJjZX1UJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9YDtcbiAgICBjb25zdCBvcHRzID0gW107XG4gICAgb3B0cy5wdXNoKGFyZ3MubG9jYWwgPyBgWj9gIDogYFpgKTtcbiAgICBpZiAoYXJncy5vZmZzZXQpXG4gICAgICAgIG9wdHMucHVzaChgKFsrLV1cXFxcZHsyfTo/XFxcXGR7Mn0pYCk7XG4gICAgcmVnZXggPSBgJHtyZWdleH0oJHtvcHRzLmpvaW4oXCJ8XCIpfSlgO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHtyZWdleH0kYCk7XG59XG5mdW5jdGlvbiBpc1ZhbGlkSVAoaXAsIHZlcnNpb24pIHtcbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NFJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NlJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1ZhbGlkSldUKGp3dCwgYWxnKSB7XG4gICAgaWYgKCFqd3RSZWdleC50ZXN0KGp3dCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBbaGVhZGVyXSA9IGp3dC5zcGxpdChcIi5cIik7XG4gICAgICAgIGlmICghaGVhZGVyKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBDb252ZXJ0IGJhc2U2NHVybCB0byBiYXNlNjRcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gaGVhZGVyXG4gICAgICAgICAgICAucmVwbGFjZSgvLS9nLCBcIitcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9fL2csIFwiL1wiKVxuICAgICAgICAgICAgLnBhZEVuZChoZWFkZXIubGVuZ3RoICsgKCg0IC0gKGhlYWRlci5sZW5ndGggJSA0KSkgJSA0KSwgXCI9XCIpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBKU09OLnBhcnNlKGF0b2IoYmFzZTY0KSk7XG4gICAgICAgIGlmICh0eXBlb2YgZGVjb2RlZCAhPT0gXCJvYmplY3RcIiB8fCBkZWNvZGVkID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoXCJ0eXBcIiBpbiBkZWNvZGVkICYmIGRlY29kZWQ/LnR5cCAhPT0gXCJKV1RcIilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFkZWNvZGVkLmFsZylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGFsZyAmJiBkZWNvZGVkLmFsZyAhPT0gYWxnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNWYWxpZENpZHIoaXAsIHZlcnNpb24pIHtcbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NENpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZDaWRyUmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBjbGFzcyBab2RTdHJpbmcgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBTdHJpbmcoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3RyaW5nLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImxlbmd0aFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtYWlsXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtYWlsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbW9qaVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgIGVtb2ppUmVnZXggPSBuZXcgUmVnRXhwKF9lbW9qaVJlZ2V4LCBcInVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZW1vamlSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1vamlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInV1aWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXVpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1dWlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJuYW5vaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghbmFub2lkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcIm5hbm9pZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImN1aWQyXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWQyUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWQyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1bGlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVsaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXJsXCIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIG5ldyBVUkwoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBjaGVjay5yZWdleC5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RSZXN1bHQgPSBjaGVjay5yZWdleC50ZXN0KGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIGlmICghdGVzdFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0cmltXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50cmltKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImluY2x1ZGVzXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuaW5jbHVkZXMoY2hlY2sudmFsdWUsIGNoZWNrLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGluY2x1ZGVzOiBjaGVjay52YWx1ZSwgcG9zaXRpb246IGNoZWNrLnBvc2l0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b0xvd2VyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9VcHBlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInN0YXJ0c1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5zdGFydHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IHN0YXJ0c1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbmRzV2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmVuZHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGVuZHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZXRpbWVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gZGF0ZXRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gZGF0ZVJlZ2V4O1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRpbWVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gdGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ0aW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkdXJhdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkdXJhdGlvblJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkdXJhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaXBcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZElQKGlucHV0LmRhdGEsIGNoZWNrLnZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiaXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImp3dFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkSldUKGlucHV0LmRhdGEsIGNoZWNrLmFsZykpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJqd3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImNpZHJcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZENpZHIoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjaWRyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjRcIikge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZTY0UmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiYmFzZTY0dXJsXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2U2NHVybFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgX3JlZ2V4KHJlZ2V4LCB2YWxpZGF0aW9uLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmluZW1lbnQoKGRhdGEpID0+IHJlZ2V4LnRlc3QoZGF0YSksIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb24sXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW1haWwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtYWlsXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdXJsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1cmxcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBlbW9qaShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1vamlcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1dWlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1dWlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgbmFub2lkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJuYW5vaWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgY3VpZDIobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWQyXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdWxpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidWxpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGJhc2U2NChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiYmFzZTY0XCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0dXJsKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gYmFzZTY0dXJsIGVuY29kaW5nIGlzIGEgbW9kaWZpY2F0aW9uIG9mIGJhc2U2NCB0aGF0IGNhbiBzYWZlbHkgYmUgdXNlZCBpbiBVUkxzIGFuZCBmaWxlbmFtZXNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBqd3Qob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImp3dFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGlwKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJpcFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGNpZHIob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImNpZHJcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBkYXRldGltZShvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbG9jYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2Ygb3B0aW9ucz8ucHJlY2lzaW9uID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnM/LnByZWNpc2lvbixcbiAgICAgICAgICAgIG9mZnNldDogb3B0aW9ucz8ub2Zmc2V0ID8/IGZhbHNlLFxuICAgICAgICAgICAgbG9jYWw6IG9wdGlvbnM/LmxvY2FsID8/IGZhbHNlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGF0ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZGF0ZVwiLCBtZXNzYWdlIH0pO1xuICAgIH1cbiAgICB0aW1lKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2Ygb3B0aW9ucz8ucHJlY2lzaW9uID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnM/LnByZWNpc2lvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGR1cmF0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJkdXJhdGlvblwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHJlZ2V4KHJlZ2V4LCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICByZWdleDogcmVnZXgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbmNsdWRlcyh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbmNsdWRlc1wiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcG9zaXRpb246IG9wdGlvbnM/LnBvc2l0aW9uLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJzdGFydHNXaXRoXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbmRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJlbmRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5MZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heExlbmd0aCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibGVuZ3RoXCIsXG4gICAgICAgICAgICB2YWx1ZTogbGVuLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBgLm1pbigxKWBcbiAgICAgKi9cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBlcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkpO1xuICAgIH1cbiAgICB0cmltKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidHJpbVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9Mb3dlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b0xvd2VyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9VcHBlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b1VwcGVyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZXRpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZXRpbWVcIik7XG4gICAgfVxuICAgIGdldCBpc0RhdGUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkdXJhdGlvblwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1haWwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1haWxcIik7XG4gICAgfVxuICAgIGdldCBpc1VSTCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1cmxcIik7XG4gICAgfVxuICAgIGdldCBpc0Vtb2ppKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtb2ppXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInV1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc05BTk9JRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJuYW5vaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRDIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZDJcIik7XG4gICAgfVxuICAgIGdldCBpc1VMSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidWxpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzSVAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaXBcIik7XG4gICAgfVxuICAgIGdldCBpc0NJRFIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY2lkclwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0dXJsKCkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NHVybFwiKTtcbiAgICB9XG4gICAgZ2V0IG1pbkxlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4TGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kU3RyaW5nLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlID8/IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzk2NjQ4NC93aHktZG9lcy1tb2R1bHVzLW9wZXJhdG9yLXJldHVybi1mcmFjdGlvbmFsLW51bWJlci1pbi1qYXZhc2NyaXB0LzMxNzExMDM0IzMxNzExMDM0XG5mdW5jdGlvbiBmbG9hdFNhZmVSZW1haW5kZXIodmFsLCBzdGVwKSB7XG4gICAgY29uc3QgdmFsRGVjQ291bnQgPSAodmFsLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBzdGVwRGVjQ291bnQgPSAoc3RlcC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3QgZGVjQ291bnQgPSB2YWxEZWNDb3VudCA+IHN0ZXBEZWNDb3VudCA/IHZhbERlY0NvdW50IDogc3RlcERlY0NvdW50O1xuICAgIGNvbnN0IHZhbEludCA9IE51bWJlci5wYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIGNvbnN0IHN0ZXBJbnQgPSBOdW1iZXIucGFyc2VJbnQoc3RlcC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgcmV0dXJuICh2YWxJbnQgJSBzdGVwSW50KSAvIDEwICoqIGRlY0NvdW50O1xufVxuZXhwb3J0IGNsYXNzIFpvZE51bWJlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgICAgICB0aGlzLnN0ZXAgPSB0aGlzLm11bHRpcGxlT2Y7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IE51bWJlcihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udW1iZXIsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJpbnRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXRpbC5pc0ludGVnZXIoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImludGVnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBcImZsb2F0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChmbG9hdFNhZmVSZW1haW5kZXIoaW5wdXQuZGF0YSwgY2hlY2sudmFsdWUpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImZpbml0ZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9maW5pdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGludChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImludFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZpbml0ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImZpbml0ZVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2FmZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KS5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG4gICAgZ2V0IGlzSW50KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImludFwiIHx8IChjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIiAmJiB1dGlsLmlzSW50ZWdlcihjaC52YWx1ZSkpKTtcbiAgICB9XG4gICAgZ2V0IGlzRmluaXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwiZmluaXRlXCIgfHwgY2gua2luZCA9PT0gXCJpbnRcIiB8fCBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobWluKSAmJiBOdW1iZXIuaXNGaW5pdGUobWF4KTtcbiAgICB9XG59XG5ab2ROdW1iZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXIsXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQmlnSW50IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gQmlnSW50KGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYmlnaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhICUgY2hlY2sudmFsdWUgIT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5iaWdpbnQsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kQmlnSW50LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQmlnSW50LFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlID8/IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEJvb2xlYW4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCb29sZWFuKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYm9vbGVhbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZEJvb2xlYW4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQm9vbGVhbih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbixcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2REYXRlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gbmV3IERhdGUoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5kYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmRhdGUsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGlucHV0LmRhdGEuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZShpbnB1dC5kYXRhLmdldFRpbWUoKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkRhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluRGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4RGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhEYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5EYXRlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW4gIT0gbnVsbCA/IG5ldyBEYXRlKG1pbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgbWF4RGF0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4ICE9IG51bGwgPyBuZXcgRGF0ZShtYXgpIDogbnVsbDtcbiAgICB9XG59XG5ab2REYXRlLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlIHx8IGZhbHNlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kU3ltYm9sIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3ltYm9sKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnN5bWJvbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RTeW1ib2wuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU3ltYm9sKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTeW1ib2wsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVW5kZWZpbmVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RVbmRlZmluZWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5kZWZpbmVkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmRlZmluZWQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTnVsbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubnVsbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2ROdWxsLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGwoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQW55IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHRvIHByZXZlbnQgaW5zdGFuY2VzIG9mIG90aGVyIGNsYXNzZXMgZnJvbSBleHRlbmRpbmcgWm9kQW55LiB0aGlzIGNhdXNlcyBpc3N1ZXMgd2l0aCBjYXRjaGFsbCBpbiBab2RPYmplY3QuXG4gICAgICAgIHRoaXMuX2FueSA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kQW55LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEFueSh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVua25vd24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gcmVxdWlyZWRcbiAgICAgICAgdGhpcy5fdW5rbm93biA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVW5rbm93bi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmtub3duKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE5ldmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubmV2ZXIsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG59XG5ab2ROZXZlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROZXZlcih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXIsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVm9pZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS52b2lkLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFZvaWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVm9pZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RBcnJheSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCwgc3RhdHVzIH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYuZXhhY3RMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY3R4LmRhdGEubGVuZ3RoIDwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiB0b29CaWcgPyBab2RJc3N1ZUNvZGUudG9vX2JpZyA6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06ICh0b29TbWFsbCA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06ICh0b29CaWcgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWluTGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgZGVmLm1pbkxlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluTGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluTGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPiBkZWYubWF4TGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4TGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4TGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VBc3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKTtcbiAgICAgICAgICAgIH0pKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZVN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IHsgdmFsdWU6IG1pbkxlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4TGVuZ3RoOiB7IHZhbHVlOiBtYXhMZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGV4YWN0TGVuZ3RoOiB7IHZhbHVlOiBsZW4sIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuWm9kQXJyYXkuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgIHR5cGU6IHNjaGVtYSxcbiAgICAgICAgbWluTGVuZ3RoOiBudWxsLFxuICAgICAgICBtYXhMZW5ndGg6IG51bGwsXG4gICAgICAgIGV4YWN0TGVuZ3RoOiBudWxsLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFycmF5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gZGVlcFBhcnRpYWxpZnkoc2NoZW1hKSB7XG4gICAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9iamVjdCkge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEuc2hhcGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gc2NoZW1hLnNoYXBlW2tleV07XG4gICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KGZpZWxkU2NoZW1hKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RBcnJheSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgdHlwZTogZGVlcFBhcnRpYWxpZnkoc2NoZW1hLmVsZW1lbnQpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIFpvZE51bGxhYmxlLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kVHVwbGUpIHtcbiAgICAgICAgcmV0dXJuIFpvZFR1cGxlLmNyZWF0ZShzY2hlbWEuaXRlbXMubWFwKChpdGVtKSA9PiBkZWVwUGFydGlhbGlmeShpdGVtKSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kT2JqZWN0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBJbiBtb3N0IGNhc2VzLCB0aGlzIGlzIG5vIGxvbmdlciBuZWVkZWQgLSB1bmtub3duIHByb3BlcnRpZXMgYXJlIG5vdyBzaWxlbnRseSBzdHJpcHBlZC5cbiAgICAgICAgICogSWYgeW91IHdhbnQgdG8gcGFzcyB0aHJvdWdoIHVua25vd24gcHJvcGVydGllcywgdXNlIGAucGFzc3Rocm91Z2goKWAgaW5zdGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubm9uc3RyaWN0ID0gdGhpcy5wYXNzdGhyb3VnaDtcbiAgICAgICAgLy8gZXh0ZW5kPFxuICAgICAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIFpvZFJhd1NoYXBlLFxuICAgICAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAgICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PixcbiAgICAgICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAgICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+XG4gICAgICAgIC8vID4oXG4gICAgICAgIC8vICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gKTogWm9kT2JqZWN0PFxuICAgICAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIEF1Z21lbnRhdGlvbj4sXG4gICAgICAgIC8vICAgVW5rbm93bktleXMsXG4gICAgICAgIC8vICAgQ2F0Y2hhbGwsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0LFxuICAgICAgICAvLyAgIE5ld0lucHV0XG4gICAgICAgIC8vID4ge1xuICAgICAgICAvLyAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgLy8gICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgLy8gICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAvLyAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgLy8gICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAvLyAgICAgfSksXG4gICAgICAgIC8vICAgfSkgYXMgYW55O1xuICAgICAgICAvLyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYC5leHRlbmRgIGluc3RlYWRcbiAgICAgICAgICogICovXG4gICAgICAgIHRoaXMuYXVnbWVudCA9IHRoaXMuZXh0ZW5kO1xuICAgIH1cbiAgICBfZ2V0Q2FjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkICE9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IHV0aWwub2JqZWN0S2V5cyhzaGFwZSk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IHsgc2hhcGUsIGtleXMgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgICAgIGNvbnN0IGV4dHJhS2V5cyA9IFtdO1xuICAgICAgICBpZiAoISh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlciAmJiB0aGlzLl9kZWYudW5rbm93bktleXMgPT09IFwic3RyaXBcIikpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzaGFwZUtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYUtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFwZUtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleVZhbGlkYXRvciA9IHNoYXBlW2tleV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICB2YWx1ZToga2V5VmFsaWRhdG9yLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlcikge1xuICAgICAgICAgICAgY29uc3QgdW5rbm93bktleXMgPSB0aGlzLl9kZWYudW5rbm93bktleXM7XG4gICAgICAgICAgICBpZiAodW5rbm93bktleXMgPT09IFwicGFzc3Rocm91Z2hcIikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBjdHguZGF0YVtrZXldIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmljdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4dHJhS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnVucmVjb2duaXplZF9rZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5czogZXh0cmFLZXlzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaXBcIikge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnRlcm5hbCBab2RPYmplY3QgZXJyb3I6IGludmFsaWQgdW5rbm93bktleXMgdmFsdWUuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBydW4gY2F0Y2hhbGwgdmFsaWRhdGlvblxuICAgICAgICAgICAgY29uc3QgY2F0Y2hhbGwgPSB0aGlzLl9kZWYuY2F0Y2hhbGw7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2F0Y2hhbGwuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSkgLy8sIGN0eC5jaGlsZChrZXkpLCB2YWx1ZSwgZ2V0UGFyc2VkVHlwZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3luY1BhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IHBhaXIuYWx3YXlzU2V0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN5bmNQYWlycztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHN5bmNQYWlycykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBzeW5jUGFpcnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgIH1cbiAgICBzdHJpY3QobWVzc2FnZSkge1xuICAgICAgICBlcnJvclV0aWwuZXJyVG9PYmo7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgICAgICAgLi4uKG1lc3NhZ2UgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1hcDogKGlzc3VlLCBjdHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRFcnJvciA9IHRoaXMuX2RlZi5lcnJvck1hcD8uKGlzc3VlLCBjdHgpLm1lc3NhZ2UgPz8gY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcInVucmVjb2duaXplZF9rZXlzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLm1lc3NhZ2UgPz8gZGVmYXVsdEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RyaXAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwYXNzdGhyb3VnaCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwicGFzc3Rocm91Z2hcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGNvbnN0IEF1Z21lbnRGYWN0b3J5ID1cbiAgICAvLyAgIDxEZWYgZXh0ZW5kcyBab2RPYmplY3REZWY+KGRlZjogRGVmKSA9PlxuICAgIC8vICAgPEF1Z21lbnRhdGlvbiBleHRlbmRzIFpvZFJhd1NoYXBlPihcbiAgICAvLyAgICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgICAvLyAgICk6IFpvZE9iamVjdDxcbiAgICAvLyAgICAgZXh0ZW5kU2hhcGU8UmV0dXJuVHlwZTxEZWZbXCJzaGFwZVwiXT4sIEF1Z21lbnRhdGlvbj4sXG4gICAgLy8gICAgIERlZltcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgICBEZWZbXCJjYXRjaGFsbFwiXVxuICAgIC8vICAgPiA9PiB7XG4gICAgLy8gICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgICAuLi5kZWYsXG4gICAgLy8gICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgLy8gICAgICAgICAuLi5kZWYuc2hhcGUoKSxcbiAgICAvLyAgICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAvLyAgICAgICB9KSxcbiAgICAvLyAgICAgfSkgYXMgYW55O1xuICAgIC8vICAgfTtcbiAgICBleHRlbmQoYXVnbWVudGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJpb3IgdG8gem9kQDEuMC4xMiB0aGVyZSB3YXMgYSBidWcgaW4gdGhlXG4gICAgICogaW5mZXJyZWQgdHlwZSBvZiBtZXJnZWQgb2JqZWN0cy4gUGxlYXNlXG4gICAgICogdXBncmFkZSBpZiB5b3UgYXJlIGV4cGVyaWVuY2luZyBpc3N1ZXMuXG4gICAgICovXG4gICAgbWVyZ2UobWVyZ2luZykge1xuICAgICAgICBjb25zdCBtZXJnZWQgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgICAgICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICAgICAgLi4ubWVyZ2luZy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG4gICAgLy8gbWVyZ2U8XG4gICAgLy8gICBJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdCxcbiAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIEluY29taW5nW1wic2hhcGVcIl0sXG4gICAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB7XG4gICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9vdXRwdXRcIl1cbiAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9LFxuICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB7XG4gICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIElucHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAvLyAgICAgICA/IElucHV0W2tdXG4gICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAvLyAgIH1cbiAgICAvLyA+KFxuICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAvLyApOiBab2RPYmplY3Q8XG4gICAgLy8gICBleHRlbmRTaGFwZTxULCBSZXR1cm5UeXBlPEluY29taW5nW1wiX2RlZlwiXVtcInNoYXBlXCJdPj4sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0LFxuICAgIC8vICAgTmV3SW5wdXRcbiAgICAvLyA+IHtcbiAgICAvLyAgIGNvbnN0IG1lcmdlZDogYW55ID0gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgLy8gICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgLy8gICAgIHNoYXBlOiAoKSA9PlxuICAgIC8vICAgICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXModGhpcy5fZGVmLnNoYXBlKCksIG1lcmdpbmcuX2RlZi5zaGFwZSgpKSxcbiAgICAvLyAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgLy8gICB9KSBhcyBhbnk7XG4gICAgLy8gICByZXR1cm4gbWVyZ2VkO1xuICAgIC8vIH1cbiAgICBzZXRLZXkoa2V5LCBzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVnbWVudCh7IFtrZXldOiBzY2hlbWEgfSk7XG4gICAgfVxuICAgIC8vIG1lcmdlPEluY29taW5nIGV4dGVuZHMgQW55Wm9kT2JqZWN0PihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogLy9ab2RPYmplY3Q8VCAmIEluY29taW5nW1wiX3NoYXBlXCJdLCBVbmtub3duS2V5cywgQ2F0Y2hhbGw+ID0gKG1lcmdpbmcpID0+IHtcbiAgICAvLyBab2RPYmplY3Q8XG4gICAgLy8gICBleHRlbmRTaGFwZTxULCBSZXR1cm5UeXBlPEluY29taW5nW1wiX2RlZlwiXVtcInNoYXBlXCJdPj4sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdXG4gICAgLy8gPiB7XG4gICAgLy8gICAvLyBjb25zdCBtZXJnZWRTaGFwZSA9IG9iamVjdFV0aWwubWVyZ2VTaGFwZXMoXG4gICAgLy8gICAvLyAgIHRoaXMuX2RlZi5zaGFwZSgpLFxuICAgIC8vICAgLy8gICBtZXJnaW5nLl9kZWYuc2hhcGUoKVxuICAgIC8vICAgLy8gKTtcbiAgICAvLyAgIGNvbnN0IG1lcmdlZDogYW55ID0gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgLy8gICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgLy8gICAgIHNoYXBlOiAoKSA9PlxuICAgIC8vICAgICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXModGhpcy5fZGVmLnNoYXBlKCksIG1lcmdpbmcuX2RlZi5zaGFwZSgpKSxcbiAgICAvLyAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgLy8gICB9KSBhcyBhbnk7XG4gICAgLy8gICByZXR1cm4gbWVyZ2VkO1xuICAgIC8vIH1cbiAgICBjYXRjaGFsbChpbmRleCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjYXRjaGFsbDogaW5kZXgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaWNrKG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKG1hc2spKSB7XG4gICAgICAgICAgICBpZiAobWFza1trZXldICYmIHRoaXMuc2hhcGVba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb21pdChtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSkge1xuICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgZGVlcFBhcnRpYWwoKSB7XG4gICAgICAgIHJldHVybiBkZWVwUGFydGlhbGlmeSh0aGlzKTtcbiAgICB9XG4gICAgcGFydGlhbChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGZpZWxkU2NoZW1hO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGZpZWxkU2NoZW1hLm9wdGlvbmFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVxdWlyZWQobWFzaykge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICAgICAgbGV0IG5ld0ZpZWxkID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5ld0ZpZWxkIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RmllbGQgPSBuZXdGaWVsZC5fZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IG5ld0ZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGtleW9mKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlWm9kRW51bSh1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpO1xuICAgIH1cbn1cblpvZE9iamVjdC5jcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kT2JqZWN0LnN0cmljdENyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kT2JqZWN0LmxhenljcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9kZWYub3B0aW9ucztcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVzdWx0cyhyZXN1bHRzKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gZmlyc3QgaXNzdWUtZnJlZSB2YWxpZGF0aW9uIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXNzdWVzIGZyb20gZGlydHkgb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4ucmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIGludmFsaWRcbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gbmV3IFpvZEVycm9yKHJlc3VsdC5jdHguY29tbW9uLmlzc3VlcykpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgY3R4OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpLnRoZW4oaGFuZGxlUmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGlydHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBpc3N1ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIiAmJiAhZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB7IHJlc3VsdCwgY3R4OiBjaGlsZEN0eCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRDdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzLnB1c2goY2hpbGRDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5kaXJ0eS5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcnR5LnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gaXNzdWVzLm1hcCgoaXNzdWVzKSA9PiBuZXcgWm9kRXJyb3IoaXNzdWVzKSk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9ycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG59XG5ab2RVbmlvbi5jcmVhdGUgPSAodHlwZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgICAgICBvcHRpb25zOiB0eXBlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICBab2REaXNjcmltaW5hdGVkVW5pb24gICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5jb25zdCBnZXREaXNjcmltaW5hdG9yID0gKHR5cGUpID0+IHtcbiAgICBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExhenkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5zY2hlbWEpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRWZmZWN0cykge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLmlubmVyVHlwZSgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExpdGVyYWwpIHtcbiAgICAgICAgcmV0dXJuIFt0eXBlLnZhbHVlXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIHR5cGUub3B0aW9ucztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE5hdGl2ZUVudW0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKHR5cGUuZW51bSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2REZWZhdWx0KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kVW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkLCAuLi5nZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBbbnVsbCwgLi4uZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RCcmFuZGVkKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kUmVhZG9ubHkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RDYXRjaCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59O1xuZXhwb3J0IGNsYXNzIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yID0gdGhpcy5kaXNjcmltaW5hdG9yO1xuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWUgPSBjdHguZGF0YVtkaXNjcmltaW5hdG9yXTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy5vcHRpb25zTWFwLmdldChkaXNjcmltaW5hdG9yVmFsdWUpO1xuICAgICAgICBpZiAoIW9wdGlvbikge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvcixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBcnJheS5mcm9tKHRoaXMub3B0aW9uc01hcC5rZXlzKCkpLFxuICAgICAgICAgICAgICAgIHBhdGg6IFtkaXNjcmltaW5hdG9yXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGRpc2NyaW1pbmF0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGlzY3JpbWluYXRvcjtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnNNYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9uc01hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBkaXNjcmltaW5hdGVkIHVuaW9uIHNjaGVtYS4gSXRzIGJlaGF2aW91ciBpcyB2ZXJ5IHNpbWlsYXIgdG8gdGhhdCBvZiB0aGUgbm9ybWFsIHoudW5pb24oKSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBIb3dldmVyLCBpdCBvbmx5IGFsbG93cyBhIHVuaW9uIG9mIG9iamVjdHMsIGFsbCBvZiB3aGljaCBuZWVkIHRvIHNoYXJlIGEgZGlzY3JpbWluYXRvciBwcm9wZXJ0eS4gVGhpcyBwcm9wZXJ0eSBtdXN0XG4gICAgICogaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZSBmb3IgZWFjaCBvYmplY3QgaW4gdGhlIHVuaW9uLlxuICAgICAqIEBwYXJhbSBkaXNjcmltaW5hdG9yIHRoZSBuYW1lIG9mIHRoZSBkaXNjcmltaW5hdG9yIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHR5cGVzIGFuIGFycmF5IG9mIG9iamVjdCBzY2hlbWFzXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoZGlzY3JpbWluYXRvciwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgICAgIC8vIEdldCBhbGwgdGhlIHZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWVzXG4gICAgICAgIGNvbnN0IG9wdGlvbnNNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIHRyeSB7XG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWVzID0gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNoYXBlW2Rpc2NyaW1pbmF0b3JdKTtcbiAgICAgICAgICAgIGlmICghZGlzY3JpbWluYXRvclZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgZGlzY3JpbWluYXRvciB2YWx1ZSBmb3Iga2V5IFxcYCR7ZGlzY3JpbWluYXRvcn1cXGAgY291bGQgbm90IGJlIGV4dHJhY3RlZCBmcm9tIGFsbCBzY2hlbWEgb3B0aW9uc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBkaXNjcmltaW5hdG9yVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXAuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERpc2NyaW1pbmF0b3IgcHJvcGVydHkgJHtTdHJpbmcoZGlzY3JpbWluYXRvcil9IGhhcyBkdXBsaWNhdGUgdmFsdWUgJHtTdHJpbmcodmFsdWUpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgdHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2REaXNjcmltaW5hdGVkVW5pb24oe1xuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REaXNjcmltaW5hdGVkVW5pb24sXG4gICAgICAgICAgICBkaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnNNYXAsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1lcmdlVmFsdWVzKGEsIGIpIHtcbiAgICBjb25zdCBhVHlwZSA9IGdldFBhcnNlZFR5cGUoYSk7XG4gICAgY29uc3QgYlR5cGUgPSBnZXRQYXJzZWRUeXBlKGIpO1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgY29uc3QgYktleXMgPSB1dGlsLm9iamVjdEtleXMoYik7XG4gICAgICAgIGNvbnN0IHNoYXJlZEtleXMgPSB1dGlsLm9iamVjdEtleXMoYSkuZmlsdGVyKChrZXkpID0+IGJLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpO1xuICAgICAgICBjb25zdCBuZXdPYmogPSB7IC4uLmEsIC4uLmIgfTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcmVkS2V5cykge1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld09iaiB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1BID0gYVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBpdGVtQiA9IGJbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhpdGVtQSwgaXRlbUIpO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChzaGFyZWRWYWx1ZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3QXJyYXkgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5kYXRlICYmICthID09PSArYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZEludGVyc2VjdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBoYW5kbGVQYXJzZWQgPSAocGFyc2VkTGVmdCwgcGFyc2VkUmlnaHQpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQocGFyc2VkTGVmdCkgfHwgaXNBYm9ydGVkKHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gbWVyZ2VWYWx1ZXMocGFyc2VkTGVmdC52YWx1ZSwgcGFyc2VkUmlnaHQudmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFtZXJnZWQudmFsaWQpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRGlydHkocGFyc2VkTGVmdCkgfHwgaXNEaXJ0eShwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogbWVyZ2VkLmRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLmxlZnQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKS50aGVuKChbbGVmdCwgcmlnaHRdKSA9PiBoYW5kbGVQYXJzZWQobGVmdCwgcmlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVQYXJzZWQodGhpcy5fZGVmLmxlZnQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSwgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZSA9IChsZWZ0LCByaWdodCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RJbnRlcnNlY3Rpb24oe1xuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICByaWdodDogcmlnaHQsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kSW50ZXJzZWN0aW9uLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8gdHlwZSBab2RUdXBsZUl0ZW1zID0gW1pvZFR5cGVBbnksIC4uLlpvZFR5cGVBbnlbXV07XG5leHBvcnQgY2xhc3MgWm9kVHVwbGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgbWluaW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdCA9IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICBpZiAoIXJlc3QgJiYgY3R4LmRhdGEubGVuZ3RoID4gdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgbWF4aW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbXMgPSBbLi4uY3R4LmRhdGFdXG4gICAgICAgICAgICAubWFwKChpdGVtLCBpdGVtSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuX2RlZi5pdGVtc1tpdGVtSW5kZXhdIHx8IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICAgICAgaWYgKCFzY2hlbWEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGl0ZW1JbmRleCkpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4gISF4KTsgLy8gZmlsdGVyIG51bGxzXG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoaXRlbXMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIGl0ZW1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaXRlbXM7XG4gICAgfVxuICAgIHJlc3QocmVzdCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblpvZFR1cGxlLmNyZWF0ZSA9IChzY2hlbWFzLCBwYXJhbXMpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgcGFzcyBhbiBhcnJheSBvZiBzY2hlbWFzIHRvIHoudHVwbGUoWyAuLi4gXSlcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICBpdGVtczogc2NoZW1hcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZSxcbiAgICAgICAgcmVzdDogbnVsbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RSZWNvcmQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQga2V5U2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgfVxuICAgIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY3R4LmRhdGEpIHtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBjdHguZGF0YVtrZXldLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShmaXJzdCwgc2Vjb25kLCB0aGlyZCkge1xuICAgICAgICBpZiAoc2Vjb25kIGluc3RhbmNlb2YgWm9kVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAgICAgICAgICAgIGtleVR5cGU6IGZpcnN0LFxuICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogc2Vjb25kLFxuICAgICAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcmQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAgICAgICAga2V5VHlwZTogWm9kU3RyaW5nLmNyZWF0ZSgpLFxuICAgICAgICAgICAgdmFsdWVUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhzZWNvbmQpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kTWFwIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm1hcCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5tYXAsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGNvbnN0IHBhaXJzID0gWy4uLmN0eC5kYXRhLmVudHJpZXMoKV0ubWFwKChba2V5LCB2YWx1ZV0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIFtpbmRleCwgXCJrZXlcIl0pKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBbaW5kZXgsIFwidmFsdWVcIl0pKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsTWFwLnNldChrZXkudmFsdWUsIHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblpvZE1hcC5jcmVhdGUgPSAoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE1hcCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXAsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kU2V0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zZXQpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc2V0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoZGVmLm1pblNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplIDwgZGVmLm1pblNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pblNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluU2l6ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4U2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPiBkZWYubWF4U2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heFNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4U2l6ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZ1bmN0aW9uIGZpbmFsaXplU2V0KGVsZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcGFyc2VkU2V0LmFkZChlbGVtZW50LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcGFyc2VkU2V0IH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbLi4uY3R4LmRhdGEudmFsdWVzKCldLm1hcCgoaXRlbSwgaSkgPT4gdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZWxlbWVudHMpLnRoZW4oKGVsZW1lbnRzKSA9PiBmaW5hbGl6ZVNldChlbGVtZW50cykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZpbmFsaXplU2V0KGVsZW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtaW4obWluU2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtaW5TaXplOiB7IHZhbHVlOiBtaW5TaXplLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhTaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heFNpemU6IHsgdmFsdWU6IG1heFNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2l6ZShzaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbihzaXplLCBtZXNzYWdlKS5tYXgoc2l6ZSwgbWVzc2FnZSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZFNldC5jcmVhdGUgPSAodmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAgbWluU2l6ZTogbnVsbCxcbiAgICAgICAgbWF4U2l6ZTogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRnVuY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSA9IHRoaXMuaW1wbGVtZW50O1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5mdW5jdGlvbikge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5mdW5jdGlvbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VBcmdzSXNzdWUoYXJncywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlSXNzdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXBzOiBbY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsIGN0eC5zY2hlbWFFcnJvck1hcCwgZ2V0RXJyb3JNYXAoKSwgZGVmYXVsdEVycm9yTWFwXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgICAgICAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlUmV0dXJuc0lzc3VlKHJldHVybnMsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiByZXR1cm5zLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW2N0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCBjdHguc2NoZW1hRXJyb3JNYXAsIGdldEVycm9yTWFwKCksIGRlZmF1bHRFcnJvck1hcF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZUVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAgfTtcbiAgICAgICAgY29uc3QgZm4gPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5yZXR1cm5zIGluc3RhbmNlb2YgWm9kUHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9LKGFzeW5jIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoW10pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBhd2FpdCBtZS5fZGVmLmFyZ3MucGFyc2VBc3luYyhhcmdzLCBwYXJhbXMpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmFkZElzc3VlKG1ha2VBcmdzSXNzdWUoYXJncywgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gYXdhaXQgbWUuX2RlZi5yZXR1cm5zLl9kZWYudHlwZVxuICAgICAgICAgICAgICAgICAgICAucGFyc2VBc3luYyhyZXN1bHQsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmFkZElzc3VlKG1ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXb3VsZCBsb3ZlIGEgd2F5IHRvIGF2b2lkIGRpc2FibGluZyB0aGlzIHJ1bGUsIGJ1dCB3ZSBuZWVkXG4gICAgICAgICAgICAvLyBhbiBhbGlhcyAodXNpbmcgYW4gYXJyb3cgZnVuY3Rpb24gd2FzIHdoYXQgY2F1c2VkIDI2NTEpLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gT0soZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gbWUuX2RlZi5hcmdzLnNhZmVQYXJzZShhcmdzLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkQXJncy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbbWFrZUFyZ3NJc3N1ZShhcmdzLCBwYXJzZWRBcmdzLmVycm9yKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBtZS5fZGVmLnJldHVybnMuc2FmZVBhcnNlKHJlc3VsdCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZFJldHVybnMuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW21ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBwYXJzZWRSZXR1cm5zLmVycm9yKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucy5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyYW1ldGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5hcmdzO1xuICAgIH1cbiAgICByZXR1cm5UeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnJldHVybnM7XG4gICAgfVxuICAgIGFyZ3MoLi4uaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBhcmdzOiBab2RUdXBsZS5jcmVhdGUoaXRlbXMpLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm5zKHJldHVyblR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5UeXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdHJpY3RJbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYXJncywgcmV0dXJucywgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgYXJnczogKGFyZ3MgPyBhcmdzIDogWm9kVHVwbGUuY3JlYXRlKFtdKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpKSxcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVybnMgfHwgWm9kVW5rbm93bi5jcmVhdGUoKSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb24sXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RMYXp5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBsYXp5U2NoZW1hID0gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgICAgICByZXR1cm4gbGF6eVNjaGVtYS5fcGFyc2UoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgIH1cbn1cblpvZExhenkuY3JlYXRlID0gKGdldHRlciwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMYXp5KHtcbiAgICAgICAgZ2V0dGVyOiBnZXR0ZXIsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RMaXRlcmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5kYXRhICE9PSB0aGlzLl9kZWYudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB0aGlzLl9kZWYudmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWU7XG4gICAgfVxufVxuWm9kTGl0ZXJhbC5jcmVhdGUgPSAodmFsdWUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTGl0ZXJhbCh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gY3JlYXRlWm9kRW51bSh2YWx1ZXMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICAgIHZhbHVlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY2xhc3MgWm9kRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0LmRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZSA9IG5ldyBTZXQodGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgVmFsdWVzKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IEVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBleHRyYWN0KHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh2YWx1ZXMsIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIC4uLm5ld0RlZixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGV4Y2x1ZGUodmFsdWVzLCBuZXdEZWYgPSB0aGlzLl9kZWYpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHRoaXMub3B0aW9ucy5maWx0ZXIoKG9wdCkgPT4gIXZhbHVlcy5pbmNsdWRlcyhvcHQpKSwge1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgLi4ubmV3RGVmLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5ab2RFbnVtLmNyZWF0ZSA9IGNyZWF0ZVpvZEVudW07XG5leHBvcnQgY2xhc3MgWm9kTmF0aXZlRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBuYXRpdmVFbnVtVmFsdWVzID0gdXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZyAmJiBjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgU2V0KHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlLmhhcyhpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG59XG5ab2ROYXRpdmVFbnVtLmNyZWF0ZSA9ICh2YWx1ZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmF0aXZlRW51bSh7XG4gICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kUHJvbWlzZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5wcm9taXNlICYmIGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnByb21pc2UsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9taXNpZmllZCA9IGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnByb21pc2UgPyBjdHguZGF0YSA6IFByb21pc2UucmVzb2x2ZShjdHguZGF0YSk7XG4gICAgICAgIHJldHVybiBPSyhwcm9taXNpZmllZC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUucGFyc2VBc3luYyhkYXRhLCB7XG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5ab2RQcm9taXNlLmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUHJvbWlzZSh7XG4gICAgICAgIHR5cGU6IHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEVmZmVjdHMgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBpbm5lclR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBzb3VyY2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0c1xuICAgICAgICAgICAgPyB0aGlzLl9kZWYuc2NoZW1hLnNvdXJjZVR5cGUoKVxuICAgICAgICAgICAgOiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZWZmZWN0ID0gdGhpcy5fZGVmLmVmZmVjdCB8fCBudWxsO1xuICAgICAgICBjb25zdCBjaGVja0N0eCA9IHtcbiAgICAgICAgICAgIGFkZElzc3VlOiAoYXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChhcmcuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5wYXRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY2hlY2tDdHguYWRkSXNzdWUgPSBjaGVja0N0eC5hZGRJc3N1ZS5iaW5kKGNoZWNrQ3R4KTtcbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInByZXByb2Nlc3NcIikge1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkID0gZWZmZWN0LnRyYW5zZm9ybShjdHguZGF0YSwgY2hlY2tDdHgpO1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb2Nlc3NlZCkudGhlbihhc3luYyAocHJvY2Vzc2VkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJyZWZpbmVtZW50XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4ZWN1dGVSZWZpbmVtZW50ID0gKGFjYykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC5yZWZpbmVtZW50KGFjYywgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXN5bmMgcmVmaW5lbWVudCBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkXG4gICAgICAgICAgICAgICAgZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChpbm5lcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXN5bmNocm9ub3VzIHRyYW5zZm9ybSBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiByZXN1bHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChiYXNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpKS50aGVuKChyZXN1bHQpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGVmZmVjdCk7XG4gICAgfVxufVxuWm9kRWZmZWN0cy5jcmVhdGUgPSAoc2NoZW1hLCBlZmZlY3QsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICBlZmZlY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzID0gKHByZXByb2Nlc3MsIHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJwcmVwcm9jZXNzXCIsIHRyYW5zZm9ybTogcHJlcHJvY2VzcyB9LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgeyBab2RFZmZlY3RzIGFzIFpvZFRyYW5zZm9ybWVyIH07XG5leHBvcnQgY2xhc3MgWm9kT3B0aW9uYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBPSyh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kT3B0aW9uYWwuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT3B0aW9uYWwoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT3B0aW9uYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTnVsbGFibGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gT0sobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2ROdWxsYWJsZS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsYWJsZSh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2REZWZhdWx0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBsZXQgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYXRhID0gdGhpcy5fZGVmLmRlZmF1bHRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZURlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZERlZmF1bHQuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHR5cGVvZiBwYXJhbXMuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zLmRlZmF1bHQgOiAoKSA9PiBwYXJhbXMuZGVmYXVsdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RDYXRjaCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgLy8gbmV3Q3R4IGlzIHVzZWQgdG8gbm90IGNvbGxlY3QgaXNzdWVzIGZyb20gaW5uZXIgdHlwZXMgaW4gY3R4XG4gICAgICAgIGNvbnN0IG5ld0N0eCA9IHtcbiAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGE6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogbmV3Q3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAgICAgICAuLi5uZXdDdHgsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzQXN5bmMocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgPyByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlQ2F0Y2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZENhdGNoLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICBjYXRjaFZhbHVlOiB0eXBlb2YgcGFyYW1zLmNhdGNoID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuY2F0Y2ggOiAoKSA9PiBwYXJhbXMuY2F0Y2gsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTmFOIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubmFuKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5hbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbn1cblpvZE5hTi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYU4oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBCUkFORCA9IFN5bWJvbChcInpvZF9icmFuZFwiKTtcbmV4cG9ydCBjbGFzcyBab2RCcmFuZGVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kUGlwZWxpbmUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUFzeW5jID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluUmVzdWx0ID0gYXdhaXQgdGhpcy5fZGVmLmluLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkoaW5SZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFzeW5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IHRoaXMuX2RlZi5pbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiZGlydHlcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RQaXBlbGluZSh7XG4gICAgICAgICAgICBpbjogYSxcbiAgICAgICAgICAgIG91dDogYixcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RSZWFkb25seSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGNvbnN0IGZyZWV6ZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZChkYXRhKSkge1xuICAgICAgICAgICAgICAgIGRhdGEudmFsdWUgPSBPYmplY3QuZnJlZXplKGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpc0FzeW5jKHJlc3VsdCkgPyByZXN1bHQudGhlbigoZGF0YSkgPT4gZnJlZXplKGRhdGEpKSA6IGZyZWV6ZShyZXN1bHQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZFJlYWRvbmx5LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFJlYWRvbmx5KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlYWRvbmx5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgIHouY3VzdG9tICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gY2xlYW5QYXJhbXMocGFyYW1zLCBkYXRhKSB7XG4gICAgY29uc3QgcCA9IHR5cGVvZiBwYXJhbXMgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcyhkYXRhKSA6IHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHBhcmFtcyB9IDogcGFyYW1zO1xuICAgIGNvbnN0IHAyID0gdHlwZW9mIHAgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHAgfSA6IHA7XG4gICAgcmV0dXJuIHAyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGN1c3RvbShjaGVjaywgX3BhcmFtcyA9IHt9LCBcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqXG4gKiBQYXNzIGBmYXRhbGAgaW50byB0aGUgcGFyYW1zIG9iamVjdCBpbnN0ZWFkOlxuICpcbiAqIGBgYHRzXG4gKiB6LnN0cmluZygpLmN1c3RvbSgodmFsKSA9PiB2YWwubGVuZ3RoID4gNSwgeyBmYXRhbDogZmFsc2UgfSlcbiAqIGBgYFxuICpcbiAqL1xuZmF0YWwpIHtcbiAgICBpZiAoY2hlY2spXG4gICAgICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCkuc3VwZXJSZWZpbmUoKGRhdGEsIGN0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IGNoZWNrKGRhdGEpO1xuICAgICAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHIudGhlbigocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IGNsZWFuUGFyYW1zKF9wYXJhbXMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX2ZhdGFsID0gcGFyYW1zLmZhdGFsID8/IGZhdGFsID8/IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wYXJhbXMsIGZhdGFsOiBfZmF0YWwgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IGNsZWFuUGFyYW1zKF9wYXJhbXMsIGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IF9mYXRhbCA9IHBhcmFtcy5mYXRhbCA/PyBmYXRhbCA/PyB0cnVlO1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnBhcmFtcywgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKTtcbn1cbmV4cG9ydCB7IFpvZFR5cGUgYXMgU2NoZW1hLCBab2RUeXBlIGFzIFpvZFNjaGVtYSB9O1xuZXhwb3J0IGNvbnN0IGxhdGUgPSB7XG4gICAgb2JqZWN0OiBab2RPYmplY3QubGF6eWNyZWF0ZSxcbn07XG5leHBvcnQgdmFyIFpvZEZpcnN0UGFydHlUeXBlS2luZDtcbihmdW5jdGlvbiAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kKSB7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU3RyaW5nXCJdID0gXCJab2RTdHJpbmdcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdW1iZXJcIl0gPSBcIlpvZE51bWJlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5hTlwiXSA9IFwiWm9kTmFOXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQmlnSW50XCJdID0gXCJab2RCaWdJbnRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCb29sZWFuXCJdID0gXCJab2RCb29sZWFuXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGF0ZVwiXSA9IFwiWm9kRGF0ZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN5bWJvbFwiXSA9IFwiWm9kU3ltYm9sXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5kZWZpbmVkXCJdID0gXCJab2RVbmRlZmluZWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdWxsXCJdID0gXCJab2ROdWxsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQW55XCJdID0gXCJab2RBbnlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmtub3duXCJdID0gXCJab2RVbmtub3duXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmV2ZXJcIl0gPSBcIlpvZE5ldmVyXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVm9pZFwiXSA9IFwiWm9kVm9pZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFycmF5XCJdID0gXCJab2RBcnJheVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9iamVjdFwiXSA9IFwiWm9kT2JqZWN0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5pb25cIl0gPSBcIlpvZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCJdID0gXCJab2REaXNjcmltaW5hdGVkVW5pb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RJbnRlcnNlY3Rpb25cIl0gPSBcIlpvZEludGVyc2VjdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFR1cGxlXCJdID0gXCJab2RUdXBsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlY29yZFwiXSA9IFwiWm9kUmVjb3JkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTWFwXCJdID0gXCJab2RNYXBcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTZXRcIl0gPSBcIlpvZFNldFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEZ1bmN0aW9uXCJdID0gXCJab2RGdW5jdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZExhenlcIl0gPSBcIlpvZExhenlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMaXRlcmFsXCJdID0gXCJab2RMaXRlcmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRW51bVwiXSA9IFwiWm9kRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVmZmVjdHNcIl0gPSBcIlpvZEVmZmVjdHNcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYXRpdmVFbnVtXCJdID0gXCJab2ROYXRpdmVFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kT3B0aW9uYWxcIl0gPSBcIlpvZE9wdGlvbmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbGFibGVcIl0gPSBcIlpvZE51bGxhYmxlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGVmYXVsdFwiXSA9IFwiWm9kRGVmYXVsdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZENhdGNoXCJdID0gXCJab2RDYXRjaFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFByb21pc2VcIl0gPSBcIlpvZFByb21pc2VcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCcmFuZGVkXCJdID0gXCJab2RCcmFuZGVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUGlwZWxpbmVcIl0gPSBcIlpvZFBpcGVsaW5lXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUmVhZG9ubHlcIl0gPSBcIlpvZFJlYWRvbmx5XCI7XG59KShab2RGaXJzdFBhcnR5VHlwZUtpbmQgfHwgKFpvZEZpcnN0UGFydHlUeXBlS2luZCA9IHt9KSk7XG4vLyByZXF1aXJlcyBUUyA0LjQrXG5jbGFzcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoLi4uXykgeyB9XG59XG5jb25zdCBpbnN0YW5jZU9mVHlwZSA9IChcbi8vIGNvbnN0IGluc3RhbmNlT2ZUeXBlID0gPFQgZXh0ZW5kcyBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuY2xzLCBwYXJhbXMgPSB7XG4gICAgbWVzc2FnZTogYElucHV0IG5vdCBpbnN0YW5jZSBvZiAke2Nscy5uYW1lfWAsXG59KSA9PiBjdXN0b20oKGRhdGEpID0+IGRhdGEgaW5zdGFuY2VvZiBjbHMsIHBhcmFtcyk7XG5jb25zdCBzdHJpbmdUeXBlID0gWm9kU3RyaW5nLmNyZWF0ZTtcbmNvbnN0IG51bWJlclR5cGUgPSBab2ROdW1iZXIuY3JlYXRlO1xuY29uc3QgbmFuVHlwZSA9IFpvZE5hTi5jcmVhdGU7XG5jb25zdCBiaWdJbnRUeXBlID0gWm9kQmlnSW50LmNyZWF0ZTtcbmNvbnN0IGJvb2xlYW5UeXBlID0gWm9kQm9vbGVhbi5jcmVhdGU7XG5jb25zdCBkYXRlVHlwZSA9IFpvZERhdGUuY3JlYXRlO1xuY29uc3Qgc3ltYm9sVHlwZSA9IFpvZFN5bWJvbC5jcmVhdGU7XG5jb25zdCB1bmRlZmluZWRUeXBlID0gWm9kVW5kZWZpbmVkLmNyZWF0ZTtcbmNvbnN0IG51bGxUeXBlID0gWm9kTnVsbC5jcmVhdGU7XG5jb25zdCBhbnlUeXBlID0gWm9kQW55LmNyZWF0ZTtcbmNvbnN0IHVua25vd25UeXBlID0gWm9kVW5rbm93bi5jcmVhdGU7XG5jb25zdCBuZXZlclR5cGUgPSBab2ROZXZlci5jcmVhdGU7XG5jb25zdCB2b2lkVHlwZSA9IFpvZFZvaWQuY3JlYXRlO1xuY29uc3QgYXJyYXlUeXBlID0gWm9kQXJyYXkuY3JlYXRlO1xuY29uc3Qgb2JqZWN0VHlwZSA9IFpvZE9iamVjdC5jcmVhdGU7XG5jb25zdCBzdHJpY3RPYmplY3RUeXBlID0gWm9kT2JqZWN0LnN0cmljdENyZWF0ZTtcbmNvbnN0IHVuaW9uVHlwZSA9IFpvZFVuaW9uLmNyZWF0ZTtcbmNvbnN0IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgPSBab2REaXNjcmltaW5hdGVkVW5pb24uY3JlYXRlO1xuY29uc3QgaW50ZXJzZWN0aW9uVHlwZSA9IFpvZEludGVyc2VjdGlvbi5jcmVhdGU7XG5jb25zdCB0dXBsZVR5cGUgPSBab2RUdXBsZS5jcmVhdGU7XG5jb25zdCByZWNvcmRUeXBlID0gWm9kUmVjb3JkLmNyZWF0ZTtcbmNvbnN0IG1hcFR5cGUgPSBab2RNYXAuY3JlYXRlO1xuY29uc3Qgc2V0VHlwZSA9IFpvZFNldC5jcmVhdGU7XG5jb25zdCBmdW5jdGlvblR5cGUgPSBab2RGdW5jdGlvbi5jcmVhdGU7XG5jb25zdCBsYXp5VHlwZSA9IFpvZExhenkuY3JlYXRlO1xuY29uc3QgbGl0ZXJhbFR5cGUgPSBab2RMaXRlcmFsLmNyZWF0ZTtcbmNvbnN0IGVudW1UeXBlID0gWm9kRW51bS5jcmVhdGU7XG5jb25zdCBuYXRpdmVFbnVtVHlwZSA9IFpvZE5hdGl2ZUVudW0uY3JlYXRlO1xuY29uc3QgcHJvbWlzZVR5cGUgPSBab2RQcm9taXNlLmNyZWF0ZTtcbmNvbnN0IGVmZmVjdHNUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGU7XG5jb25zdCBvcHRpb25hbFR5cGUgPSBab2RPcHRpb25hbC5jcmVhdGU7XG5jb25zdCBudWxsYWJsZVR5cGUgPSBab2ROdWxsYWJsZS5jcmVhdGU7XG5jb25zdCBwcmVwcm9jZXNzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3M7XG5jb25zdCBwaXBlbGluZVR5cGUgPSBab2RQaXBlbGluZS5jcmVhdGU7XG5jb25zdCBvc3RyaW5nID0gKCkgPT4gc3RyaW5nVHlwZSgpLm9wdGlvbmFsKCk7XG5jb25zdCBvbnVtYmVyID0gKCkgPT4gbnVtYmVyVHlwZSgpLm9wdGlvbmFsKCk7XG5jb25zdCBvYm9vbGVhbiA9ICgpID0+IGJvb2xlYW5UeXBlKCkub3B0aW9uYWwoKTtcbmV4cG9ydCBjb25zdCBjb2VyY2UgPSB7XG4gICAgc3RyaW5nOiAoKGFyZykgPT4gWm9kU3RyaW5nLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBudW1iZXI6ICgoYXJnKSA9PiBab2ROdW1iZXIuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGJvb2xlYW46ICgoYXJnKSA9PiBab2RCb29sZWFuLmNyZWF0ZSh7XG4gICAgICAgIC4uLmFyZyxcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgIH0pKSxcbiAgICBiaWdpbnQ6ICgoYXJnKSA9PiBab2RCaWdJbnQuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGRhdGU6ICgoYXJnKSA9PiBab2REYXRlLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbn07XG5leHBvcnQgeyBhbnlUeXBlIGFzIGFueSwgYXJyYXlUeXBlIGFzIGFycmF5LCBiaWdJbnRUeXBlIGFzIGJpZ2ludCwgYm9vbGVhblR5cGUgYXMgYm9vbGVhbiwgZGF0ZVR5cGUgYXMgZGF0ZSwgZGlzY3JpbWluYXRlZFVuaW9uVHlwZSBhcyBkaXNjcmltaW5hdGVkVW5pb24sIGVmZmVjdHNUeXBlIGFzIGVmZmVjdCwgZW51bVR5cGUgYXMgZW51bSwgZnVuY3Rpb25UeXBlIGFzIGZ1bmN0aW9uLCBpbnN0YW5jZU9mVHlwZSBhcyBpbnN0YW5jZW9mLCBpbnRlcnNlY3Rpb25UeXBlIGFzIGludGVyc2VjdGlvbiwgbGF6eVR5cGUgYXMgbGF6eSwgbGl0ZXJhbFR5cGUgYXMgbGl0ZXJhbCwgbWFwVHlwZSBhcyBtYXAsIG5hblR5cGUgYXMgbmFuLCBuYXRpdmVFbnVtVHlwZSBhcyBuYXRpdmVFbnVtLCBuZXZlclR5cGUgYXMgbmV2ZXIsIG51bGxUeXBlIGFzIG51bGwsIG51bGxhYmxlVHlwZSBhcyBudWxsYWJsZSwgbnVtYmVyVHlwZSBhcyBudW1iZXIsIG9iamVjdFR5cGUgYXMgb2JqZWN0LCBvYm9vbGVhbiwgb251bWJlciwgb3B0aW9uYWxUeXBlIGFzIG9wdGlvbmFsLCBvc3RyaW5nLCBwaXBlbGluZVR5cGUgYXMgcGlwZWxpbmUsIHByZXByb2Nlc3NUeXBlIGFzIHByZXByb2Nlc3MsIHByb21pc2VUeXBlIGFzIHByb21pc2UsIHJlY29yZFR5cGUgYXMgcmVjb3JkLCBzZXRUeXBlIGFzIHNldCwgc3RyaWN0T2JqZWN0VHlwZSBhcyBzdHJpY3RPYmplY3QsIHN0cmluZ1R5cGUgYXMgc3RyaW5nLCBzeW1ib2xUeXBlIGFzIHN5bWJvbCwgZWZmZWN0c1R5cGUgYXMgdHJhbnNmb3JtZXIsIHR1cGxlVHlwZSBhcyB0dXBsZSwgdW5kZWZpbmVkVHlwZSBhcyB1bmRlZmluZWQsIHVuaW9uVHlwZSBhcyB1bmlvbiwgdW5rbm93blR5cGUgYXMgdW5rbm93biwgdm9pZFR5cGUgYXMgdm9pZCwgfTtcbmV4cG9ydCBjb25zdCBORVZFUiA9IElOVkFMSUQ7XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVIZWFkZXJzKFxuICAuLi5oZWFkZXJzOiBBcnJheTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+IHwgdW5kZWZpbmVkPlxuKTogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gIHJldHVybiBoZWFkZXJzLnJlZHVjZShcbiAgICAoY29tYmluZWRIZWFkZXJzLCBjdXJyZW50SGVhZGVycykgPT4gKHtcbiAgICAgIC4uLmNvbWJpbmVkSGVhZGVycyxcbiAgICAgIC4uLihjdXJyZW50SGVhZGVycyA/PyB7fSksXG4gICAgfSksXG4gICAge30sXG4gICkgYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPjtcbn1cbiIsICIvKipcbiAqIENvbnZlcnRzIGFuIEFzeW5jSXRlcmF0b3IgdG8gYSBSZWFkYWJsZVN0cmVhbS5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIGVsZW1lbnRzIHByb2R1Y2VkIGJ5IHRoZSBBc3luY0l0ZXJhdG9yLlxuICogQHBhcmFtIHsgPFQ+fSBpdGVyYXRvciAtIFRoZSBBc3luY0l0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7UmVhZGFibGVTdHJlYW08VD59IC0gQSBSZWFkYWJsZVN0cmVhbSB0aGF0IHByb3ZpZGVzIHRoZSBzYW1lIGRhdGEgYXMgdGhlIEFzeW5jSXRlcmF0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0QXN5bmNJdGVyYXRvclRvUmVhZGFibGVTdHJlYW08VD4oXG4gIGl0ZXJhdG9yOiBBc3luY0l0ZXJhdG9yPFQ+LFxuKTogUmVhZGFibGVTdHJlYW08VD4ge1xuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtPFQ+KHtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29uc3VtZXIgd2FudHMgdG8gcHVsbCBtb3JlIGRhdGEgZnJvbSB0aGUgc3RyZWFtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFQ+fSBjb250cm9sbGVyIC0gVGhlIGNvbnRyb2xsZXIgdG8gZW5xdWV1ZSBkYXRhIGludG8gdGhlIHN0cmVhbS5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29uc3VtZXIgY2FuY2VscyB0aGUgc3RyZWFtLlxuICAgICAqL1xuICAgIGNhbmNlbCgpIHt9LFxuICB9KTtcbn1cbiIsICIvKipcbiAqIENyZWF0ZXMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgYSBzcGVjaWZpZWQgZGVsYXlcbiAqIEBwYXJhbSBkZWxheUluTXMgLSBUaGUgZGVsYXkgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLiBJZiBudWxsIG9yIHVuZGVmaW5lZCwgcmVzb2x2ZXMgaW1tZWRpYXRlbHkuXG4gKiBAcGFyYW0gc2lnbmFsIC0gT3B0aW9uYWwgQWJvcnRTaWduYWwgdG8gY2FuY2VsIHRoZSBkZWxheVxuICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdGhlIHNwZWNpZmllZCBkZWxheVxuICogQHRocm93cyB7RE9NRXhjZXB0aW9ufSBXaGVuIHRoZSBzaWduYWwgaXMgYWJvcnRlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsYXkoXG4gIGRlbGF5SW5Ncz86IG51bWJlciB8IG51bGwsXG4gIG9wdGlvbnM/OiB7XG4gICAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgfSxcbik6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoZGVsYXlJbk1zID09IG51bGwpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5hYm9ydFNpZ25hbDtcblxuICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmIChzaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIHJlamVjdChjcmVhdGVBYm9ydEVycm9yKCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0sIGRlbGF5SW5Ncyk7XG5cbiAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICBzaWduYWw/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25BYm9ydCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uQWJvcnQgPSAoKSA9PiB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICByZWplY3QoY3JlYXRlQWJvcnRFcnJvcigpKTtcbiAgICB9O1xuXG4gICAgc2lnbmFsPy5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQWJvcnQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQWJvcnRFcnJvcigpOiBET01FeGNlcHRpb24ge1xuICByZXR1cm4gbmV3IERPTUV4Y2VwdGlvbignRGVsYXkgd2FzIGFib3J0ZWQnLCAnQWJvcnRFcnJvcicpO1xufVxuIiwgIi8qKlxuRXh0cmFjdHMgdGhlIGhlYWRlcnMgZnJvbSBhIHJlc3BvbnNlIG9iamVjdCBhbmQgcmV0dXJucyB0aGVtIGFzIGEga2V5LXZhbHVlIG9iamVjdC5cblxuQHBhcmFtIHJlc3BvbnNlIC0gVGhlIHJlc3BvbnNlIG9iamVjdCB0byBleHRyYWN0IGhlYWRlcnMgZnJvbS5cbkByZXR1cm5zIFRoZSBoZWFkZXJzIGFzIGEga2V5LXZhbHVlIG9iamVjdC5cbiovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZTogUmVzcG9uc2UpIHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllczxzdHJpbmc+KFsuLi5yZXNwb25zZS5oZWFkZXJzXSk7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGdldFJ1bnRpbWVFbnZpcm9ubWVudFVzZXJBZ2VudChcbiAgZ2xvYmFsVGhpc0FueTogYW55ID0gZ2xvYmFsVGhpcyBhcyBhbnksXG4pOiBzdHJpbmcge1xuICAvLyBCcm93c2Vyc1xuICBpZiAoZ2xvYmFsVGhpc0FueS53aW5kb3cpIHtcbiAgICByZXR1cm4gYHJ1bnRpbWUvYnJvd3NlcmA7XG4gIH1cblxuICAvLyBDbG91ZGZsYXJlIFdvcmtlcnMgLyBEZW5vIC8gQnVuIC8gTm9kZS5qcyA+PSAyMS4xXG4gIGlmIChnbG9iYWxUaGlzQW55Lm5hdmlnYXRvcj8udXNlckFnZW50KSB7XG4gICAgcmV0dXJuIGBydW50aW1lLyR7Z2xvYmFsVGhpc0FueS5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCl9YDtcbiAgfVxuXG4gIC8vIE5vZGVzLmpzIDwgMjEuMVxuICBpZiAoZ2xvYmFsVGhpc0FueS5wcm9jZXNzPy52ZXJzaW9ucz8ubm9kZSkge1xuICAgIHJldHVybiBgcnVudGltZS9ub2RlLmpzLyR7Z2xvYmFsVGhpc0FueS5wcm9jZXNzLnZlcnNpb24uc3Vic3RyaW5nKDApfWA7XG4gIH1cblxuICBpZiAoZ2xvYmFsVGhpc0FueS5FZGdlUnVudGltZSkge1xuICAgIHJldHVybiBgcnVudGltZS92ZXJjZWwtZWRnZWA7XG4gIH1cblxuICByZXR1cm4gJ3J1bnRpbWUvdW5rbm93bic7XG59XG4iLCAiLyoqXG4gKiBSZW1vdmVzIGVudHJpZXMgZnJvbSBhIHJlY29yZCB3aGVyZSB0aGUgdmFsdWUgaXMgbnVsbCBvciB1bmRlZmluZWQuXG4gKiBAcGFyYW0gcmVjb3JkIC0gVGhlIGlucHV0IG9iamVjdCB3aG9zZSBlbnRyaWVzIG1heSBiZSBudWxsIG9yIHVuZGVmaW5lZC5cbiAqIEByZXR1cm5zIEEgbmV3IG9iamVjdCBjb250YWluaW5nIG9ubHkgZW50cmllcyB3aXRoIG5vbi1udWxsIGFuZCBub24tdW5kZWZpbmVkIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVVuZGVmaW5lZEVudHJpZXM8VD4oXG4gIHJlY29yZDogUmVjb3JkPHN0cmluZywgVCB8IHVuZGVmaW5lZD4sXG4pOiBSZWNvcmQ8c3RyaW5nLCBUPiB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXMocmVjb3JkKS5maWx0ZXIoKFtfa2V5LCB2YWx1ZV0pID0+IHZhbHVlICE9IG51bGwpLFxuICApIGFzIFJlY29yZDxzdHJpbmcsIFQ+O1xufVxuIiwgImltcG9ydCB7IHJlbW92ZVVuZGVmaW5lZEVudHJpZXMgfSBmcm9tICcuL3JlbW92ZS11bmRlZmluZWQtZW50cmllcyc7XG5cbi8qKlxuICogQXBwZW5kcyBzdWZmaXggcGFydHMgdG8gdGhlIGB1c2VyLWFnZW50YCBoZWFkZXIuXG4gKiBJZiBhIGB1c2VyLWFnZW50YCBoZWFkZXIgYWxyZWFkeSBleGlzdHMsIHRoZSBzdWZmaXggcGFydHMgYXJlIGFwcGVuZGVkIHRvIGl0LlxuICogSWYgbm8gYHVzZXItYWdlbnRgIGhlYWRlciBleGlzdHMsIGEgbmV3IG9uZSBpcyBjcmVhdGVkIHdpdGggdGhlIHN1ZmZpeCBwYXJ0cy5cbiAqIEF1dG9tYXRpY2FsbHkgcmVtb3ZlcyB1bmRlZmluZWQgZW50cmllcyBmcm9tIHRoZSBoZWFkZXJzLlxuICpcbiAqIEBwYXJhbSBoZWFkZXJzIC0gVGhlIG9yaWdpbmFsIGhlYWRlcnMuXG4gKiBAcGFyYW0gdXNlckFnZW50U3VmZml4UGFydHMgLSBUaGUgcGFydHMgdG8gYXBwZW5kIHRvIHRoZSBgdXNlci1hZ2VudGAgaGVhZGVyLlxuICogQHJldHVybnMgVGhlIG5ldyBoZWFkZXJzIHdpdGggdGhlIGB1c2VyLWFnZW50YCBoZWFkZXIgc2V0IG9yIHVwZGF0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoVXNlckFnZW50U3VmZml4KFxuICBoZWFkZXJzOiBIZWFkZXJzSW5pdCB8IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQsXG4gIC4uLnVzZXJBZ2VudFN1ZmZpeFBhcnRzOiBzdHJpbmdbXVxuKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XG4gIGNvbnN0IGNsZWFuZWRIZWFkZXJzID0gcmVtb3ZlVW5kZWZpbmVkRW50cmllcyhcbiAgICAoaGVhZGVycyBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+KSA/PyB7fSxcbiAgKTtcbiAgY29uc3Qgbm9ybWFsaXplZEhlYWRlcnMgPSBuZXcgSGVhZGVycyhjbGVhbmVkSGVhZGVycyk7XG5cbiAgY29uc3QgY3VycmVudFVzZXJBZ2VudEhlYWRlciA9IG5vcm1hbGl6ZWRIZWFkZXJzLmdldCgndXNlci1hZ2VudCcpIHx8ICcnO1xuXG4gIG5vcm1hbGl6ZWRIZWFkZXJzLnNldChcbiAgICAndXNlci1hZ2VudCcsXG4gICAgW2N1cnJlbnRVc2VyQWdlbnRIZWFkZXIsIC4uLnVzZXJBZ2VudFN1ZmZpeFBhcnRzXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpLFxuICApO1xuXG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMobm9ybWFsaXplZEhlYWRlcnMpO1xufVxuIiwgImltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbi8qKlxuQ3JlYXRlcyBhbiBJRCBnZW5lcmF0b3IuXG5UaGUgdG90YWwgbGVuZ3RoIG9mIHRoZSBJRCBpcyB0aGUgc3VtIG9mIHRoZSBwcmVmaXgsIHNlcGFyYXRvciwgYW5kIHJhbmRvbSBwYXJ0IGxlbmd0aC5cbk5vdCBjcnlwdG9ncmFwaGljYWxseSBzZWN1cmUuXG5cbkBwYXJhbSBhbHBoYWJldCAtIFRoZSBhbHBoYWJldCB0byB1c2UgZm9yIHRoZSBJRC4gRGVmYXVsdDogJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Jy5cbkBwYXJhbSBwcmVmaXggLSBUaGUgcHJlZml4IG9mIHRoZSBJRCB0byBnZW5lcmF0ZS4gT3B0aW9uYWwuXG5AcGFyYW0gc2VwYXJhdG9yIC0gVGhlIHNlcGFyYXRvciBiZXR3ZWVuIHRoZSBwcmVmaXggYW5kIHRoZSByYW5kb20gcGFydCBvZiB0aGUgSUQuIERlZmF1bHQ6ICctJy5cbkBwYXJhbSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIHJhbmRvbSBwYXJ0IG9mIHRoZSBJRCB0byBnZW5lcmF0ZS4gRGVmYXVsdDogMTYuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVJZEdlbmVyYXRvciA9ICh7XG4gIHByZWZpeCxcbiAgc2l6ZSA9IDE2LFxuICBhbHBoYWJldCA9ICcwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicsXG4gIHNlcGFyYXRvciA9ICctJyxcbn06IHtcbiAgcHJlZml4Pzogc3RyaW5nO1xuICBzZXBhcmF0b3I/OiBzdHJpbmc7XG4gIHNpemU/OiBudW1iZXI7XG4gIGFscGhhYmV0Pzogc3RyaW5nO1xufSA9IHt9KTogSWRHZW5lcmF0b3IgPT4ge1xuICBjb25zdCBnZW5lcmF0b3IgPSAoKSA9PiB7XG4gICAgY29uc3QgYWxwaGFiZXRMZW5ndGggPSBhbHBoYWJldC5sZW5ndGg7XG4gICAgY29uc3QgY2hhcnMgPSBuZXcgQXJyYXkoc2l6ZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgIGNoYXJzW2ldID0gYWxwaGFiZXRbKE1hdGgucmFuZG9tKCkgKiBhbHBoYWJldExlbmd0aCkgfCAwXTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpO1xuICB9O1xuXG4gIGlmIChwcmVmaXggPT0gbnVsbCkge1xuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cblxuICAvLyBjaGVjayB0aGF0IHRoZSBwcmVmaXggaXMgbm90IHBhcnQgb2YgdGhlIGFscGhhYmV0IChvdGhlcndpc2UgcHJlZml4IGNoZWNraW5nIGNhbiBmYWlsIHJhbmRvbWx5KVxuICBpZiAoYWxwaGFiZXQuaW5jbHVkZXMoc2VwYXJhdG9yKSkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICBhcmd1bWVudDogJ3NlcGFyYXRvcicsXG4gICAgICBtZXNzYWdlOiBgVGhlIHNlcGFyYXRvciBcIiR7c2VwYXJhdG9yfVwiIG11c3Qgbm90IGJlIHBhcnQgb2YgdGhlIGFscGhhYmV0IFwiJHthbHBoYWJldH1cIi5gLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuICgpID0+IGAke3ByZWZpeH0ke3NlcGFyYXRvcn0ke2dlbmVyYXRvcigpfWA7XG59O1xuXG4vKipcbkEgZnVuY3Rpb24gdGhhdCBnZW5lcmF0ZXMgYW4gSUQuXG4gKi9cbmV4cG9ydCB0eXBlIElkR2VuZXJhdG9yID0gKCkgPT4gc3RyaW5nO1xuXG4vKipcbkdlbmVyYXRlcyBhIDE2LWNoYXJhY3RlciByYW5kb20gc3RyaW5nIHRvIHVzZSBmb3IgSURzLlxuTm90IGNyeXB0b2dyYXBoaWNhbGx5IHNlY3VyZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlSWQgPSBjcmVhdGVJZEdlbmVyYXRvcigpO1xuIiwgImV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoZXJyb3I6IHVua25vd24gfCB1bmRlZmluZWQpIHtcbiAgaWYgKGVycm9yID09IG51bGwpIHtcbiAgICByZXR1cm4gJ3Vua25vd24gZXJyb3InO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICB9XG5cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGVycm9yKTtcbn1cbiIsICJpbXBvcnQgeyBBUElDYWxsRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMgfSBmcm9tICcuL2V4dHJhY3QtcmVzcG9uc2UtaGVhZGVycyc7XG5pbXBvcnQgeyBGZXRjaEZ1bmN0aW9uIH0gZnJvbSAnLi9mZXRjaC1mdW5jdGlvbic7XG5pbXBvcnQgeyBoYW5kbGVGZXRjaEVycm9yIH0gZnJvbSAnLi9oYW5kbGUtZmV0Y2gtZXJyb3InO1xuaW1wb3J0IHsgaXNBYm9ydEVycm9yIH0gZnJvbSAnLi9pcy1hYm9ydC1lcnJvcic7XG5pbXBvcnQgeyBSZXNwb25zZUhhbmRsZXIgfSBmcm9tICcuL3Jlc3BvbnNlLWhhbmRsZXInO1xuaW1wb3J0IHsgZ2V0UnVudGltZUVudmlyb25tZW50VXNlckFnZW50IH0gZnJvbSAnLi9nZXQtcnVudGltZS1lbnZpcm9ubWVudC11c2VyLWFnZW50JztcbmltcG9ydCB7IHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICcuL3dpdGgtdXNlci1hZ2VudC1zdWZmaXgnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4vdmVyc2lvbic7XG5cbi8vIHVzZSBmdW5jdGlvbiB0byBhbGxvdyBmb3IgbW9ja2luZyBpbiB0ZXN0czpcbmNvbnN0IGdldE9yaWdpbmFsRmV0Y2ggPSAoKSA9PiBnbG9iYWxUaGlzLmZldGNoO1xuXG5leHBvcnQgY29uc3QgZ2V0RnJvbUFwaSA9IGFzeW5jIDxUPih7XG4gIHVybCxcbiAgaGVhZGVycyA9IHt9LFxuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaCA9IGdldE9yaWdpbmFsRmV0Y2goKSxcbn06IHtcbiAgdXJsOiBzdHJpbmc7XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+O1xuICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxFcnJvcj47XG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxUPjtcbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgZmV0Y2g/OiBGZXRjaEZ1bmN0aW9uO1xufSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczogd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYGFpLXNkay9wcm92aWRlci11dGlscy8ke1ZFUlNJT059YCxcbiAgICAgICAgZ2V0UnVudGltZUVudmlyb25tZW50VXNlckFnZW50KCksXG4gICAgICApLFxuICAgICAgc2lnbmFsOiBhYm9ydFNpZ25hbCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgbGV0IGVycm9ySW5mb3JtYXRpb246IHtcbiAgICAgICAgdmFsdWU6IEVycm9yO1xuICAgICAgICByZXNwb25zZUhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgdW5kZWZpbmVkO1xuICAgICAgfTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZXJyb3JJbmZvcm1hdGlvbiA9IGF3YWl0IGZhaWxlZFJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiB7fSxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSB8fCBBUElDYWxsRXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gcHJvY2VzcyBlcnJvciByZXNwb25zZScsXG4gICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiB7fSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9ySW5mb3JtYXRpb24udmFsdWU7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHt9LFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpIHx8IEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHByb2Nlc3Mgc3VjY2Vzc2Z1bCByZXNwb25zZScsXG4gICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHt9LFxuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGhhbmRsZUZldGNoRXJyb3IoeyBlcnJvciwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlczoge30gfSk7XG4gIH1cbn07XG4iLCAiaW1wb3J0IHsgQVBJQ2FsbEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBpc0Fib3J0RXJyb3IgfSBmcm9tICcuL2lzLWFib3J0LWVycm9yJztcblxuY29uc3QgRkVUQ0hfRkFJTEVEX0VSUk9SX01FU1NBR0VTID0gWydmZXRjaCBmYWlsZWQnLCAnZmFpbGVkIHRvIGZldGNoJ107XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVGZXRjaEVycm9yKHtcbiAgZXJyb3IsXG4gIHVybCxcbiAgcmVxdWVzdEJvZHlWYWx1ZXMsXG59OiB7XG4gIGVycm9yOiB1bmtub3duO1xuICB1cmw6IHN0cmluZztcbiAgcmVxdWVzdEJvZHlWYWx1ZXM6IHVua25vd247XG59KSB7XG4gIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgLy8gdW53cmFwIG9yaWdpbmFsIGVycm9yIHdoZW4gZmV0Y2ggZmFpbGVkIChmb3IgZWFzaWVyIGRlYnVnZ2luZyk6XG4gIGlmIChcbiAgICBlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvciAmJlxuICAgIEZFVENIX0ZBSUxFRF9FUlJPUl9NRVNTQUdFUy5pbmNsdWRlcyhlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkpXG4gICkge1xuICAgIGNvbnN0IGNhdXNlID0gKGVycm9yIGFzIGFueSkuY2F1c2U7XG5cbiAgICBpZiAoY2F1c2UgIT0gbnVsbCkge1xuICAgICAgLy8gRmFpbGVkIHRvIGNvbm5lY3QgdG8gc2VydmVyOlxuICAgICAgcmV0dXJuIG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBgQ2Fubm90IGNvbm5lY3QgdG8gQVBJOiAke2NhdXNlLm1lc3NhZ2V9YCxcbiAgICAgICAgY2F1c2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgIGlzUmV0cnlhYmxlOiB0cnVlLCAvLyByZXRyeSB3aGVuIG5ldHdvcmsgZXJyb3JcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlcnJvcjtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gaXNBYm9ydEVycm9yKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgRXJyb3Ige1xuICByZXR1cm4gKFxuICAgIChlcnJvciBpbnN0YW5jZW9mIEVycm9yIHx8IGVycm9yIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSAmJlxuICAgIChlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicgfHxcbiAgICAgIGVycm9yLm5hbWUgPT09ICdSZXNwb25zZUFib3J0ZWQnIHx8IC8vIE5leHQuanNcbiAgICAgIGVycm9yLm5hbWUgPT09ICdUaW1lb3V0RXJyb3InKVxuICApO1xufVxuIiwgIi8vIFZlcnNpb24gc3RyaW5nIG9mIHRoaXMgcGFja2FnZSBpbmplY3RlZCBhdCBidWlsZCB0aW1lLlxuZGVjbGFyZSBjb25zdCBfX1BBQ0tBR0VfVkVSU0lPTl9fOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgVkVSU0lPTjogc3RyaW5nID1cbiAgdHlwZW9mIF9fUEFDS0FHRV9WRVJTSU9OX18gIT09ICd1bmRlZmluZWQnXG4gICAgPyBfX1BBQ0tBR0VfVkVSU0lPTl9fXG4gICAgOiAnMC4wLjAtdGVzdCc7XG4iLCAiaW1wb3J0IHtcbiAgSlNPTlNjaGVtYTcsXG4gIExhbmd1YWdlTW9kZWxWMk1lc3NhZ2UsXG4gIExhbmd1YWdlTW9kZWxWMlByb21wdCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IERFRkFVTFRfU0NIRU1BX1BSRUZJWCA9ICdKU09OIHNjaGVtYTonO1xuY29uc3QgREVGQVVMVF9TQ0hFTUFfU1VGRklYID1cbiAgJ1lvdSBNVVNUIGFuc3dlciB3aXRoIGEgSlNPTiBvYmplY3QgdGhhdCBtYXRjaGVzIHRoZSBKU09OIHNjaGVtYSBhYm92ZS4nO1xuY29uc3QgREVGQVVMVF9HRU5FUklDX1NVRkZJWCA9ICdZb3UgTVVTVCBhbnN3ZXIgd2l0aCBKU09OLic7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RKc29uSW5zdHJ1Y3Rpb24oe1xuICBwcm9tcHQsXG4gIHNjaGVtYSxcbiAgc2NoZW1hUHJlZml4ID0gc2NoZW1hICE9IG51bGwgPyBERUZBVUxUX1NDSEVNQV9QUkVGSVggOiB1bmRlZmluZWQsXG4gIHNjaGVtYVN1ZmZpeCA9IHNjaGVtYSAhPSBudWxsXG4gICAgPyBERUZBVUxUX1NDSEVNQV9TVUZGSVhcbiAgICA6IERFRkFVTFRfR0VORVJJQ19TVUZGSVgsXG59OiB7XG4gIHByb21wdD86IHN0cmluZztcbiAgc2NoZW1hPzogSlNPTlNjaGVtYTc7XG4gIHNjaGVtYVByZWZpeD86IHN0cmluZztcbiAgc2NoZW1hU3VmZml4Pzogc3RyaW5nO1xufSk6IHN0cmluZyB7XG4gIHJldHVybiBbXG4gICAgcHJvbXB0ICE9IG51bGwgJiYgcHJvbXB0Lmxlbmd0aCA+IDAgPyBwcm9tcHQgOiB1bmRlZmluZWQsXG4gICAgcHJvbXB0ICE9IG51bGwgJiYgcHJvbXB0Lmxlbmd0aCA+IDAgPyAnJyA6IHVuZGVmaW5lZCwgLy8gYWRkIGEgbmV3bGluZSBpZiBwcm9tcHQgaXMgbm90IG51bGxcbiAgICBzY2hlbWFQcmVmaXgsXG4gICAgc2NoZW1hICE9IG51bGwgPyBKU09OLnN0cmluZ2lmeShzY2hlbWEpIDogdW5kZWZpbmVkLFxuICAgIHNjaGVtYVN1ZmZpeCxcbiAgXVxuICAgIC5maWx0ZXIobGluZSA9PiBsaW5lICE9IG51bGwpXG4gICAgLmpvaW4oJ1xcbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0SnNvbkluc3RydWN0aW9uSW50b01lc3NhZ2VzKHtcbiAgbWVzc2FnZXMsXG4gIHNjaGVtYSxcbiAgc2NoZW1hUHJlZml4LFxuICBzY2hlbWFTdWZmaXgsXG59OiB7XG4gIG1lc3NhZ2VzOiBMYW5ndWFnZU1vZGVsVjJQcm9tcHQ7XG4gIHNjaGVtYT86IEpTT05TY2hlbWE3O1xuICBzY2hlbWFQcmVmaXg/OiBzdHJpbmc7XG4gIHNjaGVtYVN1ZmZpeD86IHN0cmluZztcbn0pOiBMYW5ndWFnZU1vZGVsVjJQcm9tcHQge1xuICBjb25zdCBzeXN0ZW1NZXNzYWdlOiBMYW5ndWFnZU1vZGVsVjJNZXNzYWdlID1cbiAgICBtZXNzYWdlc1swXT8ucm9sZSA9PT0gJ3N5c3RlbSdcbiAgICAgID8geyAuLi5tZXNzYWdlc1swXSB9XG4gICAgICA6IHsgcm9sZTogJ3N5c3RlbScsIGNvbnRlbnQ6ICcnIH07XG5cbiAgc3lzdGVtTWVzc2FnZS5jb250ZW50ID0gaW5qZWN0SnNvbkluc3RydWN0aW9uKHtcbiAgICBwcm9tcHQ6IHN5c3RlbU1lc3NhZ2UuY29udGVudCxcbiAgICBzY2hlbWEsXG4gICAgc2NoZW1hUHJlZml4LFxuICAgIHNjaGVtYVN1ZmZpeCxcbiAgfSk7XG5cbiAgcmV0dXJuIFtcbiAgICBzeXN0ZW1NZXNzYWdlLFxuICAgIC4uLihtZXNzYWdlc1swXT8ucm9sZSA9PT0gJ3N5c3RlbScgPyBtZXNzYWdlcy5zbGljZSgxKSA6IG1lc3NhZ2VzKSxcbiAgXTtcbn1cbiIsICIvKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gVVJMIGlzIHN1cHBvcnRlZCBuYXRpdmVseSBieSB0aGUgbW9kZWwuXG4gKlxuICogQHBhcmFtIG1lZGlhVHlwZSAtIFRoZSBtZWRpYSB0eXBlIG9mIHRoZSBVUkwuIENhc2Utc2Vuc2l0aXZlLlxuICogQHBhcmFtIHVybCAtIFRoZSBVUkwgdG8gY2hlY2suXG4gKiBAcGFyYW0gc3VwcG9ydGVkVXJscyAtIEEgcmVjb3JkIHdoZXJlIGtleXMgYXJlIGNhc2Utc2Vuc2l0aXZlIG1lZGlhIHR5cGVzIChvciAnKicpXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIGFuZCB2YWx1ZXMgYXJlIGFycmF5cyBvZiBSZWdFeHAgcGF0dGVybnMgZm9yIFVSTHMuXG4gKlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBVUkwgbWF0Y2hlcyBhIHBhdHRlcm4gdW5kZXIgdGhlIHNwZWNpZmljIG1lZGlhIHR5cGVcbiAqICAgICAgICAgIG9yIHRoZSB3aWxkY2FyZCAnKicsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNVcmxTdXBwb3J0ZWQoe1xuICBtZWRpYVR5cGUsXG4gIHVybCxcbiAgc3VwcG9ydGVkVXJscyxcbn06IHtcbiAgbWVkaWFUeXBlOiBzdHJpbmc7XG4gIHVybDogc3RyaW5nO1xuICBzdXBwb3J0ZWRVcmxzOiBSZWNvcmQ8c3RyaW5nLCBSZWdFeHBbXT47XG59KTogYm9vbGVhbiB7XG4gIC8vIHN0YW5kYXJkaXplIG1lZGlhIHR5cGUgYW5kIHVybCB0byBsb3dlciBjYXNlXG4gIHVybCA9IHVybC50b0xvd2VyQ2FzZSgpO1xuICBtZWRpYVR5cGUgPSBtZWRpYVR5cGUudG9Mb3dlckNhc2UoKTtcblxuICByZXR1cm4gKFxuICAgIE9iamVjdC5lbnRyaWVzKHN1cHBvcnRlZFVybHMpXG4gICAgICAvLyBzdGFuZGFyZGl6ZSBzdXBwb3J0ZWQgdXJsIG1hcCBpbnRvIGxvd2VyY2FzZSBwcmVmaXhlczpcbiAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBjb25zdCBtZWRpYVR5cGUgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIG1lZGlhVHlwZSA9PT0gJyonIHx8IG1lZGlhVHlwZSA9PT0gJyovKidcbiAgICAgICAgICA/IHsgbWVkaWFUeXBlUHJlZml4OiAnJywgcmVnZXhlczogdmFsdWUgfVxuICAgICAgICAgIDogeyBtZWRpYVR5cGVQcmVmaXg6IG1lZGlhVHlwZS5yZXBsYWNlKC9cXCovLCAnJyksIHJlZ2V4ZXM6IHZhbHVlIH07XG4gICAgICB9KVxuICAgICAgLy8gZ2F0aGVyIGFsbCByZWdleHAgcGF0dGVybiBmcm9tIG1hdGNoZWQgbWVkaWEgdHlwZSBwcmVmaXhlczpcbiAgICAgIC5maWx0ZXIoKHsgbWVkaWFUeXBlUHJlZml4IH0pID0+IG1lZGlhVHlwZS5zdGFydHNXaXRoKG1lZGlhVHlwZVByZWZpeCkpXG4gICAgICAuZmxhdE1hcCgoeyByZWdleGVzIH0pID0+IHJlZ2V4ZXMpXG4gICAgICAvLyBjaGVjayBpZiBhbnkgcGF0dGVybiBtYXRjaGVzIHRoZSB1cmw6XG4gICAgICAuc29tZShwYXR0ZXJuID0+IHBhdHRlcm4udGVzdCh1cmwpKVxuICApO1xufVxuIiwgImltcG9ydCB7IExvYWRBUElLZXlFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEFwaUtleSh7XG4gIGFwaUtleSxcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUsXG4gIGFwaUtleVBhcmFtZXRlck5hbWUgPSAnYXBpS2V5JyxcbiAgZGVzY3JpcHRpb24sXG59OiB7XG4gIGFwaUtleTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZTogc3RyaW5nO1xuICBhcGlLZXlQYXJhbWV0ZXJOYW1lPzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xufSk6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgYXBpS2V5ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBhcGlLZXk7XG4gIH1cblxuICBpZiAoYXBpS2V5ICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IG11c3QgYmUgYSBzdHJpbmcuYCxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IGlzIG1pc3NpbmcuIFBhc3MgaXQgdXNpbmcgdGhlICcke2FwaUtleVBhcmFtZXRlck5hbWV9JyBwYXJhbWV0ZXIuIEVudmlyb25tZW50IHZhcmlhYmxlcyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuYCxcbiAgICB9KTtcbiAgfVxuXG4gIGFwaUtleSA9IHByb2Nlc3MuZW52W2Vudmlyb25tZW50VmFyaWFibGVOYW1lXTtcblxuICBpZiAoYXBpS2V5ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IGlzIG1pc3NpbmcuIFBhc3MgaXQgdXNpbmcgdGhlICcke2FwaUtleVBhcmFtZXRlck5hbWV9JyBwYXJhbWV0ZXIgb3IgdGhlICR7ZW52aXJvbm1lbnRWYXJpYWJsZU5hbWV9IGVudmlyb25tZW50IHZhcmlhYmxlLmAsXG4gICAgfSk7XG4gIH1cblxuICBpZiAodHlwZW9mIGFwaUtleSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IG11c3QgYmUgYSBzdHJpbmcuIFRoZSB2YWx1ZSBvZiB0aGUgJHtlbnZpcm9ubWVudFZhcmlhYmxlTmFtZX0gZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IGEgc3RyaW5nLmAsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYXBpS2V5O1xufVxuIiwgIi8qKlxuICogTG9hZHMgYW4gb3B0aW9uYWwgYHN0cmluZ2Agc2V0dGluZyBmcm9tIHRoZSBlbnZpcm9ubWVudCBvciBhIHBhcmFtZXRlci5cbiAqXG4gKiBAcGFyYW0gc2V0dGluZ1ZhbHVlIC0gVGhlIHNldHRpbmcgdmFsdWUuXG4gKiBAcGFyYW0gZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUgLSBUaGUgZW52aXJvbm1lbnQgdmFyaWFibGUgbmFtZS5cbiAqIEByZXR1cm5zIFRoZSBzZXR0aW5nIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZE9wdGlvbmFsU2V0dGluZyh7XG4gIHNldHRpbmdWYWx1ZSxcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUsXG59OiB7XG4gIHNldHRpbmdWYWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZTogc3RyaW5nO1xufSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzZXR0aW5nVmFsdWU7XG4gIH1cblxuICBpZiAoc2V0dGluZ1ZhbHVlICE9IG51bGwgfHwgdHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHNldHRpbmdWYWx1ZSA9IHByb2Nlc3MuZW52W2Vudmlyb25tZW50VmFyaWFibGVOYW1lXTtcblxuICBpZiAoc2V0dGluZ1ZhbHVlID09IG51bGwgfHwgdHlwZW9mIHNldHRpbmdWYWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIHNldHRpbmdWYWx1ZTtcbn1cbiIsICJpbXBvcnQgeyBMb2FkU2V0dGluZ0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbi8qKlxuICogTG9hZHMgYSBgc3RyaW5nYCBzZXR0aW5nIGZyb20gdGhlIGVudmlyb25tZW50IG9yIGEgcGFyYW1ldGVyLlxuICpcbiAqIEBwYXJhbSBzZXR0aW5nVmFsdWUgLSBUaGUgc2V0dGluZyB2YWx1ZS5cbiAqIEBwYXJhbSBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSAtIFRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBuYW1lLlxuICogQHBhcmFtIHNldHRpbmdOYW1lIC0gVGhlIHNldHRpbmcgbmFtZS5cbiAqIEBwYXJhbSBkZXNjcmlwdGlvbiAtIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgc2V0dGluZy5cbiAqIEByZXR1cm5zIFRoZSBzZXR0aW5nIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNldHRpbmcoe1xuICBzZXR0aW5nVmFsdWUsXG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lLFxuICBzZXR0aW5nTmFtZSxcbiAgZGVzY3JpcHRpb24sXG59OiB7XG4gIHNldHRpbmdWYWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZTogc3RyaW5nO1xuICBzZXR0aW5nTmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xufSk6IHN0cmluZyB7XG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzZXR0aW5nVmFsdWU7XG4gIH1cblxuICBpZiAoc2V0dGluZ1ZhbHVlICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBtdXN0IGJlIGEgc3RyaW5nLmAsXG4gICAgfSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IExvYWRTZXR0aW5nRXJyb3Ioe1xuICAgICAgbWVzc2FnZTpcbiAgICAgICAgYCR7ZGVzY3JpcHRpb259IHNldHRpbmcgaXMgbWlzc2luZy4gYCArXG4gICAgICAgIGBQYXNzIGl0IHVzaW5nIHRoZSAnJHtzZXR0aW5nTmFtZX0nIHBhcmFtZXRlci4gYCArXG4gICAgICAgIGBFbnZpcm9ubWVudCB2YXJpYWJsZXMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LmAsXG4gICAgfSk7XG4gIH1cblxuICBzZXR0aW5nVmFsdWUgPSBwcm9jZXNzLmVudltlbnZpcm9ubWVudFZhcmlhYmxlTmFtZV07XG5cbiAgaWYgKHNldHRpbmdWYWx1ZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRTZXR0aW5nRXJyb3Ioe1xuICAgICAgbWVzc2FnZTpcbiAgICAgICAgYCR7ZGVzY3JpcHRpb259IHNldHRpbmcgaXMgbWlzc2luZy4gYCArXG4gICAgICAgIGBQYXNzIGl0IHVzaW5nIHRoZSAnJHtzZXR0aW5nTmFtZX0nIHBhcmFtZXRlciBgICtcbiAgICAgICAgYG9yIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZS5gLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzZXR0aW5nVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IExvYWRTZXR0aW5nRXJyb3Ioe1xuICAgICAgbWVzc2FnZTpcbiAgICAgICAgYCR7ZGVzY3JpcHRpb259IHNldHRpbmcgbXVzdCBiZSBhIHN0cmluZy4gYCArXG4gICAgICAgIGBUaGUgdmFsdWUgb2YgdGhlICR7ZW52aXJvbm1lbnRWYXJpYWJsZU5hbWV9IGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBhIHN0cmluZy5gLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHNldHRpbmdWYWx1ZTtcbn1cbiIsICIvKipcbiAqIE1hcHMgYSBtZWRpYSB0eXBlIHRvIGl0cyBjb3JyZXNwb25kaW5nIGZpbGUgZXh0ZW5zaW9uLlxuICogSXQgd2FzIG9yaWdpbmFsbHkgaW50cm9kdWNlZCB0byBzZXQgYSBmaWxlbmFtZSBmb3IgYXVkaW8gZmlsZSB1cGxvYWRzXG4gKiBpbiBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL2FpL3B1bGwvODE1OS5cbiAqXG4gKiBAcGFyYW0gbWVkaWFUeXBlIFRoZSBtZWRpYSB0eXBlIHRvIG1hcC5cbiAqIEByZXR1cm5zIFRoZSBjb3JyZXNwb25kaW5nIGZpbGUgZXh0ZW5zaW9uXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvR3VpZGVzL01JTUVfdHlwZXMvQ29tbW9uX3R5cGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWRpYVR5cGVUb0V4dGVuc2lvbihtZWRpYVR5cGU6IHN0cmluZykge1xuICBjb25zdCBbX3R5cGUsIHN1YnR5cGUgPSAnJ10gPSBtZWRpYVR5cGUudG9Mb3dlckNhc2UoKS5zcGxpdCgnLycpO1xuXG4gIHJldHVybiAoXG4gICAge1xuICAgICAgbXBlZzogJ21wMycsXG4gICAgICAneC13YXYnOiAnd2F2JyxcbiAgICAgIG9wdXM6ICdvZ2cnLFxuICAgICAgbXA0OiAnbTRhJyxcbiAgICAgICd4LW00YSc6ICdtNGEnLFxuICAgIH1bc3VidHlwZV0gPz8gc3VidHlwZVxuICApO1xufVxuIiwgImltcG9ydCB7XG4gIEpTT05QYXJzZUVycm9yLFxuICBKU09OVmFsdWUsXG4gIFR5cGVWYWxpZGF0aW9uRXJyb3IsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0ICogYXMgejMgZnJvbSAnem9kL3YzJztcbmltcG9ydCAqIGFzIHo0IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBzZWN1cmVKc29uUGFyc2UgfSBmcm9tICcuL3NlY3VyZS1qc29uLXBhcnNlJztcbmltcG9ydCB7IHNhZmVWYWxpZGF0ZVR5cGVzLCB2YWxpZGF0ZVR5cGVzIH0gZnJvbSAnLi92YWxpZGF0ZS10eXBlcyc7XG5pbXBvcnQgeyBWYWxpZGF0b3IgfSBmcm9tICcuL3ZhbGlkYXRvcic7XG5cbi8qKlxuICogUGFyc2VzIGEgSlNPTiBzdHJpbmcgaW50byBhbiB1bmtub3duIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIFRoZSBKU09OIHN0cmluZyB0byBwYXJzZS5cbiAqIEByZXR1cm5zIHtKU09OVmFsdWV9IC0gVGhlIHBhcnNlZCBKU09OIG9iamVjdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlSlNPTihvcHRpb25zOiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2NoZW1hPzogdW5kZWZpbmVkO1xufSk6IFByb21pc2U8SlNPTlZhbHVlPjtcbi8qKlxuICogUGFyc2VzIGEgSlNPTiBzdHJpbmcgaW50byBhIHN0cm9uZ2x5LXR5cGVkIG9iamVjdCB1c2luZyB0aGUgcHJvdmlkZWQgc2NoZW1hLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdCB0byBwYXJzZSB0aGUgSlNPTiBpbnRvLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgSlNPTiBzdHJpbmcgdG8gcGFyc2UuXG4gKiBAcGFyYW0ge1ZhbGlkYXRvcjxUPn0gc2NoZW1hIC0gVGhlIHNjaGVtYSB0byB1c2UgZm9yIHBhcnNpbmcgdGhlIEpTT04uXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxUPn0gLSBUaGUgcGFyc2VkIG9iamVjdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlSlNPTjxUPihvcHRpb25zOiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2NoZW1hOiB6NC5jb3JlLiRab2RUeXBlPFQ+IHwgejMuU2NoZW1hPFQ+IHwgVmFsaWRhdG9yPFQ+O1xufSk6IFByb21pc2U8VD47XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VKU09OPFQ+KHtcbiAgdGV4dCxcbiAgc2NoZW1hLFxufToge1xuICB0ZXh0OiBzdHJpbmc7XG4gIHNjaGVtYT86IHo0LmNvcmUuJFpvZFR5cGU8VD4gfCB6My5TY2hlbWE8VD4gfCBWYWxpZGF0b3I8VD47XG59KTogUHJvbWlzZTxUPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsdWUgPSBzZWN1cmVKc29uUGFyc2UodGV4dCk7XG5cbiAgICBpZiAoc2NoZW1hID09IG51bGwpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdGVUeXBlczxUPih7IHZhbHVlLCBzY2hlbWEgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKFxuICAgICAgSlNPTlBhcnNlRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgfHxcbiAgICAgIFR5cGVWYWxpZGF0aW9uRXJyb3IuaXNJbnN0YW5jZShlcnJvcilcbiAgICApIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBKU09OUGFyc2VFcnJvcih7IHRleHQsIGNhdXNlOiBlcnJvciB9KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBQYXJzZVJlc3VsdDxUPiA9XG4gIHwgeyBzdWNjZXNzOiB0cnVlOyB2YWx1ZTogVDsgcmF3VmFsdWU6IHVua25vd24gfVxuICB8IHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlO1xuICAgICAgZXJyb3I6IEpTT05QYXJzZUVycm9yIHwgVHlwZVZhbGlkYXRpb25FcnJvcjtcbiAgICAgIHJhd1ZhbHVlOiB1bmtub3duO1xuICAgIH07XG5cbi8qKlxuICogU2FmZWx5IHBhcnNlcyBhIEpTT04gc3RyaW5nIGFuZCByZXR1cm5zIHRoZSByZXN1bHQgYXMgYW4gb2JqZWN0IG9mIHR5cGUgYHVua25vd25gLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gVGhlIEpTT04gc3RyaW5nIHRvIHBhcnNlLlxuICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn0gRWl0aGVyIGFuIG9iamVjdCB3aXRoIGBzdWNjZXNzOiB0cnVlYCBhbmQgdGhlIHBhcnNlZCBkYXRhLCBvciBhbiBvYmplY3Qgd2l0aCBgc3VjY2VzczogZmFsc2VgIGFuZCB0aGUgZXJyb3IgdGhhdCBvY2N1cnJlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhZmVQYXJzZUpTT04ob3B0aW9uczoge1xuICB0ZXh0OiBzdHJpbmc7XG4gIHNjaGVtYT86IHVuZGVmaW5lZDtcbn0pOiBQcm9taXNlPFBhcnNlUmVzdWx0PEpTT05WYWx1ZT4+O1xuLyoqXG4gKiBTYWZlbHkgcGFyc2VzIGEgSlNPTiBzdHJpbmcgaW50byBhIHN0cm9uZ2x5LXR5cGVkIG9iamVjdCwgdXNpbmcgYSBwcm92aWRlZCBzY2hlbWEgdG8gdmFsaWRhdGUgdGhlIG9iamVjdC5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QgdG8gcGFyc2UgdGhlIEpTT04gaW50by5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIEpTT04gc3RyaW5nIHRvIHBhcnNlLlxuICogQHBhcmFtIHtWYWxpZGF0b3I8VD59IHNjaGVtYSAtIFRoZSBzY2hlbWEgdG8gdXNlIGZvciBwYXJzaW5nIHRoZSBKU09OLlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggZWl0aGVyIGEgYHN1Y2Nlc3NgIGZsYWcgYW5kIHRoZSBwYXJzZWQgYW5kIHR5cGVkIGRhdGEsIG9yIGEgYHN1Y2Nlc3NgIGZsYWcgYW5kIGFuIGVycm9yIG9iamVjdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhZmVQYXJzZUpTT048VD4ob3B0aW9uczoge1xuICB0ZXh0OiBzdHJpbmc7XG4gIHNjaGVtYTogejQuY29yZS4kWm9kVHlwZTxUPiB8IHozLlNjaGVtYTxUPiB8IFZhbGlkYXRvcjxUPjtcbn0pOiBQcm9taXNlPFBhcnNlUmVzdWx0PFQ+PjtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYWZlUGFyc2VKU09OPFQ+KHtcbiAgdGV4dCxcbiAgc2NoZW1hLFxufToge1xuICB0ZXh0OiBzdHJpbmc7XG4gIHNjaGVtYT86IHo0LmNvcmUuJFpvZFR5cGU8VD4gfCB6My5TY2hlbWE8VD4gfCBWYWxpZGF0b3I8VD47XG59KTogUHJvbWlzZTxQYXJzZVJlc3VsdDxUPj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHZhbHVlID0gc2VjdXJlSnNvblBhcnNlKHRleHQpO1xuXG4gICAgaWYgKHNjaGVtYSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogdmFsdWUgYXMgVCwgcmF3VmFsdWU6IHZhbHVlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHNhZmVWYWxpZGF0ZVR5cGVzPFQ+KHsgdmFsdWUsIHNjaGVtYSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogSlNPTlBhcnNlRXJyb3IuaXNJbnN0YW5jZShlcnJvcilcbiAgICAgICAgPyBlcnJvclxuICAgICAgICA6IG5ldyBKU09OUGFyc2VFcnJvcih7IHRleHQsIGNhdXNlOiBlcnJvciB9KSxcbiAgICAgIHJhd1ZhbHVlOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQYXJzYWJsZUpzb24oaW5wdXQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICB0cnkge1xuICAgIHNlY3VyZUpzb25QYXJzZShpbnB1dCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwgIi8vIExpY2Vuc2VkIHVuZGVyIEJTRC0zLUNsYXVzZSAodGhpcyBmaWxlIG9ubHkpXG4vLyBDb2RlIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFzdGlmeS9zZWN1cmUtanNvbi1wYXJzZS9ibG9iLzc4M2ZjYjFiNTQzNDcwOTQ2Njc1OTg0N2NlYzk3NDM4MTkzOTY3M2EvaW5kZXguanNcbi8vXG4vLyBDb3B5cmlnaHQgKGMpIFZlcmNlbCwgSW5jLiAoaHR0cHM6Ly92ZXJjZWwuY29tKVxuLy8gQ29weXJpZ2h0IChjKSAyMDE5IFRoZSBGYXN0aWZ5IFRlYW1cbi8vIENvcHlyaWdodCAoYykgMjAxOSwgU2lkZXdheSBJbmMsIGFuZCBwcm9qZWN0IGNvbnRyaWJ1dG9yc1xuLy8gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBUaGUgY29tcGxldGUgbGlzdCBvZiBjb250cmlidXRvcnMgY2FuIGJlIGZvdW5kIGF0OlxuLy8gLSBodHRwczovL2dpdGh1Yi5jb20vaGFwaWpzL2JvdXJuZS9ncmFwaHMvY29udHJpYnV0b3JzXG4vLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9mYXN0aWZ5L3NlY3VyZS1qc29uLXBhcnNlL2dyYXBocy9jb250cmlidXRvcnNcbi8vIC0gaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9haS9jb21taXRzL21haW4vcGFja2FnZXMvcHJvdmlkZXItdXRpbHMvc3JjL3NlY3VyZS1wYXJzZS1qc29uLnRzXG4vL1xuLy8gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuLy9cbi8vIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vXG4vLyAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4vL1xuLy8gMy4gTmVpdGhlciB0aGUgbmFtZSBvZiB0aGUgY29weXJpZ2h0IGhvbGRlciBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuLy9cbi8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cblxuY29uc3Qgc3VzcGVjdFByb3RvUnggPSAvXCJfX3Byb3RvX19cIlxccyo6LztcbmNvbnN0IHN1c3BlY3RDb25zdHJ1Y3RvclJ4ID0gL1wiY29uc3RydWN0b3JcIlxccyo6LztcblxuZnVuY3Rpb24gX3BhcnNlKHRleHQ6IHN0cmluZykge1xuICAvLyBQYXJzZSBub3JtYWxseVxuICBjb25zdCBvYmogPSBKU09OLnBhcnNlKHRleHQpO1xuXG4gIC8vIElnbm9yZSBudWxsIGFuZCBub24tb2JqZWN0c1xuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGlmIChcbiAgICBzdXNwZWN0UHJvdG9SeC50ZXN0KHRleHQpID09PSBmYWxzZSAmJlxuICAgIHN1c3BlY3RDb25zdHJ1Y3RvclJ4LnRlc3QodGV4dCkgPT09IGZhbHNlXG4gICkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICAvLyBTY2FuIHJlc3VsdCBmb3IgcHJvdG8ga2V5c1xuICByZXR1cm4gZmlsdGVyKG9iaik7XG59XG5cbmZ1bmN0aW9uIGZpbHRlcihvYmo6IGFueSkge1xuICBsZXQgbmV4dCA9IFtvYmpdO1xuXG4gIHdoaWxlIChuZXh0Lmxlbmd0aCkge1xuICAgIGNvbnN0IG5vZGVzID0gbmV4dDtcbiAgICBuZXh0ID0gW107XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobm9kZSwgJ19fcHJvdG9fXycpKSB7XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignT2JqZWN0IGNvbnRhaW5zIGZvcmJpZGRlbiBwcm90b3R5cGUgcHJvcGVydHknKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobm9kZSwgJ2NvbnN0cnVjdG9yJykgJiZcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUuY29uc3RydWN0b3IsICdwcm90b3R5cGUnKVxuICAgICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignT2JqZWN0IGNvbnRhaW5zIGZvcmJpZGRlbiBwcm90b3R5cGUgcHJvcGVydHknKTtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gbm9kZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG5vZGVba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBuZXh0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWN1cmVKc29uUGFyc2UodGV4dDogc3RyaW5nKSB7XG4gIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYXN0aWZ5L3NlY3VyZS1qc29uLXBhcnNlL3B1bGwvOTBcbiAgY29uc3QgeyBzdGFja1RyYWNlTGltaXQgfSA9IEVycm9yO1xuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSAwO1xuICB0cnkge1xuICAgIHJldHVybiBfcGFyc2UodGV4dCk7XG4gIH0gZmluYWxseSB7XG4gICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gc3RhY2tUcmFjZUxpbWl0O1xuICB9XG59XG4iLCAiaW1wb3J0IHsgVHlwZVZhbGlkYXRpb25FcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHR5cGUgeyBTdGFuZGFyZFNjaGVtYVYxIH0gZnJvbSAnQHN0YW5kYXJkLXNjaGVtYS9zcGVjJztcbmltcG9ydCB7IFZhbGlkYXRvciwgYXNWYWxpZGF0b3IgfSBmcm9tICcuL3ZhbGlkYXRvcic7XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSB0eXBlcyBvZiBhbiB1bmtub3duIG9iamVjdCB1c2luZyBhIHNjaGVtYSBhbmRcbiAqIHJldHVybiBhIHN0cm9uZ2x5LXR5cGVkIG9iamVjdC5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QgdG8gdmFsaWRhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy52YWx1ZSAtIFRoZSBvYmplY3QgdG8gdmFsaWRhdGUuXG4gKiBAcGFyYW0ge1ZhbGlkYXRvcjxUPn0gb3B0aW9ucy5zY2hlbWEgLSBUaGUgc2NoZW1hIHRvIHVzZSBmb3IgdmFsaWRhdGluZyB0aGUgSlNPTi5cbiAqIEByZXR1cm5zIHtQcm9taXNlPFQ+fSAtIFRoZSB0eXBlZCBvYmplY3QuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZVR5cGVzPE9CSkVDVD4oe1xuICB2YWx1ZSxcbiAgc2NoZW1hLFxufToge1xuICB2YWx1ZTogdW5rbm93bjtcbiAgc2NoZW1hOiBTdGFuZGFyZFNjaGVtYVYxPHVua25vd24sIE9CSkVDVD4gfCBWYWxpZGF0b3I8T0JKRUNUPjtcbn0pOiBQcm9taXNlPE9CSkVDVD4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlcyh7IHZhbHVlLCBzY2hlbWEgfSk7XG5cbiAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgIHRocm93IFR5cGVWYWxpZGF0aW9uRXJyb3Iud3JhcCh7IHZhbHVlLCBjYXVzZTogcmVzdWx0LmVycm9yIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbn1cblxuLyoqXG4gKiBTYWZlbHkgdmFsaWRhdGVzIHRoZSB0eXBlcyBvZiBhbiB1bmtub3duIG9iamVjdCB1c2luZyBhIHNjaGVtYSBhbmRcbiAqIHJldHVybiBhIHN0cm9uZ2x5LXR5cGVkIG9iamVjdC5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QgdG8gdmFsaWRhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy52YWx1ZSAtIFRoZSBKU09OIG9iamVjdCB0byB2YWxpZGF0ZS5cbiAqIEBwYXJhbSB7VmFsaWRhdG9yPFQ+fSBvcHRpb25zLnNjaGVtYSAtIFRoZSBzY2hlbWEgdG8gdXNlIGZvciB2YWxpZGF0aW5nIHRoZSBKU09OLlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggZWl0aGVyIGEgYHN1Y2Nlc3NgIGZsYWcgYW5kIHRoZSBwYXJzZWQgYW5kIHR5cGVkIGRhdGEsIG9yIGEgYHN1Y2Nlc3NgIGZsYWcgYW5kIGFuIGVycm9yIG9iamVjdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhZmVWYWxpZGF0ZVR5cGVzPE9CSkVDVD4oe1xuICB2YWx1ZSxcbiAgc2NoZW1hLFxufToge1xuICB2YWx1ZTogdW5rbm93bjtcbiAgc2NoZW1hOiBTdGFuZGFyZFNjaGVtYVYxPHVua25vd24sIE9CSkVDVD4gfCBWYWxpZGF0b3I8T0JKRUNUPjtcbn0pOiBQcm9taXNlPFxuICB8IHtcbiAgICAgIHN1Y2Nlc3M6IHRydWU7XG4gICAgICB2YWx1ZTogT0JKRUNUO1xuICAgICAgcmF3VmFsdWU6IHVua25vd247XG4gICAgfVxuICB8IHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlO1xuICAgICAgZXJyb3I6IFR5cGVWYWxpZGF0aW9uRXJyb3I7XG4gICAgICByYXdWYWx1ZTogdW5rbm93bjtcbiAgICB9XG4+IHtcbiAgY29uc3QgdmFsaWRhdG9yID0gYXNWYWxpZGF0b3Ioc2NoZW1hKTtcblxuICB0cnkge1xuICAgIGlmICh2YWxpZGF0b3IudmFsaWRhdGUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHZhbHVlIGFzIE9CSkVDVCwgcmF3VmFsdWU6IHZhbHVlIH07XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdmFsaWRhdG9yLnZhbGlkYXRlKHZhbHVlKTtcblxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdC52YWx1ZSwgcmF3VmFsdWU6IHZhbHVlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFR5cGVWYWxpZGF0aW9uRXJyb3Iud3JhcCh7IHZhbHVlLCBjYXVzZTogcmVzdWx0LmVycm9yIH0pLFxuICAgICAgcmF3VmFsdWU6IHZhbHVlLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFR5cGVWYWxpZGF0aW9uRXJyb3Iud3JhcCh7IHZhbHVlLCBjYXVzZTogZXJyb3IgfSksXG4gICAgICByYXdWYWx1ZTogdmFsdWUsXG4gICAgfTtcbiAgfVxufVxuIiwgImltcG9ydCB7IFR5cGVWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFN0YW5kYXJkU2NoZW1hVjEgfSBmcm9tICdAc3RhbmRhcmQtc2NoZW1hL3NwZWMnO1xuXG4vKipcbiAqIFVzZWQgdG8gbWFyayB2YWxpZGF0b3IgZnVuY3Rpb25zIHNvIHdlIGNhbiBzdXBwb3J0IGJvdGggWm9kIGFuZCBjdXN0b20gc2NoZW1hcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRvclN5bWJvbCA9IFN5bWJvbC5mb3IoJ3ZlcmNlbC5haS52YWxpZGF0b3InKTtcblxuZXhwb3J0IHR5cGUgVmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+ID1cbiAgfCB7IHN1Y2Nlc3M6IHRydWU7IHZhbHVlOiBPQkpFQ1QgfVxuICB8IHsgc3VjY2VzczogZmFsc2U7IGVycm9yOiBFcnJvciB9O1xuXG5leHBvcnQgdHlwZSBWYWxpZGF0b3I8T0JKRUNUID0gdW5rbm93bj4gPSB7XG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hcmsgdmFsaWRhdG9yIGZ1bmN0aW9ucyBzbyB3ZSBjYW4gc3VwcG9ydCBib3RoIFpvZCBhbmQgY3VzdG9tIHNjaGVtYXMuXG4gICAqL1xuICBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZTtcblxuICAvKipcbiAgICogT3B0aW9uYWwuIFZhbGlkYXRlcyB0aGF0IHRoZSBzdHJ1Y3R1cmUgb2YgYSB2YWx1ZSBtYXRjaGVzIHRoaXMgc2NoZW1hLFxuICAgKiBhbmQgcmV0dXJucyBhIHR5cGVkIHZlcnNpb24gb2YgdGhlIHZhbHVlIGlmIGl0IGRvZXMuXG4gICAqL1xuICByZWFkb25seSB2YWxpZGF0ZT86IChcbiAgICB2YWx1ZTogdW5rbm93bixcbiAgKSA9PiBWYWxpZGF0aW9uUmVzdWx0PE9CSkVDVD4gfCBQcm9taXNlTGlrZTxWYWxpZGF0aW9uUmVzdWx0PE9CSkVDVD4+O1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSB2YWxpZGF0b3IuXG4gKlxuICogQHBhcmFtIHZhbGlkYXRlIEEgdmFsaWRhdGlvbiBmdW5jdGlvbiBmb3IgdGhlIHNjaGVtYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRvcjxPQkpFQ1Q+KFxuICB2YWxpZGF0ZT86XG4gICAgfCB1bmRlZmluZWRcbiAgICB8ICgoXG4gICAgICAgIHZhbHVlOiB1bmtub3duLFxuICAgICAgKSA9PiBWYWxpZGF0aW9uUmVzdWx0PE9CSkVDVD4gfCBQcm9taXNlTGlrZTxWYWxpZGF0aW9uUmVzdWx0PE9CSkVDVD4+KSxcbik6IFZhbGlkYXRvcjxPQkpFQ1Q+IHtcbiAgcmV0dXJuIHsgW3ZhbGlkYXRvclN5bWJvbF06IHRydWUsIHZhbGlkYXRlIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkYXRvcih2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFZhbGlkYXRvciB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgdmFsaWRhdG9yU3ltYm9sIGluIHZhbHVlICYmXG4gICAgdmFsdWVbdmFsaWRhdG9yU3ltYm9sXSA9PT0gdHJ1ZSAmJlxuICAgICd2YWxpZGF0ZScgaW4gdmFsdWVcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzVmFsaWRhdG9yPE9CSkVDVD4oXG4gIHZhbHVlOiBWYWxpZGF0b3I8T0JKRUNUPiB8IFN0YW5kYXJkU2NoZW1hVjE8dW5rbm93biwgT0JKRUNUPixcbik6IFZhbGlkYXRvcjxPQkpFQ1Q+IHtcbiAgcmV0dXJuIGlzVmFsaWRhdG9yKHZhbHVlKSA/IHZhbHVlIDogc3RhbmRhcmRTY2hlbWFWYWxpZGF0b3IodmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhbmRhcmRTY2hlbWFWYWxpZGF0b3I8T0JKRUNUPihcbiAgc3RhbmRhcmRTY2hlbWE6IFN0YW5kYXJkU2NoZW1hVjE8dW5rbm93biwgT0JKRUNUPixcbik6IFZhbGlkYXRvcjxPQkpFQ1Q+IHtcbiAgcmV0dXJuIHZhbGlkYXRvcihhc3luYyB2YWx1ZSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RhbmRhcmRTY2hlbWFbJ35zdGFuZGFyZCddLnZhbGlkYXRlKHZhbHVlKTtcblxuICAgIHJldHVybiByZXN1bHQuaXNzdWVzID09IG51bGxcbiAgICAgID8geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0LnZhbHVlIH1cbiAgICAgIDoge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNhdXNlOiByZXN1bHQuaXNzdWVzLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICB9KTtcbn1cbiIsICJpbXBvcnQge1xuICBFdmVudFNvdXJjZU1lc3NhZ2UsXG4gIEV2ZW50U291cmNlUGFyc2VyU3RyZWFtLFxufSBmcm9tICdldmVudHNvdXJjZS1wYXJzZXIvc3RyZWFtJztcbmltcG9ydCB7IFpvZFR5cGUgfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgUGFyc2VSZXN1bHQsIHNhZmVQYXJzZUpTT04gfSBmcm9tICcuL3BhcnNlLWpzb24nO1xuXG4vKipcbiAqIFBhcnNlcyBhIEpTT04gZXZlbnQgc3RyZWFtIGludG8gYSBzdHJlYW0gb2YgcGFyc2VkIEpTT04gb2JqZWN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSnNvbkV2ZW50U3RyZWFtPFQ+KHtcbiAgc3RyZWFtLFxuICBzY2hlbWEsXG59OiB7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VWludDhBcnJheT47XG4gIHNjaGVtYTogWm9kVHlwZTxUPjtcbn0pOiBSZWFkYWJsZVN0cmVhbTxQYXJzZVJlc3VsdDxUPj4ge1xuICByZXR1cm4gc3RyZWFtXG4gICAgLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKVxuICAgIC5waXBlVGhyb3VnaChuZXcgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0oKSlcbiAgICAucGlwZVRocm91Z2goXG4gICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPEV2ZW50U291cmNlTWVzc2FnZSwgUGFyc2VSZXN1bHQ8VD4+KHtcbiAgICAgICAgYXN5bmMgdHJhbnNmb3JtKHsgZGF0YSB9LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgLy8gaWdub3JlIHRoZSAnRE9ORScgZXZlbnQgdGhhdCBlLmcuIE9wZW5BSSBzZW5kczpcbiAgICAgICAgICBpZiAoZGF0YSA9PT0gJ1tET05FXScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoYXdhaXQgc2FmZVBhcnNlSlNPTih7IHRleHQ6IGRhdGEsIHNjaGVtYSB9KSk7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xufVxuIiwgImltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBzYWZlVmFsaWRhdGVUeXBlcyB9IGZyb20gJy4vdmFsaWRhdGUtdHlwZXMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVByb3ZpZGVyT3B0aW9uczxUPih7XG4gIHByb3ZpZGVyLFxuICBwcm92aWRlck9wdGlvbnMsXG4gIHNjaGVtYSxcbn06IHtcbiAgcHJvdmlkZXI6IHN0cmluZztcbiAgcHJvdmlkZXJPcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZDtcbiAgc2NoZW1hOiB6LmNvcmUuJFpvZFR5cGU8VCwgYW55Pjtcbn0pOiBQcm9taXNlPFQgfCB1bmRlZmluZWQ+IHtcbiAgaWYgKHByb3ZpZGVyT3B0aW9ucz8uW3Byb3ZpZGVyXSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZFByb3ZpZGVyT3B0aW9ucyA9IGF3YWl0IHNhZmVWYWxpZGF0ZVR5cGVzPFQgfCB1bmRlZmluZWQ+KHtcbiAgICB2YWx1ZTogcHJvdmlkZXJPcHRpb25zW3Byb3ZpZGVyXSxcbiAgICBzY2hlbWEsXG4gIH0pO1xuXG4gIGlmICghcGFyc2VkUHJvdmlkZXJPcHRpb25zLnN1Y2Nlc3MpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgYXJndW1lbnQ6ICdwcm92aWRlck9wdGlvbnMnLFxuICAgICAgbWVzc2FnZTogYGludmFsaWQgJHtwcm92aWRlcn0gcHJvdmlkZXIgb3B0aW9uc2AsXG4gICAgICBjYXVzZTogcGFyc2VkUHJvdmlkZXJPcHRpb25zLmVycm9yLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlZFByb3ZpZGVyT3B0aW9ucy52YWx1ZTtcbn1cbiIsICJpbXBvcnQgeyBBUElDYWxsRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMgfSBmcm9tICcuL2V4dHJhY3QtcmVzcG9uc2UtaGVhZGVycyc7XG5pbXBvcnQgeyBGZXRjaEZ1bmN0aW9uIH0gZnJvbSAnLi9mZXRjaC1mdW5jdGlvbic7XG5pbXBvcnQgeyBoYW5kbGVGZXRjaEVycm9yIH0gZnJvbSAnLi9oYW5kbGUtZmV0Y2gtZXJyb3InO1xuaW1wb3J0IHsgaXNBYm9ydEVycm9yIH0gZnJvbSAnLi9pcy1hYm9ydC1lcnJvcic7XG5pbXBvcnQgeyBSZXNwb25zZUhhbmRsZXIgfSBmcm9tICcuL3Jlc3BvbnNlLWhhbmRsZXInO1xuaW1wb3J0IHsgZ2V0UnVudGltZUVudmlyb25tZW50VXNlckFnZW50IH0gZnJvbSAnLi9nZXQtcnVudGltZS1lbnZpcm9ubWVudC11c2VyLWFnZW50JztcbmltcG9ydCB7IHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICcuL3dpdGgtdXNlci1hZ2VudC1zdWZmaXgnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4vdmVyc2lvbic7XG5cbi8vIHVzZSBmdW5jdGlvbiB0byBhbGxvdyBmb3IgbW9ja2luZyBpbiB0ZXN0czpcbmNvbnN0IGdldE9yaWdpbmFsRmV0Y2ggPSAoKSA9PiBnbG9iYWxUaGlzLmZldGNoO1xuXG5leHBvcnQgY29uc3QgcG9zdEpzb25Ub0FwaSA9IGFzeW5jIDxUPih7XG4gIHVybCxcbiAgaGVhZGVycyxcbiAgYm9keSxcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2gsXG59OiB7XG4gIHVybDogc3RyaW5nO1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPjtcbiAgYm9keTogdW5rbm93bjtcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBSZXNwb25zZUhhbmRsZXI8QVBJQ2FsbEVycm9yPjtcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyPFQ+O1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICBmZXRjaD86IEZldGNoRnVuY3Rpb247XG59KSA9PlxuICBwb3N0VG9BcGkoe1xuICAgIHVybCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgLi4uaGVhZGVycyxcbiAgICB9LFxuICAgIGJvZHk6IHtcbiAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgdmFsdWVzOiBib2R5LFxuICAgIH0sXG4gICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgZmV0Y2gsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgcG9zdEZvcm1EYXRhVG9BcGkgPSBhc3luYyA8VD4oe1xuICB1cmwsXG4gIGhlYWRlcnMsXG4gIGZvcm1EYXRhLFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaCxcbn06IHtcbiAgdXJsOiBzdHJpbmc7XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+O1xuICBmb3JtRGF0YTogRm9ybURhdGE7XG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyPEFQSUNhbGxFcnJvcj47XG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxUPjtcbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgZmV0Y2g/OiBGZXRjaEZ1bmN0aW9uO1xufSkgPT5cbiAgcG9zdFRvQXBpKHtcbiAgICB1cmwsXG4gICAgaGVhZGVycyxcbiAgICBib2R5OiB7XG4gICAgICBjb250ZW50OiBmb3JtRGF0YSxcbiAgICAgIHZhbHVlczogT2JqZWN0LmZyb21FbnRyaWVzKChmb3JtRGF0YSBhcyBhbnkpLmVudHJpZXMoKSksXG4gICAgfSxcbiAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBmZXRjaCxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBwb3N0VG9BcGkgPSBhc3luYyA8VD4oe1xuICB1cmwsXG4gIGhlYWRlcnMgPSB7fSxcbiAgYm9keSxcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2ggPSBnZXRPcmlnaW5hbEZldGNoKCksXG59OiB7XG4gIHVybDogc3RyaW5nO1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPjtcbiAgYm9keToge1xuICAgIGNvbnRlbnQ6IHN0cmluZyB8IEZvcm1EYXRhIHwgVWludDhBcnJheTtcbiAgICB2YWx1ZXM6IHVua25vd247XG4gIH07XG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyPEVycm9yPjtcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyPFQ+O1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICBmZXRjaD86IEZldGNoRnVuY3Rpb247XG59KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYGFpLXNkay9wcm92aWRlci11dGlscy8ke1ZFUlNJT059YCxcbiAgICAgICAgZ2V0UnVudGltZUVudmlyb25tZW50VXNlckFnZW50KCksXG4gICAgICApLFxuICAgICAgYm9keTogYm9keS5jb250ZW50LFxuICAgICAgc2lnbmFsOiBhYm9ydFNpZ25hbCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgbGV0IGVycm9ySW5mb3JtYXRpb246IHtcbiAgICAgICAgdmFsdWU6IEVycm9yO1xuICAgICAgICByZXNwb25zZUhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgdW5kZWZpbmVkO1xuICAgICAgfTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZXJyb3JJbmZvcm1hdGlvbiA9IGF3YWl0IGZhaWxlZFJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlcyxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSB8fCBBUElDYWxsRXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gcHJvY2VzcyBlcnJvciByZXNwb25zZScsXG4gICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlcyxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9ySW5mb3JtYXRpb24udmFsdWU7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpIHx8IEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHByb2Nlc3Mgc3VjY2Vzc2Z1bCByZXNwb25zZScsXG4gICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzLFxuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGhhbmRsZUZldGNoRXJyb3IoeyBlcnJvciwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXMgfSk7XG4gIH1cbn07XG4iLCAiaW1wb3J0IHsgSlNPTlZhbHVlLCBMYW5ndWFnZU1vZGVsVjJUb29sUmVzdWx0UGFydCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgRmxleGlibGVTY2hlbWEgfSBmcm9tICcuLi9zY2hlbWEnO1xuaW1wb3J0IHsgTW9kZWxNZXNzYWdlIH0gZnJvbSAnLi9tb2RlbC1tZXNzYWdlJztcbmltcG9ydCB7IFByb3ZpZGVyT3B0aW9ucyB9IGZyb20gJy4vcHJvdmlkZXItb3B0aW9ucyc7XG5cbi8qKlxuICogQWRkaXRpb25hbCBvcHRpb25zIHRoYXQgYXJlIHNlbnQgaW50byBlYWNoIHRvb2wgY2FsbC5cbiAqL1xuLy8gVE9ETyBBSSBTREsgNjogcmVuYW1lIHRvIFRvb2xFeGVjdXRpb25PcHRpb25zXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xDYWxsT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbC4gWW91IGNhbiB1c2UgaXQgZS5nLiB3aGVuIHNlbmRpbmcgdG9vbC1jYWxsIHJlbGF0ZWQgaW5mb3JtYXRpb24gd2l0aCBzdHJlYW0gZGF0YS5cbiAgICovXG4gIHRvb2xDYWxsSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogTWVzc2FnZXMgdGhhdCB3ZXJlIHNlbnQgdG8gdGhlIGxhbmd1YWdlIG1vZGVsIHRvIGluaXRpYXRlIHRoZSByZXNwb25zZSB0aGF0IGNvbnRhaW5lZCB0aGUgdG9vbCBjYWxsLlxuICAgKiBUaGUgbWVzc2FnZXMgKipkbyBub3QqKiBpbmNsdWRlIHRoZSBzeXN0ZW0gcHJvbXB0IG5vciB0aGUgYXNzaXN0YW50IHJlc3BvbnNlIHRoYXQgY29udGFpbmVkIHRoZSB0b29sIGNhbGwuXG4gICAqL1xuICBtZXNzYWdlczogTW9kZWxNZXNzYWdlW107XG5cbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBvdmVyYWxsIG9wZXJhdGlvbiBzaG91bGQgYmUgYWJvcnRlZC5cbiAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG5cbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgY29udGV4dC5cbiAgICpcbiAgICogRXhwZXJpbWVudGFsIChjYW4gYnJlYWsgaW4gcGF0Y2ggcmVsZWFzZXMpLlxuICAgKi9cbiAgZXhwZXJpbWVudGFsX2NvbnRleHQ/OiB1bmtub3duO1xufVxuXG5leHBvcnQgdHlwZSBUb29sRXhlY3V0ZUZ1bmN0aW9uPElOUFVULCBPVVRQVVQ+ID0gKFxuICBpbnB1dDogSU5QVVQsXG4gIG9wdGlvbnM6IFRvb2xDYWxsT3B0aW9ucyxcbikgPT4gQXN5bmNJdGVyYWJsZTxPVVRQVVQ+IHwgUHJvbWlzZUxpa2U8T1VUUFVUPiB8IE9VVFBVVDtcblxuLy8gMCBleHRlbmRzIDEgJiBOIGNoZWNrcyBmb3IgYW55XG4vLyBbTl0gZXh0ZW5kcyBbbmV2ZXJdIGNoZWNrcyBmb3IgbmV2ZXJcbnR5cGUgTmV2ZXJPcHRpb25hbDxOLCBUPiA9IDAgZXh0ZW5kcyAxICYgTlxuICA/IFBhcnRpYWw8VD5cbiAgOiBbTl0gZXh0ZW5kcyBbbmV2ZXJdXG4gICAgPyBQYXJ0aWFsPFJlY29yZDxrZXlvZiBULCB1bmRlZmluZWQ+PlxuICAgIDogVDtcblxudHlwZSBUb29sT3V0cHV0UHJvcGVydGllczxJTlBVVCwgT1VUUFVUPiA9IE5ldmVyT3B0aW9uYWw8XG4gIE9VVFBVVCxcbiAgfCB7XG4gICAgICAvKipcbkFuIGFzeW5jIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdpdGggdGhlIGFyZ3VtZW50cyBmcm9tIHRoZSB0b29sIGNhbGwgYW5kIHByb2R1Y2VzIGEgcmVzdWx0LlxuSWYgbm90IHByb3ZpZGVkLCB0aGUgdG9vbCB3aWxsIG5vdCBiZSBleGVjdXRlZCBhdXRvbWF0aWNhbGx5LlxuXG5AYXJncyBpcyB0aGUgaW5wdXQgb2YgdGhlIHRvb2wgY2FsbC5cbkBvcHRpb25zLmFib3J0U2lnbmFsIGlzIGEgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWJvcnQgdGhlIHRvb2wgY2FsbC5cbiAgICAqL1xuICAgICAgZXhlY3V0ZTogVG9vbEV4ZWN1dGVGdW5jdGlvbjxJTlBVVCwgT1VUUFVUPjtcblxuICAgICAgb3V0cHV0U2NoZW1hPzogRmxleGlibGVTY2hlbWE8T1VUUFVUPjtcbiAgICB9XG4gIHwge1xuICAgICAgb3V0cHV0U2NoZW1hOiBGbGV4aWJsZVNjaGVtYTxPVVRQVVQ+O1xuXG4gICAgICBleGVjdXRlPzogbmV2ZXI7XG4gICAgfVxuPjtcblxuLyoqXG5BIHRvb2wgY29udGFpbnMgdGhlIGRlc2NyaXB0aW9uIGFuZCB0aGUgc2NoZW1hIG9mIHRoZSBpbnB1dCB0aGF0IHRoZSB0b29sIGV4cGVjdHMuXG5UaGlzIGVuYWJsZXMgdGhlIGxhbmd1YWdlIG1vZGVsIHRvIGdlbmVyYXRlIHRoZSBpbnB1dC5cblxuVGhlIHRvb2wgY2FuIGFsc28gY29udGFpbiBhbiBvcHRpb25hbCBleGVjdXRlIGZ1bmN0aW9uIGZvciB0aGUgYWN0dWFsIGV4ZWN1dGlvbiBmdW5jdGlvbiBvZiB0aGUgdG9vbC5cbiAqL1xuZXhwb3J0IHR5cGUgVG9vbDxcbiAgSU5QVVQgZXh0ZW5kcyBKU09OVmFsdWUgfCB1bmtub3duIHwgbmV2ZXIgPSBhbnksXG4gIE9VVFBVVCBleHRlbmRzIEpTT05WYWx1ZSB8IHVua25vd24gfCBuZXZlciA9IGFueSxcbj4gPSB7XG4gIC8qKlxuQW4gb3B0aW9uYWwgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGUgdG9vbCBkb2VzLlxuV2lsbCBiZSB1c2VkIGJ5IHRoZSBsYW5ndWFnZSBtb2RlbCB0byBkZWNpZGUgd2hldGhlciB0byB1c2UgdGhlIHRvb2wuXG5Ob3QgdXNlZCBmb3IgcHJvdmlkZXItZGVmaW5lZCB0b29scy5cbiAgICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YS4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICAgKi9cbiAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gIC8qKlxuVGhlIHNjaGVtYSBvZiB0aGUgaW5wdXQgdGhhdCB0aGUgdG9vbCBleHBlY3RzLiBUaGUgbGFuZ3VhZ2UgbW9kZWwgd2lsbCB1c2UgdGhpcyB0byBnZW5lcmF0ZSB0aGUgaW5wdXQuXG5JdCBpcyBhbHNvIHVzZWQgdG8gdmFsaWRhdGUgdGhlIG91dHB1dCBvZiB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG5Vc2UgZGVzY3JpcHRpb25zIHRvIG1ha2UgdGhlIGlucHV0IHVuZGVyc3RhbmRhYmxlIGZvciB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG4gICAqL1xuICBpbnB1dFNjaGVtYTogRmxleGlibGVTY2hlbWE8SU5QVVQ+O1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBhcmd1bWVudCBzdHJlYW1pbmcgc3RhcnRzLlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHRoZSB0b29sIGlzIHVzZWQgaW4gYSBzdHJlYW1pbmcgY29udGV4dC5cbiAgICovXG4gIG9uSW5wdXRTdGFydD86IChvcHRpb25zOiBUb29sQ2FsbE9wdGlvbnMpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPjtcblxuICAvKipcbiAgICogT3B0aW9uYWwgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiBhbiBhcmd1bWVudCBzdHJlYW1pbmcgZGVsdGEgaXMgYXZhaWxhYmxlLlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHRoZSB0b29sIGlzIHVzZWQgaW4gYSBzdHJlYW1pbmcgY29udGV4dC5cbiAgICovXG4gIG9uSW5wdXREZWx0YT86IChcbiAgICBvcHRpb25zOiB7IGlucHV0VGV4dERlbHRhOiBzdHJpbmcgfSAmIFRvb2xDYWxsT3B0aW9ucyxcbiAgKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gYSB0b29sIGNhbGwgY2FuIGJlIHN0YXJ0ZWQsXG4gICAqIGV2ZW4gaWYgdGhlIGV4ZWN1dGUgZnVuY3Rpb24gaXMgbm90IHByb3ZpZGVkLlxuICAgKi9cbiAgb25JbnB1dEF2YWlsYWJsZT86IChcbiAgICBvcHRpb25zOiB7XG4gICAgICBpbnB1dDogW0lOUFVUXSBleHRlbmRzIFtuZXZlcl0gPyB1bmRlZmluZWQgOiBJTlBVVDtcbiAgICB9ICYgVG9vbENhbGxPcHRpb25zLFxuICApID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPjtcbn0gJiBUb29sT3V0cHV0UHJvcGVydGllczxJTlBVVCwgT1VUUFVUPiAmIHtcbiAgICAvKipcbk9wdGlvbmFsIGNvbnZlcnNpb24gZnVuY3Rpb24gdGhhdCBtYXBzIHRoZSB0b29sIHJlc3VsdCB0byBhbiBvdXRwdXQgdGhhdCBjYW4gYmUgdXNlZCBieSB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG5cbklmIG5vdCBwcm92aWRlZCwgdGhlIHRvb2wgcmVzdWx0IHdpbGwgYmUgc2VudCBhcyBhIEpTT04gb2JqZWN0LlxuICAqL1xuICAgIHRvTW9kZWxPdXRwdXQ/OiAoXG4gICAgICBvdXRwdXQ6IDAgZXh0ZW5kcyAxICYgT1VUUFVUXG4gICAgICAgID8gYW55XG4gICAgICAgIDogW09VVFBVVF0gZXh0ZW5kcyBbbmV2ZXJdXG4gICAgICAgICAgPyBhbnlcbiAgICAgICAgICA6IE5vSW5mZXI8T1VUUFVUPixcbiAgICApID0+IExhbmd1YWdlTW9kZWxWMlRvb2xSZXN1bHRQYXJ0WydvdXRwdXQnXTtcbiAgfSAmIChcbiAgICB8IHtcbiAgICAgICAgLyoqXG5Ub29sIHdpdGggdXNlci1kZWZpbmVkIGlucHV0IGFuZCBvdXRwdXQgc2NoZW1hcy5cbiAgICAgKi9cbiAgICAgICAgdHlwZT86IHVuZGVmaW5lZCB8ICdmdW5jdGlvbic7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIC8qKlxuVG9vbCB0aGF0IGlzIGRlZmluZWQgYXQgcnVudGltZSAoZS5nLiBhbiBNQ1AgdG9vbCkuXG5UaGUgdHlwZXMgb2YgaW5wdXQgYW5kIG91dHB1dCBhcmUgbm90IGtub3duIGF0IGRldmVsb3BtZW50IHRpbWUuXG4gICAgICAgKi9cbiAgICAgICAgdHlwZTogJ2R5bmFtaWMnO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICAvKipcblRvb2wgd2l0aCBwcm92aWRlci1kZWZpbmVkIGlucHV0IGFuZCBvdXRwdXQgc2NoZW1hcy5cbiAgICAgKi9cbiAgICAgICAgdHlwZTogJ3Byb3ZpZGVyLWRlZmluZWQnO1xuXG4gICAgICAgIC8qKlxuVGhlIElEIG9mIHRoZSB0b29sLiBTaG91bGQgZm9sbG93IHRoZSBmb3JtYXQgYDxwcm92aWRlci1uYW1lPi48dW5pcXVlLXRvb2wtbmFtZT5gLlxuICAgKi9cbiAgICAgICAgaWQ6IGAke3N0cmluZ30uJHtzdHJpbmd9YDtcblxuICAgICAgICAvKipcblRoZSBuYW1lIG9mIHRoZSB0b29sIHRoYXQgdGhlIHVzZXIgbXVzdCB1c2UgaW4gdGhlIHRvb2wgc2V0LlxuICovXG4gICAgICAgIG5hbWU6IHN0cmluZztcblxuICAgICAgICAvKipcblRoZSBhcmd1bWVudHMgZm9yIGNvbmZpZ3VyaW5nIHRoZSB0b29sLiBNdXN0IG1hdGNoIHRoZSBleHBlY3RlZCBhcmd1bWVudHMgZGVmaW5lZCBieSB0aGUgcHJvdmlkZXIgZm9yIHRoaXMgdG9vbC5cbiAgICAgKi9cbiAgICAgICAgYXJnczogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgICB9XG4gICk7XG5cbi8qKlxuICogSW5mZXIgdGhlIGlucHV0IHR5cGUgb2YgYSB0b29sLlxuICovXG5leHBvcnQgdHlwZSBJbmZlclRvb2xJbnB1dDxUT09MIGV4dGVuZHMgVG9vbD4gPVxuICBUT09MIGV4dGVuZHMgVG9vbDxpbmZlciBJTlBVVCwgYW55PiA/IElOUFVUIDogbmV2ZXI7XG5cbi8qKlxuICogSW5mZXIgdGhlIG91dHB1dCB0eXBlIG9mIGEgdG9vbC5cbiAqL1xuZXhwb3J0IHR5cGUgSW5mZXJUb29sT3V0cHV0PFRPT0wgZXh0ZW5kcyBUb29sPiA9XG4gIFRPT0wgZXh0ZW5kcyBUb29sPGFueSwgaW5mZXIgT1VUUFVUPiA/IE9VVFBVVCA6IG5ldmVyO1xuXG4vKipcbkhlbHBlciBmdW5jdGlvbiBmb3IgaW5mZXJyaW5nIHRoZSBleGVjdXRlIGFyZ3Mgb2YgYSB0b29sLlxuICovXG4vLyBOb3RlOiBvdmVybG9hZCBvcmRlciBpcyBpbXBvcnRhbnQgZm9yIGF1dG8tY29tcGxldGlvblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2w8SU5QVVQsIE9VVFBVVD4oXG4gIHRvb2w6IFRvb2w8SU5QVVQsIE9VVFBVVD4sXG4pOiBUb29sPElOUFVULCBPVVRQVVQ+O1xuZXhwb3J0IGZ1bmN0aW9uIHRvb2w8SU5QVVQ+KHRvb2w6IFRvb2w8SU5QVVQsIG5ldmVyPik6IFRvb2w8SU5QVVQsIG5ldmVyPjtcbmV4cG9ydCBmdW5jdGlvbiB0b29sPE9VVFBVVD4odG9vbDogVG9vbDxuZXZlciwgT1VUUFVUPik6IFRvb2w8bmV2ZXIsIE9VVFBVVD47XG5leHBvcnQgZnVuY3Rpb24gdG9vbCh0b29sOiBUb29sPG5ldmVyLCBuZXZlcj4pOiBUb29sPG5ldmVyLCBuZXZlcj47XG5leHBvcnQgZnVuY3Rpb24gdG9vbCh0b29sOiBhbnkpOiBhbnkge1xuICByZXR1cm4gdG9vbDtcbn1cblxuLyoqXG5IZWxwZXIgZnVuY3Rpb24gZm9yIGRlZmluaW5nIGEgZHluYW1pYyB0b29sLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHluYW1pY1Rvb2wodG9vbDoge1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuICBpbnB1dFNjaGVtYTogRmxleGlibGVTY2hlbWE8dW5rbm93bj47XG4gIGV4ZWN1dGU6IFRvb2xFeGVjdXRlRnVuY3Rpb248dW5rbm93biwgdW5rbm93bj47XG4gIHRvTW9kZWxPdXRwdXQ/OiAob3V0cHV0OiB1bmtub3duKSA9PiBMYW5ndWFnZU1vZGVsVjJUb29sUmVzdWx0UGFydFsnb3V0cHV0J107XG59KTogVG9vbDx1bmtub3duLCB1bmtub3duPiAmIHtcbiAgdHlwZTogJ2R5bmFtaWMnO1xufSB7XG4gIHJldHVybiB7IC4uLnRvb2wsIHR5cGU6ICdkeW5hbWljJyB9O1xufVxuIiwgImltcG9ydCB7IHRvb2wsIFRvb2wsIFRvb2xFeGVjdXRlRnVuY3Rpb24gfSBmcm9tICcuL3R5cGVzL3Rvb2wnO1xuaW1wb3J0IHsgRmxleGlibGVTY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5cbmV4cG9ydCB0eXBlIFByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5PElOUFVULCBBUkdTIGV4dGVuZHMgb2JqZWN0PiA9IDxPVVRQVVQ+KFxuICBvcHRpb25zOiBBUkdTICYge1xuICAgIGV4ZWN1dGU/OiBUb29sRXhlY3V0ZUZ1bmN0aW9uPElOUFVULCBPVVRQVVQ+O1xuICAgIHRvTW9kZWxPdXRwdXQ/OiBUb29sPElOUFVULCBPVVRQVVQ+Wyd0b01vZGVsT3V0cHV0J107XG4gICAgb25JbnB1dFN0YXJ0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dFN0YXJ0J107XG4gICAgb25JbnB1dERlbHRhPzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dERlbHRhJ107XG4gICAgb25JbnB1dEF2YWlsYWJsZT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRBdmFpbGFibGUnXTtcbiAgfSxcbikgPT4gVG9vbDxJTlBVVCwgT1VUUFVUPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5PElOUFVULCBBUkdTIGV4dGVuZHMgb2JqZWN0Pih7XG4gIGlkLFxuICBuYW1lLFxuICBpbnB1dFNjaGVtYSxcbn06IHtcbiAgaWQ6IGAke3N0cmluZ30uJHtzdHJpbmd9YDtcbiAgbmFtZTogc3RyaW5nO1xuICBpbnB1dFNjaGVtYTogRmxleGlibGVTY2hlbWE8SU5QVVQ+O1xufSk6IFByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5PElOUFVULCBBUkdTPiB7XG4gIHJldHVybiA8T1VUUFVUPih7XG4gICAgZXhlY3V0ZSxcbiAgICBvdXRwdXRTY2hlbWEsXG4gICAgdG9Nb2RlbE91dHB1dCxcbiAgICBvbklucHV0U3RhcnQsXG4gICAgb25JbnB1dERlbHRhLFxuICAgIG9uSW5wdXRBdmFpbGFibGUsXG4gICAgLi4uYXJnc1xuICB9OiBBUkdTICYge1xuICAgIGV4ZWN1dGU/OiBUb29sRXhlY3V0ZUZ1bmN0aW9uPElOUFVULCBPVVRQVVQ+O1xuICAgIG91dHB1dFNjaGVtYT86IEZsZXhpYmxlU2NoZW1hPE9VVFBVVD47XG4gICAgdG9Nb2RlbE91dHB1dD86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ3RvTW9kZWxPdXRwdXQnXTtcbiAgICBvbklucHV0U3RhcnQ/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0U3RhcnQnXTtcbiAgICBvbklucHV0RGVsdGE/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0RGVsdGEnXTtcbiAgICBvbklucHV0QXZhaWxhYmxlPzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dEF2YWlsYWJsZSddO1xuICB9KTogVG9vbDxJTlBVVCwgT1VUUFVUPiA9PlxuICAgIHRvb2woe1xuICAgICAgdHlwZTogJ3Byb3ZpZGVyLWRlZmluZWQnLFxuICAgICAgaWQsXG4gICAgICBuYW1lLFxuICAgICAgYXJncyxcbiAgICAgIGlucHV0U2NoZW1hLFxuICAgICAgb3V0cHV0U2NoZW1hLFxuICAgICAgZXhlY3V0ZSxcbiAgICAgIHRvTW9kZWxPdXRwdXQsXG4gICAgICBvbklucHV0U3RhcnQsXG4gICAgICBvbklucHV0RGVsdGEsXG4gICAgICBvbklucHV0QXZhaWxhYmxlLFxuICAgIH0pO1xufVxuXG5leHBvcnQgdHlwZSBQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeVdpdGhPdXRwdXRTY2hlbWE8XG4gIElOUFVULFxuICBPVVRQVVQsXG4gIEFSR1MgZXh0ZW5kcyBvYmplY3QsXG4+ID0gKFxuICBvcHRpb25zOiBBUkdTICYge1xuICAgIGV4ZWN1dGU/OiBUb29sRXhlY3V0ZUZ1bmN0aW9uPElOUFVULCBPVVRQVVQ+O1xuICAgIHRvTW9kZWxPdXRwdXQ/OiBUb29sPElOUFVULCBPVVRQVVQ+Wyd0b01vZGVsT3V0cHV0J107XG4gICAgb25JbnB1dFN0YXJ0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dFN0YXJ0J107XG4gICAgb25JbnB1dERlbHRhPzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dERlbHRhJ107XG4gICAgb25JbnB1dEF2YWlsYWJsZT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRBdmFpbGFibGUnXTtcbiAgfSxcbikgPT4gVG9vbDxJTlBVVCwgT1VUUFVUPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5V2l0aE91dHB1dFNjaGVtYTxcbiAgSU5QVVQsXG4gIE9VVFBVVCxcbiAgQVJHUyBleHRlbmRzIG9iamVjdCxcbj4oe1xuICBpZCxcbiAgbmFtZSxcbiAgaW5wdXRTY2hlbWEsXG4gIG91dHB1dFNjaGVtYSxcbn06IHtcbiAgaWQ6IGAke3N0cmluZ30uJHtzdHJpbmd9YDtcbiAgbmFtZTogc3RyaW5nO1xuICBpbnB1dFNjaGVtYTogRmxleGlibGVTY2hlbWE8SU5QVVQ+O1xuICBvdXRwdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPE9VVFBVVD47XG59KTogUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3RvcnlXaXRoT3V0cHV0U2NoZW1hPElOUFVULCBPVVRQVVQsIEFSR1M+IHtcbiAgcmV0dXJuICh7XG4gICAgZXhlY3V0ZSxcbiAgICB0b01vZGVsT3V0cHV0LFxuICAgIG9uSW5wdXRTdGFydCxcbiAgICBvbklucHV0RGVsdGEsXG4gICAgb25JbnB1dEF2YWlsYWJsZSxcbiAgICAuLi5hcmdzXG4gIH06IEFSR1MgJiB7XG4gICAgZXhlY3V0ZT86IFRvb2xFeGVjdXRlRnVuY3Rpb248SU5QVVQsIE9VVFBVVD47XG4gICAgdG9Nb2RlbE91dHB1dD86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ3RvTW9kZWxPdXRwdXQnXTtcbiAgICBvbklucHV0U3RhcnQ/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0U3RhcnQnXTtcbiAgICBvbklucHV0RGVsdGE/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0RGVsdGEnXTtcbiAgICBvbklucHV0QXZhaWxhYmxlPzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dEF2YWlsYWJsZSddO1xuICB9KTogVG9vbDxJTlBVVCwgT1VUUFVUPiA9PlxuICAgIHRvb2woe1xuICAgICAgdHlwZTogJ3Byb3ZpZGVyLWRlZmluZWQnLFxuICAgICAgaWQsXG4gICAgICBuYW1lLFxuICAgICAgYXJncyxcbiAgICAgIGlucHV0U2NoZW1hLFxuICAgICAgb3V0cHV0U2NoZW1hLFxuICAgICAgZXhlY3V0ZSxcbiAgICAgIHRvTW9kZWxPdXRwdXQsXG4gICAgICBvbklucHV0U3RhcnQsXG4gICAgICBvbklucHV0RGVsdGEsXG4gICAgICBvbklucHV0QXZhaWxhYmxlLFxuICAgIH0pO1xufVxuIiwgImV4cG9ydCB0eXBlIFJlc29sdmFibGU8VD4gPVxuICB8IFQgLy8gUmF3IHZhbHVlXG4gIHwgUHJvbWlzZTxUPiAvLyBQcm9taXNlIG9mIHZhbHVlXG4gIHwgKCgpID0+IFQpIC8vIEZ1bmN0aW9uIHJldHVybmluZyB2YWx1ZVxuICB8ICgoKSA9PiBQcm9taXNlPFQ+KTsgLy8gRnVuY3Rpb24gcmV0dXJuaW5nIHByb21pc2Ugb2YgdmFsdWVcblxuLyoqXG4gKiBSZXNvbHZlcyBhIHZhbHVlIHRoYXQgY291bGQgYmUgYSByYXcgdmFsdWUsIGEgUHJvbWlzZSwgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSB2YWx1ZSxcbiAqIG9yIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgUHJvbWlzZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc29sdmU8VD4odmFsdWU6IFJlc29sdmFibGU8VD4pOiBQcm9taXNlPFQ+IHtcbiAgLy8gSWYgaXQncyBhIGZ1bmN0aW9uLCBjYWxsIGl0IHRvIGdldCB0aGUgdmFsdWUvcHJvbWlzZVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFsdWUgPSAodmFsdWUgYXMgRnVuY3Rpb24pKCk7XG4gIH1cblxuICAvLyBPdGhlcndpc2UganVzdCByZXNvbHZlIHdoYXRldmVyIHdlIGdvdCAodmFsdWUgb3IgcHJvbWlzZSlcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSBhcyBUKTtcbn1cbiIsICJpbXBvcnQgeyBBUElDYWxsRXJyb3IsIEVtcHR5UmVzcG9uc2VCb2R5RXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFpvZFR5cGUgfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgZXh0cmFjdFJlc3BvbnNlSGVhZGVycyB9IGZyb20gJy4vZXh0cmFjdC1yZXNwb25zZS1oZWFkZXJzJztcbmltcG9ydCB7IHBhcnNlSlNPTiwgUGFyc2VSZXN1bHQsIHNhZmVQYXJzZUpTT04gfSBmcm9tICcuL3BhcnNlLWpzb24nO1xuaW1wb3J0IHsgcGFyc2VKc29uRXZlbnRTdHJlYW0gfSBmcm9tICcuL3BhcnNlLWpzb24tZXZlbnQtc3RyZWFtJztcblxuZXhwb3J0IHR5cGUgUmVzcG9uc2VIYW5kbGVyPFJFVFVSTl9UWVBFPiA9IChvcHRpb25zOiB7XG4gIHVybDogc3RyaW5nO1xuICByZXF1ZXN0Qm9keVZhbHVlczogdW5rbm93bjtcbiAgcmVzcG9uc2U6IFJlc3BvbnNlO1xufSkgPT4gUHJvbWlzZUxpa2U8e1xuICB2YWx1ZTogUkVUVVJOX1RZUEU7XG4gIHJhd1ZhbHVlPzogdW5rbm93bjtcbiAgcmVzcG9uc2VIZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn0+O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyID1cbiAgPFQ+KHtcbiAgICBlcnJvclNjaGVtYSxcbiAgICBlcnJvclRvTWVzc2FnZSxcbiAgICBpc1JldHJ5YWJsZSxcbiAgfToge1xuICAgIGVycm9yU2NoZW1hOiBab2RUeXBlPFQ+O1xuICAgIGVycm9yVG9NZXNzYWdlOiAoZXJyb3I6IFQpID0+IHN0cmluZztcbiAgICBpc1JldHJ5YWJsZT86IChyZXNwb25zZTogUmVzcG9uc2UsIGVycm9yPzogVCkgPT4gYm9vbGVhbjtcbiAgfSk6IFJlc3BvbnNlSGFuZGxlcjxBUElDYWxsRXJyb3I+ID0+XG4gIGFzeW5jICh7IHJlc3BvbnNlLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzIH0pID0+IHtcbiAgICBjb25zdCByZXNwb25zZUJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG5cbiAgICAvLyBTb21lIHByb3ZpZGVycyByZXR1cm4gYW4gZW1wdHkgcmVzcG9uc2UgYm9keSBmb3Igc29tZSBlcnJvcnM6XG4gICAgaWYgKHJlc3BvbnNlQm9keS50cmltKCkgPT09ICcnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgICAgICBpc1JldHJ5YWJsZTogaXNSZXRyeWFibGU/LihyZXNwb25zZSksXG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyByZXNpbGllbnQgcGFyc2luZyBpbiBjYXNlIHRoZSByZXNwb25zZSBpcyBub3QgSlNPTiBvciBkb2VzIG5vdCBtYXRjaCB0aGUgc2NoZW1hOlxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJzZWRFcnJvciA9IGF3YWl0IHBhcnNlSlNPTih7XG4gICAgICAgIHRleHQ6IHJlc3BvbnNlQm9keSxcbiAgICAgICAgc2NoZW1hOiBlcnJvclNjaGVtYSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvclRvTWVzc2FnZShwYXJzZWRFcnJvciksXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgICAgIGRhdGE6IHBhcnNlZEVycm9yLFxuICAgICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZT8uKHJlc3BvbnNlLCBwYXJzZWRFcnJvciksXG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgICAgICBpc1JldHJ5YWJsZTogaXNSZXRyeWFibGU/LihyZXNwb25zZSksXG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFdmVudFNvdXJjZVJlc3BvbnNlSGFuZGxlciA9XG4gIDxUPihcbiAgICBjaHVua1NjaGVtYTogWm9kVHlwZTxUPixcbiAgKTogUmVzcG9uc2VIYW5kbGVyPFJlYWRhYmxlU3RyZWFtPFBhcnNlUmVzdWx0PFQ+Pj4gPT5cbiAgYXN5bmMgKHsgcmVzcG9uc2UgfTogeyByZXNwb25zZTogUmVzcG9uc2UgfSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuXG4gICAgaWYgKHJlc3BvbnNlLmJvZHkgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVtcHR5UmVzcG9uc2VCb2R5RXJyb3Ioe30pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogcGFyc2VKc29uRXZlbnRTdHJlYW0oe1xuICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgIHNjaGVtYTogY2h1bmtTY2hlbWEsXG4gICAgICB9KSxcbiAgICB9O1xuICB9O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlSnNvblN0cmVhbVJlc3BvbnNlSGFuZGxlciA9XG4gIDxUPihcbiAgICBjaHVua1NjaGVtYTogWm9kVHlwZTxUPixcbiAgKTogUmVzcG9uc2VIYW5kbGVyPFJlYWRhYmxlU3RyZWFtPFBhcnNlUmVzdWx0PFQ+Pj4gPT5cbiAgYXN5bmMgKHsgcmVzcG9uc2UgfTogeyByZXNwb25zZTogUmVzcG9uc2UgfSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuXG4gICAgaWYgKHJlc3BvbnNlLmJvZHkgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVtcHR5UmVzcG9uc2VCb2R5RXJyb3Ioe30pO1xuICAgIH1cblxuICAgIGxldCBidWZmZXIgPSAnJztcblxuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogcmVzcG9uc2UuYm9keS5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSkucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08c3RyaW5nLCBQYXJzZVJlc3VsdDxUPj4oe1xuICAgICAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVua1RleHQsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGlmIChjaHVua1RleHQuZW5kc1dpdGgoJ1xcbicpKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICBhd2FpdCBzYWZlUGFyc2VKU09OKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGJ1ZmZlciArIGNodW5rVGV4dCxcbiAgICAgICAgICAgICAgICAgIHNjaGVtYTogY2h1bmtTY2hlbWEsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnVmZmVyICs9IGNodW5rVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgfTtcbiAgfTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIgPVxuICA8VD4ocmVzcG9uc2VTY2hlbWE6IFpvZFR5cGU8VD4pOiBSZXNwb25zZUhhbmRsZXI8VD4gPT5cbiAgYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcblxuICAgIGNvbnN0IHBhcnNlZFJlc3VsdCA9IGF3YWl0IHNhZmVQYXJzZUpTT04oe1xuICAgICAgdGV4dDogcmVzcG9uc2VCb2R5LFxuICAgICAgc2NoZW1hOiByZXNwb25zZVNjaGVtYSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuXG4gICAgaWYgKCFwYXJzZWRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIEpTT04gcmVzcG9uc2UnLFxuICAgICAgICBjYXVzZTogcGFyc2VkUmVzdWx0LmVycm9yLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBwYXJzZWRSZXN1bHQudmFsdWUsXG4gICAgICByYXdWYWx1ZTogcGFyc2VkUmVzdWx0LnJhd1ZhbHVlLFxuICAgIH07XG4gIH07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVCaW5hcnlSZXNwb25zZUhhbmRsZXIgPVxuICAoKTogUmVzcG9uc2VIYW5kbGVyPFVpbnQ4QXJyYXk+ID0+XG4gIGFzeW5jICh7IHJlc3BvbnNlLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzIH0pID0+IHtcbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcblxuICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6ICdSZXNwb25zZSBib2R5IGlzIGVtcHR5JyxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlQm9keTogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHZhbHVlOiBuZXcgVWludDhBcnJheShidWZmZXIpLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gcmVhZCByZXNwb25zZSBhcyBhcnJheSBidWZmZXInLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVzcG9uc2VCb2R5OiB1bmRlZmluZWQsXG4gICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVN0YXR1c0NvZGVFcnJvclJlc3BvbnNlSGFuZGxlciA9XG4gICgpOiBSZXNwb25zZUhhbmRsZXI8QVBJQ2FsbEVycm9yPiA9PlxuICBhc3luYyAoeyByZXNwb25zZSwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlcyB9KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gICAgY29uc3QgcmVzcG9uc2VCb2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogcmVxdWVzdEJvZHlWYWx1ZXMgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICB9KSxcbiAgICB9O1xuICB9O1xuIiwgImltcG9ydCB7IEpTT05TY2hlbWE3IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgKiBhcyB6MyBmcm9tICd6b2QvdjMnO1xuaW1wb3J0ICogYXMgejQgZnJvbSAnem9kL3Y0JztcbmltcG9ydCB6b2RUb0pzb25TY2hlbWEgZnJvbSAnLi96b2QtdG8tanNvbi1zY2hlbWEnO1xuaW1wb3J0IHsganNvblNjaGVtYSwgU2NoZW1hIH0gZnJvbSAnLi9zY2hlbWEnO1xuXG5leHBvcnQgZnVuY3Rpb24gem9kM1NjaGVtYTxPQkpFQ1Q+KFxuICB6b2RTY2hlbWE6IHozLlNjaGVtYTxPQkpFQ1QsIHozLlpvZFR5cGVEZWYsIGFueT4sXG4gIG9wdGlvbnM/OiB7XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBzdXBwb3J0IGZvciByZWZlcmVuY2VzIGluIHRoZSBzY2hlbWEuXG4gICAgICogVGhpcyBpcyByZXF1aXJlZCBmb3IgcmVjdXJzaXZlIHNjaGVtYXMsIGUuZy4gd2l0aCBgei5sYXp5YC5cbiAgICAgKiBIb3dldmVyLCBub3QgYWxsIGxhbmd1YWdlIG1vZGVscyBhbmQgcHJvdmlkZXJzIHN1cHBvcnQgc3VjaCByZWZlcmVuY2VzLlxuICAgICAqIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gICAgICovXG4gICAgdXNlUmVmZXJlbmNlcz86IGJvb2xlYW47XG4gIH0sXG4pOiBTY2hlbWE8T0JKRUNUPiB7XG4gIC8vIGRlZmF1bHQgdG8gbm8gcmVmZXJlbmNlcyAodG8gc3VwcG9ydCBvcGVuYXBpIGNvbnZlcnNpb24gZm9yIGdvb2dsZSlcbiAgY29uc3QgdXNlUmVmZXJlbmNlcyA9IG9wdGlvbnM/LnVzZVJlZmVyZW5jZXMgPz8gZmFsc2U7XG5cbiAgcmV0dXJuIGpzb25TY2hlbWEoXG4gICAgem9kVG9Kc29uU2NoZW1hKHpvZFNjaGVtYSwge1xuICAgICAgJHJlZlN0cmF0ZWd5OiB1c2VSZWZlcmVuY2VzID8gJ3Jvb3QnIDogJ25vbmUnLFxuICAgIH0pIGFzIEpTT05TY2hlbWE3LFxuICAgIHtcbiAgICAgIHZhbGlkYXRlOiBhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHpvZFNjaGVtYS5zYWZlUGFyc2VBc3luYyh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuc3VjY2Vzc1xuICAgICAgICAgID8geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0LmRhdGEgfVxuICAgICAgICAgIDogeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlc3VsdC5lcnJvciB9O1xuICAgICAgfSxcbiAgICB9LFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gem9kNFNjaGVtYTxPQkpFQ1Q+KFxuICB6b2RTY2hlbWE6IHo0LmNvcmUuJFpvZFR5cGU8T0JKRUNULCBhbnk+LFxuICBvcHRpb25zPzoge1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgc3VwcG9ydCBmb3IgcmVmZXJlbmNlcyBpbiB0aGUgc2NoZW1hLlxuICAgICAqIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHJlY3Vyc2l2ZSBzY2hlbWFzLCBlLmcuIHdpdGggYHoubGF6eWAuXG4gICAgICogSG93ZXZlciwgbm90IGFsbCBsYW5ndWFnZSBtb2RlbHMgYW5kIHByb3ZpZGVycyBzdXBwb3J0IHN1Y2ggcmVmZXJlbmNlcy5cbiAgICAgKiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICAgICAqL1xuICAgIHVzZVJlZmVyZW5jZXM/OiBib29sZWFuO1xuICB9LFxuKTogU2NoZW1hPE9CSkVDVD4ge1xuICAvLyBkZWZhdWx0IHRvIG5vIHJlZmVyZW5jZXMgKHRvIHN1cHBvcnQgb3BlbmFwaSBjb252ZXJzaW9uIGZvciBnb29nbGUpXG4gIGNvbnN0IHVzZVJlZmVyZW5jZXMgPSBvcHRpb25zPy51c2VSZWZlcmVuY2VzID8/IGZhbHNlO1xuXG4gIGNvbnN0IHo0SlNPTlNjaGVtYSA9IHo0LnRvSlNPTlNjaGVtYSh6b2RTY2hlbWEsIHtcbiAgICB0YXJnZXQ6ICdkcmFmdC03JyxcbiAgICBpbzogJ291dHB1dCcsXG4gICAgcmV1c2VkOiB1c2VSZWZlcmVuY2VzID8gJ3JlZicgOiAnaW5saW5lJyxcbiAgfSkgYXMgSlNPTlNjaGVtYTc7XG5cbiAgcmV0dXJuIGpzb25TY2hlbWEoejRKU09OU2NoZW1hLCB7XG4gICAgdmFsaWRhdGU6IGFzeW5jIHZhbHVlID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHo0LnNhZmVQYXJzZUFzeW5jKHpvZFNjaGVtYSwgdmFsdWUpO1xuICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzXG4gICAgICAgID8geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0LmRhdGEgfVxuICAgICAgICA6IHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiByZXN1bHQuZXJyb3IgfTtcbiAgICB9LFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzWm9kNFNjaGVtYShcbiAgem9kU2NoZW1hOiB6NC5jb3JlLiRab2RUeXBlPGFueSwgYW55PiB8IHozLlNjaGVtYTxhbnksIHozLlpvZFR5cGVEZWYsIGFueT4sXG4pOiB6b2RTY2hlbWEgaXMgejQuY29yZS4kWm9kVHlwZTxhbnksIGFueT4ge1xuICAvLyBodHRwczovL3pvZC5kZXYvbGlicmFyeS1hdXRob3JzP2lkPWhvdy10by1zdXBwb3J0LXpvZC0zLWFuZC16b2QtNC1zaW11bHRhbmVvdXNseVxuICByZXR1cm4gJ196b2QnIGluIHpvZFNjaGVtYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHpvZFNjaGVtYTxPQkpFQ1Q+KFxuICB6b2RTY2hlbWE6XG4gICAgfCB6NC5jb3JlLiRab2RUeXBlPE9CSkVDVCwgYW55PlxuICAgIHwgejMuU2NoZW1hPE9CSkVDVCwgejMuWm9kVHlwZURlZiwgYW55PixcbiAgb3B0aW9ucz86IHtcbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHN1cHBvcnQgZm9yIHJlZmVyZW5jZXMgaW4gdGhlIHNjaGVtYS5cbiAgICAgKiBUaGlzIGlzIHJlcXVpcmVkIGZvciByZWN1cnNpdmUgc2NoZW1hcywgZS5nLiB3aXRoIGB6LmxhenlgLlxuICAgICAqIEhvd2V2ZXIsIG5vdCBhbGwgbGFuZ3VhZ2UgbW9kZWxzIGFuZCBwcm92aWRlcnMgc3VwcG9ydCBzdWNoIHJlZmVyZW5jZXMuXG4gICAgICogRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAgICAgKi9cbiAgICB1c2VSZWZlcmVuY2VzPzogYm9vbGVhbjtcbiAgfSxcbik6IFNjaGVtYTxPQkpFQ1Q+IHtcbiAgaWYgKGlzWm9kNFNjaGVtYSh6b2RTY2hlbWEpKSB7XG4gICAgcmV0dXJuIHpvZDRTY2hlbWEoem9kU2NoZW1hLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gem9kM1NjaGVtYSh6b2RTY2hlbWEsIG9wdGlvbnMpO1xuICB9XG59XG4iLCAiZXhwb3J0IGNvbnN0IGdldFJlbGF0aXZlUGF0aCA9IChwYXRoQTogc3RyaW5nW10sIHBhdGhCOiBzdHJpbmdbXSkgPT4ge1xuICBsZXQgaSA9IDA7XG4gIGZvciAoOyBpIDwgcGF0aEEubGVuZ3RoICYmIGkgPCBwYXRoQi5sZW5ndGg7IGkrKykge1xuICAgIGlmIChwYXRoQVtpXSAhPT0gcGF0aEJbaV0pIGJyZWFrO1xuICB9XG4gIHJldHVybiBbKHBhdGhBLmxlbmd0aCAtIGkpLnRvU3RyaW5nKCksIC4uLnBhdGhCLnNsaWNlKGkpXS5qb2luKCcvJyk7XG59O1xuIiwgImltcG9ydCB7IFpvZFNjaGVtYSwgWm9kVHlwZURlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBSZWZzLCBTZWVuIH0gZnJvbSAnLi9yZWZzJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4vcGFyc2UtdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBEYXRlU3RyYXRlZ3kgPVxuICB8ICdmb3JtYXQ6ZGF0ZS10aW1lJ1xuICB8ICdmb3JtYXQ6ZGF0ZSdcbiAgfCAnc3RyaW5nJ1xuICB8ICdpbnRlZ2VyJztcblxuZXhwb3J0IGNvbnN0IGlnbm9yZU92ZXJyaWRlID0gU3ltYm9sKFxuICAnTGV0IHpvZFRvSnNvblNjaGVtYSBkZWNpZGUgb24gd2hpY2ggcGFyc2VyIHRvIHVzZScsXG4pO1xuXG5leHBvcnQgdHlwZSBPdmVycmlkZUNhbGxiYWNrID0gKFxuICBkZWY6IFpvZFR5cGVEZWYsXG4gIHJlZnM6IFJlZnMsXG4gIHNlZW46IFNlZW4gfCB1bmRlZmluZWQsXG4gIGZvcmNlUmVzb2x1dGlvbj86IGJvb2xlYW4sXG4pID0+IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCB8IHR5cGVvZiBpZ25vcmVPdmVycmlkZTtcblxuZXhwb3J0IHR5cGUgUG9zdFByb2Nlc3NDYWxsYmFjayA9IChcbiAganNvblNjaGVtYTogSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkLFxuICBkZWY6IFpvZFR5cGVEZWYsXG4gIHJlZnM6IFJlZnMsXG4pID0+IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IGpzb25EZXNjcmlwdGlvbjogUG9zdFByb2Nlc3NDYWxsYmFjayA9IChqc29uU2NoZW1hLCBkZWYpID0+IHtcbiAgaWYgKGRlZi5kZXNjcmlwdGlvbikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5qc29uU2NoZW1hLFxuICAgICAgICAuLi5KU09OLnBhcnNlKGRlZi5kZXNjcmlwdGlvbiksXG4gICAgICB9O1xuICAgIH0gY2F0Y2gge31cbiAgfVxuXG4gIHJldHVybiBqc29uU2NoZW1hO1xufTtcblxuZXhwb3J0IHR5cGUgT3B0aW9ucyA9IHtcbiAgbmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAkcmVmU3RyYXRlZ3k6ICdyb290JyB8ICdyZWxhdGl2ZScgfCAnbm9uZScgfCAnc2Vlbic7XG4gIGJhc2VQYXRoOiBzdHJpbmdbXTtcbiAgZWZmZWN0U3RyYXRlZ3k6ICdpbnB1dCcgfCAnYW55JztcbiAgcGlwZVN0cmF0ZWd5OiAnaW5wdXQnIHwgJ291dHB1dCcgfCAnYWxsJztcbiAgZGF0ZVN0cmF0ZWd5OiBEYXRlU3RyYXRlZ3kgfCBEYXRlU3RyYXRlZ3lbXTtcbiAgbWFwU3RyYXRlZ3k6ICdlbnRyaWVzJyB8ICdyZWNvcmQnO1xuICByZW1vdmVBZGRpdGlvbmFsU3RyYXRlZ3k6ICdwYXNzdGhyb3VnaCcgfCAnc3RyaWN0JztcbiAgYWxsb3dlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzOiB0cnVlIHwgdW5kZWZpbmVkO1xuICByZWplY3RlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSB8IHVuZGVmaW5lZDtcbiAgc3RyaWN0VW5pb25zOiBib29sZWFuO1xuICBkZWZpbml0aW9uUGF0aDogc3RyaW5nO1xuICBkZWZpbml0aW9uczogUmVjb3JkPHN0cmluZywgWm9kU2NoZW1hPjtcbiAgZXJyb3JNZXNzYWdlczogYm9vbGVhbjtcbiAgcGF0dGVyblN0cmF0ZWd5OiAnZXNjYXBlJyB8ICdwcmVzZXJ2ZSc7XG4gIGFwcGx5UmVnZXhGbGFnczogYm9vbGVhbjtcbiAgZW1haWxTdHJhdGVneTogJ2Zvcm1hdDplbWFpbCcgfCAnZm9ybWF0Omlkbi1lbWFpbCcgfCAncGF0dGVybjp6b2QnO1xuICBiYXNlNjRTdHJhdGVneTogJ2Zvcm1hdDpiaW5hcnknIHwgJ2NvbnRlbnRFbmNvZGluZzpiYXNlNjQnIHwgJ3BhdHRlcm46em9kJztcbiAgbmFtZVN0cmF0ZWd5OiAncmVmJyB8ICd0aXRsZSc7XG4gIG92ZXJyaWRlPzogT3ZlcnJpZGVDYWxsYmFjaztcbiAgcG9zdFByb2Nlc3M/OiBQb3N0UHJvY2Vzc0NhbGxiYWNrO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRPcHRpb25zOiBPcHRpb25zID0ge1xuICBuYW1lOiB1bmRlZmluZWQsXG4gICRyZWZTdHJhdGVneTogJ3Jvb3QnLFxuICBiYXNlUGF0aDogWycjJ10sXG4gIGVmZmVjdFN0cmF0ZWd5OiAnaW5wdXQnLFxuICBwaXBlU3RyYXRlZ3k6ICdhbGwnLFxuICBkYXRlU3RyYXRlZ3k6ICdmb3JtYXQ6ZGF0ZS10aW1lJyxcbiAgbWFwU3RyYXRlZ3k6ICdlbnRyaWVzJyxcbiAgcmVtb3ZlQWRkaXRpb25hbFN0cmF0ZWd5OiAncGFzc3Rocm91Z2gnLFxuICBhbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXM6IHRydWUsXG4gIHJlamVjdGVkQWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICBkZWZpbml0aW9uUGF0aDogJ2RlZmluaXRpb25zJyxcbiAgc3RyaWN0VW5pb25zOiBmYWxzZSxcbiAgZGVmaW5pdGlvbnM6IHt9LFxuICBlcnJvck1lc3NhZ2VzOiBmYWxzZSxcbiAgcGF0dGVyblN0cmF0ZWd5OiAnZXNjYXBlJyxcbiAgYXBwbHlSZWdleEZsYWdzOiBmYWxzZSxcbiAgZW1haWxTdHJhdGVneTogJ2Zvcm1hdDplbWFpbCcsXG4gIGJhc2U2NFN0cmF0ZWd5OiAnY29udGVudEVuY29kaW5nOmJhc2U2NCcsXG4gIG5hbWVTdHJhdGVneTogJ3JlZicsXG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdE9wdGlvbnMgPSAoXG4gIG9wdGlvbnM6IFBhcnRpYWw8T3B0aW9ucz4gfCBzdHJpbmcgfCB1bmRlZmluZWQsXG4pID0+XG4gICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZydcbiAgICA/IHtcbiAgICAgICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAgIG5hbWU6IG9wdGlvbnMsXG4gICAgICB9XG4gICAgOiB7XG4gICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgfSkgYXMgT3B0aW9ucztcbiIsICJpbXBvcnQgeyBab2RGaXJzdFBhcnR5VHlwZUtpbmQgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tICcuL3BhcnNlcnMvYW55JztcbmltcG9ydCB7IHBhcnNlQXJyYXlEZWYgfSBmcm9tICcuL3BhcnNlcnMvYXJyYXknO1xuaW1wb3J0IHsgcGFyc2VCaWdpbnREZWYgfSBmcm9tICcuL3BhcnNlcnMvYmlnaW50JztcbmltcG9ydCB7IHBhcnNlQm9vbGVhbkRlZiB9IGZyb20gJy4vcGFyc2Vycy9ib29sZWFuJztcbmltcG9ydCB7IHBhcnNlQnJhbmRlZERlZiB9IGZyb20gJy4vcGFyc2Vycy9icmFuZGVkJztcbmltcG9ydCB7IHBhcnNlQ2F0Y2hEZWYgfSBmcm9tICcuL3BhcnNlcnMvY2F0Y2gnO1xuaW1wb3J0IHsgcGFyc2VEYXRlRGVmIH0gZnJvbSAnLi9wYXJzZXJzL2RhdGUnO1xuaW1wb3J0IHsgcGFyc2VEZWZhdWx0RGVmIH0gZnJvbSAnLi9wYXJzZXJzL2RlZmF1bHQnO1xuaW1wb3J0IHsgcGFyc2VFZmZlY3RzRGVmIH0gZnJvbSAnLi9wYXJzZXJzL2VmZmVjdHMnO1xuaW1wb3J0IHsgcGFyc2VFbnVtRGVmIH0gZnJvbSAnLi9wYXJzZXJzL2VudW0nO1xuaW1wb3J0IHsgcGFyc2VJbnRlcnNlY3Rpb25EZWYgfSBmcm9tICcuL3BhcnNlcnMvaW50ZXJzZWN0aW9uJztcbmltcG9ydCB7IHBhcnNlTGl0ZXJhbERlZiB9IGZyb20gJy4vcGFyc2Vycy9saXRlcmFsJztcbmltcG9ydCB7IHBhcnNlTWFwRGVmIH0gZnJvbSAnLi9wYXJzZXJzL21hcCc7XG5pbXBvcnQgeyBwYXJzZU5hdGl2ZUVudW1EZWYgfSBmcm9tICcuL3BhcnNlcnMvbmF0aXZlLWVudW0nO1xuaW1wb3J0IHsgcGFyc2VOZXZlckRlZiB9IGZyb20gJy4vcGFyc2Vycy9uZXZlcic7XG5pbXBvcnQgeyBwYXJzZU51bGxEZWYgfSBmcm9tICcuL3BhcnNlcnMvbnVsbCc7XG5pbXBvcnQgeyBwYXJzZU51bGxhYmxlRGVmIH0gZnJvbSAnLi9wYXJzZXJzL251bGxhYmxlJztcbmltcG9ydCB7IHBhcnNlTnVtYmVyRGVmIH0gZnJvbSAnLi9wYXJzZXJzL251bWJlcic7XG5pbXBvcnQgeyBwYXJzZU9iamVjdERlZiB9IGZyb20gJy4vcGFyc2Vycy9vYmplY3QnO1xuaW1wb3J0IHsgcGFyc2VPcHRpb25hbERlZiB9IGZyb20gJy4vcGFyc2Vycy9vcHRpb25hbCc7XG5pbXBvcnQgeyBwYXJzZVBpcGVsaW5lRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3BpcGVsaW5lJztcbmltcG9ydCB7IHBhcnNlUHJvbWlzZURlZiB9IGZyb20gJy4vcGFyc2Vycy9wcm9taXNlJztcbmltcG9ydCB7IHBhcnNlUmVjb3JkRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3JlY29yZCc7XG5pbXBvcnQgeyBwYXJzZVNldERlZiB9IGZyb20gJy4vcGFyc2Vycy9zZXQnO1xuaW1wb3J0IHsgcGFyc2VTdHJpbmdEZWYgfSBmcm9tICcuL3BhcnNlcnMvc3RyaW5nJztcbmltcG9ydCB7IHBhcnNlVHVwbGVEZWYgfSBmcm9tICcuL3BhcnNlcnMvdHVwbGUnO1xuaW1wb3J0IHsgcGFyc2VVbmRlZmluZWREZWYgfSBmcm9tICcuL3BhcnNlcnMvdW5kZWZpbmVkJztcbmltcG9ydCB7IHBhcnNlVW5pb25EZWYgfSBmcm9tICcuL3BhcnNlcnMvdW5pb24nO1xuaW1wb3J0IHsgcGFyc2VVbmtub3duRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3Vua25vd24nO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4vcmVmcyc7XG5pbXBvcnQgeyBwYXJzZVJlYWRvbmx5RGVmIH0gZnJvbSAnLi9wYXJzZXJzL3JlYWRvbmx5JztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4vcGFyc2UtdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBJbm5lckRlZkdldHRlciA9ICgpID0+IGFueTtcblxuZXhwb3J0IGNvbnN0IHNlbGVjdFBhcnNlciA9IChcbiAgZGVmOiBhbnksXG4gIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQgfCBJbm5lckRlZkdldHRlciA9PiB7XG4gIHN3aXRjaCAodHlwZU5hbWUpIHtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmc6XG4gICAgICByZXR1cm4gcGFyc2VTdHJpbmdEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXI6XG4gICAgICByZXR1cm4gcGFyc2VOdW1iZXJEZWYoZGVmKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3Q6XG4gICAgICByZXR1cm4gcGFyc2VPYmplY3REZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCaWdJbnQ6XG4gICAgICByZXR1cm4gcGFyc2VCaWdpbnREZWYoZGVmKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCb29sZWFuOlxuICAgICAgcmV0dXJuIHBhcnNlQm9vbGVhbkRlZigpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGU6XG4gICAgICByZXR1cm4gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkOlxuICAgICAgcmV0dXJuIHBhcnNlVW5kZWZpbmVkRGVmKCk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbDpcbiAgICAgIHJldHVybiBwYXJzZU51bGxEZWYoKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheTpcbiAgICAgIHJldHVybiBwYXJzZUFycmF5RGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb246XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uOlxuICAgICAgcmV0dXJuIHBhcnNlVW5pb25EZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb246XG4gICAgICByZXR1cm4gcGFyc2VJbnRlcnNlY3Rpb25EZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZTpcbiAgICAgIHJldHVybiBwYXJzZVR1cGxlRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkOlxuICAgICAgcmV0dXJuIHBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbDpcbiAgICAgIHJldHVybiBwYXJzZUxpdGVyYWxEZWYoZGVmKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtOlxuICAgICAgcmV0dXJuIHBhcnNlRW51bURlZihkZWYpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW06XG4gICAgICByZXR1cm4gcGFyc2VOYXRpdmVFbnVtRGVmKGRlZik7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbGFibGU6XG4gICAgICByZXR1cm4gcGFyc2VOdWxsYWJsZURlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsOlxuICAgICAgcmV0dXJuIHBhcnNlT3B0aW9uYWxEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXA6XG4gICAgICByZXR1cm4gcGFyc2VNYXBEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQ6XG4gICAgICByZXR1cm4gcGFyc2VTZXREZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5OlxuICAgICAgcmV0dXJuICgpID0+IChkZWYgYXMgYW55KS5nZXR0ZXIoKS5fZGVmO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2U6XG4gICAgICByZXR1cm4gcGFyc2VQcm9taXNlRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOOlxuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyOlxuICAgICAgcmV0dXJuIHBhcnNlTmV2ZXJEZWYoKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzOlxuICAgICAgcmV0dXJuIHBhcnNlRWZmZWN0c0RlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueTpcbiAgICAgIHJldHVybiBwYXJzZUFueURlZigpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd246XG4gICAgICByZXR1cm4gcGFyc2VVbmtub3duRGVmKCk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdDpcbiAgICAgIHJldHVybiBwYXJzZURlZmF1bHREZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkOlxuICAgICAgcmV0dXJuIHBhcnNlQnJhbmRlZERlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlYWRvbmx5OlxuICAgICAgcmV0dXJuIHBhcnNlUmVhZG9ubHlEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaDpcbiAgICAgIHJldHVybiBwYXJzZUNhdGNoRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmU6XG4gICAgICByZXR1cm4gcGFyc2VQaXBlbGluZURlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uOlxuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQ6XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sOlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBkZWZhdWx0OlxuICAgICAgLyogYzggaWdub3JlIG5leHQgKi9cbiAgICAgIHJldHVybiAoKF86IG5ldmVyKSA9PiB1bmRlZmluZWQpKHR5cGVOYW1lKTtcbiAgfVxufTtcbiIsICJleHBvcnQgdHlwZSBKc29uU2NoZW1hN0FueVR5cGUgPSB7ICRyZWY/OiBzdHJpbmcgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQW55RGVmKCk6IEpzb25TY2hlbWE3QW55VHlwZSB7XG4gIHJldHVybiB7fTtcbn1cbiIsICJpbXBvcnQgeyBab2RBcnJheURlZiwgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdBcnJheVR5cGUgPSB7XG4gIHR5cGU6ICdhcnJheSc7XG4gIGl0ZW1zPzogSnNvblNjaGVtYTdUeXBlO1xuICBtaW5JdGVtcz86IG51bWJlcjtcbiAgbWF4SXRlbXM/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBcnJheURlZihkZWY6IFpvZEFycmF5RGVmLCByZWZzOiBSZWZzKSB7XG4gIGNvbnN0IHJlczogSnNvblNjaGVtYTdBcnJheVR5cGUgPSB7XG4gICAgdHlwZTogJ2FycmF5JyxcbiAgfTtcbiAgaWYgKFxuICAgIGRlZi50eXBlPy5fZGVmICYmXG4gICAgZGVmLnR5cGU/Ll9kZWY/LnR5cGVOYW1lICE9PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55XG4gICkge1xuICAgIHJlcy5pdGVtcyA9IHBhcnNlRGVmKGRlZi50eXBlLl9kZWYsIHtcbiAgICAgIC4uLnJlZnMsXG4gICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcyddLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGRlZi5taW5MZW5ndGgpIHtcbiAgICByZXMubWluSXRlbXMgPSBkZWYubWluTGVuZ3RoLnZhbHVlO1xuICB9XG4gIGlmIChkZWYubWF4TGVuZ3RoKSB7XG4gICAgcmVzLm1heEl0ZW1zID0gZGVmLm1heExlbmd0aC52YWx1ZTtcbiAgfVxuICBpZiAoZGVmLmV4YWN0TGVuZ3RoKSB7XG4gICAgcmVzLm1pbkl0ZW1zID0gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgIHJlcy5tYXhJdGVtcyA9IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuIiwgImltcG9ydCB7IFpvZEJpZ0ludERlZiB9IGZyb20gJ3pvZC92Myc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3QmlnaW50VHlwZSA9IHtcbiAgdHlwZTogJ2ludGVnZXInO1xuICBmb3JtYXQ6ICdpbnQ2NCc7XG4gIG1pbmltdW0/OiBCaWdJbnQ7XG4gIGV4Y2x1c2l2ZU1pbmltdW0/OiBCaWdJbnQ7XG4gIG1heGltdW0/OiBCaWdJbnQ7XG4gIGV4Y2x1c2l2ZU1heGltdW0/OiBCaWdJbnQ7XG4gIG11bHRpcGxlT2Y/OiBCaWdJbnQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VCaWdpbnREZWYoZGVmOiBab2RCaWdJbnREZWYpOiBKc29uU2NoZW1hN0JpZ2ludFR5cGUge1xuICBjb25zdCByZXM6IEpzb25TY2hlbWE3QmlnaW50VHlwZSA9IHtcbiAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgZm9ybWF0OiAnaW50NjQnLFxuICB9O1xuXG4gIGlmICghZGVmLmNoZWNrcykgcmV0dXJuIHJlcztcblxuICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICByZXMubWluaW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcy5leGNsdXNpdmVNaW5pbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtYXgnOlxuICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgcmVzLm1heGltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuZXhjbHVzaXZlTWF4aW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtdWx0aXBsZU9mJzpcbiAgICAgICAgcmVzLm11bHRpcGxlT2YgPSBjaGVjay52YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59XG4iLCAiZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdCb29sZWFuVHlwZSA9IHtcbiAgdHlwZTogJ2Jvb2xlYW4nO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQm9vbGVhbkRlZigpOiBKc29uU2NoZW1hN0Jvb2xlYW5UeXBlIHtcbiAgcmV0dXJuIHsgdHlwZTogJ2Jvb2xlYW4nIH07XG59XG4iLCAiaW1wb3J0IHsgWm9kQnJhbmRlZERlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUJyYW5kZWREZWYoX2RlZjogWm9kQnJhbmRlZERlZjxhbnk+LCByZWZzOiBSZWZzKSB7XG4gIHJldHVybiBwYXJzZURlZihfZGVmLnR5cGUuX2RlZiwgcmVmcyk7XG59XG4iLCAiaW1wb3J0IHsgWm9kQ2F0Y2hEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgY29uc3QgcGFyc2VDYXRjaERlZiA9IChkZWY6IFpvZENhdGNoRGVmPGFueT4sIHJlZnM6IFJlZnMpID0+IHtcbiAgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XG59O1xuIiwgImltcG9ydCB7IFpvZERhdGVEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgRGF0ZVN0cmF0ZWd5IH0gZnJvbSAnLi4vb3B0aW9ucyc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3RGF0ZVR5cGUgPVxuICB8IHtcbiAgICAgIHR5cGU6ICdpbnRlZ2VyJyB8ICdzdHJpbmcnO1xuICAgICAgZm9ybWF0OiAndW5peC10aW1lJyB8ICdkYXRlLXRpbWUnIHwgJ2RhdGUnO1xuICAgICAgbWluaW11bT86IG51bWJlcjtcbiAgICAgIG1heGltdW0/OiBudW1iZXI7XG4gICAgfVxuICB8IHtcbiAgICAgIGFueU9mOiBKc29uU2NoZW1hN0RhdGVUeXBlW107XG4gICAgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGF0ZURlZihcbiAgZGVmOiBab2REYXRlRGVmLFxuICByZWZzOiBSZWZzLFxuICBvdmVycmlkZURhdGVTdHJhdGVneT86IERhdGVTdHJhdGVneSxcbik6IEpzb25TY2hlbWE3RGF0ZVR5cGUge1xuICBjb25zdCBzdHJhdGVneSA9IG92ZXJyaWRlRGF0ZVN0cmF0ZWd5ID8/IHJlZnMuZGF0ZVN0cmF0ZWd5O1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHN0cmF0ZWd5KSkge1xuICAgIHJldHVybiB7XG4gICAgICBhbnlPZjogc3RyYXRlZ3kubWFwKChpdGVtLCBpKSA9PiBwYXJzZURhdGVEZWYoZGVmLCByZWZzLCBpdGVtKSksXG4gICAgfTtcbiAgfVxuXG4gIHN3aXRjaCAoc3RyYXRlZ3kpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgIGNhc2UgJ2Zvcm1hdDpkYXRlLXRpbWUnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGZvcm1hdDogJ2RhdGUtdGltZScsXG4gICAgICB9O1xuICAgIGNhc2UgJ2Zvcm1hdDpkYXRlJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICBmb3JtYXQ6ICdkYXRlJyxcbiAgICAgIH07XG4gICAgY2FzZSAnaW50ZWdlcic6XG4gICAgICByZXR1cm4gaW50ZWdlckRhdGVQYXJzZXIoZGVmKTtcbiAgfVxufVxuXG5jb25zdCBpbnRlZ2VyRGF0ZVBhcnNlciA9IChkZWY6IFpvZERhdGVEZWYpID0+IHtcbiAgY29uc3QgcmVzOiBKc29uU2NoZW1hN0RhdGVUeXBlID0ge1xuICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICBmb3JtYXQ6ICd1bml4LXRpbWUnLFxuICB9O1xuXG4gIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgY2FzZSAnbWluJzpcbiAgICAgICAgcmVzLm1pbmltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtYXgnOlxuICAgICAgICByZXMubWF4aW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufTtcbiIsICJpbXBvcnQgeyBab2REZWZhdWx0RGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGVmYXVsdERlZihcbiAgX2RlZjogWm9kRGVmYXVsdERlZixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3VHlwZSAmIHsgZGVmYXVsdDogYW55IH0ge1xuICByZXR1cm4ge1xuICAgIC4uLnBhcnNlRGVmKF9kZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpLFxuICAgIGRlZmF1bHQ6IF9kZWYuZGVmYXVsdFZhbHVlKCksXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgWm9kRWZmZWN0c0RlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gJy4vYW55JztcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRWZmZWN0c0RlZihcbiAgX2RlZjogWm9kRWZmZWN0c0RlZixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiByZWZzLmVmZmVjdFN0cmF0ZWd5ID09PSAnaW5wdXQnXG4gICAgPyBwYXJzZURlZihfZGVmLnNjaGVtYS5fZGVmLCByZWZzKVxuICAgIDogcGFyc2VBbnlEZWYoKTtcbn1cbiIsICJpbXBvcnQgeyBab2RFbnVtRGVmIH0gZnJvbSAnem9kL3YzJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdFbnVtVHlwZSA9IHtcbiAgdHlwZTogJ3N0cmluZyc7XG4gIGVudW06IHN0cmluZ1tdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRW51bURlZihkZWY6IFpvZEVudW1EZWYpOiBKc29uU2NoZW1hN0VudW1UeXBlIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBlbnVtOiBBcnJheS5mcm9tKGRlZi52YWx1ZXMpLFxuICB9O1xufVxuIiwgImltcG9ydCB7IFpvZEludGVyc2VjdGlvbkRlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1N0cmluZ1R5cGUgfSBmcm9tICcuL3N0cmluZyc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3QWxsT2ZUeXBlID0ge1xuICBhbGxPZjogSnNvblNjaGVtYTdUeXBlW107XG4gIHVuZXZhbHVhdGVkUHJvcGVydGllcz86IGJvb2xlYW47XG59O1xuXG5jb25zdCBpc0pzb25TY2hlbWE3QWxsT2ZUeXBlID0gKFxuICB0eXBlOiBKc29uU2NoZW1hN1R5cGUgfCBKc29uU2NoZW1hN1N0cmluZ1R5cGUsXG4pOiB0eXBlIGlzIEpzb25TY2hlbWE3QWxsT2ZUeXBlID0+IHtcbiAgaWYgKCd0eXBlJyBpbiB0eXBlICYmIHR5cGUudHlwZSA9PT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuICdhbGxPZicgaW4gdHlwZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUludGVyc2VjdGlvbkRlZihcbiAgZGVmOiBab2RJbnRlcnNlY3Rpb25EZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN0FsbE9mVHlwZSB8IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGFsbE9mID0gW1xuICAgIHBhcnNlRGVmKGRlZi5sZWZ0Ll9kZWYsIHtcbiAgICAgIC4uLnJlZnMsXG4gICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbGxPZicsICcwJ10sXG4gICAgfSksXG4gICAgcGFyc2VEZWYoZGVmLnJpZ2h0Ll9kZWYsIHtcbiAgICAgIC4uLnJlZnMsXG4gICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbGxPZicsICcxJ10sXG4gICAgfSksXG4gIF0uZmlsdGVyKCh4KTogeCBpcyBKc29uU2NoZW1hN1R5cGUgPT4gISF4KTtcblxuICBjb25zdCBtZXJnZWRBbGxPZjogSnNvblNjaGVtYTdUeXBlW10gPSBbXTtcbiAgLy8gSWYgZWl0aGVyIG9mIHRoZSBzY2hlbWFzIGlzIGFuIGFsbE9mLCBtZXJnZSB0aGVtIGludG8gYSBzaW5nbGUgYWxsT2ZcbiAgYWxsT2YuZm9yRWFjaChzY2hlbWEgPT4ge1xuICAgIGlmIChpc0pzb25TY2hlbWE3QWxsT2ZUeXBlKHNjaGVtYSkpIHtcbiAgICAgIG1lcmdlZEFsbE9mLnB1c2goLi4uc2NoZW1hLmFsbE9mKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG5lc3RlZFNjaGVtYTogSnNvblNjaGVtYTdUeXBlID0gc2NoZW1hO1xuICAgICAgaWYgKFxuICAgICAgICAnYWRkaXRpb25hbFByb3BlcnRpZXMnIGluIHNjaGVtYSAmJlxuICAgICAgICBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgeyBhZGRpdGlvbmFsUHJvcGVydGllcywgLi4ucmVzdCB9ID0gc2NoZW1hO1xuICAgICAgICBuZXN0ZWRTY2hlbWEgPSByZXN0O1xuICAgICAgfVxuICAgICAgbWVyZ2VkQWxsT2YucHVzaChuZXN0ZWRTY2hlbWEpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBtZXJnZWRBbGxPZi5sZW5ndGggPyB7IGFsbE9mOiBtZXJnZWRBbGxPZiB9IDogdW5kZWZpbmVkO1xufVxuIiwgImltcG9ydCB7IFpvZExpdGVyYWxEZWYgfSBmcm9tICd6b2QvdjMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN0xpdGVyYWxUeXBlID1cbiAgfCB7XG4gICAgICB0eXBlOiAnc3RyaW5nJyB8ICdudW1iZXInIHwgJ2ludGVnZXInIHwgJ2Jvb2xlYW4nO1xuICAgICAgY29uc3Q6IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW47XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdvYmplY3QnIHwgJ2FycmF5JztcbiAgICB9O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VMaXRlcmFsRGVmKGRlZjogWm9kTGl0ZXJhbERlZik6IEpzb25TY2hlbWE3TGl0ZXJhbFR5cGUge1xuICBjb25zdCBwYXJzZWRUeXBlID0gdHlwZW9mIGRlZi52YWx1ZTtcbiAgaWYgKFxuICAgIHBhcnNlZFR5cGUgIT09ICdiaWdpbnQnICYmXG4gICAgcGFyc2VkVHlwZSAhPT0gJ251bWJlcicgJiZcbiAgICBwYXJzZWRUeXBlICE9PSAnYm9vbGVhbicgJiZcbiAgICBwYXJzZWRUeXBlICE9PSAnc3RyaW5nJ1xuICApIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogQXJyYXkuaXNBcnJheShkZWYudmFsdWUpID8gJ2FycmF5JyA6ICdvYmplY3QnLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHR5cGU6IHBhcnNlZFR5cGUgPT09ICdiaWdpbnQnID8gJ2ludGVnZXInIDogcGFyc2VkVHlwZSxcbiAgICBjb25zdDogZGVmLnZhbHVlLFxuICB9O1xufVxuIiwgImltcG9ydCB7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZCxcbiAgWm9kTWFwRGVmLFxuICBab2RSZWNvcmREZWYsXG4gIFpvZFR5cGVBbnksXG59IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5pbXBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfSBmcm9tICcuL2JyYW5kZWQnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdFbnVtVHlwZSB9IGZyb20gJy4vZW51bSc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1N0cmluZ1R5cGUsIHBhcnNlU3RyaW5nRGVmIH0gZnJvbSAnLi9zdHJpbmcnO1xuXG50eXBlIEpzb25TY2hlbWE3UmVjb3JkUHJvcGVydHlOYW1lc1R5cGUgPVxuICB8IE9taXQ8SnNvblNjaGVtYTdTdHJpbmdUeXBlLCAndHlwZSc+XG4gIHwgT21pdDxKc29uU2NoZW1hN0VudW1UeXBlLCAndHlwZSc+O1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN1JlY29yZFR5cGUgPSB7XG4gIHR5cGU6ICdvYmplY3QnO1xuICBhZGRpdGlvbmFsUHJvcGVydGllcz86IEpzb25TY2hlbWE3VHlwZSB8IHRydWU7XG4gIHByb3BlcnR5TmFtZXM/OiBKc29uU2NoZW1hN1JlY29yZFByb3BlcnR5TmFtZXNUeXBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVjb3JkRGVmKFxuICBkZWY6IFpvZFJlY29yZERlZjxab2RUeXBlQW55LCBab2RUeXBlQW55PiB8IFpvZE1hcERlZixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3UmVjb3JkVHlwZSB7XG4gIGNvbnN0IHNjaGVtYTogSnNvblNjaGVtYTdSZWNvcmRUeXBlID0ge1xuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOlxuICAgICAgcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJ10sXG4gICAgICB9KSA/PyByZWZzLmFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllcyxcbiAgfTtcblxuICBpZiAoXG4gICAgZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcgJiZcbiAgICBkZWYua2V5VHlwZS5fZGVmLmNoZWNrcz8ubGVuZ3RoXG4gICkge1xuICAgIGNvbnN0IHsgdHlwZSwgLi4ua2V5VHlwZSB9ID0gcGFyc2VTdHJpbmdEZWYoZGVmLmtleVR5cGUuX2RlZiwgcmVmcyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc2NoZW1hLFxuICAgICAgcHJvcGVydHlOYW1lczoga2V5VHlwZSxcbiAgICB9O1xuICB9IGVsc2UgaWYgKGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zY2hlbWEsXG4gICAgICBwcm9wZXJ0eU5hbWVzOiB7XG4gICAgICAgIGVudW06IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLFxuICAgICAgfSxcbiAgICB9O1xuICB9IGVsc2UgaWYgKFxuICAgIGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCAmJlxuICAgIGRlZi5rZXlUeXBlLl9kZWYudHlwZS5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nICYmXG4gICAgZGVmLmtleVR5cGUuX2RlZi50eXBlLl9kZWYuY2hlY2tzPy5sZW5ndGhcbiAgKSB7XG4gICAgY29uc3QgeyB0eXBlLCAuLi5rZXlUeXBlIH0gPSBwYXJzZUJyYW5kZWREZWYoXG4gICAgICBkZWYua2V5VHlwZS5fZGVmLFxuICAgICAgcmVmcyxcbiAgICApIGFzIEpzb25TY2hlbWE3U3RyaW5nVHlwZTtcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zY2hlbWEsXG4gICAgICBwcm9wZXJ0eU5hbWVzOiBrZXlUeXBlLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gc2NoZW1hO1xufVxuIiwgImltcG9ydCB7IFpvZFN0cmluZ0RlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmxldCBlbW9qaVJlZ2V4OiBSZWdFeHAgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbi8qKlxuICogR2VuZXJhdGVkIGZyb20gdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgZm91bmQgaGVyZSBhcyBvZiAyMDI0LTA1LTIyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2Jsb2IvbWFzdGVyL3NyYy90eXBlcy50cy5cbiAqXG4gKiBFeHByZXNzaW9ucyB3aXRoIC9pIGZsYWcgaGF2ZSBiZWVuIGNoYW5nZWQgYWNjb3JkaW5nbHkuXG4gKi9cbmV4cG9ydCBjb25zdCB6b2RQYXR0ZXJucyA9IHtcbiAgLyoqXG4gICAqIGBjYCB3YXMgY2hhbmdlZCB0byBgW2NDXWAgdG8gcmVwbGljYXRlIC9pIGZsYWdcbiAgICovXG4gIGN1aWQ6IC9eW2NDXVteXFxzLV17OCx9JC8sXG4gIGN1aWQyOiAvXlswLTlhLXpdKyQvLFxuICB1bGlkOiAvXlswLTlBLUhKS01OUC1UVi1aXXsyNn0kLyxcbiAgLyoqXG4gICAqIGBhLXpgIHdhcyBhZGRlZCB0byByZXBsaWNhdGUgL2kgZmxhZ1xuICAgKi9cbiAgZW1haWw6XG4gICAgL14oPyFcXC4pKD8hLipcXC5cXC4pKFthLXpBLVowLTlfJytcXC1cXC5dKilbYS16QS1aMC05XystXUAoW2EtekEtWjAtOV1bYS16QS1aMC05XFwtXSpcXC4pK1thLXpBLVpdezIsfSQvLFxuICAvKipcbiAgICogQ29uc3RydWN0ZWQgYSB2YWxpZCBVbmljb2RlIFJlZ0V4cFxuICAgKlxuICAgKiBMYXppbHkgaW5zdGFudGlhdGUgc2luY2UgdGhpcyB0eXBlIG9mIHJlZ2V4IGlzbid0IHN1cHBvcnRlZFxuICAgKiBpbiBhbGwgZW52cyAoZS5nLiBSZWFjdCBOYXRpdmUpLlxuICAgKlxuICAgKiBTZWU6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9pc3N1ZXMvMjQzM1xuICAgKiBGaXggaW4gWm9kOlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvY29tbWl0LzkzNDBmZDUxZTQ4NTc2YTc1YWRjOTE5YmZmNjVkYmM0YTVkNGM5OWJcbiAgICovXG4gIGVtb2ppOiAoKSA9PiB7XG4gICAgaWYgKGVtb2ppUmVnZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgZW1vamlSZWdleCA9IFJlZ0V4cChcbiAgICAgICAgJ14oXFxcXHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxcXFxccHtFbW9qaV9Db21wb25lbnR9KSskJyxcbiAgICAgICAgJ3UnLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGVtb2ppUmVnZXg7XG4gIH0sXG4gIC8qKlxuICAgKiBVbnVzZWRcbiAgICovXG4gIHV1aWQ6IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC8sXG4gIC8qKlxuICAgKiBVbnVzZWRcbiAgICovXG4gIGlwdjQ6IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pJC8sXG4gIGlwdjRDaWRyOlxuICAgIC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvLFxuICAvKipcbiAgICogVW51c2VkXG4gICAqL1xuICBpcHY2OiAvXigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSkkLyxcbiAgaXB2NkNpZHI6XG4gICAgL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLyxcbiAgYmFzZTY0OiAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC8sXG4gIGJhc2U2NHVybDpcbiAgICAvXihbMC05YS16QS1aLV9dezR9KSooKFswLTlhLXpBLVotX117Mn0oPT0pPyl8KFswLTlhLXpBLVotX117M30oPSk/KSk/JC8sXG4gIG5hbm9pZDogL15bYS16QS1aMC05Xy1dezIxfSQvLFxuICBqd3Q6IC9eW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10qJC8sXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN1N0cmluZ1R5cGUgPSB7XG4gIHR5cGU6ICdzdHJpbmcnO1xuICBtaW5MZW5ndGg/OiBudW1iZXI7XG4gIG1heExlbmd0aD86IG51bWJlcjtcbiAgZm9ybWF0PzpcbiAgICB8ICdlbWFpbCdcbiAgICB8ICdpZG4tZW1haWwnXG4gICAgfCAndXJpJ1xuICAgIHwgJ3V1aWQnXG4gICAgfCAnZGF0ZS10aW1lJ1xuICAgIHwgJ2lwdjQnXG4gICAgfCAnaXB2NidcbiAgICB8ICdkYXRlJ1xuICAgIHwgJ3RpbWUnXG4gICAgfCAnZHVyYXRpb24nO1xuICBwYXR0ZXJuPzogc3RyaW5nO1xuICBhbGxPZj86IHtcbiAgICBwYXR0ZXJuOiBzdHJpbmc7XG4gIH1bXTtcbiAgYW55T2Y/OiB7XG4gICAgZm9ybWF0OiBzdHJpbmc7XG4gIH1bXTtcbiAgY29udGVudEVuY29kaW5nPzogc3RyaW5nO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3RyaW5nRGVmKFxuICBkZWY6IFpvZFN0cmluZ0RlZixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3U3RyaW5nVHlwZSB7XG4gIGNvbnN0IHJlczogSnNvblNjaGVtYTdTdHJpbmdUeXBlID0ge1xuICAgIHR5cGU6ICdzdHJpbmcnLFxuICB9O1xuXG4gIGlmIChkZWYuY2hlY2tzKSB7XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnbWluJzpcbiAgICAgICAgICByZXMubWluTGVuZ3RoID1cbiAgICAgICAgICAgIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtYXgnOlxuICAgICAgICAgIHJlcy5tYXhMZW5ndGggPVxuICAgICAgICAgICAgdHlwZW9mIHJlcy5tYXhMZW5ndGggPT09ICdudW1iZXInXG4gICAgICAgICAgICAgID8gTWF0aC5taW4ocmVzLm1heExlbmd0aCwgY2hlY2sudmFsdWUpXG4gICAgICAgICAgICAgIDogY2hlY2sudmFsdWU7XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgIHN3aXRjaCAocmVmcy5lbWFpbFN0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlICdmb3JtYXQ6ZW1haWwnOlxuICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnZW1haWwnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmb3JtYXQ6aWRuLWVtYWlsJzpcbiAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2lkbi1lbWFpbCcsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3BhdHRlcm46em9kJzpcbiAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmVtYWlsLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ3VyaScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd1dWlkJzpcbiAgICAgICAgICBhZGRGb3JtYXQocmVzLCAndXVpZCcsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZWdleCc6XG4gICAgICAgICAgYWRkUGF0dGVybihyZXMsIGNoZWNrLnJlZ2V4LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY3VpZCc6XG4gICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmN1aWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjdWlkMic6XG4gICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmN1aWQyLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc3RhcnRzV2l0aCc6XG4gICAgICAgICAgYWRkUGF0dGVybihcbiAgICAgICAgICAgIHJlcyxcbiAgICAgICAgICAgIFJlZ0V4cChgXiR7ZXNjYXBlTGl0ZXJhbENoZWNrVmFsdWUoY2hlY2sudmFsdWUsIHJlZnMpfWApLFxuICAgICAgICAgICAgY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgIHJlZnMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZW5kc1dpdGgnOlxuICAgICAgICAgIGFkZFBhdHRlcm4oXG4gICAgICAgICAgICByZXMsXG4gICAgICAgICAgICBSZWdFeHAoYCR7ZXNjYXBlTGl0ZXJhbENoZWNrVmFsdWUoY2hlY2sudmFsdWUsIHJlZnMpfSRgKSxcbiAgICAgICAgICAgIGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICByZWZzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RhdGV0aW1lJzpcbiAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnZGF0ZS10aW1lJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdkYXRlJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgICAgIGFkZEZvcm1hdChyZXMsICd0aW1lJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2R1cmF0aW9uJzpcbiAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnZHVyYXRpb24nLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbGVuZ3RoJzpcbiAgICAgICAgICByZXMubWluTGVuZ3RoID1cbiAgICAgICAgICAgIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlO1xuICAgICAgICAgIHJlcy5tYXhMZW5ndGggPVxuICAgICAgICAgICAgdHlwZW9mIHJlcy5tYXhMZW5ndGggPT09ICdudW1iZXInXG4gICAgICAgICAgICAgID8gTWF0aC5taW4ocmVzLm1heExlbmd0aCwgY2hlY2sudmFsdWUpXG4gICAgICAgICAgICAgIDogY2hlY2sudmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2luY2x1ZGVzJzoge1xuICAgICAgICAgIGFkZFBhdHRlcm4oXG4gICAgICAgICAgICByZXMsXG4gICAgICAgICAgICBSZWdFeHAoZXNjYXBlTGl0ZXJhbENoZWNrVmFsdWUoY2hlY2sudmFsdWUsIHJlZnMpKSxcbiAgICAgICAgICAgIGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICByZWZzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnaXAnOiB7XG4gICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09ICd2NicpIHtcbiAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdpcHY0JywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSAndjQnKSB7XG4gICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnaXB2NicsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdiYXNlNjR1cmwnOlxuICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5iYXNlNjR1cmwsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdqd3QnOlxuICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5qd3QsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjaWRyJzoge1xuICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSAndjYnKSB7XG4gICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuaXB2NENpZHIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gJ3Y0Jykge1xuICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmlwdjZDaWRyLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnZW1vamknOlxuICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5lbW9qaSgpLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndWxpZCc6IHtcbiAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMudWxpZCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnYmFzZTY0Jzoge1xuICAgICAgICAgIHN3aXRjaCAocmVmcy5iYXNlNjRTdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSAnZm9ybWF0OmJpbmFyeSc6IHtcbiAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2JpbmFyeScgYXMgYW55LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRFbmNvZGluZzpiYXNlNjQnOiB7XG4gICAgICAgICAgICAgIHJlcy5jb250ZW50RW5jb2RpbmcgPSAnYmFzZTY0JztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3BhdHRlcm46em9kJzoge1xuICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuYmFzZTY0LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ25hbm9pZCc6IHtcbiAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMubmFub2lkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICd0b0xvd2VyQ2FzZSc6XG4gICAgICAgIGNhc2UgJ3RvVXBwZXJDYXNlJzpcbiAgICAgICAgY2FzZSAndHJpbSc6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLyogYzggaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAoKF86IG5ldmVyKSA9PiB7fSkoY2hlY2spO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGxpdGVyYWw6IHN0cmluZywgcmVmczogUmVmcyk6IHN0cmluZyB7XG4gIHJldHVybiByZWZzLnBhdHRlcm5TdHJhdGVneSA9PT0gJ2VzY2FwZSdcbiAgICA/IGVzY2FwZU5vbkFscGhhTnVtZXJpYyhsaXRlcmFsKVxuICAgIDogbGl0ZXJhbDtcbn1cblxuY29uc3QgQUxQSEFfTlVNRVJJQyA9IG5ldyBTZXQoXG4gICdBQkNERUZHSElKS0xNTk9QUVJTVFVWWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnh5ejAxMjM0NTY3ODknLFxuKTtcblxuZnVuY3Rpb24gZXNjYXBlTm9uQWxwaGFOdW1lcmljKHNvdXJjZTogc3RyaW5nKSB7XG4gIGxldCByZXN1bHQgPSAnJztcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgIGlmICghQUxQSEFfTlVNRVJJQy5oYXMoc291cmNlW2ldKSkge1xuICAgICAgcmVzdWx0ICs9ICdcXFxcJztcbiAgICB9XG5cbiAgICByZXN1bHQgKz0gc291cmNlW2ldO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gQWRkcyBhIFwiZm9ybWF0XCIga2V5d29yZCB0byB0aGUgc2NoZW1hLiBJZiBhIGZvcm1hdCBleGlzdHMsIGJvdGggZm9ybWF0cyB3aWxsIGJlIGpvaW5lZCBpbiBhbiBhbGxPZi1ub2RlLCBhbG9uZyB3aXRoIHN1YnNlcXVlbnQgb25lcy5cbmZ1bmN0aW9uIGFkZEZvcm1hdChcbiAgc2NoZW1hOiBKc29uU2NoZW1hN1N0cmluZ1R5cGUsXG4gIHZhbHVlOiBSZXF1aXJlZDxKc29uU2NoZW1hN1N0cmluZ1R5cGU+Wydmb3JtYXQnXSxcbiAgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICByZWZzOiBSZWZzLFxuKSB7XG4gIGlmIChzY2hlbWEuZm9ybWF0IHx8IHNjaGVtYS5hbnlPZj8uc29tZSh4ID0+IHguZm9ybWF0KSkge1xuICAgIGlmICghc2NoZW1hLmFueU9mKSB7XG4gICAgICBzY2hlbWEuYW55T2YgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAoc2NoZW1hLmZvcm1hdCkge1xuICAgICAgc2NoZW1hLmFueU9mIS5wdXNoKHtcbiAgICAgICAgZm9ybWF0OiBzY2hlbWEuZm9ybWF0LFxuICAgICAgfSk7XG4gICAgICBkZWxldGUgc2NoZW1hLmZvcm1hdDtcbiAgICB9XG5cbiAgICBzY2hlbWEuYW55T2YhLnB1c2goe1xuICAgICAgZm9ybWF0OiB2YWx1ZSxcbiAgICAgIC4uLihtZXNzYWdlICYmXG4gICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBmb3JtYXQ6IG1lc3NhZ2UgfSB9KSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzY2hlbWEuZm9ybWF0ID0gdmFsdWU7XG4gIH1cbn1cblxuLy8gQWRkcyBhIFwicGF0dGVyblwiIGtleXdvcmQgdG8gdGhlIHNjaGVtYS4gSWYgYSBwYXR0ZXJuIGV4aXN0cywgYm90aCBwYXR0ZXJucyB3aWxsIGJlIGpvaW5lZCBpbiBhbiBhbGxPZi1ub2RlLCBhbG9uZyB3aXRoIHN1YnNlcXVlbnQgb25lcy5cbmZ1bmN0aW9uIGFkZFBhdHRlcm4oXG4gIHNjaGVtYTogSnNvblNjaGVtYTdTdHJpbmdUeXBlLFxuICByZWdleDogUmVnRXhwLFxuICBtZXNzYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIHJlZnM6IFJlZnMsXG4pIHtcbiAgaWYgKHNjaGVtYS5wYXR0ZXJuIHx8IHNjaGVtYS5hbGxPZj8uc29tZSh4ID0+IHgucGF0dGVybikpIHtcbiAgICBpZiAoIXNjaGVtYS5hbGxPZikge1xuICAgICAgc2NoZW1hLmFsbE9mID0gW107XG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYS5wYXR0ZXJuKSB7XG4gICAgICBzY2hlbWEuYWxsT2YhLnB1c2goe1xuICAgICAgICBwYXR0ZXJuOiBzY2hlbWEucGF0dGVybixcbiAgICAgIH0pO1xuICAgICAgZGVsZXRlIHNjaGVtYS5wYXR0ZXJuO1xuICAgIH1cblxuICAgIHNjaGVtYS5hbGxPZiEucHVzaCh7XG4gICAgICBwYXR0ZXJuOiBzdHJpbmdpZnlSZWdFeHBXaXRoRmxhZ3MocmVnZXgsIHJlZnMpLFxuICAgICAgLi4uKG1lc3NhZ2UgJiZcbiAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IHBhdHRlcm46IG1lc3NhZ2UgfSB9KSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzY2hlbWEucGF0dGVybiA9IHN0cmluZ2lmeVJlZ0V4cFdpdGhGbGFncyhyZWdleCwgcmVmcyk7XG4gIH1cbn1cblxuLy8gTXV0YXRlIHouc3RyaW5nLnJlZ2V4KCkgaW4gYSBiZXN0IGF0dGVtcHQgdG8gYWNjb21tb2RhdGUgZm9yIHJlZ2V4IGZsYWdzIHdoZW4gYXBwbHlSZWdleEZsYWdzIGlzIHRydWVcbmZ1bmN0aW9uIHN0cmluZ2lmeVJlZ0V4cFdpdGhGbGFncyhyZWdleDogUmVnRXhwLCByZWZzOiBSZWZzKTogc3RyaW5nIHtcbiAgaWYgKCFyZWZzLmFwcGx5UmVnZXhGbGFncyB8fCAhcmVnZXguZmxhZ3MpIHtcbiAgICByZXR1cm4gcmVnZXguc291cmNlO1xuICB9XG5cbiAgLy8gQ3VycmVudGx5IGhhbmRsZWQgZmxhZ3NcbiAgY29uc3QgZmxhZ3MgPSB7XG4gICAgaTogcmVnZXguZmxhZ3MuaW5jbHVkZXMoJ2knKSwgLy8gQ2FzZS1pbnNlbnNpdGl2ZVxuICAgIG06IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKCdtJyksIC8vIGBeYCBhbmQgYCRgIG1hdGNoZXMgYWRqYWNlbnQgdG8gbmV3bGluZSBjaGFyYWN0ZXJzXG4gICAgczogcmVnZXguZmxhZ3MuaW5jbHVkZXMoJ3MnKSwgLy8gYC5gIG1hdGNoZXMgbmV3bGluZXNcbiAgfTtcblxuICAvLyBUaGUgZ2VuZXJhbCBwcmluY2lwbGUgaGVyZSBpcyB0byBzdGVwIHRocm91Z2ggZWFjaCBjaGFyYWN0ZXIsIG9uZSBhdCBhIHRpbWUsIGFwcGx5aW5nIG11dGF0aW9ucyBhcyBmbGFncyByZXF1aXJlLiBXZSBrZWVwIHRyYWNrIHdoZW4gdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGlzIGVzY2FwZWQsIGFuZCB3aGVuIGl0J3MgaW5zaWRlIGEgZ3JvdXAgL2xpa2UgW3RoaXNdLyBvciAoYWxzbykgYSByYW5nZSBsaWtlIC9bYS16XS8uIFRoZSBmb2xsb3dpbmcgaXMgZmFpcmx5IGJyaXR0bGUgaW1wZXJhdGl2ZSBjb2RlOyBlZGl0IGF0IHlvdXIgcGVyaWwhXG4gIGNvbnN0IHNvdXJjZSA9IGZsYWdzLmkgPyByZWdleC5zb3VyY2UudG9Mb3dlckNhc2UoKSA6IHJlZ2V4LnNvdXJjZTtcbiAgbGV0IHBhdHRlcm4gPSAnJztcbiAgbGV0IGlzRXNjYXBlZCA9IGZhbHNlO1xuICBsZXQgaW5DaGFyR3JvdXAgPSBmYWxzZTtcbiAgbGV0IGluQ2hhclJhbmdlID0gZmFsc2U7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaXNFc2NhcGVkKSB7XG4gICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgIGlzRXNjYXBlZCA9IGZhbHNlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGZsYWdzLmkpIHtcbiAgICAgIGlmIChpbkNoYXJHcm91cCkge1xuICAgICAgICBpZiAoc291cmNlW2ldLm1hdGNoKC9bYS16XS8pKSB7XG4gICAgICAgICAgaWYgKGluQ2hhclJhbmdlKSB7XG4gICAgICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gYCR7c291cmNlW2kgLSAyXX0tJHtzb3VyY2VbaV19YC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgaW5DaGFyUmFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZVtpICsgMV0gPT09ICctJyAmJiBzb3VyY2VbaSArIDJdPy5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICAgICAgICBpbkNoYXJSYW5nZSA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gYCR7c291cmNlW2ldfSR7c291cmNlW2ldLnRvVXBwZXJDYXNlKCl9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc291cmNlW2ldLm1hdGNoKC9bYS16XS8pKSB7XG4gICAgICAgIHBhdHRlcm4gKz0gYFske3NvdXJjZVtpXX0ke3NvdXJjZVtpXS50b1VwcGVyQ2FzZSgpfV1gO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZmxhZ3MubSkge1xuICAgICAgaWYgKHNvdXJjZVtpXSA9PT0gJ14nKSB7XG4gICAgICAgIHBhdHRlcm4gKz0gYChefCg/PD1bXFxyXFxuXSkpYDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKHNvdXJjZVtpXSA9PT0gJyQnKSB7XG4gICAgICAgIHBhdHRlcm4gKz0gYCgkfCg/PVtcXHJcXG5dKSlgO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZmxhZ3MucyAmJiBzb3VyY2VbaV0gPT09ICcuJykge1xuICAgICAgcGF0dGVybiArPSBpbkNoYXJHcm91cCA/IGAke3NvdXJjZVtpXX1cXHJcXG5gIDogYFske3NvdXJjZVtpXX1cXHJcXG5dYDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHBhdHRlcm4gKz0gc291cmNlW2ldO1xuICAgIGlmIChzb3VyY2VbaV0gPT09ICdcXFxcJykge1xuICAgICAgaXNFc2NhcGVkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGluQ2hhckdyb3VwICYmIHNvdXJjZVtpXSA9PT0gJ10nKSB7XG4gICAgICBpbkNoYXJHcm91cCA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoIWluQ2hhckdyb3VwICYmIHNvdXJjZVtpXSA9PT0gJ1snKSB7XG4gICAgICBpbkNoYXJHcm91cCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICB9IGNhdGNoIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBgQ291bGQgbm90IGNvbnZlcnQgcmVnZXggcGF0dGVybiBhdCAke3JlZnMuY3VycmVudFBhdGguam9pbihcbiAgICAgICAgJy8nLFxuICAgICAgKX0gdG8gYSBmbGFnLWluZGVwZW5kZW50IGZvcm0hIEZhbGxpbmcgYmFjayB0byB0aGUgZmxhZy1pZ25vcmFudCBzb3VyY2VgLFxuICAgICk7XG4gICAgcmV0dXJuIHJlZ2V4LnNvdXJjZTtcbiAgfVxuXG4gIHJldHVybiBwYXR0ZXJuO1xufVxuIiwgImltcG9ydCB7IFpvZE1hcERlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gJy4vYW55JztcbmltcG9ydCB7IEpzb25TY2hlbWE3UmVjb3JkVHlwZSwgcGFyc2VSZWNvcmREZWYgfSBmcm9tICcuL3JlY29yZCc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3TWFwVHlwZSA9IHtcbiAgdHlwZTogJ2FycmF5JztcbiAgbWF4SXRlbXM6IDEyNTtcbiAgaXRlbXM6IHtcbiAgICB0eXBlOiAnYXJyYXknO1xuICAgIGl0ZW1zOiBbSnNvblNjaGVtYTdUeXBlLCBKc29uU2NoZW1hN1R5cGVdO1xuICAgIG1pbkl0ZW1zOiAyO1xuICAgIG1heEl0ZW1zOiAyO1xuICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTWFwRGVmKFxuICBkZWY6IFpvZE1hcERlZixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3TWFwVHlwZSB8IEpzb25TY2hlbWE3UmVjb3JkVHlwZSB7XG4gIGlmIChyZWZzLm1hcFN0cmF0ZWd5ID09PSAncmVjb3JkJykge1xuICAgIHJldHVybiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpO1xuICB9XG5cbiAgY29uc3Qga2V5cyA9XG4gICAgcGFyc2VEZWYoZGVmLmtleVR5cGUuX2RlZiwge1xuICAgICAgLi4ucmVmcyxcbiAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJywgJ2l0ZW1zJywgJzAnXSxcbiAgICB9KSB8fCBwYXJzZUFueURlZigpO1xuICBjb25zdCB2YWx1ZXMgPVxuICAgIHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgICAgLi4ucmVmcyxcbiAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJywgJ2l0ZW1zJywgJzEnXSxcbiAgICB9KSB8fCBwYXJzZUFueURlZigpO1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdhcnJheScsXG4gICAgbWF4SXRlbXM6IDEyNSxcbiAgICBpdGVtczoge1xuICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgIGl0ZW1zOiBba2V5cywgdmFsdWVzXSxcbiAgICAgIG1pbkl0ZW1zOiAyLFxuICAgICAgbWF4SXRlbXM6IDIsXG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBab2ROYXRpdmVFbnVtRGVmIH0gZnJvbSAnem9kL3YzJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdOYXRpdmVFbnVtVHlwZSA9IHtcbiAgdHlwZTogJ3N0cmluZycgfCAnbnVtYmVyJyB8IFsnc3RyaW5nJywgJ251bWJlciddO1xuICBlbnVtOiAoc3RyaW5nIHwgbnVtYmVyKVtdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTmF0aXZlRW51bURlZihcbiAgZGVmOiBab2ROYXRpdmVFbnVtRGVmLFxuKTogSnNvblNjaGVtYTdOYXRpdmVFbnVtVHlwZSB7XG4gIGNvbnN0IG9iamVjdCA9IGRlZi52YWx1ZXM7XG4gIGNvbnN0IGFjdHVhbEtleXMgPSBPYmplY3Qua2V5cyhkZWYudmFsdWVzKS5maWx0ZXIoKGtleTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3Rbb2JqZWN0W2tleV1dICE9PSAnbnVtYmVyJztcbiAgfSk7XG5cbiAgY29uc3QgYWN0dWFsVmFsdWVzID0gYWN0dWFsS2V5cy5tYXAoKGtleTogc3RyaW5nKSA9PiBvYmplY3Rba2V5XSk7XG5cbiAgY29uc3QgcGFyc2VkVHlwZXMgPSBBcnJheS5mcm9tKFxuICAgIG5ldyBTZXQoYWN0dWFsVmFsdWVzLm1hcCgodmFsdWVzOiBzdHJpbmcgfCBudW1iZXIpID0+IHR5cGVvZiB2YWx1ZXMpKSxcbiAgKTtcblxuICByZXR1cm4ge1xuICAgIHR5cGU6XG4gICAgICBwYXJzZWRUeXBlcy5sZW5ndGggPT09IDFcbiAgICAgICAgPyBwYXJzZWRUeXBlc1swXSA9PT0gJ3N0cmluZydcbiAgICAgICAgICA/ICdzdHJpbmcnXG4gICAgICAgICAgOiAnbnVtYmVyJ1xuICAgICAgICA6IFsnc3RyaW5nJywgJ251bWJlciddLFxuICAgIGVudW06IGFjdHVhbFZhbHVlcyxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBKc29uU2NoZW1hN0FueVR5cGUsIHBhcnNlQW55RGVmIH0gZnJvbSAnLi9hbnknO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN05ldmVyVHlwZSA9IHtcbiAgbm90OiBKc29uU2NoZW1hN0FueVR5cGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOZXZlckRlZigpOiBKc29uU2NoZW1hN05ldmVyVHlwZSB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiB7IG5vdDogcGFyc2VBbnlEZWYoKSB9O1xufVxuIiwgImV4cG9ydCB0eXBlIEpzb25TY2hlbWE3TnVsbFR5cGUgPSB7XG4gIHR5cGU6ICdudWxsJztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bGxEZWYoKTogSnNvblNjaGVtYTdOdWxsVHlwZSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ251bGwnLFxuICB9O1xufVxuIiwgImltcG9ydCB7XG4gIFpvZERpc2NyaW1pbmF0ZWRVbmlvbkRlZixcbiAgWm9kTGl0ZXJhbERlZixcbiAgWm9kVHlwZUFueSxcbiAgWm9kVW5pb25EZWYsXG59IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCBjb25zdCBwcmltaXRpdmVNYXBwaW5ncyA9IHtcbiAgWm9kU3RyaW5nOiAnc3RyaW5nJyxcbiAgWm9kTnVtYmVyOiAnbnVtYmVyJyxcbiAgWm9kQmlnSW50OiAnaW50ZWdlcicsXG4gIFpvZEJvb2xlYW46ICdib29sZWFuJyxcbiAgWm9kTnVsbDogJ251bGwnLFxufSBhcyBjb25zdDtcbnR5cGUgWm9kUHJpbWl0aXZlID0ga2V5b2YgdHlwZW9mIHByaW1pdGl2ZU1hcHBpbmdzO1xudHlwZSBKc29uU2NoZW1hN1ByaW1pdGl2ZSA9XG4gICh0eXBlb2YgcHJpbWl0aXZlTWFwcGluZ3MpW2tleW9mIHR5cGVvZiBwcmltaXRpdmVNYXBwaW5nc107XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3VW5pb25UeXBlID1cbiAgfCBKc29uU2NoZW1hN1ByaW1pdGl2ZVVuaW9uVHlwZVxuICB8IEpzb25TY2hlbWE3QW55T2ZUeXBlO1xuXG50eXBlIEpzb25TY2hlbWE3UHJpbWl0aXZlVW5pb25UeXBlID1cbiAgfCB7XG4gICAgICB0eXBlOiBKc29uU2NoZW1hN1ByaW1pdGl2ZSB8IEpzb25TY2hlbWE3UHJpbWl0aXZlW107XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IEpzb25TY2hlbWE3UHJpbWl0aXZlIHwgSnNvblNjaGVtYTdQcmltaXRpdmVbXTtcbiAgICAgIGVudW06IChzdHJpbmcgfCBudW1iZXIgfCBiaWdpbnQgfCBib29sZWFuIHwgbnVsbClbXTtcbiAgICB9O1xuXG50eXBlIEpzb25TY2hlbWE3QW55T2ZUeXBlID0ge1xuICBhbnlPZjogSnNvblNjaGVtYTdUeXBlW107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVbmlvbkRlZihcbiAgZGVmOiBab2RVbmlvbkRlZiB8IFpvZERpc2NyaW1pbmF0ZWRVbmlvbkRlZjxhbnksIGFueT4sXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1ByaW1pdGl2ZVVuaW9uVHlwZSB8IEpzb25TY2hlbWE3QW55T2ZUeXBlIHwgdW5kZWZpbmVkIHtcbiAgY29uc3Qgb3B0aW9uczogcmVhZG9ubHkgWm9kVHlwZUFueVtdID1cbiAgICBkZWYub3B0aW9ucyBpbnN0YW5jZW9mIE1hcCA/IEFycmF5LmZyb20oZGVmLm9wdGlvbnMudmFsdWVzKCkpIDogZGVmLm9wdGlvbnM7XG5cbiAgLy8gVGhpcyBibG9ja3MgdHJpZXMgdG8gbG9vayBhaGVhZCBhIGJpdCB0byBwcm9kdWNlIG5pY2VyIGxvb2tpbmcgc2NoZW1hcyB3aXRoIHR5cGUgYXJyYXkgaW5zdGVhZCBvZiBhbnlPZi5cbiAgaWYgKFxuICAgIG9wdGlvbnMuZXZlcnkoXG4gICAgICB4ID0+XG4gICAgICAgIHguX2RlZi50eXBlTmFtZSBpbiBwcmltaXRpdmVNYXBwaW5ncyAmJlxuICAgICAgICAoIXguX2RlZi5jaGVja3MgfHwgIXguX2RlZi5jaGVja3MubGVuZ3RoKSxcbiAgICApXG4gICkge1xuICAgIC8vIGFsbCB0eXBlcyBpbiB1bmlvbiBhcmUgcHJpbWl0aXZlIGFuZCBsYWNrIGNoZWNrcywgc28gbWlnaHQgYXMgd2VsbCBzcXVhc2ggaW50byB7dHlwZTogWy4uLl19XG5cbiAgICBjb25zdCB0eXBlcyA9IG9wdGlvbnMucmVkdWNlKCh0eXBlczogSnNvblNjaGVtYTdQcmltaXRpdmVbXSwgeCkgPT4ge1xuICAgICAgY29uc3QgdHlwZSA9IHByaW1pdGl2ZU1hcHBpbmdzW3guX2RlZi50eXBlTmFtZSBhcyBab2RQcmltaXRpdmVdOyAvL0NhbiBiZSBzYWZlbHkgY2FzdGVkIGR1ZSB0byByb3cgNDNcbiAgICAgIHJldHVybiB0eXBlICYmICF0eXBlcy5pbmNsdWRlcyh0eXBlKSA/IFsuLi50eXBlcywgdHlwZV0gOiB0eXBlcztcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdHlwZXMubGVuZ3RoID4gMSA/IHR5cGVzIDogdHlwZXNbMF0sXG4gICAgfTtcbiAgfSBlbHNlIGlmIChcbiAgICBvcHRpb25zLmV2ZXJ5KHggPT4geC5fZGVmLnR5cGVOYW1lID09PSAnWm9kTGl0ZXJhbCcgJiYgIXguZGVzY3JpcHRpb24pXG4gICkge1xuICAgIC8vIGFsbCBvcHRpb25zIGxpdGVyYWxzXG5cbiAgICBjb25zdCB0eXBlcyA9IG9wdGlvbnMucmVkdWNlKFxuICAgICAgKGFjYzogSnNvblNjaGVtYTdQcmltaXRpdmVbXSwgeDogeyBfZGVmOiBab2RMaXRlcmFsRGVmIH0pID0+IHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiB4Ll9kZWYudmFsdWU7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCB0eXBlXTtcbiAgICAgICAgICBjYXNlICdiaWdpbnQnOlxuICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsICdpbnRlZ2VyJyBhcyBjb25zdF07XG4gICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgIGlmICh4Ll9kZWYudmFsdWUgPT09IG51bGwpIHJldHVybiBbLi4uYWNjLCAnbnVsbCcgYXMgY29uc3RdO1xuICAgICAgICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbXSxcbiAgICApO1xuXG4gICAgaWYgKHR5cGVzLmxlbmd0aCA9PT0gb3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgIC8vIGFsbCB0aGUgbGl0ZXJhbHMgYXJlIHByaW1pdGl2ZSwgYXMgZmFyIGFzIG51bGwgY2FuIGJlIGNvbnNpZGVyZWQgcHJpbWl0aXZlXG5cbiAgICAgIGNvbnN0IHVuaXF1ZVR5cGVzID0gdHlwZXMuZmlsdGVyKCh4LCBpLCBhKSA9PiBhLmluZGV4T2YoeCkgPT09IGkpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogdW5pcXVlVHlwZXMubGVuZ3RoID4gMSA/IHVuaXF1ZVR5cGVzIDogdW5pcXVlVHlwZXNbMF0sXG4gICAgICAgIGVudW06IG9wdGlvbnMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhY2MuaW5jbHVkZXMoeC5fZGVmLnZhbHVlKSA/IGFjYyA6IFsuLi5hY2MsIHguX2RlZi52YWx1ZV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbXSBhcyAoc3RyaW5nIHwgbnVtYmVyIHwgYmlnaW50IHwgYm9vbGVhbiB8IG51bGwpW10sXG4gICAgICAgICksXG4gICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIGlmIChvcHRpb25zLmV2ZXJ5KHggPT4geC5fZGVmLnR5cGVOYW1lID09PSAnWm9kRW51bScpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgZW51bTogb3B0aW9ucy5yZWR1Y2UoXG4gICAgICAgIChhY2M6IHN0cmluZ1tdLCB4KSA9PiBbXG4gICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgIC4uLnguX2RlZi52YWx1ZXMuZmlsdGVyKCh4OiBzdHJpbmcpID0+ICFhY2MuaW5jbHVkZXMoeCkpLFxuICAgICAgICBdLFxuICAgICAgICBbXSxcbiAgICAgICksXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBhc0FueU9mKGRlZiwgcmVmcyk7XG59XG5cbmNvbnN0IGFzQW55T2YgPSAoXG4gIGRlZjogWm9kVW5pb25EZWYgfCBab2REaXNjcmltaW5hdGVkVW5pb25EZWY8YW55LCBhbnk+LFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdQcmltaXRpdmVVbmlvblR5cGUgfCBKc29uU2NoZW1hN0FueU9mVHlwZSB8IHVuZGVmaW5lZCA9PiB7XG4gIGNvbnN0IGFueU9mID0gKFxuICAgIChkZWYub3B0aW9ucyBpbnN0YW5jZW9mIE1hcFxuICAgICAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKVxuICAgICAgOiBkZWYub3B0aW9ucykgYXMgYW55W11cbiAgKVxuICAgIC5tYXAoKHgsIGkpID0+XG4gICAgICBwYXJzZURlZih4Ll9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYW55T2YnLCBgJHtpfWBdLFxuICAgICAgfSksXG4gICAgKVxuICAgIC5maWx0ZXIoXG4gICAgICAoeCk6IHggaXMgSnNvblNjaGVtYTdUeXBlID0+XG4gICAgICAgICEheCAmJlxuICAgICAgICAoIXJlZnMuc3RyaWN0VW5pb25zIHx8XG4gICAgICAgICAgKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwKSksXG4gICAgKTtcblxuICByZXR1cm4gYW55T2YubGVuZ3RoID8geyBhbnlPZiB9IDogdW5kZWZpbmVkO1xufTtcbiIsICJpbXBvcnQgeyBab2ROdWxsYWJsZURlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN051bGxUeXBlIH0gZnJvbSAnLi9udWxsJztcbmltcG9ydCB7IHByaW1pdGl2ZU1hcHBpbmdzIH0gZnJvbSAnLi91bmlvbic7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3TnVsbGFibGVUeXBlID1cbiAgfCB7XG4gICAgICBhbnlPZjogW0pzb25TY2hlbWE3VHlwZSwgSnNvblNjaGVtYTdOdWxsVHlwZV07XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IFtzdHJpbmcsICdudWxsJ107XG4gICAgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTnVsbGFibGVEZWYoXG4gIGRlZjogWm9kTnVsbGFibGVEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN051bGxhYmxlVHlwZSB8IHVuZGVmaW5lZCB7XG4gIGlmIChcbiAgICBbJ1pvZFN0cmluZycsICdab2ROdW1iZXInLCAnWm9kQmlnSW50JywgJ1pvZEJvb2xlYW4nLCAnWm9kTnVsbCddLmluY2x1ZGVzKFxuICAgICAgZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lLFxuICAgICkgJiZcbiAgICAoIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MgfHwgIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MubGVuZ3RoKVxuICApIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogW1xuICAgICAgICBwcmltaXRpdmVNYXBwaW5nc1tcbiAgICAgICAgICBkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWUgYXMga2V5b2YgdHlwZW9mIHByaW1pdGl2ZU1hcHBpbmdzXG4gICAgICAgIF0sXG4gICAgICAgICdudWxsJyxcbiAgICAgIF0sXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IGJhc2UgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcbiAgICAuLi5yZWZzLFxuICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FueU9mJywgJzAnXSxcbiAgfSk7XG5cbiAgcmV0dXJuIGJhc2UgJiYgeyBhbnlPZjogW2Jhc2UsIHsgdHlwZTogJ251bGwnIH1dIH07XG59XG4iLCAiaW1wb3J0IHsgWm9kTnVtYmVyRGVmIH0gZnJvbSAnem9kL3YzJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdOdW1iZXJUeXBlID0ge1xuICB0eXBlOiAnbnVtYmVyJyB8ICdpbnRlZ2VyJztcbiAgbWluaW11bT86IG51bWJlcjtcbiAgZXhjbHVzaXZlTWluaW11bT86IG51bWJlcjtcbiAgbWF4aW11bT86IG51bWJlcjtcbiAgZXhjbHVzaXZlTWF4aW11bT86IG51bWJlcjtcbiAgbXVsdGlwbGVPZj86IG51bWJlcjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bWJlckRlZihkZWY6IFpvZE51bWJlckRlZik6IEpzb25TY2hlbWE3TnVtYmVyVHlwZSB7XG4gIGNvbnN0IHJlczogSnNvblNjaGVtYTdOdW1iZXJUeXBlID0ge1xuICAgIHR5cGU6ICdudW1iZXInLFxuICB9O1xuXG4gIGlmICghZGVmLmNoZWNrcykgcmV0dXJuIHJlcztcblxuICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIHJlcy50eXBlID0gJ2ludGVnZXInO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICByZXMubWluaW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcy5leGNsdXNpdmVNaW5pbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtYXgnOlxuICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgcmVzLm1heGltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuZXhjbHVzaXZlTWF4aW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbXVsdGlwbGVPZic6XG4gICAgICAgIHJlcy5tdWx0aXBsZU9mID0gY2hlY2sudmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufVxuIiwgImltcG9ydCB7IFpvZE9iamVjdERlZiwgWm9kVHlwZUFueSB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3T2JqZWN0VHlwZSA9IHtcbiAgdHlwZTogJ29iamVjdCc7XG4gIHByb3BlcnRpZXM6IFJlY29yZDxzdHJpbmcsIEpzb25TY2hlbWE3VHlwZT47XG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzPzogYm9vbGVhbiB8IEpzb25TY2hlbWE3VHlwZTtcbiAgcmVxdWlyZWQ/OiBzdHJpbmdbXTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU9iamVjdERlZihkZWY6IFpvZE9iamVjdERlZiwgcmVmczogUmVmcykge1xuICBjb25zdCByZXN1bHQ6IEpzb25TY2hlbWE3T2JqZWN0VHlwZSA9IHtcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgfTtcblxuICBjb25zdCByZXF1aXJlZDogc3RyaW5nW10gPSBbXTtcblxuICBjb25zdCBzaGFwZSA9IGRlZi5zaGFwZSgpO1xuXG4gIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gc2hhcGUpIHtcbiAgICBsZXQgcHJvcERlZiA9IHNoYXBlW3Byb3BOYW1lXTtcblxuICAgIGlmIChwcm9wRGVmID09PSB1bmRlZmluZWQgfHwgcHJvcERlZi5fZGVmID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHByb3BPcHRpb25hbCA9IHNhZmVJc09wdGlvbmFsKHByb3BEZWYpO1xuXG4gICAgY29uc3QgcGFyc2VkRGVmID0gcGFyc2VEZWYocHJvcERlZi5fZGVmLCB7XG4gICAgICAuLi5yZWZzLFxuICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAncHJvcGVydGllcycsIHByb3BOYW1lXSxcbiAgICAgIHByb3BlcnR5UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdwcm9wZXJ0aWVzJywgcHJvcE5hbWVdLFxuICAgIH0pO1xuXG4gICAgaWYgKHBhcnNlZERlZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvcGVydGllc1twcm9wTmFtZV0gPSBwYXJzZWREZWY7XG5cbiAgICBpZiAoIXByb3BPcHRpb25hbCkge1xuICAgICAgcmVxdWlyZWQucHVzaChwcm9wTmFtZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJlcXVpcmVkLmxlbmd0aCkge1xuICAgIHJlc3VsdC5yZXF1aXJlZCA9IHJlcXVpcmVkO1xuICB9XG5cbiAgY29uc3QgYWRkaXRpb25hbFByb3BlcnRpZXMgPSBkZWNpZGVBZGRpdGlvbmFsUHJvcGVydGllcyhkZWYsIHJlZnMpO1xuXG4gIGlmIChhZGRpdGlvbmFsUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmVzdWx0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gYWRkaXRpb25hbFByb3BlcnRpZXM7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBkZWNpZGVBZGRpdGlvbmFsUHJvcGVydGllcyhkZWY6IFpvZE9iamVjdERlZiwgcmVmczogUmVmcykge1xuICBpZiAoZGVmLmNhdGNoYWxsLl9kZWYudHlwZU5hbWUgIT09ICdab2ROZXZlcicpIHtcbiAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmNhdGNoYWxsLl9kZWYsIHtcbiAgICAgIC4uLnJlZnMsXG4gICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhZGRpdGlvbmFsUHJvcGVydGllcyddLFxuICAgIH0pO1xuICB9XG5cbiAgc3dpdGNoIChkZWYudW5rbm93bktleXMpIHtcbiAgICBjYXNlICdwYXNzdGhyb3VnaCc6XG4gICAgICByZXR1cm4gcmVmcy5hbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXM7XG4gICAgY2FzZSAnc3RyaWN0JzpcbiAgICAgIHJldHVybiByZWZzLnJlamVjdGVkQWRkaXRpb25hbFByb3BlcnRpZXM7XG4gICAgY2FzZSAnc3RyaXAnOlxuICAgICAgcmV0dXJuIHJlZnMucmVtb3ZlQWRkaXRpb25hbFN0cmF0ZWd5ID09PSAnc3RyaWN0J1xuICAgICAgICA/IHJlZnMuYWxsb3dlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzXG4gICAgICAgIDogcmVmcy5yZWplY3RlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNhZmVJc09wdGlvbmFsKHNjaGVtYTogWm9kVHlwZUFueSk6IGJvb2xlYW4ge1xuICB0cnkge1xuICAgIHJldHVybiBzY2hlbWEuaXNPcHRpb25hbCgpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuIiwgImltcG9ydCB7IFpvZE9wdGlvbmFsRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSAnLi9hbnknO1xuXG5leHBvcnQgY29uc3QgcGFyc2VPcHRpb25hbERlZiA9IChcbiAgZGVmOiBab2RPcHRpb25hbERlZixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChyZWZzLmN1cnJlbnRQYXRoLnRvU3RyaW5nKCkgPT09IHJlZnMucHJvcGVydHlQYXRoPy50b1N0cmluZygpKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XG4gIH1cblxuICBjb25zdCBpbm5lclNjaGVtYSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuICAgIC4uLnJlZnMsXG4gICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYW55T2YnLCAnMSddLFxuICB9KTtcblxuICByZXR1cm4gaW5uZXJTY2hlbWFcbiAgICA/IHsgYW55T2Y6IFt7IG5vdDogcGFyc2VBbnlEZWYoKSB9LCBpbm5lclNjaGVtYV0gfVxuICAgIDogcGFyc2VBbnlEZWYoKTtcbn07XG4iLCAiaW1wb3J0IHsgWm9kUGlwZWxpbmVEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdBbGxPZlR5cGUgfSBmcm9tICcuL2ludGVyc2VjdGlvbic7XG5cbmV4cG9ydCBjb25zdCBwYXJzZVBpcGVsaW5lRGVmID0gKFxuICBkZWY6IFpvZFBpcGVsaW5lRGVmPGFueSwgYW55PixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3QWxsT2ZUeXBlIHwgSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHJlZnMucGlwZVN0cmF0ZWd5ID09PSAnaW5wdXQnKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbi5fZGVmLCByZWZzKTtcbiAgfSBlbHNlIGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gJ291dHB1dCcpIHtcbiAgICByZXR1cm4gcGFyc2VEZWYoZGVmLm91dC5fZGVmLCByZWZzKTtcbiAgfVxuXG4gIGNvbnN0IGEgPSBwYXJzZURlZihkZWYuaW4uX2RlZiwge1xuICAgIC4uLnJlZnMsXG4gICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCAnMCddLFxuICB9KTtcbiAgY29uc3QgYiA9IHBhcnNlRGVmKGRlZi5vdXQuX2RlZiwge1xuICAgIC4uLnJlZnMsXG4gICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCBhID8gJzEnIDogJzAnXSxcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBhbGxPZjogW2EsIGJdLmZpbHRlcigoeCk6IHggaXMgSnNvblNjaGVtYTdUeXBlID0+IHggIT09IHVuZGVmaW5lZCksXG4gIH07XG59O1xuIiwgImltcG9ydCB7IFpvZFByb21pc2VEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VQcm9taXNlRGVmKFxuICBkZWY6IFpvZFByb21pc2VEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQge1xuICByZXR1cm4gcGFyc2VEZWYoZGVmLnR5cGUuX2RlZiwgcmVmcyk7XG59XG4iLCAiaW1wb3J0IHsgWm9kU2V0RGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdTZXRUeXBlID0ge1xuICB0eXBlOiAnYXJyYXknO1xuICB1bmlxdWVJdGVtczogdHJ1ZTtcbiAgaXRlbXM/OiBKc29uU2NoZW1hN1R5cGU7XG4gIG1pbkl0ZW1zPzogbnVtYmVyO1xuICBtYXhJdGVtcz86IG51bWJlcjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVNldERlZihkZWY6IFpvZFNldERlZiwgcmVmczogUmVmcyk6IEpzb25TY2hlbWE3U2V0VHlwZSB7XG4gIGNvbnN0IGl0ZW1zID0gcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgLi4ucmVmcyxcbiAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcyddLFxuICB9KTtcblxuICBjb25zdCBzY2hlbWE6IEpzb25TY2hlbWE3U2V0VHlwZSA9IHtcbiAgICB0eXBlOiAnYXJyYXknLFxuICAgIHVuaXF1ZUl0ZW1zOiB0cnVlLFxuICAgIGl0ZW1zLFxuICB9O1xuXG4gIGlmIChkZWYubWluU2l6ZSkge1xuICAgIHNjaGVtYS5taW5JdGVtcyA9IGRlZi5taW5TaXplLnZhbHVlO1xuICB9XG5cbiAgaWYgKGRlZi5tYXhTaXplKSB7XG4gICAgc2NoZW1hLm1heEl0ZW1zID0gZGVmLm1heFNpemUudmFsdWU7XG4gIH1cblxuICByZXR1cm4gc2NoZW1hO1xufVxuIiwgImltcG9ydCB7IFpvZFR1cGxlRGVmLCBab2RUdXBsZUl0ZW1zLCBab2RUeXBlQW55IH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdUdXBsZVR5cGUgPSB7XG4gIHR5cGU6ICdhcnJheSc7XG4gIG1pbkl0ZW1zOiBudW1iZXI7XG4gIGl0ZW1zOiBKc29uU2NoZW1hN1R5cGVbXTtcbn0gJiAoXG4gIHwge1xuICAgICAgbWF4SXRlbXM6IG51bWJlcjtcbiAgICB9XG4gIHwge1xuICAgICAgYWRkaXRpb25hbEl0ZW1zPzogSnNvblNjaGVtYTdUeXBlO1xuICAgIH1cbik7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVR1cGxlRGVmKFxuICBkZWY6IFpvZFR1cGxlRGVmPFpvZFR1cGxlSXRlbXMgfCBbXSwgWm9kVHlwZUFueSB8IG51bGw+LFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdUdXBsZVR5cGUge1xuICBpZiAoZGVmLnJlc3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgaXRlbXM6IGRlZi5pdGVtc1xuICAgICAgICAubWFwKCh4LCBpKSA9PlxuICAgICAgICAgIHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJywgYCR7aX1gXSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICAucmVkdWNlKFxuICAgICAgICAgIChhY2M6IEpzb25TY2hlbWE3VHlwZVtdLCB4KSA9PiAoeCA9PT0gdW5kZWZpbmVkID8gYWNjIDogWy4uLmFjYywgeF0pLFxuICAgICAgICAgIFtdLFxuICAgICAgICApLFxuICAgICAgYWRkaXRpb25hbEl0ZW1zOiBwYXJzZURlZihkZWYucmVzdC5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FkZGl0aW9uYWxJdGVtcyddLFxuICAgICAgfSksXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgbWF4SXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG4gICAgICBpdGVtczogZGVmLml0ZW1zXG4gICAgICAgIC5tYXAoKHgsIGkpID0+XG4gICAgICAgICAgcGFyc2VEZWYoeC5fZGVmLCB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnLCBgJHtpfWBdLFxuICAgICAgICAgIH0pLFxuICAgICAgICApXG4gICAgICAgIC5yZWR1Y2UoXG4gICAgICAgICAgKGFjYzogSnNvblNjaGVtYTdUeXBlW10sIHgpID0+ICh4ID09PSB1bmRlZmluZWQgPyBhY2MgOiBbLi4uYWNjLCB4XSksXG4gICAgICAgICAgW10sXG4gICAgICAgICksXG4gICAgfTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEpzb25TY2hlbWE3QW55VHlwZSwgcGFyc2VBbnlEZWYgfSBmcm9tICcuL2FueSc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3VW5kZWZpbmVkVHlwZSA9IHtcbiAgbm90OiBKc29uU2NoZW1hN0FueVR5cGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVbmRlZmluZWREZWYoKTogSnNvblNjaGVtYTdVbmRlZmluZWRUeXBlIHtcbiAgcmV0dXJuIHtcbiAgICBub3Q6IHBhcnNlQW55RGVmKCksXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgSnNvblNjaGVtYTdBbnlUeXBlLCBwYXJzZUFueURlZiB9IGZyb20gJy4vYW55JztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdVbmtub3duVHlwZSA9IEpzb25TY2hlbWE3QW55VHlwZTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVW5rbm93bkRlZigpOiBKc29uU2NoZW1hN1Vua25vd25UeXBlIHtcbiAgcmV0dXJuIHBhcnNlQW55RGVmKCk7XG59XG4iLCAiaW1wb3J0IHsgWm9kUmVhZG9ubHlEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgY29uc3QgcGFyc2VSZWFkb25seURlZiA9IChkZWY6IFpvZFJlYWRvbmx5RGVmPGFueT4sIHJlZnM6IFJlZnMpID0+IHtcbiAgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XG59O1xuIiwgImltcG9ydCB7IFpvZFR5cGVEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgUmVmcywgU2VlbiB9IGZyb20gJy4vcmVmcyc7XG5pbXBvcnQgeyBpZ25vcmVPdmVycmlkZSB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IHNlbGVjdFBhcnNlciB9IGZyb20gJy4vc2VsZWN0LXBhcnNlcic7XG5pbXBvcnQgeyBnZXRSZWxhdGl2ZVBhdGggfSBmcm9tICcuL2dldC1yZWxhdGl2ZS1wYXRoJztcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSAnLi9wYXJzZXJzL2FueSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURlZihcbiAgZGVmOiBab2RUeXBlRGVmLFxuICByZWZzOiBSZWZzLFxuICBmb3JjZVJlc29sdXRpb24gPSBmYWxzZSwgLy8gRm9yY2VzIGEgbmV3IHNjaGVtYSB0byBiZSBpbnN0YW50aWF0ZWQgZXZlbiB0aG91Z2ggaXRzIGRlZiBoYXMgYmVlbiBzZWVuLiBVc2VkIGZvciBpbXByb3ZpbmcgcmVmcyBpbiBkZWZpbml0aW9ucy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9TdGVmYW5UZXJkZWxsL3pvZC10by1qc29uLXNjaGVtYS9wdWxsLzYxLlxuKTogSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkIHtcbiAgY29uc3Qgc2Vlbkl0ZW0gPSByZWZzLnNlZW4uZ2V0KGRlZik7XG5cbiAgaWYgKHJlZnMub3ZlcnJpZGUpIHtcbiAgICBjb25zdCBvdmVycmlkZVJlc3VsdCA9IHJlZnMub3ZlcnJpZGU/LihcbiAgICAgIGRlZixcbiAgICAgIHJlZnMsXG4gICAgICBzZWVuSXRlbSxcbiAgICAgIGZvcmNlUmVzb2x1dGlvbixcbiAgICApO1xuXG4gICAgaWYgKG92ZXJyaWRlUmVzdWx0ICE9PSBpZ25vcmVPdmVycmlkZSkge1xuICAgICAgcmV0dXJuIG92ZXJyaWRlUmVzdWx0O1xuICAgIH1cbiAgfVxuXG4gIGlmIChzZWVuSXRlbSAmJiAhZm9yY2VSZXNvbHV0aW9uKSB7XG4gICAgY29uc3Qgc2VlblNjaGVtYSA9IGdldCRyZWYoc2Vlbkl0ZW0sIHJlZnMpO1xuXG4gICAgaWYgKHNlZW5TY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHNlZW5TY2hlbWE7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbmV3SXRlbTogU2VlbiA9IHsgZGVmLCBwYXRoOiByZWZzLmN1cnJlbnRQYXRoLCBqc29uU2NoZW1hOiB1bmRlZmluZWQgfTtcblxuICByZWZzLnNlZW4uc2V0KGRlZiwgbmV3SXRlbSk7XG5cbiAgY29uc3QganNvblNjaGVtYU9yR2V0dGVyID0gc2VsZWN0UGFyc2VyKGRlZiwgKGRlZiBhcyBhbnkpLnR5cGVOYW1lLCByZWZzKTtcblxuICAvLyBJZiB0aGUgcmV0dXJuIHdhcyBhIGZ1bmN0aW9uLCB0aGVuIHRoZSBpbm5lciBkZWZpbml0aW9uIG5lZWRzIHRvIGJlIGV4dHJhY3RlZCBiZWZvcmUgYSBjYWxsIHRvIHBhcnNlRGVmIChyZWN1cnNpdmUpXG4gIGNvbnN0IGpzb25TY2hlbWEgPVxuICAgIHR5cGVvZiBqc29uU2NoZW1hT3JHZXR0ZXIgPT09ICdmdW5jdGlvbidcbiAgICAgID8gcGFyc2VEZWYoanNvblNjaGVtYU9yR2V0dGVyKCksIHJlZnMpXG4gICAgICA6IGpzb25TY2hlbWFPckdldHRlcjtcblxuICBpZiAoanNvblNjaGVtYSkge1xuICAgIGFkZE1ldGEoZGVmLCByZWZzLCBqc29uU2NoZW1hKTtcbiAgfVxuXG4gIGlmIChyZWZzLnBvc3RQcm9jZXNzKSB7XG4gICAgY29uc3QgcG9zdFByb2Nlc3NSZXN1bHQgPSByZWZzLnBvc3RQcm9jZXNzKGpzb25TY2hlbWEsIGRlZiwgcmVmcyk7XG5cbiAgICBuZXdJdGVtLmpzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuXG4gICAgcmV0dXJuIHBvc3RQcm9jZXNzUmVzdWx0O1xuICB9XG5cbiAgbmV3SXRlbS5qc29uU2NoZW1hID0ganNvblNjaGVtYTtcblxuICByZXR1cm4ganNvblNjaGVtYTtcbn1cblxuY29uc3QgZ2V0JHJlZiA9IChcbiAgaXRlbTogU2VlbixcbiAgcmVmczogUmVmcyxcbik6XG4gIHwge1xuICAgICAgJHJlZjogc3RyaW5nO1xuICAgIH1cbiAgfCB7fVxuICB8IHVuZGVmaW5lZCA9PiB7XG4gIHN3aXRjaCAocmVmcy4kcmVmU3RyYXRlZ3kpIHtcbiAgICBjYXNlICdyb290JzpcbiAgICAgIHJldHVybiB7ICRyZWY6IGl0ZW0ucGF0aC5qb2luKCcvJykgfTtcbiAgICBjYXNlICdyZWxhdGl2ZSc6XG4gICAgICByZXR1cm4geyAkcmVmOiBnZXRSZWxhdGl2ZVBhdGgocmVmcy5jdXJyZW50UGF0aCwgaXRlbS5wYXRoKSB9O1xuICAgIGNhc2UgJ25vbmUnOlxuICAgIGNhc2UgJ3NlZW4nOiB7XG4gICAgICBpZiAoXG4gICAgICAgIGl0ZW0ucGF0aC5sZW5ndGggPCByZWZzLmN1cnJlbnRQYXRoLmxlbmd0aCAmJlxuICAgICAgICBpdGVtLnBhdGguZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gcmVmcy5jdXJyZW50UGF0aFtpbmRleF0gPT09IHZhbHVlKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgUmVjdXJzaXZlIHJlZmVyZW5jZSBkZXRlY3RlZCBhdCAke3JlZnMuY3VycmVudFBhdGguam9pbihcbiAgICAgICAgICAgICcvJyxcbiAgICAgICAgICApfSEgRGVmYXVsdGluZyB0byBhbnlgLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBwYXJzZUFueURlZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVmcy4kcmVmU3RyYXRlZ3kgPT09ICdzZWVuJyA/IHBhcnNlQW55RGVmKCkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBhZGRNZXRhID0gKFxuICBkZWY6IFpvZFR5cGVEZWYsXG4gIHJlZnM6IFJlZnMsXG4gIGpzb25TY2hlbWE6IEpzb25TY2hlbWE3VHlwZSxcbik6IEpzb25TY2hlbWE3VHlwZSA9PiB7XG4gIGlmIChkZWYuZGVzY3JpcHRpb24pIHtcbiAgICBqc29uU2NoZW1hLmRlc2NyaXB0aW9uID0gZGVmLmRlc2NyaXB0aW9uO1xuICB9XG4gIHJldHVybiBqc29uU2NoZW1hO1xufTtcbiIsICJpbXBvcnQgeyBab2RUeXBlRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zLCBPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4vcGFyc2UtdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBSZWZzID0ge1xuICBzZWVuOiBNYXA8Wm9kVHlwZURlZiwgU2Vlbj47XG4gIGN1cnJlbnRQYXRoOiBzdHJpbmdbXTtcbiAgcHJvcGVydHlQYXRoOiBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcbn0gJiBPcHRpb25zO1xuXG5leHBvcnQgdHlwZSBTZWVuID0ge1xuICBkZWY6IFpvZFR5cGVEZWY7XG4gIHBhdGg6IHN0cmluZ1tdO1xuICBqc29uU2NoZW1hOiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UmVmcyA9IChvcHRpb25zPzogc3RyaW5nIHwgUGFydGlhbDxPcHRpb25zPik6IFJlZnMgPT4ge1xuICBjb25zdCBfb3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKG9wdGlvbnMpO1xuICBjb25zdCBjdXJyZW50UGF0aCA9XG4gICAgX29wdGlvbnMubmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IFsuLi5fb3B0aW9ucy5iYXNlUGF0aCwgX29wdGlvbnMuZGVmaW5pdGlvblBhdGgsIF9vcHRpb25zLm5hbWVdXG4gICAgICA6IF9vcHRpb25zLmJhc2VQYXRoO1xuICByZXR1cm4ge1xuICAgIC4uLl9vcHRpb25zLFxuICAgIGN1cnJlbnRQYXRoOiBjdXJyZW50UGF0aCxcbiAgICBwcm9wZXJ0eVBhdGg6IHVuZGVmaW5lZCxcbiAgICBzZWVuOiBuZXcgTWFwKFxuICAgICAgT2JqZWN0LmVudHJpZXMoX29wdGlvbnMuZGVmaW5pdGlvbnMpLm1hcCgoW25hbWUsIGRlZl0pID0+IFtcbiAgICAgICAgZGVmLl9kZWYsXG4gICAgICAgIHtcbiAgICAgICAgICBkZWY6IGRlZi5fZGVmLFxuICAgICAgICAgIHBhdGg6IFsuLi5fb3B0aW9ucy5iYXNlUGF0aCwgX29wdGlvbnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLFxuICAgICAgICAgIC8vIFJlc29sdXRpb24gb2YgcmVmZXJlbmNlcyB3aWxsIGJlIGZvcmNlZCBldmVuIHRob3VnaCBzZWVuLCBzbyBpdCdzIG9rIHRoYXQgdGhlIHNjaGVtYSBpcyB1bmRlZmluZWQgaGVyZSBmb3Igbm93LlxuICAgICAgICAgIGpzb25TY2hlbWE6IHVuZGVmaW5lZCxcbiAgICAgICAgfSxcbiAgICAgIF0pLFxuICAgICksXG4gIH07XG59O1xuIiwgImltcG9ydCB7IFpvZFNjaGVtYSB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBnZXRSZWZzIH0gZnJvbSAnLi9yZWZzJztcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSAnLi9wYXJzZXJzL2FueSc7XG5cbmNvbnN0IHpvZFRvSnNvblNjaGVtYSA9IChcbiAgc2NoZW1hOiBab2RTY2hlbWE8YW55PixcbiAgb3B0aW9ucz86IFBhcnRpYWw8T3B0aW9ucz4gfCBzdHJpbmcsXG4pOiBKc29uU2NoZW1hN1R5cGUgJiB7XG4gICRzY2hlbWE/OiBzdHJpbmc7XG4gIGRlZmluaXRpb25zPzoge1xuICAgIFtrZXk6IHN0cmluZ106IEpzb25TY2hlbWE3VHlwZTtcbiAgfTtcbn0gPT4ge1xuICBjb25zdCByZWZzID0gZ2V0UmVmcyhvcHRpb25zKTtcblxuICBsZXQgZGVmaW5pdGlvbnMgPVxuICAgIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JyAmJiBvcHRpb25zLmRlZmluaXRpb25zXG4gICAgICA/IE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuZGVmaW5pdGlvbnMpLnJlZHVjZShcbiAgICAgICAgICAoYWNjOiB7IFtrZXk6IHN0cmluZ106IEpzb25TY2hlbWE3VHlwZSB9LCBbbmFtZSwgc2NoZW1hXSkgPT4gKHtcbiAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgIFtuYW1lXTpcbiAgICAgICAgICAgICAgcGFyc2VEZWYoXG4gICAgICAgICAgICAgICAgc2NoZW1hLl9kZWYsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICApID8/IHBhcnNlQW55RGVmKCksXG4gICAgICAgICAgfSksXG4gICAgICAgICAge30sXG4gICAgICAgIClcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IG5hbWUgPVxuICAgIHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJ1xuICAgICAgPyBvcHRpb25zXG4gICAgICA6IG9wdGlvbnM/Lm5hbWVTdHJhdGVneSA9PT0gJ3RpdGxlJ1xuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IG9wdGlvbnM/Lm5hbWU7XG5cbiAgY29uc3QgbWFpbiA9XG4gICAgcGFyc2VEZWYoXG4gICAgICBzY2hlbWEuX2RlZixcbiAgICAgIG5hbWUgPT09IHVuZGVmaW5lZFxuICAgICAgICA/IHJlZnNcbiAgICAgICAgOiB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmJhc2VQYXRoLCByZWZzLmRlZmluaXRpb25QYXRoLCBuYW1lXSxcbiAgICAgICAgICB9LFxuICAgICAgZmFsc2UsXG4gICAgKSA/PyAocGFyc2VBbnlEZWYoKSBhcyBKc29uU2NoZW1hN1R5cGUpO1xuXG4gIGNvbnN0IHRpdGxlID1cbiAgICB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcgJiZcbiAgICBvcHRpb25zLm5hbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgIG9wdGlvbnMubmFtZVN0cmF0ZWd5ID09PSAndGl0bGUnXG4gICAgICA/IG9wdGlvbnMubmFtZVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgaWYgKHRpdGxlICE9PSB1bmRlZmluZWQpIHtcbiAgICBtYWluLnRpdGxlID0gdGl0bGU7XG4gIH1cblxuICBjb25zdCBjb21iaW5lZDogUmV0dXJuVHlwZTx0eXBlb2Ygem9kVG9Kc29uU2NoZW1hPiA9XG4gICAgbmFtZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGRlZmluaXRpb25zXG4gICAgICAgID8ge1xuICAgICAgICAgICAgLi4ubWFpbixcbiAgICAgICAgICAgIFtyZWZzLmRlZmluaXRpb25QYXRoXTogZGVmaW5pdGlvbnMsXG4gICAgICAgICAgfVxuICAgICAgICA6IG1haW5cbiAgICAgIDoge1xuICAgICAgICAgICRyZWY6IFtcbiAgICAgICAgICAgIC4uLihyZWZzLiRyZWZTdHJhdGVneSA9PT0gJ3JlbGF0aXZlJyA/IFtdIDogcmVmcy5iYXNlUGF0aCksXG4gICAgICAgICAgICByZWZzLmRlZmluaXRpb25QYXRoLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICBdLmpvaW4oJy8nKSxcbiAgICAgICAgICBbcmVmcy5kZWZpbml0aW9uUGF0aF06IHtcbiAgICAgICAgICAgIC4uLmRlZmluaXRpb25zLFxuICAgICAgICAgICAgW25hbWVdOiBtYWluLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgY29tYmluZWQuJHNjaGVtYSA9ICdodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSMnO1xuXG4gIHJldHVybiBjb21iaW5lZDtcbn07XG5cbmV4cG9ydCB7IHpvZFRvSnNvblNjaGVtYSB9O1xuIiwgImV4cG9ydCAqIGZyb20gJy4vZ2V0LXJlbGF0aXZlLXBhdGgnO1xuZXhwb3J0ICogZnJvbSAnLi9vcHRpb25zJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2UtZGVmJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2UtdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2FueSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvYXJyYXknO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2JpZ2ludCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvYm9vbGVhbic7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvYnJhbmRlZCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvY2F0Y2gnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2RhdGUnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2RlZmF1bHQnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2VmZmVjdHMnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2VudW0nO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2ludGVyc2VjdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvbGl0ZXJhbCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvbWFwJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9uYXRpdmUtZW51bSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvbmV2ZXInO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL251bGwnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL251bGxhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9udW1iZXInO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL29iamVjdCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvb3B0aW9uYWwnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3BpcGVsaW5lJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9wcm9taXNlJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9yZWFkb25seSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvcmVjb3JkJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9zZXQnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3N0cmluZyc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvdHVwbGUnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3VuZGVmaW5lZCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvdW5pb24nO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3Vua25vd24nO1xuZXhwb3J0ICogZnJvbSAnLi9yZWZzJztcbmV4cG9ydCAqIGZyb20gJy4vc2VsZWN0LXBhcnNlcic7XG5leHBvcnQgKiBmcm9tICcuL3pvZC10by1qc29uLXNjaGVtYSc7XG5pbXBvcnQgeyB6b2RUb0pzb25TY2hlbWEgfSBmcm9tICcuL3pvZC10by1qc29uLXNjaGVtYSc7XG5leHBvcnQgZGVmYXVsdCB6b2RUb0pzb25TY2hlbWE7XG4iLCAiaW1wb3J0IHsgVmFsaWRhdG9yLCB2YWxpZGF0b3JTeW1ib2wsIHR5cGUgVmFsaWRhdGlvblJlc3VsdCB9IGZyb20gJy4vdmFsaWRhdG9yJztcbmltcG9ydCB7IEpTT05TY2hlbWE3IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgKiBhcyB6MyBmcm9tICd6b2QvdjMnO1xuaW1wb3J0ICogYXMgejQgZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IHpvZFNjaGVtYSB9IGZyb20gJy4vem9kLXNjaGVtYSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXJrIHNjaGVtYXMgc28gd2UgY2FuIHN1cHBvcnQgYm90aCBab2QgYW5kIGN1c3RvbSBzY2hlbWFzLlxuICovXG5jb25zdCBzY2hlbWFTeW1ib2wgPSBTeW1ib2wuZm9yKCd2ZXJjZWwuYWkuc2NoZW1hJyk7XG5cbmV4cG9ydCB0eXBlIFNjaGVtYTxPQkpFQ1QgPSB1bmtub3duPiA9IFZhbGlkYXRvcjxPQkpFQ1Q+ICYge1xuICAvKipcbiAgICogVXNlZCB0byBtYXJrIHNjaGVtYXMgc28gd2UgY2FuIHN1cHBvcnQgYm90aCBab2QgYW5kIGN1c3RvbSBzY2hlbWFzLlxuICAgKi9cbiAgW3NjaGVtYVN5bWJvbF06IHRydWU7XG5cbiAgLyoqXG4gICAqIFNjaGVtYSB0eXBlIGZvciBpbmZlcmVuY2UuXG4gICAqL1xuICBfdHlwZTogT0JKRUNUO1xuXG4gIC8qKlxuICAgKiBUaGUgSlNPTiBTY2hlbWEgZm9yIHRoZSBzY2hlbWEuIEl0IGlzIHBhc3NlZCB0byB0aGUgcHJvdmlkZXJzLlxuICAgKi9cbiAgcmVhZG9ubHkganNvblNjaGVtYTogSlNPTlNjaGVtYTc7XG59O1xuXG4vLyBOb3RlOiBab2QgdHlwZXMgaGVyZSBleGFjdGx5IG1hdGNoIHRoZSB0eXBlcyBpbiB6b2Qtc2NoZW1hLnRzXG4vLyB0byBwcmV2ZW50IHR5cGUgZXJyb3JzIHdoZW4gdXNpbmcgem9kIHNjaGVtYXMgd2l0aCBmbGV4aWJsZSBzY2hlbWFzLlxuZXhwb3J0IHR5cGUgRmxleGlibGVTY2hlbWE8VD4gPVxuICB8IHo0LmNvcmUuJFpvZFR5cGU8VCwgYW55PlxuICB8IHozLlNjaGVtYTxULCB6My5ab2RUeXBlRGVmLCBhbnk+XG4gIHwgU2NoZW1hPFQ+O1xuXG5leHBvcnQgdHlwZSBJbmZlclNjaGVtYTxTQ0hFTUE+ID0gU0NIRU1BIGV4dGVuZHMgejMuU2NoZW1hXG4gID8gejMuaW5mZXI8U0NIRU1BPlxuICA6IFNDSEVNQSBleHRlbmRzIHo0LmNvcmUuJFpvZFR5cGVcbiAgICA/IHo0LmluZmVyPFNDSEVNQT5cbiAgICA6IFNDSEVNQSBleHRlbmRzIFNjaGVtYTxpbmZlciBUPlxuICAgICAgPyBUXG4gICAgICA6IG5ldmVyO1xuXG4vKipcbiAqIENyZWF0ZSBhIHNjaGVtYSB1c2luZyBhIEpTT04gU2NoZW1hLlxuICpcbiAqIEBwYXJhbSBqc29uU2NoZW1hIFRoZSBKU09OIFNjaGVtYSBmb3IgdGhlIHNjaGVtYS5cbiAqIEBwYXJhbSBvcHRpb25zLnZhbGlkYXRlIE9wdGlvbmFsLiBBIHZhbGlkYXRpb24gZnVuY3Rpb24gZm9yIHRoZSBzY2hlbWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqc29uU2NoZW1hPE9CSkVDVCA9IHVua25vd24+KFxuICBqc29uU2NoZW1hOiBKU09OU2NoZW1hNyxcbiAge1xuICAgIHZhbGlkYXRlLFxuICB9OiB7XG4gICAgdmFsaWRhdGU/OiAoXG4gICAgICB2YWx1ZTogdW5rbm93bixcbiAgICApID0+IFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPiB8IFByb21pc2VMaWtlPFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPj47XG4gIH0gPSB7fSxcbik6IFNjaGVtYTxPQkpFQ1Q+IHtcbiAgcmV0dXJuIHtcbiAgICBbc2NoZW1hU3ltYm9sXTogdHJ1ZSxcbiAgICBfdHlwZTogdW5kZWZpbmVkIGFzIE9CSkVDVCwgLy8gc2hvdWxkIG5ldmVyIGJlIHVzZWQgZGlyZWN0bHlcbiAgICBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZSxcbiAgICBqc29uU2NoZW1hLFxuICAgIHZhbGlkYXRlLFxuICB9O1xufVxuXG5mdW5jdGlvbiBpc1NjaGVtYSh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFNjaGVtYSB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgc2NoZW1hU3ltYm9sIGluIHZhbHVlICYmXG4gICAgdmFsdWVbc2NoZW1hU3ltYm9sXSA9PT0gdHJ1ZSAmJlxuICAgICdqc29uU2NoZW1hJyBpbiB2YWx1ZSAmJlxuICAgICd2YWxpZGF0ZScgaW4gdmFsdWVcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzU2NoZW1hPE9CSkVDVD4oXG4gIHNjaGVtYTpcbiAgICB8IHo0LmNvcmUuJFpvZFR5cGU8T0JKRUNULCBhbnk+XG4gICAgfCB6My5TY2hlbWE8T0JKRUNULCB6My5ab2RUeXBlRGVmLCBhbnk+XG4gICAgfCBTY2hlbWE8T0JKRUNUPlxuICAgIHwgdW5kZWZpbmVkLFxuKTogU2NoZW1hPE9CSkVDVD4ge1xuICByZXR1cm4gc2NoZW1hID09IG51bGxcbiAgICA/IGpzb25TY2hlbWEoe1xuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgICAgfSlcbiAgICA6IGlzU2NoZW1hKHNjaGVtYSlcbiAgICAgID8gc2NoZW1hXG4gICAgICA6IHpvZFNjaGVtYShzY2hlbWEpO1xufVxuIiwgIi8vIGJ0b2EgYW5kIGF0b2IgbmVlZCB0byBiZSBpbnZva2VkIGFzIGEgZnVuY3Rpb24gY2FsbCwgbm90IGFzIGEgbWV0aG9kIGNhbGwuXG4vLyBPdGhlcndpc2UgQ2xvdWRGbGFyZSB3aWxsIHRocm93IGFcbi8vIFwiVHlwZUVycm9yOiBJbGxlZ2FsIGludm9jYXRpb246IGZ1bmN0aW9uIGNhbGxlZCB3aXRoIGluY29ycmVjdCB0aGlzIHJlZmVyZW5jZVwiXG5jb25zdCB7IGJ0b2EsIGF0b2IgfSA9IGdsb2JhbFRoaXM7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5KGJhc2U2NFN0cmluZzogc3RyaW5nKSB7XG4gIGNvbnN0IGJhc2U2NFVybCA9IGJhc2U2NFN0cmluZy5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpO1xuICBjb25zdCBsYXRpbjFzdHJpbmcgPSBhdG9iKGJhc2U2NFVybCk7XG4gIHJldHVybiBVaW50OEFycmF5LmZyb20obGF0aW4xc3RyaW5nLCBieXRlID0+IGJ5dGUuY29kZVBvaW50QXQoMCkhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQoYXJyYXk6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBsZXQgbGF0aW4xc3RyaW5nID0gJyc7XG5cbiAgLy8gTm90ZTogcmVndWxhciBmb3IgbG9vcCB0byBzdXBwb3J0IG9sZGVyIEphdmFTY3JpcHQgdmVyc2lvbnMgdGhhdFxuICAvLyBkbyBub3Qgc3VwcG9ydCBmb3IuLm9mIG9uIFVpbnQ4QXJyYXlcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGxhdGluMXN0cmluZyArPSBTdHJpbmcuZnJvbUNvZGVQb2ludChhcnJheVtpXSk7XG4gIH1cblxuICByZXR1cm4gYnRvYShsYXRpbjFzdHJpbmcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvQmFzZTY0KHZhbHVlOiBzdHJpbmcgfCBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSA/IGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQodmFsdWUpIDogdmFsdWU7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIHdpdGhvdXRUcmFpbGluZ1NsYXNoKHVybDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gIHJldHVybiB1cmw/LnJlcGxhY2UoL1xcLyQvLCAnJyk7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGlzQXN5bmNJdGVyYWJsZTxUID0gYW55PihvYmo6IGFueSk6IG9iaiBpcyBBc3luY0l0ZXJhYmxlPFQ+IHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIHR5cGVvZiBvYmpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuIiwgImltcG9ydCB7IFRvb2wsIFRvb2xDYWxsT3B0aW9ucywgVG9vbEV4ZWN1dGVGdW5jdGlvbiB9IGZyb20gJy4vdG9vbCc7XG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUgfSBmcm9tICcuLi9pcy1hc3luYy1pdGVyYWJsZSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiogZXhlY3V0ZVRvb2w8SU5QVVQsIE9VVFBVVD4oe1xuICBleGVjdXRlLFxuICBpbnB1dCxcbiAgb3B0aW9ucyxcbn06IHtcbiAgZXhlY3V0ZTogVG9vbEV4ZWN1dGVGdW5jdGlvbjxJTlBVVCwgT1VUUFVUPjtcbiAgaW5wdXQ6IElOUFVUO1xuICBvcHRpb25zOiBUb29sQ2FsbE9wdGlvbnM7XG59KTogQXN5bmNHZW5lcmF0b3I8XG4gIHsgdHlwZTogJ3ByZWxpbWluYXJ5Jzsgb3V0cHV0OiBPVVRQVVQgfSB8IHsgdHlwZTogJ2ZpbmFsJzsgb3V0cHV0OiBPVVRQVVQgfVxuPiB7XG4gIGNvbnN0IHJlc3VsdCA9IGV4ZWN1dGUoaW5wdXQsIG9wdGlvbnMpO1xuXG4gIGlmIChpc0FzeW5jSXRlcmFibGUocmVzdWx0KSkge1xuICAgIGxldCBsYXN0T3V0cHV0OiBPVVRQVVQgfCB1bmRlZmluZWQ7XG4gICAgZm9yIGF3YWl0IChjb25zdCBvdXRwdXQgb2YgcmVzdWx0KSB7XG4gICAgICBsYXN0T3V0cHV0ID0gb3V0cHV0O1xuICAgICAgeWllbGQgeyB0eXBlOiAncHJlbGltaW5hcnknLCBvdXRwdXQgfTtcbiAgICB9XG4gICAgeWllbGQgeyB0eXBlOiAnZmluYWwnLCBvdXRwdXQ6IGxhc3RPdXRwdXQhIH07XG4gIH0gZWxzZSB7XG4gICAgeWllbGQgeyB0eXBlOiAnZmluYWwnLCBvdXRwdXQ6IGF3YWl0IHJlc3VsdCB9O1xuICB9XG59XG4iLCAiZXhwb3J0ICogZnJvbSAnLi9jb21iaW5lLWhlYWRlcnMnO1xuZXhwb3J0IHsgY29udmVydEFzeW5jSXRlcmF0b3JUb1JlYWRhYmxlU3RyZWFtIH0gZnJvbSAnLi9jb252ZXJ0LWFzeW5jLWl0ZXJhdG9yLXRvLXJlYWRhYmxlLXN0cmVhbSc7XG5leHBvcnQgKiBmcm9tICcuL2RlbGF5JztcbmV4cG9ydCAqIGZyb20gJy4vZXh0cmFjdC1yZXNwb25zZS1oZWFkZXJzJztcbmV4cG9ydCAqIGZyb20gJy4vZmV0Y2gtZnVuY3Rpb24nO1xuZXhwb3J0IHsgZ2V0UnVudGltZUVudmlyb25tZW50VXNlckFnZW50IH0gZnJvbSAnLi9nZXQtcnVudGltZS1lbnZpcm9ubWVudC11c2VyLWFnZW50JztcbmV4cG9ydCB7IHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICcuL3dpdGgtdXNlci1hZ2VudC1zdWZmaXgnO1xuZXhwb3J0IHsgY3JlYXRlSWRHZW5lcmF0b3IsIGdlbmVyYXRlSWQsIHR5cGUgSWRHZW5lcmF0b3IgfSBmcm9tICcuL2dlbmVyYXRlLWlkJztcbmV4cG9ydCAqIGZyb20gJy4vZ2V0LWVycm9yLW1lc3NhZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi9nZXQtZnJvbS1hcGknO1xuZXhwb3J0IHsgaW5qZWN0SnNvbkluc3RydWN0aW9uSW50b01lc3NhZ2VzIH0gZnJvbSAnLi9pbmplY3QtanNvbi1pbnN0cnVjdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL2lzLWFib3J0LWVycm9yJztcbmV4cG9ydCB7IGlzVXJsU3VwcG9ydGVkIH0gZnJvbSAnLi9pcy11cmwtc3VwcG9ydGVkJztcbmV4cG9ydCAqIGZyb20gJy4vbG9hZC1hcGkta2V5JztcbmV4cG9ydCB7IGxvYWRPcHRpb25hbFNldHRpbmcgfSBmcm9tICcuL2xvYWQtb3B0aW9uYWwtc2V0dGluZyc7XG5leHBvcnQgeyBsb2FkU2V0dGluZyB9IGZyb20gJy4vbG9hZC1zZXR0aW5nJztcbmV4cG9ydCB7IG1lZGlhVHlwZVRvRXh0ZW5zaW9uIH0gZnJvbSAnLi9tZWRpYS10eXBlLXRvLWV4dGVuc2lvbic7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlLWpzb24nO1xuZXhwb3J0IHsgcGFyc2VKc29uRXZlbnRTdHJlYW0gfSBmcm9tICcuL3BhcnNlLWpzb24tZXZlbnQtc3RyZWFtJztcbmV4cG9ydCB7IHBhcnNlUHJvdmlkZXJPcHRpb25zIH0gZnJvbSAnLi9wYXJzZS1wcm92aWRlci1vcHRpb25zJztcbmV4cG9ydCAqIGZyb20gJy4vcG9zdC10by1hcGknO1xuZXhwb3J0IHtcbiAgY3JlYXRlUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3RvcnksXG4gIGNyZWF0ZVByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5V2l0aE91dHB1dFNjaGVtYSxcbiAgdHlwZSBQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeSxcbiAgdHlwZSBQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeVdpdGhPdXRwdXRTY2hlbWEsXG59IGZyb20gJy4vcHJvdmlkZXItZGVmaW5lZC10b29sLWZhY3RvcnknO1xuZXhwb3J0ICogZnJvbSAnLi9yZW1vdmUtdW5kZWZpbmVkLWVudHJpZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9yZXNvbHZlJztcbmV4cG9ydCAqIGZyb20gJy4vcmVzcG9uc2UtaGFuZGxlcic7XG5leHBvcnQge1xuICBhc1NjaGVtYSxcbiAganNvblNjaGVtYSxcbiAgdHlwZSBGbGV4aWJsZVNjaGVtYSxcbiAgdHlwZSBJbmZlclNjaGVtYSxcbiAgdHlwZSBTY2hlbWEsXG59IGZyb20gJy4vc2NoZW1hJztcbmV4cG9ydCAqIGZyb20gJy4vdWludDgtdXRpbHMnO1xuZXhwb3J0ICogZnJvbSAnLi92YWxpZGF0ZS10eXBlcyc7XG5leHBvcnQgKiBmcm9tICcuL3ZhbGlkYXRvcic7XG5leHBvcnQgKiBmcm9tICcuL3dpdGhvdXQtdHJhaWxpbmctc2xhc2gnO1xuZXhwb3J0IHsgem9kU2NoZW1hIH0gZnJvbSAnLi96b2Qtc2NoZW1hJztcblxuLy8gZm9sZGVyIHJlLWV4cG9ydHNcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xuXG4vLyBleHRlcm5hbCByZS1leHBvcnRzXG5leHBvcnQgKiBmcm9tICdAc3RhbmRhcmQtc2NoZW1hL3NwZWMnO1xuZXhwb3J0IHtcbiAgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0sXG4gIHR5cGUgRXZlbnRTb3VyY2VNZXNzYWdlLFxufSBmcm9tICdldmVudHNvdXJjZS1wYXJzZXIvc3RyZWFtJztcblxuLy8gdXNlci1hZ2VudCBleHBvcnRzXG5leHBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi92ZXJzaW9uJztcbiIsICJpbXBvcnQgeyBOb1N1Y2hNb2RlbEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBsb2FkT3B0aW9uYWxTZXR0aW5nLFxuICB3aXRob3V0VHJhaWxpbmdTbGFzaCxcbiAgdHlwZSBGZXRjaEZ1bmN0aW9uLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IGFzR2F0ZXdheUVycm9yLCBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvciB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7XG4gIEdBVEVXQVlfQVVUSF9NRVRIT0RfSEVBREVSLFxuICBwYXJzZUF1dGhNZXRob2QsXG59IGZyb20gJy4vZXJyb3JzL3BhcnNlLWF1dGgtbWV0aG9kJztcbmltcG9ydCB7XG4gIEdhdGV3YXlGZXRjaE1ldGFkYXRhLFxuICB0eXBlIEdhdGV3YXlGZXRjaE1ldGFkYXRhUmVzcG9uc2UsXG59IGZyb20gJy4vZ2F0ZXdheS1mZXRjaC1tZXRhZGF0YSc7XG5pbXBvcnQgeyBHYXRld2F5TGFuZ3VhZ2VNb2RlbCB9IGZyb20gJy4vZ2F0ZXdheS1sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBHYXRld2F5RW1iZWRkaW5nTW9kZWwgfSBmcm9tICcuL2dhdGV3YXktZW1iZWRkaW5nLW1vZGVsJztcbmltcG9ydCB0eXBlIHsgR2F0ZXdheUVtYmVkZGluZ01vZGVsSWQgfSBmcm9tICcuL2dhdGV3YXktZW1iZWRkaW5nLW1vZGVsLXNldHRpbmdzJztcbmltcG9ydCB7IGdldFZlcmNlbE9pZGNUb2tlbiwgZ2V0VmVyY2VsUmVxdWVzdElkIH0gZnJvbSAnLi92ZXJjZWwtZW52aXJvbm1lbnQnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5TW9kZWxJZCB9IGZyb20gJy4vZ2F0ZXdheS1sYW5ndWFnZS1tb2RlbC1zZXR0aW5ncyc7XG5pbXBvcnQgdHlwZSB7XG4gIExhbmd1YWdlTW9kZWxWMixcbiAgRW1iZWRkaW5nTW9kZWxWMixcbiAgUHJvdmlkZXJWMixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2F0ZXdheVByb3ZpZGVyIGV4dGVuZHMgUHJvdmlkZXJWMiB7XG4gIChtb2RlbElkOiBHYXRld2F5TW9kZWxJZCk6IExhbmd1YWdlTW9kZWxWMjtcblxuICAvKipcbkNyZWF0ZXMgYSBtb2RlbCBmb3IgdGV4dCBnZW5lcmF0aW9uLlxuKi9cbiAgbGFuZ3VhZ2VNb2RlbChtb2RlbElkOiBHYXRld2F5TW9kZWxJZCk6IExhbmd1YWdlTW9kZWxWMjtcblxuICAvKipcblJldHVybnMgYXZhaWxhYmxlIHByb3ZpZGVycyBhbmQgbW9kZWxzIGZvciB1c2Ugd2l0aCB0aGUgcmVtb3RlIHByb3ZpZGVyLlxuICovXG4gIGdldEF2YWlsYWJsZU1vZGVscygpOiBQcm9taXNlPEdhdGV3YXlGZXRjaE1ldGFkYXRhUmVzcG9uc2U+O1xuXG4gIC8qKlxuQ3JlYXRlcyBhIG1vZGVsIGZvciBnZW5lcmF0aW5nIHRleHQgZW1iZWRkaW5ncy5cbiovXG4gIHRleHRFbWJlZGRpbmdNb2RlbChcbiAgICBtb2RlbElkOiBHYXRld2F5RW1iZWRkaW5nTW9kZWxJZCxcbiAgKTogRW1iZWRkaW5nTW9kZWxWMjxzdHJpbmc+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdhdGV3YXlQcm92aWRlclNldHRpbmdzIHtcbiAgLyoqXG5UaGUgYmFzZSBVUkwgcHJlZml4IGZvciBBUEkgY2FsbHMuIERlZmF1bHRzIHRvIGBodHRwczovL2FpLWdhdGV3YXkudmVyY2VsLnNoL3YxL2FpYC5cbiAgICovXG4gIGJhc2VVUkw/OiBzdHJpbmc7XG5cbiAgLyoqXG5BUEkga2V5IHRoYXQgaXMgYmVpbmcgc2VudCB1c2luZyB0aGUgYEF1dGhvcml6YXRpb25gIGhlYWRlci5cbiAgICovXG4gIGFwaUtleT86IHN0cmluZztcblxuICAvKipcbkN1c3RvbSBoZWFkZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHJlcXVlc3RzLlxuICAgICAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuICAvKipcbkN1c3RvbSBmZXRjaCBpbXBsZW1lbnRhdGlvbi4gWW91IGNhbiB1c2UgaXQgYXMgYSBtaWRkbGV3YXJlIHRvIGludGVyY2VwdCByZXF1ZXN0cyxcbm9yIHRvIHByb3ZpZGUgYSBjdXN0b20gZmV0Y2ggaW1wbGVtZW50YXRpb24gZm9yIGUuZy4gdGVzdGluZy5cbiAgICAqL1xuICBmZXRjaD86IEZldGNoRnVuY3Rpb247XG5cbiAgLyoqXG5Ib3cgZnJlcXVlbnRseSB0byByZWZyZXNoIHRoZSBtZXRhZGF0YSBjYWNoZSBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBtZXRhZGF0YUNhY2hlUmVmcmVzaE1pbGxpcz86IG51bWJlcjtcblxuICAvKipcbiAgICogQGludGVybmFsIEZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHlcbiAgICovXG4gIF9pbnRlcm5hbD86IHtcbiAgICBjdXJyZW50RGF0ZT86ICgpID0+IERhdGU7XG4gIH07XG59XG5cbmNvbnN0IEFJX0dBVEVXQVlfUFJPVE9DT0xfVkVSU0lPTiA9ICcwLjAuMSc7XG5cbi8qKlxuQ3JlYXRlIGEgcmVtb3RlIHByb3ZpZGVyIGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR2F0ZXdheVByb3ZpZGVyKFxuICBvcHRpb25zOiBHYXRld2F5UHJvdmlkZXJTZXR0aW5ncyA9IHt9LFxuKTogR2F0ZXdheVByb3ZpZGVyIHtcbiAgbGV0IHBlbmRpbmdNZXRhZGF0YTogUHJvbWlzZTxHYXRld2F5RmV0Y2hNZXRhZGF0YVJlc3BvbnNlPiB8IG51bGwgPSBudWxsO1xuICBsZXQgbWV0YWRhdGFDYWNoZTogR2F0ZXdheUZldGNoTWV0YWRhdGFSZXNwb25zZSB8IG51bGwgPSBudWxsO1xuICBjb25zdCBjYWNoZVJlZnJlc2hNaWxsaXMgPVxuICAgIG9wdGlvbnMubWV0YWRhdGFDYWNoZVJlZnJlc2hNaWxsaXMgPz8gMTAwMCAqIDYwICogNTtcbiAgbGV0IGxhc3RGZXRjaFRpbWUgPSAwO1xuXG4gIGNvbnN0IGJhc2VVUkwgPVxuICAgIHdpdGhvdXRUcmFpbGluZ1NsYXNoKG9wdGlvbnMuYmFzZVVSTCkgPz9cbiAgICAnaHR0cHM6Ly9haS1nYXRld2F5LnZlcmNlbC5zaC92MS9haSc7XG5cbiAgY29uc3QgZ2V0SGVhZGVycyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBhdXRoID0gYXdhaXQgZ2V0R2F0ZXdheUF1dGhUb2tlbihvcHRpb25zKTtcbiAgICBpZiAoYXV0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2F1dGgudG9rZW59YCxcbiAgICAgICAgJ2FpLWdhdGV3YXktcHJvdG9jb2wtdmVyc2lvbic6IEFJX0dBVEVXQVlfUFJPVE9DT0xfVkVSU0lPTixcbiAgICAgICAgW0dBVEVXQVlfQVVUSF9NRVRIT0RfSEVBREVSXTogYXV0aC5hdXRoTWV0aG9kLFxuICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRocm93IEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yLmNyZWF0ZUNvbnRleHR1YWxFcnJvcih7XG4gICAgICBhcGlLZXlQcm92aWRlZDogZmFsc2UsXG4gICAgICBvaWRjVG9rZW5Qcm92aWRlZDogZmFsc2UsXG4gICAgICBzdGF0dXNDb2RlOiA0MDEsXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlTzExeUhlYWRlcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgZGVwbG95bWVudElkID0gbG9hZE9wdGlvbmFsU2V0dGluZyh7XG4gICAgICBzZXR0aW5nVmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiAnVkVSQ0VMX0RFUExPWU1FTlRfSUQnLFxuICAgIH0pO1xuICAgIGNvbnN0IGVudmlyb25tZW50ID0gbG9hZE9wdGlvbmFsU2V0dGluZyh7XG4gICAgICBzZXR0aW5nVmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiAnVkVSQ0VMX0VOVicsXG4gICAgfSk7XG4gICAgY29uc3QgcmVnaW9uID0gbG9hZE9wdGlvbmFsU2V0dGluZyh7XG4gICAgICBzZXR0aW5nVmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiAnVkVSQ0VMX1JFR0lPTicsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdElkID0gYXdhaXQgZ2V0VmVyY2VsUmVxdWVzdElkKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi4oZGVwbG95bWVudElkICYmIHsgJ2FpLW8xMXktZGVwbG95bWVudC1pZCc6IGRlcGxveW1lbnRJZCB9KSxcbiAgICAgICAgLi4uKGVudmlyb25tZW50ICYmIHsgJ2FpLW8xMXktZW52aXJvbm1lbnQnOiBlbnZpcm9ubWVudCB9KSxcbiAgICAgICAgLi4uKHJlZ2lvbiAmJiB7ICdhaS1vMTF5LXJlZ2lvbic6IHJlZ2lvbiB9KSxcbiAgICAgICAgLi4uKHJlcXVlc3RJZCAmJiB7ICdhaS1vMTF5LXJlcXVlc3QtaWQnOiByZXF1ZXN0SWQgfSksXG4gICAgICB9O1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlTGFuZ3VhZ2VNb2RlbCA9IChtb2RlbElkOiBHYXRld2F5TW9kZWxJZCkgPT4ge1xuICAgIHJldHVybiBuZXcgR2F0ZXdheUxhbmd1YWdlTW9kZWwobW9kZWxJZCwge1xuICAgICAgcHJvdmlkZXI6ICdnYXRld2F5JyxcbiAgICAgIGJhc2VVUkwsXG4gICAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgICBvMTF5SGVhZGVyczogY3JlYXRlTzExeUhlYWRlcnMoKSxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBnZXRBdmFpbGFibGVNb2RlbHMgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gb3B0aW9ucy5faW50ZXJuYWw/LmN1cnJlbnREYXRlPy4oKS5nZXRUaW1lKCkgPz8gRGF0ZS5ub3coKTtcbiAgICBpZiAoIXBlbmRpbmdNZXRhZGF0YSB8fCBub3cgLSBsYXN0RmV0Y2hUaW1lID4gY2FjaGVSZWZyZXNoTWlsbGlzKSB7XG4gICAgICBsYXN0RmV0Y2hUaW1lID0gbm93O1xuXG4gICAgICBwZW5kaW5nTWV0YWRhdGEgPSBuZXcgR2F0ZXdheUZldGNoTWV0YWRhdGEoe1xuICAgICAgICBiYXNlVVJMLFxuICAgICAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgICAgICBmZXRjaDogb3B0aW9ucy5mZXRjaCxcbiAgICAgIH0pXG4gICAgICAgIC5nZXRBdmFpbGFibGVNb2RlbHMoKVxuICAgICAgICAudGhlbihtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgbWV0YWRhdGFDYWNoZSA9IG1ldGFkYXRhO1xuICAgICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGFzeW5jIChlcnJvcjogdW5rbm93bikgPT4ge1xuICAgICAgICAgIHRocm93IGFzR2F0ZXdheUVycm9yKGVycm9yLCBwYXJzZUF1dGhNZXRob2QoYXdhaXQgZ2V0SGVhZGVycygpKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtZXRhZGF0YUNhY2hlID8gUHJvbWlzZS5yZXNvbHZlKG1ldGFkYXRhQ2FjaGUpIDogcGVuZGluZ01ldGFkYXRhO1xuICB9O1xuXG4gIGNvbnN0IHByb3ZpZGVyID0gZnVuY3Rpb24gKG1vZGVsSWQ6IEdhdGV3YXlNb2RlbElkKSB7XG4gICAgaWYgKG5ldy50YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBHYXRld2F5IFByb3ZpZGVyIG1vZGVsIGZ1bmN0aW9uIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IGtleXdvcmQuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUxhbmd1YWdlTW9kZWwobW9kZWxJZCk7XG4gIH07XG5cbiAgcHJvdmlkZXIuZ2V0QXZhaWxhYmxlTW9kZWxzID0gZ2V0QXZhaWxhYmxlTW9kZWxzO1xuICBwcm92aWRlci5pbWFnZU1vZGVsID0gKG1vZGVsSWQ6IHN0cmluZykgPT4ge1xuICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZCwgbW9kZWxUeXBlOiAnaW1hZ2VNb2RlbCcgfSk7XG4gIH07XG4gIHByb3ZpZGVyLmxhbmd1YWdlTW9kZWwgPSBjcmVhdGVMYW5ndWFnZU1vZGVsO1xuICBwcm92aWRlci50ZXh0RW1iZWRkaW5nTW9kZWwgPSAobW9kZWxJZDogR2F0ZXdheUVtYmVkZGluZ01vZGVsSWQpID0+IHtcbiAgICByZXR1cm4gbmV3IEdhdGV3YXlFbWJlZGRpbmdNb2RlbChtb2RlbElkLCB7XG4gICAgICBwcm92aWRlcjogJ2dhdGV3YXknLFxuICAgICAgYmFzZVVSTCxcbiAgICAgIGhlYWRlcnM6IGdldEhlYWRlcnMsXG4gICAgICBmZXRjaDogb3B0aW9ucy5mZXRjaCxcbiAgICAgIG8xMXlIZWFkZXJzOiBjcmVhdGVPMTF5SGVhZGVycygpLFxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBwcm92aWRlcjtcbn1cblxuZXhwb3J0IGNvbnN0IGdhdGV3YXkgPSBjcmVhdGVHYXRld2F5UHJvdmlkZXIoKTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEdhdGV3YXlBdXRoVG9rZW4oXG4gIG9wdGlvbnM6IEdhdGV3YXlQcm92aWRlclNldHRpbmdzLFxuKTogUHJvbWlzZTx7XG4gIHRva2VuOiBzdHJpbmc7XG4gIGF1dGhNZXRob2Q6ICdhcGkta2V5JyB8ICdvaWRjJztcbn0gfCBudWxsPiB7XG4gIGNvbnN0IGFwaUtleSA9IGxvYWRPcHRpb25hbFNldHRpbmcoe1xuICAgIHNldHRpbmdWYWx1ZTogb3B0aW9ucy5hcGlLZXksXG4gICAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWU6ICdBSV9HQVRFV0FZX0FQSV9LRVknLFxuICB9KTtcblxuICBpZiAoYXBpS2V5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRva2VuOiBhcGlLZXksXG4gICAgICBhdXRoTWV0aG9kOiAnYXBpLWtleScsXG4gICAgfTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3Qgb2lkY1Rva2VuID0gYXdhaXQgZ2V0VmVyY2VsT2lkY1Rva2VuKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRva2VuOiBvaWRjVG9rZW4sXG4gICAgICBhdXRoTWV0aG9kOiAnb2lkYycsXG4gICAgfTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBUElDYWxsRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IGV4dHJhY3RBcGlDYWxsUmVzcG9uc2UsIEdhdGV3YXlFcnJvciB9IGZyb20gJy4nO1xuaW1wb3J0IHsgY3JlYXRlR2F0ZXdheUVycm9yRnJvbVJlc3BvbnNlIH0gZnJvbSAnLi9jcmVhdGUtZ2F0ZXdheS1lcnJvcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc0dhdGV3YXlFcnJvcihcbiAgZXJyb3I6IHVua25vd24sXG4gIGF1dGhNZXRob2Q/OiAnYXBpLWtleScgfCAnb2lkYycsXG4pIHtcbiAgaWYgKEdhdGV3YXlFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIGlmIChBUElDYWxsRXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICByZXR1cm4gY3JlYXRlR2F0ZXdheUVycm9yRnJvbVJlc3BvbnNlKHtcbiAgICAgIHJlc3BvbnNlOiBleHRyYWN0QXBpQ2FsbFJlc3BvbnNlKGVycm9yKSxcbiAgICAgIHN0YXR1c0NvZGU6IGVycm9yLnN0YXR1c0NvZGUgPz8gNTAwLFxuICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdHYXRld2F5IHJlcXVlc3QgZmFpbGVkJyxcbiAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgIGF1dGhNZXRob2QsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlR2F0ZXdheUVycm9yRnJvbVJlc3BvbnNlKHtcbiAgICByZXNwb25zZToge30sXG4gICAgc3RhdHVzQ29kZTogNTAwLFxuICAgIGRlZmF1bHRNZXNzYWdlOlxuICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICA/IGBHYXRld2F5IHJlcXVlc3QgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YFxuICAgICAgICA6ICdVbmtub3duIEdhdGV3YXkgZXJyb3InLFxuICAgIGNhdXNlOiBlcnJvcixcbiAgICBhdXRoTWV0aG9kLFxuICB9KTtcbn1cbiIsICJpbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB0eXBlIHsgR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWVycm9yJztcbmltcG9ydCB7IEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWF1dGhlbnRpY2F0aW9uLWVycm9yJztcbmltcG9ydCB7IEdhdGV3YXlJbnZhbGlkUmVxdWVzdEVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWludmFsaWQtcmVxdWVzdC1lcnJvcic7XG5pbXBvcnQgeyBHYXRld2F5UmF0ZUxpbWl0RXJyb3IgfSBmcm9tICcuL2dhdGV3YXktcmF0ZS1saW1pdC1lcnJvcic7XG5pbXBvcnQge1xuICBHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yLFxuICBtb2RlbE5vdEZvdW5kUGFyYW1TY2hlbWEsXG59IGZyb20gJy4vZ2F0ZXdheS1tb2RlbC1ub3QtZm91bmQtZXJyb3InO1xuaW1wb3J0IHsgR2F0ZXdheUludGVybmFsU2VydmVyRXJyb3IgfSBmcm9tICcuL2dhdGV3YXktaW50ZXJuYWwtc2VydmVyLWVycm9yJztcbmltcG9ydCB7IEdhdGV3YXlSZXNwb25zZUVycm9yIH0gZnJvbSAnLi9nYXRld2F5LXJlc3BvbnNlLWVycm9yJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdhdGV3YXlFcnJvckZyb21SZXNwb25zZSh7XG4gIHJlc3BvbnNlLFxuICBzdGF0dXNDb2RlLFxuICBkZWZhdWx0TWVzc2FnZSA9ICdHYXRld2F5IHJlcXVlc3QgZmFpbGVkJyxcbiAgY2F1c2UsXG4gIGF1dGhNZXRob2QsXG59OiB7XG4gIHJlc3BvbnNlOiB1bmtub3duO1xuICBzdGF0dXNDb2RlOiBudW1iZXI7XG4gIGRlZmF1bHRNZXNzYWdlPzogc3RyaW5nO1xuICBjYXVzZT86IHVua25vd247XG4gIGF1dGhNZXRob2Q/OiAnYXBpLWtleScgfCAnb2lkYyc7XG59KTogR2F0ZXdheUVycm9yIHtcbiAgY29uc3QgcGFyc2VSZXN1bHQgPSBnYXRld2F5RXJyb3JSZXNwb25zZVNjaGVtYS5zYWZlUGFyc2UocmVzcG9uc2UpO1xuICBpZiAoIXBhcnNlUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4gbmV3IEdhdGV3YXlSZXNwb25zZUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIGVycm9yIHJlc3BvbnNlIGZvcm1hdDogJHtkZWZhdWx0TWVzc2FnZX1gLFxuICAgICAgc3RhdHVzQ29kZSxcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgdmFsaWRhdGlvbkVycm9yOiBwYXJzZVJlc3VsdC5lcnJvcixcbiAgICAgIGNhdXNlLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgdmFsaWRhdGVkUmVzcG9uc2U6IEdhdGV3YXlFcnJvclJlc3BvbnNlID0gcGFyc2VSZXN1bHQuZGF0YTtcbiAgY29uc3QgZXJyb3JUeXBlID0gdmFsaWRhdGVkUmVzcG9uc2UuZXJyb3IudHlwZTtcbiAgY29uc3QgbWVzc2FnZSA9IHZhbGlkYXRlZFJlc3BvbnNlLmVycm9yLm1lc3NhZ2U7XG5cbiAgc3dpdGNoIChlcnJvclR5cGUpIHtcbiAgICBjYXNlICdhdXRoZW50aWNhdGlvbl9lcnJvcic6XG4gICAgICByZXR1cm4gR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3IuY3JlYXRlQ29udGV4dHVhbEVycm9yKHtcbiAgICAgICAgYXBpS2V5UHJvdmlkZWQ6IGF1dGhNZXRob2QgPT09ICdhcGkta2V5JyxcbiAgICAgICAgb2lkY1Rva2VuUHJvdmlkZWQ6IGF1dGhNZXRob2QgPT09ICdvaWRjJyxcbiAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgY2F1c2UsXG4gICAgICB9KTtcbiAgICBjYXNlICdpbnZhbGlkX3JlcXVlc3RfZXJyb3InOlxuICAgICAgcmV0dXJuIG5ldyBHYXRld2F5SW52YWxpZFJlcXVlc3RFcnJvcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICAgIGNhc2UgJ3JhdGVfbGltaXRfZXhjZWVkZWQnOlxuICAgICAgcmV0dXJuIG5ldyBHYXRld2F5UmF0ZUxpbWl0RXJyb3IoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgICBjYXNlICdtb2RlbF9ub3RfZm91bmQnOiB7XG4gICAgICBjb25zdCBtb2RlbFJlc3VsdCA9IG1vZGVsTm90Rm91bmRQYXJhbVNjaGVtYS5zYWZlUGFyc2UoXG4gICAgICAgIHZhbGlkYXRlZFJlc3BvbnNlLmVycm9yLnBhcmFtLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgR2F0ZXdheU1vZGVsTm90Rm91bmRFcnJvcih7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHN0YXR1c0NvZGUsXG4gICAgICAgIG1vZGVsSWQ6IG1vZGVsUmVzdWx0LnN1Y2Nlc3MgPyBtb2RlbFJlc3VsdC5kYXRhLm1vZGVsSWQgOiB1bmRlZmluZWQsXG4gICAgICAgIGNhdXNlLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNhc2UgJ2ludGVybmFsX3NlcnZlcl9lcnJvcic6XG4gICAgICByZXR1cm4gbmV3IEdhdGV3YXlJbnRlcm5hbFNlcnZlckVycm9yKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBuZXcgR2F0ZXdheUludGVybmFsU2VydmVyRXJyb3IoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgfVxufVxuXG5jb25zdCBnYXRld2F5RXJyb3JSZXNwb25zZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZXJyb3I6IHoub2JqZWN0KHtcbiAgICBtZXNzYWdlOiB6LnN0cmluZygpLFxuICAgIHR5cGU6IHouc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgIHBhcmFtOiB6LnVua25vd24oKS5udWxsaXNoKCksXG4gICAgY29kZTogei51bmlvbihbei5zdHJpbmcoKSwgei5udW1iZXIoKV0pLm51bGxpc2goKSxcbiAgfSksXG59KTtcblxuZXhwb3J0IHR5cGUgR2F0ZXdheUVycm9yUmVzcG9uc2UgPSB6LmluZmVyPHR5cGVvZiBnYXRld2F5RXJyb3JSZXNwb25zZVNjaGVtYT47XG4iLCAiY29uc3QgbWFya2VyID0gJ3ZlcmNlbC5haS5nYXRld2F5LmVycm9yJztcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEdhdGV3YXlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIGFic3RyYWN0IHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgYWJzdHJhY3QgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICByZWFkb25seSBzdGF0dXNDb2RlOiBudW1iZXI7XG4gIHJlYWRvbmx5IGNhdXNlPzogdW5rbm93bjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICBzdGF0dXNDb2RlID0gNTAwLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9KSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBlcnJvciBpcyBhIEdhdGV3YXkgRXJyb3IuXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3IgLSBUaGUgZXJyb3IgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBlcnJvciBpcyBhIEdhdGV3YXkgRXJyb3IsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheUVycm9yIHtcbiAgICByZXR1cm4gR2F0ZXdheUVycm9yLmhhc01hcmtlcihlcnJvcik7XG4gIH1cblxuICBzdGF0aWMgaGFzTWFya2VyKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheUVycm9yIHtcbiAgICByZXR1cm4gKFxuICAgICAgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJlxuICAgICAgZXJyb3IgIT09IG51bGwgJiZcbiAgICAgIHN5bWJvbCBpbiBlcnJvciAmJlxuICAgICAgKGVycm9yIGFzIGFueSlbc3ltYm9sXSA9PT0gdHJ1ZVxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBHYXRld2F5RXJyb3IgfSBmcm9tICcuL2dhdGV3YXktZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0dhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZ2F0ZXdheS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBBdXRoZW50aWNhdGlvbiBmYWlsZWQgLSBpbnZhbGlkIEFQSSBrZXkgb3IgT0lEQyB0b2tlblxuICovXG5leHBvcnQgY2xhc3MgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBHYXRld2F5RXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgbmFtZSA9IG5hbWU7XG4gIHJlYWRvbmx5IHR5cGUgPSAnYXV0aGVudGljYXRpb25fZXJyb3InO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcsXG4gICAgc3RhdHVzQ29kZSA9IDQwMSxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yIHtcbiAgICByZXR1cm4gR2F0ZXdheUVycm9yLmhhc01hcmtlcihlcnJvcikgJiYgc3ltYm9sIGluIGVycm9yO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjb250ZXh0dWFsIGVycm9yIG1lc3NhZ2Ugd2hlbiBhdXRoZW50aWNhdGlvbiBmYWlsc1xuICAgKi9cbiAgc3RhdGljIGNyZWF0ZUNvbnRleHR1YWxFcnJvcih7XG4gICAgYXBpS2V5UHJvdmlkZWQsXG4gICAgb2lkY1Rva2VuUHJvdmlkZWQsXG4gICAgbWVzc2FnZSA9ICdBdXRoZW50aWNhdGlvbiBmYWlsZWQnLFxuICAgIHN0YXR1c0NvZGUgPSA0MDEsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBhcGlLZXlQcm92aWRlZDogYm9vbGVhbjtcbiAgICBvaWRjVG9rZW5Qcm92aWRlZDogYm9vbGVhbjtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9KTogR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3Ige1xuICAgIGxldCBjb250ZXh0dWFsTWVzc2FnZTogc3RyaW5nO1xuXG4gICAgaWYgKGFwaUtleVByb3ZpZGVkKSB7XG4gICAgICBjb250ZXh0dWFsTWVzc2FnZSA9IGBBSSBHYXRld2F5IGF1dGhlbnRpY2F0aW9uIGZhaWxlZDogSW52YWxpZCBBUEkga2V5IHByb3ZpZGVkLlxuXG5UaGUgdG9rZW4gaXMgZXhwZWN0ZWQgdG8gYmUgcHJvdmlkZWQgdmlhIHRoZSAnYXBpS2V5JyBvcHRpb24gb3IgJ0FJX0dBVEVXQVlfQVBJX0tFWScgZW52aXJvbm1lbnQgdmFyaWFibGUuYDtcbiAgICB9IGVsc2UgaWYgKG9pZGNUb2tlblByb3ZpZGVkKSB7XG4gICAgICBjb250ZXh0dWFsTWVzc2FnZSA9IGBBSSBHYXRld2F5IGF1dGhlbnRpY2F0aW9uIGZhaWxlZDogSW52YWxpZCBPSURDIHRva2VuIHByb3ZpZGVkLlxuXG5UaGUgdG9rZW4gaXMgZXhwZWN0ZWQgdG8gYmUgcHJvdmlkZWQgdmlhIHRoZSAnVkVSQ0VMX09JRENfVE9LRU4nIGVudmlyb25tZW50IHZhcmlhYmxlLiBJdCBleHBpcmVzIGV2ZXJ5IDEyIGhvdXJzLlxuLSBtYWtlIHN1cmUgeW91ciBWZXJjZWwgcHJvamVjdCBzZXR0aW5ncyBoYXZlIE9JREMgZW5hYmxlZFxuLSBpZiBydW5uaW5nIGxvY2FsbHkgd2l0aCAndmVyY2VsIGRldicsIHRoZSB0b2tlbiBpcyBhdXRvbWF0aWNhbGx5IG9idGFpbmVkIGFuZCByZWZyZXNoZWRcbi0gaWYgcnVubmluZyBsb2NhbGx5IHdpdGggeW91ciBvd24gZGV2IHNlcnZlciwgcnVuICd2ZXJjZWwgZW52IHB1bGwnIHRvIGZldGNoIHRoZSB0b2tlblxuLSBpbiBwcm9kdWN0aW9uL3ByZXZpZXcsIHRoZSB0b2tlbiBpcyBhdXRvbWF0aWNhbGx5IG9idGFpbmVkIGFuZCByZWZyZXNoZWRcblxuQWx0ZXJuYXRpdmU6IFByb3ZpZGUgYW4gQVBJIGtleSB2aWEgJ2FwaUtleScgb3B0aW9uIG9yICdBSV9HQVRFV0FZX0FQSV9LRVknIGVudmlyb25tZW50IHZhcmlhYmxlLmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHR1YWxNZXNzYWdlID0gYEFJIEdhdGV3YXkgYXV0aGVudGljYXRpb24gZmFpbGVkOiBObyBhdXRoZW50aWNhdGlvbiBwcm92aWRlZC5cblxuUHJvdmlkZSBlaXRoZXIgYW4gQVBJIGtleSBvciBPSURDIHRva2VuLlxuXG5BUEkga2V5IGluc3RydWN0aW9uczpcblxuVGhlIHRva2VuIGlzIGV4cGVjdGVkIHRvIGJlIHByb3ZpZGVkIHZpYSB0aGUgJ2FwaUtleScgb3B0aW9uIG9yICdBSV9HQVRFV0FZX0FQSV9LRVknIGVudmlyb25tZW50IHZhcmlhYmxlLlxuXG5PSURDIHRva2VuIGluc3RydWN0aW9uczpcblxuVGhlIHRva2VuIGlzIGV4cGVjdGVkIHRvIGJlIHByb3ZpZGVkIHZpYSB0aGUgJ1ZFUkNFTF9PSURDX1RPS0VOJyBlbnZpcm9ubWVudCB2YXJpYWJsZS4gSXQgZXhwaXJlcyBldmVyeSAxMiBob3Vycy5cbi0gbWFrZSBzdXJlIHlvdXIgVmVyY2VsIHByb2plY3Qgc2V0dGluZ3MgaGF2ZSBPSURDIGVuYWJsZWRcbi0gaWYgcnVubmluZyBsb2NhbGx5IHdpdGggJ3ZlcmNlbCBkZXYnLCB0aGUgdG9rZW4gaXMgYXV0b21hdGljYWxseSBvYnRhaW5lZCBhbmQgcmVmcmVzaGVkXG4tIGlmIHJ1bm5pbmcgbG9jYWxseSB3aXRoIHlvdXIgb3duIGRldiBzZXJ2ZXIsIHJ1biAndmVyY2VsIGVudiBwdWxsJyB0byBmZXRjaCB0aGUgdG9rZW5cbi0gaW4gcHJvZHVjdGlvbi9wcmV2aWV3LCB0aGUgdG9rZW4gaXMgYXV0b21hdGljYWxseSBvYnRhaW5lZCBhbmQgcmVmcmVzaGVkYDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGNvbnRleHR1YWxNZXNzYWdlLFxuICAgICAgc3RhdHVzQ29kZSxcbiAgICAgIGNhdXNlLFxuICAgIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdHYXRld2F5SW52YWxpZFJlcXVlc3RFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmdhdGV3YXkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogSW52YWxpZCByZXF1ZXN0IC0gbWlzc2luZyBoZWFkZXJzLCBtYWxmb3JtZWQgZGF0YSwgZXRjLlxuICovXG5leHBvcnQgY2xhc3MgR2F0ZXdheUludmFsaWRSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBHYXRld2F5RXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgbmFtZSA9IG5hbWU7XG4gIHJlYWRvbmx5IHR5cGUgPSAnaW52YWxpZF9yZXF1ZXN0X2Vycm9yJztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdJbnZhbGlkIHJlcXVlc3QnLFxuICAgIHN0YXR1c0NvZGUgPSA0MDAsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBHYXRld2F5SW52YWxpZFJlcXVlc3RFcnJvciB7XG4gICAgcmV0dXJuIEdhdGV3YXlFcnJvci5oYXNNYXJrZXIoZXJyb3IpICYmIHN5bWJvbCBpbiBlcnJvcjtcbiAgfVxufVxuIiwgImltcG9ydCB7IEdhdGV3YXlFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnR2F0ZXdheVJhdGVMaW1pdEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZ2F0ZXdheS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBSYXRlIGxpbWl0IGV4Y2VlZGVkLlxuICovXG5leHBvcnQgY2xhc3MgR2F0ZXdheVJhdGVMaW1pdEVycm9yIGV4dGVuZHMgR2F0ZXdheUVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IG5hbWUgPSBuYW1lO1xuICByZWFkb25seSB0eXBlID0gJ3JhdGVfbGltaXRfZXhjZWVkZWQnO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ1JhdGUgbGltaXQgZXhjZWVkZWQnLFxuICAgIHN0YXR1c0NvZGUgPSA0MjksXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBHYXRld2F5UmF0ZUxpbWl0RXJyb3Ige1xuICAgIHJldHVybiBHYXRld2F5RXJyb3IuaGFzTWFya2VyKGVycm9yKSAmJiBzeW1ib2wgaW4gZXJyb3I7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IEdhdGV3YXlFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnR2F0ZXdheU1vZGVsTm90Rm91bmRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmdhdGV3YXkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjb25zdCBtb2RlbE5vdEZvdW5kUGFyYW1TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG1vZGVsSWQ6IHouc3RyaW5nKCksXG59KTtcblxuLyoqXG4gKiBNb2RlbCBub3QgZm91bmQgb3Igbm90IGF2YWlsYWJsZVxuICovXG5leHBvcnQgY2xhc3MgR2F0ZXdheU1vZGVsTm90Rm91bmRFcnJvciBleHRlbmRzIEdhdGV3YXlFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBuYW1lID0gbmFtZTtcbiAgcmVhZG9ubHkgdHlwZSA9ICdtb2RlbF9ub3RfZm91bmQnO1xuICByZWFkb25seSBtb2RlbElkPzogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ01vZGVsIG5vdCBmb3VuZCcsXG4gICAgc3RhdHVzQ29kZSA9IDQwNCxcbiAgICBtb2RlbElkLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIG1vZGVsSWQ/OiBzdHJpbmc7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICAgIHRoaXMubW9kZWxJZCA9IG1vZGVsSWQ7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEdhdGV3YXlNb2RlbE5vdEZvdW5kRXJyb3Ige1xuICAgIHJldHVybiBHYXRld2F5RXJyb3IuaGFzTWFya2VyKGVycm9yKSAmJiBzeW1ib2wgaW4gZXJyb3I7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBHYXRld2F5RXJyb3IgfSBmcm9tICcuL2dhdGV3YXktZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0dhdGV3YXlJbnRlcm5hbFNlcnZlckVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZ2F0ZXdheS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IgZnJvbSB0aGUgR2F0ZXdheVxuICovXG5leHBvcnQgY2xhc3MgR2F0ZXdheUludGVybmFsU2VydmVyRXJyb3IgZXh0ZW5kcyBHYXRld2F5RXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgbmFtZSA9IG5hbWU7XG4gIHJlYWRvbmx5IHR5cGUgPSAnaW50ZXJuYWxfc2VydmVyX2Vycm9yJztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgIHN0YXR1c0NvZGUgPSA1MDAsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBHYXRld2F5SW50ZXJuYWxTZXJ2ZXJFcnJvciB7XG4gICAgcmV0dXJuIEdhdGV3YXlFcnJvci5oYXNNYXJrZXIoZXJyb3IpICYmIHN5bWJvbCBpbiBlcnJvcjtcbiAgfVxufVxuIiwgImltcG9ydCB7IEdhdGV3YXlFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1lcnJvcic7XG5pbXBvcnQgdHlwZSB7IFpvZEVycm9yIH0gZnJvbSAnem9kL3Y0JztcblxuY29uc3QgbmFtZSA9ICdHYXRld2F5UmVzcG9uc2VFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmdhdGV3YXkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogR2F0ZXdheSByZXNwb25zZSBwYXJzaW5nIGVycm9yXG4gKi9cbmV4cG9ydCBjbGFzcyBHYXRld2F5UmVzcG9uc2VFcnJvciBleHRlbmRzIEdhdGV3YXlFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBuYW1lID0gbmFtZTtcbiAgcmVhZG9ubHkgdHlwZSA9ICdyZXNwb25zZV9lcnJvcic7XG4gIHJlYWRvbmx5IHJlc3BvbnNlPzogdW5rbm93bjtcbiAgcmVhZG9ubHkgdmFsaWRhdGlvbkVycm9yPzogWm9kRXJyb3I7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnSW52YWxpZCByZXNwb25zZSBmcm9tIEdhdGV3YXknLFxuICAgIHN0YXR1c0NvZGUgPSA1MDIsXG4gICAgcmVzcG9uc2UsXG4gICAgdmFsaWRhdGlvbkVycm9yLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIHJlc3BvbnNlPzogdW5rbm93bjtcbiAgICB2YWxpZGF0aW9uRXJyb3I/OiBab2RFcnJvcjtcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMudmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdGlvbkVycm9yO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBHYXRld2F5UmVzcG9uc2VFcnJvciB7XG4gICAgcmV0dXJuIEdhdGV3YXlFcnJvci5oYXNNYXJrZXIoZXJyb3IpICYmIHN5bWJvbCBpbiBlcnJvcjtcbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgQVBJQ2FsbEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0QXBpQ2FsbFJlc3BvbnNlKGVycm9yOiBBUElDYWxsRXJyb3IpOiB1bmtub3duIHtcbiAgaWYgKGVycm9yLmRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBlcnJvci5kYXRhO1xuICB9XG4gIGlmIChlcnJvci5yZXNwb25zZUJvZHkgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShlcnJvci5yZXNwb25zZUJvZHkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIGVycm9yLnJlc3BvbnNlQm9keTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHt9O1xufVxuIiwgImltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuXG5leHBvcnQgY29uc3QgR0FURVdBWV9BVVRIX01FVEhPRF9IRUFERVIgPSAnYWktZ2F0ZXdheS1hdXRoLW1ldGhvZCcgYXMgY29uc3Q7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUF1dGhNZXRob2QoaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPikge1xuICBjb25zdCByZXN1bHQgPSBnYXRld2F5QXV0aE1ldGhvZFNjaGVtYS5zYWZlUGFyc2UoXG4gICAgaGVhZGVyc1tHQVRFV0FZX0FVVEhfTUVUSE9EX0hFQURFUl0sXG4gICk7XG4gIHJldHVybiByZXN1bHQuc3VjY2VzcyA/IHJlc3VsdC5kYXRhIDogdW5kZWZpbmVkO1xufVxuXG5jb25zdCBnYXRld2F5QXV0aE1ldGhvZFNjaGVtYSA9IHoudW5pb24oW1xuICB6LmxpdGVyYWwoJ2FwaS1rZXknKSxcbiAgei5saXRlcmFsKCdvaWRjJyksXG5dKTtcbiIsICJpbXBvcnQge1xuICBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIsXG4gIGdldEZyb21BcGksXG4gIHJlc29sdmUsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgYXNHYXRld2F5RXJyb3IgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQgdHlwZSB7IEdhdGV3YXlDb25maWcgfSBmcm9tICcuL2dhdGV3YXktY29uZmlnJztcbmltcG9ydCB0eXBlIHsgR2F0ZXdheUxhbmd1YWdlTW9kZWxFbnRyeSB9IGZyb20gJy4vZ2F0ZXdheS1tb2RlbC1lbnRyeSc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcblxudHlwZSBHYXRld2F5RmV0Y2hNZXRhZGF0YUNvbmZpZyA9IEdhdGV3YXlDb25maWc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2F0ZXdheUZldGNoTWV0YWRhdGFSZXNwb25zZSB7XG4gIG1vZGVsczogR2F0ZXdheUxhbmd1YWdlTW9kZWxFbnRyeVtdO1xufVxuXG5leHBvcnQgY2xhc3MgR2F0ZXdheUZldGNoTWV0YWRhdGEge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogR2F0ZXdheUZldGNoTWV0YWRhdGFDb25maWcpIHt9XG5cbiAgYXN5bmMgZ2V0QXZhaWxhYmxlTW9kZWxzKCk6IFByb21pc2U8R2F0ZXdheUZldGNoTWV0YWRhdGFSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHZhbHVlIH0gPSBhd2FpdCBnZXRGcm9tQXBpKHtcbiAgICAgICAgdXJsOiBgJHt0aGlzLmNvbmZpZy5iYXNlVVJMfS9jb25maWdgLFxuICAgICAgICBoZWFkZXJzOiBhd2FpdCByZXNvbHZlKHRoaXMuY29uZmlnLmhlYWRlcnMoKSksXG4gICAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIoXG4gICAgICAgICAgZ2F0ZXdheUZldGNoTWV0YWRhdGFTY2hlbWEsXG4gICAgICAgICksXG4gICAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgICBlcnJvclNjaGVtYTogei5hbnkoKSxcbiAgICAgICAgICBlcnJvclRvTWVzc2FnZTogZGF0YSA9PiBkYXRhLFxuICAgICAgICB9KSxcbiAgICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgYXNHYXRld2F5RXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBnYXRld2F5TGFuZ3VhZ2VNb2RlbFNwZWNpZmljYXRpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHNwZWNpZmljYXRpb25WZXJzaW9uOiB6LmxpdGVyYWwoJ3YyJyksXG4gIHByb3ZpZGVyOiB6LnN0cmluZygpLFxuICBtb2RlbElkOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IGdhdGV3YXlMYW5ndWFnZU1vZGVsUHJpY2luZ1NjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAgaW5wdXQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0OiB6LnN0cmluZygpLFxuICAgIGlucHV0X2NhY2hlX3JlYWQ6IHouc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgIGlucHV0X2NhY2hlX3dyaXRlOiB6LnN0cmluZygpLm51bGxpc2goKSxcbiAgfSlcbiAgLnRyYW5zZm9ybSgoeyBpbnB1dCwgb3V0cHV0LCBpbnB1dF9jYWNoZV9yZWFkLCBpbnB1dF9jYWNoZV93cml0ZSB9KSA9PiAoe1xuICAgIGlucHV0LFxuICAgIG91dHB1dCxcbiAgICAuLi4oaW5wdXRfY2FjaGVfcmVhZCA/IHsgY2FjaGVkSW5wdXRUb2tlbnM6IGlucHV0X2NhY2hlX3JlYWQgfSA6IHt9KSxcbiAgICAuLi4oaW5wdXRfY2FjaGVfd3JpdGVcbiAgICAgID8geyBjYWNoZUNyZWF0aW9uSW5wdXRUb2tlbnM6IGlucHV0X2NhY2hlX3dyaXRlIH1cbiAgICAgIDoge30pLFxuICB9KSk7XG5cbmNvbnN0IGdhdGV3YXlMYW5ndWFnZU1vZGVsRW50cnlTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGlkOiB6LnN0cmluZygpLFxuICBuYW1lOiB6LnN0cmluZygpLFxuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5udWxsaXNoKCksXG4gIHByaWNpbmc6IGdhdGV3YXlMYW5ndWFnZU1vZGVsUHJpY2luZ1NjaGVtYS5udWxsaXNoKCksXG4gIHNwZWNpZmljYXRpb246IGdhdGV3YXlMYW5ndWFnZU1vZGVsU3BlY2lmaWNhdGlvblNjaGVtYSxcbiAgbW9kZWxUeXBlOiB6LmVudW0oWydsYW5ndWFnZScsICdlbWJlZGRpbmcnLCAnaW1hZ2UnXSkubnVsbGlzaCgpLFxufSk7XG5cbmNvbnN0IGdhdGV3YXlGZXRjaE1ldGFkYXRhU2NoZW1hID0gei5vYmplY3Qoe1xuICBtb2RlbHM6IHouYXJyYXkoZ2F0ZXdheUxhbmd1YWdlTW9kZWxFbnRyeVNjaGVtYSksXG59KTtcbiIsICJpbXBvcnQgdHlwZSB7XG4gIExhbmd1YWdlTW9kZWxWMixcbiAgTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnMsXG4gIExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nLFxuICBMYW5ndWFnZU1vZGVsVjJGaWxlUGFydCxcbiAgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjb21iaW5lSGVhZGVycyxcbiAgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcixcbiAgcG9zdEpzb25Ub0FwaSxcbiAgcmVzb2x2ZSxcbiAgdHlwZSBQYXJzZVJlc3VsdCxcbiAgdHlwZSBSZXNvbHZhYmxlLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5Q29uZmlnIH0gZnJvbSAnLi9nYXRld2F5LWNvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IEdhdGV3YXlNb2RlbElkIH0gZnJvbSAnLi9nYXRld2F5LWxhbmd1YWdlLW1vZGVsLXNldHRpbmdzJztcbmltcG9ydCB7IGFzR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHsgcGFyc2VBdXRoTWV0aG9kIH0gZnJvbSAnLi9lcnJvcnMvcGFyc2UtYXV0aC1tZXRob2QnO1xuXG50eXBlIEdhdGV3YXlDaGF0Q29uZmlnID0gR2F0ZXdheUNvbmZpZyAmIHtcbiAgcHJvdmlkZXI6IHN0cmluZztcbiAgbzExeUhlYWRlcnM6IFJlc29sdmFibGU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj47XG59O1xuXG5leHBvcnQgY2xhc3MgR2F0ZXdheUxhbmd1YWdlTW9kZWwgaW1wbGVtZW50cyBMYW5ndWFnZU1vZGVsVjIge1xuICByZWFkb25seSBzcGVjaWZpY2F0aW9uVmVyc2lvbiA9ICd2Mic7XG4gIHJlYWRvbmx5IHN1cHBvcnRlZFVybHMgPSB7ICcqLyonOiBbLy4qL10gfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSBtb2RlbElkOiBHYXRld2F5TW9kZWxJZCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogR2F0ZXdheUNoYXRDb25maWcsXG4gICkge31cblxuICBnZXQgcHJvdmlkZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcucHJvdmlkZXI7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldEFyZ3Mob3B0aW9uczogUGFyYW1ldGVyczxMYW5ndWFnZU1vZGVsVjJbJ2RvR2VuZXJhdGUnXT5bMF0pIHtcbiAgICBjb25zdCB7IGFib3J0U2lnbmFsOiBfYWJvcnRTaWduYWwsIC4uLm9wdGlvbnNXaXRob3V0U2lnbmFsIH0gPSBvcHRpb25zO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFyZ3M6IHRoaXMubWF5YmVFbmNvZGVGaWxlUGFydHMob3B0aW9uc1dpdGhvdXRTaWduYWwpLFxuICAgICAgd2FybmluZ3M6IFtdLFxuICAgIH07XG4gIH1cblxuICBhc3luYyBkb0dlbmVyYXRlKFxuICAgIG9wdGlvbnM6IFBhcmFtZXRlcnM8TGFuZ3VhZ2VNb2RlbFYyWydkb0dlbmVyYXRlJ10+WzBdLFxuICApOiBQcm9taXNlPEF3YWl0ZWQ8UmV0dXJuVHlwZTxMYW5ndWFnZU1vZGVsVjJbJ2RvR2VuZXJhdGUnXT4+PiB7XG4gICAgY29uc3QgeyBhcmdzLCB3YXJuaW5ncyB9ID0gYXdhaXQgdGhpcy5nZXRBcmdzKG9wdGlvbnMpO1xuICAgIGNvbnN0IHsgYWJvcnRTaWduYWwgfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCByZXNvbHZlZEhlYWRlcnMgPSBhd2FpdCByZXNvbHZlKHRoaXMuY29uZmlnLmhlYWRlcnMoKSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qge1xuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHZhbHVlOiByZXNwb25zZUJvZHksXG4gICAgICAgIHJhd1ZhbHVlOiByYXdSZXNwb25zZSxcbiAgICAgIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpKHtcbiAgICAgICAgdXJsOiB0aGlzLmdldFVybCgpLFxuICAgICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVycyhcbiAgICAgICAgICByZXNvbHZlZEhlYWRlcnMsXG4gICAgICAgICAgb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWxDb25maWdIZWFkZXJzKHRoaXMubW9kZWxJZCwgZmFsc2UpLFxuICAgICAgICAgIGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcubzExeUhlYWRlcnMpLFxuICAgICAgICApLFxuICAgICAgICBib2R5OiBhcmdzLFxuICAgICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyKHouYW55KCkpLFxuICAgICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgZXJyb3JTY2hlbWE6IHouYW55KCksXG4gICAgICAgICAgZXJyb3JUb01lc3NhZ2U6IGRhdGEgPT4gZGF0YSxcbiAgICAgICAgfSksXG4gICAgICAgIC4uLihhYm9ydFNpZ25hbCAmJiB7IGFib3J0U2lnbmFsIH0pLFxuICAgICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2gsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVzcG9uc2VCb2R5LFxuICAgICAgICByZXF1ZXN0OiB7IGJvZHk6IGFyZ3MgfSxcbiAgICAgICAgcmVzcG9uc2U6IHsgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLCBib2R5OiByYXdSZXNwb25zZSB9LFxuICAgICAgICB3YXJuaW5ncyxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGFzR2F0ZXdheUVycm9yKGVycm9yLCBwYXJzZUF1dGhNZXRob2QocmVzb2x2ZWRIZWFkZXJzKSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZG9TdHJlYW0oXG4gICAgb3B0aW9uczogUGFyYW1ldGVyczxMYW5ndWFnZU1vZGVsVjJbJ2RvU3RyZWFtJ10+WzBdLFxuICApOiBQcm9taXNlPEF3YWl0ZWQ8UmV0dXJuVHlwZTxMYW5ndWFnZU1vZGVsVjJbJ2RvU3RyZWFtJ10+Pj4ge1xuICAgIGNvbnN0IHsgYXJncywgd2FybmluZ3MgfSA9IGF3YWl0IHRoaXMuZ2V0QXJncyhvcHRpb25zKTtcbiAgICBjb25zdCB7IGFib3J0U2lnbmFsIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgcmVzb2x2ZWRIZWFkZXJzID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmNvbmZpZy5oZWFkZXJzKCkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgdmFsdWU6IHJlc3BvbnNlLCByZXNwb25zZUhlYWRlcnMgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkoe1xuICAgICAgICB1cmw6IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzKFxuICAgICAgICAgIHJlc29sdmVkSGVhZGVycyxcbiAgICAgICAgICBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgdGhpcy5nZXRNb2RlbENvbmZpZ0hlYWRlcnModGhpcy5tb2RlbElkLCB0cnVlKSxcbiAgICAgICAgICBhd2FpdCByZXNvbHZlKHRoaXMuY29uZmlnLm8xMXlIZWFkZXJzKSxcbiAgICAgICAgKSxcbiAgICAgICAgYm9keTogYXJncyxcbiAgICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIoei5hbnkoKSksXG4gICAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgICBlcnJvclNjaGVtYTogei5hbnkoKSxcbiAgICAgICAgICBlcnJvclRvTWVzc2FnZTogZGF0YSA9PiBkYXRhLFxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKGFib3J0U2lnbmFsICYmIHsgYWJvcnRTaWduYWwgfSksXG4gICAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaCxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdHJlYW06IHJlc3BvbnNlLnBpcGVUaHJvdWdoKFxuICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICAgICAgICBQYXJzZVJlc3VsdDxMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0PixcbiAgICAgICAgICAgIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnRcbiAgICAgICAgICA+KHtcbiAgICAgICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgaWYgKHdhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnc3RyZWFtLXN0YXJ0Jywgd2FybmluZ3MgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgaWYgKGNodW5rLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1QYXJ0ID0gY2h1bmsudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcmF3IGNodW5rczogaWYgdGhpcyBpcyBhIHJhdyBjaHVuayBmcm9tIHRoZSBnYXRld2F5IEFQSSxcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGVtaXQgaXQgaWYgaW5jbHVkZVJhd0NodW5rcyBpcyB0cnVlXG4gICAgICAgICAgICAgICAgaWYgKHN0cmVhbVBhcnQudHlwZSA9PT0gJ3JhdycgJiYgIW9wdGlvbnMuaW5jbHVkZVJhd0NodW5rcykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBTa2lwIHJhdyBjaHVua3MgaWYgbm90IHJlcXVlc3RlZFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHN0cmVhbVBhcnQudHlwZSA9PT0gJ3Jlc3BvbnNlLW1ldGFkYXRhJyAmJlxuICAgICAgICAgICAgICAgICAgc3RyZWFtUGFydC50aW1lc3RhbXAgJiZcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBzdHJlYW1QYXJ0LnRpbWVzdGFtcCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHN0cmVhbVBhcnQudGltZXN0YW1wID0gbmV3IERhdGUoc3RyZWFtUGFydC50aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShzdHJlYW1QYXJ0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKFxuICAgICAgICAgICAgICAgICAgKGNodW5rIGFzIHsgc3VjY2VzczogZmFsc2U7IGVycm9yOiB1bmtub3duIH0pLmVycm9yLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICAgIHJlcXVlc3Q6IHsgYm9keTogYXJncyB9LFxuICAgICAgICByZXNwb25zZTogeyBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMgfSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGFzR2F0ZXdheUVycm9yKGVycm9yLCBwYXJzZUF1dGhNZXRob2QocmVzb2x2ZWRIZWFkZXJzKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc0ZpbGVQYXJ0KHBhcnQ6IHVua25vd24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgcGFydCAmJiB0eXBlb2YgcGFydCA9PT0gJ29iamVjdCcgJiYgJ3R5cGUnIGluIHBhcnQgJiYgcGFydC50eXBlID09PSAnZmlsZSdcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuY29kZXMgZmlsZSBwYXJ0cyBpbiB0aGUgcHJvbXB0IHRvIGJhc2U2NC4gTXV0YXRlcyB0aGUgcGFzc2VkIG9wdGlvbnNcbiAgICogaW5zdGFuY2UgZGlyZWN0bHkgdG8gYXZvaWQgY29weWluZyB0aGUgZmlsZSBkYXRhLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIHRvIGVuY29kZS5cbiAgICogQHJldHVybnMgVGhlIG9wdGlvbnMgd2l0aCB0aGUgZmlsZSBwYXJ0cyBlbmNvZGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBtYXliZUVuY29kZUZpbGVQYXJ0cyhvcHRpb25zOiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucykge1xuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBvcHRpb25zLnByb21wdCkge1xuICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgICBpZiAodGhpcy5pc0ZpbGVQYXJ0KHBhcnQpKSB7XG4gICAgICAgICAgY29uc3QgZmlsZVBhcnQgPSBwYXJ0IGFzIExhbmd1YWdlTW9kZWxWMkZpbGVQYXJ0O1xuICAgICAgICAgIC8vIElmIHRoZSBmaWxlIHBhcnQgaXMgYSBVUkwgaXQgd2lsbCBnZXQgY2xlYW5seSBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcuXG4gICAgICAgICAgLy8gSWYgaXQncyBhIGJpbmFyeSBmaWxlIGF0dGFjaG1lbnQgd2UgY29udmVydCBpdCB0byBhIGRhdGEgdXJsLlxuICAgICAgICAgIC8vIEluIGVpdGhlciBjYXNlLCBzZXJ2ZXItc2lkZSB3ZSBzaG91bGQgb25seSBldmVyIHNlZSBVUkxzIGFzIHN0cmluZ3MuXG4gICAgICAgICAgaWYgKGZpbGVQYXJ0LmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBVaW50OEFycmF5LmZyb20oZmlsZVBhcnQuZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBiYXNlNjREYXRhID0gQnVmZmVyLmZyb20oYnVmZmVyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgICAgICAgICBmaWxlUGFydC5kYXRhID0gbmV3IFVSTChcbiAgICAgICAgICAgICAgYGRhdGE6JHtmaWxlUGFydC5tZWRpYVR5cGUgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSd9O2Jhc2U2NCwke2Jhc2U2NERhdGF9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRVcmwoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuY29uZmlnLmJhc2VVUkx9L2xhbmd1YWdlLW1vZGVsYDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TW9kZWxDb25maWdIZWFkZXJzKG1vZGVsSWQ6IHN0cmluZywgc3RyZWFtaW5nOiBib29sZWFuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdhaS1sYW5ndWFnZS1tb2RlbC1zcGVjaWZpY2F0aW9uLXZlcnNpb24nOiAnMicsXG4gICAgICAnYWktbGFuZ3VhZ2UtbW9kZWwtaWQnOiBtb2RlbElkLFxuICAgICAgJ2FpLWxhbmd1YWdlLW1vZGVsLXN0cmVhbWluZyc6IFN0cmluZyhzdHJlYW1pbmcpLFxuICAgIH07XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEVtYmVkZGluZ01vZGVsVjIgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGNvbWJpbmVIZWFkZXJzLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIsXG4gIHBvc3RKc29uVG9BcGksXG4gIHJlc29sdmUsXG4gIHR5cGUgUmVzb2x2YWJsZSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB0eXBlIHsgR2F0ZXdheUNvbmZpZyB9IGZyb20gJy4vZ2F0ZXdheS1jb25maWcnO1xuaW1wb3J0IHsgYXNHYXRld2F5RXJyb3IgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQgeyBwYXJzZUF1dGhNZXRob2QgfSBmcm9tICcuL2Vycm9ycy9wYXJzZS1hdXRoLW1ldGhvZCc7XG5pbXBvcnQgdHlwZSB7IFNoYXJlZFYyUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgY2xhc3MgR2F0ZXdheUVtYmVkZGluZ01vZGVsIGltcGxlbWVudHMgRW1iZWRkaW5nTW9kZWxWMjxzdHJpbmc+IHtcbiAgcmVhZG9ubHkgc3BlY2lmaWNhdGlvblZlcnNpb24gPSAndjInO1xuICByZWFkb25seSBtYXhFbWJlZGRpbmdzUGVyQ2FsbCA9IDIwNDg7XG4gIHJlYWRvbmx5IHN1cHBvcnRzUGFyYWxsZWxDYWxscyA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgbW9kZWxJZDogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29uZmlnOiBHYXRld2F5Q29uZmlnICYge1xuICAgICAgcHJvdmlkZXI6IHN0cmluZztcbiAgICAgIG8xMXlIZWFkZXJzOiBSZXNvbHZhYmxlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+O1xuICAgIH0sXG4gICkge31cblxuICBnZXQgcHJvdmlkZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcucHJvdmlkZXI7XG4gIH1cblxuICBhc3luYyBkb0VtYmVkKHtcbiAgICB2YWx1ZXMsXG4gICAgaGVhZGVycyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gIH06IFBhcmFtZXRlcnM8RW1iZWRkaW5nTW9kZWxWMjxzdHJpbmc+Wydkb0VtYmVkJ10+WzBdKTogUHJvbWlzZTxcbiAgICBBd2FpdGVkPFJldHVyblR5cGU8RW1iZWRkaW5nTW9kZWxWMjxzdHJpbmc+Wydkb0VtYmVkJ10+PlxuICA+IHtcbiAgICBjb25zdCByZXNvbHZlZEhlYWRlcnMgPSBhd2FpdCByZXNvbHZlKHRoaXMuY29uZmlnLmhlYWRlcnMoKSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICB2YWx1ZTogcmVzcG9uc2VCb2R5LFxuICAgICAgICByYXdWYWx1ZSxcbiAgICAgIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpKHtcbiAgICAgICAgdXJsOiB0aGlzLmdldFVybCgpLFxuICAgICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVycyhcbiAgICAgICAgICByZXNvbHZlZEhlYWRlcnMsXG4gICAgICAgICAgaGVhZGVycyA/PyB7fSxcbiAgICAgICAgICB0aGlzLmdldE1vZGVsQ29uZmlnSGVhZGVycygpLFxuICAgICAgICAgIGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcubzExeUhlYWRlcnMpLFxuICAgICAgICApLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgaW5wdXQ6IHZhbHVlcy5sZW5ndGggPT09IDEgPyB2YWx1ZXNbMF0gOiB2YWx1ZXMsXG4gICAgICAgICAgLi4uKHByb3ZpZGVyT3B0aW9ucyA/IHsgcHJvdmlkZXJPcHRpb25zIH0gOiB7fSksXG4gICAgICAgIH0sXG4gICAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIoXG4gICAgICAgICAgZ2F0ZXdheUVtYmVkZGluZ1Jlc3BvbnNlU2NoZW1hLFxuICAgICAgICApLFxuICAgICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgZXJyb3JTY2hlbWE6IHouYW55KCksXG4gICAgICAgICAgZXJyb3JUb01lc3NhZ2U6IGRhdGEgPT4gZGF0YSxcbiAgICAgICAgfSksXG4gICAgICAgIC4uLihhYm9ydFNpZ25hbCAmJiB7IGFib3J0U2lnbmFsIH0pLFxuICAgICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2gsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW1iZWRkaW5nczogcmVzcG9uc2VCb2R5LmVtYmVkZGluZ3MsXG4gICAgICAgIHVzYWdlOiByZXNwb25zZUJvZHkudXNhZ2UgPz8gdW5kZWZpbmVkLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOlxuICAgICAgICAgIHJlc3BvbnNlQm9keS5wcm92aWRlck1ldGFkYXRhIGFzIHVua25vd24gYXMgU2hhcmVkVjJQcm92aWRlck1ldGFkYXRhLFxuICAgICAgICByZXNwb25zZTogeyBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsIGJvZHk6IHJhd1ZhbHVlIH0sXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBhc0dhdGV3YXlFcnJvcihlcnJvciwgcGFyc2VBdXRoTWV0aG9kKHJlc29sdmVkSGVhZGVycykpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0VXJsKCkge1xuICAgIHJldHVybiBgJHt0aGlzLmNvbmZpZy5iYXNlVVJMfS9lbWJlZGRpbmctbW9kZWxgO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRNb2RlbENvbmZpZ0hlYWRlcnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdhaS1lbWJlZGRpbmctbW9kZWwtc3BlY2lmaWNhdGlvbi12ZXJzaW9uJzogJzInLFxuICAgICAgJ2FpLW1vZGVsLWlkJzogdGhpcy5tb2RlbElkLFxuICAgIH07XG4gIH1cbn1cblxuY29uc3QgZ2F0ZXdheUVtYmVkZGluZ1Jlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICBlbWJlZGRpbmdzOiB6LmFycmF5KHouYXJyYXkoei5udW1iZXIoKSkpLFxuICB1c2FnZTogei5vYmplY3QoeyB0b2tlbnM6IHoubnVtYmVyKCkgfSkubnVsbGlzaCgpLFxuICBwcm92aWRlck1ldGFkYXRhOiB6XG4gICAgLnJlY29yZCh6LnN0cmluZygpLCB6LnJlY29yZCh6LnN0cmluZygpLCB6LnVua25vd24oKSkpXG4gICAgLm9wdGlvbmFsKCksXG59KTtcbiIsICJpbXBvcnQgeyBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvciB9IGZyb20gJy4vZXJyb3JzJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFZlcmNlbE9pZGNUb2tlbigpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCB0b2tlbiA9XG4gICAgZ2V0Q29udGV4dCgpLmhlYWRlcnM/LlsneC12ZXJjZWwtb2lkYy10b2tlbiddID8/XG4gICAgcHJvY2Vzcy5lbnYuVkVSQ0VMX09JRENfVE9LRU47XG5cbiAgaWYgKCF0b2tlbikge1xuICAgIHRocm93IG5ldyBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvcih7XG4gICAgICBtZXNzYWdlOiAnT0lEQyB0b2tlbiBub3QgYXZhaWxhYmxlJyxcbiAgICAgIHN0YXR1c0NvZGU6IDQwMSxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0b2tlbjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFZlcmNlbFJlcXVlc3RJZCgpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICByZXR1cm4gZ2V0Q29udGV4dCgpLmhlYWRlcnM/LlsneC12ZXJjZWwtaWQnXTtcbn1cblxudHlwZSBDb250ZXh0ID0ge1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn07XG5cbmNvbnN0IFNZTUJPTF9GT1JfUkVRX0NPTlRFWFQgPSBTeW1ib2wuZm9yKCdAdmVyY2VsL3JlcXVlc3QtY29udGV4dCcpO1xuXG5mdW5jdGlvbiBnZXRDb250ZXh0KCk6IENvbnRleHQge1xuICBjb25zdCBmcm9tU3ltYm9sOiB0eXBlb2YgZ2xvYmFsVGhpcyAmIHtcbiAgICBbU1lNQk9MX0ZPUl9SRVFfQ09OVEVYVF0/OiB7IGdldD86ICgpID0+IENvbnRleHQgfTtcbiAgfSA9IGdsb2JhbFRoaXM7XG4gIHJldHVybiBmcm9tU3ltYm9sW1NZTUJPTF9GT1JfUkVRX0NPTlRFWFRdPy5nZXQ/LigpID8/IHt9O1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKiBvbmx5IGdsb2JhbHMgdGhhdCBjb21tb24gdG8gbm9kZSBhbmQgYnJvd3NlcnMgYXJlIGFsbG93ZWQgKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBub2RlL25vLXVuc3VwcG9ydGVkLWZlYXR1cmVzL2VzLWJ1aWx0aW5zXG5leHBvcnQgY29uc3QgX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsO1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIHRoaXMgaXMgYXV0b2dlbmVyYXRlZCBmaWxlLCBzZWUgc2NyaXB0cy92ZXJzaW9uLXVwZGF0ZS5qc1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnMS45LjAnO1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcblxuY29uc3QgcmUgPSAvXihcXGQrKVxcLihcXGQrKVxcLihcXGQrKSgtKC4rKSk/JC87XG5cbi8qKlxuICogQ3JlYXRlIGEgZnVuY3Rpb24gdG8gdGVzdCBhbiBBUEkgdmVyc2lvbiB0byBzZWUgaWYgaXQgaXMgY29tcGF0aWJsZSB3aXRoIHRoZSBwcm92aWRlZCBvd25WZXJzaW9uLlxuICpcbiAqIFRoZSByZXR1cm5lZCBmdW5jdGlvbiBoYXMgdGhlIGZvbGxvd2luZyBzZW1hbnRpY3M6XG4gKiAtIEV4YWN0IG1hdGNoIGlzIGFsd2F5cyBjb21wYXRpYmxlXG4gKiAtIE1ham9yIHZlcnNpb25zIG11c3QgbWF0Y2ggZXhhY3RseVxuICogICAgLSAxLnggcGFja2FnZSBjYW5ub3QgdXNlIGdsb2JhbCAyLnggcGFja2FnZVxuICogICAgLSAyLnggcGFja2FnZSBjYW5ub3QgdXNlIGdsb2JhbCAxLnggcGFja2FnZVxuICogLSBUaGUgbWlub3IgdmVyc2lvbiBvZiB0aGUgQVBJIG1vZHVsZSByZXF1ZXN0aW5nIGFjY2VzcyB0byB0aGUgZ2xvYmFsIEFQSSBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgbWlub3IgdmVyc2lvbiBvZiB0aGlzIEFQSVxuICogICAgLSAxLjMgcGFja2FnZSBtYXkgdXNlIDEuNCBnbG9iYWwgYmVjYXVzZSB0aGUgbGF0ZXIgZ2xvYmFsIGNvbnRhaW5zIGFsbCBmdW5jdGlvbnMgMS4zIGV4cGVjdHNcbiAqICAgIC0gMS40IHBhY2thZ2UgbWF5IE5PVCB1c2UgMS4zIGdsb2JhbCBiZWNhdXNlIGl0IG1heSB0cnkgdG8gY2FsbCBmdW5jdGlvbnMgd2hpY2ggZG9uJ3QgZXhpc3Qgb24gMS4zXG4gKiAtIElmIHRoZSBtYWpvciB2ZXJzaW9uIGlzIDAsIHRoZSBtaW5vciB2ZXJzaW9uIGlzIHRyZWF0ZWQgYXMgdGhlIG1ham9yIGFuZCB0aGUgcGF0Y2ggaXMgdHJlYXRlZCBhcyB0aGUgbWlub3JcbiAqIC0gUGF0Y2ggYW5kIGJ1aWxkIHRhZyBkaWZmZXJlbmNlcyBhcmUgbm90IGNvbnNpZGVyZWQgYXQgdGhpcyB0aW1lXG4gKlxuICogQHBhcmFtIG93blZlcnNpb24gdmVyc2lvbiB3aGljaCBzaG91bGQgYmUgY2hlY2tlZCBhZ2FpbnN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfbWFrZUNvbXBhdGliaWxpdHlDaGVjayhcbiAgb3duVmVyc2lvbjogc3RyaW5nXG4pOiAoZ2xvYmFsVmVyc2lvbjogc3RyaW5nKSA9PiBib29sZWFuIHtcbiAgY29uc3QgYWNjZXB0ZWRWZXJzaW9ucyA9IG5ldyBTZXQ8c3RyaW5nPihbb3duVmVyc2lvbl0pO1xuICBjb25zdCByZWplY3RlZFZlcnNpb25zID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgY29uc3QgbXlWZXJzaW9uTWF0Y2ggPSBvd25WZXJzaW9uLm1hdGNoKHJlKTtcbiAgaWYgKCFteVZlcnNpb25NYXRjaCkge1xuICAgIC8vIHdlIGNhbm5vdCBndWFyYW50ZWUgY29tcGF0aWJpbGl0eSBzbyB3ZSBhbHdheXMgcmV0dXJuIG5vb3BcbiAgICByZXR1cm4gKCkgPT4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBvd25WZXJzaW9uUGFyc2VkID0ge1xuICAgIG1ham9yOiArbXlWZXJzaW9uTWF0Y2hbMV0sXG4gICAgbWlub3I6ICtteVZlcnNpb25NYXRjaFsyXSxcbiAgICBwYXRjaDogK215VmVyc2lvbk1hdGNoWzNdLFxuICAgIHByZXJlbGVhc2U6IG15VmVyc2lvbk1hdGNoWzRdLFxuICB9O1xuXG4gIC8vIGlmIG93blZlcnNpb24gaGFzIGEgcHJlcmVsZWFzZSB0YWcsIHZlcnNpb25zIG11c3QgbWF0Y2ggZXhhY3RseVxuICBpZiAob3duVmVyc2lvblBhcnNlZC5wcmVyZWxlYXNlICE9IG51bGwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNFeGFjdG1hdGNoKGdsb2JhbFZlcnNpb246IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGdsb2JhbFZlcnNpb24gPT09IG93blZlcnNpb247XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZWplY3Qodjogc3RyaW5nKSB7XG4gICAgcmVqZWN0ZWRWZXJzaW9ucy5hZGQodik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FjY2VwdCh2OiBzdHJpbmcpIHtcbiAgICBhY2NlcHRlZFZlcnNpb25zLmFkZCh2KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBpc0NvbXBhdGlibGUoZ2xvYmFsVmVyc2lvbjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKGFjY2VwdGVkVmVyc2lvbnMuaGFzKGdsb2JhbFZlcnNpb24pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAocmVqZWN0ZWRWZXJzaW9ucy5oYXMoZ2xvYmFsVmVyc2lvbikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBnbG9iYWxWZXJzaW9uTWF0Y2ggPSBnbG9iYWxWZXJzaW9uLm1hdGNoKHJlKTtcbiAgICBpZiAoIWdsb2JhbFZlcnNpb25NYXRjaCkge1xuICAgICAgLy8gY2Fubm90IHBhcnNlIG90aGVyIHZlcnNpb25cbiAgICAgIC8vIHdlIGNhbm5vdCBndWFyYW50ZWUgY29tcGF0aWJpbGl0eSBzbyB3ZSBhbHdheXMgbm9vcFxuICAgICAgcmV0dXJuIF9yZWplY3QoZ2xvYmFsVmVyc2lvbik7XG4gICAgfVxuXG4gICAgY29uc3QgZ2xvYmFsVmVyc2lvblBhcnNlZCA9IHtcbiAgICAgIG1ham9yOiArZ2xvYmFsVmVyc2lvbk1hdGNoWzFdLFxuICAgICAgbWlub3I6ICtnbG9iYWxWZXJzaW9uTWF0Y2hbMl0sXG4gICAgICBwYXRjaDogK2dsb2JhbFZlcnNpb25NYXRjaFszXSxcbiAgICAgIHByZXJlbGVhc2U6IGdsb2JhbFZlcnNpb25NYXRjaFs0XSxcbiAgICB9O1xuXG4gICAgLy8gaWYgZ2xvYmFsVmVyc2lvbiBoYXMgYSBwcmVyZWxlYXNlIHRhZywgdmVyc2lvbnMgbXVzdCBtYXRjaCBleGFjdGx5XG4gICAgaWYgKGdsb2JhbFZlcnNpb25QYXJzZWQucHJlcmVsZWFzZSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gX3JlamVjdChnbG9iYWxWZXJzaW9uKTtcbiAgICB9XG5cbiAgICAvLyBtYWpvciB2ZXJzaW9ucyBtdXN0IG1hdGNoXG4gICAgaWYgKG93blZlcnNpb25QYXJzZWQubWFqb3IgIT09IGdsb2JhbFZlcnNpb25QYXJzZWQubWFqb3IpIHtcbiAgICAgIHJldHVybiBfcmVqZWN0KGdsb2JhbFZlcnNpb24pO1xuICAgIH1cblxuICAgIGlmIChvd25WZXJzaW9uUGFyc2VkLm1ham9yID09PSAwKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG93blZlcnNpb25QYXJzZWQubWlub3IgPT09IGdsb2JhbFZlcnNpb25QYXJzZWQubWlub3IgJiZcbiAgICAgICAgb3duVmVyc2lvblBhcnNlZC5wYXRjaCA8PSBnbG9iYWxWZXJzaW9uUGFyc2VkLnBhdGNoXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIF9hY2NlcHQoZ2xvYmFsVmVyc2lvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVqZWN0KGdsb2JhbFZlcnNpb24pO1xuICAgIH1cblxuICAgIGlmIChvd25WZXJzaW9uUGFyc2VkLm1pbm9yIDw9IGdsb2JhbFZlcnNpb25QYXJzZWQubWlub3IpIHtcbiAgICAgIHJldHVybiBfYWNjZXB0KGdsb2JhbFZlcnNpb24pO1xuICAgIH1cblxuICAgIHJldHVybiBfcmVqZWN0KGdsb2JhbFZlcnNpb24pO1xuICB9O1xufVxuXG4vKipcbiAqIFRlc3QgYW4gQVBJIHZlcnNpb24gdG8gc2VlIGlmIGl0IGlzIGNvbXBhdGlibGUgd2l0aCB0aGlzIEFQSS5cbiAqXG4gKiAtIEV4YWN0IG1hdGNoIGlzIGFsd2F5cyBjb21wYXRpYmxlXG4gKiAtIE1ham9yIHZlcnNpb25zIG11c3QgbWF0Y2ggZXhhY3RseVxuICogICAgLSAxLnggcGFja2FnZSBjYW5ub3QgdXNlIGdsb2JhbCAyLnggcGFja2FnZVxuICogICAgLSAyLnggcGFja2FnZSBjYW5ub3QgdXNlIGdsb2JhbCAxLnggcGFja2FnZVxuICogLSBUaGUgbWlub3IgdmVyc2lvbiBvZiB0aGUgQVBJIG1vZHVsZSByZXF1ZXN0aW5nIGFjY2VzcyB0byB0aGUgZ2xvYmFsIEFQSSBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgbWlub3IgdmVyc2lvbiBvZiB0aGlzIEFQSVxuICogICAgLSAxLjMgcGFja2FnZSBtYXkgdXNlIDEuNCBnbG9iYWwgYmVjYXVzZSB0aGUgbGF0ZXIgZ2xvYmFsIGNvbnRhaW5zIGFsbCBmdW5jdGlvbnMgMS4zIGV4cGVjdHNcbiAqICAgIC0gMS40IHBhY2thZ2UgbWF5IE5PVCB1c2UgMS4zIGdsb2JhbCBiZWNhdXNlIGl0IG1heSB0cnkgdG8gY2FsbCBmdW5jdGlvbnMgd2hpY2ggZG9uJ3QgZXhpc3Qgb24gMS4zXG4gKiAtIElmIHRoZSBtYWpvciB2ZXJzaW9uIGlzIDAsIHRoZSBtaW5vciB2ZXJzaW9uIGlzIHRyZWF0ZWQgYXMgdGhlIG1ham9yIGFuZCB0aGUgcGF0Y2ggaXMgdHJlYXRlZCBhcyB0aGUgbWlub3JcbiAqIC0gUGF0Y2ggYW5kIGJ1aWxkIHRhZyBkaWZmZXJlbmNlcyBhcmUgbm90IGNvbnNpZGVyZWQgYXQgdGhpcyB0aW1lXG4gKlxuICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgQVBJIHJlcXVlc3RpbmcgYW4gaW5zdGFuY2Ugb2YgdGhlIGdsb2JhbCBBUElcbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ29tcGF0aWJsZSA9IF9tYWtlQ29tcGF0aWJpbGl0eUNoZWNrKFZFUlNJT04pO1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IE1ldGVyUHJvdmlkZXIgfSBmcm9tICcuLi9tZXRyaWNzL01ldGVyUHJvdmlkZXInO1xuaW1wb3J0IHsgQ29udGV4dE1hbmFnZXIgfSBmcm9tICcuLi9jb250ZXh0L3R5cGVzJztcbmltcG9ydCB7IERpYWdMb2dnZXIgfSBmcm9tICcuLi9kaWFnL3R5cGVzJztcbmltcG9ydCB7IF9nbG9iYWxUaGlzIH0gZnJvbSAnLi4vcGxhdGZvcm0nO1xuaW1wb3J0IHsgVGV4dE1hcFByb3BhZ2F0b3IgfSBmcm9tICcuLi9wcm9wYWdhdGlvbi9UZXh0TWFwUHJvcGFnYXRvcic7XG5pbXBvcnQgdHlwZSB7IFRyYWNlclByb3ZpZGVyIH0gZnJvbSAnLi4vdHJhY2UvdHJhY2VyX3Byb3ZpZGVyJztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcbmltcG9ydCB7IGlzQ29tcGF0aWJsZSB9IGZyb20gJy4vc2VtdmVyJztcblxuY29uc3QgbWFqb3IgPSBWRVJTSU9OLnNwbGl0KCcuJylbMF07XG5jb25zdCBHTE9CQUxfT1BFTlRFTEVNRVRSWV9BUElfS0VZID0gU3ltYm9sLmZvcihcbiAgYG9wZW50ZWxlbWV0cnkuanMuYXBpLiR7bWFqb3J9YFxuKTtcblxuY29uc3QgX2dsb2JhbCA9IF9nbG9iYWxUaGlzIGFzIE9UZWxHbG9iYWw7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlckdsb2JhbDxUeXBlIGV4dGVuZHMga2V5b2YgT1RlbEdsb2JhbEFQST4oXG4gIHR5cGU6IFR5cGUsXG4gIGluc3RhbmNlOiBPVGVsR2xvYmFsQVBJW1R5cGVdLFxuICBkaWFnOiBEaWFnTG9nZ2VyLFxuICBhbGxvd092ZXJyaWRlID0gZmFsc2Vcbik6IGJvb2xlYW4ge1xuICBjb25zdCBhcGkgPSAoX2dsb2JhbFtHTE9CQUxfT1BFTlRFTEVNRVRSWV9BUElfS0VZXSA9IF9nbG9iYWxbXG4gICAgR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWVxuICBdID8/IHtcbiAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICB9KTtcblxuICBpZiAoIWFsbG93T3ZlcnJpZGUgJiYgYXBpW3R5cGVdKSB7XG4gICAgLy8gYWxyZWFkeSByZWdpc3RlcmVkIGFuIEFQSSBvZiB0aGlzIHR5cGVcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICBgQG9wZW50ZWxlbWV0cnkvYXBpOiBBdHRlbXB0ZWQgZHVwbGljYXRlIHJlZ2lzdHJhdGlvbiBvZiBBUEk6ICR7dHlwZX1gXG4gICAgKTtcbiAgICBkaWFnLmVycm9yKGVyci5zdGFjayB8fCBlcnIubWVzc2FnZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGFwaS52ZXJzaW9uICE9PSBWRVJTSU9OKSB7XG4gICAgLy8gQWxsIHJlZ2lzdGVyZWQgQVBJcyBtdXN0IGJlIG9mIHRoZSBzYW1lIHZlcnNpb24gZXhhY3RseVxuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAgIGBAb3BlbnRlbGVtZXRyeS9hcGk6IFJlZ2lzdHJhdGlvbiBvZiB2ZXJzaW9uIHYke2FwaS52ZXJzaW9ufSBmb3IgJHt0eXBlfSBkb2VzIG5vdCBtYXRjaCBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgQVBJIHYke1ZFUlNJT059YFxuICAgICk7XG4gICAgZGlhZy5lcnJvcihlcnIuc3RhY2sgfHwgZXJyLm1lc3NhZ2UpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGFwaVt0eXBlXSA9IGluc3RhbmNlO1xuICBkaWFnLmRlYnVnKFxuICAgIGBAb3BlbnRlbGVtZXRyeS9hcGk6IFJlZ2lzdGVyZWQgYSBnbG9iYWwgZm9yICR7dHlwZX0gdiR7VkVSU0lPTn0uYFxuICApO1xuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsPFR5cGUgZXh0ZW5kcyBrZXlvZiBPVGVsR2xvYmFsQVBJPihcbiAgdHlwZTogVHlwZVxuKTogT1RlbEdsb2JhbEFQSVtUeXBlXSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGdsb2JhbFZlcnNpb24gPSBfZ2xvYmFsW0dMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVldPy52ZXJzaW9uO1xuICBpZiAoIWdsb2JhbFZlcnNpb24gfHwgIWlzQ29tcGF0aWJsZShnbG9iYWxWZXJzaW9uKSkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gX2dsb2JhbFtHTE9CQUxfT1BFTlRFTEVNRVRSWV9BUElfS0VZXT8uW3R5cGVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5yZWdpc3Rlckdsb2JhbCh0eXBlOiBrZXlvZiBPVGVsR2xvYmFsQVBJLCBkaWFnOiBEaWFnTG9nZ2VyKSB7XG4gIGRpYWcuZGVidWcoXG4gICAgYEBvcGVudGVsZW1ldHJ5L2FwaTogVW5yZWdpc3RlcmluZyBhIGdsb2JhbCBmb3IgJHt0eXBlfSB2JHtWRVJTSU9OfS5gXG4gICk7XG4gIGNvbnN0IGFwaSA9IF9nbG9iYWxbR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWV07XG5cbiAgaWYgKGFwaSkge1xuICAgIGRlbGV0ZSBhcGlbdHlwZV07XG4gIH1cbn1cblxudHlwZSBPVGVsR2xvYmFsID0ge1xuICBbR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWV0/OiBPVGVsR2xvYmFsQVBJO1xufTtcblxudHlwZSBPVGVsR2xvYmFsQVBJID0ge1xuICB2ZXJzaW9uOiBzdHJpbmc7XG5cbiAgZGlhZz86IERpYWdMb2dnZXI7XG4gIHRyYWNlPzogVHJhY2VyUHJvdmlkZXI7XG4gIGNvbnRleHQ/OiBDb250ZXh0TWFuYWdlcjtcbiAgbWV0cmljcz86IE1ldGVyUHJvdmlkZXI7XG4gIHByb3BhZ2F0aW9uPzogVGV4dE1hcFByb3BhZ2F0b3I7XG59O1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGdldEdsb2JhbCB9IGZyb20gJy4uL2ludGVybmFsL2dsb2JhbC11dGlscyc7XG5pbXBvcnQgeyBDb21wb25lbnRMb2dnZXJPcHRpb25zLCBEaWFnTG9nZ2VyLCBEaWFnTG9nRnVuY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBDb21wb25lbnQgTG9nZ2VyIHdoaWNoIGlzIG1lYW50IHRvIGJlIHVzZWQgYXMgcGFydCBvZiBhbnkgY29tcG9uZW50IHdoaWNoXG4gKiB3aWxsIGFkZCBhdXRvbWF0aWNhbGx5IGFkZGl0aW9uYWwgbmFtZXNwYWNlIGluIGZyb250IG9mIHRoZSBsb2cgbWVzc2FnZS5cbiAqIEl0IHdpbGwgdGhlbiBmb3J3YXJkIGFsbCBtZXNzYWdlIHRvIGdsb2JhbCBkaWFnIGxvZ2dlclxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGNMb2dnZXIgPSBkaWFnLmNyZWF0ZUNvbXBvbmVudExvZ2dlcih7IG5hbWVzcGFjZTogJ0BvcGVudGVsZW1ldHJ5L2luc3RydW1lbnRhdGlvbi1odHRwJyB9KTtcbiAqIGNMb2dnZXIuZGVidWcoJ3Rlc3QnKTtcbiAqIC8vIEBvcGVudGVsZW1ldHJ5L2luc3RydW1lbnRhdGlvbi1odHRwIHRlc3RcbiAqL1xuZXhwb3J0IGNsYXNzIERpYWdDb21wb25lbnRMb2dnZXIgaW1wbGVtZW50cyBEaWFnTG9nZ2VyIHtcbiAgcHJpdmF0ZSBfbmFtZXNwYWNlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IENvbXBvbmVudExvZ2dlck9wdGlvbnMpIHtcbiAgICB0aGlzLl9uYW1lc3BhY2UgPSBwcm9wcy5uYW1lc3BhY2UgfHwgJ0RpYWdDb21wb25lbnRMb2dnZXInO1xuICB9XG5cbiAgcHVibGljIGRlYnVnKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgcmV0dXJuIGxvZ1Byb3h5KCdkZWJ1ZycsIHRoaXMuX25hbWVzcGFjZSwgYXJncyk7XG4gIH1cblxuICBwdWJsaWMgZXJyb3IoLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICByZXR1cm4gbG9nUHJveHkoJ2Vycm9yJywgdGhpcy5fbmFtZXNwYWNlLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyBpbmZvKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgcmV0dXJuIGxvZ1Byb3h5KCdpbmZvJywgdGhpcy5fbmFtZXNwYWNlLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyB3YXJuKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgcmV0dXJuIGxvZ1Byb3h5KCd3YXJuJywgdGhpcy5fbmFtZXNwYWNlLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyB2ZXJib3NlKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgcmV0dXJuIGxvZ1Byb3h5KCd2ZXJib3NlJywgdGhpcy5fbmFtZXNwYWNlLCBhcmdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBsb2dQcm94eShcbiAgZnVuY05hbWU6IGtleW9mIERpYWdMb2dnZXIsXG4gIG5hbWVzcGFjZTogc3RyaW5nLFxuICBhcmdzOiBhbnlcbik6IHZvaWQge1xuICBjb25zdCBsb2dnZXIgPSBnZXRHbG9iYWwoJ2RpYWcnKTtcbiAgLy8gc2hvcnRjdXQgaWYgbG9nZ2VyIG5vdCBzZXRcbiAgaWYgKCFsb2dnZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBhcmdzLnVuc2hpZnQobmFtZXNwYWNlKTtcbiAgcmV0dXJuIGxvZ2dlcltmdW5jTmFtZV0oLi4uKGFyZ3MgYXMgUGFyYW1ldGVyczxEaWFnTG9nRnVuY3Rpb24+KSk7XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IHR5cGUgRGlhZ0xvZ0Z1bmN0aW9uID0gKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogdW5rbm93bltdKSA9PiB2b2lkO1xuXG4vKipcbiAqIERlZmluZXMgYW4gaW50ZXJuYWwgZGlhZ25vc3RpYyBsb2dnZXIgaW50ZXJmYWNlIHdoaWNoIGlzIHVzZWQgdG8gbG9nIGludGVybmFsIGRpYWdub3N0aWNcbiAqIG1lc3NhZ2VzLCB5b3UgY2FuIHNldCB0aGUgZGVmYXVsdCBkaWFnbm9zdGljIGxvZ2dlciB2aWEgdGhlIHtAbGluayBEaWFnQVBJfSBzZXRMb2dnZXIgZnVuY3Rpb24uXG4gKiBBUEkgcHJvdmlkZWQgaW1wbGVtZW50YXRpb25zIGluY2x1ZGUgOi1cbiAqIC0gYSBOby1PcCB7QGxpbmsgY3JlYXRlTm9vcERpYWdMb2dnZXJ9XG4gKiAtIGEge0BsaW5rIERpYWdMb2dMZXZlbH0gZmlsdGVyaW5nIHdyYXBwZXIge0BsaW5rIGNyZWF0ZUxvZ0xldmVsRGlhZ0xvZ2dlcn1cbiAqIC0gYSBnZW5lcmFsIENvbnNvbGUge0BsaW5rIERpYWdDb25zb2xlTG9nZ2VyfSB2ZXJzaW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIERpYWdMb2dnZXIge1xuICAvKiogTG9nIGFuIGVycm9yIHNjZW5hcmlvIHRoYXQgd2FzIG5vdCBleHBlY3RlZCBhbmQgY2F1c2VkIHRoZSByZXF1ZXN0ZWQgb3BlcmF0aW9uIHRvIGZhaWwuICovXG4gIGVycm9yOiBEaWFnTG9nRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIExvZyBhIHdhcm5pbmcgc2NlbmFyaW8gdG8gaW5mb3JtIHRoZSBkZXZlbG9wZXIgb2YgYW4gaXNzdWVzIHRoYXQgc2hvdWxkIGJlIGludmVzdGlnYXRlZC5cbiAgICogVGhlIHJlcXVlc3RlZCBvcGVyYXRpb24gbWF5IG9yIG1heSBub3QgaGF2ZSBzdWNjZWVkZWQgb3IgY29tcGxldGVkLlxuICAgKi9cbiAgd2FybjogRGlhZ0xvZ0Z1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBMb2cgYSBnZW5lcmFsIGluZm9ybWF0aW9uYWwgbWVzc2FnZSwgdGhpcyBzaG91bGQgbm90IGFmZmVjdCBmdW5jdGlvbmFsaXR5LlxuICAgKiBUaGlzIGlzIGFsc28gdGhlIGRlZmF1bHQgbG9nZ2luZyBsZXZlbCBzbyB0aGlzIHNob3VsZCBOT1QgYmUgdXNlZCBmb3IgbG9nZ2luZ1xuICAgKiBkZWJ1Z2dpbmcgbGV2ZWwgaW5mb3JtYXRpb24uXG4gICAqL1xuICBpbmZvOiBEaWFnTG9nRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIExvZyBhIGdlbmVyYWwgZGVidWcgbWVzc2FnZSB0aGF0IGNhbiBiZSB1c2VmdWwgZm9yIGlkZW50aWZ5aW5nIGEgZmFpbHVyZS5cbiAgICogSW5mb3JtYXRpb24gbG9nZ2VkIGF0IHRoaXMgbGV2ZWwgbWF5IGluY2x1ZGUgZGlhZ25vc3RpYyBkZXRhaWxzIHRoYXQgd291bGRcbiAgICogaGVscCBpZGVudGlmeSBhIGZhaWx1cmUgc2NlbmFyaW8uXG4gICAqIEZvciBleGFtcGxlOiBMb2dnaW5nIHRoZSBvcmRlciBvZiBleGVjdXRpb24gb2YgYXN5bmMgb3BlcmF0aW9ucy5cbiAgICovXG4gIGRlYnVnOiBEaWFnTG9nRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIExvZyBhIGRldGFpbGVkICh2ZXJib3NlKSB0cmFjZSBsZXZlbCBsb2dnaW5nIHRoYXQgY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgZmFpbHVyZXNcbiAgICogd2hlcmUgZGVidWcgbGV2ZWwgbG9nZ2luZyB3b3VsZCBiZSBpbnN1ZmZpY2llbnQsIHRoaXMgbGV2ZWwgb2YgdHJhY2luZyBjYW4gaW5jbHVkZVxuICAgKiBpbnB1dCBhbmQgb3V0cHV0IHBhcmFtZXRlcnMgYW5kIGFzIHN1Y2ggbWF5IGluY2x1ZGUgUElJIGluZm9ybWF0aW9uIHBhc3NpbmcgdGhyb3VnaFxuICAgKiB0aGUgQVBJLiBBcyBzdWNoIGl0IGlzIHJlY29tbWVuZGVkIHRoYXQgdGhpcyBsZXZlbCBvZiB0cmFjaW5nIHNob3VsZCBub3QgYmUgZW5hYmxlZFxuICAgKiBpbiBhIHByb2R1Y3Rpb24gZW52aXJvbm1lbnQuXG4gICAqL1xuICB2ZXJib3NlOiBEaWFnTG9nRnVuY3Rpb247XG59XG5cbi8qKlxuICogRGVmaW5lcyB0aGUgYXZhaWxhYmxlIGludGVybmFsIGxvZ2dpbmcgbGV2ZWxzIGZvciB0aGUgZGlhZ25vc3RpYyBsb2dnZXIsIHRoZSBudW1lcmljIHZhbHVlc1xuICogb2YgdGhlIGxldmVscyBhcmUgZGVmaW5lZCB0byBtYXRjaCB0aGUgb3JpZ2luYWwgdmFsdWVzIGZyb20gdGhlIGluaXRpYWwgTG9nTGV2ZWwgdG8gYXZvaWRcbiAqIGNvbXBhdGliaWxpdHkvbWlncmF0aW9uIGlzc3VlcyBmb3IgYW55IGltcGxlbWVudGF0aW9uIHRoYXQgYXNzdW1lIHRoZSBudW1lcmljIG9yZGVyaW5nLlxuICovXG5leHBvcnQgZW51bSBEaWFnTG9nTGV2ZWwge1xuICAvKiogRGlhZ25vc3RpYyBMb2dnaW5nIGxldmVsIHNldHRpbmcgdG8gZGlzYWJsZSBhbGwgbG9nZ2luZyAoZXhjZXB0IGFuZCBmb3JjZWQgbG9ncykgKi9cbiAgTk9ORSA9IDAsXG5cbiAgLyoqIElkZW50aWZpZXMgYW4gZXJyb3Igc2NlbmFyaW8gKi9cbiAgRVJST1IgPSAzMCxcblxuICAvKiogSWRlbnRpZmllcyBhIHdhcm5pbmcgc2NlbmFyaW8gKi9cbiAgV0FSTiA9IDUwLFxuXG4gIC8qKiBHZW5lcmFsIGluZm9ybWF0aW9uYWwgbG9nIG1lc3NhZ2UgKi9cbiAgSU5GTyA9IDYwLFxuXG4gIC8qKiBHZW5lcmFsIGRlYnVnIGxvZyBtZXNzYWdlICovXG4gIERFQlVHID0gNzAsXG5cbiAgLyoqXG4gICAqIERldGFpbGVkIHRyYWNlIGxldmVsIGxvZ2dpbmcgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgZGV2ZWxvcG1lbnQsIHNob3VsZCBvbmx5IGJlIHNldFxuICAgKiBpbiBhIGRldmVsb3BtZW50IGVudmlyb25tZW50LlxuICAgKi9cbiAgVkVSQk9TRSA9IDgwLFxuXG4gIC8qKiBVc2VkIHRvIHNldCB0aGUgbG9nZ2luZyBsZXZlbCB0byBpbmNsdWRlIGFsbCBsb2dnaW5nICovXG4gIEFMTCA9IDk5OTksXG59XG5cbi8qKlxuICogRGVmaW5lcyBvcHRpb25zIGZvciBDb21wb25lbnRMb2dnZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnRMb2dnZXJPcHRpb25zIHtcbiAgbmFtZXNwYWNlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlhZ0xvZ2dlck9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIHtAbGluayBEaWFnTG9nTGV2ZWx9IHVzZWQgdG8gZmlsdGVyIGxvZ3Mgc2VudCB0byB0aGUgbG9nZ2VyLlxuICAgKlxuICAgKiBAZGVmYXVsdFZhbHVlIERpYWdMb2dMZXZlbC5JTkZPXG4gICAqL1xuICBsb2dMZXZlbD86IERpYWdMb2dMZXZlbDtcblxuICAvKipcbiAgICogU2V0dGluZyB0aGlzIHZhbHVlIHRvIGB0cnVlYCB3aWxsIHN1cHByZXNzIHRoZSB3YXJuaW5nIG1lc3NhZ2Ugbm9ybWFsbHkgZW1pdHRlZCB3aGVuIHJlZ2lzdGVyaW5nIGEgbG9nZ2VyIHdoZW4gYW5vdGhlciBsb2dnZXIgaXMgYWxyZWFkeSByZWdpc3RlcmVkLlxuICAgKi9cbiAgc3VwcHJlc3NPdmVycmlkZU1lc3NhZ2U/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpYWdMb2dnZXJBcGkge1xuICAvKipcbiAgICogU2V0IHRoZSBnbG9iYWwgRGlhZ0xvZ2dlciBhbmQgRGlhZ0xvZ0xldmVsLlxuICAgKiBJZiBhIGdsb2JhbCBkaWFnIGxvZ2dlciBpcyBhbHJlYWR5IHNldCwgdGhpcyB3aWxsIG92ZXJyaWRlIGl0LlxuICAgKlxuICAgKiBAcGFyYW0gbG9nZ2VyIC0gVGhlIHtAbGluayBEaWFnTG9nZ2VyfSBpbnN0YW5jZSB0byBzZXQgYXMgdGhlIGRlZmF1bHQgbG9nZ2VyLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEEge0BsaW5rIERpYWdMb2dnZXJPcHRpb25zfSBvYmplY3QuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdCB2YWx1ZXMgd2lsbCBiZSBzZXQuXG4gICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbG9nZ2VyIHdhcyBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCwgZWxzZSBgZmFsc2VgXG4gICAqL1xuICBzZXRMb2dnZXIobG9nZ2VyOiBEaWFnTG9nZ2VyLCBvcHRpb25zPzogRGlhZ0xvZ2dlck9wdGlvbnMpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gbG9nZ2VyIC0gVGhlIHtAbGluayBEaWFnTG9nZ2VyfSBpbnN0YW5jZSB0byBzZXQgYXMgdGhlIGRlZmF1bHQgbG9nZ2VyLlxuICAgKiBAcGFyYW0gbG9nTGV2ZWwgLSBUaGUge0BsaW5rIERpYWdMb2dMZXZlbH0gdXNlZCB0byBmaWx0ZXIgbG9ncyBzZW50IHRvIHRoZSBsb2dnZXIuIElmIG5vdCBwcm92aWRlZCBpdCB3aWxsIGRlZmF1bHQgdG8ge0BsaW5rIERpYWdMb2dMZXZlbC5JTkZPfS5cbiAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBsb2dnZXIgd2FzIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCBlbHNlIGBmYWxzZWBcbiAgICovXG4gIHNldExvZ2dlcihsb2dnZXI6IERpYWdMb2dnZXIsIGxvZ0xldmVsPzogRGlhZ0xvZ0xldmVsKTogYm9vbGVhbjtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBEaWFnTG9nRnVuY3Rpb24sIERpYWdMb2dnZXIsIERpYWdMb2dMZXZlbCB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxvZ0xldmVsRGlhZ0xvZ2dlcihcbiAgbWF4TGV2ZWw6IERpYWdMb2dMZXZlbCxcbiAgbG9nZ2VyOiBEaWFnTG9nZ2VyXG4pOiBEaWFnTG9nZ2VyIHtcbiAgaWYgKG1heExldmVsIDwgRGlhZ0xvZ0xldmVsLk5PTkUpIHtcbiAgICBtYXhMZXZlbCA9IERpYWdMb2dMZXZlbC5OT05FO1xuICB9IGVsc2UgaWYgKG1heExldmVsID4gRGlhZ0xvZ0xldmVsLkFMTCkge1xuICAgIG1heExldmVsID0gRGlhZ0xvZ0xldmVsLkFMTDtcbiAgfVxuXG4gIC8vIEluIGNhc2UgdGhlIGxvZ2dlciBpcyBudWxsIG9yIHVuZGVmaW5lZFxuICBsb2dnZXIgPSBsb2dnZXIgfHwge307XG5cbiAgZnVuY3Rpb24gX2ZpbHRlckZ1bmMoXG4gICAgZnVuY05hbWU6IGtleW9mIERpYWdMb2dnZXIsXG4gICAgdGhlTGV2ZWw6IERpYWdMb2dMZXZlbFxuICApOiBEaWFnTG9nRnVuY3Rpb24ge1xuICAgIGNvbnN0IHRoZUZ1bmMgPSBsb2dnZXJbZnVuY05hbWVdO1xuXG4gICAgaWYgKHR5cGVvZiB0aGVGdW5jID09PSAnZnVuY3Rpb24nICYmIG1heExldmVsID49IHRoZUxldmVsKSB7XG4gICAgICByZXR1cm4gdGhlRnVuYy5iaW5kKGxvZ2dlcik7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7fTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZXJyb3I6IF9maWx0ZXJGdW5jKCdlcnJvcicsIERpYWdMb2dMZXZlbC5FUlJPUiksXG4gICAgd2FybjogX2ZpbHRlckZ1bmMoJ3dhcm4nLCBEaWFnTG9nTGV2ZWwuV0FSTiksXG4gICAgaW5mbzogX2ZpbHRlckZ1bmMoJ2luZm8nLCBEaWFnTG9nTGV2ZWwuSU5GTyksXG4gICAgZGVidWc6IF9maWx0ZXJGdW5jKCdkZWJ1ZycsIERpYWdMb2dMZXZlbC5ERUJVRyksXG4gICAgdmVyYm9zZTogX2ZpbHRlckZ1bmMoJ3ZlcmJvc2UnLCBEaWFnTG9nTGV2ZWwuVkVSQk9TRSksXG4gIH07XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRGlhZ0NvbXBvbmVudExvZ2dlciB9IGZyb20gJy4uL2RpYWcvQ29tcG9uZW50TG9nZ2VyJztcbmltcG9ydCB7IGNyZWF0ZUxvZ0xldmVsRGlhZ0xvZ2dlciB9IGZyb20gJy4uL2RpYWcvaW50ZXJuYWwvbG9nTGV2ZWxMb2dnZXInO1xuaW1wb3J0IHtcbiAgQ29tcG9uZW50TG9nZ2VyT3B0aW9ucyxcbiAgRGlhZ0xvZ0Z1bmN0aW9uLFxuICBEaWFnTG9nZ2VyLFxuICBEaWFnTG9nZ2VyQXBpLFxuICBEaWFnTG9nTGV2ZWwsXG59IGZyb20gJy4uL2RpYWcvdHlwZXMnO1xuaW1wb3J0IHtcbiAgZ2V0R2xvYmFsLFxuICByZWdpc3Rlckdsb2JhbCxcbiAgdW5yZWdpc3Rlckdsb2JhbCxcbn0gZnJvbSAnLi4vaW50ZXJuYWwvZ2xvYmFsLXV0aWxzJztcblxuY29uc3QgQVBJX05BTUUgPSAnZGlhZyc7XG5cbi8qKlxuICogU2luZ2xldG9uIG9iamVjdCB3aGljaCByZXByZXNlbnRzIHRoZSBlbnRyeSBwb2ludCB0byB0aGUgT3BlblRlbGVtZXRyeSBpbnRlcm5hbFxuICogZGlhZ25vc3RpYyBBUElcbiAqL1xuZXhwb3J0IGNsYXNzIERpYWdBUEkgaW1wbGVtZW50cyBEaWFnTG9nZ2VyLCBEaWFnTG9nZ2VyQXBpIHtcbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlPzogRGlhZ0FQSTtcblxuICAvKiogR2V0IHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIERpYWdBUEkgQVBJICovXG4gIHB1YmxpYyBzdGF0aWMgaW5zdGFuY2UoKTogRGlhZ0FQSSB7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgRGlhZ0FQSSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcml2YXRlIGludGVybmFsIGNvbnN0cnVjdG9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIGZ1bmN0aW9uIF9sb2dQcm94eShmdW5jTmFtZToga2V5b2YgRGlhZ0xvZ2dlcik6IERpYWdMb2dGdW5jdGlvbiB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gZ2V0R2xvYmFsKCdkaWFnJyk7XG4gICAgICAgIC8vIHNob3J0Y3V0IGlmIGxvZ2dlciBub3Qgc2V0XG4gICAgICAgIGlmICghbG9nZ2VyKSByZXR1cm47XG4gICAgICAgIHJldHVybiBsb2dnZXJbZnVuY05hbWVdKC4uLmFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBVc2luZyBzZWxmIGxvY2FsIHZhcmlhYmxlIGZvciBtaW5pZmljYXRpb24gcHVycG9zZXMgYXMgJ3RoaXMnIGNhbm5vdCBiZSBtaW5pZmllZFxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gRGlhZ0FQSSBzcGVjaWZpYyBmdW5jdGlvbnNcblxuICAgIGNvbnN0IHNldExvZ2dlcjogRGlhZ0xvZ2dlckFwaVsnc2V0TG9nZ2VyJ10gPSAoXG4gICAgICBsb2dnZXIsXG4gICAgICBvcHRpb25zT3JMb2dMZXZlbCA9IHsgbG9nTGV2ZWw6IERpYWdMb2dMZXZlbC5JTkZPIH1cbiAgICApID0+IHtcbiAgICAgIGlmIChsb2dnZXIgPT09IHNlbGYpIHtcbiAgICAgICAgLy8gVGhlcmUgaXNuJ3QgbXVjaCB3ZSBjYW4gZG8gaGVyZS5cbiAgICAgICAgLy8gTG9nZ2luZyB0byB0aGUgY29uc29sZSBtaWdodCBicmVhayB0aGUgdXNlciBhcHBsaWNhdGlvbi5cbiAgICAgICAgLy8gVHJ5IHRvIGxvZyB0byBzZWxmLiBJZiBhIGxvZ2dlciB3YXMgcHJldmlvdXNseSByZWdpc3RlcmVkIGl0IHdpbGwgcmVjZWl2ZSB0aGUgbG9nLlxuICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0Nhbm5vdCB1c2UgZGlhZyBhcyB0aGUgbG9nZ2VyIGZvciBpdHNlbGYuIFBsZWFzZSB1c2UgYSBEaWFnTG9nZ2VyIGltcGxlbWVudGF0aW9uIGxpa2UgQ29uc29sZURpYWdMb2dnZXIgb3IgYSBjdXN0b20gaW1wbGVtZW50YXRpb24nXG4gICAgICAgICk7XG4gICAgICAgIHNlbGYuZXJyb3IoZXJyLnN0YWNrID8/IGVyci5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnNPckxvZ0xldmVsID09PSAnbnVtYmVyJykge1xuICAgICAgICBvcHRpb25zT3JMb2dMZXZlbCA9IHtcbiAgICAgICAgICBsb2dMZXZlbDogb3B0aW9uc09yTG9nTGV2ZWwsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9sZExvZ2dlciA9IGdldEdsb2JhbCgnZGlhZycpO1xuICAgICAgY29uc3QgbmV3TG9nZ2VyID0gY3JlYXRlTG9nTGV2ZWxEaWFnTG9nZ2VyKFxuICAgICAgICBvcHRpb25zT3JMb2dMZXZlbC5sb2dMZXZlbCA/PyBEaWFnTG9nTGV2ZWwuSU5GTyxcbiAgICAgICAgbG9nZ2VyXG4gICAgICApO1xuICAgICAgLy8gVGhlcmUgYWxyZWFkeSBpcyBhbiBsb2dnZXIgcmVnaXN0ZXJlZC4gV2UnbGwgbGV0IGl0IGtub3cgYmVmb3JlIG92ZXJ3cml0aW5nIGl0LlxuICAgICAgaWYgKG9sZExvZ2dlciAmJiAhb3B0aW9uc09yTG9nTGV2ZWwuc3VwcHJlc3NPdmVycmlkZU1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjayA/PyAnPGZhaWxlZCB0byBnZW5lcmF0ZSBzdGFja3RyYWNlPic7XG4gICAgICAgIG9sZExvZ2dlci53YXJuKGBDdXJyZW50IGxvZ2dlciB3aWxsIGJlIG92ZXJ3cml0dGVuIGZyb20gJHtzdGFja31gKTtcbiAgICAgICAgbmV3TG9nZ2VyLndhcm4oXG4gICAgICAgICAgYEN1cnJlbnQgbG9nZ2VyIHdpbGwgb3ZlcndyaXRlIG9uZSBhbHJlYWR5IHJlZ2lzdGVyZWQgZnJvbSAke3N0YWNrfWBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlZ2lzdGVyR2xvYmFsKCdkaWFnJywgbmV3TG9nZ2VyLCBzZWxmLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgc2VsZi5zZXRMb2dnZXIgPSBzZXRMb2dnZXI7XG5cbiAgICBzZWxmLmRpc2FibGUgPSAoKSA9PiB7XG4gICAgICB1bnJlZ2lzdGVyR2xvYmFsKEFQSV9OQU1FLCBzZWxmKTtcbiAgICB9O1xuXG4gICAgc2VsZi5jcmVhdGVDb21wb25lbnRMb2dnZXIgPSAob3B0aW9uczogQ29tcG9uZW50TG9nZ2VyT3B0aW9ucykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBEaWFnQ29tcG9uZW50TG9nZ2VyKG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBzZWxmLnZlcmJvc2UgPSBfbG9nUHJveHkoJ3ZlcmJvc2UnKTtcbiAgICBzZWxmLmRlYnVnID0gX2xvZ1Byb3h5KCdkZWJ1ZycpO1xuICAgIHNlbGYuaW5mbyA9IF9sb2dQcm94eSgnaW5mbycpO1xuICAgIHNlbGYud2FybiA9IF9sb2dQcm94eSgnd2FybicpO1xuICAgIHNlbGYuZXJyb3IgPSBfbG9nUHJveHkoJ2Vycm9yJyk7XG4gIH1cblxuICBwdWJsaWMgc2V0TG9nZ2VyITogRGlhZ0xvZ2dlckFwaVsnc2V0TG9nZ2VyJ107XG4gIC8qKlxuICAgKlxuICAgKi9cbiAgcHVibGljIGNyZWF0ZUNvbXBvbmVudExvZ2dlciE6IChcbiAgICBvcHRpb25zOiBDb21wb25lbnRMb2dnZXJPcHRpb25zXG4gICkgPT4gRGlhZ0xvZ2dlcjtcblxuICAvLyBEaWFnTG9nZ2VyIGltcGxlbWVudGF0aW9uXG4gIHB1YmxpYyB2ZXJib3NlITogRGlhZ0xvZ0Z1bmN0aW9uO1xuICBwdWJsaWMgZGVidWchOiBEaWFnTG9nRnVuY3Rpb247XG4gIHB1YmxpYyBpbmZvITogRGlhZ0xvZ0Z1bmN0aW9uO1xuICBwdWJsaWMgd2FybiE6IERpYWdMb2dGdW5jdGlvbjtcbiAgcHVibGljIGVycm9yITogRGlhZ0xvZ0Z1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyIHRoZSBnbG9iYWwgbG9nZ2VyIGFuZCByZXR1cm4gdG8gTm9vcFxuICAgKi9cbiAgcHVibGljIGRpc2FibGUhOiAoKSA9PiB2b2lkO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbnRleHQgfSBmcm9tICcuL3R5cGVzJztcblxuLyoqIEdldCBhIGtleSB0byB1bmlxdWVseSBpZGVudGlmeSBhIGNvbnRleHQgdmFsdWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250ZXh0S2V5KGRlc2NyaXB0aW9uOiBzdHJpbmcpIHtcbiAgLy8gVGhlIHNwZWNpZmljYXRpb24gc3RhdGVzIHRoYXQgZm9yIHRoZSBzYW1lIGlucHV0LCBtdWx0aXBsZSBjYWxscyBzaG91bGRcbiAgLy8gcmV0dXJuIGRpZmZlcmVudCBrZXlzLiBEdWUgdG8gdGhlIG5hdHVyZSBvZiB0aGUgSlMgZGVwZW5kZW5jeSBtYW5hZ2VtZW50XG4gIC8vIHN5c3RlbSwgdGhpcyBjcmVhdGVzIHByb2JsZW1zIHdoZXJlIG11bHRpcGxlIHZlcnNpb25zIG9mIHNvbWUgcGFja2FnZVxuICAvLyBjb3VsZCBob2xkIGRpZmZlcmVudCBrZXlzIGZvciB0aGUgc2FtZSBwcm9wZXJ0eS5cbiAgLy9cbiAgLy8gVGhlcmVmb3JlLCB3ZSB1c2UgU3ltYm9sLmZvciB3aGljaCByZXR1cm5zIHRoZSBzYW1lIGtleSBmb3IgdGhlIHNhbWUgaW5wdXQuXG4gIHJldHVybiBTeW1ib2wuZm9yKGRlc2NyaXB0aW9uKTtcbn1cblxuY2xhc3MgQmFzZUNvbnRleHQgaW1wbGVtZW50cyBDb250ZXh0IHtcbiAgcHJpdmF0ZSBfY3VycmVudENvbnRleHQhOiBNYXA8c3ltYm9sLCB1bmtub3duPjtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEgbmV3IGNvbnRleHQgd2hpY2ggaW5oZXJpdHMgdmFsdWVzIGZyb20gYW4gb3B0aW9uYWwgcGFyZW50IGNvbnRleHQuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJlbnRDb250ZXh0IGEgY29udGV4dCBmcm9tIHdoaWNoIHRvIGluaGVyaXQgdmFsdWVzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJlbnRDb250ZXh0PzogTWFwPHN5bWJvbCwgdW5rbm93bj4pIHtcbiAgICAvLyBmb3IgbWluaWZpY2F0aW9uXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLl9jdXJyZW50Q29udGV4dCA9IHBhcmVudENvbnRleHQgPyBuZXcgTWFwKHBhcmVudENvbnRleHQpIDogbmV3IE1hcCgpO1xuXG4gICAgc2VsZi5nZXRWYWx1ZSA9IChrZXk6IHN5bWJvbCkgPT4gc2VsZi5fY3VycmVudENvbnRleHQuZ2V0KGtleSk7XG5cbiAgICBzZWxmLnNldFZhbHVlID0gKGtleTogc3ltYm9sLCB2YWx1ZTogdW5rbm93bik6IENvbnRleHQgPT4ge1xuICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBCYXNlQ29udGV4dChzZWxmLl9jdXJyZW50Q29udGV4dCk7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50Q29udGV4dC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9O1xuXG4gICAgc2VsZi5kZWxldGVWYWx1ZSA9IChrZXk6IHN5bWJvbCk6IENvbnRleHQgPT4ge1xuICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBCYXNlQ29udGV4dChzZWxmLl9jdXJyZW50Q29udGV4dCk7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50Q29udGV4dC5kZWxldGUoa2V5KTtcbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdmFsdWUgZnJvbSB0aGUgY29udGV4dC5cbiAgICpcbiAgICogQHBhcmFtIGtleSBrZXkgd2hpY2ggaWRlbnRpZmllcyBhIGNvbnRleHQgdmFsdWVcbiAgICovXG4gIHB1YmxpYyBnZXRWYWx1ZSE6IChrZXk6IHN5bWJvbCkgPT4gdW5rbm93bjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGNvbnRleHQgd2hpY2ggaW5oZXJpdHMgZnJvbSB0aGlzIGNvbnRleHQgYW5kIGhhc1xuICAgKiB0aGUgZ2l2ZW4ga2V5IHNldCB0byB0aGUgZ2l2ZW4gdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSBrZXkgY29udGV4dCBrZXkgZm9yIHdoaWNoIHRvIHNldCB0aGUgdmFsdWVcbiAgICogQHBhcmFtIHZhbHVlIHZhbHVlIHRvIHNldCBmb3IgdGhlIGdpdmVuIGtleVxuICAgKi9cbiAgcHVibGljIHNldFZhbHVlITogKGtleTogc3ltYm9sLCB2YWx1ZTogdW5rbm93bikgPT4gQ29udGV4dDtcblxuICAvKipcbiAgICogUmV0dXJuIGEgbmV3IGNvbnRleHQgd2hpY2ggaW5oZXJpdHMgZnJvbSB0aGlzIGNvbnRleHQgYnV0IGRvZXNcbiAgICogbm90IGNvbnRhaW4gYSB2YWx1ZSBmb3IgdGhlIGdpdmVuIGtleS5cbiAgICpcbiAgICogQHBhcmFtIGtleSBjb250ZXh0IGtleSBmb3Igd2hpY2ggdG8gY2xlYXIgYSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIGRlbGV0ZVZhbHVlITogKGtleTogc3ltYm9sKSA9PiBDb250ZXh0O1xufVxuXG4vKiogVGhlIHJvb3QgY29udGV4dCBpcyB1c2VkIGFzIHRoZSBkZWZhdWx0IHBhcmVudCBjb250ZXh0IHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbnRleHQgKi9cbmV4cG9ydCBjb25zdCBST09UX0NPTlRFWFQ6IENvbnRleHQgPSBuZXcgQmFzZUNvbnRleHQoKTtcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBST09UX0NPTlRFWFQgfSBmcm9tICcuL2NvbnRleHQnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBOb29wQ29udGV4dE1hbmFnZXIgaW1wbGVtZW50cyB0eXBlcy5Db250ZXh0TWFuYWdlciB7XG4gIGFjdGl2ZSgpOiB0eXBlcy5Db250ZXh0IHtcbiAgICByZXR1cm4gUk9PVF9DT05URVhUO1xuICB9XG5cbiAgd2l0aDxBIGV4dGVuZHMgdW5rbm93bltdLCBGIGV4dGVuZHMgKC4uLmFyZ3M6IEEpID0+IFJldHVyblR5cGU8Rj4+KFxuICAgIF9jb250ZXh0OiB0eXBlcy5Db250ZXh0LFxuICAgIGZuOiBGLFxuICAgIHRoaXNBcmc/OiBUaGlzUGFyYW1ldGVyVHlwZTxGPixcbiAgICAuLi5hcmdzOiBBXG4gICk6IFJldHVyblR5cGU8Rj4ge1xuICAgIHJldHVybiBmbi5jYWxsKHRoaXNBcmcsIC4uLmFyZ3MpO1xuICB9XG5cbiAgYmluZDxUPihfY29udGV4dDogdHlwZXMuQ29udGV4dCwgdGFyZ2V0OiBUKTogVCB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGVuYWJsZSgpOiB0aGlzIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGRpc2FibGUoKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBOb29wQ29udGV4dE1hbmFnZXIgfSBmcm9tICcuLi9jb250ZXh0L05vb3BDb250ZXh0TWFuYWdlcic7XG5pbXBvcnQgeyBDb250ZXh0LCBDb250ZXh0TWFuYWdlciB9IGZyb20gJy4uL2NvbnRleHQvdHlwZXMnO1xuaW1wb3J0IHtcbiAgZ2V0R2xvYmFsLFxuICByZWdpc3Rlckdsb2JhbCxcbiAgdW5yZWdpc3Rlckdsb2JhbCxcbn0gZnJvbSAnLi4vaW50ZXJuYWwvZ2xvYmFsLXV0aWxzJztcbmltcG9ydCB7IERpYWdBUEkgfSBmcm9tICcuL2RpYWcnO1xuXG5jb25zdCBBUElfTkFNRSA9ICdjb250ZXh0JztcbmNvbnN0IE5PT1BfQ09OVEVYVF9NQU5BR0VSID0gbmV3IE5vb3BDb250ZXh0TWFuYWdlcigpO1xuXG4vKipcbiAqIFNpbmdsZXRvbiBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyB0aGUgZW50cnkgcG9pbnQgdG8gdGhlIE9wZW5UZWxlbWV0cnkgQ29udGV4dCBBUElcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRleHRBUEkge1xuICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U/OiBDb250ZXh0QVBJO1xuXG4gIC8qKiBFbXB0eSBwcml2YXRlIGNvbnN0cnVjdG9yIHByZXZlbnRzIGVuZCB1c2VycyBmcm9tIGNvbnN0cnVjdGluZyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgQVBJICovXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuXG4gIC8qKiBHZXQgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGUgQ29udGV4dCBBUEkgKi9cbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBDb250ZXh0QVBJIHtcbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBDb250ZXh0QVBJKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY3VycmVudCBjb250ZXh0IG1hbmFnZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGNvbnRleHQgbWFuYWdlciB3YXMgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQsIGVsc2UgZmFsc2VcbiAgICovXG4gIHB1YmxpYyBzZXRHbG9iYWxDb250ZXh0TWFuYWdlcihjb250ZXh0TWFuYWdlcjogQ29udGV4dE1hbmFnZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcmVnaXN0ZXJHbG9iYWwoQVBJX05BTUUsIGNvbnRleHRNYW5hZ2VyLCBEaWFnQVBJLmluc3RhbmNlKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSBjb250ZXh0XG4gICAqL1xuICBwdWJsaWMgYWN0aXZlKCk6IENvbnRleHQge1xuICAgIHJldHVybiB0aGlzLl9nZXRDb250ZXh0TWFuYWdlcigpLmFjdGl2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBmdW5jdGlvbiB3aXRoIGFuIGFjdGl2ZSBjb250ZXh0XG4gICAqXG4gICAqIEBwYXJhbSBjb250ZXh0IGNvbnRleHQgdG8gYmUgYWN0aXZlIGR1cmluZyBmdW5jdGlvbiBleGVjdXRpb25cbiAgICogQHBhcmFtIGZuIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgaW4gYSBjb250ZXh0XG4gICAqIEBwYXJhbSB0aGlzQXJnIG9wdGlvbmFsIHJlY2VpdmVyIHRvIGJlIHVzZWQgZm9yIGNhbGxpbmcgZm5cbiAgICogQHBhcmFtIGFyZ3Mgb3B0aW9uYWwgYXJndW1lbnRzIGZvcndhcmRlZCB0byBmblxuICAgKi9cbiAgcHVibGljIHdpdGg8QSBleHRlbmRzIHVua25vd25bXSwgRiBleHRlbmRzICguLi5hcmdzOiBBKSA9PiBSZXR1cm5UeXBlPEY+PihcbiAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgIGZuOiBGLFxuICAgIHRoaXNBcmc/OiBUaGlzUGFyYW1ldGVyVHlwZTxGPixcbiAgICAuLi5hcmdzOiBBXG4gICk6IFJldHVyblR5cGU8Rj4ge1xuICAgIHJldHVybiB0aGlzLl9nZXRDb250ZXh0TWFuYWdlcigpLndpdGgoY29udGV4dCwgZm4sIHRoaXNBcmcsIC4uLmFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgYSBjb250ZXh0IHRvIGEgdGFyZ2V0IGZ1bmN0aW9uIG9yIGV2ZW50IGVtaXR0ZXJcbiAgICpcbiAgICogQHBhcmFtIGNvbnRleHQgY29udGV4dCB0byBiaW5kIHRvIHRoZSBldmVudCBlbWl0dGVyIG9yIGZ1bmN0aW9uLiBEZWZhdWx0cyB0byB0aGUgY3VycmVudGx5IGFjdGl2ZSBjb250ZXh0XG4gICAqIEBwYXJhbSB0YXJnZXQgZnVuY3Rpb24gb3IgZXZlbnQgZW1pdHRlciB0byBiaW5kXG4gICAqL1xuICBwdWJsaWMgYmluZDxUPihjb250ZXh0OiBDb250ZXh0LCB0YXJnZXQ6IFQpOiBUIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q29udGV4dE1hbmFnZXIoKS5iaW5kKGNvbnRleHQsIHRhcmdldCk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRDb250ZXh0TWFuYWdlcigpOiBDb250ZXh0TWFuYWdlciB7XG4gICAgcmV0dXJuIGdldEdsb2JhbChBUElfTkFNRSkgfHwgTk9PUF9DT05URVhUX01BTkFHRVI7XG4gIH1cblxuICAvKiogRGlzYWJsZSBhbmQgcmVtb3ZlIHRoZSBnbG9iYWwgY29udGV4dCBtYW5hZ2VyICovXG4gIHB1YmxpYyBkaXNhYmxlKCkge1xuICAgIHRoaXMuX2dldENvbnRleHRNYW5hZ2VyKCkuZGlzYWJsZSgpO1xuICAgIHVucmVnaXN0ZXJHbG9iYWwoQVBJX05BTUUsIERpYWdBUEkuaW5zdGFuY2UoKSk7XG4gIH1cbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IGVudW0gVHJhY2VGbGFncyB7XG4gIC8qKiBSZXByZXNlbnRzIG5vIGZsYWcgc2V0LiAqL1xuICBOT05FID0gMHgwLFxuICAvKiogQml0IHRvIHJlcHJlc2VudCB3aGV0aGVyIHRyYWNlIGlzIHNhbXBsZWQgaW4gdHJhY2UgZmxhZ3MuICovXG4gIFNBTVBMRUQgPSAweDEgPDwgMCxcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBTcGFuQ29udGV4dCB9IGZyb20gJy4vc3Bhbl9jb250ZXh0JztcbmltcG9ydCB7IFRyYWNlRmxhZ3MgfSBmcm9tICcuL3RyYWNlX2ZsYWdzJztcblxuZXhwb3J0IGNvbnN0IElOVkFMSURfU1BBTklEID0gJzAwMDAwMDAwMDAwMDAwMDAnO1xuZXhwb3J0IGNvbnN0IElOVkFMSURfVFJBQ0VJRCA9ICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCc7XG5leHBvcnQgY29uc3QgSU5WQUxJRF9TUEFOX0NPTlRFWFQ6IFNwYW5Db250ZXh0ID0ge1xuICB0cmFjZUlkOiBJTlZBTElEX1RSQUNFSUQsXG4gIHNwYW5JZDogSU5WQUxJRF9TUEFOSUQsXG4gIHRyYWNlRmxhZ3M6IFRyYWNlRmxhZ3MuTk9ORSxcbn07XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRXhjZXB0aW9uIH0gZnJvbSAnLi4vY29tbW9uL0V4Y2VwdGlvbic7XG5pbXBvcnQgeyBUaW1lSW5wdXQgfSBmcm9tICcuLi9jb21tb24vVGltZSc7XG5pbXBvcnQgeyBTcGFuQXR0cmlidXRlcyB9IGZyb20gJy4vYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBJTlZBTElEX1NQQU5fQ09OVEVYVCB9IGZyb20gJy4vaW52YWxpZC1zcGFuLWNvbnN0YW50cyc7XG5pbXBvcnQgeyBTcGFuIH0gZnJvbSAnLi9zcGFuJztcbmltcG9ydCB7IFNwYW5Db250ZXh0IH0gZnJvbSAnLi9zcGFuX2NvbnRleHQnO1xuaW1wb3J0IHsgU3BhblN0YXR1cyB9IGZyb20gJy4vc3RhdHVzJztcbmltcG9ydCB7IExpbmsgfSBmcm9tICcuL2xpbmsnO1xuXG4vKipcbiAqIFRoZSBOb25SZWNvcmRpbmdTcGFuIGlzIHRoZSBkZWZhdWx0IHtAbGluayBTcGFufSB0aGF0IGlzIHVzZWQgd2hlbiBubyBTcGFuXG4gKiBpbXBsZW1lbnRhdGlvbiBpcyBhdmFpbGFibGUuIEFsbCBvcGVyYXRpb25zIGFyZSBuby1vcCBpbmNsdWRpbmcgY29udGV4dFxuICogcHJvcGFnYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBOb25SZWNvcmRpbmdTcGFuIGltcGxlbWVudHMgU3BhbiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3NwYW5Db250ZXh0OiBTcGFuQ29udGV4dCA9IElOVkFMSURfU1BBTl9DT05URVhUXG4gICkge31cblxuICAvLyBSZXR1cm5zIGEgU3BhbkNvbnRleHQuXG4gIHNwYW5Db250ZXh0KCk6IFNwYW5Db250ZXh0IHtcbiAgICByZXR1cm4gdGhpcy5fc3BhbkNvbnRleHQ7XG4gIH1cblxuICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICBzZXRBdHRyaWJ1dGUoX2tleTogc3RyaW5nLCBfdmFsdWU6IHVua25vd24pOiB0aGlzIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gIHNldEF0dHJpYnV0ZXMoX2F0dHJpYnV0ZXM6IFNwYW5BdHRyaWJ1dGVzKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICBhZGRFdmVudChfbmFtZTogc3RyaW5nLCBfYXR0cmlidXRlcz86IFNwYW5BdHRyaWJ1dGVzKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRMaW5rKF9saW5rOiBMaW5rKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRMaW5rcyhfbGlua3M6IExpbmtbXSk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCBkb2VzIG5vdGhpbmdcbiAgc2V0U3RhdHVzKF9zdGF0dXM6IFNwYW5TdGF0dXMpOiB0aGlzIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gIHVwZGF0ZU5hbWUoX25hbWU6IHN0cmluZyk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCBkb2VzIG5vdGhpbmdcbiAgZW5kKF9lbmRUaW1lPzogVGltZUlucHV0KTogdm9pZCB7fVxuXG4gIC8vIGlzUmVjb3JkaW5nIGFsd2F5cyByZXR1cm5zIGZhbHNlIGZvciBOb25SZWNvcmRpbmdTcGFuLlxuICBpc1JlY29yZGluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICByZWNvcmRFeGNlcHRpb24oX2V4Y2VwdGlvbjogRXhjZXB0aW9uLCBfdGltZT86IFRpbWVJbnB1dCk6IHZvaWQge31cbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0S2V5IH0gZnJvbSAnLi4vY29udGV4dC9jb250ZXh0JztcbmltcG9ydCB7IENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L3R5cGVzJztcbmltcG9ydCB7IFNwYW4gfSBmcm9tICcuL3NwYW4nO1xuaW1wb3J0IHsgU3BhbkNvbnRleHQgfSBmcm9tICcuL3NwYW5fY29udGV4dCc7XG5pbXBvcnQgeyBOb25SZWNvcmRpbmdTcGFuIH0gZnJvbSAnLi9Ob25SZWNvcmRpbmdTcGFuJztcbmltcG9ydCB7IENvbnRleHRBUEkgfSBmcm9tICcuLi9hcGkvY29udGV4dCc7XG5cbi8qKlxuICogc3BhbiBrZXlcbiAqL1xuY29uc3QgU1BBTl9LRVkgPSBjcmVhdGVDb250ZXh0S2V5KCdPcGVuVGVsZW1ldHJ5IENvbnRleHQgS2V5IFNQQU4nKTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIHNwYW4gaWYgb25lIGV4aXN0c1xuICpcbiAqIEBwYXJhbSBjb250ZXh0IGNvbnRleHQgdG8gZ2V0IHNwYW4gZnJvbVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3Bhbihjb250ZXh0OiBDb250ZXh0KTogU3BhbiB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiAoY29udGV4dC5nZXRWYWx1ZShTUEFOX0tFWSkgYXMgU3BhbikgfHwgdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHNwYW4gZnJvbSB0aGUgY3VycmVudCBjb250ZXh0LCBpZiBvbmUgZXhpc3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlU3BhbigpOiBTcGFuIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGdldFNwYW4oQ29udGV4dEFQSS5nZXRJbnN0YW5jZSgpLmFjdGl2ZSgpKTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHNwYW4gb24gYSBjb250ZXh0XG4gKlxuICogQHBhcmFtIGNvbnRleHQgY29udGV4dCB0byB1c2UgYXMgcGFyZW50XG4gKiBAcGFyYW0gc3BhbiBzcGFuIHRvIHNldCBhY3RpdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNwYW4oY29udGV4dDogQ29udGV4dCwgc3BhbjogU3Bhbik6IENvbnRleHQge1xuICByZXR1cm4gY29udGV4dC5zZXRWYWx1ZShTUEFOX0tFWSwgc3Bhbik7XG59XG5cbi8qKlxuICogUmVtb3ZlIGN1cnJlbnQgc3BhbiBzdG9yZWQgaW4gdGhlIGNvbnRleHRcbiAqXG4gKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIGRlbGV0ZSBzcGFuIGZyb21cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVNwYW4oY29udGV4dDogQ29udGV4dCk6IENvbnRleHQge1xuICByZXR1cm4gY29udGV4dC5kZWxldGVWYWx1ZShTUEFOX0tFWSk7XG59XG5cbi8qKlxuICogV3JhcCBzcGFuIGNvbnRleHQgaW4gYSBOb29wU3BhbiBhbmQgc2V0IGFzIHNwYW4gaW4gYSBuZXdcbiAqIGNvbnRleHRcbiAqXG4gKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIHNldCBhY3RpdmUgc3BhbiBvblxuICogQHBhcmFtIHNwYW5Db250ZXh0IHNwYW4gY29udGV4dCB0byBiZSB3cmFwcGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTcGFuQ29udGV4dChcbiAgY29udGV4dDogQ29udGV4dCxcbiAgc3BhbkNvbnRleHQ6IFNwYW5Db250ZXh0XG4pOiBDb250ZXh0IHtcbiAgcmV0dXJuIHNldFNwYW4oY29udGV4dCwgbmV3IE5vblJlY29yZGluZ1NwYW4oc3BhbkNvbnRleHQpKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHNwYW4gY29udGV4dCBvZiB0aGUgc3BhbiBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIGNvbnRleHQgY29udGV4dCB0byBnZXQgdmFsdWVzIGZyb21cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNwYW5Db250ZXh0KGNvbnRleHQ6IENvbnRleHQpOiBTcGFuQ29udGV4dCB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBnZXRTcGFuKGNvbnRleHQpPy5zcGFuQ29udGV4dCgpO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBJTlZBTElEX1NQQU5JRCwgSU5WQUxJRF9UUkFDRUlEIH0gZnJvbSAnLi9pbnZhbGlkLXNwYW4tY29uc3RhbnRzJztcbmltcG9ydCB7IE5vblJlY29yZGluZ1NwYW4gfSBmcm9tICcuL05vblJlY29yZGluZ1NwYW4nO1xuaW1wb3J0IHsgU3BhbiB9IGZyb20gJy4vc3Bhbic7XG5pbXBvcnQgeyBTcGFuQ29udGV4dCB9IGZyb20gJy4vc3Bhbl9jb250ZXh0JztcblxuY29uc3QgVkFMSURfVFJBQ0VJRF9SRUdFWCA9IC9eKFswLTlhLWZdezMyfSkkL2k7XG5jb25zdCBWQUxJRF9TUEFOSURfUkVHRVggPSAvXlswLTlhLWZdezE2fSQvaTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRUcmFjZUlkKHRyYWNlSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gVkFMSURfVFJBQ0VJRF9SRUdFWC50ZXN0KHRyYWNlSWQpICYmIHRyYWNlSWQgIT09IElOVkFMSURfVFJBQ0VJRDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRTcGFuSWQoc3BhbklkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIFZBTElEX1NQQU5JRF9SRUdFWC50ZXN0KHNwYW5JZCkgJiYgc3BhbklkICE9PSBJTlZBTElEX1NQQU5JRDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB7QGxpbmsgU3BhbkNvbnRleHR9IGlzIHZhbGlkLlxuICogQHJldHVybiB0cnVlIGlmIHRoaXMge0BsaW5rIFNwYW5Db250ZXh0fSBpcyB2YWxpZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3BhbkNvbnRleHRWYWxpZChzcGFuQ29udGV4dDogU3BhbkNvbnRleHQpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBpc1ZhbGlkVHJhY2VJZChzcGFuQ29udGV4dC50cmFjZUlkKSAmJiBpc1ZhbGlkU3BhbklkKHNwYW5Db250ZXh0LnNwYW5JZClcbiAgKTtcbn1cblxuLyoqXG4gKiBXcmFwIHRoZSBnaXZlbiB7QGxpbmsgU3BhbkNvbnRleHR9IGluIGEgbmV3IG5vbi1yZWNvcmRpbmcge0BsaW5rIFNwYW59XG4gKlxuICogQHBhcmFtIHNwYW5Db250ZXh0IHNwYW4gY29udGV4dCB0byBiZSB3cmFwcGVkXG4gKiBAcmV0dXJucyBhIG5ldyBub24tcmVjb3JkaW5nIHtAbGluayBTcGFufSB3aXRoIHRoZSBwcm92aWRlZCBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwU3BhbkNvbnRleHQoc3BhbkNvbnRleHQ6IFNwYW5Db250ZXh0KTogU3BhbiB7XG4gIHJldHVybiBuZXcgTm9uUmVjb3JkaW5nU3BhbihzcGFuQ29udGV4dCk7XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29udGV4dEFQSSB9IGZyb20gJy4uL2FwaS9jb250ZXh0JztcbmltcG9ydCB7IENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L3R5cGVzJztcbmltcG9ydCB7IGdldFNwYW5Db250ZXh0LCBzZXRTcGFuIH0gZnJvbSAnLi4vdHJhY2UvY29udGV4dC11dGlscyc7XG5pbXBvcnQgeyBOb25SZWNvcmRpbmdTcGFuIH0gZnJvbSAnLi9Ob25SZWNvcmRpbmdTcGFuJztcbmltcG9ydCB7IFNwYW4gfSBmcm9tICcuL3NwYW4nO1xuaW1wb3J0IHsgaXNTcGFuQ29udGV4dFZhbGlkIH0gZnJvbSAnLi9zcGFuY29udGV4dC11dGlscyc7XG5pbXBvcnQgeyBTcGFuT3B0aW9ucyB9IGZyb20gJy4vU3Bhbk9wdGlvbnMnO1xuaW1wb3J0IHsgU3BhbkNvbnRleHQgfSBmcm9tICcuL3NwYW5fY29udGV4dCc7XG5pbXBvcnQgeyBUcmFjZXIgfSBmcm9tICcuL3RyYWNlcic7XG5cbmNvbnN0IGNvbnRleHRBcGkgPSBDb250ZXh0QVBJLmdldEluc3RhbmNlKCk7XG5cbi8qKlxuICogTm8tb3AgaW1wbGVtZW50YXRpb25zIG9mIHtAbGluayBUcmFjZXJ9LlxuICovXG5leHBvcnQgY2xhc3MgTm9vcFRyYWNlciBpbXBsZW1lbnRzIFRyYWNlciB7XG4gIC8vIHN0YXJ0U3BhbiBzdGFydHMgYSBub29wIHNwYW4uXG4gIHN0YXJ0U3BhbihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IFNwYW5PcHRpb25zLFxuICAgIGNvbnRleHQgPSBjb250ZXh0QXBpLmFjdGl2ZSgpXG4gICk6IFNwYW4ge1xuICAgIGNvbnN0IHJvb3QgPSBCb29sZWFuKG9wdGlvbnM/LnJvb3QpO1xuICAgIGlmIChyb290KSB7XG4gICAgICByZXR1cm4gbmV3IE5vblJlY29yZGluZ1NwYW4oKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJlbnRGcm9tQ29udGV4dCA9IGNvbnRleHQgJiYgZ2V0U3BhbkNvbnRleHQoY29udGV4dCk7XG5cbiAgICBpZiAoXG4gICAgICBpc1NwYW5Db250ZXh0KHBhcmVudEZyb21Db250ZXh0KSAmJlxuICAgICAgaXNTcGFuQ29udGV4dFZhbGlkKHBhcmVudEZyb21Db250ZXh0KVxuICAgICkge1xuICAgICAgcmV0dXJuIG5ldyBOb25SZWNvcmRpbmdTcGFuKHBhcmVudEZyb21Db250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBOb25SZWNvcmRpbmdTcGFuKCk7XG4gICAgfVxuICB9XG5cbiAgc3RhcnRBY3RpdmVTcGFuPEYgZXh0ZW5kcyAoc3BhbjogU3BhbikgPT4gUmV0dXJuVHlwZTxGPj4oXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZuOiBGXG4gICk6IFJldHVyblR5cGU8Rj47XG4gIHN0YXJ0QWN0aXZlU3BhbjxGIGV4dGVuZHMgKHNwYW46IFNwYW4pID0+IFJldHVyblR5cGU8Rj4+KFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBvcHRzOiBTcGFuT3B0aW9ucyB8IHVuZGVmaW5lZCxcbiAgICBmbjogRlxuICApOiBSZXR1cm5UeXBlPEY+O1xuICBzdGFydEFjdGl2ZVNwYW48RiBleHRlbmRzIChzcGFuOiBTcGFuKSA9PiBSZXR1cm5UeXBlPEY+PihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3B0czogU3Bhbk9wdGlvbnMgfCB1bmRlZmluZWQsXG4gICAgY3R4OiBDb250ZXh0IHwgdW5kZWZpbmVkLFxuICAgIGZuOiBGXG4gICk6IFJldHVyblR5cGU8Rj47XG4gIHN0YXJ0QWN0aXZlU3BhbjxGIGV4dGVuZHMgKHNwYW46IFNwYW4pID0+IFJldHVyblR5cGU8Rj4+KFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBhcmcyPzogRiB8IFNwYW5PcHRpb25zLFxuICAgIGFyZzM/OiBGIHwgQ29udGV4dCxcbiAgICBhcmc0PzogRlxuICApOiBSZXR1cm5UeXBlPEY+IHwgdW5kZWZpbmVkIHtcbiAgICBsZXQgb3B0czogU3Bhbk9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgbGV0IGN0eDogQ29udGV4dCB8IHVuZGVmaW5lZDtcbiAgICBsZXQgZm46IEY7XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgIGZuID0gYXJnMiBhcyBGO1xuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgb3B0cyA9IGFyZzIgYXMgU3Bhbk9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgICBmbiA9IGFyZzMgYXMgRjtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0cyA9IGFyZzIgYXMgU3Bhbk9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgICBjdHggPSBhcmczIGFzIENvbnRleHQgfCB1bmRlZmluZWQ7XG4gICAgICBmbiA9IGFyZzQgYXMgRjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJlbnRDb250ZXh0ID0gY3R4ID8/IGNvbnRleHRBcGkuYWN0aXZlKCk7XG4gICAgY29uc3Qgc3BhbiA9IHRoaXMuc3RhcnRTcGFuKG5hbWUsIG9wdHMsIHBhcmVudENvbnRleHQpO1xuICAgIGNvbnN0IGNvbnRleHRXaXRoU3BhblNldCA9IHNldFNwYW4ocGFyZW50Q29udGV4dCwgc3Bhbik7XG5cbiAgICByZXR1cm4gY29udGV4dEFwaS53aXRoKGNvbnRleHRXaXRoU3BhblNldCwgZm4sIHVuZGVmaW5lZCwgc3Bhbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTcGFuQ29udGV4dChzcGFuQ29udGV4dDogYW55KTogc3BhbkNvbnRleHQgaXMgU3BhbkNvbnRleHQge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBzcGFuQ29udGV4dCA9PT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2Ygc3BhbkNvbnRleHRbJ3NwYW5JZCddID09PSAnc3RyaW5nJyAmJlxuICAgIHR5cGVvZiBzcGFuQ29udGV4dFsndHJhY2VJZCddID09PSAnc3RyaW5nJyAmJlxuICAgIHR5cGVvZiBzcGFuQ29udGV4dFsndHJhY2VGbGFncyddID09PSAnbnVtYmVyJ1xuICApO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L3R5cGVzJztcbmltcG9ydCB7IE5vb3BUcmFjZXIgfSBmcm9tICcuL05vb3BUcmFjZXInO1xuaW1wb3J0IHsgU3BhbiB9IGZyb20gJy4vc3Bhbic7XG5pbXBvcnQgeyBTcGFuT3B0aW9ucyB9IGZyb20gJy4vU3Bhbk9wdGlvbnMnO1xuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnLi90cmFjZXInO1xuaW1wb3J0IHsgVHJhY2VyT3B0aW9ucyB9IGZyb20gJy4vdHJhY2VyX29wdGlvbnMnO1xuXG5jb25zdCBOT09QX1RSQUNFUiA9IG5ldyBOb29wVHJhY2VyKCk7XG5cbi8qKlxuICogUHJveHkgdHJhY2VyIHByb3ZpZGVkIGJ5IHRoZSBwcm94eSB0cmFjZXIgcHJvdmlkZXJcbiAqL1xuZXhwb3J0IGNsYXNzIFByb3h5VHJhY2VyIGltcGxlbWVudHMgVHJhY2VyIHtcbiAgLy8gV2hlbiBhIHJlYWwgaW1wbGVtZW50YXRpb24gaXMgcHJvdmlkZWQsIHRoaXMgd2lsbCBiZSBpdFxuICBwcml2YXRlIF9kZWxlZ2F0ZT86IFRyYWNlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIF9wcm92aWRlcjogVHJhY2VyRGVsZWdhdG9yLFxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IHZlcnNpb24/OiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IG9wdGlvbnM/OiBUcmFjZXJPcHRpb25zXG4gICkge31cblxuICBzdGFydFNwYW4obmFtZTogc3RyaW5nLCBvcHRpb25zPzogU3Bhbk9wdGlvbnMsIGNvbnRleHQ/OiBDb250ZXh0KTogU3BhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFRyYWNlcigpLnN0YXJ0U3BhbihuYW1lLCBvcHRpb25zLCBjb250ZXh0KTtcbiAgfVxuXG4gIHN0YXJ0QWN0aXZlU3BhbjxGIGV4dGVuZHMgKHNwYW46IFNwYW4pID0+IHVua25vd24+KFxuICAgIF9uYW1lOiBzdHJpbmcsXG4gICAgX29wdGlvbnM6IEYgfCBTcGFuT3B0aW9ucyxcbiAgICBfY29udGV4dD86IEYgfCBDb250ZXh0LFxuICAgIF9mbj86IEZcbiAgKTogUmV0dXJuVHlwZTxGPiB7XG4gICAgY29uc3QgdHJhY2VyID0gdGhpcy5fZ2V0VHJhY2VyKCk7XG4gICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodHJhY2VyLnN0YXJ0QWN0aXZlU3BhbiwgdHJhY2VyLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyeSB0byBnZXQgYSB0cmFjZXIgZnJvbSB0aGUgcHJveHkgdHJhY2VyIHByb3ZpZGVyLlxuICAgKiBJZiB0aGUgcHJveHkgdHJhY2VyIHByb3ZpZGVyIGhhcyBubyBkZWxlZ2F0ZSwgcmV0dXJuIGEgbm9vcCB0cmFjZXIuXG4gICAqL1xuICBwcml2YXRlIF9nZXRUcmFjZXIoKSB7XG4gICAgaWYgKHRoaXMuX2RlbGVnYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGU7XG4gICAgfVxuXG4gICAgY29uc3QgdHJhY2VyID0gdGhpcy5fcHJvdmlkZXIuZ2V0RGVsZWdhdGVUcmFjZXIoXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICB0aGlzLnZlcnNpb24sXG4gICAgICB0aGlzLm9wdGlvbnNcbiAgICApO1xuXG4gICAgaWYgKCF0cmFjZXIpIHtcbiAgICAgIHJldHVybiBOT09QX1RSQUNFUjtcbiAgICB9XG5cbiAgICB0aGlzLl9kZWxlZ2F0ZSA9IHRyYWNlcjtcbiAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGU7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFjZXJEZWxlZ2F0b3Ige1xuICBnZXREZWxlZ2F0ZVRyYWNlcihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdmVyc2lvbj86IHN0cmluZyxcbiAgICBvcHRpb25zPzogVHJhY2VyT3B0aW9uc1xuICApOiBUcmFjZXIgfCB1bmRlZmluZWQ7XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgTm9vcFRyYWNlciB9IGZyb20gJy4vTm9vcFRyYWNlcic7XG5pbXBvcnQgeyBUcmFjZXIgfSBmcm9tICcuL3RyYWNlcic7XG5pbXBvcnQgeyBUcmFjZXJPcHRpb25zIH0gZnJvbSAnLi90cmFjZXJfb3B0aW9ucyc7XG5pbXBvcnQgeyBUcmFjZXJQcm92aWRlciB9IGZyb20gJy4vdHJhY2VyX3Byb3ZpZGVyJztcblxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUge0BsaW5rIFRyYWNlclByb3ZpZGVyfSB3aGljaCByZXR1cm5zIGFuIGltcG90ZW50XG4gKiBUcmFjZXIgZm9yIGFsbCBjYWxscyB0byBgZ2V0VHJhY2VyYC5cbiAqXG4gKiBBbGwgb3BlcmF0aW9ucyBhcmUgbm8tb3AuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb29wVHJhY2VyUHJvdmlkZXIgaW1wbGVtZW50cyBUcmFjZXJQcm92aWRlciB7XG4gIGdldFRyYWNlcihcbiAgICBfbmFtZT86IHN0cmluZyxcbiAgICBfdmVyc2lvbj86IHN0cmluZyxcbiAgICBfb3B0aW9ucz86IFRyYWNlck9wdGlvbnNcbiAgKTogVHJhY2VyIHtcbiAgICByZXR1cm4gbmV3IE5vb3BUcmFjZXIoKTtcbiAgfVxufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFRyYWNlciB9IGZyb20gJy4vdHJhY2VyJztcbmltcG9ydCB7IFRyYWNlclByb3ZpZGVyIH0gZnJvbSAnLi90cmFjZXJfcHJvdmlkZXInO1xuaW1wb3J0IHsgUHJveHlUcmFjZXIgfSBmcm9tICcuL1Byb3h5VHJhY2VyJztcbmltcG9ydCB7IE5vb3BUcmFjZXJQcm92aWRlciB9IGZyb20gJy4vTm9vcFRyYWNlclByb3ZpZGVyJztcbmltcG9ydCB7IFRyYWNlck9wdGlvbnMgfSBmcm9tICcuL3RyYWNlcl9vcHRpb25zJztcblxuY29uc3QgTk9PUF9UUkFDRVJfUFJPVklERVIgPSBuZXcgTm9vcFRyYWNlclByb3ZpZGVyKCk7XG5cbi8qKlxuICogVHJhY2VyIHByb3ZpZGVyIHdoaWNoIHByb3ZpZGVzIHtAbGluayBQcm94eVRyYWNlcn1zLlxuICpcbiAqIEJlZm9yZSBhIGRlbGVnYXRlIGlzIHNldCwgdHJhY2VycyBwcm92aWRlZCBhcmUgTm9PcC5cbiAqICAgV2hlbiBhIGRlbGVnYXRlIGlzIHNldCwgdHJhY2VzIGFyZSBwcm92aWRlZCBmcm9tIHRoZSBkZWxlZ2F0ZS5cbiAqICAgV2hlbiBhIGRlbGVnYXRlIGlzIHNldCBhZnRlciB0cmFjZXJzIGhhdmUgYWxyZWFkeSBiZWVuIHByb3ZpZGVkLFxuICogICBhbGwgdHJhY2VycyBhbHJlYWR5IHByb3ZpZGVkIHdpbGwgdXNlIHRoZSBwcm92aWRlZCBkZWxlZ2F0ZSBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3h5VHJhY2VyUHJvdmlkZXIgaW1wbGVtZW50cyBUcmFjZXJQcm92aWRlciB7XG4gIHByaXZhdGUgX2RlbGVnYXRlPzogVHJhY2VyUHJvdmlkZXI7XG5cbiAgLyoqXG4gICAqIEdldCBhIHtAbGluayBQcm94eVRyYWNlcn1cbiAgICovXG4gIGdldFRyYWNlcihuYW1lOiBzdHJpbmcsIHZlcnNpb24/OiBzdHJpbmcsIG9wdGlvbnM/OiBUcmFjZXJPcHRpb25zKTogVHJhY2VyIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5nZXREZWxlZ2F0ZVRyYWNlcihuYW1lLCB2ZXJzaW9uLCBvcHRpb25zKSA/P1xuICAgICAgbmV3IFByb3h5VHJhY2VyKHRoaXMsIG5hbWUsIHZlcnNpb24sIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuXG4gIGdldERlbGVnYXRlKCk6IFRyYWNlclByb3ZpZGVyIHtcbiAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUgPz8gTk9PUF9UUkFDRVJfUFJPVklERVI7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBkZWxlZ2F0ZSB0cmFjZXIgcHJvdmlkZXJcbiAgICovXG4gIHNldERlbGVnYXRlKGRlbGVnYXRlOiBUcmFjZXJQcm92aWRlcikge1xuICAgIHRoaXMuX2RlbGVnYXRlID0gZGVsZWdhdGU7XG4gIH1cblxuICBnZXREZWxlZ2F0ZVRyYWNlcihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdmVyc2lvbj86IHN0cmluZyxcbiAgICBvcHRpb25zPzogVHJhY2VyT3B0aW9uc1xuICApOiBUcmFjZXIgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZT8uZ2V0VHJhY2VyKG5hbWUsIHZlcnNpb24sIG9wdGlvbnMpO1xuICB9XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3BhblN0YXR1cyB7XG4gIC8qKiBUaGUgc3RhdHVzIGNvZGUgb2YgdGhpcyBtZXNzYWdlLiAqL1xuICBjb2RlOiBTcGFuU3RhdHVzQ29kZTtcbiAgLyoqIEEgZGV2ZWxvcGVyLWZhY2luZyBlcnJvciBtZXNzYWdlLiAqL1xuICBtZXNzYWdlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEFuIGVudW1lcmF0aW9uIG9mIHN0YXR1cyBjb2Rlcy5cbiAqL1xuZXhwb3J0IGVudW0gU3BhblN0YXR1c0NvZGUge1xuICAvKipcbiAgICogVGhlIGRlZmF1bHQgc3RhdHVzLlxuICAgKi9cbiAgVU5TRVQgPSAwLFxuICAvKipcbiAgICogVGhlIG9wZXJhdGlvbiBoYXMgYmVlbiB2YWxpZGF0ZWQgYnkgYW4gQXBwbGljYXRpb24gZGV2ZWxvcGVyIG9yXG4gICAqIE9wZXJhdG9yIHRvIGhhdmUgY29tcGxldGVkIHN1Y2Nlc3NmdWxseS5cbiAgICovXG4gIE9LID0gMSxcbiAgLyoqXG4gICAqIFRoZSBvcGVyYXRpb24gY29udGFpbnMgYW4gZXJyb3IuXG4gICAqL1xuICBFUlJPUiA9IDIsXG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgZ2V0R2xvYmFsLFxuICByZWdpc3Rlckdsb2JhbCxcbiAgdW5yZWdpc3Rlckdsb2JhbCxcbn0gZnJvbSAnLi4vaW50ZXJuYWwvZ2xvYmFsLXV0aWxzJztcbmltcG9ydCB7IFByb3h5VHJhY2VyUHJvdmlkZXIgfSBmcm9tICcuLi90cmFjZS9Qcm94eVRyYWNlclByb3ZpZGVyJztcbmltcG9ydCB7XG4gIGlzU3BhbkNvbnRleHRWYWxpZCxcbiAgd3JhcFNwYW5Db250ZXh0LFxufSBmcm9tICcuLi90cmFjZS9zcGFuY29udGV4dC11dGlscyc7XG5pbXBvcnQgeyBUcmFjZXIgfSBmcm9tICcuLi90cmFjZS90cmFjZXInO1xuaW1wb3J0IHsgVHJhY2VyUHJvdmlkZXIgfSBmcm9tICcuLi90cmFjZS90cmFjZXJfcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgZGVsZXRlU3BhbixcbiAgZ2V0QWN0aXZlU3BhbixcbiAgZ2V0U3BhbixcbiAgZ2V0U3BhbkNvbnRleHQsXG4gIHNldFNwYW4sXG4gIHNldFNwYW5Db250ZXh0LFxufSBmcm9tICcuLi90cmFjZS9jb250ZXh0LXV0aWxzJztcbmltcG9ydCB7IERpYWdBUEkgfSBmcm9tICcuL2RpYWcnO1xuXG5jb25zdCBBUElfTkFNRSA9ICd0cmFjZSc7XG5cbi8qKlxuICogU2luZ2xldG9uIG9iamVjdCB3aGljaCByZXByZXNlbnRzIHRoZSBlbnRyeSBwb2ludCB0byB0aGUgT3BlblRlbGVtZXRyeSBUcmFjaW5nIEFQSVxuICovXG5leHBvcnQgY2xhc3MgVHJhY2VBUEkge1xuICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U/OiBUcmFjZUFQSTtcblxuICBwcml2YXRlIF9wcm94eVRyYWNlclByb3ZpZGVyID0gbmV3IFByb3h5VHJhY2VyUHJvdmlkZXIoKTtcblxuICAvKiogRW1wdHkgcHJpdmF0ZSBjb25zdHJ1Y3RvciBwcmV2ZW50cyBlbmQgdXNlcnMgZnJvbSBjb25zdHJ1Y3RpbmcgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIEFQSSAqL1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cblxuICAvKiogR2V0IHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIFRyYWNlIEFQSSAqL1xuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IFRyYWNlQVBJIHtcbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBUcmFjZUFQSSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgZ2xvYmFsIHRyYWNlci5cbiAgICpcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgdHJhY2VyIHByb3ZpZGVyIHdhcyBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCwgZWxzZSBmYWxzZVxuICAgKi9cbiAgcHVibGljIHNldEdsb2JhbFRyYWNlclByb3ZpZGVyKHByb3ZpZGVyOiBUcmFjZXJQcm92aWRlcik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSByZWdpc3Rlckdsb2JhbChcbiAgICAgIEFQSV9OQU1FLFxuICAgICAgdGhpcy5fcHJveHlUcmFjZXJQcm92aWRlcixcbiAgICAgIERpYWdBUEkuaW5zdGFuY2UoKVxuICAgICk7XG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIHRoaXMuX3Byb3h5VHJhY2VyUHJvdmlkZXIuc2V0RGVsZWdhdGUocHJvdmlkZXIpO1xuICAgIH1cbiAgICByZXR1cm4gc3VjY2VzcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBnbG9iYWwgdHJhY2VyIHByb3ZpZGVyLlxuICAgKi9cbiAgcHVibGljIGdldFRyYWNlclByb3ZpZGVyKCk6IFRyYWNlclByb3ZpZGVyIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsKEFQSV9OQU1FKSB8fCB0aGlzLl9wcm94eVRyYWNlclByb3ZpZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSB0cmFjZXIgZnJvbSB0aGUgZ2xvYmFsIHRyYWNlciBwcm92aWRlci5cbiAgICovXG4gIHB1YmxpYyBnZXRUcmFjZXIobmFtZTogc3RyaW5nLCB2ZXJzaW9uPzogc3RyaW5nKTogVHJhY2VyIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUcmFjZXJQcm92aWRlcigpLmdldFRyYWNlcihuYW1lLCB2ZXJzaW9uKTtcbiAgfVxuXG4gIC8qKiBSZW1vdmUgdGhlIGdsb2JhbCB0cmFjZXIgcHJvdmlkZXIgKi9cbiAgcHVibGljIGRpc2FibGUoKSB7XG4gICAgdW5yZWdpc3Rlckdsb2JhbChBUElfTkFNRSwgRGlhZ0FQSS5pbnN0YW5jZSgpKTtcbiAgICB0aGlzLl9wcm94eVRyYWNlclByb3ZpZGVyID0gbmV3IFByb3h5VHJhY2VyUHJvdmlkZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyB3cmFwU3BhbkNvbnRleHQgPSB3cmFwU3BhbkNvbnRleHQ7XG5cbiAgcHVibGljIGlzU3BhbkNvbnRleHRWYWxpZCA9IGlzU3BhbkNvbnRleHRWYWxpZDtcblxuICBwdWJsaWMgZGVsZXRlU3BhbiA9IGRlbGV0ZVNwYW47XG5cbiAgcHVibGljIGdldFNwYW4gPSBnZXRTcGFuO1xuXG4gIHB1YmxpYyBnZXRBY3RpdmVTcGFuID0gZ2V0QWN0aXZlU3BhbjtcblxuICBwdWJsaWMgZ2V0U3BhbkNvbnRleHQgPSBnZXRTcGFuQ29udGV4dDtcblxuICBwdWJsaWMgc2V0U3BhbiA9IHNldFNwYW47XG5cbiAgcHVibGljIHNldFNwYW5Db250ZXh0ID0gc2V0U3BhbkNvbnRleHQ7XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gU3BsaXQgbW9kdWxlLWxldmVsIHZhcmlhYmxlIGRlZmluaXRpb24gaW50byBzZXBhcmF0ZSBmaWxlcyB0byBhbGxvd1xuLy8gdHJlZS1zaGFraW5nIG9uIGVhY2ggYXBpIGluc3RhbmNlLlxuaW1wb3J0IHsgVHJhY2VBUEkgfSBmcm9tICcuL2FwaS90cmFjZSc7XG4vKiogRW50cnlwb2ludCBmb3IgdHJhY2UgQVBJICovXG5leHBvcnQgY29uc3QgdHJhY2UgPSBUcmFjZUFQSS5nZXRJbnN0YW5jZSgpO1xuIiwgIi8vIHJlLWV4cG9ydHM6XG5leHBvcnQgeyBnYXRld2F5LCBjcmVhdGVHYXRld2F5IH0gZnJvbSAnQGFpLXNkay9nYXRld2F5JztcbmV4cG9ydCB7XG4gIGFzU2NoZW1hLFxuICBjcmVhdGVJZEdlbmVyYXRvcixcbiAgZHluYW1pY1Rvb2wsXG4gIGdlbmVyYXRlSWQsXG4gIGpzb25TY2hlbWEsXG4gIHRvb2wsXG4gIHpvZFNjaGVtYSxcbiAgdHlwZSBJZEdlbmVyYXRvcixcbiAgdHlwZSBJbmZlclRvb2xJbnB1dCxcbiAgdHlwZSBJbmZlclRvb2xPdXRwdXQsXG4gIHR5cGUgU2NoZW1hLFxuICB0eXBlIFRvb2wsXG4gIHR5cGUgVG9vbENhbGxPcHRpb25zLFxuICB0eXBlIFRvb2xFeGVjdXRlRnVuY3Rpb24sXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuXG4vLyBkaXJlY3RvcnkgZXhwb3J0c1xuZXhwb3J0ICogZnJvbSAnLi9hZ2VudCc7XG5leHBvcnQgKiBmcm9tICcuL2VtYmVkJztcbmV4cG9ydCAqIGZyb20gJy4vZXJyb3InO1xuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZS1pbWFnZSc7XG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlLW9iamVjdCc7XG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlLXNwZWVjaCc7XG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlLXRleHQnO1xuZXhwb3J0ICogZnJvbSAnLi9sb2dnZXInO1xuZXhwb3J0ICogZnJvbSAnLi9taWRkbGV3YXJlJztcbmV4cG9ydCAqIGZyb20gJy4vcHJvbXB0JztcbmV4cG9ydCAqIGZyb20gJy4vcmVnaXN0cnknO1xuZXhwb3J0ICogZnJvbSAnLi90ZXh0LXN0cmVhbSc7XG5leHBvcnQgKiBmcm9tICcuL3Rvb2wnO1xuZXhwb3J0ICogZnJvbSAnLi90cmFuc2NyaWJlJztcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi91aSc7XG5leHBvcnQgKiBmcm9tICcuL3VpLW1lc3NhZ2Utc3RyZWFtJztcbmV4cG9ydCAqIGZyb20gJy4vdXRpbCc7XG5cbi8vIHRlbGVtZXRyeSB0eXBlczpcbmV4cG9ydCB0eXBlIHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuL3RlbGVtZXRyeS90ZWxlbWV0cnktc2V0dGluZ3MnO1xuXG4vLyBpbXBvcnQgZ2xvYmFsc1xuaW1wb3J0ICcuL2dsb2JhbCc7XG4iLCAiaW1wb3J0IHtcbiAgTGFuZ3VhZ2VNb2RlbFYyLFxuICBMYW5ndWFnZU1vZGVsVjJDb250ZW50LFxuICBMYW5ndWFnZU1vZGVsVjJUb29sQ2FsbCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjcmVhdGVJZEdlbmVyYXRvcixcbiAgZXhlY3V0ZVRvb2wsXG4gIGdldEVycm9yTWVzc2FnZSxcbiAgSWRHZW5lcmF0b3IsXG4gIFByb3ZpZGVyT3B0aW9ucyxcbiAgd2l0aFVzZXJBZ2VudFN1ZmZpeCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBUcmFjZXIgfSBmcm9tICdAb3BlbnRlbGVtZXRyeS9hcGknO1xuaW1wb3J0IHsgTm9PdXRwdXRTcGVjaWZpZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLW91dHB1dC1zcGVjaWZpZWQtZXJyb3InO1xuaW1wb3J0IHsgbG9nV2FybmluZ3MgfSBmcm9tICcuLi9sb2dnZXIvbG9nLXdhcm5pbmdzJztcbmltcG9ydCB7IHJlc29sdmVMYW5ndWFnZU1vZGVsIH0gZnJvbSAnLi4vbW9kZWwvcmVzb2x2ZS1tb2RlbCc7XG5pbXBvcnQgeyBNb2RlbE1lc3NhZ2UgfSBmcm9tICcuLi9wcm9tcHQnO1xuaW1wb3J0IHsgQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L2NhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCB9IGZyb20gJy4uL3Byb21wdC9jb252ZXJ0LXRvLWxhbmd1YWdlLW1vZGVsLXByb21wdCc7XG5pbXBvcnQgeyBwcmVwYXJlQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L3ByZXBhcmUtY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBwcmVwYXJlVG9vbHNBbmRUb29sQ2hvaWNlIH0gZnJvbSAnLi4vcHJvbXB0L3ByZXBhcmUtdG9vbHMtYW5kLXRvb2wtY2hvaWNlJztcbmltcG9ydCB7IFByb21wdCB9IGZyb20gJy4uL3Byb21wdC9wcm9tcHQnO1xuaW1wb3J0IHsgc3RhbmRhcmRpemVQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvc3RhbmRhcmRpemUtcHJvbXB0JztcbmltcG9ydCB7IHdyYXBHYXRld2F5RXJyb3IgfSBmcm9tICcuLi9wcm9tcHQvd3JhcC1nYXRld2F5LWVycm9yJztcbmltcG9ydCB7IGFzc2VtYmxlT3BlcmF0aW9uTmFtZSB9IGZyb20gJy4uL3RlbGVtZXRyeS9hc3NlbWJsZS1vcGVyYXRpb24tbmFtZSc7XG5pbXBvcnQgeyBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtYmFzZS10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBnZXRUcmFjZXIgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LXRyYWNlcic7XG5pbXBvcnQgeyByZWNvcmRFcnJvck9uU3BhbiwgcmVjb3JkU3BhbiB9IGZyb20gJy4uL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbic7XG5pbXBvcnQgeyBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBzdHJpbmdpZnlGb3JUZWxlbWV0cnkgfSBmcm9tICcuLi90ZWxlbWV0cnkvc3RyaW5naWZ5LWZvci10ZWxlbWV0cnknO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWwsIFRvb2xDaG9pY2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhZGRMYW5ndWFnZU1vZGVsVXNhZ2UsIExhbmd1YWdlTW9kZWxVc2FnZSB9IGZyb20gJy4uL3R5cGVzL3VzYWdlJztcbmltcG9ydCB7IGFzQXJyYXkgfSBmcm9tICcuLi91dGlsL2FzLWFycmF5JztcbmltcG9ydCB7IERvd25sb2FkRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWZ1bmN0aW9uJztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgQ29udGVudFBhcnQgfSBmcm9tICcuL2NvbnRlbnQtcGFydCc7XG5pbXBvcnQgeyBleHRyYWN0VGV4dENvbnRlbnQgfSBmcm9tICcuL2V4dHJhY3QtdGV4dC1jb250ZW50JztcbmltcG9ydCB7IEdlbmVyYXRlVGV4dFJlc3VsdCB9IGZyb20gJy4vZ2VuZXJhdGUtdGV4dC1yZXN1bHQnO1xuaW1wb3J0IHsgRGVmYXVsdEdlbmVyYXRlZEZpbGUgfSBmcm9tICcuL2dlbmVyYXRlZC1maWxlJztcbmltcG9ydCB7IE91dHB1dCB9IGZyb20gJy4vb3V0cHV0JztcbmltcG9ydCB7IHBhcnNlVG9vbENhbGwgfSBmcm9tICcuL3BhcnNlLXRvb2wtY2FsbCc7XG5pbXBvcnQgeyBQcmVwYXJlU3RlcEZ1bmN0aW9uIH0gZnJvbSAnLi9wcmVwYXJlLXN0ZXAnO1xuaW1wb3J0IHsgUmVzcG9uc2VNZXNzYWdlIH0gZnJvbSAnLi9yZXNwb25zZS1tZXNzYWdlJztcbmltcG9ydCB7IERlZmF1bHRTdGVwUmVzdWx0LCBTdGVwUmVzdWx0IH0gZnJvbSAnLi9zdGVwLXJlc3VsdCc7XG5pbXBvcnQge1xuICBpc1N0b3BDb25kaXRpb25NZXQsXG4gIHN0ZXBDb3VudElzLFxuICBTdG9wQ29uZGl0aW9uLFxufSBmcm9tICcuL3N0b3AtY29uZGl0aW9uJztcbmltcG9ydCB7IHRvUmVzcG9uc2VNZXNzYWdlcyB9IGZyb20gJy4vdG8tcmVzcG9uc2UtbWVzc2FnZXMnO1xuaW1wb3J0IHsgVHlwZWRUb29sQ2FsbCB9IGZyb20gJy4vdG9vbC1jYWxsJztcbmltcG9ydCB7IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb24gfSBmcm9tICcuL3Rvb2wtY2FsbC1yZXBhaXItZnVuY3Rpb24nO1xuaW1wb3J0IHsgVHlwZWRUb29sRXJyb3IgfSBmcm9tICcuL3Rvb2wtZXJyb3InO1xuaW1wb3J0IHsgVG9vbE91dHB1dCB9IGZyb20gJy4vdG9vbC1vdXRwdXQnO1xuaW1wb3J0IHsgVHlwZWRUb29sUmVzdWx0IH0gZnJvbSAnLi90b29sLXJlc3VsdCc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi90b29sLXNldCc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5cbmNvbnN0IG9yaWdpbmFsR2VuZXJhdGVJZCA9IGNyZWF0ZUlkR2VuZXJhdG9yKHtcbiAgcHJlZml4OiAnYWl0eHQnLFxuICBzaXplOiAyNCxcbn0pO1xuXG4vKipcbkNhbGxiYWNrIHRoYXQgaXMgc2V0IHVzaW5nIHRoZSBgb25TdGVwRmluaXNoYCBvcHRpb24uXG5cbkBwYXJhbSBzdGVwUmVzdWx0IC0gVGhlIHJlc3VsdCBvZiB0aGUgc3RlcC5cbiAqL1xuZXhwb3J0IHR5cGUgR2VuZXJhdGVUZXh0T25TdGVwRmluaXNoQ2FsbGJhY2s8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IChcbiAgc3RlcFJlc3VsdDogU3RlcFJlc3VsdDxUT09MUz4sXG4pID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xuXG4vKipcbkdlbmVyYXRlIGEgdGV4dCBhbmQgY2FsbCB0b29scyBmb3IgYSBnaXZlbiBwcm9tcHQgdXNpbmcgYSBsYW5ndWFnZSBtb2RlbC5cblxuVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBzdHJlYW0gdGhlIG91dHB1dC4gSWYgeW91IHdhbnQgdG8gc3RyZWFtIHRoZSBvdXRwdXQsIHVzZSBgc3RyZWFtVGV4dGAgaW5zdGVhZC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cblxuQHBhcmFtIHRvb2xzIC0gVG9vbHMgdGhhdCBhcmUgYWNjZXNzaWJsZSB0byBhbmQgY2FuIGJlIGNhbGxlZCBieSB0aGUgbW9kZWwuIFRoZSBtb2RlbCBuZWVkcyB0byBzdXBwb3J0IGNhbGxpbmcgdG9vbHMuXG5AcGFyYW0gdG9vbENob2ljZSAtIFRoZSB0b29sIGNob2ljZSBzdHJhdGVneS4gRGVmYXVsdDogJ2F1dG8nLlxuXG5AcGFyYW0gc3lzdGVtIC0gQSBzeXN0ZW0gbWVzc2FnZSB0aGF0IHdpbGwgYmUgcGFydCBvZiB0aGUgcHJvbXB0LlxuQHBhcmFtIHByb21wdCAtIEEgc2ltcGxlIHRleHQgcHJvbXB0LiBZb3UgY2FuIGVpdGhlciB1c2UgYHByb21wdGAgb3IgYG1lc3NhZ2VzYCBidXQgbm90IGJvdGguXG5AcGFyYW0gbWVzc2FnZXMgLSBBIGxpc3Qgb2YgbWVzc2FnZXMuIFlvdSBjYW4gZWl0aGVyIHVzZSBgcHJvbXB0YCBvciBgbWVzc2FnZXNgIGJ1dCBub3QgYm90aC5cblxuQHBhcmFtIG1heE91dHB1dFRva2VucyAtIE1heGltdW0gbnVtYmVyIG9mIHRva2VucyB0byBnZW5lcmF0ZS5cbkBwYXJhbSB0ZW1wZXJhdHVyZSAtIFRlbXBlcmF0dXJlIHNldHRpbmcuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGVpdGhlciBgdGVtcGVyYXR1cmVgIG9yIGB0b3BQYCwgYnV0IG5vdCBib3RoLlxuQHBhcmFtIHRvcFAgLSBOdWNsZXVzIHNhbXBsaW5nLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkl0IGlzIHJlY29tbWVuZGVkIHRvIHNldCBlaXRoZXIgYHRlbXBlcmF0dXJlYCBvciBgdG9wUGAsIGJ1dCBub3QgYm90aC5cbkBwYXJhbSB0b3BLIC0gT25seSBzYW1wbGUgZnJvbSB0aGUgdG9wIEsgb3B0aW9ucyBmb3IgZWFjaCBzdWJzZXF1ZW50IHRva2VuLlxuVXNlZCB0byByZW1vdmUgXCJsb25nIHRhaWxcIiBsb3cgcHJvYmFiaWxpdHkgcmVzcG9uc2VzLlxuUmVjb21tZW5kZWQgZm9yIGFkdmFuY2VkIHVzZSBjYXNlcyBvbmx5LiBZb3UgdXN1YWxseSBvbmx5IG5lZWQgdG8gdXNlIHRlbXBlcmF0dXJlLlxuQHBhcmFtIHByZXNlbmNlUGVuYWx0eSAtIFByZXNlbmNlIHBlbmFsdHkgc2V0dGluZy5cbkl0IGFmZmVjdHMgdGhlIGxpa2VsaWhvb2Qgb2YgdGhlIG1vZGVsIHRvIHJlcGVhdCBpbmZvcm1hdGlvbiB0aGF0IGlzIGFscmVhZHkgaW4gdGhlIHByb21wdC5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5AcGFyYW0gZnJlcXVlbmN5UGVuYWx0eSAtIEZyZXF1ZW5jeSBwZW5hbHR5IHNldHRpbmcuXG5JdCBhZmZlY3RzIHRoZSBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCB0byByZXBlYXRlZGx5IHVzZSB0aGUgc2FtZSB3b3JkcyBvciBwaHJhc2VzLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkBwYXJhbSBzdG9wU2VxdWVuY2VzIC0gU3RvcCBzZXF1ZW5jZXMuXG5JZiBzZXQsIHRoZSBtb2RlbCB3aWxsIHN0b3AgZ2VuZXJhdGluZyB0ZXh0IHdoZW4gb25lIG9mIHRoZSBzdG9wIHNlcXVlbmNlcyBpcyBnZW5lcmF0ZWQuXG5AcGFyYW0gc2VlZCAtIFRoZSBzZWVkIChpbnRlZ2VyKSB0byB1c2UgZm9yIHJhbmRvbSBzYW1wbGluZy5cbklmIHNldCBhbmQgc3VwcG9ydGVkIGJ5IHRoZSBtb2RlbCwgY2FsbHMgd2lsbCBnZW5lcmF0ZSBkZXRlcm1pbmlzdGljIHJlc3VsdHMuXG5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkBwYXJhbSBleHBlcmltZW50YWxfZ2VuZXJhdGVNZXNzYWdlSWQgLSBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgZWFjaCBtZXNzYWdlLlxuXG5AcGFyYW0gb25TdGVwRmluaXNoIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBlYWNoIHN0ZXAgKExMTSBjYWxsKSBpcyBmaW5pc2hlZCwgaW5jbHVkaW5nIGludGVybWVkaWF0ZSBzdGVwcy5cblxuQHJldHVybnNcbkEgcmVzdWx0IG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBnZW5lcmF0ZWQgdGV4dCwgdGhlIHJlc3VsdHMgb2YgdGhlIHRvb2wgY2FsbHMsIGFuZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVUZXh0PFxuICBUT09MUyBleHRlbmRzIFRvb2xTZXQsXG4gIE9VVFBVVCA9IG5ldmVyLFxuICBPVVRQVVRfUEFSVElBTCA9IG5ldmVyLFxuPih7XG4gIG1vZGVsOiBtb2RlbEFyZyxcbiAgdG9vbHMsXG4gIHRvb2xDaG9pY2UsXG4gIHN5c3RlbSxcbiAgcHJvbXB0LFxuICBtZXNzYWdlcyxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG4gIHN0b3BXaGVuID0gc3RlcENvdW50SXMoMSksXG4gIGV4cGVyaW1lbnRhbF9vdXRwdXQ6IG91dHB1dCxcbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxuICBwcm92aWRlck9wdGlvbnMsXG4gIGV4cGVyaW1lbnRhbF9hY3RpdmVUb29scyxcbiAgYWN0aXZlVG9vbHMgPSBleHBlcmltZW50YWxfYWN0aXZlVG9vbHMsXG4gIGV4cGVyaW1lbnRhbF9wcmVwYXJlU3RlcCxcbiAgcHJlcGFyZVN0ZXAgPSBleHBlcmltZW50YWxfcHJlcGFyZVN0ZXAsXG4gIGV4cGVyaW1lbnRhbF9yZXBhaXJUb29sQ2FsbDogcmVwYWlyVG9vbENhbGwsXG4gIGV4cGVyaW1lbnRhbF9kb3dubG9hZDogZG93bmxvYWQsXG4gIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICBfaW50ZXJuYWw6IHtcbiAgICBnZW5lcmF0ZUlkID0gb3JpZ2luYWxHZW5lcmF0ZUlkLFxuICAgIGN1cnJlbnREYXRlID0gKCkgPT4gbmV3IERhdGUoKSxcbiAgfSA9IHt9LFxuICBvblN0ZXBGaW5pc2gsXG4gIC4uLnNldHRpbmdzXG59OiBDYWxsU2V0dGluZ3MgJlxuICBQcm9tcHQgJiB7XG4gICAgLyoqXG5UaGUgbGFuZ3VhZ2UgbW9kZWwgdG8gdXNlLlxuICAgICAqL1xuICAgIG1vZGVsOiBMYW5ndWFnZU1vZGVsO1xuXG4gICAgLyoqXG5UaGUgdG9vbHMgdGhhdCB0aGUgbW9kZWwgY2FuIGNhbGwuIFRoZSBtb2RlbCBuZWVkcyB0byBzdXBwb3J0IGNhbGxpbmcgdG9vbHMuXG4qL1xuICAgIHRvb2xzPzogVE9PTFM7XG5cbiAgICAvKipcblRoZSB0b29sIGNob2ljZSBzdHJhdGVneS4gRGVmYXVsdDogJ2F1dG8nLlxuICAgICAqL1xuICAgIHRvb2xDaG9pY2U/OiBUb29sQ2hvaWNlPE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuQ29uZGl0aW9uIGZvciBzdG9wcGluZyB0aGUgZ2VuZXJhdGlvbiB3aGVuIHRoZXJlIGFyZSB0b29sIHJlc3VsdHMgaW4gdGhlIGxhc3Qgc3RlcC5cbldoZW4gdGhlIGNvbmRpdGlvbiBpcyBhbiBhcnJheSwgYW55IG9mIHRoZSBjb25kaXRpb25zIGNhbiBiZSBtZXQgdG8gc3RvcCB0aGUgZ2VuZXJhdGlvbi5cblxuQGRlZmF1bHQgc3RlcENvdW50SXMoMSlcbiAgICAgKi9cbiAgICBzdG9wV2hlbj86XG4gICAgICB8IFN0b3BDb25kaXRpb248Tm9JbmZlcjxUT09MUz4+XG4gICAgICB8IEFycmF5PFN0b3BDb25kaXRpb248Tm9JbmZlcjxUT09MUz4+PjtcblxuICAgIC8qKlxuT3B0aW9uYWwgdGVsZW1ldHJ5IGNvbmZpZ3VyYXRpb24gKGV4cGVyaW1lbnRhbCkuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeT86IFRlbGVtZXRyeVNldHRpbmdzO1xuXG4gICAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAqL1xuICAgIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBgYWN0aXZlVG9vbHNgIGluc3RlYWQuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX2FjdGl2ZVRvb2xzPzogQXJyYXk8a2V5b2YgTm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG5MaW1pdHMgdGhlIHRvb2xzIHRoYXQgYXJlIGF2YWlsYWJsZSBmb3IgdGhlIG1vZGVsIHRvIGNhbGwgd2l0aG91dFxuY2hhbmdpbmcgdGhlIHRvb2wgY2FsbCBhbmQgcmVzdWx0IHR5cGVzIGluIHRoZSByZXN1bHQuXG4gICAgICovXG4gICAgYWN0aXZlVG9vbHM/OiBBcnJheTxrZXlvZiBOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbk9wdGlvbmFsIHNwZWNpZmljYXRpb24gZm9yIHBhcnNpbmcgc3RydWN0dXJlZCBvdXRwdXRzIGZyb20gdGhlIExMTSByZXNwb25zZS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfb3V0cHV0PzogT3V0cHV0PE9VVFBVVCwgT1VUUFVUX1BBUlRJQUw+O1xuXG4gICAgLyoqXG5DdXN0b20gZG93bmxvYWQgZnVuY3Rpb24gdG8gdXNlIGZvciBVUkxzLlxuXG5CeSBkZWZhdWx0LCBmaWxlcyBhcmUgZG93bmxvYWRlZCBpZiB0aGUgbW9kZWwgZG9lcyBub3Qgc3VwcG9ydCB0aGUgVVJMIGZvciB0aGUgZ2l2ZW4gbWVkaWEgdHlwZS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfZG93bmxvYWQ/OiBEb3dubG9hZEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGBwcmVwYXJlU3RlcGAgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfcHJlcGFyZVN0ZXA/OiBQcmVwYXJlU3RlcEZ1bmN0aW9uPE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuT3B0aW9uYWwgZnVuY3Rpb24gdGhhdCB5b3UgY2FuIHVzZSB0byBwcm92aWRlIGRpZmZlcmVudCBzZXR0aW5ncyBmb3IgYSBzdGVwLlxuICAgICovXG4gICAgcHJlcGFyZVN0ZXA/OiBQcmVwYXJlU3RlcEZ1bmN0aW9uPE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuQSBmdW5jdGlvbiB0aGF0IGF0dGVtcHRzIHRvIHJlcGFpciBhIHRvb2wgY2FsbCB0aGF0IGZhaWxlZCB0byBwYXJzZS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfcmVwYWlyVG9vbENhbGw/OiBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uPE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuICAgIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gZWFjaCBzdGVwIChMTE0gY2FsbCkgaXMgZmluaXNoZWQsIGluY2x1ZGluZyBpbnRlcm1lZGlhdGUgc3RlcHMuXG4gICAgKi9cbiAgICBvblN0ZXBGaW5pc2g/OiBHZW5lcmF0ZVRleHRPblN0ZXBGaW5pc2hDYWxsYmFjazxOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbiAgICAgKiBDb250ZXh0IHRoYXQgaXMgcGFzc2VkIGludG8gdG9vbCBleGVjdXRpb24uXG4gICAgICpcbiAgICAgKiBFeHBlcmltZW50YWwgKGNhbiBicmVhayBpbiBwYXRjaCByZWxlYXNlcykuXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfY29udGV4dD86IHVua25vd247XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbC4gRm9yIHRlc3QgdXNlIG9ubHkuIE1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAgICovXG4gICAgX2ludGVybmFsPzoge1xuICAgICAgZ2VuZXJhdGVJZD86IElkR2VuZXJhdG9yO1xuICAgICAgY3VycmVudERhdGU/OiAoKSA9PiBEYXRlO1xuICAgIH07XG4gIH0pOiBQcm9taXNlPEdlbmVyYXRlVGV4dFJlc3VsdDxUT09MUywgT1VUUFVUPj4ge1xuICBjb25zdCBtb2RlbCA9IHJlc29sdmVMYW5ndWFnZU1vZGVsKG1vZGVsQXJnKTtcbiAgY29uc3Qgc3RvcENvbmRpdGlvbnMgPSBhc0FycmF5KHN0b3BXaGVuKTtcbiAgY29uc3QgeyBtYXhSZXRyaWVzLCByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoe1xuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gIH0pO1xuXG4gIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpO1xuXG4gIGNvbnN0IGhlYWRlcnNXaXRoVXNlckFnZW50ID0gd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICBoZWFkZXJzID8/IHt9LFxuICAgIGBhaS8ke1ZFUlNJT059YCxcbiAgKTtcblxuICBjb25zdCBiYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyA9IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICBtb2RlbCxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgc2V0dGluZ3M6IHsgLi4uY2FsbFNldHRpbmdzLCBtYXhSZXRyaWVzIH0sXG4gIH0pO1xuXG4gIGNvbnN0IGluaXRpYWxQcm9tcHQgPSBhd2FpdCBzdGFuZGFyZGl6ZVByb21wdCh7XG4gICAgc3lzdGVtLFxuICAgIHByb21wdCxcbiAgICBtZXNzYWdlcyxcbiAgfSBhcyBQcm9tcHQpO1xuXG4gIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHJlY29yZFNwYW4oe1xuICAgICAgbmFtZTogJ2FpLmdlbmVyYXRlVGV4dCcsXG4gICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuZ2VuZXJhdGVUZXh0JyxcbiAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAvLyBtb2RlbDpcbiAgICAgICAgICAnYWkubW9kZWwucHJvdmlkZXInOiBtb2RlbC5wcm92aWRlcixcbiAgICAgICAgICAnYWkubW9kZWwuaWQnOiBtb2RlbC5tb2RlbElkLFxuICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAnYWkucHJvbXB0Jzoge1xuICAgICAgICAgICAgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHsgc3lzdGVtLCBwcm9tcHQsIG1lc3NhZ2VzIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIHRyYWNlcixcbiAgICAgIGZuOiBhc3luYyBzcGFuID0+IHtcbiAgICAgICAgY29uc3QgY2FsbFNldHRpbmdzID0gcHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyk7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRNb2RlbFJlc3BvbnNlOiBBd2FpdGVkPFxuICAgICAgICAgIFJldHVyblR5cGU8TGFuZ3VhZ2VNb2RlbFYyWydkb0dlbmVyYXRlJ10+XG4gICAgICAgID4gJiB7IHJlc3BvbnNlOiB7IGlkOiBzdHJpbmc7IHRpbWVzdGFtcDogRGF0ZTsgbW9kZWxJZDogc3RyaW5nIH0gfTtcbiAgICAgICAgbGV0IGNsaWVudFRvb2xDYWxsczogQXJyYXk8VHlwZWRUb29sQ2FsbDxUT09MUz4+ID0gW107XG4gICAgICAgIGxldCBjbGllbnRUb29sT3V0cHV0czogQXJyYXk8VG9vbE91dHB1dDxUT09MUz4+ID0gW107XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlTWVzc2FnZXM6IEFycmF5PFJlc3BvbnNlTWVzc2FnZT4gPSBbXTtcbiAgICAgICAgY29uc3Qgc3RlcHM6IEdlbmVyYXRlVGV4dFJlc3VsdDxUT09MUywgT1VUUFVUPlsnc3RlcHMnXSA9IFtdO1xuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBjb25zdCBzdGVwSW5wdXRNZXNzYWdlcyA9IFtcbiAgICAgICAgICAgIC4uLmluaXRpYWxQcm9tcHQubWVzc2FnZXMsXG4gICAgICAgICAgICAuLi5yZXNwb25zZU1lc3NhZ2VzLFxuICAgICAgICAgIF07XG5cbiAgICAgICAgICBjb25zdCBwcmVwYXJlU3RlcFJlc3VsdCA9IGF3YWl0IHByZXBhcmVTdGVwPy4oe1xuICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICBzdGVwcyxcbiAgICAgICAgICAgIHN0ZXBOdW1iZXI6IHN0ZXBzLmxlbmd0aCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gYXdhaXQgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCh7XG4gICAgICAgICAgICBwcm9tcHQ6IHtcbiAgICAgICAgICAgICAgc3lzdGVtOiBwcmVwYXJlU3RlcFJlc3VsdD8uc3lzdGVtID8/IGluaXRpYWxQcm9tcHQuc3lzdGVtLFxuICAgICAgICAgICAgICBtZXNzYWdlczogcHJlcGFyZVN0ZXBSZXN1bHQ/Lm1lc3NhZ2VzID8/IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRlZFVybHM6IGF3YWl0IG1vZGVsLnN1cHBvcnRlZFVybHMsXG4gICAgICAgICAgICBkb3dubG9hZCxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHN0ZXBNb2RlbCA9IHJlc29sdmVMYW5ndWFnZU1vZGVsKFxuICAgICAgICAgICAgcHJlcGFyZVN0ZXBSZXN1bHQ/Lm1vZGVsID8/IG1vZGVsLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCB7IHRvb2xDaG9pY2U6IHN0ZXBUb29sQ2hvaWNlLCB0b29sczogc3RlcFRvb2xzIH0gPVxuICAgICAgICAgICAgcHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZSh7XG4gICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICB0b29sQ2hvaWNlOiBwcmVwYXJlU3RlcFJlc3VsdD8udG9vbENob2ljZSA/PyB0b29sQ2hvaWNlLFxuICAgICAgICAgICAgICBhY3RpdmVUb29sczogcHJlcGFyZVN0ZXBSZXN1bHQ/LmFjdGl2ZVRvb2xzID8/IGFjdGl2ZVRvb2xzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjdXJyZW50TW9kZWxSZXNwb25zZSA9IGF3YWl0IHJldHJ5KCgpID0+XG4gICAgICAgICAgICByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgICAgbmFtZTogJ2FpLmdlbmVyYXRlVGV4dC5kb0dlbmVyYXRlJyxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuZ2VuZXJhdGVUZXh0LmRvR2VuZXJhdGUnLFxuICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgLy8gbW9kZWw6XG4gICAgICAgICAgICAgICAgICAnYWkubW9kZWwucHJvdmlkZXInOiBzdGVwTW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAnYWkubW9kZWwuaWQnOiBzdGVwTW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgIC8vIHByb21wdDpcbiAgICAgICAgICAgICAgICAgICdhaS5wcm9tcHQubWVzc2FnZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBzdHJpbmdpZnlGb3JUZWxlbWV0cnkocHJvbXB0TWVzc2FnZXMpLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICdhaS5wcm9tcHQudG9vbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdGhlIGxhbmd1YWdlIG1vZGVsIGxldmVsIHRvb2xzOlxuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gc3RlcFRvb2xzPy5tYXAodG9vbCA9PiBKU09OLnN0cmluZ2lmeSh0b29sKSksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJ2FpLnByb21wdC50b29sQ2hvaWNlJzoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBzdGVwVG9vbENob2ljZSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHN0ZXBUb29sQ2hvaWNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnN5c3RlbSc6IHN0ZXBNb2RlbC5wcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5tb2RlbCc6IHN0ZXBNb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LmZyZXF1ZW5jeV9wZW5hbHR5Jzogc2V0dGluZ3MuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5tYXhfdG9rZW5zJzogc2V0dGluZ3MubWF4T3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnByZXNlbmNlX3BlbmFsdHknOiBzZXR0aW5ncy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3Quc3RvcF9zZXF1ZW5jZXMnOiBzZXR0aW5ncy5zdG9wU2VxdWVuY2VzLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRlbXBlcmF0dXJlJzpcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MudGVtcGVyYXR1cmUgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9rJzogc2V0dGluZ3MudG9wSyxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50b3BfcCc6IHNldHRpbmdzLnRvcFAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0ZXBNb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgICAgICAgICAgICAgIC4uLmNhbGxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgIHRvb2xzOiBzdGVwVG9vbHMsXG4gICAgICAgICAgICAgICAgICB0b29sQ2hvaWNlOiBzdGVwVG9vbENob2ljZSxcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRm9ybWF0OiBvdXRwdXQ/LnJlc3BvbnNlRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBGaWxsIGluIGRlZmF1bHQgdmFsdWVzOlxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgIGlkOiByZXN1bHQucmVzcG9uc2U/LmlkID8/IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogcmVzdWx0LnJlc3BvbnNlPy50aW1lc3RhbXAgPz8gY3VycmVudERhdGUoKSxcbiAgICAgICAgICAgICAgICAgIG1vZGVsSWQ6IHJlc3VsdC5yZXNwb25zZT8ubW9kZWxJZCA/PyBzdGVwTW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3VsdC5yZXNwb25zZT8uaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IHJlc3VsdC5yZXNwb25zZT8uYm9keSxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGluZm9ybWF0aW9uIHRvIHRoZSBzcGFuOlxuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuZmluaXNoUmVhc29uJzogcmVzdWx0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudGV4dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gZXh0cmFjdFRleHRDb250ZW50KHJlc3VsdC5jb250ZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50b29sQ2FsbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbENhbGxzID0gYXNUb29sQ2FsbHMocmVzdWx0LmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbENhbGxzID09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkodG9vbENhbGxzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuaWQnOiByZXNwb25zZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm1vZGVsJzogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRpbWVzdGFtcCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIHJlbmFtZSB0ZWxlbWV0cnkgYXR0cmlidXRlcyB0byBpbnB1dFRva2VucyBhbmQgb3V0cHV0VG9rZW5zXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnByb21wdFRva2Vucyc6IHJlc3VsdC51c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuY29tcGxldGlvblRva2Vucyc6IHJlc3VsdC51c2FnZS5vdXRwdXRUb2tlbnMsXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5maW5pc2hfcmVhc29ucyc6IFtyZXN1bHQuZmluaXNoUmVhc29uXSxcbiAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLmlkJzogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UubW9kZWwnOiByZXNwb25zZURhdGEubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLmlucHV0X3Rva2Vucyc6IHJlc3VsdC51c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLm91dHB1dF90b2tlbnMnOiByZXN1bHQudXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwgcmVzcG9uc2U6IHJlc3BvbnNlRGF0YSB9O1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIHBhcnNlIHRvb2wgY2FsbHM6XG4gICAgICAgICAgY29uc3Qgc3RlcFRvb2xDYWxsczogVHlwZWRUb29sQ2FsbDxUT09MUz5bXSA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgY3VycmVudE1vZGVsUmVzcG9uc2UuY29udGVudFxuICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgIChwYXJ0KTogcGFydCBpcyBMYW5ndWFnZU1vZGVsVjJUb29sQ2FsbCA9PlxuICAgICAgICAgICAgICAgICAgcGFydC50eXBlID09PSAndG9vbC1jYWxsJyxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAubWFwKHRvb2xDYWxsID0+XG4gICAgICAgICAgICAgICAgcGFyc2VUb29sQ2FsbCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICAgICAgcmVwYWlyVG9vbENhbGwsXG4gICAgICAgICAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIG5vdGlmeSB0aGUgdG9vbHMgdGhhdCB0aGUgdG9vbCBjYWxscyBhcmUgYXZhaWxhYmxlOlxuICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2Ygc3RlcFRvb2xDYWxscykge1xuICAgICAgICAgICAgaWYgKHRvb2xDYWxsLmludmFsaWQpIHtcbiAgICAgICAgICAgICAgY29udGludWU7IC8vIGlnbm9yZSBpbnZhbGlkIHRvb2wgY2FsbHNcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdG9vbCA9IHRvb2xzIVt0b29sQ2FsbC50b29sTmFtZV07XG4gICAgICAgICAgICBpZiAodG9vbD8ub25JbnB1dEF2YWlsYWJsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRvb2wub25JbnB1dEF2YWlsYWJsZSh7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IHRvb2xDYWxsLmlucHV0LFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBpbnNlcnQgZXJyb3IgdG9vbCBvdXRwdXRzIGZvciBpbnZhbGlkIHRvb2wgY2FsbHM6XG4gICAgICAgICAgLy8gVE9ETyBBSSBTREsgNjogaW52YWxpZCBpbnB1dHMgc2hvdWxkIG5vdCByZXF1aXJlIG91dHB1dCBwYXJ0c1xuICAgICAgICAgIGNvbnN0IGludmFsaWRUb29sQ2FsbHMgPSBzdGVwVG9vbENhbGxzLmZpbHRlcihcbiAgICAgICAgICAgIHRvb2xDYWxsID0+IHRvb2xDYWxsLmludmFsaWQgJiYgdG9vbENhbGwuZHluYW1pYyxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY2xpZW50VG9vbE91dHB1dHMgPSBbXTtcblxuICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgaW52YWxpZFRvb2xDYWxscykge1xuICAgICAgICAgICAgY2xpZW50VG9vbE91dHB1dHMucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGU6ICd0b29sLWVycm9yJyxcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICAgIGVycm9yOiBnZXRFcnJvck1lc3NhZ2UodG9vbENhbGwuZXJyb3IhKSxcbiAgICAgICAgICAgICAgZHluYW1pYzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGV4ZWN1dGUgY2xpZW50IHRvb2wgY2FsbHM6XG4gICAgICAgICAgY2xpZW50VG9vbENhbGxzID0gc3RlcFRvb2xDYWxscy5maWx0ZXIoXG4gICAgICAgICAgICB0b29sQ2FsbCA9PiAhdG9vbENhbGwucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKHRvb2xzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNsaWVudFRvb2xPdXRwdXRzLnB1c2goXG4gICAgICAgICAgICAgIC4uLihhd2FpdCBleGVjdXRlVG9vbHMoe1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsczogY2xpZW50VG9vbENhbGxzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsID0+ICF0b29sQ2FsbC5pbnZhbGlkLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gY29udGVudDpcbiAgICAgICAgICBjb25zdCBzdGVwQ29udGVudCA9IGFzQ29udGVudCh7XG4gICAgICAgICAgICBjb250ZW50OiBjdXJyZW50TW9kZWxSZXNwb25zZS5jb250ZW50LFxuICAgICAgICAgICAgdG9vbENhbGxzOiBzdGVwVG9vbENhbGxzLFxuICAgICAgICAgICAgdG9vbE91dHB1dHM6IGNsaWVudFRvb2xPdXRwdXRzLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gYXBwZW5kIHRvIG1lc3NhZ2VzIGZvciBwb3RlbnRpYWwgbmV4dCBzdGVwOlxuICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMucHVzaChcbiAgICAgICAgICAgIC4uLnRvUmVzcG9uc2VNZXNzYWdlcyh7XG4gICAgICAgICAgICAgIGNvbnRlbnQ6IHN0ZXBDb250ZW50LFxuICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBBZGQgc3RlcCBpbmZvcm1hdGlvbiAoYWZ0ZXIgcmVzcG9uc2UgbWVzc2FnZXMgYXJlIHVwZGF0ZWQpOlxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGVwUmVzdWx0OiBTdGVwUmVzdWx0PFRPT0xTPiA9IG5ldyBEZWZhdWx0U3RlcFJlc3VsdCh7XG4gICAgICAgICAgICBjb250ZW50OiBzdGVwQ29udGVudCxcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogY3VycmVudE1vZGVsUmVzcG9uc2UuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgdXNhZ2U6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnVzYWdlLFxuICAgICAgICAgICAgd2FybmluZ3M6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLndhcm5pbmdzLFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY3VycmVudE1vZGVsUmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgIHJlcXVlc3Q6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnJlcXVlc3QgPz8ge30sXG4gICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAuLi5jdXJyZW50TW9kZWxSZXNwb25zZS5yZXNwb25zZSxcbiAgICAgICAgICAgICAgLy8gZGVlcCBjbG9uZSBtc2dzIHRvIGF2b2lkIG11dGF0aW5nIHBhc3QgbWVzc2FnZXMgaW4gbXVsdGktc3RlcDpcbiAgICAgICAgICAgICAgbWVzc2FnZXM6IHN0cnVjdHVyZWRDbG9uZShyZXNwb25zZU1lc3NhZ2VzKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBsb2dXYXJuaW5ncyhjdXJyZW50TW9kZWxSZXNwb25zZS53YXJuaW5ncyA/PyBbXSk7XG5cbiAgICAgICAgICBzdGVwcy5wdXNoKGN1cnJlbnRTdGVwUmVzdWx0KTtcbiAgICAgICAgICBhd2FpdCBvblN0ZXBGaW5pc2g/LihjdXJyZW50U3RlcFJlc3VsdCk7XG4gICAgICAgIH0gd2hpbGUgKFxuICAgICAgICAgIC8vIHRoZXJlIGFyZSB0b29sIGNhbGxzOlxuICAgICAgICAgIGNsaWVudFRvb2xDYWxscy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgLy8gYWxsIGN1cnJlbnQgdG9vbCBjYWxscyBoYXZlIG91dHB1dHMgKGluY2wuIGV4ZWN1dGlvbiBlcnJvcnMpOlxuICAgICAgICAgIGNsaWVudFRvb2xPdXRwdXRzLmxlbmd0aCA9PT0gY2xpZW50VG9vbENhbGxzLmxlbmd0aCAmJlxuICAgICAgICAgIC8vIGNvbnRpbnVlIHVudGlsIGEgc3RvcCBjb25kaXRpb24gaXMgbWV0OlxuICAgICAgICAgICEoYXdhaXQgaXNTdG9wQ29uZGl0aW9uTWV0KHsgc3RvcENvbmRpdGlvbnMsIHN0ZXBzIH0pKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFkZCByZXNwb25zZSBpbmZvcm1hdGlvbiB0byB0aGUgc3BhbjpcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuZmluaXNoUmVhc29uJzogY3VycmVudE1vZGVsUmVzcG9uc2UuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudGV4dCc6IHtcbiAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IGV4dHJhY3RUZXh0Q29udGVudChjdXJyZW50TW9kZWxSZXNwb25zZS5jb250ZW50KSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRvb2xDYWxscyc6IHtcbiAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxscyA9IGFzVG9vbENhbGxzKGN1cnJlbnRNb2RlbFJlc3BvbnNlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2xDYWxscyA9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkodG9vbENhbGxzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgIGN1cnJlbnRNb2RlbFJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgLy8gVE9ETyByZW5hbWUgdGVsZW1ldHJ5IGF0dHJpYnV0ZXMgdG8gaW5wdXRUb2tlbnMgYW5kIG91dHB1dFRva2Vuc1xuICAgICAgICAgICAgICAnYWkudXNhZ2UucHJvbXB0VG9rZW5zJzogY3VycmVudE1vZGVsUmVzcG9uc2UudXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICdhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zJzpcbiAgICAgICAgICAgICAgICBjdXJyZW50TW9kZWxSZXNwb25zZS51c2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGxhc3RTdGVwID0gc3RlcHNbc3RlcHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0R2VuZXJhdGVUZXh0UmVzdWx0KHtcbiAgICAgICAgICBzdGVwcyxcbiAgICAgICAgICByZXNvbHZlZE91dHB1dDogYXdhaXQgb3V0cHV0Py5wYXJzZU91dHB1dChcbiAgICAgICAgICAgIHsgdGV4dDogbGFzdFN0ZXAudGV4dCB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByZXNwb25zZTogbGFzdFN0ZXAucmVzcG9uc2UsXG4gICAgICAgICAgICAgIHVzYWdlOiBsYXN0U3RlcC51c2FnZSxcbiAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBsYXN0U3RlcC5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICksXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyB3cmFwR2F0ZXdheUVycm9yKGVycm9yKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBleGVjdXRlVG9vbHM8VE9PTFMgZXh0ZW5kcyBUb29sU2V0Pih7XG4gIHRvb2xDYWxscyxcbiAgdG9vbHMsXG4gIHRyYWNlcixcbiAgdGVsZW1ldHJ5LFxuICBtZXNzYWdlcyxcbiAgYWJvcnRTaWduYWwsXG4gIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxufToge1xuICB0b29sQ2FsbHM6IEFycmF5PFR5cGVkVG9vbENhbGw8VE9PTFM+PjtcbiAgdG9vbHM6IFRPT0xTO1xuICB0cmFjZXI6IFRyYWNlcjtcbiAgdGVsZW1ldHJ5OiBUZWxlbWV0cnlTZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgbWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdO1xuICBhYm9ydFNpZ25hbDogQWJvcnRTaWduYWwgfCB1bmRlZmluZWQ7XG4gIGV4cGVyaW1lbnRhbF9jb250ZXh0OiB1bmtub3duO1xufSk6IFByb21pc2U8QXJyYXk8VG9vbE91dHB1dDxUT09MUz4+PiB7XG4gIGNvbnN0IHRvb2xPdXRwdXRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgdG9vbENhbGxzLm1hcChhc3luYyAoeyB0b29sQ2FsbElkLCB0b29sTmFtZSwgaW5wdXQgfSkgPT4ge1xuICAgICAgY29uc3QgdG9vbCA9IHRvb2xzW3Rvb2xOYW1lXTtcblxuICAgICAgaWYgKHRvb2w/LmV4ZWN1dGUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgICAgIG5hbWU6ICdhaS50b29sQ2FsbCcsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLnRvb2xDYWxsJyxcbiAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAnYWkudG9vbENhbGwubmFtZSc6IHRvb2xOYW1lLFxuICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLmlkJzogdG9vbENhbGxJZCxcbiAgICAgICAgICAgICdhaS50b29sQ2FsbC5hcmdzJzoge1xuICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KGlucHV0KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIHRyYWNlcixcbiAgICAgICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBleGVjdXRlVG9vbCh7XG4gICAgICAgICAgICAgIGV4ZWN1dGU6IHRvb2wuZXhlY3V0ZSEuYmluZCh0b29sKSxcbiAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBvdXRwdXQ6IHVua25vd247XG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHBhcnQgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdmaW5hbCcpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBwYXJ0Lm91dHB1dDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAnYWkudG9vbENhbGwucmVzdWx0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob3V0cHV0KSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgIC8vIEpTT04gc3RyaW5naWZ5IG1pZ2h0IGZhaWwgaWYgdGhlIHJlc3VsdCBpcyBub3Qgc2VyaWFsaXphYmxlLFxuICAgICAgICAgICAgICAvLyBpbiB3aGljaCBjYXNlIHdlIGp1c3QgaWdub3JlIGl0LiBJbiB0aGUgZnV0dXJlIHdlIG1pZ2h0IHdhbnQgdG9cbiAgICAgICAgICAgICAgLy8gYWRkIGFuIG9wdGlvbmFsIHNlcmlhbGl6ZSBtZXRob2QgdG8gdGhlIHRvb2wgaW50ZXJmYWNlIGFuZCB3YXJuXG4gICAgICAgICAgICAgIC8vIGlmIHRoZSByZXN1bHQgaXMgbm90IHNlcmlhbGl6YWJsZS5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyxcbiAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgIGR5bmFtaWM6IHRvb2wudHlwZSA9PT0gJ2R5bmFtaWMnLFxuICAgICAgICAgICAgfSBhcyBUeXBlZFRvb2xSZXN1bHQ8VE9PTFM+O1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZWNvcmRFcnJvck9uU3BhbihzcGFuLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiAndG9vbC1lcnJvcicsXG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgIGR5bmFtaWM6IHRvb2wudHlwZSA9PT0gJ2R5bmFtaWMnLFxuICAgICAgICAgICAgfSBhcyBUeXBlZFRvb2xFcnJvcjxUT09MUz47XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSksXG4gICk7XG5cbiAgcmV0dXJuIHRvb2xPdXRwdXRzLmZpbHRlcihcbiAgICAob3V0cHV0KTogb3V0cHV0IGlzIE5vbk51bGxhYmxlPHR5cGVvZiBvdXRwdXQ+ID0+IG91dHB1dCAhPSBudWxsLFxuICApO1xufVxuXG5jbGFzcyBEZWZhdWx0R2VuZXJhdGVUZXh0UmVzdWx0PFRPT0xTIGV4dGVuZHMgVG9vbFNldCwgT1VUUFVUPlxuICBpbXBsZW1lbnRzIEdlbmVyYXRlVGV4dFJlc3VsdDxUT09MUywgT1VUUFVUPlxue1xuICByZWFkb25seSBzdGVwczogR2VuZXJhdGVUZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQ+WydzdGVwcyddO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcmVzb2x2ZWRPdXRwdXQ6IE9VVFBVVDtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgc3RlcHM6IEdlbmVyYXRlVGV4dFJlc3VsdDxUT09MUywgT1VUUFVUPlsnc3RlcHMnXTtcbiAgICByZXNvbHZlZE91dHB1dDogT1VUUFVUO1xuICB9KSB7XG4gICAgdGhpcy5zdGVwcyA9IG9wdGlvbnMuc3RlcHM7XG4gICAgdGhpcy5yZXNvbHZlZE91dHB1dCA9IG9wdGlvbnMucmVzb2x2ZWRPdXRwdXQ7XG4gIH1cblxuICBwcml2YXRlIGdldCBmaW5hbFN0ZXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcHNbdGhpcy5zdGVwcy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIGdldCBjb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5jb250ZW50O1xuICB9XG5cbiAgZ2V0IHRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRleHQ7XG4gIH1cblxuICBnZXQgZmlsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLmZpbGVzO1xuICB9XG5cbiAgZ2V0IHJlYXNvbmluZ1RleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnJlYXNvbmluZ1RleHQ7XG4gIH1cblxuICBnZXQgcmVhc29uaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5yZWFzb25pbmc7XG4gIH1cblxuICBnZXQgdG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50b29sQ2FsbHM7XG4gIH1cblxuICBnZXQgc3RhdGljVG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5zdGF0aWNUb29sQ2FsbHM7XG4gIH1cblxuICBnZXQgZHluYW1pY1Rvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAuZHluYW1pY1Rvb2xDYWxscztcbiAgfVxuXG4gIGdldCB0b29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudG9vbFJlc3VsdHM7XG4gIH1cblxuICBnZXQgc3RhdGljVG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnN0YXRpY1Rvb2xSZXN1bHRzO1xuICB9XG5cbiAgZ2V0IGR5bmFtaWNUb29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAuZHluYW1pY1Rvb2xSZXN1bHRzO1xuICB9XG5cbiAgZ2V0IHNvdXJjZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnNvdXJjZXM7XG4gIH1cblxuICBnZXQgZmluaXNoUmVhc29uKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5maW5pc2hSZWFzb247XG4gIH1cblxuICBnZXQgd2FybmluZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLndhcm5pbmdzO1xuICB9XG5cbiAgZ2V0IHByb3ZpZGVyTWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnByb3ZpZGVyTWV0YWRhdGE7XG4gIH1cblxuICBnZXQgcmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnJlc3BvbnNlO1xuICB9XG5cbiAgZ2V0IHJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnJlcXVlc3Q7XG4gIH1cblxuICBnZXQgdXNhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnVzYWdlO1xuICB9XG5cbiAgZ2V0IHRvdGFsVXNhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcHMucmVkdWNlKFxuICAgICAgKHRvdGFsVXNhZ2UsIHN0ZXApID0+IHtcbiAgICAgICAgcmV0dXJuIGFkZExhbmd1YWdlTW9kZWxVc2FnZSh0b3RhbFVzYWdlLCBzdGVwLnVzYWdlKTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlucHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgIG91dHB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICB0b3RhbFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICByZWFzb25pbmdUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgY2FjaGVkSW5wdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgIH0gYXMgTGFuZ3VhZ2VNb2RlbFVzYWdlLFxuICAgICk7XG4gIH1cblxuICBnZXQgZXhwZXJpbWVudGFsX291dHB1dCgpIHtcbiAgICBpZiAodGhpcy5yZXNvbHZlZE91dHB1dCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9PdXRwdXRTcGVjaWZpZWRFcnJvcigpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlc29sdmVkT3V0cHV0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzVG9vbENhbGxzKGNvbnRlbnQ6IEFycmF5PExhbmd1YWdlTW9kZWxWMkNvbnRlbnQ+KSB7XG4gIGNvbnN0IHBhcnRzID0gY29udGVudC5maWx0ZXIoXG4gICAgKHBhcnQpOiBwYXJ0IGlzIExhbmd1YWdlTW9kZWxWMlRvb2xDYWxsID0+IHBhcnQudHlwZSA9PT0gJ3Rvb2wtY2FsbCcsXG4gICk7XG5cbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gcGFydHMubWFwKHRvb2xDYWxsID0+ICh7XG4gICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgaW5wdXQ6IHRvb2xDYWxsLmlucHV0LFxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGFzQ29udGVudDxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgY29udGVudCxcbiAgdG9vbENhbGxzLFxuICB0b29sT3V0cHV0cyxcbn06IHtcbiAgY29udGVudDogQXJyYXk8TGFuZ3VhZ2VNb2RlbFYyQ29udGVudD47XG4gIHRvb2xDYWxsczogQXJyYXk8VHlwZWRUb29sQ2FsbDxUT09MUz4+O1xuICB0b29sT3V0cHV0czogQXJyYXk8VG9vbE91dHB1dDxUT09MUz4+O1xufSk6IEFycmF5PENvbnRlbnRQYXJ0PFRPT0xTPj4ge1xuICByZXR1cm4gW1xuICAgIC4uLmNvbnRlbnQubWFwKHBhcnQgPT4ge1xuICAgICAgc3dpdGNoIChwYXJ0LnR5cGUpIHtcbiAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIGNhc2UgJ3JlYXNvbmluZyc6XG4gICAgICAgIGNhc2UgJ3NvdXJjZSc6XG4gICAgICAgICAgcmV0dXJuIHBhcnQ7XG5cbiAgICAgICAgY2FzZSAnZmlsZSc6IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2ZpbGUnIGFzIGNvbnN0LFxuICAgICAgICAgICAgZmlsZTogbmV3IERlZmF1bHRHZW5lcmF0ZWRGaWxlKHBhcnQpLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICd0b29sLWNhbGwnOiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2xDYWxscy5maW5kKFxuICAgICAgICAgICAgdG9vbENhbGwgPT4gdG9vbENhbGwudG9vbENhbGxJZCA9PT0gcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICkhO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAndG9vbC1yZXN1bHQnOiB7XG4gICAgICAgICAgY29uc3QgdG9vbENhbGwgPSB0b29sQ2FsbHMuZmluZChcbiAgICAgICAgICAgIHRvb2xDYWxsID0+IHRvb2xDYWxsLnRvb2xDYWxsSWQgPT09IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICApITtcblxuICAgICAgICAgIGlmICh0b29sQ2FsbCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRvb2wgY2FsbCAke3BhcnQudG9vbENhbGxJZH0gbm90IGZvdW5kLmApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwYXJ0LmlzRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHR5cGU6ICd0b29sLWVycm9yJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSBhcyBrZXlvZiBUT09MUyAmIHN0cmluZyxcbiAgICAgICAgICAgICAgaW5wdXQ6IHRvb2xDYWxsLmlucHV0LFxuICAgICAgICAgICAgICBlcnJvcjogcGFydC5yZXN1bHQsXG4gICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgIGR5bmFtaWM6IHRvb2xDYWxsLmR5bmFtaWMsXG4gICAgICAgICAgICB9IGFzIFR5cGVkVG9vbEVycm9yPFRPT0xTPjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyBhcyBjb25zdCxcbiAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lIGFzIGtleW9mIFRPT0xTICYgc3RyaW5nLFxuICAgICAgICAgICAgaW5wdXQ6IHRvb2xDYWxsLmlucHV0LFxuICAgICAgICAgICAgb3V0cHV0OiBwYXJ0LnJlc3VsdCxcbiAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHRydWUsXG4gICAgICAgICAgICBkeW5hbWljOiB0b29sQ2FsbC5keW5hbWljLFxuICAgICAgICAgIH0gYXMgVHlwZWRUb29sUmVzdWx0PFRPT0xTPjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIC4uLnRvb2xPdXRwdXRzLFxuICBdO1xufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob091dHB1dFNwZWNpZmllZEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuVGhyb3duIHdoZW4gbm8gb3V0cHV0IHR5cGUgaXMgc3BlY2lmaWVkIGFuZCBvdXRwdXQtcmVsYXRlZCBtZXRob2RzIGFyZSBjYWxsZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb091dHB1dFNwZWNpZmllZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgPSAnTm8gb3V0cHV0IHNwZWNpZmllZC4nIH06IHsgbWVzc2FnZT86IHN0cmluZyB9ID0ge30pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE5vT3V0cHV0U3BlY2lmaWVkRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7XG4gIEltYWdlTW9kZWxWMkNhbGxXYXJuaW5nLFxuICBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZyxcbiAgU3BlZWNoTW9kZWxWMkNhbGxXYXJuaW5nLFxuICBUcmFuc2NyaXB0aW9uTW9kZWxWMkNhbGxXYXJuaW5nLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuZXhwb3J0IHR5cGUgV2FybmluZyA9XG4gIHwgTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmdcbiAgfCBJbWFnZU1vZGVsVjJDYWxsV2FybmluZ1xuICB8IFNwZWVjaE1vZGVsVjJDYWxsV2FybmluZ1xuICB8IFRyYW5zY3JpcHRpb25Nb2RlbFYyQ2FsbFdhcm5pbmc7XG5cbmV4cG9ydCB0eXBlIExvZ1dhcm5pbmdzRnVuY3Rpb24gPSAod2FybmluZ3M6IFdhcm5pbmdbXSkgPT4gdm9pZDtcblxuLyoqXG4gKiBGb3JtYXRzIGEgd2FybmluZyBvYmplY3QgaW50byBhIGh1bWFuLXJlYWRhYmxlIHN0cmluZyB3aXRoIGNsZWFyIEFJIFNESyBicmFuZGluZ1xuICovXG5mdW5jdGlvbiBmb3JtYXRXYXJuaW5nKHdhcm5pbmc6IFdhcm5pbmcpOiBzdHJpbmcge1xuICBjb25zdCBwcmVmaXggPSAnQUkgU0RLIFdhcm5pbmc6JztcblxuICBzd2l0Y2ggKHdhcm5pbmcudHlwZSkge1xuICAgIGNhc2UgJ3Vuc3VwcG9ydGVkLXNldHRpbmcnOiB7XG4gICAgICBsZXQgbWVzc2FnZSA9IGAke3ByZWZpeH0gVGhlIFwiJHt3YXJuaW5nLnNldHRpbmd9XCIgc2V0dGluZyBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgbW9kZWxgO1xuICAgICAgaWYgKHdhcm5pbmcuZGV0YWlscykge1xuICAgICAgICBtZXNzYWdlICs9IGAgLSAke3dhcm5pbmcuZGV0YWlsc31gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgY2FzZSAndW5zdXBwb3J0ZWQtdG9vbCc6IHtcbiAgICAgIGNvbnN0IHRvb2xOYW1lID1cbiAgICAgICAgJ25hbWUnIGluIHdhcm5pbmcudG9vbCA/IHdhcm5pbmcudG9vbC5uYW1lIDogJ3Vua25vd24gdG9vbCc7XG4gICAgICBsZXQgbWVzc2FnZSA9IGAke3ByZWZpeH0gVGhlIHRvb2wgXCIke3Rvb2xOYW1lfVwiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBtb2RlbGA7XG4gICAgICBpZiAod2FybmluZy5kZXRhaWxzKSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gYCAtICR7d2FybmluZy5kZXRhaWxzfWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBjYXNlICdvdGhlcic6IHtcbiAgICAgIHJldHVybiBgJHtwcmVmaXh9ICR7d2FybmluZy5tZXNzYWdlfWA7XG4gICAgfVxuXG4gICAgZGVmYXVsdDoge1xuICAgICAgLy8gRmFsbGJhY2sgZm9yIGFueSB1bmtub3duIHdhcm5pbmcgdHlwZXNcbiAgICAgIHJldHVybiBgJHtwcmVmaXh9ICR7SlNPTi5zdHJpbmdpZnkod2FybmluZywgbnVsbCwgMil9YDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IEZJUlNUX1dBUk5JTkdfSU5GT19NRVNTQUdFID1cbiAgJ0FJIFNESyBXYXJuaW5nIFN5c3RlbTogVG8gdHVybiBvZmYgd2FybmluZyBsb2dnaW5nLCBzZXQgdGhlIEFJX1NES19MT0dfV0FSTklOR1MgZ2xvYmFsIHRvIGZhbHNlLic7XG5cbmxldCBoYXNMb2dnZWRCZWZvcmUgPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IGxvZ1dhcm5pbmdzOiBMb2dXYXJuaW5nc0Z1bmN0aW9uID0gd2FybmluZ3MgPT4ge1xuICAvLyBpZiB0aGUgd2FybmluZ3MgYXJyYXkgaXMgZW1wdHksIGRvIG5vdGhpbmdcbiAgaWYgKHdhcm5pbmdzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGxvZ2dlciA9IGdsb2JhbFRoaXMuQUlfU0RLX0xPR19XQVJOSU5HUztcblxuICAvLyBpZiB0aGUgbG9nZ2VyIGlzIHNldCB0byBmYWxzZSwgZG8gbm90aGluZ1xuICBpZiAobG9nZ2VyID09PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHVzZSB0aGUgcHJvdmlkZWQgbG9nZ2VyIGlmIGl0IGlzIGEgZnVuY3Rpb25cbiAgaWYgKHR5cGVvZiBsb2dnZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBsb2dnZXIod2FybmluZ3MpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGRpc3BsYXkgaW5mb3JtYXRpb24gbm90ZSBvbiBmaXJzdCBjYWxsXG4gIGlmICghaGFzTG9nZ2VkQmVmb3JlKSB7XG4gICAgaGFzTG9nZ2VkQmVmb3JlID0gdHJ1ZTtcbiAgICBjb25zb2xlLmluZm8oRklSU1RfV0FSTklOR19JTkZPX01FU1NBR0UpO1xuICB9XG5cbiAgLy8gZGVmYXVsdCBiZWhhdmlvcjogbG9nIHdhcm5pbmdzIHRvIHRoZSBjb25zb2xlXG4gIGZvciAoY29uc3Qgd2FybmluZyBvZiB3YXJuaW5ncykge1xuICAgIGNvbnNvbGUud2Fybihmb3JtYXRXYXJuaW5nKHdhcm5pbmcpKTtcbiAgfVxufTtcblxuLy8gUmVzZXQgZnVuY3Rpb24gZm9yIHRlc3RpbmcgcHVycG9zZXNcbmV4cG9ydCBjb25zdCByZXNldExvZ1dhcm5pbmdzU3RhdGUgPSAoKSA9PiB7XG4gIGhhc0xvZ2dlZEJlZm9yZSA9IGZhbHNlO1xufTtcbiIsICJpbXBvcnQgeyBnYXRld2F5IH0gZnJvbSAnQGFpLXNkay9nYXRld2F5JztcbmltcG9ydCB7XG4gIEVtYmVkZGluZ01vZGVsVjIsXG4gIExhbmd1YWdlTW9kZWxWMixcbiAgUHJvdmlkZXJWMixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3InO1xuaW1wb3J0IHsgRW1iZWRkaW5nTW9kZWwgfSBmcm9tICcuLi90eXBlcy9lbWJlZGRpbmctbW9kZWwnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbCB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVMYW5ndWFnZU1vZGVsKG1vZGVsOiBMYW5ndWFnZU1vZGVsKTogTGFuZ3VhZ2VNb2RlbFYyIHtcbiAgaWYgKHR5cGVvZiBtb2RlbCAhPT0gJ3N0cmluZycpIHtcbiAgICBpZiAobW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24gIT09ICd2MicpIHtcbiAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yKHtcbiAgICAgICAgdmVyc2lvbjogbW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24sXG4gICAgICAgIHByb3ZpZGVyOiBtb2RlbC5wcm92aWRlcixcbiAgICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIHJldHVybiBnZXRHbG9iYWxQcm92aWRlcigpLmxhbmd1YWdlTW9kZWwobW9kZWwpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUVtYmVkZGluZ01vZGVsPFZBTFVFID0gc3RyaW5nPihcbiAgbW9kZWw6IEVtYmVkZGluZ01vZGVsPFZBTFVFPixcbik6IEVtYmVkZGluZ01vZGVsVjI8VkFMVUU+IHtcbiAgaWYgKHR5cGVvZiBtb2RlbCAhPT0gJ3N0cmluZycpIHtcbiAgICBpZiAobW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24gIT09ICd2MicpIHtcbiAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yKHtcbiAgICAgICAgdmVyc2lvbjogbW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24sXG4gICAgICAgIHByb3ZpZGVyOiBtb2RlbC5wcm92aWRlcixcbiAgICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIC8vIFRPRE8gQUkgU0RLIDY6IGZpZ3VyZSBvdXQgaG93IHRvIGNsZWFubHkgc3VwcG9ydCBkaWZmZXJlbnQgZ2VuZXJpYyB0eXBlc1xuICByZXR1cm4gZ2V0R2xvYmFsUHJvdmlkZXIoKS50ZXh0RW1iZWRkaW5nTW9kZWwoXG4gICAgbW9kZWwsXG4gICkgYXMgRW1iZWRkaW5nTW9kZWxWMjxWQUxVRT47XG59XG5cbmZ1bmN0aW9uIGdldEdsb2JhbFByb3ZpZGVyKCk6IFByb3ZpZGVyVjIge1xuICByZXR1cm4gZ2xvYmFsVGhpcy5BSV9TREtfREVGQVVMVF9QUk9WSURFUiA/PyBnYXRld2F5O1xufVxuIiwgImV4cG9ydCB7XG4gIEFJU0RLRXJyb3IsXG4gIEFQSUNhbGxFcnJvcixcbiAgRW1wdHlSZXNwb25zZUJvZHlFcnJvcixcbiAgSW52YWxpZFByb21wdEVycm9yLFxuICBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IsXG4gIEpTT05QYXJzZUVycm9yLFxuICBMb2FkQVBJS2V5RXJyb3IsXG4gIE5vQ29udGVudEdlbmVyYXRlZEVycm9yLFxuICBOb1N1Y2hNb2RlbEVycm9yLFxuICBUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yLFxuICBUeXBlVmFsaWRhdGlvbkVycm9yLFxuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmV4cG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnLi9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcbmV4cG9ydCB7IEludmFsaWRTdHJlYW1QYXJ0RXJyb3IgfSBmcm9tICcuL2ludmFsaWQtc3RyZWFtLXBhcnQtZXJyb3InO1xuZXhwb3J0IHsgSW52YWxpZFRvb2xJbnB1dEVycm9yIH0gZnJvbSAnLi9pbnZhbGlkLXRvb2wtaW5wdXQtZXJyb3InO1xuZXhwb3J0IHsgTUNQQ2xpZW50RXJyb3IgfSBmcm9tICcuL21jcC1jbGllbnQtZXJyb3InO1xuZXhwb3J0IHsgTm9JbWFnZUdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi9uby1pbWFnZS1nZW5lcmF0ZWQtZXJyb3InO1xuZXhwb3J0IHsgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4vbm8tb2JqZWN0LWdlbmVyYXRlZC1lcnJvcic7XG5leHBvcnQgeyBOb091dHB1dEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi9uby1vdXRwdXQtZ2VuZXJhdGVkLWVycm9yJztcbmV4cG9ydCB7IE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IgfSBmcm9tICcuL25vLW91dHB1dC1zcGVjaWZpZWQtZXJyb3InO1xuZXhwb3J0IHsgTm9TdWNoVG9vbEVycm9yIH0gZnJvbSAnLi9uby1zdWNoLXRvb2wtZXJyb3InO1xuZXhwb3J0IHsgVG9vbENhbGxSZXBhaXJFcnJvciB9IGZyb20gJy4vdG9vbC1jYWxsLXJlcGFpci1lcnJvcic7XG5leHBvcnQgeyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yIH0gZnJvbSAnLi91bnN1cHBvcnRlZC1tb2RlbC12ZXJzaW9uLWVycm9yJztcblxuZXhwb3J0IHsgSW52YWxpZERhdGFDb250ZW50RXJyb3IgfSBmcm9tICcuLi9wcm9tcHQvaW52YWxpZC1kYXRhLWNvbnRlbnQtZXJyb3InO1xuZXhwb3J0IHsgSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3IgfSBmcm9tICcuLi9wcm9tcHQvaW52YWxpZC1tZXNzYWdlLXJvbGUtZXJyb3InO1xuZXhwb3J0IHsgTWVzc2FnZUNvbnZlcnNpb25FcnJvciB9IGZyb20gJy4uL3Byb21wdC9tZXNzYWdlLWNvbnZlcnNpb24tZXJyb3InO1xuZXhwb3J0IHsgRG93bmxvYWRFcnJvciB9IGZyb20gJy4uL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZXJyb3InO1xuZXhwb3J0IHsgUmV0cnlFcnJvciB9IGZyb20gJy4uL3V0aWwvcmV0cnktZXJyb3InO1xuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9JbnZhbGlkQXJndW1lbnRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHBhcmFtZXRlcjogc3RyaW5nO1xuICByZWFkb25seSB2YWx1ZTogdW5rbm93bjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgcGFyYW1ldGVyLFxuICAgIHZhbHVlLFxuICAgIG1lc3NhZ2UsXG4gIH06IHtcbiAgICBwYXJhbWV0ZXI6IHN0cmluZztcbiAgICB2YWx1ZTogdW5rbm93bjtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lLFxuICAgICAgbWVzc2FnZTogYEludmFsaWQgYXJndW1lbnQgZm9yIHBhcmFtZXRlciAke3BhcmFtZXRlcn06ICR7bWVzc2FnZX1gLFxuICAgIH0pO1xuXG4gICAgdGhpcy5wYXJhbWV0ZXIgPSBwYXJhbWV0ZXI7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBJbnZhbGlkQXJndW1lbnRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9ydW4tdG9vbHMtdHJhbnNmb3JtYXRpb24nO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWRTdHJlYW1QYXJ0RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIEludmFsaWRTdHJlYW1QYXJ0RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IGNodW5rOiBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8YW55PjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgY2h1bmssXG4gICAgbWVzc2FnZSxcbiAgfToge1xuICAgIGNodW5rOiBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8YW55PjtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG5cbiAgICB0aGlzLmNodW5rID0gY2h1bms7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEludmFsaWRTdHJlYW1QYXJ0RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IsIGdldEVycm9yTWVzc2FnZSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWRUb29sSW5wdXRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgSW52YWxpZFRvb2xJbnB1dEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSB0b29sTmFtZTogc3RyaW5nO1xuICByZWFkb25seSB0b29sSW5wdXQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgdG9vbElucHV0LFxuICAgIHRvb2xOYW1lLFxuICAgIGNhdXNlLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dCBmb3IgdG9vbCAke3Rvb2xOYW1lfTogJHtnZXRFcnJvck1lc3NhZ2UoY2F1c2UpfWAsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHRvb2xJbnB1dDogc3RyaW5nO1xuICAgIHRvb2xOYW1lOiBzdHJpbmc7XG4gICAgY2F1c2U6IHVua25vd247XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy50b29sSW5wdXQgPSB0b29sSW5wdXQ7XG4gICAgdGhpcy50b29sTmFtZSA9IHRvb2xOYW1lO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBJbnZhbGlkVG9vbElucHV0RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9NQ1BDbGllbnRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIEFuIGVycm9yIG9jY3VycmVkIHdpdGggdGhlIE1DUCBjbGllbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBNQ1BDbGllbnRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbmFtZSA9ICdNQ1BDbGllbnRFcnJvcicsXG4gICAgbWVzc2FnZSxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE1DUENsaWVudEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBJbWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL2ltYWdlLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob0ltYWdlR2VuZXJhdGVkRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG5UaHJvd24gd2hlbiBubyBpbWFnZSBjb3VsZCBiZSBnZW5lcmF0ZWQuIFRoaXMgY2FuIGhhdmUgbXVsdGlwbGUgY2F1c2VzOlxuXG4tIFRoZSBtb2RlbCBmYWlsZWQgdG8gZ2VuZXJhdGUgYSByZXNwb25zZS5cbi0gVGhlIG1vZGVsIGdlbmVyYXRlZCBhIHJlc3BvbnNlIHRoYXQgY291bGQgbm90IGJlIHBhcnNlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vSW1hZ2VHZW5lcmF0ZWRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgLyoqXG5UaGUgcmVzcG9uc2UgbWV0YWRhdGEgZm9yIGVhY2ggY2FsbC5cbiAgICovXG4gIHJlYWRvbmx5IHJlc3BvbnNlczogQXJyYXk8SW1hZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE+IHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ05vIGltYWdlIGdlbmVyYXRlZC4nLFxuICAgIGNhdXNlLFxuICAgIHJlc3BvbnNlcyxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgY2F1c2U/OiBFcnJvcjtcbiAgICByZXNwb25zZXM/OiBBcnJheTxJbWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy5yZXNwb25zZXMgPSByZXNwb25zZXM7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE5vSW1hZ2VHZW5lcmF0ZWRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgRmluaXNoUmVhc29uIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsVXNhZ2UgfSBmcm9tICcuLi90eXBlcy91c2FnZSc7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTm9PYmplY3RHZW5lcmF0ZWRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcblRocm93biB3aGVuIG5vIG9iamVjdCBjb3VsZCBiZSBnZW5lcmF0ZWQuIFRoaXMgY2FuIGhhdmUgc2V2ZXJhbCBjYXVzZXM6XG5cbi0gVGhlIG1vZGVsIGZhaWxlZCB0byBnZW5lcmF0ZSBhIHJlc3BvbnNlLlxuLSBUaGUgbW9kZWwgZ2VuZXJhdGVkIGEgcmVzcG9uc2UgdGhhdCBjb3VsZCBub3QgYmUgcGFyc2VkLlxuLSBUaGUgbW9kZWwgZ2VuZXJhdGVkIGEgcmVzcG9uc2UgdGhhdCBjb3VsZCBub3QgYmUgdmFsaWRhdGVkIGFnYWluc3QgdGhlIHNjaGVtYS5cblxuVGhlIGVycm9yIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcblxuLSBgdGV4dGA6IFRoZSB0ZXh0IHRoYXQgd2FzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwuIFRoaXMgY2FuIGJlIHRoZSByYXcgdGV4dCBvciB0aGUgdG9vbCBjYWxsIHRleHQsIGRlcGVuZGluZyBvbiB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb09iamVjdEdlbmVyYXRlZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICAvKipcbiAgVGhlIHRleHQgdGhhdCB3YXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC4gVGhpcyBjYW4gYmUgdGhlIHJhdyB0ZXh0IG9yIHRoZSB0b29sIGNhbGwgdGV4dCwgZGVwZW5kaW5nIG9uIHRoZSBtb2RlbC5cbiAgICovXG4gIHJlYWRvbmx5IHRleHQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgVGhlIHJlc3BvbnNlIG1ldGFkYXRhLlxuICAgKi9cbiAgcmVhZG9ubHkgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICBUaGUgdXNhZ2Ugb2YgdGhlIG1vZGVsLlxuICAgKi9cbiAgcmVhZG9ubHkgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZSB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgUmVhc29uIHdoeSB0aGUgbW9kZWwgZmluaXNoZWQgZ2VuZXJhdGluZyBhIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVhZG9ubHkgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb24gfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnTm8gb2JqZWN0IGdlbmVyYXRlZC4nLFxuICAgIGNhdXNlLFxuICAgIHRleHQsXG4gICAgcmVzcG9uc2UsXG4gICAgdXNhZ2UsXG4gICAgZmluaXNoUmVhc29uLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBjYXVzZT86IEVycm9yO1xuICAgIHRleHQ/OiBzdHJpbmc7XG4gICAgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb247XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy51c2FnZSA9IHVzYWdlO1xuICAgIHRoaXMuZmluaXNoUmVhc29uID0gZmluaXNoUmVhc29uO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBOb09iamVjdEdlbmVyYXRlZEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTm9PdXRwdXRHZW5lcmF0ZWRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcblRocm93biB3aGVuIG5vIExMTSBvdXRwdXQgd2FzIGdlbmVyYXRlZCwgZS5nLiBiZWNhdXNlIG9mIGVycm9ycy5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vT3V0cHV0R2VuZXJhdGVkRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ05vIG91dHB1dCBnZW5lcmF0ZWQuJyxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgY2F1c2U/OiBFcnJvcjtcbiAgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlLCBjYXVzZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTm9PdXRwdXRHZW5lcmF0ZWRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX05vU3VjaFRvb2xFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgTm9TdWNoVG9vbEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSB0b29sTmFtZTogc3RyaW5nO1xuICByZWFkb25seSBhdmFpbGFibGVUb29sczogc3RyaW5nW10gfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHRvb2xOYW1lLFxuICAgIGF2YWlsYWJsZVRvb2xzID0gdW5kZWZpbmVkLFxuICAgIG1lc3NhZ2UgPSBgTW9kZWwgdHJpZWQgdG8gY2FsbCB1bmF2YWlsYWJsZSB0b29sICcke3Rvb2xOYW1lfScuICR7XG4gICAgICBhdmFpbGFibGVUb29scyA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gJ05vIHRvb2xzIGFyZSBhdmFpbGFibGUuJ1xuICAgICAgICA6IGBBdmFpbGFibGUgdG9vbHM6ICR7YXZhaWxhYmxlVG9vbHMuam9pbignLCAnKX0uYFxuICAgIH1gLFxuICB9OiB7XG4gICAgdG9vbE5hbWU6IHN0cmluZztcbiAgICBhdmFpbGFibGVUb29scz86IHN0cmluZ1tdIHwgdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG5cbiAgICB0aGlzLnRvb2xOYW1lID0gdG9vbE5hbWU7XG4gICAgdGhpcy5hdmFpbGFibGVUb29scyA9IGF2YWlsYWJsZVRvb2xzO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBOb1N1Y2hUb29sRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IsIGdldEVycm9yTWVzc2FnZSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgSW52YWxpZFRvb2xJbnB1dEVycm9yIH0gZnJvbSAnLi9pbnZhbGlkLXRvb2wtaW5wdXQtZXJyb3InO1xuaW1wb3J0IHsgTm9TdWNoVG9vbEVycm9yIH0gZnJvbSAnLi9uby1zdWNoLXRvb2wtZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX1Rvb2xDYWxsUmVwYWlyRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIFRvb2xDYWxsUmVwYWlyRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IG9yaWdpbmFsRXJyb3I6IE5vU3VjaFRvb2xFcnJvciB8IEludmFsaWRUb29sSW5wdXRFcnJvcjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgY2F1c2UsXG4gICAgb3JpZ2luYWxFcnJvcixcbiAgICBtZXNzYWdlID0gYEVycm9yIHJlcGFpcmluZyB0b29sIGNhbGw6ICR7Z2V0RXJyb3JNZXNzYWdlKGNhdXNlKX1gLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBjYXVzZTogdW5rbm93bjtcbiAgICBvcmlnaW5hbEVycm9yOiBOb1N1Y2hUb29sRXJyb3IgfCBJbnZhbGlkVG9vbElucHV0RXJyb3I7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICAgIHRoaXMub3JpZ2luYWxFcnJvciA9IG9yaWdpbmFsRXJyb3I7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFRvb2xDYWxsUmVwYWlyRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuLyoqXG5FcnJvciB0aGF0IGlzIHRocm93biB3aGVuIGEgbW9kZWwgd2l0aCBhbiB1bnN1cHBvcnRlZCB2ZXJzaW9uIGlzIHVzZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHJlYWRvbmx5IHZlcnNpb246IHN0cmluZztcbiAgcmVhZG9ubHkgcHJvdmlkZXI6IHN0cmluZztcbiAgcmVhZG9ubHkgbW9kZWxJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHsgdmVyc2lvbjogc3RyaW5nOyBwcm92aWRlcjogc3RyaW5nOyBtb2RlbElkOiBzdHJpbmcgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6ICdBSV9VbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yJyxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIGBVbnN1cHBvcnRlZCBtb2RlbCB2ZXJzaW9uICR7b3B0aW9ucy52ZXJzaW9ufSBmb3IgcHJvdmlkZXIgXCIke29wdGlvbnMucHJvdmlkZXJ9XCIgYW5kIG1vZGVsIFwiJHtvcHRpb25zLm1vZGVsSWR9XCIuIGAgK1xuICAgICAgICBgQUkgU0RLIDUgb25seSBzdXBwb3J0cyBtb2RlbHMgdGhhdCBpbXBsZW1lbnQgc3BlY2lmaWNhdGlvbiB2ZXJzaW9uIFwidjJcIi5gLFxuICAgIH0pO1xuXG4gICAgdGhpcy52ZXJzaW9uID0gb3B0aW9ucy52ZXJzaW9uO1xuICAgIHRoaXMucHJvdmlkZXIgPSBvcHRpb25zLnByb3ZpZGVyO1xuICAgIHRoaXMubW9kZWxJZCA9IG9wdGlvbnMubW9kZWxJZDtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9JbnZhbGlkRGF0YUNvbnRlbnRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgSW52YWxpZERhdGFDb250ZW50RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IGNvbnRlbnQ6IHVua25vd247XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGNvbnRlbnQsXG4gICAgY2F1c2UsXG4gICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRhdGEgY29udGVudC4gRXhwZWN0ZWQgYSBiYXNlNjQgc3RyaW5nLCBVaW50OEFycmF5LCBBcnJheUJ1ZmZlciwgb3IgQnVmZmVyLCBidXQgZ290ICR7dHlwZW9mIGNvbnRlbnR9LmAsXG4gIH06IHtcbiAgICBjb250ZW50OiB1bmtub3duO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlLCBjYXVzZSB9KTtcblxuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEludmFsaWREYXRhQ29udGVudEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIEludmFsaWRNZXNzYWdlUm9sZUVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSByb2xlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHJvbGUsXG4gICAgbWVzc2FnZSA9IGBJbnZhbGlkIG1lc3NhZ2Ugcm9sZTogJyR7cm9sZX0nLiBNdXN0IGJlIG9uZSBvZjogXCJzeXN0ZW1cIiwgXCJ1c2VyXCIsIFwiYXNzaXN0YW50XCIsIFwidG9vbFwiLmAsXG4gIH06IHtcbiAgICByb2xlOiBzdHJpbmc7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcblxuICAgIHRoaXMucm9sZSA9IHJvbGU7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEludmFsaWRNZXNzYWdlUm9sZUVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuLi91aS91aS1tZXNzYWdlcyc7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTWVzc2FnZUNvbnZlcnNpb25FcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgTWVzc2FnZUNvbnZlcnNpb25FcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgb3JpZ2luYWxNZXNzYWdlOiBPbWl0PFVJTWVzc2FnZSwgJ2lkJz47XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG9yaWdpbmFsTWVzc2FnZSxcbiAgICBtZXNzYWdlLFxuICB9OiB7XG4gICAgb3JpZ2luYWxNZXNzYWdlOiBPbWl0PFVJTWVzc2FnZSwgJ2lkJz47XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuXG4gICAgdGhpcy5vcmlnaW5hbE1lc3NhZ2UgPSBvcmlnaW5hbE1lc3NhZ2U7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE1lc3NhZ2VDb252ZXJzaW9uRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9Eb3dubG9hZEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBEb3dubG9hZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSB1cmw6IHN0cmluZztcbiAgcmVhZG9ubHkgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgcmVhZG9ubHkgc3RhdHVzVGV4dD86IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgdXJsLFxuICAgIHN0YXR1c0NvZGUsXG4gICAgc3RhdHVzVGV4dCxcbiAgICBjYXVzZSxcbiAgICBtZXNzYWdlID0gY2F1c2UgPT0gbnVsbFxuICAgICAgPyBgRmFpbGVkIHRvIGRvd25sb2FkICR7dXJsfTogJHtzdGF0dXNDb2RlfSAke3N0YXR1c1RleHR9YFxuICAgICAgOiBgRmFpbGVkIHRvIGRvd25sb2FkICR7dXJsfTogJHtjYXVzZX1gLFxuICB9OiB7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICBzdGF0dXNUZXh0Pzogc3RyaW5nO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlLCBjYXVzZSB9KTtcblxuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gc3RhdHVzVGV4dDtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgRG93bmxvYWRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX1JldHJ5RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IHR5cGUgUmV0cnlFcnJvclJlYXNvbiA9XG4gIHwgJ21heFJldHJpZXNFeGNlZWRlZCdcbiAgfCAnZXJyb3JOb3RSZXRyeWFibGUnXG4gIHwgJ2Fib3J0JztcblxuZXhwb3J0IGNsYXNzIFJldHJ5RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIC8vIG5vdGU6IHByb3BlcnR5IG9yZGVyIGRldGVybWluZXMgZGVidWdnaW5nIG91dHB1dFxuICByZWFkb25seSByZWFzb246IFJldHJ5RXJyb3JSZWFzb247XG4gIHJlYWRvbmx5IGxhc3RFcnJvcjogdW5rbm93bjtcbiAgcmVhZG9ubHkgZXJyb3JzOiBBcnJheTx1bmtub3duPjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICByZWFzb24sXG4gICAgZXJyb3JzLFxuICB9OiB7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIHJlYXNvbjogUmV0cnlFcnJvclJlYXNvbjtcbiAgICBlcnJvcnM6IEFycmF5PHVua25vd24+O1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuXG4gICAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG5cbiAgICAvLyBzZXBhcmF0ZSBvdXIgbGFzdCBlcnJvciB0byBtYWtlIGRlYnVnZ2luZyB2aWEgbG9nIGVhc2llcjpcbiAgICB0aGlzLmxhc3RFcnJvciA9IGVycm9yc1tlcnJvcnMubGVuZ3RoIC0gMV07XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFJldHJ5RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7XG4gIExhbmd1YWdlTW9kZWxWMkZpbGVQYXJ0LFxuICBMYW5ndWFnZU1vZGVsVjJNZXNzYWdlLFxuICBMYW5ndWFnZU1vZGVsVjJQcm9tcHQsXG4gIExhbmd1YWdlTW9kZWxWMlRleHRQYXJ0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIERhdGFDb250ZW50LFxuICBGaWxlUGFydCxcbiAgSW1hZ2VQYXJ0LFxuICBpc1VybFN1cHBvcnRlZCxcbiAgTW9kZWxNZXNzYWdlLFxuICBUZXh0UGFydCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQge1xuICBkZXRlY3RNZWRpYVR5cGUsXG4gIGltYWdlTWVkaWFUeXBlU2lnbmF0dXJlcyxcbn0gZnJvbSAnLi4vdXRpbC9kZXRlY3QtbWVkaWEtdHlwZSc7XG5pbXBvcnQge1xuICBjcmVhdGVEZWZhdWx0RG93bmxvYWRGdW5jdGlvbixcbiAgRG93bmxvYWRGdW5jdGlvbixcbn0gZnJvbSAnLi4vdXRpbC9kb3dubG9hZC9kb3dubG9hZC1mdW5jdGlvbic7XG5pbXBvcnQgeyBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsVjJEYXRhQ29udGVudCB9IGZyb20gJy4vZGF0YS1jb250ZW50JztcbmltcG9ydCB7IEludmFsaWRNZXNzYWdlUm9sZUVycm9yIH0gZnJvbSAnLi9pbnZhbGlkLW1lc3NhZ2Utcm9sZS1lcnJvcic7XG5pbXBvcnQgeyBTdGFuZGFyZGl6ZWRQcm9tcHQgfSBmcm9tICcuL3N0YW5kYXJkaXplLXByb21wdCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgcHJvbXB0LFxuICBzdXBwb3J0ZWRVcmxzLFxuICBkb3dubG9hZCA9IGNyZWF0ZURlZmF1bHREb3dubG9hZEZ1bmN0aW9uKCksXG59OiB7XG4gIHByb21wdDogU3RhbmRhcmRpemVkUHJvbXB0O1xuICBzdXBwb3J0ZWRVcmxzOiBSZWNvcmQ8c3RyaW5nLCBSZWdFeHBbXT47XG4gIGRvd25sb2FkOiBEb3dubG9hZEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xufSk6IFByb21pc2U8TGFuZ3VhZ2VNb2RlbFYyUHJvbXB0PiB7XG4gIGNvbnN0IGRvd25sb2FkZWRBc3NldHMgPSBhd2FpdCBkb3dubG9hZEFzc2V0cyhcbiAgICBwcm9tcHQubWVzc2FnZXMsXG4gICAgZG93bmxvYWQsXG4gICAgc3VwcG9ydGVkVXJscyxcbiAgKTtcblxuICByZXR1cm4gW1xuICAgIC4uLihwcm9tcHQuc3lzdGVtICE9IG51bGxcbiAgICAgID8gW3sgcm9sZTogJ3N5c3RlbScgYXMgY29uc3QsIGNvbnRlbnQ6IHByb21wdC5zeXN0ZW0gfV1cbiAgICAgIDogW10pLFxuICAgIC4uLnByb21wdC5tZXNzYWdlcy5tYXAobWVzc2FnZSA9PlxuICAgICAgY29udmVydFRvTGFuZ3VhZ2VNb2RlbE1lc3NhZ2UoeyBtZXNzYWdlLCBkb3dubG9hZGVkQXNzZXRzIH0pLFxuICAgICksXG4gIF07XG59XG5cbi8qKlxuICogQ29udmVydCBhIE1vZGVsTWVzc2FnZSB0byBhIExhbmd1YWdlTW9kZWxWMk1lc3NhZ2UuXG4gKlxuICogQHBhcmFtIG1lc3NhZ2UgVGhlIE1vZGVsTWVzc2FnZSB0byBjb252ZXJ0LlxuICogQHBhcmFtIGRvd25sb2FkZWRBc3NldHMgQSBtYXAgb2YgVVJMcyB0byB0aGVpciBkb3dubG9hZGVkIGRhdGEuIE9ubHlcbiAqICAgYXZhaWxhYmxlIGlmIHRoZSBtb2RlbCBkb2VzIG5vdCBzdXBwb3J0IFVSTHMsIG51bGwgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvTGFuZ3VhZ2VNb2RlbE1lc3NhZ2Uoe1xuICBtZXNzYWdlLFxuICBkb3dubG9hZGVkQXNzZXRzLFxufToge1xuICBtZXNzYWdlOiBNb2RlbE1lc3NhZ2U7XG4gIGRvd25sb2FkZWRBc3NldHM6IFJlY29yZDxcbiAgICBzdHJpbmcsXG4gICAgeyBtZWRpYVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZDsgZGF0YTogVWludDhBcnJheSB9XG4gID47XG59KTogTGFuZ3VhZ2VNb2RlbFYyTWVzc2FnZSB7XG4gIGNvbnN0IHJvbGUgPSBtZXNzYWdlLnJvbGU7XG4gIHN3aXRjaCAocm9sZSkge1xuICAgIGNhc2UgJ3N5c3RlbSc6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgIHByb3ZpZGVyT3B0aW9uczogbWVzc2FnZS5wcm92aWRlck9wdGlvbnMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNhc2UgJ3VzZXInOiB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgY29udGVudDogW3sgdHlwZTogJ3RleHQnLCB0ZXh0OiBtZXNzYWdlLmNvbnRlbnQgfV0sXG4gICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnRcbiAgICAgICAgICAubWFwKHBhcnQgPT4gY29udmVydFBhcnRUb0xhbmd1YWdlTW9kZWxQYXJ0KHBhcnQsIGRvd25sb2FkZWRBc3NldHMpKVxuICAgICAgICAgIC8vIHJlbW92ZSBlbXB0eSB0ZXh0IHBhcnRzOlxuICAgICAgICAgIC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgIT09ICd0ZXh0JyB8fCBwYXJ0LnRleHQgIT09ICcnKSxcbiAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY2FzZSAnYXNzaXN0YW50Jzoge1xuICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogW3sgdHlwZTogJ3RleHQnLCB0ZXh0OiBtZXNzYWdlLmNvbnRlbnQgfV0sXG4gICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudFxuICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAvLyByZW1vdmUgZW1wdHkgdGV4dCBwYXJ0czpcbiAgICAgICAgICAgIHBhcnQgPT4gcGFydC50eXBlICE9PSAndGV4dCcgfHwgcGFydC50ZXh0ICE9PSAnJyxcbiAgICAgICAgICApXG4gICAgICAgICAgLm1hcChwYXJ0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyT3B0aW9ucyA9IHBhcnQucHJvdmlkZXJPcHRpb25zO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICdmaWxlJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgbWVkaWFUeXBlIH0gPSBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsVjJEYXRhQ29udGVudChcbiAgICAgICAgICAgICAgICAgIHBhcnQuZGF0YSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IHBhcnQuZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IG1lZGlhVHlwZSA/PyBwYXJ0Lm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZyc6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZycsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlICd0b29sLWNhbGwnOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLWNhbGwnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogcGFydC5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHBhcnQucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJ3Rvb2wtcmVzdWx0Jzoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IHBhcnQub3V0cHV0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSxcbiAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY2FzZSAndG9vbCc6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6ICd0b29sJyxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50Lm1hcChwYXJ0ID0+ICh7XG4gICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyBhcyBjb25zdCxcbiAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgb3V0cHV0OiBwYXJ0Lm91dHB1dCxcbiAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJPcHRpb25zLFxuICAgICAgICB9KSksXG4gICAgICAgIHByb3ZpZGVyT3B0aW9uczogbWVzc2FnZS5wcm92aWRlck9wdGlvbnMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gcm9sZTtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkTWVzc2FnZVJvbGVFcnJvcih7IHJvbGU6IF9leGhhdXN0aXZlQ2hlY2sgfSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRG93bmxvYWRzIGltYWdlcyBhbmQgZmlsZXMgZnJvbSBVUkxzIGluIHRoZSBtZXNzYWdlcy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRBc3NldHMoXG4gIG1lc3NhZ2VzOiBNb2RlbE1lc3NhZ2VbXSxcbiAgZG93bmxvYWQ6IERvd25sb2FkRnVuY3Rpb24sXG4gIHN1cHBvcnRlZFVybHM6IFJlY29yZDxzdHJpbmcsIFJlZ0V4cFtdPixcbik6IFByb21pc2U8XG4gIFJlY29yZDxzdHJpbmcsIHsgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7IGRhdGE6IFVpbnQ4QXJyYXkgfT5cbj4ge1xuICBjb25zdCBwbGFubmVkRG93bmxvYWRzID0gbWVzc2FnZXNcbiAgICAuZmlsdGVyKG1lc3NhZ2UgPT4gbWVzc2FnZS5yb2xlID09PSAndXNlcicpXG4gICAgLm1hcChtZXNzYWdlID0+IG1lc3NhZ2UuY29udGVudClcbiAgICAuZmlsdGVyKChjb250ZW50KTogY29udGVudCBpcyBBcnJheTxUZXh0UGFydCB8IEltYWdlUGFydCB8IEZpbGVQYXJ0PiA9PlxuICAgICAgQXJyYXkuaXNBcnJheShjb250ZW50KSxcbiAgICApXG4gICAgLmZsYXQoKVxuICAgIC5maWx0ZXIoXG4gICAgICAocGFydCk6IHBhcnQgaXMgSW1hZ2VQYXJ0IHwgRmlsZVBhcnQgPT5cbiAgICAgICAgcGFydC50eXBlID09PSAnaW1hZ2UnIHx8IHBhcnQudHlwZSA9PT0gJ2ZpbGUnLFxuICAgIClcbiAgICAubWFwKHBhcnQgPT4ge1xuICAgICAgY29uc3QgbWVkaWFUeXBlID1cbiAgICAgICAgcGFydC5tZWRpYVR5cGUgPz8gKHBhcnQudHlwZSA9PT0gJ2ltYWdlJyA/ICdpbWFnZS8qJyA6IHVuZGVmaW5lZCk7XG5cbiAgICAgIGxldCBkYXRhID0gcGFydC50eXBlID09PSAnaW1hZ2UnID8gcGFydC5pbWFnZSA6IHBhcnQuZGF0YTtcbiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkYXRhID0gbmV3IFVSTChkYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoaWdub3JlZCkge31cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgbWVkaWFUeXBlLCBkYXRhIH07XG4gICAgfSlcblxuICAgIC5maWx0ZXIoXG4gICAgICAocGFydCk6IHBhcnQgaXMgeyBtZWRpYVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZDsgZGF0YTogVVJMIH0gPT5cbiAgICAgICAgcGFydC5kYXRhIGluc3RhbmNlb2YgVVJMLFxuICAgIClcbiAgICAubWFwKHBhcnQgPT4gKHtcbiAgICAgIHVybDogcGFydC5kYXRhLFxuICAgICAgaXNVcmxTdXBwb3J0ZWRCeU1vZGVsOlxuICAgICAgICBwYXJ0Lm1lZGlhVHlwZSAhPSBudWxsICYmXG4gICAgICAgIGlzVXJsU3VwcG9ydGVkKHtcbiAgICAgICAgICB1cmw6IHBhcnQuZGF0YS50b1N0cmluZygpLFxuICAgICAgICAgIG1lZGlhVHlwZTogcGFydC5tZWRpYVR5cGUsXG4gICAgICAgICAgc3VwcG9ydGVkVXJscyxcbiAgICAgICAgfSksXG4gICAgfSkpO1xuXG4gIC8vIGRvd25sb2FkIGluIHBhcmFsbGVsOlxuICBjb25zdCBkb3dubG9hZGVkRmlsZXMgPSBhd2FpdCBkb3dubG9hZChwbGFubmVkRG93bmxvYWRzKTtcblxuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIGRvd25sb2FkZWRGaWxlc1xuICAgICAgLmZpbHRlcihcbiAgICAgICAgKFxuICAgICAgICAgIGRvd25sb2FkZWRGaWxlLFxuICAgICAgICApOiBkb3dubG9hZGVkRmlsZSBpcyB7XG4gICAgICAgICAgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgZGF0YTogVWludDhBcnJheTtcbiAgICAgICAgfSA9PiBkb3dubG9hZGVkRmlsZT8uZGF0YSAhPSBudWxsLFxuICAgICAgKVxuICAgICAgLm1hcCgoeyBkYXRhLCBtZWRpYVR5cGUgfSwgaW5kZXgpID0+IFtcbiAgICAgICAgcGxhbm5lZERvd25sb2Fkc1tpbmRleF0udXJsLnRvU3RyaW5nKCksXG4gICAgICAgIHsgZGF0YSwgbWVkaWFUeXBlIH0sXG4gICAgICBdKSxcbiAgKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHBhcnQgb2YgYSBtZXNzYWdlIHRvIGEgTGFuZ3VhZ2VNb2RlbFYyUGFydC5cbiAqIEBwYXJhbSBwYXJ0IFRoZSBwYXJ0IHRvIGNvbnZlcnQuXG4gKiBAcGFyYW0gZG93bmxvYWRlZEFzc2V0cyBBIG1hcCBvZiBVUkxzIHRvIHRoZWlyIGRvd25sb2FkZWQgZGF0YS4gT25seVxuICogIGF2YWlsYWJsZSBpZiB0aGUgbW9kZWwgZG9lcyBub3Qgc3VwcG9ydCBVUkxzLCBudWxsIG90aGVyd2lzZS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgY29udmVydGVkIHBhcnQuXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRQYXJ0VG9MYW5ndWFnZU1vZGVsUGFydChcbiAgcGFydDogVGV4dFBhcnQgfCBJbWFnZVBhcnQgfCBGaWxlUGFydCxcbiAgZG93bmxvYWRlZEFzc2V0czogUmVjb3JkPFxuICAgIHN0cmluZyxcbiAgICB7IG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkOyBkYXRhOiBVaW50OEFycmF5IH1cbiAgPixcbik6IExhbmd1YWdlTW9kZWxWMlRleHRQYXJ0IHwgTGFuZ3VhZ2VNb2RlbFYyRmlsZVBhcnQge1xuICBpZiAocGFydC50eXBlID09PSAndGV4dCcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgdGV4dDogcGFydC50ZXh0LFxuICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyT3B0aW9ucyxcbiAgICB9O1xuICB9XG5cbiAgbGV0IG9yaWdpbmFsRGF0YTogRGF0YUNvbnRlbnQgfCBVUkw7XG4gIGNvbnN0IHR5cGUgPSBwYXJ0LnR5cGU7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgIG9yaWdpbmFsRGF0YSA9IHBhcnQuaW1hZ2U7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdmaWxlJzpcbiAgICAgIG9yaWdpbmFsRGF0YSA9IHBhcnQuZGF0YTtcblxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcGFydCB0eXBlOiAke3R5cGV9YCk7XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IGNvbnZlcnRlZERhdGEsIG1lZGlhVHlwZTogY29udmVydGVkTWVkaWFUeXBlIH0gPVxuICAgIGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxWMkRhdGFDb250ZW50KG9yaWdpbmFsRGF0YSk7XG5cbiAgbGV0IG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gY29udmVydGVkTWVkaWFUeXBlID8/IHBhcnQubWVkaWFUeXBlO1xuICBsZXQgZGF0YTogVWludDhBcnJheSB8IHN0cmluZyB8IFVSTCA9IGNvbnZlcnRlZERhdGE7IC8vIGJpbmFyeSB8IGJhc2U2NCB8IHVybFxuXG4gIC8vIElmIHRoZSBjb250ZW50IGlzIGEgVVJMLCB3ZSBjaGVjayBpZiBpdCB3YXMgZG93bmxvYWRlZDpcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICBjb25zdCBkb3dubG9hZGVkRmlsZSA9IGRvd25sb2FkZWRBc3NldHNbZGF0YS50b1N0cmluZygpXTtcbiAgICBpZiAoZG93bmxvYWRlZEZpbGUpIHtcbiAgICAgIGRhdGEgPSBkb3dubG9hZGVkRmlsZS5kYXRhO1xuICAgICAgbWVkaWFUeXBlID8/PSBkb3dubG9hZGVkRmlsZS5tZWRpYVR5cGU7XG4gICAgfVxuICB9XG5cbiAgLy8gTm93IHRoYXQgd2UgaGF2ZSB0aGUgbm9ybWFsaXplZCBkYXRhIGVpdGhlciBhcyBhIFVSTCBvciBhIFVpbnQ4QXJyYXksXG4gIC8vIHdlIGNhbiBjcmVhdGUgdGhlIExhbmd1YWdlTW9kZWxWMlBhcnQuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2ltYWdlJzoge1xuICAgICAgLy8gV2hlbiBwb3NzaWJsZSwgdHJ5IHRvIGRldGVjdCB0aGUgbWVkaWEgdHlwZSBhdXRvbWF0aWNhbGx5XG4gICAgICAvLyB0byBkZWFsIHdpdGggaW5jb3JyZWN0IG1lZGlhIHR5cGUgaW5wdXRzLlxuICAgICAgLy8gV2hlbiBkZXRlY3Rpb24gZmFpbHMsIHVzZSBwcm92aWRlZCBtZWRpYSB0eXBlLlxuICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICBtZWRpYVR5cGUgPVxuICAgICAgICAgIGRldGVjdE1lZGlhVHlwZSh7IGRhdGEsIHNpZ25hdHVyZXM6IGltYWdlTWVkaWFUeXBlU2lnbmF0dXJlcyB9KSA/P1xuICAgICAgICAgIG1lZGlhVHlwZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICBtZWRpYVR5cGU6IG1lZGlhVHlwZSA/PyAnaW1hZ2UvKicsIC8vIGFueSBpbWFnZVxuICAgICAgICBmaWxlbmFtZTogdW5kZWZpbmVkLFxuICAgICAgICBkYXRhLFxuICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJPcHRpb25zLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjYXNlICdmaWxlJzoge1xuICAgICAgLy8gV2UgbXVzdCBoYXZlIGEgbWVkaWFUeXBlIGZvciBmaWxlcywgaWYgbm90LCB0aHJvdyBhbiBlcnJvci5cbiAgICAgIGlmIChtZWRpYVR5cGUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1lZGlhIHR5cGUgaXMgbWlzc2luZyBmb3IgZmlsZSBwYXJ0YCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgbWVkaWFUeXBlLFxuICAgICAgICBmaWxlbmFtZTogcGFydC5maWxlbmFtZSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgY29udmVydEJhc2U2NFRvVWludDhBcnJheSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgaW1hZ2VNZWRpYVR5cGVTaWduYXR1cmVzID0gW1xuICB7XG4gICAgbWVkaWFUeXBlOiAnaW1hZ2UvZ2lmJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NDcsIDB4NDksIDB4NDZdLFxuICAgIGJhc2U2NFByZWZpeDogJ1IwbEcnLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnaW1hZ2UvcG5nJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4ODksIDB4NTAsIDB4NGUsIDB4NDddLFxuICAgIGJhc2U2NFByZWZpeDogJ2lWQk9SdycsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS9qcGVnJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4ZmYsIDB4ZDhdLFxuICAgIGJhc2U2NFByZWZpeDogJy85ai8nLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnaW1hZ2Uvd2VicCcgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDUyLCAweDQ5LCAweDQ2LCAweDQ2XSxcbiAgICBiYXNlNjRQcmVmaXg6ICdVa2xHUmcnLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnaW1hZ2UvYm1wJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NDIsIDB4NGRdLFxuICAgIGJhc2U2NFByZWZpeDogJ1FrJyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2ltYWdlL3RpZmYnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg0OSwgMHg0OSwgMHgyYSwgMHgwMF0sXG4gICAgYmFzZTY0UHJlZml4OiAnU1VrcUFBJyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2ltYWdlL3RpZmYnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg0ZCwgMHg0ZCwgMHgwMCwgMHgyYV0sXG4gICAgYmFzZTY0UHJlZml4OiAnVFUwQUtnJyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2ltYWdlL2F2aWYnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDIwLCAweDY2LCAweDc0LCAweDc5LCAweDcwLCAweDYxLCAweDc2LCAweDY5LCAweDY2LFxuICAgIF0sXG4gICAgYmFzZTY0UHJlZml4OiAnQUFBQUlHWjBlWEJoZG1sbScsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS9oZWljJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgyMCwgMHg2NiwgMHg3NCwgMHg3OSwgMHg3MCwgMHg2OCwgMHg2NSwgMHg2OSwgMHg2MyxcbiAgICBdLFxuICAgIGJhc2U2NFByZWZpeDogJ0FBQUFJR1owZVhCb1pXbGonLFxuICB9LFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IGF1ZGlvTWVkaWFUeXBlU2lnbmF0dXJlcyA9IFtcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL21wZWcnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHhmZiwgMHhmYl0sXG4gICAgYmFzZTY0UHJlZml4OiAnLy9zPScsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9tcGVnJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4ZmYsIDB4ZmFdLFxuICAgIGJhc2U2NFByZWZpeDogJy8vbz0nLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vbXBlZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweGZmLCAweGYzXSxcbiAgICBiYXNlNjRQcmVmaXg6ICcvL009JyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL21wZWcnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHhmZiwgMHhmMl0sXG4gICAgYmFzZTY0UHJlZml4OiAnLy9JPScsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9tcGVnJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4ZmYsIDB4ZTNdLFxuICAgIGJhc2U2NFByZWZpeDogJy8rTT0nLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vbXBlZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweGZmLCAweGUyXSxcbiAgICBiYXNlNjRQcmVmaXg6ICcvK0k9JyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL3dhdicgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDUyLCAweDQ5LCAweDQ2LCAweDQ2XSxcbiAgICBiYXNlNjRQcmVmaXg6ICdVa2xHUicsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9vZ2cnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg0ZiwgMHg2NywgMHg2NywgMHg1M10sXG4gICAgYmFzZTY0UHJlZml4OiAnVDJkblV3JyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL2ZsYWMnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg2NiwgMHg0YywgMHg2MSwgMHg0M10sXG4gICAgYmFzZTY0UHJlZml4OiAnWmt4aFF3JyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL2FhYycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDQwLCAweDE1LCAweDAwLCAweDAwXSxcbiAgICBiYXNlNjRQcmVmaXg6ICdRQlVBJyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL21wNCcgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDY2LCAweDc0LCAweDc5LCAweDcwXSxcbiAgICBiYXNlNjRQcmVmaXg6ICdablI1Y0EnLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vd2VibScsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDFhLCAweDQ1LCAweGRmLCAweGEzXSxcbiAgICBiYXNlNjRQcmVmaXg6ICdHa1hmJyxcbiAgfSxcbl0gYXMgY29uc3Q7XG5cbmNvbnN0IHN0cmlwSUQzID0gKGRhdGE6IFVpbnQ4QXJyYXkgfCBzdHJpbmcpID0+IHtcbiAgY29uc3QgYnl0ZXMgPVxuICAgIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/IGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkoZGF0YSkgOiBkYXRhO1xuICBjb25zdCBpZDNTaXplID1cbiAgICAoKGJ5dGVzWzZdICYgMHg3ZikgPDwgMjEpIHxcbiAgICAoKGJ5dGVzWzddICYgMHg3ZikgPDwgMTQpIHxcbiAgICAoKGJ5dGVzWzhdICYgMHg3ZikgPDwgNykgfFxuICAgIChieXRlc1s5XSAmIDB4N2YpO1xuXG4gIC8vIFRoZSByYXcgTVAzIHN0YXJ0cyBoZXJlXG4gIHJldHVybiBieXRlcy5zbGljZShpZDNTaXplICsgMTApO1xufTtcblxuZnVuY3Rpb24gc3RyaXBJRDNUYWdzSWZQcmVzZW50KGRhdGE6IFVpbnQ4QXJyYXkgfCBzdHJpbmcpOiBVaW50OEFycmF5IHwgc3RyaW5nIHtcbiAgY29uc3QgaGFzSWQzID1cbiAgICAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuc3RhcnRzV2l0aCgnU1VReicpKSB8fFxuICAgICh0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycgJiZcbiAgICAgIGRhdGEubGVuZ3RoID4gMTAgJiZcbiAgICAgIGRhdGFbMF0gPT09IDB4NDkgJiYgLy8gJ0knXG4gICAgICBkYXRhWzFdID09PSAweDQ0ICYmIC8vICdEJ1xuICAgICAgZGF0YVsyXSA9PT0gMHgzMyk7IC8vICczJ1xuXG4gIHJldHVybiBoYXNJZDMgPyBzdHJpcElEMyhkYXRhKSA6IGRhdGE7XG59XG5cbi8qKlxuICogRGV0ZWN0IHRoZSBtZWRpYSBJQU5BIG1lZGlhIHR5cGUgb2YgYSBmaWxlIHVzaW5nIGEgbGlzdCBvZiBzaWduYXR1cmVzLlxuICpcbiAqIEBwYXJhbSBkYXRhIC0gVGhlIGZpbGUgZGF0YS5cbiAqIEBwYXJhbSBzaWduYXR1cmVzIC0gVGhlIHNpZ25hdHVyZXMgdG8gdXNlIGZvciBkZXRlY3Rpb24uXG4gKiBAcmV0dXJucyBUaGUgbWVkaWEgdHlwZSBvZiB0aGUgZmlsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdE1lZGlhVHlwZSh7XG4gIGRhdGEsXG4gIHNpZ25hdHVyZXMsXG59OiB7XG4gIGRhdGE6IFVpbnQ4QXJyYXkgfCBzdHJpbmc7XG4gIHNpZ25hdHVyZXM6IHR5cGVvZiBhdWRpb01lZGlhVHlwZVNpZ25hdHVyZXMgfCB0eXBlb2YgaW1hZ2VNZWRpYVR5cGVTaWduYXR1cmVzO1xufSk6ICh0eXBlb2Ygc2lnbmF0dXJlcylbbnVtYmVyXVsnbWVkaWFUeXBlJ10gfCB1bmRlZmluZWQge1xuICBjb25zdCBwcm9jZXNzZWREYXRhID0gc3RyaXBJRDNUYWdzSWZQcmVzZW50KGRhdGEpO1xuXG4gIGZvciAoY29uc3Qgc2lnbmF0dXJlIG9mIHNpZ25hdHVyZXMpIHtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgcHJvY2Vzc2VkRGF0YSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBwcm9jZXNzZWREYXRhLnN0YXJ0c1dpdGgoc2lnbmF0dXJlLmJhc2U2NFByZWZpeClcbiAgICAgICAgOiBwcm9jZXNzZWREYXRhLmxlbmd0aCA+PSBzaWduYXR1cmUuYnl0ZXNQcmVmaXgubGVuZ3RoICYmXG4gICAgICAgICAgc2lnbmF0dXJlLmJ5dGVzUHJlZml4LmV2ZXJ5KFxuICAgICAgICAgICAgKGJ5dGUsIGluZGV4KSA9PiBwcm9jZXNzZWREYXRhW2luZGV4XSA9PT0gYnl0ZSxcbiAgICAgICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gc2lnbmF0dXJlLm1lZGlhVHlwZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuIiwgImltcG9ydCB7IERvd25sb2FkRXJyb3IgfSBmcm9tICcuL2Rvd25sb2FkLWVycm9yJztcblxuLyoqXG4gKiBEb3dubG9hZCBhIGZpbGUgZnJvbSBhIFVSTC5cbiAqXG4gKiBAcGFyYW0gdXJsIC0gVGhlIFVSTCB0byBkb3dubG9hZCBmcm9tLlxuICogQHJldHVybnMgVGhlIGRvd25sb2FkZWQgZGF0YSBhbmQgbWVkaWEgdHlwZS5cbiAqXG4gKiBAdGhyb3dzIERvd25sb2FkRXJyb3IgaWYgdGhlIGRvd25sb2FkIGZhaWxzLlxuICovXG5leHBvcnQgY29uc3QgZG93bmxvYWQgPSBhc3luYyAoeyB1cmwgfTogeyB1cmw6IFVSTCB9KSA9PiB7XG4gIGNvbnN0IHVybFRleHQgPSB1cmwudG9TdHJpbmcoKTtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybFRleHQpO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IERvd25sb2FkRXJyb3Ioe1xuICAgICAgICB1cmw6IHVybFRleHQsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBuZXcgVWludDhBcnJheShhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpKSxcbiAgICAgIG1lZGlhVHlwZTogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpID8/IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChEb3dubG9hZEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRG93bmxvYWRFcnJvcih7IHVybDogdXJsVGV4dCwgY2F1c2U6IGVycm9yIH0pO1xuICB9XG59O1xuIiwgImltcG9ydCB7IGRvd25sb2FkIGFzIG9yaWdpbmFsRG93bmxvYWQgfSBmcm9tICcuL2Rvd25sb2FkJztcblxuLyoqXG4gKiBFeHBlcmltZW50YWwuIENhbiBjaGFuZ2UgaW4gcGF0Y2ggdmVyc2lvbnMgd2l0aG91dCB3YXJuaW5nLlxuICpcbiAqIERvd25sb2FkIGZ1bmN0aW9uLiBDYWxsZWQgd2l0aCB0aGUgYXJyYXkgb2YgVVJMcyBhbmQgYSBib29sZWFuIGluZGljYXRpbmdcbiAqIHdoZXRoZXIgdGhlIFVSTCBpcyBzdXBwb3J0ZWQgYnkgdGhlIG1vZGVsLlxuICpcbiAqIFRoZSBkb3dubG9hZCBmdW5jdGlvbiBjYW4gZGVjaWRlIGZvciBlYWNoIFVSTDpcbiAqIC0gdG8gcmV0dXJuIG51bGwgKHdoaWNoIG1lYW5zIHRoYXQgdGhlIFVSTCBzaG91bGQgYmUgcGFzc2VkIHRvIHRoZSBtb2RlbClcbiAqIC0gdG8gZG93bmxvYWQgdGhlIGFzc2V0IGFuZCByZXR1cm4gdGhlIGRhdGEgKGluY2wuIHJldHJpZXMsIGF1dGhlbnRpY2F0aW9uLCBldGMuKVxuICpcbiAqIFNob3VsZCB0aHJvdyBEb3dubG9hZEVycm9yIGlmIHRoZSBkb3dubG9hZCBmYWlscy5cbiAqXG4gKiBTaG91bGQgcmV0dXJuIGFuIGFycmF5IG9mIG9iamVjdHMgc29ydGVkIGJ5IHRoZSBvcmRlciBvZiB0aGUgcmVxdWVzdGVkIGRvd25sb2Fkcy5cbiAqIEZvciBlYWNoIG9iamVjdCwgdGhlIGRhdGEgc2hvdWxkIGJlIGEgVWludDhBcnJheSBpZiB0aGUgVVJMIHdhcyBkb3dubG9hZGVkLlxuICogRm9yIGVhY2ggb2JqZWN0LCB0aGUgbWVkaWFUeXBlIHNob3VsZCBiZSB0aGUgbWVkaWEgdHlwZSBvZiB0aGUgZG93bmxvYWRlZCBhc3NldC5cbiAqIEZvciBlYWNoIG9iamVjdCwgdGhlIGRhdGEgc2hvdWxkIGJlIG51bGwgaWYgdGhlIFVSTCBzaG91bGQgYmUgcGFzc2VkIHRocm91Z2ggYXMgaXMuXG4gKi9cbmV4cG9ydCB0eXBlIERvd25sb2FkRnVuY3Rpb24gPSAoXG4gIG9wdGlvbnM6IEFycmF5PHtcbiAgICB1cmw6IFVSTDtcbiAgICBpc1VybFN1cHBvcnRlZEJ5TW9kZWw6IGJvb2xlYW47XG4gIH0+LFxuKSA9PiBQcm9taXNlTGlrZTxcbiAgQXJyYXk8e1xuICAgIGRhdGE6IFVpbnQ4QXJyYXk7XG4gICAgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIH0gfCBudWxsPlxuPjtcblxuLyoqXG4gKiBEZWZhdWx0IGRvd25sb2FkIGZ1bmN0aW9uLlxuICogRG93bmxvYWRzIHRoZSBmaWxlIGlmIGl0IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIG1vZGVsLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlRGVmYXVsdERvd25sb2FkRnVuY3Rpb24gPVxuICAoZG93bmxvYWQ6IHR5cGVvZiBvcmlnaW5hbERvd25sb2FkID0gb3JpZ2luYWxEb3dubG9hZCk6IERvd25sb2FkRnVuY3Rpb24gPT5cbiAgcmVxdWVzdGVkRG93bmxvYWRzID0+XG4gICAgUHJvbWlzZS5hbGwoXG4gICAgICByZXF1ZXN0ZWREb3dubG9hZHMubWFwKGFzeW5jIHJlcXVlc3RlZERvd25sb2FkID0+XG4gICAgICAgIHJlcXVlc3RlZERvd25sb2FkLmlzVXJsU3VwcG9ydGVkQnlNb2RlbFxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogZG93bmxvYWQocmVxdWVzdGVkRG93bmxvYWQpLFxuICAgICAgKSxcbiAgICApO1xuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IsIExhbmd1YWdlTW9kZWxWMkRhdGFDb250ZW50IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5LFxuICBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0LFxuICBEYXRhQ29udGVudCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IEludmFsaWREYXRhQ29udGVudEVycm9yIH0gZnJvbSAnLi9pbnZhbGlkLWRhdGEtY29udGVudC1lcnJvcic7XG5pbXBvcnQgeyBzcGxpdERhdGFVcmwgfSBmcm9tICcuL3NwbGl0LWRhdGEtdXJsJztcblxuLyoqXG5AaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IGRhdGFDb250ZW50U2NoZW1hOiB6LlpvZFR5cGU8RGF0YUNvbnRlbnQ+ID0gei51bmlvbihbXG4gIHouc3RyaW5nKCksXG4gIHouaW5zdGFuY2VvZihVaW50OEFycmF5KSxcbiAgei5pbnN0YW5jZW9mKEFycmF5QnVmZmVyKSxcbiAgei5jdXN0b208QnVmZmVyPihcbiAgICAvLyBCdWZmZXIgbWlnaHQgbm90IGJlIGF2YWlsYWJsZSBpbiBzb21lIGVudmlyb25tZW50cyBzdWNoIGFzIENsb3VkRmxhcmU6XG4gICAgKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgQnVmZmVyID0+XG4gICAgICBnbG9iYWxUaGlzLkJ1ZmZlcj8uaXNCdWZmZXIodmFsdWUpID8/IGZhbHNlLFxuICAgIHsgbWVzc2FnZTogJ011c3QgYmUgYSBCdWZmZXInIH0sXG4gICksXG5dKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxWMkRhdGFDb250ZW50KFxuICBjb250ZW50OiBEYXRhQ29udGVudCB8IFVSTCxcbik6IHtcbiAgZGF0YTogTGFuZ3VhZ2VNb2RlbFYyRGF0YUNvbnRlbnQ7XG4gIG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xufSB7XG4gIC8vIEJ1ZmZlciAmIFVpbnQ4QXJyYXk6XG4gIGlmIChjb250ZW50IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIHJldHVybiB7IGRhdGE6IGNvbnRlbnQsIG1lZGlhVHlwZTogdW5kZWZpbmVkIH07XG4gIH1cblxuICAvLyBBcnJheUJ1ZmZlciBuZWVkcyBjb252ZXJzaW9uIHRvIFVpbnQ4QXJyYXkgKGxpZ2h0d2VpZ2h0KTpcbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiB7IGRhdGE6IG5ldyBVaW50OEFycmF5KGNvbnRlbnQpLCBtZWRpYVR5cGU6IHVuZGVmaW5lZCB9O1xuICB9XG5cbiAgLy8gQXR0ZW1wdCB0byBjcmVhdGUgYSBVUkwgZnJvbSB0aGUgZGF0YS4gSWYgaXQgZmFpbHMsIHdlIGNhbiBhc3N1bWUgdGhlIGRhdGFcbiAgLy8gaXMgbm90IGEgVVJMIGFuZCBsaWtlbHkgc29tZSBvdGhlciBzb3J0IG9mIGRhdGEuXG4gIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICB0cnkge1xuICAgICAgY29udGVudCA9IG5ldyBVUkwoY29udGVudCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGlnbm9yZWRcbiAgICB9XG4gIH1cblxuICAvLyBFeHRyYWN0IGRhdGEgZnJvbSBkYXRhIFVSTDpcbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBVUkwgJiYgY29udGVudC5wcm90b2NvbCA9PT0gJ2RhdGE6Jykge1xuICAgIGNvbnN0IHsgbWVkaWFUeXBlOiBkYXRhVXJsTWVkaWFUeXBlLCBiYXNlNjRDb250ZW50IH0gPSBzcGxpdERhdGFVcmwoXG4gICAgICBjb250ZW50LnRvU3RyaW5nKCksXG4gICAgKTtcblxuICAgIGlmIChkYXRhVXJsTWVkaWFUeXBlID09IG51bGwgfHwgYmFzZTY0Q29udGVudCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgQUlTREtFcnJvcih7XG4gICAgICAgIG5hbWU6ICdJbnZhbGlkRGF0YUNvbnRlbnRFcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIGRhdGEgVVJMIGZvcm1hdCBpbiBjb250ZW50ICR7Y29udGVudC50b1N0cmluZygpfWAsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBkYXRhOiBiYXNlNjRDb250ZW50LCBtZWRpYVR5cGU6IGRhdGFVcmxNZWRpYVR5cGUgfTtcbiAgfVxuXG4gIHJldHVybiB7IGRhdGE6IGNvbnRlbnQsIG1lZGlhVHlwZTogdW5kZWZpbmVkIH07XG59XG5cbi8qKlxuQ29udmVydHMgZGF0YSBjb250ZW50IHRvIGEgYmFzZTY0LWVuY29kZWQgc3RyaW5nLlxuXG5AcGFyYW0gY29udGVudCAtIERhdGEgY29udGVudCB0byBjb252ZXJ0LlxuQHJldHVybnMgQmFzZTY0LWVuY29kZWQgc3RyaW5nLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0RGF0YUNvbnRlbnRUb0Jhc2U2NFN0cmluZyhjb250ZW50OiBEYXRhQ29udGVudCk6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmIChjb250ZW50IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChuZXcgVWludDhBcnJheShjb250ZW50KSk7XG4gIH1cblxuICByZXR1cm4gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChjb250ZW50KTtcbn1cblxuLyoqXG5Db252ZXJ0cyBkYXRhIGNvbnRlbnQgdG8gYSBVaW50OEFycmF5LlxuXG5AcGFyYW0gY29udGVudCAtIERhdGEgY29udGVudCB0byBjb252ZXJ0LlxuQHJldHVybnMgVWludDhBcnJheS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnREYXRhQ29udGVudFRvVWludDhBcnJheShcbiAgY29udGVudDogRGF0YUNvbnRlbnQsXG4pOiBVaW50OEFycmF5IHtcbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5KGNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZERhdGFDb250ZW50RXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICdJbnZhbGlkIGRhdGEgY29udGVudC4gQ29udGVudCBzdHJpbmcgaXMgbm90IGEgYmFzZTY0LWVuY29kZWQgbWVkaWEuJyxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShjb250ZW50KTtcbiAgfVxuXG4gIHRocm93IG5ldyBJbnZhbGlkRGF0YUNvbnRlbnRFcnJvcih7IGNvbnRlbnQgfSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIG9mIHRleHQuXG4gKlxuICogQHBhcmFtIHVpbnQ4QXJyYXkgLSBUaGUgVWludDhBcnJheSB0byBjb252ZXJ0LlxuICogQHJldHVybnMgVGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VWludDhBcnJheVRvVGV4dCh1aW50OEFycmF5OiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHVpbnQ4QXJyYXkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZGVjb2RpbmcgVWludDhBcnJheSB0byB0ZXh0Jyk7XG4gIH1cbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gc3BsaXREYXRhVXJsKGRhdGFVcmw6IHN0cmluZyk6IHtcbiAgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGJhc2U2NENvbnRlbnQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbn0ge1xuICB0cnkge1xuICAgIGNvbnN0IFtoZWFkZXIsIGJhc2U2NENvbnRlbnRdID0gZGF0YVVybC5zcGxpdCgnLCcpO1xuICAgIHJldHVybiB7XG4gICAgICBtZWRpYVR5cGU6IGhlYWRlci5zcGxpdCgnOycpWzBdLnNwbGl0KCc6JylbMV0sXG4gICAgICBiYXNlNjRDb250ZW50LFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lZGlhVHlwZTogdW5kZWZpbmVkLFxuICAgICAgYmFzZTY0Q29udGVudDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJy4uL2Vycm9yL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuaW1wb3J0IHsgQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi9jYWxsLXNldHRpbmdzJztcblxuLyoqXG4gKiBWYWxpZGF0ZXMgY2FsbCBzZXR0aW5ncyBhbmQgcmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCBsaW1pdGVkIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVDYWxsU2V0dGluZ3Moe1xuICBtYXhPdXRwdXRUb2tlbnMsXG4gIHRlbXBlcmF0dXJlLFxuICB0b3BQLFxuICB0b3BLLFxuICBwcmVzZW5jZVBlbmFsdHksXG4gIGZyZXF1ZW5jeVBlbmFsdHksXG4gIHNlZWQsXG4gIHN0b3BTZXF1ZW5jZXMsXG59OiBPbWl0PENhbGxTZXR0aW5ncywgJ2Fib3J0U2lnbmFsJyB8ICdoZWFkZXJzJyB8ICdtYXhSZXRyaWVzJz4pOiBPbWl0PFxuICBDYWxsU2V0dGluZ3MsXG4gICdhYm9ydFNpZ25hbCcgfCAnaGVhZGVycycgfCAnbWF4UmV0cmllcydcbj4ge1xuICBpZiAobWF4T3V0cHV0VG9rZW5zICE9IG51bGwpIHtcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIobWF4T3V0cHV0VG9rZW5zKSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnbWF4T3V0cHV0VG9rZW5zJyxcbiAgICAgICAgdmFsdWU6IG1heE91dHB1dFRva2VucyxcbiAgICAgICAgbWVzc2FnZTogJ21heE91dHB1dFRva2VucyBtdXN0IGJlIGFuIGludGVnZXInLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG1heE91dHB1dFRva2VucyA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ21heE91dHB1dFRva2VucycsXG4gICAgICAgIHZhbHVlOiBtYXhPdXRwdXRUb2tlbnMsXG4gICAgICAgIG1lc3NhZ2U6ICdtYXhPdXRwdXRUb2tlbnMgbXVzdCBiZSA+PSAxJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0ZW1wZXJhdHVyZSAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiB0ZW1wZXJhdHVyZSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3RlbXBlcmF0dXJlJyxcbiAgICAgICAgdmFsdWU6IHRlbXBlcmF0dXJlLFxuICAgICAgICBtZXNzYWdlOiAndGVtcGVyYXR1cmUgbXVzdCBiZSBhIG51bWJlcicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAodG9wUCAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiB0b3BQICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAndG9wUCcsXG4gICAgICAgIHZhbHVlOiB0b3BQLFxuICAgICAgICBtZXNzYWdlOiAndG9wUCBtdXN0IGJlIGEgbnVtYmVyJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0b3BLICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIHRvcEsgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICd0b3BLJyxcbiAgICAgICAgdmFsdWU6IHRvcEssXG4gICAgICAgIG1lc3NhZ2U6ICd0b3BLIG11c3QgYmUgYSBudW1iZXInLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHByZXNlbmNlUGVuYWx0eSAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiBwcmVzZW5jZVBlbmFsdHkgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdwcmVzZW5jZVBlbmFsdHknLFxuICAgICAgICB2YWx1ZTogcHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICBtZXNzYWdlOiAncHJlc2VuY2VQZW5hbHR5IG11c3QgYmUgYSBudW1iZXInLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGZyZXF1ZW5jeVBlbmFsdHkgIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgZnJlcXVlbmN5UGVuYWx0eSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ2ZyZXF1ZW5jeVBlbmFsdHknLFxuICAgICAgICB2YWx1ZTogZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgbWVzc2FnZTogJ2ZyZXF1ZW5jeVBlbmFsdHkgbXVzdCBiZSBhIG51bWJlcicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoc2VlZCAhPSBudWxsKSB7XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHNlZWQpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzZWVkJyxcbiAgICAgICAgdmFsdWU6IHNlZWQsXG4gICAgICAgIG1lc3NhZ2U6ICdzZWVkIG11c3QgYmUgYW4gaW50ZWdlcicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1heE91dHB1dFRva2VucyxcbiAgICB0ZW1wZXJhdHVyZSxcbiAgICB0b3BQLFxuICAgIHRvcEssXG4gICAgcHJlc2VuY2VQZW5hbHR5LFxuICAgIGZyZXF1ZW5jeVBlbmFsdHksXG4gICAgc3RvcFNlcXVlbmNlcyxcbiAgICBzZWVkLFxuICB9O1xufVxuIiwgImltcG9ydCB7XG4gIExhbmd1YWdlTW9kZWxWMkZ1bmN0aW9uVG9vbCxcbiAgTGFuZ3VhZ2VNb2RlbFYyUHJvdmlkZXJEZWZpbmVkVG9vbCxcbiAgTGFuZ3VhZ2VNb2RlbFYyVG9vbENob2ljZSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBhc1NjaGVtYSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgaXNOb25FbXB0eU9iamVjdCB9IGZyb20gJy4uL3V0aWwvaXMtbm9uLWVtcHR5LW9iamVjdCc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dCc7XG5pbXBvcnQgeyBUb29sQ2hvaWNlIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZTxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgdG9vbHMsXG4gIHRvb2xDaG9pY2UsXG4gIGFjdGl2ZVRvb2xzLFxufToge1xuICB0b29sczogVE9PTFMgfCB1bmRlZmluZWQ7XG4gIHRvb2xDaG9pY2U6IFRvb2xDaG9pY2U8VE9PTFM+IHwgdW5kZWZpbmVkO1xuICBhY3RpdmVUb29sczogQXJyYXk8a2V5b2YgVE9PTFM+IHwgdW5kZWZpbmVkO1xufSk6IHtcbiAgdG9vbHM6XG4gICAgfCBBcnJheTxMYW5ndWFnZU1vZGVsVjJGdW5jdGlvblRvb2wgfCBMYW5ndWFnZU1vZGVsVjJQcm92aWRlckRlZmluZWRUb29sPlxuICAgIHwgdW5kZWZpbmVkO1xuICB0b29sQ2hvaWNlOiBMYW5ndWFnZU1vZGVsVjJUb29sQ2hvaWNlIHwgdW5kZWZpbmVkO1xufSB7XG4gIGlmICghaXNOb25FbXB0eU9iamVjdCh0b29scykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9vbHM6IHVuZGVmaW5lZCxcbiAgICAgIHRvb2xDaG9pY2U6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG5cbiAgLy8gd2hlbiBhY3RpdmVUb29scyBpcyBwcm92aWRlZCwgd2Ugb25seSBpbmNsdWRlIHRoZSB0b29scyB0aGF0IGFyZSBpbiB0aGUgbGlzdDpcbiAgY29uc3QgZmlsdGVyZWRUb29scyA9XG4gICAgYWN0aXZlVG9vbHMgIT0gbnVsbFxuICAgICAgPyBPYmplY3QuZW50cmllcyh0b29scykuZmlsdGVyKChbbmFtZV0pID0+XG4gICAgICAgICAgYWN0aXZlVG9vbHMuaW5jbHVkZXMobmFtZSBhcyBrZXlvZiBUT09MUyksXG4gICAgICAgIClcbiAgICAgIDogT2JqZWN0LmVudHJpZXModG9vbHMpO1xuXG4gIHJldHVybiB7XG4gICAgdG9vbHM6IGZpbHRlcmVkVG9vbHMubWFwKChbbmFtZSwgdG9vbF0pID0+IHtcbiAgICAgIGNvbnN0IHRvb2xUeXBlID0gdG9vbC50eXBlO1xuICAgICAgc3dpdGNoICh0b29sVHlwZSkge1xuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgY2FzZSAnZHluYW1pYyc6XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyBhcyBjb25zdCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdG9vbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGlucHV0U2NoZW1hOiBhc1NjaGVtYSh0b29sLmlucHV0U2NoZW1hKS5qc29uU2NoZW1hLFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiB0b29sLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdwcm92aWRlci1kZWZpbmVkJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3Byb3ZpZGVyLWRlZmluZWQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGlkOiB0b29sLmlkLFxuICAgICAgICAgICAgYXJnczogdG9vbC5hcmdzLFxuICAgICAgICAgIH07XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gdG9vbFR5cGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0b29sIHR5cGU6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksXG4gICAgdG9vbENob2ljZTpcbiAgICAgIHRvb2xDaG9pY2UgPT0gbnVsbFxuICAgICAgICA/IHsgdHlwZTogJ2F1dG8nIH1cbiAgICAgICAgOiB0eXBlb2YgdG9vbENob2ljZSA9PT0gJ3N0cmluZydcbiAgICAgICAgICA/IHsgdHlwZTogdG9vbENob2ljZSB9XG4gICAgICAgICAgOiB7IHR5cGU6ICd0b29sJyBhcyBjb25zdCwgdG9vbE5hbWU6IHRvb2xDaG9pY2UudG9vbE5hbWUgYXMgc3RyaW5nIH0sXG4gIH07XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGlzTm9uRW1wdHlPYmplY3QoXG4gIG9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWQgfCBudWxsLFxuKTogb2JqZWN0IGlzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoID4gMDtcbn1cbiIsICJpbXBvcnQgeyBJbnZhbGlkUHJvbXB0RXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IE1vZGVsTWVzc2FnZSwgc2FmZVZhbGlkYXRlVHlwZXMgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgbW9kZWxNZXNzYWdlU2NoZW1hIH0gZnJvbSAnLi9tZXNzYWdlJztcbmltcG9ydCB7IFByb21wdCB9IGZyb20gJy4vcHJvbXB0JztcblxuZXhwb3J0IHR5cGUgU3RhbmRhcmRpemVkUHJvbXB0ID0ge1xuICAvKipcbiAgICogU3lzdGVtIG1lc3NhZ2UuXG4gICAqL1xuICBzeXN0ZW0/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE1lc3NhZ2VzLlxuICAgKi9cbiAgbWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0YW5kYXJkaXplUHJvbXB0KFxuICBwcm9tcHQ6IFByb21wdCxcbik6IFByb21pc2U8U3RhbmRhcmRpemVkUHJvbXB0PiB7XG4gIGlmIChwcm9tcHQucHJvbXB0ID09IG51bGwgJiYgcHJvbXB0Lm1lc3NhZ2VzID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6ICdwcm9tcHQgb3IgbWVzc2FnZXMgbXVzdCBiZSBkZWZpbmVkJyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChwcm9tcHQucHJvbXB0ICE9IG51bGwgJiYgcHJvbXB0Lm1lc3NhZ2VzICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6ICdwcm9tcHQgYW5kIG1lc3NhZ2VzIGNhbm5vdCBiZSBkZWZpbmVkIGF0IHRoZSBzYW1lIHRpbWUnLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gdmFsaWRhdGUgdGhhdCBzeXN0ZW0gaXMgYSBzdHJpbmdcbiAgaWYgKHByb21wdC5zeXN0ZW0gIT0gbnVsbCAmJiB0eXBlb2YgcHJvbXB0LnN5c3RlbSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6ICdzeXN0ZW0gbXVzdCBiZSBhIHN0cmluZycsXG4gICAgfSk7XG4gIH1cblxuICBsZXQgbWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdO1xuXG4gIGlmIChwcm9tcHQucHJvbXB0ICE9IG51bGwgJiYgdHlwZW9mIHByb21wdC5wcm9tcHQgPT09ICdzdHJpbmcnKSB7XG4gICAgbWVzc2FnZXMgPSBbeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHByb21wdC5wcm9tcHQgfV07XG4gIH0gZWxzZSBpZiAocHJvbXB0LnByb21wdCAhPSBudWxsICYmIEFycmF5LmlzQXJyYXkocHJvbXB0LnByb21wdCkpIHtcbiAgICBtZXNzYWdlcyA9IHByb21wdC5wcm9tcHQ7XG4gIH0gZWxzZSBpZiAocHJvbXB0Lm1lc3NhZ2VzICE9IG51bGwpIHtcbiAgICBtZXNzYWdlcyA9IHByb21wdC5tZXNzYWdlcztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6ICdwcm9tcHQgb3IgbWVzc2FnZXMgbXVzdCBiZSBkZWZpbmVkJyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6ICdtZXNzYWdlcyBtdXN0IG5vdCBiZSBlbXB0eScsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXMoe1xuICAgIHZhbHVlOiBtZXNzYWdlcyxcbiAgICBzY2hlbWE6IHouYXJyYXkobW9kZWxNZXNzYWdlU2NoZW1hKSxcbiAgfSk7XG5cbiAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdUaGUgbWVzc2FnZXMgbXVzdCBiZSBhIE1vZGVsTWVzc2FnZVtdLiAnICtcbiAgICAgICAgJ0lmIHlvdSBoYXZlIHBhc3NlZCBhIFVJTWVzc2FnZVtdLCB5b3UgY2FuIHVzZSBjb252ZXJ0VG9Nb2RlbE1lc3NhZ2VzIHRvIGNvbnZlcnQgdGhlbS4nLFxuICAgICAgY2F1c2U6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3IsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1lc3NhZ2VzLFxuICAgIHN5c3RlbTogcHJvbXB0LnN5c3RlbSxcbiAgfTtcbn1cbiIsICJpbXBvcnQge1xuICBBc3Npc3RhbnRNb2RlbE1lc3NhZ2UsXG4gIE1vZGVsTWVzc2FnZSxcbiAgU3lzdGVtTW9kZWxNZXNzYWdlLFxuICBUb29sTW9kZWxNZXNzYWdlLFxuICBVc2VyTW9kZWxNZXNzYWdlLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgcHJvdmlkZXJNZXRhZGF0YVNjaGVtYSB9IGZyb20gJy4uL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhJztcbmltcG9ydCB7XG4gIGZpbGVQYXJ0U2NoZW1hLFxuICBpbWFnZVBhcnRTY2hlbWEsXG4gIHJlYXNvbmluZ1BhcnRTY2hlbWEsXG4gIHRleHRQYXJ0U2NoZW1hLFxuICB0b29sQ2FsbFBhcnRTY2hlbWEsXG4gIHRvb2xSZXN1bHRQYXJ0U2NoZW1hLFxufSBmcm9tICcuL2NvbnRlbnQtcGFydCc7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBTeXN0ZW1Nb2RlbE1lc3NhZ2VgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgdHlwZSBDb3JlU3lzdGVtTWVzc2FnZSA9IFN5c3RlbU1vZGVsTWVzc2FnZTtcblxuZXhwb3J0IGNvbnN0IHN5c3RlbU1vZGVsTWVzc2FnZVNjaGVtYTogei5ab2RUeXBlPFN5c3RlbU1vZGVsTWVzc2FnZT4gPSB6Lm9iamVjdChcbiAge1xuICAgIHJvbGU6IHoubGl0ZXJhbCgnc3lzdGVtJyksXG4gICAgY29udGVudDogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSxcbik7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBzeXN0ZW1Nb2RlbE1lc3NhZ2VTY2hlbWFgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgY29uc3QgY29yZVN5c3RlbU1lc3NhZ2VTY2hlbWEgPSBzeXN0ZW1Nb2RlbE1lc3NhZ2VTY2hlbWE7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBVc2VyTW9kZWxNZXNzYWdlYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IHR5cGUgQ29yZVVzZXJNZXNzYWdlID0gVXNlck1vZGVsTWVzc2FnZTtcblxuZXhwb3J0IGNvbnN0IHVzZXJNb2RlbE1lc3NhZ2VTY2hlbWE6IHouWm9kVHlwZTxVc2VyTW9kZWxNZXNzYWdlPiA9IHoub2JqZWN0KHtcbiAgcm9sZTogei5saXRlcmFsKCd1c2VyJyksXG4gIGNvbnRlbnQ6IHoudW5pb24oW1xuICAgIHouc3RyaW5nKCksXG4gICAgei5hcnJheSh6LnVuaW9uKFt0ZXh0UGFydFNjaGVtYSwgaW1hZ2VQYXJ0U2NoZW1hLCBmaWxlUGFydFNjaGVtYV0pKSxcbiAgXSksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGB1c2VyTW9kZWxNZXNzYWdlU2NoZW1hYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IGNvbnN0IGNvcmVVc2VyTWVzc2FnZVNjaGVtYSA9IHVzZXJNb2RlbE1lc3NhZ2VTY2hlbWE7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBBc3Npc3RhbnRNb2RlbE1lc3NhZ2VgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgdHlwZSBDb3JlQXNzaXN0YW50TWVzc2FnZSA9IEFzc2lzdGFudE1vZGVsTWVzc2FnZTtcblxuZXhwb3J0IGNvbnN0IGFzc2lzdGFudE1vZGVsTWVzc2FnZVNjaGVtYTogei5ab2RUeXBlPEFzc2lzdGFudE1vZGVsTWVzc2FnZT4gPVxuICB6Lm9iamVjdCh7XG4gICAgcm9sZTogei5saXRlcmFsKCdhc3Npc3RhbnQnKSxcbiAgICBjb250ZW50OiB6LnVuaW9uKFtcbiAgICAgIHouc3RyaW5nKCksXG4gICAgICB6LmFycmF5KFxuICAgICAgICB6LnVuaW9uKFtcbiAgICAgICAgICB0ZXh0UGFydFNjaGVtYSxcbiAgICAgICAgICBmaWxlUGFydFNjaGVtYSxcbiAgICAgICAgICByZWFzb25pbmdQYXJ0U2NoZW1hLFxuICAgICAgICAgIHRvb2xDYWxsUGFydFNjaGVtYSxcbiAgICAgICAgICB0b29sUmVzdWx0UGFydFNjaGVtYSxcbiAgICAgICAgXSksXG4gICAgICApLFxuICAgIF0pLFxuICAgIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KTtcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYGFzc2lzdGFudE1vZGVsTWVzc2FnZVNjaGVtYWAgaW5zdGVhZC5cbiAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCBjb25zdCBjb3JlQXNzaXN0YW50TWVzc2FnZVNjaGVtYSA9IGFzc2lzdGFudE1vZGVsTWVzc2FnZVNjaGVtYTtcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYFRvb2xNb2RlbE1lc3NhZ2VgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgdHlwZSBDb3JlVG9vbE1lc3NhZ2UgPSBUb29sTW9kZWxNZXNzYWdlO1xuXG5leHBvcnQgY29uc3QgdG9vbE1vZGVsTWVzc2FnZVNjaGVtYTogei5ab2RUeXBlPFRvb2xNb2RlbE1lc3NhZ2U+ID0gei5vYmplY3Qoe1xuICByb2xlOiB6LmxpdGVyYWwoJ3Rvb2wnKSxcbiAgY29udGVudDogei5hcnJheSh0b29sUmVzdWx0UGFydFNjaGVtYSksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGB0b29sTW9kZWxNZXNzYWdlU2NoZW1hYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IGNvbnN0IGNvcmVUb29sTWVzc2FnZVNjaGVtYSA9IHRvb2xNb2RlbE1lc3NhZ2VTY2hlbWE7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBNb2RlbE1lc3NhZ2VgIGluc3RlYWQuXG4gICAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCB0eXBlIENvcmVNZXNzYWdlID0gTW9kZWxNZXNzYWdlO1xuXG5leHBvcnQgY29uc3QgbW9kZWxNZXNzYWdlU2NoZW1hOiB6LlpvZFR5cGU8TW9kZWxNZXNzYWdlPiA9IHoudW5pb24oW1xuICBzeXN0ZW1Nb2RlbE1lc3NhZ2VTY2hlbWEsXG4gIHVzZXJNb2RlbE1lc3NhZ2VTY2hlbWEsXG4gIGFzc2lzdGFudE1vZGVsTWVzc2FnZVNjaGVtYSxcbiAgdG9vbE1vZGVsTWVzc2FnZVNjaGVtYSxcbl0pO1xuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgbW9kZWxNZXNzYWdlU2NoZW1hYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IGNvbnN0IGNvcmVNZXNzYWdlU2NoZW1hOiB6LlpvZFR5cGU8Q29yZU1lc3NhZ2U+ID0gbW9kZWxNZXNzYWdlU2NoZW1hO1xuIiwgImltcG9ydCB7IFNoYXJlZFYyUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBqc29uVmFsdWVTY2hlbWEgfSBmcm9tICcuL2pzb24tdmFsdWUnO1xuXG4vKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEgdGhhdCBpcyByZXR1cm5lZCBmcm9tIHRoZSBwcm92aWRlci5cblxuVGhpcyBpcyBuZWVkZWQgdG8gZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljIGZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmVcbmZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gKi9cbmV4cG9ydCB0eXBlIFByb3ZpZGVyTWV0YWRhdGEgPSBTaGFyZWRWMlByb3ZpZGVyTWV0YWRhdGE7XG5cbmV4cG9ydCBjb25zdCBwcm92aWRlck1ldGFkYXRhU2NoZW1hOiB6LlpvZFR5cGU8UHJvdmlkZXJNZXRhZGF0YT4gPSB6LnJlY29yZChcbiAgei5zdHJpbmcoKSxcbiAgei5yZWNvcmQoei5zdHJpbmcoKSwganNvblZhbHVlU2NoZW1hKSxcbik7XG4iLCAiaW1wb3J0IHsgSlNPTlZhbHVlIGFzIE9yaWdpbmFsSlNPTlZhbHVlIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcblxuZXhwb3J0IGNvbnN0IGpzb25WYWx1ZVNjaGVtYTogei5ab2RUeXBlPEpTT05WYWx1ZT4gPSB6LmxhenkoKCkgPT5cbiAgei51bmlvbihbXG4gICAgei5udWxsKCksXG4gICAgei5zdHJpbmcoKSxcbiAgICB6Lm51bWJlcigpLFxuICAgIHouYm9vbGVhbigpLFxuICAgIHoucmVjb3JkKHouc3RyaW5nKCksIGpzb25WYWx1ZVNjaGVtYSksXG4gICAgei5hcnJheShqc29uVmFsdWVTY2hlbWEpLFxuICBdKSxcbik7XG5cbmV4cG9ydCB0eXBlIEpTT05WYWx1ZSA9IE9yaWdpbmFsSlNPTlZhbHVlO1xuIiwgImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMlRvb2xSZXN1bHRPdXRwdXQgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIEZpbGVQYXJ0LFxuICBJbWFnZVBhcnQsXG4gIFByb3ZpZGVyT3B0aW9ucyxcbiAgUmVhc29uaW5nUGFydCxcbiAgVGV4dFBhcnQsXG4gIFRvb2xSZXN1bHRQYXJ0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsganNvblZhbHVlU2NoZW1hIH0gZnJvbSAnLi4vdHlwZXMvanNvbi12YWx1ZSc7XG5pbXBvcnQgeyBwcm92aWRlck1ldGFkYXRhU2NoZW1hIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHsgZGF0YUNvbnRlbnRTY2hlbWEgfSBmcm9tICcuL2RhdGEtY29udGVudCc7XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB0ZXh0UGFydFNjaGVtYTogei5ab2RUeXBlPFRleHRQYXJ0PiA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCd0ZXh0JyksXG4gIHRleHQ6IHouc3RyaW5nKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBpbWFnZVBhcnRTY2hlbWE6IHouWm9kVHlwZTxJbWFnZVBhcnQ+ID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ2ltYWdlJyksXG4gIGltYWdlOiB6LnVuaW9uKFtkYXRhQ29udGVudFNjaGVtYSwgei5pbnN0YW5jZW9mKFVSTCldKSxcbiAgbWVkaWFUeXBlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBmaWxlUGFydFNjaGVtYTogei5ab2RUeXBlPEZpbGVQYXJ0PiA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCdmaWxlJyksXG4gIGRhdGE6IHoudW5pb24oW2RhdGFDb250ZW50U2NoZW1hLCB6Lmluc3RhbmNlb2YoVVJMKV0pLFxuICBmaWxlbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBtZWRpYVR5cGU6IHouc3RyaW5nKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCByZWFzb25pbmdQYXJ0U2NoZW1hOiB6LlpvZFR5cGU8UmVhc29uaW5nUGFydD4gPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nJyksXG4gIHRleHQ6IHouc3RyaW5nKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuVG9vbCBjYWxsIGNvbnRlbnQgcGFydCBvZiBhIHByb21wdC4gSXQgY29udGFpbnMgYSB0b29sIGNhbGwgKHVzdWFsbHkgZ2VuZXJhdGVkIGJ5IHRoZSBBSSBtb2RlbCkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVG9vbENhbGxQYXJ0IHtcbiAgdHlwZTogJ3Rvb2wtY2FsbCc7XG5cbiAgLyoqXG5JRCBvZiB0aGUgdG9vbCBjYWxsLiBUaGlzIElEIGlzIHVzZWQgdG8gbWF0Y2ggdGhlIHRvb2wgY2FsbCB3aXRoIHRoZSB0b29sIHJlc3VsdC5cbiAqL1xuICB0b29sQ2FsbElkOiBzdHJpbmc7XG5cbiAgLyoqXG5OYW1lIG9mIHRoZSB0b29sIHRoYXQgaXMgYmVpbmcgY2FsbGVkLlxuICovXG4gIHRvb2xOYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG5Bcmd1bWVudHMgb2YgdGhlIHRvb2wgY2FsbC4gVGhpcyBpcyBhIEpTT04tc2VyaWFsaXphYmxlIG9iamVjdCB0aGF0IG1hdGNoZXMgdGhlIHRvb2wncyBpbnB1dCBzY2hlbWEuXG4gICAqL1xuICBpbnB1dDogdW5rbm93bjtcblxuICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAqL1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG59XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB0b29sQ2FsbFBhcnRTY2hlbWE6IHouWm9kVHlwZTxUb29sQ2FsbFBhcnQ+ID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtY2FsbCcpLFxuICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgaW5wdXQ6IHoudW5rbm93bigpLFxuICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbn0pIGFzIHouWm9kVHlwZTxUb29sQ2FsbFBhcnQ+OyAvLyBuZWNlc3NhcnkgYmMgaW5wdXQgaXMgb3B0aW9uYWwgb24gWm9kIHR5cGVcblxuLyoqXG5AaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IG91dHB1dFNjaGVtYTogei5ab2RUeXBlPExhbmd1YWdlTW9kZWxWMlRvb2xSZXN1bHRPdXRwdXQ+ID1cbiAgei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgei5vYmplY3Qoe1xuICAgICAgdHlwZTogei5saXRlcmFsKCd0ZXh0JyksXG4gICAgICB2YWx1ZTogei5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICB0eXBlOiB6LmxpdGVyYWwoJ2pzb24nKSxcbiAgICAgIHZhbHVlOiBqc29uVmFsdWVTY2hlbWEsXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgdHlwZTogei5saXRlcmFsKCdlcnJvci10ZXh0JyksXG4gICAgICB2YWx1ZTogei5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICB0eXBlOiB6LmxpdGVyYWwoJ2Vycm9yLWpzb24nKSxcbiAgICAgIHZhbHVlOiBqc29uVmFsdWVTY2hlbWEsXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgdHlwZTogei5saXRlcmFsKCdjb250ZW50JyksXG4gICAgICB2YWx1ZTogei5hcnJheShcbiAgICAgICAgei51bmlvbihbXG4gICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCd0ZXh0JyksXG4gICAgICAgICAgICB0ZXh0OiB6LnN0cmluZygpLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbWVkaWEnKSxcbiAgICAgICAgICAgIGRhdGE6IHouc3RyaW5nKCksXG4gICAgICAgICAgICBtZWRpYVR5cGU6IHouc3RyaW5nKCksXG4gICAgICAgICAgfSksXG4gICAgICAgIF0pLFxuICAgICAgKSxcbiAgICB9KSxcbiAgXSk7XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB0b29sUmVzdWx0UGFydFNjaGVtYTogei5ab2RUeXBlPFRvb2xSZXN1bHRQYXJ0PiA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCd0b29sLXJlc3VsdCcpLFxuICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgb3V0cHV0OiBvdXRwdXRTY2hlbWEsXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSkgYXMgei5ab2RUeXBlPFRvb2xSZXN1bHRQYXJ0PjsgLy8gbmVjZXNzYXJ5IGJjIHJlc3VsdCBpcyBvcHRpb25hbCBvbiBab2QgdHlwZVxuIiwgImltcG9ydCB7XG4gIEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yLFxuICBHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yLFxufSBmcm9tICdAYWktc2RrL2dhdGV3YXknO1xuaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gd3JhcEdhdGV3YXlFcnJvcihlcnJvcjogdW5rbm93bik6IHVua25vd24ge1xuICBpZiAoXG4gICAgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgfHxcbiAgICBHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpXG4gICkge1xuICAgIHJldHVybiBuZXcgQUlTREtFcnJvcih7XG4gICAgICBuYW1lOiAnR2F0ZXdheUVycm9yJyxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdWZXJjZWwgQUkgR2F0ZXdheSBhY2Nlc3MgZmFpbGVkLiAnICtcbiAgICAgICAgJ0lmIHlvdSB3YW50IHRvIHVzZSBBSSBTREsgcHJvdmlkZXJzIGRpcmVjdGx5LCB1c2UgdGhlIHByb3ZpZGVycywgZS5nLiBAYWktc2RrL29wZW5haSwgJyArXG4gICAgICAgICdvciByZWdpc3RlciBhIGRpZmZlcmVudCBnbG9iYWwgZGVmYXVsdCBwcm92aWRlci4nLFxuICAgICAgY2F1c2U6IGVycm9yLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGVycm9yO1xufVxuIiwgImltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi90ZWxlbWV0cnktc2V0dGluZ3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgb3BlcmF0aW9uSWQsXG4gIHRlbGVtZXRyeSxcbn06IHtcbiAgb3BlcmF0aW9uSWQ6IHN0cmluZztcbiAgdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG59KSB7XG4gIHJldHVybiB7XG4gICAgLy8gc3RhbmRhcmRpemVkIG9wZXJhdGlvbiBhbmQgcmVzb3VyY2UgbmFtZTpcbiAgICAnb3BlcmF0aW9uLm5hbWUnOiBgJHtvcGVyYXRpb25JZH0ke1xuICAgICAgdGVsZW1ldHJ5Py5mdW5jdGlvbklkICE9IG51bGwgPyBgICR7dGVsZW1ldHJ5LmZ1bmN0aW9uSWR9YCA6ICcnXG4gICAgfWAsXG4gICAgJ3Jlc291cmNlLm5hbWUnOiB0ZWxlbWV0cnk/LmZ1bmN0aW9uSWQsXG5cbiAgICAvLyBkZXRhaWxlZCwgQUkgU0RLIHNwZWNpZmljIGRhdGE6XG4gICAgJ2FpLm9wZXJhdGlvbklkJzogb3BlcmF0aW9uSWQsXG4gICAgJ2FpLnRlbGVtZXRyeS5mdW5jdGlvbklkJzogdGVsZW1ldHJ5Py5mdW5jdGlvbklkLFxuICB9O1xufVxuIiwgImltcG9ydCB7IEF0dHJpYnV0ZXMgfSBmcm9tICdAb3BlbnRlbGVtZXRyeS9hcGknO1xuaW1wb3J0IHsgQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L2NhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuL3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gIG1vZGVsLFxuICBzZXR0aW5ncyxcbiAgdGVsZW1ldHJ5LFxuICBoZWFkZXJzLFxufToge1xuICBtb2RlbDogeyBtb2RlbElkOiBzdHJpbmc7IHByb3ZpZGVyOiBzdHJpbmcgfTtcbiAgc2V0dGluZ3M6IE9taXQ8Q2FsbFNldHRpbmdzLCAnYWJvcnRTaWduYWwnIHwgJ2hlYWRlcnMnIHwgJ3RlbXBlcmF0dXJlJz47XG4gIHRlbGVtZXRyeTogVGVsZW1ldHJ5U2V0dGluZ3MgfCB1bmRlZmluZWQ7XG4gIGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQ7XG59KTogQXR0cmlidXRlcyB7XG4gIHJldHVybiB7XG4gICAgJ2FpLm1vZGVsLnByb3ZpZGVyJzogbW9kZWwucHJvdmlkZXIsXG4gICAgJ2FpLm1vZGVsLmlkJzogbW9kZWwubW9kZWxJZCxcblxuICAgIC8vIHNldHRpbmdzOlxuICAgIC4uLk9iamVjdC5lbnRyaWVzKHNldHRpbmdzKS5yZWR1Y2UoKGF0dHJpYnV0ZXMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgYXR0cmlidXRlc1tgYWkuc2V0dGluZ3MuJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH0sIHt9IGFzIEF0dHJpYnV0ZXMpLFxuXG4gICAgLy8gYWRkIG1ldGFkYXRhIGFzIGF0dHJpYnV0ZXM6XG4gICAgLi4uT2JqZWN0LmVudHJpZXModGVsZW1ldHJ5Py5tZXRhZGF0YSA/PyB7fSkucmVkdWNlKFxuICAgICAgKGF0dHJpYnV0ZXMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBhdHRyaWJ1dGVzW2BhaS50ZWxlbWV0cnkubWV0YWRhdGEuJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgICB9LFxuICAgICAge30gYXMgQXR0cmlidXRlcyxcbiAgICApLFxuXG4gICAgLy8gcmVxdWVzdCBoZWFkZXJzXG4gICAgLi4uT2JqZWN0LmVudHJpZXMoaGVhZGVycyA/PyB7fSkucmVkdWNlKChhdHRyaWJ1dGVzLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGF0dHJpYnV0ZXNbYGFpLnJlcXVlc3QuaGVhZGVycy4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfSwge30gYXMgQXR0cmlidXRlcyksXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgVHJhY2VyLCB0cmFjZSB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5pbXBvcnQgeyBub29wVHJhY2VyIH0gZnJvbSAnLi9ub29wLXRyYWNlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFjZXIoe1xuICBpc0VuYWJsZWQgPSBmYWxzZSxcbiAgdHJhY2VyLFxufToge1xuICBpc0VuYWJsZWQ/OiBib29sZWFuO1xuICB0cmFjZXI/OiBUcmFjZXI7XG59ID0ge30pOiBUcmFjZXIge1xuICBpZiAoIWlzRW5hYmxlZCkge1xuICAgIHJldHVybiBub29wVHJhY2VyO1xuICB9XG5cbiAgaWYgKHRyYWNlcikge1xuICAgIHJldHVybiB0cmFjZXI7XG4gIH1cblxuICByZXR1cm4gdHJhY2UuZ2V0VHJhY2VyKCdhaScpO1xufVxuIiwgImltcG9ydCB7IFNwYW4sIFNwYW5Db250ZXh0LCBUcmFjZXIgfSBmcm9tICdAb3BlbnRlbGVtZXRyeS9hcGknO1xuXG4vKipcbiAqIFRyYWNlciBpbXBsZW1lbnRhdGlvbiB0aGF0IGRvZXMgbm90aGluZyAobnVsbCBvYmplY3QpLlxuICovXG5leHBvcnQgY29uc3Qgbm9vcFRyYWNlcjogVHJhY2VyID0ge1xuICBzdGFydFNwYW4oKTogU3BhbiB7XG4gICAgcmV0dXJuIG5vb3BTcGFuO1xuICB9LFxuXG4gIHN0YXJ0QWN0aXZlU3BhbjxGIGV4dGVuZHMgKHNwYW46IFNwYW4pID0+IHVua25vd24+KFxuICAgIG5hbWU6IHVua25vd24sXG4gICAgYXJnMTogdW5rbm93bixcbiAgICBhcmcyPzogdW5rbm93bixcbiAgICBhcmczPzogRixcbiAgKTogUmV0dXJuVHlwZTxhbnk+IHtcbiAgICBpZiAodHlwZW9mIGFyZzEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBhcmcxKG5vb3BTcGFuKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcmcyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gYXJnMihub29wU3Bhbik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXJnMyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGFyZzMobm9vcFNwYW4pO1xuICAgIH1cbiAgfSxcbn07XG5cbmNvbnN0IG5vb3BTcGFuOiBTcGFuID0ge1xuICBzcGFuQ29udGV4dCgpIHtcbiAgICByZXR1cm4gbm9vcFNwYW5Db250ZXh0O1xuICB9LFxuICBzZXRBdHRyaWJ1dGUoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHNldEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGFkZEV2ZW50KCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGRMaW5rKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGRMaW5rcygpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgc2V0U3RhdHVzKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICB1cGRhdGVOYW1lKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBlbmQoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGlzUmVjb3JkaW5nKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgcmVjb3JkRXhjZXB0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxufTtcblxuY29uc3Qgbm9vcFNwYW5Db250ZXh0OiBTcGFuQ29udGV4dCA9IHtcbiAgdHJhY2VJZDogJycsXG4gIHNwYW5JZDogJycsXG4gIHRyYWNlRmxhZ3M6IDAsXG59O1xuIiwgImltcG9ydCB7IEF0dHJpYnV0ZXMsIFNwYW4sIFRyYWNlciwgU3BhblN0YXR1c0NvZGUgfSBmcm9tICdAb3BlbnRlbGVtZXRyeS9hcGknO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVjb3JkU3BhbjxUPih7XG4gIG5hbWUsXG4gIHRyYWNlcixcbiAgYXR0cmlidXRlcyxcbiAgZm4sXG4gIGVuZFdoZW5Eb25lID0gdHJ1ZSxcbn06IHtcbiAgbmFtZTogc3RyaW5nO1xuICB0cmFjZXI6IFRyYWNlcjtcbiAgYXR0cmlidXRlczogQXR0cmlidXRlcztcbiAgZm46IChzcGFuOiBTcGFuKSA9PiBQcm9taXNlPFQ+O1xuICBlbmRXaGVuRG9uZT86IGJvb2xlYW47XG59KSB7XG4gIHJldHVybiB0cmFjZXIuc3RhcnRBY3RpdmVTcGFuKG5hbWUsIHsgYXR0cmlidXRlcyB9LCBhc3luYyBzcGFuID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oc3Bhbik7XG5cbiAgICAgIGlmIChlbmRXaGVuRG9uZSkge1xuICAgICAgICBzcGFuLmVuZCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZWNvcmRFcnJvck9uU3BhbihzcGFuLCBlcnJvcik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAvLyBhbHdheXMgc3RvcCB0aGUgc3BhbiB3aGVuIHRoZXJlIGlzIGFuIGVycm9yOlxuICAgICAgICBzcGFuLmVuZCgpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlY29yZCBhbiBlcnJvciBvbiBhIHNwYW4uIElmIHRoZSBlcnJvciBpcyBhbiBpbnN0YW5jZSBvZiBFcnJvciwgYW4gZXhjZXB0aW9uIGV2ZW50IHdpbGwgYmUgcmVjb3JkZWQgb24gdGhlIHNwYW4sIG90aGVyd2lzZVxuICogdGhlIHNwYW4gd2lsbCBiZSBzZXQgdG8gYW4gZXJyb3Igc3RhdHVzLlxuICpcbiAqIEBwYXJhbSBzcGFuIC0gVGhlIHNwYW4gdG8gcmVjb3JkIHRoZSBlcnJvciBvbi5cbiAqIEBwYXJhbSBlcnJvciAtIFRoZSBlcnJvciB0byByZWNvcmQgb24gdGhlIHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvcmRFcnJvck9uU3BhbihzcGFuOiBTcGFuLCBlcnJvcjogdW5rbm93bikge1xuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHNwYW4ucmVjb3JkRXhjZXB0aW9uKHtcbiAgICAgIG5hbWU6IGVycm9yLm5hbWUsXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLFxuICAgIH0pO1xuICAgIHNwYW4uc2V0U3RhdHVzKHtcbiAgICAgIGNvZGU6IFNwYW5TdGF0dXNDb2RlLkVSUk9SLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzcGFuLnNldFN0YXR1cyh7IGNvZGU6IFNwYW5TdGF0dXNDb2RlLkVSUk9SIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBBdHRyaWJ1dGVzLCBBdHRyaWJ1dGVWYWx1ZSB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5pbXBvcnQgdHlwZSB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi90ZWxlbWV0cnktc2V0dGluZ3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gIHRlbGVtZXRyeSxcbiAgYXR0cmlidXRlcyxcbn06IHtcbiAgdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG4gIGF0dHJpYnV0ZXM6IHtcbiAgICBbYXR0cmlidXRlS2V5OiBzdHJpbmddOlxuICAgICAgfCBBdHRyaWJ1dGVWYWx1ZVxuICAgICAgfCB7IGlucHV0OiAoKSA9PiBBdHRyaWJ1dGVWYWx1ZSB8IHVuZGVmaW5lZCB9XG4gICAgICB8IHsgb3V0cHV0OiAoKSA9PiBBdHRyaWJ1dGVWYWx1ZSB8IHVuZGVmaW5lZCB9XG4gICAgICB8IHVuZGVmaW5lZDtcbiAgfTtcbn0pOiBBdHRyaWJ1dGVzIHtcbiAgLy8gd2hlbiB0ZWxlbWV0cnkgaXMgZGlzYWJsZWQsIHJldHVybiBhbiBlbXB0eSBvYmplY3QgdG8gYXZvaWQgc2VyaWFsaXphdGlvbiBvdmVyaGVhZDpcbiAgaWYgKHRlbGVtZXRyeT8uaXNFbmFibGVkICE9PSB0cnVlKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpLnJlZHVjZSgoYXR0cmlidXRlcywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cblxuICAgIC8vIGlucHV0IHZhbHVlLCBjaGVjayBpZiBpdCBzaG91bGQgYmUgcmVjb3JkZWQ6XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgJ2lucHV0JyBpbiB2YWx1ZSAmJlxuICAgICAgdHlwZW9mIHZhbHVlLmlucHV0ID09PSAnZnVuY3Rpb24nXG4gICAgKSB7XG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWU6XG4gICAgICBpZiAodGVsZW1ldHJ5Py5yZWNvcmRJbnB1dHMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZS5pbnB1dCgpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09IG51bGwgPyBhdHRyaWJ1dGVzIDogeyAuLi5hdHRyaWJ1dGVzLCBba2V5XTogcmVzdWx0IH07XG4gICAgfVxuXG4gICAgLy8gb3V0cHV0IHZhbHVlLCBjaGVjayBpZiBpdCBzaG91bGQgYmUgcmVjb3JkZWQ6XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgJ291dHB1dCcgaW4gdmFsdWUgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZS5vdXRwdXQgPT09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZTpcbiAgICAgIGlmICh0ZWxlbWV0cnk/LnJlY29yZE91dHB1dHMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZS5vdXRwdXQoKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdCA9PSBudWxsID8gYXR0cmlidXRlcyA6IHsgLi4uYXR0cmlidXRlcywgW2tleV06IHJlc3VsdCB9O1xuICAgIH1cblxuICAgIC8vIHZhbHVlIGlzIGFuIGF0dHJpYnV0ZSB2YWx1ZSBhbHJlYWR5OlxuICAgIHJldHVybiB7IC4uLmF0dHJpYnV0ZXMsIFtrZXldOiB2YWx1ZSB9O1xuICB9LCB7fSk7XG59XG4iLCAiaW1wb3J0IHtcbiAgTGFuZ3VhZ2VNb2RlbFYyTWVzc2FnZSxcbiAgTGFuZ3VhZ2VNb2RlbFYyUHJvbXB0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IGNvbnZlcnREYXRhQ29udGVudFRvQmFzZTY0U3RyaW5nIH0gZnJvbSAnLi4vcHJvbXB0L2RhdGEtY29udGVudCc7XG5cbi8qKlxuICogSGVscGVyIHV0aWxpdHkgdG8gc2VyaWFsaXplIHByb21wdCBjb250ZW50IGZvciBPcGVuVGVsZW1ldHJ5IHRyYWNpbmcuXG4gKiBJdCBpcyBpbml0aWFsbHkgY3JlYXRlZCBiZWNhdXNlIG5vcm1hbGl6ZWQgTGFuZ3VhZ2VNb2RlbFYxUHJvbXB0IGNhcnJpZXNcbiAqIGltYWdlcyBhcyBVaW50OEFycmF5cywgb24gd2hpY2ggSlNPTi5zdHJpbmdpZnkgYWN0cyB3ZWlyZGx5LCBjb252ZXJ0aW5nXG4gKiB0aGVtIHRvIG9iamVjdHMgd2l0aCBzdHJpbmdpZmllZCBpbmRpY2VzIGFzIGtleXMsIGUuZy4ge1wiMFwiOiA0MiwgXCIxXCI6IDY5IH0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlGb3JUZWxlbWV0cnkocHJvbXB0OiBMYW5ndWFnZU1vZGVsVjJQcm9tcHQpOiBzdHJpbmcge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgcHJvbXB0Lm1hcCgobWVzc2FnZTogTGFuZ3VhZ2VNb2RlbFYyTWVzc2FnZSkgPT4gKHtcbiAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICBjb250ZW50OlxuICAgICAgICB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSAnc3RyaW5nJ1xuICAgICAgICAgID8gbWVzc2FnZS5jb250ZW50XG4gICAgICAgICAgOiBtZXNzYWdlLmNvbnRlbnQubWFwKHBhcnQgPT5cbiAgICAgICAgICAgICAgcGFydC50eXBlID09PSAnZmlsZSdcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFydCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTpcbiAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNvbnZlcnREYXRhQ29udGVudFRvQmFzZTY0U3RyaW5nKHBhcnQuZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcGFydC5kYXRhLFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogcGFydCxcbiAgICAgICAgICAgICksXG4gICAgfSkpLFxuICApO1xufVxuIiwgImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMlVzYWdlIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbi8qKlxuUmVwcmVzZW50cyB0aGUgbnVtYmVyIG9mIHRva2VucyB1c2VkIGluIGEgcHJvbXB0IGFuZCBjb21wbGV0aW9uLlxuICovXG5leHBvcnQgdHlwZSBMYW5ndWFnZU1vZGVsVXNhZ2UgPSBMYW5ndWFnZU1vZGVsVjJVc2FnZTtcblxuLyoqXG5SZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgdG9rZW5zIHVzZWQgaW4gYW4gZW1iZWRkaW5nLlxuICovXG4vLyBUT0RPIHJlcGxhY2Ugd2l0aCBFbWJlZGRpbmdNb2RlbFYyVXNhZ2VcbmV4cG9ydCB0eXBlIEVtYmVkZGluZ01vZGVsVXNhZ2UgPSB7XG4gIC8qKlxuVGhlIG51bWJlciBvZiB0b2tlbnMgdXNlZCBpbiB0aGUgZW1iZWRkaW5nLlxuICAgKi9cbiAgdG9rZW5zOiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlKFxuICB1c2FnZTE6IExhbmd1YWdlTW9kZWxVc2FnZSxcbiAgdXNhZ2UyOiBMYW5ndWFnZU1vZGVsVXNhZ2UsXG4pOiBMYW5ndWFnZU1vZGVsVXNhZ2Uge1xuICByZXR1cm4ge1xuICAgIGlucHV0VG9rZW5zOiBhZGRUb2tlbkNvdW50cyh1c2FnZTEuaW5wdXRUb2tlbnMsIHVzYWdlMi5pbnB1dFRva2VucyksXG4gICAgb3V0cHV0VG9rZW5zOiBhZGRUb2tlbkNvdW50cyh1c2FnZTEub3V0cHV0VG9rZW5zLCB1c2FnZTIub3V0cHV0VG9rZW5zKSxcbiAgICB0b3RhbFRva2VuczogYWRkVG9rZW5Db3VudHModXNhZ2UxLnRvdGFsVG9rZW5zLCB1c2FnZTIudG90YWxUb2tlbnMpLFxuICAgIHJlYXNvbmluZ1Rva2VuczogYWRkVG9rZW5Db3VudHMoXG4gICAgICB1c2FnZTEucmVhc29uaW5nVG9rZW5zLFxuICAgICAgdXNhZ2UyLnJlYXNvbmluZ1Rva2VucyxcbiAgICApLFxuICAgIGNhY2hlZElucHV0VG9rZW5zOiBhZGRUb2tlbkNvdW50cyhcbiAgICAgIHVzYWdlMS5jYWNoZWRJbnB1dFRva2VucyxcbiAgICAgIHVzYWdlMi5jYWNoZWRJbnB1dFRva2VucyxcbiAgICApLFxuICB9O1xufVxuXG5mdW5jdGlvbiBhZGRUb2tlbkNvdW50cyhcbiAgdG9rZW5Db3VudDE6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgdG9rZW5Db3VudDI6IG51bWJlciB8IHVuZGVmaW5lZCxcbik6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiB0b2tlbkNvdW50MSA9PSBudWxsICYmIHRva2VuQ291bnQyID09IG51bGxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogKHRva2VuQ291bnQxID8/IDApICsgKHRva2VuQ291bnQyID8/IDApO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBhc0FycmF5PFQ+KHZhbHVlOiBUIHwgVFtdIHwgdW5kZWZpbmVkKTogVFtdIHtcbiAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBbXSA6IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xufVxuIiwgImltcG9ydCB7IEFQSUNhbGxFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgZGVsYXksIGdldEVycm9yTWVzc2FnZSwgaXNBYm9ydEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBSZXRyeUVycm9yIH0gZnJvbSAnLi9yZXRyeS1lcnJvcic7XG5cbmV4cG9ydCB0eXBlIFJldHJ5RnVuY3Rpb24gPSA8T1VUUFVUPihcbiAgZm46ICgpID0+IFByb21pc2VMaWtlPE9VVFBVVD4sXG4pID0+IFByb21pc2VMaWtlPE9VVFBVVD47XG5cbmZ1bmN0aW9uIGdldFJldHJ5RGVsYXlJbk1zKHtcbiAgZXJyb3IsXG4gIGV4cG9uZW50aWFsQmFja29mZkRlbGF5LFxufToge1xuICBlcnJvcjogQVBJQ2FsbEVycm9yO1xuICBleHBvbmVudGlhbEJhY2tvZmZEZWxheTogbnVtYmVyO1xufSk6IG51bWJlciB7XG4gIGNvbnN0IGhlYWRlcnMgPSBlcnJvci5yZXNwb25zZUhlYWRlcnM7XG5cbiAgaWYgKCFoZWFkZXJzKSByZXR1cm4gZXhwb25lbnRpYWxCYWNrb2ZmRGVsYXk7XG5cbiAgbGV0IG1zOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgLy8gcmV0cnktbXMgaXMgbW9yZSBwcmVjaXNlIHRoYW4gcmV0cnktYWZ0ZXIgYW5kIHVzZWQgYnkgZS5nLiBPcGVuQUlcbiAgY29uc3QgcmV0cnlBZnRlck1zID0gaGVhZGVyc1sncmV0cnktYWZ0ZXItbXMnXTtcbiAgaWYgKHJldHJ5QWZ0ZXJNcykge1xuICAgIGNvbnN0IHRpbWVvdXRNcyA9IHBhcnNlRmxvYXQocmV0cnlBZnRlck1zKTtcbiAgICBpZiAoIU51bWJlci5pc05hTih0aW1lb3V0TXMpKSB7XG4gICAgICBtcyA9IHRpbWVvdXRNcztcbiAgICB9XG4gIH1cblxuICAvLyBBYm91dCB0aGUgUmV0cnktQWZ0ZXIgaGVhZGVyOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvUmV0cnktQWZ0ZXJcbiAgY29uc3QgcmV0cnlBZnRlciA9IGhlYWRlcnNbJ3JldHJ5LWFmdGVyJ107XG4gIGlmIChyZXRyeUFmdGVyICYmIG1zID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCB0aW1lb3V0U2Vjb25kcyA9IHBhcnNlRmxvYXQocmV0cnlBZnRlcik7XG4gICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dFNlY29uZHMpKSB7XG4gICAgICBtcyA9IHRpbWVvdXRTZWNvbmRzICogMTAwMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbXMgPSBEYXRlLnBhcnNlKHJldHJ5QWZ0ZXIpIC0gRGF0ZS5ub3coKTtcbiAgICB9XG4gIH1cblxuICAvLyBjaGVjayB0aGF0IHRoZSBkZWxheSBpcyByZWFzb25hYmxlOlxuICBpZiAoXG4gICAgbXMgIT0gbnVsbCAmJlxuICAgICFOdW1iZXIuaXNOYU4obXMpICYmXG4gICAgMCA8PSBtcyAmJlxuICAgIChtcyA8IDYwICogMTAwMCB8fCBtcyA8IGV4cG9uZW50aWFsQmFja29mZkRlbGF5KVxuICApIHtcbiAgICByZXR1cm4gbXM7XG4gIH1cblxuICByZXR1cm4gZXhwb25lbnRpYWxCYWNrb2ZmRGVsYXk7XG59XG5cbi8qKlxuVGhlIGByZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmZSZXNwZWN0aW5nUmV0cnlIZWFkZXJzYCBzdHJhdGVneSByZXRyaWVzIGEgZmFpbGVkIEFQSSBjYWxsIHdpdGggYW4gZXhwb25lbnRpYWwgYmFja29mZixcbndoaWxlIHJlc3BlY3RpbmcgcmF0ZSBsaW1pdCBoZWFkZXJzIChyZXRyeS1hZnRlci1tcyBhbmQgcmV0cnktYWZ0ZXIpIGlmIHRoZXkgYXJlIHByb3ZpZGVkIGFuZCByZWFzb25hYmxlICgwLTYwIHNlY29uZHMpLlxuWW91IGNhbiBjb25maWd1cmUgdGhlIG1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMsIHRoZSBpbml0aWFsIGRlbGF5LCBhbmQgdGhlIGJhY2tvZmYgZmFjdG9yLlxuICovXG5leHBvcnQgY29uc3QgcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmUmVzcGVjdGluZ1JldHJ5SGVhZGVycyA9XG4gICh7XG4gICAgbWF4UmV0cmllcyA9IDIsXG4gICAgaW5pdGlhbERlbGF5SW5NcyA9IDIwMDAsXG4gICAgYmFja29mZkZhY3RvciA9IDIsXG4gICAgYWJvcnRTaWduYWwsXG4gIH06IHtcbiAgICBtYXhSZXRyaWVzPzogbnVtYmVyO1xuICAgIGluaXRpYWxEZWxheUluTXM/OiBudW1iZXI7XG4gICAgYmFja29mZkZhY3Rvcj86IG51bWJlcjtcbiAgICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICB9ID0ge30pOiBSZXRyeUZ1bmN0aW9uID0+XG4gIGFzeW5jIDxPVVRQVVQ+KGY6ICgpID0+IFByb21pc2VMaWtlPE9VVFBVVD4pID0+XG4gICAgX3JldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZihmLCB7XG4gICAgICBtYXhSZXRyaWVzLFxuICAgICAgZGVsYXlJbk1zOiBpbml0aWFsRGVsYXlJbk1zLFxuICAgICAgYmFja29mZkZhY3RvcixcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgIH0pO1xuXG5hc3luYyBmdW5jdGlvbiBfcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmPE9VVFBVVD4oXG4gIGY6ICgpID0+IFByb21pc2VMaWtlPE9VVFBVVD4sXG4gIHtcbiAgICBtYXhSZXRyaWVzLFxuICAgIGRlbGF5SW5NcyxcbiAgICBiYWNrb2ZmRmFjdG9yLFxuICAgIGFib3J0U2lnbmFsLFxuICB9OiB7XG4gICAgbWF4UmV0cmllczogbnVtYmVyO1xuICAgIGRlbGF5SW5NczogbnVtYmVyO1xuICAgIGJhY2tvZmZGYWN0b3I6IG51bWJlcjtcbiAgICBhYm9ydFNpZ25hbDogQWJvcnRTaWduYWwgfCB1bmRlZmluZWQ7XG4gIH0sXG4gIGVycm9yczogdW5rbm93bltdID0gW10sXG4pOiBQcm9taXNlPE9VVFBVVD4ge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBmKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikpIHtcbiAgICAgIHRocm93IGVycm9yOyAvLyBkb24ndCByZXRyeSB3aGVuIHRoZSByZXF1ZXN0IHdhcyBhYm9ydGVkXG4gICAgfVxuXG4gICAgaWYgKG1heFJldHJpZXMgPT09IDApIHtcbiAgICAgIHRocm93IGVycm9yOyAvLyBkb24ndCB3cmFwIHRoZSBlcnJvciB3aGVuIHJldHJpZXMgYXJlIGRpc2FibGVkXG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKTtcbiAgICBjb25zdCBuZXdFcnJvcnMgPSBbLi4uZXJyb3JzLCBlcnJvcl07XG4gICAgY29uc3QgdHJ5TnVtYmVyID0gbmV3RXJyb3JzLmxlbmd0aDtcblxuICAgIGlmICh0cnlOdW1iZXIgPiBtYXhSZXRyaWVzKSB7XG4gICAgICB0aHJvdyBuZXcgUmV0cnlFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgYWZ0ZXIgJHt0cnlOdW1iZXJ9IGF0dGVtcHRzLiBMYXN0IGVycm9yOiAke2Vycm9yTWVzc2FnZX1gLFxuICAgICAgICByZWFzb246ICdtYXhSZXRyaWVzRXhjZWVkZWQnLFxuICAgICAgICBlcnJvcnM6IG5ld0Vycm9ycyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgIEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSAmJlxuICAgICAgZXJyb3IuaXNSZXRyeWFibGUgPT09IHRydWUgJiZcbiAgICAgIHRyeU51bWJlciA8PSBtYXhSZXRyaWVzXG4gICAgKSB7XG4gICAgICBhd2FpdCBkZWxheShcbiAgICAgICAgZ2V0UmV0cnlEZWxheUluTXMoe1xuICAgICAgICAgIGVycm9yLFxuICAgICAgICAgIGV4cG9uZW50aWFsQmFja29mZkRlbGF5OiBkZWxheUluTXMsXG4gICAgICAgIH0pLFxuICAgICAgICB7IGFib3J0U2lnbmFsIH0sXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gX3JldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZihcbiAgICAgICAgZixcbiAgICAgICAge1xuICAgICAgICAgIG1heFJldHJpZXMsXG4gICAgICAgICAgZGVsYXlJbk1zOiBiYWNrb2ZmRmFjdG9yICogZGVsYXlJbk1zLFxuICAgICAgICAgIGJhY2tvZmZGYWN0b3IsXG4gICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgIH0sXG4gICAgICAgIG5ld0Vycm9ycyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRyeU51bWJlciA9PT0gMSkge1xuICAgICAgdGhyb3cgZXJyb3I7IC8vIGRvbid0IHdyYXAgdGhlIGVycm9yIHdoZW4gYSBub24tcmV0cnlhYmxlIGVycm9yIG9jY3VycyBvbiB0aGUgZmlyc3QgdHJ5XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IFJldHJ5RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYEZhaWxlZCBhZnRlciAke3RyeU51bWJlcn0gYXR0ZW1wdHMgd2l0aCBub24tcmV0cnlhYmxlIGVycm9yOiAnJHtlcnJvck1lc3NhZ2V9J2AsXG4gICAgICByZWFzb246ICdlcnJvck5vdFJldHJ5YWJsZScsXG4gICAgICBlcnJvcnM6IG5ld0Vycm9ycyxcbiAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5pbXBvcnQge1xuICBSZXRyeUZ1bmN0aW9uLFxuICByZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmZSZXNwZWN0aW5nUmV0cnlIZWFkZXJzLFxufSBmcm9tICcuLi91dGlsL3JldHJ5LXdpdGgtZXhwb25lbnRpYWwtYmFja29mZic7XG5cbi8qKlxuICogVmFsaWRhdGUgYW5kIHByZXBhcmUgcmV0cmllcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVSZXRyaWVzKHtcbiAgbWF4UmV0cmllcyxcbiAgYWJvcnRTaWduYWwsXG59OiB7XG4gIG1heFJldHJpZXM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgYWJvcnRTaWduYWw6IEFib3J0U2lnbmFsIHwgdW5kZWZpbmVkO1xufSk6IHtcbiAgbWF4UmV0cmllczogbnVtYmVyO1xuICByZXRyeTogUmV0cnlGdW5jdGlvbjtcbn0ge1xuICBpZiAobWF4UmV0cmllcyAhPSBudWxsKSB7XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG1heFJldHJpZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdtYXhSZXRyaWVzJyxcbiAgICAgICAgdmFsdWU6IG1heFJldHJpZXMsXG4gICAgICAgIG1lc3NhZ2U6ICdtYXhSZXRyaWVzIG11c3QgYmUgYW4gaW50ZWdlcicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobWF4UmV0cmllcyA8IDApIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ21heFJldHJpZXMnLFxuICAgICAgICB2YWx1ZTogbWF4UmV0cmllcyxcbiAgICAgICAgbWVzc2FnZTogJ21heFJldHJpZXMgbXVzdCBiZSA+PSAwJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG1heFJldHJpZXNSZXN1bHQgPSBtYXhSZXRyaWVzID8/IDI7XG5cbiAgcmV0dXJuIHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzUmVzdWx0LFxuICAgIHJldHJ5OiByZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmZSZXNwZWN0aW5nUmV0cnlIZWFkZXJzKHtcbiAgICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNSZXN1bHQsXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICB9KSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjJDb250ZW50LCBMYW5ndWFnZU1vZGVsVjJUZXh0IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0VGV4dENvbnRlbnQoXG4gIGNvbnRlbnQ6IExhbmd1YWdlTW9kZWxWMkNvbnRlbnRbXSxcbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IHBhcnRzID0gY29udGVudC5maWx0ZXIoXG4gICAgKGNvbnRlbnQpOiBjb250ZW50IGlzIExhbmd1YWdlTW9kZWxWMlRleHQgPT4gY29udGVudC50eXBlID09PSAndGV4dCcsXG4gICk7XG5cbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gcGFydHMubWFwKGNvbnRlbnQgPT4gY29udGVudC50ZXh0KS5qb2luKCcnKTtcbn1cbiIsICJpbXBvcnQge1xuICBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5LFxuICBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcblxuLyoqXG4gKiBBIGdlbmVyYXRlZCBmaWxlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdlbmVyYXRlZEZpbGUge1xuICAvKipcbkZpbGUgYXMgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXG4gICAgICovXG4gIHJlYWRvbmx5IGJhc2U2NDogc3RyaW5nO1xuXG4gIC8qKlxuRmlsZSBhcyBhIFVpbnQ4QXJyYXkuXG4gICAgICovXG4gIHJlYWRvbmx5IHVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXk7XG5cbiAgLyoqXG5UaGUgSUFOQSBtZWRpYSB0eXBlIG9mIHRoZSBmaWxlLlxuXG5Ac2VlIGh0dHBzOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL21lZGlhLXR5cGVzL21lZGlhLXR5cGVzLnhodG1sXG4gICAqL1xuICByZWFkb25seSBtZWRpYVR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRHZW5lcmF0ZWRGaWxlIGltcGxlbWVudHMgR2VuZXJhdGVkRmlsZSB7XG4gIHByaXZhdGUgYmFzZTY0RGF0YTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHVpbnQ4QXJyYXlEYXRhOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkO1xuXG4gIHJlYWRvbmx5IG1lZGlhVHlwZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkYXRhLFxuICAgIG1lZGlhVHlwZSxcbiAgfToge1xuICAgIGRhdGE6IHN0cmluZyB8IFVpbnQ4QXJyYXk7XG4gICAgbWVkaWFUeXBlOiBzdHJpbmc7XG4gIH0pIHtcbiAgICBjb25zdCBpc1VpbnQ4QXJyYXkgPSBkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheTtcbiAgICB0aGlzLmJhc2U2NERhdGEgPSBpc1VpbnQ4QXJyYXkgPyB1bmRlZmluZWQgOiBkYXRhO1xuICAgIHRoaXMudWludDhBcnJheURhdGEgPSBpc1VpbnQ4QXJyYXkgPyBkYXRhIDogdW5kZWZpbmVkO1xuICAgIHRoaXMubWVkaWFUeXBlID0gbWVkaWFUeXBlO1xuICB9XG5cbiAgLy8gbGF6eSBjb252ZXJzaW9uIHdpdGggY2FjaGluZyB0byBhdm9pZCB1bm5lY2Vzc2FyeSBjb252ZXJzaW9uIG92ZXJoZWFkOlxuICBnZXQgYmFzZTY0KCkge1xuICAgIGlmICh0aGlzLmJhc2U2NERhdGEgPT0gbnVsbCkge1xuICAgICAgdGhpcy5iYXNlNjREYXRhID0gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCh0aGlzLnVpbnQ4QXJyYXlEYXRhISk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmJhc2U2NERhdGE7XG4gIH1cblxuICAvLyBsYXp5IGNvbnZlcnNpb24gd2l0aCBjYWNoaW5nIHRvIGF2b2lkIHVubmVjZXNzYXJ5IGNvbnZlcnNpb24gb3ZlcmhlYWQ6XG4gIGdldCB1aW50OEFycmF5KCkge1xuICAgIGlmICh0aGlzLnVpbnQ4QXJyYXlEYXRhID09IG51bGwpIHtcbiAgICAgIHRoaXMudWludDhBcnJheURhdGEgPSBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5KHRoaXMuYmFzZTY0RGF0YSEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy51aW50OEFycmF5RGF0YTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdEdlbmVyYXRlZEZpbGVXaXRoVHlwZSBleHRlbmRzIERlZmF1bHRHZW5lcmF0ZWRGaWxlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdmaWxlJztcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IGRhdGE6IHN0cmluZyB8IFVpbnQ4QXJyYXk7IG1lZGlhVHlwZTogc3RyaW5nIH0pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMlRvb2xDYWxsIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBhc1NjaGVtYSxcbiAgTW9kZWxNZXNzYWdlLFxuICBzYWZlUGFyc2VKU09OLFxuICBzYWZlVmFsaWRhdGVUeXBlcyxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBJbnZhbGlkVG9vbElucHV0RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbnZhbGlkLXRvb2wtaW5wdXQtZXJyb3InO1xuaW1wb3J0IHsgTm9TdWNoVG9vbEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tc3VjaC10b29sLWVycm9yJztcbmltcG9ydCB7IFRvb2xDYWxsUmVwYWlyRXJyb3IgfSBmcm9tICcuLi9lcnJvci90b29sLWNhbGwtcmVwYWlyLWVycm9yJztcbmltcG9ydCB7IFR5cGVkVG9vbENhbGwgfSBmcm9tICcuL3Rvb2wtY2FsbCc7XG5pbXBvcnQgeyBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uIH0gZnJvbSAnLi90b29sLWNhbGwtcmVwYWlyLWZ1bmN0aW9uJztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlVG9vbENhbGw8VE9PTFMgZXh0ZW5kcyBUb29sU2V0Pih7XG4gIHRvb2xDYWxsLFxuICB0b29scyxcbiAgcmVwYWlyVG9vbENhbGwsXG4gIHN5c3RlbSxcbiAgbWVzc2FnZXMsXG59OiB7XG4gIHRvb2xDYWxsOiBMYW5ndWFnZU1vZGVsVjJUb29sQ2FsbDtcbiAgdG9vbHM6IFRPT0xTIHwgdW5kZWZpbmVkO1xuICByZXBhaXJUb29sQ2FsbDogVG9vbENhbGxSZXBhaXJGdW5jdGlvbjxUT09MUz4gfCB1bmRlZmluZWQ7XG4gIHN5c3RlbTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBtZXNzYWdlczogTW9kZWxNZXNzYWdlW107XG59KTogUHJvbWlzZTxUeXBlZFRvb2xDYWxsPFRPT0xTPj4ge1xuICB0cnkge1xuICAgIGlmICh0b29scyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoVG9vbEVycm9yKHsgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lIH0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgZG9QYXJzZVRvb2xDYWxsKHsgdG9vbENhbGwsIHRvb2xzIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHJlcGFpclRvb2xDYWxsID09IG51bGwgfHxcbiAgICAgICAgIShcbiAgICAgICAgICBOb1N1Y2hUb29sRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgfHxcbiAgICAgICAgICBJbnZhbGlkVG9vbElucHV0RXJyb3IuaXNJbnN0YW5jZShlcnJvcilcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuXG4gICAgICBsZXQgcmVwYWlyZWRUb29sQ2FsbDogTGFuZ3VhZ2VNb2RlbFYyVG9vbENhbGwgfCBudWxsID0gbnVsbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmVwYWlyZWRUb29sQ2FsbCA9IGF3YWl0IHJlcGFpclRvb2xDYWxsKHtcbiAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgICB0b29scyxcbiAgICAgICAgICBpbnB1dFNjaGVtYTogKHsgdG9vbE5hbWUgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpbnB1dFNjaGVtYSB9ID0gdG9vbHNbdG9vbE5hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIGFzU2NoZW1hKGlucHV0U2NoZW1hKS5qc29uU2NoZW1hO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKHJlcGFpckVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBUb29sQ2FsbFJlcGFpckVycm9yKHtcbiAgICAgICAgICBjYXVzZTogcmVwYWlyRXJyb3IsXG4gICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3IsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBubyByZXBhaXJlZCB0b29sIGNhbGwgcmV0dXJuZWRcbiAgICAgIGlmIChyZXBhaXJlZFRvb2xDYWxsID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCBkb1BhcnNlVG9vbENhbGwoeyB0b29sQ2FsbDogcmVwYWlyZWRUb29sQ2FsbCwgdG9vbHMgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIHVzZSBwYXJzZWQgaW5wdXQgd2hlbiBwb3NzaWJsZVxuICAgIGNvbnN0IHBhcnNlZElucHV0ID0gYXdhaXQgc2FmZVBhcnNlSlNPTih7IHRleHQ6IHRvb2xDYWxsLmlucHV0IH0pO1xuICAgIGNvbnN0IGlucHV0ID0gcGFyc2VkSW5wdXQuc3VjY2VzcyA/IHBhcnNlZElucHV0LnZhbHVlIDogdG9vbENhbGwuaW5wdXQ7XG5cbiAgICAvLyBUT0RPIEFJIFNESyA2OiBzcGVjaWFsIGludmFsaWQgdG9vbCBjYWxsIHBhcnRzXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICd0b29sLWNhbGwnLFxuICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgIGlucHV0LFxuICAgICAgZHluYW1pYzogdHJ1ZSxcbiAgICAgIGludmFsaWQ6IHRydWUsXG4gICAgICBlcnJvcixcbiAgICB9O1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRvUGFyc2VUb29sQ2FsbDxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgdG9vbENhbGwsXG4gIHRvb2xzLFxufToge1xuICB0b29sQ2FsbDogTGFuZ3VhZ2VNb2RlbFYyVG9vbENhbGw7XG4gIHRvb2xzOiBUT09MUztcbn0pOiBQcm9taXNlPFR5cGVkVG9vbENhbGw8VE9PTFM+PiB7XG4gIGNvbnN0IHRvb2xOYW1lID0gdG9vbENhbGwudG9vbE5hbWUgYXMga2V5b2YgVE9PTFMgJiBzdHJpbmc7XG5cbiAgY29uc3QgdG9vbCA9IHRvb2xzW3Rvb2xOYW1lXTtcblxuICBpZiAodG9vbCA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IE5vU3VjaFRvb2xFcnJvcih7XG4gICAgICB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICBhdmFpbGFibGVUb29sczogT2JqZWN0LmtleXModG9vbHMpLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgc2NoZW1hID0gYXNTY2hlbWEodG9vbC5pbnB1dFNjaGVtYSk7XG5cbiAgLy8gd2hlbiB0aGUgdG9vbCBjYWxsIGhhcyBubyBhcmd1bWVudHMsIHdlIHRyeSBwYXNzaW5nIGFuIGVtcHR5IG9iamVjdCB0byB0aGUgc2NoZW1hXG4gIC8vIChtYW55IExMTXMgZ2VuZXJhdGUgZW1wdHkgc3RyaW5ncyBmb3IgdG9vbCBjYWxscyB3aXRoIG5vIGFyZ3VtZW50cylcbiAgY29uc3QgcGFyc2VSZXN1bHQgPVxuICAgIHRvb2xDYWxsLmlucHV0LnRyaW0oKSA9PT0gJydcbiAgICAgID8gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZToge30sIHNjaGVtYSB9KVxuICAgICAgOiBhd2FpdCBzYWZlUGFyc2VKU09OKHsgdGV4dDogdG9vbENhbGwuaW5wdXQsIHNjaGVtYSB9KTtcblxuICBpZiAocGFyc2VSZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFRvb2xJbnB1dEVycm9yKHtcbiAgICAgIHRvb2xOYW1lLFxuICAgICAgdG9vbElucHV0OiB0b29sQ2FsbC5pbnB1dCxcbiAgICAgIGNhdXNlOiBwYXJzZVJlc3VsdC5lcnJvcixcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0b29sLnR5cGUgPT09ICdkeW5hbWljJ1xuICAgID8ge1xuICAgICAgICB0eXBlOiAndG9vbC1jYWxsJyxcbiAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICBpbnB1dDogcGFyc2VSZXN1bHQudmFsdWUsXG4gICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHRvb2xDYWxsLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHRvb2xDYWxsLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgIGR5bmFtaWM6IHRydWUsXG4gICAgICB9XG4gICAgOiB7XG4gICAgICAgIHR5cGU6ICd0b29sLWNhbGwnLFxuICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgaW5wdXQ6IHBhcnNlUmVzdWx0LnZhbHVlLFxuICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB0b29sQ2FsbC5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiB0b29sQ2FsbC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgfTtcbn1cbiIsICJpbXBvcnQgeyBSZWFzb25pbmdQYXJ0IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQge1xuICBDYWxsV2FybmluZyxcbiAgRmluaXNoUmVhc29uLFxuICBMYW5ndWFnZU1vZGVsUmVxdWVzdE1ldGFkYXRhLFxuICBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSxcbiAgUHJvdmlkZXJNZXRhZGF0YSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFVzYWdlIH0gZnJvbSAnLi4vdHlwZXMvdXNhZ2UnO1xuaW1wb3J0IHsgQ29udGVudFBhcnQgfSBmcm9tICcuL2NvbnRlbnQtcGFydCc7XG5pbXBvcnQgeyBHZW5lcmF0ZWRGaWxlIH0gZnJvbSAnLi9nZW5lcmF0ZWQtZmlsZSc7XG5pbXBvcnQgeyBSZXNwb25zZU1lc3NhZ2UgfSBmcm9tICcuL3Jlc3BvbnNlLW1lc3NhZ2UnO1xuaW1wb3J0IHsgRHluYW1pY1Rvb2xDYWxsLCBTdGF0aWNUb29sQ2FsbCwgVHlwZWRUb29sQ2FsbCB9IGZyb20gJy4vdG9vbC1jYWxsJztcbmltcG9ydCB7XG4gIER5bmFtaWNUb29sUmVzdWx0LFxuICBTdGF0aWNUb29sUmVzdWx0LFxuICBUeXBlZFRvb2xSZXN1bHQsXG59IGZyb20gJy4vdG9vbC1yZXN1bHQnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4vdG9vbC1zZXQnO1xuXG4vKipcbiAqIFRoZSByZXN1bHQgb2YgYSBzaW5nbGUgc3RlcCBpbiB0aGUgZ2VuZXJhdGlvbiBwcm9jZXNzLlxuICovXG5leHBvcnQgdHlwZSBTdGVwUmVzdWx0PFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSB7XG4gIC8qKlxuVGhlIGNvbnRlbnQgdGhhdCB3YXMgZ2VuZXJhdGVkIGluIHRoZSBsYXN0IHN0ZXAuXG4gICAqL1xuICByZWFkb25seSBjb250ZW50OiBBcnJheTxDb250ZW50UGFydDxUT09MUz4+O1xuXG4gIC8qKlxuVGhlIGdlbmVyYXRlZCB0ZXh0LlxuKi9cbiAgcmVhZG9ubHkgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuVGhlIHJlYXNvbmluZyB0aGF0IHdhcyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBnZW5lcmF0aW9uLlxuKi9cbiAgcmVhZG9ubHkgcmVhc29uaW5nOiBBcnJheTxSZWFzb25pbmdQYXJ0PjtcblxuICAvKipcblRoZSByZWFzb25pbmcgdGV4dCB0aGF0IHdhcyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBnZW5lcmF0aW9uLlxuKi9cbiAgcmVhZG9ubHkgcmVhc29uaW5nVGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuVGhlIGZpbGVzIHRoYXQgd2VyZSBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBnZW5lcmF0aW9uLlxuKi9cbiAgcmVhZG9ubHkgZmlsZXM6IEFycmF5PEdlbmVyYXRlZEZpbGU+O1xuXG4gIC8qKlxuVGhlIHNvdXJjZXMgdGhhdCB3ZXJlIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIHRleHQuXG4qL1xuICByZWFkb25seSBzb3VyY2VzOiBBcnJheTxTb3VyY2U+O1xuXG4gIC8qKlxuVGhlIHRvb2wgY2FsbHMgdGhhdCB3ZXJlIG1hZGUgZHVyaW5nIHRoZSBnZW5lcmF0aW9uLlxuKi9cbiAgcmVhZG9ubHkgdG9vbENhbGxzOiBBcnJheTxUeXBlZFRvb2xDYWxsPFRPT0xTPj47XG5cbiAgLyoqXG5UaGUgc3RhdGljIHRvb2wgY2FsbHMgdGhhdCB3ZXJlIG1hZGUgaW4gdGhlIGxhc3Qgc3RlcC5cbiovXG4gIHJlYWRvbmx5IHN0YXRpY1Rvb2xDYWxsczogQXJyYXk8U3RhdGljVG9vbENhbGw8VE9PTFM+PjtcblxuICAvKipcblRoZSBkeW5hbWljIHRvb2wgY2FsbHMgdGhhdCB3ZXJlIG1hZGUgaW4gdGhlIGxhc3Qgc3RlcC5cbiovXG4gIHJlYWRvbmx5IGR5bmFtaWNUb29sQ2FsbHM6IEFycmF5PER5bmFtaWNUb29sQ2FsbD47XG5cbiAgLyoqXG5UaGUgcmVzdWx0cyBvZiB0aGUgdG9vbCBjYWxscy5cbiovXG4gIHJlYWRvbmx5IHRvb2xSZXN1bHRzOiBBcnJheTxUeXBlZFRvb2xSZXN1bHQ8VE9PTFM+PjtcblxuICAvKipcblRoZSBzdGF0aWMgdG9vbCByZXN1bHRzIHRoYXQgd2VyZSBtYWRlIGluIHRoZSBsYXN0IHN0ZXAuXG4qL1xuICByZWFkb25seSBzdGF0aWNUb29sUmVzdWx0czogQXJyYXk8U3RhdGljVG9vbFJlc3VsdDxUT09MUz4+O1xuXG4gIC8qKlxuVGhlIGR5bmFtaWMgdG9vbCByZXN1bHRzIHRoYXQgd2VyZSBtYWRlIGluIHRoZSBsYXN0IHN0ZXAuXG4qL1xuICByZWFkb25seSBkeW5hbWljVG9vbFJlc3VsdHM6IEFycmF5PER5bmFtaWNUb29sUmVzdWx0PjtcblxuICAvKipcblRoZSByZWFzb24gd2h5IHRoZSBnZW5lcmF0aW9uIGZpbmlzaGVkLlxuKi9cbiAgcmVhZG9ubHkgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb247XG5cbiAgLyoqXG5UaGUgdG9rZW4gdXNhZ2Ugb2YgdGhlIGdlbmVyYXRlZCB0ZXh0LlxuKi9cbiAgcmVhZG9ubHkgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcblxuICAvKipcbldhcm5pbmdzIGZyb20gdGhlIG1vZGVsIHByb3ZpZGVyIChlLmcuIHVuc3VwcG9ydGVkIHNldHRpbmdzKS5cbiovXG4gIHJlYWRvbmx5IHdhcm5pbmdzOiBDYWxsV2FybmluZ1tdIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuQWRkaXRpb25hbCByZXF1ZXN0IGluZm9ybWF0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgcmVxdWVzdDogTGFuZ3VhZ2VNb2RlbFJlcXVlc3RNZXRhZGF0YTtcblxuICAvKipcbkFkZGl0aW9uYWwgcmVzcG9uc2UgaW5mb3JtYXRpb24uXG4qL1xuICByZWFkb25seSByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgJiB7XG4gICAgLyoqXG5UaGUgcmVzcG9uc2UgbWVzc2FnZXMgdGhhdCB3ZXJlIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGNhbGwuXG5SZXNwb25zZSBtZXNzYWdlcyBjYW4gYmUgZWl0aGVyIGFzc2lzdGFudCBtZXNzYWdlcyBvciB0b29sIG1lc3NhZ2VzLlxuVGhleSBjb250YWluIGEgZ2VuZXJhdGVkIGlkLlxuKi9cbiAgICByZWFkb25seSBtZXNzYWdlczogQXJyYXk8UmVzcG9uc2VNZXNzYWdlPjtcblxuICAgIC8qKlxuUmVzcG9uc2UgYm9keSAoYXZhaWxhYmxlIG9ubHkgZm9yIHByb3ZpZGVycyB0aGF0IHVzZSBIVFRQIHJlcXVlc3RzKS5cbiAgICAgKi9cbiAgICBib2R5PzogdW5rbm93bjtcbiAgfTtcblxuICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG5mcm9tIHRoZSBwcm92aWRlciB0byB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbnJlc3VsdHMgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgICovXG4gIHJlYWRvbmx5IHByb3ZpZGVyTWV0YWRhdGE6IFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY2xhc3MgRGVmYXVsdFN0ZXBSZXN1bHQ8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PlxuICBpbXBsZW1lbnRzIFN0ZXBSZXN1bHQ8VE9PTFM+XG57XG4gIHJlYWRvbmx5IGNvbnRlbnQ6IFN0ZXBSZXN1bHQ8VE9PTFM+Wydjb250ZW50J107XG4gIHJlYWRvbmx5IGZpbmlzaFJlYXNvbjogU3RlcFJlc3VsdDxUT09MUz5bJ2ZpbmlzaFJlYXNvbiddO1xuICByZWFkb25seSB1c2FnZTogU3RlcFJlc3VsdDxUT09MUz5bJ3VzYWdlJ107XG4gIHJlYWRvbmx5IHdhcm5pbmdzOiBTdGVwUmVzdWx0PFRPT0xTPlsnd2FybmluZ3MnXTtcbiAgcmVhZG9ubHkgcmVxdWVzdDogU3RlcFJlc3VsdDxUT09MUz5bJ3JlcXVlc3QnXTtcbiAgcmVhZG9ubHkgcmVzcG9uc2U6IFN0ZXBSZXN1bHQ8VE9PTFM+WydyZXNwb25zZSddO1xuICByZWFkb25seSBwcm92aWRlck1ldGFkYXRhOiBTdGVwUmVzdWx0PFRPT0xTPlsncHJvdmlkZXJNZXRhZGF0YSddO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjb250ZW50LFxuICAgIGZpbmlzaFJlYXNvbixcbiAgICB1c2FnZSxcbiAgICB3YXJuaW5ncyxcbiAgICByZXF1ZXN0LFxuICAgIHJlc3BvbnNlLFxuICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gIH06IHtcbiAgICBjb250ZW50OiBTdGVwUmVzdWx0PFRPT0xTPlsnY29udGVudCddO1xuICAgIGZpbmlzaFJlYXNvbjogU3RlcFJlc3VsdDxUT09MUz5bJ2ZpbmlzaFJlYXNvbiddO1xuICAgIHVzYWdlOiBTdGVwUmVzdWx0PFRPT0xTPlsndXNhZ2UnXTtcbiAgICB3YXJuaW5nczogU3RlcFJlc3VsdDxUT09MUz5bJ3dhcm5pbmdzJ107XG4gICAgcmVxdWVzdDogU3RlcFJlc3VsdDxUT09MUz5bJ3JlcXVlc3QnXTtcbiAgICByZXNwb25zZTogU3RlcFJlc3VsdDxUT09MUz5bJ3Jlc3BvbnNlJ107XG4gICAgcHJvdmlkZXJNZXRhZGF0YTogU3RlcFJlc3VsdDxUT09MUz5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcbiAgfSkge1xuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgdGhpcy5maW5pc2hSZWFzb24gPSBmaW5pc2hSZWFzb247XG4gICAgdGhpcy51c2FnZSA9IHVzYWdlO1xuICAgIHRoaXMud2FybmluZ3MgPSB3YXJuaW5ncztcbiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGEgPSBwcm92aWRlck1ldGFkYXRhO1xuICB9XG5cbiAgZ2V0IHRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudFxuICAgICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ3RleHQnKVxuICAgICAgLm1hcChwYXJ0ID0+IHBhcnQudGV4dClcbiAgICAgIC5qb2luKCcnKTtcbiAgfVxuXG4gIGdldCByZWFzb25pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgPT09ICdyZWFzb25pbmcnKTtcbiAgfVxuXG4gIGdldCByZWFzb25pbmdUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLnJlYXNvbmluZy5sZW5ndGggPT09IDBcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IHRoaXMucmVhc29uaW5nLm1hcChwYXJ0ID0+IHBhcnQudGV4dCkuam9pbignJyk7XG4gIH1cblxuICBnZXQgZmlsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudFxuICAgICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ2ZpbGUnKVxuICAgICAgLm1hcChwYXJ0ID0+IHBhcnQuZmlsZSk7XG4gIH1cblxuICBnZXQgc291cmNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ3NvdXJjZScpO1xuICB9XG5cbiAgZ2V0IHRvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ3Rvb2wtY2FsbCcpO1xuICB9XG5cbiAgZ2V0IHN0YXRpY1Rvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy50b29sQ2FsbHMuZmlsdGVyKFxuICAgICAgKHRvb2xDYWxsKTogdG9vbENhbGwgaXMgU3RhdGljVG9vbENhbGw8VE9PTFM+ID0+XG4gICAgICAgIHRvb2xDYWxsLmR5bmFtaWMgPT09IGZhbHNlLFxuICAgICk7XG4gIH1cblxuICBnZXQgZHluYW1pY1Rvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy50b29sQ2FsbHMuZmlsdGVyKFxuICAgICAgKHRvb2xDYWxsKTogdG9vbENhbGwgaXMgRHluYW1pY1Rvb2xDYWxsID0+IHRvb2xDYWxsLmR5bmFtaWMgPT09IHRydWUsXG4gICAgKTtcbiAgfVxuXG4gIGdldCB0b29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ3Rvb2wtcmVzdWx0Jyk7XG4gIH1cblxuICBnZXQgc3RhdGljVG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbFJlc3VsdHMuZmlsdGVyKFxuICAgICAgKHRvb2xSZXN1bHQpOiB0b29sUmVzdWx0IGlzIFN0YXRpY1Rvb2xSZXN1bHQ8VE9PTFM+ID0+XG4gICAgICAgIHRvb2xSZXN1bHQuZHluYW1pYyA9PT0gZmFsc2UsXG4gICAgKTtcbiAgfVxuXG4gIGdldCBkeW5hbWljVG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbFJlc3VsdHMuZmlsdGVyKFxuICAgICAgKHRvb2xSZXN1bHQpOiB0b29sUmVzdWx0IGlzIER5bmFtaWNUb29sUmVzdWx0ID0+XG4gICAgICAgIHRvb2xSZXN1bHQuZHluYW1pYyA9PT0gdHJ1ZSxcbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgU3RlcFJlc3VsdCB9IGZyb20gJy4vc3RlcC1yZXN1bHQnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4vdG9vbC1zZXQnO1xuXG5leHBvcnQgdHlwZSBTdG9wQ29uZGl0aW9uPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSAob3B0aW9uczoge1xuICBzdGVwczogQXJyYXk8U3RlcFJlc3VsdDxUT09MUz4+O1xufSkgPT4gUHJvbWlzZUxpa2U8Ym9vbGVhbj4gfCBib29sZWFuO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RlcENvdW50SXMoc3RlcENvdW50OiBudW1iZXIpOiBTdG9wQ29uZGl0aW9uPGFueT4ge1xuICByZXR1cm4gKHsgc3RlcHMgfSkgPT4gc3RlcHMubGVuZ3RoID09PSBzdGVwQ291bnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNUb29sQ2FsbCh0b29sTmFtZTogc3RyaW5nKTogU3RvcENvbmRpdGlvbjxhbnk+IHtcbiAgcmV0dXJuICh7IHN0ZXBzIH0pID0+XG4gICAgc3RlcHNbc3RlcHMubGVuZ3RoIC0gMV0/LnRvb2xDYWxscz8uc29tZShcbiAgICAgIHRvb2xDYWxsID0+IHRvb2xDYWxsLnRvb2xOYW1lID09PSB0b29sTmFtZSxcbiAgICApID8/IGZhbHNlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNTdG9wQ29uZGl0aW9uTWV0PFRPT0xTIGV4dGVuZHMgVG9vbFNldD4oe1xuICBzdG9wQ29uZGl0aW9ucyxcbiAgc3RlcHMsXG59OiB7XG4gIHN0b3BDb25kaXRpb25zOiBBcnJheTxTdG9wQ29uZGl0aW9uPFRPT0xTPj47XG4gIHN0ZXBzOiBBcnJheTxTdGVwUmVzdWx0PFRPT0xTPj47XG59KTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiAoXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoc3RvcENvbmRpdGlvbnMubWFwKGNvbmRpdGlvbiA9PiBjb25kaXRpb24oeyBzdGVwcyB9KSkpXG4gICkuc29tZShyZXN1bHQgPT4gcmVzdWx0KTtcbn1cbiIsICJpbXBvcnQge1xuICBnZXRFcnJvck1lc3NhZ2UsXG4gIEpTT05WYWx1ZSxcbiAgTGFuZ3VhZ2VNb2RlbFYyVG9vbFJlc3VsdE91dHB1dCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBUb29sIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb29sTW9kZWxPdXRwdXQoe1xuICBvdXRwdXQsXG4gIHRvb2wsXG4gIGVycm9yTW9kZSxcbn06IHtcbiAgb3V0cHV0OiB1bmtub3duO1xuICB0b29sOiBUb29sIHwgdW5kZWZpbmVkO1xuICBlcnJvck1vZGU6ICdub25lJyB8ICd0ZXh0JyB8ICdqc29uJztcbn0pOiBMYW5ndWFnZU1vZGVsVjJUb29sUmVzdWx0T3V0cHV0IHtcbiAgaWYgKGVycm9yTW9kZSA9PT0gJ3RleHQnKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogJ2Vycm9yLXRleHQnLCB2YWx1ZTogZ2V0RXJyb3JNZXNzYWdlKG91dHB1dCkgfTtcbiAgfSBlbHNlIGlmIChlcnJvck1vZGUgPT09ICdqc29uJykge1xuICAgIHJldHVybiB7IHR5cGU6ICdlcnJvci1qc29uJywgdmFsdWU6IHRvSlNPTlZhbHVlKG91dHB1dCkgfTtcbiAgfVxuXG4gIGlmICh0b29sPy50b01vZGVsT3V0cHV0KSB7XG4gICAgcmV0dXJuIHRvb2wudG9Nb2RlbE91dHB1dChvdXRwdXQpO1xuICB9XG5cbiAgcmV0dXJuIHR5cGVvZiBvdXRwdXQgPT09ICdzdHJpbmcnXG4gICAgPyB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IG91dHB1dCB9XG4gICAgOiB7IHR5cGU6ICdqc29uJywgdmFsdWU6IHRvSlNPTlZhbHVlKG91dHB1dCkgfTtcbn1cblxuZnVuY3Rpb24gdG9KU09OVmFsdWUodmFsdWU6IHVua25vd24pOiBKU09OVmFsdWUge1xuICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiAodmFsdWUgYXMgSlNPTlZhbHVlKTtcbn1cbiIsICJpbXBvcnQge1xuICBBc3Npc3RhbnRDb250ZW50LFxuICBBc3Npc3RhbnRNb2RlbE1lc3NhZ2UsXG4gIFRvb2xDb250ZW50LFxuICBUb29sTW9kZWxNZXNzYWdlLFxufSBmcm9tICcuLi9wcm9tcHQnO1xuaW1wb3J0IHsgY3JlYXRlVG9vbE1vZGVsT3V0cHV0IH0gZnJvbSAnLi4vcHJvbXB0L2NyZWF0ZS10b29sLW1vZGVsLW91dHB1dCc7XG5pbXBvcnQgeyBDb250ZW50UGFydCB9IGZyb20gJy4vY29udGVudC1wYXJ0JztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcblxuLyoqXG5Db252ZXJ0cyB0aGUgcmVzdWx0IG9mIGEgYGdlbmVyYXRlVGV4dGAgb3IgYHN0cmVhbVRleHRgIGNhbGwgdG8gYSBsaXN0IG9mIHJlc3BvbnNlIG1lc3NhZ2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9SZXNwb25zZU1lc3NhZ2VzPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4oe1xuICBjb250ZW50OiBpbnB1dENvbnRlbnQsXG4gIHRvb2xzLFxufToge1xuICBjb250ZW50OiBBcnJheTxDb250ZW50UGFydDxUT09MUz4+O1xuICB0b29sczogVE9PTFMgfCB1bmRlZmluZWQ7XG59KTogQXJyYXk8QXNzaXN0YW50TW9kZWxNZXNzYWdlIHwgVG9vbE1vZGVsTWVzc2FnZT4ge1xuICBjb25zdCByZXNwb25zZU1lc3NhZ2VzOiBBcnJheTxBc3Npc3RhbnRNb2RlbE1lc3NhZ2UgfCBUb29sTW9kZWxNZXNzYWdlPiA9IFtdO1xuXG4gIGNvbnN0IGNvbnRlbnQ6IEFzc2lzdGFudENvbnRlbnQgPSBpbnB1dENvbnRlbnRcbiAgICAuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlICE9PSAnc291cmNlJylcbiAgICAuZmlsdGVyKFxuICAgICAgcGFydCA9PlxuICAgICAgICAocGFydC50eXBlICE9PSAndG9vbC1yZXN1bHQnIHx8IHBhcnQucHJvdmlkZXJFeGVjdXRlZCkgJiZcbiAgICAgICAgKHBhcnQudHlwZSAhPT0gJ3Rvb2wtZXJyb3InIHx8IHBhcnQucHJvdmlkZXJFeGVjdXRlZCksXG4gICAgKVxuICAgIC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgIT09ICd0ZXh0JyB8fCBwYXJ0LnRleHQubGVuZ3RoID4gMClcbiAgICAubWFwKHBhcnQgPT4ge1xuICAgICAgc3dpdGNoIChwYXJ0LnR5cGUpIHtcbiAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ3JlYXNvbmluZyc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmcnLFxuICAgICAgICAgICAgdGV4dDogcGFydC50ZXh0LFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgICAgIGRhdGE6IHBhcnQuZmlsZS5iYXNlNjQsXG4gICAgICAgICAgICBtZWRpYVR5cGU6IHBhcnQuZmlsZS5tZWRpYVR5cGUsXG4gICAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlICd0b29sLWNhbGwnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndG9vbC1jYWxsJyxcbiAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgaW5wdXQ6IHBhcnQuaW5wdXQsXG4gICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlICd0b29sLXJlc3VsdCc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcsXG4gICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgIG91dHB1dDogY3JlYXRlVG9vbE1vZGVsT3V0cHV0KHtcbiAgICAgICAgICAgICAgdG9vbDogdG9vbHM/LltwYXJ0LnRvb2xOYW1lXSxcbiAgICAgICAgICAgICAgb3V0cHV0OiBwYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgICAgZXJyb3JNb2RlOiAnbm9uZScsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHRydWUsXG4gICAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlICd0b29sLWVycm9yJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyxcbiAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgb3V0cHV0OiBjcmVhdGVUb29sTW9kZWxPdXRwdXQoe1xuICAgICAgICAgICAgICB0b29sOiB0b29scz8uW3BhcnQudG9vbE5hbWVdLFxuICAgICAgICAgICAgICBvdXRwdXQ6IHBhcnQuZXJyb3IsXG4gICAgICAgICAgICAgIGVycm9yTW9kZTogJ2pzb24nLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGlmIChjb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICByZXNwb25zZU1lc3NhZ2VzLnB1c2goe1xuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50LFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgdG9vbFJlc3VsdENvbnRlbnQ6IFRvb2xDb250ZW50ID0gaW5wdXRDb250ZW50XG4gICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ3Rvb2wtcmVzdWx0JyB8fCBwYXJ0LnR5cGUgPT09ICd0b29sLWVycm9yJylcbiAgICAuZmlsdGVyKHBhcnQgPT4gIXBhcnQucHJvdmlkZXJFeGVjdXRlZClcbiAgICAubWFwKHRvb2xSZXN1bHQgPT4gKHtcbiAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcsXG4gICAgICB0b29sQ2FsbElkOiB0b29sUmVzdWx0LnRvb2xDYWxsSWQsXG4gICAgICB0b29sTmFtZTogdG9vbFJlc3VsdC50b29sTmFtZSxcbiAgICAgIG91dHB1dDogY3JlYXRlVG9vbE1vZGVsT3V0cHV0KHtcbiAgICAgICAgdG9vbDogdG9vbHM/Llt0b29sUmVzdWx0LnRvb2xOYW1lXSxcbiAgICAgICAgb3V0cHV0OlxuICAgICAgICAgIHRvb2xSZXN1bHQudHlwZSA9PT0gJ3Rvb2wtcmVzdWx0J1xuICAgICAgICAgICAgPyB0b29sUmVzdWx0Lm91dHB1dFxuICAgICAgICAgICAgOiB0b29sUmVzdWx0LmVycm9yLFxuICAgICAgICBlcnJvck1vZGU6IHRvb2xSZXN1bHQudHlwZSA9PT0gJ3Rvb2wtZXJyb3InID8gJ3RleHQnIDogJ25vbmUnLFxuICAgICAgfSksXG4gICAgfSkpO1xuXG4gIGlmICh0b29sUmVzdWx0Q29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgcmVzcG9uc2VNZXNzYWdlcy5wdXNoKHtcbiAgICAgIHJvbGU6ICd0b29sJyxcbiAgICAgIGNvbnRlbnQ6IHRvb2xSZXN1bHRDb250ZW50LFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3BvbnNlTWVzc2FnZXM7XG59XG4iLCAiZGVjbGFyZSBjb25zdCBfX1BBQ0tBR0VfVkVSU0lPTl9fOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgVkVSU0lPTjogc3RyaW5nID1cbiAgdHlwZW9mIF9fUEFDS0FHRV9WRVJTSU9OX18gIT09ICd1bmRlZmluZWQnXG4gICAgPyBfX1BBQ0tBR0VfVkVSU0lPTl9fXG4gICAgOiAnMC4wLjAtdGVzdCc7XG4iLCAiaW1wb3J0IHtcbiAgZ2V0RXJyb3JNZXNzYWdlLFxuICBMYW5ndWFnZU1vZGVsVjIsXG4gIExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZUlkR2VuZXJhdG9yLFxuICBJZEdlbmVyYXRvcixcbiAgaXNBYm9ydEVycm9yLFxuICBQcm92aWRlck9wdGlvbnMsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgU3BhbiB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5pbXBvcnQgeyBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ25vZGU6aHR0cCc7XG5pbXBvcnQgeyBOb091dHB1dEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi4vZXJyb3InO1xuaW1wb3J0IHsgTm9PdXRwdXRTcGVjaWZpZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLW91dHB1dC1zcGVjaWZpZWQtZXJyb3InO1xuaW1wb3J0IHsgbG9nV2FybmluZ3MgfSBmcm9tICcuLi9sb2dnZXIvbG9nLXdhcm5pbmdzJztcbmltcG9ydCB7IHJlc29sdmVMYW5ndWFnZU1vZGVsIH0gZnJvbSAnLi4vbW9kZWwvcmVzb2x2ZS1tb2RlbCc7XG5pbXBvcnQgeyBDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L2NvbnZlcnQtdG8tbGFuZ3VhZ2UtbW9kZWwtcHJvbXB0JztcbmltcG9ydCB7IHByZXBhcmVDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvcHJlcGFyZS1jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IHByZXBhcmVUb29sc0FuZFRvb2xDaG9pY2UgfSBmcm9tICcuLi9wcm9tcHQvcHJlcGFyZS10b29scy1hbmQtdG9vbC1jaG9pY2UnO1xuaW1wb3J0IHsgUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3Byb21wdCc7XG5pbXBvcnQgeyBzdGFuZGFyZGl6ZVByb21wdCB9IGZyb20gJy4uL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQnO1xuaW1wb3J0IHsgd3JhcEdhdGV3YXlFcnJvciB9IGZyb20gJy4uL3Byb21wdC93cmFwLWdhdGV3YXktZXJyb3InO1xuaW1wb3J0IHsgYXNzZW1ibGVPcGVyYXRpb25OYW1lIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lJztcbmltcG9ydCB7IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC1iYXNlLXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IGdldFRyYWNlciB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtdHJhY2VyJztcbmltcG9ydCB7IHJlY29yZFNwYW4gfSBmcm9tICcuLi90ZWxlbWV0cnkvcmVjb3JkLXNwYW4nO1xuaW1wb3J0IHsgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9zZWxlY3QtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5IH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3N0cmluZ2lmeS1mb3ItdGVsZW1ldHJ5JztcbmltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5pbXBvcnQgeyBjcmVhdGVUZXh0U3RyZWFtUmVzcG9uc2UgfSBmcm9tICcuLi90ZXh0LXN0cmVhbS9jcmVhdGUtdGV4dC1zdHJlYW0tcmVzcG9uc2UnO1xuaW1wb3J0IHsgcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlIH0gZnJvbSAnLi4vdGV4dC1zdHJlYW0vcGlwZS10ZXh0LXN0cmVhbS10by1yZXNwb25zZSc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsUmVxdWVzdE1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgQ2FsbFdhcm5pbmcsXG4gIEZpbmlzaFJlYXNvbixcbiAgTGFuZ3VhZ2VNb2RlbCxcbiAgVG9vbENob2ljZSxcbn0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhJztcbmltcG9ydCB7IGFkZExhbmd1YWdlTW9kZWxVc2FnZSwgTGFuZ3VhZ2VNb2RlbFVzYWdlIH0gZnJvbSAnLi4vdHlwZXMvdXNhZ2UnO1xuaW1wb3J0IHsgVUlNZXNzYWdlIH0gZnJvbSAnLi4vdWknO1xuaW1wb3J0IHsgY3JlYXRlVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2UgfSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS9jcmVhdGUtdWktbWVzc2FnZS1zdHJlYW0tcmVzcG9uc2UnO1xuaW1wb3J0IHsgZ2V0UmVzcG9uc2VVSU1lc3NhZ2VJZCB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL2dldC1yZXNwb25zZS11aS1tZXNzYWdlLWlkJztcbmltcG9ydCB7IGhhbmRsZVVJTWVzc2FnZVN0cmVhbUZpbmlzaCB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL2hhbmRsZS11aS1tZXNzYWdlLXN0cmVhbS1maW5pc2gnO1xuaW1wb3J0IHsgcGlwZVVJTWVzc2FnZVN0cmVhbVRvUmVzcG9uc2UgfSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS9waXBlLXVpLW1lc3NhZ2Utc3RyZWFtLXRvLXJlc3BvbnNlJztcbmltcG9ydCB7XG4gIEluZmVyVUlNZXNzYWdlQ2h1bmssXG4gIFVJTWVzc2FnZUNodW5rLFxufSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZUluaXQgfSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS91aS1tZXNzYWdlLXN0cmVhbS1yZXNwb25zZS1pbml0JztcbmltcG9ydCB7IEluZmVyVUlNZXNzYWdlRGF0YSwgSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YSB9IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcbmltcG9ydCB7IGFzQXJyYXkgfSBmcm9tICcuLi91dGlsL2FzLWFycmF5JztcbmltcG9ydCB7XG4gIEFzeW5jSXRlcmFibGVTdHJlYW0sXG4gIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0sXG59IGZyb20gJy4uL3V0aWwvYXN5bmMtaXRlcmFibGUtc3RyZWFtJztcbmltcG9ydCB7IGNvbnN1bWVTdHJlYW0gfSBmcm9tICcuLi91dGlsL2NvbnN1bWUtc3RyZWFtJztcbmltcG9ydCB7IGNyZWF0ZVN0aXRjaGFibGVTdHJlYW0gfSBmcm9tICcuLi91dGlsL2NyZWF0ZS1zdGl0Y2hhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBEZWxheWVkUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvZGVsYXllZC1wcm9taXNlJztcbmltcG9ydCB7IERvd25sb2FkRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWZ1bmN0aW9uJztcbmltcG9ydCB7IG5vdyBhcyBvcmlnaW5hbE5vdyB9IGZyb20gJy4uL3V0aWwvbm93JztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgQ29udGVudFBhcnQgfSBmcm9tICcuL2NvbnRlbnQtcGFydCc7XG5pbXBvcnQgeyBPdXRwdXQgfSBmcm9tICcuL291dHB1dCc7XG5pbXBvcnQgeyBQcmVwYXJlU3RlcEZ1bmN0aW9uIH0gZnJvbSAnLi9wcmVwYXJlLXN0ZXAnO1xuaW1wb3J0IHsgUmVzcG9uc2VNZXNzYWdlIH0gZnJvbSAnLi9yZXNwb25zZS1tZXNzYWdlJztcbmltcG9ydCB7XG4gIHJ1blRvb2xzVHJhbnNmb3JtYXRpb24sXG4gIFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydCxcbn0gZnJvbSAnLi9ydW4tdG9vbHMtdHJhbnNmb3JtYXRpb24nO1xuaW1wb3J0IHsgRGVmYXVsdFN0ZXBSZXN1bHQsIFN0ZXBSZXN1bHQgfSBmcm9tICcuL3N0ZXAtcmVzdWx0JztcbmltcG9ydCB7XG4gIGlzU3RvcENvbmRpdGlvbk1ldCxcbiAgc3RlcENvdW50SXMsXG4gIFN0b3BDb25kaXRpb24sXG59IGZyb20gJy4vc3RvcC1jb25kaXRpb24nO1xuaW1wb3J0IHtcbiAgQ29uc3VtZVN0cmVhbU9wdGlvbnMsXG4gIFN0cmVhbVRleHRSZXN1bHQsXG4gIFRleHRTdHJlYW1QYXJ0LFxuICBVSU1lc3NhZ2VTdHJlYW1PcHRpb25zLFxufSBmcm9tICcuL3N0cmVhbS10ZXh0LXJlc3VsdCc7XG5pbXBvcnQgeyB0b1Jlc3BvbnNlTWVzc2FnZXMgfSBmcm9tICcuL3RvLXJlc3BvbnNlLW1lc3NhZ2VzJztcbmltcG9ydCB7IFR5cGVkVG9vbENhbGwgfSBmcm9tICcuL3Rvb2wtY2FsbCc7XG5pbXBvcnQgeyBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uIH0gZnJvbSAnLi90b29sLWNhbGwtcmVwYWlyLWZ1bmN0aW9uJztcbmltcG9ydCB7IFRvb2xPdXRwdXQgfSBmcm9tICcuL3Rvb2wtb3V0cHV0JztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcblxuY29uc3Qgb3JpZ2luYWxHZW5lcmF0ZUlkID0gY3JlYXRlSWRHZW5lcmF0b3Ioe1xuICBwcmVmaXg6ICdhaXR4dCcsXG4gIHNpemU6IDI0LFxufSk7XG5cbi8qKlxuQSB0cmFuc2Zvcm1hdGlvbiB0aGF0IGlzIGFwcGxpZWQgdG8gdGhlIHN0cmVhbS5cblxuQHBhcmFtIHN0b3BTdHJlYW0gLSBBIGZ1bmN0aW9uIHRoYXQgc3RvcHMgdGhlIHNvdXJjZSBzdHJlYW0uXG5AcGFyYW0gdG9vbHMgLSBUaGUgdG9vbHMgdGhhdCBhcmUgYWNjZXNzaWJsZSB0byBhbmQgY2FuIGJlIGNhbGxlZCBieSB0aGUgbW9kZWwuIFRoZSBtb2RlbCBuZWVkcyB0byBzdXBwb3J0IGNhbGxpbmcgdG9vbHMuXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVRleHRUcmFuc2Zvcm08VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IChvcHRpb25zOiB7XG4gIHRvb2xzOiBUT09MUzsgLy8gZm9yIHR5cGUgaW5mZXJlbmNlXG4gIHN0b3BTdHJlYW06ICgpID0+IHZvaWQ7XG59KSA9PiBUcmFuc2Zvcm1TdHJlYW08VGV4dFN0cmVhbVBhcnQ8VE9PTFM+LCBUZXh0U3RyZWFtUGFydDxUT09MUz4+O1xuXG4vKipcbkNhbGxiYWNrIHRoYXQgaXMgc2V0IHVzaW5nIHRoZSBgb25FcnJvcmAgb3B0aW9uLlxuXG5AcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1UZXh0T25FcnJvckNhbGxiYWNrID0gKGV2ZW50OiB7XG4gIGVycm9yOiB1bmtub3duO1xufSkgPT4gUHJvbWlzZUxpa2U8dm9pZD4gfCB2b2lkO1xuXG4vKipcbkNhbGxiYWNrIHRoYXQgaXMgc2V0IHVzaW5nIHRoZSBgb25TdGVwRmluaXNoYCBvcHRpb24uXG5cbkBwYXJhbSBzdGVwUmVzdWx0IC0gVGhlIHJlc3VsdCBvZiB0aGUgc3RlcC5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVGV4dE9uU3RlcEZpbmlzaENhbGxiYWNrPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSAoXG4gIHN0ZXBSZXN1bHQ6IFN0ZXBSZXN1bHQ8VE9PTFM+LFxuKSA9PiBQcm9taXNlTGlrZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvbkNodW5rYCBvcHRpb24uXG5cbkBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVRleHRPbkNodW5rQ2FsbGJhY2s8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IChldmVudDoge1xuICBjaHVuazogRXh0cmFjdDxcbiAgICBUZXh0U3RyZWFtUGFydDxUT09MUz4sXG4gICAge1xuICAgICAgdHlwZTpcbiAgICAgICAgfCAndGV4dC1kZWx0YSdcbiAgICAgICAgfCAncmVhc29uaW5nLWRlbHRhJ1xuICAgICAgICB8ICdzb3VyY2UnXG4gICAgICAgIHwgJ3Rvb2wtY2FsbCdcbiAgICAgICAgfCAndG9vbC1pbnB1dC1zdGFydCdcbiAgICAgICAgfCAndG9vbC1pbnB1dC1kZWx0YSdcbiAgICAgICAgfCAndG9vbC1yZXN1bHQnXG4gICAgICAgIHwgJ3Jhdyc7XG4gICAgfVxuICA+O1xufSkgPT4gUHJvbWlzZUxpa2U8dm9pZD4gfCB2b2lkO1xuXG4vKipcbkNhbGxiYWNrIHRoYXQgaXMgc2V0IHVzaW5nIHRoZSBgb25GaW5pc2hgIG9wdGlvbi5cblxuQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVGV4dE9uRmluaXNoQ2FsbGJhY2s8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IChcbiAgZXZlbnQ6IFN0ZXBSZXN1bHQ8VE9PTFM+ICYge1xuICAgIC8qKlxuRGV0YWlscyBmb3IgYWxsIHN0ZXBzLlxuICAgKi9cbiAgICByZWFkb25seSBzdGVwczogU3RlcFJlc3VsdDxUT09MUz5bXTtcblxuICAgIC8qKlxuVG90YWwgdXNhZ2UgZm9yIGFsbCBzdGVwcy4gVGhpcyBpcyB0aGUgc3VtIG9mIHRoZSB1c2FnZSBvZiBhbGwgc3RlcHMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgdG90YWxVc2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICB9LFxuKSA9PiBQcm9taXNlTGlrZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvbkFib3J0YCBvcHRpb24uXG5cbkBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVRleHRPbkFib3J0Q2FsbGJhY2s8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IChldmVudDoge1xuICAvKipcbkRldGFpbHMgZm9yIGFsbCBwcmV2aW91c2x5IGZpbmlzaGVkIHN0ZXBzLlxuICAgKi9cbiAgcmVhZG9ubHkgc3RlcHM6IFN0ZXBSZXN1bHQ8VE9PTFM+W107XG59KSA9PiBQcm9taXNlTGlrZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuR2VuZXJhdGUgYSB0ZXh0IGFuZCBjYWxsIHRvb2xzIGZvciBhIGdpdmVuIHByb21wdCB1c2luZyBhIGxhbmd1YWdlIG1vZGVsLlxuXG5UaGlzIGZ1bmN0aW9uIHN0cmVhbXMgdGhlIG91dHB1dC4gSWYgeW91IGRvIG5vdCB3YW50IHRvIHN0cmVhbSB0aGUgb3V0cHV0LCB1c2UgYGdlbmVyYXRlVGV4dGAgaW5zdGVhZC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbkBwYXJhbSB0b29scyAtIFRvb2xzIHRoYXQgYXJlIGFjY2Vzc2libGUgdG8gYW5kIGNhbiBiZSBjYWxsZWQgYnkgdGhlIG1vZGVsLiBUaGUgbW9kZWwgbmVlZHMgdG8gc3VwcG9ydCBjYWxsaW5nIHRvb2xzLlxuXG5AcGFyYW0gc3lzdGVtIC0gQSBzeXN0ZW0gbWVzc2FnZSB0aGF0IHdpbGwgYmUgcGFydCBvZiB0aGUgcHJvbXB0LlxuQHBhcmFtIHByb21wdCAtIEEgc2ltcGxlIHRleHQgcHJvbXB0LiBZb3UgY2FuIGVpdGhlciB1c2UgYHByb21wdGAgb3IgYG1lc3NhZ2VzYCBidXQgbm90IGJvdGguXG5AcGFyYW0gbWVzc2FnZXMgLSBBIGxpc3Qgb2YgbWVzc2FnZXMuIFlvdSBjYW4gZWl0aGVyIHVzZSBgcHJvbXB0YCBvciBgbWVzc2FnZXNgIGJ1dCBub3QgYm90aC5cblxuQHBhcmFtIG1heE91dHB1dFRva2VucyAtIE1heGltdW0gbnVtYmVyIG9mIHRva2VucyB0byBnZW5lcmF0ZS5cbkBwYXJhbSB0ZW1wZXJhdHVyZSAtIFRlbXBlcmF0dXJlIHNldHRpbmcuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGVpdGhlciBgdGVtcGVyYXR1cmVgIG9yIGB0b3BQYCwgYnV0IG5vdCBib3RoLlxuQHBhcmFtIHRvcFAgLSBOdWNsZXVzIHNhbXBsaW5nLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkl0IGlzIHJlY29tbWVuZGVkIHRvIHNldCBlaXRoZXIgYHRlbXBlcmF0dXJlYCBvciBgdG9wUGAsIGJ1dCBub3QgYm90aC5cbkBwYXJhbSB0b3BLIC0gT25seSBzYW1wbGUgZnJvbSB0aGUgdG9wIEsgb3B0aW9ucyBmb3IgZWFjaCBzdWJzZXF1ZW50IHRva2VuLlxuVXNlZCB0byByZW1vdmUgXCJsb25nIHRhaWxcIiBsb3cgcHJvYmFiaWxpdHkgcmVzcG9uc2VzLlxuUmVjb21tZW5kZWQgZm9yIGFkdmFuY2VkIHVzZSBjYXNlcyBvbmx5LiBZb3UgdXN1YWxseSBvbmx5IG5lZWQgdG8gdXNlIHRlbXBlcmF0dXJlLlxuQHBhcmFtIHByZXNlbmNlUGVuYWx0eSAtIFByZXNlbmNlIHBlbmFsdHkgc2V0dGluZy5cbkl0IGFmZmVjdHMgdGhlIGxpa2VsaWhvb2Qgb2YgdGhlIG1vZGVsIHRvIHJlcGVhdCBpbmZvcm1hdGlvbiB0aGF0IGlzIGFscmVhZHkgaW4gdGhlIHByb21wdC5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5AcGFyYW0gZnJlcXVlbmN5UGVuYWx0eSAtIEZyZXF1ZW5jeSBwZW5hbHR5IHNldHRpbmcuXG5JdCBhZmZlY3RzIHRoZSBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCB0byByZXBlYXRlZGx5IHVzZSB0aGUgc2FtZSB3b3JkcyBvciBwaHJhc2VzLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkBwYXJhbSBzdG9wU2VxdWVuY2VzIC0gU3RvcCBzZXF1ZW5jZXMuXG5JZiBzZXQsIHRoZSBtb2RlbCB3aWxsIHN0b3AgZ2VuZXJhdGluZyB0ZXh0IHdoZW4gb25lIG9mIHRoZSBzdG9wIHNlcXVlbmNlcyBpcyBnZW5lcmF0ZWQuXG5AcGFyYW0gc2VlZCAtIFRoZSBzZWVkIChpbnRlZ2VyKSB0byB1c2UgZm9yIHJhbmRvbSBzYW1wbGluZy5cbklmIHNldCBhbmQgc3VwcG9ydGVkIGJ5IHRoZSBtb2RlbCwgY2FsbHMgd2lsbCBnZW5lcmF0ZSBkZXRlcm1pbmlzdGljIHJlc3VsdHMuXG5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkBwYXJhbSBtYXhTdGVwcyAtIE1heGltdW0gbnVtYmVyIG9mIHNlcXVlbnRpYWwgTExNIGNhbGxzIChzdGVwcyksIGUuZy4gd2hlbiB5b3UgdXNlIHRvb2wgY2FsbHMuXG5cbkBwYXJhbSBvbkNodW5rIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgZm9yIGVhY2ggY2h1bmsgb2YgdGhlIHN0cmVhbS4gVGhlIHN0cmVhbSBwcm9jZXNzaW5nIHdpbGwgcGF1c2UgdW50aWwgdGhlIGNhbGxiYWNrIHByb21pc2UgaXMgcmVzb2x2ZWQuXG5AcGFyYW0gb25FcnJvciAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBzdHJlYW1pbmcuIFlvdSBjYW4gdXNlIGl0IHRvIGxvZyBlcnJvcnMuXG5AcGFyYW0gb25TdGVwRmluaXNoIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBlYWNoIHN0ZXAgKExMTSBjYWxsKSBpcyBmaW5pc2hlZCwgaW5jbHVkaW5nIGludGVybWVkaWF0ZSBzdGVwcy5cbkBwYXJhbSBvbkZpbmlzaCAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIExMTSByZXNwb25zZSBhbmQgYWxsIHJlcXVlc3QgdG9vbCBleGVjdXRpb25zXG4oZm9yIHRvb2xzIHRoYXQgaGF2ZSBhbiBgZXhlY3V0ZWAgZnVuY3Rpb24pIGFyZSBmaW5pc2hlZC5cblxuQHJldHVyblxuQSByZXN1bHQgb2JqZWN0IGZvciBhY2Nlc3NpbmcgZGlmZmVyZW50IHN0cmVhbSB0eXBlcyBhbmQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmVhbVRleHQ8XG4gIFRPT0xTIGV4dGVuZHMgVG9vbFNldCxcbiAgT1VUUFVUID0gbmV2ZXIsXG4gIFBBUlRJQUxfT1VUUFVUID0gbmV2ZXIsXG4+KHtcbiAgbW9kZWwsXG4gIHRvb2xzLFxuICB0b29sQ2hvaWNlLFxuICBzeXN0ZW0sXG4gIHByb21wdCxcbiAgbWVzc2FnZXMsXG4gIG1heFJldHJpZXMsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxuICBzdG9wV2hlbiA9IHN0ZXBDb3VudElzKDEpLFxuICBleHBlcmltZW50YWxfb3V0cHV0OiBvdXRwdXQsXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk6IHRlbGVtZXRyeSxcbiAgcHJlcGFyZVN0ZXAsXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgZXhwZXJpbWVudGFsX2FjdGl2ZVRvb2xzLFxuICBhY3RpdmVUb29scyA9IGV4cGVyaW1lbnRhbF9hY3RpdmVUb29scyxcbiAgZXhwZXJpbWVudGFsX3JlcGFpclRvb2xDYWxsOiByZXBhaXJUb29sQ2FsbCxcbiAgZXhwZXJpbWVudGFsX3RyYW5zZm9ybTogdHJhbnNmb3JtLFxuICBleHBlcmltZW50YWxfZG93bmxvYWQ6IGRvd25sb2FkLFxuICBpbmNsdWRlUmF3Q2h1bmtzID0gZmFsc2UsXG4gIG9uQ2h1bmssXG4gIG9uRXJyb3IgPSAoeyBlcnJvciB9KSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gIH0sXG4gIG9uRmluaXNoLFxuICBvbkFib3J0LFxuICBvblN0ZXBGaW5pc2gsXG4gIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICBfaW50ZXJuYWw6IHtcbiAgICBub3cgPSBvcmlnaW5hbE5vdyxcbiAgICBnZW5lcmF0ZUlkID0gb3JpZ2luYWxHZW5lcmF0ZUlkLFxuICAgIGN1cnJlbnREYXRlID0gKCkgPT4gbmV3IERhdGUoKSxcbiAgfSA9IHt9LFxuICAuLi5zZXR0aW5nc1xufTogQ2FsbFNldHRpbmdzICZcbiAgUHJvbXB0ICYge1xuICAgIC8qKlxuVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbiAgICAgKi9cbiAgICBtb2RlbDogTGFuZ3VhZ2VNb2RlbDtcblxuICAgIC8qKlxuVGhlIHRvb2xzIHRoYXQgdGhlIG1vZGVsIGNhbiBjYWxsLiBUaGUgbW9kZWwgbmVlZHMgdG8gc3VwcG9ydCBjYWxsaW5nIHRvb2xzLlxuICAgICovXG4gICAgdG9vbHM/OiBUT09MUztcblxuICAgIC8qKlxuVGhlIHRvb2wgY2hvaWNlIHN0cmF0ZWd5LiBEZWZhdWx0OiAnYXV0bycuXG4gICAgICovXG4gICAgdG9vbENob2ljZT86IFRvb2xDaG9pY2U8VE9PTFM+O1xuXG4gICAgLyoqXG5Db25kaXRpb24gZm9yIHN0b3BwaW5nIHRoZSBnZW5lcmF0aW9uIHdoZW4gdGhlcmUgYXJlIHRvb2wgcmVzdWx0cyBpbiB0aGUgbGFzdCBzdGVwLlxuV2hlbiB0aGUgY29uZGl0aW9uIGlzIGFuIGFycmF5LCBhbnkgb2YgdGhlIGNvbmRpdGlvbnMgY2FuIGJlIG1ldCB0byBzdG9wIHRoZSBnZW5lcmF0aW9uLlxuXG5AZGVmYXVsdCBzdGVwQ291bnRJcygxKVxuICAgICAqL1xuICAgIHN0b3BXaGVuPzpcbiAgICAgIHwgU3RvcENvbmRpdGlvbjxOb0luZmVyPFRPT0xTPj5cbiAgICAgIHwgQXJyYXk8U3RvcENvbmRpdGlvbjxOb0luZmVyPFRPT0xTPj4+O1xuXG4gICAgLyoqXG5PcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG5cbiAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICovXG4gICAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGBhY3RpdmVUb29sc2AgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfYWN0aXZlVG9vbHM/OiBBcnJheTxrZXlvZiBOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbiAgIExpbWl0cyB0aGUgdG9vbHMgdGhhdCBhcmUgYXZhaWxhYmxlIGZvciB0aGUgbW9kZWwgdG8gY2FsbCB3aXRob3V0XG4gICBjaGFuZ2luZyB0aGUgdG9vbCBjYWxsIGFuZCByZXN1bHQgdHlwZXMgaW4gdGhlIHJlc3VsdC5cbiAgICAgICAgKi9cbiAgICBhY3RpdmVUb29scz86IEFycmF5PGtleW9mIE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuT3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBmb3IgcGFyc2luZyBzdHJ1Y3R1cmVkIG91dHB1dHMgZnJvbSB0aGUgTExNIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9vdXRwdXQ/OiBPdXRwdXQ8T1VUUFVULCBQQVJUSUFMX09VVFBVVD47XG5cbiAgICAvKipcbk9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgeW91IGNhbiB1c2UgdG8gcHJvdmlkZSBkaWZmZXJlbnQgc2V0dGluZ3MgZm9yIGEgc3RlcC5cblxuQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIHN0ZXAuXG5AcGFyYW0gb3B0aW9ucy5zdGVwcyAtIFRoZSBzdGVwcyB0aGF0IGhhdmUgYmVlbiBleGVjdXRlZCBzbyBmYXIuXG5AcGFyYW0gb3B0aW9ucy5zdGVwTnVtYmVyIC0gVGhlIG51bWJlciBvZiB0aGUgc3RlcCB0aGF0IGlzIGJlaW5nIGV4ZWN1dGVkLlxuQHBhcmFtIG9wdGlvbnMubW9kZWwgLSBUaGUgbW9kZWwgdGhhdCBpcyBiZWluZyB1c2VkLlxuXG5AcmV0dXJucyBBbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgc2V0dGluZ3MgZm9yIHRoZSBzdGVwLlxuSWYgeW91IHJldHVybiB1bmRlZmluZWQgKG9yIGZvciB1bmRlZmluZWQgc2V0dGluZ3MpLCB0aGUgc2V0dGluZ3MgZnJvbSB0aGUgb3V0ZXIgbGV2ZWwgd2lsbCBiZSB1c2VkLlxuICAgICovXG4gICAgcHJlcGFyZVN0ZXA/OiBQcmVwYXJlU3RlcEZ1bmN0aW9uPE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuQSBmdW5jdGlvbiB0aGF0IGF0dGVtcHRzIHRvIHJlcGFpciBhIHRvb2wgY2FsbCB0aGF0IGZhaWxlZCB0byBwYXJzZS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfcmVwYWlyVG9vbENhbGw/OiBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uPFRPT0xTPjtcblxuICAgIC8qKlxuT3B0aW9uYWwgc3RyZWFtIHRyYW5zZm9ybWF0aW9ucy5cblRoZXkgYXJlIGFwcGxpZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIHByb3ZpZGVkLlxuVGhlIHN0cmVhbSB0cmFuc2Zvcm1hdGlvbnMgbXVzdCBtYWludGFpbiB0aGUgc3RyZWFtIHN0cnVjdHVyZSBmb3Igc3RyZWFtVGV4dCB0byB3b3JrIGNvcnJlY3RseS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfdHJhbnNmb3JtPzpcbiAgICAgIHwgU3RyZWFtVGV4dFRyYW5zZm9ybTxUT09MUz5cbiAgICAgIHwgQXJyYXk8U3RyZWFtVGV4dFRyYW5zZm9ybTxUT09MUz4+O1xuXG4gICAgLyoqXG5DdXN0b20gZG93bmxvYWQgZnVuY3Rpb24gdG8gdXNlIGZvciBVUkxzLlxuXG5CeSBkZWZhdWx0LCBmaWxlcyBhcmUgZG93bmxvYWRlZCBpZiB0aGUgbW9kZWwgZG9lcyBub3Qgc3VwcG9ydCB0aGUgVVJMIGZvciB0aGUgZ2l2ZW4gbWVkaWEgdHlwZS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfZG93bmxvYWQ/OiBEb3dubG9hZEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG5XaGV0aGVyIHRvIGluY2x1ZGUgcmF3IGNodW5rcyBmcm9tIHRoZSBwcm92aWRlciBpbiB0aGUgc3RyZWFtLlxuV2hlbiBlbmFibGVkLCB5b3Ugd2lsbCByZWNlaXZlIHJhdyBjaHVua3Mgd2l0aCB0eXBlICdyYXcnIHRoYXQgY29udGFpbiB0aGUgdW5wcm9jZXNzZWQgZGF0YSBmcm9tIHRoZSBwcm92aWRlci5cblRoaXMgYWxsb3dzIGFjY2VzcyB0byBjdXR0aW5nLWVkZ2UgcHJvdmlkZXIgZmVhdHVyZXMgbm90IHlldCB3cmFwcGVkIGJ5IHRoZSBBSSBTREsuXG5EZWZhdWx0cyB0byBmYWxzZS5cbiAgICAgKi9cbiAgICBpbmNsdWRlUmF3Q2h1bmtzPzogYm9vbGVhbjtcblxuICAgIC8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgZm9yIGVhY2ggY2h1bmsgb2YgdGhlIHN0cmVhbS5cblRoZSBzdHJlYW0gcHJvY2Vzc2luZyB3aWxsIHBhdXNlIHVudGlsIHRoZSBjYWxsYmFjayBwcm9taXNlIGlzIHJlc29sdmVkLlxuICAgICAqL1xuICAgIG9uQ2h1bms/OiBTdHJlYW1UZXh0T25DaHVua0NhbGxiYWNrPFRPT0xTPjtcblxuICAgIC8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBpbnZva2VkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBzdHJlYW1pbmcuXG5Zb3UgY2FuIHVzZSBpdCB0byBsb2cgZXJyb3JzLlxuVGhlIHN0cmVhbSBwcm9jZXNzaW5nIHdpbGwgcGF1c2UgdW50aWwgdGhlIGNhbGxiYWNrIHByb21pc2UgaXMgcmVzb2x2ZWQuXG4gICAgICovXG4gICAgb25FcnJvcj86IFN0cmVhbVRleHRPbkVycm9yQ2FsbGJhY2s7XG5cbiAgICAvKipcbkNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIExMTSByZXNwb25zZSBhbmQgYWxsIHJlcXVlc3QgdG9vbCBleGVjdXRpb25zXG4oZm9yIHRvb2xzIHRoYXQgaGF2ZSBhbiBgZXhlY3V0ZWAgZnVuY3Rpb24pIGFyZSBmaW5pc2hlZC5cblxuVGhlIHVzYWdlIGlzIHRoZSBjb21iaW5lZCB1c2FnZSBvZiBhbGwgc3RlcHMuXG4gICAgICovXG4gICAgb25GaW5pc2g/OiBTdHJlYW1UZXh0T25GaW5pc2hDYWxsYmFjazxUT09MUz47XG5cbiAgICBvbkFib3J0PzogU3RyZWFtVGV4dE9uQWJvcnRDYWxsYmFjazxUT09MUz47XG5cbiAgICAvKipcbkNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gZWFjaCBzdGVwIChMTE0gY2FsbCkgaXMgZmluaXNoZWQsIGluY2x1ZGluZyBpbnRlcm1lZGlhdGUgc3RlcHMuXG4gICAgKi9cbiAgICBvblN0ZXBGaW5pc2g/OiBTdHJlYW1UZXh0T25TdGVwRmluaXNoQ2FsbGJhY2s8VE9PTFM+O1xuXG4gICAgLyoqXG4gICAgICogQ29udGV4dCB0aGF0IGlzIHBhc3NlZCBpbnRvIHRvb2wgZXhlY3V0aW9uLlxuICAgICAqXG4gICAgICogRXhwZXJpbWVudGFsIChjYW4gYnJlYWsgaW4gcGF0Y2ggcmVsZWFzZXMpLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX2NvbnRleHQ/OiB1bmtub3duO1xuXG4gICAgLyoqXG5JbnRlcm5hbC4gRm9yIHRlc3QgdXNlIG9ubHkuIE1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAgICovXG4gICAgX2ludGVybmFsPzoge1xuICAgICAgbm93PzogKCkgPT4gbnVtYmVyO1xuICAgICAgZ2VuZXJhdGVJZD86IElkR2VuZXJhdG9yO1xuICAgICAgY3VycmVudERhdGU/OiAoKSA9PiBEYXRlO1xuICAgIH07XG4gIH0pOiBTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD4ge1xuICByZXR1cm4gbmV3IERlZmF1bHRTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQsIFBBUlRJQUxfT1VUUFVUPih7XG4gICAgbW9kZWw6IHJlc29sdmVMYW5ndWFnZU1vZGVsKG1vZGVsKSxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVycyxcbiAgICBzZXR0aW5ncyxcbiAgICBtYXhSZXRyaWVzLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgdG9vbHMsXG4gICAgdG9vbENob2ljZSxcbiAgICB0cmFuc2Zvcm1zOiBhc0FycmF5KHRyYW5zZm9ybSksXG4gICAgYWN0aXZlVG9vbHMsXG4gICAgcmVwYWlyVG9vbENhbGwsXG4gICAgc3RvcENvbmRpdGlvbnM6IGFzQXJyYXkoc3RvcFdoZW4pLFxuICAgIG91dHB1dCxcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgcHJlcGFyZVN0ZXAsXG4gICAgaW5jbHVkZVJhd0NodW5rcyxcbiAgICBvbkNodW5rLFxuICAgIG9uRXJyb3IsXG4gICAgb25GaW5pc2gsXG4gICAgb25BYm9ydCxcbiAgICBvblN0ZXBGaW5pc2gsXG4gICAgbm93LFxuICAgIGN1cnJlbnREYXRlLFxuICAgIGdlbmVyYXRlSWQsXG4gICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgZG93bmxvYWQsXG4gIH0pO1xufVxuXG50eXBlIEVucmljaGVkU3RyZWFtUGFydDxUT09MUyBleHRlbmRzIFRvb2xTZXQsIFBBUlRJQUxfT1VUUFVUPiA9IHtcbiAgcGFydDogVGV4dFN0cmVhbVBhcnQ8VE9PTFM+O1xuICBwYXJ0aWFsT3V0cHV0OiBQQVJUSUFMX09VVFBVVCB8IHVuZGVmaW5lZDtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZU91dHB1dFRyYW5zZm9ybVN0cmVhbTxcbiAgVE9PTFMgZXh0ZW5kcyBUb29sU2V0LFxuICBPVVRQVVQsXG4gIFBBUlRJQUxfT1VUUFVULFxuPihcbiAgb3V0cHV0OiBPdXRwdXQ8T1VUUFVULCBQQVJUSUFMX09VVFBVVD4gfCB1bmRlZmluZWQsXG4pOiBUcmFuc2Zvcm1TdHJlYW08XG4gIFRleHRTdHJlYW1QYXJ0PFRPT0xTPixcbiAgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5cbj4ge1xuICBpZiAoIW91dHB1dCkge1xuICAgIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+LFxuICAgICAgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5cbiAgICA+KHtcbiAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyBwYXJ0OiBjaHVuaywgcGFydGlhbE91dHB1dDogdW5kZWZpbmVkIH0pO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGxldCBmaXJzdFRleHRDaHVua0lkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gIGxldCB0ZXh0ID0gJyc7XG4gIGxldCB0ZXh0Q2h1bmsgPSAnJztcbiAgbGV0IGxhc3RQdWJsaXNoZWRKc29uID0gJyc7XG5cbiAgZnVuY3Rpb24gcHVibGlzaFRleHRDaHVuayh7XG4gICAgY29udHJvbGxlcixcbiAgICBwYXJ0aWFsT3V0cHV0ID0gdW5kZWZpbmVkLFxuICB9OiB7XG4gICAgY29udHJvbGxlcjogVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8XG4gICAgICBFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPlxuICAgID47XG4gICAgcGFydGlhbE91dHB1dD86IFBBUlRJQUxfT1VUUFVUO1xuICB9KSB7XG4gICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgIHBhcnQ6IHtcbiAgICAgICAgdHlwZTogJ3RleHQtZGVsdGEnLFxuICAgICAgICBpZDogZmlyc3RUZXh0Q2h1bmtJZCEsXG4gICAgICAgIHRleHQ6IHRleHRDaHVuayxcbiAgICAgIH0sXG4gICAgICBwYXJ0aWFsT3V0cHV0LFxuICAgIH0pO1xuICAgIHRleHRDaHVuayA9ICcnO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+LFxuICAgIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+XG4gID4oe1xuICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgLy8gZW5zdXJlIHRoYXQgd2UgcHVibGlzaCB0aGUgbGFzdCB0ZXh0IGNodW5rIGJlZm9yZSB0aGUgc3RlcCBmaW5pc2g6XG4gICAgICBpZiAoY2h1bmsudHlwZSA9PT0gJ2ZpbmlzaC1zdGVwJyAmJiB0ZXh0Q2h1bmsubGVuZ3RoID4gMCkge1xuICAgICAgICBwdWJsaXNoVGV4dENodW5rKHsgY29udHJvbGxlciB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBjaHVuay50eXBlICE9PSAndGV4dC1kZWx0YScgJiZcbiAgICAgICAgY2h1bmsudHlwZSAhPT0gJ3RleHQtc3RhcnQnICYmXG4gICAgICAgIGNodW5rLnR5cGUgIT09ICd0ZXh0LWVuZCdcbiAgICAgICkge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyBwYXJ0OiBjaHVuaywgcGFydGlhbE91dHB1dDogdW5kZWZpbmVkIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGhhdmUgdG8gcGljayBhIHRleHQgY2h1bmsgd2hpY2ggY29udGFpbnMgdGhlIGpzb24gdGV4dFxuICAgICAgLy8gc2luY2Ugd2UgYXJlIHN0cmVhbWluZywgd2UgaGF2ZSB0byBwaWNrIHRoZSBmaXJzdCB0ZXh0IGNodW5rXG4gICAgICBpZiAoZmlyc3RUZXh0Q2h1bmtJZCA9PSBudWxsKSB7XG4gICAgICAgIGZpcnN0VGV4dENodW5rSWQgPSBjaHVuay5pZDtcbiAgICAgIH0gZWxzZSBpZiAoY2h1bmsuaWQgIT09IGZpcnN0VGV4dENodW5rSWQpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgcGFydDogY2h1bmssIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2h1bmsudHlwZSA9PT0gJ3RleHQtc3RhcnQnKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHBhcnQ6IGNodW5rLCBwYXJ0aWFsT3V0cHV0OiB1bmRlZmluZWQgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICd0ZXh0LWVuZCcpIHtcbiAgICAgICAgaWYgKHRleHRDaHVuay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcHVibGlzaFRleHRDaHVuayh7IGNvbnRyb2xsZXIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgcGFydDogY2h1bmssIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0ZXh0ICs9IGNodW5rLnRleHQ7XG4gICAgICB0ZXh0Q2h1bmsgKz0gY2h1bmsudGV4dDtcblxuICAgICAgLy8gb25seSBwdWJsaXNoIGlmIHBhcnRpYWwganNvbiBjYW4gYmUgcGFyc2VkOlxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3V0cHV0LnBhcnNlUGFydGlhbCh7IHRleHQgfSk7XG4gICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgLy8gb25seSBzZW5kIG5ldyBqc29uIGlmIGl0IGhhcyBjaGFuZ2VkOlxuICAgICAgICBjb25zdCBjdXJyZW50SnNvbiA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdC5wYXJ0aWFsKTtcbiAgICAgICAgaWYgKGN1cnJlbnRKc29uICE9PSBsYXN0UHVibGlzaGVkSnNvbikge1xuICAgICAgICAgIHB1Ymxpc2hUZXh0Q2h1bmsoeyBjb250cm9sbGVyLCBwYXJ0aWFsT3V0cHV0OiByZXN1bHQucGFydGlhbCB9KTtcbiAgICAgICAgICBsYXN0UHVibGlzaGVkSnNvbiA9IGN1cnJlbnRKc29uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG59XG5cbmNsYXNzIERlZmF1bHRTdHJlYW1UZXh0UmVzdWx0PFRPT0xTIGV4dGVuZHMgVG9vbFNldCwgT1VUUFVULCBQQVJUSUFMX09VVFBVVD5cbiAgaW1wbGVtZW50cyBTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5cbntcbiAgcHJpdmF0ZSByZWFkb25seSBfdG90YWxVc2FnZSA9IG5ldyBEZWxheWVkUHJvbWlzZTxcbiAgICBBd2FpdGVkPFN0cmVhbVRleHRSZXN1bHQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPlsndXNhZ2UnXT5cbiAgPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF9maW5pc2hSZWFzb24gPSBuZXcgRGVsYXllZFByb21pc2U8XG4gICAgQXdhaXRlZDxTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5bJ2ZpbmlzaFJlYXNvbiddPlxuICA+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3N0ZXBzID0gbmV3IERlbGF5ZWRQcm9taXNlPFxuICAgIEF3YWl0ZWQ8U3RyZWFtVGV4dFJlc3VsdDxUT09MUywgUEFSVElBTF9PVVRQVVQ+WydzdGVwcyddPlxuICA+KCk7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBhZGRTdHJlYW06IChcbiAgICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFRleHRTdHJlYW1QYXJ0PFRPT0xTPj4sXG4gICkgPT4gdm9pZDtcblxuICBwcml2YXRlIHJlYWRvbmx5IGNsb3NlU3RyZWFtOiAoKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgYmFzZVN0cmVhbTogUmVhZGFibGVTdHJlYW08RW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD4+O1xuXG4gIHByaXZhdGUgb3V0cHV0OiBPdXRwdXQ8T1VUUFVULCBQQVJUSUFMX09VVFBVVD4gfCB1bmRlZmluZWQ7XG5cbiAgcHJpdmF0ZSBpbmNsdWRlUmF3Q2h1bmtzOiBib29sZWFuO1xuXG4gIHByaXZhdGUgdG9vbHM6IFRPT0xTIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtb2RlbCxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVycyxcbiAgICBzZXR0aW5ncyxcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgdG9vbHMsXG4gICAgdG9vbENob2ljZSxcbiAgICB0cmFuc2Zvcm1zLFxuICAgIGFjdGl2ZVRvb2xzLFxuICAgIHJlcGFpclRvb2xDYWxsLFxuICAgIHN0b3BDb25kaXRpb25zLFxuICAgIG91dHB1dCxcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgcHJlcGFyZVN0ZXAsXG4gICAgaW5jbHVkZVJhd0NodW5rcyxcbiAgICBub3csXG4gICAgY3VycmVudERhdGUsXG4gICAgZ2VuZXJhdGVJZCxcbiAgICBvbkNodW5rLFxuICAgIG9uRXJyb3IsXG4gICAgb25GaW5pc2gsXG4gICAgb25BYm9ydCxcbiAgICBvblN0ZXBGaW5pc2gsXG4gICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgZG93bmxvYWQsXG4gIH06IHtcbiAgICBtb2RlbDogTGFuZ3VhZ2VNb2RlbFYyO1xuICAgIHRlbGVtZXRyeTogVGVsZW1ldHJ5U2V0dGluZ3MgfCB1bmRlZmluZWQ7XG4gICAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiB8IHVuZGVmaW5lZDtcbiAgICBzZXR0aW5nczogT21pdDxDYWxsU2V0dGluZ3MsICdhYm9ydFNpZ25hbCcgfCAnaGVhZGVycyc+O1xuICAgIG1heFJldHJpZXM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBhYm9ydFNpZ25hbDogQWJvcnRTaWduYWwgfCB1bmRlZmluZWQ7XG4gICAgc3lzdGVtOiBQcm9tcHRbJ3N5c3RlbSddO1xuICAgIHByb21wdDogUHJvbXB0Wydwcm9tcHQnXTtcbiAgICBtZXNzYWdlczogUHJvbXB0WydtZXNzYWdlcyddO1xuICAgIHRvb2xzOiBUT09MUyB8IHVuZGVmaW5lZDtcbiAgICB0b29sQ2hvaWNlOiBUb29sQ2hvaWNlPFRPT0xTPiB8IHVuZGVmaW5lZDtcbiAgICB0cmFuc2Zvcm1zOiBBcnJheTxTdHJlYW1UZXh0VHJhbnNmb3JtPFRPT0xTPj47XG4gICAgYWN0aXZlVG9vbHM6IEFycmF5PGtleW9mIFRPT0xTPiB8IHVuZGVmaW5lZDtcbiAgICByZXBhaXJUb29sQ2FsbDogVG9vbENhbGxSZXBhaXJGdW5jdGlvbjxUT09MUz4gfCB1bmRlZmluZWQ7XG4gICAgc3RvcENvbmRpdGlvbnM6IEFycmF5PFN0b3BDb25kaXRpb248Tm9JbmZlcjxUT09MUz4+PjtcbiAgICBvdXRwdXQ6IE91dHB1dDxPVVRQVVQsIFBBUlRJQUxfT1VUUFVUPiB8IHVuZGVmaW5lZDtcbiAgICBwcm92aWRlck9wdGlvbnM6IFByb3ZpZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICBwcmVwYXJlU3RlcDogUHJlcGFyZVN0ZXBGdW5jdGlvbjxOb0luZmVyPFRPT0xTPj4gfCB1bmRlZmluZWQ7XG4gICAgaW5jbHVkZVJhd0NodW5rczogYm9vbGVhbjtcbiAgICBub3c6ICgpID0+IG51bWJlcjtcbiAgICBjdXJyZW50RGF0ZTogKCkgPT4gRGF0ZTtcbiAgICBnZW5lcmF0ZUlkOiAoKSA9PiBzdHJpbmc7XG4gICAgZXhwZXJpbWVudGFsX2NvbnRleHQ6IHVua25vd247XG4gICAgZG93bmxvYWQ6IERvd25sb2FkRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbiAgICAvLyBjYWxsYmFja3M6XG4gICAgb25DaHVuazogdW5kZWZpbmVkIHwgU3RyZWFtVGV4dE9uQ2h1bmtDYWxsYmFjazxUT09MUz47XG4gICAgb25FcnJvcjogU3RyZWFtVGV4dE9uRXJyb3JDYWxsYmFjaztcbiAgICBvbkZpbmlzaDogdW5kZWZpbmVkIHwgU3RyZWFtVGV4dE9uRmluaXNoQ2FsbGJhY2s8VE9PTFM+O1xuICAgIG9uQWJvcnQ6IHVuZGVmaW5lZCB8IFN0cmVhbVRleHRPbkFib3J0Q2FsbGJhY2s8VE9PTFM+O1xuICAgIG9uU3RlcEZpbmlzaDogdW5kZWZpbmVkIHwgU3RyZWFtVGV4dE9uU3RlcEZpbmlzaENhbGxiYWNrPFRPT0xTPjtcbiAgfSkge1xuICAgIHRoaXMub3V0cHV0ID0gb3V0cHV0O1xuICAgIHRoaXMuaW5jbHVkZVJhd0NodW5rcyA9IGluY2x1ZGVSYXdDaHVua3M7XG4gICAgdGhpcy50b29scyA9IHRvb2xzO1xuXG4gICAgLy8gcHJvbWlzZSB0byBlbnN1cmUgdGhhdCB0aGUgc3RlcCBoYXMgYmVlbiBmdWxseSBwcm9jZXNzZWQgYnkgdGhlIGV2ZW50IHByb2Nlc3NvclxuICAgIC8vIGJlZm9yZSBhIG5ldyBzdGVwIGlzIHN0YXJ0ZWQuIFRoaXMgaXMgcmVxdWlyZWQgYmVjYXVzZSB0aGUgY29udGludWF0aW9uIGNvbmRpdGlvblxuICAgIC8vIG5lZWRzIHRoZSB1cGRhdGVkIHN0ZXBzIHRvIGRldGVybWluZSBpZiBhbm90aGVyIHN0ZXAgaXMgbmVlZGVkLlxuICAgIGxldCBzdGVwRmluaXNoITogRGVsYXllZFByb21pc2U8dm9pZD47XG5cbiAgICBsZXQgcmVjb3JkZWRDb250ZW50OiBBcnJheTxDb250ZW50UGFydDxUT09MUz4+ID0gW107XG4gICAgY29uc3QgcmVjb3JkZWRSZXNwb25zZU1lc3NhZ2VzOiBBcnJheTxSZXNwb25zZU1lc3NhZ2U+ID0gW107XG4gICAgbGV0IHJlY29yZGVkRmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb24gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgbGV0IHJlY29yZGVkVG90YWxVc2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgIGxldCByZWNvcmRlZFJlcXVlc3Q6IExhbmd1YWdlTW9kZWxSZXF1ZXN0TWV0YWRhdGEgPSB7fTtcbiAgICBsZXQgcmVjb3JkZWRXYXJuaW5nczogQXJyYXk8Q2FsbFdhcm5pbmc+ID0gW107XG4gICAgY29uc3QgcmVjb3JkZWRTdGVwczogU3RlcFJlc3VsdDxUT09MUz5bXSA9IFtdO1xuXG4gICAgbGV0IHJvb3RTcGFuITogU3BhbjtcblxuICAgIGxldCBhY3RpdmVUZXh0Q29udGVudDogUmVjb3JkPFxuICAgICAgc3RyaW5nLFxuICAgICAge1xuICAgICAgICB0eXBlOiAndGV4dCc7XG4gICAgICAgIHRleHQ6IHN0cmluZztcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICA+ID0ge307XG5cbiAgICBsZXQgYWN0aXZlUmVhc29uaW5nQ29udGVudDogUmVjb3JkPFxuICAgICAgc3RyaW5nLFxuICAgICAge1xuICAgICAgICB0eXBlOiAncmVhc29uaW5nJztcbiAgICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBQcm92aWRlck1ldGFkYXRhIHwgdW5kZWZpbmVkO1xuICAgICAgfVxuICAgID4gPSB7fTtcblxuICAgIGNvbnN0IGV2ZW50UHJvY2Vzc29yID0gbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+LFxuICAgICAgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5cbiAgICA+KHtcbiAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspOyAvLyBmb3J3YXJkIHRoZSBjaHVuayB0byB0aGUgbmV4dCBzdHJlYW1cblxuICAgICAgICBjb25zdCB7IHBhcnQgfSA9IGNodW5rO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwYXJ0LnR5cGUgPT09ICd0ZXh0LWRlbHRhJyB8fFxuICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3JlYXNvbmluZy1kZWx0YScgfHxcbiAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdzb3VyY2UnIHx8XG4gICAgICAgICAgcGFydC50eXBlID09PSAndG9vbC1jYWxsJyB8fFxuICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3Rvb2wtcmVzdWx0JyB8fFxuICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3Rvb2wtaW5wdXQtc3RhcnQnIHx8XG4gICAgICAgICAgcGFydC50eXBlID09PSAndG9vbC1pbnB1dC1kZWx0YScgfHxcbiAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdyYXcnXG4gICAgICAgICkge1xuICAgICAgICAgIGF3YWl0IG9uQ2h1bms/Lih7IGNodW5rOiBwYXJ0IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgIGF3YWl0IG9uRXJyb3IoeyBlcnJvcjogd3JhcEdhdGV3YXlFcnJvcihwYXJ0LmVycm9yKSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0ZXh0LXN0YXJ0Jykge1xuICAgICAgICAgIGFjdGl2ZVRleHRDb250ZW50W3BhcnQuaWRdID0ge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJlY29yZGVkQ29udGVudC5wdXNoKGFjdGl2ZVRleHRDb250ZW50W3BhcnQuaWRdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0ZXh0LWRlbHRhJykge1xuICAgICAgICAgIGNvbnN0IGFjdGl2ZVRleHQgPSBhY3RpdmVUZXh0Q29udGVudFtwYXJ0LmlkXTtcblxuICAgICAgICAgIGlmIChhY3RpdmVUZXh0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHBhcnQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGVycm9yOiBgdGV4dCBwYXJ0ICR7cGFydC5pZH0gbm90IGZvdW5kYCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcGFydGlhbE91dHB1dDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWN0aXZlVGV4dC50ZXh0ICs9IHBhcnQudGV4dDtcbiAgICAgICAgICBhY3RpdmVUZXh0LnByb3ZpZGVyTWV0YWRhdGEgPVxuICAgICAgICAgICAgcGFydC5wcm92aWRlck1ldGFkYXRhID8/IGFjdGl2ZVRleHQucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0ZXh0LWVuZCcpIHtcbiAgICAgICAgICBkZWxldGUgYWN0aXZlVGV4dENvbnRlbnRbcGFydC5pZF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAncmVhc29uaW5nLXN0YXJ0Jykge1xuICAgICAgICAgIGFjdGl2ZVJlYXNvbmluZ0NvbnRlbnRbcGFydC5pZF0gPSB7XG4gICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nJyxcbiAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZWNvcmRlZENvbnRlbnQucHVzaChhY3RpdmVSZWFzb25pbmdDb250ZW50W3BhcnQuaWRdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdyZWFzb25pbmctZGVsdGEnKSB7XG4gICAgICAgICAgY29uc3QgYWN0aXZlUmVhc29uaW5nID0gYWN0aXZlUmVhc29uaW5nQ29udGVudFtwYXJ0LmlkXTtcblxuICAgICAgICAgIGlmIChhY3RpdmVSZWFzb25pbmcgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgcGFydDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGByZWFzb25pbmcgcGFydCAke3BhcnQuaWR9IG5vdCBmb3VuZGAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFjdGl2ZVJlYXNvbmluZy50ZXh0ICs9IHBhcnQudGV4dDtcbiAgICAgICAgICBhY3RpdmVSZWFzb25pbmcucHJvdmlkZXJNZXRhZGF0YSA9XG4gICAgICAgICAgICBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgPz8gYWN0aXZlUmVhc29uaW5nLnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAncmVhc29uaW5nLWVuZCcpIHtcbiAgICAgICAgICBjb25zdCBhY3RpdmVSZWFzb25pbmcgPSBhY3RpdmVSZWFzb25pbmdDb250ZW50W3BhcnQuaWRdO1xuXG4gICAgICAgICAgaWYgKGFjdGl2ZVJlYXNvbmluZyA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICBwYXJ0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogYHJlYXNvbmluZyBwYXJ0ICR7cGFydC5pZH0gbm90IGZvdW5kYCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcGFydGlhbE91dHB1dDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWN0aXZlUmVhc29uaW5nLnByb3ZpZGVyTWV0YWRhdGEgPVxuICAgICAgICAgICAgcGFydC5wcm92aWRlck1ldGFkYXRhID8/IGFjdGl2ZVJlYXNvbmluZy5wcm92aWRlck1ldGFkYXRhO1xuXG4gICAgICAgICAgZGVsZXRlIGFjdGl2ZVJlYXNvbmluZ0NvbnRlbnRbcGFydC5pZF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAnZmlsZScpIHtcbiAgICAgICAgICByZWNvcmRlZENvbnRlbnQucHVzaCh7IHR5cGU6ICdmaWxlJywgZmlsZTogcGFydC5maWxlIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3NvdXJjZScpIHtcbiAgICAgICAgICByZWNvcmRlZENvbnRlbnQucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0b29sLWNhbGwnKSB7XG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50LnB1c2gocGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAndG9vbC1yZXN1bHQnICYmICFwYXJ0LnByZWxpbWluYXJ5KSB7XG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50LnB1c2gocGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAndG9vbC1lcnJvcicpIHtcbiAgICAgICAgICByZWNvcmRlZENvbnRlbnQucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdzdGFydC1zdGVwJykge1xuICAgICAgICAgIHJlY29yZGVkUmVxdWVzdCA9IHBhcnQucmVxdWVzdDtcbiAgICAgICAgICByZWNvcmRlZFdhcm5pbmdzID0gcGFydC53YXJuaW5ncztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdmaW5pc2gtc3RlcCcpIHtcbiAgICAgICAgICBjb25zdCBzdGVwTWVzc2FnZXMgPSB0b1Jlc3BvbnNlTWVzc2FnZXMoe1xuICAgICAgICAgICAgY29udGVudDogcmVjb3JkZWRDb250ZW50LFxuICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBBZGQgc3RlcCBpbmZvcm1hdGlvbiAoYWZ0ZXIgcmVzcG9uc2UgbWVzc2FnZXMgYXJlIHVwZGF0ZWQpOlxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGVwUmVzdWx0OiBTdGVwUmVzdWx0PFRPT0xTPiA9IG5ldyBEZWZhdWx0U3RlcFJlc3VsdCh7XG4gICAgICAgICAgICBjb250ZW50OiByZWNvcmRlZENvbnRlbnQsXG4gICAgICAgICAgICBmaW5pc2hSZWFzb246IHBhcnQuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgdXNhZ2U6IHBhcnQudXNhZ2UsXG4gICAgICAgICAgICB3YXJuaW5nczogcmVjb3JkZWRXYXJuaW5ncyxcbiAgICAgICAgICAgIHJlcXVlc3Q6IHJlY29yZGVkUmVxdWVzdCxcbiAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgIC4uLnBhcnQucmVzcG9uc2UsXG4gICAgICAgICAgICAgIG1lc3NhZ2VzOiBbLi4ucmVjb3JkZWRSZXNwb25zZU1lc3NhZ2VzLCAuLi5zdGVwTWVzc2FnZXNdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGF3YWl0IG9uU3RlcEZpbmlzaD8uKGN1cnJlbnRTdGVwUmVzdWx0KTtcblxuICAgICAgICAgIGxvZ1dhcm5pbmdzKHJlY29yZGVkV2FybmluZ3MpO1xuXG4gICAgICAgICAgcmVjb3JkZWRTdGVwcy5wdXNoKGN1cnJlbnRTdGVwUmVzdWx0KTtcblxuICAgICAgICAgIHJlY29yZGVkQ29udGVudCA9IFtdO1xuICAgICAgICAgIGFjdGl2ZVJlYXNvbmluZ0NvbnRlbnQgPSB7fTtcbiAgICAgICAgICBhY3RpdmVUZXh0Q29udGVudCA9IHt9O1xuXG4gICAgICAgICAgcmVjb3JkZWRSZXNwb25zZU1lc3NhZ2VzLnB1c2goLi4uc3RlcE1lc3NhZ2VzKTtcblxuICAgICAgICAgIC8vIHJlc29sdmUgdGhlIHByb21pc2UgdG8gc2lnbmFsIHRoYXQgdGhlIHN0ZXAgaGFzIGJlZW4gZnVsbHkgcHJvY2Vzc2VkXG4gICAgICAgICAgLy8gYnkgdGhlIGV2ZW50IHByb2Nlc3NvcjpcbiAgICAgICAgICBzdGVwRmluaXNoLnJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdmaW5pc2gnKSB7XG4gICAgICAgICAgcmVjb3JkZWRUb3RhbFVzYWdlID0gcGFydC50b3RhbFVzYWdlO1xuICAgICAgICAgIHJlY29yZGVkRmluaXNoUmVhc29uID0gcGFydC5maW5pc2hSZWFzb247XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGFzeW5jIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAocmVjb3JkZWRTdGVwcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IE5vT3V0cHV0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgICAgICAgICBtZXNzYWdlOiAnTm8gb3V0cHV0IGdlbmVyYXRlZC4gQ2hlY2sgdGhlIHN0cmVhbSBmb3IgZXJyb3JzLicsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2VsZi5fZmluaXNoUmVhc29uLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICBzZWxmLl90b3RhbFVzYWdlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICBzZWxmLl9zdGVwcy5yZWplY3QoZXJyb3IpO1xuXG4gICAgICAgICAgICByZXR1cm47IC8vIG5vIHN0ZXBzIHJlY29yZGVkIChlLmcuIGluIGVycm9yIHNjZW5hcmlvKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGRlcml2ZWQ6XG4gICAgICAgICAgY29uc3QgZmluaXNoUmVhc29uID0gcmVjb3JkZWRGaW5pc2hSZWFzb24gPz8gJ3Vua25vd24nO1xuICAgICAgICAgIGNvbnN0IHRvdGFsVXNhZ2UgPSByZWNvcmRlZFRvdGFsVXNhZ2UgPz8ge1xuICAgICAgICAgICAgaW5wdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG91dHB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdG90YWxUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gZnJvbSBmaW5pc2g6XG4gICAgICAgICAgc2VsZi5fZmluaXNoUmVhc29uLnJlc29sdmUoZmluaXNoUmVhc29uKTtcbiAgICAgICAgICBzZWxmLl90b3RhbFVzYWdlLnJlc29sdmUodG90YWxVc2FnZSk7XG5cbiAgICAgICAgICAvLyBhZ2dyZWdhdGUgcmVzdWx0czpcbiAgICAgICAgICBzZWxmLl9zdGVwcy5yZXNvbHZlKHJlY29yZGVkU3RlcHMpO1xuXG4gICAgICAgICAgLy8gY2FsbCBvbkZpbmlzaCBjYWxsYmFjazpcbiAgICAgICAgICBjb25zdCBmaW5hbFN0ZXAgPSByZWNvcmRlZFN0ZXBzW3JlY29yZGVkU3RlcHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgYXdhaXQgb25GaW5pc2g/Lih7XG4gICAgICAgICAgICBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICB0b3RhbFVzYWdlLFxuICAgICAgICAgICAgdXNhZ2U6IGZpbmFsU3RlcC51c2FnZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGZpbmFsU3RlcC5jb250ZW50LFxuICAgICAgICAgICAgdGV4dDogZmluYWxTdGVwLnRleHQsXG4gICAgICAgICAgICByZWFzb25pbmdUZXh0OiBmaW5hbFN0ZXAucmVhc29uaW5nVGV4dCxcbiAgICAgICAgICAgIHJlYXNvbmluZzogZmluYWxTdGVwLnJlYXNvbmluZyxcbiAgICAgICAgICAgIGZpbGVzOiBmaW5hbFN0ZXAuZmlsZXMsXG4gICAgICAgICAgICBzb3VyY2VzOiBmaW5hbFN0ZXAuc291cmNlcyxcbiAgICAgICAgICAgIHRvb2xDYWxsczogZmluYWxTdGVwLnRvb2xDYWxscyxcbiAgICAgICAgICAgIHN0YXRpY1Rvb2xDYWxsczogZmluYWxTdGVwLnN0YXRpY1Rvb2xDYWxscyxcbiAgICAgICAgICAgIGR5bmFtaWNUb29sQ2FsbHM6IGZpbmFsU3RlcC5keW5hbWljVG9vbENhbGxzLFxuICAgICAgICAgICAgdG9vbFJlc3VsdHM6IGZpbmFsU3RlcC50b29sUmVzdWx0cyxcbiAgICAgICAgICAgIHN0YXRpY1Rvb2xSZXN1bHRzOiBmaW5hbFN0ZXAuc3RhdGljVG9vbFJlc3VsdHMsXG4gICAgICAgICAgICBkeW5hbWljVG9vbFJlc3VsdHM6IGZpbmFsU3RlcC5keW5hbWljVG9vbFJlc3VsdHMsXG4gICAgICAgICAgICByZXF1ZXN0OiBmaW5hbFN0ZXAucmVxdWVzdCxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmaW5hbFN0ZXAucmVzcG9uc2UsXG4gICAgICAgICAgICB3YXJuaW5nczogZmluYWxTdGVwLndhcm5pbmdzLFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogZmluYWxTdGVwLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICBzdGVwczogcmVjb3JkZWRTdGVwcyxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEFkZCByZXNwb25zZSBpbmZvcm1hdGlvbiB0byB0aGUgcm9vdCBzcGFuOlxuICAgICAgICAgIHJvb3RTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmZpbmlzaFJlYXNvbic6IGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudGV4dCc6IHsgb3V0cHV0OiAoKSA9PiBmaW5hbFN0ZXAudGV4dCB9LFxuICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50b29sQ2FsbHMnOiB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsU3RlcC50b29sQ2FsbHM/Lmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkoZmluYWxTdGVwLnRvb2xDYWxscylcbiAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5wcm92aWRlck1ldGFkYXRhJzogSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgICBmaW5hbFN0ZXAucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgICAgJ2FpLnVzYWdlLmlucHV0VG9rZW5zJzogdG90YWxVc2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAnYWkudXNhZ2Uub3V0cHV0VG9rZW5zJzogdG90YWxVc2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRvdGFsVG9rZW5zJzogdG90YWxVc2FnZS50b3RhbFRva2VucyxcbiAgICAgICAgICAgICAgICAnYWkudXNhZ2UucmVhc29uaW5nVG9rZW5zJzogdG90YWxVc2FnZS5yZWFzb25pbmdUb2tlbnMsXG4gICAgICAgICAgICAgICAgJ2FpLnVzYWdlLmNhY2hlZElucHV0VG9rZW5zJzogdG90YWxVc2FnZS5jYWNoZWRJbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgcm9vdFNwYW4uZW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBpbml0aWFsaXplIHRoZSBzdGl0Y2hhYmxlIHN0cmVhbSBhbmQgdGhlIHRyYW5zZm9ybWVkIHN0cmVhbTpcbiAgICBjb25zdCBzdGl0Y2hhYmxlU3RyZWFtID0gY3JlYXRlU3RpdGNoYWJsZVN0cmVhbTxUZXh0U3RyZWFtUGFydDxUT09MUz4+KCk7XG4gICAgdGhpcy5hZGRTdHJlYW0gPSBzdGl0Y2hhYmxlU3RyZWFtLmFkZFN0cmVhbTtcbiAgICB0aGlzLmNsb3NlU3RyZWFtID0gc3RpdGNoYWJsZVN0cmVhbS5jbG9zZTtcblxuICAgIC8vIHJlc2lsaWVudCBzdHJlYW0gdGhhdCBoYW5kbGVzIGFib3J0IHNpZ25hbHMgYW5kIGVycm9yczpcbiAgICBjb25zdCByZWFkZXIgPSBzdGl0Y2hhYmxlU3RyZWFtLnN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICBsZXQgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtPFRleHRTdHJlYW1QYXJ0PFRPT0xTPj4oe1xuICAgICAgYXN5bmMgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAvLyBzZW5kIHN0YXJ0IGV2ZW50OlxuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnc3RhcnQnIH0pO1xuICAgICAgfSxcblxuICAgICAgYXN5bmMgcHVsbChjb250cm9sbGVyKSB7XG4gICAgICAgIC8vIGFib3J0IGhhbmRsaW5nOlxuICAgICAgICBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgICAgICBvbkFib3J0Py4oeyBzdGVwczogcmVjb3JkZWRTdGVwcyB9KTtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnYWJvcnQnIH0pO1xuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcblxuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGFib3J0U2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgJiYgYWJvcnRTaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgY2FuY2VsKHJlYXNvbikge1xuICAgICAgICByZXR1cm4gc3RpdGNoYWJsZVN0cmVhbS5zdHJlYW0uY2FuY2VsKHJlYXNvbik7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gdHJhbnNmb3JtIHRoZSBzdHJlYW0gYmVmb3JlIG91dHB1dCBwYXJzaW5nXG4gICAgLy8gdG8gZW5hYmxlIHJlcGxhY2VtZW50IG9mIHN0cmVhbSBzZWdtZW50czpcbiAgICBmb3IgKGNvbnN0IHRyYW5zZm9ybSBvZiB0cmFuc2Zvcm1zKSB7XG4gICAgICBzdHJlYW0gPSBzdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICAgIHRyYW5zZm9ybSh7XG4gICAgICAgICAgdG9vbHM6IHRvb2xzIGFzIFRPT0xTLFxuICAgICAgICAgIHN0b3BTdHJlYW0oKSB7XG4gICAgICAgICAgICBzdGl0Y2hhYmxlU3RyZWFtLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmJhc2VTdHJlYW0gPSBzdHJlYW1cbiAgICAgIC5waXBlVGhyb3VnaChjcmVhdGVPdXRwdXRUcmFuc2Zvcm1TdHJlYW0ob3V0cHV0KSlcbiAgICAgIC5waXBlVGhyb3VnaChldmVudFByb2Nlc3Nvcik7XG5cbiAgICBjb25zdCB7IG1heFJldHJpZXMsIHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgICAgYWJvcnRTaWduYWwsXG4gICAgfSk7XG5cbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcblxuICAgIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpO1xuXG4gICAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICBtb2RlbCxcbiAgICAgIHRlbGVtZXRyeSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBzZXR0aW5nczogeyAuLi5jYWxsU2V0dGluZ3MsIG1heFJldHJpZXMgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgcmVjb3JkU3Bhbih7XG4gICAgICBuYW1lOiAnYWkuc3RyZWFtVGV4dCcsXG4gICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHsgb3BlcmF0aW9uSWQ6ICdhaS5zdHJlYW1UZXh0JywgdGVsZW1ldHJ5IH0pLFxuICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAnYWkucHJvbXB0Jzoge1xuICAgICAgICAgICAgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHsgc3lzdGVtLCBwcm9tcHQsIG1lc3NhZ2VzIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIHRyYWNlcixcbiAgICAgIGVuZFdoZW5Eb25lOiBmYWxzZSxcbiAgICAgIGZuOiBhc3luYyByb290U3BhbkFyZyA9PiB7XG4gICAgICAgIHJvb3RTcGFuID0gcm9vdFNwYW5Bcmc7XG5cbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gc3RyZWFtU3RlcCh7XG4gICAgICAgICAgY3VycmVudFN0ZXAsXG4gICAgICAgICAgcmVzcG9uc2VNZXNzYWdlcyxcbiAgICAgICAgICB1c2FnZSxcbiAgICAgICAgfToge1xuICAgICAgICAgIGN1cnJlbnRTdGVwOiBudW1iZXI7XG4gICAgICAgICAgcmVzcG9uc2VNZXNzYWdlczogQXJyYXk8UmVzcG9uc2VNZXNzYWdlPjtcbiAgICAgICAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICAgICAgICB9KSB7XG4gICAgICAgICAgY29uc3QgaW5jbHVkZVJhd0NodW5rcyA9IHNlbGYuaW5jbHVkZVJhd0NodW5rcztcblxuICAgICAgICAgIHN0ZXBGaW5pc2ggPSBuZXcgRGVsYXllZFByb21pc2U8dm9pZD4oKTtcblxuICAgICAgICAgIGNvbnN0IGluaXRpYWxQcm9tcHQgPSBhd2FpdCBzdGFuZGFyZGl6ZVByb21wdCh7XG4gICAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICB9IGFzIFByb21wdCk7XG5cbiAgICAgICAgICBjb25zdCBzdGVwSW5wdXRNZXNzYWdlcyA9IFtcbiAgICAgICAgICAgIC4uLmluaXRpYWxQcm9tcHQubWVzc2FnZXMsXG4gICAgICAgICAgICAuLi5yZXNwb25zZU1lc3NhZ2VzLFxuICAgICAgICAgIF07XG5cbiAgICAgICAgICBjb25zdCBwcmVwYXJlU3RlcFJlc3VsdCA9IGF3YWl0IHByZXBhcmVTdGVwPy4oe1xuICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICBzdGVwczogcmVjb3JkZWRTdGVwcyxcbiAgICAgICAgICAgIHN0ZXBOdW1iZXI6IHJlY29yZGVkU3RlcHMubGVuZ3RoLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3QgcHJvbXB0TWVzc2FnZXMgPSBhd2FpdCBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgICAgICAgICAgIHByb21wdDoge1xuICAgICAgICAgICAgICBzeXN0ZW06IHByZXBhcmVTdGVwUmVzdWx0Py5zeXN0ZW0gPz8gaW5pdGlhbFByb21wdC5zeXN0ZW0sXG4gICAgICAgICAgICAgIG1lc3NhZ2VzOiBwcmVwYXJlU3RlcFJlc3VsdD8ubWVzc2FnZXMgPz8gc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydGVkVXJsczogYXdhaXQgbW9kZWwuc3VwcG9ydGVkVXJscyxcbiAgICAgICAgICAgIGRvd25sb2FkLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3Qgc3RlcE1vZGVsID0gcmVzb2x2ZUxhbmd1YWdlTW9kZWwoXG4gICAgICAgICAgICBwcmVwYXJlU3RlcFJlc3VsdD8ubW9kZWwgPz8gbW9kZWwsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IHsgdG9vbENob2ljZTogc3RlcFRvb2xDaG9pY2UsIHRvb2xzOiBzdGVwVG9vbHMgfSA9XG4gICAgICAgICAgICBwcmVwYXJlVG9vbHNBbmRUb29sQ2hvaWNlKHtcbiAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgIHRvb2xDaG9pY2U6IHByZXBhcmVTdGVwUmVzdWx0Py50b29sQ2hvaWNlID8/IHRvb2xDaG9pY2UsXG4gICAgICAgICAgICAgIGFjdGl2ZVRvb2xzOiBwcmVwYXJlU3RlcFJlc3VsdD8uYWN0aXZlVG9vbHMgPz8gYWN0aXZlVG9vbHMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHJlc3VsdDogeyBzdHJlYW0sIHJlc3BvbnNlLCByZXF1ZXN0IH0sXG4gICAgICAgICAgICBkb1N0cmVhbVNwYW4sXG4gICAgICAgICAgICBzdGFydFRpbWVzdGFtcE1zLFxuICAgICAgICAgIH0gPSBhd2FpdCByZXRyeSgoKSA9PlxuICAgICAgICAgICAgcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICAgIG5hbWU6ICdhaS5zdHJlYW1UZXh0LmRvU3RyZWFtJyxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuc3RyZWFtVGV4dC5kb1N0cmVhbScsXG4gICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAvLyBtb2RlbDpcbiAgICAgICAgICAgICAgICAgICdhaS5tb2RlbC5wcm92aWRlcic6IHN0ZXBNb2RlbC5wcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICdhaS5tb2RlbC5pZCc6IHN0ZXBNb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgLy8gcHJvbXB0OlxuICAgICAgICAgICAgICAgICAgJ2FpLnByb21wdC5tZXNzYWdlcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHN0cmluZ2lmeUZvclRlbGVtZXRyeShwcm9tcHRNZXNzYWdlcyksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJ2FpLnByb21wdC50b29scyc6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCB0aGUgbGFuZ3VhZ2UgbW9kZWwgbGV2ZWwgdG9vbHM6XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBzdGVwVG9vbHM/Lm1hcCh0b29sID0+IEpTT04uc3RyaW5naWZ5KHRvb2wpKSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAnYWkucHJvbXB0LnRvb2xDaG9pY2UnOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBUb29sQ2hvaWNlICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkoc3RlcFRvb2xDaG9pY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkuc3lzdGVtJzogc3RlcE1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1vZGVsJzogc3RlcE1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QuZnJlcXVlbmN5X3BlbmFsdHknOlxuICAgICAgICAgICAgICAgICAgICBjYWxsU2V0dGluZ3MuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5tYXhfdG9rZW5zJzogY2FsbFNldHRpbmdzLm1heE91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5wcmVzZW5jZV9wZW5hbHR5JzpcbiAgICAgICAgICAgICAgICAgICAgY2FsbFNldHRpbmdzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5zdG9wX3NlcXVlbmNlcyc6IGNhbGxTZXR0aW5ncy5zdG9wU2VxdWVuY2VzLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRlbXBlcmF0dXJlJzogY2FsbFNldHRpbmdzLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9rJzogY2FsbFNldHRpbmdzLnRvcEssXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudG9wX3AnOiBjYWxsU2V0dGluZ3MudG9wUCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgICBlbmRXaGVuRG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgIGZuOiBhc3luYyBkb1N0cmVhbVNwYW4gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBzdGFydFRpbWVzdGFtcE1zOiBub3coKSwgLy8gZ2V0IGJlZm9yZSB0aGUgY2FsbFxuICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLFxuICAgICAgICAgICAgICAgICAgcmVzdWx0OiBhd2FpdCBzdGVwTW9kZWwuZG9TdHJlYW0oe1xuICAgICAgICAgICAgICAgICAgICAuLi5jYWxsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgIHRvb2xzOiBzdGVwVG9vbHMsXG4gICAgICAgICAgICAgICAgICAgIHRvb2xDaG9pY2U6IHN0ZXBUb29sQ2hvaWNlLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUZvcm1hdDogb3V0cHV0Py5yZXNwb25zZUZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZVJhd0NodW5rcyxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3Qgc3RyZWFtV2l0aFRvb2xSZXN1bHRzID0gcnVuVG9vbHNUcmFuc2Zvcm1hdGlvbih7XG4gICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgIGdlbmVyYXRvclN0cmVhbTogc3RyZWFtLFxuICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgcmVwYWlyVG9vbENhbGwsXG4gICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3Qgc3RlcFJlcXVlc3QgPSByZXF1ZXN0ID8/IHt9O1xuICAgICAgICAgIGNvbnN0IHN0ZXBUb29sQ2FsbHM6IFR5cGVkVG9vbENhbGw8VE9PTFM+W10gPSBbXTtcbiAgICAgICAgICBjb25zdCBzdGVwVG9vbE91dHB1dHM6IFRvb2xPdXRwdXQ8VE9PTFM+W10gPSBbXTtcbiAgICAgICAgICBsZXQgd2FybmluZ3M6IExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nW10gfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBjb25zdCBhY3RpdmVUb29sQ2FsbFRvb2xOYW1lczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG4gICAgICAgICAgbGV0IHN0ZXBGaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbiA9ICd1bmtub3duJztcbiAgICAgICAgICBsZXQgc3RlcFVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2UgPSB7XG4gICAgICAgICAgICBpbnB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3V0cHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0b3RhbFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgIH07XG4gICAgICAgICAgbGV0IHN0ZXBQcm92aWRlck1ldGFkYXRhOiBQcm92aWRlck1ldGFkYXRhIHwgdW5kZWZpbmVkO1xuICAgICAgICAgIGxldCBzdGVwRmlyc3RDaHVuayA9IHRydWU7XG4gICAgICAgICAgbGV0IHN0ZXBSZXNwb25zZTogeyBpZDogc3RyaW5nOyB0aW1lc3RhbXA6IERhdGU7IG1vZGVsSWQ6IHN0cmluZyB9ID0ge1xuICAgICAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogY3VycmVudERhdGUoKSxcbiAgICAgICAgICAgIG1vZGVsSWQ6IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIHJhdyB0ZXh0IGFzIGl0IGNvbWVzIGZyb20gdGhlIHByb3ZpZGVyLiByZWNvcmRlZCBmb3IgdGVsZW1ldHJ5LlxuICAgICAgICAgIGxldCBhY3RpdmVUZXh0ID0gJyc7XG5cbiAgICAgICAgICBzZWxmLmFkZFN0cmVhbShcbiAgICAgICAgICAgIHN0cmVhbVdpdGhUb29sUmVzdWx0cy5waXBlVGhyb3VnaChcbiAgICAgICAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgICAgICAgICAgICBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFM+LFxuICAgICAgICAgICAgICAgIFRleHRTdHJlYW1QYXJ0PFRPT0xTPlxuICAgICAgICAgICAgICA+KHtcbiAgICAgICAgICAgICAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChjaHVuay50eXBlID09PSAnc3RyZWFtLXN0YXJ0Jykge1xuICAgICAgICAgICAgICAgICAgICB3YXJuaW5ncyA9IGNodW5rLndhcm5pbmdzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHN0cmVhbSBzdGFydCBjaHVua3MgYXJlIHNlbnQgaW1tZWRpYXRlbHkgYW5kIGRvIG5vdCBjb3VudCBhcyBmaXJzdCBjaHVua1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBpZiAoc3RlcEZpcnN0Q2h1bmspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGVsZW1ldHJ5IGZvciBmaXJzdCBjaHVuazpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNUb0ZpcnN0Q2h1bmsgPSBub3coKSAtIHN0YXJ0VGltZXN0YW1wTXM7XG5cbiAgICAgICAgICAgICAgICAgICAgc3RlcEZpcnN0Q2h1bmsgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uYWRkRXZlbnQoJ2FpLnN0cmVhbS5maXJzdENodW5rJywge1xuICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5tc1RvRmlyc3RDaHVuayc6IG1zVG9GaXJzdENodW5rLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm1zVG9GaXJzdENodW5rJzogbXNUb0ZpcnN0Q2h1bmssXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0ZXAgc3RhcnQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0YXJ0LXN0ZXAnLFxuICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHN0ZXBSZXF1ZXN0LFxuICAgICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzOiB3YXJuaW5ncyA/PyBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rVHlwZSA9IGNodW5rLnR5cGU7XG4gICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNodW5rVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0LXN0YXJ0JzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dC1lbmQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQtZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLmRlbHRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0LWRlbHRhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNodW5rLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjaHVuay5kZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGV4dCArPSBjaHVuay5kZWx0YTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdyZWFzb25pbmctc3RhcnQnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdyZWFzb25pbmctZW5kJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdyZWFzb25pbmctZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNodW5rLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogY2h1bmsuZGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9vbC1jYWxsJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgdG9vbCBjYWxscyBmb3Igb25GaW5pc2ggY2FsbGJhY2sgYW5kIHRvb2xDYWxscyBwcm9taXNlOlxuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBUb29sQ2FsbHMucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b29sLXJlc3VsdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaHVuay5wcmVsaW1pbmFyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xPdXRwdXRzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9vbC1lcnJvcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBUb29sT3V0cHV0cy5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Jlc3BvbnNlLW1ldGFkYXRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjaHVuay5pZCA/PyBzdGVwUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGNodW5rLnRpbWVzdGFtcCA/PyBzdGVwUmVzcG9uc2UudGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxJZDogY2h1bmsubW9kZWxJZCA/PyBzdGVwUmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZmluaXNoJzoge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IHRvb2wgZXhlY3V0aW9ucyBtaWdodCBub3QgYmUgZmluaXNoZWQgeWV0IHdoZW4gdGhlIGZpbmlzaCBldmVudCBpcyBlbWl0dGVkLlxuICAgICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIHVzYWdlIGFuZCBmaW5pc2ggcmVhc29uIGZvciBwcm9taXNlcyBhbmQgb25GaW5pc2ggY2FsbGJhY2s6XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFVzYWdlID0gY2h1bmsudXNhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcEZpbmlzaFJlYXNvbiA9IGNodW5rLmZpbmlzaFJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwUHJvdmlkZXJNZXRhZGF0YSA9IGNodW5rLnByb3ZpZGVyTWV0YWRhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBUZWxlbWV0cnkgZm9yIGZpbmlzaCBldmVudCB0aW1pbmdcbiAgICAgICAgICAgICAgICAgICAgICAvLyAoc2luY2UgdG9vbCBleGVjdXRpb25zIGNhbiB0YWtlIGxvbmdlciBhbmQgZGlzdG9ydCBjYWxjdWxhdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNUb0ZpbmlzaCA9IG5vdygpIC0gc3RhcnRUaW1lc3RhbXBNcztcbiAgICAgICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uYWRkRXZlbnQoJ2FpLnN0cmVhbS5maW5pc2gnKTtcbiAgICAgICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UubXNUb0ZpbmlzaCc6IG1zVG9GaW5pc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuYXZnT3V0cHV0VG9rZW5zUGVyU2Vjb25kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKDEwMDAgKiAoc3RlcFVzYWdlLm91dHB1dFRva2VucyA/PyAwKSkgLyBtc1RvRmluaXNoLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmaWxlJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzb3VyY2UnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtc3RhcnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVG9vbENhbGxUb29sTmFtZXNbY2h1bmsuaWRdID0gY2h1bmsudG9vbE5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sID0gdG9vbHM/LltjaHVuay50b29sTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2w/Lm9uSW5wdXRTdGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0b29sLm9uSW5wdXRTdGFydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jaHVuayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWM6IHRvb2w/LnR5cGUgPT09ICdkeW5hbWljJyxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtZW5kJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhY3RpdmVUb29sQ2FsbFRvb2xOYW1lc1tjaHVuay5pZF07XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBhY3RpdmVUb29sQ2FsbFRvb2xOYW1lc1tjaHVuay5pZF07XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbCA9IHRvb2xzPy5bdG9vbE5hbWVdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2w/Lm9uSW5wdXREZWx0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0b29sLm9uSW5wdXREZWx0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VGV4dERlbHRhOiBjaHVuay5kZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcEZpbmlzaFJlYXNvbiA9ICdlcnJvcic7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdyYXcnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVSYXdDaHVua3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSBjaHVua1R5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNodW5rIHR5cGU6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8vIGludm9rZSBvbkZpbmlzaCBjYWxsYmFjayBhbmQgcmVzb2x2ZSB0b29sUmVzdWx0cyBwcm9taXNlIHdoZW4gdGhlIHN0cmVhbSBpcyBhYm91dCB0byBjbG9zZTpcbiAgICAgICAgICAgICAgICBhc3luYyBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzdGVwVG9vbENhbGxzSnNvbiA9XG4gICAgICAgICAgICAgICAgICAgIHN0ZXBUb29sQ2FsbHMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkoc3RlcFRvb2xDYWxscylcbiAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgLy8gcmVjb3JkIHRlbGVtZXRyeSBpbmZvcm1hdGlvbiBmaXJzdCB0byBlbnN1cmUgYmVzdCBlZmZvcnQgdGltaW5nXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmZpbmlzaFJlYXNvbic6IHN0ZXBGaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50ZXh0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gYWN0aXZlVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRvb2xDYWxscyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IHN0ZXBUb29sQ2FsbHNKc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuaWQnOiBzdGVwUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5tb2RlbCc6IHN0ZXBSZXNwb25zZS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudGltZXN0YW1wJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwUmVzcG9uc2UudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5wcm92aWRlck1ldGFkYXRhJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShzdGVwUHJvdmlkZXJNZXRhZGF0YSksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLmlucHV0VG9rZW5zJzogc3RlcFVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2Uub3V0cHV0VG9rZW5zJzogc3RlcFVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRvdGFsVG9rZW5zJzogc3RlcFVzYWdlLnRvdGFsVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UucmVhc29uaW5nVG9rZW5zJzogc3RlcFVzYWdlLnJlYXNvbmluZ1Rva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLmNhY2hlZElucHV0VG9rZW5zJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwVXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLmZpbmlzaF9yZWFzb25zJzogW3N0ZXBGaW5pc2hSZWFzb25dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLmlkJzogc3RlcFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLm1vZGVsJzogc3RlcFJlc3BvbnNlLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkudXNhZ2UuaW5wdXRfdG9rZW5zJzogc3RlcFVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLm91dHB1dF90b2tlbnMnOiBzdGVwVXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBlcnJvciBzZXR0aW5nIHRlbGVtZXRyeSBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggZG9TdHJlYW1TcGFuIGJlZm9yZSBvdGhlciBvcGVyYXRpb25zIGZvciBjb3JyZWN0IHRpbWluZzpcbiAgICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmluaXNoLXN0ZXAnLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hSZWFzb246IHN0ZXBGaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgIHVzYWdlOiBzdGVwVXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHN0ZXBQcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLnN0ZXBSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZT8uaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBjb25zdCBjb21iaW5lZFVzYWdlID0gYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlKHVzYWdlLCBzdGVwVXNhZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgc3RlcCB0byBiZSBmdWxseSBwcm9jZXNzZWQgYnkgdGhlIGV2ZW50IHByb2Nlc3NvclxuICAgICAgICAgICAgICAgICAgLy8gdG8gZW5zdXJlIHRoYXQgdGhlIHJlY29yZGVkIHN0ZXBzIGFyZSBjb21wbGV0ZTpcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHN0ZXBGaW5pc2gucHJvbWlzZTtcblxuICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50VG9vbENhbGxzID0gc3RlcFRvb2xDYWxscy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsID0+IHRvb2xDYWxsLnByb3ZpZGVyRXhlY3V0ZWQgIT09IHRydWUsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50VG9vbE91dHB1dHMgPSBzdGVwVG9vbE91dHB1dHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICB0b29sT3V0cHV0ID0+IHRvb2xPdXRwdXQucHJvdmlkZXJFeGVjdXRlZCAhPT0gdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50VG9vbENhbGxzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsIGN1cnJlbnQgdG9vbCBjYWxscyBoYXZlIG91dHB1dHMgKGluY2wuIGV4ZWN1dGlvbiBlcnJvcnMpOlxuICAgICAgICAgICAgICAgICAgICBjbGllbnRUb29sT3V0cHV0cy5sZW5ndGggPT09IGNsaWVudFRvb2xDYWxscy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gY29udGludWUgdW50aWwgYSBzdG9wIGNvbmRpdGlvbiBpcyBtZXQ6XG4gICAgICAgICAgICAgICAgICAgICEoYXdhaXQgaXNTdG9wQ29uZGl0aW9uTWV0KHtcbiAgICAgICAgICAgICAgICAgICAgICBzdG9wQ29uZGl0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwczogcmVjb3JkZWRTdGVwcyxcbiAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwZW5kIHRvIG1lc3NhZ2VzIGZvciB0aGUgbmV4dCBzdGVwOlxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU1lc3NhZ2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgLi4udG9SZXNwb25zZU1lc3NhZ2VzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSB0cmFuc2Zvcm1lZCBjb250ZW50IHRvIGNyZWF0ZSB0aGUgbWVzc2FnZXMgZm9yIHRoZSBuZXh0IHN0ZXA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZGVkU3RlcHNbcmVjb3JkZWRTdGVwcy5sZW5ndGggLSAxXS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdHJlYW1TdGVwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBjdXJyZW50U3RlcCArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZU1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IGNvbWJpbmVkVXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2xvc2VTdHJlYW0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmluaXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hSZWFzb246IHN0ZXBGaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgdG90YWxVc2FnZTogY29tYmluZWRVc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbG9zZVN0cmVhbSgpOyAvLyBjbG9zZSB0aGUgc3RpdGNoYWJsZSBzdHJlYW1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0aGUgaW5pdGlhbCBzdHJlYW0gdG8gdGhlIHN0aXRjaGFibGUgc3RyZWFtXG4gICAgICAgIGF3YWl0IHN0cmVhbVN0ZXAoe1xuICAgICAgICAgIGN1cnJlbnRTdGVwOiAwLFxuICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXM6IFtdLFxuICAgICAgICAgIHVzYWdlOiB7XG4gICAgICAgICAgICBpbnB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3V0cHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0b3RhbFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAvLyBhZGQgYW4gZXJyb3Igc3RyZWFtIHBhcnQgYW5kIGNsb3NlIHRoZSBzdHJlYW1zOlxuICAgICAgc2VsZi5hZGRTdHJlYW0oXG4gICAgICAgIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ2Vycm9yJywgZXJyb3IgfSk7XG4gICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgICAgc2VsZi5jbG9zZVN0cmVhbSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IHN0ZXBzKCkge1xuICAgIC8vIHdoZW4gYW55IG9mIHRoZSBwcm9taXNlcyBhcmUgYWNjZXNzZWQsIHRoZSBzdHJlYW0gaXMgY29uc3VtZWRcbiAgICAvLyBzbyBpdCByZXNvbHZlcyB3aXRob3V0IG5lZWRpbmcgdG8gY29uc3VtZSB0aGUgc3RyZWFtIHNlcGFyYXRlbHlcbiAgICB0aGlzLmNvbnN1bWVTdHJlYW0oKTtcblxuICAgIHJldHVybiB0aGlzLl9zdGVwcy5wcm9taXNlO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgZmluYWxTdGVwKCkge1xuICAgIHJldHVybiB0aGlzLnN0ZXBzLnRoZW4oc3RlcHMgPT4gc3RlcHNbc3RlcHMubGVuZ3RoIC0gMV0pO1xuICB9XG5cbiAgZ2V0IGNvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLmNvbnRlbnQpO1xuICB9XG5cbiAgZ2V0IHdhcm5pbmdzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC53YXJuaW5ncyk7XG4gIH1cblxuICBnZXQgcHJvdmlkZXJNZXRhZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAucHJvdmlkZXJNZXRhZGF0YSk7XG4gIH1cblxuICBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAudGV4dCk7XG4gIH1cblxuICBnZXQgcmVhc29uaW5nVGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAucmVhc29uaW5nVGV4dCk7XG4gIH1cblxuICBnZXQgcmVhc29uaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5yZWFzb25pbmcpO1xuICB9XG5cbiAgZ2V0IHNvdXJjZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnNvdXJjZXMpO1xuICB9XG5cbiAgZ2V0IGZpbGVzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5maWxlcyk7XG4gIH1cblxuICBnZXQgdG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC50b29sQ2FsbHMpO1xuICB9XG5cbiAgZ2V0IHN0YXRpY1Rvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAuc3RhdGljVG9vbENhbGxzKTtcbiAgfVxuXG4gIGdldCBkeW5hbWljVG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5keW5hbWljVG9vbENhbGxzKTtcbiAgfVxuXG4gIGdldCB0b29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAudG9vbFJlc3VsdHMpO1xuICB9XG5cbiAgZ2V0IHN0YXRpY1Rvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5zdGF0aWNUb29sUmVzdWx0cyk7XG4gIH1cblxuICBnZXQgZHluYW1pY1Rvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5keW5hbWljVG9vbFJlc3VsdHMpO1xuICB9XG5cbiAgZ2V0IHVzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC51c2FnZSk7XG4gIH1cblxuICBnZXQgcmVxdWVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAucmVxdWVzdCk7XG4gIH1cblxuICBnZXQgcmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnJlc3BvbnNlKTtcbiAgfVxuXG4gIGdldCB0b3RhbFVzYWdlKCkge1xuICAgIC8vIHdoZW4gYW55IG9mIHRoZSBwcm9taXNlcyBhcmUgYWNjZXNzZWQsIHRoZSBzdHJlYW0gaXMgY29uc3VtZWRcbiAgICAvLyBzbyBpdCByZXNvbHZlcyB3aXRob3V0IG5lZWRpbmcgdG8gY29uc3VtZSB0aGUgc3RyZWFtIHNlcGFyYXRlbHlcbiAgICB0aGlzLmNvbnN1bWVTdHJlYW0oKTtcblxuICAgIHJldHVybiB0aGlzLl90b3RhbFVzYWdlLnByb21pc2U7XG4gIH1cblxuICBnZXQgZmluaXNoUmVhc29uKCkge1xuICAgIC8vIHdoZW4gYW55IG9mIHRoZSBwcm9taXNlcyBhcmUgYWNjZXNzZWQsIHRoZSBzdHJlYW0gaXMgY29uc3VtZWRcbiAgICAvLyBzbyBpdCByZXNvbHZlcyB3aXRob3V0IG5lZWRpbmcgdG8gY29uc3VtZSB0aGUgc3RyZWFtIHNlcGFyYXRlbHlcbiAgICB0aGlzLmNvbnN1bWVTdHJlYW0oKTtcblxuICAgIHJldHVybiB0aGlzLl9maW5pc2hSZWFzb24ucHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuU3BsaXQgb3V0IGEgbmV3IHN0cmVhbSBmcm9tIHRoZSBvcmlnaW5hbCBzdHJlYW0uXG5UaGUgb3JpZ2luYWwgc3RyZWFtIGlzIHJlcGxhY2VkIHRvIGFsbG93IGZvciBmdXJ0aGVyIHNwbGl0dGluZyxcbnNpbmNlIHdlIGRvIG5vdCBrbm93IGhvdyBtYW55IHRpbWVzIHRoZSBzdHJlYW0gd2lsbCBiZSBzcGxpdC5cblxuTm90ZTogdGhpcyBsZWFkcyB0byBidWZmZXJpbmcgdGhlIHN0cmVhbSBjb250ZW50IG9uIHRoZSBzZXJ2ZXIuXG5Ib3dldmVyLCB0aGUgTExNIHJlc3VsdHMgYXJlIGV4cGVjdGVkIHRvIGJlIHNtYWxsIGVub3VnaCB0byBub3QgY2F1c2UgaXNzdWVzLlxuICAgKi9cbiAgcHJpdmF0ZSB0ZWVTdHJlYW0oKSB7XG4gICAgY29uc3QgW3N0cmVhbTEsIHN0cmVhbTJdID0gdGhpcy5iYXNlU3RyZWFtLnRlZSgpO1xuICAgIHRoaXMuYmFzZVN0cmVhbSA9IHN0cmVhbTI7XG4gICAgcmV0dXJuIHN0cmVhbTE7XG4gIH1cblxuICBnZXQgdGV4dFN0cmVhbSgpOiBBc3luY0l0ZXJhYmxlU3RyZWFtPHN0cmluZz4ge1xuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgdGhpcy50ZWVTdHJlYW0oKS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPiwgc3RyaW5nPih7XG4gICAgICAgICAgdHJhbnNmb3JtKHsgcGFydCB9LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBpZiAocGFydC50eXBlID09PSAndGV4dC1kZWx0YScpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHBhcnQudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBnZXQgZnVsbFN0cmVhbSgpOiBBc3luY0l0ZXJhYmxlU3RyZWFtPFRleHRTdHJlYW1QYXJ0PFRPT0xTPj4ge1xuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgdGhpcy50ZWVTdHJlYW0oKS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgICAgICBFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPixcbiAgICAgICAgICBUZXh0U3RyZWFtUGFydDxUT09MUz5cbiAgICAgICAgPih7XG4gICAgICAgICAgdHJhbnNmb3JtKHsgcGFydCB9LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocGFydCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBhc3luYyBjb25zdW1lU3RyZWFtKG9wdGlvbnM/OiBDb25zdW1lU3RyZWFtT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjb25zdW1lU3RyZWFtKHtcbiAgICAgICAgc3RyZWFtOiB0aGlzLmZ1bGxTdHJlYW0sXG4gICAgICAgIG9uRXJyb3I6IG9wdGlvbnM/Lm9uRXJyb3IsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgb3B0aW9ucz8ub25FcnJvcj8uKGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBnZXQgZXhwZXJpbWVudGFsX3BhcnRpYWxPdXRwdXRTdHJlYW0oKTogQXN5bmNJdGVyYWJsZVN0cmVhbTxQQVJUSUFMX09VVFBVVD4ge1xuICAgIGlmICh0aGlzLm91dHB1dCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9PdXRwdXRTcGVjaWZpZWRFcnJvcigpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgdGhpcy50ZWVTdHJlYW0oKS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgICAgICBFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPixcbiAgICAgICAgICBQQVJUSUFMX09VVFBVVFxuICAgICAgICA+KHtcbiAgICAgICAgICB0cmFuc2Zvcm0oeyBwYXJ0aWFsT3V0cHV0IH0sIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0aWFsT3V0cHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHBhcnRpYWxPdXRwdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgdG9VSU1lc3NhZ2VTdHJlYW08VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oe1xuICAgIG9yaWdpbmFsTWVzc2FnZXMsXG4gICAgZ2VuZXJhdGVNZXNzYWdlSWQsXG4gICAgb25GaW5pc2gsXG4gICAgbWVzc2FnZU1ldGFkYXRhLFxuICAgIHNlbmRSZWFzb25pbmcgPSB0cnVlLFxuICAgIHNlbmRTb3VyY2VzID0gZmFsc2UsXG4gICAgc2VuZFN0YXJ0ID0gdHJ1ZSxcbiAgICBzZW5kRmluaXNoID0gdHJ1ZSxcbiAgICBvbkVycm9yID0gZ2V0RXJyb3JNZXNzYWdlLFxuICB9OiBVSU1lc3NhZ2VTdHJlYW1PcHRpb25zPFVJX01FU1NBR0U+ID0ge30pOiBBc3luY0l0ZXJhYmxlU3RyZWFtPFxuICAgIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT5cbiAgPiB7XG4gICAgY29uc3QgcmVzcG9uc2VNZXNzYWdlSWQgPVxuICAgICAgZ2VuZXJhdGVNZXNzYWdlSWQgIT0gbnVsbFxuICAgICAgICA/IGdldFJlc3BvbnNlVUlNZXNzYWdlSWQoe1xuICAgICAgICAgICAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZUlkOiBnZW5lcmF0ZU1lc3NhZ2VJZCxcbiAgICAgICAgICB9KVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IHRvb2xOYW1lc0J5Q2FsbElkOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cbiAgICBjb25zdCBpc0R5bmFtaWMgPSAodG9vbENhbGxJZDogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCB0b29sTmFtZSA9IHRvb2xOYW1lc0J5Q2FsbElkW3Rvb2xDYWxsSWRdO1xuICAgICAgY29uc3QgZHluYW1pYyA9IHRoaXMudG9vbHM/Llt0b29sTmFtZV0/LnR5cGUgPT09ICdkeW5hbWljJztcbiAgICAgIHJldHVybiBkeW5hbWljID8gdHJ1ZSA6IHVuZGVmaW5lZDsgLy8gb25seSBzZW5kIHdoZW4gZHluYW1pYyB0byByZWR1Y2UgZGF0YSB0cmFuc2ZlclxuICAgIH07XG5cbiAgICBjb25zdCBiYXNlU3RyZWFtID0gdGhpcy5mdWxsU3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgICAgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+LFxuICAgICAgICBVSU1lc3NhZ2VDaHVuazxcbiAgICAgICAgICBJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+LFxuICAgICAgICAgIEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPlxuICAgICAgICA+XG4gICAgICA+KHtcbiAgICAgICAgdHJhbnNmb3JtOiBhc3luYyAocGFydCwgY29udHJvbGxlcikgPT4ge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2VNZXRhZGF0YVZhbHVlID0gbWVzc2FnZU1ldGFkYXRhPy4oeyBwYXJ0IH0pO1xuXG4gICAgICAgICAgY29uc3QgcGFydFR5cGUgPSBwYXJ0LnR5cGU7XG4gICAgICAgICAgc3dpdGNoIChwYXJ0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSAndGV4dC1zdGFydCc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dC1zdGFydCcsXG4gICAgICAgICAgICAgICAgaWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3RleHQtZGVsdGEnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQtZGVsdGEnLFxuICAgICAgICAgICAgICAgIGlkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgIGRlbHRhOiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3RleHQtZW5kJzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0LWVuZCcsXG4gICAgICAgICAgICAgICAgaWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1zdGFydCc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nLXN0YXJ0JyxcbiAgICAgICAgICAgICAgICBpZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLWRlbHRhJzoge1xuICAgICAgICAgICAgICBpZiAoc2VuZFJlYXNvbmluZykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nLWRlbHRhJyxcbiAgICAgICAgICAgICAgICAgIGlkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgICAgZGVsdGE6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1lbmQnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZy1lbmQnLFxuICAgICAgICAgICAgICAgIGlkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaWxlJzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IHBhcnQuZmlsZS5tZWRpYVR5cGUsXG4gICAgICAgICAgICAgICAgdXJsOiBgZGF0YToke3BhcnQuZmlsZS5tZWRpYVR5cGV9O2Jhc2U2NCwke3BhcnQuZmlsZS5iYXNlNjR9YCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzb3VyY2UnOiB7XG4gICAgICAgICAgICAgIGlmIChzZW5kU291cmNlcyAmJiBwYXJ0LnNvdXJjZVR5cGUgPT09ICd1cmwnKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzb3VyY2UtdXJsJyxcbiAgICAgICAgICAgICAgICAgIHNvdXJjZUlkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgICAgdXJsOiBwYXJ0LnVybCxcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiBwYXJ0LnRpdGxlLFxuICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChzZW5kU291cmNlcyAmJiBwYXJ0LnNvdXJjZVR5cGUgPT09ICdkb2N1bWVudCcpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3NvdXJjZS1kb2N1bWVudCcsXG4gICAgICAgICAgICAgICAgICBzb3VyY2VJZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICAgIG1lZGlhVHlwZTogcGFydC5tZWRpYVR5cGUsXG4gICAgICAgICAgICAgICAgICB0aXRsZTogcGFydC50aXRsZSxcbiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBwYXJ0LmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1zdGFydCc6IHtcbiAgICAgICAgICAgICAgdG9vbE5hbWVzQnlDYWxsSWRbcGFydC5pZF0gPSBwYXJ0LnRvb2xOYW1lO1xuICAgICAgICAgICAgICBjb25zdCBkeW5hbWljID0gaXNEeW5hbWljKHBhcnQuaWQpO1xuXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtc3RhcnQnLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJFeGVjdXRlZCAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIC4uLihkeW5hbWljICE9IG51bGwgPyB7IGR5bmFtaWMgfSA6IHt9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LWRlbHRhJzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLWlucHV0LWRlbHRhJyxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgIGlucHV0VGV4dERlbHRhOiBwYXJ0LmRlbHRhLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtY2FsbCc6IHtcbiAgICAgICAgICAgICAgdG9vbE5hbWVzQnlDYWxsSWRbcGFydC50b29sQ2FsbElkXSA9IHBhcnQudG9vbE5hbWU7XG4gICAgICAgICAgICAgIGNvbnN0IGR5bmFtaWMgPSBpc0R5bmFtaWMocGFydC50b29sQ2FsbElkKTtcblxuICAgICAgICAgICAgICBpZiAocGFydC5pbnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLWlucHV0LWVycm9yJyxcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBhcnQuaW5wdXQsXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlckV4ZWN1dGVkICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyRXhlY3V0ZWQ6IHBhcnQucHJvdmlkZXJFeGVjdXRlZCB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIC4uLihkeW5hbWljICE9IG51bGwgPyB7IGR5bmFtaWMgfSA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogb25FcnJvcihwYXJ0LmVycm9yKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBhcnQuaW5wdXQsXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlckV4ZWN1dGVkICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyRXhlY3V0ZWQ6IHBhcnQucHJvdmlkZXJFeGVjdXRlZCB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIC4uLihkeW5hbWljICE9IG51bGwgPyB7IGR5bmFtaWMgfSA6IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLXJlc3VsdCc6IHtcbiAgICAgICAgICAgICAgY29uc3QgZHluYW1pYyA9IGlzRHluYW1pYyhwYXJ0LnRvb2xDYWxsSWQpO1xuXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtb3V0cHV0LWF2YWlsYWJsZScsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIG91dHB1dDogcGFydC5vdXRwdXQsXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJFeGVjdXRlZCAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByZWxpbWluYXJ5ICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcmVsaW1pbmFyeTogcGFydC5wcmVsaW1pbmFyeSB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAuLi4oZHluYW1pYyAhPSBudWxsID8geyBkeW5hbWljIH0gOiB7fSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1lcnJvcic6IHtcbiAgICAgICAgICAgICAgY29uc3QgZHluYW1pYyA9IGlzRHluYW1pYyhwYXJ0LnRvb2xDYWxsSWQpO1xuXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtb3V0cHV0LWVycm9yJyxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBvbkVycm9yKHBhcnQuZXJyb3IpLFxuICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyRXhlY3V0ZWQ6IHBhcnQucHJvdmlkZXJFeGVjdXRlZCB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAuLi4oZHluYW1pYyAhPSBudWxsID8geyBkeW5hbWljIH0gOiB7fSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZXJyb3InOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBlcnJvclRleHQ6IG9uRXJyb3IocGFydC5lcnJvciksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc3RhcnQtc3RlcCc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3N0YXJ0LXN0ZXAnIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNoLXN0ZXAnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdmaW5pc2gtc3RlcCcgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzdGFydCc6IHtcbiAgICAgICAgICAgICAgaWYgKHNlbmRTdGFydCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnc3RhcnQnLFxuICAgICAgICAgICAgICAgICAgLi4uKG1lc3NhZ2VNZXRhZGF0YVZhbHVlICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IG1lc3NhZ2VNZXRhZGF0YTogbWVzc2FnZU1ldGFkYXRhVmFsdWUgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIC4uLihyZXNwb25zZU1lc3NhZ2VJZCAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBtZXNzYWdlSWQ6IHJlc3BvbnNlTWVzc2FnZUlkIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaCc6IHtcbiAgICAgICAgICAgICAgaWYgKHNlbmRGaW5pc2gpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpbmlzaCcsXG4gICAgICAgICAgICAgICAgICAuLi4obWVzc2FnZU1ldGFkYXRhVmFsdWUgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgbWVzc2FnZU1ldGFkYXRhOiBtZXNzYWdlTWV0YWRhdGFWYWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdhYm9ydCc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHBhcnQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1lbmQnOiB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyYXcnOiB7XG4gICAgICAgICAgICAgIC8vIFJhdyBjaHVua3MgYXJlIG5vdCBpbmNsdWRlZCBpbiBVSSBtZXNzYWdlIHN0cmVhbXNcbiAgICAgICAgICAgICAgLy8gYXMgdGhleSBjb250YWluIHByb3ZpZGVyLXNwZWNpZmljIGRhdGEgZm9yIGRldmVsb3BlciB1c2VcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IHBhcnRUeXBlO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY2h1bmsgdHlwZTogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc3RhcnQgYW5kIGZpbmlzaCBldmVudHMgYWxyZWFkeSBoYXZlIG1ldGFkYXRhXG4gICAgICAgICAgLy8gc28gd2Ugb25seSBuZWVkIHRvIHNlbmQgbWV0YWRhdGEgZm9yIG90aGVyIHBhcnRzXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbWVzc2FnZU1ldGFkYXRhVmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgcGFydFR5cGUgIT09ICdzdGFydCcgJiZcbiAgICAgICAgICAgIHBhcnRUeXBlICE9PSAnZmluaXNoJ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogJ21lc3NhZ2UtbWV0YWRhdGEnLFxuICAgICAgICAgICAgICBtZXNzYWdlTWV0YWRhdGE6IG1lc3NhZ2VNZXRhZGF0YVZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgaGFuZGxlVUlNZXNzYWdlU3RyZWFtRmluaXNoPFVJX01FU1NBR0U+KHtcbiAgICAgICAgc3RyZWFtOiBiYXNlU3RyZWFtLFxuICAgICAgICBtZXNzYWdlSWQ6IHJlc3BvbnNlTWVzc2FnZUlkID8/IGdlbmVyYXRlTWVzc2FnZUlkPy4oKSxcbiAgICAgICAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgICAgICAgb25GaW5pc2gsXG4gICAgICAgIG9uRXJyb3IsXG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgcGlwZVVJTWVzc2FnZVN0cmVhbVRvUmVzcG9uc2U8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oXG4gICAgcmVzcG9uc2U6IFNlcnZlclJlc3BvbnNlLFxuICAgIHtcbiAgICAgIG9yaWdpbmFsTWVzc2FnZXMsXG4gICAgICBnZW5lcmF0ZU1lc3NhZ2VJZCxcbiAgICAgIG9uRmluaXNoLFxuICAgICAgbWVzc2FnZU1ldGFkYXRhLFxuICAgICAgc2VuZFJlYXNvbmluZyxcbiAgICAgIHNlbmRTb3VyY2VzLFxuICAgICAgc2VuZEZpbmlzaCxcbiAgICAgIHNlbmRTdGFydCxcbiAgICAgIG9uRXJyb3IsXG4gICAgICAuLi5pbml0XG4gICAgfTogVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2VJbml0ICYgVUlNZXNzYWdlU3RyZWFtT3B0aW9uczxVSV9NRVNTQUdFPiA9IHt9LFxuICApIHtcbiAgICBwaXBlVUlNZXNzYWdlU3RyZWFtVG9SZXNwb25zZSh7XG4gICAgICByZXNwb25zZSxcbiAgICAgIHN0cmVhbTogdGhpcy50b1VJTWVzc2FnZVN0cmVhbSh7XG4gICAgICAgIG9yaWdpbmFsTWVzc2FnZXMsXG4gICAgICAgIGdlbmVyYXRlTWVzc2FnZUlkLFxuICAgICAgICBvbkZpbmlzaCxcbiAgICAgICAgbWVzc2FnZU1ldGFkYXRhLFxuICAgICAgICBzZW5kUmVhc29uaW5nLFxuICAgICAgICBzZW5kU291cmNlcyxcbiAgICAgICAgc2VuZEZpbmlzaCxcbiAgICAgICAgc2VuZFN0YXJ0LFxuICAgICAgICBvbkVycm9yLFxuICAgICAgfSksXG4gICAgICAuLi5pbml0LFxuICAgIH0pO1xuICB9XG5cbiAgcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlKHJlc3BvbnNlOiBTZXJ2ZXJSZXNwb25zZSwgaW5pdD86IFJlc3BvbnNlSW5pdCkge1xuICAgIHBpcGVUZXh0U3RyZWFtVG9SZXNwb25zZSh7XG4gICAgICByZXNwb25zZSxcbiAgICAgIHRleHRTdHJlYW06IHRoaXMudGV4dFN0cmVhbSxcbiAgICAgIC4uLmluaXQsXG4gICAgfSk7XG4gIH1cblxuICB0b1VJTWVzc2FnZVN0cmVhbVJlc3BvbnNlPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgICBvcmlnaW5hbE1lc3NhZ2VzLFxuICAgIGdlbmVyYXRlTWVzc2FnZUlkLFxuICAgIG9uRmluaXNoLFxuICAgIG1lc3NhZ2VNZXRhZGF0YSxcbiAgICBzZW5kUmVhc29uaW5nLFxuICAgIHNlbmRTb3VyY2VzLFxuICAgIHNlbmRGaW5pc2gsXG4gICAgc2VuZFN0YXJ0LFxuICAgIG9uRXJyb3IsXG4gICAgLi4uaW5pdFxuICB9OiBVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZUluaXQgJlxuICAgIFVJTWVzc2FnZVN0cmVhbU9wdGlvbnM8VUlfTUVTU0FHRT4gPSB7fSk6IFJlc3BvbnNlIHtcbiAgICByZXR1cm4gY3JlYXRlVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2Uoe1xuICAgICAgc3RyZWFtOiB0aGlzLnRvVUlNZXNzYWdlU3RyZWFtKHtcbiAgICAgICAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgICAgICAgZ2VuZXJhdGVNZXNzYWdlSWQsXG4gICAgICAgIG9uRmluaXNoLFxuICAgICAgICBtZXNzYWdlTWV0YWRhdGEsXG4gICAgICAgIHNlbmRSZWFzb25pbmcsXG4gICAgICAgIHNlbmRTb3VyY2VzLFxuICAgICAgICBzZW5kRmluaXNoLFxuICAgICAgICBzZW5kU3RhcnQsXG4gICAgICAgIG9uRXJyb3IsXG4gICAgICB9KSxcbiAgICAgIC4uLmluaXQsXG4gICAgfSk7XG4gIH1cblxuICB0b1RleHRTdHJlYW1SZXNwb25zZShpbml0PzogUmVzcG9uc2VJbml0KTogUmVzcG9uc2Uge1xuICAgIHJldHVybiBjcmVhdGVUZXh0U3RyZWFtUmVzcG9uc2Uoe1xuICAgICAgdGV4dFN0cmVhbTogdGhpcy50ZXh0U3RyZWFtLFxuICAgICAgLi4uaW5pdCxcbiAgICB9KTtcbiAgfVxufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlSGVhZGVycyhcbiAgaGVhZGVyczogSGVhZGVyc0luaXQgfCB1bmRlZmluZWQsXG4gIGRlZmF1bHRIZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuKTogSGVhZGVycyB7XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IG5ldyBIZWFkZXJzKGhlYWRlcnMgPz8ge30pO1xuXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRIZWFkZXJzKSkge1xuICAgIGlmICghcmVzcG9uc2VIZWFkZXJzLmhhcyhrZXkpKSB7XG4gICAgICByZXNwb25zZUhlYWRlcnMuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXNwb25zZUhlYWRlcnM7XG59XG4iLCAiaW1wb3J0IHsgcHJlcGFyZUhlYWRlcnMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtaGVhZGVycyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUZXh0U3RyZWFtUmVzcG9uc2Uoe1xuICBzdGF0dXMsXG4gIHN0YXR1c1RleHQsXG4gIGhlYWRlcnMsXG4gIHRleHRTdHJlYW0sXG59OiBSZXNwb25zZUluaXQgJiB7XG4gIHRleHRTdHJlYW06IFJlYWRhYmxlU3RyZWFtPHN0cmluZz47XG59KTogUmVzcG9uc2Uge1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKHRleHRTdHJlYW0ucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpLCB7XG4gICAgc3RhdHVzOiBzdGF0dXMgPz8gMjAwLFxuICAgIHN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogcHJlcGFyZUhlYWRlcnMoaGVhZGVycywge1xuICAgICAgJ2NvbnRlbnQtdHlwZSc6ICd0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04JyxcbiAgICB9KSxcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgU2VydmVyUmVzcG9uc2UgfSBmcm9tICdub2RlOmh0dHAnO1xuXG4vKipcbiAqIFdyaXRlcyB0aGUgY29udGVudCBvZiBhIHN0cmVhbSB0byBhIHNlcnZlciByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlVG9TZXJ2ZXJSZXNwb25zZSh7XG4gIHJlc3BvbnNlLFxuICBzdGF0dXMsXG4gIHN0YXR1c1RleHQsXG4gIGhlYWRlcnMsXG4gIHN0cmVhbSxcbn06IHtcbiAgcmVzcG9uc2U6IFNlcnZlclJlc3BvbnNlO1xuICBzdGF0dXM/OiBudW1iZXI7XG4gIHN0YXR1c1RleHQ/OiBzdHJpbmc7XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBzdHJpbmdbXT47XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VWludDhBcnJheT47XG59KTogdm9pZCB7XG4gIHJlc3BvbnNlLndyaXRlSGVhZChzdGF0dXMgPz8gMjAwLCBzdGF0dXNUZXh0LCBoZWFkZXJzKTtcblxuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIGNvbnN0IHJlYWQgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSBicmVhaztcbiAgICAgICAgcmVzcG9uc2Uud3JpdGUodmFsdWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgcmVzcG9uc2UuZW5kKCk7XG4gICAgfVxuICB9O1xuXG4gIHJlYWQoKTtcbn1cbiIsICJpbXBvcnQgeyBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ25vZGU6aHR0cCc7XG5pbXBvcnQgeyBwcmVwYXJlSGVhZGVycyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1oZWFkZXJzJztcbmltcG9ydCB7IHdyaXRlVG9TZXJ2ZXJSZXNwb25zZSB9IGZyb20gJy4uL3V0aWwvd3JpdGUtdG8tc2VydmVyLXJlc3BvbnNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHBpcGVUZXh0U3RyZWFtVG9SZXNwb25zZSh7XG4gIHJlc3BvbnNlLFxuICBzdGF0dXMsXG4gIHN0YXR1c1RleHQsXG4gIGhlYWRlcnMsXG4gIHRleHRTdHJlYW0sXG59OiB7XG4gIHJlc3BvbnNlOiBTZXJ2ZXJSZXNwb25zZTtcbiAgdGV4dFN0cmVhbTogUmVhZGFibGVTdHJlYW08c3RyaW5nPjtcbn0gJiBSZXNwb25zZUluaXQpOiB2b2lkIHtcbiAgd3JpdGVUb1NlcnZlclJlc3BvbnNlKHtcbiAgICByZXNwb25zZSxcbiAgICBzdGF0dXMsXG4gICAgc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBwcmVwYXJlSGVhZGVycyhoZWFkZXJzLCB7XG4gICAgICAgICdjb250ZW50LXR5cGUnOiAndGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOCcsXG4gICAgICB9KS5lbnRyaWVzKCksXG4gICAgKSxcbiAgICBzdHJlYW06IHRleHRTdHJlYW0ucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpLFxuICB9KTtcbn1cbiIsICJleHBvcnQgY2xhc3MgSnNvblRvU3NlVHJhbnNmb3JtU3RyZWFtIGV4dGVuZHMgVHJhbnNmb3JtU3RyZWFtPHVua25vd24sIHN0cmluZz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICB0cmFuc2Zvcm0ocGFydCwgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoYGRhdGE6ICR7SlNPTi5zdHJpbmdpZnkocGFydCl9XFxuXFxuYCk7XG4gICAgICB9LFxuICAgICAgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoJ2RhdGE6IFtET05FXVxcblxcbicpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuIiwgImV4cG9ydCBjb25zdCBVSV9NRVNTQUdFX1NUUkVBTV9IRUFERVJTID0ge1xuICAnY29udGVudC10eXBlJzogJ3RleHQvZXZlbnQtc3RyZWFtJyxcbiAgJ2NhY2hlLWNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICBjb25uZWN0aW9uOiAna2VlcC1hbGl2ZScsXG4gICd4LXZlcmNlbC1haS11aS1tZXNzYWdlLXN0cmVhbSc6ICd2MScsXG4gICd4LWFjY2VsLWJ1ZmZlcmluZyc6ICdubycsIC8vIGRpc2FibGUgbmdpbnggYnVmZmVyaW5nXG59O1xuIiwgImltcG9ydCB7IHByZXBhcmVIZWFkZXJzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLWhlYWRlcnMnO1xuaW1wb3J0IHsgSnNvblRvU3NlVHJhbnNmb3JtU3RyZWFtIH0gZnJvbSAnLi9qc29uLXRvLXNzZS10cmFuc2Zvcm0tc3RyZWFtJztcbmltcG9ydCB7IFVJX01FU1NBR0VfU1RSRUFNX0hFQURFUlMgfSBmcm9tICcuL3VpLW1lc3NhZ2Utc3RyZWFtLWhlYWRlcnMnO1xuaW1wb3J0IHsgVUlNZXNzYWdlQ2h1bmsgfSBmcm9tICcuL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IFVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlSW5pdCB9IGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0tcmVzcG9uc2UtaW5pdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZSh7XG4gIHN0YXR1cyxcbiAgc3RhdHVzVGV4dCxcbiAgaGVhZGVycyxcbiAgc3RyZWFtLFxuICBjb25zdW1lU3NlU3RyZWFtLFxufTogVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2VJbml0ICYge1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPjtcbn0pOiBSZXNwb25zZSB7XG4gIGxldCBzc2VTdHJlYW0gPSBzdHJlYW0ucGlwZVRocm91Z2gobmV3IEpzb25Ub1NzZVRyYW5zZm9ybVN0cmVhbSgpKTtcblxuICAvLyB3aGVuIHRoZSBjb25zdW1lU3NlU3RyZWFtIGlzIHByb3ZpZGVkLCB3ZSBuZWVkIHRvIHRlZSB0aGUgc3RyZWFtXG4gIC8vIGFuZCBzZW5kIHRoZSBzZWNvbmQgcGFydCB0byB0aGUgY29uc3VtZVNzZVN0cmVhbSBmdW5jdGlvblxuICAvLyBzbyB0aGF0IGl0IGNhbiBiZSBjb25zdW1lZCBieSB0aGUgY2xpZW50IGluZGVwZW5kZW50bHlcbiAgaWYgKGNvbnN1bWVTc2VTdHJlYW0pIHtcbiAgICBjb25zdCBbc3RyZWFtMSwgc3RyZWFtMl0gPSBzc2VTdHJlYW0udGVlKCk7XG4gICAgc3NlU3RyZWFtID0gc3RyZWFtMTtcbiAgICBjb25zdW1lU3NlU3RyZWFtKHsgc3RyZWFtOiBzdHJlYW0yIH0pOyAvLyBubyBhd2FpdCAoZG8gbm90IGJsb2NrIHRoZSByZXNwb25zZSlcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVzcG9uc2Uoc3NlU3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKSwge1xuICAgIHN0YXR1cyxcbiAgICBzdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IHByZXBhcmVIZWFkZXJzKGhlYWRlcnMsIFVJX01FU1NBR0VfU1RSRUFNX0hFQURFUlMpLFxuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBJZEdlbmVyYXRvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgVUlNZXNzYWdlIH0gZnJvbSAnLi4vdWkvdWktbWVzc2FnZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzcG9uc2VVSU1lc3NhZ2VJZCh7XG4gIG9yaWdpbmFsTWVzc2FnZXMsXG4gIHJlc3BvbnNlTWVzc2FnZUlkLFxufToge1xuICBvcmlnaW5hbE1lc3NhZ2VzOiBVSU1lc3NhZ2VbXSB8IHVuZGVmaW5lZDtcbiAgcmVzcG9uc2VNZXNzYWdlSWQ6IHN0cmluZyB8IElkR2VuZXJhdG9yO1xufSkge1xuICAvLyB3aGVuIHRoZXJlIGFyZSBubyBvcmlnaW5hbCBtZXNzYWdlcyAoaS5lLiBubyBwZXJzaXN0ZW5jZSksXG4gIC8vIHRoZSBhc3Npc3RhbnQgbWVzc2FnZSBpZCBnZW5lcmF0aW9uIGlzIGhhbmRsZWQgb24gdGhlIGNsaWVudCBzaWRlLlxuICBpZiAob3JpZ2luYWxNZXNzYWdlcyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IGxhc3RNZXNzYWdlID0gb3JpZ2luYWxNZXNzYWdlc1tvcmlnaW5hbE1lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuXG4gIHJldHVybiBsYXN0TWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCdcbiAgICA/IGxhc3RNZXNzYWdlLmlkXG4gICAgOiB0eXBlb2YgcmVzcG9uc2VNZXNzYWdlSWQgPT09ICdmdW5jdGlvbidcbiAgICAgID8gcmVzcG9uc2VNZXNzYWdlSWQoKVxuICAgICAgOiByZXNwb25zZU1lc3NhZ2VJZDtcbn1cbiIsICJpbXBvcnQge1xuICBTdGFuZGFyZFNjaGVtYVYxLFxuICB2YWxpZGF0ZVR5cGVzLFxuICBWYWxpZGF0b3IsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7XG4gIERhdGFVSU1lc3NhZ2VDaHVuayxcbiAgSW5mZXJVSU1lc3NhZ2VDaHVuayxcbiAgaXNEYXRhVUlNZXNzYWdlQ2h1bmssXG4gIFVJTWVzc2FnZUNodW5rLFxufSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQgeyBFcnJvckhhbmRsZXIgfSBmcm9tICcuLi91dGlsL2Vycm9yLWhhbmRsZXInO1xuaW1wb3J0IHsgbWVyZ2VPYmplY3RzIH0gZnJvbSAnLi4vdXRpbC9tZXJnZS1vYmplY3RzJztcbmltcG9ydCB7IHBhcnNlUGFydGlhbEpzb24gfSBmcm9tICcuLi91dGlsL3BhcnNlLXBhcnRpYWwtanNvbic7XG5pbXBvcnQgeyBVSURhdGFUeXBlc1RvU2NoZW1hcyB9IGZyb20gJy4vY2hhdCc7XG5pbXBvcnQge1xuICBEYXRhVUlQYXJ0LFxuICBEeW5hbWljVG9vbFVJUGFydCxcbiAgZ2V0VG9vbE5hbWUsXG4gIEluZmVyVUlNZXNzYWdlRGF0YSxcbiAgSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YSxcbiAgSW5mZXJVSU1lc3NhZ2VUb29sQ2FsbCxcbiAgSW5mZXJVSU1lc3NhZ2VUb29scyxcbiAgaXNUb29sVUlQYXJ0LFxuICBSZWFzb25pbmdVSVBhcnQsXG4gIFRleHRVSVBhcnQsXG4gIFRvb2xVSVBhcnQsXG4gIFVJTWVzc2FnZSxcbiAgVUlNZXNzYWdlUGFydCxcbn0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5cbmV4cG9ydCB0eXBlIFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID0ge1xuICBtZXNzYWdlOiBVSV9NRVNTQUdFO1xuICBhY3RpdmVUZXh0UGFydHM6IFJlY29yZDxzdHJpbmcsIFRleHRVSVBhcnQ+O1xuICBhY3RpdmVSZWFzb25pbmdQYXJ0czogUmVjb3JkPHN0cmluZywgUmVhc29uaW5nVUlQYXJ0PjtcbiAgcGFydGlhbFRvb2xDYWxsczogUmVjb3JkPFxuICAgIHN0cmluZyxcbiAgICB7IHRleHQ6IHN0cmluZzsgaW5kZXg6IG51bWJlcjsgdG9vbE5hbWU6IHN0cmluZzsgZHluYW1pYz86IGJvb2xlYW4gfVxuICA+O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgbGFzdE1lc3NhZ2UsXG4gIG1lc3NhZ2VJZCxcbn06IHtcbiAgbGFzdE1lc3NhZ2U6IFVJX01FU1NBR0UgfCB1bmRlZmluZWQ7XG4gIG1lc3NhZ2VJZDogc3RyaW5nO1xufSk6IFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0U+IHtcbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlOlxuICAgICAgbGFzdE1lc3NhZ2U/LnJvbGUgPT09ICdhc3Npc3RhbnQnXG4gICAgICAgID8gbGFzdE1lc3NhZ2VcbiAgICAgICAgOiAoe1xuICAgICAgICAgICAgaWQ6IG1lc3NhZ2VJZCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgIHBhcnRzOiBbXSBhcyBVSU1lc3NhZ2VQYXJ0PFxuICAgICAgICAgICAgICBJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4sXG4gICAgICAgICAgICAgIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT5cbiAgICAgICAgICAgID5bXSxcbiAgICAgICAgICB9IGFzIFVJX01FU1NBR0UpLFxuICAgIGFjdGl2ZVRleHRQYXJ0czoge30sXG4gICAgYWN0aXZlUmVhc29uaW5nUGFydHM6IHt9LFxuICAgIHBhcnRpYWxUb29sQ2FsbHM6IHt9LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1VJTWVzc2FnZVN0cmVhbTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPih7XG4gIHN0cmVhbSxcbiAgbWVzc2FnZU1ldGFkYXRhU2NoZW1hLFxuICBkYXRhUGFydFNjaGVtYXMsXG4gIHJ1blVwZGF0ZU1lc3NhZ2VKb2IsXG4gIG9uRXJyb3IsXG4gIG9uVG9vbENhbGwsXG4gIG9uRGF0YSxcbn06IHtcbiAgLy8gaW5wdXQgc3RyZWFtIGlzIG5vdCBmdWxseSB0eXBlZCB5ZXQ6XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VUlNZXNzYWdlQ2h1bms+O1xuICBtZXNzYWdlTWV0YWRhdGFTY2hlbWE/OlxuICAgIHwgVmFsaWRhdG9yPEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT4+XG4gICAgfCBTdGFuZGFyZFNjaGVtYVYxPEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT4+O1xuICBkYXRhUGFydFNjaGVtYXM/OiBVSURhdGFUeXBlc1RvU2NoZW1hczxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4+O1xuICBvblRvb2xDYWxsPzogKG9wdGlvbnM6IHtcbiAgICB0b29sQ2FsbDogSW5mZXJVSU1lc3NhZ2VUb29sQ2FsbDxVSV9NRVNTQUdFPjtcbiAgfSkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+O1xuICBvbkRhdGE/OiAoZGF0YVBhcnQ6IERhdGFVSVBhcnQ8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+PikgPT4gdm9pZDtcbiAgcnVuVXBkYXRlTWVzc2FnZUpvYjogKFxuICAgIGpvYjogKG9wdGlvbnM6IHtcbiAgICAgIHN0YXRlOiBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFPjtcbiAgICAgIHdyaXRlOiAoKSA9PiB2b2lkO1xuICAgIH0pID0+IFByb21pc2U8dm9pZD4sXG4gICkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgb25FcnJvcjogRXJyb3JIYW5kbGVyO1xufSk6IFJlYWRhYmxlU3RyZWFtPEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4+IHtcbiAgcmV0dXJuIHN0cmVhbS5waXBlVGhyb3VnaChcbiAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFVJTWVzc2FnZUNodW5rLCBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+Pih7XG4gICAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgYXdhaXQgcnVuVXBkYXRlTWVzc2FnZUpvYihhc3luYyAoeyBzdGF0ZSwgd3JpdGUgfSkgPT4ge1xuICAgICAgICAgIGZ1bmN0aW9uIGdldFRvb2xJbnZvY2F0aW9uKHRvb2xDYWxsSWQ6IHN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb25zID0gc3RhdGUubWVzc2FnZS5wYXJ0cy5maWx0ZXIoaXNUb29sVUlQYXJ0KTtcblxuICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb24gPSB0b29sSW52b2NhdGlvbnMuZmluZChcbiAgICAgICAgICAgICAgaW52b2NhdGlvbiA9PiBpbnZvY2F0aW9uLnRvb2xDYWxsSWQgPT09IHRvb2xDYWxsSWQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAodG9vbEludm9jYXRpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ3Rvb2wtb3V0cHV0LWVycm9yIG11c3QgYmUgcHJlY2VkZWQgYnkgYSB0b29sLWlucHV0LWF2YWlsYWJsZScsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0b29sSW52b2NhdGlvbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBnZXREeW5hbWljVG9vbEludm9jYXRpb24odG9vbENhbGxJZDogc3RyaW5nKSB7XG4gICAgICAgICAgICBjb25zdCB0b29sSW52b2NhdGlvbnMgPSBzdGF0ZS5tZXNzYWdlLnBhcnRzLmZpbHRlcihcbiAgICAgICAgICAgICAgcGFydCA9PiBwYXJ0LnR5cGUgPT09ICdkeW5hbWljLXRvb2wnLFxuICAgICAgICAgICAgKSBhcyBEeW5hbWljVG9vbFVJUGFydFtdO1xuXG4gICAgICAgICAgICBjb25zdCB0b29sSW52b2NhdGlvbiA9IHRvb2xJbnZvY2F0aW9ucy5maW5kKFxuICAgICAgICAgICAgICBpbnZvY2F0aW9uID0+IGludm9jYXRpb24udG9vbENhbGxJZCA9PT0gdG9vbENhbGxJZCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmICh0b29sSW52b2NhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAndG9vbC1vdXRwdXQtZXJyb3IgbXVzdCBiZSBwcmVjZWRlZCBieSBhIHRvb2wtaW5wdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRvb2xJbnZvY2F0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRvb2xQYXJ0KFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICB0b29sTmFtZToga2V5b2YgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPiAmIHN0cmluZztcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgICAgICAgIH0gJiAoXG4gICAgICAgICAgICAgIHwge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1zdHJlYW1pbmcnO1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHwge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1hdmFpbGFibGUnO1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1hdmFpbGFibGUnO1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICAgIHByZWxpbWluYXJ5PzogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHwge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InO1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICByYXdJbnB1dD86IHVua25vd247XG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnQgPSBzdGF0ZS5tZXNzYWdlLnBhcnRzLmZpbmQoXG4gICAgICAgICAgICAgIHBhcnQgPT5cbiAgICAgICAgICAgICAgICBpc1Rvb2xVSVBhcnQocGFydCkgJiYgcGFydC50b29sQ2FsbElkID09PSBvcHRpb25zLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICApIGFzIFRvb2xVSVBhcnQ8SW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPj4gfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IGFueU9wdGlvbnMgPSBvcHRpb25zIGFzIGFueTtcbiAgICAgICAgICAgIGNvbnN0IGFueVBhcnQgPSBwYXJ0IGFzIGFueTtcblxuICAgICAgICAgICAgaWYgKHBhcnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBwYXJ0LnN0YXRlID0gb3B0aW9ucy5zdGF0ZTtcbiAgICAgICAgICAgICAgYW55UGFydC5pbnB1dCA9IGFueU9wdGlvbnMuaW5wdXQ7XG4gICAgICAgICAgICAgIGFueVBhcnQub3V0cHV0ID0gYW55T3B0aW9ucy5vdXRwdXQ7XG4gICAgICAgICAgICAgIGFueVBhcnQuZXJyb3JUZXh0ID0gYW55T3B0aW9ucy5lcnJvclRleHQ7XG4gICAgICAgICAgICAgIGFueVBhcnQucmF3SW5wdXQgPSBhbnlPcHRpb25zLnJhd0lucHV0O1xuICAgICAgICAgICAgICBhbnlQYXJ0LnByZWxpbWluYXJ5ID0gYW55T3B0aW9ucy5wcmVsaW1pbmFyeTtcblxuICAgICAgICAgICAgICAvLyBvbmNlIHByb3ZpZGVyRXhlY3V0ZWQgaXMgc2V0LCBpdCBzdGF5cyBmb3Igc3RyZWFtaW5nXG4gICAgICAgICAgICAgIGFueVBhcnQucHJvdmlkZXJFeGVjdXRlZCA9XG4gICAgICAgICAgICAgICAgYW55T3B0aW9ucy5wcm92aWRlckV4ZWN1dGVkID8/IHBhcnQucHJvdmlkZXJFeGVjdXRlZDtcblxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgYW55T3B0aW9ucy5wcm92aWRlck1ldGFkYXRhICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBwYXJ0LnN0YXRlID09PSAnaW5wdXQtYXZhaWxhYmxlJ1xuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwYXJ0LmNhbGxQcm92aWRlck1ldGFkYXRhID0gYW55T3B0aW9ucy5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLnBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IGB0b29sLSR7b3B0aW9ucy50b29sTmFtZX1gLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IG9wdGlvbnMudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBzdGF0ZTogb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgICAgICAgICBpbnB1dDogYW55T3B0aW9ucy5pbnB1dCxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IGFueU9wdGlvbnMub3V0cHV0LFxuICAgICAgICAgICAgICAgIHJhd0lucHV0OiBhbnlPcHRpb25zLnJhd0lucHV0LFxuICAgICAgICAgICAgICAgIGVycm9yVGV4dDogYW55T3B0aW9ucy5lcnJvclRleHQsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogYW55T3B0aW9ucy5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgICAgIHByZWxpbWluYXJ5OiBhbnlPcHRpb25zLnByZWxpbWluYXJ5LFxuICAgICAgICAgICAgICAgIC4uLihhbnlPcHRpb25zLnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IGNhbGxQcm92aWRlck1ldGFkYXRhOiBhbnlPcHRpb25zLnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0gYXMgVG9vbFVJUGFydDxJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+Pik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gdXBkYXRlRHluYW1pY1Rvb2xQYXJ0KFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICB0b29sTmFtZToga2V5b2YgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPiAmIHN0cmluZztcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgICAgICAgIH0gJiAoXG4gICAgICAgICAgICAgIHwge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1zdHJlYW1pbmcnO1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtYXZhaWxhYmxlJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWF2YWlsYWJsZSc7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgICAgICAgICAgICAgIG91dHB1dDogdW5rbm93bjtcbiAgICAgICAgICAgICAgICAgIHByZWxpbWluYXJ5OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1lcnJvcic7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnQgPSBzdGF0ZS5tZXNzYWdlLnBhcnRzLmZpbmQoXG4gICAgICAgICAgICAgIHBhcnQgPT5cbiAgICAgICAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdkeW5hbWljLXRvb2wnICYmXG4gICAgICAgICAgICAgICAgcGFydC50b29sQ2FsbElkID09PSBvcHRpb25zLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICApIGFzIER5bmFtaWNUb29sVUlQYXJ0IHwgdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICBjb25zdCBhbnlPcHRpb25zID0gb3B0aW9ucyBhcyBhbnk7XG4gICAgICAgICAgICBjb25zdCBhbnlQYXJ0ID0gcGFydCBhcyBhbnk7XG5cbiAgICAgICAgICAgIGlmIChwYXJ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9IG9wdGlvbnMuc3RhdGU7XG4gICAgICAgICAgICAgIGFueVBhcnQudG9vbE5hbWUgPSBvcHRpb25zLnRvb2xOYW1lO1xuICAgICAgICAgICAgICBhbnlQYXJ0LmlucHV0ID0gYW55T3B0aW9ucy5pbnB1dDtcbiAgICAgICAgICAgICAgYW55UGFydC5vdXRwdXQgPSBhbnlPcHRpb25zLm91dHB1dDtcbiAgICAgICAgICAgICAgYW55UGFydC5lcnJvclRleHQgPSBhbnlPcHRpb25zLmVycm9yVGV4dDtcbiAgICAgICAgICAgICAgYW55UGFydC5yYXdJbnB1dCA9IGFueU9wdGlvbnMucmF3SW5wdXQgPz8gYW55UGFydC5yYXdJbnB1dDtcbiAgICAgICAgICAgICAgYW55UGFydC5wcmVsaW1pbmFyeSA9IGFueU9wdGlvbnMucHJlbGltaW5hcnk7XG5cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9PT0gJ2lucHV0LWF2YWlsYWJsZSdcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcGFydC5jYWxsUHJvdmlkZXJNZXRhZGF0YSA9IGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZHluYW1pYy10b29sJyxcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogb3B0aW9ucy50b29sTmFtZSxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBvcHRpb25zLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IGFueU9wdGlvbnMuaW5wdXQsXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBhbnlPcHRpb25zLm91dHB1dCxcbiAgICAgICAgICAgICAgICBlcnJvclRleHQ6IGFueU9wdGlvbnMuZXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgIHByZWxpbWluYXJ5OiBhbnlPcHRpb25zLnByZWxpbWluYXJ5LFxuICAgICAgICAgICAgICAgIC4uLihhbnlPcHRpb25zLnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IGNhbGxQcm92aWRlck1ldGFkYXRhOiBhbnlPcHRpb25zLnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0gYXMgRHluYW1pY1Rvb2xVSVBhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU1lc3NhZ2VNZXRhZGF0YShtZXRhZGF0YTogdW5rbm93bikge1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkTWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UubWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyBtZXJnZU9iamVjdHMoc3RhdGUubWVzc2FnZS5tZXRhZGF0YSwgbWV0YWRhdGEpXG4gICAgICAgICAgICAgICAgICA6IG1ldGFkYXRhO1xuXG4gICAgICAgICAgICAgIGlmIChtZXNzYWdlTWV0YWRhdGFTY2hlbWEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHZhbGlkYXRlVHlwZXMoe1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IG1lcmdlZE1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgc2NoZW1hOiBtZXNzYWdlTWV0YWRhdGFTY2hlbWEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLm1ldGFkYXRhID1cbiAgICAgICAgICAgICAgICBtZXJnZWRNZXRhZGF0YSBhcyBJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAndGV4dC1zdGFydCc6IHtcbiAgICAgICAgICAgICAgY29uc3QgdGV4dFBhcnQ6IFRleHRVSVBhcnQgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdzdHJlYW1pbmcnLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVUZXh0UGFydHNbY2h1bmsuaWRdID0gdGV4dFBhcnQ7XG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaCh0ZXh0UGFydCk7XG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0ZXh0LWRlbHRhJzoge1xuICAgICAgICAgICAgICBjb25zdCB0ZXh0UGFydCA9IHN0YXRlLmFjdGl2ZVRleHRQYXJ0c1tjaHVuay5pZF07XG4gICAgICAgICAgICAgIHRleHRQYXJ0LnRleHQgKz0gY2h1bmsuZGVsdGE7XG4gICAgICAgICAgICAgIHRleHRQYXJ0LnByb3ZpZGVyTWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgIGNodW5rLnByb3ZpZGVyTWV0YWRhdGEgPz8gdGV4dFBhcnQucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3RleHQtZW5kJzoge1xuICAgICAgICAgICAgICBjb25zdCB0ZXh0UGFydCA9IHN0YXRlLmFjdGl2ZVRleHRQYXJ0c1tjaHVuay5pZF07XG4gICAgICAgICAgICAgIHRleHRQYXJ0LnN0YXRlID0gJ2RvbmUnO1xuICAgICAgICAgICAgICB0ZXh0UGFydC5wcm92aWRlck1ldGFkYXRhID1cbiAgICAgICAgICAgICAgICBjaHVuay5wcm92aWRlck1ldGFkYXRhID8/IHRleHRQYXJ0LnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgIGRlbGV0ZSBzdGF0ZS5hY3RpdmVUZXh0UGFydHNbY2h1bmsuaWRdO1xuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLXN0YXJ0Jzoge1xuICAgICAgICAgICAgICBjb25zdCByZWFzb25pbmdQYXJ0OiBSZWFzb25pbmdVSVBhcnQgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZycsXG4gICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ3N0cmVhbWluZycsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVJlYXNvbmluZ1BhcnRzW2NodW5rLmlkXSA9IHJlYXNvbmluZ1BhcnQ7XG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaChyZWFzb25pbmdQYXJ0KTtcbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVhc29uaW5nUGFydCA9IHN0YXRlLmFjdGl2ZVJlYXNvbmluZ1BhcnRzW2NodW5rLmlkXTtcbiAgICAgICAgICAgICAgcmVhc29uaW5nUGFydC50ZXh0ICs9IGNodW5rLmRlbHRhO1xuICAgICAgICAgICAgICByZWFzb25pbmdQYXJ0LnByb3ZpZGVyTWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgIGNodW5rLnByb3ZpZGVyTWV0YWRhdGEgPz8gcmVhc29uaW5nUGFydC5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLWVuZCc6IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVhc29uaW5nUGFydCA9IHN0YXRlLmFjdGl2ZVJlYXNvbmluZ1BhcnRzW2NodW5rLmlkXTtcbiAgICAgICAgICAgICAgcmVhc29uaW5nUGFydC5wcm92aWRlck1ldGFkYXRhID1cbiAgICAgICAgICAgICAgICBjaHVuay5wcm92aWRlck1ldGFkYXRhID8/IHJlYXNvbmluZ1BhcnQucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgcmVhc29uaW5nUGFydC5zdGF0ZSA9ICdkb25lJztcbiAgICAgICAgICAgICAgZGVsZXRlIHN0YXRlLmFjdGl2ZVJlYXNvbmluZ1BhcnRzW2NodW5rLmlkXTtcblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmlsZSc6IHtcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICAgICAgbWVkaWFUeXBlOiBjaHVuay5tZWRpYVR5cGUsXG4gICAgICAgICAgICAgICAgdXJsOiBjaHVuay51cmwsXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzb3VyY2UtdXJsJzoge1xuICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLnBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzb3VyY2UtdXJsJyxcbiAgICAgICAgICAgICAgICBzb3VyY2VJZDogY2h1bmsuc291cmNlSWQsXG4gICAgICAgICAgICAgICAgdXJsOiBjaHVuay51cmwsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGNodW5rLnRpdGxlLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzb3VyY2UtZG9jdW1lbnQnOiB7XG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3NvdXJjZS1kb2N1bWVudCcsXG4gICAgICAgICAgICAgICAgc291cmNlSWQ6IGNodW5rLnNvdXJjZUlkLFxuICAgICAgICAgICAgICAgIG1lZGlhVHlwZTogY2h1bmsubWVkaWFUeXBlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBjaHVuay50aXRsZSxcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogY2h1bmsuZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtc3RhcnQnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9ucyA9IHN0YXRlLm1lc3NhZ2UucGFydHMuZmlsdGVyKGlzVG9vbFVJUGFydCk7XG5cbiAgICAgICAgICAgICAgLy8gYWRkIHRoZSBwYXJ0aWFsIHRvb2wgY2FsbCB0byB0aGUgbWFwXG4gICAgICAgICAgICAgIHN0YXRlLnBhcnRpYWxUb29sQ2FsbHNbY2h1bmsudG9vbENhbGxJZF0gPSB7XG4gICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIGluZGV4OiB0b29sSW52b2NhdGlvbnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGR5bmFtaWM6IGNodW5rLmR5bmFtaWMsXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgaWYgKGNodW5rLmR5bmFtaWMpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEeW5hbWljVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBjaHVuay5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtZGVsdGEnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcnRpYWxUb29sQ2FsbCA9IHN0YXRlLnBhcnRpYWxUb29sQ2FsbHNbY2h1bmsudG9vbENhbGxJZF07XG5cbiAgICAgICAgICAgICAgcGFydGlhbFRvb2xDYWxsLnRleHQgKz0gY2h1bmsuaW5wdXRUZXh0RGVsdGE7XG5cbiAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogcGFydGlhbEFyZ3MgfSA9IGF3YWl0IHBhcnNlUGFydGlhbEpzb24oXG4gICAgICAgICAgICAgICAgcGFydGlhbFRvb2xDYWxsLnRleHQsXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgaWYgKHBhcnRpYWxUb29sQ2FsbC5keW5hbWljKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlRHluYW1pY1Rvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogcGFydGlhbFRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1zdHJlYW1pbmcnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBhcnRpYWxBcmdzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogcGFydGlhbFRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1zdHJlYW1pbmcnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBhcnRpYWxBcmdzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtYXZhaWxhYmxlJzoge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsuZHluYW1pYykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUR5bmFtaWNUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IGNodW5rLmlucHV0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IGNodW5rLmlucHV0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogY2h1bmsucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuXG4gICAgICAgICAgICAgIC8vIGludm9rZSB0aGUgb25Ub29sQ2FsbCBjYWxsYmFjayBpZiBpdCBleGlzdHMuIFRoaXMgaXMgYmxvY2tpbmcuXG4gICAgICAgICAgICAgIC8vIEluIHRoZSBmdXR1cmUgd2Ugc2hvdWxkIG1ha2UgdGhpcyBub24tYmxvY2tpbmcsIHdoaWNoXG4gICAgICAgICAgICAgIC8vIHJlcXVpcmVzIGFkZGl0aW9uYWwgc3RhdGUgbWFuYWdlbWVudCBmb3IgZXJyb3IgaGFuZGxpbmcgZXRjLlxuICAgICAgICAgICAgICAvLyBTa2lwIGNhbGxpbmcgb25Ub29sQ2FsbCBmb3IgcHJvdmlkZXItZXhlY3V0ZWQgdG9vbHMgc2luY2UgdGhleSBhcmUgYWxyZWFkeSBleGVjdXRlZFxuICAgICAgICAgICAgICBpZiAob25Ub29sQ2FsbCAmJiAhY2h1bmsucHJvdmlkZXJFeGVjdXRlZCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IG9uVG9vbENhbGwoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGw6IGNodW5rIGFzIEluZmVyVUlNZXNzYWdlVG9vbENhbGw8VUlfTUVTU0FHRT4sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtZXJyb3InOiB7XG4gICAgICAgICAgICAgIGlmIChjaHVuay5keW5hbWljKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlRHluYW1pY1Rvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogY2h1bmsudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1lcnJvcicsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogY2h1bmsuaW5wdXQsXG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IGNodW5rLmVycm9yVGV4dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWVycm9yJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICByYXdJbnB1dDogY2h1bmsuaW5wdXQsXG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IGNodW5rLmVycm9yVGV4dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IGNodW5rLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtb3V0cHV0LWF2YWlsYWJsZSc6IHtcbiAgICAgICAgICAgICAgaWYgKGNodW5rLmR5bmFtaWMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sSW52b2NhdGlvbiA9IGdldER5bmFtaWNUb29sSW52b2NhdGlvbihcbiAgICAgICAgICAgICAgICAgIGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZUR5bmFtaWNUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xJbnZvY2F0aW9uLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAodG9vbEludm9jYXRpb24gYXMgYW55KS5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIG91dHB1dDogY2h1bmsub3V0cHV0LFxuICAgICAgICAgICAgICAgICAgcHJlbGltaW5hcnk6IGNodW5rLnByZWxpbWluYXJ5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9uID0gZ2V0VG9vbEludm9jYXRpb24oY2h1bmsudG9vbENhbGxJZCk7XG5cbiAgICAgICAgICAgICAgICB1cGRhdGVUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGdldFRvb2xOYW1lKHRvb2xJbnZvY2F0aW9uKSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWF2YWlsYWJsZScsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogKHRvb2xJbnZvY2F0aW9uIGFzIGFueSkuaW5wdXQsXG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IGNodW5rLm91dHB1dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IGNodW5rLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogY2h1bmsucHJlbGltaW5hcnksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1vdXRwdXQtZXJyb3InOiB7XG4gICAgICAgICAgICAgIGlmIChjaHVuay5keW5hbWljKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb24gPSBnZXREeW5hbWljVG9vbEludm9jYXRpb24oXG4gICAgICAgICAgICAgICAgICBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB1cGRhdGVEeW5hbWljVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sSW52b2NhdGlvbi50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWVycm9yJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAodG9vbEludm9jYXRpb24gYXMgYW55KS5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogY2h1bmsuZXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9uID0gZ2V0VG9vbEludm9jYXRpb24oY2h1bmsudG9vbENhbGxJZCk7XG5cbiAgICAgICAgICAgICAgICB1cGRhdGVUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGdldFRvb2xOYW1lKHRvb2xJbnZvY2F0aW9uKSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWVycm9yJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAodG9vbEludm9jYXRpb24gYXMgYW55KS5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIHJhd0lucHV0OiAodG9vbEludm9jYXRpb24gYXMgYW55KS5yYXdJbnB1dCxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogY2h1bmsuZXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0LXN0ZXAnOiB7XG4gICAgICAgICAgICAgIC8vIGFkZCBhIHN0ZXAgYm91bmRhcnkgcGFydCB0byB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLnBhcnRzLnB1c2goeyB0eXBlOiAnc3RlcC1zdGFydCcgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaW5pc2gtc3RlcCc6IHtcbiAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIGN1cnJlbnQgdGV4dCBhbmQgcmVhc29uaW5nIHBhcnRzXG4gICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVRleHRQYXJ0cyA9IHt9O1xuICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVSZWFzb25pbmdQYXJ0cyA9IHt9O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc3RhcnQnOiB7XG4gICAgICAgICAgICAgIGlmIChjaHVuay5tZXNzYWdlSWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UuaWQgPSBjaHVuay5tZXNzYWdlSWQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVNZXNzYWdlTWV0YWRhdGEoY2h1bmsubWVzc2FnZU1ldGFkYXRhKTtcblxuICAgICAgICAgICAgICBpZiAoY2h1bmsubWVzc2FnZUlkICE9IG51bGwgfHwgY2h1bmsubWVzc2FnZU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaW5pc2gnOiB7XG4gICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZU1lc3NhZ2VNZXRhZGF0YShjaHVuay5tZXNzYWdlTWV0YWRhdGEpO1xuICAgICAgICAgICAgICBpZiAoY2h1bmsubWVzc2FnZU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdtZXNzYWdlLW1ldGFkYXRhJzoge1xuICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVNZXNzYWdlTWV0YWRhdGEoY2h1bmsubWVzc2FnZU1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgaWYgKGNodW5rLm1lc3NhZ2VNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZXJyb3InOiB7XG4gICAgICAgICAgICAgIG9uRXJyb3I/LihuZXcgRXJyb3IoY2h1bmsuZXJyb3JUZXh0KSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgIGlmIChpc0RhdGFVSU1lc3NhZ2VDaHVuayhjaHVuaykpIHtcbiAgICAgICAgICAgICAgICAvLyB2YWxpZGF0ZSBkYXRhIGNodW5rIGlmIGRhdGFQYXJ0U2NoZW1hcyBpcyBwcm92aWRlZFxuICAgICAgICAgICAgICAgIGlmIChkYXRhUGFydFNjaGVtYXM/LltjaHVuay50eXBlXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBhd2FpdCB2YWxpZGF0ZVR5cGVzKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNodW5rLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYTogZGF0YVBhcnRTY2hlbWFzW2NodW5rLnR5cGVdLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2FzdCwgdmFsaWRhdGlvbiBpcyBkb25lIGFib3ZlXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUNodW5rID0gY2h1bmsgYXMgRGF0YVVJTWVzc2FnZUNodW5rPFxuICAgICAgICAgICAgICAgICAgSW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+XG4gICAgICAgICAgICAgICAgPjtcblxuICAgICAgICAgICAgICAgIC8vIHRyYW5zaWVudCBwYXJ0cyBhcmUgbm90IGFkZGVkIHRvIHRoZSBtZXNzYWdlIHN0YXRlXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFDaHVuay50cmFuc2llbnQpIHtcbiAgICAgICAgICAgICAgICAgIG9uRGF0YT8uKGRhdGFDaHVuayk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1VJUGFydCA9XG4gICAgICAgICAgICAgICAgICBkYXRhQ2h1bmsuaWQgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IChzdGF0ZS5tZXNzYWdlLnBhcnRzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICBjaHVua0FyZyA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhQ2h1bmsudHlwZSA9PT0gY2h1bmtBcmcudHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhQ2h1bmsuaWQgPT09IGNodW5rQXJnLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICkgYXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHwgRGF0YVVJUGFydDxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4+XG4gICAgICAgICAgICAgICAgICAgICAgICB8IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdVSVBhcnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgZXhpc3RpbmdVSVBhcnQuZGF0YSA9IGRhdGFDaHVuay5kYXRhO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLnBhcnRzLnB1c2goZGF0YUNodW5rKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvbkRhdGE/LihkYXRhQ2h1bmspO1xuXG4gICAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayBhcyBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pLFxuICApO1xufVxuIiwgImltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHtcbiAgUHJvdmlkZXJNZXRhZGF0YSxcbiAgcHJvdmlkZXJNZXRhZGF0YVNjaGVtYSxcbn0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHtcbiAgSW5mZXJVSU1lc3NhZ2VEYXRhLFxuICBJbmZlclVJTWVzc2FnZU1ldGFkYXRhLFxuICBVSURhdGFUeXBlcyxcbiAgVUlNZXNzYWdlLFxufSBmcm9tICcuLi91aS91aS1tZXNzYWdlcyc7XG5pbXBvcnQgeyBWYWx1ZU9mIH0gZnJvbSAnLi4vdXRpbC92YWx1ZS1vZic7XG5cbmV4cG9ydCBjb25zdCB1aU1lc3NhZ2VDaHVua1NjaGVtYSA9IHoudW5pb24oW1xuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0ZXh0LXN0YXJ0JyksXG4gICAgaWQ6IHouc3RyaW5nKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndGV4dC1kZWx0YScpLFxuICAgIGlkOiB6LnN0cmluZygpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3RleHQtZW5kJyksXG4gICAgaWQ6IHouc3RyaW5nKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZXJyb3InKSxcbiAgICBlcnJvclRleHQ6IHouc3RyaW5nKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0b29sLWlucHV0LXN0YXJ0JyksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGR5bmFtaWM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0b29sLWlucHV0LWRlbHRhJyksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICBpbnB1dFRleHREZWx0YTogei5zdHJpbmcoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtaW5wdXQtYXZhaWxhYmxlJyksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgICBpbnB1dDogei51bmtub3duKCksXG4gICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgZHluYW1pYzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtaW5wdXQtZXJyb3InKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICAgIGlucHV0OiB6LnVua25vd24oKSxcbiAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBkeW5hbWljOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGVycm9yVGV4dDogei5zdHJpbmcoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtb3V0cHV0LWF2YWlsYWJsZScpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0OiB6LnVua25vd24oKSxcbiAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGR5bmFtaWM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgcHJlbGltaW5hcnk6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0b29sLW91dHB1dC1lcnJvcicpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgZXJyb3JUZXh0OiB6LnN0cmluZygpLFxuICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgZHluYW1pYzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZycpLFxuICAgIHRleHQ6IHouc3RyaW5nKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nLXN0YXJ0JyksXG4gICAgaWQ6IHouc3RyaW5nKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nLWRlbHRhJyksXG4gICAgaWQ6IHouc3RyaW5nKCksXG4gICAgZGVsdGE6IHouc3RyaW5nKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nLWVuZCcpLFxuICAgIGlkOiB6LnN0cmluZygpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZy1wYXJ0LWZpbmlzaCcpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc291cmNlLXVybCcpLFxuICAgIHNvdXJjZUlkOiB6LnN0cmluZygpLFxuICAgIHVybDogei5zdHJpbmcoKSxcbiAgICB0aXRsZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3NvdXJjZS1kb2N1bWVudCcpLFxuICAgIHNvdXJjZUlkOiB6LnN0cmluZygpLFxuICAgIG1lZGlhVHlwZTogei5zdHJpbmcoKSxcbiAgICB0aXRsZTogei5zdHJpbmcoKSxcbiAgICBmaWxlbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2ZpbGUnKSxcbiAgICB1cmw6IHouc3RyaW5nKCksXG4gICAgbWVkaWFUeXBlOiB6LnN0cmluZygpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LnN0cmluZygpLnN0YXJ0c1dpdGgoJ2RhdGEtJyksXG4gICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBkYXRhOiB6LnVua25vd24oKSxcbiAgICB0cmFuc2llbnQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdzdGFydC1zdGVwJyksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdmaW5pc2gtc3RlcCcpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc3RhcnQnKSxcbiAgICBtZXNzYWdlSWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBtZXNzYWdlTWV0YWRhdGE6IHoudW5rbm93bigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdmaW5pc2gnKSxcbiAgICBtZXNzYWdlTWV0YWRhdGE6IHoudW5rbm93bigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdhYm9ydCcpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnbWVzc2FnZS1tZXRhZGF0YScpLFxuICAgIG1lc3NhZ2VNZXRhZGF0YTogei51bmtub3duKCksXG4gIH0pLFxuXSk7XG5cbmV4cG9ydCB0eXBlIERhdGFVSU1lc3NhZ2VDaHVuazxEQVRBX1RZUEVTIGV4dGVuZHMgVUlEYXRhVHlwZXM+ID0gVmFsdWVPZjx7XG4gIFtOQU1FIGluIGtleW9mIERBVEFfVFlQRVMgJiBzdHJpbmddOiB7XG4gICAgdHlwZTogYGRhdGEtJHtOQU1FfWA7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgZGF0YTogREFUQV9UWVBFU1tOQU1FXTtcbiAgICB0cmFuc2llbnQ/OiBib29sZWFuO1xuICB9O1xufT47XG5cbmV4cG9ydCB0eXBlIFVJTWVzc2FnZUNodW5rPFxuICBNRVRBREFUQSA9IHVua25vd24sXG4gIERBVEFfVFlQRVMgZXh0ZW5kcyBVSURhdGFUeXBlcyA9IFVJRGF0YVR5cGVzLFxuPiA9XG4gIHwge1xuICAgICAgdHlwZTogJ3RleHQtc3RhcnQnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndGV4dC1kZWx0YSc7XG4gICAgICBkZWx0YTogc3RyaW5nO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndGV4dC1lbmQnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAncmVhc29uaW5nLXN0YXJ0JztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3JlYXNvbmluZy1kZWx0YSc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgZGVsdGE6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAncmVhc29uaW5nLWVuZCc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdlcnJvcic7XG4gICAgICBlcnJvclRleHQ6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtYXZhaWxhYmxlJztcbiAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgIHRvb2xOYW1lOiBzdHJpbmc7XG4gICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICBkeW5hbWljPzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtZXJyb3InO1xuICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgdG9vbE5hbWU6IHN0cmluZztcbiAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIGR5bmFtaWM/OiBib29sZWFuO1xuICAgICAgZXJyb3JUZXh0OiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0b29sLW91dHB1dC1hdmFpbGFibGUnO1xuICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgb3V0cHV0OiB1bmtub3duO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBkeW5hbWljPzogYm9vbGVhbjtcbiAgICAgIHByZWxpbWluYXJ5PzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtb3V0cHV0LWVycm9yJztcbiAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgIGVycm9yVGV4dDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBkeW5hbWljPzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtc3RhcnQnO1xuICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgdG9vbE5hbWU6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgZHluYW1pYz86IGJvb2xlYW47XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0b29sLWlucHV0LWRlbHRhJztcbiAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgIGlucHV0VGV4dERlbHRhOiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdzb3VyY2UtdXJsJztcbiAgICAgIHNvdXJjZUlkOiBzdHJpbmc7XG4gICAgICB1cmw6IHN0cmluZztcbiAgICAgIHRpdGxlPzogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdzb3VyY2UtZG9jdW1lbnQnO1xuICAgICAgc291cmNlSWQ6IHN0cmluZztcbiAgICAgIG1lZGlhVHlwZTogc3RyaW5nO1xuICAgICAgdGl0bGU6IHN0cmluZztcbiAgICAgIGZpbGVuYW1lPzogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdmaWxlJztcbiAgICAgIHVybDogc3RyaW5nO1xuICAgICAgbWVkaWFUeXBlOiBzdHJpbmc7XG4gICAgfVxuICB8IERhdGFVSU1lc3NhZ2VDaHVuazxEQVRBX1RZUEVTPlxuICB8IHtcbiAgICAgIHR5cGU6ICdzdGFydC1zdGVwJztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ2ZpbmlzaC1zdGVwJztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3N0YXJ0JztcbiAgICAgIG1lc3NhZ2VJZD86IHN0cmluZztcbiAgICAgIG1lc3NhZ2VNZXRhZGF0YT86IE1FVEFEQVRBO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnZmluaXNoJztcbiAgICAgIG1lc3NhZ2VNZXRhZGF0YT86IE1FVEFEQVRBO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnYWJvcnQnO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnbWVzc2FnZS1tZXRhZGF0YSc7XG4gICAgICBtZXNzYWdlTWV0YWRhdGE6IE1FVEFEQVRBO1xuICAgIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGFVSU1lc3NhZ2VDaHVuayhcbiAgY2h1bms6IFVJTWVzc2FnZUNodW5rLFxuKTogY2h1bmsgaXMgRGF0YVVJTWVzc2FnZUNodW5rPFVJRGF0YVR5cGVzPiB7XG4gIHJldHVybiBjaHVuay50eXBlLnN0YXJ0c1dpdGgoJ2RhdGEtJyk7XG59XG5cbmV4cG9ydCB0eXBlIEluZmVyVUlNZXNzYWdlQ2h1bms8VCBleHRlbmRzIFVJTWVzc2FnZT4gPSBVSU1lc3NhZ2VDaHVuazxcbiAgSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxUPixcbiAgSW5mZXJVSU1lc3NhZ2VEYXRhPFQ+XG4+O1xuIiwgIi8qKlxuICogRGVlcGx5IG1lcmdlcyB0d28gb2JqZWN0cyB0b2dldGhlci5cbiAqIC0gUHJvcGVydGllcyBmcm9tIHRoZSBgb3ZlcnJpZGVzYCBvYmplY3Qgb3ZlcnJpZGUgdGhvc2UgaW4gdGhlIGBiYXNlYCBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXkuXG4gKiAtIEZvciBuZXN0ZWQgb2JqZWN0cywgdGhlIG1lcmdlIGlzIHBlcmZvcm1lZCByZWN1cnNpdmVseSAoZGVlcCBtZXJnZSkuXG4gKiAtIEFycmF5cyBhcmUgcmVwbGFjZWQsIG5vdCBtZXJnZWQuXG4gKiAtIFByaW1pdGl2ZSB2YWx1ZXMgYXJlIHJlcGxhY2VkLlxuICogLSBJZiBib3RoIGBiYXNlYCBhbmQgYG92ZXJyaWRlc2AgYXJlIHVuZGVmaW5lZCwgcmV0dXJucyB1bmRlZmluZWQuXG4gKiAtIElmIG9uZSBvZiBgYmFzZWAgb3IgYG92ZXJyaWRlc2AgaXMgdW5kZWZpbmVkLCByZXR1cm5zIHRoZSBvdGhlci5cbiAqXG4gKiBAcGFyYW0gYmFzZSBUaGUgdGFyZ2V0IG9iamVjdCB0byBtZXJnZSBpbnRvXG4gKiBAcGFyYW0gb3ZlcnJpZGVzIFRoZSBzb3VyY2Ugb2JqZWN0IHRvIG1lcmdlIGZyb21cbiAqIEByZXR1cm5zIEEgbmV3IG9iamVjdCB3aXRoIHRoZSBtZXJnZWQgcHJvcGVydGllcywgb3IgdW5kZWZpbmVkIGlmIGJvdGggaW5wdXRzIGFyZSB1bmRlZmluZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlT2JqZWN0czxUIGV4dGVuZHMgb2JqZWN0LCBVIGV4dGVuZHMgb2JqZWN0PihcbiAgYmFzZTogVCB8IHVuZGVmaW5lZCxcbiAgb3ZlcnJpZGVzOiBVIHwgdW5kZWZpbmVkLFxuKTogKFQgJiBVKSB8IFQgfCBVIHwgdW5kZWZpbmVkIHtcbiAgLy8gSWYgYm90aCBpbnB1dHMgYXJlIHVuZGVmaW5lZCwgcmV0dXJuIHVuZGVmaW5lZFxuICBpZiAoYmFzZSA9PT0gdW5kZWZpbmVkICYmIG92ZXJyaWRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIElmIHRhcmdldCBpcyB1bmRlZmluZWQsIHJldHVybiBzb3VyY2VcbiAgaWYgKGJhc2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBvdmVycmlkZXM7XG4gIH1cblxuICAvLyBJZiBzb3VyY2UgaXMgdW5kZWZpbmVkLCByZXR1cm4gdGFyZ2V0XG4gIGlmIChvdmVycmlkZXMgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBiYXNlO1xuICB9XG5cbiAgLy8gQ3JlYXRlIGEgbmV3IG9iamVjdCB0byBhdm9pZCBtdXRhdGluZyB0aGUgaW5wdXRzXG4gIGNvbnN0IHJlc3VsdCA9IHsgLi4uYmFzZSB9IGFzIFQgJiBVO1xuXG4gIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwga2V5cyBpbiB0aGUgc291cmNlIG9iamVjdFxuICBmb3IgKGNvbnN0IGtleSBpbiBvdmVycmlkZXMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG92ZXJyaWRlcywga2V5KSkge1xuICAgICAgY29uc3Qgb3ZlcnJpZGVzVmFsdWUgPSBvdmVycmlkZXNba2V5XTtcblxuICAgICAgLy8gU2tpcCBpZiB0aGUgb3ZlcnJpZGVzIHZhbHVlIGlzIHVuZGVmaW5lZFxuICAgICAgaWYgKG92ZXJyaWRlc1ZhbHVlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXG4gICAgICAvLyBHZXQgdGhlIGJhc2UgdmFsdWUgaWYgaXQgZXhpc3RzXG4gICAgICBjb25zdCBiYXNlVmFsdWUgPVxuICAgICAgICBrZXkgaW4gYmFzZSA/IGJhc2Vba2V5IGFzIHVua25vd24gYXMga2V5b2YgVF0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIENoZWNrIGlmIGJvdGggdmFsdWVzIGFyZSBvYmplY3RzIHRoYXQgY2FuIGJlIGRlZXBseSBtZXJnZWRcbiAgICAgIGNvbnN0IGlzU291cmNlT2JqZWN0ID1cbiAgICAgICAgb3ZlcnJpZGVzVmFsdWUgIT09IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIG92ZXJyaWRlc1ZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAhQXJyYXkuaXNBcnJheShvdmVycmlkZXNWYWx1ZSkgJiZcbiAgICAgICAgIShvdmVycmlkZXNWYWx1ZSBpbnN0YW5jZW9mIERhdGUpICYmXG4gICAgICAgICEob3ZlcnJpZGVzVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApO1xuXG4gICAgICBjb25zdCBpc1RhcmdldE9iamVjdCA9XG4gICAgICAgIGJhc2VWYWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgICBiYXNlVmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICB0eXBlb2YgYmFzZVZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAhQXJyYXkuaXNBcnJheShiYXNlVmFsdWUpICYmXG4gICAgICAgICEoYmFzZVZhbHVlIGluc3RhbmNlb2YgRGF0ZSkgJiZcbiAgICAgICAgIShiYXNlVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApO1xuXG4gICAgICAvLyBJZiBib3RoIHZhbHVlcyBhcmUgbWVyZ2VhYmxlIG9iamVjdHMsIG1lcmdlIHRoZW0gcmVjdXJzaXZlbHlcbiAgICAgIGlmIChpc1NvdXJjZU9iamVjdCAmJiBpc1RhcmdldE9iamVjdCkge1xuICAgICAgICByZXN1bHRba2V5IGFzIGtleW9mIChUICYgVSldID0gbWVyZ2VPYmplY3RzKFxuICAgICAgICAgIGJhc2VWYWx1ZSBhcyBvYmplY3QsXG4gICAgICAgICAgb3ZlcnJpZGVzVmFsdWUgYXMgb2JqZWN0LFxuICAgICAgICApIGFzIGFueTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBwcmltaXRpdmVzLCBhcnJheXMsIG9yIHdoZW4gb25lIHZhbHVlIGlzIG5vdCBhIG1lcmdlYWJsZSBvYmplY3QsXG4gICAgICAgIC8vIHNpbXBseSBvdmVycmlkZSB3aXRoIHRoZSBzb3VyY2UgdmFsdWVcbiAgICAgICAgcmVzdWx0W2tleSBhcyBrZXlvZiAoVCAmIFUpXSA9IG92ZXJyaWRlc1ZhbHVlIGFzIGFueTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwgImltcG9ydCB7IEpTT05WYWx1ZSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgc2FmZVBhcnNlSlNPTiB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgZml4SnNvbiB9IGZyb20gJy4vZml4LWpzb24nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VQYXJ0aWFsSnNvbihqc29uVGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkKTogUHJvbWlzZTx7XG4gIHZhbHVlOiBKU09OVmFsdWUgfCB1bmRlZmluZWQ7XG4gIHN0YXRlOlxuICAgIHwgJ3VuZGVmaW5lZC1pbnB1dCdcbiAgICB8ICdzdWNjZXNzZnVsLXBhcnNlJ1xuICAgIHwgJ3JlcGFpcmVkLXBhcnNlJ1xuICAgIHwgJ2ZhaWxlZC1wYXJzZSc7XG59PiB7XG4gIGlmIChqc29uVGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgc3RhdGU6ICd1bmRlZmluZWQtaW5wdXQnIH07XG4gIH1cblxuICBsZXQgcmVzdWx0ID0gYXdhaXQgc2FmZVBhcnNlSlNPTih7IHRleHQ6IGpzb25UZXh0IH0pO1xuXG4gIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHZhbHVlOiByZXN1bHQudmFsdWUsIHN0YXRlOiAnc3VjY2Vzc2Z1bC1wYXJzZScgfTtcbiAgfVxuXG4gIHJlc3VsdCA9IGF3YWl0IHNhZmVQYXJzZUpTT04oeyB0ZXh0OiBmaXhKc29uKGpzb25UZXh0KSB9KTtcblxuICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LnZhbHVlLCBzdGF0ZTogJ3JlcGFpcmVkLXBhcnNlJyB9O1xuICB9XG5cbiAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgc3RhdGU6ICdmYWlsZWQtcGFyc2UnIH07XG59XG4iLCAidHlwZSBTdGF0ZSA9XG4gIHwgJ1JPT1QnXG4gIHwgJ0ZJTklTSCdcbiAgfCAnSU5TSURFX1NUUklORydcbiAgfCAnSU5TSURFX1NUUklOR19FU0NBUEUnXG4gIHwgJ0lOU0lERV9MSVRFUkFMJ1xuICB8ICdJTlNJREVfTlVNQkVSJ1xuICB8ICdJTlNJREVfT0JKRUNUX1NUQVJUJ1xuICB8ICdJTlNJREVfT0JKRUNUX0tFWSdcbiAgfCAnSU5TSURFX09CSkVDVF9BRlRFUl9LRVknXG4gIHwgJ0lOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFJ1xuICB8ICdJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFJ1xuICB8ICdJTlNJREVfT0JKRUNUX0FGVEVSX0NPTU1BJ1xuICB8ICdJTlNJREVfQVJSQVlfU1RBUlQnXG4gIHwgJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRSdcbiAgfCAnSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BJztcblxuLy8gSW1wbGVtZW50ZWQgYXMgYSBzY2FubmVyIHdpdGggYWRkaXRpb25hbCBmaXhpbmdcbi8vIHRoYXQgcGVyZm9ybXMgYSBzaW5nbGUgbGluZWFyIHRpbWUgc2NhbiBwYXNzIG92ZXIgdGhlIHBhcnRpYWwgSlNPTi5cbi8vXG4vLyBUaGUgc3RhdGVzIHNob3VsZCBpZGVhbGx5IG1hdGNoIHJlbGV2YW50IHN0YXRlcyBmcm9tIHRoZSBKU09OIHNwZWM6XG4vLyBodHRwczovL3d3dy5qc29uLm9yZy9qc29uLWVuLmh0bWxcbi8vXG4vLyBQbGVhc2Ugbm90ZSB0aGF0IGludmFsaWQgSlNPTiBpcyBub3QgY29uc2lkZXJlZC9jb3ZlcmVkLCBiZWNhdXNlIGl0XG4vLyBpcyBhc3N1bWVkIHRoYXQgdGhlIHJlc3VsdGluZyBKU09OIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IGEgc3RhbmRhcmRcbi8vIEpTT04gcGFyc2VyIHRoYXQgd2lsbCBkZXRlY3QgYW55IGludmFsaWQgSlNPTi5cbmV4cG9ydCBmdW5jdGlvbiBmaXhKc29uKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBzdGFjazogU3RhdGVbXSA9IFsnUk9PVCddO1xuICBsZXQgbGFzdFZhbGlkSW5kZXggPSAtMTtcbiAgbGV0IGxpdGVyYWxTdGFydDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhcjogc3RyaW5nLCBpOiBudW1iZXIsIHN3YXBTdGF0ZTogU3RhdGUpIHtcbiAgICB7XG4gICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfU1RSSU5HJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdmJzpcbiAgICAgICAgY2FzZSAndCc6XG4gICAgICAgIGNhc2UgJ24nOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIGxpdGVyYWxTdGFydCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9MSVRFUkFMJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICctJzoge1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfTlVNQkVSJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnMCc6XG4gICAgICAgIGNhc2UgJzEnOlxuICAgICAgICBjYXNlICcyJzpcbiAgICAgICAgY2FzZSAnMyc6XG4gICAgICAgIGNhc2UgJzQnOlxuICAgICAgICBjYXNlICc1JzpcbiAgICAgICAgY2FzZSAnNic6XG4gICAgICAgIGNhc2UgJzcnOlxuICAgICAgICBjYXNlICc4JzpcbiAgICAgICAgY2FzZSAnOSc6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9OVU1CRVInKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3snOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfT0JKRUNUX1NUQVJUJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdbJzoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX0FSUkFZX1NUQVJUJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyOiBzdHJpbmcsIGk6IG51bWJlcikge1xuICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgY2FzZSAnLCc6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUEnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICd9Jzoge1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXI6IHN0cmluZywgaTogbnVtYmVyKSB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlICcsJzoge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnXSc6IHtcbiAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBpbnB1dFtpXTtcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcblxuICAgIHN3aXRjaCAoY3VycmVudFN0YXRlKSB7XG4gICAgICBjYXNlICdST09UJzpcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgJ0ZJTklTSCcpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9TVEFSVCc6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9PQkpFQ1RfS0VZJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnfSc6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX0FGVEVSX0NPTU1BJzoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX09CSkVDVF9LRVknKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9LRVknOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfT0JKRUNUX0FGVEVSX0tFWScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX0FGVEVSX0tFWSc6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnOic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUUnKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX0JFRk9SRV9WQUxVRSc6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnOiB7XG4gICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX1NUUklORyc6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ1xcXFwnOiB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfU1RSSU5HX0VTQ0FQRScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfQVJSQVlfU1RBUlQnOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ10nOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksICdJTlNJREVfQVJSQVlfQUZURVJfVkFMVUUnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFJzoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICcsJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfQVJSQVlfQUZURVJfQ09NTUEnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ10nOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfQVJSQVlfQUZURVJfQ09NTUEnOiB7XG4gICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksICdJTlNJREVfQVJSQVlfQUZURVJfVkFMVUUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9TVFJJTkdfRVNDQVBFJzoge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfTlVNQkVSJzoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICcwJzpcbiAgICAgICAgICBjYXNlICcxJzpcbiAgICAgICAgICBjYXNlICcyJzpcbiAgICAgICAgICBjYXNlICczJzpcbiAgICAgICAgICBjYXNlICc0JzpcbiAgICAgICAgICBjYXNlICc1JzpcbiAgICAgICAgICBjYXNlICc2JzpcbiAgICAgICAgICBjYXNlICc3JzpcbiAgICAgICAgICBjYXNlICc4JzpcbiAgICAgICAgICBjYXNlICc5Jzoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnZSc6XG4gICAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgY2FzZSAnLic6IHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJywnOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSAnSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFJykge1xuICAgICAgICAgICAgICBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09ICdJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFJykge1xuICAgICAgICAgICAgICBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnfSc6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09ICdJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFJykge1xuICAgICAgICAgICAgICBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnXSc6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09ICdJTlNJREVfQVJSQVlfQUZURVJfVkFMVUUnKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9MSVRFUkFMJzoge1xuICAgICAgICBjb25zdCBwYXJ0aWFsTGl0ZXJhbCA9IGlucHV0LnN1YnN0cmluZyhsaXRlcmFsU3RhcnQhLCBpICsgMSk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICEnZmFsc2UnLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmXG4gICAgICAgICAgISd0cnVlJy5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSAmJlxuICAgICAgICAgICEnbnVsbCcuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbClcbiAgICAgICAgKSB7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG5cbiAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09ICdJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFJykge1xuICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRScpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxldCByZXN1bHQgPSBpbnB1dC5zbGljZSgwLCBsYXN0VmFsaWRJbmRleCArIDEpO1xuXG4gIGZvciAobGV0IGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN0YXRlID0gc3RhY2tbaV07XG5cbiAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICBjYXNlICdJTlNJREVfU1RSSU5HJzoge1xuICAgICAgICByZXN1bHQgKz0gJ1wiJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfS0VZJzpcbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQUZURVJfS0VZJzpcbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUEnOlxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9TVEFSVCc6XG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX0JFRk9SRV9WQUxVRSc6XG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFJzoge1xuICAgICAgICByZXN1bHQgKz0gJ30nO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX0FSUkFZX1NUQVJUJzpcbiAgICAgIGNhc2UgJ0lOU0lERV9BUlJBWV9BRlRFUl9DT01NQSc6XG4gICAgICBjYXNlICdJTlNJREVfQVJSQVlfQUZURVJfVkFMVUUnOiB7XG4gICAgICAgIHJlc3VsdCArPSAnXSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfTElURVJBTCc6IHtcbiAgICAgICAgY29uc3QgcGFydGlhbExpdGVyYWwgPSBpbnB1dC5zdWJzdHJpbmcobGl0ZXJhbFN0YXJ0ISwgaW5wdXQubGVuZ3RoKTtcblxuICAgICAgICBpZiAoJ3RydWUnLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9ICd0cnVlJy5zbGljZShwYXJ0aWFsTGl0ZXJhbC5sZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKCdmYWxzZScuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gJ2ZhbHNlJy5zbGljZShwYXJ0aWFsTGl0ZXJhbC5sZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKCdudWxsJy5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHJlc3VsdCArPSAnbnVsbCcuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCAiaW1wb3J0IHtcbiAgSW5mZXJUb29sSW5wdXQsXG4gIEluZmVyVG9vbE91dHB1dCxcbiAgVG9vbCxcbiAgVG9vbENhbGwsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQnO1xuaW1wb3J0IHsgUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhJztcbmltcG9ydCB7IERlZXBQYXJ0aWFsIH0gZnJvbSAnLi4vdXRpbC9kZWVwLXBhcnRpYWwnO1xuaW1wb3J0IHsgVmFsdWVPZiB9IGZyb20gJy4uL3V0aWwvdmFsdWUtb2YnO1xuXG4vKipcblRoZSBkYXRhIHR5cGVzIHRoYXQgY2FuIGJlIHVzZWQgaW4gdGhlIFVJIG1lc3NhZ2UgZm9yIHRoZSBVSSBtZXNzYWdlIGRhdGEgcGFydHMuXG4gKi9cbmV4cG9ydCB0eXBlIFVJRGF0YVR5cGVzID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cbmV4cG9ydCB0eXBlIFVJVG9vbCA9IHtcbiAgaW5wdXQ6IHVua25vd247XG4gIG91dHB1dDogdW5rbm93biB8IHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogSW5mZXIgdGhlIGlucHV0IGFuZCBvdXRwdXQgdHlwZXMgb2YgYSB0b29sIHNvIGl0IGNhbiBiZSB1c2VkIGFzIGEgVUkgdG9vbC5cbiAqL1xuZXhwb3J0IHR5cGUgSW5mZXJVSVRvb2w8VE9PTCBleHRlbmRzIFRvb2w+ID0ge1xuICBpbnB1dDogSW5mZXJUb29sSW5wdXQ8VE9PTD47XG4gIG91dHB1dDogSW5mZXJUb29sT3V0cHV0PFRPT0w+O1xufTtcblxuLyoqXG4gKiBJbmZlciB0aGUgaW5wdXQgYW5kIG91dHB1dCB0eXBlcyBvZiBhIHRvb2wgc2V0IHNvIGl0IGNhbiBiZSB1c2VkIGFzIGEgVUkgdG9vbCBzZXQuXG4gKi9cbmV4cG9ydCB0eXBlIEluZmVyVUlUb29sczxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID0ge1xuICBbTkFNRSBpbiBrZXlvZiBUT09MUyAmIHN0cmluZ106IEluZmVyVUlUb29sPFRPT0xTW05BTUVdPjtcbn07XG5cbmV4cG9ydCB0eXBlIFVJVG9vbHMgPSBSZWNvcmQ8c3RyaW5nLCBVSVRvb2w+O1xuXG4vKipcbkFJIFNESyBVSSBNZXNzYWdlcy4gVGhleSBhcmUgdXNlZCBpbiB0aGUgY2xpZW50IGFuZCB0byBjb21tdW5pY2F0ZSBiZXR3ZWVuIHRoZSBmcm9udGVuZCBhbmQgdGhlIEFQSSByb3V0ZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVUlNZXNzYWdlPFxuICBNRVRBREFUQSA9IHVua25vd24sXG4gIERBVEFfUEFSVFMgZXh0ZW5kcyBVSURhdGFUeXBlcyA9IFVJRGF0YVR5cGVzLFxuICBUT09MUyBleHRlbmRzIFVJVG9vbHMgPSBVSVRvb2xzLFxuPiB7XG4gIC8qKlxuQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIG1lc3NhZ2UuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuVGhlIHJvbGUgb2YgdGhlIG1lc3NhZ2UuXG4gICAqL1xuICByb2xlOiAnc3lzdGVtJyB8ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuXG4gIC8qKlxuVGhlIG1ldGFkYXRhIG9mIHRoZSBtZXNzYWdlLlxuICAgKi9cbiAgbWV0YWRhdGE/OiBNRVRBREFUQTtcblxuICAvKipcblRoZSBwYXJ0cyBvZiB0aGUgbWVzc2FnZS4gVXNlIHRoaXMgZm9yIHJlbmRlcmluZyB0aGUgbWVzc2FnZSBpbiB0aGUgVUkuXG5cblN5c3RlbSBtZXNzYWdlcyBzaG91bGQgYmUgYXZvaWRlZCAoc2V0IHRoZSBzeXN0ZW0gcHJvbXB0IG9uIHRoZSBzZXJ2ZXIgaW5zdGVhZCkuXG5UaGV5IGNhbiBoYXZlIHRleHQgcGFydHMuXG5cblVzZXIgbWVzc2FnZXMgY2FuIGhhdmUgdGV4dCBwYXJ0cyBhbmQgZmlsZSBwYXJ0cy5cblxuQXNzaXN0YW50IG1lc3NhZ2VzIGNhbiBoYXZlIHRleHQsIHJlYXNvbmluZywgdG9vbCBpbnZvY2F0aW9uLCBhbmQgZmlsZSBwYXJ0cy5cbiAgICovXG4gIHBhcnRzOiBBcnJheTxVSU1lc3NhZ2VQYXJ0PERBVEFfUEFSVFMsIFRPT0xTPj47XG59XG5cbmV4cG9ydCB0eXBlIFVJTWVzc2FnZVBhcnQ8XG4gIERBVEFfVFlQRVMgZXh0ZW5kcyBVSURhdGFUeXBlcyxcbiAgVE9PTFMgZXh0ZW5kcyBVSVRvb2xzLFxuPiA9XG4gIHwgVGV4dFVJUGFydFxuICB8IFJlYXNvbmluZ1VJUGFydFxuICB8IFRvb2xVSVBhcnQ8VE9PTFM+XG4gIHwgRHluYW1pY1Rvb2xVSVBhcnRcbiAgfCBTb3VyY2VVcmxVSVBhcnRcbiAgfCBTb3VyY2VEb2N1bWVudFVJUGFydFxuICB8IEZpbGVVSVBhcnRcbiAgfCBEYXRhVUlQYXJ0PERBVEFfVFlQRVM+XG4gIHwgU3RlcFN0YXJ0VUlQYXJ0O1xuXG4vKipcbiAqIEEgdGV4dCBwYXJ0IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IHR5cGUgVGV4dFVJUGFydCA9IHtcbiAgdHlwZTogJ3RleHQnO1xuXG4gIC8qKlxuICAgKiBUaGUgdGV4dCBjb250ZW50LlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdGUgb2YgdGhlIHRleHQgcGFydC5cbiAgICovXG4gIHN0YXRlPzogJ3N0cmVhbWluZycgfCAnZG9uZSc7XG5cbiAgLyoqXG4gICAqIFRoZSBwcm92aWRlciBtZXRhZGF0YS5cbiAgICovXG4gIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xufTtcblxuLyoqXG4gKiBBIHJlYXNvbmluZyBwYXJ0IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IHR5cGUgUmVhc29uaW5nVUlQYXJ0ID0ge1xuICB0eXBlOiAncmVhc29uaW5nJztcblxuICAvKipcbiAgICogVGhlIHJlYXNvbmluZyB0ZXh0LlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdGUgb2YgdGhlIHJlYXNvbmluZyBwYXJ0LlxuICAgKi9cbiAgc3RhdGU/OiAnc3RyZWFtaW5nJyB8ICdkb25lJztcblxuICAvKipcbiAgICogVGhlIHByb3ZpZGVyIG1ldGFkYXRhLlxuICAgKi9cbiAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG59O1xuXG4vKipcbiAqIEEgc291cmNlIHBhcnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgdHlwZSBTb3VyY2VVcmxVSVBhcnQgPSB7XG4gIHR5cGU6ICdzb3VyY2UtdXJsJztcbiAgc291cmNlSWQ6IHN0cmluZztcbiAgdXJsOiBzdHJpbmc7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbn07XG5cbi8qKlxuICogQSBkb2N1bWVudCBzb3VyY2UgcGFydCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIFNvdXJjZURvY3VtZW50VUlQYXJ0ID0ge1xuICB0eXBlOiAnc291cmNlLWRvY3VtZW50JztcbiAgc291cmNlSWQ6IHN0cmluZztcbiAgbWVkaWFUeXBlOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGZpbGVuYW1lPzogc3RyaW5nO1xuICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbn07XG5cbi8qKlxuICogQSBmaWxlIHBhcnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgdHlwZSBGaWxlVUlQYXJ0ID0ge1xuICB0eXBlOiAnZmlsZSc7XG5cbiAgLyoqXG4gICAqIElBTkEgbWVkaWEgdHlwZSBvZiB0aGUgZmlsZS5cbiAgICpcbiAgICogQHNlZSBodHRwczovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy9tZWRpYS10eXBlcy9tZWRpYS10eXBlcy54aHRtbFxuICAgKi9cbiAgbWVkaWFUeXBlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGZpbGVuYW1lIG9mIHRoZSBmaWxlLlxuICAgKi9cbiAgZmlsZW5hbWU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBVUkwgb2YgdGhlIGZpbGUuXG4gICAqIEl0IGNhbiBlaXRoZXIgYmUgYSBVUkwgdG8gYSBob3N0ZWQgZmlsZSBvciBhIFtEYXRhIFVSTF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9CYXNpY3Nfb2ZfSFRUUC9EYXRhX1VSTHMpLlxuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwcm92aWRlciBtZXRhZGF0YS5cbiAgICovXG4gIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xufTtcblxuLyoqXG4gKiBBIHN0ZXAgYm91bmRhcnkgcGFydCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIFN0ZXBTdGFydFVJUGFydCA9IHtcbiAgdHlwZTogJ3N0ZXAtc3RhcnQnO1xufTtcblxuZXhwb3J0IHR5cGUgRGF0YVVJUGFydDxEQVRBX1RZUEVTIGV4dGVuZHMgVUlEYXRhVHlwZXM+ID0gVmFsdWVPZjx7XG4gIFtOQU1FIGluIGtleW9mIERBVEFfVFlQRVMgJiBzdHJpbmddOiB7XG4gICAgdHlwZTogYGRhdGEtJHtOQU1FfWA7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgZGF0YTogREFUQV9UWVBFU1tOQU1FXTtcbiAgfTtcbn0+O1xuXG50eXBlIGFzVUlUb29sPFRPT0wgZXh0ZW5kcyBVSVRvb2wgfCBUb29sPiA9IFRPT0wgZXh0ZW5kcyBUb29sXG4gID8gSW5mZXJVSVRvb2w8VE9PTD5cbiAgOiBUT09MO1xuXG4vKipcbiAqIEEgVUkgdG9vbCBpbnZvY2F0aW9uIGNvbnRhaW5zIGFsbCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkIHRvIHJlbmRlciBhIHRvb2wgaW52b2NhdGlvbiBpbiB0aGUgVUkuXG4gKiBJdCBjYW4gYmUgZGVyaXZlZCBmcm9tIGEgdG9vbCB3aXRob3V0IGtub3dpbmcgdGhlIHRvb2wgbmFtZSwgYW5kIGNhbiBiZSB1c2VkIHRvIGRlZmluZVxuICogVUkgY29tcG9uZW50cyBmb3IgdGhlIHRvb2wuXG4gKi9cbmV4cG9ydCB0eXBlIFVJVG9vbEludm9jYXRpb248VE9PTCBleHRlbmRzIFVJVG9vbCB8IFRvb2w+ID0ge1xuICB0b29sQ2FsbElkOiBzdHJpbmc7XG59ICYgKFxuICB8IHtcbiAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJztcbiAgICAgIGlucHV0OiBEZWVwUGFydGlhbDxhc1VJVG9vbDxUT09MPlsnaW5wdXQnXT4gfCB1bmRlZmluZWQ7XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIG91dHB1dD86IG5ldmVyO1xuICAgICAgZXJyb3JUZXh0PzogbmV2ZXI7XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXRlOiAnaW5wdXQtYXZhaWxhYmxlJztcbiAgICAgIGlucHV0OiBhc1VJVG9vbDxUT09MPlsnaW5wdXQnXTtcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgb3V0cHV0PzogbmV2ZXI7XG4gICAgICBlcnJvclRleHQ/OiBuZXZlcjtcbiAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6ICdvdXRwdXQtYXZhaWxhYmxlJztcbiAgICAgIGlucHV0OiBhc1VJVG9vbDxUT09MPlsnaW5wdXQnXTtcbiAgICAgIG91dHB1dDogYXNVSVRvb2w8VE9PTD5bJ291dHB1dCddO1xuICAgICAgZXJyb3JUZXh0PzogbmV2ZXI7XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIHByZWxpbWluYXJ5PzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InOyAvLyBUT0RPIEFJIFNESyA2OiBjaGFuZ2UgdG8gJ2Vycm9yJyBzdGF0ZVxuICAgICAgaW5wdXQ6IGFzVUlUb29sPFRPT0w+WydpbnB1dCddIHwgdW5kZWZpbmVkO1xuICAgICAgcmF3SW5wdXQ/OiB1bmtub3duOyAvLyBUT0RPIEFJIFNESyA2OiByZW1vdmUgdGhpcyBmaWVsZCwgaW5wdXQgc2hvdWxkIGJlIHVua25vd25cbiAgICAgIG91dHB1dD86IG5ldmVyO1xuICAgICAgZXJyb3JUZXh0OiBzdHJpbmc7XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4pO1xuXG5leHBvcnQgdHlwZSBUb29sVUlQYXJ0PFRPT0xTIGV4dGVuZHMgVUlUb29scyA9IFVJVG9vbHM+ID0gVmFsdWVPZjx7XG4gIFtOQU1FIGluIGtleW9mIFRPT0xTICYgc3RyaW5nXToge1xuICAgIHR5cGU6IGB0b29sLSR7TkFNRX1gO1xuICB9ICYgVUlUb29sSW52b2NhdGlvbjxUT09MU1tOQU1FXT47XG59PjtcblxuZXhwb3J0IHR5cGUgRHluYW1pY1Rvb2xVSVBhcnQgPSB7XG4gIHR5cGU6ICdkeW5hbWljLXRvb2wnO1xuICB0b29sTmFtZTogc3RyaW5nO1xuICB0b29sQ2FsbElkOiBzdHJpbmc7XG59ICYgKFxuICB8IHtcbiAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJztcbiAgICAgIGlucHV0OiB1bmtub3duIHwgdW5kZWZpbmVkO1xuICAgICAgb3V0cHV0PzogbmV2ZXI7XG4gICAgICBlcnJvclRleHQ/OiBuZXZlcjtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6ICdpbnB1dC1hdmFpbGFibGUnO1xuICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICBvdXRwdXQ/OiBuZXZlcjtcbiAgICAgIGVycm9yVGV4dD86IG5ldmVyO1xuICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0ZTogJ291dHB1dC1hdmFpbGFibGUnO1xuICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICBvdXRwdXQ6IHVua25vd247XG4gICAgICBlcnJvclRleHQ/OiBuZXZlcjtcbiAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIHByZWxpbWluYXJ5PzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InOyAvLyBUT0RPIEFJIFNESyA2OiBjaGFuZ2UgdG8gJ2Vycm9yJyBzdGF0ZVxuICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICBvdXRwdXQ/OiBuZXZlcjtcbiAgICAgIGVycm9yVGV4dDogc3RyaW5nO1xuICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbik7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Rvb2xVSVBhcnQ8VE9PTFMgZXh0ZW5kcyBVSVRvb2xzPihcbiAgcGFydDogVUlNZXNzYWdlUGFydDxVSURhdGFUeXBlcywgVE9PTFM+LFxuKTogcGFydCBpcyBUb29sVUlQYXJ0PFRPT0xTPiB7XG4gIHJldHVybiBwYXJ0LnR5cGUuc3RhcnRzV2l0aCgndG9vbC0nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRHluYW1pY1Rvb2xVSVBhcnQoXG4gIHBhcnQ6IFVJTWVzc2FnZVBhcnQ8VUlEYXRhVHlwZXMsIFVJVG9vbHM+LFxuKTogcGFydCBpcyBEeW5hbWljVG9vbFVJUGFydCB7XG4gIHJldHVybiBwYXJ0LnR5cGUgPT09ICdkeW5hbWljLXRvb2wnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUb29sT3JEeW5hbWljVG9vbFVJUGFydDxUT09MUyBleHRlbmRzIFVJVG9vbHM+KFxuICBwYXJ0OiBVSU1lc3NhZ2VQYXJ0PFVJRGF0YVR5cGVzLCBUT09MUz4sXG4pOiBwYXJ0IGlzIFRvb2xVSVBhcnQ8VE9PTFM+IHwgRHluYW1pY1Rvb2xVSVBhcnQge1xuICByZXR1cm4gaXNUb29sVUlQYXJ0KHBhcnQpIHx8IGlzRHluYW1pY1Rvb2xVSVBhcnQocGFydCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb29sTmFtZTxUT09MUyBleHRlbmRzIFVJVG9vbHM+KFxuICBwYXJ0OiBUb29sVUlQYXJ0PFRPT0xTPixcbik6IGtleW9mIFRPT0xTIHtcbiAgcmV0dXJuIHBhcnQudHlwZS5zcGxpdCgnLScpLnNsaWNlKDEpLmpvaW4oJy0nKSBhcyBrZXlvZiBUT09MUztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvb2xPckR5bmFtaWNUb29sTmFtZShcbiAgcGFydDogVG9vbFVJUGFydDxVSVRvb2xzPiB8IER5bmFtaWNUb29sVUlQYXJ0LFxuKTogc3RyaW5nIHtcbiAgcmV0dXJuIGlzRHluYW1pY1Rvb2xVSVBhcnQocGFydCkgPyBwYXJ0LnRvb2xOYW1lIDogZ2V0VG9vbE5hbWUocGFydCk7XG59XG5cbmV4cG9ydCB0eXBlIEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VCBleHRlbmRzIFVJTWVzc2FnZT4gPVxuICBUIGV4dGVuZHMgVUlNZXNzYWdlPGluZmVyIE1FVEFEQVRBPiA/IE1FVEFEQVRBIDogdW5rbm93bjtcblxuZXhwb3J0IHR5cGUgSW5mZXJVSU1lc3NhZ2VEYXRhPFQgZXh0ZW5kcyBVSU1lc3NhZ2U+ID1cbiAgVCBleHRlbmRzIFVJTWVzc2FnZTx1bmtub3duLCBpbmZlciBEQVRBX1RZUEVTPiA/IERBVEFfVFlQRVMgOiBVSURhdGFUeXBlcztcblxuZXhwb3J0IHR5cGUgSW5mZXJVSU1lc3NhZ2VUb29sczxUIGV4dGVuZHMgVUlNZXNzYWdlPiA9XG4gIFQgZXh0ZW5kcyBVSU1lc3NhZ2U8dW5rbm93biwgVUlEYXRhVHlwZXMsIGluZmVyIFRPT0xTPiA/IFRPT0xTIDogVUlUb29scztcblxuZXhwb3J0IHR5cGUgSW5mZXJVSU1lc3NhZ2VUb29sT3V0cHV0czxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9XG4gIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT5ba2V5b2YgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPl1bJ291dHB1dCddO1xuXG5leHBvcnQgdHlwZSBJbmZlclVJTWVzc2FnZVRvb2xDYWxsPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID1cbiAgfCBWYWx1ZU9mPHtcbiAgICAgIFtOQU1FIGluIGtleW9mIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT5dOiBUb29sQ2FsbDxcbiAgICAgICAgTkFNRSAmIHN0cmluZyxcbiAgICAgICAgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPltOQU1FXSBleHRlbmRzIHsgaW5wdXQ6IGluZmVyIElOUFVUIH1cbiAgICAgICAgICA/IElOUFVUXG4gICAgICAgICAgOiBuZXZlclxuICAgICAgPiAmIHsgZHluYW1pYz86IGZhbHNlIH07XG4gICAgfT5cbiAgfCAoVG9vbENhbGw8c3RyaW5nLCB1bmtub3duPiAmIHsgZHluYW1pYzogdHJ1ZSB9KTtcbiIsICJpbXBvcnQge1xuICBjcmVhdGVTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZSxcbiAgcHJvY2Vzc1VJTWVzc2FnZVN0cmVhbSxcbiAgU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGUsXG59IGZyb20gJy4uL3VpL3Byb2Nlc3MtdWktbWVzc2FnZS1zdHJlYW0nO1xuaW1wb3J0IHsgVUlNZXNzYWdlIH0gZnJvbSAnLi4vdWkvdWktbWVzc2FnZXMnO1xuaW1wb3J0IHsgRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi4vdXRpbC9lcnJvci1oYW5kbGVyJztcbmltcG9ydCB7IEluZmVyVUlNZXNzYWdlQ2h1bmssIFVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VTdHJlYW1PbkZpbmlzaENhbGxiYWNrIH0gZnJvbSAnLi91aS1tZXNzYWdlLXN0cmVhbS1vbi1maW5pc2gtY2FsbGJhY2snO1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlVUlNZXNzYWdlU3RyZWFtRmluaXNoPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgbWVzc2FnZUlkLFxuICBvcmlnaW5hbE1lc3NhZ2VzID0gW10sXG4gIG9uRmluaXNoLFxuICBvbkVycm9yLFxuICBzdHJlYW0sXG59OiB7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08SW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPj47XG5cbiAgLyoqXG4gICAqIFRoZSBtZXNzYWdlIElEIHRvIHVzZSBmb3IgdGhlIHJlc3BvbnNlIG1lc3NhZ2UuXG4gICAqIElmIG5vdCBwcm92aWRlZCwgbm8gaWQgd2lsbCBiZSBzZXQgZm9yIHRoZSByZXNwb25zZSBtZXNzYWdlLlxuICAgKi9cbiAgbWVzc2FnZUlkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgb3JpZ2luYWwgbWVzc2FnZXMuXG4gICAqL1xuICBvcmlnaW5hbE1lc3NhZ2VzPzogVUlfTUVTU0FHRVtdO1xuXG4gIG9uRXJyb3I6IEVycm9ySGFuZGxlcjtcblxuICBvbkZpbmlzaD86IFVJTWVzc2FnZVN0cmVhbU9uRmluaXNoQ2FsbGJhY2s8VUlfTUVTU0FHRT47XG59KTogUmVhZGFibGVTdHJlYW08SW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPj4ge1xuICAvLyBsYXN0IG1lc3NhZ2UgaXMgb25seSByZWxldmFudCBmb3IgYXNzaXN0YW50IG1lc3NhZ2VzXG4gIGxldCBsYXN0TWVzc2FnZTogVUlfTUVTU0FHRSB8IHVuZGVmaW5lZCA9XG4gICAgb3JpZ2luYWxNZXNzYWdlcz8uW29yaWdpbmFsTWVzc2FnZXMubGVuZ3RoIC0gMV07XG4gIGlmIChsYXN0TWVzc2FnZT8ucm9sZSAhPT0gJ2Fzc2lzdGFudCcpIHtcbiAgICBsYXN0TWVzc2FnZSA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBhcHBlbmRpbmcgdG8gdGhlIGxhc3QgbWVzc2FnZSwgc28gd2UgbmVlZCB0byB1c2UgdGhlIHNhbWUgaWRcbiAgICBtZXNzYWdlSWQgPSBsYXN0TWVzc2FnZS5pZDtcbiAgfVxuXG4gIGxldCBpc0Fib3J0ZWQgPSBmYWxzZTtcblxuICBjb25zdCBpZEluamVjdGVkU3RyZWFtID0gc3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+LFxuICAgICAgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPlxuICAgID4oe1xuICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIC8vIHdoZW4gdGhlcmUgaXMgbm8gbWVzc2FnZUlkIGluIHRoZSBzdGFydCBjaHVuayxcbiAgICAgICAgLy8gYnV0IHRoZSB1c2VyIGNoZWNrZWQgZm9yIHBlcnNpc3RlbmNlLFxuICAgICAgICAvLyBpbmplY3QgdGhlIG1lc3NhZ2VJZCBpbnRvIHRoZSBjaHVua1xuICAgICAgICBpZiAoY2h1bmsudHlwZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAgIGNvbnN0IHN0YXJ0Q2h1bmsgPSBjaHVuayBhcyBVSU1lc3NhZ2VDaHVuayAmIHsgdHlwZTogJ3N0YXJ0JyB9O1xuICAgICAgICAgIGlmIChzdGFydENodW5rLm1lc3NhZ2VJZCA9PSBudWxsICYmIG1lc3NhZ2VJZCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdGFydENodW5rLm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2h1bmsudHlwZSA9PT0gJ2Fib3J0Jykge1xuICAgICAgICAgIGlzQWJvcnRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgfSxcbiAgICB9KSxcbiAgKTtcblxuICBpZiAob25GaW5pc2ggPT0gbnVsbCkge1xuICAgIHJldHVybiBpZEluamVjdGVkU3RyZWFtO1xuICB9XG5cbiAgY29uc3Qgc3RhdGUgPSBjcmVhdGVTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFPih7XG4gICAgbGFzdE1lc3NhZ2U6IGxhc3RNZXNzYWdlXG4gICAgICA/IChzdHJ1Y3R1cmVkQ2xvbmUobGFzdE1lc3NhZ2UpIGFzIFVJX01FU1NBR0UpXG4gICAgICA6IHVuZGVmaW5lZCxcbiAgICBtZXNzYWdlSWQ6IG1lc3NhZ2VJZCA/PyAnJywgLy8gd2lsbCBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdHJlYW1cbiAgfSk7XG5cbiAgY29uc3QgcnVuVXBkYXRlTWVzc2FnZUpvYiA9IGFzeW5jIChcbiAgICBqb2I6IChvcHRpb25zOiB7XG4gICAgICBzdGF0ZTogU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT47XG4gICAgICB3cml0ZTogKCkgPT4gdm9pZDtcbiAgICB9KSA9PiBQcm9taXNlPHZvaWQ+LFxuICApID0+IHtcbiAgICBhd2FpdCBqb2IoeyBzdGF0ZSwgd3JpdGU6ICgpID0+IHt9IH0pO1xuICB9O1xuXG4gIGxldCBmaW5pc2hDYWxsZWQgPSBmYWxzZTtcblxuICBjb25zdCBjYWxsT25GaW5pc2ggPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGZpbmlzaENhbGxlZCB8fCAhb25GaW5pc2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmluaXNoQ2FsbGVkID0gdHJ1ZTtcblxuICAgIGNvbnN0IGlzQ29udGludWF0aW9uID0gc3RhdGUubWVzc2FnZS5pZCA9PT0gbGFzdE1lc3NhZ2U/LmlkO1xuICAgIGF3YWl0IG9uRmluaXNoKHtcbiAgICAgIGlzQWJvcnRlZCxcbiAgICAgIGlzQ29udGludWF0aW9uLFxuICAgICAgcmVzcG9uc2VNZXNzYWdlOiBzdGF0ZS5tZXNzYWdlIGFzIFVJX01FU1NBR0UsXG4gICAgICBtZXNzYWdlczogW1xuICAgICAgICAuLi4oaXNDb250aW51YXRpb24gPyBvcmlnaW5hbE1lc3NhZ2VzLnNsaWNlKDAsIC0xKSA6IG9yaWdpbmFsTWVzc2FnZXMpLFxuICAgICAgICBzdGF0ZS5tZXNzYWdlLFxuICAgICAgXSBhcyBVSV9NRVNTQUdFW10sXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHByb2Nlc3NVSU1lc3NhZ2VTdHJlYW08VUlfTUVTU0FHRT4oe1xuICAgIHN0cmVhbTogaWRJbmplY3RlZFN0cmVhbSxcbiAgICBydW5VcGRhdGVNZXNzYWdlSm9iLFxuICAgIG9uRXJyb3IsXG4gIH0pLnBpcGVUaHJvdWdoKFxuICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+LFxuICAgICAgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPlxuICAgID4oe1xuICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICB9LFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjYW5jZWwgaXMgc3RpbGwgbmV3IGFuZCBtaXNzaW5nIGZyb20gdHlwZXMgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RyYW5zZm9ybVN0cmVhbSNicm93c2VyX2NvbXBhdGliaWxpdHlcbiAgICAgIGFzeW5jIGNhbmNlbCgpIHtcbiAgICAgICAgYXdhaXQgY2FsbE9uRmluaXNoKCk7XG4gICAgICB9LFxuXG4gICAgICBhc3luYyBmbHVzaCgpIHtcbiAgICAgICAgYXdhaXQgY2FsbE9uRmluaXNoKCk7XG4gICAgICB9LFxuICAgIH0pLFxuICApO1xufVxuIiwgImltcG9ydCB7IFNlcnZlclJlc3BvbnNlIH0gZnJvbSAnbm9kZTpodHRwJztcbmltcG9ydCB7IHByZXBhcmVIZWFkZXJzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLWhlYWRlcnMnO1xuaW1wb3J0IHsgd3JpdGVUb1NlcnZlclJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbC93cml0ZS10by1zZXJ2ZXItcmVzcG9uc2UnO1xuaW1wb3J0IHsgSnNvblRvU3NlVHJhbnNmb3JtU3RyZWFtIH0gZnJvbSAnLi9qc29uLXRvLXNzZS10cmFuc2Zvcm0tc3RyZWFtJztcbmltcG9ydCB7IFVJX01FU1NBR0VfU1RSRUFNX0hFQURFUlMgfSBmcm9tICcuL3VpLW1lc3NhZ2Utc3RyZWFtLWhlYWRlcnMnO1xuaW1wb3J0IHsgVUlNZXNzYWdlQ2h1bmsgfSBmcm9tICcuL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IFVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlSW5pdCB9IGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0tcmVzcG9uc2UtaW5pdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwaXBlVUlNZXNzYWdlU3RyZWFtVG9SZXNwb25zZSh7XG4gIHJlc3BvbnNlLFxuICBzdGF0dXMsXG4gIHN0YXR1c1RleHQsXG4gIGhlYWRlcnMsXG4gIHN0cmVhbSxcbiAgY29uc3VtZVNzZVN0cmVhbSxcbn06IHtcbiAgcmVzcG9uc2U6IFNlcnZlclJlc3BvbnNlO1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPjtcbn0gJiBVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZUluaXQpOiB2b2lkIHtcbiAgbGV0IHNzZVN0cmVhbSA9IHN0cmVhbS5waXBlVGhyb3VnaChuZXcgSnNvblRvU3NlVHJhbnNmb3JtU3RyZWFtKCkpO1xuXG4gIC8vIHdoZW4gdGhlIGNvbnN1bWVTc2VTdHJlYW0gaXMgcHJvdmlkZWQsIHdlIG5lZWQgdG8gdGVlIHRoZSBzdHJlYW1cbiAgLy8gYW5kIHNlbmQgdGhlIHNlY29uZCBwYXJ0IHRvIHRoZSBjb25zdW1lU3NlU3RyZWFtIGZ1bmN0aW9uXG4gIC8vIHNvIHRoYXQgaXQgY2FuIGJlIGNvbnN1bWVkIGJ5IHRoZSBjbGllbnQgaW5kZXBlbmRlbnRseVxuICBpZiAoY29uc3VtZVNzZVN0cmVhbSkge1xuICAgIGNvbnN0IFtzdHJlYW0xLCBzdHJlYW0yXSA9IHNzZVN0cmVhbS50ZWUoKTtcbiAgICBzc2VTdHJlYW0gPSBzdHJlYW0xO1xuICAgIGNvbnN1bWVTc2VTdHJlYW0oeyBzdHJlYW06IHN0cmVhbTIgfSk7IC8vIG5vIGF3YWl0IChkbyBub3QgYmxvY2sgdGhlIHJlc3BvbnNlKVxuICB9XG5cbiAgd3JpdGVUb1NlcnZlclJlc3BvbnNlKHtcbiAgICByZXNwb25zZSxcbiAgICBzdGF0dXMsXG4gICAgc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBwcmVwYXJlSGVhZGVycyhoZWFkZXJzLCBVSV9NRVNTQUdFX1NUUkVBTV9IRUFERVJTKS5lbnRyaWVzKCksXG4gICAgKSxcbiAgICBzdHJlYW06IHNzZVN0cmVhbS5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSksXG4gIH0pO1xufVxuIiwgIi8qKlxuICogQSB0eXBlIHRoYXQgY29tYmluZXMgQXN5bmNJdGVyYWJsZSBhbmQgUmVhZGFibGVTdHJlYW0uXG4gKiBUaGlzIGFsbG93cyBhIFJlYWRhYmxlU3RyZWFtIHRvIGJlIGNvbnN1bWVkIHVzaW5nIGZvci1hd2FpdC1vZiBzeW50YXguXG4gKi9cbmV4cG9ydCB0eXBlIEFzeW5jSXRlcmFibGVTdHJlYW08VD4gPSBBc3luY0l0ZXJhYmxlPFQ+ICYgUmVhZGFibGVTdHJlYW08VD47XG5cbi8qKlxuICogV3JhcHMgYSBSZWFkYWJsZVN0cmVhbSBhbmQgcmV0dXJucyBhbiBvYmplY3QgdGhhdCBpcyBib3RoIGEgUmVhZGFibGVTdHJlYW0gYW5kIGFuIEFzeW5jSXRlcmFibGUuXG4gKiBUaGlzIGVuYWJsZXMgY29uc3VtcHRpb24gb2YgdGhlIHN0cmVhbSB1c2luZyBmb3ItYXdhaXQtb2YsIHdpdGggcHJvcGVyIHJlc291cmNlIGNsZWFudXAgb24gZWFybHkgZXhpdCBvciBlcnJvci5cbiAqXG4gKiBAdGVtcGxhdGUgVCBUaGUgdHlwZSBvZiB0aGUgc3RyZWFtJ3MgY2h1bmtzLlxuICogQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIFJlYWRhYmxlU3RyZWFtIHRvIHdyYXAuXG4gKiBAcmV0dXJucyBBbiBBc3luY0l0ZXJhYmxlU3RyZWFtIHRoYXQgY2FuIGJlIHVzZWQgYXMgYm90aCBhIFJlYWRhYmxlU3RyZWFtIGFuZCBhbiBBc3luY0l0ZXJhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbTxUPihcbiAgc291cmNlOiBSZWFkYWJsZVN0cmVhbTxUPixcbik6IEFzeW5jSXRlcmFibGVTdHJlYW08VD4ge1xuICAvLyBQaXBlIHRocm91Z2ggYSBUcmFuc2Zvcm1TdHJlYW0gdG8gZW5zdXJlIGEgZnJlc2gsIHVubG9ja2VkIHN0cmVhbS5cbiAgY29uc3Qgc3RyZWFtID0gc291cmNlLnBpcGVUaHJvdWdoKG5ldyBUcmFuc2Zvcm1TdHJlYW08VCwgVD4oKSk7XG5cbiAgLyoqXG4gICAqIEltcGxlbWVudHMgdGhlIGFzeW5jIGl0ZXJhdG9yIHByb3RvY29sIGZvciB0aGUgc3RyZWFtLlxuICAgKiBFbnN1cmVzIHByb3BlciBjbGVhbnVwIChjYW5jZWxsaW5nIGFuZCByZWxlYXNpbmcgdGhlIHJlYWRlcikgb24gY29tcGxldGlvbiwgZWFybHkgZXhpdCwgb3IgZXJyb3IuXG4gICAqL1xuICAoc3RyZWFtIGFzIEFzeW5jSXRlcmFibGVTdHJlYW08VD4pW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uIChcbiAgICB0aGlzOiBSZWFkYWJsZVN0cmVhbTxUPixcbiAgKTogQXN5bmNJdGVyYXRvcjxUPiB7XG4gICAgY29uc3QgcmVhZGVyID0gdGhpcy5nZXRSZWFkZXIoKTtcblxuICAgIGxldCBmaW5pc2hlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIHRoZSByZWFkZXIgYnkgY2FuY2VsbGluZyBhbmQgcmVsZWFzaW5nIHRoZSBsb2NrLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGNsZWFudXAoY2FuY2VsU3RyZWFtOiBib29sZWFuKSB7XG4gICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoY2FuY2VsU3RyZWFtKSB7XG4gICAgICAgICAgYXdhaXQgcmVhZGVyLmNhbmNlbD8uKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBSZWFkcyB0aGUgbmV4dCBjaHVuayBmcm9tIHRoZSBzdHJlYW0uXG4gICAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBuZXh0IEl0ZXJhdG9yUmVzdWx0LlxuICAgICAgICovXG4gICAgICBhc3luYyBuZXh0KCk6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8VD4+IHtcbiAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcblxuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIGF3YWl0IGNsZWFudXAodHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGxlZCBvbiBlYXJseSBleGl0IChlLmcuLCBicmVhayBmcm9tIGZvci1hd2FpdCkuXG4gICAgICAgKiBFbnN1cmVzIHRoZSBzdHJlYW0gaXMgY2FuY2VsbGVkIGFuZCByZXNvdXJjZXMgYXJlIHJlbGVhc2VkLlxuICAgICAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byBhIGNvbXBsZXRlZCBJdGVyYXRvclJlc3VsdC5cbiAgICAgICAqL1xuICAgICAgYXN5bmMgcmV0dXJuKCk6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8VD4+IHtcbiAgICAgICAgYXdhaXQgY2xlYW51cCh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxsZWQgb24gZWFybHkgZXhpdCB3aXRoIGVycm9yLlxuICAgICAgICogRW5zdXJlcyB0aGUgc3RyZWFtIGlzIGNhbmNlbGxlZCBhbmQgcmVzb3VyY2VzIGFyZSByZWxlYXNlZCwgdGhlbiByZXRocm93cyB0aGUgZXJyb3IuXG4gICAgICAgKiBAcGFyYW0gZXJyIFRoZSBlcnJvciB0byB0aHJvdy5cbiAgICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2l0aCB0aGUgcHJvdmlkZWQgZXJyb3IuXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIHRocm93KGVycjogdW5rbm93bik6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8VD4+IHtcbiAgICAgICAgYXdhaXQgY2xlYW51cCh0cnVlKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfSxcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBzdHJlYW0gYXMgQXN5bmNJdGVyYWJsZVN0cmVhbTxUPjtcbn1cbiIsICIvKipcbiAqIENvbnN1bWVzIGEgUmVhZGFibGVTdHJlYW0gdW50aWwgaXQncyBmdWxseSByZWFkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmVhZHMgdGhlIHN0cmVhbSBjaHVuayBieSBjaHVuayB1bnRpbCB0aGUgc3RyZWFtIGlzIGV4aGF1c3RlZC5cbiAqIEl0IGRvZXNuJ3QgcHJvY2VzcyBvciByZXR1cm4gdGhlIGRhdGEgZnJvbSB0aGUgc3RyZWFtOyBpdCBzaW1wbHkgZW5zdXJlc1xuICogdGhhdCB0aGUgZW50aXJlIHN0cmVhbSBpcyByZWFkLlxuICpcbiAqIEBwYXJhbSB7UmVhZGFibGVTdHJlYW19IHN0cmVhbSAtIFRoZSBSZWFkYWJsZVN0cmVhbSB0byBiZSBjb25zdW1lZC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBzdHJlYW0gaXMgZnVsbHkgY29uc3VtZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25zdW1lU3RyZWFtKHtcbiAgc3RyZWFtLFxuICBvbkVycm9yLFxufToge1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtO1xuICBvbkVycm9yPzogKGVycm9yOiB1bmtub3duKSA9PiB2b2lkO1xufSk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIHRyeSB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHsgZG9uZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgIGlmIChkb25lKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgb25FcnJvcj8uKGVycm9yKTtcbiAgfSBmaW5hbGx5IHtcbiAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gJy4vZXJyb3ItaGFuZGxlcic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIFByb21pc2Ugd2l0aCBleHRlcm5hbGx5IGFjY2Vzc2libGUgcmVzb2x2ZSBhbmQgcmVqZWN0IGZ1bmN0aW9ucy5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSB2YWx1ZSB0aGF0IHRoZSBQcm9taXNlIHdpbGwgcmVzb2x2ZSB0by5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nOlxuICogICAtIHByb21pc2U6IEEgUHJvbWlzZSB0aGF0IGNhbiBiZSByZXNvbHZlZCBvciByZWplY3RlZCBleHRlcm5hbGx5LlxuICogICAtIHJlc29sdmU6IEEgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgUHJvbWlzZSB3aXRoIGEgdmFsdWUgb2YgdHlwZSBULlxuICogICAtIHJlamVjdDogQSBmdW5jdGlvbiB0byByZWplY3QgdGhlIFByb21pc2Ugd2l0aCBhbiBlcnJvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlc29sdmFibGVQcm9taXNlPFQgPSBhbnk+KCk6IHtcbiAgcHJvbWlzZTogUHJvbWlzZTxUPjtcbiAgcmVzb2x2ZTogKHZhbHVlOiBUKSA9PiB2b2lkO1xuICByZWplY3Q6IEVycm9ySGFuZGxlcjtcbn0ge1xuICBsZXQgcmVzb2x2ZTogKHZhbHVlOiBUKSA9PiB2b2lkO1xuICBsZXQgcmVqZWN0OiBFcnJvckhhbmRsZXI7XG5cbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChyZXMsIHJlaikgPT4ge1xuICAgIHJlc29sdmUgPSByZXM7XG4gICAgcmVqZWN0ID0gcmVqO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHByb21pc2UsXG4gICAgcmVzb2x2ZTogcmVzb2x2ZSEsXG4gICAgcmVqZWN0OiByZWplY3QhLFxuICB9O1xufVxuIiwgImltcG9ydCB7IGNyZWF0ZVJlc29sdmFibGVQcm9taXNlIH0gZnJvbSAnLi9jcmVhdGUtcmVzb2x2YWJsZS1wcm9taXNlJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RpdGNoYWJsZSBzdHJlYW0gdGhhdCBjYW4gcGlwZSBvbmUgc3RyZWFtIGF0IGEgdGltZS5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzdHJlYW1zLlxuICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0aXRjaGFibGUgc3RyZWFtIGFuZCBjb250cm9sIG1ldGhvZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdGl0Y2hhYmxlU3RyZWFtPFQ+KCk6IHtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxUPjtcbiAgYWRkU3RyZWFtOiAoaW5uZXJTdHJlYW06IFJlYWRhYmxlU3RyZWFtPFQ+KSA9PiB2b2lkO1xuICBjbG9zZTogKCkgPT4gdm9pZDtcbiAgdGVybWluYXRlOiAoKSA9PiB2b2lkO1xufSB7XG4gIGxldCBpbm5lclN0cmVhbVJlYWRlcnM6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxUPltdID0gW107XG4gIGxldCBjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFQ+IHwgbnVsbCA9IG51bGw7XG4gIGxldCBpc0Nsb3NlZCA9IGZhbHNlO1xuICBsZXQgd2FpdEZvck5ld1N0cmVhbSA9IGNyZWF0ZVJlc29sdmFibGVQcm9taXNlPHZvaWQ+KCk7XG5cbiAgY29uc3QgdGVybWluYXRlID0gKCkgPT4ge1xuICAgIGlzQ2xvc2VkID0gdHJ1ZTtcbiAgICB3YWl0Rm9yTmV3U3RyZWFtLnJlc29sdmUoKTtcblxuICAgIGlubmVyU3RyZWFtUmVhZGVycy5mb3JFYWNoKHJlYWRlciA9PiByZWFkZXIuY2FuY2VsKCkpO1xuICAgIGlubmVyU3RyZWFtUmVhZGVycyA9IFtdO1xuICAgIGNvbnRyb2xsZXI/LmNsb3NlKCk7XG4gIH07XG5cbiAgY29uc3QgcHJvY2Vzc1B1bGwgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gQ2FzZSAxOiBPdXRlciBzdHJlYW0gaXMgY2xvc2VkIGFuZCBubyBtb3JlIGlubmVyIHN0cmVhbXNcbiAgICBpZiAoaXNDbG9zZWQgJiYgaW5uZXJTdHJlYW1SZWFkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udHJvbGxlcj8uY2xvc2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYXNlIDI6IE5vIGlubmVyIHN0cmVhbXMgYXZhaWxhYmxlLCBidXQgb3V0ZXIgc3RyZWFtIGlzIG9wZW5cbiAgICAvLyB3YWl0IGZvciBhIG5ldyBpbm5lciBzdHJlYW0gdG8gYmUgYWRkZWQgb3IgdGhlIG91dGVyIHN0cmVhbSB0byBjbG9zZVxuICAgIGlmIChpbm5lclN0cmVhbVJlYWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB3YWl0Rm9yTmV3U3RyZWFtID0gY3JlYXRlUmVzb2x2YWJsZVByb21pc2U8dm9pZD4oKTtcbiAgICAgIGF3YWl0IHdhaXRGb3JOZXdTdHJlYW0ucHJvbWlzZTtcbiAgICAgIHJldHVybiBwcm9jZXNzUHVsbCgpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBpbm5lclN0cmVhbVJlYWRlcnNbMF0ucmVhZCgpO1xuXG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICAvLyBDYXNlIDM6IEN1cnJlbnQgaW5uZXIgc3RyZWFtIGlzIGRvbmVcbiAgICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzLnNoaWZ0KCk7IC8vIFJlbW92ZSB0aGUgZmluaXNoZWQgc3RyZWFtXG5cbiAgICAgICAgLy8gQ29udGludWUgcHVsbGluZyBmcm9tIHRoZSBuZXh0IHN0cmVhbSBpZiBhdmFpbGFibGVcbiAgICAgICAgaWYgKGlubmVyU3RyZWFtUmVhZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgYXdhaXQgcHJvY2Vzc1B1bGwoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Nsb3NlZCkge1xuICAgICAgICAgIGNvbnRyb2xsZXI/LmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENhc2UgNDogQ3VycmVudCBpbm5lciBzdHJlYW0gcmV0dXJucyBhbiBpdGVtXG4gICAgICAgIGNvbnRyb2xsZXI/LmVucXVldWUodmFsdWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBDYXNlIDU6IEN1cnJlbnQgaW5uZXIgc3RyZWFtIHRocm93cyBhbiBlcnJvclxuICAgICAgY29udHJvbGxlcj8uZXJyb3IoZXJyb3IpO1xuICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzLnNoaWZ0KCk7IC8vIFJlbW92ZSB0aGUgZXJyb3JlZCBzdHJlYW1cbiAgICAgIHRlcm1pbmF0ZSgpOyAvLyB3ZSBoYXZlIGVycm9yZWQsIHRlcm1pbmF0ZSBhbGwgc3RyZWFtc1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHN0cmVhbTogbmV3IFJlYWRhYmxlU3RyZWFtPFQ+KHtcbiAgICAgIHN0YXJ0KGNvbnRyb2xsZXJQYXJhbSkge1xuICAgICAgICBjb250cm9sbGVyID0gY29udHJvbGxlclBhcmFtO1xuICAgICAgfSxcbiAgICAgIHB1bGw6IHByb2Nlc3NQdWxsLFxuICAgICAgYXN5bmMgY2FuY2VsKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiBpbm5lclN0cmVhbVJlYWRlcnMpIHtcbiAgICAgICAgICBhd2FpdCByZWFkZXIuY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzID0gW107XG4gICAgICAgIGlzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgfSksXG4gICAgYWRkU3RyZWFtOiAoaW5uZXJTdHJlYW06IFJlYWRhYmxlU3RyZWFtPFQ+KSA9PiB7XG4gICAgICBpZiAoaXNDbG9zZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIGlubmVyIHN0cmVhbTogb3V0ZXIgc3RyZWFtIGlzIGNsb3NlZCcpO1xuICAgICAgfVxuXG4gICAgICBpbm5lclN0cmVhbVJlYWRlcnMucHVzaChpbm5lclN0cmVhbS5nZXRSZWFkZXIoKSk7XG4gICAgICB3YWl0Rm9yTmV3U3RyZWFtLnJlc29sdmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR3JhY2VmdWxseSBjbG9zZSB0aGUgb3V0ZXIgc3RyZWFtLiBUaGlzIHdpbGwgbGV0IHRoZSBpbm5lciBzdHJlYW1zXG4gICAgICogZmluaXNoIHByb2Nlc3NpbmcgYW5kIHRoZW4gY2xvc2UgdGhlIG91dGVyIHN0cmVhbS5cbiAgICAgKi9cbiAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgaXNDbG9zZWQgPSB0cnVlO1xuICAgICAgd2FpdEZvck5ld1N0cmVhbS5yZXNvbHZlKCk7XG5cbiAgICAgIGlmIChpbm5lclN0cmVhbVJlYWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRyb2xsZXI/LmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEltbWVkaWF0ZWx5IGNsb3NlIHRoZSBvdXRlciBzdHJlYW0uIFRoaXMgd2lsbCBjYW5jZWwgYWxsIGlubmVyIHN0cmVhbXNcbiAgICAgKiBhbmQgY2xvc2UgdGhlIG91dGVyIHN0cmVhbS5cbiAgICAgKi9cbiAgICB0ZXJtaW5hdGUsXG4gIH07XG59XG4iLCAiLyoqXG4gKiBEZWxheWVkIHByb21pc2UuIEl0IGlzIG9ubHkgY29uc3RydWN0ZWQgb25jZSB0aGUgdmFsdWUgaXMgYWNjZXNzZWQuXG4gKiBUaGlzIGlzIHVzZWZ1bCB0byBhdm9pZCB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25zIHdoZW4gdGhlIHByb21pc2UgaXMgY3JlYXRlZFxuICogYnV0IG5vdCBhY2Nlc3NlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERlbGF5ZWRQcm9taXNlPFQ+IHtcbiAgcHJpdmF0ZSBzdGF0dXM6XG4gICAgfCB7IHR5cGU6ICdwZW5kaW5nJyB9XG4gICAgfCB7IHR5cGU6ICdyZXNvbHZlZCc7IHZhbHVlOiBUIH1cbiAgICB8IHsgdHlwZTogJ3JlamVjdGVkJzsgZXJyb3I6IHVua25vd24gfSA9IHsgdHlwZTogJ3BlbmRpbmcnIH07XG4gIHByaXZhdGUgX3Byb21pc2U6IFByb21pc2U8VD4gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgX3Jlc29sdmU6IHVuZGVmaW5lZCB8ICgodmFsdWU6IFQpID0+IHZvaWQpID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIF9yZWplY3Q6IHVuZGVmaW5lZCB8ICgoZXJyb3I6IHVua25vd24pID0+IHZvaWQpID0gdW5kZWZpbmVkO1xuXG4gIGdldCBwcm9taXNlKCk6IFByb21pc2U8VD4ge1xuICAgIGlmICh0aGlzLl9wcm9taXNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbiAgICB9XG5cbiAgICB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc3RhdHVzLnR5cGUgPT09ICdyZXNvbHZlZCcpIHtcbiAgICAgICAgcmVzb2x2ZSh0aGlzLnN0YXR1cy52YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzLnR5cGUgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzLmVycm9yKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICB0aGlzLl9yZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbiAgfVxuXG4gIHJlc29sdmUodmFsdWU6IFQpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXR1cyA9IHsgdHlwZTogJ3Jlc29sdmVkJywgdmFsdWUgfTtcblxuICAgIGlmICh0aGlzLl9wcm9taXNlKSB7XG4gICAgICB0aGlzLl9yZXNvbHZlPy4odmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJlamVjdChlcnJvcjogdW5rbm93bik6IHZvaWQge1xuICAgIHRoaXMuc3RhdHVzID0geyB0eXBlOiAncmVqZWN0ZWQnLCBlcnJvciB9O1xuXG4gICAgaWYgKHRoaXMuX3Byb21pc2UpIHtcbiAgICAgIHRoaXMuX3JlamVjdD8uKGVycm9yKTtcbiAgICB9XG4gIH1cbn1cbiIsICIvLyBTaGltIGZvciBwZXJmb3JtYW5jZS5ub3coKSB0byBzdXBwb3J0IGVudmlyb25tZW50cyB0aGF0IGRvbid0IGhhdmUgaXQ6XG5leHBvcnQgZnVuY3Rpb24gbm93KCk6IG51bWJlciB7XG4gIHJldHVybiBnbG9iYWxUaGlzPy5wZXJmb3JtYW5jZT8ubm93KCkgPz8gRGF0ZS5ub3coKTtcbn1cbiIsICJpbXBvcnQge1xuICBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZyxcbiAgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBleGVjdXRlVG9vbCxcbiAgZ2VuZXJhdGVJZCxcbiAgZ2V0RXJyb3JNZXNzYWdlLFxuICBNb2RlbE1lc3NhZ2UsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnQG9wZW50ZWxlbWV0cnkvYXBpJztcbmltcG9ydCB7IGFzc2VtYmxlT3BlcmF0aW9uTmFtZSB9IGZyb20gJy4uL3RlbGVtZXRyeS9hc3NlbWJsZS1vcGVyYXRpb24tbmFtZSc7XG5pbXBvcnQgeyByZWNvcmRFcnJvck9uU3BhbiwgcmVjb3JkU3BhbiB9IGZyb20gJy4uL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbic7XG5pbXBvcnQgeyBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4uL3RlbGVtZXRyeS90ZWxlbWV0cnktc2V0dGluZ3MnO1xuaW1wb3J0IHsgRmluaXNoUmVhc29uLCBMYW5ndWFnZU1vZGVsVXNhZ2UsIFByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBTb3VyY2UgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBEZWZhdWx0R2VuZXJhdGVkRmlsZVdpdGhUeXBlLCBHZW5lcmF0ZWRGaWxlIH0gZnJvbSAnLi9nZW5lcmF0ZWQtZmlsZSc7XG5pbXBvcnQgeyBwYXJzZVRvb2xDYWxsIH0gZnJvbSAnLi9wYXJzZS10b29sLWNhbGwnO1xuaW1wb3J0IHsgVHlwZWRUb29sQ2FsbCB9IGZyb20gJy4vdG9vbC1jYWxsJztcbmltcG9ydCB7IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb24gfSBmcm9tICcuL3Rvb2wtY2FsbC1yZXBhaXItZnVuY3Rpb24nO1xuaW1wb3J0IHsgVHlwZWRUb29sRXJyb3IgfSBmcm9tICcuL3Rvb2wtZXJyb3InO1xuaW1wb3J0IHsgVHlwZWRUb29sUmVzdWx0IH0gZnJvbSAnLi90b29sLXJlc3VsdCc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi90b29sLXNldCc7XG5cbmV4cG9ydCB0eXBlIFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID1cbiAgLy8gVGV4dCBibG9ja3M6XG4gIHwge1xuICAgICAgdHlwZTogJ3RleHQtc3RhcnQnO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICBpZDogc3RyaW5nO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndGV4dC1kZWx0YSc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICBkZWx0YTogc3RyaW5nO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndGV4dC1lbmQnO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICBpZDogc3RyaW5nO1xuICAgIH1cblxuICAvLyBSZWFzb25pbmcgYmxvY2tzOlxuICB8IHtcbiAgICAgIHR5cGU6ICdyZWFzb25pbmctc3RhcnQnO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICBpZDogc3RyaW5nO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAncmVhc29uaW5nLWRlbHRhJztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIGRlbHRhOiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdyZWFzb25pbmctZW5kJztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG5cbiAgLy8gVG9vbCBjYWxsczpcbiAgfCB7XG4gICAgICB0eXBlOiAndG9vbC1pbnB1dC1zdGFydCc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgdG9vbE5hbWU6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndG9vbC1pbnB1dC1kZWx0YSc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgZGVsdGE6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndG9vbC1pbnB1dC1lbmQnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCAoeyB0eXBlOiAnc291cmNlJyB9ICYgU291cmNlKVxuICB8IHsgdHlwZTogJ2ZpbGUnOyBmaWxlOiBHZW5lcmF0ZWRGaWxlIH0gLy8gZGlmZmVyZW50IGJlY2F1c2Ugb2YgR2VuZXJhdGVkRmlsZSBvYmplY3RcbiAgfCAoeyB0eXBlOiAndG9vbC1jYWxsJyB9ICYgVHlwZWRUb29sQ2FsbDxUT09MUz4pXG4gIHwgKHsgdHlwZTogJ3Rvb2wtcmVzdWx0JyB9ICYgVHlwZWRUb29sUmVzdWx0PFRPT0xTPilcbiAgfCAoeyB0eXBlOiAndG9vbC1lcnJvcicgfSAmIFR5cGVkVG9vbEVycm9yPFRPT0xTPilcbiAgfCB7IHR5cGU6ICdmaWxlJzsgZmlsZTogR2VuZXJhdGVkRmlsZSB9IC8vIGRpZmZlcmVudCBiZWNhdXNlIG9mIEdlbmVyYXRlZEZpbGUgb2JqZWN0XG4gIHwgeyB0eXBlOiAnc3RyZWFtLXN0YXJ0Jzsgd2FybmluZ3M6IExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nW10gfVxuICB8IHtcbiAgICAgIHR5cGU6ICdyZXNwb25zZS1tZXRhZGF0YSc7XG4gICAgICBpZD86IHN0cmluZztcbiAgICAgIHRpbWVzdGFtcD86IERhdGU7XG4gICAgICBtb2RlbElkPzogc3RyaW5nO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnZmluaXNoJztcbiAgICAgIGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uO1xuICAgICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7IHR5cGU6ICdlcnJvcic7IGVycm9yOiB1bmtub3duIH1cbiAgfCB7IHR5cGU6ICdyYXcnOyByYXdWYWx1ZTogdW5rbm93biB9O1xuXG5leHBvcnQgZnVuY3Rpb24gcnVuVG9vbHNUcmFuc2Zvcm1hdGlvbjxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgdG9vbHMsXG4gIGdlbmVyYXRvclN0cmVhbSxcbiAgdHJhY2VyLFxuICB0ZWxlbWV0cnksXG4gIHN5c3RlbSxcbiAgbWVzc2FnZXMsXG4gIGFib3J0U2lnbmFsLFxuICByZXBhaXJUb29sQ2FsbCxcbiAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG59OiB7XG4gIHRvb2xzOiBUT09MUyB8IHVuZGVmaW5lZDtcbiAgZ2VuZXJhdG9yU3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0PjtcbiAgdHJhY2VyOiBUcmFjZXI7XG4gIHRlbGVtZXRyeTogVGVsZW1ldHJ5U2V0dGluZ3MgfCB1bmRlZmluZWQ7XG4gIHN5c3RlbTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBtZXNzYWdlczogTW9kZWxNZXNzYWdlW107XG4gIGFib3J0U2lnbmFsOiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZDtcbiAgcmVwYWlyVG9vbENhbGw6IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb248VE9PTFM+IHwgdW5kZWZpbmVkO1xuICBleHBlcmltZW50YWxfY29udGV4dDogdW5rbm93bjtcbn0pOiBSZWFkYWJsZVN0cmVhbTxTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFM+PiB7XG4gIC8vIHRvb2wgcmVzdWx0cyBzdHJlYW1cbiAgbGV0IHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxcbiAgICBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFM+XG4gID4gfCBudWxsID0gbnVsbDtcbiAgY29uc3QgdG9vbFJlc3VsdHNTdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW08XG4gICAgU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTPlxuICA+KHtcbiAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8vIGtlZXAgdHJhY2sgb2Ygb3V0c3RhbmRpbmcgdG9vbCByZXN1bHRzIGZvciBzdHJlYW0gY2xvc2luZzpcbiAgY29uc3Qgb3V0c3RhbmRpbmdUb29sUmVzdWx0cyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gIC8vIGtlZXAgdHJhY2sgb2YgdG9vbCBpbnB1dHMgZm9yIHByb3ZpZGVyLXNpZGUgdG9vbCByZXN1bHRzXG4gIGNvbnN0IHRvb2xJbnB1dHMgPSBuZXcgTWFwPHN0cmluZywgdW5rbm93bj4oKTtcblxuICBsZXQgY2FuQ2xvc2UgPSBmYWxzZTtcbiAgbGV0IGZpbmlzaENodW5rOlxuICAgIHwgKFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUz4gJiB7IHR5cGU6ICdmaW5pc2gnIH0pXG4gICAgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgZnVuY3Rpb24gYXR0ZW1wdENsb3NlKCkge1xuICAgIC8vIGNsb3NlIHRoZSB0b29sIHJlc3VsdHMgY29udHJvbGxlciBpZiBubyBtb3JlIG91dHN0YW5kaW5nIHRvb2wgY2FsbHNcbiAgICBpZiAoY2FuQ2xvc2UgJiYgb3V0c3RhbmRpbmdUb29sUmVzdWx0cy5zaXplID09PSAwKSB7XG4gICAgICAvLyB3ZSBkZWxheSBzZW5kaW5nIHRoZSBmaW5pc2ggY2h1bmsgdW50aWwgYWxsIHRvb2wgcmVzdWx0cyAoaW5jbC4gZGVsYXllZCBvbmVzKVxuICAgICAgLy8gYXJlIHJlY2VpdmVkIHRvIGVuc3VyZSB0aGF0IHRoZSBmcm9udGVuZCByZWNlaXZlcyB0b29sIHJlc3VsdHMgYmVmb3JlIGEgbWVzc2FnZVxuICAgICAgLy8gZmluaXNoIGV2ZW50IGFycml2ZXMuXG4gICAgICBpZiAoZmluaXNoQ2h1bmsgIT0gbnVsbCkge1xuICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIhLmVucXVldWUoZmluaXNoQ2h1bmspO1xuICAgICAgfVxuXG4gICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIhLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gZm9yd2FyZCBzdHJlYW1cbiAgY29uc3QgZm9yd2FyZFN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCxcbiAgICBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFM+XG4gID4oe1xuICAgIGFzeW5jIHRyYW5zZm9ybShcbiAgICAgIGNodW5rOiBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0LFxuICAgICAgY29udHJvbGxlcjogVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8XG4gICAgICAgIFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUz5cbiAgICAgID4sXG4gICAgKSB7XG4gICAgICBjb25zdCBjaHVua1R5cGUgPSBjaHVuay50eXBlO1xuXG4gICAgICBzd2l0Y2ggKGNodW5rVHlwZSkge1xuICAgICAgICAvLyBmb3J3YXJkOlxuICAgICAgICBjYXNlICdzdHJlYW0tc3RhcnQnOlxuICAgICAgICBjYXNlICd0ZXh0LXN0YXJ0JzpcbiAgICAgICAgY2FzZSAndGV4dC1kZWx0YSc6XG4gICAgICAgIGNhc2UgJ3RleHQtZW5kJzpcbiAgICAgICAgY2FzZSAncmVhc29uaW5nLXN0YXJ0JzpcbiAgICAgICAgY2FzZSAncmVhc29uaW5nLWRlbHRhJzpcbiAgICAgICAgY2FzZSAncmVhc29uaW5nLWVuZCc6XG4gICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtc3RhcnQnOlxuICAgICAgICBjYXNlICd0b29sLWlucHV0LWRlbHRhJzpcbiAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1lbmQnOlxuICAgICAgICBjYXNlICdzb3VyY2UnOlxuICAgICAgICBjYXNlICdyZXNwb25zZS1tZXRhZGF0YSc6XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgY2FzZSAncmF3Jzoge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdmaWxlJzoge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICBmaWxlOiBuZXcgRGVmYXVsdEdlbmVyYXRlZEZpbGVXaXRoVHlwZSh7XG4gICAgICAgICAgICAgIGRhdGE6IGNodW5rLmRhdGEsXG4gICAgICAgICAgICAgIG1lZGlhVHlwZTogY2h1bmsubWVkaWFUeXBlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdmaW5pc2gnOiB7XG4gICAgICAgICAgZmluaXNoQ2h1bmsgPSB7XG4gICAgICAgICAgICB0eXBlOiAnZmluaXNoJyxcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogY2h1bmsuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgdXNhZ2U6IGNodW5rLnVzYWdlLFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHJvY2VzcyB0b29sIGNhbGw6XG4gICAgICAgIGNhc2UgJ3Rvb2wtY2FsbCc6IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdG9vbENhbGwgPSBhd2FpdCBwYXJzZVRvb2xDYWxsKHtcbiAgICAgICAgICAgICAgdG9vbENhbGw6IGNodW5rLFxuICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgICAgcmVwYWlyVG9vbENhbGwsXG4gICAgICAgICAgICAgIHN5c3RlbSxcbiAgICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHRvb2xDYWxsKTtcblxuICAgICAgICAgICAgLy8gaGFuZGxlIGludmFsaWQgdG9vbCBjYWxsczpcbiAgICAgICAgICAgIGlmICh0b29sQ2FsbC5pbnZhbGlkKSB7XG4gICAgICAgICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlciEuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtZXJyb3InLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIGlucHV0OiB0b29sQ2FsbC5pbnB1dCxcbiAgICAgICAgICAgICAgICBlcnJvcjogZ2V0RXJyb3JNZXNzYWdlKHRvb2xDYWxsLmVycm9yISksXG4gICAgICAgICAgICAgICAgZHluYW1pYzogdHJ1ZSxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRvb2wgPSB0b29scyFbdG9vbENhbGwudG9vbE5hbWVdO1xuXG4gICAgICAgICAgICB0b29sSW5wdXRzLnNldCh0b29sQ2FsbC50b29sQ2FsbElkLCB0b29sQ2FsbC5pbnB1dCk7XG5cbiAgICAgICAgICAgIGlmICh0b29sLm9uSW5wdXRBdmFpbGFibGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBhd2FpdCB0b29sLm9uSW5wdXRBdmFpbGFibGUoe1xuICAgICAgICAgICAgICAgIGlucHV0OiB0b29sQ2FsbC5pbnB1dCxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gT25seSBleGVjdXRlIHRvb2xzIHRoYXQgYXJlIG5vdCBwcm92aWRlci1leGVjdXRlZDpcbiAgICAgICAgICAgIGlmICh0b29sLmV4ZWN1dGUgIT0gbnVsbCAmJiB0b29sQ2FsbC5wcm92aWRlckV4ZWN1dGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRvb2xFeGVjdXRpb25JZCA9IGdlbmVyYXRlSWQoKTsgLy8gdXNlIG91ciBvd24gaWQgdG8gZ3VhcmFudGVlIHVuaXF1ZW5lc3NcbiAgICAgICAgICAgICAgb3V0c3RhbmRpbmdUb29sUmVzdWx0cy5hZGQodG9vbEV4ZWN1dGlvbklkKTtcblxuICAgICAgICAgICAgICAvLyBOb3RlOiB3ZSBkb24ndCBhd2FpdCB0aGUgdG9vbCBleGVjdXRpb24gaGVyZSAoYnkgbGVhdmluZyBvdXQgJ2F3YWl0JyBvbiByZWNvcmRTcGFuKSxcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSB3YW50IHRvIHByb2Nlc3MgdGhlIG5leHQgY2h1bmsgYXMgc29vbiBhcyBwb3NzaWJsZS5cbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBpbXBvcnRhbnQgZm9yIHRoZSBjYXNlIHdoZXJlIHRoZSB0b29sIGV4ZWN1dGlvbiB0YWtlcyBhIGxvbmcgdGltZS5cbiAgICAgICAgICAgICAgcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2FpLnRvb2xDYWxsJyxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLnRvb2xDYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAnYWkudG9vbENhbGwubmFtZSc6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgICAnYWkudG9vbENhbGwuaWQnOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICAnYWkudG9vbENhbGwuYXJncyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHRvb2xDYWxsLmlucHV0KSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgICAgIGZuOiBhc3luYyBzcGFuID0+IHtcbiAgICAgICAgICAgICAgICAgIGxldCBvdXRwdXQ6IHVua25vd247XG5cbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGV4ZWN1dGVUb29sKHtcbiAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlOiB0b29sLmV4ZWN1dGUhLmJpbmQodG9vbCksXG4gICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHRvb2xDYWxsLmlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBwYXJ0IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlciEuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50b29sQ2FsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHBhcnQub3V0cHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uKHBhcnQudHlwZSA9PT0gJ3ByZWxpbWluYXJ5JyAmJiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByZWxpbWluYXJ5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC50eXBlID09PSAnZmluYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBwYXJ0Lm91dHB1dDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZEVycm9yT25TcGFuKHNwYW4sIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyIS5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi50b29sQ2FsbCxcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1lcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIH0gc2F0aXNmaWVzIFR5cGVkVG9vbEVycm9yPFRPT0xTPik7XG5cbiAgICAgICAgICAgICAgICAgICAgb3V0c3RhbmRpbmdUb29sUmVzdWx0cy5kZWxldGUodG9vbEV4ZWN1dGlvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW1wdENsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgb3V0c3RhbmRpbmdUb29sUmVzdWx0cy5kZWxldGUodG9vbEV4ZWN1dGlvbklkKTtcbiAgICAgICAgICAgICAgICAgIGF0dGVtcHRDbG9zZSgpO1xuXG4gICAgICAgICAgICAgICAgICAvLyByZWNvcmQgdGVsZW1ldHJ5XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS50b29sQ2FsbC5yZXN1bHQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvdXRwdXQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSlNPTiBzdHJpbmdpZnkgbWlnaHQgZmFpbCBpZiB0aGUgcmVzdWx0IGlzIG5vdCBzZXJpYWxpemFibGUsXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHdoaWNoIGNhc2Ugd2UganVzdCBpZ25vcmUgaXQuIEluIHRoZSBmdXR1cmUgd2UgbWlnaHQgd2FudCB0b1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYW4gb3B0aW9uYWwgc2VyaWFsaXplIG1ldGhvZCB0byB0aGUgdG9vbCBpbnRlcmZhY2UgYW5kIHdhcm5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHJlc3VsdCBpcyBub3Qgc2VyaWFsaXphYmxlLlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIhLmVucXVldWUoeyB0eXBlOiAnZXJyb3InLCBlcnJvciB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3Rvb2wtcmVzdWx0Jzoge1xuICAgICAgICAgIGNvbnN0IHRvb2xOYW1lID0gY2h1bmsudG9vbE5hbWUgYXMga2V5b2YgVE9PTFMgJiBzdHJpbmc7XG5cbiAgICAgICAgICBpZiAoY2h1bmsuaXNFcnJvcikge1xuICAgICAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyIS5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtZXJyb3InLFxuICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgaW5wdXQ6IHRvb2xJbnB1dHMuZ2V0KGNodW5rLnRvb2xDYWxsSWQpLFxuICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBjaHVuay5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgICBlcnJvcjogY2h1bmsucmVzdWx0LFxuICAgICAgICAgICAgfSBhcyBUeXBlZFRvb2xFcnJvcjxUT09MUz4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgaW5wdXQ6IHRvb2xJbnB1dHMuZ2V0KGNodW5rLnRvb2xDYWxsSWQpLFxuICAgICAgICAgICAgICBvdXRwdXQ6IGNodW5rLnJlc3VsdCxcbiAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogY2h1bmsucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgIH0gYXMgVHlwZWRUb29sUmVzdWx0PFRPT0xTPik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gY2h1bmtUeXBlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5oYW5kbGVkIGNodW5rIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBmbHVzaCgpIHtcbiAgICAgIGNhbkNsb3NlID0gdHJ1ZTtcbiAgICAgIGF0dGVtcHRDbG9zZSgpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8vIGNvbWJpbmUgdGhlIGdlbmVyYXRvciBzdHJlYW0gYW5kIHRoZSB0b29sIHJlc3VsdHMgc3RyZWFtXG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW08U2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTPj4oe1xuICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgIC8vIG5lZWQgdG8gd2FpdCBmb3IgYm90aCBwaXBlcyBzbyB0aGVyZSBhcmUgbm8gZGFuZ2xpbmcgcHJvbWlzZXMgdGhhdFxuICAgICAgLy8gY2FuIGNhdXNlIHVuY2F1Z2h0IHByb21pc2UgcmVqZWN0aW9ucyB3aGVuIHRoZSBzdHJlYW0gaXMgYWJvcnRlZFxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgZ2VuZXJhdG9yU3RyZWFtLnBpcGVUaHJvdWdoKGZvcndhcmRTdHJlYW0pLnBpcGVUbyhcbiAgICAgICAgICBuZXcgV3JpdGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgd3JpdGUoY2h1bmspIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZSgpIHtcbiAgICAgICAgICAgICAgLy8gdGhlIGdlbmVyYXRvciBzdHJlYW0gY29udHJvbGxlciBpcyBhdXRvbWF0aWNhbGx5IGNsb3NlZCB3aGVuIGl0J3MgY29uc3VtZWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtLnBpcGVUbyhcbiAgICAgICAgICBuZXcgV3JpdGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgd3JpdGUoY2h1bmspIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZSgpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgIF0pO1xuICAgIH0sXG4gIH0pO1xufVxuIiwgImltcG9ydCB7XG4gIEFzc2lzdGFudENvbnRlbnQsXG4gIE1vZGVsTWVzc2FnZSxcbiAgVG9vbFJlc3VsdFBhcnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvdG9vbC1zZXQnO1xuaW1wb3J0IHsgY3JlYXRlVG9vbE1vZGVsT3V0cHV0IH0gZnJvbSAnLi4vcHJvbXB0L2NyZWF0ZS10b29sLW1vZGVsLW91dHB1dCc7XG5pbXBvcnQgeyBNZXNzYWdlQ29udmVyc2lvbkVycm9yIH0gZnJvbSAnLi4vcHJvbXB0L21lc3NhZ2UtY29udmVyc2lvbi1lcnJvcic7XG5pbXBvcnQge1xuICBEeW5hbWljVG9vbFVJUGFydCxcbiAgRmlsZVVJUGFydCxcbiAgZ2V0VG9vbE5hbWUsXG4gIGlzVG9vbE9yRHluYW1pY1Rvb2xVSVBhcnQsXG4gIGlzVG9vbFVJUGFydCxcbiAgUmVhc29uaW5nVUlQYXJ0LFxuICBUZXh0VUlQYXJ0LFxuICBUb29sVUlQYXJ0LFxuICBVSU1lc3NhZ2UsXG4gIFVJVG9vbHMsXG59IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuXG4vKipcbkNvbnZlcnRzIGFuIGFycmF5IG9mIG1lc3NhZ2VzIGZyb20gdXNlQ2hhdCBpbnRvIGFuIGFycmF5IG9mIENvcmVNZXNzYWdlcyB0aGF0IGNhbiBiZSB1c2VkXG53aXRoIHRoZSBBSSBjb3JlIGZ1bmN0aW9ucyAoZS5nLiBgc3RyZWFtVGV4dGApLlxuXG5AcGFyYW0gbWVzc2FnZXMgLSBUaGUgbWVzc2FnZXMgdG8gY29udmVydC5cbkBwYXJhbSBvcHRpb25zLnRvb2xzIC0gVGhlIHRvb2xzIHRvIHVzZS5cbkBwYXJhbSBvcHRpb25zLmlnbm9yZUluY29tcGxldGVUb29sQ2FsbHMgLSBXaGV0aGVyIHRvIGlnbm9yZSBpbmNvbXBsZXRlIHRvb2wgY2FsbHMuIERlZmF1bHQgaXMgYGZhbHNlYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb01vZGVsTWVzc2FnZXMoXG4gIG1lc3NhZ2VzOiBBcnJheTxPbWl0PFVJTWVzc2FnZSwgJ2lkJz4+LFxuICBvcHRpb25zPzoge1xuICAgIHRvb2xzPzogVG9vbFNldDtcbiAgICBpZ25vcmVJbmNvbXBsZXRlVG9vbENhbGxzPzogYm9vbGVhbjtcbiAgfSxcbik6IE1vZGVsTWVzc2FnZVtdIHtcbiAgY29uc3QgbW9kZWxNZXNzYWdlczogTW9kZWxNZXNzYWdlW10gPSBbXTtcblxuICBpZiAob3B0aW9ucz8uaWdub3JlSW5jb21wbGV0ZVRvb2xDYWxscykge1xuICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMubWFwKG1lc3NhZ2UgPT4gKHtcbiAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICBwYXJ0czogbWVzc2FnZS5wYXJ0cy5maWx0ZXIoXG4gICAgICAgIHBhcnQgPT5cbiAgICAgICAgICAhaXNUb29sT3JEeW5hbWljVG9vbFVJUGFydChwYXJ0KSB8fFxuICAgICAgICAgIChwYXJ0LnN0YXRlICE9PSAnaW5wdXQtc3RyZWFtaW5nJyAmJlxuICAgICAgICAgICAgcGFydC5zdGF0ZSAhPT0gJ2lucHV0LWF2YWlsYWJsZScpLFxuICAgICAgKSxcbiAgICB9KSk7XG4gIH1cblxuICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICBzd2l0Y2ggKG1lc3NhZ2Uucm9sZSkge1xuICAgICAgY2FzZSAnc3lzdGVtJzoge1xuICAgICAgICBjb25zdCB0ZXh0UGFydHMgPSBtZXNzYWdlLnBhcnRzLmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ3RleHQnKTtcblxuICAgICAgICBjb25zdCBwcm92aWRlck1ldGFkYXRhID0gdGV4dFBhcnRzLnJlZHVjZSgoYWNjLCBwYXJ0KSA9PiB7XG4gICAgICAgICAgaWYgKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5hY2MsIC4uLnBhcnQucHJvdmlkZXJNZXRhZGF0YSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG5cbiAgICAgICAgbW9kZWxNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICByb2xlOiAnc3lzdGVtJyxcbiAgICAgICAgICBjb250ZW50OiB0ZXh0UGFydHMubWFwKHBhcnQgPT4gcGFydC50ZXh0KS5qb2luKCcnKSxcbiAgICAgICAgICAuLi4oT2JqZWN0LmtleXMocHJvdmlkZXJNZXRhZGF0YSkubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyB7IHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICd1c2VyJzoge1xuICAgICAgICBtb2RlbE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLnBhcnRzXG4gICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAocGFydCk6IHBhcnQgaXMgVGV4dFVJUGFydCB8IEZpbGVVSVBhcnQgPT5cbiAgICAgICAgICAgICAgICBwYXJ0LnR5cGUgPT09ICd0ZXh0JyB8fCBwYXJ0LnR5cGUgPT09ICdmaWxlJyxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5tYXAocGFydCA9PiB7XG4gICAgICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZScgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhVHlwZTogcGFydC5tZWRpYVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBwYXJ0LmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBwYXJ0LnVybCxcbiAgICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2Fzc2lzdGFudCc6IHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucGFydHMgIT0gbnVsbCkge1xuICAgICAgICAgIGxldCBibG9jazogQXJyYXk8XG4gICAgICAgICAgICB8IFRleHRVSVBhcnRcbiAgICAgICAgICAgIHwgVG9vbFVJUGFydDxVSVRvb2xzPlxuICAgICAgICAgICAgfCBSZWFzb25pbmdVSVBhcnRcbiAgICAgICAgICAgIHwgRmlsZVVJUGFydFxuICAgICAgICAgICAgfCBEeW5hbWljVG9vbFVJUGFydFxuICAgICAgICAgID4gPSBbXTtcblxuICAgICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NCbG9jaygpIHtcbiAgICAgICAgICAgIGlmIChibG9jay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50OiBBc3Npc3RhbnRDb250ZW50ID0gW107XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBibG9jaykge1xuICAgICAgICAgICAgICBpZiAocGFydC50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgdGV4dDogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnQudHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgIG1lZGlhVHlwZTogcGFydC5tZWRpYVR5cGUsXG4gICAgICAgICAgICAgICAgICBmaWxlbmFtZTogcGFydC5maWxlbmFtZSxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHBhcnQudXJsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnQudHlwZSA9PT0gJ3JlYXNvbmluZycpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZycgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0LnR5cGUgPT09ICdkeW5hbWljLXRvb2wnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBwYXJ0LnRvb2xOYW1lO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcnQuc3RhdGUgIT09ICdpbnB1dC1zdHJlYW1pbmcnKSB7XG4gICAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1jYWxsJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBhcnQuaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LmNhbGxQcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LmNhbGxQcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1Rvb2xVSVBhcnQocGFydCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IGdldFRvb2xOYW1lKHBhcnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcnQuc3RhdGUgIT09ICdpbnB1dC1zdHJlYW1pbmcnKSB7XG4gICAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1jYWxsJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6XG4gICAgICAgICAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9PT0gJ291dHB1dC1lcnJvcidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKHBhcnQuaW5wdXQgPz8gcGFydC5yYXdJbnB1dClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcGFydC5pbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgICAgICAgICAuLi4ocGFydC5jYWxsUHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyT3B0aW9uczogcGFydC5jYWxsUHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgKHBhcnQuc3RhdGUgPT09ICdvdXRwdXQtYXZhaWxhYmxlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgIHBhcnQuc3RhdGUgPT09ICdvdXRwdXQtZXJyb3InKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBjcmVhdGVUb29sTW9kZWxPdXRwdXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LnN0YXRlID09PSAnb3V0cHV0LWVycm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGFydC5lcnJvclRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHBhcnQub3V0cHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbDogb3B0aW9ucz8udG9vbHM/Llt0b29sTmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1vZGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuc3RhdGUgPT09ICdvdXRwdXQtZXJyb3InID8gJ2pzb24nIDogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSBwYXJ0O1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcGFydDogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vZGVsTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGFyZSB0b29sIGludm9jYXRpb25zIHdpdGggcmVzdWx0cyBpbiB0aGUgYmxvY2tcbiAgICAgICAgICAgIGNvbnN0IHRvb2xQYXJ0cyA9IGJsb2NrLmZpbHRlcihcbiAgICAgICAgICAgICAgcGFydCA9PlxuICAgICAgICAgICAgICAgIChpc1Rvb2xVSVBhcnQocGFydCkgJiYgcGFydC5wcm92aWRlckV4ZWN1dGVkICE9PSB0cnVlKSB8fFxuICAgICAgICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ2R5bmFtaWMtdG9vbCcsXG4gICAgICAgICAgICApIGFzIChUb29sVUlQYXJ0PFVJVG9vbHM+IHwgRHluYW1pY1Rvb2xVSVBhcnQpW107XG5cbiAgICAgICAgICAgIC8vIHRvb2wgbWVzc2FnZSB3aXRoIHRvb2wgcmVzdWx0c1xuICAgICAgICAgICAgaWYgKHRvb2xQYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIG1vZGVsTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgcm9sZTogJ3Rvb2wnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRvb2xQYXJ0c1xuICAgICAgICAgICAgICAgICAgLm1hcCgodG9vbFBhcnQpOiBUb29sUmVzdWx0UGFydCB8IG51bGwgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRvb2xQYXJ0LnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3V0cHV0LWVycm9yJzpcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlICdvdXRwdXQtYXZhaWxhYmxlJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sUGFydC50eXBlID09PSAnZHluYW1pYy10b29sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdG9vbFBhcnQudG9vbE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGdldFRvb2xOYW1lKHRvb2xQYXJ0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbFBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogY3JlYXRlVG9vbE1vZGVsT3V0cHV0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sUGFydC5zdGF0ZSA9PT0gJ291dHB1dC1lcnJvcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0b29sUGFydC5lcnJvclRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0b29sUGFydC5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbDogb3B0aW9ucz8udG9vbHM/Llt0b29sTmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNb2RlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFBhcnQuc3RhdGUgPT09ICdvdXRwdXQtZXJyb3InXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RleHQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgIChvdXRwdXQpOiBvdXRwdXQgaXMgTm9uTnVsbGFibGU8dHlwZW9mIG91dHB1dD4gPT5cbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgIT0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB1cGRhdGVzIGZvciBuZXh0IGJsb2NrXG4gICAgICAgICAgICBibG9jayA9IFtdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBtZXNzYWdlLnBhcnRzKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3RleHQnIHx8XG4gICAgICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3JlYXNvbmluZycgfHxcbiAgICAgICAgICAgICAgcGFydC50eXBlID09PSAnZmlsZScgfHxcbiAgICAgICAgICAgICAgcGFydC50eXBlID09PSAnZHluYW1pYy10b29sJyB8fFxuICAgICAgICAgICAgICBpc1Rvb2xVSVBhcnQocGFydClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBibG9jay5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0LnR5cGUgPT09ICdzdGVwLXN0YXJ0Jykge1xuICAgICAgICAgICAgICBwcm9jZXNzQmxvY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwcm9jZXNzQmxvY2soKTtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSBtZXNzYWdlLnJvbGU7XG4gICAgICAgIHRocm93IG5ldyBNZXNzYWdlQ29udmVyc2lvbkVycm9yKHtcbiAgICAgICAgICBvcmlnaW5hbE1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgbWVzc2FnZTogYFVuc3VwcG9ydGVkIHJvbGU6ICR7X2V4aGF1c3RpdmVDaGVja31gLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbW9kZWxNZXNzYWdlcztcbn1cblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYGNvbnZlcnRUb01vZGVsTWVzc2FnZXNgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgY29uc3QgY29udmVydFRvQ29yZU1lc3NhZ2VzID0gY29udmVydFRvTW9kZWxNZXNzYWdlcztcbiIsICJpbXBvcnQgeyBJZEdlbmVyYXRvciwgUHJvdmlkZXJPcHRpb25zIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQge1xuICBnZW5lcmF0ZVRleHQsXG4gIEdlbmVyYXRlVGV4dE9uU3RlcEZpbmlzaENhbGxiYWNrLFxufSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlLXRleHQnO1xuaW1wb3J0IHsgR2VuZXJhdGVUZXh0UmVzdWx0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9nZW5lcmF0ZS10ZXh0LXJlc3VsdCc7XG5pbXBvcnQgeyBPdXRwdXQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L291dHB1dCc7XG5pbXBvcnQgeyBQcmVwYXJlU3RlcEZ1bmN0aW9uIH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9wcmVwYXJlLXN0ZXAnO1xuaW1wb3J0IHsgU3RvcENvbmRpdGlvbiB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvc3RvcC1jb25kaXRpb24nO1xuaW1wb3J0IHsgc3RyZWFtVGV4dCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvc3RyZWFtLXRleHQnO1xuaW1wb3J0IHsgU3RyZWFtVGV4dFJlc3VsdCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvc3RyZWFtLXRleHQtcmVzdWx0JztcbmltcG9ydCB7IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb24gfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3Rvb2wtY2FsbC1yZXBhaXItZnVuY3Rpb24nO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvdG9vbC1zZXQnO1xuaW1wb3J0IHsgQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L2NhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3Byb21wdCc7XG5pbXBvcnQgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4uL3RlbGVtZXRyeS90ZWxlbWV0cnktc2V0dGluZ3MnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbCwgVG9vbENob2ljZSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IFByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9wcm92aWRlci1tZXRhZGF0YSc7XG5pbXBvcnQgeyBjb252ZXJ0VG9Nb2RlbE1lc3NhZ2VzIH0gZnJvbSAnLi4vdWkvY29udmVydC10by1tb2RlbC1tZXNzYWdlcyc7XG5pbXBvcnQgeyBJbmZlclVJVG9vbHMsIFVJTWVzc2FnZSB9IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcblxuZXhwb3J0IHR5cGUgQWdlbnRTZXR0aW5nczxcbiAgVE9PTFMgZXh0ZW5kcyBUb29sU2V0LFxuICBPVVRQVVQgPSBuZXZlcixcbiAgT1VUUFVUX1BBUlRJQUwgPSBuZXZlcixcbj4gPSBDYWxsU2V0dGluZ3MgJiB7XG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb21wdCB0byB1c2UuXG4gICAqL1xuICBzeXN0ZW0/OiBzdHJpbmc7XG5cbiAgLyoqXG5UaGUgbGFuZ3VhZ2UgbW9kZWwgdG8gdXNlLlxuICAgKi9cbiAgbW9kZWw6IExhbmd1YWdlTW9kZWw7XG5cbiAgLyoqXG5UaGUgdG9vbHMgdGhhdCB0aGUgbW9kZWwgY2FuIGNhbGwuIFRoZSBtb2RlbCBuZWVkcyB0byBzdXBwb3J0IGNhbGxpbmcgdG9vbHMuXG4qL1xuICB0b29scz86IFRPT0xTO1xuXG4gIC8qKlxuVGhlIHRvb2wgY2hvaWNlIHN0cmF0ZWd5LiBEZWZhdWx0OiAnYXV0bycuXG4gICAqL1xuICB0b29sQ2hvaWNlPzogVG9vbENob2ljZTxOb0luZmVyPFRPT0xTPj47XG5cbiAgLyoqXG5Db25kaXRpb24gZm9yIHN0b3BwaW5nIHRoZSBnZW5lcmF0aW9uIHdoZW4gdGhlcmUgYXJlIHRvb2wgcmVzdWx0cyBpbiB0aGUgbGFzdCBzdGVwLlxuV2hlbiB0aGUgY29uZGl0aW9uIGlzIGFuIGFycmF5LCBhbnkgb2YgdGhlIGNvbmRpdGlvbnMgY2FuIGJlIG1ldCB0byBzdG9wIHRoZSBnZW5lcmF0aW9uLlxuXG5AZGVmYXVsdCBzdGVwQ291bnRJcygxKVxuICAgKi9cbiAgc3RvcFdoZW4/OlxuICAgIHwgU3RvcENvbmRpdGlvbjxOb0luZmVyPFRPT0xTPj5cbiAgICB8IEFycmF5PFN0b3BDb25kaXRpb248Tm9JbmZlcjxUT09MUz4+PjtcblxuICAvKipcbk9wdGlvbmFsIHRlbGVtZXRyeSBjb25maWd1cmF0aW9uIChleHBlcmltZW50YWwpLlxuICAgKi9cbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeT86IFRlbGVtZXRyeVNldHRpbmdzO1xuXG4gIC8qKlxuTGltaXRzIHRoZSB0b29scyB0aGF0IGFyZSBhdmFpbGFibGUgZm9yIHRoZSBtb2RlbCB0byBjYWxsIHdpdGhvdXRcbmNoYW5naW5nIHRoZSB0b29sIGNhbGwgYW5kIHJlc3VsdCB0eXBlcyBpbiB0aGUgcmVzdWx0LlxuICAgKi9cbiAgYWN0aXZlVG9vbHM/OiBBcnJheTxrZXlvZiBOb0luZmVyPFRPT0xTPj47XG5cbiAgLyoqXG5PcHRpb25hbCBzcGVjaWZpY2F0aW9uIGZvciBwYXJzaW5nIHN0cnVjdHVyZWQgb3V0cHV0cyBmcm9tIHRoZSBMTE0gcmVzcG9uc2UuXG4gICAqL1xuICBleHBlcmltZW50YWxfb3V0cHV0PzogT3V0cHV0PE9VVFBVVCwgT1VUUFVUX1BBUlRJQUw+O1xuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYHByZXBhcmVTdGVwYCBpbnN0ZWFkLlxuICAgKi9cbiAgZXhwZXJpbWVudGFsX3ByZXBhcmVTdGVwPzogUHJlcGFyZVN0ZXBGdW5jdGlvbjxOb0luZmVyPFRPT0xTPj47XG5cbiAgLyoqXG5PcHRpb25hbCBmdW5jdGlvbiB0aGF0IHlvdSBjYW4gdXNlIHRvIHByb3ZpZGUgZGlmZmVyZW50IHNldHRpbmdzIGZvciBhIHN0ZXAuXG4gICovXG4gIHByZXBhcmVTdGVwPzogUHJlcGFyZVN0ZXBGdW5jdGlvbjxOb0luZmVyPFRPT0xTPj47XG5cbiAgLyoqXG5BIGZ1bmN0aW9uIHRoYXQgYXR0ZW1wdHMgdG8gcmVwYWlyIGEgdG9vbCBjYWxsIHRoYXQgZmFpbGVkIHRvIHBhcnNlLlxuICAgKi9cbiAgZXhwZXJpbWVudGFsX3JlcGFpclRvb2xDYWxsPzogVG9vbENhbGxSZXBhaXJGdW5jdGlvbjxOb0luZmVyPFRPT0xTPj47XG5cbiAgLyoqXG4gIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gZWFjaCBzdGVwIChMTE0gY2FsbCkgaXMgZmluaXNoZWQsIGluY2x1ZGluZyBpbnRlcm1lZGlhdGUgc3RlcHMuXG4gICovXG4gIG9uU3RlcEZpbmlzaD86IEdlbmVyYXRlVGV4dE9uU3RlcEZpbmlzaENhbGxiYWNrPE5vSW5mZXI8VE9PTFM+PjtcblxuICAvKipcbiAgICogQ29udGV4dCB0aGF0IGlzIHBhc3NlZCBpbnRvIHRvb2wgY2FsbHMuXG4gICAqXG4gICAqIEV4cGVyaW1lbnRhbCAoY2FuIGJyZWFrIGluIHBhdGNoIHJlbGVhc2VzKS5cbiAgICpcbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICBleHBlcmltZW50YWxfY29udGV4dD86IHVua25vd247XG5cbiAgLyoqXG4gICAqIEludGVybmFsLiBGb3IgdGVzdCB1c2Ugb25seS4gTWF5IGNoYW5nZSB3aXRob3V0IG5vdGljZS5cbiAgICovXG4gIF9pbnRlcm5hbD86IHtcbiAgICBnZW5lcmF0ZUlkPzogSWRHZW5lcmF0b3I7XG4gICAgY3VycmVudERhdGU/OiAoKSA9PiBEYXRlO1xuICB9O1xufTtcblxuZXhwb3J0IGNsYXNzIEFnZW50PFxuICBUT09MUyBleHRlbmRzIFRvb2xTZXQsXG4gIE9VVFBVVCA9IG5ldmVyLFxuICBPVVRQVVRfUEFSVElBTCA9IG5ldmVyLFxuPiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgc2V0dGluZ3M6IEFnZW50U2V0dGluZ3M8VE9PTFMsIE9VVFBVVCwgT1VUUFVUX1BBUlRJQUw+O1xuXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzOiBBZ2VudFNldHRpbmdzPFRPT0xTLCBPVVRQVVQsIE9VVFBVVF9QQVJUSUFMPikge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgfVxuXG4gIGdldCB0b29scygpOiBUT09MUyB7XG4gICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MudG9vbHMgYXMgVE9PTFM7XG4gIH1cblxuICBhc3luYyBnZW5lcmF0ZShcbiAgICBvcHRpb25zOiBQcm9tcHQgJiB7XG4gICAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG5mcm9tIHRoZSBwcm92aWRlciB0byB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbnJlc3VsdHMgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgICovXG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YS4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICAgICAgICAgKi9cbiAgICAgIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcbiAgICB9LFxuICApOiBQcm9taXNlPEdlbmVyYXRlVGV4dFJlc3VsdDxUT09MUywgT1VUUFVUPj4ge1xuICAgIHJldHVybiBnZW5lcmF0ZVRleHQoeyAuLi50aGlzLnNldHRpbmdzLCAuLi5vcHRpb25zIH0pO1xuICB9XG5cbiAgc3RyZWFtKFxuICAgIG9wdGlvbnM6IFByb21wdCAmIHtcbiAgICAgIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YS4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbmZyb20gdGhlIHByb3ZpZGVyIHRvIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xucmVzdWx0cyB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICAgKi9cbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxudG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5mdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICAgICAgICAqL1xuICAgICAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuICAgIH0sXG4gICk6IFN0cmVhbVRleHRSZXN1bHQ8VE9PTFMsIE9VVFBVVF9QQVJUSUFMPiB7XG4gICAgcmV0dXJuIHN0cmVhbVRleHQoeyAuLi50aGlzLnNldHRpbmdzLCAuLi5vcHRpb25zIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSByZXNwb25zZSBvYmplY3QgdGhhdCBzdHJlYW1zIFVJIG1lc3NhZ2VzIHRvIHRoZSBjbGllbnQuXG4gICAqL1xuICByZXNwb25kKG9wdGlvbnM6IHtcbiAgICBtZXNzYWdlczogVUlNZXNzYWdlPG5ldmVyLCBuZXZlciwgSW5mZXJVSVRvb2xzPFRPT0xTPj5bXTtcbiAgfSk6IFJlc3BvbnNlIHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW0oe1xuICAgICAgcHJvbXB0OiBjb252ZXJ0VG9Nb2RlbE1lc3NhZ2VzKG9wdGlvbnMubWVzc2FnZXMpLFxuICAgIH0pLnRvVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2U8XG4gICAgICBVSU1lc3NhZ2U8bmV2ZXIsIG5ldmVyLCBJbmZlclVJVG9vbHM8VE9PTFM+PlxuICAgID4oKTtcbiAgfVxufVxuXG50eXBlIEluZmVyQWdlbnRUb29sczxBR0VOVD4gPVxuICBBR0VOVCBleHRlbmRzIEFnZW50PGluZmVyIFRPT0xTLCBhbnksIGFueT4gPyBUT09MUyA6IG5ldmVyO1xuXG4vKipcbiAqIEluZmVyIHRoZSBVSSBtZXNzYWdlIHR5cGUgb2YgYW4gYWdlbnQuXG4gKi9cbmV4cG9ydCB0eXBlIEluZmVyQWdlbnRVSU1lc3NhZ2U8QUdFTlQ+ID0gVUlNZXNzYWdlPFxuICBuZXZlcixcbiAgbmV2ZXIsXG4gIEluZmVyVUlUb29sczxJbmZlckFnZW50VG9vbHM8QUdFTlQ+PlxuPjtcbiIsICJpbXBvcnQgeyBQcm92aWRlck9wdGlvbnMsIHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHJlc29sdmVFbWJlZGRpbmdNb2RlbCB9IGZyb20gJy4uL21vZGVsL3Jlc29sdmUtbW9kZWwnO1xuaW1wb3J0IHsgYXNzZW1ibGVPcGVyYXRpb25OYW1lIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lJztcbmltcG9ydCB7IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC1iYXNlLXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IGdldFRyYWNlciB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtdHJhY2VyJztcbmltcG9ydCB7IHJlY29yZFNwYW4gfSBmcm9tICcuLi90ZWxlbWV0cnkvcmVjb3JkLXNwYW4nO1xuaW1wb3J0IHsgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9zZWxlY3QtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7IEVtYmVkZGluZ01vZGVsIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBFbWJlZFJlc3VsdCB9IGZyb20gJy4vZW1iZWQtcmVzdWx0JztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcblxuLyoqXG5FbWJlZCBhIHZhbHVlIHVzaW5nIGFuIGVtYmVkZGluZyBtb2RlbC4gVGhlIHR5cGUgb2YgdGhlIHZhbHVlIGlzIGRlZmluZWQgYnkgdGhlIGVtYmVkZGluZyBtb2RlbC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIGVtYmVkZGluZyBtb2RlbCB0byB1c2UuXG5AcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdGhhdCBzaG91bGQgYmUgZW1iZWRkZWQuXG5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkByZXR1cm5zIEEgcmVzdWx0IG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBlbWJlZGRpbmcsIHRoZSB2YWx1ZSwgYW5kIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbWJlZDxWQUxVRSA9IHN0cmluZz4oe1xuICBtb2RlbDogbW9kZWxBcmcsXG4gIHZhbHVlLFxuICBwcm92aWRlck9wdGlvbnMsXG4gIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG59OiB7XG4gIC8qKlxuVGhlIGVtYmVkZGluZyBtb2RlbCB0byB1c2UuXG4gICAgICovXG4gIG1vZGVsOiBFbWJlZGRpbmdNb2RlbDxWQUxVRT47XG5cbiAgLyoqXG5UaGUgdmFsdWUgdGhhdCBzaG91bGQgYmUgZW1iZWRkZWQuXG4gICAqL1xuICB2YWx1ZTogVkFMVUU7XG5cbiAgLyoqXG5NYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIHBlciBlbWJlZGRpbmcgbW9kZWwgY2FsbC4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLlxuXG5AZGVmYXVsdCAyXG4gICAqL1xuICBtYXhSZXRyaWVzPzogbnVtYmVyO1xuXG4gIC8qKlxuQWJvcnQgc2lnbmFsLlxuICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIGhlYWRlcnMgdG8gaW5jbHVkZSBpbiB0aGUgcmVxdWVzdC5cbk9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG4gKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbiAgLyoqXG4gIEFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbiAgdG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG4gIGZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgKi9cbiAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcbn0pOiBQcm9taXNlPEVtYmVkUmVzdWx0PFZBTFVFPj4ge1xuICBjb25zdCBtb2RlbCA9IHJlc29sdmVFbWJlZGRpbmdNb2RlbDxWQUxVRT4obW9kZWxBcmcpO1xuXG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICB9KTtcblxuICBjb25zdCBoZWFkZXJzV2l0aFVzZXJBZ2VudCA9IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgaGVhZGVycyA/PyB7fSxcbiAgICBgYWkvJHtWRVJTSU9OfWAsXG4gICk7XG5cbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWw6IG1vZGVsLFxuICAgIHRlbGVtZXRyeSxcbiAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICBzZXR0aW5nczogeyBtYXhSZXRyaWVzIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuXG4gIHJldHVybiByZWNvcmRTcGFuKHtcbiAgICBuYW1lOiAnYWkuZW1iZWQnLFxuICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgdGVsZW1ldHJ5LFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoeyBvcGVyYXRpb25JZDogJ2FpLmVtYmVkJywgdGVsZW1ldHJ5IH0pLFxuICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgJ2FpLnZhbHVlJzogeyBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUpIH0sXG4gICAgICB9LFxuICAgIH0pLFxuICAgIHRyYWNlcixcbiAgICBmbjogYXN5bmMgc3BhbiA9PiB7XG4gICAgICBjb25zdCB7IGVtYmVkZGluZywgdXNhZ2UsIHJlc3BvbnNlLCBwcm92aWRlck1ldGFkYXRhIH0gPSBhd2FpdCByZXRyeSgoKSA9PlxuICAgICAgICAvLyBuZXN0ZWQgc3BhbnMgdG8gYWxpZ24gd2l0aCB0aGUgZW1iZWRNYW55IHRlbGVtZXRyeSBkYXRhOlxuICAgICAgICByZWNvcmRTcGFuKHtcbiAgICAgICAgICBuYW1lOiAnYWkuZW1iZWQuZG9FbWJlZCcsXG4gICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5lbWJlZC5kb0VtYmVkJyxcbiAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICAgICAgICAnYWkudmFsdWVzJzogeyBpbnB1dDogKCkgPT4gW0pTT04uc3RyaW5naWZ5KHZhbHVlKV0gfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgIGZuOiBhc3luYyBkb0VtYmVkU3BhbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2RlbFJlc3BvbnNlID0gYXdhaXQgbW9kZWwuZG9FbWJlZCh7XG4gICAgICAgICAgICAgIHZhbHVlczogW3ZhbHVlXSxcbiAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgZW1iZWRkaW5nID0gbW9kZWxSZXNwb25zZS5lbWJlZGRpbmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgdXNhZ2UgPSBtb2RlbFJlc3BvbnNlLnVzYWdlID8/IHsgdG9rZW5zOiBOYU4gfTtcblxuICAgICAgICAgICAgZG9FbWJlZFNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICdhaS5lbWJlZGRpbmdzJzoge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWxSZXNwb25zZS5lbWJlZGRpbmdzLm1hcChlbWJlZGRpbmcgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGVtYmVkZGluZyksXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAnYWkudXNhZ2UudG9rZW5zJzogdXNhZ2UudG9rZW5zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZW1iZWRkaW5nLFxuICAgICAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogbW9kZWxSZXNwb25zZS5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICByZXNwb25zZTogbW9kZWxSZXNwb25zZS5yZXNwb25zZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAnYWkuZW1iZWRkaW5nJzogeyBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KGVtYmVkZGluZykgfSxcbiAgICAgICAgICAgICdhaS51c2FnZS50b2tlbnMnOiB1c2FnZS50b2tlbnMsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gbmV3IERlZmF1bHRFbWJlZFJlc3VsdCh7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICBlbWJlZGRpbmcsXG4gICAgICAgIHVzYWdlLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhLFxuICAgICAgICByZXNwb25zZSxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xufVxuXG5jbGFzcyBEZWZhdWx0RW1iZWRSZXN1bHQ8VkFMVUU+IGltcGxlbWVudHMgRW1iZWRSZXN1bHQ8VkFMVUU+IHtcbiAgcmVhZG9ubHkgdmFsdWU6IEVtYmVkUmVzdWx0PFZBTFVFPlsndmFsdWUnXTtcbiAgcmVhZG9ubHkgZW1iZWRkaW5nOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ2VtYmVkZGluZyddO1xuICByZWFkb25seSB1c2FnZTogRW1iZWRSZXN1bHQ8VkFMVUU+Wyd1c2FnZSddO1xuICByZWFkb25seSBwcm92aWRlck1ldGFkYXRhOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcbiAgcmVhZG9ubHkgcmVzcG9uc2U6IEVtYmVkUmVzdWx0PFZBTFVFPlsncmVzcG9uc2UnXTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgdmFsdWU6IEVtYmVkUmVzdWx0PFZBTFVFPlsndmFsdWUnXTtcbiAgICBlbWJlZGRpbmc6IEVtYmVkUmVzdWx0PFZBTFVFPlsnZW1iZWRkaW5nJ107XG4gICAgdXNhZ2U6IEVtYmVkUmVzdWx0PFZBTFVFPlsndXNhZ2UnXTtcbiAgICBwcm92aWRlck1ldGFkYXRhPzogRW1iZWRSZXN1bHQ8VkFMVUU+Wydwcm92aWRlck1ldGFkYXRhJ107XG4gICAgcmVzcG9uc2U/OiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3Jlc3BvbnNlJ107XG4gIH0pIHtcbiAgICB0aGlzLnZhbHVlID0gb3B0aW9ucy52YWx1ZTtcbiAgICB0aGlzLmVtYmVkZGluZyA9IG9wdGlvbnMuZW1iZWRkaW5nO1xuICAgIHRoaXMudXNhZ2UgPSBvcHRpb25zLnVzYWdlO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgICB0aGlzLnJlc3BvbnNlID0gb3B0aW9ucy5yZXNwb25zZTtcbiAgfVxufVxuIiwgImltcG9ydCB7IFByb3ZpZGVyT3B0aW9ucywgd2l0aFVzZXJBZ2VudFN1ZmZpeCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBzcGxpdEFycmF5IH0gZnJvbSAnLi4vdXRpbC9zcGxpdC1hcnJheSc7XG5pbXBvcnQgeyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvdW5zdXBwb3J0ZWQtbW9kZWwtdmVyc2lvbi1lcnJvcic7XG5pbXBvcnQgeyBhc3NlbWJsZU9wZXJhdGlvbk5hbWUgfSBmcm9tICcuLi90ZWxlbWV0cnkvYXNzZW1ibGUtb3BlcmF0aW9uLW5hbWUnO1xuaW1wb3J0IHsgZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgZ2V0VHJhY2VyIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC10cmFjZXInO1xuaW1wb3J0IHsgcmVjb3JkU3BhbiB9IGZyb20gJy4uL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbic7XG5pbXBvcnQgeyBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4uL3RlbGVtZXRyeS90ZWxlbWV0cnktc2V0dGluZ3MnO1xuaW1wb3J0IHsgRW1iZWRkaW5nLCBFbWJlZGRpbmdNb2RlbCwgUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHJlc29sdmVFbWJlZGRpbmdNb2RlbCB9IGZyb20gJy4uL21vZGVsL3Jlc29sdmUtbW9kZWwnO1xuaW1wb3J0IHsgRW1iZWRNYW55UmVzdWx0IH0gZnJvbSAnLi9lbWJlZC1tYW55LXJlc3VsdCc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5cbi8qKlxuRW1iZWQgc2V2ZXJhbCB2YWx1ZXMgdXNpbmcgYW4gZW1iZWRkaW5nIG1vZGVsLiBUaGUgdHlwZSBvZiB0aGUgdmFsdWUgaXMgZGVmaW5lZFxuYnkgdGhlIGVtYmVkZGluZyBtb2RlbC5cblxuYGVtYmVkTWFueWAgYXV0b21hdGljYWxseSBzcGxpdHMgbGFyZ2UgcmVxdWVzdHMgaW50byBzbWFsbGVyIGNodW5rcyBpZiB0aGUgbW9kZWxcbmhhcyBhIGxpbWl0IG9uIGhvdyBtYW55IGVtYmVkZGluZ3MgY2FuIGJlIGdlbmVyYXRlZCBpbiBhIHNpbmdsZSBjYWxsLlxuXG5AcGFyYW0gbW9kZWwgLSBUaGUgZW1iZWRkaW5nIG1vZGVsIHRvIHVzZS5cbkBwYXJhbSB2YWx1ZXMgLSBUaGUgdmFsdWVzIHRoYXQgc2hvdWxkIGJlIGVtYmVkZGVkLlxuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcmV0dXJucyBBIHJlc3VsdCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZW1iZWRkaW5ncywgdGhlIHZhbHVlLCBhbmQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVtYmVkTWFueTxWQUxVRSA9IHN0cmluZz4oe1xuICBtb2RlbDogbW9kZWxBcmcsXG4gIHZhbHVlcyxcbiAgbWF4UGFyYWxsZWxDYWxscyA9IEluZmluaXR5LFxuICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICBhYm9ydFNpZ25hbCxcbiAgaGVhZGVycyxcbiAgcHJvdmlkZXJPcHRpb25zLFxuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG59OiB7XG4gIC8qKlxuVGhlIGVtYmVkZGluZyBtb2RlbCB0byB1c2UuXG4gICAgICovXG4gIG1vZGVsOiBFbWJlZGRpbmdNb2RlbDxWQUxVRT47XG5cbiAgLyoqXG5UaGUgdmFsdWVzIHRoYXQgc2hvdWxkIGJlIGVtYmVkZGVkLlxuICAgKi9cbiAgdmFsdWVzOiBBcnJheTxWQUxVRT47XG5cbiAgLyoqXG5NYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIHBlciBlbWJlZGRpbmcgbW9kZWwgY2FsbC4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLlxuXG5AZGVmYXVsdCAyXG4gICAqL1xuICBtYXhSZXRyaWVzPzogbnVtYmVyO1xuXG4gIC8qKlxuQWJvcnQgc2lnbmFsLlxuICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIGhlYWRlcnMgdG8gaW5jbHVkZSBpbiB0aGUgcmVxdWVzdC5cbk9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG4gKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIHRlbGVtZXRyeSBjb25maWd1cmF0aW9uIChleHBlcmltZW50YWwpLlxuICAgKi9cbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeT86IFRlbGVtZXRyeVNldHRpbmdzO1xuXG4gIC8qKlxuICBBZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG4gIHRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuICBmdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICovXG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAvKipcbiAgICogTWF4aW11bSBudW1iZXIgb2YgY29uY3VycmVudCByZXF1ZXN0cy5cbiAgICpcbiAgICogQGRlZmF1bHQgSW5maW5pdHlcbiAgICovXG4gIG1heFBhcmFsbGVsQ2FsbHM/OiBudW1iZXI7XG59KTogUHJvbWlzZTxFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+PiB7XG4gIGNvbnN0IG1vZGVsID0gcmVzb2x2ZUVtYmVkZGluZ01vZGVsPFZBTFVFPihtb2RlbEFyZyk7XG5cbiAgY29uc3QgeyBtYXhSZXRyaWVzLCByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoe1xuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gIH0pO1xuXG4gIGNvbnN0IGhlYWRlcnNXaXRoVXNlckFnZW50ID0gd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICBoZWFkZXJzID8/IHt9LFxuICAgIGBhaS8ke1ZFUlNJT059YCxcbiAgKTtcblxuICBjb25zdCBiYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyA9IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICBtb2RlbCxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgc2V0dGluZ3M6IHsgbWF4UmV0cmllcyB9LFxuICB9KTtcblxuICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcblxuICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgbmFtZTogJ2FpLmVtYmVkTWFueScsXG4gICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICB0ZWxlbWV0cnksXG4gICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7IG9wZXJhdGlvbklkOiAnYWkuZW1iZWRNYW55JywgdGVsZW1ldHJ5IH0pLFxuICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICAnYWkudmFsdWVzJzoge1xuICAgICAgICAgIGlucHV0OiAoKSA9PiB2YWx1ZXMubWFwKHZhbHVlID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSksXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pLFxuICAgIHRyYWNlcixcbiAgICBmbjogYXN5bmMgc3BhbiA9PiB7XG4gICAgICBjb25zdCBbbWF4RW1iZWRkaW5nc1BlckNhbGwsIHN1cHBvcnRzUGFyYWxsZWxDYWxsc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIG1vZGVsLm1heEVtYmVkZGluZ3NQZXJDYWxsLFxuICAgICAgICBtb2RlbC5zdXBwb3J0c1BhcmFsbGVsQ2FsbHMsXG4gICAgICBdKTtcblxuICAgICAgLy8gdGhlIG1vZGVsIGhhcyBub3Qgc3BlY2lmaWVkIGxpbWl0cyBvblxuICAgICAgLy8gaG93IG1hbnkgZW1iZWRkaW5ncyBjYW4gYmUgZ2VuZXJhdGVkIGluIGEgc2luZ2xlIGNhbGxcbiAgICAgIGlmIChtYXhFbWJlZGRpbmdzUGVyQ2FsbCA9PSBudWxsIHx8IG1heEVtYmVkZGluZ3NQZXJDYWxsID09PSBJbmZpbml0eSkge1xuICAgICAgICBjb25zdCB7IGVtYmVkZGluZ3MsIHVzYWdlLCByZXNwb25zZSwgcHJvdmlkZXJNZXRhZGF0YSB9ID0gYXdhaXQgcmV0cnkoXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgLy8gbmVzdGVkIHNwYW5zIHRvIGFsaWduIHdpdGggdGhlIGVtYmVkTWFueSB0ZWxlbWV0cnkgZGF0YTpcbiAgICAgICAgICAgIHJldHVybiByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgICAgbmFtZTogJ2FpLmVtYmVkTWFueS5kb0VtYmVkJyxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuZW1iZWRNYW55LmRvRW1iZWQnLFxuICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICAgICAgICAgICAgJ2FpLnZhbHVlcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHZhbHVlcy5tYXAodmFsdWUgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUpKSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgICAgZm46IGFzeW5jIGRvRW1iZWRTcGFuID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlbFJlc3BvbnNlID0gYXdhaXQgbW9kZWwuZG9FbWJlZCh7XG4gICAgICAgICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZW1iZWRkaW5ncyA9IG1vZGVsUmVzcG9uc2UuZW1iZWRkaW5ncztcbiAgICAgICAgICAgICAgICBjb25zdCB1c2FnZSA9IG1vZGVsUmVzcG9uc2UudXNhZ2UgPz8geyB0b2tlbnM6IE5hTiB9O1xuXG4gICAgICAgICAgICAgICAgZG9FbWJlZFNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAnYWkuZW1iZWRkaW5ncyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZW1iZWRkaW5ncy5tYXAoZW1iZWRkaW5nID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS50b2tlbnMnOiB1c2FnZS50b2tlbnMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIGVtYmVkZGluZ3MsXG4gICAgICAgICAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IG1vZGVsUmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBtb2RlbFJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgJ2FpLmVtYmVkZGluZ3MnOiB7XG4gICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgZW1iZWRkaW5ncy5tYXAoZW1iZWRkaW5nID0+IEpTT04uc3RyaW5naWZ5KGVtYmVkZGluZykpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYWkudXNhZ2UudG9rZW5zJzogdXNhZ2UudG9rZW5zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRFbWJlZE1hbnlSZXN1bHQoe1xuICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICBlbWJlZGRpbmdzLFxuICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgcmVzcG9uc2VzOiBbcmVzcG9uc2VdLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gc3BsaXQgdGhlIHZhbHVlcyBpbnRvIGNodW5rcyB0aGF0IGFyZSBzbWFsbCBlbm91Z2ggZm9yIHRoZSBtb2RlbDpcbiAgICAgIGNvbnN0IHZhbHVlQ2h1bmtzID0gc3BsaXRBcnJheSh2YWx1ZXMsIG1heEVtYmVkZGluZ3NQZXJDYWxsKTtcblxuICAgICAgLy8gc2VyaWFsbHkgZW1iZWQgdGhlIGNodW5rczpcbiAgICAgIGNvbnN0IGVtYmVkZGluZ3M6IEFycmF5PEVtYmVkZGluZz4gPSBbXTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlczogQXJyYXk8XG4gICAgICAgIHwge1xuICAgICAgICAgICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICAgICAgICBib2R5PzogdW5rbm93bjtcbiAgICAgICAgICB9XG4gICAgICAgIHwgdW5kZWZpbmVkXG4gICAgICA+ID0gW107XG4gICAgICBsZXQgdG9rZW5zID0gMDtcbiAgICAgIGxldCBwcm92aWRlck1ldGFkYXRhOiBQcm92aWRlck1ldGFkYXRhIHwgdW5kZWZpbmVkO1xuXG4gICAgICBjb25zdCBwYXJhbGxlbENodW5rcyA9IHNwbGl0QXJyYXkoXG4gICAgICAgIHZhbHVlQ2h1bmtzLFxuICAgICAgICBzdXBwb3J0c1BhcmFsbGVsQ2FsbHMgPyBtYXhQYXJhbGxlbENhbGxzIDogMSxcbiAgICAgICk7XG5cbiAgICAgIGZvciAoY29uc3QgcGFyYWxsZWxDaHVuayBvZiBwYXJhbGxlbENodW5rcykge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgcGFyYWxsZWxDaHVuay5tYXAoY2h1bmsgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJldHJ5KCgpID0+IHtcbiAgICAgICAgICAgICAgLy8gbmVzdGVkIHNwYW5zIHRvIGFsaWduIHdpdGggdGhlIGVtYmVkTWFueSB0ZWxlbWV0cnkgZGF0YTpcbiAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdhaS5lbWJlZE1hbnkuZG9FbWJlZCcsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5lbWJlZE1hbnkuZG9FbWJlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnZhbHVlcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gY2h1bmsubWFwKHZhbHVlID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgICAgICBmbjogYXN5bmMgZG9FbWJlZFNwYW4gPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbW9kZWxSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmRvRW1iZWQoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IGNodW5rLFxuICAgICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBjb25zdCBlbWJlZGRpbmdzID0gbW9kZWxSZXNwb25zZS5lbWJlZGRpbmdzO1xuICAgICAgICAgICAgICAgICAgY29uc3QgdXNhZ2UgPSBtb2RlbFJlc3BvbnNlLnVzYWdlID8/IHsgdG9rZW5zOiBOYU4gfTtcblxuICAgICAgICAgICAgICAgICAgZG9FbWJlZFNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5lbWJlZGRpbmdzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1iZWRkaW5ncy5tYXAoZW1iZWRkaW5nID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRva2Vucyc6IHVzYWdlLnRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVtYmVkZGluZ3MsXG4gICAgICAgICAgICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBtb2RlbFJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBtb2RlbFJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICBlbWJlZGRpbmdzLnB1c2goLi4ucmVzdWx0LmVtYmVkZGluZ3MpO1xuICAgICAgICAgIHJlc3BvbnNlcy5wdXNoKHJlc3VsdC5yZXNwb25zZSk7XG4gICAgICAgICAgdG9rZW5zICs9IHJlc3VsdC51c2FnZS50b2tlbnM7XG4gICAgICAgICAgaWYgKHJlc3VsdC5wcm92aWRlck1ldGFkYXRhKSB7XG4gICAgICAgICAgICBpZiAoIXByb3ZpZGVyTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YSA9IHsgLi4ucmVzdWx0LnByb3ZpZGVyTWV0YWRhdGEgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgW3Byb3ZpZGVyTmFtZSwgbWV0YWRhdGFdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgICAgICAgICAgIHJlc3VsdC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YVtwcm92aWRlck5hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgLi4uKHByb3ZpZGVyTWV0YWRhdGFbcHJvdmlkZXJOYW1lXSA/PyB7fSksXG4gICAgICAgICAgICAgICAgICAuLi5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICdhaS5lbWJlZGRpbmdzJzoge1xuICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgZW1iZWRkaW5ncy5tYXAoZW1iZWRkaW5nID0+IEpTT04uc3RyaW5naWZ5KGVtYmVkZGluZykpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdhaS51c2FnZS50b2tlbnMnOiB0b2tlbnMsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gbmV3IERlZmF1bHRFbWJlZE1hbnlSZXN1bHQoe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIGVtYmVkZGluZ3MsXG4gICAgICAgIHVzYWdlOiB7IHRva2VucyB9LFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhLFxuICAgICAgICByZXNwb25zZXMsXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcbn1cblxuY2xhc3MgRGVmYXVsdEVtYmVkTWFueVJlc3VsdDxWQUxVRT4gaW1wbGVtZW50cyBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+IHtcbiAgcmVhZG9ubHkgdmFsdWVzOiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+Wyd2YWx1ZXMnXTtcbiAgcmVhZG9ubHkgZW1iZWRkaW5nczogRW1iZWRNYW55UmVzdWx0PFZBTFVFPlsnZW1iZWRkaW5ncyddO1xuICByZWFkb25seSB1c2FnZTogRW1iZWRNYW55UmVzdWx0PFZBTFVFPlsndXNhZ2UnXTtcbiAgcmVhZG9ubHkgcHJvdmlkZXJNZXRhZGF0YTogRW1iZWRNYW55UmVzdWx0PFZBTFVFPlsncHJvdmlkZXJNZXRhZGF0YSddO1xuICByZWFkb25seSByZXNwb25zZXM6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3Jlc3BvbnNlcyddO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICB2YWx1ZXM6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3ZhbHVlcyddO1xuICAgIGVtYmVkZGluZ3M6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ2VtYmVkZGluZ3MnXTtcbiAgICB1c2FnZTogRW1iZWRNYW55UmVzdWx0PFZBTFVFPlsndXNhZ2UnXTtcbiAgICBwcm92aWRlck1ldGFkYXRhPzogRW1iZWRNYW55UmVzdWx0PFZBTFVFPlsncHJvdmlkZXJNZXRhZGF0YSddO1xuICAgIHJlc3BvbnNlcz86IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3Jlc3BvbnNlcyddO1xuICB9KSB7XG4gICAgdGhpcy52YWx1ZXMgPSBvcHRpb25zLnZhbHVlcztcbiAgICB0aGlzLmVtYmVkZGluZ3MgPSBvcHRpb25zLmVtYmVkZGluZ3M7XG4gICAgdGhpcy51c2FnZSA9IG9wdGlvbnMudXNhZ2U7XG4gICAgdGhpcy5wcm92aWRlck1ldGFkYXRhID0gb3B0aW9ucy5wcm92aWRlck1ldGFkYXRhO1xuICAgIHRoaXMucmVzcG9uc2VzID0gb3B0aW9ucy5yZXNwb25zZXM7XG4gIH1cbn1cbiIsICIvKipcbiAqIFNwbGl0cyBhbiBhcnJheSBpbnRvIGNodW5rcyBvZiBhIHNwZWNpZmllZCBzaXplLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LlxuICogQHBhcmFtIHtUW119IGFycmF5IC0gVGhlIGFycmF5IHRvIHNwbGl0LlxuICogQHBhcmFtIHtudW1iZXJ9IGNodW5rU2l6ZSAtIFRoZSBzaXplIG9mIGVhY2ggY2h1bmsuXG4gKiBAcmV0dXJucyB7VFtdW119IC0gQSBuZXcgYXJyYXkgY29udGFpbmluZyB0aGUgY2h1bmtzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRBcnJheTxUPihhcnJheTogVFtdLCBjaHVua1NpemU6IG51bWJlcik6IFRbXVtdIHtcbiAgaWYgKGNodW5rU2l6ZSA8PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjaHVua1NpemUgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCcpO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpICs9IGNodW5rU2l6ZSkge1xuICAgIHJlc3VsdC5wdXNoKGFycmF5LnNsaWNlKGksIGkgKyBjaHVua1NpemUpKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCAiaW1wb3J0IHsgSW1hZ2VNb2RlbFYyLCBJbWFnZU1vZGVsVjJQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBQcm92aWRlck9wdGlvbnMsIHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IE5vSW1hZ2VHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLWltYWdlLWdlbmVyYXRlZC1lcnJvcic7XG5pbXBvcnQge1xuICBkZXRlY3RNZWRpYVR5cGUsXG4gIGltYWdlTWVkaWFUeXBlU2lnbmF0dXJlcyxcbn0gZnJvbSAnLi4vdXRpbC9kZXRlY3QtbWVkaWEtdHlwZSc7XG5pbXBvcnQgeyBwcmVwYXJlUmV0cmllcyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1yZXRyaWVzJztcbmltcG9ydCB7IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci91bnN1cHBvcnRlZC1tb2RlbC12ZXJzaW9uLWVycm9yJztcbmltcG9ydCB7XG4gIERlZmF1bHRHZW5lcmF0ZWRGaWxlLFxuICBHZW5lcmF0ZWRGaWxlLFxufSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlZC1maWxlJztcbmltcG9ydCB7IEltYWdlR2VuZXJhdGlvbldhcm5pbmcgfSBmcm9tICcuLi90eXBlcy9pbWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBJbWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL2ltYWdlLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcbmltcG9ydCB7IEdlbmVyYXRlSW1hZ2VSZXN1bHQgfSBmcm9tICcuL2dlbmVyYXRlLWltYWdlLXJlc3VsdCc7XG5pbXBvcnQgeyBsb2dXYXJuaW5ncyB9IGZyb20gJy4uL2xvZ2dlci9sb2ctd2FybmluZ3MnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuXG4vKipcbkdlbmVyYXRlcyBpbWFnZXMgdXNpbmcgYW4gaW1hZ2UgbW9kZWwuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSBpbWFnZSBtb2RlbCB0byB1c2UuXG5AcGFyYW0gcHJvbXB0IC0gVGhlIHByb21wdCB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIGdlbmVyYXRlIHRoZSBpbWFnZS5cbkBwYXJhbSBuIC0gTnVtYmVyIG9mIGltYWdlcyB0byBnZW5lcmF0ZS4gRGVmYXVsdDogMS5cbkBwYXJhbSBzaXplIC0gU2l6ZSBvZiB0aGUgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGhhdmUgdGhlIGZvcm1hdCBge3dpZHRofXh7aGVpZ2h0fWAuXG5AcGFyYW0gYXNwZWN0UmF0aW8gLSBBc3BlY3QgcmF0aW8gb2YgdGhlIGltYWdlcyB0byBnZW5lcmF0ZS4gTXVzdCBoYXZlIHRoZSBmb3JtYXQgYHt3aWR0aH06e2hlaWdodH1gLlxuQHBhcmFtIHNlZWQgLSBTZWVkIGZvciB0aGUgaW1hZ2UgZ2VuZXJhdGlvbi5cbkBwYXJhbSBwcm92aWRlck9wdGlvbnMgLSBBZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyXG5hcyBib2R5IHBhcmFtZXRlcnMuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcmV0dXJucyBBIHJlc3VsdCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZ2VuZXJhdGVkIGltYWdlcy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlSW1hZ2Uoe1xuICBtb2RlbCxcbiAgcHJvbXB0LFxuICBuID0gMSxcbiAgbWF4SW1hZ2VzUGVyQ2FsbCxcbiAgc2l6ZSxcbiAgYXNwZWN0UmF0aW8sXG4gIHNlZWQsXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG59OiB7XG4gIC8qKlxuVGhlIGltYWdlIG1vZGVsIHRvIHVzZS5cbiAgICAgKi9cbiAgbW9kZWw6IEltYWdlTW9kZWxWMjtcblxuICAvKipcblRoZSBwcm9tcHQgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBnZW5lcmF0ZSB0aGUgaW1hZ2UuXG4gICAqL1xuICBwcm9tcHQ6IHN0cmluZztcblxuICAvKipcbk51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuXG4gICAqL1xuICBuPzogbnVtYmVyO1xuXG4gIC8qKlxuTnVtYmVyIG9mIGltYWdlcyB0byBnZW5lcmF0ZS5cbiAgICovXG4gIG1heEltYWdlc1BlckNhbGw/OiBudW1iZXI7XG5cbiAgLyoqXG5TaXplIG9mIHRoZSBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgaGF2ZSB0aGUgZm9ybWF0IGB7d2lkdGh9eHtoZWlnaHR9YC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgZGVmYXVsdCBzaXplIHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIHNpemU/OiBgJHtudW1iZXJ9eCR7bnVtYmVyfWA7XG5cbiAgLyoqXG5Bc3BlY3QgcmF0aW8gb2YgdGhlIGltYWdlcyB0byBnZW5lcmF0ZS4gTXVzdCBoYXZlIHRoZSBmb3JtYXQgYHt3aWR0aH06e2hlaWdodH1gLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IGFzcGVjdCByYXRpbyB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBhc3BlY3RSYXRpbz86IGAke251bWJlcn06JHtudW1iZXJ9YDtcblxuICAvKipcblNlZWQgZm9yIHRoZSBpbWFnZSBnZW5lcmF0aW9uLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IHNlZWQgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgc2VlZD86IG51bWJlcjtcblxuICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucyB0aGF0IGFyZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXJcbmFzIGJvZHkgcGFyYW1ldGVycy5cblxuVGhlIG91dGVyIHJlY29yZCBpcyBrZXllZCBieSB0aGUgcHJvdmlkZXIgbmFtZSwgYW5kIHRoZSBpbm5lclxucmVjb3JkIGlzIGtleWVkIGJ5IHRoZSBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YSBrZXkuXG5gYGB0c1xue1xuICBcIm9wZW5haVwiOiB7XG4gICAgXCJzdHlsZVwiOiBcInZpdmlkXCJcbiAgfVxufVxuYGBgXG4gICAgICovXG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAvKipcbk1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgcGVyIGVtYmVkZGluZyBtb2RlbCBjYWxsLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuXG5cbkBkZWZhdWx0IDJcbiAgICovXG4gIG1heFJldHJpZXM/OiBudW1iZXI7XG5cbiAgLyoqXG5BYm9ydCBzaWduYWwuXG4gKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcblxuICAvKipcbkFkZGl0aW9uYWwgaGVhZGVycyB0byBpbmNsdWRlIGluIHRoZSByZXF1ZXN0LlxuT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cbiAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn0pOiBQcm9taXNlPEdlbmVyYXRlSW1hZ2VSZXN1bHQ+IHtcbiAgaWYgKG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uICE9PSAndjInKSB7XG4gICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3Ioe1xuICAgICAgdmVyc2lvbjogbW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24sXG4gICAgICBwcm92aWRlcjogbW9kZWwucHJvdmlkZXIsXG4gICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgaGVhZGVyc1dpdGhVc2VyQWdlbnQgPSB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgIGhlYWRlcnMgPz8ge30sXG4gICAgYGFpLyR7VkVSU0lPTn1gLFxuICApO1xuXG4gIGNvbnN0IHsgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICB9KTtcblxuICAvLyBkZWZhdWx0IHRvIDEgaWYgdGhlIG1vZGVsIGhhcyBub3Qgc3BlY2lmaWVkIGxpbWl0cyBvblxuICAvLyBob3cgbWFueSBpbWFnZXMgY2FuIGJlIGdlbmVyYXRlZCBpbiBhIHNpbmdsZSBjYWxsXG4gIGNvbnN0IG1heEltYWdlc1BlckNhbGxXaXRoRGVmYXVsdCA9XG4gICAgbWF4SW1hZ2VzUGVyQ2FsbCA/PyAoYXdhaXQgaW52b2tlTW9kZWxNYXhJbWFnZXNQZXJDYWxsKG1vZGVsKSkgPz8gMTtcblxuICAvLyBwYXJhbGxlbGl6ZSBjYWxscyB0byB0aGUgbW9kZWw6XG4gIGNvbnN0IGNhbGxDb3VudCA9IE1hdGguY2VpbChuIC8gbWF4SW1hZ2VzUGVyQ2FsbFdpdGhEZWZhdWx0KTtcbiAgY29uc3QgY2FsbEltYWdlQ291bnRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogY2FsbENvdW50IH0sIChfLCBpKSA9PiB7XG4gICAgaWYgKGkgPCBjYWxsQ291bnQgLSAxKSB7XG4gICAgICByZXR1cm4gbWF4SW1hZ2VzUGVyQ2FsbFdpdGhEZWZhdWx0O1xuICAgIH1cblxuICAgIGNvbnN0IHJlbWFpbmRlciA9IG4gJSBtYXhJbWFnZXNQZXJDYWxsV2l0aERlZmF1bHQ7XG4gICAgcmV0dXJuIHJlbWFpbmRlciA9PT0gMCA/IG1heEltYWdlc1BlckNhbGxXaXRoRGVmYXVsdCA6IHJlbWFpbmRlcjtcbiAgfSk7XG5cbiAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgIGNhbGxJbWFnZUNvdW50cy5tYXAoYXN5bmMgY2FsbEltYWdlQ291bnQgPT5cbiAgICAgIHJldHJ5KCgpID0+XG4gICAgICAgIG1vZGVsLmRvR2VuZXJhdGUoe1xuICAgICAgICAgIHByb21wdCxcbiAgICAgICAgICBuOiBjYWxsSW1hZ2VDb3VudCxcbiAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICAgICAgICBzaXplLFxuICAgICAgICAgIGFzcGVjdFJhdGlvLFxuICAgICAgICAgIHNlZWQsXG4gICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck9wdGlvbnMgPz8ge30sXG4gICAgICAgIH0pLFxuICAgICAgKSxcbiAgICApLFxuICApO1xuXG4gIC8vIGNvbGxlY3QgcmVzdWx0IGltYWdlcywgd2FybmluZ3MsIGFuZCByZXNwb25zZSBtZXRhZGF0YVxuICBjb25zdCBpbWFnZXM6IEFycmF5PERlZmF1bHRHZW5lcmF0ZWRGaWxlPiA9IFtdO1xuICBjb25zdCB3YXJuaW5nczogQXJyYXk8SW1hZ2VHZW5lcmF0aW9uV2FybmluZz4gPSBbXTtcbiAgY29uc3QgcmVzcG9uc2VzOiBBcnJheTxJbWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YT4gPSBbXTtcbiAgY29uc3QgcHJvdmlkZXJNZXRhZGF0YTogSW1hZ2VNb2RlbFYyUHJvdmlkZXJNZXRhZGF0YSA9IHt9O1xuICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgaW1hZ2VzLnB1c2goXG4gICAgICAuLi5yZXN1bHQuaW1hZ2VzLm1hcChcbiAgICAgICAgaW1hZ2UgPT5cbiAgICAgICAgICBuZXcgRGVmYXVsdEdlbmVyYXRlZEZpbGUoe1xuICAgICAgICAgICAgZGF0YTogaW1hZ2UsXG4gICAgICAgICAgICBtZWRpYVR5cGU6XG4gICAgICAgICAgICAgIGRldGVjdE1lZGlhVHlwZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogaW1hZ2UsXG4gICAgICAgICAgICAgICAgc2lnbmF0dXJlczogaW1hZ2VNZWRpYVR5cGVTaWduYXR1cmVzLFxuICAgICAgICAgICAgICB9KSA/PyAnaW1hZ2UvcG5nJyxcbiAgICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKTtcbiAgICB3YXJuaW5ncy5wdXNoKC4uLnJlc3VsdC53YXJuaW5ncyk7XG5cbiAgICBpZiAocmVzdWx0LnByb3ZpZGVyTWV0YWRhdGEpIHtcbiAgICAgIGZvciAoY29uc3QgW3Byb3ZpZGVyTmFtZSwgbWV0YWRhdGFdIG9mIE9iamVjdC5lbnRyaWVzPHtcbiAgICAgICAgaW1hZ2VzOiB1bmtub3duO1xuICAgICAgfT4ocmVzdWx0LnByb3ZpZGVyTWV0YWRhdGEpKSB7XG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGFbcHJvdmlkZXJOYW1lXSA/Pz0geyBpbWFnZXM6IFtdIH07XG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGFbcHJvdmlkZXJOYW1lXS5pbWFnZXMucHVzaChcbiAgICAgICAgICAuLi5yZXN1bHQucHJvdmlkZXJNZXRhZGF0YVtwcm92aWRlck5hbWVdLmltYWdlcyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXNwb25zZXMucHVzaChyZXN1bHQucmVzcG9uc2UpO1xuICB9XG5cbiAgbG9nV2FybmluZ3Mod2FybmluZ3MpO1xuXG4gIGlmICghaW1hZ2VzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBOb0ltYWdlR2VuZXJhdGVkRXJyb3IoeyByZXNwb25zZXMgfSk7XG4gIH1cblxuICByZXR1cm4gbmV3IERlZmF1bHRHZW5lcmF0ZUltYWdlUmVzdWx0KHtcbiAgICBpbWFnZXMsXG4gICAgd2FybmluZ3MsXG4gICAgcmVzcG9uc2VzLFxuICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gIH0pO1xufVxuXG5jbGFzcyBEZWZhdWx0R2VuZXJhdGVJbWFnZVJlc3VsdCBpbXBsZW1lbnRzIEdlbmVyYXRlSW1hZ2VSZXN1bHQge1xuICByZWFkb25seSBpbWFnZXM6IEFycmF5PEdlbmVyYXRlZEZpbGU+O1xuICByZWFkb25seSB3YXJuaW5nczogQXJyYXk8SW1hZ2VHZW5lcmF0aW9uV2FybmluZz47XG4gIHJlYWRvbmx5IHJlc3BvbnNlczogQXJyYXk8SW1hZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuICByZWFkb25seSBwcm92aWRlck1ldGFkYXRhOiBJbWFnZU1vZGVsVjJQcm92aWRlck1ldGFkYXRhO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICBpbWFnZXM6IEFycmF5PEdlbmVyYXRlZEZpbGU+O1xuICAgIHdhcm5pbmdzOiBBcnJheTxJbWFnZUdlbmVyYXRpb25XYXJuaW5nPjtcbiAgICByZXNwb25zZXM6IEFycmF5PEltYWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgICBwcm92aWRlck1ldGFkYXRhOiBJbWFnZU1vZGVsVjJQcm92aWRlck1ldGFkYXRhO1xuICB9KSB7XG4gICAgdGhpcy5pbWFnZXMgPSBvcHRpb25zLmltYWdlcztcbiAgICB0aGlzLndhcm5pbmdzID0gb3B0aW9ucy53YXJuaW5ncztcbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgfVxuXG4gIGdldCBpbWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZXNbMF07XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gaW52b2tlTW9kZWxNYXhJbWFnZXNQZXJDYWxsKG1vZGVsOiBJbWFnZU1vZGVsVjIpIHtcbiAgY29uc3QgaXNGdW5jdGlvbiA9IG1vZGVsLm1heEltYWdlc1BlckNhbGwgaW5zdGFuY2VvZiBGdW5jdGlvbjtcblxuICBpZiAoIWlzRnVuY3Rpb24pIHtcbiAgICByZXR1cm4gbW9kZWwubWF4SW1hZ2VzUGVyQ2FsbDtcbiAgfVxuXG4gIHJldHVybiBtb2RlbC5tYXhJbWFnZXNQZXJDYWxsKHtcbiAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBKU09OVmFsdWUgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZUlkR2VuZXJhdG9yLFxuICBJbmZlclNjaGVtYSxcbiAgUHJvdmlkZXJPcHRpb25zLFxuICBTY2hlbWEsXG4gIHdpdGhVc2VyQWdlbnRTdWZmaXgsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0ICogYXMgejMgZnJvbSAnem9kL3YzJztcbmltcG9ydCAqIGFzIHo0IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBOb09iamVjdEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tb2JqZWN0LWdlbmVyYXRlZC1lcnJvcic7XG5pbXBvcnQgeyBleHRyYWN0UmVhc29uaW5nQ29udGVudCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvZXh0cmFjdC1yZWFzb25pbmctY29udGVudCc7XG5pbXBvcnQgeyBleHRyYWN0VGV4dENvbnRlbnQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L2V4dHJhY3QtdGV4dC1jb250ZW50JztcbmltcG9ydCB7IGxvZ1dhcm5pbmdzIH0gZnJvbSAnLi4vbG9nZ2VyL2xvZy13YXJuaW5ncyc7XG5pbXBvcnQgeyByZXNvbHZlTGFuZ3VhZ2VNb2RlbCB9IGZyb20gJy4uL21vZGVsL3Jlc29sdmUtbW9kZWwnO1xuaW1wb3J0IHsgQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L2NhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCB9IGZyb20gJy4uL3Byb21wdC9jb252ZXJ0LXRvLWxhbmd1YWdlLW1vZGVsLXByb21wdCc7XG5pbXBvcnQgeyBwcmVwYXJlQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L3ByZXBhcmUtY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvcHJvbXB0JztcbmltcG9ydCB7IHN0YW5kYXJkaXplUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3N0YW5kYXJkaXplLXByb21wdCc7XG5pbXBvcnQgeyB3cmFwR2F0ZXdheUVycm9yIH0gZnJvbSAnLi4vcHJvbXB0L3dyYXAtZ2F0ZXdheS1lcnJvcic7XG5pbXBvcnQgeyBhc3NlbWJsZU9wZXJhdGlvbk5hbWUgfSBmcm9tICcuLi90ZWxlbWV0cnkvYXNzZW1ibGUtb3BlcmF0aW9uLW5hbWUnO1xuaW1wb3J0IHsgZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgZ2V0VHJhY2VyIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC10cmFjZXInO1xuaW1wb3J0IHsgcmVjb3JkU3BhbiB9IGZyb20gJy4uL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbic7XG5pbXBvcnQgeyBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBzdHJpbmdpZnlGb3JUZWxlbWV0cnkgfSBmcm9tICcuLi90ZWxlbWV0cnkvc3RyaW5naWZ5LWZvci10ZWxlbWV0cnknO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7XG4gIENhbGxXYXJuaW5nLFxuICBGaW5pc2hSZWFzb24sXG4gIExhbmd1YWdlTW9kZWwsXG59IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxSZXF1ZXN0TWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbC1yZXF1ZXN0LW1ldGFkYXRhJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuaW1wb3J0IHsgUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxVc2FnZSB9IGZyb20gJy4uL3R5cGVzL3VzYWdlJztcbmltcG9ydCB7IERvd25sb2FkRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWZ1bmN0aW9uJztcbmltcG9ydCB7IHByZXBhcmVIZWFkZXJzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLWhlYWRlcnMnO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBHZW5lcmF0ZU9iamVjdFJlc3VsdCB9IGZyb20gJy4vZ2VuZXJhdGUtb2JqZWN0LXJlc3VsdCc7XG5pbXBvcnQgeyBnZXRPdXRwdXRTdHJhdGVneSB9IGZyb20gJy4vb3V0cHV0LXN0cmF0ZWd5JztcbmltcG9ydCB7IHBhcnNlQW5kVmFsaWRhdGVPYmplY3RSZXN1bHRXaXRoUmVwYWlyIH0gZnJvbSAnLi9wYXJzZS1hbmQtdmFsaWRhdGUtb2JqZWN0LXJlc3VsdCc7XG5pbXBvcnQgeyBSZXBhaXJUZXh0RnVuY3Rpb24gfSBmcm9tICcuL3JlcGFpci10ZXh0JztcbmltcG9ydCB7IHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0IH0gZnJvbSAnLi92YWxpZGF0ZS1vYmplY3QtZ2VuZXJhdGlvbi1pbnB1dCc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5cbmNvbnN0IG9yaWdpbmFsR2VuZXJhdGVJZCA9IGNyZWF0ZUlkR2VuZXJhdG9yKHsgcHJlZml4OiAnYWlvYmonLCBzaXplOiAyNCB9KTtcblxuLyoqXG5HZW5lcmF0ZSBhIHN0cnVjdHVyZWQsIHR5cGVkIG9iamVjdCBmb3IgYSBnaXZlbiBwcm9tcHQgYW5kIHNjaGVtYSB1c2luZyBhIGxhbmd1YWdlIG1vZGVsLlxuXG5UaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN0cmVhbSB0aGUgb3V0cHV0LiBJZiB5b3Ugd2FudCB0byBzdHJlYW0gdGhlIG91dHB1dCwgdXNlIGBzdHJlYW1PYmplY3RgIGluc3RlYWQuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG5AcGFyYW0gdG9vbHMgLSBUb29scyB0aGF0IGFyZSBhY2Nlc3NpYmxlIHRvIGFuZCBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cblxuQHBhcmFtIHN5c3RlbSAtIEEgc3lzdGVtIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHBhcnQgb2YgdGhlIHByb21wdC5cbkBwYXJhbSBwcm9tcHQgLSBBIHNpbXBsZSB0ZXh0IHByb21wdC4gWW91IGNhbiBlaXRoZXIgdXNlIGBwcm9tcHRgIG9yIGBtZXNzYWdlc2AgYnV0IG5vdCBib3RoLlxuQHBhcmFtIG1lc3NhZ2VzIC0gQSBsaXN0IG9mIG1lc3NhZ2VzLiBZb3UgY2FuIGVpdGhlciB1c2UgYHByb21wdGAgb3IgYG1lc3NhZ2VzYCBidXQgbm90IGJvdGguXG5cbkBwYXJhbSBtYXhPdXRwdXRUb2tlbnMgLSBNYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdG8gZ2VuZXJhdGUuXG5AcGFyYW0gdGVtcGVyYXR1cmUgLSBUZW1wZXJhdHVyZSBzZXR0aW5nLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkl0IGlzIHJlY29tbWVuZGVkIHRvIHNldCBlaXRoZXIgYHRlbXBlcmF0dXJlYCBvciBgdG9wUGAsIGJ1dCBub3QgYm90aC5cbkBwYXJhbSB0b3BQIC0gTnVjbGV1cyBzYW1wbGluZy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5JdCBpcyByZWNvbW1lbmRlZCB0byBzZXQgZWl0aGVyIGB0ZW1wZXJhdHVyZWAgb3IgYHRvcFBgLCBidXQgbm90IGJvdGguXG5AcGFyYW0gdG9wSyAtIE9ubHkgc2FtcGxlIGZyb20gdGhlIHRvcCBLIG9wdGlvbnMgZm9yIGVhY2ggc3Vic2VxdWVudCB0b2tlbi5cblVzZWQgdG8gcmVtb3ZlIFwibG9uZyB0YWlsXCIgbG93IHByb2JhYmlsaXR5IHJlc3BvbnNlcy5cblJlY29tbWVuZGVkIGZvciBhZHZhbmNlZCB1c2UgY2FzZXMgb25seS4gWW91IHVzdWFsbHkgb25seSBuZWVkIHRvIHVzZSB0ZW1wZXJhdHVyZS5cbkBwYXJhbSBwcmVzZW5jZVBlbmFsdHkgLSBQcmVzZW5jZSBwZW5hbHR5IHNldHRpbmcuXG5JdCBhZmZlY3RzIHRoZSBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCB0byByZXBlYXQgaW5mb3JtYXRpb24gdGhhdCBpcyBhbHJlYWR5IGluIHRoZSBwcm9tcHQuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuQHBhcmFtIGZyZXF1ZW5jeVBlbmFsdHkgLSBGcmVxdWVuY3kgcGVuYWx0eSBzZXR0aW5nLlxuSXQgYWZmZWN0cyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgdG8gcmVwZWF0ZWRseSB1c2UgdGhlIHNhbWUgd29yZHMgb3IgcGhyYXNlcy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5AcGFyYW0gc3RvcFNlcXVlbmNlcyAtIFN0b3Agc2VxdWVuY2VzLlxuSWYgc2V0LCB0aGUgbW9kZWwgd2lsbCBzdG9wIGdlbmVyYXRpbmcgdGV4dCB3aGVuIG9uZSBvZiB0aGUgc3RvcCBzZXF1ZW5jZXMgaXMgZ2VuZXJhdGVkLlxuQHBhcmFtIHNlZWQgLSBUaGUgc2VlZCAoaW50ZWdlcikgdG8gdXNlIGZvciByYW5kb20gc2FtcGxpbmcuXG5JZiBzZXQgYW5kIHN1cHBvcnRlZCBieSB0aGUgbW9kZWwsIGNhbGxzIHdpbGwgZ2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyByZXN1bHRzLlxuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcGFyYW0gc2NoZW1hIC0gVGhlIHNjaGVtYSBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlIG1vZGVsIHNob3VsZCBnZW5lcmF0ZS5cbkBwYXJhbSBzY2hlbWFOYW1lIC0gT3B0aW9uYWwgbmFtZSBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgbmFtZS5cbkBwYXJhbSBzY2hlbWFEZXNjcmlwdGlvbiAtIE9wdGlvbmFsIGRlc2NyaXB0aW9uIG9mIHRoZSBvdXRwdXQgdGhhdCBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuVXNlZCBieSBzb21lIHByb3ZpZGVycyBmb3IgYWRkaXRpb25hbCBMTE0gZ3VpZGFuY2UsIGUuZy5cbnZpYSB0b29sIG9yIHNjaGVtYSBkZXNjcmlwdGlvbi5cblxuQHBhcmFtIG91dHB1dCAtIFRoZSB0eXBlIG9mIHRoZSBvdXRwdXQuXG5cbi0gJ29iamVjdCc6IFRoZSBvdXRwdXQgaXMgYW4gb2JqZWN0LlxuLSAnYXJyYXknOiBUaGUgb3V0cHV0IGlzIGFuIGFycmF5LlxuLSAnZW51bSc6IFRoZSBvdXRwdXQgaXMgYW4gZW51bS5cbi0gJ25vLXNjaGVtYSc6IFRoZSBvdXRwdXQgaXMgbm90IGEgc2NoZW1hLlxuXG5AcGFyYW0gZXhwZXJpbWVudGFsX3JlcGFpclRleHQgLSBBIGZ1bmN0aW9uIHRoYXQgYXR0ZW1wdHMgdG8gcmVwYWlyIHRoZSByYXcgb3V0cHV0IG9mIHRoZSBtb2RlbFxudG8gZW5hYmxlIEpTT04gcGFyc2luZy5cblxuQHBhcmFtIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnkgLSBPcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cblxuQHBhcmFtIHByb3ZpZGVyT3B0aW9ucyAtIEFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuXG5AcmV0dXJuc1xuQSByZXN1bHQgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGdlbmVyYXRlZCBvYmplY3QsIHRoZSBmaW5pc2ggcmVhc29uLCB0aGUgdG9rZW4gdXNhZ2UsIGFuZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVPYmplY3Q8XG4gIFNDSEVNQSBleHRlbmRzXG4gICAgfCB6My5TY2hlbWFcbiAgICB8IHo0LmNvcmUuJFpvZFR5cGVcbiAgICB8IFNjaGVtYSA9IHo0LmNvcmUuJFpvZFR5cGU8SlNPTlZhbHVlPixcbiAgT1VUUFVUIGV4dGVuZHNcbiAgICB8ICdvYmplY3QnXG4gICAgfCAnYXJyYXknXG4gICAgfCAnZW51bSdcbiAgICB8ICduby1zY2hlbWEnID0gSW5mZXJTY2hlbWE8U0NIRU1BPiBleHRlbmRzIHN0cmluZyA/ICdlbnVtJyA6ICdvYmplY3QnLFxuICBSRVNVTFQgPSBPVVRQVVQgZXh0ZW5kcyAnYXJyYXknXG4gICAgPyBBcnJheTxJbmZlclNjaGVtYTxTQ0hFTUE+PlxuICAgIDogSW5mZXJTY2hlbWE8U0NIRU1BPixcbj4oXG4gIG9wdGlvbnM6IE9taXQ8Q2FsbFNldHRpbmdzLCAnc3RvcFNlcXVlbmNlcyc+ICZcbiAgICBQcm9tcHQgJlxuICAgIChPVVRQVVQgZXh0ZW5kcyAnZW51bSdcbiAgICAgID8ge1xuICAgICAgICAgIC8qKlxuVGhlIGVudW0gdmFsdWVzIHRoYXQgdGhlIG1vZGVsIHNob3VsZCB1c2UuXG4gICAgICAgICovXG4gICAgICAgICAgZW51bTogQXJyYXk8UkVTVUxUPjtcbiAgICAgICAgICBtb2RlPzogJ2pzb24nO1xuICAgICAgICAgIG91dHB1dDogJ2VudW0nO1xuICAgICAgICB9XG4gICAgICA6IE9VVFBVVCBleHRlbmRzICduby1zY2hlbWEnXG4gICAgICAgID8ge31cbiAgICAgICAgOiB7XG4gICAgICAgICAgICAvKipcblRoZSBzY2hlbWEgb2YgdGhlIG9iamVjdCB0aGF0IHRoZSBtb2RlbCBzaG91bGQgZ2VuZXJhdGUuXG4gICAgICAgICovXG4gICAgICAgICAgICBzY2hlbWE6IFNDSEVNQTtcblxuICAgICAgICAgICAgLyoqXG5PcHRpb25hbCBuYW1lIG9mIHRoZSBvdXRwdXQgdGhhdCBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuVXNlZCBieSBzb21lIHByb3ZpZGVycyBmb3IgYWRkaXRpb25hbCBMTE0gZ3VpZGFuY2UsIGUuZy5cbnZpYSB0b29sIG9yIHNjaGVtYSBuYW1lLlxuICAgICAgICAqL1xuICAgICAgICAgICAgc2NoZW1hTmFtZT86IHN0cmluZztcblxuICAgICAgICAgICAgLyoqXG5PcHRpb25hbCBkZXNjcmlwdGlvbiBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgZGVzY3JpcHRpb24uXG4gICAgICAgICovXG4gICAgICAgICAgICBzY2hlbWFEZXNjcmlwdGlvbj86IHN0cmluZztcblxuICAgICAgICAgICAgLyoqXG5UaGUgbW9kZSB0byB1c2UgZm9yIG9iamVjdCBnZW5lcmF0aW9uLlxuXG5UaGUgc2NoZW1hIGlzIGNvbnZlcnRlZCBpbnRvIGEgSlNPTiBzY2hlbWEgYW5kIHVzZWQgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgd2F5c1xuXG4tICdhdXRvJzogVGhlIHByb3ZpZGVyIHdpbGwgY2hvb3NlIHRoZSBiZXN0IG1vZGUgZm9yIHRoZSBtb2RlbC5cbi0gJ3Rvb2wnOiBBIHRvb2wgd2l0aCB0aGUgSlNPTiBzY2hlbWEgYXMgcGFyYW1ldGVycyBpcyBwcm92aWRlZCBhbmQgdGhlIHByb3ZpZGVyIGlzIGluc3RydWN0ZWQgdG8gdXNlIGl0LlxuLSAnanNvbic6IFRoZSBKU09OIHNjaGVtYSBhbmQgYW4gaW5zdHJ1Y3Rpb24gYXJlIGluamVjdGVkIGludG8gdGhlIHByb21wdC4gSWYgdGhlIHByb3ZpZGVyIHN1cHBvcnRzIEpTT04gbW9kZSwgaXQgaXMgZW5hYmxlZC4gSWYgdGhlIHByb3ZpZGVyIHN1cHBvcnRzIEpTT04gZ3JhbW1hcnMsIHRoZSBncmFtbWFyIGlzIHVzZWQuXG5cblBsZWFzZSBub3RlIHRoYXQgbW9zdCBwcm92aWRlcnMgZG8gbm90IHN1cHBvcnQgYWxsIG1vZGVzLlxuXG5EZWZhdWx0IGFuZCByZWNvbW1lbmRlZDogJ2F1dG8nIChiZXN0IG1vZGUgZm9yIHRoZSBtb2RlbCkuXG4gICAgICAgICovXG4gICAgICAgICAgICBtb2RlPzogJ2F1dG8nIHwgJ2pzb24nIHwgJ3Rvb2wnO1xuICAgICAgICAgIH0pICYge1xuICAgICAgb3V0cHV0PzogT1VUUFVUO1xuXG4gICAgICAvKipcbiAgVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbiAgICAgICAqL1xuICAgICAgbW9kZWw6IExhbmd1YWdlTW9kZWw7XG4gICAgICAvKipcbiAgQSBmdW5jdGlvbiB0aGF0IGF0dGVtcHRzIHRvIHJlcGFpciB0aGUgcmF3IG91dHB1dCBvZiB0aGUgbW9kZWxcbiAgdG8gZW5hYmxlIEpTT04gcGFyc2luZy5cbiAgICAgICAqL1xuICAgICAgZXhwZXJpbWVudGFsX3JlcGFpclRleHQ/OiBSZXBhaXJUZXh0RnVuY3Rpb247XG5cbiAgICAgIC8qKlxuICBPcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICAgICAgICovXG5cbiAgICAgIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcblxuICAgICAgLyoqXG4gIEN1c3RvbSBkb3dubG9hZCBmdW5jdGlvbiB0byB1c2UgZm9yIFVSTHMuXG5cbiAgQnkgZGVmYXVsdCwgZmlsZXMgYXJlIGRvd25sb2FkZWQgaWYgdGhlIG1vZGVsIGRvZXMgbm90IHN1cHBvcnQgdGhlIFVSTCBmb3IgdGhlIGdpdmVuIG1lZGlhIHR5cGUuXG4gICAgICAgKi9cbiAgICAgIGV4cGVyaW1lbnRhbF9kb3dubG9hZD86IERvd25sb2FkRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbiAgICAgIC8qKlxuICBBZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG4gIHRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuICBmdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICAqL1xuICAgICAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gICAgICAvKipcbiAgICAgICAqIEludGVybmFsLiBGb3IgdGVzdCB1c2Ugb25seS4gTWF5IGNoYW5nZSB3aXRob3V0IG5vdGljZS5cbiAgICAgICAqL1xuICAgICAgX2ludGVybmFsPzoge1xuICAgICAgICBnZW5lcmF0ZUlkPzogKCkgPT4gc3RyaW5nO1xuICAgICAgICBjdXJyZW50RGF0ZT86ICgpID0+IERhdGU7XG4gICAgICB9O1xuICAgIH0sXG4pOiBQcm9taXNlPEdlbmVyYXRlT2JqZWN0UmVzdWx0PFJFU1VMVD4+IHtcbiAgY29uc3Qge1xuICAgIG1vZGVsOiBtb2RlbEFyZyxcbiAgICBvdXRwdXQgPSAnb2JqZWN0JyxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgaGVhZGVycyxcbiAgICBleHBlcmltZW50YWxfcmVwYWlyVGV4dDogcmVwYWlyVGV4dCxcbiAgICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG4gICAgZXhwZXJpbWVudGFsX2Rvd25sb2FkOiBkb3dubG9hZCxcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgX2ludGVybmFsOiB7XG4gICAgICBnZW5lcmF0ZUlkID0gb3JpZ2luYWxHZW5lcmF0ZUlkLFxuICAgICAgY3VycmVudERhdGUgPSAoKSA9PiBuZXcgRGF0ZSgpLFxuICAgIH0gPSB7fSxcbiAgICAuLi5zZXR0aW5nc1xuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBtb2RlbCA9IHJlc29sdmVMYW5ndWFnZU1vZGVsKG1vZGVsQXJnKTtcblxuICBjb25zdCBlbnVtVmFsdWVzID0gJ2VudW0nIGluIG9wdGlvbnMgPyBvcHRpb25zLmVudW0gOiB1bmRlZmluZWQ7XG4gIGNvbnN0IHtcbiAgICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIHNjaGVtYU5hbWUsXG4gIH0gPSAnc2NoZW1hJyBpbiBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gIHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0KHtcbiAgICBvdXRwdXQsXG4gICAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgICBzY2hlbWFOYW1lLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIGVudW1WYWx1ZXMsXG4gIH0pO1xuXG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICB9KTtcblxuICBjb25zdCBvdXRwdXRTdHJhdGVneSA9IGdldE91dHB1dFN0cmF0ZWd5KHtcbiAgICBvdXRwdXQsXG4gICAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgICBlbnVtVmFsdWVzLFxuICB9KTtcblxuICBjb25zdCBjYWxsU2V0dGluZ3MgPSBwcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKTtcblxuICBjb25zdCBoZWFkZXJzV2l0aFVzZXJBZ2VudCA9IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgaGVhZGVycyA/PyB7fSxcbiAgICBgYWkvJHtWRVJTSU9OfWAsXG4gICk7XG5cbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgIHNldHRpbmdzOiB7IC4uLmNhbGxTZXR0aW5ncywgbWF4UmV0cmllcyB9LFxuICB9KTtcblxuICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcblxuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCByZWNvcmRTcGFuKHtcbiAgICAgIG5hbWU6ICdhaS5nZW5lcmF0ZU9iamVjdCcsXG4gICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuZ2VuZXJhdGVPYmplY3QnLFxuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAnYWkucHJvbXB0Jzoge1xuICAgICAgICAgICAgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHsgc3lzdGVtLCBwcm9tcHQsIG1lc3NhZ2VzIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ2FpLnNjaGVtYSc6XG4gICAgICAgICAgICBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hICE9IG51bGxcbiAgICAgICAgICAgICAgPyB7IGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hKSB9XG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICdhaS5zY2hlbWEubmFtZSc6IHNjaGVtYU5hbWUsXG4gICAgICAgICAgJ2FpLnNjaGVtYS5kZXNjcmlwdGlvbic6IHNjaGVtYURlc2NyaXB0aW9uLFxuICAgICAgICAgICdhaS5zZXR0aW5ncy5vdXRwdXQnOiBvdXRwdXRTdHJhdGVneS50eXBlLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICB0cmFjZXIsXG4gICAgICBmbjogYXN5bmMgc3BhbiA9PiB7XG4gICAgICAgIGxldCByZXN1bHQ6IHN0cmluZztcbiAgICAgICAgbGV0IGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uO1xuICAgICAgICBsZXQgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICAgICAgbGV0IHdhcm5pbmdzOiBDYWxsV2FybmluZ1tdIHwgdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuICAgICAgICBsZXQgcmVxdWVzdDogTGFuZ3VhZ2VNb2RlbFJlcXVlc3RNZXRhZGF0YTtcbiAgICAgICAgbGV0IHJlc3VsdFByb3ZpZGVyTWV0YWRhdGE6IFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCByZWFzb25pbmc6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCBzdGFuZGFyZGl6ZWRQcm9tcHQgPSBhd2FpdCBzdGFuZGFyZGl6ZVByb21wdCh7XG4gICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgIHByb21wdCxcbiAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgfSBhcyBQcm9tcHQpO1xuXG4gICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gYXdhaXQgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCh7XG4gICAgICAgICAgcHJvbXB0OiBzdGFuZGFyZGl6ZWRQcm9tcHQsXG4gICAgICAgICAgc3VwcG9ydGVkVXJsczogYXdhaXQgbW9kZWwuc3VwcG9ydGVkVXJscyxcbiAgICAgICAgICBkb3dubG9hZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZ2VuZXJhdGVSZXN1bHQgPSBhd2FpdCByZXRyeSgoKSA9PlxuICAgICAgICAgIHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgbmFtZTogJ2FpLmdlbmVyYXRlT2JqZWN0LmRvR2VuZXJhdGUnLFxuICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLmdlbmVyYXRlT2JqZWN0LmRvR2VuZXJhdGUnLFxuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICdhaS5wcm9tcHQubWVzc2FnZXMnOiB7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5KHByb21wdE1lc3NhZ2VzKSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICdnZW5fYWkuc3lzdGVtJzogbW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1vZGVsJzogbW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QuZnJlcXVlbmN5X3BlbmFsdHknOlxuICAgICAgICAgICAgICAgICAgY2FsbFNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnMnOiBjYWxsU2V0dGluZ3MubWF4T3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5wcmVzZW5jZV9wZW5hbHR5JzogY2FsbFNldHRpbmdzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmUnOiBjYWxsU2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9rJzogY2FsbFNldHRpbmdzLnRvcEssXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9wJzogY2FsbFNldHRpbmdzLnRvcFAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgIGZuOiBhc3luYyBzcGFuID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VGb3JtYXQ6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgIHNjaGVtYTogb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSxcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHNjaGVtYU5hbWUsXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAuLi5wcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKSxcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IHByb21wdE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXN1bHQucmVzcG9uc2U/LmlkID8/IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHJlc3VsdC5yZXNwb25zZT8udGltZXN0YW1wID8/IGN1cnJlbnREYXRlKCksXG4gICAgICAgICAgICAgICAgbW9kZWxJZDogcmVzdWx0LnJlc3BvbnNlPy5tb2RlbElkID8/IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogcmVzdWx0LnJlc3BvbnNlPy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGJvZHk6IHJlc3VsdC5yZXNwb25zZT8uYm9keSxcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZXh0cmFjdFRleHRDb250ZW50KHJlc3VsdC5jb250ZW50KTtcbiAgICAgICAgICAgICAgY29uc3QgcmVhc29uaW5nID0gZXh0cmFjdFJlYXNvbmluZ0NvbnRlbnQocmVzdWx0LmNvbnRlbnQpO1xuXG4gICAgICAgICAgICAgIGlmICh0ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICAnTm8gb2JqZWN0IGdlbmVyYXRlZDogdGhlIG1vZGVsIGRpZCBub3QgcmV0dXJuIGEgcmVzcG9uc2UuJyxcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZURhdGEsXG4gICAgICAgICAgICAgICAgICB1c2FnZTogcmVzdWx0LnVzYWdlLFxuICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiByZXN1bHQuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGluZm9ybWF0aW9uIHRvIHRoZSBzcGFuOlxuICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5maW5pc2hSZWFzb24nOiByZXN1bHQuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2Uub2JqZWN0JzogeyBvdXRwdXQ6ICgpID0+IHRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmlkJzogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UubW9kZWwnOiByZXNwb25zZURhdGEubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRpbWVzdGFtcCc6XG4gICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gcmVuYW1lIHRlbGVtZXRyeSBhdHRyaWJ1dGVzIHRvIGlucHV0VG9rZW5zIGFuZCBvdXRwdXRUb2tlbnNcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnByb21wdFRva2Vucyc6IHJlc3VsdC51c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMnOiByZXN1bHQudXNhZ2Uub3V0cHV0VG9rZW5zLFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5maW5pc2hfcmVhc29ucyc6IFtyZXN1bHQuZmluaXNoUmVhc29uXSxcbiAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5pZCc6IHJlc3BvbnNlRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5tb2RlbCc6IHJlc3BvbnNlRGF0YS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLmlucHV0X3Rva2Vucyc6IHJlc3VsdC51c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS51c2FnZS5vdXRwdXRfdG9rZW5zJzogcmVzdWx0LnVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgb2JqZWN0VGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICByZWFzb25pbmcsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXN1bHQgPSBnZW5lcmF0ZVJlc3VsdC5vYmplY3RUZXh0O1xuICAgICAgICBmaW5pc2hSZWFzb24gPSBnZW5lcmF0ZVJlc3VsdC5maW5pc2hSZWFzb247XG4gICAgICAgIHVzYWdlID0gZ2VuZXJhdGVSZXN1bHQudXNhZ2U7XG4gICAgICAgIHdhcm5pbmdzID0gZ2VuZXJhdGVSZXN1bHQud2FybmluZ3M7XG4gICAgICAgIHJlc3VsdFByb3ZpZGVyTWV0YWRhdGEgPSBnZW5lcmF0ZVJlc3VsdC5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICByZXF1ZXN0ID0gZ2VuZXJhdGVSZXN1bHQucmVxdWVzdCA/PyB7fTtcbiAgICAgICAgcmVzcG9uc2UgPSBnZW5lcmF0ZVJlc3VsdC5yZXNwb25zZURhdGE7XG4gICAgICAgIHJlYXNvbmluZyA9IGdlbmVyYXRlUmVzdWx0LnJlYXNvbmluZztcblxuICAgICAgICBsb2dXYXJuaW5ncyh3YXJuaW5ncyk7XG5cbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gYXdhaXQgcGFyc2VBbmRWYWxpZGF0ZU9iamVjdFJlc3VsdFdpdGhSZXBhaXIoXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIG91dHB1dFN0cmF0ZWd5LFxuICAgICAgICAgIHJlcGFpclRleHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbixcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFkZCByZXNwb25zZSBpbmZvcm1hdGlvbiB0byB0aGUgc3BhbjpcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuZmluaXNoUmVhc29uJzogZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAnYWkucmVzcG9uc2Uub2JqZWN0Jzoge1xuICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob2JqZWN0KSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICByZXN1bHRQcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgIC8vIFRPRE8gcmVuYW1lIHRlbGVtZXRyeSBhdHRyaWJ1dGVzIHRvIGlucHV0VG9rZW5zIGFuZCBvdXRwdXRUb2tlbnNcbiAgICAgICAgICAgICAgJ2FpLnVzYWdlLnByb21wdFRva2Vucyc6IHVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAnYWkudXNhZ2UuY29tcGxldGlvblRva2Vucyc6IHVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0R2VuZXJhdGVPYmplY3RSZXN1bHQoe1xuICAgICAgICAgIG9iamVjdCxcbiAgICAgICAgICByZWFzb25pbmcsXG4gICAgICAgICAgZmluaXNoUmVhc29uLFxuICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgIHdhcm5pbmdzLFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcmVzdWx0UHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IHdyYXBHYXRld2F5RXJyb3IoZXJyb3IpO1xuICB9XG59XG5cbmNsYXNzIERlZmF1bHRHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPiBpbXBsZW1lbnRzIEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+IHtcbiAgcmVhZG9ubHkgb2JqZWN0OiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsnb2JqZWN0J107XG4gIHJlYWRvbmx5IGZpbmlzaFJlYXNvbjogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ2ZpbmlzaFJlYXNvbiddO1xuICByZWFkb25seSB1c2FnZTogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3VzYWdlJ107XG4gIHJlYWRvbmx5IHdhcm5pbmdzOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsnd2FybmluZ3MnXTtcbiAgcmVhZG9ubHkgcHJvdmlkZXJNZXRhZGF0YTogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcbiAgcmVhZG9ubHkgcmVzcG9uc2U6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydyZXNwb25zZSddO1xuICByZWFkb25seSByZXF1ZXN0OiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncmVxdWVzdCddO1xuICByZWFkb25seSByZWFzb25pbmc6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydyZWFzb25pbmcnXTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgb2JqZWN0OiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsnb2JqZWN0J107XG4gICAgZmluaXNoUmVhc29uOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsnZmluaXNoUmVhc29uJ107XG4gICAgdXNhZ2U6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+Wyd1c2FnZSddO1xuICAgIHdhcm5pbmdzOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsnd2FybmluZ3MnXTtcbiAgICBwcm92aWRlck1ldGFkYXRhOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncHJvdmlkZXJNZXRhZGF0YSddO1xuICAgIHJlc3BvbnNlOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncmVzcG9uc2UnXTtcbiAgICByZXF1ZXN0OiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncmVxdWVzdCddO1xuICAgIHJlYXNvbmluZzogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3JlYXNvbmluZyddO1xuICB9KSB7XG4gICAgdGhpcy5vYmplY3QgPSBvcHRpb25zLm9iamVjdDtcbiAgICB0aGlzLmZpbmlzaFJlYXNvbiA9IG9wdGlvbnMuZmluaXNoUmVhc29uO1xuICAgIHRoaXMudXNhZ2UgPSBvcHRpb25zLnVzYWdlO1xuICAgIHRoaXMud2FybmluZ3MgPSBvcHRpb25zLndhcm5pbmdzO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgICB0aGlzLnJlc3BvbnNlID0gb3B0aW9ucy5yZXNwb25zZTtcbiAgICB0aGlzLnJlcXVlc3QgPSBvcHRpb25zLnJlcXVlc3Q7XG4gICAgdGhpcy5yZWFzb25pbmcgPSBvcHRpb25zLnJlYXNvbmluZztcbiAgfVxuXG4gIHRvSnNvblJlc3BvbnNlKGluaXQ/OiBSZXNwb25zZUluaXQpOiBSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh0aGlzLm9iamVjdCksIHtcbiAgICAgIHN0YXR1czogaW5pdD8uc3RhdHVzID8/IDIwMCxcbiAgICAgIGhlYWRlcnM6IHByZXBhcmVIZWFkZXJzKGluaXQ/LmhlYWRlcnMsIHtcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgTGFuZ3VhZ2VNb2RlbFYyQ29udGVudCxcbiAgTGFuZ3VhZ2VNb2RlbFYyUmVhc29uaW5nLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RSZWFzb25pbmdDb250ZW50KFxuICBjb250ZW50OiBMYW5ndWFnZU1vZGVsVjJDb250ZW50W10sXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBjb25zdCBwYXJ0cyA9IGNvbnRlbnQuZmlsdGVyKFxuICAgIChjb250ZW50KTogY29udGVudCBpcyBMYW5ndWFnZU1vZGVsVjJSZWFzb25pbmcgPT5cbiAgICAgIGNvbnRlbnQudHlwZSA9PT0gJ3JlYXNvbmluZycsXG4gICk7XG5cbiAgcmV0dXJuIHBhcnRzLmxlbmd0aCA9PT0gMFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBwYXJ0cy5tYXAoY29udGVudCA9PiBjb250ZW50LnRleHQpLmpvaW4oJ1xcbicpO1xufVxuIiwgImltcG9ydCB7XG4gIGlzSlNPTkFycmF5LFxuICBpc0pTT05PYmplY3QsXG4gIEpTT05PYmplY3QsXG4gIEpTT05TY2hlbWE3LFxuICBKU09OVmFsdWUsXG4gIFR5cGVWYWxpZGF0aW9uRXJyb3IsXG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGFzU2NoZW1hLFxuICBzYWZlVmFsaWRhdGVUeXBlcyxcbiAgU2NoZW1hLFxuICBWYWxpZGF0aW9uUmVzdWx0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCAqIGFzIHozIGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgKiBhcyB6NCBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLW9iamVjdC1nZW5lcmF0ZWQtZXJyb3InO1xuaW1wb3J0IHtcbiAgQXN5bmNJdGVyYWJsZVN0cmVhbSxcbiAgY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbSxcbn0gZnJvbSAnLi4vdXRpbC9hc3luYy1pdGVyYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgRGVlcFBhcnRpYWwgfSBmcm9tICcuLi91dGlsL2RlZXAtcGFydGlhbCc7XG5pbXBvcnQge1xuICBGaW5pc2hSZWFzb24sXG4gIExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhLFxuICBMYW5ndWFnZU1vZGVsVXNhZ2UsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IE9iamVjdFN0cmVhbVBhcnQgfSBmcm9tICcuL3N0cmVhbS1vYmplY3QtcmVzdWx0JztcblxuZXhwb3J0IGludGVyZmFjZSBPdXRwdXRTdHJhdGVneTxQQVJUSUFMLCBSRVNVTFQsIEVMRU1FTlRfU1RSRUFNPiB7XG4gIHJlYWRvbmx5IHR5cGU6ICdvYmplY3QnIHwgJ2FycmF5JyB8ICdlbnVtJyB8ICduby1zY2hlbWEnO1xuICByZWFkb25seSBqc29uU2NoZW1hOiBKU09OU2NoZW1hNyB8IHVuZGVmaW5lZDtcblxuICB2YWxpZGF0ZVBhcnRpYWxSZXN1bHQoe1xuICAgIHZhbHVlLFxuICAgIHRleHREZWx0YSxcbiAgICBpc0ZpbmFsRGVsdGEsXG4gIH06IHtcbiAgICB2YWx1ZTogSlNPTlZhbHVlO1xuICAgIHRleHREZWx0YTogc3RyaW5nO1xuICAgIGlzRmlyc3REZWx0YTogYm9vbGVhbjtcbiAgICBpc0ZpbmFsRGVsdGE6IGJvb2xlYW47XG4gICAgbGF0ZXN0T2JqZWN0OiBQQVJUSUFMIHwgdW5kZWZpbmVkO1xuICB9KTogUHJvbWlzZTxcbiAgICBWYWxpZGF0aW9uUmVzdWx0PHtcbiAgICAgIHBhcnRpYWw6IFBBUlRJQUw7XG4gICAgICB0ZXh0RGVsdGE6IHN0cmluZztcbiAgICB9PlxuICA+O1xuICB2YWxpZGF0ZUZpbmFsUmVzdWx0KFxuICAgIHZhbHVlOiBKU09OVmFsdWUgfCB1bmRlZmluZWQsXG4gICAgY29udGV4dDoge1xuICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuICAgICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICB9LFxuICApOiBQcm9taXNlPFZhbGlkYXRpb25SZXN1bHQ8UkVTVUxUPj47XG5cbiAgY3JlYXRlRWxlbWVudFN0cmVhbShcbiAgICBvcmlnaW5hbFN0cmVhbTogUmVhZGFibGVTdHJlYW08T2JqZWN0U3RyZWFtUGFydDxQQVJUSUFMPj4sXG4gICk6IEVMRU1FTlRfU1RSRUFNO1xufVxuXG5jb25zdCBub1NjaGVtYU91dHB1dFN0cmF0ZWd5OiBPdXRwdXRTdHJhdGVneTxKU09OVmFsdWUsIEpTT05WYWx1ZSwgbmV2ZXI+ID0ge1xuICB0eXBlOiAnbm8tc2NoZW1hJyxcbiAganNvblNjaGVtYTogdW5kZWZpbmVkLFxuXG4gIGFzeW5jIHZhbGlkYXRlUGFydGlhbFJlc3VsdCh7IHZhbHVlLCB0ZXh0RGVsdGEgfSkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiB7IHBhcnRpYWw6IHZhbHVlLCB0ZXh0RGVsdGEgfSB9O1xuICB9LFxuXG4gIGFzeW5jIHZhbGlkYXRlRmluYWxSZXN1bHQoXG4gICAgdmFsdWU6IEpTT05WYWx1ZSB8IHVuZGVmaW5lZCxcbiAgICBjb250ZXh0OiB7XG4gICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICAgICAgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb247XG4gICAgfSxcbiAgKTogUHJvbWlzZTxWYWxpZGF0aW9uUmVzdWx0PEpTT05WYWx1ZT4+IHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdObyBvYmplY3QgZ2VuZXJhdGVkOiByZXNwb25zZSBkaWQgbm90IG1hdGNoIHNjaGVtYS4nLFxuICAgICAgICAgICAgdGV4dDogY29udGV4dC50ZXh0LFxuICAgICAgICAgICAgcmVzcG9uc2U6IGNvbnRleHQucmVzcG9uc2UsXG4gICAgICAgICAgICB1c2FnZTogY29udGV4dC51c2FnZSxcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogY29udGV4dC5maW5pc2hSZWFzb24sXG4gICAgICAgICAgfSksXG4gICAgICAgIH1cbiAgICAgIDogeyBzdWNjZXNzOiB0cnVlLCB2YWx1ZSB9O1xuICB9LFxuXG4gIGNyZWF0ZUVsZW1lbnRTdHJlYW0oKSB7XG4gICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yKHtcbiAgICAgIGZ1bmN0aW9uYWxpdHk6ICdlbGVtZW50IHN0cmVhbXMgaW4gbm8tc2NoZW1hIG1vZGUnLFxuICAgIH0pO1xuICB9LFxufTtcblxuY29uc3Qgb2JqZWN0T3V0cHV0U3RyYXRlZ3kgPSA8T0JKRUNUPihcbiAgc2NoZW1hOiBTY2hlbWE8T0JKRUNUPixcbik6IE91dHB1dFN0cmF0ZWd5PERlZXBQYXJ0aWFsPE9CSkVDVD4sIE9CSkVDVCwgbmV2ZXI+ID0+ICh7XG4gIHR5cGU6ICdvYmplY3QnLFxuICBqc29uU2NoZW1hOiBzY2hlbWEuanNvblNjaGVtYSxcblxuICBhc3luYyB2YWxpZGF0ZVBhcnRpYWxSZXN1bHQoeyB2YWx1ZSwgdGV4dERlbHRhIH0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIC8vIE5vdGU6IGN1cnJlbnRseSBubyB2YWxpZGF0aW9uIG9mIHBhcnRpYWwgcmVzdWx0czpcbiAgICAgICAgcGFydGlhbDogdmFsdWUgYXMgRGVlcFBhcnRpYWw8T0JKRUNUPixcbiAgICAgICAgdGV4dERlbHRhLFxuICAgICAgfSxcbiAgICB9O1xuICB9LFxuXG4gIGFzeW5jIHZhbGlkYXRlRmluYWxSZXN1bHQoXG4gICAgdmFsdWU6IEpTT05WYWx1ZSB8IHVuZGVmaW5lZCxcbiAgKTogUHJvbWlzZTxWYWxpZGF0aW9uUmVzdWx0PE9CSkVDVD4+IHtcbiAgICByZXR1cm4gc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZSwgc2NoZW1hIH0pO1xuICB9LFxuXG4gIGNyZWF0ZUVsZW1lbnRTdHJlYW0oKSB7XG4gICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yKHtcbiAgICAgIGZ1bmN0aW9uYWxpdHk6ICdlbGVtZW50IHN0cmVhbXMgaW4gb2JqZWN0IG1vZGUnLFxuICAgIH0pO1xuICB9LFxufSk7XG5cbmNvbnN0IGFycmF5T3V0cHV0U3RyYXRlZ3kgPSA8RUxFTUVOVD4oXG4gIHNjaGVtYTogU2NoZW1hPEVMRU1FTlQ+LFxuKTogT3V0cHV0U3RyYXRlZ3k8RUxFTUVOVFtdLCBFTEVNRU5UW10sIEFzeW5jSXRlcmFibGVTdHJlYW08RUxFTUVOVD4+ID0+IHtcbiAgLy8gcmVtb3ZlICRzY2hlbWEgZnJvbSBzY2hlbWEuanNvblNjaGVtYTpcbiAgY29uc3QgeyAkc2NoZW1hLCAuLi5pdGVtU2NoZW1hIH0gPSBzY2hlbWEuanNvblNjaGVtYTtcblxuICByZXR1cm4ge1xuICAgIHR5cGU6ICdlbnVtJyxcblxuICAgIC8vIHdyYXAgaW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYXJyYXkgb2YgZWxlbWVudHMsIHNpbmNlIG1vc3QgTExNcyB3aWxsIG5vdFxuICAgIC8vIGJlIGFibGUgdG8gZ2VuZXJhdGUgYW4gYXJyYXkgZGlyZWN0bHk6XG4gICAgLy8gcG9zc2libGUgZnV0dXJlIG9wdGltaXphdGlvbjogdXNlIGFycmF5cyBkaXJlY3RseSB3aGVuIG1vZGVsIHN1cHBvcnRzIGdyYW1tYXItZ3VpZGVkIGdlbmVyYXRpb25cbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAkc2NoZW1hOiAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjJyxcbiAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBlbGVtZW50czogeyB0eXBlOiAnYXJyYXknLCBpdGVtczogaXRlbVNjaGVtYSB9LFxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbJ2VsZW1lbnRzJ10sXG4gICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgfSxcblxuICAgIGFzeW5jIHZhbGlkYXRlUGFydGlhbFJlc3VsdCh7XG4gICAgICB2YWx1ZSxcbiAgICAgIGxhdGVzdE9iamVjdCxcbiAgICAgIGlzRmlyc3REZWx0YSxcbiAgICAgIGlzRmluYWxEZWx0YSxcbiAgICB9KSB7XG4gICAgICAvLyBjaGVjayB0aGF0IHRoZSB2YWx1ZSBpcyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhbiBhcnJheSBvZiBlbGVtZW50czpcbiAgICAgIGlmICghaXNKU09OT2JqZWN0KHZhbHVlKSB8fCAhaXNKU09OQXJyYXkodmFsdWUuZWxlbWVudHMpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2F1c2U6ICd2YWx1ZSBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFuIGFycmF5IG9mIGVsZW1lbnRzJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5wdXRBcnJheSA9IHZhbHVlLmVsZW1lbnRzIGFzIEFycmF5PEpTT05PYmplY3Q+O1xuICAgICAgY29uc3QgcmVzdWx0QXJyYXk6IEFycmF5PEVMRU1FTlQ+ID0gW107XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gaW5wdXRBcnJheVtpXTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZTogZWxlbWVudCwgc2NoZW1hIH0pO1xuXG4gICAgICAgIC8vIHNwZWNpYWwgdHJlYXRtZW50IGZvciBsYXN0IHByb2Nlc3NlZCBlbGVtZW50OlxuICAgICAgICAvLyBpZ25vcmUgcGFyc2Ugb3IgdmFsaWRhdGlvbiBmYWlsdXJlcywgc2luY2UgdGhleSBpbmRpY2F0ZSB0aGF0IHRoZVxuICAgICAgICAvLyBsYXN0IGVsZW1lbnQgaXMgaW5jb21wbGV0ZSBhbmQgc2hvdWxkIG5vdCBiZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0LFxuICAgICAgICAvLyB1bmxlc3MgaXQgaXMgdGhlIGZpbmFsIGRlbHRhXG4gICAgICAgIGlmIChpID09PSBpbnB1dEFycmF5Lmxlbmd0aCAtIDEgJiYgIWlzRmluYWxEZWx0YSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRBcnJheS5wdXNoKHJlc3VsdC52YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNhbGN1bGF0ZSBkZWx0YTpcbiAgICAgIGNvbnN0IHB1Ymxpc2hlZEVsZW1lbnRDb3VudCA9IGxhdGVzdE9iamVjdD8ubGVuZ3RoID8/IDA7XG5cbiAgICAgIGxldCB0ZXh0RGVsdGEgPSAnJztcblxuICAgICAgaWYgKGlzRmlyc3REZWx0YSkge1xuICAgICAgICB0ZXh0RGVsdGEgKz0gJ1snO1xuICAgICAgfVxuXG4gICAgICBpZiAocHVibGlzaGVkRWxlbWVudENvdW50ID4gMCkge1xuICAgICAgICB0ZXh0RGVsdGEgKz0gJywnO1xuICAgICAgfVxuXG4gICAgICB0ZXh0RGVsdGEgKz0gcmVzdWx0QXJyYXlcbiAgICAgICAgLnNsaWNlKHB1Ymxpc2hlZEVsZW1lbnRDb3VudCkgLy8gb25seSBuZXcgZWxlbWVudHNcbiAgICAgICAgLm1hcChlbGVtZW50ID0+IEpTT04uc3RyaW5naWZ5KGVsZW1lbnQpKVxuICAgICAgICAuam9pbignLCcpO1xuXG4gICAgICBpZiAoaXNGaW5hbERlbHRhKSB7XG4gICAgICAgIHRleHREZWx0YSArPSAnXSc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgcGFydGlhbDogcmVzdWx0QXJyYXksXG4gICAgICAgICAgdGV4dERlbHRhLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgYXN5bmMgdmFsaWRhdGVGaW5hbFJlc3VsdChcbiAgICAgIHZhbHVlOiBKU09OVmFsdWUgfCB1bmRlZmluZWQsXG4gICAgKTogUHJvbWlzZTxWYWxpZGF0aW9uUmVzdWx0PEFycmF5PEVMRU1FTlQ+Pj4ge1xuICAgICAgLy8gY2hlY2sgdGhhdCB0aGUgdmFsdWUgaXMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYW4gYXJyYXkgb2YgZWxlbWVudHM6XG4gICAgICBpZiAoIWlzSlNPTk9iamVjdCh2YWx1ZSkgfHwgIWlzSlNPTkFycmF5KHZhbHVlLmVsZW1lbnRzKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNhdXNlOiAndmFsdWUgbXVzdCBiZSBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhbiBhcnJheSBvZiBlbGVtZW50cycsXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlucHV0QXJyYXkgPSB2YWx1ZS5lbGVtZW50cyBhcyBBcnJheTxKU09OT2JqZWN0PjtcblxuICAgICAgLy8gY2hlY2sgdGhhdCBlYWNoIGVsZW1lbnQgaW4gdGhlIGFycmF5IGlzIG9mIHRoZSBjb3JyZWN0IHR5cGU6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgaW5wdXRBcnJheSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlcyh7IHZhbHVlOiBlbGVtZW50LCBzY2hlbWEgfSk7XG4gICAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiBpbnB1dEFycmF5IGFzIEFycmF5PEVMRU1FTlQ+IH07XG4gICAgfSxcblxuICAgIGNyZWF0ZUVsZW1lbnRTdHJlYW0oXG4gICAgICBvcmlnaW5hbFN0cmVhbTogUmVhZGFibGVTdHJlYW08T2JqZWN0U3RyZWFtUGFydDxFTEVNRU5UW10+PixcbiAgICApIHtcbiAgICAgIGxldCBwdWJsaXNoZWRFbGVtZW50cyA9IDA7XG5cbiAgICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgICBvcmlnaW5hbFN0cmVhbS5waXBlVGhyb3VnaChcbiAgICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8RUxFTUVOVFtdPiwgRUxFTUVOVD4oe1xuICAgICAgICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5ID0gY2h1bmsub2JqZWN0O1xuXG4gICAgICAgICAgICAgICAgICAvLyBwdWJsaXNoIG5ldyBlbGVtZW50cyBvbmUgYnkgb25lOlxuICAgICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBwdWJsaXNoZWRFbGVtZW50cyA8IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVkRWxlbWVudHMrK1xuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShhcnJheVtwdWJsaXNoZWRFbGVtZW50c10pO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0LWRlbHRhJzpcbiAgICAgICAgICAgICAgICBjYXNlICdmaW5pc2gnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzogLy8gc3VwcHJlc3MgZXJyb3IgKHVzZSBvbkVycm9yIGluc3RlYWQpXG4gICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gY2h1bms7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBVbnN1cHBvcnRlZCBjaHVuayB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9LFxuICB9O1xufTtcblxuY29uc3QgZW51bU91dHB1dFN0cmF0ZWd5ID0gPEVOVU0gZXh0ZW5kcyBzdHJpbmc+KFxuICBlbnVtVmFsdWVzOiBBcnJheTxFTlVNPixcbik6IE91dHB1dFN0cmF0ZWd5PHN0cmluZywgRU5VTSwgbmV2ZXI+ID0+IHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnZW51bScsXG5cbiAgICAvLyB3cmFwIGluIG9iamVjdCB0aGF0IGNvbnRhaW5zIHJlc3VsdCwgc2luY2UgbW9zdCBMTE1zIHdpbGwgbm90XG4gICAgLy8gYmUgYWJsZSB0byBnZW5lcmF0ZSBhbiBlbnVtIHZhbHVlIGRpcmVjdGx5OlxuICAgIC8vIHBvc3NpYmxlIGZ1dHVyZSBvcHRpbWl6YXRpb246IHVzZSBlbnVtcyBkaXJlY3RseSB3aGVuIG1vZGVsIHN1cHBvcnRzIHRvcC1sZXZlbCBlbnVtc1xuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICRzY2hlbWE6ICdodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSMnLFxuICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIHJlc3VsdDogeyB0eXBlOiAnc3RyaW5nJywgZW51bTogZW51bVZhbHVlcyB9LFxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbJ3Jlc3VsdCddLFxuICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgIH0sXG5cbiAgICBhc3luYyB2YWxpZGF0ZUZpbmFsUmVzdWx0KFxuICAgICAgdmFsdWU6IEpTT05WYWx1ZSB8IHVuZGVmaW5lZCxcbiAgICApOiBQcm9taXNlPFZhbGlkYXRpb25SZXN1bHQ8RU5VTT4+IHtcbiAgICAgIC8vIGNoZWNrIHRoYXQgdGhlIHZhbHVlIGlzIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFuIGFycmF5IG9mIGVsZW1lbnRzOlxuICAgICAgaWYgKCFpc0pTT05PYmplY3QodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5yZXN1bHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2F1c2U6XG4gICAgICAgICAgICAgICd2YWx1ZSBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgc3RyaW5nIGluIHRoZSBcInJlc3VsdFwiIHByb3BlcnR5LicsXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlLnJlc3VsdCBhcyBzdHJpbmc7XG5cbiAgICAgIHJldHVybiBlbnVtVmFsdWVzLmluY2x1ZGVzKHJlc3VsdCBhcyBFTlVNKVxuICAgICAgICA/IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdCBhcyBFTlVNIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBjYXVzZTogJ3ZhbHVlIG11c3QgYmUgYSBzdHJpbmcgaW4gdGhlIGVudW0nLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgYXN5bmMgdmFsaWRhdGVQYXJ0aWFsUmVzdWx0KHsgdmFsdWUsIHRleHREZWx0YSB9KSB7XG4gICAgICBpZiAoIWlzSlNPTk9iamVjdCh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnJlc3VsdCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBjYXVzZTpcbiAgICAgICAgICAgICAgJ3ZhbHVlIG11c3QgYmUgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBzdHJpbmcgaW4gdGhlIFwicmVzdWx0XCIgcHJvcGVydHkuJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUucmVzdWx0IGFzIHN0cmluZztcbiAgICAgIGNvbnN0IHBvc3NpYmxlRW51bVZhbHVlcyA9IGVudW1WYWx1ZXMuZmlsdGVyKGVudW1WYWx1ZSA9PlxuICAgICAgICBlbnVtVmFsdWUuc3RhcnRzV2l0aChyZXN1bHQpLFxuICAgICAgKTtcblxuICAgICAgaWYgKHZhbHVlLnJlc3VsdC5sZW5ndGggPT09IDAgfHwgcG9zc2libGVFbnVtVmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNhdXNlOiAndmFsdWUgbXVzdCBiZSBhIHN0cmluZyBpbiB0aGUgZW51bScsXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgcGFydGlhbDpcbiAgICAgICAgICAgIHBvc3NpYmxlRW51bVZhbHVlcy5sZW5ndGggPiAxID8gcmVzdWx0IDogcG9zc2libGVFbnVtVmFsdWVzWzBdLFxuICAgICAgICAgIHRleHREZWx0YSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIGNyZWF0ZUVsZW1lbnRTdHJlYW0oKSB7XG4gICAgICAvLyBubyBzdHJlYW1pbmcgaW4gZW51bSBtb2RlXG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Ioe1xuICAgICAgICBmdW5jdGlvbmFsaXR5OiAnZWxlbWVudCBzdHJlYW1zIGluIGVudW0gbW9kZScsXG4gICAgICB9KTtcbiAgICB9LFxuICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE91dHB1dFN0cmF0ZWd5PFNDSEVNQT4oe1xuICBvdXRwdXQsXG4gIHNjaGVtYSxcbiAgZW51bVZhbHVlcyxcbn06IHtcbiAgb3V0cHV0OiAnb2JqZWN0JyB8ICdhcnJheScgfCAnZW51bScgfCAnbm8tc2NoZW1hJztcbiAgc2NoZW1hPzpcbiAgICB8IHo0LmNvcmUuJFpvZFR5cGU8U0NIRU1BLCBhbnk+XG4gICAgfCB6My5TY2hlbWE8U0NIRU1BLCB6My5ab2RUeXBlRGVmLCBhbnk+XG4gICAgfCBTY2hlbWE8U0NIRU1BPjtcbiAgZW51bVZhbHVlcz86IEFycmF5PFNDSEVNQT47XG59KTogT3V0cHV0U3RyYXRlZ3k8YW55LCBhbnksIGFueT4ge1xuICBzd2l0Y2ggKG91dHB1dCkge1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICByZXR1cm4gb2JqZWN0T3V0cHV0U3RyYXRlZ3koYXNTY2hlbWEoc2NoZW1hISkpO1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHJldHVybiBhcnJheU91dHB1dFN0cmF0ZWd5KGFzU2NoZW1hKHNjaGVtYSEpKTtcbiAgICBjYXNlICdlbnVtJzpcbiAgICAgIHJldHVybiBlbnVtT3V0cHV0U3RyYXRlZ3koZW51bVZhbHVlcyEgYXMgQXJyYXk8c3RyaW5nPik7XG4gICAgY2FzZSAnbm8tc2NoZW1hJzpcbiAgICAgIHJldHVybiBub1NjaGVtYU91dHB1dFN0cmF0ZWd5O1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gb3V0cHV0O1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBvdXRwdXQ6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBKU09OUGFyc2VFcnJvciwgVHlwZVZhbGlkYXRpb25FcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgc2FmZVBhcnNlSlNPTiB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLW9iamVjdC1nZW5lcmF0ZWQtZXJyb3InO1xuaW1wb3J0IHR5cGUge1xuICBGaW5pc2hSZWFzb24sXG4gIExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhLFxuICBMYW5ndWFnZU1vZGVsVXNhZ2UsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgT3V0cHV0U3RyYXRlZ3kgfSBmcm9tICcuL291dHB1dC1zdHJhdGVneSc7XG5pbXBvcnQgeyBSZXBhaXJUZXh0RnVuY3Rpb24gfSBmcm9tICcuL3JlcGFpci10ZXh0JztcblxuLyoqXG4gKiBQYXJzZXMgYW5kIHZhbGlkYXRlcyBhIHJlc3VsdCBzdHJpbmcgYnkgcGFyc2luZyBpdCBhcyBKU09OIGFuZCB2YWxpZGF0aW5nIGFnYWluc3QgdGhlIG91dHB1dCBzdHJhdGVneS5cbiAqXG4gKiBAcGFyYW0gcmVzdWx0IC0gVGhlIHJlc3VsdCBzdHJpbmcgdG8gcGFyc2UgYW5kIHZhbGlkYXRlXG4gKiBAcGFyYW0gb3V0cHV0U3RyYXRlZ3kgLSBUaGUgb3V0cHV0IHN0cmF0ZWd5IGNvbnRhaW5pbmcgdmFsaWRhdGlvbiBsb2dpY1xuICogQHBhcmFtIGNvbnRleHQgLSBBZGRpdGlvbmFsIGNvbnRleHQgZm9yIGVycm9yIHJlcG9ydGluZ1xuICogQHJldHVybnMgVGhlIHZhbGlkYXRlZCByZXN1bHRcbiAqIEB0aHJvd3MgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciBpZiBwYXJzaW5nIG9yIHZhbGlkYXRpb24gZmFpbHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gcGFyc2VBbmRWYWxpZGF0ZU9iamVjdFJlc3VsdDxSRVNVTFQ+KFxuICByZXN1bHQ6IHN0cmluZyxcbiAgb3V0cHV0U3RyYXRlZ3k6IE91dHB1dFN0cmF0ZWd5PGFueSwgUkVTVUxULCBhbnk+LFxuICBjb250ZXh0OiB7XG4gICAgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb247XG4gIH0sXG4pOiBQcm9taXNlPFJFU1VMVD4ge1xuICBjb25zdCBwYXJzZVJlc3VsdCA9IGF3YWl0IHNhZmVQYXJzZUpTT04oeyB0ZXh0OiByZXN1bHQgfSk7XG5cbiAgaWYgKCFwYXJzZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogJ05vIG9iamVjdCBnZW5lcmF0ZWQ6IGNvdWxkIG5vdCBwYXJzZSB0aGUgcmVzcG9uc2UuJyxcbiAgICAgIGNhdXNlOiBwYXJzZVJlc3VsdC5lcnJvcixcbiAgICAgIHRleHQ6IHJlc3VsdCxcbiAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgdXNhZ2U6IGNvbnRleHQudXNhZ2UsXG4gICAgICBmaW5pc2hSZWFzb246IGNvbnRleHQuZmluaXNoUmVhc29uLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IG91dHB1dFN0cmF0ZWd5LnZhbGlkYXRlRmluYWxSZXN1bHQoXG4gICAgcGFyc2VSZXN1bHQudmFsdWUsXG4gICAge1xuICAgICAgdGV4dDogcmVzdWx0LFxuICAgICAgcmVzcG9uc2U6IGNvbnRleHQucmVzcG9uc2UsXG4gICAgICB1c2FnZTogY29udGV4dC51c2FnZSxcbiAgICB9LFxuICApO1xuXG4gIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogJ05vIG9iamVjdCBnZW5lcmF0ZWQ6IHJlc3BvbnNlIGRpZCBub3QgbWF0Y2ggc2NoZW1hLicsXG4gICAgICBjYXVzZTogdmFsaWRhdGlvblJlc3VsdC5lcnJvcixcbiAgICAgIHRleHQ6IHJlc3VsdCxcbiAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgdXNhZ2U6IGNvbnRleHQudXNhZ2UsXG4gICAgICBmaW5pc2hSZWFzb246IGNvbnRleHQuZmluaXNoUmVhc29uLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHZhbGlkYXRpb25SZXN1bHQudmFsdWU7XG59XG5cbi8qKlxuICogUGFyc2VzIGFuZCB2YWxpZGF0ZXMgYSByZXN1bHQgc3RyaW5nIGJ5IHBhcnNpbmcgaXQgYXMgSlNPTiBhbmQgdmFsaWRhdGluZyBhZ2FpbnN0IHRoZSBvdXRwdXQgc3RyYXRlZ3kuXG4gKiBJZiB0aGUgcmVzdWx0IGNhbm5vdCBiZSBwYXJzZWQsIGl0IGF0dGVtcHRzIHRvIHJlcGFpciB0aGUgcmVzdWx0IHVzaW5nIHRoZSByZXBhaXJUZXh0IGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSByZXN1bHQgLSBUaGUgcmVzdWx0IHN0cmluZyB0byBwYXJzZSBhbmQgdmFsaWRhdGVcbiAqIEBwYXJhbSBvdXRwdXRTdHJhdGVneSAtIFRoZSBvdXRwdXQgc3RyYXRlZ3kgY29udGFpbmluZyB2YWxpZGF0aW9uIGxvZ2ljXG4gKiBAcGFyYW0gcmVwYWlyVGV4dCAtIEEgZnVuY3Rpb24gdGhhdCBhdHRlbXB0cyB0byByZXBhaXIgdGhlIHJlc3VsdCBzdHJpbmdcbiAqIEBwYXJhbSBjb250ZXh0IC0gQWRkaXRpb25hbCBjb250ZXh0IGZvciBlcnJvciByZXBvcnRpbmdcbiAqIEByZXR1cm5zIFRoZSB2YWxpZGF0ZWQgcmVzdWx0XG4gKiBAdGhyb3dzIE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgaWYgcGFyc2luZyBvciB2YWxpZGF0aW9uIGZhaWxzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUFuZFZhbGlkYXRlT2JqZWN0UmVzdWx0V2l0aFJlcGFpcjxSRVNVTFQ+KFxuICByZXN1bHQ6IHN0cmluZyxcbiAgb3V0cHV0U3RyYXRlZ3k6IE91dHB1dFN0cmF0ZWd5PGFueSwgUkVTVUxULCBhbnk+LFxuICByZXBhaXJUZXh0OiBSZXBhaXJUZXh0RnVuY3Rpb24gfCB1bmRlZmluZWQsXG4gIGNvbnRleHQ6IHtcbiAgICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgfSxcbik6IFByb21pc2U8UkVTVUxUPiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHBhcnNlQW5kVmFsaWRhdGVPYmplY3RSZXN1bHQocmVzdWx0LCBvdXRwdXRTdHJhdGVneSwgY29udGV4dCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKFxuICAgICAgcmVwYWlyVGV4dCAhPSBudWxsICYmXG4gICAgICBOb09iamVjdEdlbmVyYXRlZEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpICYmXG4gICAgICAoSlNPTlBhcnNlRXJyb3IuaXNJbnN0YW5jZShlcnJvci5jYXVzZSkgfHxcbiAgICAgICAgVHlwZVZhbGlkYXRpb25FcnJvci5pc0luc3RhbmNlKGVycm9yLmNhdXNlKSlcbiAgICApIHtcbiAgICAgIGNvbnN0IHJlcGFpcmVkVGV4dCA9IGF3YWl0IHJlcGFpclRleHQoe1xuICAgICAgICB0ZXh0OiByZXN1bHQsXG4gICAgICAgIGVycm9yOiBlcnJvci5jYXVzZSxcbiAgICAgIH0pO1xuICAgICAgaWYgKHJlcGFpcmVkVGV4dCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCBwYXJzZUFuZFZhbGlkYXRlT2JqZWN0UmVzdWx0KFxuICAgICAgICByZXBhaXJlZFRleHQsXG4gICAgICAgIG91dHB1dFN0cmF0ZWd5LFxuICAgICAgICBjb250ZXh0LFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBTY2hlbWEgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCAqIGFzIHozIGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgKiBhcyB6NCBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0KHtcbiAgb3V0cHV0LFxuICBzY2hlbWEsXG4gIHNjaGVtYU5hbWUsXG4gIHNjaGVtYURlc2NyaXB0aW9uLFxuICBlbnVtVmFsdWVzLFxufToge1xuICBvdXRwdXQ/OiAnb2JqZWN0JyB8ICdhcnJheScgfCAnZW51bScgfCAnbm8tc2NoZW1hJztcbiAgc2NoZW1hPzogejQuY29yZS4kWm9kVHlwZSB8IHozLlNjaGVtYTxhbnksIHozLlpvZFR5cGVEZWYsIGFueT4gfCBTY2hlbWE8YW55PjtcbiAgc2NoZW1hTmFtZT86IHN0cmluZztcbiAgc2NoZW1hRGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGVudW1WYWx1ZXM/OiBBcnJheTx1bmtub3duPjtcbn0pIHtcbiAgaWYgKFxuICAgIG91dHB1dCAhPSBudWxsICYmXG4gICAgb3V0cHV0ICE9PSAnb2JqZWN0JyAmJlxuICAgIG91dHB1dCAhPT0gJ2FycmF5JyAmJlxuICAgIG91dHB1dCAhPT0gJ2VudW0nICYmXG4gICAgb3V0cHV0ICE9PSAnbm8tc2NoZW1hJ1xuICApIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgcGFyYW1ldGVyOiAnb3V0cHV0JyxcbiAgICAgIHZhbHVlOiBvdXRwdXQsXG4gICAgICBtZXNzYWdlOiAnSW52YWxpZCBvdXRwdXQgdHlwZS4nLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKG91dHB1dCA9PT0gJ25vLXNjaGVtYScpIHtcbiAgICBpZiAoc2NoZW1hICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3NjaGVtYScsXG4gICAgICAgIHZhbHVlOiBzY2hlbWEsXG4gICAgICAgIG1lc3NhZ2U6ICdTY2hlbWEgaXMgbm90IHN1cHBvcnRlZCBmb3Igbm8tc2NoZW1hIG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3NjaGVtYURlc2NyaXB0aW9uJyxcbiAgICAgICAgdmFsdWU6IHNjaGVtYURlc2NyaXB0aW9uLFxuICAgICAgICBtZXNzYWdlOiAnU2NoZW1hIGRlc2NyaXB0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG5vLXNjaGVtYSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzY2hlbWFOYW1lICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3NjaGVtYU5hbWUnLFxuICAgICAgICB2YWx1ZTogc2NoZW1hTmFtZSxcbiAgICAgICAgbWVzc2FnZTogJ1NjaGVtYSBuYW1lIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG5vLXNjaGVtYSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbnVtVmFsdWVzICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ2VudW1WYWx1ZXMnLFxuICAgICAgICB2YWx1ZTogZW51bVZhbHVlcyxcbiAgICAgICAgbWVzc2FnZTogJ0VudW0gdmFsdWVzIGFyZSBub3Qgc3VwcG9ydGVkIGZvciBuby1zY2hlbWEgb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAob3V0cHV0ID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnc2NoZW1hJyxcbiAgICAgICAgdmFsdWU6IHNjaGVtYSxcbiAgICAgICAgbWVzc2FnZTogJ1NjaGVtYSBpcyByZXF1aXJlZCBmb3Igb2JqZWN0IG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGVudW1WYWx1ZXMgIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnZW51bVZhbHVlcycsXG4gICAgICAgIHZhbHVlOiBlbnVtVmFsdWVzLFxuICAgICAgICBtZXNzYWdlOiAnRW51bSB2YWx1ZXMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIG9iamVjdCBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChvdXRwdXQgPT09ICdhcnJheScpIHtcbiAgICBpZiAoc2NoZW1hID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3NjaGVtYScsXG4gICAgICAgIHZhbHVlOiBzY2hlbWEsXG4gICAgICAgIG1lc3NhZ2U6ICdFbGVtZW50IHNjaGVtYSBpcyByZXF1aXJlZCBmb3IgYXJyYXkgb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZW51bVZhbHVlcyAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdlbnVtVmFsdWVzJyxcbiAgICAgICAgdmFsdWU6IGVudW1WYWx1ZXMsXG4gICAgICAgIG1lc3NhZ2U6ICdFbnVtIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgYXJyYXkgb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAob3V0cHV0ID09PSAnZW51bScpIHtcbiAgICBpZiAoc2NoZW1hICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3NjaGVtYScsXG4gICAgICAgIHZhbHVlOiBzY2hlbWEsXG4gICAgICAgIG1lc3NhZ2U6ICdTY2hlbWEgaXMgbm90IHN1cHBvcnRlZCBmb3IgZW51bSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzY2hlbWFEZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWFEZXNjcmlwdGlvbicsXG4gICAgICAgIHZhbHVlOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgbWVzc2FnZTogJ1NjaGVtYSBkZXNjcmlwdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGZvciBlbnVtIG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYU5hbWUgIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnc2NoZW1hTmFtZScsXG4gICAgICAgIHZhbHVlOiBzY2hlbWFOYW1lLFxuICAgICAgICBtZXNzYWdlOiAnU2NoZW1hIG5hbWUgaXMgbm90IHN1cHBvcnRlZCBmb3IgZW51bSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbnVtVmFsdWVzID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ2VudW1WYWx1ZXMnLFxuICAgICAgICB2YWx1ZTogZW51bVZhbHVlcyxcbiAgICAgICAgbWVzc2FnZTogJ0VudW0gdmFsdWVzIGFyZSByZXF1aXJlZCBmb3IgZW51bSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgZW51bVZhbHVlcykge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgICBwYXJhbWV0ZXI6ICdlbnVtVmFsdWVzJyxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBtZXNzYWdlOiAnRW51bSB2YWx1ZXMgbXVzdCBiZSBzdHJpbmdzLicsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7XG4gIEpTT05WYWx1ZSxcbiAgTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmcsXG4gIExhbmd1YWdlTW9kZWxWMkZpbmlzaFJlYXNvbixcbiAgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCxcbiAgTGFuZ3VhZ2VNb2RlbFYyVXNhZ2UsXG4gIFNoYXJlZFYyUHJvdmlkZXJNZXRhZGF0YSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjcmVhdGVJZEdlbmVyYXRvcixcbiAgUHJvdmlkZXJPcHRpb25zLFxuICB0eXBlIEluZmVyU2NoZW1hLFxuICB0eXBlIFNjaGVtYSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ2h0dHAnO1xuaW1wb3J0ICogYXMgejMgZnJvbSAnem9kL3YzJztcbmltcG9ydCAqIGFzIHo0IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBsb2dXYXJuaW5ncyB9IGZyb20gJy4uL2xvZ2dlci9sb2ctd2FybmluZ3MnO1xuaW1wb3J0IHsgcmVzb2x2ZUxhbmd1YWdlTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9yZXNvbHZlLW1vZGVsJztcbmltcG9ydCB7IENhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvY29udmVydC10by1sYW5ndWFnZS1tb2RlbC1wcm9tcHQnO1xuaW1wb3J0IHsgcHJlcGFyZUNhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9wcmVwYXJlLWNhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3Byb21wdCc7XG5pbXBvcnQgeyBzdGFuZGFyZGl6ZVByb21wdCB9IGZyb20gJy4uL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQnO1xuaW1wb3J0IHsgd3JhcEdhdGV3YXlFcnJvciB9IGZyb20gJy4uL3Byb21wdC93cmFwLWdhdGV3YXktZXJyb3InO1xuaW1wb3J0IHsgYXNzZW1ibGVPcGVyYXRpb25OYW1lIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lJztcbmltcG9ydCB7IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC1iYXNlLXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IGdldFRyYWNlciB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtdHJhY2VyJztcbmltcG9ydCB7IHJlY29yZFNwYW4gfSBmcm9tICcuLi90ZWxlbWV0cnkvcmVjb3JkLXNwYW4nO1xuaW1wb3J0IHsgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9zZWxlY3QtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5IH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3N0cmluZ2lmeS1mb3ItdGVsZW1ldHJ5JztcbmltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5pbXBvcnQgeyBjcmVhdGVUZXh0U3RyZWFtUmVzcG9uc2UgfSBmcm9tICcuLi90ZXh0LXN0cmVhbS9jcmVhdGUtdGV4dC1zdHJlYW0tcmVzcG9uc2UnO1xuaW1wb3J0IHsgcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlIH0gZnJvbSAnLi4vdGV4dC1zdHJlYW0vcGlwZS10ZXh0LXN0cmVhbS10by1yZXNwb25zZSc7XG5pbXBvcnQge1xuICBDYWxsV2FybmluZyxcbiAgRmluaXNoUmVhc29uLFxuICBMYW5ndWFnZU1vZGVsLFxufSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsUmVxdWVzdE1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwtcmVxdWVzdC1tZXRhZGF0YSc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcbmltcG9ydCB7IFByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9wcm92aWRlci1tZXRhZGF0YSc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsVXNhZ2UgfSBmcm9tICcuLi90eXBlcy91c2FnZSc7XG5pbXBvcnQgeyBEZWVwUGFydGlhbCwgaXNEZWVwRXF1YWxEYXRhLCBwYXJzZVBhcnRpYWxKc29uIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQge1xuICBBc3luY0l0ZXJhYmxlU3RyZWFtLFxuICBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtLFxufSBmcm9tICcuLi91dGlsL2FzeW5jLWl0ZXJhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBjcmVhdGVTdGl0Y2hhYmxlU3RyZWFtIH0gZnJvbSAnLi4vdXRpbC9jcmVhdGUtc3RpdGNoYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgRGVsYXllZFByb21pc2UgfSBmcm9tICcuLi91dGlsL2RlbGF5ZWQtcHJvbWlzZSc7XG5pbXBvcnQgeyBEb3dubG9hZEZ1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9kb3dubG9hZC9kb3dubG9hZC1mdW5jdGlvbic7XG5pbXBvcnQgeyBub3cgYXMgb3JpZ2luYWxOb3cgfSBmcm9tICcuLi91dGlsL25vdyc7XG5pbXBvcnQgeyBwcmVwYXJlUmV0cmllcyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1yZXRyaWVzJztcbmltcG9ydCB7IGdldE91dHB1dFN0cmF0ZWd5LCBPdXRwdXRTdHJhdGVneSB9IGZyb20gJy4vb3V0cHV0LXN0cmF0ZWd5JztcbmltcG9ydCB7IHBhcnNlQW5kVmFsaWRhdGVPYmplY3RSZXN1bHRXaXRoUmVwYWlyIH0gZnJvbSAnLi9wYXJzZS1hbmQtdmFsaWRhdGUtb2JqZWN0LXJlc3VsdCc7XG5pbXBvcnQgeyBSZXBhaXJUZXh0RnVuY3Rpb24gfSBmcm9tICcuL3JlcGFpci10ZXh0JztcbmltcG9ydCB7IE9iamVjdFN0cmVhbVBhcnQsIFN0cmVhbU9iamVjdFJlc3VsdCB9IGZyb20gJy4vc3RyZWFtLW9iamVjdC1yZXN1bHQnO1xuaW1wb3J0IHsgdmFsaWRhdGVPYmplY3RHZW5lcmF0aW9uSW5wdXQgfSBmcm9tICcuL3ZhbGlkYXRlLW9iamVjdC1nZW5lcmF0aW9uLWlucHV0JztcblxuY29uc3Qgb3JpZ2luYWxHZW5lcmF0ZUlkID0gY3JlYXRlSWRHZW5lcmF0b3IoeyBwcmVmaXg6ICdhaW9iaicsIHNpemU6IDI0IH0pO1xuXG4vKipcbkNhbGxiYWNrIHRoYXQgaXMgc2V0IHVzaW5nIHRoZSBgb25FcnJvcmAgb3B0aW9uLlxuXG5AcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1PYmplY3RPbkVycm9yQ2FsbGJhY2sgPSAoZXZlbnQ6IHtcbiAgZXJyb3I6IHVua25vd247XG59KSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcblxuLyoqXG5DYWxsYmFjayB0aGF0IGlzIHNldCB1c2luZyB0aGUgYG9uRmluaXNoYCBvcHRpb24uXG5cbkBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbU9iamVjdE9uRmluaXNoQ2FsbGJhY2s8UkVTVUxUPiA9IChldmVudDoge1xuICAvKipcblRoZSB0b2tlbiB1c2FnZSBvZiB0aGUgZ2VuZXJhdGVkIHJlc3BvbnNlLlxuKi9cbiAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcblxuICAvKipcblRoZSBnZW5lcmF0ZWQgb2JqZWN0LiBDYW4gYmUgdW5kZWZpbmVkIGlmIHRoZSBmaW5hbCBvYmplY3QgZG9lcyBub3QgbWF0Y2ggdGhlIHNjaGVtYS5cbiovXG4gIG9iamVjdDogUkVTVUxUIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuT3B0aW9uYWwgZXJyb3Igb2JqZWN0LiBUaGlzIGlzIGUuZy4gYSBUeXBlVmFsaWRhdGlvbkVycm9yIHdoZW4gdGhlIGZpbmFsIG9iamVjdCBkb2VzIG5vdCBtYXRjaCB0aGUgc2NoZW1hLlxuKi9cbiAgZXJyb3I6IHVua25vd24gfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG5SZXNwb25zZSBtZXRhZGF0YS5cbiAqL1xuICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG5cbiAgLyoqXG5XYXJuaW5ncyBmcm9tIHRoZSBtb2RlbCBwcm92aWRlciAoZS5nLiB1bnN1cHBvcnRlZCBzZXR0aW5ncykuXG4qL1xuICB3YXJuaW5ncz86IENhbGxXYXJuaW5nW107XG5cbiAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxudG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5mdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4qL1xuICBwcm92aWRlck1ldGFkYXRhOiBQcm92aWRlck1ldGFkYXRhIHwgdW5kZWZpbmVkO1xufSkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuR2VuZXJhdGUgYSBzdHJ1Y3R1cmVkLCB0eXBlZCBvYmplY3QgZm9yIGEgZ2l2ZW4gcHJvbXB0IGFuZCBzY2hlbWEgdXNpbmcgYSBsYW5ndWFnZSBtb2RlbC5cblxuVGhpcyBmdW5jdGlvbiBzdHJlYW1zIHRoZSBvdXRwdXQuIElmIHlvdSBkbyBub3Qgd2FudCB0byBzdHJlYW0gdGhlIG91dHB1dCwgdXNlIGBnZW5lcmF0ZU9iamVjdGAgaW5zdGVhZC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbkBwYXJhbSB0b29scyAtIFRvb2xzIHRoYXQgYXJlIGFjY2Vzc2libGUgdG8gYW5kIGNhbiBiZSBjYWxsZWQgYnkgdGhlIG1vZGVsLiBUaGUgbW9kZWwgbmVlZHMgdG8gc3VwcG9ydCBjYWxsaW5nIHRvb2xzLlxuXG5AcGFyYW0gc3lzdGVtIC0gQSBzeXN0ZW0gbWVzc2FnZSB0aGF0IHdpbGwgYmUgcGFydCBvZiB0aGUgcHJvbXB0LlxuQHBhcmFtIHByb21wdCAtIEEgc2ltcGxlIHRleHQgcHJvbXB0LiBZb3UgY2FuIGVpdGhlciB1c2UgYHByb21wdGAgb3IgYG1lc3NhZ2VzYCBidXQgbm90IGJvdGguXG5AcGFyYW0gbWVzc2FnZXMgLSBBIGxpc3Qgb2YgbWVzc2FnZXMuIFlvdSBjYW4gZWl0aGVyIHVzZSBgcHJvbXB0YCBvciBgbWVzc2FnZXNgIGJ1dCBub3QgYm90aC5cblxuQHBhcmFtIG1heE91dHB1dFRva2VucyAtIE1heGltdW0gbnVtYmVyIG9mIHRva2VucyB0byBnZW5lcmF0ZS5cbkBwYXJhbSB0ZW1wZXJhdHVyZSAtIFRlbXBlcmF0dXJlIHNldHRpbmcuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGVpdGhlciBgdGVtcGVyYXR1cmVgIG9yIGB0b3BQYCwgYnV0IG5vdCBib3RoLlxuQHBhcmFtIHRvcFAgLSBOdWNsZXVzIHNhbXBsaW5nLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkl0IGlzIHJlY29tbWVuZGVkIHRvIHNldCBlaXRoZXIgYHRlbXBlcmF0dXJlYCBvciBgdG9wUGAsIGJ1dCBub3QgYm90aC5cbkBwYXJhbSB0b3BLIC0gT25seSBzYW1wbGUgZnJvbSB0aGUgdG9wIEsgb3B0aW9ucyBmb3IgZWFjaCBzdWJzZXF1ZW50IHRva2VuLlxuVXNlZCB0byByZW1vdmUgXCJsb25nIHRhaWxcIiBsb3cgcHJvYmFiaWxpdHkgcmVzcG9uc2VzLlxuUmVjb21tZW5kZWQgZm9yIGFkdmFuY2VkIHVzZSBjYXNlcyBvbmx5LiBZb3UgdXN1YWxseSBvbmx5IG5lZWQgdG8gdXNlIHRlbXBlcmF0dXJlLlxuQHBhcmFtIHByZXNlbmNlUGVuYWx0eSAtIFByZXNlbmNlIHBlbmFsdHkgc2V0dGluZy5cbkl0IGFmZmVjdHMgdGhlIGxpa2VsaWhvb2Qgb2YgdGhlIG1vZGVsIHRvIHJlcGVhdCBpbmZvcm1hdGlvbiB0aGF0IGlzIGFscmVhZHkgaW4gdGhlIHByb21wdC5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5AcGFyYW0gZnJlcXVlbmN5UGVuYWx0eSAtIEZyZXF1ZW5jeSBwZW5hbHR5IHNldHRpbmcuXG5JdCBhZmZlY3RzIHRoZSBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCB0byByZXBlYXRlZGx5IHVzZSB0aGUgc2FtZSB3b3JkcyBvciBwaHJhc2VzLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkBwYXJhbSBzdG9wU2VxdWVuY2VzIC0gU3RvcCBzZXF1ZW5jZXMuXG5JZiBzZXQsIHRoZSBtb2RlbCB3aWxsIHN0b3AgZ2VuZXJhdGluZyB0ZXh0IHdoZW4gb25lIG9mIHRoZSBzdG9wIHNlcXVlbmNlcyBpcyBnZW5lcmF0ZWQuXG5AcGFyYW0gc2VlZCAtIFRoZSBzZWVkIChpbnRlZ2VyKSB0byB1c2UgZm9yIHJhbmRvbSBzYW1wbGluZy5cbklmIHNldCBhbmQgc3VwcG9ydGVkIGJ5IHRoZSBtb2RlbCwgY2FsbHMgd2lsbCBnZW5lcmF0ZSBkZXRlcm1pbmlzdGljIHJlc3VsdHMuXG5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkBwYXJhbSBzY2hlbWEgLSBUaGUgc2NoZW1hIG9mIHRoZSBvYmplY3QgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIGdlbmVyYXRlLlxuQHBhcmFtIHNjaGVtYU5hbWUgLSBPcHRpb25hbCBuYW1lIG9mIHRoZSBvdXRwdXQgdGhhdCBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuVXNlZCBieSBzb21lIHByb3ZpZGVycyBmb3IgYWRkaXRpb25hbCBMTE0gZ3VpZGFuY2UsIGUuZy5cbnZpYSB0b29sIG9yIHNjaGVtYSBuYW1lLlxuQHBhcmFtIHNjaGVtYURlc2NyaXB0aW9uIC0gT3B0aW9uYWwgZGVzY3JpcHRpb24gb2YgdGhlIG91dHB1dCB0aGF0IHNob3VsZCBiZSBnZW5lcmF0ZWQuXG5Vc2VkIGJ5IHNvbWUgcHJvdmlkZXJzIGZvciBhZGRpdGlvbmFsIExMTSBndWlkYW5jZSwgZS5nLlxudmlhIHRvb2wgb3Igc2NoZW1hIGRlc2NyaXB0aW9uLlxuXG5AcGFyYW0gb3V0cHV0IC0gVGhlIHR5cGUgb2YgdGhlIG91dHB1dC5cblxuLSAnb2JqZWN0JzogVGhlIG91dHB1dCBpcyBhbiBvYmplY3QuXG4tICdhcnJheSc6IFRoZSBvdXRwdXQgaXMgYW4gYXJyYXkuXG4tICdlbnVtJzogVGhlIG91dHB1dCBpcyBhbiBlbnVtLlxuLSAnbm8tc2NoZW1hJzogVGhlIG91dHB1dCBpcyBub3QgYSBzY2hlbWEuXG5cbkBwYXJhbSBleHBlcmltZW50YWxfdGVsZW1ldHJ5IC0gT3B0aW9uYWwgdGVsZW1ldHJ5IGNvbmZpZ3VyYXRpb24gKGV4cGVyaW1lbnRhbCkuXG5cbkBwYXJhbSBwcm92aWRlck9wdGlvbnMgLSBBZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cblxuQHJldHVybnNcbkEgcmVzdWx0IG9iamVjdCBmb3IgYWNjZXNzaW5nIHRoZSBwYXJ0aWFsIG9iamVjdCBzdHJlYW0gYW5kIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJlYW1PYmplY3Q8XG4gIFNDSEVNQSBleHRlbmRzXG4gICAgfCB6My5TY2hlbWFcbiAgICB8IHo0LmNvcmUuJFpvZFR5cGVcbiAgICB8IFNjaGVtYSA9IHo0LmNvcmUuJFpvZFR5cGU8SlNPTlZhbHVlPixcbiAgT1VUUFVUIGV4dGVuZHNcbiAgICB8ICdvYmplY3QnXG4gICAgfCAnYXJyYXknXG4gICAgfCAnZW51bSdcbiAgICB8ICduby1zY2hlbWEnID0gSW5mZXJTY2hlbWE8U0NIRU1BPiBleHRlbmRzIHN0cmluZyA/ICdlbnVtJyA6ICdvYmplY3QnLFxuICBSRVNVTFQgPSBPVVRQVVQgZXh0ZW5kcyAnYXJyYXknXG4gICAgPyBBcnJheTxJbmZlclNjaGVtYTxTQ0hFTUE+PlxuICAgIDogSW5mZXJTY2hlbWE8U0NIRU1BPixcbj4oXG4gIG9wdGlvbnM6IE9taXQ8Q2FsbFNldHRpbmdzLCAnc3RvcFNlcXVlbmNlcyc+ICZcbiAgICBQcm9tcHQgJlxuICAgIChPVVRQVVQgZXh0ZW5kcyAnZW51bSdcbiAgICAgID8ge1xuICAgICAgICAgIC8qKlxuVGhlIGVudW0gdmFsdWVzIHRoYXQgdGhlIG1vZGVsIHNob3VsZCB1c2UuXG4gICAgICAgICovXG4gICAgICAgICAgZW51bTogQXJyYXk8UkVTVUxUPjtcbiAgICAgICAgICBtb2RlPzogJ2pzb24nO1xuICAgICAgICAgIG91dHB1dDogJ2VudW0nO1xuICAgICAgICB9XG4gICAgICA6IE9VVFBVVCBleHRlbmRzICduby1zY2hlbWEnXG4gICAgICAgID8ge31cbiAgICAgICAgOiB7XG4gICAgICAgICAgICAvKipcblRoZSBzY2hlbWEgb2YgdGhlIG9iamVjdCB0aGF0IHRoZSBtb2RlbCBzaG91bGQgZ2VuZXJhdGUuXG4gICAgICAqL1xuICAgICAgICAgICAgc2NoZW1hOiBTQ0hFTUE7XG5cbiAgICAgICAgICAgIC8qKlxuT3B0aW9uYWwgbmFtZSBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgbmFtZS5cbiAgICAgICovXG4gICAgICAgICAgICBzY2hlbWFOYW1lPzogc3RyaW5nO1xuXG4gICAgICAgICAgICAvKipcbk9wdGlvbmFsIGRlc2NyaXB0aW9uIG9mIHRoZSBvdXRwdXQgdGhhdCBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuVXNlZCBieSBzb21lIHByb3ZpZGVycyBmb3IgYWRkaXRpb25hbCBMTE0gZ3VpZGFuY2UsIGUuZy5cbnZpYSB0b29sIG9yIHNjaGVtYSBkZXNjcmlwdGlvbi5cbiAgICAgICovXG4gICAgICAgICAgICBzY2hlbWFEZXNjcmlwdGlvbj86IHN0cmluZztcblxuICAgICAgICAgICAgLyoqXG5UaGUgbW9kZSB0byB1c2UgZm9yIG9iamVjdCBnZW5lcmF0aW9uLlxuXG5UaGUgc2NoZW1hIGlzIGNvbnZlcnRlZCBpbnRvIGEgSlNPTiBzY2hlbWEgYW5kIHVzZWQgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgd2F5c1xuXG4tICdhdXRvJzogVGhlIHByb3ZpZGVyIHdpbGwgY2hvb3NlIHRoZSBiZXN0IG1vZGUgZm9yIHRoZSBtb2RlbC5cbi0gJ3Rvb2wnOiBBIHRvb2wgd2l0aCB0aGUgSlNPTiBzY2hlbWEgYXMgcGFyYW1ldGVycyBpcyBwcm92aWRlZCBhbmQgdGhlIHByb3ZpZGVyIGlzIGluc3RydWN0ZWQgdG8gdXNlIGl0LlxuLSAnanNvbic6IFRoZSBKU09OIHNjaGVtYSBhbmQgYW4gaW5zdHJ1Y3Rpb24gYXJlIGluamVjdGVkIGludG8gdGhlIHByb21wdC4gSWYgdGhlIHByb3ZpZGVyIHN1cHBvcnRzIEpTT04gbW9kZSwgaXQgaXMgZW5hYmxlZC4gSWYgdGhlIHByb3ZpZGVyIHN1cHBvcnRzIEpTT04gZ3JhbW1hcnMsIHRoZSBncmFtbWFyIGlzIHVzZWQuXG5cblBsZWFzZSBub3RlIHRoYXQgbW9zdCBwcm92aWRlcnMgZG8gbm90IHN1cHBvcnQgYWxsIG1vZGVzLlxuXG5EZWZhdWx0IGFuZCByZWNvbW1lbmRlZDogJ2F1dG8nIChiZXN0IG1vZGUgZm9yIHRoZSBtb2RlbCkuXG4gICAgICAqL1xuICAgICAgICAgICAgbW9kZT86ICdhdXRvJyB8ICdqc29uJyB8ICd0b29sJztcbiAgICAgICAgICB9KSAmIHtcbiAgICAgIG91dHB1dD86IE9VVFBVVDtcblxuICAgICAgLyoqXG5UaGUgbGFuZ3VhZ2UgbW9kZWwgdG8gdXNlLlxuICAgICAqL1xuICAgICAgbW9kZWw6IExhbmd1YWdlTW9kZWw7XG5cbiAgICAgIC8qKlxuQSBmdW5jdGlvbiB0aGF0IGF0dGVtcHRzIHRvIHJlcGFpciB0aGUgcmF3IG91dHB1dCBvZiB0aGUgbW9kZWxcbnRvIGVuYWJsZSBKU09OIHBhcnNpbmcuXG4gICAgICAgKi9cbiAgICAgIGV4cGVyaW1lbnRhbF9yZXBhaXJUZXh0PzogUmVwYWlyVGV4dEZ1bmN0aW9uO1xuXG4gICAgICAvKipcbk9wdGlvbmFsIHRlbGVtZXRyeSBjb25maWd1cmF0aW9uIChleHBlcmltZW50YWwpLlxuICAgICAgICovXG5cbiAgICAgIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcblxuICAgICAgLyoqXG4gIEN1c3RvbSBkb3dubG9hZCBmdW5jdGlvbiB0byB1c2UgZm9yIFVSTHMuXG5cbiAgQnkgZGVmYXVsdCwgZmlsZXMgYXJlIGRvd25sb2FkZWQgaWYgdGhlIG1vZGVsIGRvZXMgbm90IHN1cHBvcnQgdGhlIFVSTCBmb3IgdGhlIGdpdmVuIG1lZGlhIHR5cGUuXG4gICAgICAgKi9cbiAgICAgIGV4cGVyaW1lbnRhbF9kb3dubG9hZD86IERvd25sb2FkRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbiAgICAgIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxudG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5mdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gKi9cbiAgICAgIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAgICAgLyoqXG5DYWxsYmFjayB0aGF0IGlzIGludm9rZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIHN0cmVhbWluZy5cbllvdSBjYW4gdXNlIGl0IHRvIGxvZyBlcnJvcnMuXG5UaGUgc3RyZWFtIHByb2Nlc3Npbmcgd2lsbCBwYXVzZSB1bnRpbCB0aGUgY2FsbGJhY2sgcHJvbWlzZSBpcyByZXNvbHZlZC5cbiAgICAgKi9cbiAgICAgIG9uRXJyb3I/OiBTdHJlYW1PYmplY3RPbkVycm9yQ2FsbGJhY2s7XG5cbiAgICAgIC8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgTExNIHJlc3BvbnNlIGFuZCB0aGUgZmluYWwgb2JqZWN0IHZhbGlkYXRpb24gYXJlIGZpbmlzaGVkLlxuKi9cbiAgICAgIG9uRmluaXNoPzogU3RyZWFtT2JqZWN0T25GaW5pc2hDYWxsYmFjazxSRVNVTFQ+O1xuXG4gICAgICAvKipcbiAgICAgICAqIEludGVybmFsLiBGb3IgdGVzdCB1c2Ugb25seS4gTWF5IGNoYW5nZSB3aXRob3V0IG5vdGljZS5cbiAgICAgICAqL1xuICAgICAgX2ludGVybmFsPzoge1xuICAgICAgICBnZW5lcmF0ZUlkPzogKCkgPT4gc3RyaW5nO1xuICAgICAgICBjdXJyZW50RGF0ZT86ICgpID0+IERhdGU7XG4gICAgICAgIG5vdz86ICgpID0+IG51bWJlcjtcbiAgICAgIH07XG4gICAgfSxcbik6IFN0cmVhbU9iamVjdFJlc3VsdDxcbiAgT1VUUFVUIGV4dGVuZHMgJ2VudW0nXG4gICAgPyBzdHJpbmdcbiAgICA6IE9VVFBVVCBleHRlbmRzICdhcnJheSdcbiAgICAgID8gUkVTVUxUXG4gICAgICA6IERlZXBQYXJ0aWFsPFJFU1VMVD4sXG4gIE9VVFBVVCBleHRlbmRzICdhcnJheScgPyBSRVNVTFQgOiBSRVNVTFQsXG4gIE9VVFBVVCBleHRlbmRzICdhcnJheSdcbiAgICA/IFJFU1VMVCBleHRlbmRzIEFycmF5PGluZmVyIFU+XG4gICAgICA/IEFzeW5jSXRlcmFibGVTdHJlYW08VT5cbiAgICAgIDogbmV2ZXJcbiAgICA6IG5ldmVyXG4+IHtcbiAgY29uc3Qge1xuICAgIG1vZGVsLFxuICAgIG91dHB1dCA9ICdvYmplY3QnLFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgbWF4UmV0cmllcyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBoZWFkZXJzLFxuICAgIGV4cGVyaW1lbnRhbF9yZXBhaXJUZXh0OiByZXBhaXJUZXh0LFxuICAgIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk6IHRlbGVtZXRyeSxcbiAgICBleHBlcmltZW50YWxfZG93bmxvYWQ6IGRvd25sb2FkLFxuICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICBvbkVycm9yID0gKHsgZXJyb3IgfTogeyBlcnJvcjogdW5rbm93biB9KSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9LFxuICAgIG9uRmluaXNoLFxuICAgIF9pbnRlcm5hbDoge1xuICAgICAgZ2VuZXJhdGVJZCA9IG9yaWdpbmFsR2VuZXJhdGVJZCxcbiAgICAgIGN1cnJlbnREYXRlID0gKCkgPT4gbmV3IERhdGUoKSxcbiAgICAgIG5vdyA9IG9yaWdpbmFsTm93LFxuICAgIH0gPSB7fSxcbiAgICAuLi5zZXR0aW5nc1xuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBlbnVtVmFsdWVzID1cbiAgICAnZW51bScgaW4gb3B0aW9ucyAmJiBvcHRpb25zLmVudW0gPyBvcHRpb25zLmVudW0gOiB1bmRlZmluZWQ7XG5cbiAgY29uc3Qge1xuICAgIHNjaGVtYTogaW5wdXRTY2hlbWEsXG4gICAgc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgc2NoZW1hTmFtZSxcbiAgfSA9ICdzY2hlbWEnIGluIG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgdmFsaWRhdGVPYmplY3RHZW5lcmF0aW9uSW5wdXQoe1xuICAgIG91dHB1dCxcbiAgICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICAgIHNjaGVtYU5hbWUsXG4gICAgc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgZW51bVZhbHVlcyxcbiAgfSk7XG5cbiAgY29uc3Qgb3V0cHV0U3RyYXRlZ3kgPSBnZXRPdXRwdXRTdHJhdGVneSh7XG4gICAgb3V0cHV0LFxuICAgIHNjaGVtYTogaW5wdXRTY2hlbWEsXG4gICAgZW51bVZhbHVlcyxcbiAgfSk7XG5cbiAgcmV0dXJuIG5ldyBEZWZhdWx0U3RyZWFtT2JqZWN0UmVzdWx0KHtcbiAgICBtb2RlbCxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVycyxcbiAgICBzZXR0aW5ncyxcbiAgICBtYXhSZXRyaWVzLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIG91dHB1dFN0cmF0ZWd5LFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgc2NoZW1hTmFtZSxcbiAgICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgcmVwYWlyVGV4dCxcbiAgICBvbkVycm9yLFxuICAgIG9uRmluaXNoLFxuICAgIGRvd25sb2FkLFxuICAgIGdlbmVyYXRlSWQsXG4gICAgY3VycmVudERhdGUsXG4gICAgbm93LFxuICB9KTtcbn1cblxuY2xhc3MgRGVmYXVsdFN0cmVhbU9iamVjdFJlc3VsdDxQQVJUSUFMLCBSRVNVTFQsIEVMRU1FTlRfU1RSRUFNPlxuICBpbXBsZW1lbnRzIFN0cmVhbU9iamVjdFJlc3VsdDxQQVJUSUFMLCBSRVNVTFQsIEVMRU1FTlRfU1RSRUFNPlxue1xuICBwcml2YXRlIHJlYWRvbmx5IF9vYmplY3QgPSBuZXcgRGVsYXllZFByb21pc2U8UkVTVUxUPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF91c2FnZSA9IG5ldyBEZWxheWVkUHJvbWlzZTxMYW5ndWFnZU1vZGVsVXNhZ2U+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3Byb3ZpZGVyTWV0YWRhdGEgPSBuZXcgRGVsYXllZFByb21pc2U8XG4gICAgUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZFxuICA+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3dhcm5pbmdzID0gbmV3IERlbGF5ZWRQcm9taXNlPENhbGxXYXJuaW5nW10gfCB1bmRlZmluZWQ+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3JlcXVlc3QgPVxuICAgIG5ldyBEZWxheWVkUHJvbWlzZTxMYW5ndWFnZU1vZGVsUmVxdWVzdE1ldGFkYXRhPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF9yZXNwb25zZSA9XG4gICAgbmV3IERlbGF5ZWRQcm9taXNlPExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF9maW5pc2hSZWFzb24gPSBuZXcgRGVsYXllZFByb21pc2U8RmluaXNoUmVhc29uPigpO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgYmFzZVN0cmVhbTogUmVhZGFibGVTdHJlYW08T2JqZWN0U3RyZWFtUGFydDxQQVJUSUFMPj47XG5cbiAgcHJpdmF0ZSByZWFkb25seSBvdXRwdXRTdHJhdGVneTogT3V0cHV0U3RyYXRlZ3k8XG4gICAgUEFSVElBTCxcbiAgICBSRVNVTFQsXG4gICAgRUxFTUVOVF9TVFJFQU1cbiAgPjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbW9kZWw6IG1vZGVsQXJnLFxuICAgIGhlYWRlcnMsXG4gICAgdGVsZW1ldHJ5LFxuICAgIHNldHRpbmdzLFxuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgb3V0cHV0U3RyYXRlZ3ksXG4gICAgc3lzdGVtLFxuICAgIHByb21wdCxcbiAgICBtZXNzYWdlcyxcbiAgICBzY2hlbWFOYW1lLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICByZXBhaXJUZXh0LFxuICAgIG9uRXJyb3IsXG4gICAgb25GaW5pc2gsXG4gICAgZG93bmxvYWQsXG4gICAgZ2VuZXJhdGVJZCxcbiAgICBjdXJyZW50RGF0ZSxcbiAgICBub3csXG4gIH06IHtcbiAgICBtb2RlbDogTGFuZ3VhZ2VNb2RlbDtcbiAgICB0ZWxlbWV0cnk6IFRlbGVtZXRyeVNldHRpbmdzIHwgdW5kZWZpbmVkO1xuICAgIGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQ7XG4gICAgc2V0dGluZ3M6IE9taXQ8Q2FsbFNldHRpbmdzLCAnYWJvcnRTaWduYWwnIHwgJ2hlYWRlcnMnPjtcbiAgICBtYXhSZXRyaWVzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgYWJvcnRTaWduYWw6IEFib3J0U2lnbmFsIHwgdW5kZWZpbmVkO1xuICAgIG91dHB1dFN0cmF0ZWd5OiBPdXRwdXRTdHJhdGVneTxQQVJUSUFMLCBSRVNVTFQsIEVMRU1FTlRfU1RSRUFNPjtcbiAgICBzeXN0ZW06IFByb21wdFsnc3lzdGVtJ107XG4gICAgcHJvbXB0OiBQcm9tcHRbJ3Byb21wdCddO1xuICAgIG1lc3NhZ2VzOiBQcm9tcHRbJ21lc3NhZ2VzJ107XG4gICAgc2NoZW1hTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIHNjaGVtYURlc2NyaXB0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgcHJvdmlkZXJPcHRpb25zOiBQcm92aWRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgcmVwYWlyVGV4dDogUmVwYWlyVGV4dEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuICAgIG9uRXJyb3I6IFN0cmVhbU9iamVjdE9uRXJyb3JDYWxsYmFjaztcbiAgICBvbkZpbmlzaDogU3RyZWFtT2JqZWN0T25GaW5pc2hDYWxsYmFjazxSRVNVTFQ+IHwgdW5kZWZpbmVkO1xuICAgIGRvd25sb2FkOiBEb3dubG9hZEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuICAgIGdlbmVyYXRlSWQ6ICgpID0+IHN0cmluZztcbiAgICBjdXJyZW50RGF0ZTogKCkgPT4gRGF0ZTtcbiAgICBub3c6ICgpID0+IG51bWJlcjtcbiAgfSkge1xuICAgIGNvbnN0IG1vZGVsID0gcmVzb2x2ZUxhbmd1YWdlTW9kZWwobW9kZWxBcmcpO1xuXG4gICAgY29uc3QgeyBtYXhSZXRyaWVzLCByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoe1xuICAgICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgIH0pO1xuXG4gICAgY29uc3QgY2FsbFNldHRpbmdzID0gcHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyk7XG5cbiAgICBjb25zdCBiYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyA9IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgIG1vZGVsLFxuICAgICAgdGVsZW1ldHJ5LFxuICAgICAgaGVhZGVycyxcbiAgICAgIHNldHRpbmdzOiB7IC4uLmNhbGxTZXR0aW5ncywgbWF4UmV0cmllcyB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKHRlbGVtZXRyeSk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBjb25zdCBzdGl0Y2hhYmxlU3RyZWFtID1cbiAgICAgIGNyZWF0ZVN0aXRjaGFibGVTdHJlYW08T2JqZWN0U3RyZWFtUGFydDxQQVJUSUFMPj4oKTtcblxuICAgIGNvbnN0IGV2ZW50UHJvY2Vzc29yID0gbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgIE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD4sXG4gICAgICBPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+XG4gICAgPih7XG4gICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcblxuICAgICAgICBpZiAoY2h1bmsudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgIG9uRXJyb3IoeyBlcnJvcjogd3JhcEdhdGV3YXlFcnJvcihjaHVuay5lcnJvcikgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmJhc2VTdHJlYW0gPSBzdGl0Y2hhYmxlU3RyZWFtLnN0cmVhbS5waXBlVGhyb3VnaChldmVudFByb2Nlc3Nvcik7XG5cbiAgICByZWNvcmRTcGFuKHtcbiAgICAgIG5hbWU6ICdhaS5zdHJlYW1PYmplY3QnLFxuICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLnN0cmVhbU9iamVjdCcsXG4gICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICAgICdhaS5wcm9tcHQnOiB7XG4gICAgICAgICAgICBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoeyBzeXN0ZW0sIHByb21wdCwgbWVzc2FnZXMgfSksXG4gICAgICAgICAgfSxcbiAgICAgICAgICAnYWkuc2NoZW1hJzpcbiAgICAgICAgICAgIG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWEgIT0gbnVsbFxuICAgICAgICAgICAgICA/IHsgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWEpIH1cbiAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgJ2FpLnNjaGVtYS5uYW1lJzogc2NoZW1hTmFtZSxcbiAgICAgICAgICAnYWkuc2NoZW1hLmRlc2NyaXB0aW9uJzogc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgICAgICAgJ2FpLnNldHRpbmdzLm91dHB1dCc6IG91dHB1dFN0cmF0ZWd5LnR5cGUsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIHRyYWNlcixcbiAgICAgIGVuZFdoZW5Eb25lOiBmYWxzZSxcbiAgICAgIGZuOiBhc3luYyByb290U3BhbiA9PiB7XG4gICAgICAgIGNvbnN0IHN0YW5kYXJkaXplZFByb21wdCA9IGF3YWl0IHN0YW5kYXJkaXplUHJvbXB0KHtcbiAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICB9IGFzIFByb21wdCk7XG5cbiAgICAgICAgY29uc3QgY2FsbE9wdGlvbnMgPSB7XG4gICAgICAgICAgcmVzcG9uc2VGb3JtYXQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdqc29uJyBhcyBjb25zdCxcbiAgICAgICAgICAgIHNjaGVtYTogb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSxcbiAgICAgICAgICAgIG5hbWU6IHNjaGVtYU5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgICAgICAgfSxcbiAgICAgICAgICAuLi5wcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKSxcbiAgICAgICAgICBwcm9tcHQ6IGF3YWl0IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQoe1xuICAgICAgICAgICAgcHJvbXB0OiBzdGFuZGFyZGl6ZWRQcm9tcHQsXG4gICAgICAgICAgICBzdXBwb3J0ZWRVcmxzOiBhd2FpdCBtb2RlbC5zdXBwb3J0ZWRVcmxzLFxuICAgICAgICAgICAgZG93bmxvYWQsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgaW5jbHVkZVJhd0NodW5rczogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZXI6IFRyYW5zZm9ybWVyPFxuICAgICAgICAgIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG4gICAgICAgICAgT2JqZWN0U3RyZWFtSW5wdXRQYXJ0XG4gICAgICAgID4gPSB7XG4gICAgICAgICAgdHJhbnNmb3JtOiAoY2h1bmssIGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICd0ZXh0LWRlbHRhJzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmsuZGVsdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdyZXNwb25zZS1tZXRhZGF0YSc6XG4gICAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaCc6XG4gICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgY2FzZSAnc3RyZWFtLXN0YXJ0JzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHJlc3VsdDogeyBzdHJlYW0sIHJlc3BvbnNlLCByZXF1ZXN0IH0sXG4gICAgICAgICAgZG9TdHJlYW1TcGFuLFxuICAgICAgICAgIHN0YXJ0VGltZXN0YW1wTXMsXG4gICAgICAgIH0gPSBhd2FpdCByZXRyeSgoKSA9PlxuICAgICAgICAgIHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgbmFtZTogJ2FpLnN0cmVhbU9iamVjdC5kb1N0cmVhbScsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuc3RyZWFtT2JqZWN0LmRvU3RyZWFtJyxcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAnYWkucHJvbXB0Lm1lc3NhZ2VzJzoge1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHN0cmluZ2lmeUZvclRlbGVtZXRyeShjYWxsT3B0aW9ucy5wcm9tcHQpLFxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgJ2dlbl9haS5zeXN0ZW0nOiBtb2RlbC5wcm92aWRlcixcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QubW9kZWwnOiBtb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5mcmVxdWVuY3lfcGVuYWx0eSc6XG4gICAgICAgICAgICAgICAgICBjYWxsU2V0dGluZ3MuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QubWF4X3Rva2Vucyc6IGNhbGxTZXR0aW5ncy5tYXhPdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnByZXNlbmNlX3BlbmFsdHknOiBjYWxsU2V0dGluZ3MucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50ZW1wZXJhdHVyZSc6IGNhbGxTZXR0aW5ncy50ZW1wZXJhdHVyZSxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudG9wX2snOiBjYWxsU2V0dGluZ3MudG9wSyxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudG9wX3AnOiBjYWxsU2V0dGluZ3MudG9wUCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgZW5kV2hlbkRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgZm46IGFzeW5jIGRvU3RyZWFtU3BhbiA9PiAoe1xuICAgICAgICAgICAgICBzdGFydFRpbWVzdGFtcE1zOiBub3coKSxcbiAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLFxuICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IG1vZGVsLmRvU3RyZWFtKGNhbGxPcHRpb25zKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICAgIHNlbGYuX3JlcXVlc3QucmVzb2x2ZShyZXF1ZXN0ID8/IHt9KTtcblxuICAgICAgICAvLyBzdG9yZSBpbmZvcm1hdGlvbiBmb3Igb25GaW5pc2ggY2FsbGJhY2s6XG4gICAgICAgIGxldCB3YXJuaW5nczogTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmdbXSB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2UgPSB7XG4gICAgICAgICAgaW5wdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICBvdXRwdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICB0b3RhbFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgZmluaXNoUmVhc29uOiBMYW5ndWFnZU1vZGVsVjJGaW5pc2hSZWFzb24gfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBwcm92aWRlck1ldGFkYXRhOiBQcm92aWRlck1ldGFkYXRhIHwgdW5kZWZpbmVkO1xuICAgICAgICBsZXQgb2JqZWN0OiBSRVNVTFQgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBlcnJvcjogdW5rbm93biB8IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBwaXBlIGNodW5rcyB0aHJvdWdoIGEgdHJhbnNmb3JtYXRpb24gc3RyZWFtIHRoYXQgZXh0cmFjdHMgbWV0YWRhdGE6XG4gICAgICAgIGxldCBhY2N1bXVsYXRlZFRleHQgPSAnJztcbiAgICAgICAgbGV0IHRleHREZWx0YSA9ICcnO1xuICAgICAgICBsZXQgZnVsbFJlc3BvbnNlOiB7XG4gICAgICAgICAgaWQ6IHN0cmluZztcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGU7XG4gICAgICAgICAgbW9kZWxJZDogc3RyaW5nO1xuICAgICAgICB9ID0ge1xuICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgdGltZXN0YW1wOiBjdXJyZW50RGF0ZSgpLFxuICAgICAgICAgIG1vZGVsSWQ6IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gS2VlcCB0cmFjayBvZiByYXcgcGFyc2UgcmVzdWx0IGJlZm9yZSB0eXBlIHZhbGlkYXRpb24sIHNpbmNlIGUuZy4gWm9kIG1pZ2h0XG4gICAgICAgIC8vIGNoYW5nZSB0aGUgb2JqZWN0IGJ5IG1hcHBpbmcgcHJvcGVydGllcy5cbiAgICAgICAgbGV0IGxhdGVzdE9iamVjdEpzb246IEpTT05WYWx1ZSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGxhdGVzdE9iamVjdDogUEFSVElBTCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGlzRmlyc3RDaHVuayA9IHRydWU7XG4gICAgICAgIGxldCBpc0ZpcnN0RGVsdGEgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkU3RyZWFtID0gc3RyZWFtXG4gICAgICAgICAgLnBpcGVUaHJvdWdoKG5ldyBUcmFuc2Zvcm1TdHJlYW0odHJhbnNmb3JtZXIpKVxuICAgICAgICAgIC5waXBlVGhyb3VnaChcbiAgICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICAgICAgICAgIHN0cmluZyB8IE9iamVjdFN0cmVhbUlucHV0UGFydCxcbiAgICAgICAgICAgICAgT2JqZWN0U3RyZWFtUGFydDxQQVJUSUFMPlxuICAgICAgICAgICAgPih7XG4gICAgICAgICAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBjaHVuayA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgIGNodW5rLnR5cGUgPT09ICdzdHJlYW0tc3RhcnQnXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB3YXJuaW5ncyA9IGNodW5rLndhcm5pbmdzO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBzdHJlYW0gc3RhcnQgY2h1bmtzIGFyZSBzZW50IGltbWVkaWF0ZWx5IGFuZCBkbyBub3QgY291bnQgYXMgZmlyc3QgY2h1bmtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUZWxlbWV0cnkgZXZlbnQgZm9yIGZpcnN0IGNodW5rOlxuICAgICAgICAgICAgICAgIGlmIChpc0ZpcnN0Q2h1bmspIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1zVG9GaXJzdENodW5rID0gbm93KCkgLSBzdGFydFRpbWVzdGFtcE1zO1xuXG4gICAgICAgICAgICAgICAgICBpc0ZpcnN0Q2h1bmsgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLmFkZEV2ZW50KCdhaS5zdHJlYW0uZmlyc3RDaHVuaycsIHtcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnN0cmVhbS5tc1RvRmlyc3RDaHVuayc6IG1zVG9GaXJzdENodW5rLFxuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnN0cmVhbS5tc1RvRmlyc3RDaHVuayc6IG1zVG9GaXJzdENodW5rLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcHJvY2VzcyBwYXJ0aWFsIHRleHQgY2h1bmtzXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkVGV4dCArPSBjaHVuaztcbiAgICAgICAgICAgICAgICAgIHRleHREZWx0YSArPSBjaHVuaztcblxuICAgICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogY3VycmVudE9iamVjdEpzb24sIHN0YXRlOiBwYXJzZVN0YXRlIH0gPVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwYXJzZVBhcnRpYWxKc29uKGFjY3VtdWxhdGVkVGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9iamVjdEpzb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICAhaXNEZWVwRXF1YWxEYXRhKGxhdGVzdE9iamVjdEpzb24sIGN1cnJlbnRPYmplY3RKc29uKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPVxuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG91dHB1dFN0cmF0ZWd5LnZhbGlkYXRlUGFydGlhbFJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudE9iamVjdEpzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0RGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRlc3RPYmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0RGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ZpbmFsRGVsdGE6IHBhcnNlU3RhdGUgPT09ICdzdWNjZXNzZnVsLXBhcnNlJyxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzICYmXG4gICAgICAgICAgICAgICAgICAgICAgIWlzRGVlcEVxdWFsRGF0YShcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdE9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQudmFsdWUucGFydGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGluc2lkZSBpbm5lciBjaGVjayB0byBjb3JyZWN0bHkgcGFyc2UgdGhlIGZpbmFsIGVsZW1lbnQgaW4gYXJyYXkgbW9kZTpcbiAgICAgICAgICAgICAgICAgICAgICBsYXRlc3RPYmplY3RKc29uID0gY3VycmVudE9iamVjdEpzb247XG4gICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0T2JqZWN0ID0gdmFsaWRhdGlvblJlc3VsdC52YWx1ZS5wYXJ0aWFsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBsYXRlc3RPYmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQtZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dERlbHRhOiB2YWxpZGF0aW9uUmVzdWx0LnZhbHVlLnRleHREZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgIHRleHREZWx0YSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgIGlzRmlyc3REZWx0YSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNodW5rLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgJ3Jlc3BvbnNlLW1ldGFkYXRhJzoge1xuICAgICAgICAgICAgICAgICAgICBmdWxsUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGNodW5rLmlkID8/IGZ1bGxSZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGNodW5rLnRpbWVzdGFtcCA/PyBmdWxsUmVzcG9uc2UudGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsSWQ6IGNodW5rLm1vZGVsSWQgPz8gZnVsbFJlc3BvbnNlLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBjYXNlICdmaW5pc2gnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbmQgZmluYWwgdGV4dCBkZWx0YTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHREZWx0YSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAndGV4dC1kZWx0YScsIHRleHREZWx0YSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIGZpbmlzaCByZWFzb24gZm9yIHRlbGVtZXRyeTpcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uID0gY2h1bmsuZmluaXNoUmVhc29uO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIHVzYWdlIGFuZCBtZXRhZGF0YSBmb3IgcHJvbWlzZXMgYW5kIG9uRmluaXNoIGNhbGxiYWNrOlxuICAgICAgICAgICAgICAgICAgICB1c2FnZSA9IGNodW5rLnVzYWdlO1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhID0gY2h1bmsucHJvdmlkZXJNZXRhZGF0YTtcblxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmNodW5rLFxuICAgICAgICAgICAgICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBmdWxsUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZyB3YXJuaW5nczpcbiAgICAgICAgICAgICAgICAgICAgbG9nV2FybmluZ3Mod2FybmluZ3MgPz8gW10pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc29sdmUgcHJvbWlzZXMgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgbm93OlxuICAgICAgICAgICAgICAgICAgICBzZWxmLl91c2FnZS5yZXNvbHZlKHVzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcHJvdmlkZXJNZXRhZGF0YS5yZXNvbHZlKHByb3ZpZGVyTWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl93YXJuaW5ncy5yZXNvbHZlKHdhcm5pbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fcmVzcG9uc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uZnVsbFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlPy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZmluaXNoUmVhc29uLnJlc29sdmUoZmluaXNoUmVhc29uID8/ICd1bmtub3duJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBhd2FpdCBwYXJzZUFuZFZhbGlkYXRlT2JqZWN0UmVzdWx0V2l0aFJlcGFpcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVwYWlyVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bGxSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9vYmplY3QucmVzb2x2ZShvYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX29iamVjdC5yZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgIC8vIGludm9rZSBvbkZpbmlzaCBjYWxsYmFjayBhbmQgcmVzb2x2ZSB0b29sUmVzdWx0cyBwcm9taXNlIHdoZW4gdGhlIHN0cmVhbSBpcyBhYm91dCB0byBjbG9zZTpcbiAgICAgICAgICAgICAgYXN5bmMgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFVzYWdlID0gdXNhZ2UgPz8ge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcHRUb2tlbnM6IE5hTixcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogTmFOLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbFRva2VuczogTmFOLFxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuZmluaXNoUmVhc29uJzogZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm9iamVjdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvYmplY3QpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5pZCc6IGZ1bGxSZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5tb2RlbCc6IGZ1bGxSZXNwb25zZS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRpbWVzdGFtcCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxSZXNwb25zZS50aW1lc3RhbXAudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5wcm92aWRlck1ldGFkYXRhJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJvdmlkZXJNZXRhZGF0YSksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5pbnB1dFRva2Vucyc6IGZpbmFsVXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2Uub3V0cHV0VG9rZW5zJzogZmluYWxVc2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UudG90YWxUb2tlbnMnOiBmaW5hbFVzYWdlLnRvdGFsVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnJlYXNvbmluZ1Rva2Vucyc6IGZpbmFsVXNhZ2UucmVhc29uaW5nVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLmNhY2hlZElucHV0VG9rZW5zJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxVc2FnZS5jYWNoZWRJbnB1dFRva2VucyxcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5maW5pc2hfcmVhc29ucyc6IFtmaW5pc2hSZWFzb25dLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5pZCc6IGZ1bGxSZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UubW9kZWwnOiBmdWxsUmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkudXNhZ2UuaW5wdXRfdG9rZW5zJzogZmluYWxVc2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkudXNhZ2Uub3V0cHV0X3Rva2Vucyc6IGZpbmFsVXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIGRvU3RyZWFtU3BhbiBiZWZvcmUgb3RoZXIgb3BlcmF0aW9ucyBmb3IgY29ycmVjdCB0aW1pbmc6XG4gICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uZW5kKCk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIEFkZCByZXNwb25zZSBpbmZvcm1hdGlvbiB0byB0aGUgcm9vdCBzcGFuOlxuICAgICAgICAgICAgICAgICAgcm9vdFNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5pbnB1dFRva2Vucyc6IGZpbmFsVXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2Uub3V0cHV0VG9rZW5zJzogZmluYWxVc2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UudG90YWxUb2tlbnMnOiBmaW5hbFVzYWdlLnRvdGFsVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnJlYXNvbmluZ1Rva2Vucyc6IGZpbmFsVXNhZ2UucmVhc29uaW5nVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLmNhY2hlZElucHV0VG9rZW5zJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxVc2FnZS5jYWNoZWRJbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5vYmplY3QnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob2JqZWN0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3ZpZGVyTWV0YWRhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgLy8gY2FsbCBvbkZpbmlzaCBjYWxsYmFjazpcbiAgICAgICAgICAgICAgICAgIGF3YWl0IG9uRmluaXNoPy4oe1xuICAgICAgICAgICAgICAgICAgICB1c2FnZTogZmluYWxVc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5mdWxsUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVzcG9uc2U/LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdlcnJvcicsIGVycm9yIH0pO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICByb290U3Bhbi5lbmQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApO1xuXG4gICAgICAgIHN0aXRjaGFibGVTdHJlYW0uYWRkU3RyZWFtKHRyYW5zZm9ybWVkU3RyZWFtKTtcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIC8vIGFkZCBhbiBlbXB0eSBzdHJlYW0gd2l0aCBhbiBlcnJvciB0byBicmVhayB0aGUgc3RyZWFtOlxuICAgICAgICBzdGl0Y2hhYmxlU3RyZWFtLmFkZFN0cmVhbShcbiAgICAgICAgICBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnZXJyb3InLCBlcnJvciB9KTtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHN0aXRjaGFibGVTdHJlYW0uY2xvc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5vdXRwdXRTdHJhdGVneSA9IG91dHB1dFN0cmF0ZWd5O1xuICB9XG5cbiAgZ2V0IG9iamVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fb2JqZWN0LnByb21pc2U7XG4gIH1cblxuICBnZXQgdXNhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VzYWdlLnByb21pc2U7XG4gIH1cblxuICBnZXQgcHJvdmlkZXJNZXRhZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvdmlkZXJNZXRhZGF0YS5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IHdhcm5pbmdzKCkge1xuICAgIHJldHVybiB0aGlzLl93YXJuaW5ncy5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IHJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QucHJvbWlzZTtcbiAgfVxuXG4gIGdldCByZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2UucHJvbWlzZTtcbiAgfVxuXG4gIGdldCBmaW5pc2hSZWFzb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbmlzaFJlYXNvbi5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IHBhcnRpYWxPYmplY3RTdHJlYW0oKTogQXN5bmNJdGVyYWJsZVN0cmVhbTxQQVJUSUFMPiB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLmJhc2VTdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08T2JqZWN0U3RyZWFtUGFydDxQQVJUSUFMPiwgUEFSVElBTD4oe1xuICAgICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgc3dpdGNoIChjaHVuay50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLm9iamVjdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAndGV4dC1kZWx0YSc6XG4gICAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaCc6XG4gICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzogLy8gc3VwcHJlc3MgZXJyb3IgKHVzZSBvbkVycm9yIGluc3RlYWQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gY2h1bms7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjaHVuayB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGdldCBlbGVtZW50U3RyZWFtKCk6IEVMRU1FTlRfU1RSRUFNIHtcbiAgICByZXR1cm4gdGhpcy5vdXRwdXRTdHJhdGVneS5jcmVhdGVFbGVtZW50U3RyZWFtKHRoaXMuYmFzZVN0cmVhbSk7XG4gIH1cblxuICBnZXQgdGV4dFN0cmVhbSgpOiBBc3luY0l0ZXJhYmxlU3RyZWFtPHN0cmluZz4ge1xuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgdGhpcy5iYXNlU3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD4sIHN0cmluZz4oe1xuICAgICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgc3dpdGNoIChjaHVuay50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ3RleHQtZGVsdGEnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuay50ZXh0RGVsdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaCc6XG4gICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzogLy8gc3VwcHJlc3MgZXJyb3IgKHVzZSBvbkVycm9yIGluc3RlYWQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gY2h1bms7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjaHVuayB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGdldCBmdWxsU3RyZWFtKCk6IEFzeW5jSXRlcmFibGVTdHJlYW08T2JqZWN0U3RyZWFtUGFydDxQQVJUSUFMPj4ge1xuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKHRoaXMuYmFzZVN0cmVhbSk7XG4gIH1cblxuICBwaXBlVGV4dFN0cmVhbVRvUmVzcG9uc2UocmVzcG9uc2U6IFNlcnZlclJlc3BvbnNlLCBpbml0PzogUmVzcG9uc2VJbml0KSB7XG4gICAgcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlKHtcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgdGV4dFN0cmVhbTogdGhpcy50ZXh0U3RyZWFtLFxuICAgICAgLi4uaW5pdCxcbiAgICB9KTtcbiAgfVxuXG4gIHRvVGV4dFN0cmVhbVJlc3BvbnNlKGluaXQ/OiBSZXNwb25zZUluaXQpOiBSZXNwb25zZSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRleHRTdHJlYW1SZXNwb25zZSh7XG4gICAgICB0ZXh0U3RyZWFtOiB0aGlzLnRleHRTdHJlYW0sXG4gICAgICAuLi5pbml0LFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIE9iamVjdFN0cmVhbUlucHV0UGFydCA9XG4gIHwgc3RyaW5nXG4gIHwge1xuICAgICAgdHlwZTogJ3N0cmVhbS1zdGFydCc7XG4gICAgICB3YXJuaW5nczogTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmdbXTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ2Vycm9yJztcbiAgICAgIGVycm9yOiB1bmtub3duO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAncmVzcG9uc2UtbWV0YWRhdGEnO1xuICAgICAgaWQ/OiBzdHJpbmc7XG4gICAgICB0aW1lc3RhbXA/OiBEYXRlO1xuICAgICAgbW9kZWxJZD86IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ2ZpbmlzaCc7XG4gICAgICBmaW5pc2hSZWFzb246IExhbmd1YWdlTW9kZWxWMkZpbmlzaFJlYXNvbjtcbiAgICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVjJVc2FnZTtcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBTaGFyZWRWMlByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfTtcbiIsICJpbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJy4uL2Vycm9yL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGNvc2luZSBzaW1pbGFyaXR5IGJldHdlZW4gdHdvIHZlY3RvcnMuIFRoaXMgaXMgYSB1c2VmdWwgbWV0cmljIGZvclxuICogY29tcGFyaW5nIHRoZSBzaW1pbGFyaXR5IG9mIHR3byB2ZWN0b3JzIHN1Y2ggYXMgZW1iZWRkaW5ncy5cbiAqXG4gKiBAcGFyYW0gdmVjdG9yMSAtIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0gdmVjdG9yMiAtIFRoZSBzZWNvbmQgdmVjdG9yLlxuICpcbiAqIEByZXR1cm5zIFRoZSBjb3NpbmUgc2ltaWxhcml0eSBiZXR3ZWVuIHZlY3RvcjEgYW5kIHZlY3RvcjIuXG4gKiBAcmV0dXJucyAwIGlmIGVpdGhlciB2ZWN0b3IgaXMgdGhlIHplcm8gdmVjdG9yLlxuICpcbiAqIEB0aHJvd3Mge0ludmFsaWRBcmd1bWVudEVycm9yfSBJZiB0aGUgdmVjdG9ycyBkbyBub3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3NpbmVTaW1pbGFyaXR5KHZlY3RvcjE6IG51bWJlcltdLCB2ZWN0b3IyOiBudW1iZXJbXSk6IG51bWJlciB7XG4gIGlmICh2ZWN0b3IxLmxlbmd0aCAhPT0gdmVjdG9yMi5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgcGFyYW1ldGVyOiAndmVjdG9yMSx2ZWN0b3IyJyxcbiAgICAgIHZhbHVlOiB7IHZlY3RvcjFMZW5ndGg6IHZlY3RvcjEubGVuZ3RoLCB2ZWN0b3IyTGVuZ3RoOiB2ZWN0b3IyLmxlbmd0aCB9LFxuICAgICAgbWVzc2FnZTogYFZlY3RvcnMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aGAsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBuID0gdmVjdG9yMS5sZW5ndGg7XG5cbiAgaWYgKG4gPT09IDApIHtcbiAgICByZXR1cm4gMDsgLy8gUmV0dXJuIDAgZm9yIGVtcHR5IHZlY3RvcnMgaWYgbm8gZXJyb3IgaXMgdGhyb3duXG4gIH1cblxuICBsZXQgbWFnbml0dWRlU3F1YXJlZDEgPSAwO1xuICBsZXQgbWFnbml0dWRlU3F1YXJlZDIgPSAwO1xuICBsZXQgZG90UHJvZHVjdCA9IDA7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICBjb25zdCB2YWx1ZTEgPSB2ZWN0b3IxW2ldO1xuICAgIGNvbnN0IHZhbHVlMiA9IHZlY3RvcjJbaV07XG5cbiAgICBtYWduaXR1ZGVTcXVhcmVkMSArPSB2YWx1ZTEgKiB2YWx1ZTE7XG4gICAgbWFnbml0dWRlU3F1YXJlZDIgKz0gdmFsdWUyICogdmFsdWUyO1xuICAgIGRvdFByb2R1Y3QgKz0gdmFsdWUxICogdmFsdWUyO1xuICB9XG5cbiAgcmV0dXJuIG1hZ25pdHVkZVNxdWFyZWQxID09PSAwIHx8IG1hZ25pdHVkZVNxdWFyZWQyID09PSAwXG4gICAgPyAwXG4gICAgOiBkb3RQcm9kdWN0IC9cbiAgICAgICAgKE1hdGguc3FydChtYWduaXR1ZGVTcXVhcmVkMSkgKiBNYXRoLnNxcnQobWFnbml0dWRlU3F1YXJlZDIpKTtcbn1cbiIsICIvKipcbiAqIENvbnZlcnRzIGEgZGF0YSBVUkwgb2YgdHlwZSB0ZXh0LyogdG8gYSB0ZXh0IHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRGcm9tRGF0YVVybChkYXRhVXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBbaGVhZGVyLCBiYXNlNjRDb250ZW50XSA9IGRhdGFVcmwuc3BsaXQoJywnKTtcbiAgY29uc3QgbWVkaWFUeXBlID0gaGVhZGVyLnNwbGl0KCc7JylbMF0uc3BsaXQoJzonKVsxXTtcblxuICBpZiAobWVkaWFUeXBlID09IG51bGwgfHwgYmFzZTY0Q29udGVudCA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRhdGEgVVJMIGZvcm1hdCcpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmF0b2IoYmFzZTY0Q29udGVudCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBkZWNvZGluZyBkYXRhIFVSTGApO1xuICB9XG59XG4iLCAiLyoqXG4gKiBQZXJmb3JtcyBhIGRlZXAtZXF1YWwgY29tcGFyaXNvbiBvZiB0d28gcGFyc2VkIEpTT04gb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0ge2FueX0gb2JqMSAtIFRoZSBmaXJzdCBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7YW55fSBvYmoyIC0gVGhlIHNlY29uZCBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSAtIFJldHVybnMgdHJ1ZSBpZiB0aGUgdHdvIG9iamVjdHMgYXJlIGRlZXBseSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEZWVwRXF1YWxEYXRhKG9iajE6IGFueSwgb2JqMjogYW55KTogYm9vbGVhbiB7XG4gIC8vIENoZWNrIGZvciBzdHJpY3QgZXF1YWxpdHkgZmlyc3RcbiAgaWYgKG9iajEgPT09IG9iajIpIHJldHVybiB0cnVlO1xuXG4gIC8vIENoZWNrIGlmIGVpdGhlciBpcyBudWxsIG9yIHVuZGVmaW5lZFxuICBpZiAob2JqMSA9PSBudWxsIHx8IG9iajIgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIENoZWNrIGlmIGJvdGggYXJlIG9iamVjdHNcbiAgaWYgKHR5cGVvZiBvYmoxICE9PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqMiAhPT0gJ29iamVjdCcpXG4gICAgcmV0dXJuIG9iajEgPT09IG9iajI7XG5cbiAgLy8gSWYgdGhleSBhcmUgbm90IHN0cmljdGx5IGVxdWFsLCB0aGV5IGJvdGggbmVlZCB0byBiZSBPYmplY3RzXG4gIGlmIChvYmoxLmNvbnN0cnVjdG9yICE9PSBvYmoyLmNvbnN0cnVjdG9yKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgRGF0ZSBvYmplY3RzXG4gIGlmIChvYmoxIGluc3RhbmNlb2YgRGF0ZSAmJiBvYmoyIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiBvYmoxLmdldFRpbWUoKSA9PT0gb2JqMi5nZXRUaW1lKCk7XG4gIH1cblxuICAvLyBIYW5kbGUgYXJyYXlzOiBjb21wYXJlIGxlbmd0aCBhbmQgdGhlbiBwZXJmb3JtIGEgcmVjdXJzaXZlIGRlZXAgY29tcGFyaXNvbiBvbiBlYWNoIGl0ZW1cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqMSkpIHtcbiAgICBpZiAob2JqMS5sZW5ndGggIT09IG9iajIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoxLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWlzRGVlcEVxdWFsRGF0YShvYmoxW2ldLCBvYmoyW2ldKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTsgLy8gQWxsIGFycmF5IGVsZW1lbnRzIG1hdGNoZWRcbiAgfVxuXG4gIC8vIENvbXBhcmUgdGhlIHNldCBvZiBrZXlzIGluIGVhY2ggb2JqZWN0XG4gIGNvbnN0IGtleXMxID0gT2JqZWN0LmtleXMob2JqMSk7XG4gIGNvbnN0IGtleXMyID0gT2JqZWN0LmtleXMob2JqMik7XG4gIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIENoZWNrIGVhY2gga2V5LXZhbHVlIHBhaXIgcmVjdXJzaXZlbHlcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5czEpIHtcbiAgICBpZiAoIWtleXMyLmluY2x1ZGVzKGtleSkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWlzRGVlcEVxdWFsRGF0YShvYmoxW2tleV0sIG9iajJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlOyAvLyBBbGwga2V5cyBhbmQgdmFsdWVzIG1hdGNoZWRcbn1cbiIsICJpbXBvcnQgeyBKb2IgfSBmcm9tICcuL2pvYic7XG5cbmV4cG9ydCBjbGFzcyBTZXJpYWxKb2JFeGVjdXRvciB7XG4gIHByaXZhdGUgcXVldWU6IEFycmF5PEpvYj4gPSBbXTtcbiAgcHJpdmF0ZSBpc1Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NRdWV1ZSgpIHtcbiAgICBpZiAodGhpcy5pc1Byb2Nlc3NpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlzUHJvY2Vzc2luZyA9IHRydWU7XG5cbiAgICB3aGlsZSAodGhpcy5xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCB0aGlzLnF1ZXVlWzBdKCk7XG4gICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIGFzeW5jIHJ1bihqb2I6IEpvYik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLnF1ZXVlLnB1c2goYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGpvYigpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdm9pZCB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgZGVsYXkgYXMgZGVsYXlGdW5jdGlvbiB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWFkYWJsZVN0cmVhbSB0aGF0IGVtaXRzIHRoZSBwcm92aWRlZCB2YWx1ZXMgd2l0aCBhbiBvcHRpb25hbCBkZWxheSBiZXR3ZWVuIGVhY2ggdmFsdWUuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zXG4gKiBAcGFyYW0gb3B0aW9ucy5jaHVua3MgLSBBcnJheSBvZiB2YWx1ZXMgdG8gYmUgZW1pdHRlZCBieSB0aGUgc3RyZWFtXG4gKiBAcGFyYW0gb3B0aW9ucy5pbml0aWFsRGVsYXlJbk1zIC0gT3B0aW9uYWwgaW5pdGlhbCBkZWxheSBpbiBtaWxsaXNlY29uZHMgYmVmb3JlIGVtaXR0aW5nIHRoZSBmaXJzdCB2YWx1ZSAoZGVmYXVsdDogMCkuIENhbiBiZSBzZXQgdG8gYG51bGxgIHRvIHNraXAgdGhlIGluaXRpYWwgZGVsYXkuIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gYGluaXRpYWxEZWxheUluTXM6IG51bGxgIGFuZCBgaW5pdGlhbERlbGF5SW5NczogMGAgaXMgdGhhdCBgaW5pdGlhbERlbGF5SW5NczogbnVsbGAgd2lsbCBlbWl0IHRoZSB2YWx1ZXMgd2l0aG91dCBhbnkgZGVsYXksIHdoaWxlIGBpbml0aWFsRGVsYXlJbk1zOiAwYCB3aWxsIGVtaXQgdGhlIHZhbHVlcyB3aXRoIGEgZGVsYXkgb2YgMCBtaWxsaXNlY29uZHMuXG4gKiBAcGFyYW0gb3B0aW9ucy5jaHVua0RlbGF5SW5NcyAtIE9wdGlvbmFsIGRlbGF5IGluIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVtaXR0aW5nIGVhY2ggdmFsdWUgKGRlZmF1bHQ6IDApLiBDYW4gYmUgc2V0IHRvIGBudWxsYCB0byBza2lwIHRoZSBkZWxheS4gVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBgY2h1bmtEZWxheUluTXM6IG51bGxgIGFuZCBgY2h1bmtEZWxheUluTXM6IDBgIGlzIHRoYXQgYGNodW5rRGVsYXlJbk1zOiBudWxsYCB3aWxsIGVtaXQgdGhlIHZhbHVlcyB3aXRob3V0IGFueSBkZWxheSwgd2hpbGUgYGNodW5rRGVsYXlJbk1zOiAwYCB3aWxsIGVtaXQgdGhlIHZhbHVlcyB3aXRoIGEgZGVsYXkgb2YgMCBtaWxsaXNlY29uZHMuXG4gKiBAcmV0dXJucyBBIFJlYWRhYmxlU3RyZWFtIHRoYXQgZW1pdHMgdGhlIHByb3ZpZGVkIHZhbHVlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2ltdWxhdGVSZWFkYWJsZVN0cmVhbTxUPih7XG4gIGNodW5rcyxcbiAgaW5pdGlhbERlbGF5SW5NcyA9IDAsXG4gIGNodW5rRGVsYXlJbk1zID0gMCxcbiAgX2ludGVybmFsLFxufToge1xuICBjaHVua3M6IFRbXTtcbiAgaW5pdGlhbERlbGF5SW5Ncz86IG51bWJlciB8IG51bGw7XG4gIGNodW5rRGVsYXlJbk1zPzogbnVtYmVyIHwgbnVsbDtcbiAgX2ludGVybmFsPzoge1xuICAgIGRlbGF5PzogKG1zOiBudW1iZXIgfCBudWxsKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB9O1xufSk6IFJlYWRhYmxlU3RyZWFtPFQ+IHtcbiAgY29uc3QgZGVsYXkgPSBfaW50ZXJuYWw/LmRlbGF5ID8/IGRlbGF5RnVuY3Rpb247XG5cbiAgbGV0IGluZGV4ID0gMDtcblxuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIGlmIChpbmRleCA8IGNodW5rcy5sZW5ndGgpIHtcbiAgICAgICAgYXdhaXQgZGVsYXkoaW5kZXggPT09IDAgPyBpbml0aWFsRGVsYXlJbk1zIDogY2h1bmtEZWxheUluTXMpO1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmtzW2luZGV4KytdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBKU09OVmFsdWUsIFNwZWVjaE1vZGVsVjIgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFByb3ZpZGVyT3B0aW9ucywgd2l0aFVzZXJBZ2VudFN1ZmZpeCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgTm9TcGVlY2hHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLXNwZWVjaC1nZW5lcmF0ZWQtZXJyb3InO1xuaW1wb3J0IHsgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvciB9IGZyb20gJy4uL2Vycm9yL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3InO1xuaW1wb3J0IHsgbG9nV2FybmluZ3MgfSBmcm9tICcuLi9sb2dnZXIvbG9nLXdhcm5pbmdzJztcbmltcG9ydCB7IFNwZWVjaFdhcm5pbmcgfSBmcm9tICcuLi90eXBlcy9zcGVlY2gtbW9kZWwnO1xuaW1wb3J0IHsgU3BlZWNoTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvc3BlZWNoLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcbmltcG9ydCB7XG4gIGF1ZGlvTWVkaWFUeXBlU2lnbmF0dXJlcyxcbiAgZGV0ZWN0TWVkaWFUeXBlLFxufSBmcm9tICcuLi91dGlsL2RldGVjdC1tZWRpYS10eXBlJztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgU3BlZWNoUmVzdWx0IH0gZnJvbSAnLi9nZW5lcmF0ZS1zcGVlY2gtcmVzdWx0JztcbmltcG9ydCB7XG4gIERlZmF1bHRHZW5lcmF0ZWRBdWRpb0ZpbGUsXG4gIEdlbmVyYXRlZEF1ZGlvRmlsZSxcbn0gZnJvbSAnLi9nZW5lcmF0ZWQtYXVkaW8tZmlsZSc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG4vKipcbkdlbmVyYXRlcyBzcGVlY2ggYXVkaW8gdXNpbmcgYSBzcGVlY2ggbW9kZWwuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSBzcGVlY2ggbW9kZWwgdG8gdXNlLlxuQHBhcmFtIHRleHQgLSBUaGUgdGV4dCB0byBjb252ZXJ0IHRvIHNwZWVjaC5cbkBwYXJhbSB2b2ljZSAtIFRoZSB2b2ljZSB0byB1c2UgZm9yIHNwZWVjaCBnZW5lcmF0aW9uLlxuQHBhcmFtIG91dHB1dEZvcm1hdCAtIFRoZSBvdXRwdXQgZm9ybWF0IHRvIHVzZSBmb3Igc3BlZWNoIGdlbmVyYXRpb24gZS5nLiBcIm1wM1wiLCBcIndhdlwiLCBldGMuXG5AcGFyYW0gaW5zdHJ1Y3Rpb25zIC0gSW5zdHJ1Y3Rpb25zIGZvciB0aGUgc3BlZWNoIGdlbmVyYXRpb24gZS5nLiBcIlNwZWFrIGluIGEgc2xvdyBhbmQgc3RlYWR5IHRvbmVcIi5cbkBwYXJhbSBzcGVlZCAtIFRoZSBzcGVlZCBvZiB0aGUgc3BlZWNoIGdlbmVyYXRpb24uXG5AcGFyYW0gcHJvdmlkZXJPcHRpb25zIC0gQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlclxuYXMgYm9keSBwYXJhbWV0ZXJzLlxuQHBhcmFtIG1heFJldHJpZXMgLSBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuIERlZmF1bHQ6IDIuXG5AcGFyYW0gYWJvcnRTaWduYWwgLSBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGwuXG5AcGFyYW0gaGVhZGVycyAtIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cblxuQHJldHVybnMgQSByZXN1bHQgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGdlbmVyYXRlZCBhdWRpbyBkYXRhLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVTcGVlY2goe1xuICBtb2RlbCxcbiAgdGV4dCxcbiAgdm9pY2UsXG4gIG91dHB1dEZvcm1hdCxcbiAgaW5zdHJ1Y3Rpb25zLFxuICBzcGVlZCxcbiAgbGFuZ3VhZ2UsXG4gIHByb3ZpZGVyT3B0aW9ucyA9IHt9LFxuICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICBhYm9ydFNpZ25hbCxcbiAgaGVhZGVycyxcbn06IHtcbiAgLyoqXG5UaGUgc3BlZWNoIG1vZGVsIHRvIHVzZS5cbiAgICAgKi9cbiAgbW9kZWw6IFNwZWVjaE1vZGVsVjI7XG5cbiAgLyoqXG5UaGUgdGV4dCB0byBjb252ZXJ0IHRvIHNwZWVjaC5cbiAgICovXG4gIHRleHQ6IHN0cmluZztcblxuICAvKipcblRoZSB2b2ljZSB0byB1c2UgZm9yIHNwZWVjaCBnZW5lcmF0aW9uLlxuICAgKi9cbiAgdm9pY2U/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBkZXNpcmVkIG91dHB1dCBmb3JtYXQgZm9yIHRoZSBhdWRpbyBlLmcuIFwibXAzXCIsIFwid2F2XCIsIGV0Yy5cbiAgICovXG4gIG91dHB1dEZvcm1hdD86ICdtcDMnIHwgJ3dhdicgfCAoc3RyaW5nICYge30pO1xuXG4gIC8qKlxuICAgIEluc3RydWN0aW9ucyBmb3IgdGhlIHNwZWVjaCBnZW5lcmF0aW9uIGUuZy4gXCJTcGVhayBpbiBhIHNsb3cgYW5kIHN0ZWFkeSB0b25lXCIuXG4gICovXG4gIGluc3RydWN0aW9ucz86IHN0cmluZztcblxuICAvKipcbiAgVGhlIHNwZWVkIG9mIHRoZSBzcGVlY2ggZ2VuZXJhdGlvbi5cbiAgICovXG4gIHNwZWVkPzogbnVtYmVyO1xuXG4gIC8qKlxuICBUaGUgbGFuZ3VhZ2UgZm9yIHNwZWVjaCBnZW5lcmF0aW9uLiBUaGlzIHNob3VsZCBiZSBhbiBJU08gNjM5LTEgbGFuZ3VhZ2UgY29kZSAoZS5nLiBcImVuXCIsIFwiZXNcIiwgXCJmclwiKVxuICBvciBcImF1dG9cIiBmb3IgYXV0b21hdGljIGxhbmd1YWdlIGRldGVjdGlvbi4gUHJvdmlkZXIgc3VwcG9ydCB2YXJpZXMuXG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcblxuICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucyB0aGF0IGFyZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXJcbmFzIGJvZHkgcGFyYW1ldGVycy5cblxuVGhlIG91dGVyIHJlY29yZCBpcyBrZXllZCBieSB0aGUgcHJvdmlkZXIgbmFtZSwgYW5kIHRoZSBpbm5lclxucmVjb3JkIGlzIGtleWVkIGJ5IHRoZSBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YSBrZXkuXG5gYGB0c1xue1xuICBcIm9wZW5haVwiOiB7fVxufVxuYGBgXG4gICAgICovXG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAvKipcbk1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgcGVyIHNwZWVjaCBtb2RlbCBjYWxsLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuXG5cbkBkZWZhdWx0IDJcbiAgICovXG4gIG1heFJldHJpZXM/OiBudW1iZXI7XG5cbiAgLyoqXG5BYm9ydCBzaWduYWwuXG4gKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcblxuICAvKipcbkFkZGl0aW9uYWwgaGVhZGVycyB0byBpbmNsdWRlIGluIHRoZSByZXF1ZXN0LlxuT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cbiAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn0pOiBQcm9taXNlPFNwZWVjaFJlc3VsdD4ge1xuICBpZiAobW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24gIT09ICd2MicpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcih7XG4gICAgICB2ZXJzaW9uOiBtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbixcbiAgICAgIHByb3ZpZGVyOiBtb2RlbC5wcm92aWRlcixcbiAgICAgIG1vZGVsSWQ6IG1vZGVsLm1vZGVsSWQsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBoZWFkZXJzV2l0aFVzZXJBZ2VudCA9IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgaGVhZGVycyA/PyB7fSxcbiAgICBgYWkvJHtWRVJTSU9OfWAsXG4gICk7XG5cbiAgY29uc3QgeyByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoe1xuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gIH0pO1xuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldHJ5KCgpID0+XG4gICAgbW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICB0ZXh0LFxuICAgICAgdm9pY2UsXG4gICAgICBvdXRwdXRGb3JtYXQsXG4gICAgICBpbnN0cnVjdGlvbnMsXG4gICAgICBzcGVlZCxcbiAgICAgIGxhbmd1YWdlLFxuICAgICAgYWJvcnRTaWduYWwsXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICB9KSxcbiAgKTtcblxuICBpZiAoIXJlc3VsdC5hdWRpbyB8fCByZXN1bHQuYXVkaW8ubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IE5vU3BlZWNoR2VuZXJhdGVkRXJyb3IoeyByZXNwb25zZXM6IFtyZXN1bHQucmVzcG9uc2VdIH0pO1xuICB9XG5cbiAgbG9nV2FybmluZ3MocmVzdWx0Lndhcm5pbmdzKTtcblxuICByZXR1cm4gbmV3IERlZmF1bHRTcGVlY2hSZXN1bHQoe1xuICAgIGF1ZGlvOiBuZXcgRGVmYXVsdEdlbmVyYXRlZEF1ZGlvRmlsZSh7XG4gICAgICBkYXRhOiByZXN1bHQuYXVkaW8sXG4gICAgICBtZWRpYVR5cGU6XG4gICAgICAgIGRldGVjdE1lZGlhVHlwZSh7XG4gICAgICAgICAgZGF0YTogcmVzdWx0LmF1ZGlvLFxuICAgICAgICAgIHNpZ25hdHVyZXM6IGF1ZGlvTWVkaWFUeXBlU2lnbmF0dXJlcyxcbiAgICAgICAgfSkgPz8gJ2F1ZGlvL21wMycsXG4gICAgfSksXG4gICAgd2FybmluZ3M6IHJlc3VsdC53YXJuaW5ncyxcbiAgICByZXNwb25zZXM6IFtyZXN1bHQucmVzcG9uc2VdLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHJlc3VsdC5wcm92aWRlck1ldGFkYXRhLFxuICB9KTtcbn1cblxuY2xhc3MgRGVmYXVsdFNwZWVjaFJlc3VsdCBpbXBsZW1lbnRzIFNwZWVjaFJlc3VsdCB7XG4gIHJlYWRvbmx5IGF1ZGlvOiBHZW5lcmF0ZWRBdWRpb0ZpbGU7XG4gIHJlYWRvbmx5IHdhcm5pbmdzOiBBcnJheTxTcGVlY2hXYXJuaW5nPjtcbiAgcmVhZG9ubHkgcmVzcG9uc2VzOiBBcnJheTxTcGVlY2hNb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuICByZWFkb25seSBwcm92aWRlck1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBKU09OVmFsdWU+PjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgYXVkaW86IEdlbmVyYXRlZEF1ZGlvRmlsZTtcbiAgICB3YXJuaW5nczogQXJyYXk8U3BlZWNoV2FybmluZz47XG4gICAgcmVzcG9uc2VzOiBBcnJheTxTcGVlY2hNb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuICAgIHByb3ZpZGVyTWV0YWRhdGE6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIEpTT05WYWx1ZT4+IHwgdW5kZWZpbmVkO1xuICB9KSB7XG4gICAgdGhpcy5hdWRpbyA9IG9wdGlvbnMuYXVkaW87XG4gICAgdGhpcy53YXJuaW5ncyA9IG9wdGlvbnMud2FybmluZ3M7XG4gICAgdGhpcy5yZXNwb25zZXMgPSBvcHRpb25zLnJlc3BvbnNlcztcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGEgPSBvcHRpb25zLnByb3ZpZGVyTWV0YWRhdGEgPz8ge307XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBTcGVlY2hNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9zcGVlY2gtbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuXG4vKipcbkVycm9yIHRoYXQgaXMgdGhyb3duIHdoZW4gbm8gc3BlZWNoIGF1ZGlvIHdhcyBnZW5lcmF0ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb1NwZWVjaEdlbmVyYXRlZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHJlYWRvbmx5IHJlc3BvbnNlczogQXJyYXk8U3BlZWNoTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IHJlc3BvbnNlczogQXJyYXk8U3BlZWNoTW9kZWxSZXNwb25zZU1ldGFkYXRhPiB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZTogJ0FJX05vU3BlZWNoR2VuZXJhdGVkRXJyb3InLFxuICAgICAgbWVzc2FnZTogJ05vIHNwZWVjaCBhdWRpbyBnZW5lcmF0ZWQuJyxcbiAgICB9KTtcblxuICAgIHRoaXMucmVzcG9uc2VzID0gb3B0aW9ucy5yZXNwb25zZXM7XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBHZW5lcmF0ZWRGaWxlLFxuICBEZWZhdWx0R2VuZXJhdGVkRmlsZSxcbn0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9nZW5lcmF0ZWQtZmlsZSc7XG5cbi8qKlxuICogQSBnZW5lcmF0ZWQgYXVkaW8gZmlsZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZW5lcmF0ZWRBdWRpb0ZpbGUgZXh0ZW5kcyBHZW5lcmF0ZWRGaWxlIHtcbiAgLyoqXG4gICAqIEF1ZGlvIGZvcm1hdCBvZiB0aGUgZmlsZSAoZS5nLiwgJ21wMycsICd3YXYnLCBldGMuKVxuICAgKi9cbiAgcmVhZG9ubHkgZm9ybWF0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0R2VuZXJhdGVkQXVkaW9GaWxlXG4gIGV4dGVuZHMgRGVmYXVsdEdlbmVyYXRlZEZpbGVcbiAgaW1wbGVtZW50cyBHZW5lcmF0ZWRBdWRpb0ZpbGVcbntcbiAgcmVhZG9ubHkgZm9ybWF0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGRhdGEsXG4gICAgbWVkaWFUeXBlLFxuICB9OiB7XG4gICAgZGF0YTogc3RyaW5nIHwgVWludDhBcnJheTtcbiAgICBtZWRpYVR5cGU6IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHsgZGF0YSwgbWVkaWFUeXBlIH0pO1xuICAgIGxldCBmb3JtYXQgPSAnbXAzJztcblxuICAgIC8vIElmIGZvcm1hdCBpcyBub3QgcHJvdmlkZWQsIHRyeSB0byBkZXRlcm1pbmUgaXQgZnJvbSB0aGUgbWVkaWEgdHlwZVxuICAgIGlmIChtZWRpYVR5cGUpIHtcbiAgICAgIGNvbnN0IG1lZGlhVHlwZVBhcnRzID0gbWVkaWFUeXBlLnNwbGl0KCcvJyk7XG5cbiAgICAgIGlmIChtZWRpYVR5cGVQYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgLy8gSGFuZGxlIHNwZWNpYWwgY2FzZXMgZm9yIGF1ZGlvIGZvcm1hdHNcbiAgICAgICAgaWYgKG1lZGlhVHlwZSAhPT0gJ2F1ZGlvL21wZWcnKSB7XG4gICAgICAgICAgZm9ybWF0ID0gbWVkaWFUeXBlUGFydHNbMV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgLy8gVE9ETyB0aGlzIHNob3VsZCBiZSBhbiBBSSBTREsgZXJyb3JcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0F1ZGlvIGZvcm1hdCBtdXN0IGJlIHByb3ZpZGVkIG9yIGRldGVybWluYWJsZSBmcm9tIG1lZGlhIHR5cGUnLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdEdlbmVyYXRlZEF1ZGlvRmlsZVdpdGhUeXBlIGV4dGVuZHMgRGVmYXVsdEdlbmVyYXRlZEF1ZGlvRmlsZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnYXVkaW8nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICBkYXRhOiBzdHJpbmcgfCBVaW50OEFycmF5O1xuICAgIG1lZGlhVHlwZTogc3RyaW5nO1xuICAgIGZvcm1hdDogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucyB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgYXNTY2hlbWEsXG4gIHNhZmVQYXJzZUpTT04sXG4gIHNhZmVWYWxpZGF0ZVR5cGVzLFxuICBTY2hlbWEsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0ICogYXMgejMgZnJvbSAnem9kL3YzJztcbmltcG9ydCAqIGFzIHo0IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBOb09iamVjdEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tb2JqZWN0LWdlbmVyYXRlZC1lcnJvcic7XG5pbXBvcnQgeyBEZWVwUGFydGlhbCB9IGZyb20gJy4uL3V0aWwvZGVlcC1wYXJ0aWFsJztcbmltcG9ydCB7IHBhcnNlUGFydGlhbEpzb24gfSBmcm9tICcuLi91dGlsL3BhcnNlLXBhcnRpYWwtanNvbic7XG5pbXBvcnQgeyBGaW5pc2hSZWFzb24gfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxVc2FnZSB9IGZyb20gJy4uL3R5cGVzL3VzYWdlJztcblxuZXhwb3J0IGludGVyZmFjZSBPdXRwdXQ8T1VUUFVULCBQQVJUSUFMPiB7XG4gIHJlYWRvbmx5IHR5cGU6ICdvYmplY3QnIHwgJ3RleHQnO1xuXG4gIHJlc3BvbnNlRm9ybWF0OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1sncmVzcG9uc2VGb3JtYXQnXTtcblxuICBwYXJzZVBhcnRpYWwob3B0aW9uczoge1xuICAgIHRleHQ6IHN0cmluZztcbiAgfSk6IFByb21pc2U8eyBwYXJ0aWFsOiBQQVJUSUFMIH0gfCB1bmRlZmluZWQ+O1xuXG4gIHBhcnNlT3V0cHV0KFxuICAgIG9wdGlvbnM6IHsgdGV4dDogc3RyaW5nIH0sXG4gICAgY29udGV4dDoge1xuICAgICAgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuICAgICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICAgIGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uO1xuICAgIH0sXG4gICk6IFByb21pc2U8T1VUUFVUPjtcbn1cblxuZXhwb3J0IGNvbnN0IHRleHQgPSAoKTogT3V0cHV0PHN0cmluZywgc3RyaW5nPiA9PiAoe1xuICB0eXBlOiAndGV4dCcsXG5cbiAgcmVzcG9uc2VGb3JtYXQ6IHsgdHlwZTogJ3RleHQnIH0sXG5cbiAgYXN5bmMgcGFyc2VQYXJ0aWFsKHsgdGV4dCB9OiB7IHRleHQ6IHN0cmluZyB9KSB7XG4gICAgcmV0dXJuIHsgcGFydGlhbDogdGV4dCB9O1xuICB9LFxuXG4gIGFzeW5jIHBhcnNlT3V0cHV0KHsgdGV4dCB9OiB7IHRleHQ6IHN0cmluZyB9KSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IG9iamVjdCA9IDxPVVRQVVQ+KHtcbiAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbn06IHtcbiAgc2NoZW1hOlxuICAgIHwgejQuY29yZS4kWm9kVHlwZTxPVVRQVVQsIGFueT5cbiAgICB8IHozLlNjaGVtYTxPVVRQVVQsIHozLlpvZFR5cGVEZWYsIGFueT5cbiAgICB8IFNjaGVtYTxPVVRQVVQ+O1xufSk6IE91dHB1dDxPVVRQVVQsIERlZXBQYXJ0aWFsPE9VVFBVVD4+ID0+IHtcbiAgY29uc3Qgc2NoZW1hID0gYXNTY2hlbWEoaW5wdXRTY2hlbWEpO1xuXG4gIHJldHVybiB7XG4gICAgdHlwZTogJ29iamVjdCcsXG5cbiAgICByZXNwb25zZUZvcm1hdDoge1xuICAgICAgdHlwZTogJ2pzb24nLFxuICAgICAgc2NoZW1hOiBzY2hlbWEuanNvblNjaGVtYSxcbiAgICB9LFxuXG4gICAgYXN5bmMgcGFyc2VQYXJ0aWFsKHsgdGV4dCB9OiB7IHRleHQ6IHN0cmluZyB9KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYXJzZVBhcnRpYWxKc29uKHRleHQpO1xuXG4gICAgICBzd2l0Y2ggKHJlc3VsdC5zdGF0ZSkge1xuICAgICAgICBjYXNlICdmYWlsZWQtcGFyc2UnOlxuICAgICAgICBjYXNlICd1bmRlZmluZWQtaW5wdXQnOlxuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY2FzZSAncmVwYWlyZWQtcGFyc2UnOlxuICAgICAgICBjYXNlICdzdWNjZXNzZnVsLXBhcnNlJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gTm90ZTogY3VycmVudGx5IG5vIHZhbGlkYXRpb24gb2YgcGFydGlhbCByZXN1bHRzOlxuICAgICAgICAgICAgcGFydGlhbDogcmVzdWx0LnZhbHVlIGFzIERlZXBQYXJ0aWFsPE9VVFBVVD4sXG4gICAgICAgICAgfTtcblxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSByZXN1bHQuc3RhdGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwYXJzZSBzdGF0ZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFzeW5jIHBhcnNlT3V0cHV0KFxuICAgICAgeyB0ZXh0IH06IHsgdGV4dDogc3RyaW5nIH0sXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YTtcbiAgICAgICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICAgICAgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb247XG4gICAgICB9LFxuICAgICkge1xuICAgICAgY29uc3QgcGFyc2VSZXN1bHQgPSBhd2FpdCBzYWZlUGFyc2VKU09OKHsgdGV4dCB9KTtcblxuICAgICAgaWYgKCFwYXJzZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gb2JqZWN0IGdlbmVyYXRlZDogY291bGQgbm90IHBhcnNlIHRoZSByZXNwb25zZS4nLFxuICAgICAgICAgIGNhdXNlOiBwYXJzZVJlc3VsdC5lcnJvcixcbiAgICAgICAgICB0ZXh0LFxuICAgICAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgICAgIHVzYWdlOiBjb250ZXh0LnVzYWdlLFxuICAgICAgICAgIGZpbmlzaFJlYXNvbjogY29udGV4dC5maW5pc2hSZWFzb24sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXMoe1xuICAgICAgICB2YWx1ZTogcGFyc2VSZXN1bHQudmFsdWUsXG4gICAgICAgIHNjaGVtYSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIG9iamVjdCBnZW5lcmF0ZWQ6IHJlc3BvbnNlIGRpZCBub3QgbWF0Y2ggc2NoZW1hLicsXG4gICAgICAgICAgY2F1c2U6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3IsXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgICByZXNwb25zZTogY29udGV4dC5yZXNwb25zZSxcbiAgICAgICAgICB1c2FnZTogY29udGV4dC51c2FnZSxcbiAgICAgICAgICBmaW5pc2hSZWFzb246IGNvbnRleHQuZmluaXNoUmVhc29uLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbGlkYXRpb25SZXN1bHQudmFsdWU7XG4gICAgfSxcbiAgfTtcbn07XG4iLCAiaW1wb3J0IHsgZGVsYXkgYXMgb3JpZ2luYWxEZWxheSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgVGV4dFN0cmVhbVBhcnQgfSBmcm9tICcuL3N0cmVhbS10ZXh0LXJlc3VsdCc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi90b29sLXNldCc7XG5pbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBDSFVOS0lOR19SRUdFWFBTID0ge1xuICB3b3JkOiAvXFxTK1xccysvbSxcbiAgbGluZTogL1xcbisvbSxcbn07XG5cbi8qKlxuICogRGV0ZWN0cyB0aGUgZmlyc3QgY2h1bmsgaW4gYSBidWZmZXIuXG4gKlxuICogQHBhcmFtIGJ1ZmZlciAtIFRoZSBidWZmZXIgdG8gZGV0ZWN0IHRoZSBmaXJzdCBjaHVuayBpbi5cbiAqXG4gKiBAcmV0dXJucyBUaGUgZmlyc3QgZGV0ZWN0ZWQgY2h1bmssIG9yIGB1bmRlZmluZWRgIGlmIG5vIGNodW5rIHdhcyBkZXRlY3RlZC5cbiAqL1xuZXhwb3J0IHR5cGUgQ2h1bmtEZXRlY3RvciA9IChidWZmZXI6IHN0cmluZykgPT4gc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbDtcblxuLyoqXG4gKiBTbW9vdGhzIHRleHQgc3RyZWFtaW5nIG91dHB1dC5cbiAqXG4gKiBAcGFyYW0gZGVsYXlJbk1zIC0gVGhlIGRlbGF5IGluIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggY2h1bmsuIERlZmF1bHRzIHRvIDEwbXMuIENhbiBiZSBzZXQgdG8gYG51bGxgIHRvIHNraXAgdGhlIGRlbGF5LlxuICogQHBhcmFtIGNodW5raW5nIC0gQ29udHJvbHMgaG93IHRoZSB0ZXh0IGlzIGNodW5rZWQgZm9yIHN0cmVhbWluZy4gVXNlIFwid29yZFwiIHRvIHN0cmVhbSB3b3JkIGJ5IHdvcmQgKGRlZmF1bHQpLCBcImxpbmVcIiB0byBzdHJlYW0gbGluZSBieSBsaW5lLCBvciBwcm92aWRlIGEgY3VzdG9tIFJlZ0V4cCBwYXR0ZXJuIGZvciBjdXN0b20gY2h1bmtpbmcuXG4gKlxuICogQHJldHVybnMgQSB0cmFuc2Zvcm0gc3RyZWFtIHRoYXQgc21vb3RocyB0ZXh0IHN0cmVhbWluZyBvdXRwdXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbW9vdGhTdHJlYW08VE9PTFMgZXh0ZW5kcyBUb29sU2V0Pih7XG4gIGRlbGF5SW5NcyA9IDEwLFxuICBjaHVua2luZyA9ICd3b3JkJyxcbiAgX2ludGVybmFsOiB7IGRlbGF5ID0gb3JpZ2luYWxEZWxheSB9ID0ge30sXG59OiB7XG4gIGRlbGF5SW5Ncz86IG51bWJlciB8IG51bGw7XG4gIGNodW5raW5nPzogJ3dvcmQnIHwgJ2xpbmUnIHwgUmVnRXhwIHwgQ2h1bmtEZXRlY3RvcjtcbiAgLyoqXG4gICAqIEludGVybmFsLiBGb3IgdGVzdCB1c2Ugb25seS4gTWF5IGNoYW5nZSB3aXRob3V0IG5vdGljZS5cbiAgICovXG4gIF9pbnRlcm5hbD86IHtcbiAgICBkZWxheT86IChkZWxheUluTXM6IG51bWJlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIH07XG59ID0ge30pOiAob3B0aW9uczoge1xuICB0b29sczogVE9PTFM7XG59KSA9PiBUcmFuc2Zvcm1TdHJlYW08VGV4dFN0cmVhbVBhcnQ8VE9PTFM+LCBUZXh0U3RyZWFtUGFydDxUT09MUz4+IHtcbiAgbGV0IGRldGVjdENodW5rOiBDaHVua0RldGVjdG9yO1xuXG4gIGlmICh0eXBlb2YgY2h1bmtpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBkZXRlY3RDaHVuayA9IGJ1ZmZlciA9PiB7XG4gICAgICBjb25zdCBtYXRjaCA9IGNodW5raW5nKGJ1ZmZlcik7XG5cbiAgICAgIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW1hdGNoLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENodW5raW5nIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGEgbm9uLWVtcHR5IHN0cmluZy5gKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFidWZmZXIuc3RhcnRzV2l0aChtYXRjaCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDaHVua2luZyBmdW5jdGlvbiBtdXN0IHJldHVybiBhIG1hdGNoIHRoYXQgaXMgYSBwcmVmaXggb2YgdGhlIGJ1ZmZlci4gUmVjZWl2ZWQ6IFwiJHttYXRjaH1cIiBleHBlY3RlZCB0byBzdGFydCB3aXRoIFwiJHtidWZmZXJ9XCJgLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjaHVua2luZ1JlZ2V4ID1cbiAgICAgIHR5cGVvZiBjaHVua2luZyA9PT0gJ3N0cmluZycgPyBDSFVOS0lOR19SRUdFWFBTW2NodW5raW5nXSA6IGNodW5raW5nO1xuXG4gICAgaWYgKGNodW5raW5nUmVnZXggPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgYXJndW1lbnQ6ICdjaHVua2luZycsXG4gICAgICAgIG1lc3NhZ2U6IGBDaHVua2luZyBtdXN0IGJlIFwid29yZFwiIG9yIFwibGluZVwiIG9yIGEgUmVnRXhwLiBSZWNlaXZlZDogJHtjaHVua2luZ31gLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGV0ZWN0Q2h1bmsgPSBidWZmZXIgPT4ge1xuICAgICAgY29uc3QgbWF0Y2ggPSBjaHVua2luZ1JlZ2V4LmV4ZWMoYnVmZmVyKTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyBtYXRjaD8uWzBdO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCBidWZmZXIgPSAnJztcbiAgICBsZXQgaWQgPSAnJztcblxuICAgIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtPFRleHRTdHJlYW1QYXJ0PFRPT0xTPiwgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+Pih7XG4gICAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgaWYgKGNodW5rLnR5cGUgIT09ICd0ZXh0LWRlbHRhJykge1xuICAgICAgICAgIGlmIChidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtZGVsdGEnLCB0ZXh0OiBidWZmZXIsIGlkIH0pO1xuICAgICAgICAgICAgYnVmZmVyID0gJyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2h1bmsuaWQgIT09IGlkICYmIGJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtZGVsdGEnLCB0ZXh0OiBidWZmZXIsIGlkIH0pO1xuICAgICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmZmVyICs9IGNodW5rLnRleHQ7XG4gICAgICAgIGlkID0gY2h1bmsuaWQ7XG5cbiAgICAgICAgbGV0IG1hdGNoO1xuXG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSBkZXRlY3RDaHVuayhidWZmZXIpKSAhPSBudWxsKSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtZGVsdGEnLCB0ZXh0OiBtYXRjaCwgaWQgfSk7XG4gICAgICAgICAgYnVmZmVyID0gYnVmZmVyLnNsaWNlKG1hdGNoLmxlbmd0aCk7XG5cbiAgICAgICAgICBhd2FpdCBkZWxheShkZWxheUluTXMpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xufVxuIiwgImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG1lcmdlT2JqZWN0cyB9IGZyb20gJy4uL3V0aWwvbWVyZ2Utb2JqZWN0cyc7XG5cbi8qKlxuICogQXBwbGllcyBkZWZhdWx0IHNldHRpbmdzIGZvciBhIGxhbmd1YWdlIG1vZGVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFNldHRpbmdzTWlkZGxld2FyZSh7XG4gIHNldHRpbmdzLFxufToge1xuICBzZXR0aW5nczogUGFydGlhbDx7XG4gICAgbWF4T3V0cHV0VG9rZW5zPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ21heE91dHB1dFRva2VucyddO1xuICAgIHRlbXBlcmF0dXJlPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3RlbXBlcmF0dXJlJ107XG4gICAgc3RvcFNlcXVlbmNlcz86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydzdG9wU2VxdWVuY2VzJ107XG4gICAgdG9wUD86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWyd0b3BQJ107XG4gICAgdG9wSz86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWyd0b3BLJ107XG4gICAgcHJlc2VuY2VQZW5hbHR5PzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3ByZXNlbmNlUGVuYWx0eSddO1xuICAgIGZyZXF1ZW5jeVBlbmFsdHk/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1snZnJlcXVlbmN5UGVuYWx0eSddO1xuICAgIHJlc3BvbnNlRm9ybWF0PzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3Jlc3BvbnNlRm9ybWF0J107XG4gICAgc2VlZD86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydzZWVkJ107XG4gICAgdG9vbHM/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1sndG9vbHMnXTtcbiAgICB0b29sQ2hvaWNlPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3Rvb2xDaG9pY2UnXTtcbiAgICBoZWFkZXJzPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ2hlYWRlcnMnXTtcbiAgICBwcm92aWRlck9wdGlvbnM/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1sncHJvdmlkZXJPcHRpb25zJ107XG4gIH0+O1xufSk6IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIHtcbiAgcmV0dXJuIHtcbiAgICBtaWRkbGV3YXJlVmVyc2lvbjogJ3YyJyxcbiAgICB0cmFuc2Zvcm1QYXJhbXM6IGFzeW5jICh7IHBhcmFtcyB9KSA9PiB7XG4gICAgICByZXR1cm4gbWVyZ2VPYmplY3RzKHNldHRpbmdzLCBwYXJhbXMpIGFzIExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zO1xuICAgIH0sXG4gIH07XG59XG4iLCAiLyoqXG4gKiBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgc3RhcnQgb2YgdGhlIHNlYXJjaGVkVGV4dCBpbiB0aGUgdGV4dCwgb3IgbnVsbCBpZiBpdFxuICogaXMgbm90IGZvdW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG90ZW50aWFsU3RhcnRJbmRleChcbiAgdGV4dDogc3RyaW5nLFxuICBzZWFyY2hlZFRleHQ6IHN0cmluZyxcbik6IG51bWJlciB8IG51bGwge1xuICAvLyBSZXR1cm4gbnVsbCBpbW1lZGlhdGVseSBpZiBzZWFyY2hlZFRleHQgaXMgZW1wdHkuXG4gIGlmIChzZWFyY2hlZFRleHQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDaGVjayBpZiB0aGUgc2VhcmNoZWRUZXh0IGV4aXN0cyBhcyBhIGRpcmVjdCBzdWJzdHJpbmcgb2YgdGV4dC5cbiAgY29uc3QgZGlyZWN0SW5kZXggPSB0ZXh0LmluZGV4T2Yoc2VhcmNoZWRUZXh0KTtcbiAgaWYgKGRpcmVjdEluZGV4ICE9PSAtMSkge1xuICAgIHJldHVybiBkaXJlY3RJbmRleDtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSwgbG9vayBmb3IgdGhlIGxhcmdlc3Qgc3VmZml4IG9mIFwidGV4dFwiIHRoYXQgbWF0Y2hlc1xuICAvLyBhIHByZWZpeCBvZiBcInNlYXJjaGVkVGV4dFwiLiBXZSBnbyBmcm9tIHRoZSBlbmQgb2YgdGV4dCBpbndhcmQuXG4gIGZvciAobGV0IGkgPSB0ZXh0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3Qgc3VmZml4ID0gdGV4dC5zdWJzdHJpbmcoaSk7XG4gICAgaWYgKHNlYXJjaGVkVGV4dC5zdGFydHNXaXRoKHN1ZmZpeCkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwgImltcG9ydCB0eXBlIHtcbiAgTGFuZ3VhZ2VNb2RlbFYyQ29udGVudCxcbiAgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsLW1pZGRsZXdhcmUnO1xuaW1wb3J0IHsgZ2V0UG90ZW50aWFsU3RhcnRJbmRleCB9IGZyb20gJy4uL3V0aWwvZ2V0LXBvdGVudGlhbC1zdGFydC1pbmRleCc7XG5cbi8qKlxuICogRXh0cmFjdCBhbiBYTUwtdGFnZ2VkIHJlYXNvbmluZyBzZWN0aW9uIGZyb20gdGhlIGdlbmVyYXRlZCB0ZXh0IGFuZCBleHBvc2VzIGl0XG4gKiBhcyBhIGByZWFzb25pbmdgIHByb3BlcnR5IG9uIHRoZSByZXN1bHQuXG4gKlxuICogQHBhcmFtIHRhZ05hbWUgLSBUaGUgbmFtZSBvZiB0aGUgWE1MIHRhZyB0byBleHRyYWN0IHJlYXNvbmluZyBmcm9tLlxuICogQHBhcmFtIHNlcGFyYXRvciAtIFRoZSBzZXBhcmF0b3IgdG8gdXNlIGJldHdlZW4gcmVhc29uaW5nIGFuZCB0ZXh0IHNlY3Rpb25zLlxuICogQHBhcmFtIHN0YXJ0V2l0aFJlYXNvbmluZyAtIFdoZXRoZXIgdG8gc3RhcnQgd2l0aCByZWFzb25pbmcgdG9rZW5zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFJlYXNvbmluZ01pZGRsZXdhcmUoe1xuICB0YWdOYW1lLFxuICBzZXBhcmF0b3IgPSAnXFxuJyxcbiAgc3RhcnRXaXRoUmVhc29uaW5nID0gZmFsc2UsXG59OiB7XG4gIHRhZ05hbWU6IHN0cmluZztcbiAgc2VwYXJhdG9yPzogc3RyaW5nO1xuICBzdGFydFdpdGhSZWFzb25pbmc/OiBib29sZWFuO1xufSk6IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIHtcbiAgY29uc3Qgb3BlbmluZ1RhZyA9IGA8JHt0YWdOYW1lfT5gO1xuICBjb25zdCBjbG9zaW5nVGFnID0gYDxcXC8ke3RhZ05hbWV9PmA7XG5cbiAgcmV0dXJuIHtcbiAgICBtaWRkbGV3YXJlVmVyc2lvbjogJ3YyJyxcbiAgICB3cmFwR2VuZXJhdGU6IGFzeW5jICh7IGRvR2VuZXJhdGUgfSkgPT4ge1xuICAgICAgY29uc3QgeyBjb250ZW50LCAuLi5yZXN0IH0gPSBhd2FpdCBkb0dlbmVyYXRlKCk7XG5cbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkQ29udGVudDogTGFuZ3VhZ2VNb2RlbFYyQ29udGVudFtdID0gW107XG4gICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgY29udGVudCkge1xuICAgICAgICBpZiAocGFydC50eXBlICE9PSAndGV4dCcpIHtcbiAgICAgICAgICB0cmFuc2Zvcm1lZENvbnRlbnQucHVzaChwYXJ0KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRleHQgPSBzdGFydFdpdGhSZWFzb25pbmcgPyBvcGVuaW5nVGFnICsgcGFydC50ZXh0IDogcGFydC50ZXh0O1xuXG4gICAgICAgIGNvbnN0IHJlZ2V4cCA9IG5ldyBSZWdFeHAoYCR7b3BlbmluZ1RhZ30oLio/KSR7Y2xvc2luZ1RhZ31gLCAnZ3MnKTtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IEFycmF5LmZyb20odGV4dC5tYXRjaEFsbChyZWdleHApKTtcblxuICAgICAgICBpZiAoIW1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdHJhbnNmb3JtZWRDb250ZW50LnB1c2gocGFydCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWFzb25pbmdUZXh0ID0gbWF0Y2hlcy5tYXAobWF0Y2ggPT4gbWF0Y2hbMV0pLmpvaW4oc2VwYXJhdG9yKTtcblxuICAgICAgICBsZXQgdGV4dFdpdGhvdXRSZWFzb25pbmcgPSB0ZXh0O1xuICAgICAgICBmb3IgKGxldCBpID0gbWF0Y2hlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGNvbnN0IG1hdGNoID0gbWF0Y2hlc1tpXTtcblxuICAgICAgICAgIGNvbnN0IGJlZm9yZU1hdGNoID0gdGV4dFdpdGhvdXRSZWFzb25pbmcuc2xpY2UoMCwgbWF0Y2guaW5kZXgpO1xuICAgICAgICAgIGNvbnN0IGFmdGVyTWF0Y2ggPSB0ZXh0V2l0aG91dFJlYXNvbmluZy5zbGljZShcbiAgICAgICAgICAgIG1hdGNoLmluZGV4ISArIG1hdGNoWzBdLmxlbmd0aCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgdGV4dFdpdGhvdXRSZWFzb25pbmcgPVxuICAgICAgICAgICAgYmVmb3JlTWF0Y2ggK1xuICAgICAgICAgICAgKGJlZm9yZU1hdGNoLmxlbmd0aCA+IDAgJiYgYWZ0ZXJNYXRjaC5sZW5ndGggPiAwID8gc2VwYXJhdG9yIDogJycpICtcbiAgICAgICAgICAgIGFmdGVyTWF0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFuc2Zvcm1lZENvbnRlbnQucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ3JlYXNvbmluZycsXG4gICAgICAgICAgdGV4dDogcmVhc29uaW5nVGV4dCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdHJhbnNmb3JtZWRDb250ZW50LnB1c2goe1xuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICB0ZXh0OiB0ZXh0V2l0aG91dFJlYXNvbmluZyxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IGNvbnRlbnQ6IHRyYW5zZm9ybWVkQ29udGVudCwgLi4ucmVzdCB9O1xuICAgIH0sXG5cbiAgICB3cmFwU3RyZWFtOiBhc3luYyAoeyBkb1N0cmVhbSB9KSA9PiB7XG4gICAgICBjb25zdCB7IHN0cmVhbSwgLi4ucmVzdCB9ID0gYXdhaXQgZG9TdHJlYW0oKTtcblxuICAgICAgY29uc3QgcmVhc29uaW5nRXh0cmFjdGlvbnM6IFJlY29yZDxcbiAgICAgICAgc3RyaW5nLFxuICAgICAgICB7XG4gICAgICAgICAgaXNGaXJzdFJlYXNvbmluZzogYm9vbGVhbjtcbiAgICAgICAgICBpc0ZpcnN0VGV4dDogYm9vbGVhbjtcbiAgICAgICAgICBhZnRlclN3aXRjaDogYm9vbGVhbjtcbiAgICAgICAgICBpc1JlYXNvbmluZzogYm9vbGVhbjtcbiAgICAgICAgICBidWZmZXI6IHN0cmluZztcbiAgICAgICAgICBpZENvdW50ZXI6IG51bWJlcjtcbiAgICAgICAgICB0ZXh0SWQ6IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgPiA9IHt9O1xuXG4gICAgICBsZXQgZGVsYXllZFRleHRTdGFydDogTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCB8IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RyZWFtOiBzdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgICAgICAgIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG4gICAgICAgICAgICBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0XG4gICAgICAgICAgPih7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IChjaHVuaywgY29udHJvbGxlcikgPT4ge1xuICAgICAgICAgICAgICAvLyBkbyBub3Qgc2VuZCBgdGV4dC1zdGFydGAgYmVmb3JlIGByZWFzb25pbmctc3RhcnRgXG4gICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvYWkvaXNzdWVzLzc3NzRcbiAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICd0ZXh0LXN0YXJ0Jykge1xuICAgICAgICAgICAgICAgIGRlbGF5ZWRUZXh0U3RhcnQgPSBjaHVuaztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoY2h1bmsudHlwZSA9PT0gJ3RleHQtZW5kJyAmJiBkZWxheWVkVGV4dFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGRlbGF5ZWRUZXh0U3RhcnQpO1xuICAgICAgICAgICAgICAgIGRlbGF5ZWRUZXh0U3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoY2h1bmsudHlwZSAhPT0gJ3RleHQtZGVsdGEnKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAocmVhc29uaW5nRXh0cmFjdGlvbnNbY2h1bmsuaWRdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZWFzb25pbmdFeHRyYWN0aW9uc1tjaHVuay5pZF0gPSB7XG4gICAgICAgICAgICAgICAgICBpc0ZpcnN0UmVhc29uaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgaXNGaXJzdFRleHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICBhZnRlclN3aXRjaDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBpc1JlYXNvbmluZzogc3RhcnRXaXRoUmVhc29uaW5nLFxuICAgICAgICAgICAgICAgICAgYnVmZmVyOiAnJyxcbiAgICAgICAgICAgICAgICAgIGlkQ291bnRlcjogMCxcbiAgICAgICAgICAgICAgICAgIHRleHRJZDogY2h1bmsuaWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUV4dHJhY3Rpb24gPSByZWFzb25pbmdFeHRyYWN0aW9uc1tjaHVuay5pZF07XG5cbiAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIgKz0gY2h1bmsuZGVsdGE7XG5cbiAgICAgICAgICAgICAgZnVuY3Rpb24gcHVibGlzaCh0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBwcmVmaXggPVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmFmdGVyU3dpdGNoICYmXG4gICAgICAgICAgICAgICAgICAgIChhY3RpdmVFeHRyYWN0aW9uLmlzUmVhc29uaW5nXG4gICAgICAgICAgICAgICAgICAgICAgPyAhYWN0aXZlRXh0cmFjdGlvbi5pc0ZpcnN0UmVhc29uaW5nXG4gICAgICAgICAgICAgICAgICAgICAgOiAhYWN0aXZlRXh0cmFjdGlvbi5pc0ZpcnN0VGV4dClcbiAgICAgICAgICAgICAgICAgICAgICA/IHNlcGFyYXRvclxuICAgICAgICAgICAgICAgICAgICAgIDogJyc7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZyAmJlxuICAgICAgICAgICAgICAgICAgICAoYWN0aXZlRXh0cmFjdGlvbi5hZnRlclN3aXRjaCB8fFxuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uaXNGaXJzdFJlYXNvbmluZylcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctc3RhcnQnLFxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBgcmVhc29uaW5nLSR7YWN0aXZlRXh0cmFjdGlvbi5pZENvdW50ZXJ9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFeHRyYWN0aW9uLmlzUmVhc29uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZy1kZWx0YScsXG4gICAgICAgICAgICAgICAgICAgICAgZGVsdGE6IHByZWZpeCArIHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGByZWFzb25pbmctJHthY3RpdmVFeHRyYWN0aW9uLmlkQ291bnRlcn1gLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWxheWVkVGV4dFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGRlbGF5ZWRUZXh0U3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGF5ZWRUZXh0U3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dC1kZWx0YScsXG4gICAgICAgICAgICAgICAgICAgICAgZGVsdGE6IHByZWZpeCArIHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGFjdGl2ZUV4dHJhY3Rpb24udGV4dElkLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYWZ0ZXJTd2l0Y2ggPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUV4dHJhY3Rpb24uaXNSZWFzb25pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5pc0ZpcnN0UmVhc29uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmlzRmlyc3RUZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUYWcgPSBhY3RpdmVFeHRyYWN0aW9uLmlzUmVhc29uaW5nXG4gICAgICAgICAgICAgICAgICA/IGNsb3NpbmdUYWdcbiAgICAgICAgICAgICAgICAgIDogb3BlbmluZ1RhZztcblxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBnZXRQb3RlbnRpYWxTdGFydEluZGV4KFxuICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIsXG4gICAgICAgICAgICAgICAgICBuZXh0VGFnLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBubyBvcGVuaW5nIG9yIGNsb3NpbmcgdGFnIGZvdW5kLCBwdWJsaXNoIHRoZSBidWZmZXJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRJbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBwdWJsaXNoKGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyID0gJyc7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBwdWJsaXNoIHRleHQgYmVmb3JlIHRoZSB0YWdcbiAgICAgICAgICAgICAgICBwdWJsaXNoKGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyLnNsaWNlKDAsIHN0YXJ0SW5kZXgpKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kRnVsbE1hdGNoID1cbiAgICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggKyBuZXh0VGFnLmxlbmd0aCA8PSBhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlci5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBpZiAoZm91bmRGdWxsTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyID0gYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIuc2xpY2UoXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggKyBuZXh0VGFnLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIHJlYXNvbmluZyBwYXJ0IGZpbmlzaGVkOlxuICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUV4dHJhY3Rpb24uaXNSZWFzb25pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nLWVuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGByZWFzb25pbmctJHthY3RpdmVFeHRyYWN0aW9uLmlkQ291bnRlcisrfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmlzUmVhc29uaW5nID0gIWFjdGl2ZUV4dHJhY3Rpb24uaXNSZWFzb25pbmc7XG4gICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmFmdGVyU3dpdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIgPVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlci5zbGljZShzdGFydEluZGV4KTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgICAuLi5yZXN0LFxuICAgICAgfTtcbiAgICB9LFxuICB9O1xufVxuIiwgImltcG9ydCB0eXBlIHsgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogU2ltdWxhdGVzIHN0cmVhbWluZyBjaHVua3Mgd2l0aCB0aGUgcmVzcG9uc2UgZnJvbSBhIGdlbmVyYXRlIGNhbGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW11bGF0ZVN0cmVhbWluZ01pZGRsZXdhcmUoKTogTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUge1xuICByZXR1cm4ge1xuICAgIG1pZGRsZXdhcmVWZXJzaW9uOiAndjInLFxuICAgIHdyYXBTdHJlYW06IGFzeW5jICh7IGRvR2VuZXJhdGUgfSkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZG9HZW5lcmF0ZSgpO1xuXG4gICAgICBsZXQgaWQgPSAwO1xuXG4gICAgICBjb25zdCBzaW11bGF0ZWRTdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW08TGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydD4oe1xuICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJlYW0tc3RhcnQnLFxuICAgICAgICAgICAgd2FybmluZ3M6IHJlc3VsdC53YXJuaW5ncyxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdyZXNwb25zZS1tZXRhZGF0YScsIC4uLnJlc3VsdC5yZXNwb25zZSB9KTtcblxuICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiByZXN1bHQuY29udGVudCkge1xuICAgICAgICAgICAgc3dpdGNoIChwYXJ0LnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAndGV4dCc6IHtcbiAgICAgICAgICAgICAgICBpZiAocGFydC50ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LXN0YXJ0JywgaWQ6IFN0cmluZyhpZCkgfSk7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dC1kZWx0YScsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBTdHJpbmcoaWQpLFxuICAgICAgICAgICAgICAgICAgICBkZWx0YTogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAndGV4dC1lbmQnLCBpZDogU3RyaW5nKGlkKSB9KTtcbiAgICAgICAgICAgICAgICAgIGlkKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZyc6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZy1zdGFydCcsXG4gICAgICAgICAgICAgICAgICBpZDogU3RyaW5nKGlkKSxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZy1kZWx0YScsXG4gICAgICAgICAgICAgICAgICBpZDogU3RyaW5nKGlkKSxcbiAgICAgICAgICAgICAgICAgIGRlbHRhOiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3JlYXNvbmluZy1lbmQnLCBpZDogU3RyaW5nKGlkKSB9KTtcbiAgICAgICAgICAgICAgICBpZCsrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocGFydCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogJ2ZpbmlzaCcsXG4gICAgICAgICAgICBmaW5pc2hSZWFzb246IHJlc3VsdC5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICB1c2FnZTogcmVzdWx0LnVzYWdlLFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcmVzdWx0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RyZWFtOiBzaW11bGF0ZWRTdHJlYW0sXG4gICAgICAgIHJlcXVlc3Q6IHJlc3VsdC5yZXF1ZXN0LFxuICAgICAgICByZXNwb25zZTogcmVzdWx0LnJlc3BvbnNlLFxuICAgICAgfTtcbiAgICB9LFxuICB9O1xufVxuIiwgImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMiwgTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnMgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJy4uL3V0aWwvYXMtYXJyYXknO1xuXG4vKipcbiAqIFdyYXBzIGEgTGFuZ3VhZ2VNb2RlbFYyIGluc3RhbmNlIHdpdGggbWlkZGxld2FyZSBmdW5jdGlvbmFsaXR5LlxuICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIGFwcGx5IG1pZGRsZXdhcmUgdG8gdHJhbnNmb3JtIHBhcmFtZXRlcnMsXG4gKiB3cmFwIGdlbmVyYXRlIG9wZXJhdGlvbnMsIGFuZCB3cmFwIHN0cmVhbSBvcGVyYXRpb25zIG9mIGEgbGFuZ3VhZ2UgbW9kZWwuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHdyYXBwaW5nIHRoZSBsYW5ndWFnZSBtb2RlbC5cbiAqIEBwYXJhbSBvcHRpb25zLm1vZGVsIC0gVGhlIG9yaWdpbmFsIExhbmd1YWdlTW9kZWxWMiBpbnN0YW5jZSB0byBiZSB3cmFwcGVkLlxuICogQHBhcmFtIG9wdGlvbnMubWlkZGxld2FyZSAtIFRoZSBtaWRkbGV3YXJlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGxhbmd1YWdlIG1vZGVsLiBXaGVuIG11bHRpcGxlIG1pZGRsZXdhcmVzIGFyZSBwcm92aWRlZCwgdGhlIGZpcnN0IG1pZGRsZXdhcmUgd2lsbCB0cmFuc2Zvcm0gdGhlIGlucHV0IGZpcnN0LCBhbmQgdGhlIGxhc3QgbWlkZGxld2FyZSB3aWxsIGJlIHdyYXBwZWQgZGlyZWN0bHkgYXJvdW5kIHRoZSBtb2RlbC5cbiAqIEBwYXJhbSBvcHRpb25zLm1vZGVsSWQgLSBPcHRpb25hbCBjdXN0b20gbW9kZWwgSUQgdG8gb3ZlcnJpZGUgdGhlIG9yaWdpbmFsIG1vZGVsJ3MgSUQuXG4gKiBAcGFyYW0gb3B0aW9ucy5wcm92aWRlcklkIC0gT3B0aW9uYWwgY3VzdG9tIHByb3ZpZGVyIElEIHRvIG92ZXJyaWRlIHRoZSBvcmlnaW5hbCBtb2RlbCdzIHByb3ZpZGVyIElELlxuICogQHJldHVybnMgQSBuZXcgTGFuZ3VhZ2VNb2RlbFYyIGluc3RhbmNlIHdpdGggbWlkZGxld2FyZSBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3Qgd3JhcExhbmd1YWdlTW9kZWwgPSAoe1xuICBtb2RlbCxcbiAgbWlkZGxld2FyZTogbWlkZGxld2FyZUFyZyxcbiAgbW9kZWxJZCxcbiAgcHJvdmlkZXJJZCxcbn06IHtcbiAgbW9kZWw6IExhbmd1YWdlTW9kZWxWMjtcbiAgbWlkZGxld2FyZTogTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgfCBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZVtdO1xuICBtb2RlbElkPzogc3RyaW5nO1xuICBwcm92aWRlcklkPzogc3RyaW5nO1xufSk6IExhbmd1YWdlTW9kZWxWMiA9PiB7XG4gIHJldHVybiBhc0FycmF5KG1pZGRsZXdhcmVBcmcpXG4gICAgLnJldmVyc2UoKVxuICAgIC5yZWR1Y2UoKHdyYXBwZWRNb2RlbCwgbWlkZGxld2FyZSkgPT4ge1xuICAgICAgcmV0dXJuIGRvV3JhcCh7IG1vZGVsOiB3cmFwcGVkTW9kZWwsIG1pZGRsZXdhcmUsIG1vZGVsSWQsIHByb3ZpZGVySWQgfSk7XG4gICAgfSwgbW9kZWwpO1xufTtcblxuY29uc3QgZG9XcmFwID0gKHtcbiAgbW9kZWwsXG4gIG1pZGRsZXdhcmU6IHtcbiAgICB0cmFuc2Zvcm1QYXJhbXMsXG4gICAgd3JhcEdlbmVyYXRlLFxuICAgIHdyYXBTdHJlYW0sXG4gICAgb3ZlcnJpZGVQcm92aWRlcixcbiAgICBvdmVycmlkZU1vZGVsSWQsXG4gICAgb3ZlcnJpZGVTdXBwb3J0ZWRVcmxzLFxuICB9LFxuICBtb2RlbElkLFxuICBwcm92aWRlcklkLFxufToge1xuICBtb2RlbDogTGFuZ3VhZ2VNb2RlbFYyO1xuICBtaWRkbGV3YXJlOiBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZTtcbiAgbW9kZWxJZD86IHN0cmluZztcbiAgcHJvdmlkZXJJZD86IHN0cmluZztcbn0pOiBMYW5ndWFnZU1vZGVsVjIgPT4ge1xuICBhc3luYyBmdW5jdGlvbiBkb1RyYW5zZm9ybSh7XG4gICAgcGFyYW1zLFxuICAgIHR5cGUsXG4gIH06IHtcbiAgICBwYXJhbXM6IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zO1xuICAgIHR5cGU6ICdnZW5lcmF0ZScgfCAnc3RyZWFtJztcbiAgfSkge1xuICAgIHJldHVybiB0cmFuc2Zvcm1QYXJhbXNcbiAgICAgID8gYXdhaXQgdHJhbnNmb3JtUGFyYW1zKHsgcGFyYW1zLCB0eXBlLCBtb2RlbCB9KVxuICAgICAgOiBwYXJhbXM7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNwZWNpZmljYXRpb25WZXJzaW9uOiAndjInLFxuXG4gICAgcHJvdmlkZXI6IHByb3ZpZGVySWQgPz8gb3ZlcnJpZGVQcm92aWRlcj8uKHsgbW9kZWwgfSkgPz8gbW9kZWwucHJvdmlkZXIsXG4gICAgbW9kZWxJZDogbW9kZWxJZCA/PyBvdmVycmlkZU1vZGVsSWQ/Lih7IG1vZGVsIH0pID8/IG1vZGVsLm1vZGVsSWQsXG4gICAgc3VwcG9ydGVkVXJsczogb3ZlcnJpZGVTdXBwb3J0ZWRVcmxzPy4oeyBtb2RlbCB9KSA/PyBtb2RlbC5zdXBwb3J0ZWRVcmxzLFxuXG4gICAgYXN5bmMgZG9HZW5lcmF0ZShcbiAgICAgIHBhcmFtczogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxBd2FpdGVkPFJldHVyblR5cGU8TGFuZ3VhZ2VNb2RlbFYyWydkb0dlbmVyYXRlJ10+Pj4ge1xuICAgICAgY29uc3QgdHJhbnNmb3JtZWRQYXJhbXMgPSBhd2FpdCBkb1RyYW5zZm9ybSh7IHBhcmFtcywgdHlwZTogJ2dlbmVyYXRlJyB9KTtcbiAgICAgIGNvbnN0IGRvR2VuZXJhdGUgPSBhc3luYyAoKSA9PiBtb2RlbC5kb0dlbmVyYXRlKHRyYW5zZm9ybWVkUGFyYW1zKTtcbiAgICAgIGNvbnN0IGRvU3RyZWFtID0gYXN5bmMgKCkgPT4gbW9kZWwuZG9TdHJlYW0odHJhbnNmb3JtZWRQYXJhbXMpO1xuICAgICAgcmV0dXJuIHdyYXBHZW5lcmF0ZVxuICAgICAgICA/IHdyYXBHZW5lcmF0ZSh7XG4gICAgICAgICAgICBkb0dlbmVyYXRlLFxuICAgICAgICAgICAgZG9TdHJlYW0sXG4gICAgICAgICAgICBwYXJhbXM6IHRyYW5zZm9ybWVkUGFyYW1zLFxuICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBkb0dlbmVyYXRlKCk7XG4gICAgfSxcblxuICAgIGFzeW5jIGRvU3RyZWFtKFxuICAgICAgcGFyYW1zOiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPEF3YWl0ZWQ8UmV0dXJuVHlwZTxMYW5ndWFnZU1vZGVsVjJbJ2RvU3RyZWFtJ10+Pj4ge1xuICAgICAgY29uc3QgdHJhbnNmb3JtZWRQYXJhbXMgPSBhd2FpdCBkb1RyYW5zZm9ybSh7IHBhcmFtcywgdHlwZTogJ3N0cmVhbScgfSk7XG4gICAgICBjb25zdCBkb0dlbmVyYXRlID0gYXN5bmMgKCkgPT4gbW9kZWwuZG9HZW5lcmF0ZSh0cmFuc2Zvcm1lZFBhcmFtcyk7XG4gICAgICBjb25zdCBkb1N0cmVhbSA9IGFzeW5jICgpID0+IG1vZGVsLmRvU3RyZWFtKHRyYW5zZm9ybWVkUGFyYW1zKTtcbiAgICAgIHJldHVybiB3cmFwU3RyZWFtXG4gICAgICAgID8gd3JhcFN0cmVhbSh7IGRvR2VuZXJhdGUsIGRvU3RyZWFtLCBwYXJhbXM6IHRyYW5zZm9ybWVkUGFyYW1zLCBtb2RlbCB9KVxuICAgICAgICA6IGRvU3RyZWFtKCk7XG4gICAgfSxcbiAgfTtcbn07XG4iLCAiaW1wb3J0IHR5cGUgeyBQcm92aWRlclYyIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsLW1pZGRsZXdhcmUnO1xuaW1wb3J0IHsgd3JhcExhbmd1YWdlTW9kZWwgfSBmcm9tICcuL3dyYXAtbGFuZ3VhZ2UtbW9kZWwnO1xuXG4vKipcbiAqIFdyYXBzIGEgUHJvdmlkZXJWMiBpbnN0YW5jZSB3aXRoIG1pZGRsZXdhcmUgZnVuY3Rpb25hbGl0eS5cbiAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBhcHBseSBtaWRkbGV3YXJlIHRvIGFsbCBsYW5ndWFnZSBtb2RlbHNcbiAqIGZyb20gdGhlIHByb3ZpZGVyLCBlbmFibGluZyB5b3UgdG8gdHJhbnNmb3JtIHBhcmFtZXRlcnMsIHdyYXAgZ2VuZXJhdGVcbiAqIG9wZXJhdGlvbnMsIGFuZCB3cmFwIHN0cmVhbSBvcGVyYXRpb25zIGZvciBldmVyeSBsYW5ndWFnZSBtb2RlbC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3Igd3JhcHBpbmcgdGhlIHByb3ZpZGVyLlxuICogQHBhcmFtIG9wdGlvbnMucHJvdmlkZXIgLSBUaGUgb3JpZ2luYWwgUHJvdmlkZXJWMiBpbnN0YW5jZSB0byBiZSB3cmFwcGVkLlxuICogQHBhcmFtIG9wdGlvbnMubGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgLSBUaGUgbWlkZGxld2FyZSB0byBiZSBhcHBsaWVkIHRvIGFsbCBsYW5ndWFnZSBtb2RlbHMgZnJvbSB0aGUgcHJvdmlkZXIuIFdoZW4gbXVsdGlwbGUgbWlkZGxld2FyZXMgYXJlIHByb3ZpZGVkLCB0aGUgZmlyc3QgbWlkZGxld2FyZSB3aWxsIHRyYW5zZm9ybSB0aGUgaW5wdXQgZmlyc3QsIGFuZCB0aGUgbGFzdCBtaWRkbGV3YXJlIHdpbGwgYmUgd3JhcHBlZCBkaXJlY3RseSBhcm91bmQgdGhlIG1vZGVsLlxuICogQHJldHVybnMgQSBuZXcgUHJvdmlkZXJWMiBpbnN0YW5jZSB3aXRoIG1pZGRsZXdhcmUgYXBwbGllZCB0byBhbGwgbGFuZ3VhZ2UgbW9kZWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFByb3ZpZGVyKHtcbiAgcHJvdmlkZXIsXG4gIGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlLFxufToge1xuICBwcm92aWRlcjogUHJvdmlkZXJWMjtcbiAgbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmU6IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVbXTtcbn0pOiBQcm92aWRlclYyIHtcbiAgY29uc3Qgd3JhcHBlZFByb3ZpZGVyID0ge1xuICAgIGxhbmd1YWdlTW9kZWwobW9kZWxJZDogc3RyaW5nKSB7XG4gICAgICBsZXQgbW9kZWwgPSBwcm92aWRlci5sYW5ndWFnZU1vZGVsKG1vZGVsSWQpO1xuICAgICAgbW9kZWwgPSB3cmFwTGFuZ3VhZ2VNb2RlbCh7XG4gICAgICAgIG1vZGVsLFxuICAgICAgICBtaWRkbGV3YXJlOiBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH0sXG4gICAgdGV4dEVtYmVkZGluZ01vZGVsOiBwcm92aWRlci50ZXh0RW1iZWRkaW5nTW9kZWwsXG4gICAgaW1hZ2VNb2RlbDogcHJvdmlkZXIuaW1hZ2VNb2RlbCxcbiAgICB0cmFuc2NyaXB0aW9uTW9kZWw6IHByb3ZpZGVyLnRyYW5zY3JpcHRpb25Nb2RlbCxcbiAgICBzcGVlY2hNb2RlbDogcHJvdmlkZXIuc3BlZWNoTW9kZWwsXG4gIH07XG5cbiAgcmV0dXJuIHdyYXBwZWRQcm92aWRlcjtcbn1cbiIsICJpbXBvcnQge1xuICBFbWJlZGRpbmdNb2RlbFYyLFxuICBJbWFnZU1vZGVsVjIsXG4gIExhbmd1YWdlTW9kZWxWMixcbiAgTm9TdWNoTW9kZWxFcnJvcixcbiAgUHJvdmlkZXJWMixcbiAgU3BlZWNoTW9kZWxWMixcbiAgVHJhbnNjcmlwdGlvbk1vZGVsVjIsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjdXN0b20gcHJvdmlkZXIgd2l0aCBzcGVjaWZpZWQgbGFuZ3VhZ2UgbW9kZWxzLCB0ZXh0IGVtYmVkZGluZyBtb2RlbHMsIGltYWdlIG1vZGVscywgdHJhbnNjcmlwdGlvbiBtb2RlbHMsIHNwZWVjaCBtb2RlbHMsIGFuZCBhbiBvcHRpb25hbCBmYWxsYmFjayBwcm92aWRlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBjcmVhdGluZyB0aGUgY3VzdG9tIHByb3ZpZGVyLlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBMYW5ndWFnZU1vZGVsPn0gW29wdGlvbnMubGFuZ3VhZ2VNb2RlbHNdIC0gQSByZWNvcmQgb2YgbGFuZ3VhZ2UgbW9kZWxzLCB3aGVyZSBrZXlzIGFyZSBtb2RlbCBJRHMgYW5kIHZhbHVlcyBhcmUgTGFuZ3VhZ2VNb2RlbCBpbnN0YW5jZXMuXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIEVtYmVkZGluZ01vZGVsPHN0cmluZz4+fSBbb3B0aW9ucy50ZXh0RW1iZWRkaW5nTW9kZWxzXSAtIEEgcmVjb3JkIG9mIHRleHQgZW1iZWRkaW5nIG1vZGVscywgd2hlcmUga2V5cyBhcmUgbW9kZWwgSURzIGFuZCB2YWx1ZXMgYXJlIEVtYmVkZGluZ01vZGVsPHN0cmluZz4gaW5zdGFuY2VzLlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBJbWFnZU1vZGVsPn0gW29wdGlvbnMuaW1hZ2VNb2RlbHNdIC0gQSByZWNvcmQgb2YgaW1hZ2UgbW9kZWxzLCB3aGVyZSBrZXlzIGFyZSBtb2RlbCBJRHMgYW5kIHZhbHVlcyBhcmUgSW1hZ2VNb2RlbCBpbnN0YW5jZXMuXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIFRyYW5zY3JpcHRpb25Nb2RlbD59IFtvcHRpb25zLnRyYW5zY3JpcHRpb25Nb2RlbHNdIC0gQSByZWNvcmQgb2YgdHJhbnNjcmlwdGlvbiBtb2RlbHMsIHdoZXJlIGtleXMgYXJlIG1vZGVsIElEcyBhbmQgdmFsdWVzIGFyZSBUcmFuc2NyaXB0aW9uTW9kZWwgaW5zdGFuY2VzLlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBTcGVlY2hNb2RlbD59IFtvcHRpb25zLnNwZWVjaE1vZGVsc10gLSBBIHJlY29yZCBvZiBzcGVlY2ggbW9kZWxzLCB3aGVyZSBrZXlzIGFyZSBtb2RlbCBJRHMgYW5kIHZhbHVlcyBhcmUgU3BlZWNoTW9kZWwgaW5zdGFuY2VzLlxuICogQHBhcmFtIHtQcm92aWRlcn0gW29wdGlvbnMuZmFsbGJhY2tQcm92aWRlcl0gLSBBbiBvcHRpb25hbCBmYWxsYmFjayBwcm92aWRlciB0byB1c2Ugd2hlbiBhIHJlcXVlc3RlZCBtb2RlbCBpcyBub3QgZm91bmQgaW4gdGhlIGN1c3RvbSBwcm92aWRlci5cbiAqIEByZXR1cm5zIHtQcm92aWRlcn0gQSBQcm92aWRlciBvYmplY3Qgd2l0aCBsYW5ndWFnZU1vZGVsLCB0ZXh0RW1iZWRkaW5nTW9kZWwsIGltYWdlTW9kZWwsIHRyYW5zY3JpcHRpb25Nb2RlbCwgYW5kIHNwZWVjaE1vZGVsIG1ldGhvZHMuXG4gKlxuICogQHRocm93cyB7Tm9TdWNoTW9kZWxFcnJvcn0gVGhyb3dzIHdoZW4gYSByZXF1ZXN0ZWQgbW9kZWwgaXMgbm90IGZvdW5kIGFuZCBubyBmYWxsYmFjayBwcm92aWRlciBpcyBhdmFpbGFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21Qcm92aWRlcjxcbiAgTEFOR1VBR0VfTU9ERUxTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgTGFuZ3VhZ2VNb2RlbFYyPixcbiAgRU1CRURESU5HX01PREVMUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPj4sXG4gIElNQUdFX01PREVMUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIEltYWdlTW9kZWxWMj4sXG4gIFRSQU5TQ1JJUFRJT05fTU9ERUxTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgVHJhbnNjcmlwdGlvbk1vZGVsVjI+LFxuICBTUEVFQ0hfTU9ERUxTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgU3BlZWNoTW9kZWxWMj4sXG4+KHtcbiAgbGFuZ3VhZ2VNb2RlbHMsXG4gIHRleHRFbWJlZGRpbmdNb2RlbHMsXG4gIGltYWdlTW9kZWxzLFxuICB0cmFuc2NyaXB0aW9uTW9kZWxzLFxuICBzcGVlY2hNb2RlbHMsXG4gIGZhbGxiYWNrUHJvdmlkZXIsXG59OiB7XG4gIGxhbmd1YWdlTW9kZWxzPzogTEFOR1VBR0VfTU9ERUxTO1xuICB0ZXh0RW1iZWRkaW5nTW9kZWxzPzogRU1CRURESU5HX01PREVMUztcbiAgaW1hZ2VNb2RlbHM/OiBJTUFHRV9NT0RFTFM7XG4gIHRyYW5zY3JpcHRpb25Nb2RlbHM/OiBUUkFOU0NSSVBUSU9OX01PREVMUztcbiAgc3BlZWNoTW9kZWxzPzogU1BFRUNIX01PREVMUztcbiAgZmFsbGJhY2tQcm92aWRlcj86IFByb3ZpZGVyVjI7XG59KTogUHJvdmlkZXJWMiAmIHtcbiAgbGFuZ3VhZ2VNb2RlbChtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxMQU5HVUFHRV9NT0RFTFM+KTogTGFuZ3VhZ2VNb2RlbFYyO1xuICB0ZXh0RW1iZWRkaW5nTW9kZWwoXG4gICAgbW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8RU1CRURESU5HX01PREVMUz4sXG4gICk6IEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPjtcbiAgaW1hZ2VNb2RlbChtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxJTUFHRV9NT0RFTFM+KTogSW1hZ2VNb2RlbFYyO1xuICB0cmFuc2NyaXB0aW9uTW9kZWwoXG4gICAgbW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8VFJBTlNDUklQVElPTl9NT0RFTFM+LFxuICApOiBUcmFuc2NyaXB0aW9uTW9kZWxWMjtcbiAgc3BlZWNoTW9kZWwobW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8U1BFRUNIX01PREVMUz4pOiBTcGVlY2hNb2RlbFYyO1xufSB7XG4gIHJldHVybiB7XG4gICAgbGFuZ3VhZ2VNb2RlbChtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxMQU5HVUFHRV9NT0RFTFM+KTogTGFuZ3VhZ2VNb2RlbFYyIHtcbiAgICAgIGlmIChsYW5ndWFnZU1vZGVscyAhPSBudWxsICYmIG1vZGVsSWQgaW4gbGFuZ3VhZ2VNb2RlbHMpIHtcbiAgICAgICAgcmV0dXJuIGxhbmd1YWdlTW9kZWxzW21vZGVsSWRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmFsbGJhY2tQcm92aWRlcikge1xuICAgICAgICByZXR1cm4gZmFsbGJhY2tQcm92aWRlci5sYW5ndWFnZU1vZGVsKG1vZGVsSWQpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7IG1vZGVsSWQsIG1vZGVsVHlwZTogJ2xhbmd1YWdlTW9kZWwnIH0pO1xuICAgIH0sXG5cbiAgICB0ZXh0RW1iZWRkaW5nTW9kZWwoXG4gICAgICBtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxFTUJFRERJTkdfTU9ERUxTPixcbiAgICApOiBFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz4ge1xuICAgICAgaWYgKHRleHRFbWJlZGRpbmdNb2RlbHMgIT0gbnVsbCAmJiBtb2RlbElkIGluIHRleHRFbWJlZGRpbmdNb2RlbHMpIHtcbiAgICAgICAgcmV0dXJuIHRleHRFbWJlZGRpbmdNb2RlbHNbbW9kZWxJZF07XG4gICAgICB9XG5cbiAgICAgIGlmIChmYWxsYmFja1Byb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFja1Byb3ZpZGVyLnRleHRFbWJlZGRpbmdNb2RlbChtb2RlbElkKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IoeyBtb2RlbElkLCBtb2RlbFR5cGU6ICd0ZXh0RW1iZWRkaW5nTW9kZWwnIH0pO1xuICAgIH0sXG5cbiAgICBpbWFnZU1vZGVsKG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPElNQUdFX01PREVMUz4pOiBJbWFnZU1vZGVsVjIge1xuICAgICAgaWYgKGltYWdlTW9kZWxzICE9IG51bGwgJiYgbW9kZWxJZCBpbiBpbWFnZU1vZGVscykge1xuICAgICAgICByZXR1cm4gaW1hZ2VNb2RlbHNbbW9kZWxJZF07XG4gICAgICB9XG5cbiAgICAgIGlmIChmYWxsYmFja1Byb3ZpZGVyPy5pbWFnZU1vZGVsKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFja1Byb3ZpZGVyLmltYWdlTW9kZWwobW9kZWxJZCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZCwgbW9kZWxUeXBlOiAnaW1hZ2VNb2RlbCcgfSk7XG4gICAgfSxcblxuICAgIHRyYW5zY3JpcHRpb25Nb2RlbChcbiAgICAgIG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPFRSQU5TQ1JJUFRJT05fTU9ERUxTPixcbiAgICApOiBUcmFuc2NyaXB0aW9uTW9kZWxWMiB7XG4gICAgICBpZiAodHJhbnNjcmlwdGlvbk1vZGVscyAhPSBudWxsICYmIG1vZGVsSWQgaW4gdHJhbnNjcmlwdGlvbk1vZGVscykge1xuICAgICAgICByZXR1cm4gdHJhbnNjcmlwdGlvbk1vZGVsc1ttb2RlbElkXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZhbGxiYWNrUHJvdmlkZXI/LnRyYW5zY3JpcHRpb25Nb2RlbCkge1xuICAgICAgICByZXR1cm4gZmFsbGJhY2tQcm92aWRlci50cmFuc2NyaXB0aW9uTW9kZWwobW9kZWxJZCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZCwgbW9kZWxUeXBlOiAndHJhbnNjcmlwdGlvbk1vZGVsJyB9KTtcbiAgICB9LFxuXG4gICAgc3BlZWNoTW9kZWwobW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8U1BFRUNIX01PREVMUz4pOiBTcGVlY2hNb2RlbFYyIHtcbiAgICAgIGlmIChzcGVlY2hNb2RlbHMgIT0gbnVsbCAmJiBtb2RlbElkIGluIHNwZWVjaE1vZGVscykge1xuICAgICAgICByZXR1cm4gc3BlZWNoTW9kZWxzW21vZGVsSWRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmFsbGJhY2tQcm92aWRlcj8uc3BlZWNoTW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrUHJvdmlkZXIuc3BlZWNoTW9kZWwobW9kZWxJZCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZCwgbW9kZWxUeXBlOiAnc3BlZWNoTW9kZWwnIH0pO1xuICAgIH0sXG4gIH07XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBjdXN0b21Qcm92aWRlcmAgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4cGVyaW1lbnRhbF9jdXN0b21Qcm92aWRlciA9IGN1c3RvbVByb3ZpZGVyO1xuXG50eXBlIEV4dHJhY3RNb2RlbElkPE1PREVMUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+PiA9IEV4dHJhY3Q8XG4gIGtleW9mIE1PREVMUyxcbiAgc3RyaW5nXG4+O1xuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IsIE5vU3VjaE1vZGVsRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob1N1Y2hQcm92aWRlckVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBOb1N1Y2hQcm92aWRlckVycm9yIGV4dGVuZHMgTm9TdWNoTW9kZWxFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBwcm92aWRlcklkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGF2YWlsYWJsZVByb3ZpZGVyczogc3RyaW5nW107XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1vZGVsSWQsXG4gICAgbW9kZWxUeXBlLFxuICAgIHByb3ZpZGVySWQsXG4gICAgYXZhaWxhYmxlUHJvdmlkZXJzLFxuICAgIG1lc3NhZ2UgPSBgTm8gc3VjaCBwcm92aWRlcjogJHtwcm92aWRlcklkfSAoYXZhaWxhYmxlIHByb3ZpZGVyczogJHthdmFpbGFibGVQcm92aWRlcnMuam9pbigpfSlgLFxuICB9OiB7XG4gICAgbW9kZWxJZDogc3RyaW5nO1xuICAgIG1vZGVsVHlwZTpcbiAgICAgIHwgJ2xhbmd1YWdlTW9kZWwnXG4gICAgICB8ICd0ZXh0RW1iZWRkaW5nTW9kZWwnXG4gICAgICB8ICdpbWFnZU1vZGVsJ1xuICAgICAgfCAndHJhbnNjcmlwdGlvbk1vZGVsJ1xuICAgICAgfCAnc3BlZWNoTW9kZWwnO1xuICAgIHByb3ZpZGVySWQ6IHN0cmluZztcbiAgICBhdmFpbGFibGVQcm92aWRlcnM6IHN0cmluZ1tdO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IGVycm9yTmFtZTogbmFtZSwgbW9kZWxJZCwgbW9kZWxUeXBlLCBtZXNzYWdlIH0pO1xuXG4gICAgdGhpcy5wcm92aWRlcklkID0gcHJvdmlkZXJJZDtcbiAgICB0aGlzLmF2YWlsYWJsZVByb3ZpZGVycyA9IGF2YWlsYWJsZVByb3ZpZGVycztcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTm9TdWNoUHJvdmlkZXJFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgRW1iZWRkaW5nTW9kZWxWMixcbiAgSW1hZ2VNb2RlbFYyLFxuICBMYW5ndWFnZU1vZGVsVjIsXG4gIE5vU3VjaE1vZGVsRXJyb3IsXG4gIFByb3ZpZGVyVjIsXG4gIFNwZWVjaE1vZGVsVjIsXG4gIFRyYW5zY3JpcHRpb25Nb2RlbFYyLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IHdyYXBMYW5ndWFnZU1vZGVsIH0gZnJvbSAnLi4vbWlkZGxld2FyZS93cmFwLWxhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgTm9TdWNoUHJvdmlkZXJFcnJvciB9IGZyb20gJy4vbm8tc3VjaC1wcm92aWRlci1lcnJvcic7XG5cbnR5cGUgRXh0cmFjdExpdGVyYWxVbmlvbjxUPiA9IFQgZXh0ZW5kcyBzdHJpbmdcbiAgPyBzdHJpbmcgZXh0ZW5kcyBUXG4gICAgPyBuZXZlclxuICAgIDogVFxuICA6IG5ldmVyO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb3ZpZGVyUmVnaXN0cnlQcm92aWRlcjxcbiAgUFJPVklERVJTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgUHJvdmlkZXJWMj4gPSBSZWNvcmQ8c3RyaW5nLCBQcm92aWRlclYyPixcbiAgU0VQQVJBVE9SIGV4dGVuZHMgc3RyaW5nID0gJzonLFxuPiB7XG4gIGxhbmd1YWdlTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nXG4gICAgICA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke0V4dHJhY3RMaXRlcmFsVW5pb248UGFyYW1ldGVyczxOb25OdWxsYWJsZTxQUk9WSURFUlNbS0VZXVsnbGFuZ3VhZ2VNb2RlbCddPj5bMF0+fWBcbiAgICAgIDogbmV2ZXIsXG4gICk6IExhbmd1YWdlTW9kZWxWMjtcbiAgbGFuZ3VhZ2VNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmcgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCA6IG5ldmVyLFxuICApOiBMYW5ndWFnZU1vZGVsVjI7XG5cbiAgdGV4dEVtYmVkZGluZ01vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZ1xuICAgICAgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtFeHRyYWN0TGl0ZXJhbFVuaW9uPFBhcmFtZXRlcnM8Tm9uTnVsbGFibGU8UFJPVklERVJTW0tFWV1bJ3RleHRFbWJlZGRpbmdNb2RlbCddPj5bMF0+fWBcbiAgICAgIDogbmV2ZXIsXG4gICk6IEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPjtcbiAgdGV4dEVtYmVkZGluZ01vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZyA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gIDogbmV2ZXIsXG4gICk6IEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPjtcblxuICBpbWFnZU1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZ1xuICAgICAgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtFeHRyYWN0TGl0ZXJhbFVuaW9uPFBhcmFtZXRlcnM8Tm9uTnVsbGFibGU8UFJPVklERVJTW0tFWV1bJ2ltYWdlTW9kZWwnXT4+WzBdPn1gXG4gICAgICA6IG5ldmVyLFxuICApOiBJbWFnZU1vZGVsVjI7XG4gIGltYWdlTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAgOiBuZXZlcixcbiAgKTogSW1hZ2VNb2RlbFYyO1xuXG4gIHRyYW5zY3JpcHRpb25Nb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmdcbiAgICAgID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7RXh0cmFjdExpdGVyYWxVbmlvbjxQYXJhbWV0ZXJzPE5vbk51bGxhYmxlPFBST1ZJREVSU1tLRVldWyd0cmFuc2NyaXB0aW9uTW9kZWwnXT4+WzBdPn1gXG4gICAgICA6IG5ldmVyLFxuICApOiBUcmFuc2NyaXB0aW9uTW9kZWxWMjtcbiAgdHJhbnNjcmlwdGlvbk1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZyA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gIDogbmV2ZXIsXG4gICk6IFRyYW5zY3JpcHRpb25Nb2RlbFYyO1xuXG4gIHNwZWVjaE1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZ1xuICAgICAgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtFeHRyYWN0TGl0ZXJhbFVuaW9uPFBhcmFtZXRlcnM8Tm9uTnVsbGFibGU8UFJPVklERVJTW0tFWV1bJ3NwZWVjaE1vZGVsJ10+PlswXT59YFxuICAgICAgOiBuZXZlcixcbiAgKTogU3BlZWNoTW9kZWxWMjtcbiAgc3BlZWNoTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAgOiBuZXZlcixcbiAgKTogU3BlZWNoTW9kZWxWMjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgcmVnaXN0cnkgZm9yIHRoZSBnaXZlbiBwcm92aWRlcnMgd2l0aCBvcHRpb25hbCBtaWRkbGV3YXJlIGZ1bmN0aW9uYWxpdHkuXG4gKiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gcmVnaXN0ZXIgbXVsdGlwbGUgcHJvdmlkZXJzIGFuZCBvcHRpb25hbGx5IGFwcGx5IG1pZGRsZXdhcmVcbiAqIHRvIGFsbCBsYW5ndWFnZSBtb2RlbHMgZnJvbSB0aGUgcmVnaXN0cnksIGVuYWJsaW5nIHlvdSB0byB0cmFuc2Zvcm0gcGFyYW1ldGVycywgd3JhcCBnZW5lcmF0ZVxuICogb3BlcmF0aW9ucywgYW5kIHdyYXAgc3RyZWFtIG9wZXJhdGlvbnMgZm9yIGV2ZXJ5IGxhbmd1YWdlIG1vZGVsIGFjY2Vzc2VkIHRocm91Z2ggdGhlIHJlZ2lzdHJ5LlxuICpcbiAqIEBwYXJhbSBwcm92aWRlcnMgLSBBIHJlY29yZCBvZiBwcm92aWRlciBpbnN0YW5jZXMgdG8gYmUgcmVnaXN0ZXJlZCBpbiB0aGUgcmVnaXN0cnkuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHByb3ZpZGVyIHJlZ2lzdHJ5LlxuICogQHBhcmFtIG9wdGlvbnMuc2VwYXJhdG9yIC0gVGhlIHNlcGFyYXRvciB1c2VkIGJldHdlZW4gcHJvdmlkZXIgSUQgYW5kIG1vZGVsIElEIGluIHRoZSBjb21iaW5lZCBpZGVudGlmaWVyLiBEZWZhdWx0cyB0byAnOicuXG4gKiBAcGFyYW0gb3B0aW9ucy5sYW5ndWFnZU1vZGVsTWlkZGxld2FyZSAtIE9wdGlvbmFsIG1pZGRsZXdhcmUgdG8gYmUgYXBwbGllZCB0byBhbGwgbGFuZ3VhZ2UgbW9kZWxzIGZyb20gdGhlIHJlZ2lzdHJ5LiBXaGVuIG11bHRpcGxlIG1pZGRsZXdhcmVzIGFyZSBwcm92aWRlZCwgdGhlIGZpcnN0IG1pZGRsZXdhcmUgd2lsbCB0cmFuc2Zvcm0gdGhlIGlucHV0IGZpcnN0LCBhbmQgdGhlIGxhc3QgbWlkZGxld2FyZSB3aWxsIGJlIHdyYXBwZWQgZGlyZWN0bHkgYXJvdW5kIHRoZSBtb2RlbC5cbiAqIEByZXR1cm5zIEEgbmV3IFByb3ZpZGVyUmVnaXN0cnlQcm92aWRlciBpbnN0YW5jZSB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byBhbGwgcmVnaXN0ZXJlZCBwcm92aWRlcnMgd2l0aCBvcHRpb25hbCBtaWRkbGV3YXJlIGFwcGxpZWQgdG8gbGFuZ3VhZ2UgbW9kZWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvdmlkZXJSZWdpc3RyeTxcbiAgUFJPVklERVJTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgUHJvdmlkZXJWMj4sXG4gIFNFUEFSQVRPUiBleHRlbmRzIHN0cmluZyA9ICc6Jyxcbj4oXG4gIHByb3ZpZGVyczogUFJPVklERVJTLFxuICB7XG4gICAgc2VwYXJhdG9yID0gJzonIGFzIFNFUEFSQVRPUixcbiAgICBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZSxcbiAgfToge1xuICAgIHNlcGFyYXRvcj86IFNFUEFSQVRPUjtcbiAgICBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZT86XG4gICAgICB8IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlXG4gICAgICB8IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlW107XG4gIH0gPSB7fSxcbik6IFByb3ZpZGVyUmVnaXN0cnlQcm92aWRlcjxQUk9WSURFUlMsIFNFUEFSQVRPUj4ge1xuICBjb25zdCByZWdpc3RyeSA9IG5ldyBEZWZhdWx0UHJvdmlkZXJSZWdpc3RyeTxQUk9WSURFUlMsIFNFUEFSQVRPUj4oe1xuICAgIHNlcGFyYXRvcixcbiAgICBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZSxcbiAgfSk7XG5cbiAgZm9yIChjb25zdCBbaWQsIHByb3ZpZGVyXSBvZiBPYmplY3QuZW50cmllcyhwcm92aWRlcnMpKSB7XG4gICAgcmVnaXN0cnkucmVnaXN0ZXJQcm92aWRlcih7IGlkLCBwcm92aWRlciB9IGFzIHtcbiAgICAgIGlkOiBrZXlvZiBQUk9WSURFUlM7XG4gICAgICBwcm92aWRlcjogUFJPVklERVJTW2tleW9mIFBST1ZJREVSU107XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVnaXN0cnk7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBjcmVhdGVQcm92aWRlclJlZ2lzdHJ5YCBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3QgZXhwZXJpbWVudGFsX2NyZWF0ZVByb3ZpZGVyUmVnaXN0cnkgPSBjcmVhdGVQcm92aWRlclJlZ2lzdHJ5O1xuXG5jbGFzcyBEZWZhdWx0UHJvdmlkZXJSZWdpc3RyeTxcbiAgUFJPVklERVJTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgUHJvdmlkZXJWMj4sXG4gIFNFUEFSQVRPUiBleHRlbmRzIHN0cmluZyxcbj4gaW1wbGVtZW50cyBQcm92aWRlclJlZ2lzdHJ5UHJvdmlkZXI8UFJPVklERVJTLCBTRVBBUkFUT1I+XG57XG4gIHByaXZhdGUgcHJvdmlkZXJzOiBQUk9WSURFUlMgPSB7fSBhcyBQUk9WSURFUlM7XG4gIHByaXZhdGUgc2VwYXJhdG9yOiBTRVBBUkFUT1I7XG4gIHByaXZhdGUgbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmU/OlxuICAgIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVcbiAgICB8IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlW107XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHNlcGFyYXRvcixcbiAgICBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZSxcbiAgfToge1xuICAgIHNlcGFyYXRvcjogU0VQQVJBVE9SO1xuICAgIGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlPzpcbiAgICAgIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVcbiAgICAgIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVbXTtcbiAgfSkge1xuICAgIHRoaXMuc2VwYXJhdG9yID0gc2VwYXJhdG9yO1xuICAgIHRoaXMubGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgPSBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZTtcbiAgfVxuXG4gIHJlZ2lzdGVyUHJvdmlkZXI8SyBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oe1xuICAgIGlkLFxuICAgIHByb3ZpZGVyLFxuICB9OiB7XG4gICAgaWQ6IEs7XG4gICAgcHJvdmlkZXI6IFBST1ZJREVSU1tLXTtcbiAgfSk6IHZvaWQge1xuICAgIHRoaXMucHJvdmlkZXJzW2lkXSA9IHByb3ZpZGVyO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQcm92aWRlcihcbiAgICBpZDogc3RyaW5nLFxuICAgIG1vZGVsVHlwZTpcbiAgICAgIHwgJ2xhbmd1YWdlTW9kZWwnXG4gICAgICB8ICd0ZXh0RW1iZWRkaW5nTW9kZWwnXG4gICAgICB8ICdpbWFnZU1vZGVsJ1xuICAgICAgfCAndHJhbnNjcmlwdGlvbk1vZGVsJ1xuICAgICAgfCAnc3BlZWNoTW9kZWwnLFxuICApOiBQcm92aWRlclYyIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMucHJvdmlkZXJzW2lkIGFzIGtleW9mIFBST1ZJREVSU107XG5cbiAgICBpZiAocHJvdmlkZXIgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IE5vU3VjaFByb3ZpZGVyRXJyb3Ioe1xuICAgICAgICBtb2RlbElkOiBpZCxcbiAgICAgICAgbW9kZWxUeXBlLFxuICAgICAgICBwcm92aWRlcklkOiBpZCxcbiAgICAgICAgYXZhaWxhYmxlUHJvdmlkZXJzOiBPYmplY3Qua2V5cyh0aGlzLnByb3ZpZGVycyksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvdmlkZXI7XG4gIH1cblxuICBwcml2YXRlIHNwbGl0SWQoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBtb2RlbFR5cGU6XG4gICAgICB8ICdsYW5ndWFnZU1vZGVsJ1xuICAgICAgfCAndGV4dEVtYmVkZGluZ01vZGVsJ1xuICAgICAgfCAnaW1hZ2VNb2RlbCdcbiAgICAgIHwgJ3RyYW5zY3JpcHRpb25Nb2RlbCdcbiAgICAgIHwgJ3NwZWVjaE1vZGVsJyxcbiAgKTogW3N0cmluZywgc3RyaW5nXSB7XG4gICAgY29uc3QgaW5kZXggPSBpZC5pbmRleE9mKHRoaXMuc2VwYXJhdG9yKTtcblxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHtcbiAgICAgICAgbW9kZWxJZDogaWQsXG4gICAgICAgIG1vZGVsVHlwZSxcbiAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICBgSW52YWxpZCAke21vZGVsVHlwZX0gaWQgZm9yIHJlZ2lzdHJ5OiAke2lkfSBgICtcbiAgICAgICAgICBgKG11c3QgYmUgaW4gdGhlIGZvcm1hdCBcInByb3ZpZGVySWQke3RoaXMuc2VwYXJhdG9yfW1vZGVsSWRcIilgLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtpZC5zbGljZSgwLCBpbmRleCksIGlkLnNsaWNlKGluZGV4ICsgdGhpcy5zZXBhcmF0b3IubGVuZ3RoKV07XG4gIH1cblxuICBsYW5ndWFnZU1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gLFxuICApOiBMYW5ndWFnZU1vZGVsVjIge1xuICAgIGNvbnN0IFtwcm92aWRlcklkLCBtb2RlbElkXSA9IHRoaXMuc3BsaXRJZChpZCwgJ2xhbmd1YWdlTW9kZWwnKTtcbiAgICBsZXQgbW9kZWwgPSB0aGlzLmdldFByb3ZpZGVyKHByb3ZpZGVySWQsICdsYW5ndWFnZU1vZGVsJykubGFuZ3VhZ2VNb2RlbD8uKFxuICAgICAgbW9kZWxJZCxcbiAgICApO1xuXG4gICAgaWYgKG1vZGVsID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZDogaWQsIG1vZGVsVHlwZTogJ2xhbmd1YWdlTW9kZWwnIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlICE9IG51bGwpIHtcbiAgICAgIG1vZGVsID0gd3JhcExhbmd1YWdlTW9kZWwoe1xuICAgICAgICBtb2RlbCxcbiAgICAgICAgbWlkZGxld2FyZTogdGhpcy5sYW5ndWFnZU1vZGVsTWlkZGxld2FyZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIHRleHRFbWJlZGRpbmdNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCxcbiAgKTogRW1iZWRkaW5nTW9kZWxWMjxzdHJpbmc+IHtcbiAgICBjb25zdCBbcHJvdmlkZXJJZCwgbW9kZWxJZF0gPSB0aGlzLnNwbGl0SWQoaWQsICd0ZXh0RW1iZWRkaW5nTW9kZWwnKTtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIocHJvdmlkZXJJZCwgJ3RleHRFbWJlZGRpbmdNb2RlbCcpO1xuXG4gICAgY29uc3QgbW9kZWwgPSBwcm92aWRlci50ZXh0RW1iZWRkaW5nTW9kZWw/Lihtb2RlbElkKTtcblxuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7XG4gICAgICAgIG1vZGVsSWQ6IGlkLFxuICAgICAgICBtb2RlbFR5cGU6ICd0ZXh0RW1iZWRkaW5nTW9kZWwnLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgaW1hZ2VNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCxcbiAgKTogSW1hZ2VNb2RlbFYyIHtcbiAgICBjb25zdCBbcHJvdmlkZXJJZCwgbW9kZWxJZF0gPSB0aGlzLnNwbGl0SWQoaWQsICdpbWFnZU1vZGVsJyk7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKHByb3ZpZGVySWQsICdpbWFnZU1vZGVsJyk7XG5cbiAgICBjb25zdCBtb2RlbCA9IHByb3ZpZGVyLmltYWdlTW9kZWw/Lihtb2RlbElkKTtcblxuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7IG1vZGVsSWQ6IGlkLCBtb2RlbFR5cGU6ICdpbWFnZU1vZGVsJyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cblxuICB0cmFuc2NyaXB0aW9uTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAsXG4gICk6IFRyYW5zY3JpcHRpb25Nb2RlbFYyIHtcbiAgICBjb25zdCBbcHJvdmlkZXJJZCwgbW9kZWxJZF0gPSB0aGlzLnNwbGl0SWQoaWQsICd0cmFuc2NyaXB0aW9uTW9kZWwnKTtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIocHJvdmlkZXJJZCwgJ3RyYW5zY3JpcHRpb25Nb2RlbCcpO1xuXG4gICAgY29uc3QgbW9kZWwgPSBwcm92aWRlci50cmFuc2NyaXB0aW9uTW9kZWw/Lihtb2RlbElkKTtcblxuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7XG4gICAgICAgIG1vZGVsSWQ6IGlkLFxuICAgICAgICBtb2RlbFR5cGU6ICd0cmFuc2NyaXB0aW9uTW9kZWwnLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgc3BlZWNoTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAsXG4gICk6IFNwZWVjaE1vZGVsVjIge1xuICAgIGNvbnN0IFtwcm92aWRlcklkLCBtb2RlbElkXSA9IHRoaXMuc3BsaXRJZChpZCwgJ3NwZWVjaE1vZGVsJyk7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKHByb3ZpZGVySWQsICdzcGVlY2hNb2RlbCcpO1xuXG4gICAgY29uc3QgbW9kZWwgPSBwcm92aWRlci5zcGVlY2hNb2RlbD8uKG1vZGVsSWQpO1xuXG4gICAgaWYgKG1vZGVsID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZDogaWQsIG1vZGVsVHlwZTogJ3NwZWVjaE1vZGVsJyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBKU09OU2NoZW1hNyB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgZHluYW1pY1Rvb2wsXG4gIGpzb25TY2hlbWEsXG4gIFRvb2wsXG4gIHRvb2wsXG4gIFRvb2xDYWxsT3B0aW9ucyxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyB6LCBab2RUeXBlIH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IE1DUENsaWVudEVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvbWNwLWNsaWVudC1lcnJvcic7XG5pbXBvcnQge1xuICBKU09OUlBDRXJyb3IsXG4gIEpTT05SUENOb3RpZmljYXRpb24sXG4gIEpTT05SUENSZXF1ZXN0LFxuICBKU09OUlBDUmVzcG9uc2UsXG59IGZyb20gJy4vanNvbi1ycGMtbWVzc2FnZSc7XG5pbXBvcnQge1xuICBjcmVhdGVNY3BUcmFuc3BvcnQsXG4gIGlzQ3VzdG9tTWNwVHJhbnNwb3J0LFxuICBNQ1BUcmFuc3BvcnQsXG4gIE1DUFRyYW5zcG9ydENvbmZpZyxcbn0gZnJvbSAnLi9tY3AtdHJhbnNwb3J0JztcbmltcG9ydCB7XG4gIENhbGxUb29sUmVzdWx0LFxuICBDYWxsVG9vbFJlc3VsdFNjaGVtYSxcbiAgQ29uZmlndXJhdGlvbiBhcyBDbGllbnRDb25maWd1cmF0aW9uLFxuICBJbml0aWFsaXplUmVzdWx0U2NoZW1hLFxuICBMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTixcbiAgTGlzdFRvb2xzUmVzdWx0LFxuICBMaXN0VG9vbHNSZXN1bHRTY2hlbWEsXG4gIE1jcFRvb2xTZXQsXG4gIE5vdGlmaWNhdGlvbixcbiAgUGFnaW5hdGVkUmVxdWVzdCxcbiAgUmVxdWVzdCxcbiAgUmVxdWVzdE9wdGlvbnMsXG4gIFNlcnZlckNhcGFiaWxpdGllcyxcbiAgU1VQUE9SVEVEX1BST1RPQ09MX1ZFUlNJT05TLFxuICBUb29sU2NoZW1hcyxcbn0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IENMSUVOVF9WRVJTSU9OID0gJzEuMC4wJztcblxuZXhwb3J0IGludGVyZmFjZSBNQ1BDbGllbnRDb25maWcge1xuICAvKiogVHJhbnNwb3J0IGNvbmZpZ3VyYXRpb24gZm9yIGNvbm5lY3RpbmcgdG8gdGhlIE1DUCBzZXJ2ZXIgKi9cbiAgdHJhbnNwb3J0OiBNQ1BUcmFuc3BvcnRDb25maWcgfCBNQ1BUcmFuc3BvcnQ7XG4gIC8qKiBPcHRpb25hbCBjYWxsYmFjayBmb3IgdW5jYXVnaHQgZXJyb3JzICovXG4gIG9uVW5jYXVnaHRFcnJvcj86IChlcnJvcjogdW5rbm93bikgPT4gdm9pZDtcbiAgLyoqIE9wdGlvbmFsIGNsaWVudCBuYW1lLCBkZWZhdWx0cyB0byAnYWktc2RrLW1jcC1jbGllbnQnICovXG4gIG5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNQ1BDbGllbnQoXG4gIGNvbmZpZzogTUNQQ2xpZW50Q29uZmlnLFxuKTogUHJvbWlzZTxNQ1BDbGllbnQ+IHtcbiAgY29uc3QgY2xpZW50ID0gbmV3IERlZmF1bHRNQ1BDbGllbnQoY29uZmlnKTtcbiAgYXdhaXQgY2xpZW50LmluaXQoKTtcbiAgcmV0dXJuIGNsaWVudDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNQ1BDbGllbnQge1xuICB0b29sczxUT09MX1NDSEVNQVMgZXh0ZW5kcyBUb29sU2NoZW1hcyA9ICdhdXRvbWF0aWMnPihvcHRpb25zPzoge1xuICAgIHNjaGVtYXM/OiBUT09MX1NDSEVNQVM7XG4gIH0pOiBQcm9taXNlPE1jcFRvb2xTZXQ8VE9PTF9TQ0hFTUFTPj47XG5cbiAgY2xvc2U6ICgpID0+IFByb21pc2U8dm9pZD47XG59XG5cbi8qKlxuICogQSBsaWdodHdlaWdodCBNQ1AgQ2xpZW50IGltcGxlbWVudGF0aW9uXG4gKlxuICogVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIGNsaWVudCBpcyB0b29sIGNvbnZlcnNpb24gYmV0d2VlbiBNQ1A8PkFJIFNES1xuICogYnV0IGNhbiBsYXRlciBiZSBleHRlbmRlZCB0byBzdXBwb3J0IG90aGVyIE1DUCBmZWF0dXJlc1xuICpcbiAqIFRvb2wgcGFyYW1ldGVycyBhcmUgYXV0b21hdGljYWxseSBpbmZlcnJlZCBmcm9tIHRoZSBzZXJ2ZXIncyBKU09OIHNjaGVtYVxuICogaWYgbm90IGV4cGxpY2l0bHkgcHJvdmlkZWQgaW4gdGhlIHRvb2xzIGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBUaGlzIGNsaWVudCBpcyBtZWFudCB0byBiZSB1c2VkIHRvIGNvbW11bmljYXRlIHdpdGggYSBzaW5nbGUgc2VydmVyLiBUbyBjb21tdW5pY2F0ZSBhbmQgZmV0Y2ggdG9vbHMgYWNyb3NzIG11bHRpcGxlIHNlcnZlcnMsIGl0J3MgcmVjb21tZW5kZWQgdG8gY3JlYXRlIGEgbmV3IGNsaWVudCBpbnN0YW5jZSBwZXIgc2VydmVyLlxuICpcbiAqIE5vdCBzdXBwb3J0ZWQ6XG4gKiAtIENsaWVudCBvcHRpb25zIChlLmcuIHNhbXBsaW5nLCByb290cykgYXMgdGhleSBhcmUgbm90IG5lZWRlZCBmb3IgdG9vbCBjb252ZXJzaW9uXG4gKiAtIEFjY2VwdGluZyBub3RpZmljYXRpb25zXG4gKiAtIFNlc3Npb24gbWFuYWdlbWVudCAod2hlbiBwYXNzaW5nIGEgc2Vzc2lvbklkIHRvIGFuIGluc3RhbmNlIG9mIHRoZSBTdHJlYW1hYmxlIEhUVFAgdHJhbnNwb3J0KVxuICogLSBSZXN1bWFibGUgU1NFIHN0cmVhbXNcbiAqL1xuY2xhc3MgRGVmYXVsdE1DUENsaWVudCBpbXBsZW1lbnRzIE1DUENsaWVudCB7XG4gIHByaXZhdGUgdHJhbnNwb3J0OiBNQ1BUcmFuc3BvcnQ7XG4gIHByaXZhdGUgb25VbmNhdWdodEVycm9yPzogKGVycm9yOiB1bmtub3duKSA9PiB2b2lkO1xuICBwcml2YXRlIGNsaWVudEluZm86IENsaWVudENvbmZpZ3VyYXRpb247XG4gIHByaXZhdGUgcmVxdWVzdE1lc3NhZ2VJZCA9IDA7XG4gIHByaXZhdGUgcmVzcG9uc2VIYW5kbGVyczogTWFwPFxuICAgIG51bWJlcixcbiAgICAocmVzcG9uc2U6IEpTT05SUENSZXNwb25zZSB8IEVycm9yKSA9PiB2b2lkXG4gID4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgc2VydmVyQ2FwYWJpbGl0aWVzOiBTZXJ2ZXJDYXBhYmlsaXRpZXMgPSB7fTtcbiAgcHJpdmF0ZSBpc0Nsb3NlZCA9IHRydWU7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHRyYW5zcG9ydDogdHJhbnNwb3J0Q29uZmlnLFxuICAgIG5hbWUgPSAnYWktc2RrLW1jcC1jbGllbnQnLFxuICAgIG9uVW5jYXVnaHRFcnJvcixcbiAgfTogTUNQQ2xpZW50Q29uZmlnKSB7XG4gICAgdGhpcy5vblVuY2F1Z2h0RXJyb3IgPSBvblVuY2F1Z2h0RXJyb3I7XG5cbiAgICBpZiAoaXNDdXN0b21NY3BUcmFuc3BvcnQodHJhbnNwb3J0Q29uZmlnKSkge1xuICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnRDb25maWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudHJhbnNwb3J0ID0gY3JlYXRlTWNwVHJhbnNwb3J0KHRyYW5zcG9ydENvbmZpZyk7XG4gICAgfVxuXG4gICAgdGhpcy50cmFuc3BvcnQub25jbG9zZSA9ICgpID0+IHRoaXMub25DbG9zZSgpO1xuICAgIHRoaXMudHJhbnNwb3J0Lm9uZXJyb3IgPSAoZXJyb3I6IEVycm9yKSA9PiB0aGlzLm9uRXJyb3IoZXJyb3IpO1xuICAgIHRoaXMudHJhbnNwb3J0Lm9ubWVzc2FnZSA9IG1lc3NhZ2UgPT4ge1xuICAgICAgaWYgKCdtZXRob2QnIGluIG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gVGhpcyBsaWdodHdlaWdodCBjbGllbnQgaW1wbGVtZW50YXRpb24gZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgICAvLyByZWNlaXZpbmcgbm90aWZpY2F0aW9ucyBvciByZXF1ZXN0cyBmcm9tIHNlcnZlci5cbiAgICAgICAgLy8gSWYgd2UgZ2V0IGFuIHVuc3VwcG9ydGVkIG1lc3NhZ2UsIHdlIGNhbiBzYWZlbHkgaWdub3JlIGl0IGFuZCBwYXNzIHRvIHRoZSBvbkVycm9yIGhhbmRsZXI6XG4gICAgICAgIHRoaXMub25FcnJvcihcbiAgICAgICAgICBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgICAgbWVzc2FnZTogJ1Vuc3VwcG9ydGVkIG1lc3NhZ2UgdHlwZScsXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vblJlc3BvbnNlKG1lc3NhZ2UpO1xuICAgIH07XG5cbiAgICB0aGlzLmNsaWVudEluZm8gPSB7XG4gICAgICBuYW1lLFxuICAgICAgdmVyc2lvbjogQ0xJRU5UX1ZFUlNJT04sXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGluaXQoKTogUHJvbWlzZTx0aGlzPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMudHJhbnNwb3J0LnN0YXJ0KCk7XG4gICAgICB0aGlzLmlzQ2xvc2VkID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgICBtZXRob2Q6ICdpbml0aWFsaXplJyxcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIHByb3RvY29sVmVyc2lvbjogTEFURVNUX1BST1RPQ09MX1ZFUlNJT04sXG4gICAgICAgICAgICBjYXBhYmlsaXRpZXM6IHt9LFxuICAgICAgICAgICAgY2xpZW50SW5mbzogdGhpcy5jbGllbnRJbmZvLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VsdFNjaGVtYTogSW5pdGlhbGl6ZVJlc3VsdFNjaGVtYSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiAnU2VydmVyIHNlbnQgaW52YWxpZCBpbml0aWFsaXplIHJlc3VsdCcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIVNVUFBPUlRFRF9QUk9UT0NPTF9WRVJTSU9OUy5pbmNsdWRlcyhyZXN1bHQucHJvdG9jb2xWZXJzaW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGBTZXJ2ZXIncyBwcm90b2NvbCB2ZXJzaW9uIGlzIG5vdCBzdXBwb3J0ZWQ6ICR7cmVzdWx0LnByb3RvY29sVmVyc2lvbn1gLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXJ2ZXJDYXBhYmlsaXRpZXMgPSByZXN1bHQuY2FwYWJpbGl0aWVzO1xuXG4gICAgICAvLyBDb21wbGV0ZSBpbml0aWFsaXphdGlvbiBoYW5kc2hha2U6XG4gICAgICBhd2FpdCB0aGlzLm5vdGlmaWNhdGlvbih7XG4gICAgICAgIG1ldGhvZDogJ25vdGlmaWNhdGlvbnMvaW5pdGlhbGl6ZWQnLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhd2FpdCB0aGlzLmNsb3NlKCk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5pc0Nsb3NlZCkgcmV0dXJuO1xuICAgIGF3YWl0IHRoaXMudHJhbnNwb3J0Py5jbG9zZSgpO1xuICAgIHRoaXMub25DbG9zZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3NlcnRDYXBhYmlsaXR5KG1ldGhvZDogc3RyaW5nKTogdm9pZCB7XG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgIGNhc2UgJ2luaXRpYWxpemUnOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Rvb2xzL2xpc3QnOlxuICAgICAgY2FzZSAndG9vbHMvY2FsbCc6XG4gICAgICAgIGlmICghdGhpcy5zZXJ2ZXJDYXBhYmlsaXRpZXMudG9vbHMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgICAgbWVzc2FnZTogYFNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IHRvb2xzYCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogYFVuc3VwcG9ydGVkIG1ldGhvZDogJHttZXRob2R9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZXF1ZXN0PFQgZXh0ZW5kcyBab2RUeXBlPG9iamVjdD4+KHtcbiAgICByZXF1ZXN0LFxuICAgIHJlc3VsdFNjaGVtYSxcbiAgICBvcHRpb25zLFxuICB9OiB7XG4gICAgcmVxdWVzdDogUmVxdWVzdDtcbiAgICByZXN1bHRTY2hlbWE6IFQ7XG4gICAgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zO1xuICB9KTogUHJvbWlzZTx6LmluZmVyPFQ+PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzQ2xvc2VkKSB7XG4gICAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgICAgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdBdHRlbXB0ZWQgdG8gc2VuZCBhIHJlcXVlc3QgZnJvbSBhIGNsb3NlZCBjbGllbnQnLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFzc2VydENhcGFiaWxpdHkocmVxdWVzdC5tZXRob2QpO1xuXG4gICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICBzaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cbiAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHRoaXMucmVxdWVzdE1lc3NhZ2VJZCsrO1xuICAgICAgY29uc3QganNvbnJwY1JlcXVlc3Q6IEpTT05SUENSZXF1ZXN0ID0ge1xuICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgICAgaWQ6IG1lc3NhZ2VJZCxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucmVzcG9uc2VIYW5kbGVycy5kZWxldGUobWVzc2FnZUlkKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucmVzcG9uc2VIYW5kbGVycy5zZXQobWVzc2FnZUlkLCByZXNwb25zZSA9PiB7XG4gICAgICAgIGlmIChzaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICAgICAgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ1JlcXVlc3Qgd2FzIGFib3J0ZWQnLFxuICAgICAgICAgICAgICBjYXVzZTogc2lnbmFsLnJlYXNvbixcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIHJldHVybiByZWplY3QocmVzcG9uc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXN1bHRTY2hlbWEucGFyc2UocmVzcG9uc2UucmVzdWx0KTtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VFcnJvciA9IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHBhcnNlIHNlcnZlciByZXNwb25zZScsXG4gICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVqZWN0KHBhcnNlRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy50cmFuc3BvcnQuc2VuZChqc29ucnBjUmVxdWVzdCkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbGlzdFRvb2xzKHtcbiAgICBwYXJhbXMsXG4gICAgb3B0aW9ucyxcbiAgfToge1xuICAgIHBhcmFtcz86IFBhZ2luYXRlZFJlcXVlc3RbJ3BhcmFtcyddO1xuICAgIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucztcbiAgfSA9IHt9KTogUHJvbWlzZTxMaXN0VG9vbHNSZXN1bHQ+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAndG9vbHMvbGlzdCcsIHBhcmFtcyB9LFxuICAgICAgICByZXN1bHRTY2hlbWE6IExpc3RUb29sc1Jlc3VsdFNjaGVtYSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNhbGxUb29sKHtcbiAgICBuYW1lLFxuICAgIGFyZ3MsXG4gICAgb3B0aW9ucyxcbiAgfToge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBhcmdzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICBvcHRpb25zPzogVG9vbENhbGxPcHRpb25zO1xuICB9KTogUHJvbWlzZTxDYWxsVG9vbFJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICd0b29scy9jYWxsJywgcGFyYW1zOiB7IG5hbWUsIGFyZ3VtZW50czogYXJncyB9IH0sXG4gICAgICAgIHJlc3VsdFNjaGVtYTogQ2FsbFRvb2xSZXN1bHRTY2hlbWEsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBzaWduYWw6IG9wdGlvbnM/LmFib3J0U2lnbmFsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QganNvbnJwY05vdGlmaWNhdGlvbjogSlNPTlJQQ05vdGlmaWNhdGlvbiA9IHtcbiAgICAgIC4uLm5vdGlmaWNhdGlvbixcbiAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgIH07XG4gICAgYXdhaXQgdGhpcy50cmFuc3BvcnQuc2VuZChqc29ucnBjTm90aWZpY2F0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc2V0IG9mIEFJIFNESyB0b29scyBmcm9tIHRoZSBNQ1Agc2VydmVyXG4gICAqIEByZXR1cm5zIEEgcmVjb3JkIG9mIHRvb2wgbmFtZXMgdG8gdGhlaXIgaW1wbGVtZW50YXRpb25zXG4gICAqL1xuICBhc3luYyB0b29sczxUT09MX1NDSEVNQVMgZXh0ZW5kcyBUb29sU2NoZW1hcyA9ICdhdXRvbWF0aWMnPih7XG4gICAgc2NoZW1hcyA9ICdhdXRvbWF0aWMnLFxuICB9OiB7XG4gICAgc2NoZW1hcz86IFRPT0xfU0NIRU1BUztcbiAgfSA9IHt9KTogUHJvbWlzZTxNY3BUb29sU2V0PFRPT0xfU0NIRU1BUz4+IHtcbiAgICBjb25zdCB0b29sczogUmVjb3JkPHN0cmluZywgVG9vbD4gPSB7fTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBsaXN0VG9vbHNSZXN1bHQgPSBhd2FpdCB0aGlzLmxpc3RUb29scygpO1xuXG4gICAgICBmb3IgKGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24sIGlucHV0U2NoZW1hIH0gb2YgbGlzdFRvb2xzUmVzdWx0LnRvb2xzKSB7XG4gICAgICAgIGlmIChzY2hlbWFzICE9PSAnYXV0b21hdGljJyAmJiAhKG5hbWUgaW4gc2NoZW1hcykpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IGV4ZWN1dGUgPSBhc3luYyAoXG4gICAgICAgICAgYXJnczogYW55LFxuICAgICAgICAgIG9wdGlvbnM6IFRvb2xDYWxsT3B0aW9ucyxcbiAgICAgICAgKTogUHJvbWlzZTxDYWxsVG9vbFJlc3VsdD4gPT4ge1xuICAgICAgICAgIG9wdGlvbnM/LmFib3J0U2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuICAgICAgICAgIHJldHVybiBzZWxmLmNhbGxUb29sKHsgbmFtZSwgYXJncywgb3B0aW9ucyB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB0b29sV2l0aEV4ZWN1dGUgPVxuICAgICAgICAgIHNjaGVtYXMgPT09ICdhdXRvbWF0aWMnXG4gICAgICAgICAgICA/IGR5bmFtaWNUb29sKHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBpbnB1dFNjaGVtYToganNvblNjaGVtYSh7XG4gICAgICAgICAgICAgICAgICAuLi5pbnB1dFNjaGVtYSxcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IGlucHV0U2NoZW1hLnByb3BlcnRpZXMgPz8ge30sXG4gICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSBhcyBKU09OU2NoZW1hNyksXG4gICAgICAgICAgICAgICAgZXhlY3V0ZSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogdG9vbCh7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgaW5wdXRTY2hlbWE6IHNjaGVtYXNbbmFtZV0uaW5wdXRTY2hlbWEsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZSxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdG9vbHNbbmFtZV0gPSB0b29sV2l0aEV4ZWN1dGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0b29scyBhcyBNY3BUb29sU2V0PFRPT0xfU0NIRU1BUz47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25DbG9zZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0Nsb3NlZCkgcmV0dXJuO1xuXG4gICAgdGhpcy5pc0Nsb3NlZCA9IHRydWU7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogJ0Nvbm5lY3Rpb24gY2xvc2VkJyxcbiAgICB9KTtcblxuICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiB0aGlzLnJlc3BvbnNlSGFuZGxlcnMudmFsdWVzKCkpIHtcbiAgICAgIGhhbmRsZXIoZXJyb3IpO1xuICAgIH1cblxuICAgIHRoaXMucmVzcG9uc2VIYW5kbGVycy5jbGVhcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkVycm9yKGVycm9yOiB1bmtub3duKTogdm9pZCB7XG4gICAgaWYgKHRoaXMub25VbmNhdWdodEVycm9yKSB7XG4gICAgICB0aGlzLm9uVW5jYXVnaHRFcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvblJlc3BvbnNlKHJlc3BvbnNlOiBKU09OUlBDUmVzcG9uc2UgfCBKU09OUlBDRXJyb3IpOiB2b2lkIHtcbiAgICBjb25zdCBtZXNzYWdlSWQgPSBOdW1iZXIocmVzcG9uc2UuaWQpO1xuICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLnJlc3BvbnNlSGFuZGxlcnMuZ2V0KG1lc3NhZ2VJZCk7XG5cbiAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBgUHJvdG9jb2wgZXJyb3I6IFJlY2VpdmVkIGEgcmVzcG9uc2UgZm9yIGFuIHVua25vd24gbWVzc2FnZSBJRDogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgKX1gLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5yZXNwb25zZUhhbmRsZXJzLmRlbGV0ZShtZXNzYWdlSWQpO1xuXG4gICAgaGFuZGxlcihcbiAgICAgICdyZXN1bHQnIGluIHJlc3BvbnNlXG4gICAgICAgID8gcmVzcG9uc2VcbiAgICAgICAgOiBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIGNhdXNlOiByZXNwb25zZS5lcnJvcixcbiAgICAgICAgICB9KSxcbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0gfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IE1DUENsaWVudEVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvbWNwLWNsaWVudC1lcnJvcic7XG5pbXBvcnQgeyBKU09OUlBDTWVzc2FnZSwgSlNPTlJQQ01lc3NhZ2VTY2hlbWEgfSBmcm9tICcuL2pzb24tcnBjLW1lc3NhZ2UnO1xuaW1wb3J0IHsgTUNQVHJhbnNwb3J0IH0gZnJvbSAnLi9tY3AtdHJhbnNwb3J0JztcblxuZXhwb3J0IGNsYXNzIFNzZU1DUFRyYW5zcG9ydCBpbXBsZW1lbnRzIE1DUFRyYW5zcG9ydCB7XG4gIHByaXZhdGUgZW5kcG9pbnQ/OiBVUkw7XG4gIHByaXZhdGUgYWJvcnRDb250cm9sbGVyPzogQWJvcnRDb250cm9sbGVyO1xuICBwcml2YXRlIHVybDogVVJMO1xuICBwcml2YXRlIGNvbm5lY3RlZCA9IGZhbHNlO1xuICBwcml2YXRlIHNzZUNvbm5lY3Rpb24/OiB7XG4gICAgY2xvc2U6ICgpID0+IHZvaWQ7XG4gIH07XG4gIHByaXZhdGUgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbiAgb25jbG9zZT86ICgpID0+IHZvaWQ7XG4gIG9uZXJyb3I/OiAoZXJyb3I6IHVua25vd24pID0+IHZvaWQ7XG4gIG9ubWVzc2FnZT86IChtZXNzYWdlOiBKU09OUlBDTWVzc2FnZSkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgdXJsLFxuICAgIGhlYWRlcnMsXG4gIH06IHtcbiAgICB1cmw6IHN0cmluZztcbiAgICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgfSkge1xuICAgIHRoaXMudXJsID0gbmV3IFVSTCh1cmwpO1xuICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBhc3luYyBzdGFydCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgICBjb25zdCBlc3RhYmxpc2hDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpO1xuICAgICAgICAgIGhlYWRlcnMuc2V0KCdBY2NlcHQnLCAndGV4dC9ldmVudC1zdHJlYW0nKTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMudXJsLmhyZWYsIHtcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBzaWduYWw6IHRoaXMuYWJvcnRDb250cm9sbGVyPy5zaWduYWwsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8ICFyZXNwb25zZS5ib2R5KSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGBNQ1AgU1NFIFRyYW5zcG9ydCBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm9uZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBzdHJlYW0gPSByZXNwb25zZS5ib2R5XG4gICAgICAgICAgICAucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpXG4gICAgICAgICAgICAucGlwZVRocm91Z2gobmV3IEV2ZW50U291cmNlUGFyc2VyU3RyZWFtKCkpO1xuXG4gICAgICAgICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuXG4gICAgICAgICAgY29uc3QgcHJvY2Vzc0V2ZW50cyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICAgICAgJ01DUCBTU0UgVHJhbnNwb3J0IEVycm9yOiBDb25uZWN0aW9uIGNsb3NlZCB1bmV4cGVjdGVkbHknLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IGV2ZW50LCBkYXRhIH0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2VuZHBvaW50Jykge1xuICAgICAgICAgICAgICAgICAgdGhpcy5lbmRwb2ludCA9IG5ldyBVUkwoZGF0YSwgdGhpcy51cmwpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmRwb2ludC5vcmlnaW4gIT09IHRoaXMudXJsLm9yaWdpbikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBNQ1AgU1NFIFRyYW5zcG9ydCBFcnJvcjogRW5kcG9pbnQgb3JpZ2luIGRvZXMgbm90IG1hdGNoIGNvbm5lY3Rpb24gb3JpZ2luOiAke3RoaXMuZW5kcG9pbnQub3JpZ2lufWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTlJQQ01lc3NhZ2VTY2hlbWEucGFyc2UoXG4gICAgICAgICAgICAgICAgICAgICAgSlNPTi5wYXJzZShkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbm1lc3NhZ2U/LihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgICAgICAgICAgICAgICAnTUNQIFNTRSBUcmFuc3BvcnQgRXJyb3I6IEZhaWxlZCB0byBwYXJzZSBtZXNzYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3I/LihlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG8gbm90IHRocm93IGhlcmUgc28gd2UgY29udGludWUgcHJvY2Vzc2luZyBldmVudHMgYWZ0ZXIgcmVwb3J0aW5nIHRoZSBlcnJvclxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy5vbmVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB0aGlzLnNzZUNvbm5lY3Rpb24gPSB7XG4gICAgICAgICAgICBjbG9zZTogKCkgPT4gcmVhZGVyLmNhbmNlbCgpLFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBwcm9jZXNzRXZlbnRzKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5vbmVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGVzdGFibGlzaENvbm5lY3Rpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGNsb3NlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5zc2VDb25uZWN0aW9uPy5jbG9zZSgpO1xuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyPy5hYm9ydCgpO1xuICAgIHRoaXMub25jbG9zZT8uKCk7XG4gIH1cblxuICBhc3luYyBzZW5kKG1lc3NhZ2U6IEpTT05SUENNZXNzYWdlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmVuZHBvaW50IHx8ICF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogJ01DUCBTU0UgVHJhbnNwb3J0IEVycm9yOiBOb3QgY29ubmVjdGVkJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKTtcbiAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgY29uc3QgaW5pdCA9IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpLFxuICAgICAgICBzaWduYWw6IHRoaXMuYWJvcnRDb250cm9sbGVyPy5zaWduYWwsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuZW5kcG9pbnQsIGluaXQpO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkuY2F0Y2goKCkgPT4gbnVsbCk7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBgTUNQIFNTRSBUcmFuc3BvcnQgRXJyb3I6IFBPU1RpbmcgdG8gZW5kcG9pbnQgKEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9KTogJHt0ZXh0fWAsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uZXJyb3I/LihlcnJvcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5vbmVycm9yPy4oZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVNZXNzYWdlKGxpbmU6IHN0cmluZyk6IEpTT05SUENNZXNzYWdlIHtcbiAgcmV0dXJuIEpTT05SUENNZXNzYWdlU2NoZW1hLnBhcnNlKEpTT04ucGFyc2UobGluZSkpO1xufVxuIiwgImltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgQmFzZVBhcmFtc1NjaGVtYSwgUmVxdWVzdFNjaGVtYSwgUmVzdWx0U2NoZW1hIH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IEpTT05SUENfVkVSU0lPTiA9ICcyLjAnO1xuXG5jb25zdCBKU09OUlBDUmVxdWVzdFNjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAganNvbnJwYzogei5saXRlcmFsKEpTT05SUENfVkVSU0lPTiksXG4gICAgaWQ6IHoudW5pb24oW3ouc3RyaW5nKCksIHoubnVtYmVyKCkuaW50KCldKSxcbiAgfSlcbiAgLm1lcmdlKFJlcXVlc3RTY2hlbWEpXG4gIC5zdHJpY3QoKTtcblxuZXhwb3J0IHR5cGUgSlNPTlJQQ1JlcXVlc3QgPSB6LmluZmVyPHR5cGVvZiBKU09OUlBDUmVxdWVzdFNjaGVtYT47XG5cbmNvbnN0IEpTT05SUENSZXNwb25zZVNjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAganNvbnJwYzogei5saXRlcmFsKEpTT05SUENfVkVSU0lPTiksXG4gICAgaWQ6IHoudW5pb24oW3ouc3RyaW5nKCksIHoubnVtYmVyKCkuaW50KCldKSxcbiAgICByZXN1bHQ6IFJlc3VsdFNjaGVtYSxcbiAgfSlcbiAgLnN0cmljdCgpO1xuXG5leHBvcnQgdHlwZSBKU09OUlBDUmVzcG9uc2UgPSB6LmluZmVyPHR5cGVvZiBKU09OUlBDUmVzcG9uc2VTY2hlbWE+O1xuXG5jb25zdCBKU09OUlBDRXJyb3JTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIGpzb25ycGM6IHoubGl0ZXJhbChKU09OUlBDX1ZFUlNJT04pLFxuICAgIGlkOiB6LnVuaW9uKFt6LnN0cmluZygpLCB6Lm51bWJlcigpLmludCgpXSksXG4gICAgZXJyb3I6IHoub2JqZWN0KHtcbiAgICAgIGNvZGU6IHoubnVtYmVyKCkuaW50KCksXG4gICAgICBtZXNzYWdlOiB6LnN0cmluZygpLFxuICAgICAgZGF0YTogei5vcHRpb25hbCh6LnVua25vd24oKSksXG4gICAgfSksXG4gIH0pXG4gIC5zdHJpY3QoKTtcblxuZXhwb3J0IHR5cGUgSlNPTlJQQ0Vycm9yID0gei5pbmZlcjx0eXBlb2YgSlNPTlJQQ0Vycm9yU2NoZW1hPjtcblxuY29uc3QgSlNPTlJQQ05vdGlmaWNhdGlvblNjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAganNvbnJwYzogei5saXRlcmFsKEpTT05SUENfVkVSU0lPTiksXG4gIH0pXG4gIC5tZXJnZShcbiAgICB6Lm9iamVjdCh7XG4gICAgICBtZXRob2Q6IHouc3RyaW5nKCksXG4gICAgICBwYXJhbXM6IHoub3B0aW9uYWwoQmFzZVBhcmFtc1NjaGVtYSksXG4gICAgfSksXG4gIClcbiAgLnN0cmljdCgpO1xuXG5leHBvcnQgdHlwZSBKU09OUlBDTm90aWZpY2F0aW9uID0gei5pbmZlcjx0eXBlb2YgSlNPTlJQQ05vdGlmaWNhdGlvblNjaGVtYT47XG5cbmV4cG9ydCBjb25zdCBKU09OUlBDTWVzc2FnZVNjaGVtYSA9IHoudW5pb24oW1xuICBKU09OUlBDUmVxdWVzdFNjaGVtYSxcbiAgSlNPTlJQQ05vdGlmaWNhdGlvblNjaGVtYSxcbiAgSlNPTlJQQ1Jlc3BvbnNlU2NoZW1hLFxuICBKU09OUlBDRXJyb3JTY2hlbWEsXG5dKTtcblxuZXhwb3J0IHR5cGUgSlNPTlJQQ01lc3NhZ2UgPSB6LmluZmVyPHR5cGVvZiBKU09OUlBDTWVzc2FnZVNjaGVtYT47XG4iLCAiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBKU09OT2JqZWN0IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBGbGV4aWJsZVNjaGVtYSwgVG9vbCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgTEFURVNUX1BST1RPQ09MX1ZFUlNJT04gPSAnMjAyNS0wNi0xOCc7XG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX1BST1RPQ09MX1ZFUlNJT05TID0gW1xuICBMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTixcbiAgJzIwMjUtMDMtMjYnLFxuICAnMjAyNC0xMS0wNScsXG5dO1xuXG5leHBvcnQgdHlwZSBUb29sU2NoZW1hcyA9XG4gIHwgUmVjb3JkPHN0cmluZywgeyBpbnB1dFNjaGVtYTogRmxleGlibGVTY2hlbWE8SlNPTk9iamVjdCB8IHVua25vd24+IH0+XG4gIHwgJ2F1dG9tYXRpYydcbiAgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIE1jcFRvb2xTZXQ8VE9PTF9TQ0hFTUFTIGV4dGVuZHMgVG9vbFNjaGVtYXMgPSAnYXV0b21hdGljJz4gPVxuICBUT09MX1NDSEVNQVMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB7IGlucHV0U2NoZW1hOiBGbGV4aWJsZVNjaGVtYTxhbnk+IH0+XG4gICAgPyB7XG4gICAgICAgIFtLIGluIGtleW9mIFRPT0xfU0NIRU1BU106IFRPT0xfU0NIRU1BU1tLXSBleHRlbmRzIHtcbiAgICAgICAgICBpbnB1dFNjaGVtYTogRmxleGlibGVTY2hlbWE8aW5mZXIgSU5QVVQ+O1xuICAgICAgICB9XG4gICAgICAgICAgPyBUb29sPElOUFVULCBDYWxsVG9vbFJlc3VsdD4gJlxuICAgICAgICAgICAgICBSZXF1aXJlZDxQaWNrPFRvb2w8SU5QVVQsIENhbGxUb29sUmVzdWx0PiwgJ2V4ZWN1dGUnPj5cbiAgICAgICAgICA6IG5ldmVyO1xuICAgICAgfVxuICAgIDogTWNwVG9vbFNldDxSZWNvcmQ8c3RyaW5nLCB7IGlucHV0U2NoZW1hOiBGbGV4aWJsZVNjaGVtYTx1bmtub3duPiB9Pj47XG5cbmNvbnN0IENsaWVudE9yU2VydmVySW1wbGVtZW50YXRpb25TY2hlbWEgPSB6Lmxvb3NlT2JqZWN0KHtcbiAgbmFtZTogei5zdHJpbmcoKSxcbiAgdmVyc2lvbjogei5zdHJpbmcoKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBDb25maWd1cmF0aW9uID0gei5pbmZlcjx0eXBlb2YgQ2xpZW50T3JTZXJ2ZXJJbXBsZW1lbnRhdGlvblNjaGVtYT47XG5cbmV4cG9ydCBjb25zdCBCYXNlUGFyYW1zU2NoZW1hID0gei5sb29zZU9iamVjdCh7XG4gIF9tZXRhOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5sb29zZSgpKSxcbn0pO1xudHlwZSBCYXNlUGFyYW1zID0gei5pbmZlcjx0eXBlb2YgQmFzZVBhcmFtc1NjaGVtYT47XG5leHBvcnQgY29uc3QgUmVzdWx0U2NoZW1hID0gQmFzZVBhcmFtc1NjaGVtYTtcblxuZXhwb3J0IGNvbnN0IFJlcXVlc3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG1ldGhvZDogei5zdHJpbmcoKSxcbiAgcGFyYW1zOiB6Lm9wdGlvbmFsKEJhc2VQYXJhbXNTY2hlbWEpLFxufSk7XG5leHBvcnQgdHlwZSBSZXF1ZXN0ID0gei5pbmZlcjx0eXBlb2YgUmVxdWVzdFNjaGVtYT47XG5leHBvcnQgdHlwZSBSZXF1ZXN0T3B0aW9ucyA9IHtcbiAgc2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIHRpbWVvdXQ/OiBudW1iZXI7XG4gIG1heFRvdGFsVGltZW91dD86IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIE5vdGlmaWNhdGlvbiA9IHouaW5mZXI8dHlwZW9mIFJlcXVlc3RTY2hlbWE+O1xuXG5jb25zdCBTZXJ2ZXJDYXBhYmlsaXRpZXNTY2hlbWEgPSB6Lmxvb3NlT2JqZWN0KHtcbiAgZXhwZXJpbWVudGFsOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5sb29zZSgpKSxcbiAgbG9nZ2luZzogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkubG9vc2UoKSksXG4gIHByb21wdHM6IHoub3B0aW9uYWwoXG4gICAgei5sb29zZU9iamVjdCh7XG4gICAgICBsaXN0Q2hhbmdlZDogei5vcHRpb25hbCh6LmJvb2xlYW4oKSksXG4gICAgfSksXG4gICksXG4gIHJlc291cmNlczogei5vcHRpb25hbChcbiAgICB6Lmxvb3NlT2JqZWN0KHtcbiAgICAgIHN1YnNjcmliZTogei5vcHRpb25hbCh6LmJvb2xlYW4oKSksXG4gICAgICBsaXN0Q2hhbmdlZDogei5vcHRpb25hbCh6LmJvb2xlYW4oKSksXG4gICAgfSksXG4gICksXG4gIHRvb2xzOiB6Lm9wdGlvbmFsKFxuICAgIHoubG9vc2VPYmplY3Qoe1xuICAgICAgbGlzdENoYW5nZWQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIH0pLFxuICApLFxufSk7XG5cbmV4cG9ydCB0eXBlIFNlcnZlckNhcGFiaWxpdGllcyA9IHouaW5mZXI8dHlwZW9mIFNlcnZlckNhcGFiaWxpdGllc1NjaGVtYT47XG5cbmV4cG9ydCBjb25zdCBJbml0aWFsaXplUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gIHByb3RvY29sVmVyc2lvbjogei5zdHJpbmcoKSxcbiAgY2FwYWJpbGl0aWVzOiBTZXJ2ZXJDYXBhYmlsaXRpZXNTY2hlbWEsXG4gIHNlcnZlckluZm86IENsaWVudE9yU2VydmVySW1wbGVtZW50YXRpb25TY2hlbWEsXG4gIGluc3RydWN0aW9uczogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbn0pO1xuZXhwb3J0IHR5cGUgSW5pdGlhbGl6ZVJlc3VsdCA9IHouaW5mZXI8dHlwZW9mIEluaXRpYWxpemVSZXN1bHRTY2hlbWE+O1xuXG5leHBvcnQgdHlwZSBQYWdpbmF0ZWRSZXF1ZXN0ID0gUmVxdWVzdCAmIHtcbiAgcGFyYW1zPzogQmFzZVBhcmFtcyAmIHtcbiAgICBjdXJzb3I/OiBzdHJpbmc7XG4gIH07XG59O1xuXG5jb25zdCBQYWdpbmF0ZWRSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgbmV4dEN1cnNvcjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbn0pO1xuXG5jb25zdCBUb29sU2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIGRlc2NyaXB0aW9uOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIGlucHV0U2NoZW1hOiB6XG4gICAgICAub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdvYmplY3QnKSxcbiAgICAgICAgcHJvcGVydGllczogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkubG9vc2UoKSksXG4gICAgICB9KVxuICAgICAgLmxvb3NlKCksXG4gIH0pXG4gIC5sb29zZSgpO1xuZXhwb3J0IHR5cGUgTUNQVG9vbCA9IHouaW5mZXI8dHlwZW9mIFRvb2xTY2hlbWE+O1xuZXhwb3J0IGNvbnN0IExpc3RUb29sc1Jlc3VsdFNjaGVtYSA9IFBhZ2luYXRlZFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICB0b29sczogei5hcnJheShUb29sU2NoZW1hKSxcbn0pO1xuZXhwb3J0IHR5cGUgTGlzdFRvb2xzUmVzdWx0ID0gei5pbmZlcjx0eXBlb2YgTGlzdFRvb2xzUmVzdWx0U2NoZW1hPjtcblxuY29uc3QgVGV4dENvbnRlbnRTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndGV4dCcpLFxuICAgIHRleHQ6IHouc3RyaW5nKCksXG4gIH0pXG4gIC5sb29zZSgpO1xuY29uc3QgSW1hZ2VDb250ZW50U2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2ltYWdlJyksXG4gICAgZGF0YTogei5iYXNlNjQoKSxcbiAgICBtaW1lVHlwZTogei5zdHJpbmcoKSxcbiAgfSlcbiAgLmxvb3NlKCk7XG5jb25zdCBSZXNvdXJjZUNvbnRlbnRzU2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBUaGUgVVJJIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICovXG4gICAgdXJpOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIFRoZSBNSU1FIHR5cGUgb2YgdGhpcyByZXNvdXJjZSwgaWYga25vd24uXG4gICAgICovXG4gICAgbWltZVR5cGU6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gIH0pXG4gIC5sb29zZSgpO1xuY29uc3QgVGV4dFJlc291cmNlQ29udGVudHNTY2hlbWEgPSBSZXNvdXJjZUNvbnRlbnRzU2NoZW1hLmV4dGVuZCh7XG4gIHRleHQ6IHouc3RyaW5nKCksXG59KTtcbmNvbnN0IEJsb2JSZXNvdXJjZUNvbnRlbnRzU2NoZW1hID0gUmVzb3VyY2VDb250ZW50c1NjaGVtYS5leHRlbmQoe1xuICBibG9iOiB6LmJhc2U2NCgpLFxufSk7XG5jb25zdCBFbWJlZGRlZFJlc291cmNlU2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc291cmNlJyksXG4gICAgcmVzb3VyY2U6IHoudW5pb24oW1RleHRSZXNvdXJjZUNvbnRlbnRzU2NoZW1hLCBCbG9iUmVzb3VyY2VDb250ZW50c1NjaGVtYV0pLFxuICB9KVxuICAubG9vc2UoKTtcblxuZXhwb3J0IGNvbnN0IENhbGxUb29sUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gIGNvbnRlbnQ6IHouYXJyYXkoXG4gICAgei51bmlvbihbVGV4dENvbnRlbnRTY2hlbWEsIEltYWdlQ29udGVudFNjaGVtYSwgRW1iZWRkZWRSZXNvdXJjZVNjaGVtYV0pLFxuICApLFxuICBpc0Vycm9yOiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKS5vcHRpb25hbCgpLFxufSkub3IoXG4gIFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIHRvb2xSZXN1bHQ6IHoudW5rbm93bigpLFxuICB9KSxcbik7XG5leHBvcnQgdHlwZSBDYWxsVG9vbFJlc3VsdCA9IHouaW5mZXI8dHlwZW9mIENhbGxUb29sUmVzdWx0U2NoZW1hPjtcbiIsICJpbXBvcnQgeyBNQ1BDbGllbnRFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9yL21jcC1jbGllbnQtZXJyb3InO1xuaW1wb3J0IHsgSlNPTlJQQ01lc3NhZ2UgfSBmcm9tICcuL2pzb24tcnBjLW1lc3NhZ2UnO1xuaW1wb3J0IHsgU3NlTUNQVHJhbnNwb3J0IH0gZnJvbSAnLi9tY3Atc3NlLXRyYW5zcG9ydCc7XG5cbi8qKlxuICogVHJhbnNwb3J0IGludGVyZmFjZSBmb3IgTUNQIChNb2RlbCBDb250ZXh0IFByb3RvY29sKSBjb21tdW5pY2F0aW9uLlxuICogTWFwcyB0byB0aGUgYFRyYW5zcG9ydGAgaW50ZXJmYWNlIGluIHRoZSBNQ1Agc3BlYy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNQ1BUcmFuc3BvcnQge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhbmQgc3RhcnQgdGhlIHRyYW5zcG9ydFxuICAgKi9cbiAgc3RhcnQoKTogUHJvbWlzZTx2b2lkPjtcblxuICAvKipcbiAgICogU2VuZCBhIEpTT04tUlBDIG1lc3NhZ2UgdGhyb3VnaCB0aGUgdHJhbnNwb3J0XG4gICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBKU09OLVJQQyBtZXNzYWdlIHRvIHNlbmRcbiAgICovXG4gIHNlbmQobWVzc2FnZTogSlNPTlJQQ01lc3NhZ2UpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBDbGVhbiB1cCBhbmQgY2xvc2UgdGhlIHRyYW5zcG9ydFxuICAgKi9cbiAgY2xvc2UoKTogUHJvbWlzZTx2b2lkPjtcblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgdHJhbnNwb3J0IGNsb3N1cmVcbiAgICovXG4gIG9uY2xvc2U/OiAoKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciB0cmFuc3BvcnQgZXJyb3JzXG4gICAqL1xuICBvbmVycm9yPzogKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgcmVjZWl2ZWQgbWVzc2FnZXNcbiAgICovXG4gIG9ubWVzc2FnZT86IChtZXNzYWdlOiBKU09OUlBDTWVzc2FnZSkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUgTUNQVHJhbnNwb3J0Q29uZmlnID0ge1xuICB0eXBlOiAnc3NlJztcblxuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgTUNQIHNlcnZlci5cbiAgICovXG4gIHVybDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggcmVxdWVzdHMuXG4gICAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNY3BUcmFuc3BvcnQoY29uZmlnOiBNQ1BUcmFuc3BvcnRDb25maWcpOiBNQ1BUcmFuc3BvcnQge1xuICBpZiAoY29uZmlnLnR5cGUgIT09ICdzc2UnKSB7XG4gICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdVbnN1cHBvcnRlZCBvciBpbnZhbGlkIHRyYW5zcG9ydCBjb25maWd1cmF0aW9uLiBJZiB5b3UgYXJlIHVzaW5nIGEgY3VzdG9tIHRyYW5zcG9ydCwgbWFrZSBzdXJlIGl0IGltcGxlbWVudHMgdGhlIE1DUFRyYW5zcG9ydCBpbnRlcmZhY2UuJyxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBuZXcgU3NlTUNQVHJhbnNwb3J0KGNvbmZpZyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0N1c3RvbU1jcFRyYW5zcG9ydChcbiAgdHJhbnNwb3J0OiBNQ1BUcmFuc3BvcnRDb25maWcgfCBNQ1BUcmFuc3BvcnQsXG4pOiB0cmFuc3BvcnQgaXMgTUNQVHJhbnNwb3J0IHtcbiAgcmV0dXJuIChcbiAgICAnc3RhcnQnIGluIHRyYW5zcG9ydCAmJlxuICAgIHR5cGVvZiB0cmFuc3BvcnQuc3RhcnQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAnc2VuZCcgaW4gdHJhbnNwb3J0ICYmXG4gICAgdHlwZW9mIHRyYW5zcG9ydC5zZW5kID09PSAnZnVuY3Rpb24nICYmXG4gICAgJ2Nsb3NlJyBpbiB0cmFuc3BvcnQgJiZcbiAgICB0eXBlb2YgdHJhbnNwb3J0LmNsb3NlID09PSAnZnVuY3Rpb24nXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgSlNPTlZhbHVlLCBUcmFuc2NyaXB0aW9uTW9kZWxWMiB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgUHJvdmlkZXJPcHRpb25zLCB3aXRoVXNlckFnZW50U3VmZml4IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBOb1RyYW5zY3JpcHRHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLXRyYW5zY3JpcHQtZ2VuZXJhdGVkLWVycm9yJztcbmltcG9ydCB7IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci91bnN1cHBvcnRlZC1tb2RlbC12ZXJzaW9uLWVycm9yJztcbmltcG9ydCB7IGxvZ1dhcm5pbmdzIH0gZnJvbSAnLi4vbG9nZ2VyL2xvZy13YXJuaW5ncyc7XG5pbXBvcnQgeyBEYXRhQ29udGVudCB9IGZyb20gJy4uL3Byb21wdCc7XG5pbXBvcnQgeyBjb252ZXJ0RGF0YUNvbnRlbnRUb1VpbnQ4QXJyYXkgfSBmcm9tICcuLi9wcm9tcHQvZGF0YS1jb250ZW50JztcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25XYXJuaW5nIH0gZnJvbSAnLi4vdHlwZXMvdHJhbnNjcmlwdGlvbi1tb2RlbCc7XG5pbXBvcnQgeyBUcmFuc2NyaXB0aW9uTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvdHJhbnNjcmlwdGlvbi1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5pbXBvcnQge1xuICBhdWRpb01lZGlhVHlwZVNpZ25hdHVyZXMsXG4gIGRldGVjdE1lZGlhVHlwZSxcbn0gZnJvbSAnLi4vdXRpbC9kZXRlY3QtbWVkaWEtdHlwZSc7XG5pbXBvcnQgeyBkb3dubG9hZCB9IGZyb20gJy4uL3V0aWwvZG93bmxvYWQvZG93bmxvYWQnO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBUcmFuc2NyaXB0aW9uUmVzdWx0IH0gZnJvbSAnLi90cmFuc2NyaWJlLXJlc3VsdCc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG4vKipcbkdlbmVyYXRlcyB0cmFuc2NyaXB0cyB1c2luZyBhIHRyYW5zY3JpcHRpb24gbW9kZWwuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSB0cmFuc2NyaXB0aW9uIG1vZGVsIHRvIHVzZS5cbkBwYXJhbSBhdWRpbyAtIFRoZSBhdWRpbyBkYXRhIHRvIHRyYW5zY3JpYmUgYXMgRGF0YUNvbnRlbnQgKHN0cmluZyB8IFVpbnQ4QXJyYXkgfCBBcnJheUJ1ZmZlciB8IEJ1ZmZlcikgb3IgYSBVUkwuXG5AcGFyYW0gcHJvdmlkZXJPcHRpb25zIC0gQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlclxuYXMgYm9keSBwYXJhbWV0ZXJzLlxuQHBhcmFtIG1heFJldHJpZXMgLSBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuIERlZmF1bHQ6IDIuXG5AcGFyYW0gYWJvcnRTaWduYWwgLSBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGwuXG5AcGFyYW0gaGVhZGVycyAtIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cblxuQHJldHVybnMgQSByZXN1bHQgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGdlbmVyYXRlZCB0cmFuc2NyaXB0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJhbnNjcmliZSh7XG4gIG1vZGVsLFxuICBhdWRpbyxcbiAgcHJvdmlkZXJPcHRpb25zID0ge30sXG4gIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxufToge1xuICAvKipcblRoZSB0cmFuc2NyaXB0aW9uIG1vZGVsIHRvIHVzZS5cbiAgICAgKi9cbiAgbW9kZWw6IFRyYW5zY3JpcHRpb25Nb2RlbFYyO1xuXG4gIC8qKlxuVGhlIGF1ZGlvIGRhdGEgdG8gdHJhbnNjcmliZS5cbiAgICovXG4gIGF1ZGlvOiBEYXRhQ29udGVudCB8IFVSTDtcblxuICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucyB0aGF0IGFyZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXJcbmFzIGJvZHkgcGFyYW1ldGVycy5cblxuVGhlIG91dGVyIHJlY29yZCBpcyBrZXllZCBieSB0aGUgcHJvdmlkZXIgbmFtZSwgYW5kIHRoZSBpbm5lclxucmVjb3JkIGlzIGtleWVkIGJ5IHRoZSBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YSBrZXkuXG5gYGB0c1xue1xuICBcIm9wZW5haVwiOiB7XG4gICAgXCJ0ZW1wZXJhdHVyZVwiOiAwXG4gIH1cbn1cbmBgYFxuICAgICAqL1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgLyoqXG5NYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIHBlciB0cmFuc2NyaXB0IG1vZGVsIGNhbGwuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy5cblxuQGRlZmF1bHQgMlxuICAgKi9cbiAgbWF4UmV0cmllcz86IG51bWJlcjtcblxuICAvKipcbkFib3J0IHNpZ25hbC5cbiAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBoZWFkZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHJlcXVlc3QuXG5Pbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufSk6IFByb21pc2U8VHJhbnNjcmlwdGlvblJlc3VsdD4ge1xuICBpZiAobW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24gIT09ICd2MicpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcih7XG4gICAgICB2ZXJzaW9uOiBtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbixcbiAgICAgIHByb3ZpZGVyOiBtb2RlbC5wcm92aWRlcixcbiAgICAgIG1vZGVsSWQ6IG1vZGVsLm1vZGVsSWQsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCB7IHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgfSk7XG5cbiAgY29uc3QgaGVhZGVyc1dpdGhVc2VyQWdlbnQgPSB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgIGhlYWRlcnMgPz8ge30sXG4gICAgYGFpLyR7VkVSU0lPTn1gLFxuICApO1xuXG4gIGNvbnN0IGF1ZGlvRGF0YSA9XG4gICAgYXVkaW8gaW5zdGFuY2VvZiBVUkxcbiAgICAgID8gKGF3YWl0IGRvd25sb2FkKHsgdXJsOiBhdWRpbyB9KSkuZGF0YVxuICAgICAgOiBjb252ZXJ0RGF0YUNvbnRlbnRUb1VpbnQ4QXJyYXkoYXVkaW8pO1xuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldHJ5KCgpID0+XG4gICAgbW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICBhdWRpbzogYXVkaW9EYXRhLFxuICAgICAgYWJvcnRTaWduYWwsXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIG1lZGlhVHlwZTpcbiAgICAgICAgZGV0ZWN0TWVkaWFUeXBlKHtcbiAgICAgICAgICBkYXRhOiBhdWRpb0RhdGEsXG4gICAgICAgICAgc2lnbmF0dXJlczogYXVkaW9NZWRpYVR5cGVTaWduYXR1cmVzLFxuICAgICAgICB9KSA/PyAnYXVkaW8vd2F2JyxcbiAgICB9KSxcbiAgKTtcblxuICBsb2dXYXJuaW5ncyhyZXN1bHQud2FybmluZ3MpO1xuXG4gIGlmICghcmVzdWx0LnRleHQpIHtcbiAgICB0aHJvdyBuZXcgTm9UcmFuc2NyaXB0R2VuZXJhdGVkRXJyb3IoeyByZXNwb25zZXM6IFtyZXN1bHQucmVzcG9uc2VdIH0pO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBEZWZhdWx0VHJhbnNjcmlwdGlvblJlc3VsdCh7XG4gICAgdGV4dDogcmVzdWx0LnRleHQsXG4gICAgc2VnbWVudHM6IHJlc3VsdC5zZWdtZW50cyxcbiAgICBsYW5ndWFnZTogcmVzdWx0Lmxhbmd1YWdlLFxuICAgIGR1cmF0aW9uSW5TZWNvbmRzOiByZXN1bHQuZHVyYXRpb25JblNlY29uZHMsXG4gICAgd2FybmluZ3M6IHJlc3VsdC53YXJuaW5ncyxcbiAgICByZXNwb25zZXM6IFtyZXN1bHQucmVzcG9uc2VdLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHJlc3VsdC5wcm92aWRlck1ldGFkYXRhLFxuICB9KTtcbn1cblxuY2xhc3MgRGVmYXVsdFRyYW5zY3JpcHRpb25SZXN1bHQgaW1wbGVtZW50cyBUcmFuc2NyaXB0aW9uUmVzdWx0IHtcbiAgcmVhZG9ubHkgdGV4dDogc3RyaW5nO1xuICByZWFkb25seSBzZWdtZW50czogQXJyYXk8e1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBzdGFydFNlY29uZDogbnVtYmVyO1xuICAgIGVuZFNlY29uZDogbnVtYmVyO1xuICB9PjtcbiAgcmVhZG9ubHkgbGFuZ3VhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgZHVyYXRpb25JblNlY29uZHM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgd2FybmluZ3M6IEFycmF5PFRyYW5zY3JpcHRpb25XYXJuaW5nPjtcbiAgcmVhZG9ubHkgcmVzcG9uc2VzOiBBcnJheTxUcmFuc2NyaXB0aW9uTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgcmVhZG9ubHkgcHJvdmlkZXJNZXRhZGF0YTogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgSlNPTlZhbHVlPj47XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBzZWdtZW50czogQXJyYXk8e1xuICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgc3RhcnRTZWNvbmQ6IG51bWJlcjtcbiAgICAgIGVuZFNlY29uZDogbnVtYmVyO1xuICAgIH0+O1xuICAgIGxhbmd1YWdlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgZHVyYXRpb25JblNlY29uZHM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICB3YXJuaW5nczogQXJyYXk8VHJhbnNjcmlwdGlvbldhcm5pbmc+O1xuICAgIHJlc3BvbnNlczogQXJyYXk8VHJhbnNjcmlwdGlvbk1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG4gICAgcHJvdmlkZXJNZXRhZGF0YTogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgSlNPTlZhbHVlPj4gfCB1bmRlZmluZWQ7XG4gIH0pIHtcbiAgICB0aGlzLnRleHQgPSBvcHRpb25zLnRleHQ7XG4gICAgdGhpcy5zZWdtZW50cyA9IG9wdGlvbnMuc2VnbWVudHM7XG4gICAgdGhpcy5sYW5ndWFnZSA9IG9wdGlvbnMubGFuZ3VhZ2U7XG4gICAgdGhpcy5kdXJhdGlvbkluU2Vjb25kcyA9IG9wdGlvbnMuZHVyYXRpb25JblNlY29uZHM7XG4gICAgdGhpcy53YXJuaW5ncyA9IG9wdGlvbnMud2FybmluZ3M7XG4gICAgdGhpcy5yZXNwb25zZXMgPSBvcHRpb25zLnJlc3BvbnNlcztcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGEgPSBvcHRpb25zLnByb3ZpZGVyTWV0YWRhdGEgPz8ge307XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBUcmFuc2NyaXB0aW9uTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvdHJhbnNjcmlwdGlvbi1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5cbi8qKlxuRXJyb3IgdGhhdCBpcyB0aHJvd24gd2hlbiBubyB0cmFuc2NyaXB0IHdhcyBnZW5lcmF0ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb1RyYW5zY3JpcHRHZW5lcmF0ZWRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICByZWFkb25seSByZXNwb25zZXM6IEFycmF5PFRyYW5zY3JpcHRpb25Nb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICByZXNwb25zZXM6IEFycmF5PFRyYW5zY3JpcHRpb25Nb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuICB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZTogJ0FJX05vVHJhbnNjcmlwdEdlbmVyYXRlZEVycm9yJyxcbiAgICAgIG1lc3NhZ2U6ICdObyB0cmFuc2NyaXB0IGdlbmVyYXRlZC4nLFxuICAgIH0pO1xuXG4gICAgdGhpcy5yZXNwb25zZXMgPSBvcHRpb25zLnJlc3BvbnNlcztcbiAgfVxufVxuIiwgImltcG9ydCB7IHBhcnNlSnNvbkV2ZW50U3RyZWFtLCBQYXJzZVJlc3VsdCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHtcbiAgVUlNZXNzYWdlQ2h1bmssXG4gIHVpTWVzc2FnZUNodW5rU2NoZW1hLFxufSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQgeyBjb25zdW1lU3RyZWFtIH0gZnJvbSAnLi4vdXRpbC9jb25zdW1lLXN0cmVhbSc7XG5pbXBvcnQgeyBwcm9jZXNzVGV4dFN0cmVhbSB9IGZyb20gJy4vcHJvY2Vzcy10ZXh0LXN0cmVhbSc7XG5cbi8vIHVzZSBmdW5jdGlvbiB0byBhbGxvdyBmb3IgbW9ja2luZyBpbiB0ZXN0czpcbmNvbnN0IGdldE9yaWdpbmFsRmV0Y2ggPSAoKSA9PiBmZXRjaDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbGxDb21wbGV0aW9uQXBpKHtcbiAgYXBpLFxuICBwcm9tcHQsXG4gIGNyZWRlbnRpYWxzLFxuICBoZWFkZXJzLFxuICBib2R5LFxuICBzdHJlYW1Qcm90b2NvbCA9ICdkYXRhJyxcbiAgc2V0Q29tcGxldGlvbixcbiAgc2V0TG9hZGluZyxcbiAgc2V0RXJyb3IsXG4gIHNldEFib3J0Q29udHJvbGxlcixcbiAgb25GaW5pc2gsXG4gIG9uRXJyb3IsXG4gIGZldGNoID0gZ2V0T3JpZ2luYWxGZXRjaCgpLFxufToge1xuICBhcGk6IHN0cmluZztcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIGNyZWRlbnRpYWxzOiBSZXF1ZXN0Q3JlZGVudGlhbHMgfCB1bmRlZmluZWQ7XG4gIGhlYWRlcnM6IEhlYWRlcnNJbml0IHwgdW5kZWZpbmVkO1xuICBib2R5OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBzdHJlYW1Qcm90b2NvbDogJ2RhdGEnIHwgJ3RleHQnIHwgdW5kZWZpbmVkO1xuICBzZXRDb21wbGV0aW9uOiAoY29tcGxldGlvbjogc3RyaW5nKSA9PiB2b2lkO1xuICBzZXRMb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0RXJyb3I6IChlcnJvcjogRXJyb3IgfCB1bmRlZmluZWQpID0+IHZvaWQ7XG4gIHNldEFib3J0Q29udHJvbGxlcjogKGFib3J0Q29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyIHwgbnVsbCkgPT4gdm9pZDtcbiAgb25GaW5pc2g6ICgocHJvbXB0OiBzdHJpbmcsIGNvbXBsZXRpb246IHN0cmluZykgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gIG9uRXJyb3I6ICgoZXJyb3I6IEVycm9yKSA9PiB2b2lkKSB8IHVuZGVmaW5lZDtcbiAgZmV0Y2g6IFJldHVyblR5cGU8dHlwZW9mIGdldE9yaWdpbmFsRmV0Y2g+IHwgdW5kZWZpbmVkO1xufSkge1xuICB0cnkge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IodW5kZWZpbmVkKTtcblxuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBzZXRBYm9ydENvbnRyb2xsZXIoYWJvcnRDb250cm9sbGVyKTtcblxuICAgIC8vIEVtcHR5IHRoZSBjb21wbGV0aW9uIGltbWVkaWF0ZWx5LlxuICAgIHNldENvbXBsZXRpb24oJycpO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGksIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBwcm9tcHQsXG4gICAgICAgIC4uLmJvZHksXG4gICAgICB9KSxcbiAgICAgIGNyZWRlbnRpYWxzLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgfSxcbiAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAoYXdhaXQgcmVzcG9uc2UudGV4dCgpKSA/PyAnRmFpbGVkIHRvIGZldGNoIHRoZSBjaGF0IHJlc3BvbnNlLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcmVzcG9uc2UgYm9keSBpcyBlbXB0eS4nKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0ID0gJyc7XG5cbiAgICBzd2l0Y2ggKHN0cmVhbVByb3RvY29sKSB7XG4gICAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgICBhd2FpdCBwcm9jZXNzVGV4dFN0cmVhbSh7XG4gICAgICAgICAgc3RyZWFtOiByZXNwb25zZS5ib2R5LFxuICAgICAgICAgIG9uVGV4dFBhcnQ6IGNodW5rID0+IHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBjaHVuaztcbiAgICAgICAgICAgIHNldENvbXBsZXRpb24ocmVzdWx0KTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdkYXRhJzoge1xuICAgICAgICBhd2FpdCBjb25zdW1lU3RyZWFtKHtcbiAgICAgICAgICBzdHJlYW06IHBhcnNlSnNvbkV2ZW50U3RyZWFtKHtcbiAgICAgICAgICAgIHN0cmVhbTogcmVzcG9uc2UuYm9keSxcbiAgICAgICAgICAgIHNjaGVtYTogdWlNZXNzYWdlQ2h1bmtTY2hlbWEsXG4gICAgICAgICAgfSkucGlwZVRocm91Z2goXG4gICAgICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFBhcnNlUmVzdWx0PFVJTWVzc2FnZUNodW5rPiwgVUlNZXNzYWdlQ2h1bms+KHtcbiAgICAgICAgICAgICAgYXN5bmMgdHJhbnNmb3JtKHBhcnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgcGFydC5lcnJvcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1QYXJ0ID0gcGFydC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RyZWFtUGFydC50eXBlID09PSAndGV4dC1kZWx0YScpIHtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzdHJlYW1QYXJ0LmRlbHRhO1xuICAgICAgICAgICAgICAgICAgc2V0Q29tcGxldGlvbihyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtUGFydC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc3RyZWFtUGFydC5lcnJvclRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICksXG4gICAgICAgICAgb25FcnJvcjogZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gc3RyZWFtUHJvdG9jb2w7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzdHJlYW0gcHJvdG9jb2w6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvbkZpbmlzaCkge1xuICAgICAgb25GaW5pc2gocHJvbXB0LCByZXN1bHQpO1xuICAgIH1cblxuICAgIHNldEFib3J0Q29udHJvbGxlcihudWxsKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBJZ25vcmUgYWJvcnQgZXJyb3JzIGFzIHRoZXkgYXJlIGV4cGVjdGVkLlxuICAgIGlmICgoZXJyIGFzIGFueSkubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICBzZXRBYm9ydENvbnRyb2xsZXIobnVsbCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRFcnJvcihlcnIgYXMgRXJyb3IpO1xuICB9IGZpbmFsbHkge1xuICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICB9XG59XG4iLCAiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NUZXh0U3RyZWFtKHtcbiAgc3RyZWFtLFxuICBvblRleHRQYXJ0LFxufToge1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVpbnQ4QXJyYXk+O1xuICBvblRleHRQYXJ0OiAoY2h1bms6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG59KTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSkuZ2V0UmVhZGVyKCk7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICBpZiAoZG9uZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGF3YWl0IG9uVGV4dFBhcnQodmFsdWUpO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgZ2VuZXJhdGVJZCBhcyBnZW5lcmF0ZUlkRnVuYyxcbiAgSWRHZW5lcmF0b3IsXG4gIFN0YW5kYXJkU2NoZW1hVjEsXG4gIFZhbGlkYXRvcixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IGNvbnN1bWVTdHJlYW0gfSBmcm9tICcuLi91dGlsL2NvbnN1bWUtc3RyZWFtJztcbmltcG9ydCB7IFNlcmlhbEpvYkV4ZWN1dG9yIH0gZnJvbSAnLi4vdXRpbC9zZXJpYWwtam9iLWV4ZWN1dG9yJztcbmltcG9ydCB7IENoYXRUcmFuc3BvcnQgfSBmcm9tICcuL2NoYXQtdHJhbnNwb3J0JztcbmltcG9ydCB7IGNvbnZlcnRGaWxlTGlzdFRvRmlsZVVJUGFydHMgfSBmcm9tICcuL2NvbnZlcnQtZmlsZS1saXN0LXRvLWZpbGUtdWktcGFydHMnO1xuaW1wb3J0IHsgRGVmYXVsdENoYXRUcmFuc3BvcnQgfSBmcm9tICcuL2RlZmF1bHQtY2hhdC10cmFuc3BvcnQnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGUsXG4gIHByb2Nlc3NVSU1lc3NhZ2VTdHJlYW0sXG4gIFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlLFxufSBmcm9tICcuL3Byb2Nlc3MtdWktbWVzc2FnZS1zdHJlYW0nO1xuaW1wb3J0IHtcbiAgSW5mZXJVSU1lc3NhZ2VUb29sQ2FsbCxcbiAgaXNUb29sT3JEeW5hbWljVG9vbFVJUGFydCxcbiAgdHlwZSBEYXRhVUlQYXJ0LFxuICB0eXBlIEZpbGVVSVBhcnQsXG4gIHR5cGUgSW5mZXJVSU1lc3NhZ2VEYXRhLFxuICB0eXBlIEluZmVyVUlNZXNzYWdlTWV0YWRhdGEsXG4gIHR5cGUgSW5mZXJVSU1lc3NhZ2VUb29scyxcbiAgdHlwZSBVSURhdGFUeXBlcyxcbiAgdHlwZSBVSU1lc3NhZ2UsXG59IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuXG5leHBvcnQgdHlwZSBDcmVhdGVVSU1lc3NhZ2U8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPSBPbWl0PFxuICBVSV9NRVNTQUdFLFxuICAnaWQnIHwgJ3JvbGUnXG4+ICYge1xuICBpZD86IFVJX01FU1NBR0VbJ2lkJ107XG4gIHJvbGU/OiBVSV9NRVNTQUdFWydyb2xlJ107XG59O1xuXG5leHBvcnQgdHlwZSBVSURhdGFQYXJ0U2NoZW1hcyA9IFJlY29yZDxcbiAgc3RyaW5nLFxuICBWYWxpZGF0b3I8YW55PiB8IFN0YW5kYXJkU2NoZW1hVjE8YW55PlxuPjtcblxuZXhwb3J0IHR5cGUgVUlEYXRhVHlwZXNUb1NjaGVtYXM8VCBleHRlbmRzIFVJRGF0YVR5cGVzPiA9IHtcbiAgW0sgaW4ga2V5b2YgVF06IFZhbGlkYXRvcjxUW0tdPiB8IFN0YW5kYXJkU2NoZW1hVjE8VFtLXT47XG59O1xuXG5leHBvcnQgdHlwZSBJbmZlclVJRGF0YVBhcnRzPFQgZXh0ZW5kcyBVSURhdGFQYXJ0U2NoZW1hcz4gPSB7XG4gIFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgVmFsaWRhdG9yPGluZmVyIFU+XG4gICAgPyBVXG4gICAgOiBUW0tdIGV4dGVuZHMgU3RhbmRhcmRTY2hlbWFWMTxpbmZlciBVPlxuICAgICAgPyBVXG4gICAgICA6IHVua25vd247XG59O1xuXG5leHBvcnQgdHlwZSBDaGF0UmVxdWVzdE9wdGlvbnMgPSB7XG4gIC8qKlxuICBBZGRpdGlvbmFsIGhlYWRlcnMgdGhhdCBzaG91bGQgYmUgdG8gYmUgcGFzc2VkIHRvIHRoZSBBUEkgZW5kcG9pbnQuXG4gICAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB8IEhlYWRlcnM7XG5cbiAgLyoqXG4gIEFkZGl0aW9uYWwgYm9keSBKU09OIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgc2VudCB0byB0aGUgQVBJIGVuZHBvaW50LlxuICAgKi9cbiAgYm9keT86IG9iamVjdDsgLy8gVE9ETyBKU09OU3RyaW5naWZ5YWJsZVxuXG4gIG1ldGFkYXRhPzogdW5rbm93bjtcbn07XG5cbmV4cG9ydCB0eXBlIENoYXRTdGF0dXMgPSAnc3VibWl0dGVkJyB8ICdzdHJlYW1pbmcnIHwgJ3JlYWR5JyB8ICdlcnJvcic7XG5cbnR5cGUgQWN0aXZlUmVzcG9uc2U8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPSB7XG4gIHN0YXRlOiBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFPjtcbiAgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXRTdGF0ZTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiB7XG4gIHN0YXR1czogQ2hhdFN0YXR1cztcblxuICBlcnJvcjogRXJyb3IgfCB1bmRlZmluZWQ7XG5cbiAgbWVzc2FnZXM6IFVJX01FU1NBR0VbXTtcbiAgcHVzaE1lc3NhZ2U6IChtZXNzYWdlOiBVSV9NRVNTQUdFKSA9PiB2b2lkO1xuICBwb3BNZXNzYWdlOiAoKSA9PiB2b2lkO1xuICByZXBsYWNlTWVzc2FnZTogKGluZGV4OiBudW1iZXIsIG1lc3NhZ2U6IFVJX01FU1NBR0UpID0+IHZvaWQ7XG5cbiAgc25hcHNob3Q6IDxUPih0aGluZzogVCkgPT4gVDtcbn1cblxuZXhwb3J0IHR5cGUgQ2hhdE9uRXJyb3JDYWxsYmFjayA9IChlcnJvcjogRXJyb3IpID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIENoYXRPblRvb2xDYWxsQ2FsbGJhY2s8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZSA9IFVJTWVzc2FnZT4gPVxuICAob3B0aW9uczoge1xuICAgIHRvb2xDYWxsOiBJbmZlclVJTWVzc2FnZVRvb2xDYWxsPFVJX01FU1NBR0U+O1xuICB9KSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD47XG5cbmV4cG9ydCB0eXBlIENoYXRPbkRhdGFDYWxsYmFjazxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9IChcbiAgZGF0YVBhcnQ6IERhdGFVSVBhcnQ8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+PixcbikgPT4gdm9pZDtcblxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBhc3Npc3RhbnQgcmVzcG9uc2UgaGFzIGZpbmlzaGVkIHN0cmVhbWluZy5cbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSBUaGUgYXNzaXN0YW50IG1lc3NhZ2UgdGhhdCB3YXMgc3RyZWFtZWQuXG4gKiBAcGFyYW0gbWVzc2FnZXMgVGhlIGZ1bGwgY2hhdCBoaXN0b3J5LCBpbmNsdWRpbmcgdGhlIGFzc2lzdGFudCBtZXNzYWdlLlxuICpcbiAqIEBwYXJhbSBpc0Fib3J0IEluZGljYXRlcyB3aGV0aGVyIHRoZSByZXF1ZXN0IGhhcyBiZWVuIGFib3J0ZWQuXG4gKiBAcGFyYW0gaXNEaXNjb25uZWN0IEluZGljYXRlcyB3aGV0aGVyIHRoZSByZXF1ZXN0IGhhcyBiZWVuIGVuZGVkIGJ5IGEgbmV0d29yayBlcnJvci5cbiAqIEBwYXJhbSBpc0Vycm9yIEluZGljYXRlcyB3aGV0aGVyIHRoZSByZXF1ZXN0IGhhcyBiZWVuIGVuZGVkIGJ5IGFuIGVycm9yLlxuICovXG5leHBvcnQgdHlwZSBDaGF0T25GaW5pc2hDYWxsYmFjazxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9IChvcHRpb25zOiB7XG4gIG1lc3NhZ2U6IFVJX01FU1NBR0U7XG4gIG1lc3NhZ2VzOiBVSV9NRVNTQUdFW107XG4gIGlzQWJvcnQ6IGJvb2xlYW47XG4gIGlzRGlzY29ubmVjdDogYm9vbGVhbjtcbiAgaXNFcnJvcjogYm9vbGVhbjtcbn0pID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdEluaXQ8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4ge1xuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGNoYXQuIElmIG5vdCBwcm92aWRlZCwgYSByYW5kb20gb25lIHdpbGwgYmVcbiAgICogZ2VuZXJhdGVkLlxuICAgKi9cbiAgaWQ/OiBzdHJpbmc7XG5cbiAgbWVzc2FnZU1ldGFkYXRhU2NoZW1hPzpcbiAgICB8IFZhbGlkYXRvcjxJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+PlxuICAgIHwgU3RhbmRhcmRTY2hlbWFWMTxJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+PjtcbiAgZGF0YVBhcnRTY2hlbWFzPzogVUlEYXRhVHlwZXNUb1NjaGVtYXM8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+PjtcblxuICBtZXNzYWdlcz86IFVJX01FU1NBR0VbXTtcblxuICAvKipcbiAgICogQSB3YXkgdG8gcHJvdmlkZSBhIGZ1bmN0aW9uIHRoYXQgaXMgZ29pbmcgdG8gYmUgdXNlZCBmb3IgaWRzIGZvciBtZXNzYWdlcyBhbmQgdGhlIGNoYXQuXG4gICAqIElmIG5vdCBwcm92aWRlZCB0aGUgZGVmYXVsdCBBSSBTREsgYGdlbmVyYXRlSWRgIGlzIHVzZWQuXG4gICAqL1xuICBnZW5lcmF0ZUlkPzogSWRHZW5lcmF0b3I7XG5cbiAgdHJhbnNwb3J0PzogQ2hhdFRyYW5zcG9ydDxVSV9NRVNTQUdFPjtcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gYW4gZXJyb3IgaXMgZW5jb3VudGVyZWQuXG4gICAqL1xuICBvbkVycm9yPzogQ2hhdE9uRXJyb3JDYWxsYmFjaztcblxuICAvKipcbiAgT3B0aW9uYWwgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBpbnZva2VkIHdoZW4gYSB0b29sIGNhbGwgaXMgcmVjZWl2ZWQuXG4gIEludGVuZGVkIGZvciBhdXRvbWF0aWMgY2xpZW50LXNpZGUgdG9vbCBleGVjdXRpb24uXG5cbiAgWW91IGNhbiBvcHRpb25hbGx5IHJldHVybiBhIHJlc3VsdCBmb3IgdGhlIHRvb2wgY2FsbCxcbiAgZWl0aGVyIHN5bmNocm9ub3VzbHkgb3IgYXN5bmNocm9ub3VzbHkuXG4gICAgICovXG4gIG9uVG9vbENhbGw/OiBDaGF0T25Ub29sQ2FsbENhbGxiYWNrPFVJX01FU1NBR0U+O1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBhc3Npc3RhbnQgcmVzcG9uc2UgaGFzIGZpbmlzaGVkIHN0cmVhbWluZy5cbiAgICovXG4gIG9uRmluaXNoPzogQ2hhdE9uRmluaXNoQ2FsbGJhY2s8VUlfTUVTU0FHRT47XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gYSBkYXRhIHBhcnQgaXMgcmVjZWl2ZWQuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHBhcnQgdGhhdCB3YXMgcmVjZWl2ZWQuXG4gICAqL1xuICBvbkRhdGE/OiBDaGF0T25EYXRhQ2FsbGJhY2s8VUlfTUVTU0FHRT47XG5cbiAgLyoqXG4gICAqIFdoZW4gcHJvdmlkZWQsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgc3RyZWFtIGlzIGZpbmlzaGVkIG9yIGEgdG9vbCBjYWxsIGlzIGFkZGVkXG4gICAqIHRvIGRldGVybWluZSBpZiB0aGUgY3VycmVudCBtZXNzYWdlcyBzaG91bGQgYmUgcmVzdWJtaXR0ZWQuXG4gICAqL1xuICBzZW5kQXV0b21hdGljYWxseVdoZW4/OiAob3B0aW9uczoge1xuICAgIG1lc3NhZ2VzOiBVSV9NRVNTQUdFW107XG4gIH0pID0+IGJvb2xlYW4gfCBQcm9taXNlTGlrZTxib29sZWFuPjtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0Q2hhdDxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiB7XG4gIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGdlbmVyYXRlSWQ6IElkR2VuZXJhdG9yO1xuXG4gIHByb3RlY3RlZCBzdGF0ZTogQ2hhdFN0YXRlPFVJX01FU1NBR0U+O1xuXG4gIHByaXZhdGUgbWVzc2FnZU1ldGFkYXRhU2NoZW1hOlxuICAgIHwgVmFsaWRhdG9yPEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT4+XG4gICAgfCBTdGFuZGFyZFNjaGVtYVYxPEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT4+XG4gICAgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgZGF0YVBhcnRTY2hlbWFzOlxuICAgIHwgVUlEYXRhVHlwZXNUb1NjaGVtYXM8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+PlxuICAgIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHJlYWRvbmx5IHRyYW5zcG9ydDogQ2hhdFRyYW5zcG9ydDxVSV9NRVNTQUdFPjtcbiAgcHJpdmF0ZSBvbkVycm9yPzogQ2hhdEluaXQ8VUlfTUVTU0FHRT5bJ29uRXJyb3InXTtcbiAgcHJpdmF0ZSBvblRvb2xDYWxsPzogQ2hhdEluaXQ8VUlfTUVTU0FHRT5bJ29uVG9vbENhbGwnXTtcbiAgcHJpdmF0ZSBvbkZpbmlzaD86IENoYXRJbml0PFVJX01FU1NBR0U+WydvbkZpbmlzaCddO1xuICBwcml2YXRlIG9uRGF0YT86IENoYXRJbml0PFVJX01FU1NBR0U+WydvbkRhdGEnXTtcbiAgcHJpdmF0ZSBzZW5kQXV0b21hdGljYWxseVdoZW4/OiBDaGF0SW5pdDxVSV9NRVNTQUdFPlsnc2VuZEF1dG9tYXRpY2FsbHlXaGVuJ107XG5cbiAgcHJpdmF0ZSBhY3RpdmVSZXNwb25zZTogQWN0aXZlUmVzcG9uc2U8VUlfTUVTU0FHRT4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gIHByaXZhdGUgam9iRXhlY3V0b3IgPSBuZXcgU2VyaWFsSm9iRXhlY3V0b3IoKTtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgZ2VuZXJhdGVJZCA9IGdlbmVyYXRlSWRGdW5jLFxuICAgIGlkID0gZ2VuZXJhdGVJZCgpLFxuICAgIHRyYW5zcG9ydCA9IG5ldyBEZWZhdWx0Q2hhdFRyYW5zcG9ydCgpLFxuICAgIG1lc3NhZ2VNZXRhZGF0YVNjaGVtYSxcbiAgICBkYXRhUGFydFNjaGVtYXMsXG4gICAgc3RhdGUsXG4gICAgb25FcnJvcixcbiAgICBvblRvb2xDYWxsLFxuICAgIG9uRmluaXNoLFxuICAgIG9uRGF0YSxcbiAgICBzZW5kQXV0b21hdGljYWxseVdoZW4sXG4gIH06IE9taXQ8Q2hhdEluaXQ8VUlfTUVTU0FHRT4sICdtZXNzYWdlcyc+ICYge1xuICAgIHN0YXRlOiBDaGF0U3RhdGU8VUlfTUVTU0FHRT47XG4gIH0pIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgdGhpcy5nZW5lcmF0ZUlkID0gZ2VuZXJhdGVJZDtcbiAgICB0aGlzLm1lc3NhZ2VNZXRhZGF0YVNjaGVtYSA9IG1lc3NhZ2VNZXRhZGF0YVNjaGVtYTtcbiAgICB0aGlzLmRhdGFQYXJ0U2NoZW1hcyA9IGRhdGFQYXJ0U2NoZW1hcztcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5vbkVycm9yID0gb25FcnJvcjtcbiAgICB0aGlzLm9uVG9vbENhbGwgPSBvblRvb2xDYWxsO1xuICAgIHRoaXMub25GaW5pc2ggPSBvbkZpbmlzaDtcbiAgICB0aGlzLm9uRGF0YSA9IG9uRGF0YTtcbiAgICB0aGlzLnNlbmRBdXRvbWF0aWNhbGx5V2hlbiA9IHNlbmRBdXRvbWF0aWNhbGx5V2hlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBIb29rIHN0YXR1czpcbiAgICpcbiAgICogLSBgc3VibWl0dGVkYDogVGhlIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCB0byB0aGUgQVBJIGFuZCB3ZSdyZSBhd2FpdGluZyB0aGUgc3RhcnQgb2YgdGhlIHJlc3BvbnNlIHN0cmVhbS5cbiAgICogLSBgc3RyZWFtaW5nYDogVGhlIHJlc3BvbnNlIGlzIGFjdGl2ZWx5IHN0cmVhbWluZyBpbiBmcm9tIHRoZSBBUEksIHJlY2VpdmluZyBjaHVua3Mgb2YgZGF0YS5cbiAgICogLSBgcmVhZHlgOiBUaGUgZnVsbCByZXNwb25zZSBoYXMgYmVlbiByZWNlaXZlZCBhbmQgcHJvY2Vzc2VkOyBhIG5ldyB1c2VyIG1lc3NhZ2UgY2FuIGJlIHN1Ym1pdHRlZC5cbiAgICogLSBgZXJyb3JgOiBBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgdGhlIEFQSSByZXF1ZXN0LCBwcmV2ZW50aW5nIHN1Y2Nlc3NmdWwgY29tcGxldGlvbi5cbiAgICovXG4gIGdldCBzdGF0dXMoKTogQ2hhdFN0YXR1cyB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc3RhdHVzO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNldFN0YXR1cyh7XG4gICAgc3RhdHVzLFxuICAgIGVycm9yLFxuICB9OiB7XG4gICAgc3RhdHVzOiBDaGF0U3RhdHVzO1xuICAgIGVycm9yPzogRXJyb3I7XG4gIH0pIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IHN0YXR1cykgcmV0dXJuO1xuXG4gICAgdGhpcy5zdGF0ZS5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5zdGF0ZS5lcnJvciA9IGVycm9yO1xuICB9XG5cbiAgZ2V0IGVycm9yKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmVycm9yO1xuICB9XG5cbiAgZ2V0IG1lc3NhZ2VzKCk6IFVJX01FU1NBR0VbXSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUubWVzc2FnZXM7XG4gIH1cblxuICBnZXQgbGFzdE1lc3NhZ2UoKTogVUlfTUVTU0FHRSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUubWVzc2FnZXNbdGhpcy5zdGF0ZS5tZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIHNldCBtZXNzYWdlcyhtZXNzYWdlczogVUlfTUVTU0FHRVtdKSB7XG4gICAgdGhpcy5zdGF0ZS5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgb3IgcmVwbGFjZXMgYSB1c2VyIG1lc3NhZ2UgdG8gdGhlIGNoYXQgbGlzdC4gVGhpcyB0cmlnZ2VycyB0aGUgQVBJIGNhbGwgdG8gZmV0Y2hcbiAgICogdGhlIGFzc2lzdGFudCdzIHJlc3BvbnNlLlxuICAgKlxuICAgKiBJZiBhIG1lc3NhZ2VJZCBpcyBwcm92aWRlZCwgdGhlIG1lc3NhZ2Ugd2lsbCBiZSByZXBsYWNlZC5cbiAgICovXG4gIHNlbmRNZXNzYWdlID0gYXN5bmMgKFxuICAgIG1lc3NhZ2U/OlxuICAgICAgfCAoQ3JlYXRlVUlNZXNzYWdlPFVJX01FU1NBR0U+ICYge1xuICAgICAgICAgIHRleHQ/OiBuZXZlcjtcbiAgICAgICAgICBmaWxlcz86IG5ldmVyO1xuICAgICAgICAgIG1lc3NhZ2VJZD86IHN0cmluZztcbiAgICAgICAgfSlcbiAgICAgIHwge1xuICAgICAgICAgIHRleHQ6IHN0cmluZztcbiAgICAgICAgICBmaWxlcz86IEZpbGVMaXN0IHwgRmlsZVVJUGFydFtdO1xuICAgICAgICAgIG1ldGFkYXRhPzogSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPjtcbiAgICAgICAgICBwYXJ0cz86IG5ldmVyO1xuICAgICAgICAgIG1lc3NhZ2VJZD86IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfCB7XG4gICAgICAgICAgZmlsZXM6IEZpbGVMaXN0IHwgRmlsZVVJUGFydFtdO1xuICAgICAgICAgIG1ldGFkYXRhPzogSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPjtcbiAgICAgICAgICBwYXJ0cz86IG5ldmVyO1xuICAgICAgICAgIG1lc3NhZ2VJZD86IHN0cmluZztcbiAgICAgICAgfSxcbiAgICBvcHRpb25zPzogQ2hhdFJlcXVlc3RPcHRpb25zLFxuICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBpZiAobWVzc2FnZSA9PSBudWxsKSB7XG4gICAgICBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KHtcbiAgICAgICAgdHJpZ2dlcjogJ3N1Ym1pdC1tZXNzYWdlJyxcbiAgICAgICAgbWVzc2FnZUlkOiB0aGlzLmxhc3RNZXNzYWdlPy5pZCxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB1aU1lc3NhZ2U6IENyZWF0ZVVJTWVzc2FnZTxVSV9NRVNTQUdFPjtcblxuICAgIGlmICgndGV4dCcgaW4gbWVzc2FnZSB8fCAnZmlsZXMnIGluIG1lc3NhZ2UpIHtcbiAgICAgIGNvbnN0IGZpbGVQYXJ0cyA9IEFycmF5LmlzQXJyYXkobWVzc2FnZS5maWxlcylcbiAgICAgICAgPyBtZXNzYWdlLmZpbGVzXG4gICAgICAgIDogYXdhaXQgY29udmVydEZpbGVMaXN0VG9GaWxlVUlQYXJ0cyhtZXNzYWdlLmZpbGVzKTtcblxuICAgICAgdWlNZXNzYWdlID0ge1xuICAgICAgICBwYXJ0czogW1xuICAgICAgICAgIC4uLmZpbGVQYXJ0cyxcbiAgICAgICAgICAuLi4oJ3RleHQnIGluIG1lc3NhZ2UgJiYgbWVzc2FnZS50ZXh0ICE9IG51bGxcbiAgICAgICAgICAgID8gW3sgdHlwZTogJ3RleHQnIGFzIGNvbnN0LCB0ZXh0OiBtZXNzYWdlLnRleHQgfV1cbiAgICAgICAgICAgIDogW10pLFxuICAgICAgICBdLFxuICAgICAgfSBhcyBVSV9NRVNTQUdFO1xuICAgIH0gZWxzZSB7XG4gICAgICB1aU1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIH1cblxuICAgIGlmIChtZXNzYWdlLm1lc3NhZ2VJZCAhPSBudWxsKSB7XG4gICAgICBjb25zdCBtZXNzYWdlSW5kZXggPSB0aGlzLnN0YXRlLm1lc3NhZ2VzLmZpbmRJbmRleChcbiAgICAgICAgbSA9PiBtLmlkID09PSBtZXNzYWdlLm1lc3NhZ2VJZCxcbiAgICAgICk7XG5cbiAgICAgIGlmIChtZXNzYWdlSW5kZXggPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgbWVzc2FnZSB3aXRoIGlkICR7bWVzc2FnZS5tZXNzYWdlSWR9IG5vdCBmb3VuZGApO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5tZXNzYWdlc1ttZXNzYWdlSW5kZXhdLnJvbGUgIT09ICd1c2VyJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYG1lc3NhZ2Ugd2l0aCBpZCAke21lc3NhZ2UubWVzc2FnZUlkfSBpcyBub3QgYSB1c2VyIG1lc3NhZ2VgLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyByZW1vdmUgYWxsIG1lc3NhZ2VzIGFmdGVyIHRoZSBtZXNzYWdlIHdpdGggdGhlIGdpdmVuIGlkXG4gICAgICB0aGlzLnN0YXRlLm1lc3NhZ2VzID0gdGhpcy5zdGF0ZS5tZXNzYWdlcy5zbGljZSgwLCBtZXNzYWdlSW5kZXggKyAxKTtcblxuICAgICAgLy8gdXBkYXRlIHRoZSBtZXNzYWdlIHdpdGggdGhlIG5ldyBjb250ZW50XG4gICAgICB0aGlzLnN0YXRlLnJlcGxhY2VNZXNzYWdlKG1lc3NhZ2VJbmRleCwge1xuICAgICAgICAuLi51aU1lc3NhZ2UsXG4gICAgICAgIGlkOiBtZXNzYWdlLm1lc3NhZ2VJZCxcbiAgICAgICAgcm9sZTogdWlNZXNzYWdlLnJvbGUgPz8gJ3VzZXInLFxuICAgICAgICBtZXRhZGF0YTogbWVzc2FnZS5tZXRhZGF0YSxcbiAgICAgIH0gYXMgVUlfTUVTU0FHRSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUucHVzaE1lc3NhZ2Uoe1xuICAgICAgICAuLi51aU1lc3NhZ2UsXG4gICAgICAgIGlkOiB1aU1lc3NhZ2UuaWQgPz8gdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICAgIHJvbGU6IHVpTWVzc2FnZS5yb2xlID8/ICd1c2VyJyxcbiAgICAgICAgbWV0YWRhdGE6IG1lc3NhZ2UubWV0YWRhdGEsXG4gICAgICB9IGFzIFVJX01FU1NBR0UpO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMubWFrZVJlcXVlc3Qoe1xuICAgICAgdHJpZ2dlcjogJ3N1Ym1pdC1tZXNzYWdlJyxcbiAgICAgIG1lc3NhZ2VJZDogbWVzc2FnZS5tZXNzYWdlSWQsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdlbmVyYXRlIHRoZSBhc3Npc3RhbnQgbWVzc2FnZSB3aXRoIHRoZSBwcm92aWRlZCBtZXNzYWdlIGlkLlxuICAgKiBJZiBubyBtZXNzYWdlIGlkIGlzIHByb3ZpZGVkLCB0aGUgbGFzdCBhc3Npc3RhbnQgbWVzc2FnZSB3aWxsIGJlIHJlZ2VuZXJhdGVkLlxuICAgKi9cbiAgcmVnZW5lcmF0ZSA9IGFzeW5jICh7XG4gICAgbWVzc2FnZUlkLFxuICAgIC4uLm9wdGlvbnNcbiAgfToge1xuICAgIG1lc3NhZ2VJZD86IHN0cmluZztcbiAgfSAmIENoYXRSZXF1ZXN0T3B0aW9ucyA9IHt9KTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgY29uc3QgbWVzc2FnZUluZGV4ID1cbiAgICAgIG1lc3NhZ2VJZCA9PSBudWxsXG4gICAgICAgID8gdGhpcy5zdGF0ZS5tZXNzYWdlcy5sZW5ndGggLSAxXG4gICAgICAgIDogdGhpcy5zdGF0ZS5tZXNzYWdlcy5maW5kSW5kZXgobWVzc2FnZSA9PiBtZXNzYWdlLmlkID09PSBtZXNzYWdlSWQpO1xuXG4gICAgaWYgKG1lc3NhZ2VJbmRleCA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgbWVzc2FnZSAke21lc3NhZ2VJZH0gbm90IGZvdW5kYCk7XG4gICAgfVxuXG4gICAgLy8gc2V0IHRoZSBtZXNzYWdlcyB0byB0aGUgbWVzc2FnZSBiZWZvcmUgdGhlIGFzc2lzdGFudCBtZXNzYWdlXG4gICAgdGhpcy5zdGF0ZS5tZXNzYWdlcyA9IHRoaXMuc3RhdGUubWVzc2FnZXMuc2xpY2UoXG4gICAgICAwLFxuICAgICAgLy8gaWYgdGhlIG1lc3NhZ2UgaXMgYSB1c2VyIG1lc3NhZ2UsIHdlIG5lZWQgdG8gaW5jbHVkZSBpdCBpbiB0aGUgcmVxdWVzdDpcbiAgICAgIHRoaXMubWVzc2FnZXNbbWVzc2FnZUluZGV4XS5yb2xlID09PSAnYXNzaXN0YW50J1xuICAgICAgICA/IG1lc3NhZ2VJbmRleFxuICAgICAgICA6IG1lc3NhZ2VJbmRleCArIDEsXG4gICAgKTtcblxuICAgIGF3YWl0IHRoaXMubWFrZVJlcXVlc3Qoe1xuICAgICAgdHJpZ2dlcjogJ3JlZ2VuZXJhdGUtbWVzc2FnZScsXG4gICAgICBtZXNzYWdlSWQsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBdHRlbXB0IHRvIHJlc3VtZSBhbiBvbmdvaW5nIHN0cmVhbWluZyByZXNwb25zZS5cbiAgICovXG4gIHJlc3VtZVN0cmVhbSA9IGFzeW5jIChvcHRpb25zOiBDaGF0UmVxdWVzdE9wdGlvbnMgPSB7fSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoeyB0cmlnZ2VyOiAncmVzdW1lLXN0cmVhbScsIC4uLm9wdGlvbnMgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENsZWFyIHRoZSBlcnJvciBzdGF0ZSBhbmQgc2V0IHRoZSBzdGF0dXMgdG8gcmVhZHkgaWYgdGhlIGNoYXQgaXMgaW4gYW4gZXJyb3Igc3RhdGUuXG4gICAqL1xuICBjbGVhckVycm9yID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgdGhpcy5zdGF0ZS5lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuc2V0U3RhdHVzKHsgc3RhdHVzOiAncmVhZHknIH0pO1xuICAgIH1cbiAgfTtcblxuICBhZGRUb29sUmVzdWx0ID0gYXN5bmMgPFRPT0wgZXh0ZW5kcyBrZXlvZiBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+Pih7XG4gICAgdG9vbCxcbiAgICB0b29sQ2FsbElkLFxuICAgIG91dHB1dCxcbiAgfToge1xuICAgIHRvb2w6IFRPT0w7XG4gICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgIG91dHB1dDogSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPltUT09MXVsnb3V0cHV0J107XG4gIH0pID0+XG4gICAgdGhpcy5qb2JFeGVjdXRvci5ydW4oYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLnN0YXRlLm1lc3NhZ2VzO1xuICAgICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXTtcblxuICAgICAgdGhpcy5zdGF0ZS5yZXBsYWNlTWVzc2FnZShtZXNzYWdlcy5sZW5ndGggLSAxLCB7XG4gICAgICAgIC4uLmxhc3RNZXNzYWdlLFxuICAgICAgICBwYXJ0czogbGFzdE1lc3NhZ2UucGFydHMubWFwKHBhcnQgPT5cbiAgICAgICAgICBpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0KHBhcnQpICYmIHBhcnQudG9vbENhbGxJZCA9PT0gdG9vbENhbGxJZFxuICAgICAgICAgICAgPyB7IC4uLnBhcnQsIHN0YXRlOiAnb3V0cHV0LWF2YWlsYWJsZScsIG91dHB1dCB9XG4gICAgICAgICAgICA6IHBhcnQsXG4gICAgICAgICksXG4gICAgICB9KTtcblxuICAgICAgLy8gdXBkYXRlIHRoZSBhY3RpdmUgcmVzcG9uc2UgaWYgaXQgZXhpc3RzXG4gICAgICBpZiAodGhpcy5hY3RpdmVSZXNwb25zZSkge1xuICAgICAgICB0aGlzLmFjdGl2ZVJlc3BvbnNlLnN0YXRlLm1lc3NhZ2UucGFydHMgPVxuICAgICAgICAgIHRoaXMuYWN0aXZlUmVzcG9uc2Uuc3RhdGUubWVzc2FnZS5wYXJ0cy5tYXAocGFydCA9PlxuICAgICAgICAgICAgaXNUb29sT3JEeW5hbWljVG9vbFVJUGFydChwYXJ0KSAmJiBwYXJ0LnRvb2xDYWxsSWQgPT09IHRvb2xDYWxsSWRcbiAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAuLi5wYXJ0LFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgOiBwYXJ0LFxuICAgICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIGF1dG9tYXRpY2FsbHkgc2VuZCB0aGUgbWVzc2FnZSBpZiB0aGUgc2VuZEF1dG9tYXRpY2FsbHlXaGVuIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZVxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnN0YXR1cyAhPT0gJ3N0cmVhbWluZycgJiZcbiAgICAgICAgdGhpcy5zdGF0dXMgIT09ICdzdWJtaXR0ZWQnICYmXG4gICAgICAgIHRoaXMuc2VuZEF1dG9tYXRpY2FsbHlXaGVuPy4oeyBtZXNzYWdlczogdGhpcy5zdGF0ZS5tZXNzYWdlcyB9KVxuICAgICAgKSB7XG4gICAgICAgIC8vIG5vIGF3YWl0IHRvIGF2b2lkIGRlYWRsb2NraW5nXG4gICAgICAgIHRoaXMubWFrZVJlcXVlc3Qoe1xuICAgICAgICAgIHRyaWdnZXI6ICdzdWJtaXQtbWVzc2FnZScsXG4gICAgICAgICAgbWVzc2FnZUlkOiB0aGlzLmxhc3RNZXNzYWdlPy5pZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLyoqXG4gICAqIEFib3J0IHRoZSBjdXJyZW50IHJlcXVlc3QgaW1tZWRpYXRlbHksIGtlZXAgdGhlIGdlbmVyYXRlZCB0b2tlbnMgaWYgYW55LlxuICAgKi9cbiAgc3RvcCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0dXMgIT09ICdzdHJlYW1pbmcnICYmIHRoaXMuc3RhdHVzICE9PSAnc3VibWl0dGVkJykgcmV0dXJuO1xuXG4gICAgaWYgKHRoaXMuYWN0aXZlUmVzcG9uc2U/LmFib3J0Q29udHJvbGxlcikge1xuICAgICAgdGhpcy5hY3RpdmVSZXNwb25zZS5hYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBhc3luYyBtYWtlUmVxdWVzdCh7XG4gICAgdHJpZ2dlcixcbiAgICBtZXRhZGF0YSxcbiAgICBoZWFkZXJzLFxuICAgIGJvZHksXG4gICAgbWVzc2FnZUlkLFxuICB9OiB7XG4gICAgdHJpZ2dlcjogJ3N1Ym1pdC1tZXNzYWdlJyB8ICdyZXN1bWUtc3RyZWFtJyB8ICdyZWdlbmVyYXRlLW1lc3NhZ2UnO1xuICAgIG1lc3NhZ2VJZD86IHN0cmluZztcbiAgfSAmIENoYXRSZXF1ZXN0T3B0aW9ucykge1xuICAgIHRoaXMuc2V0U3RhdHVzKHsgc3RhdHVzOiAnc3VibWl0dGVkJywgZXJyb3I6IHVuZGVmaW5lZCB9KTtcblxuICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gdGhpcy5sYXN0TWVzc2FnZTtcblxuICAgIGxldCBpc0Fib3J0ID0gZmFsc2U7XG4gICAgbGV0IGlzRGlzY29ubmVjdCA9IGZhbHNlO1xuICAgIGxldCBpc0Vycm9yID0gZmFsc2U7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgYWN0aXZlUmVzcG9uc2UgPSB7XG4gICAgICAgIHN0YXRlOiBjcmVhdGVTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZSh7XG4gICAgICAgICAgbGFzdE1lc3NhZ2U6IHRoaXMuc3RhdGUuc25hcHNob3QobGFzdE1lc3NhZ2UpLFxuICAgICAgICAgIG1lc3NhZ2VJZDogdGhpcy5nZW5lcmF0ZUlkKCksXG4gICAgICAgIH0pLFxuICAgICAgICBhYm9ydENvbnRyb2xsZXI6IG5ldyBBYm9ydENvbnRyb2xsZXIoKSxcbiAgICAgIH0gYXMgQWN0aXZlUmVzcG9uc2U8VUlfTUVTU0FHRT47XG5cbiAgICAgIGFjdGl2ZVJlc3BvbnNlLmFib3J0Q29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB7XG4gICAgICAgIGlzQWJvcnQgPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuYWN0aXZlUmVzcG9uc2UgPSBhY3RpdmVSZXNwb25zZTtcblxuICAgICAgbGV0IHN0cmVhbTogUmVhZGFibGVTdHJlYW08VUlNZXNzYWdlQ2h1bms+O1xuXG4gICAgICBpZiAodHJpZ2dlciA9PT0gJ3Jlc3VtZS1zdHJlYW0nKSB7XG4gICAgICAgIGNvbnN0IHJlY29ubmVjdCA9IGF3YWl0IHRoaXMudHJhbnNwb3J0LnJlY29ubmVjdFRvU3RyZWFtKHtcbiAgICAgICAgICBjaGF0SWQ6IHRoaXMuaWQsXG4gICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBib2R5LFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVjb25uZWN0ID09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXR1cyh7IHN0YXR1czogJ3JlYWR5JyB9KTtcbiAgICAgICAgICByZXR1cm47IC8vIG5vIGFjdGl2ZSBzdHJlYW0gZm91bmQsIHNvIHdlIGRvIG5vdCByZXN1bWVcbiAgICAgICAgfVxuXG4gICAgICAgIHN0cmVhbSA9IHJlY29ubmVjdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0cmVhbSA9IGF3YWl0IHRoaXMudHJhbnNwb3J0LnNlbmRNZXNzYWdlcyh7XG4gICAgICAgICAgY2hhdElkOiB0aGlzLmlkLFxuICAgICAgICAgIG1lc3NhZ2VzOiB0aGlzLnN0YXRlLm1lc3NhZ2VzLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBhY3RpdmVSZXNwb25zZS5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgYm9keSxcbiAgICAgICAgICB0cmlnZ2VyLFxuICAgICAgICAgIG1lc3NhZ2VJZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJ1blVwZGF0ZU1lc3NhZ2VKb2IgPSAoXG4gICAgICAgIGpvYjogKG9wdGlvbnM6IHtcbiAgICAgICAgICBzdGF0ZTogU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT47XG4gICAgICAgICAgd3JpdGU6ICgpID0+IHZvaWQ7XG4gICAgICAgIH0pID0+IFByb21pc2U8dm9pZD4sXG4gICAgICApID0+XG4gICAgICAgIC8vIHNlcmlhbGl6ZSB0aGUgam9iIGV4ZWN1dGlvbiB0byBhdm9pZCByYWNlIGNvbmRpdGlvbnM6XG4gICAgICAgIHRoaXMuam9iRXhlY3V0b3IucnVuKCgpID0+XG4gICAgICAgICAgam9iKHtcbiAgICAgICAgICAgIHN0YXRlOiBhY3RpdmVSZXNwb25zZS5zdGF0ZSxcbiAgICAgICAgICAgIHdyaXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIHN0cmVhbWluZyBpcyBzZXQgb24gZmlyc3Qgd3JpdGUgKGJlZm9yZSBpdCBzaG91bGQgYmUgXCJzdWJtaXR0ZWRcIilcbiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoeyBzdGF0dXM6ICdzdHJlYW1pbmcnIH0pO1xuXG4gICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VMYXN0TWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgYWN0aXZlUmVzcG9uc2Uuc3RhdGUubWVzc2FnZS5pZCA9PT0gdGhpcy5sYXN0TWVzc2FnZT8uaWQ7XG5cbiAgICAgICAgICAgICAgaWYgKHJlcGxhY2VMYXN0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucmVwbGFjZU1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLm1lc3NhZ2VzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgICBhY3RpdmVSZXNwb25zZS5zdGF0ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wdXNoTWVzc2FnZShhY3RpdmVSZXNwb25zZS5zdGF0ZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgYXdhaXQgY29uc3VtZVN0cmVhbSh7XG4gICAgICAgIHN0cmVhbTogcHJvY2Vzc1VJTWVzc2FnZVN0cmVhbSh7XG4gICAgICAgICAgc3RyZWFtLFxuICAgICAgICAgIG9uVG9vbENhbGw6IHRoaXMub25Ub29sQ2FsbCxcbiAgICAgICAgICBvbkRhdGE6IHRoaXMub25EYXRhLFxuICAgICAgICAgIG1lc3NhZ2VNZXRhZGF0YVNjaGVtYTogdGhpcy5tZXNzYWdlTWV0YWRhdGFTY2hlbWEsXG4gICAgICAgICAgZGF0YVBhcnRTY2hlbWFzOiB0aGlzLmRhdGFQYXJ0U2NoZW1hcyxcbiAgICAgICAgICBydW5VcGRhdGVNZXNzYWdlSm9iLFxuICAgICAgICAgIG9uRXJyb3I6IGVycm9yID0+IHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgICBvbkVycm9yOiBlcnJvciA9PiB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zZXRTdGF0dXMoeyBzdGF0dXM6ICdyZWFkeScgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBJZ25vcmUgYWJvcnQgZXJyb3JzIGFzIHRoZXkgYXJlIGV4cGVjdGVkLlxuICAgICAgaWYgKGlzQWJvcnQgfHwgKGVyciBhcyBhbnkpLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICBpc0Fib3J0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoeyBzdGF0dXM6ICdyZWFkeScgfSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpc0Vycm9yID0gdHJ1ZTtcblxuICAgICAgLy8gTmV0d29yayBlcnJvcnMgc3VjaCBhcyBkaXNjb25uZWN0ZWQsIHRpbWVvdXQsIGV0Yy5cbiAgICAgIGlmIChcbiAgICAgICAgZXJyIGluc3RhbmNlb2YgVHlwZUVycm9yICYmXG4gICAgICAgIChlcnIubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdmZXRjaCcpIHx8XG4gICAgICAgICAgZXJyLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbmV0d29yaycpKVxuICAgICAgKSB7XG4gICAgICAgIGlzRGlzY29ubmVjdCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9uRXJyb3IgJiYgZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhpcy5vbkVycm9yKGVycik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdHVzKHsgc3RhdHVzOiAnZXJyb3InLCBlcnJvcjogZXJyIGFzIEVycm9yIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLm9uRmluaXNoPy4oe1xuICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuYWN0aXZlUmVzcG9uc2UhLnN0YXRlLm1lc3NhZ2UsXG4gICAgICAgICAgbWVzc2FnZXM6IHRoaXMuc3RhdGUubWVzc2FnZXMsXG4gICAgICAgICAgaXNBYm9ydCxcbiAgICAgICAgICBpc0Rpc2Nvbm5lY3QsXG4gICAgICAgICAgaXNFcnJvcixcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFjdGl2ZVJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8vIGF1dG9tYXRpY2FsbHkgc2VuZCB0aGUgbWVzc2FnZSBpZiB0aGUgc2VuZEF1dG9tYXRpY2FsbHlXaGVuIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZVxuICAgIGlmICh0aGlzLnNlbmRBdXRvbWF0aWNhbGx5V2hlbj8uKHsgbWVzc2FnZXM6IHRoaXMuc3RhdGUubWVzc2FnZXMgfSkpIHtcbiAgICAgIGF3YWl0IHRoaXMubWFrZVJlcXVlc3Qoe1xuICAgICAgICB0cmlnZ2VyOiAnc3VibWl0LW1lc3NhZ2UnLFxuICAgICAgICBtZXNzYWdlSWQ6IHRoaXMubGFzdE1lc3NhZ2U/LmlkLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYm9keSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IEZpbGVVSVBhcnQgfSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRGaWxlTGlzdFRvRmlsZVVJUGFydHMoXG4gIGZpbGVzOiBGaWxlTGlzdCB8IHVuZGVmaW5lZCxcbik6IFByb21pc2U8QXJyYXk8RmlsZVVJUGFydD4+IHtcbiAgaWYgKGZpbGVzID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvLyBSZWFjdC1uYXRpdmUgZG9lc24ndCBoYXZlIGEgRmlsZUxpc3QgZ2xvYmFsOlxuICBpZiAoIWdsb2JhbFRoaXMuRmlsZUxpc3QgfHwgIShmaWxlcyBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuRmlsZUxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGaWxlTGlzdCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBjdXJyZW50IGVudmlyb25tZW50Jyk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgQXJyYXkuZnJvbShmaWxlcykubWFwKGFzeW5jIGZpbGUgPT4ge1xuICAgICAgY29uc3QgeyBuYW1lLCB0eXBlIH0gPSBmaWxlO1xuXG4gICAgICBjb25zdCBkYXRhVXJsID0gYXdhaXQgbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSByZWFkZXJFdmVudCA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZWFkZXJFdmVudC50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmcpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25lcnJvciA9IGVycm9yID0+IHJlamVjdChlcnJvcik7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgbWVkaWFUeXBlOiB0eXBlLFxuICAgICAgICBmaWxlbmFtZTogbmFtZSxcbiAgICAgICAgdXJsOiBkYXRhVXJsLFxuICAgICAgfTtcbiAgICB9KSxcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBwYXJzZUpzb25FdmVudFN0cmVhbSwgUGFyc2VSZXN1bHQgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7XG4gIFVJTWVzc2FnZUNodW5rLFxuICB1aU1lc3NhZ2VDaHVua1NjaGVtYSxcbn0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHtcbiAgSHR0cENoYXRUcmFuc3BvcnQsXG4gIEh0dHBDaGF0VHJhbnNwb3J0SW5pdE9wdGlvbnMsXG59IGZyb20gJy4vaHR0cC1jaGF0LXRyYW5zcG9ydCc7XG5pbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcblxuZXhwb3J0IGNsYXNzIERlZmF1bHRDaGF0VHJhbnNwb3J0PFxuICBVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlLFxuPiBleHRlbmRzIEh0dHBDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+IHtcbiAgY29uc3RydWN0b3Iob3B0aW9uczogSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9uczxVSV9NRVNTQUdFPiA9IHt9KSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHJvY2Vzc1Jlc3BvbnNlU3RyZWFtKFxuICAgIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+PixcbiAgKTogUmVhZGFibGVTdHJlYW08VUlNZXNzYWdlQ2h1bms+IHtcbiAgICByZXR1cm4gcGFyc2VKc29uRXZlbnRTdHJlYW0oe1xuICAgICAgc3RyZWFtLFxuICAgICAgc2NoZW1hOiB1aU1lc3NhZ2VDaHVua1NjaGVtYSxcbiAgICB9KS5waXBlVGhyb3VnaChcbiAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08UGFyc2VSZXN1bHQ8VUlNZXNzYWdlQ2h1bms+LCBVSU1lc3NhZ2VDaHVuaz4oe1xuICAgICAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBpZiAoIWNodW5rLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRocm93IGNodW5rLmVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmsudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEZldGNoRnVuY3Rpb24sIFJlc29sdmFibGUsIHJlc29sdmUgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgQ2hhdFRyYW5zcG9ydCB9IGZyb20gJy4vY2hhdC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgVUlNZXNzYWdlIH0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5cbmV4cG9ydCB0eXBlIFByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0PFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID0gKFxuICBvcHRpb25zOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtZXNzYWdlczogVUlfTUVTU0FHRVtdO1xuICAgIHJlcXVlc3RNZXRhZGF0YTogdW5rbm93bjtcbiAgICBib2R5OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgdW5kZWZpbmVkO1xuICAgIGNyZWRlbnRpYWxzOiBSZXF1ZXN0Q3JlZGVudGlhbHMgfCB1bmRlZmluZWQ7XG4gICAgaGVhZGVyczogSGVhZGVyc0luaXQgfCB1bmRlZmluZWQ7XG4gICAgYXBpOiBzdHJpbmc7XG4gIH0gJiB7XG4gICAgdHJpZ2dlcjogJ3N1Ym1pdC1tZXNzYWdlJyB8ICdyZWdlbmVyYXRlLW1lc3NhZ2UnO1xuICAgIG1lc3NhZ2VJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICB9LFxuKSA9PlxuICB8IHtcbiAgICAgIGJvZHk6IG9iamVjdDtcbiAgICAgIGhlYWRlcnM/OiBIZWFkZXJzSW5pdDtcbiAgICAgIGNyZWRlbnRpYWxzPzogUmVxdWVzdENyZWRlbnRpYWxzO1xuICAgICAgYXBpPzogc3RyaW5nO1xuICAgIH1cbiAgfCBQcm9taXNlTGlrZTx7XG4gICAgICBib2R5OiBvYmplY3Q7XG4gICAgICBoZWFkZXJzPzogSGVhZGVyc0luaXQ7XG4gICAgICBjcmVkZW50aWFscz86IFJlcXVlc3RDcmVkZW50aWFscztcbiAgICAgIGFwaT86IHN0cmluZztcbiAgICB9PjtcblxuZXhwb3J0IHR5cGUgUHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdCA9IChvcHRpb25zOiB7XG4gIGlkOiBzdHJpbmc7XG4gIHJlcXVlc3RNZXRhZGF0YTogdW5rbm93bjtcbiAgYm9keTogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZDtcbiAgY3JlZGVudGlhbHM6IFJlcXVlc3RDcmVkZW50aWFscyB8IHVuZGVmaW5lZDtcbiAgaGVhZGVyczogSGVhZGVyc0luaXQgfCB1bmRlZmluZWQ7XG4gIGFwaTogc3RyaW5nO1xufSkgPT5cbiAgfCB7XG4gICAgICBoZWFkZXJzPzogSGVhZGVyc0luaXQ7XG4gICAgICBjcmVkZW50aWFscz86IFJlcXVlc3RDcmVkZW50aWFscztcbiAgICAgIGFwaT86IHN0cmluZztcbiAgICB9XG4gIHwgUHJvbWlzZUxpa2U8e1xuICAgICAgaGVhZGVycz86IEhlYWRlcnNJbml0O1xuICAgICAgY3JlZGVudGlhbHM/OiBSZXF1ZXN0Q3JlZGVudGlhbHM7XG4gICAgICBhcGk/OiBzdHJpbmc7XG4gICAgfT47XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgdGhlIGBIdHRwQ2hhdFRyYW5zcG9ydGAgY2xhc3MuXG4gKlxuICogQHBhcmFtIFVJX01FU1NBR0UgLSBUaGUgdHlwZSBvZiBtZXNzYWdlIHRvIGJlIHVzZWQgaW4gdGhlIGNoYXQuXG4gKi9cbmV4cG9ydCB0eXBlIEh0dHBDaGF0VHJhbnNwb3J0SW5pdE9wdGlvbnM8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPSB7XG4gIC8qKlxuICAgKiBUaGUgQVBJIFVSTCB0byBiZSB1c2VkIGZvciB0aGUgY2hhdCB0cmFuc3BvcnQuXG4gICAqIERlZmF1bHRzIHRvICcvYXBpL2NoYXQnLlxuICAgKi9cbiAgYXBpPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY3JlZGVudGlhbHMgbW9kZSB0byBiZSB1c2VkIGZvciB0aGUgZmV0Y2ggcmVxdWVzdC5cbiAgICogUG9zc2libGUgdmFsdWVzIGFyZTogJ29taXQnLCAnc2FtZS1vcmlnaW4nLCAnaW5jbHVkZScuXG4gICAqIERlZmF1bHRzIHRvICdzYW1lLW9yaWdpbicuXG4gICAqL1xuICBjcmVkZW50aWFscz86IFJlc29sdmFibGU8UmVxdWVzdENyZWRlbnRpYWxzPjtcblxuICAvKipcbiAgICogSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgQVBJIHJlcXVlc3QuXG4gICAqL1xuICBoZWFkZXJzPzogUmVzb2x2YWJsZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgSGVhZGVycz47XG5cbiAgLyoqXG4gICAqIEV4dHJhIGJvZHkgb2JqZWN0IHRvIGJlIHNlbnQgd2l0aCB0aGUgQVBJIHJlcXVlc3QuXG4gICAqIEBleGFtcGxlXG4gICAqIFNlbmQgYSBgc2Vzc2lvbklkYCB0byB0aGUgQVBJIGFsb25nIHdpdGggdGhlIG1lc3NhZ2VzLlxuICAgKiBgYGBqc1xuICAgKiB1c2VDaGF0KHtcbiAgICogICBib2R5OiB7XG4gICAqICAgICBzZXNzaW9uSWQ6ICcxMjMnLFxuICAgKiAgIH1cbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBib2R5PzogUmVzb2x2YWJsZTxvYmplY3Q+O1xuXG4gIC8qKlxuICBDdXN0b20gZmV0Y2ggaW1wbGVtZW50YXRpb24uIFlvdSBjYW4gdXNlIGl0IGFzIGEgbWlkZGxld2FyZSB0byBpbnRlcmNlcHQgcmVxdWVzdHMsXG4gIG9yIHRvIHByb3ZpZGUgYSBjdXN0b20gZmV0Y2ggaW1wbGVtZW50YXRpb24gZm9yIGUuZy4gdGVzdGluZy5cbiAgICAgICovXG4gIGZldGNoPzogRmV0Y2hGdW5jdGlvbjtcblxuICAvKipcbiAgICogV2hlbiBhIGZ1bmN0aW9uIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIHVzZWRcbiAgICogdG8gcHJlcGFyZSB0aGUgcmVxdWVzdCBib2R5IGZvciB0aGUgY2hhdCBBUEkuIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3JcbiAgICogY3VzdG9taXppbmcgdGhlIHJlcXVlc3QgYm9keSBiYXNlZCBvbiB0aGUgbWVzc2FnZXMgYW5kIGRhdGEgaW4gdGhlIGNoYXQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCBUaGUgaWQgb2YgdGhlIGNoYXQuXG4gICAqIEBwYXJhbSBtZXNzYWdlcyBUaGUgY3VycmVudCBtZXNzYWdlcyBpbiB0aGUgY2hhdC5cbiAgICogQHBhcmFtIHJlcXVlc3RCb2R5IFRoZSByZXF1ZXN0IGJvZHkgb2JqZWN0IHBhc3NlZCBpbiB0aGUgY2hhdCByZXF1ZXN0LlxuICAgKi9cbiAgcHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3Q/OiBQcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdDxVSV9NRVNTQUdFPjtcblxuICAvKipcbiAgICogV2hlbiBhIGZ1bmN0aW9uIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIHVzZWRcbiAgICogdG8gcHJlcGFyZSB0aGUgcmVxdWVzdCBib2R5IGZvciB0aGUgY2hhdCBBUEkuIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3JcbiAgICogY3VzdG9taXppbmcgdGhlIHJlcXVlc3QgYm9keSBiYXNlZCBvbiB0aGUgbWVzc2FnZXMgYW5kIGRhdGEgaW4gdGhlIGNoYXQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCBUaGUgaWQgb2YgdGhlIGNoYXQuXG4gICAqIEBwYXJhbSBtZXNzYWdlcyBUaGUgY3VycmVudCBtZXNzYWdlcyBpbiB0aGUgY2hhdC5cbiAgICogQHBhcmFtIHJlcXVlc3RCb2R5IFRoZSByZXF1ZXN0IGJvZHkgb2JqZWN0IHBhc3NlZCBpbiB0aGUgY2hhdCByZXF1ZXN0LlxuICAgKi9cbiAgcHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdD86IFByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3Q7XG59O1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSHR0cENoYXRUcmFuc3BvcnQ8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT5cbiAgaW1wbGVtZW50cyBDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+XG57XG4gIHByb3RlY3RlZCBhcGk6IHN0cmluZztcbiAgcHJvdGVjdGVkIGNyZWRlbnRpYWxzOiBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zPFVJX01FU1NBR0U+WydjcmVkZW50aWFscyddO1xuICBwcm90ZWN0ZWQgaGVhZGVyczogSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9uczxVSV9NRVNTQUdFPlsnaGVhZGVycyddO1xuICBwcm90ZWN0ZWQgYm9keTogSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9uczxVSV9NRVNTQUdFPlsnYm9keSddO1xuICBwcm90ZWN0ZWQgZmV0Y2g/OiBGZXRjaEZ1bmN0aW9uO1xuICBwcm90ZWN0ZWQgcHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3Q/OiBQcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdDxVSV9NRVNTQUdFPjtcbiAgcHJvdGVjdGVkIHByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3Q/OiBQcmVwYXJlUmVjb25uZWN0VG9TdHJlYW1SZXF1ZXN0O1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBhcGkgPSAnL2FwaS9jaGF0JyxcbiAgICBjcmVkZW50aWFscyxcbiAgICBoZWFkZXJzLFxuICAgIGJvZHksXG4gICAgZmV0Y2gsXG4gICAgcHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3QsXG4gICAgcHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdCxcbiAgfTogSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9uczxVSV9NRVNTQUdFPikge1xuICAgIHRoaXMuYXBpID0gYXBpO1xuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBjcmVkZW50aWFscztcbiAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgdGhpcy5mZXRjaCA9IGZldGNoO1xuICAgIHRoaXMucHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3QgPSBwcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdDtcbiAgICB0aGlzLnByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3QgPSBwcmVwYXJlUmVjb25uZWN0VG9TdHJlYW1SZXF1ZXN0O1xuICB9XG5cbiAgYXN5bmMgc2VuZE1lc3NhZ2VzKHtcbiAgICBhYm9ydFNpZ25hbCxcbiAgICAuLi5vcHRpb25zXG4gIH06IFBhcmFtZXRlcnM8Q2hhdFRyYW5zcG9ydDxVSV9NRVNTQUdFPlsnc2VuZE1lc3NhZ2VzJ10+WzBdKSB7XG4gICAgY29uc3QgcmVzb2x2ZWRCb2R5ID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmJvZHkpO1xuICAgIGNvbnN0IHJlc29sdmVkSGVhZGVycyA9IGF3YWl0IHJlc29sdmUodGhpcy5oZWFkZXJzKTtcbiAgICBjb25zdCByZXNvbHZlZENyZWRlbnRpYWxzID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmNyZWRlbnRpYWxzKTtcblxuICAgIGNvbnN0IHByZXBhcmVkUmVxdWVzdCA9IGF3YWl0IHRoaXMucHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3Q/Lih7XG4gICAgICBhcGk6IHRoaXMuYXBpLFxuICAgICAgaWQ6IG9wdGlvbnMuY2hhdElkLFxuICAgICAgbWVzc2FnZXM6IG9wdGlvbnMubWVzc2FnZXMsXG4gICAgICBib2R5OiB7IC4uLnJlc29sdmVkQm9keSwgLi4ub3B0aW9ucy5ib2R5IH0sXG4gICAgICBoZWFkZXJzOiB7IC4uLnJlc29sdmVkSGVhZGVycywgLi4ub3B0aW9ucy5oZWFkZXJzIH0sXG4gICAgICBjcmVkZW50aWFsczogcmVzb2x2ZWRDcmVkZW50aWFscyxcbiAgICAgIHJlcXVlc3RNZXRhZGF0YTogb3B0aW9ucy5tZXRhZGF0YSxcbiAgICAgIHRyaWdnZXI6IG9wdGlvbnMudHJpZ2dlcixcbiAgICAgIG1lc3NhZ2VJZDogb3B0aW9ucy5tZXNzYWdlSWQsXG4gICAgfSk7XG5cbiAgICBjb25zdCBhcGkgPSBwcmVwYXJlZFJlcXVlc3Q/LmFwaSA/PyB0aGlzLmFwaTtcbiAgICBjb25zdCBoZWFkZXJzID1cbiAgICAgIHByZXBhcmVkUmVxdWVzdD8uaGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcHJlcGFyZWRSZXF1ZXN0LmhlYWRlcnNcbiAgICAgICAgOiB7IC4uLnJlc29sdmVkSGVhZGVycywgLi4ub3B0aW9ucy5oZWFkZXJzIH07XG4gICAgY29uc3QgYm9keSA9XG4gICAgICBwcmVwYXJlZFJlcXVlc3Q/LmJvZHkgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHByZXBhcmVkUmVxdWVzdC5ib2R5XG4gICAgICAgIDoge1xuICAgICAgICAgICAgLi4ucmVzb2x2ZWRCb2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucy5ib2R5LFxuICAgICAgICAgICAgaWQ6IG9wdGlvbnMuY2hhdElkLFxuICAgICAgICAgICAgbWVzc2FnZXM6IG9wdGlvbnMubWVzc2FnZXMsXG4gICAgICAgICAgICB0cmlnZ2VyOiBvcHRpb25zLnRyaWdnZXIsXG4gICAgICAgICAgICBtZXNzYWdlSWQ6IG9wdGlvbnMubWVzc2FnZUlkLFxuICAgICAgICAgIH07XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSBwcmVwYXJlZFJlcXVlc3Q/LmNyZWRlbnRpYWxzID8/IHJlc29sdmVkQ3JlZGVudGlhbHM7XG5cbiAgICAvLyBhdm9pZCBjYWNoaW5nIGdsb2JhbFRoaXMuZmV0Y2ggaW4gY2FzZSBpdCBpcyBwYXRjaGVkIGJ5IG90aGVyIGxpYnJhcmllc1xuICAgIGNvbnN0IGZldGNoID0gdGhpcy5mZXRjaCA/PyBnbG9iYWxUaGlzLmZldGNoO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGksIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgY3JlZGVudGlhbHMsXG4gICAgICBzaWduYWw6IGFib3J0U2lnbmFsLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAoYXdhaXQgcmVzcG9uc2UudGV4dCgpKSA/PyAnRmFpbGVkIHRvIGZldGNoIHRoZSBjaGF0IHJlc3BvbnNlLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcmVzcG9uc2UgYm9keSBpcyBlbXB0eS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzUmVzcG9uc2VTdHJlYW0ocmVzcG9uc2UuYm9keSk7XG4gIH1cblxuICBhc3luYyByZWNvbm5lY3RUb1N0cmVhbShcbiAgICBvcHRpb25zOiBQYXJhbWV0ZXJzPENoYXRUcmFuc3BvcnQ8VUlfTUVTU0FHRT5bJ3JlY29ubmVjdFRvU3RyZWFtJ10+WzBdLFxuICApOiBQcm9taXNlPFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPiB8IG51bGw+IHtcbiAgICBjb25zdCByZXNvbHZlZEJvZHkgPSBhd2FpdCByZXNvbHZlKHRoaXMuYm9keSk7XG4gICAgY29uc3QgcmVzb2x2ZWRIZWFkZXJzID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmhlYWRlcnMpO1xuICAgIGNvbnN0IHJlc29sdmVkQ3JlZGVudGlhbHMgPSBhd2FpdCByZXNvbHZlKHRoaXMuY3JlZGVudGlhbHMpO1xuXG4gICAgY29uc3QgcHJlcGFyZWRSZXF1ZXN0ID0gYXdhaXQgdGhpcy5wcmVwYXJlUmVjb25uZWN0VG9TdHJlYW1SZXF1ZXN0Py4oe1xuICAgICAgYXBpOiB0aGlzLmFwaSxcbiAgICAgIGlkOiBvcHRpb25zLmNoYXRJZCxcbiAgICAgIGJvZHk6IHsgLi4ucmVzb2x2ZWRCb2R5LCAuLi5vcHRpb25zLmJvZHkgfSxcbiAgICAgIGhlYWRlcnM6IHsgLi4ucmVzb2x2ZWRIZWFkZXJzLCAuLi5vcHRpb25zLmhlYWRlcnMgfSxcbiAgICAgIGNyZWRlbnRpYWxzOiByZXNvbHZlZENyZWRlbnRpYWxzLFxuICAgICAgcmVxdWVzdE1ldGFkYXRhOiBvcHRpb25zLm1ldGFkYXRhLFxuICAgIH0pO1xuXG4gICAgY29uc3QgYXBpID0gcHJlcGFyZWRSZXF1ZXN0Py5hcGkgPz8gYCR7dGhpcy5hcGl9LyR7b3B0aW9ucy5jaGF0SWR9L3N0cmVhbWA7XG4gICAgY29uc3QgaGVhZGVycyA9XG4gICAgICBwcmVwYXJlZFJlcXVlc3Q/LmhlYWRlcnMgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHByZXBhcmVkUmVxdWVzdC5oZWFkZXJzXG4gICAgICAgIDogeyAuLi5yZXNvbHZlZEhlYWRlcnMsIC4uLm9wdGlvbnMuaGVhZGVycyB9O1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gcHJlcGFyZWRSZXF1ZXN0Py5jcmVkZW50aWFscyA/PyByZXNvbHZlZENyZWRlbnRpYWxzO1xuXG4gICAgLy8gYXZvaWQgY2FjaGluZyBnbG9iYWxUaGlzLmZldGNoIGluIGNhc2UgaXQgaXMgcGF0Y2hlZCBieSBvdGhlciBsaWJyYXJpZXNcbiAgICBjb25zdCBmZXRjaCA9IHRoaXMuZmV0Y2ggPz8gZ2xvYmFsVGhpcy5mZXRjaDtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVycyxcbiAgICAgIGNyZWRlbnRpYWxzLFxuICAgIH0pO1xuXG4gICAgLy8gbm8gYWN0aXZlIHN0cmVhbSBmb3VuZCwgc28gd2UgZG8gbm90IHJlc3VtZVxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAoYXdhaXQgcmVzcG9uc2UudGV4dCgpKSA/PyAnRmFpbGVkIHRvIGZldGNoIHRoZSBjaGF0IHJlc3BvbnNlLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcmVzcG9uc2UgYm9keSBpcyBlbXB0eS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzUmVzcG9uc2VTdHJlYW0ocmVzcG9uc2UuYm9keSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgcHJvY2Vzc1Jlc3BvbnNlU3RyZWFtKFxuICAgIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+PixcbiAgKTogUmVhZGFibGVTdHJlYW08VUlNZXNzYWdlQ2h1bms+O1xufVxuIiwgImltcG9ydCB7IGlzVG9vbE9yRHluYW1pY1Rvb2xVSVBhcnQsIFVJTWVzc2FnZSB9IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuXG4vKipcbkNoZWNrIGlmIHRoZSBtZXNzYWdlIGlzIGFuIGFzc2lzdGFudCBtZXNzYWdlIHdpdGggY29tcGxldGVkIHRvb2wgY2FsbHMuXG5UaGUgbGFzdCBzdGVwIG9mIHRoZSBtZXNzYWdlIG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgdG9vbCBpbnZvY2F0aW9uIGFuZFxuYWxsIHRvb2wgaW52b2NhdGlvbnMgbXVzdCBoYXZlIGEgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGFzdEFzc2lzdGFudE1lc3NhZ2VJc0NvbXBsZXRlV2l0aFRvb2xDYWxscyh7XG4gIG1lc3NhZ2VzLFxufToge1xuICBtZXNzYWdlczogVUlNZXNzYWdlW107XG59KTogYm9vbGVhbiB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXTtcblxuICBpZiAoIW1lc3NhZ2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAobWVzc2FnZS5yb2xlICE9PSAnYXNzaXN0YW50Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGxhc3RTdGVwU3RhcnRJbmRleCA9IG1lc3NhZ2UucGFydHMucmVkdWNlKChsYXN0SW5kZXgsIHBhcnQsIGluZGV4KSA9PiB7XG4gICAgcmV0dXJuIHBhcnQudHlwZSA9PT0gJ3N0ZXAtc3RhcnQnID8gaW5kZXggOiBsYXN0SW5kZXg7XG4gIH0sIC0xKTtcblxuICBjb25zdCBsYXN0U3RlcFRvb2xJbnZvY2F0aW9ucyA9IG1lc3NhZ2UucGFydHNcbiAgICAuc2xpY2UobGFzdFN0ZXBTdGFydEluZGV4ICsgMSlcbiAgICAuZmlsdGVyKGlzVG9vbE9yRHluYW1pY1Rvb2xVSVBhcnQpO1xuXG4gIHJldHVybiAoXG4gICAgbGFzdFN0ZXBUb29sSW52b2NhdGlvbnMubGVuZ3RoID4gMCAmJlxuICAgIGxhc3RTdGVwVG9vbEludm9jYXRpb25zLmV2ZXJ5KHBhcnQgPT4gcGFydC5zdGF0ZSA9PT0gJ291dHB1dC1hdmFpbGFibGUnKVxuICApO1xufVxuIiwgImltcG9ydCB7IFVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vdWktbWVzc2FnZS1jaHVua3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtVGV4dFRvVWlNZXNzYWdlU3RyZWFtKHtcbiAgc3RyZWFtLFxufToge1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPHN0cmluZz47XG59KSB7XG4gIHJldHVybiBzdHJlYW0ucGlwZVRocm91Z2goXG4gICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxzdHJpbmcsIFVJTWVzc2FnZUNodW5rPih7XG4gICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdzdGFydCcgfSk7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdzdGFydC1zdGVwJyB9KTtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtc3RhcnQnLCBpZDogJ3RleHQtMScgfSk7XG4gICAgICB9LFxuXG4gICAgICBhc3luYyB0cmFuc2Zvcm0ocGFydCwgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAndGV4dC1kZWx0YScsIGlkOiAndGV4dC0xJywgZGVsdGE6IHBhcnQgfSk7XG4gICAgICB9LFxuXG4gICAgICBhc3luYyBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LWVuZCcsIGlkOiAndGV4dC0xJyB9KTtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ2ZpbmlzaC1zdGVwJyB9KTtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ2ZpbmlzaCcgfSk7XG4gICAgICB9LFxuICAgIH0pLFxuICApO1xufVxuIiwgImltcG9ydCB7IFVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHtcbiAgSHR0cENoYXRUcmFuc3BvcnQsXG4gIEh0dHBDaGF0VHJhbnNwb3J0SW5pdE9wdGlvbnMsXG59IGZyb20gJy4vaHR0cC1jaGF0LXRyYW5zcG9ydCc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1UZXh0VG9VaU1lc3NhZ2VTdHJlYW0gfSBmcm9tICcuL3RyYW5zZm9ybS10ZXh0LXRvLXVpLW1lc3NhZ2Utc3RyZWFtJztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuXG5leHBvcnQgY2xhc3MgVGV4dFN0cmVhbUNoYXRUcmFuc3BvcnQ8XG4gIFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2UsXG4+IGV4dGVuZHMgSHR0cENoYXRUcmFuc3BvcnQ8VUlfTUVTU0FHRT4ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zPFVJX01FU1NBR0U+ID0ge30pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwcm9jZXNzUmVzcG9uc2VTdHJlYW0oXG4gICAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PEFycmF5QnVmZmVyTGlrZT4+LFxuICApOiBSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz4ge1xuICAgIHJldHVybiB0cmFuc2Zvcm1UZXh0VG9VaU1lc3NhZ2VTdHJlYW0oe1xuICAgICAgc3RyZWFtOiBzdHJlYW0ucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLFxuICAgIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgVHlwZVZhbGlkYXRpb25FcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgU3RhbmRhcmRTY2hlbWFWMSxcbiAgVG9vbCxcbiAgdmFsaWRhdGVUeXBlcyxcbiAgVmFsaWRhdG9yLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgcHJvdmlkZXJNZXRhZGF0YVNjaGVtYSB9IGZyb20gJy4uL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhJztcbmltcG9ydCB7XG4gIERhdGFVSVBhcnQsXG4gIEluZmVyVUlNZXNzYWdlRGF0YSxcbiAgSW5mZXJVSU1lc3NhZ2VUb29scyxcbiAgVG9vbFVJUGFydCxcbiAgVUlNZXNzYWdlLFxufSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcbmltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnLi4vZXJyb3InO1xuXG5jb25zdCB0ZXh0VUlQYXJ0U2NoZW1hID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ3RleHQnKSxcbiAgdGV4dDogei5zdHJpbmcoKSxcbiAgc3RhdGU6IHouZW51bShbJ3N0cmVhbWluZycsICdkb25lJ10pLm9wdGlvbmFsKCksXG4gIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pO1xuXG5jb25zdCByZWFzb25pbmdVSVBhcnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nJyksXG4gIHRleHQ6IHouc3RyaW5nKCksXG4gIHN0YXRlOiB6LmVudW0oWydzdHJlYW1pbmcnLCAnZG9uZSddKS5vcHRpb25hbCgpLFxuICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KTtcblxuY29uc3Qgc291cmNlVXJsVUlQYXJ0U2NoZW1hID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ3NvdXJjZS11cmwnKSxcbiAgc291cmNlSWQ6IHouc3RyaW5nKCksXG4gIHVybDogei5zdHJpbmcoKSxcbiAgdGl0bGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IHNvdXJjZURvY3VtZW50VUlQYXJ0U2NoZW1hID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ3NvdXJjZS1kb2N1bWVudCcpLFxuICBzb3VyY2VJZDogei5zdHJpbmcoKSxcbiAgbWVkaWFUeXBlOiB6LnN0cmluZygpLFxuICB0aXRsZTogei5zdHJpbmcoKSxcbiAgZmlsZW5hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IGZpbGVVSVBhcnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgnZmlsZScpLFxuICBtZWRpYVR5cGU6IHouc3RyaW5nKCksXG4gIGZpbGVuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHVybDogei5zdHJpbmcoKSxcbiAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IHN0ZXBTdGFydFVJUGFydFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCdzdGVwLXN0YXJ0JyksXG59KTtcblxuY29uc3QgZGF0YVVJUGFydFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5zdHJpbmcoKS5zdGFydHNXaXRoKCdkYXRhLScpLFxuICBpZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBkYXRhOiB6LnVua25vd24oKSxcbn0pO1xuXG5jb25zdCBkeW5hbWljVG9vbFVJUGFydFNjaGVtYXMgPSBbXG4gIHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2R5bmFtaWMtdG9vbCcpLFxuICAgIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgc3RhdGU6IHoubGl0ZXJhbCgnaW5wdXQtc3RyZWFtaW5nJyksXG4gICAgaW5wdXQ6IHoudW5rbm93bigpLm9wdGlvbmFsKCksXG4gICAgb3V0cHV0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICBlcnJvclRleHQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZHluYW1pYy10b29sJyksXG4gICAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICBzdGF0ZTogei5saXRlcmFsKCdpbnB1dC1hdmFpbGFibGUnKSxcbiAgICBpbnB1dDogei51bmtub3duKCksXG4gICAgb3V0cHV0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICBlcnJvclRleHQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgIGNhbGxQcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdkeW5hbWljLXRvb2wnKSxcbiAgICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIHN0YXRlOiB6LmxpdGVyYWwoJ291dHB1dC1hdmFpbGFibGUnKSxcbiAgICBpbnB1dDogei51bmtub3duKCksXG4gICAgb3V0cHV0OiB6LnVua25vd24oKSxcbiAgICBlcnJvclRleHQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgIGNhbGxQcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgcHJlbGltaW5hcnk6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdkeW5hbWljLXRvb2wnKSxcbiAgICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIHN0YXRlOiB6LmxpdGVyYWwoJ291dHB1dC1lcnJvcicpLFxuICAgIGlucHV0OiB6LnVua25vd24oKSxcbiAgICBvdXRwdXQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgIGVycm9yVGV4dDogei5zdHJpbmcoKSxcbiAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbl07XG5cbmNvbnN0IHRvb2xVSVBhcnRTY2hlbWFzID0gW1xuICB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5zdHJpbmcoKS5zdGFydHNXaXRoKCd0b29sLScpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgc3RhdGU6IHoubGl0ZXJhbCgnaW5wdXQtc3RyZWFtaW5nJyksXG4gICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBpbnB1dDogei51bmtub3duKCkub3B0aW9uYWwoKSxcbiAgICBvdXRwdXQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgIGVycm9yVGV4dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5zdHJpbmcoKS5zdGFydHNXaXRoKCd0b29sLScpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgc3RhdGU6IHoubGl0ZXJhbCgnaW5wdXQtYXZhaWxhYmxlJyksXG4gICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBpbnB1dDogei51bmtub3duKCksXG4gICAgb3V0cHV0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICBlcnJvclRleHQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgIGNhbGxQcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5zdHJpbmcoKS5zdGFydHNXaXRoKCd0b29sLScpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgc3RhdGU6IHoubGl0ZXJhbCgnb3V0cHV0LWF2YWlsYWJsZScpLFxuICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgIG91dHB1dDogei51bmtub3duKCksXG4gICAgZXJyb3JUZXh0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgIHByZWxpbWluYXJ5OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIHR5cGU6IHouc3RyaW5nKCkuc3RhcnRzV2l0aCgndG9vbC0nKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIHN0YXRlOiB6LmxpdGVyYWwoJ291dHB1dC1lcnJvcicpLFxuICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgIG91dHB1dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgZXJyb3JUZXh0OiB6LnN0cmluZygpLFxuICAgIGNhbGxQcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuXTtcblxuY29uc3QgdWlNZXNzYWdlU2NoZW1hID0gei5vYmplY3Qoe1xuICBpZDogei5zdHJpbmcoKSxcbiAgcm9sZTogei5lbnVtKFsnc3lzdGVtJywgJ3VzZXInLCAnYXNzaXN0YW50J10pLFxuICBtZXRhZGF0YTogei51bmtub3duKCkub3B0aW9uYWwoKSxcbiAgcGFydHM6IHouYXJyYXkoXG4gICAgei51bmlvbihbXG4gICAgICB0ZXh0VUlQYXJ0U2NoZW1hLFxuICAgICAgcmVhc29uaW5nVUlQYXJ0U2NoZW1hLFxuICAgICAgc291cmNlVXJsVUlQYXJ0U2NoZW1hLFxuICAgICAgc291cmNlRG9jdW1lbnRVSVBhcnRTY2hlbWEsXG4gICAgICBmaWxlVUlQYXJ0U2NoZW1hLFxuICAgICAgc3RlcFN0YXJ0VUlQYXJ0U2NoZW1hLFxuICAgICAgZGF0YVVJUGFydFNjaGVtYSxcbiAgICAgIC4uLmR5bmFtaWNUb29sVUlQYXJ0U2NoZW1hcyxcbiAgICAgIC4uLnRvb2xVSVBhcnRTY2hlbWFzLFxuICAgIF0pLFxuICApLFxufSk7XG5cbi8qKlxuICogVmFsaWRhdGVzIGEgbGlzdCBvZiBVSSBtZXNzYWdlcy5cbiAqXG4gKiBNZXRhZGF0YSwgZGF0YSBwYXJ0cywgYW5kIGdlbmVyaWMgdG9vbCBjYWxsIHN0cnVjdHVyZXMgYXJlIG9ubHkgdmFsaWRhdGVkIGlmXG4gKiB0aGUgY29ycmVzcG9uZGluZyBzY2hlbWFzIGFyZSBwcm92aWRlZC4gT3RoZXJ3aXNlLCB0aGV5IGFyZSBhc3N1bWVkIHRvIGJlXG4gKiB2YWxpZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlVUlNZXNzYWdlczxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPih7XG4gIG1lc3NhZ2VzLFxuICBtZXRhZGF0YVNjaGVtYSxcbiAgZGF0YVNjaGVtYXMsXG4gIHRvb2xzLFxufToge1xuICBtZXNzYWdlczogdW5rbm93bjtcbiAgbWV0YWRhdGFTY2hlbWE/OlxuICAgIHwgVmFsaWRhdG9yPFVJTWVzc2FnZVsnbWV0YWRhdGEnXT5cbiAgICB8IFN0YW5kYXJkU2NoZW1hVjE8dW5rbm93biwgVUlfTUVTU0FHRVsnbWV0YWRhdGEnXT47XG4gIGRhdGFTY2hlbWFzPzoge1xuICAgIFtOQU1FIGluIGtleW9mIEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPiAmIHN0cmluZ10/OlxuICAgICAgfCBWYWxpZGF0b3I8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+W05BTUVdPlxuICAgICAgfCBTdGFuZGFyZFNjaGVtYVYxPHVua25vd24sIEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPltOQU1FXT47XG4gIH07XG4gIHRvb2xzPzoge1xuICAgIFtOQU1FIGluIGtleW9mIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4gJiBzdHJpbmddPzogVG9vbDxcbiAgICAgIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT5bTkFNRV1bJ2lucHV0J10sXG4gICAgICBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+W05BTUVdWydvdXRwdXQnXVxuICAgID47XG4gIH07XG59KTogUHJvbWlzZTxBcnJheTxVSV9NRVNTQUdFPj4ge1xuICBpZiAobWVzc2FnZXMgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICBwYXJhbWV0ZXI6ICdtZXNzYWdlcycsXG4gICAgICB2YWx1ZTogbWVzc2FnZXMsXG4gICAgICBtZXNzYWdlOiAnbWVzc2FnZXMgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQnLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgdmFsaWRhdGVkTWVzc2FnZXMgPSBhd2FpdCB2YWxpZGF0ZVR5cGVzKHtcbiAgICB2YWx1ZTogbWVzc2FnZXMsXG4gICAgc2NoZW1hOiB6LmFycmF5KHVpTWVzc2FnZVNjaGVtYSksXG4gIH0pO1xuXG4gIGlmIChtZXRhZGF0YVNjaGVtYSkge1xuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiB2YWxpZGF0ZWRNZXNzYWdlcykge1xuICAgICAgYXdhaXQgdmFsaWRhdGVUeXBlcyh7XG4gICAgICAgIHZhbHVlOiBtZXNzYWdlLm1ldGFkYXRhLFxuICAgICAgICBzY2hlbWE6IG1ldGFkYXRhU2NoZW1hLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGFTY2hlbWFzKSB7XG4gICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHZhbGlkYXRlZE1lc3NhZ2VzKSB7XG4gICAgICBjb25zdCBkYXRhUGFydHMgPSBtZXNzYWdlLnBhcnRzLmZpbHRlcihwYXJ0ID0+XG4gICAgICAgIHBhcnQudHlwZS5zdGFydHNXaXRoKCdkYXRhLScpLFxuICAgICAgKSBhcyBEYXRhVUlQYXJ0PEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPj5bXTtcblxuICAgICAgZm9yIChjb25zdCBkYXRhUGFydCBvZiBkYXRhUGFydHMpIHtcbiAgICAgICAgY29uc3QgZGF0YU5hbWUgPSBkYXRhUGFydC50eXBlLnNsaWNlKDUpO1xuICAgICAgICBjb25zdCBkYXRhU2NoZW1hID0gZGF0YVNjaGVtYXNbZGF0YU5hbWVdO1xuXG4gICAgICAgIGlmICghZGF0YVNjaGVtYSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlOiBkYXRhUGFydC5kYXRhLFxuICAgICAgICAgICAgY2F1c2U6IGBObyBkYXRhIHNjaGVtYSBmb3VuZCBmb3IgZGF0YSBwYXJ0ICR7ZGF0YU5hbWV9YCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHZhbGlkYXRlVHlwZXMoe1xuICAgICAgICAgIHZhbHVlOiBkYXRhUGFydC5kYXRhLFxuICAgICAgICAgIHNjaGVtYTogZGF0YVNjaGVtYSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHRvb2xzKSB7XG4gICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHZhbGlkYXRlZE1lc3NhZ2VzKSB7XG4gICAgICBjb25zdCB0b29sUGFydHMgPSBtZXNzYWdlLnBhcnRzLmZpbHRlcihwYXJ0ID0+XG4gICAgICAgIHBhcnQudHlwZS5zdGFydHNXaXRoKCd0b29sLScpLFxuICAgICAgKSBhcyBUb29sVUlQYXJ0PEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4+W107XG5cbiAgICAgIGZvciAoY29uc3QgdG9vbFBhcnQgb2YgdG9vbFBhcnRzKSB7XG4gICAgICAgIGNvbnN0IHRvb2xOYW1lID0gdG9vbFBhcnQudHlwZS5zbGljZSg1KTtcbiAgICAgICAgY29uc3QgdG9vbCA9IHRvb2xzW3Rvb2xOYW1lXTtcblxuICAgICAgICBpZiAoIXRvb2wpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZTogdG9vbFBhcnQuaW5wdXQsXG4gICAgICAgICAgICBjYXVzZTogYE5vIHRvb2wgc2NoZW1hIGZvdW5kIGZvciB0b29sIHBhcnQgJHt0b29sTmFtZX1gLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRvb2xQYXJ0LnN0YXRlID09PSAnaW5wdXQtYXZhaWxhYmxlJyB8fFxuICAgICAgICAgIHRvb2xQYXJ0LnN0YXRlID09PSAnb3V0cHV0LWF2YWlsYWJsZScgfHxcbiAgICAgICAgICB0b29sUGFydC5zdGF0ZSA9PT0gJ291dHB1dC1lcnJvcidcbiAgICAgICAgKSB7XG4gICAgICAgICAgYXdhaXQgdmFsaWRhdGVUeXBlcyh7XG4gICAgICAgICAgICB2YWx1ZTogdG9vbFBhcnQuaW5wdXQsXG4gICAgICAgICAgICBzY2hlbWE6IHRvb2wuaW5wdXRTY2hlbWEsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9vbFBhcnQuc3RhdGUgPT09ICdvdXRwdXQtYXZhaWxhYmxlJyAmJiB0b29sLm91dHB1dFNjaGVtYSkge1xuICAgICAgICAgIGF3YWl0IHZhbGlkYXRlVHlwZXMoe1xuICAgICAgICAgICAgdmFsdWU6IHRvb2xQYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgIHNjaGVtYTogdG9vbC5vdXRwdXRTY2hlbWEsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmFsaWRhdGVkTWVzc2FnZXMgYXMgQXJyYXk8VUlfTUVTU0FHRT47XG59XG4iLCAiaW1wb3J0IHtcbiAgZ2VuZXJhdGVJZCBhcyBnZW5lcmF0ZUlkRnVuYyxcbiAgZ2V0RXJyb3JNZXNzYWdlLFxuICBJZEdlbmVyYXRvcixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuLi91aS91aS1tZXNzYWdlcyc7XG5pbXBvcnQgeyBoYW5kbGVVSU1lc3NhZ2VTdHJlYW1GaW5pc2ggfSBmcm9tICcuL2hhbmRsZS11aS1tZXNzYWdlLXN0cmVhbS1maW5pc2gnO1xuaW1wb3J0IHsgSW5mZXJVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgVUlNZXNzYWdlU3RyZWFtT25GaW5pc2hDYWxsYmFjayB9IGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0tb24tZmluaXNoLWNhbGxiYWNrJztcbmltcG9ydCB7IFVJTWVzc2FnZVN0cmVhbVdyaXRlciB9IGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0td3JpdGVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVJTWVzc2FnZVN0cmVhbTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPih7XG4gIGV4ZWN1dGUsXG4gIG9uRXJyb3IgPSBnZXRFcnJvck1lc3NhZ2UsXG4gIG9yaWdpbmFsTWVzc2FnZXMsXG4gIG9uRmluaXNoLFxuICBnZW5lcmF0ZUlkID0gZ2VuZXJhdGVJZEZ1bmMsXG59OiB7XG4gIGV4ZWN1dGU6IChvcHRpb25zOiB7XG4gICAgd3JpdGVyOiBVSU1lc3NhZ2VTdHJlYW1Xcml0ZXI8VUlfTUVTU0FHRT47XG4gIH0pID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xuICBvbkVycm9yPzogKGVycm9yOiB1bmtub3duKSA9PiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvcmlnaW5hbCBtZXNzYWdlcy4gSWYgdGhleSBhcmUgcHJvdmlkZWQsIHBlcnNpc3RlbmNlIG1vZGUgaXMgYXNzdW1lZCxcbiAgICogYW5kIGEgbWVzc2FnZSBJRCBpcyBwcm92aWRlZCBmb3IgdGhlIHJlc3BvbnNlIG1lc3NhZ2UuXG4gICAqL1xuICBvcmlnaW5hbE1lc3NhZ2VzPzogVUlfTUVTU0FHRVtdO1xuXG4gIG9uRmluaXNoPzogVUlNZXNzYWdlU3RyZWFtT25GaW5pc2hDYWxsYmFjazxVSV9NRVNTQUdFPjtcblxuICBnZW5lcmF0ZUlkPzogSWRHZW5lcmF0b3I7XG59KTogUmVhZGFibGVTdHJlYW08SW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPj4ge1xuICBsZXQgY29udHJvbGxlciE6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8XG4gICAgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPlxuICA+O1xuXG4gIGNvbnN0IG9uZ29pbmdTdHJlYW1Qcm9taXNlczogUHJvbWlzZTx2b2lkPltdID0gW107XG5cbiAgY29uc3Qgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICBzdGFydChjb250cm9sbGVyQXJnKSB7XG4gICAgICBjb250cm9sbGVyID0gY29udHJvbGxlckFyZztcbiAgICB9LFxuICB9KTtcblxuICBmdW5jdGlvbiBzYWZlRW5xdWV1ZShkYXRhOiBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gc3VwcHJlc3MgZXJyb3JzIHdoZW4gdGhlIHN0cmVhbSBoYXMgYmVlbiBjbG9zZWRcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGV4ZWN1dGUoe1xuICAgICAgd3JpdGVyOiB7XG4gICAgICAgIHdyaXRlKHBhcnQ6IEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4pIHtcbiAgICAgICAgICBzYWZlRW5xdWV1ZShwYXJ0KTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVyZ2Uoc3RyZWFtQXJnKSB7XG4gICAgICAgICAgb25nb2luZ1N0cmVhbVByb21pc2VzLnB1c2goXG4gICAgICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCByZWFkZXIgPSBzdHJlYW1BcmcuZ2V0UmVhZGVyKCk7XG4gICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgc2FmZUVucXVldWUodmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgc2FmZUVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBvbkVycm9yKGVycm9yKSxcbiAgICAgICAgICAgICAgfSBhcyBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+KTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3IsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgb25nb2luZ1N0cmVhbVByb21pc2VzLnB1c2goXG4gICAgICAgIHJlc3VsdC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgc2FmZUVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgIGVycm9yVGV4dDogb25FcnJvcihlcnJvciksXG4gICAgICAgICAgfSBhcyBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+KTtcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBzYWZlRW5xdWV1ZSh7XG4gICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgZXJyb3JUZXh0OiBvbkVycm9yKGVycm9yKSxcbiAgICB9IGFzIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4pO1xuICB9XG5cbiAgLy8gV2FpdCB1bnRpbCBhbGwgb25nb2luZyBzdHJlYW1zIGFyZSBkb25lLiBUaGlzIGFwcHJvYWNoIGVuYWJsZXMgbWVyZ2luZ1xuICAvLyBzdHJlYW1zIGV2ZW4gYWZ0ZXIgZXhlY3V0ZSBoYXMgcmV0dXJuZWQsIGFzIGxvbmcgYXMgdGhlcmUgaXMgc3RpbGwgYW5cbiAgLy8gb3BlbiBtZXJnZWQgc3RyZWFtLiBUaGlzIGlzIGltcG9ydGFudCB0byBlLmcuIGZvcndhcmQgbmV3IHN0cmVhbXMgYW5kXG4gIC8vIGZyb20gY2FsbGJhY2tzLlxuICBjb25zdCB3YWl0Rm9yU3RyZWFtczogUHJvbWlzZTx2b2lkPiA9IG5ldyBQcm9taXNlKGFzeW5jIHJlc29sdmUgPT4ge1xuICAgIHdoaWxlIChvbmdvaW5nU3RyZWFtUHJvbWlzZXMubGVuZ3RoID4gMCkge1xuICAgICAgYXdhaXQgb25nb2luZ1N0cmVhbVByb21pc2VzLnNoaWZ0KCk7XG4gICAgfVxuICAgIHJlc29sdmUoKTtcbiAgfSk7XG5cbiAgd2FpdEZvclN0cmVhbXMuZmluYWxseSgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gc3VwcHJlc3MgZXJyb3JzIHdoZW4gdGhlIHN0cmVhbSBoYXMgYmVlbiBjbG9zZWRcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBoYW5kbGVVSU1lc3NhZ2VTdHJlYW1GaW5pc2g8VUlfTUVTU0FHRT4oe1xuICAgIHN0cmVhbSxcbiAgICBtZXNzYWdlSWQ6IGdlbmVyYXRlSWQoKSxcbiAgICBvcmlnaW5hbE1lc3NhZ2VzLFxuICAgIG9uRmluaXNoLFxuICAgIG9uRXJyb3IsXG4gIH0pO1xufVxuIiwgImltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcbmltcG9ydCB7IFVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQge1xuICBjcmVhdGVTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZSxcbiAgcHJvY2Vzc1VJTWVzc2FnZVN0cmVhbSxcbiAgU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGUsXG59IGZyb20gJy4uL3VpL3Byb2Nlc3MtdWktbWVzc2FnZS1zdHJlYW0nO1xuaW1wb3J0IHtcbiAgQXN5bmNJdGVyYWJsZVN0cmVhbSxcbiAgY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbSxcbn0gZnJvbSAnLi4vdXRpbC9hc3luYy1pdGVyYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgY29uc3VtZVN0cmVhbSB9IGZyb20gJy4uL3V0aWwvY29uc3VtZS1zdHJlYW0nO1xuXG4vKipcbiAqIFRyYW5zZm9ybXMgYSBzdHJlYW0gb2YgYFVJTWVzc2FnZUNodW5rYHMgaW50byBhbiBgQXN5bmNJdGVyYWJsZVN0cmVhbWAgb2YgYFVJTWVzc2FnZWBzLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2UgLSBUaGUgbGFzdCBhc3Npc3RhbnQgbWVzc2FnZSB0byB1c2UgYXMgYSBzdGFydGluZyBwb2ludCB3aGVuIHRoZSBjb252ZXJzYXRpb24gaXMgcmVzdW1lZC4gT3RoZXJ3aXNlIHVuZGVmaW5lZC5cbiAqIEBwYXJhbSBvcHRpb25zLnN0cmVhbSAtIFRoZSBzdHJlYW0gb2YgYFVJTWVzc2FnZUNodW5rYHMgdG8gcmVhZC5cbiAqIEBwYXJhbSBvcHRpb25zLnRlcm1pbmF0ZU9uRXJyb3IgLSBXaGV0aGVyIHRvIHRlcm1pbmF0ZSB0aGUgc3RyZWFtIGlmIGFuIGVycm9yIG9jY3Vycy5cbiAqIEBwYXJhbSBvcHRpb25zLm9uRXJyb3IgLSBBIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzLlxuICpcbiAqIEByZXR1cm5zIEFuIGBBc3luY0l0ZXJhYmxlU3RyZWFtYCBvZiBgVUlNZXNzYWdlYHMuIEVhY2ggc3RyZWFtIHBhcnQgaXMgYSBkaWZmZXJlbnQgc3RhdGUgb2YgdGhlIHNhbWUgbWVzc2FnZVxuICogYXMgaXQgaXMgYmVpbmcgY29tcGxldGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZFVJTWVzc2FnZVN0cmVhbTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPih7XG4gIG1lc3NhZ2UsXG4gIHN0cmVhbSxcbiAgb25FcnJvcixcbiAgdGVybWluYXRlT25FcnJvciA9IGZhbHNlLFxufToge1xuICBtZXNzYWdlPzogVUlfTUVTU0FHRTtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz47XG4gIG9uRXJyb3I/OiAoZXJyb3I6IHVua25vd24pID0+IHZvaWQ7XG4gIHRlcm1pbmF0ZU9uRXJyb3I/OiBib29sZWFuO1xufSk6IEFzeW5jSXRlcmFibGVTdHJlYW08VUlfTUVTU0FHRT4ge1xuICBsZXQgY29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxVSV9NRVNTQUdFPiB8IHVuZGVmaW5lZDtcbiAgbGV0IGhhc0Vycm9yZWQgPSBmYWxzZTtcblxuICBjb25zdCBvdXRwdXRTdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW08VUlfTUVTU0FHRT4oe1xuICAgIHN0YXJ0KGNvbnRyb2xsZXJQYXJhbSkge1xuICAgICAgY29udHJvbGxlciA9IGNvbnRyb2xsZXJQYXJhbTtcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBzdGF0ZSA9IGNyZWF0ZVN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0U+KHtcbiAgICBtZXNzYWdlSWQ6IG1lc3NhZ2U/LmlkID8/ICcnLFxuICAgIGxhc3RNZXNzYWdlOiBtZXNzYWdlLFxuICB9KTtcblxuICBjb25zdCBoYW5kbGVFcnJvciA9IChlcnJvcjogdW5rbm93bikgPT4ge1xuICAgIG9uRXJyb3I/LihlcnJvcik7XG5cbiAgICBpZiAoIWhhc0Vycm9yZWQgJiYgdGVybWluYXRlT25FcnJvcikge1xuICAgICAgaGFzRXJyb3JlZCA9IHRydWU7XG4gICAgICBjb250cm9sbGVyPy5lcnJvcihlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN1bWVTdHJlYW0oe1xuICAgIHN0cmVhbTogcHJvY2Vzc1VJTWVzc2FnZVN0cmVhbSh7XG4gICAgICBzdHJlYW0sXG4gICAgICBydW5VcGRhdGVNZXNzYWdlSm9iKFxuICAgICAgICBqb2I6IChvcHRpb25zOiB7XG4gICAgICAgICAgc3RhdGU6IFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0U+O1xuICAgICAgICAgIHdyaXRlOiAoKSA9PiB2b2lkO1xuICAgICAgICB9KSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBqb2Ioe1xuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIHdyaXRlOiAoKSA9PiB7XG4gICAgICAgICAgICBjb250cm9sbGVyPy5lbnF1ZXVlKHN0cnVjdHVyZWRDbG9uZShzdGF0ZS5tZXNzYWdlKSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgb25FcnJvcjogaGFuZGxlRXJyb3IsXG4gICAgfSksXG4gICAgb25FcnJvcjogaGFuZGxlRXJyb3IsXG4gIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgIC8vIE9ubHkgY2xvc2UgaWYgbm8gZXJyb3Igb2NjdXJyZWQuIENhbGxpbmcgY2xvc2UoKSBvbiBhbiBlcnJvcmVkIGNvbnRyb2xsZXJcbiAgICAvLyB0aHJvd3MgXCJJbnZhbGlkIHN0YXRlOiBDb250cm9sbGVyIGlzIGFscmVhZHkgY2xvc2VkXCIgVHlwZUVycm9yLlxuICAgIGlmICghaGFzRXJyb3JlZCkge1xuICAgICAgY29udHJvbGxlcj8uY2xvc2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKG91dHB1dFN0cmVhbSk7XG59XG4iLCAiaW1wb3J0IGUgZnJvbVwidXRpbFwiO2NvbnN0IHQ9T2JqZWN0LmZyZWV6ZSh7ZmluZChlKXt0aHJvdyBFcnJvcihgTm90IGltcGxlbWVudGVkYCl9LGNyZWF0ZShlKXt0aHJvdyBFcnJvcihgTm90IGltcGxlbWVudGVkYCl9LG1lc3NhZ2UoZSx0LG4pe3Rocm93IEVycm9yKGBOb3QgaW1wbGVtZW50ZWRgKX19KTtmdW5jdGlvbiBuKGUpe3JldHVybnt2ZXJzaW9uOmB2MGAsbWV0YWRhdGE6e2Rpc3BsYXlOYW1lOmUuZGlzcGxheU5hbWUsZGVzY3JpcHRpb246ZS5kZXNjcmlwdGlvbn0sZmV0Y2g6YXN5bmMgdD0+e2xldCBuPW5ldyBVUkwodC51cmwpO3N3aXRjaChuLnBhdGhuYW1lKXtjYXNlYC9zZW5kTWVzc2FnZXNgOnJldHVybiBpKHQsZSk7Y2FzZWAvd2ViaG9va2A6cmV0dXJuIGEodCxlKTtkZWZhdWx0OnJldHVybiBuZXcgUmVzcG9uc2UoYE5vdCBmb3VuZGAse3N0YXR1czo0MDR9KX19fX1sZXQgcjthc3luYyBmdW5jdGlvbiBpKHQsbil7aWYodC5tZXRob2QhPT1gUE9TVGApcmV0dXJuIG5ldyBSZXNwb25zZShgTWV0aG9kIG5vdCBhbGxvd2VkYCx7c3RhdHVzOjQwNX0pO2xldCBpO3RyeXtpPWF3YWl0IHQuanNvbigpfWNhdGNoe3JldHVybiBuZXcgUmVzcG9uc2UoYEludmFsaWQgcmVxdWVzdGAse3N0YXR1czo0MDB9KX1sZXQgYTt0cnl7YT1hd2FpdCBuLnNlbmRNZXNzYWdlcyh7bWVzc2FnZXM6aS5tZXNzYWdlc30pfWNhdGNoKHQpe3JldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoe2Vycm9yOmUuaW5zcGVjdCh0KX0pLHtzdGF0dXM6NTAwfSl9aWYoYSBpbnN0YW5jZW9mIFJlc3BvbnNlKXJldHVybiBhO2lmKGEgaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbSlyZXR1cm4gbmV3IFJlc3BvbnNlKGEse2hlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6YHRleHQvZXZlbnQtc3RyZWFtYH19KTtpZih0eXBlb2YgYSE9YG9iamVjdGB8fHR5cGVvZiBhPT1gb2JqZWN0YCYmIShgdG9VSU1lc3NhZ2VTdHJlYW1gaW4gYSkpdGhyb3cgRXJyb3IoYFRoZSBhZ2VudCBtdXN0IHJldHVybiBhIFwiUmVzcG9uc2VcIiwgXCJSZWFkYWJsZVN0cmVhbVwiLCBvciBcInRvVUlNZXNzYWdlU3RyZWFtXCIgZnVuY3Rpb24uYCk7cnx8PW5ldyBUZXh0RW5jb2RlcjtsZXQgbz1uZXcgVHJhbnNmb3JtU3RyZWFtKHt0cmFuc2Zvcm0oZSx0KXt0LmVucXVldWUoci5lbmNvZGUoYGRhdGE6ICR7SlNPTi5zdHJpbmdpZnkoZSl9XFxuXFxuYCkpfX0pLHM9YS50b1VJTWVzc2FnZVN0cmVhbSgpO3JldHVybiBzLnBpcGVUbyhvLndyaXRhYmxlKSxuZXcgUmVzcG9uc2Uoby5yZWFkYWJsZSx7aGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpgdGV4dC9ldmVudC1zdHJlYW1gfX0pfWFzeW5jIGZ1bmN0aW9uIGEodCxuKXtpZighbi53ZWJob29rKXJldHVybiBuZXcgUmVzcG9uc2UoYE5vIHdlYmhvb2sgZnVuY3Rpb24gcHJvdmlkZWRgLHtzdGF0dXM6NTAxfSk7dHJ5e2xldCBlPWF3YWl0IG4ud2ViaG9vayh0KTtyZXR1cm4gZXx8bmV3IFJlc3BvbnNlKGBPS2Ase3N0YXR1czoyMDB9KX1jYXRjaCh0KXtyZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHtlcnJvcjplLmluc3BlY3QodCl9KSx7c3RhdHVzOjUwMH0pfX1jb25zdCBvPWB4LWJsaW5rLXN0cmVhbS1yZXNwb25zZS1mb3JtYXRgO2Z1bmN0aW9uIHMoZSx0KXtyZXR1cm4gZS5oZWFkZXJzLnNldChvLHQpLGV9ZXhwb3J0e28gYXMgU3RyZWFtUmVzcG9uc2VGb3JtYXRIZWFkZXIsbiBhcyBhZ2VudCx0IGFzIGNoYXQscyBhcyB3aXRoUmVzcG9uc2VGb3JtYXR9OyIsICIvLyBFU00gd3JhcHBlciBmb3IgcGdcbmltcG9ydCBwZyBmcm9tICcuLi9saWIvaW5kZXguanMnXG5cbi8vIFJlLWV4cG9ydCBhbGwgdGhlIHByb3BlcnRpZXNcbmV4cG9ydCBjb25zdCBDbGllbnQgPSBwZy5DbGllbnRcbmV4cG9ydCBjb25zdCBQb29sID0gcGcuUG9vbFxuZXhwb3J0IGNvbnN0IENvbm5lY3Rpb24gPSBwZy5Db25uZWN0aW9uXG5leHBvcnQgY29uc3QgdHlwZXMgPSBwZy50eXBlc1xuZXhwb3J0IGNvbnN0IFF1ZXJ5ID0gcGcuUXVlcnlcbmV4cG9ydCBjb25zdCBEYXRhYmFzZUVycm9yID0gcGcuRGF0YWJhc2VFcnJvclxuZXhwb3J0IGNvbnN0IGVzY2FwZUlkZW50aWZpZXIgPSBwZy5lc2NhcGVJZGVudGlmaWVyXG5leHBvcnQgY29uc3QgZXNjYXBlTGl0ZXJhbCA9IHBnLmVzY2FwZUxpdGVyYWxcbmV4cG9ydCBjb25zdCBSZXN1bHQgPSBwZy5SZXN1bHRcbmV4cG9ydCBjb25zdCBUeXBlT3ZlcnJpZGVzID0gcGcuVHlwZU92ZXJyaWRlc1xuXG4vLyBBbHNvIGV4cG9ydCB0aGUgZGVmYXVsdHNcbmV4cG9ydCBjb25zdCBkZWZhdWx0cyA9IHBnLmRlZmF1bHRzXG5cbi8vIFJlLWV4cG9ydCB0aGUgZGVmYXVsdFxuZXhwb3J0IGRlZmF1bHQgcGdcbiIsICJpbXBvcnQgeyBQb29sIH0gZnJvbSBcInBnXCI7XG5cbmxldCBwb29sOiBQb29sIHwgbnVsbCA9IG51bGw7XG5cbmZ1bmN0aW9uIGdldFBvb2woKSB7XG4gIGlmICghcG9vbCkge1xuICAgIGNvbnN0IGNvbm5lY3Rpb25TdHJpbmcgPSBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkw7XG4gICAgaWYgKCFjb25uZWN0aW9uU3RyaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiREFUQUJBU0VfVVJMIGlzIHJlcXVpcmVkLiBTZXQgaXQgdG8geW91ciBOZW9uIGNvbm5lY3Rpb24gc3RyaW5nIGJlZm9yZSBzdGFydGluZyB0aGUgYWdlbnQuXCIsXG4gICAgICApO1xuICAgIH1cbiAgICBwb29sID0gbmV3IFBvb2woe1xuICAgICAgY29ubmVjdGlvblN0cmluZyxcbiAgICAgIHNzbDogeyByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlIH0sXG4gICAgICBtYXg6IDUsXG4gICAgICBpZGxlVGltZW91dE1pbGxpczogMTBfMDAwLFxuICAgICAgY29ubmVjdGlvblRpbWVvdXRNaWxsaXM6IDEwXzAwMCxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcG9vbDtcbn1cblxuZXhwb3J0IHR5cGUgQ29sdW1uID0ge1xuICB0YWJsZTogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRhdGFUeXBlOiBzdHJpbmc7XG4gIGlzTnVsbGFibGU6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBJbmRleCA9IHtcbiAgdGFibGU6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZWZpbml0aW9uOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBTY2hlbWFJbmZvID0ge1xuICBjb2x1bW5zOiBDb2x1bW5bXTtcbiAgaW5kZXhlczogSW5kZXhbXTtcbiAgc3VtbWFyeTogc3RyaW5nO1xufTtcblxuY29uc3QgS05PV05fU0NIRU1BX1NVTU1BUlkgPSBgXG5UYWJsZXM6XG5cbjEpIGZpZWxkX2NoYW5nZXMgKGFwcGVuZC1vbmx5KVxuICAtIGlkIEJJR1NFUklBTCBQUklNQVJZIEtFWVxuICAtIHByb2plY3Rfbm9kZV9pZCBURVhUIE5PVCBOVUxMXG4gIC0gcHJvamVjdF9uYW1lIFRFWFRcbiAgLSBpdGVtX25vZGVfaWQgVEVYVCBOT1QgTlVMTFxuICAtIGNvbnRlbnRfbm9kZV9pZCBURVhUXG4gIC0gY29udGVudF90eXBlIFRFWFRcbiAgLSBjb250ZW50X3RpdGxlIFRFWFRcbiAgLSBjb250ZW50X3VybCBURVhUXG4gIC0gcmVwb3NpdG9yeV9uYW1lIFRFWFRcbiAgLSBmaWVsZF9uYW1lIFRFWFQgTk9UIE5VTExcbiAgLSBmaWVsZF90eXBlIFRFWFQgTk9UIE5VTExcbiAgLSBvbGRfdmFsdWUgSlNPTkJcbiAgLSBuZXdfdmFsdWUgSlNPTkJcbiAgLSBjaGFuZ2VkX2F0IFRJTUVTVEFNUFRaIE5PVCBOVUxMXG4gIC0gZGV0ZWN0ZWRfYXQgVElNRVNUQU1QVFogREVGQVVMVCBOT1coKVxuICAtIGFjdG9yX2xvZ2luIFRFWFRcbiAgLSBVTklRVUUoaXRlbV9ub2RlX2lkLCBmaWVsZF9uYW1lLCBjaGFuZ2VkX2F0KVxuICBJbmRleGVzOiBwcm9qZWN0X25vZGVfaWQsIHByb2plY3RfbmFtZSwgcmVwb3NpdG9yeV9uYW1lLCBpdGVtX25vZGVfaWQsIGNoYW5nZWRfYXRcblxuMikgY3VycmVudF9maWVsZF92YWx1ZXMgKGN1cnJlbnQgc25hcHNob3QpXG4gIC0gcHJvamVjdF9ub2RlX2lkIFRFWFQgTk9UIE5VTExcbiAgLSBwcm9qZWN0X25hbWUgVEVYVFxuICAtIGl0ZW1fbm9kZV9pZCBURVhUIE5PVCBOVUxMXG4gIC0gY29udGVudF9ub2RlX2lkIFRFWFRcbiAgLSBjb250ZW50X3R5cGUgVEVYVFxuICAtIGNvbnRlbnRfdGl0bGUgVEVYVFxuICAtIGNvbnRlbnRfdXJsIFRFWFRcbiAgLSByZXBvc2l0b3J5X25hbWUgVEVYVFxuICAtIGZpZWxkX25hbWUgVEVYVCBOT1QgTlVMTFxuICAtIGZpZWxkX3R5cGUgVEVYVCBOT1QgTlVMTFxuICAtIGZpZWxkX3ZhbHVlIEpTT05CXG4gIC0gdXBkYXRlZF9hdCBUSU1FU1RBTVBUWiBERUZBVUxUIE5PVygpXG4gIC0gUFJJTUFSWSBLRVkgKGl0ZW1fbm9kZV9pZCwgZmllbGRfbmFtZSlcbiAgSW5kZXhlczogcHJvamVjdF9ub2RlX2lkLCBwcm9qZWN0X25hbWUsIHJlcG9zaXRvcnlfbmFtZVxuXG5Vc2FnZSBwYXR0ZXJuczpcbi0gXCJXaGF0J3MgbmV3IC8gd2hhdCBjaGFuZ2VkXCIgXHUyMTkyIHF1ZXJ5IGZpZWxkX2NoYW5nZXMgZmlsdGVyZWQgYnkgcHJvamVjdF9uYW1lIChvciBwcm9qZWN0X25vZGVfaWQpIHdpdGggY2hhbmdlZF9hdCA+PSBub3coKSAtIGludGVydmFsICc3IGRheXMnLlxuLSBcIkN1cnJlbnQgc3RhdGVcIiBcdTIxOTIgcXVlcnkgY3VycmVudF9maWVsZF92YWx1ZXMgZmlsdGVyZWQgYnkgcHJvamVjdF9uYW1lIChvciBwcm9qZWN0X25vZGVfaWQpLlxuLSBDb21tb24gZmlsdGVyczogcmVwb3NpdG9yeV9uYW1lLCBmaWVsZF9uYW1lIChlLmcuIFN0YXR1cyksIGFjdG9yX2xvZ2luLCBjb250ZW50X3R5cGUuXG5gO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2NoZW1hKCk6IFByb21pc2U8U2NoZW1hSW5mbz4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBnZXRQb29sKCkuY29ubmVjdCgpO1xuICB0cnkge1xuICAgIGF3YWl0IGNsaWVudC5xdWVyeShcIkJFR0lOIFJFQUQgT05MWVwiKTtcblxuICAgIGNvbnN0IGNvbFJlcyA9IGF3YWl0IGNsaWVudC5xdWVyeShcbiAgICAgIGBzZWxlY3QgYy50YWJsZV9uYW1lIGFzIHRhYmxlLCBjLmNvbHVtbl9uYW1lIGFzIG5hbWUsIGMuZGF0YV90eXBlIGFzIFwiZGF0YVR5cGVcIiwgKGMuaXNfbnVsbGFibGUgPSAnWUVTJykgYXMgXCJpc051bGxhYmxlXCJcbiAgICAgICBmcm9tIGluZm9ybWF0aW9uX3NjaGVtYS5jb2x1bW5zIGNcbiAgICAgICB3aGVyZSBjLnRhYmxlX3NjaGVtYSA9ICdwdWJsaWMnIGFuZCBjLnRhYmxlX25hbWUgaW4gKCdmaWVsZF9jaGFuZ2VzJywnY3VycmVudF9maWVsZF92YWx1ZXMnKVxuICAgICAgIG9yZGVyIGJ5IGMudGFibGVfbmFtZSwgYy5vcmRpbmFsX3Bvc2l0aW9uYCxcbiAgICApO1xuXG4gICAgY29uc3QgaWR4UmVzID0gYXdhaXQgY2xpZW50LnF1ZXJ5KFxuICAgICAgYHNlbGVjdCB0YWJsZW5hbWUgYXMgdGFibGUsIGluZGV4bmFtZSBhcyBuYW1lLCBpbmRleGRlZiBhcyBkZWZpbml0aW9uXG4gICAgICAgZnJvbSBwZ19pbmRleGVzXG4gICAgICAgd2hlcmUgc2NoZW1hbmFtZSA9ICdwdWJsaWMnIGFuZCB0YWJsZW5hbWUgaW4gKCdmaWVsZF9jaGFuZ2VzJywnY3VycmVudF9maWVsZF92YWx1ZXMnKVxuICAgICAgIG9yZGVyIGJ5IHRhYmxlbmFtZSwgaW5kZXhuYW1lYCxcbiAgICApO1xuXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KFwiQ09NTUlUXCIpO1xuXG4gICAgY29uc3QgY29sdW1ucyA9IGNvbFJlcy5yb3dzIGFzIENvbHVtbltdO1xuICAgIGNvbnN0IGluZGV4ZXMgPSBpZHhSZXMucm93cyBhcyBJbmRleFtdO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbHVtbnMsXG4gICAgICBpbmRleGVzLFxuICAgICAgc3VtbWFyeTogS05PV05fU0NIRU1BX1NVTU1BUlksXG4gICAgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJST0xMQkFDS1wiKTtcbiAgICB9IGNhdGNoIHt9XG4gICAgdGhyb3cgZTtcbiAgfSBmaW5hbGx5IHtcbiAgICBjbGllbnQucmVsZWFzZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVNlbGVjdE9ubHkoc3FsOiBzdHJpbmcpIHtcbiAgY29uc3QgcyA9IHNxbC50cmltKCk7XG4gIC8vIERpc2FsbG93IG11bHRpcGxlIHN0YXRlbWVudHNcbiAgaWYgKHMuc3BsaXQoXCI7XCIpLmZpbHRlcihCb29sZWFuKS5sZW5ndGggPiAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBhIHNpbmdsZSBTRUxFQ1Qgc3RhdGVtZW50IGlzIGFsbG93ZWQuXCIpO1xuICB9XG4gIC8vIFJlbW92ZSB0cmFpbGluZyBzZW1pY29sb25cbiAgY29uc3Qgbm9TZW1pID0gcy5lbmRzV2l0aChcIjtcIikgPyBzLnNsaWNlKDAsIC0xKSA6IHM7XG4gIGNvbnN0IGhlYWQgPSBub1NlbWkudHJpbSgpLnNsaWNlKDAsIDIwKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoIShoZWFkLnN0YXJ0c1dpdGgoXCJzZWxlY3RcIikgfHwgaGVhZC5zdGFydHNXaXRoKFwid2l0aFwiKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IFNFTEVDVCBxdWVyaWVzIGFyZSBhbGxvd2VkLlwiKTtcbiAgfVxuICAvLyBCbG9jayB3cml0ZS9kZGwga2V5d29yZHNcbiAgY29uc3QgZm9yYmlkZGVuID1cbiAgICAvKGluc2VydHx1cGRhdGV8ZGVsZXRlfGFsdGVyfGRyb3B8Y3JlYXRlfHRydW5jYXRlfGdyYW50fHJldm9rZXx2YWN1dW18YW5hbHl6ZXxyZWluZGV4KVxcYi9pO1xuICBpZiAoZm9yYmlkZGVuLnRlc3Qobm9TZW1pKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiUXVlcnkgY29udGFpbnMgZm9yYmlkZGVuIGtleXdvcmRzLiBSZWFkLW9ubHkgU0VMRUNUcyBvbmx5LlwiLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG5vU2VtaTtcbn1cblxuZXhwb3J0IHR5cGUgUXVlcnlJbnB1dCA9IHtcbiAgc3FsOiBzdHJpbmc7XG4gIHBhcmFtcz86IHVua25vd25bXTtcbiAgbGltaXQ/OiBudW1iZXI7IC8vIGRlZmF1bHQgMjAwLCBtYXggMjAwMFxuICBvZmZzZXQ/OiBudW1iZXI7IC8vIGRlZmF1bHQgMFxuICB0aW1lb3V0TXM/OiBudW1iZXI7IC8vIGRlZmF1bHQgMTUwMDBcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5RdWVyeSh7XG4gIHNxbCxcbiAgcGFyYW1zID0gW10sXG4gIGxpbWl0ID0gMjAwLFxuICBvZmZzZXQgPSAwLFxuICB0aW1lb3V0TXMgPSAxNTAwMCxcbn06IFF1ZXJ5SW5wdXQpIHtcbiAgY29uc3Qgc2FmZVNxbCA9IGVuc3VyZVNlbGVjdE9ubHkoc3FsKTtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgZ2V0UG9vbCgpLmNvbm5lY3QoKTtcbiAgY29uc3QgY2xhbXBlZExpbWl0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obGltaXQgPz8gMjAwLCAyMDAwKSk7XG4gIGNvbnN0IGNsYW1wZWRPZmZzZXQgPSBNYXRoLm1heCgwLCBvZmZzZXQgPz8gMCk7XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJCRUdJTiBSRUFEIE9OTFlcIik7XG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KFxuICAgICAgYFNFVCBMT0NBTCBzdGF0ZW1lbnRfdGltZW91dCBUTyAnJHtNYXRoLm1heCgxMDAwLCBNYXRoLm1pbih0aW1lb3V0TXMsIDYwMDAwKSl9bXMnYCxcbiAgICApO1xuXG4gICAgLy8gV3JhcCB0aGUgcXVlcnkgdG8gZW5mb3JjZSBsaW1pdC9vZmZzZXQgd2l0aG91dCB0cnlpbmcgdG8gcGFyc2UgdGhlIFNRTFxuICAgIGNvbnN0IHdyYXBwZWQgPSBgc2VsZWN0ICogZnJvbSAoICR7c2FmZVNxbH0gKSBhcyB0IGxpbWl0ICQke3BhcmFtcy5sZW5ndGggKyAxfSBvZmZzZXQgJCR7cGFyYW1zLmxlbmd0aCArIDJ9YDtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBjbGllbnQucXVlcnkoe1xuICAgICAgdGV4dDogd3JhcHBlZCxcbiAgICAgIHZhbHVlczogWy4uLnBhcmFtcywgY2xhbXBlZExpbWl0LCBjbGFtcGVkT2Zmc2V0XSxcbiAgICB9KTtcblxuICAgIGF3YWl0IGNsaWVudC5xdWVyeShcIkNPTU1JVFwiKTtcblxuICAgIHJldHVybiB7XG4gICAgICByb3dDb3VudDogcmVzLnJvd0NvdW50LFxuICAgICAgcm93czogcmVzLnJvd3MsXG4gICAgICBhcHBsaWVkTGltaXQ6IGNsYW1wZWRMaW1pdCxcbiAgICAgIGFwcGxpZWRPZmZzZXQ6IGNsYW1wZWRPZmZzZXQsXG4gICAgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJST0xMQkFDS1wiKTtcbiAgICB9IGNhdGNoIHt9XG4gICAgdGhyb3cgZTtcbiAgfSBmaW5hbGx5IHtcbiAgICBjbGllbnQucmVsZWFzZSgpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgZXhpc3RzU3luYywgcmVhZEZpbGVTeW5jIH0gZnJvbSBcImZzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFN5c3RlbVByb21wdCgpOiBzdHJpbmcge1xuICBjb25zdCBiYXNlID0gYFlvdSBhcmUgYW4gYWdlbnQgdGhhdCBhbnN3ZXJzIHF1ZXN0aW9ucyBhYm91dCBHaXRIdWIgUHJvamVjdHMgdXNpbmcgYSBOZW9uIFBvc3RncmVzIGRhdGFiYXNlIGFjY2Vzc2VkIHZpYSB0b29scyBkYl9zY2hlbWEgYW5kIGRiX3F1ZXJ5LlxcblxcblRvb2wgdXNhZ2UgY29udHJhY3RcXG4tIFRvb2xzIGF2YWlsYWJsZTogZGJfc2NoZW1hLCBkYl9xdWVyeVxcbi0gWW91IG11c3QgY2FsbCB0b29scyB1c2luZyBleGFjdGx5IHRoZXNlIG5hbWVzLiBEbyBub3QgYWRkIHN1ZmZpeGVzIG9yIHByZWZpeGVzIChlLmcuLCBkbyBub3QgdXNlIFwiZGJfcXVlcnk8fGNvbnN0cmFpbnw+anNvblwiIG9yIHZhcmlhbnRzKS4gSWYgeW91IGludGVuZCB0byBjYWxsIGRiX3F1ZXJ5LCB0aGUgdG9vbCBuYW1lIG11c3QgYmUgZXhhY3RseSBkYl9xdWVyeS5cXG4tIFByb3ZpZGUgdG9vbCBpbnB1dHMgdGhhdCBjb25mb3JtIHRvIHRoZSBkZWNsYXJlZCBKU09OIHNjaGVtYS5cXG5cXG5PcGVyYXRpbmcgcHJpbmNpcGxlc1xcbi0gUHJlZmVyIGZpbHRlcmluZyBieSBwcm9qZWN0X25hbWUgKHVzZXJzIGtub3cgbmFtZXMvVVJMcywgbm90IG5vZGUgSURzKS5cbi0gRGVmYXVsdCBsb29rYmFjayB3aW5kb3cgZm9yIFwid2hhdCdzIG5ld1wiIG9yIFwid2hhdCBjaGFuZ2VkXCIgaXMgdGhlIGxhc3QgNyBkYXlzIHVubGVzcyB0aGUgdXNlciBzcGVjaWZpZXMgb3RoZXJ3aXNlLlxuLSBXaGVuIHVuY2VydGFpbiwgY2FsbCBkYl9zY2hlbWEgdG8gcmVmcmVzaCB5b3VyIHVuZGVyc3RhbmRpbmcgb2YgdGhlIHNjaGVtYSwgdGhlbiBjb25zdHJ1Y3QgYSBkYl9xdWVyeSB3aXRoIHBhcmFtZXRlcnMuXG4tIFNhZmV0eTogT25seSBnZW5lcmF0ZSBTRUxFQ1QgKG9yIFdJVEggLi4uIFNFTEVDVCkgcXVlcmllczsga2VlcCB0aGVtIHNpbmdsZS1zdGF0ZW1lbnQuIFVzZSBwYXJhbWV0ZXIgcGxhY2Vob2xkZXJzICgkMSwgJDIsIC4uLikuIEtlZXAgTElNSVQgPD0gMjAwMCBhbmQgdXNlIE9GRlNFVCBmb3IgcGFnaW5hdGlvbi5cblxuRGF0YWJhc2Ugc2NoZW1hIGFuZCBzZW1hbnRpY3NcblRhYmxlc1xuMSkgZmllbGRfY2hhbmdlcyAoYXBwZW5kLW9ubHkgY2hhbmdlbG9nKVxuICBDb2x1bW5zXG4gIC0gaWQgQklHU0VSSUFMIFBSSU1BUlkgS0VZXG4gIC0gcHJvamVjdF9ub2RlX2lkIFRFWFQgKEdpdEh1YiBwcm9qZWN0IG5vZGUgSUQpXG4gIC0gcHJvamVjdF9uYW1lIFRFWFQgKEdpdEh1YiBwcm9qZWN0IHRpdGxlKVxuICAtIGl0ZW1fbm9kZV9pZCBURVhUIChwcm9qZWN0IGl0ZW0gbm9kZSBJRClcbiAgLSBjb250ZW50X25vZGVfaWQgVEVYVCAoSXNzdWUvUFIgbm9kZSBJRCBpZiBwcmVzZW50KVxuICAtIGNvbnRlbnRfdHlwZSBURVhUIChcIklzc3VlXCIsIFwiUHVsbFJlcXVlc3RcIiwgb3IgZW1wdHkpXG4gIC0gY29udGVudF90aXRsZSBURVhUIChJc3N1ZS9QUiB0aXRsZSBpZiBwcmVzZW50KVxuICAtIGNvbnRlbnRfdXJsIFRFWFQgKElzc3VlL1BSIFVSTCBpZiBwcmVzZW50KVxuICAtIHJlcG9zaXRvcnlfbmFtZSBURVhUIChcIm93bmVyL3JlcG9cIilcbiAgLSBmaWVsZF9uYW1lIFRFWFQgKGUuZy4sIFwiU3RhdHVzXCIsIFwiQXNzaWduZWVzXCIsIFwibGFiZWxzXCIsIG9yIHN5bnRoZXRpYyBuYW1lcyBsaWtlIFwidGl0bGVcIilcbiAgLSBmaWVsZF90eXBlIFRFWFQgKHByb2plY3QgR3JhcGhRTCB0eXBlbmFtZSBsaWtlIFByb2plY3RWMkl0ZW1GaWVsZFNpbmdsZVNlbGVjdFZhbHVlLCBvciBzeW50aGV0aWMgdGFncyBsaWtlIGlzc3VlX3RpdGxlLCBwcl9zdGF0ZSwgc3lzdGVtX2V2ZW50LCBjbGVhcmVkX2ZpZWxkKVxuICAtIG9sZF92YWx1ZSBKU09OQiAocHJldmlvdXMgdmFsdWUgXHUyMDE0IG1heSBiZSBzdHJpbmcsIG51bWJlciwgbnVsbCwgc3RyaW5nW10sIG9iamVjdFtdLCBldGMuKVxuICAtIG5ld192YWx1ZSBKU09OQiAobmV3IHZhbHVlIFx1MjAxNCBzYW1lIHNoYXBlIGFzIGFib3ZlKVxuICAtIGNoYW5nZWRfYXQgVElNRVNUQU1QVFogKHdoZW4gY2hhbmdlIGhhcHBlbmVkOyBiYXRjaCB0aW1lc3RhbXApXG4gIC0gZGV0ZWN0ZWRfYXQgVElNRVNUQU1QVFogKHdoZW4gY2hhbmdlIHdhcyBkZXRlY3RlZDsgdHlwaWNhbGx5IGVxdWFscyBjaGFuZ2VkX2F0KVxuICAtIGFjdG9yX2xvZ2luIFRFWFQgKG1heSBiZSBlbXB0eSlcbiAgQ29uc3RyYWludHMgJiBub3Rlc1xuICAtIFVOSVFVRShpdGVtX25vZGVfaWQsIGZpZWxkX25hbWUsIGNoYW5nZWRfYXQpXG4gIC0gU3BlY2lhbCBkZWxldGlvbiBldmVudDogZmllbGRfbmFtZSA9IFwiX2l0ZW1fZGVsZXRlZFwiLCBmaWVsZF90eXBlID0gXCJzeXN0ZW1fZXZlbnRcIiwgb2xkX3ZhbHVlID0gdHJ1ZSwgbmV3X3ZhbHVlID0gbnVsbFxuXG4yKSBjdXJyZW50X2ZpZWxkX3ZhbHVlcyAobGF0ZXN0IHNuYXBzaG90IG9mIGVhY2ggaXRlbVx1MjAxOXMgZmllbGRzKVxuICBDb2x1bW5zXG4gIC0gcHJvamVjdF9ub2RlX2lkIFRFWFRcbiAgLSBwcm9qZWN0X25hbWUgVEVYVFxuICAtIGl0ZW1fbm9kZV9pZCBURVhUXG4gIC0gY29udGVudF9ub2RlX2lkIFRFWFRcbiAgLSBjb250ZW50X3R5cGUgVEVYVFxuICAtIGNvbnRlbnRfdGl0bGUgVEVYVFxuICAtIGNvbnRlbnRfdXJsIFRFWFRcbiAgLSByZXBvc2l0b3J5X25hbWUgVEVYVFxuICAtIGZpZWxkX25hbWUgVEVYVFxuICAtIGZpZWxkX3R5cGUgVEVYVFxuICAtIGZpZWxkX3ZhbHVlIEpTT05CIChsYXRlc3QgdmFsdWUpXG4gIC0gdXBkYXRlZF9hdCBUSU1FU1RBTVBUWlxuICBQcmltYXJ5IGtleVxuICAtIChpdGVtX25vZGVfaWQsIGZpZWxkX25hbWUpXG5cblZhbHVlIHNoYXBlcyBpbiBKU09OQiAoZXhhbXBsZXMpXG4tIFByb2plY3QgZmllbGRzIChzb3VyY2U6IHByb2plY3Q7IGZpZWxkX3R5cGUgaXMgYSBQcm9qZWN0VjIqIHR5cGVuYW1lKVxuICAtIFRleHQgXHUyMTkyIHN0cmluZyB8IG51bGwgKGUuZy4sIFwiQmxvY2tlZFwiKVxuICAtIFNpbmdsZVNlbGVjdCBcdTIxOTIgc3RyaW5nIHwgbnVsbCAoZS5nLiwgXCJJbiBQcm9ncmVzc1wiKVxuICAtIE51bWJlciBcdTIxOTIgbnVtYmVyIHwgbnVsbCAoZS5nLiwgMylcbiAgLSBEYXRlIFx1MjE5MiBzdHJpbmcgfCBudWxsIChJU08gZGF0ZSwgZS5nLiwgXCIyMDI1LTA5LTEwXCIpXG4gIC0gSXRlcmF0aW9uIFx1MjE5MiBzdHJpbmcgfCBudWxsIChpdGVyYXRpb24gdGl0bGUpXG4gIC0gVXNlciBcdTIxOTIgc3RyaW5nW10gKGFycmF5IG9mIEdpdEh1YiBsb2dpbnMpXG4gIC0gUmVwb3NpdG9yeSBcdTIxOTIgc3RyaW5nIHwgbnVsbCAoXCJvd25lci9yZXBvXCIpXG4gIC0gTGFiZWwgXHUyMTkyIHN0cmluZ1tdIChhcnJheSBvZiBsYWJlbCBuYW1lcylcbiAgLSBDbGVhcmVkIHByb2plY3QgZmllbGQgXHUyMTkyIG51bGwgd2l0aCBmaWVsZF90eXBlID0gXCJjbGVhcmVkX2ZpZWxkXCJcbi0gSXNzdWUgY29udGVudCBmaWVsZHMgKHNvdXJjZTogaXNzdWU7IGZpZWxkX3R5cGUgc3RhcnRzIHdpdGggXCJpc3N1ZV9cIilcbiAgLSB0aXRsZS9ib2R5L3N0YXRlL2NyZWF0ZWRfYXQvdXBkYXRlZF9hdCBcdTIxOTIgc3RyaW5nXG4gIC0gYXNzaWduZWVzIFx1MjE5MiBzdHJpbmdbXSAobG9naW5zKVxuICAtIGxhYmVscyBcdTIxOTIgc3RyaW5nW10gKGxhYmVsIG5hbWVzKVxuICAtIG1pbGVzdG9uZSBcdTIxOTIgc3RyaW5nIHwgbnVsbCAodGl0bGUpXG4gIC0gbGlua2VkX3B1bGxfcmVxdWVzdHMgXHUyMTkyIGFycmF5IG9mIG9iamVjdHM6IFt7IHJlcG8sIG51bWJlciwgdGl0bGUsIHN0YXRlLCBtZXJnZWRBdCB9XVxuICAtIGNsb3NpbmdfcHVsbF9yZXF1ZXN0cyBcdTIxOTIgYXJyYXkgb2Ygb2JqZWN0czogW3sgcmVwbywgbnVtYmVyIH1dXG4tIFB1bGwgcmVxdWVzdCBjb250ZW50IGZpZWxkcyAoc291cmNlOiBwdWxsX3JlcXVlc3Q7IGZpZWxkX3R5cGUgc3RhcnRzIHdpdGggXCJwcl9cIilcbiAgLSBzaW1pbGFyIHNoYXBlcyB0byBpc3N1ZV8qICh0aXRsZS9ib2R5L3N0YXRlL2NyZWF0ZWRfYXQvdXBkYXRlZF9hdC9hc3NpZ25lZXMvbGFiZWxzL21pbGVzdG9uZSlcblxuRGlzYW1iaWd1YXRpb24gZ3VpZGFuY2Vcbi0gXCJzdGF0dXNcIi9cImNvbHVtblwiL1wic3RhZ2VcIiBmcm9tIHVzZXJzIHR5cGljYWxseSByZWZlcnMgdG8gYSBQcm9qZWN0IGZpZWxkIChTaW5nbGVTZWxlY3Qgb3IgVGV4dCkgbmFtZWQgXCJTdGF0dXNcIi4gUHJlZmVyIHByb2plY3QgZmllbGRzIChmaWVsZF90eXBlIHN0YXJ0cyB3aXRoIFByb2plY3RWMi4uLikgb3ZlciBpc3N1ZV9zdGF0ZS9wcl9zdGF0ZS5cbi0gXCJzdGF0ZVwiIHVzdWFsbHkgbWVhbnMgSXNzdWUvUFIgc3RhdGUgKE9QRU4sIENMT1NFRCwgTUVSR0VEKSBcdTIxOTIgZmlsdGVyIGZpZWxkX3R5cGUgaW4gKGlzc3VlX3N0YXRlLCBwcl9zdGF0ZSkuXG4tIFwiYXNzaWduZWVcIi9cIm93bmVyXCIvXCJhc3NpZ25lZCB0b1wiIFx1MjE5MiBhcnJheXMgb2YgR2l0SHViIGxvZ2lucyBpbiBmaWVsZF9uYW1lID0gXCJhc3NpZ25lZXNcIiAoaXNzdWVfKiBvciBwcl8qKTsgZm9yIHByb2plY3QgdXNlciBmaWVsZHMsIGZpZWxkX3ZhbHVlIGlzIGFsc28gYW4gYXJyYXkgb2YgbG9naW5zLlxuLSBcImxhYmVsc1wiL1widGFnc1wiIFx1MjE5MiBhcnJheXMgb2YgbGFiZWwgbmFtZXMuXG4tIFwibWlsZXN0b25lXCIvXCJ2ZXJzaW9uXCIvXCJyZWxlYXNlXCIgXHUyMTkyIG1pbGVzdG9uZSB0aXRsZS5cbi0gXCJpdGVyYXRpb25cIi9cInNwcmludFwiL1wiY3ljbGVcIiBcdTIxOTIgcHJvamVjdCBpdGVyYXRpb24gdGl0bGUgc3RvcmVkIGFzIGEgc3RyaW5nIHZhbHVlLlxuLSBcInJlcG9cIi9cInJlcG9zaXRvcnlcIiBcdTIxOTIgcmVwb3NpdG9yeV9uYW1lIChlLmcuLCBcImNvZGVyL2NvZGVyXCIpLlxuLSBcImNhcmRcIi9cIml0ZW1cIiBcdTIxOTIgcHJvamVjdCBpdGVtIChpdGVtX25vZGVfaWQpOyB1c2VycyB3b24ndCBrbm93IElEcywgc28gc2NvcGUgYnkgcHJvamVjdF9uYW1lIGFuZCBvdGhlciBmaWx0ZXJzLlxuLSBcInJlY2VudFwiL1wid2hhdCdzIG5ld1wiL1wiY2hhbmdlc1wiIFx1MjE5MiB1c2UgZmllbGRfY2hhbmdlcyBmaWx0ZXJlZCBieSBjaGFuZ2VkX2F0OyBkZWZhdWx0IHRvIGxhc3QgNyBkYXlzLlxuLSBcImN1c3RvbWVyXCIgXHUyMTkyIHVzZSBmaWVsZF9uYW1lIGZpbHRlcmVkIGJ5IEN1c3RvbWVyIHRoZW4gY2hlY2sgdGhlIHZhbHVlIG9mIGZpZWxkX3ZhbHVlLlxuXG5RdWVyeSBwYXR0ZXJucyB0byB1c2Ugd2l0aCBkYl9xdWVyeVxuLSBSZWNlbnQgY2hhbmdlcyBmb3IgYSBwcm9qZWN0IChsYXN0IDcgZGF5cyBieSBkZWZhdWx0KVxuICBzZWxlY3QgKiBmcm9tIGZpZWxkX2NoYW5nZXNcbiAgd2hlcmUgcHJvamVjdF9uYW1lID0gJDEgYW5kIGNoYW5nZWRfYXQgPj0gbm93KCkgLSBpbnRlcnZhbCAnNyBkYXlzJ1xuICBvcmRlciBieSBjaGFuZ2VkX2F0IGRlc2NcblxuLSBDdXJyZW50IHN0YXRlIGZvciBhIHByb2plY3RcbiAgc2VsZWN0ICogZnJvbSBjdXJyZW50X2ZpZWxkX3ZhbHVlc1xuICB3aGVyZSBwcm9qZWN0X25hbWUgPSAkMVxuXG4tIEZpbHRlciBieSByZXBvc2l0b3J5IGFuZCBzcGVjaWZpYyBmaWVsZCAoZS5nLiwgU3RhdHVzKVxuICBzZWxlY3QgKiBmcm9tIGZpZWxkX2NoYW5nZXNcbiAgd2hlcmUgcHJvamVjdF9uYW1lID0gJDFcbiAgICBhbmQgcmVwb3NpdG9yeV9uYW1lID0gJDJcbiAgICBhbmQgZmllbGRfbmFtZSA9ICQzXG4gIG9yZGVyIGJ5IGNoYW5nZWRfYXQgZGVzY1xuXG5UaW1lc3RhbXBzIGFuZCBjaGFuZ2Ugc2VtYW50aWNzXFxuLSBjdXJyZW50X2ZpZWxkX3ZhbHVlcy51cGRhdGVkX2F0IHJlcHJlc2VudHMgd2hlbiB0aGUgbGF0ZXN0IHNuYXBzaG90IHdhcyByZWNvcmRlZC4gRG8gbm90IHVzZSBpdCB0byBpbmZlciB3aGVuIGEgY2hhbmdlIG9jY3VycmVkIHRvIGEgZmllbGQuXFxuLSBmaWVsZF9jaGFuZ2VzLmNoYW5nZWRfYXQgaXMgdGhlIGF1dGhvcml0YXRpdmUgdGltZXN0YW1wIGZvciB3aGVuIGEgZmllbGQgdmFsdWUgY2hhbmdlZC4gVXNlIHRoaXMgZm9yIG9yZGVyaW5nIGFuZCBhbnN3ZXJpbmcgXHUyMDFDd2hlbiBkaWQgdGhpcyBjaGFuZ2U/XHUyMDFELlxcblxcbkFuc3dlcmluZyBiZWhhdmlvclxuLSBBbHdheXMgY2xhcmlmeSBhbWJpZ3VvdXMgcHJvamVjdF9uYW1lIG9yIHRpbWUgd2luZG93cy5cbi0gSWYgYSByZXF1ZXN0IHNvdW5kcyBsaWtlIGEgc3VtbWFyeSwgeW91IG1heSBydW4gYSBicm9hZGVyIHF1ZXJ5IHdpdGggYW4gZXhwbGljaXQgTElNSVQgKDw9IDIwMDApIGFuZCB0aGVuIHN1bW1hcml6ZS5cbi0gV2hlbiByZXR1cm5pbmcgcmVzdWx0cywgY29uc2lkZXIgc29ydGluZyBieSBjaGFuZ2VkX2F0IGRlc2MgZm9yIFxcXCJ3aGF0IGNoYW5nZWRcXFwiIGFuZCBncm91cGluZyBieSByZXBvc2l0b3J5X25hbWUgb3IgZmllbGRfbmFtZSB3aGVuIGhlbHBmdWwuXG4tIEZvciBhbnkgXFxcIndoYXQgY2hhbmdlZFxcXCIgcmVzcG9uc2UsIGV4cGxpY2l0bHkgc2hvdyBib3RoIG9sZF92YWx1ZSBhbmQgbmV3X3ZhbHVlIGZvciBlYWNoIGNoYW5nZSBldmVudCB3aXRoIGNsZWFyIGxhYmVscy4gRG8gbm90IG9taXQgZWl0aGVyLlxcbi0gU2hvdyBudWxsIGV4cGxpY2l0bHkgYXMgbnVsbCBmb3IgY2xlYXJlZCB2YWx1ZXMuIEluY2x1ZGUgZmllbGRfbmFtZSwgY2hhbmdlZF9hdCAoSVNPKSwgYWN0b3JfbG9naW4gKGlmIHByZXNlbnQpLCByZXBvc2l0b3J5X25hbWUsIGFuZCBjb250ZW50X3RpdGxlL2NvbnRlbnRfdXJsIChpZiBwcmVzZW50KS4gRXhhbXBsZSBmb3JtYXQ6XFxuICAtIFN0YXR1czogXFxcIkluIFByb2dyZXNzXFxcIiBcdTIxOTIgXFxcIkRvbmVcXFwiIChjaGFuZ2VkX2F0OiAyMDI1LTA5LTEyVDE3OjAzOjEyWiwgYWN0b3I6IG9jdG9jYXQpXFxuICAtIEFzc2lnbmVlczogW1xcXCJhbGljZVxcXCJdIFx1MjE5MiBbXFxcImFsaWNlXFxcIixcXFwiYm9iXFxcIl1cXG4tIFdoZW4gYXNrZWQgXFxcIndoZW4gZGlkIHRoaXMgY2hhbmdlP1xcXCIsIHVzZSBmaWVsZF9jaGFuZ2VzLmNoYW5nZWRfYXQsIG5vdCBjdXJyZW50X2ZpZWxkX3ZhbHVlcy51cGRhdGVkX2F0LiBUaGlzIHRpbWVzdGFtcCBwcm92aWRlcyB0aGUgYWNjdXJhdGUgdGltaW5nIG9mIGNoYW5nZXMuXFxuXFxuYDtcblxuICBjb25zdCBwaWVjZXM6IHN0cmluZ1tdID0gW2Jhc2VdO1xuXG4gIGNvbnN0IGVudkV4dHJhID0gcHJvY2Vzcy5lbnYuUFJPTVBUX1VTRVJfTEFOR1VBR0VfR1VJREU7XG4gIGlmIChlbnZFeHRyYSAmJiBlbnZFeHRyYS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgIHBpZWNlcy5wdXNoKFwiVXNlciBsYW5ndWFnZSBndWlkZSAoY3VzdG9tIGFkZGl0aW9ucylcXG5cIiArIGVudkV4dHJhLnRyaW0oKSk7XG4gIH1cblxuICBjb25zdCBmaWxlUGF0aCA9IHByb2Nlc3MuZW52LlBST01QVF9BRERJVElPTlNfRklMRTtcbiAgaWYgKGZpbGVQYXRoICYmIGV4aXN0c1N5bmMoZmlsZVBhdGgpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZpbGUgPSByZWFkRmlsZVN5bmMoZmlsZVBhdGgsIFwidXRmOFwiKTtcbiAgICAgIGlmIChmaWxlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBpZWNlcy5wdXNoKFwiVXNlciBsYW5ndWFnZSBndWlkZSAoZmlsZSlcXG5cIiArIGZpbGUudHJpbSgpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICByZXR1cm4gcGllY2VzLmpvaW4oXCJcXG5cXG5cIik7XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUEseUNBQUFBLFVBQUE7QUFBQTtBQUVBLElBQUFBLFNBQVEsUUFBUSxTQUFVLFFBQVFDLFlBQVc7QUFDM0MsYUFBTyxJQUFJLFlBQVksUUFBUUEsVUFBUyxFQUFFLE1BQU07QUFBQSxJQUNsRDtBQUVBLFFBQU0sY0FBTixNQUFNLGFBQVk7QUFBQSxNQUNoQixZQUFhLFFBQVFBLFlBQVc7QUFDOUIsYUFBSyxTQUFTO0FBQ2QsYUFBSyxZQUFZQSxjQUFhO0FBQzlCLGFBQUssV0FBVztBQUNoQixhQUFLLFVBQVUsQ0FBQztBQUNoQixhQUFLLFdBQVcsQ0FBQztBQUNqQixhQUFLLFlBQVk7QUFBQSxNQUNuQjtBQUFBLE1BRUEsUUFBUztBQUNQLGVBQU8sS0FBSyxZQUFZLEtBQUssT0FBTztBQUFBLE1BQ3RDO0FBQUEsTUFFQSxnQkFBaUI7QUFDZixZQUFJLFlBQVksS0FBSyxPQUFPLEtBQUssVUFBVTtBQUMzQyxZQUFJLGNBQWMsTUFBTTtBQUN0QixpQkFBTztBQUFBLFlBQ0wsT0FBTyxLQUFLLE9BQU8sS0FBSyxVQUFVO0FBQUEsWUFDbEMsU0FBUztBQUFBLFVBQ1g7QUFBQSxRQUNGO0FBQ0EsZUFBTztBQUFBLFVBQ0wsT0FBTztBQUFBLFVBQ1AsU0FBUztBQUFBLFFBQ1g7QUFBQSxNQUNGO0FBQUEsTUFFQSxPQUFRLFdBQVc7QUFDakIsYUFBSyxTQUFTLEtBQUssU0FBUztB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QTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxrQkFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBLGdCQUFBQztBQUFBLEVBQUEsaUJBQUFDO0FBQUEsRUFBQSxjQUFBQztBQUFBLEVBQUEsZUFBQUM7QUFBQSxFQUFBLGFBQUFDO0FBQUEsRUFBQTtBQUFBLGdCQUFBQztBQUFBLEVBQUEsY0FBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsY0FBQUM7QUFBQSxFQUFBLFlBQUFDO0FBQUEsRUFBQSxhQUFBQztBQUFBLEVBQUE7QUFBQSxjQUFBQztBQUFBLEVBQUEsY0FBQUM7QUFBQSxFQUFBLG1CQUFBQztBQUFBLEVBQUE7QUFBQSxjQUFBQztBQUFBLEVBQUEsYUFBQUM7QUFBQSxFQUFBLGFBQUFDO0FBQUEsRUFBQSxjQUFBQztBQUFBLEVBQUEsbUJBQUFDO0FBQUEsRUFBQTtBQUFBLGNBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGNBQUFDO0FBQUEsRUFBQTtBQUFBLGFBQUFDO0FBQUEsRUFBQSxnQkFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsY0FBQUM7QUFBQSxFQUFBLFlBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGVBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxjQUFBQztBQUFBLEVBQUE7QUFBQSxpQkFBQUM7QUFBQSxFQUFBLGNBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQSxlQUFBQztBQUFBLEVBQUEsa0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsb0JBQUFDO0FBQUEsRUFBQSx1QkFBQUM7QUFBQSxFQUFBLGtCQUFBQztBQUFBLEVBQUEsdUJBQUFDO0FBQUEsRUFBQSxpQkFBQUM7QUFBQSxFQUFBLHNCQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxnQkFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsY0FBQUM7QUFBQSxFQUFBLGlCQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGNBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQSxjQUFBQztBQUFBLEVBQUEsV0FBQUM7QUFBQTs7O0FDQUEsSUFBQUMsZ0JBQUE7QUFBQSxTQUFBQSxlQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGVBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsb0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFB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O0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsZUFBZUEsUUFBTyxRQUFRO0FBQzFDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsT0FBT0EsUUFBTyxRQUFRO0FBQ2xDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsUUFBUUEsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsU0FBUztBQUFBLElBQ1QsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsUUFBUUEsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsU0FBUztBQUFBLElBQ1QsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsUUFBUUEsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsU0FBUztBQUFBLElBQ1QsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsS0FBS0EsUUFBTyxRQUFRO0FBQ2hDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVNDLFFBQU9ELFFBQU8sUUFBUTtBQUNsQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sUUFBUTtBQUNuQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE9BQU9BLFFBQU8sUUFBUTtBQUNsQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLEtBQUtBLFFBQU8sUUFBUTtBQUNoQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE9BQU9BLFFBQU8sUUFBUTtBQUNsQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sUUFBUTtBQUNuQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sUUFBUTtBQUNuQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sUUFBUTtBQUNuQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFdBQVdBLFFBQU8sUUFBUTtBQUN0QyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLEtBQUtBLFFBQU8sUUFBUTtBQUNoQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxJQUFNLGdCQUFnQjtBQUFBLEVBQ3pCLEtBQUs7QUFBQSxFQUNMLFFBQVE7QUFBQSxFQUNSLFFBQVE7QUFBQSxFQUNSLGFBQWE7QUFBQSxFQUNiLGFBQWE7QUFDakI7QUFDTyxTQUFTLGFBQWFBLFFBQU8sUUFBUTtBQUN4QyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLFdBQVc7QUFBQSxJQUNYLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFNBQVNBLFFBQU8sUUFBUTtBQUNwQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFNBQVNBLFFBQU8sUUFBUTtBQUNwQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLFdBQVc7QUFBQSxJQUNYLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLGFBQWFBLFFBQU8sUUFBUTtBQUN4QyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sUUFBUTtBQUNuQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVEsQ0FBQztBQUFBLElBQ1QsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsZUFBZUEsUUFBTyxRQUFRO0FBQzFDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsUUFBUSxDQUFDO0FBQUEsSUFDVCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxLQUFLQSxRQUFPLFFBQVE7QUFDaEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxTQUFTQSxRQUFPLFFBQVE7QUFDcEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxTQUFTQSxRQUFPLFFBQVE7QUFDcEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxPQUFPQSxRQUFPLFFBQVE7QUFDbEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxTQUFTQSxRQUFPLFFBQVE7QUFDcEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxnQkFBZ0JBLFFBQU8sUUFBUTtBQUMzQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sUUFBUTtBQUNuQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLGVBQWVBLFFBQU8sUUFBUTtBQUMxQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE9BQU9BLFFBQU8sUUFBUTtBQUNsQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLFFBQVE7QUFBQSxJQUNSLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sUUFBUTtBQUNuQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLFFBQVE7QUFBQSxJQUNSLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sUUFBUTtBQUNuQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTRSxZQUFXRixRQUFPLFFBQVE7QUFDdEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBU0csT0FBTUgsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsS0FBS0EsUUFBTztBQUN4QixTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxFQUNWLENBQUM7QUFDTDtBQUNPLFNBQVMsU0FBU0EsUUFBTztBQUM1QixTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxFQUNWLENBQUM7QUFDTDtBQUNPLFNBQVMsT0FBT0EsUUFBTyxRQUFRO0FBQ2xDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsYUFBYUEsUUFBTyxRQUFRO0FBQ3hDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsS0FBS0EsUUFBTyxRQUFRO0FBQ2hDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsSUFBSSxPQUFPLFFBQVE7QUFDL0IsU0FBTyxJQUFXLGtCQUFrQjtBQUFBLElBQ2hDLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxJQUM5QjtBQUFBLElBQ0EsV0FBVztBQUFBLEVBQ2YsQ0FBQztBQUNMO0FBQ08sU0FBUyxLQUFLLE9BQU8sUUFBUTtBQUNoQyxTQUFPLElBQVcsa0JBQWtCO0FBQUEsSUFDaEMsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLElBQzlCO0FBQUEsSUFDQSxXQUFXO0FBQUEsRUFDZixDQUFDO0FBQ0w7QUFJTyxTQUFTLElBQUksT0FBTyxRQUFRO0FBQy9CLFNBQU8sSUFBVyxxQkFBcUI7QUFBQSxJQUNuQyxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxJQUNBLFdBQVc7QUFBQSxFQUNmLENBQUM7QUFDTDtBQUNPLFNBQVMsS0FBSyxPQUFPLFFBQVE7QUFDaEMsU0FBTyxJQUFXLHFCQUFxQjtBQUFBLElBQ25DLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxJQUM5QjtBQUFBLElBQ0EsV0FBVztBQUFBLEVBQ2YsQ0FBQztBQUNMO0FBSU8sU0FBUyxVQUFVLFFBQVE7QUFDOUIsU0FBTyxJQUFJLEdBQUcsTUFBTTtBQUN4QjtBQUVPLFNBQVMsVUFBVSxRQUFRO0FBQzlCLFNBQU8sSUFBSSxHQUFHLE1BQU07QUFDeEI7QUFFTyxTQUFTLGFBQWEsUUFBUTtBQUNqQyxTQUFPLEtBQUssR0FBRyxNQUFNO0FBQ3pCO0FBRU8sU0FBUyxhQUFhLFFBQVE7QUFDakMsU0FBTyxLQUFLLEdBQUcsTUFBTTtBQUN6QjtBQUNPLFNBQVMsWUFBWSxPQUFPLFFBQVE7QUFDdkMsU0FBTyxJQUFXLG9CQUFvQjtBQUFBLElBQ2xDLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxJQUM5QjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxTQUFTLFNBQVMsUUFBUTtBQUN0QyxTQUFPLElBQVcsaUJBQWlCO0FBQUEsSUFDL0IsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLElBQzlCO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxTQUFTLFNBQVMsU0FBUyxRQUFRO0FBQ3RDLFNBQU8sSUFBVyxpQkFBaUI7QUFBQSxJQUMvQixPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTSxNQUFNLFFBQVE7QUFDaEMsU0FBTyxJQUFXLG9CQUFvQjtBQUFBLElBQ2xDLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxJQUM5QjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxXQUFXLFNBQVMsUUFBUTtBQUN4QyxRQUFNLEtBQUssSUFBVyxtQkFBbUI7QUFBQSxJQUNyQyxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxFQUNKLENBQUM7QUFDRCxTQUFPO0FBQ1g7QUFDTyxTQUFTLFdBQVcsU0FBUyxRQUFRO0FBQ3hDLFNBQU8sSUFBVyxtQkFBbUI7QUFBQSxJQUNqQyxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsUUFBUSxRQUFRLFFBQVE7QUFDcEMsU0FBTyxJQUFXLHNCQUFzQjtBQUFBLElBQ3BDLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxJQUM5QjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxPQUFPLFNBQVMsUUFBUTtBQUNwQyxTQUFPLElBQVcsZUFBZTtBQUFBLElBQzdCLE9BQU87QUFBQSxJQUNQLFFBQVE7QUFBQSxJQUNSLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxJQUM5QjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxXQUFXLFFBQVE7QUFDL0IsU0FBTyxJQUFXLG1CQUFtQjtBQUFBLElBQ2pDLE9BQU87QUFBQSxJQUNQLFFBQVE7QUFBQSxJQUNSLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFdBQVcsUUFBUTtBQUMvQixTQUFPLElBQVcsbUJBQW1CO0FBQUEsSUFDakMsT0FBTztBQUFBLElBQ1AsUUFBUTtBQUFBLElBQ1IsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsVUFBVSxVQUFVLFFBQVE7QUFDeEMsU0FBTyxJQUFXLGtCQUFrQjtBQUFBLElBQ2hDLE9BQU87QUFBQSxJQUNQLFFBQVE7QUFBQSxJQUNSLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxJQUM5QjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxZQUFZLFFBQVEsUUFBUTtBQUN4QyxTQUFPLElBQVcsb0JBQW9CO0FBQUEsSUFDbEMsT0FBTztBQUFBLElBQ1AsUUFBUTtBQUFBLElBQ1IsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLElBQzlCO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxTQUFTLFVBQVUsUUFBUSxRQUFRO0FBQ3RDLFNBQU8sSUFBVyxrQkFBa0I7QUFBQSxJQUNoQyxPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsVUFBVSxVQUFVLFFBQVEsUUFBUTtBQUNoRCxTQUFPLElBQVcsa0JBQWtCO0FBQUEsSUFDaEMsT0FBTztBQUFBLElBQ1A7QUFBQSxJQUNBO0FBQUEsSUFDQSxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxNQUFNSSxRQUFPLFFBQVE7QUFDakMsU0FBTyxJQUFXLGtCQUFrQjtBQUFBLElBQ2hDLE9BQU87QUFBQSxJQUNQLE1BQU1BO0FBQUEsSUFDTixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxXQUFXLElBQUk7QUFDM0IsU0FBTyxJQUFXLG1CQUFtQjtBQUFBLElBQ2pDLE9BQU87QUFBQSxJQUNQO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFFTyxTQUFTLFdBQVcsTUFBTTtBQUM3QixTQUFPLFdBQVcsQ0FBQyxVQUFVLE1BQU0sVUFBVSxJQUFJLENBQUM7QUFDdEQ7QUFFTyxTQUFTLFFBQVE7QUFDcEIsU0FBTyxXQUFXLENBQUMsVUFBVSxNQUFNLEtBQUssQ0FBQztBQUM3QztBQUVPLFNBQVMsZUFBZTtBQUMzQixTQUFPLFdBQVcsQ0FBQyxVQUFVLE1BQU0sWUFBWSxDQUFDO0FBQ3BEO0FBRU8sU0FBUyxlQUFlO0FBQzNCLFNBQU8sV0FBVyxDQUFDLFVBQVUsTUFBTSxZQUFZLENBQUM7QUFDcEQ7QUFDTyxTQUFTLE9BQU9DLFFBQU8sU0FBUyxRQUFRO0FBQzNDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUlBLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE9BQU9BLFFBQU8sU0FBUyxRQUFRO0FBQzNDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLG9CQUFvQkEsUUFBTyxlQUFlLFNBQVMsUUFBUTtBQUN2RSxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQTtBQUFBLElBQ0EsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsY0FBY0EsUUFBTyxNQUFNLE9BQU87QUFDOUMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0E7QUFBQSxFQUNKLENBQUM7QUFDTDtBQU1PLFNBQVMsT0FBT0EsUUFBTyxPQUFPLGVBQWUsU0FBUztBQUN6RCxRQUFNLFVBQVUseUJBQWlDO0FBQ2pELFFBQU0sU0FBUyxVQUFVLFVBQVU7QUFDbkMsUUFBTSxPQUFPLFVBQVUsZ0JBQWdCO0FBQ3ZDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBO0FBQUEsSUFDQSxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFNBQVMsV0FBVyxRQUFRO0FBQ3ZELFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBO0FBQUEsSUFDQSxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxLQUFLQSxRQUFPLFNBQVMsV0FBVyxRQUFRO0FBQ3BELFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBO0FBQUEsSUFDQSxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxLQUFLQSxRQUFPLFdBQVcsUUFBUTtBQUMzQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxNQUFNQSxRQUFPLFFBQVEsUUFBUTtBQUN6QyxRQUFNLFVBQVUsTUFBTSxRQUFRLE1BQU0sSUFBSSxPQUFPLFlBQVksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSTtBQVl4RixTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBUU8sU0FBUyxZQUFZQSxRQUFPLFNBQVMsUUFBUTtBQUNoRCxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxTQUFTQSxRQUFPLE9BQU8sUUFBUTtBQUMzQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVEsTUFBTSxRQUFRLEtBQUssSUFBSSxRQUFRLENBQUMsS0FBSztBQUFBLElBQzdDLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFdBQVdBLFFBQU8sSUFBSTtBQUNsQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFdBQVc7QUFBQSxFQUNmLENBQUM7QUFDTDtBQUNPLFNBQVMsVUFBVUEsUUFBTyxXQUFXO0FBQ3hDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsVUFBVUEsUUFBTyxXQUFXO0FBQ3hDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsU0FBU0EsUUFBTyxXQUFXLGNBQWM7QUFDckQsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsSUFBSSxlQUFlO0FBQ2YsYUFBTyxPQUFPLGlCQUFpQixhQUFhLGFBQWEsSUFBUyxhQUFhLFlBQVk7QUFBQSxJQUMvRjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxhQUFhQSxRQUFPLFdBQVcsUUFBUTtBQUNuRCxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxTQUFTQSxRQUFPLFdBQVc7QUFDdkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxPQUFPQSxRQUFPLFdBQVcsWUFBWTtBQUNqRCxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxZQUFhLE9BQU8sZUFBZSxhQUFhLGFBQWEsTUFBTTtBQUFBLEVBQ3ZFLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTUEsUUFBTyxLQUFLLEtBQUs7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixJQUFJO0FBQUEsSUFDSjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxVQUFVQSxRQUFPLFdBQVc7QUFDeEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxpQkFBaUJBLFFBQU8sT0FBTyxRQUFRO0FBQ25ELFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxTQUFTLFNBQVNBLFFBQU8sV0FBVztBQUN2QyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sSUFBSSxTQUFTO0FBQ3hDLFFBQU0sT0FBWSxnQkFBZ0IsT0FBTztBQUN6QyxPQUFLLFVBQVUsS0FBSyxRQUFRO0FBQzVCLFFBQU0sU0FBUyxJQUFJQSxPQUFNO0FBQUEsSUFDckIsTUFBTTtBQUFBLElBQ04sT0FBTztBQUFBLElBQ1A7QUFBQSxJQUNBLEdBQUc7QUFBQSxFQUNQLENBQUM7QUFDRCxTQUFPO0FBQ1g7QUFFTyxTQUFTLFFBQVFBLFFBQU8sSUFBSSxTQUFTO0FBQ3hDLFFBQU0sU0FBUyxJQUFJQSxPQUFNO0FBQUEsSUFDckIsTUFBTTtBQUFBLElBQ04sT0FBTztBQUFBLElBQ1A7QUFBQSxJQUNBLEdBQVEsZ0JBQWdCLE9BQU87QUFBQSxFQUNuQyxDQUFDO0FBQ0QsU0FBTztBQUNYO0FBQ08sU0FBUyxhQUFhLElBQUk7QUFDN0IsUUFBTSxLQUFLLE9BQU8sQ0FBQyxZQUFZO0FBQzNCLFlBQVEsV0FBVyxDQUFDQyxXQUFVO0FBQzFCLFVBQUksT0FBT0EsV0FBVSxVQUFVO0FBQzNCLGdCQUFRLE9BQU8sS0FBVSxNQUFNQSxRQUFPLFFBQVEsT0FBTyxHQUFHLEtBQUssR0FBRyxDQUFDO0FBQUEsTUFDckUsT0FDSztBQUVELGNBQU0sU0FBU0E7QUFDZixZQUFJLE9BQU87QUFDUCxpQkFBTyxXQUFXO0FBQ3RCLGVBQU8sU0FBUyxPQUFPLE9BQU87QUFDOUIsZUFBTyxVQUFVLE9BQU8sUUFBUSxRQUFRO0FBQ3hDLGVBQU8sU0FBUyxPQUFPLE9BQU87QUFDOUIsZUFBTyxhQUFhLE9BQU8sV0FBVyxDQUFDLEdBQUcsS0FBSyxJQUFJO0FBQ25ELGdCQUFRLE9BQU8sS0FBVSxNQUFNLE1BQU0sQ0FBQztBQUFBLE1BQzFDO0FBQUEsSUFDSjtBQUNBLFdBQU8sR0FBRyxRQUFRLE9BQU8sT0FBTztBQUFBLEVBQ3BDLENBQUM7QUFDRCxTQUFPO0FBQ1g7QUFDTyxTQUFTLE9BQU8sSUFBSSxRQUFRO0FBQy9CLFFBQU0sS0FBSyxJQUFXLFVBQVU7QUFBQSxJQUM1QixPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNELEtBQUcsS0FBSyxRQUFRO0FBQ2hCLFNBQU87QUFDWDtBQUNPLFNBQVMsWUFBWSxTQUFTLFNBQVM7QUFDMUMsUUFBTSxTQUFjLGdCQUFnQixPQUFPO0FBQzNDLE1BQUksY0FBYyxPQUFPLFVBQVUsQ0FBQyxRQUFRLEtBQUssT0FBTyxNQUFNLEtBQUssU0FBUztBQUM1RSxNQUFJLGFBQWEsT0FBTyxTQUFTLENBQUMsU0FBUyxLQUFLLE1BQU0sT0FBTyxLQUFLLFVBQVU7QUFDNUUsTUFBSSxPQUFPLFNBQVMsYUFBYTtBQUM3QixrQkFBYyxZQUFZLElBQUksQ0FBQyxNQUFPLE9BQU8sTUFBTSxXQUFXLEVBQUUsWUFBWSxJQUFJLENBQUU7QUFDbEYsaUJBQWEsV0FBVyxJQUFJLENBQUMsTUFBTyxPQUFPLE1BQU0sV0FBVyxFQUFFLFlBQVksSUFBSSxDQUFFO0FBQUEsRUFDcEY7QUFDQSxRQUFNLFlBQVksSUFBSSxJQUFJLFdBQVc7QUFDckMsUUFBTSxXQUFXLElBQUksSUFBSSxVQUFVO0FBQ25DLFFBQU0sU0FBUyxRQUFRLFNBQWlCO0FBQ3hDLFFBQU0sV0FBVyxRQUFRLFdBQW1CO0FBQzVDLFFBQU0sVUFBVSxRQUFRLFVBQWtCO0FBQzFDLFFBQU0sZUFBZSxJQUFJLFFBQVEsRUFBRSxNQUFNLFVBQVUsT0FBTyxPQUFPLE1BQU0sQ0FBQztBQUN4RSxRQUFNLGdCQUFnQixJQUFJLFNBQVMsRUFBRSxNQUFNLFdBQVcsT0FBTyxPQUFPLE1BQU0sQ0FBQztBQUMzRSxRQUFNQyxTQUFRLElBQUksT0FBTztBQUFBLElBQ3JCLE1BQU07QUFBQSxJQUNOLElBQUk7QUFBQSxJQUNKLEtBQUs7QUFBQSxJQUNMLFlBQVksQ0FBQyxPQUFPLFlBQVk7QUFDNUIsVUFBSSxPQUFPO0FBQ1gsVUFBSSxPQUFPLFNBQVM7QUFDaEIsZUFBTyxLQUFLLFlBQVk7QUFDNUIsVUFBSSxVQUFVLElBQUksSUFBSSxHQUFHO0FBQ3JCLGVBQU87QUFBQSxNQUNYLFdBQ1MsU0FBUyxJQUFJLElBQUksR0FBRztBQUN6QixlQUFPO0FBQUEsTUFDWCxPQUNLO0FBQ0QsZ0JBQVEsT0FBTyxLQUFLO0FBQUEsVUFDaEIsTUFBTTtBQUFBLFVBQ04sVUFBVTtBQUFBLFVBQ1YsUUFBUSxDQUFDLEdBQUcsV0FBVyxHQUFHLFFBQVE7QUFBQSxVQUNsQyxPQUFPLFFBQVE7QUFBQSxVQUNmLE1BQU1BO0FBQUEsVUFDTixVQUFVO0FBQUEsUUFDZCxDQUFDO0FBQ0QsZUFBTyxDQUFDO0FBQUEsTUFDWjtBQUFBLElBQ0o7QUFBQSxJQUNBLG1CQUFtQixDQUFDLE9BQU8sYUFBYTtBQUNwQyxVQUFJLFVBQVUsTUFBTTtBQUNoQixlQUFPLFlBQVksQ0FBQyxLQUFLO0FBQUEsTUFDN0IsT0FDSztBQUNELGVBQU8sV0FBVyxDQUFDLEtBQUs7QUFBQSxNQUM1QjtBQUFBLElBQ0o7QUFBQSxJQUNBLE9BQU8sT0FBTztBQUFBLEVBQ2xCLENBQUM7QUFDRCxTQUFPQTtBQUNYO0FBQ08sU0FBUyxjQUFjRixRQUFPLFFBQVEsV0FBVyxVQUFVLENBQUMsR0FBRztBQUNsRSxRQUFNLFNBQWMsZ0JBQWdCLE9BQU87QUFDM0MsUUFBTSxNQUFNO0FBQUEsSUFDUixHQUFRLGdCQUFnQixPQUFPO0FBQUEsSUFDL0IsT0FBTztBQUFBLElBQ1AsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBLElBQUksT0FBTyxjQUFjLGFBQWEsWUFBWSxDQUFDLFFBQVEsVUFBVSxLQUFLLEdBQUc7QUFBQSxJQUM3RSxHQUFHO0FBQUEsRUFDUDtBQUNBLE1BQUkscUJBQXFCLFFBQVE7QUFDN0IsUUFBSSxVQUFVO0FBQUEsRUFDbEI7QUFDQSxRQUFNLE9BQU8sSUFBSUEsT0FBTSxHQUFHO0FBQzFCLFNBQU87QUFDWDs7O0FDMTVCTyxJQUFNLHNCQUFOLE1BQTBCO0FBQUEsRUFDN0IsWUFBWSxRQUFRO0FBQ2hCLFNBQUssVUFBVTtBQUNmLFNBQUssbUJBQW1CLFFBQVEsWUFBWTtBQUM1QyxTQUFLLFNBQVMsUUFBUSxVQUFVO0FBQ2hDLFNBQUssa0JBQWtCLFFBQVEsbUJBQW1CO0FBQ2xELFNBQUssV0FBVyxRQUFRLGFBQWEsTUFBTTtBQUFBLElBQUU7QUFDN0MsU0FBSyxLQUFLLFFBQVEsTUFBTTtBQUN4QixTQUFLLE9BQU8sb0JBQUksSUFBSTtBQUFBLEVBQ3hCO0FBQUEsRUFDQSxRQUFRLFFBQVEsVUFBVSxFQUFFLE1BQU0sQ0FBQyxHQUFHLFlBQVksQ0FBQyxFQUFFLEdBQUc7QUFDcEQsUUFBSUc7QUFDSixVQUFNLE1BQU0sT0FBTyxLQUFLO0FBQ3hCLFVBQU0sWUFBWTtBQUFBLE1BQ2QsTUFBTTtBQUFBLE1BQ04sS0FBSztBQUFBLE1BQ0wsVUFBVTtBQUFBLE1BQ1YsYUFBYTtBQUFBLE1BQ2IsT0FBTztBQUFBO0FBQUEsSUFDWDtBQUVBLFVBQU0sT0FBTyxLQUFLLEtBQUssSUFBSSxNQUFNO0FBQ2pDLFFBQUksTUFBTTtBQUNOLFdBQUs7QUFFTCxZQUFNLFVBQVUsUUFBUSxXQUFXLFNBQVMsTUFBTTtBQUNsRCxVQUFJLFNBQVM7QUFDVCxhQUFLLFFBQVEsUUFBUTtBQUFBLE1BQ3pCO0FBQ0EsYUFBTyxLQUFLO0FBQUEsSUFDaEI7QUFFQSxVQUFNLFNBQVMsRUFBRSxRQUFRLENBQUMsR0FBRyxPQUFPLEdBQUcsT0FBTyxRQUFXLE1BQU0sUUFBUSxLQUFLO0FBQzVFLFNBQUssS0FBSyxJQUFJLFFBQVEsTUFBTTtBQUU1QixVQUFNLGlCQUFpQixPQUFPLEtBQUssZUFBZTtBQUNsRCxRQUFJLGdCQUFnQjtBQUNoQixhQUFPLFNBQVM7QUFBQSxJQUNwQixPQUNLO0FBQ0QsWUFBTSxTQUFTO0FBQUEsUUFDWCxHQUFHO0FBQUEsUUFDSCxZQUFZLENBQUMsR0FBRyxRQUFRLFlBQVksTUFBTTtBQUFBLFFBQzFDLE1BQU0sUUFBUTtBQUFBLE1BQ2xCO0FBQ0EsWUFBTSxTQUFTLE9BQU8sS0FBSztBQUMzQixVQUFJLFFBQVE7QUFFUixlQUFPLE1BQU07QUFDYixhQUFLLFFBQVEsUUFBUSxNQUFNO0FBQzNCLGFBQUssS0FBSyxJQUFJLE1BQU0sRUFBRSxXQUFXO0FBQUEsTUFDckMsT0FDSztBQUNELGNBQU0sUUFBUSxPQUFPO0FBQ3JCLGdCQUFRLElBQUksTUFBTTtBQUFBLFVBQ2QsS0FBSyxVQUFVO0FBQ1gsa0JBQU1DLFFBQU87QUFDYixZQUFBQSxNQUFLLE9BQU87QUFDWixrQkFBTSxFQUFFLFNBQVMsU0FBUyxRQUFRLFVBQVUsZ0JBQWdCLElBQUksT0FBTyxLQUNsRTtBQUNMLGdCQUFJLE9BQU8sWUFBWTtBQUNuQixjQUFBQSxNQUFLLFlBQVk7QUFDckIsZ0JBQUksT0FBTyxZQUFZO0FBQ25CLGNBQUFBLE1BQUssWUFBWTtBQUVyQixnQkFBSSxRQUFRO0FBQ1IsY0FBQUEsTUFBSyxTQUFTLFVBQVUsTUFBTSxLQUFLO0FBQ25DLGtCQUFJQSxNQUFLLFdBQVc7QUFDaEIsdUJBQU9BLE1BQUs7QUFBQSxZQUNwQjtBQUNBLGdCQUFJO0FBQ0EsY0FBQUEsTUFBSyxrQkFBa0I7QUFDM0IsZ0JBQUksWUFBWSxTQUFTLE9BQU8sR0FBRztBQUMvQixvQkFBTSxVQUFVLENBQUMsR0FBRyxRQUFRO0FBQzVCLGtCQUFJLFFBQVEsV0FBVztBQUNuQixnQkFBQUEsTUFBSyxVQUFVLFFBQVEsQ0FBQyxFQUFFO0FBQUEsdUJBQ3JCLFFBQVEsU0FBUyxHQUFHO0FBQ3pCLHVCQUFPLE9BQU8sUUFBUTtBQUFBLGtCQUNsQixHQUFHLFFBQVEsSUFBSSxDQUFDLFdBQVc7QUFBQSxvQkFDdkIsR0FBSSxLQUFLLFdBQVcsYUFBYSxLQUFLLFdBQVcsYUFBYSxLQUFLLFdBQVcsZ0JBQ3hFLEVBQUUsTUFBTSxTQUFTLElBQ2pCLENBQUM7QUFBQSxvQkFDUCxTQUFTLE1BQU07QUFBQSxrQkFDbkIsRUFBRTtBQUFBLGdCQUNOO0FBQUEsY0FDSjtBQUFBLFlBQ0o7QUFDQTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssVUFBVTtBQUNYLGtCQUFNQSxRQUFPO0FBQ2Isa0JBQU0sRUFBRSxTQUFTLFNBQVMsUUFBUSxZQUFZLGtCQUFrQixpQkFBaUIsSUFBSSxPQUFPLEtBQUs7QUFDakcsZ0JBQUksT0FBTyxXQUFXLFlBQVksT0FBTyxTQUFTLEtBQUs7QUFDbkQsY0FBQUEsTUFBSyxPQUFPO0FBQUE7QUFFWixjQUFBQSxNQUFLLE9BQU87QUFDaEIsZ0JBQUksT0FBTyxxQkFBcUIsVUFBVTtBQUN0QyxrQkFBSSxLQUFLLFdBQVcsYUFBYSxLQUFLLFdBQVcsZUFBZTtBQUM1RCxnQkFBQUEsTUFBSyxVQUFVO0FBQ2YsZ0JBQUFBLE1BQUssbUJBQW1CO0FBQUEsY0FDNUIsT0FDSztBQUNELGdCQUFBQSxNQUFLLG1CQUFtQjtBQUFBLGNBQzVCO0FBQUEsWUFDSjtBQUNBLGdCQUFJLE9BQU8sWUFBWSxVQUFVO0FBQzdCLGNBQUFBLE1BQUssVUFBVTtBQUNmLGtCQUFJLE9BQU8scUJBQXFCLFlBQVksS0FBSyxXQUFXLFdBQVc7QUFDbkUsb0JBQUksb0JBQW9CO0FBQ3BCLHlCQUFPQSxNQUFLO0FBQUE7QUFFWix5QkFBT0EsTUFBSztBQUFBLGNBQ3BCO0FBQUEsWUFDSjtBQUNBLGdCQUFJLE9BQU8scUJBQXFCLFVBQVU7QUFDdEMsa0JBQUksS0FBSyxXQUFXLGFBQWEsS0FBSyxXQUFXLGVBQWU7QUFDNUQsZ0JBQUFBLE1BQUssVUFBVTtBQUNmLGdCQUFBQSxNQUFLLG1CQUFtQjtBQUFBLGNBQzVCLE9BQ0s7QUFDRCxnQkFBQUEsTUFBSyxtQkFBbUI7QUFBQSxjQUM1QjtBQUFBLFlBQ0o7QUFDQSxnQkFBSSxPQUFPLFlBQVksVUFBVTtBQUM3QixjQUFBQSxNQUFLLFVBQVU7QUFDZixrQkFBSSxPQUFPLHFCQUFxQixZQUFZLEtBQUssV0FBVyxXQUFXO0FBQ25FLG9CQUFJLG9CQUFvQjtBQUNwQix5QkFBT0EsTUFBSztBQUFBO0FBRVoseUJBQU9BLE1BQUs7QUFBQSxjQUNwQjtBQUFBLFlBQ0o7QUFDQSxnQkFBSSxPQUFPLGVBQWU7QUFDdEIsY0FBQUEsTUFBSyxhQUFhO0FBQ3RCO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxXQUFXO0FBQ1osa0JBQU1BLFFBQU87QUFDYixZQUFBQSxNQUFLLE9BQU87QUFDWjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssVUFBVTtBQUNYLGdCQUFJLEtBQUssb0JBQW9CLFNBQVM7QUFDbEMsb0JBQU0sSUFBSSxNQUFNLDZDQUE2QztBQUFBLFlBQ2pFO0FBQ0E7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFVBQVU7QUFDWCxnQkFBSSxLQUFLLG9CQUFvQixTQUFTO0FBQ2xDLG9CQUFNLElBQUksTUFBTSw4Q0FBOEM7QUFBQSxZQUNsRTtBQUNBO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxRQUFRO0FBQ1QsZ0JBQUksS0FBSyxXQUFXLGVBQWU7QUFDL0Isb0JBQU0sT0FBTztBQUNiLG9CQUFNLFdBQVc7QUFDakIsb0JBQU0sT0FBTyxDQUFDLElBQUk7QUFBQSxZQUN0QjtBQUVJLG9CQUFNLE9BQU87QUFDakI7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLE9BQU87QUFDUjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssV0FBVztBQUNaO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxhQUFhO0FBQ2QsZ0JBQUksS0FBSyxvQkFBb0IsU0FBUztBQUNsQyxvQkFBTSxJQUFJLE1BQU0sZ0RBQWdEO0FBQUEsWUFDcEU7QUFDQTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssUUFBUTtBQUNULGdCQUFJLEtBQUssb0JBQW9CLFNBQVM7QUFDbEMsb0JBQU0sSUFBSSxNQUFNLDJDQUEyQztBQUFBLFlBQy9EO0FBQ0E7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFNBQVM7QUFDVixrQkFBTSxNQUFNLENBQUM7QUFDYjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssUUFBUTtBQUNULGdCQUFJLEtBQUssb0JBQW9CLFNBQVM7QUFDbEMsb0JBQU0sSUFBSSxNQUFNLDJDQUEyQztBQUFBLFlBQy9EO0FBQ0E7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFNBQVM7QUFDVixrQkFBTUEsUUFBTztBQUNiLGtCQUFNLEVBQUUsU0FBUyxRQUFRLElBQUksT0FBTyxLQUFLO0FBQ3pDLGdCQUFJLE9BQU8sWUFBWTtBQUNuQixjQUFBQSxNQUFLLFdBQVc7QUFDcEIsZ0JBQUksT0FBTyxZQUFZO0FBQ25CLGNBQUFBLE1BQUssV0FBVztBQUNwQixZQUFBQSxNQUFLLE9BQU87QUFDWixZQUFBQSxNQUFLLFFBQVEsS0FBSyxRQUFRLElBQUksU0FBUyxFQUFFLEdBQUcsUUFBUSxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU0sT0FBTyxFQUFFLENBQUM7QUFDckY7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFVBQVU7QUFDWCxrQkFBTUEsUUFBTztBQUNiLFlBQUFBLE1BQUssT0FBTztBQUNaLFlBQUFBLE1BQUssYUFBYSxDQUFDO0FBQ25CLGtCQUFNLFFBQVEsSUFBSTtBQUNsQix1QkFBVyxPQUFPLE9BQU87QUFDckIsY0FBQUEsTUFBSyxXQUFXLEdBQUcsSUFBSSxLQUFLLFFBQVEsTUFBTSxHQUFHLEdBQUc7QUFBQSxnQkFDNUMsR0FBRztBQUFBLGdCQUNILE1BQU0sQ0FBQyxHQUFHLE9BQU8sTUFBTSxjQUFjLEdBQUc7QUFBQSxjQUM1QyxDQUFDO0FBQUEsWUFDTDtBQUVBLGtCQUFNLFVBQVUsSUFBSSxJQUFJLE9BQU8sS0FBSyxLQUFLLENBQUM7QUFFMUMsa0JBQU0sZUFBZSxJQUFJLElBQUksQ0FBQyxHQUFHLE9BQU8sRUFBRSxPQUFPLENBQUMsUUFBUTtBQUN0RCxvQkFBTSxJQUFJLElBQUksTUFBTSxHQUFHLEVBQUU7QUFDekIsa0JBQUksS0FBSyxPQUFPLFNBQVM7QUFDckIsdUJBQU8sRUFBRSxVQUFVO0FBQUEsY0FDdkIsT0FDSztBQUNELHVCQUFPLEVBQUUsV0FBVztBQUFBLGNBQ3hCO0FBQUEsWUFDSixDQUFDLENBQUM7QUFDRixnQkFBSSxhQUFhLE9BQU8sR0FBRztBQUN2QixjQUFBQSxNQUFLLFdBQVcsTUFBTSxLQUFLLFlBQVk7QUFBQSxZQUMzQztBQUVBLGdCQUFJLElBQUksVUFBVSxLQUFLLElBQUksU0FBUyxTQUFTO0FBRXpDLGNBQUFBLE1BQUssdUJBQXVCO0FBQUEsWUFDaEMsV0FDUyxDQUFDLElBQUksVUFBVTtBQUVwQixrQkFBSSxLQUFLLE9BQU87QUFDWixnQkFBQUEsTUFBSyx1QkFBdUI7QUFBQSxZQUNwQyxXQUNTLElBQUksVUFBVTtBQUNuQixjQUFBQSxNQUFLLHVCQUF1QixLQUFLLFFBQVEsSUFBSSxVQUFVO0FBQUEsZ0JBQ25ELEdBQUc7QUFBQSxnQkFDSCxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU0sc0JBQXNCO0FBQUEsY0FDakQsQ0FBQztBQUFBLFlBQ0w7QUFDQTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssU0FBUztBQUNWLGtCQUFNQSxRQUFPO0FBQ2Isa0JBQU0sVUFBVSxJQUFJLFFBQVEsSUFBSSxDQUFDLEdBQUdDLE9BQU0sS0FBSyxRQUFRLEdBQUc7QUFBQSxjQUN0RCxHQUFHO0FBQUEsY0FDSCxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU0sU0FBU0EsRUFBQztBQUFBLFlBQ3JDLENBQUMsQ0FBQztBQUNGLFlBQUFELE1BQUssUUFBUTtBQUNiO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxnQkFBZ0I7QUFDakIsa0JBQU1BLFFBQU87QUFDYixrQkFBTUUsS0FBSSxLQUFLLFFBQVEsSUFBSSxNQUFNO0FBQUEsY0FDN0IsR0FBRztBQUFBLGNBQ0gsTUFBTSxDQUFDLEdBQUcsT0FBTyxNQUFNLFNBQVMsQ0FBQztBQUFBLFlBQ3JDLENBQUM7QUFDRCxrQkFBTSxJQUFJLEtBQUssUUFBUSxJQUFJLE9BQU87QUFBQSxjQUM5QixHQUFHO0FBQUEsY0FDSCxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU0sU0FBUyxDQUFDO0FBQUEsWUFDckMsQ0FBQztBQUNELGtCQUFNLHVCQUF1QixDQUFDLFFBQVEsV0FBVyxPQUFPLE9BQU8sS0FBSyxHQUFHLEVBQUUsV0FBVztBQUNwRixrQkFBTSxRQUFRO0FBQUEsY0FDVixHQUFJLHFCQUFxQkEsRUFBQyxJQUFJQSxHQUFFLFFBQVEsQ0FBQ0EsRUFBQztBQUFBLGNBQzFDLEdBQUkscUJBQXFCLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQUEsWUFDOUM7QUFDQSxZQUFBRixNQUFLLFFBQVE7QUFDYjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssU0FBUztBQUNWLGtCQUFNQSxRQUFPO0FBQ2IsWUFBQUEsTUFBSyxPQUFPO0FBQ1osa0JBQU0sYUFBYSxLQUFLLFdBQVcsa0JBQWtCLGdCQUFnQjtBQUNyRSxrQkFBTSxXQUFXLEtBQUssV0FBVyxrQkFBa0IsVUFBVSxLQUFLLFdBQVcsZ0JBQWdCLFVBQVU7QUFDdkcsa0JBQU0sY0FBYyxJQUFJLE1BQU0sSUFBSSxDQUFDLEdBQUdDLE9BQU0sS0FBSyxRQUFRLEdBQUc7QUFBQSxjQUN4RCxHQUFHO0FBQUEsY0FDSCxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU0sWUFBWUEsRUFBQztBQUFBLFlBQ3hDLENBQUMsQ0FBQztBQUNGLGtCQUFNLE9BQU8sSUFBSSxPQUNYLEtBQUssUUFBUSxJQUFJLE1BQU07QUFBQSxjQUNyQixHQUFHO0FBQUEsY0FDSCxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU0sVUFBVSxHQUFJLEtBQUssV0FBVyxnQkFBZ0IsQ0FBQyxJQUFJLE1BQU0sTUFBTSxJQUFJLENBQUMsQ0FBRTtBQUFBLFlBQ2pHLENBQUMsSUFDQztBQUNOLGdCQUFJLEtBQUssV0FBVyxpQkFBaUI7QUFDakMsY0FBQUQsTUFBSyxjQUFjO0FBQ25CLGtCQUFJLE1BQU07QUFDTixnQkFBQUEsTUFBSyxRQUFRO0FBQUEsY0FDakI7QUFBQSxZQUNKLFdBQ1MsS0FBSyxXQUFXLGVBQWU7QUFDcEMsY0FBQUEsTUFBSyxRQUFRO0FBQUEsZ0JBQ1QsT0FBTztBQUFBLGNBQ1g7QUFDQSxrQkFBSSxNQUFNO0FBQ04sZ0JBQUFBLE1BQUssTUFBTSxNQUFNLEtBQUssSUFBSTtBQUFBLGNBQzlCO0FBQ0EsY0FBQUEsTUFBSyxXQUFXLFlBQVk7QUFDNUIsa0JBQUksQ0FBQyxNQUFNO0FBQ1AsZ0JBQUFBLE1BQUssV0FBVyxZQUFZO0FBQUEsY0FDaEM7QUFBQSxZQUNKLE9BQ0s7QUFDRCxjQUFBQSxNQUFLLFFBQVE7QUFDYixrQkFBSSxNQUFNO0FBQ04sZ0JBQUFBLE1BQUssa0JBQWtCO0FBQUEsY0FDM0I7QUFBQSxZQUNKO0FBRUEsa0JBQU0sRUFBRSxTQUFTLFFBQVEsSUFBSSxPQUFPLEtBQUs7QUFDekMsZ0JBQUksT0FBTyxZQUFZO0FBQ25CLGNBQUFBLE1BQUssV0FBVztBQUNwQixnQkFBSSxPQUFPLFlBQVk7QUFDbkIsY0FBQUEsTUFBSyxXQUFXO0FBQ3BCO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxVQUFVO0FBQ1gsa0JBQU1BLFFBQU87QUFDYixZQUFBQSxNQUFLLE9BQU87QUFDWixnQkFBSSxLQUFLLFdBQVcsYUFBYSxLQUFLLFdBQVcsaUJBQWlCO0FBQzlELGNBQUFBLE1BQUssZ0JBQWdCLEtBQUssUUFBUSxJQUFJLFNBQVM7QUFBQSxnQkFDM0MsR0FBRztBQUFBLGdCQUNILE1BQU0sQ0FBQyxHQUFHLE9BQU8sTUFBTSxlQUFlO0FBQUEsY0FDMUMsQ0FBQztBQUFBLFlBQ0w7QUFDQSxZQUFBQSxNQUFLLHVCQUF1QixLQUFLLFFBQVEsSUFBSSxXQUFXO0FBQUEsY0FDcEQsR0FBRztBQUFBLGNBQ0gsTUFBTSxDQUFDLEdBQUcsT0FBTyxNQUFNLHNCQUFzQjtBQUFBLFlBQ2pELENBQUM7QUFDRDtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssT0FBTztBQUNSLGdCQUFJLEtBQUssb0JBQW9CLFNBQVM7QUFDbEMsb0JBQU0sSUFBSSxNQUFNLDBDQUEwQztBQUFBLFlBQzlEO0FBQ0E7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLE9BQU87QUFDUixnQkFBSSxLQUFLLG9CQUFvQixTQUFTO0FBQ2xDLG9CQUFNLElBQUksTUFBTSwwQ0FBMEM7QUFBQSxZQUM5RDtBQUNBO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxRQUFRO0FBQ1Qsa0JBQU1BLFFBQU87QUFDYixrQkFBTSxTQUFTLGNBQWMsSUFBSSxPQUFPO0FBRXhDLGdCQUFJLE9BQU8sTUFBTSxDQUFDLE1BQU0sT0FBTyxNQUFNLFFBQVE7QUFDekMsY0FBQUEsTUFBSyxPQUFPO0FBQ2hCLGdCQUFJLE9BQU8sTUFBTSxDQUFDLE1BQU0sT0FBTyxNQUFNLFFBQVE7QUFDekMsY0FBQUEsTUFBSyxPQUFPO0FBQ2hCLFlBQUFBLE1BQUssT0FBTztBQUNaO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxXQUFXO0FBQ1osa0JBQU1BLFFBQU87QUFDYixrQkFBTSxPQUFPLENBQUM7QUFDZCx1QkFBVyxPQUFPLElBQUksUUFBUTtBQUMxQixrQkFBSSxRQUFRLFFBQVc7QUFDbkIsb0JBQUksS0FBSyxvQkFBb0IsU0FBUztBQUNsQyx3QkFBTSxJQUFJLE1BQU0sMERBQTBEO0FBQUEsZ0JBQzlFLE9BQ0s7QUFBQSxnQkFFTDtBQUFBLGNBQ0osV0FDUyxPQUFPLFFBQVEsVUFBVTtBQUM5QixvQkFBSSxLQUFLLG9CQUFvQixTQUFTO0FBQ2xDLHdCQUFNLElBQUksTUFBTSxzREFBc0Q7QUFBQSxnQkFDMUUsT0FDSztBQUNELHVCQUFLLEtBQUssT0FBTyxHQUFHLENBQUM7QUFBQSxnQkFDekI7QUFBQSxjQUNKLE9BQ0s7QUFDRCxxQkFBSyxLQUFLLEdBQUc7QUFBQSxjQUNqQjtBQUFBLFlBQ0o7QUFDQSxnQkFBSSxLQUFLLFdBQVcsR0FBRztBQUFBLFlBRXZCLFdBQ1MsS0FBSyxXQUFXLEdBQUc7QUFDeEIsb0JBQU0sTUFBTSxLQUFLLENBQUM7QUFDbEIsY0FBQUEsTUFBSyxPQUFPLFFBQVEsT0FBTyxTQUFTLE9BQU87QUFDM0Msa0JBQUksS0FBSyxXQUFXLGFBQWEsS0FBSyxXQUFXLGVBQWU7QUFDNUQsZ0JBQUFBLE1BQUssT0FBTyxDQUFDLEdBQUc7QUFBQSxjQUNwQixPQUNLO0FBQ0QsZ0JBQUFBLE1BQUssUUFBUTtBQUFBLGNBQ2pCO0FBQUEsWUFDSixPQUNLO0FBQ0Qsa0JBQUksS0FBSyxNQUFNLENBQUMsTUFBTSxPQUFPLE1BQU0sUUFBUTtBQUN2QyxnQkFBQUEsTUFBSyxPQUFPO0FBQ2hCLGtCQUFJLEtBQUssTUFBTSxDQUFDLE1BQU0sT0FBTyxNQUFNLFFBQVE7QUFDdkMsZ0JBQUFBLE1BQUssT0FBTztBQUNoQixrQkFBSSxLQUFLLE1BQU0sQ0FBQyxNQUFNLE9BQU8sTUFBTSxTQUFTO0FBQ3hDLGdCQUFBQSxNQUFLLE9BQU87QUFDaEIsa0JBQUksS0FBSyxNQUFNLENBQUMsTUFBTSxNQUFNLElBQUk7QUFDNUIsZ0JBQUFBLE1BQUssT0FBTztBQUNoQixjQUFBQSxNQUFLLE9BQU87QUFBQSxZQUNoQjtBQUNBO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxRQUFRO0FBQ1Qsa0JBQU1BLFFBQU87QUFDYixrQkFBTUcsUUFBTztBQUFBLGNBQ1QsTUFBTTtBQUFBLGNBQ04sUUFBUTtBQUFBLGNBQ1IsaUJBQWlCO0FBQUEsWUFDckI7QUFDQSxrQkFBTSxFQUFFLFNBQVMsU0FBUyxLQUFLLElBQUksT0FBTyxLQUFLO0FBQy9DLGdCQUFJLFlBQVk7QUFDWixjQUFBQSxNQUFLLFlBQVk7QUFDckIsZ0JBQUksWUFBWTtBQUNaLGNBQUFBLE1BQUssWUFBWTtBQUNyQixnQkFBSSxNQUFNO0FBQ04sa0JBQUksS0FBSyxXQUFXLEdBQUc7QUFDbkIsZ0JBQUFBLE1BQUssbUJBQW1CLEtBQUssQ0FBQztBQUM5Qix1QkFBTyxPQUFPSCxPQUFNRyxLQUFJO0FBQUEsY0FDNUIsT0FDSztBQUNELGdCQUFBSCxNQUFLLFFBQVEsS0FBSyxJQUFJLENBQUMsTUFBTTtBQUN6Qix3QkFBTSxRQUFRLEVBQUUsR0FBR0csT0FBTSxrQkFBa0IsRUFBRTtBQUM3Qyx5QkFBTztBQUFBLGdCQUNYLENBQUM7QUFBQSxjQUNMO0FBQUEsWUFDSixPQUNLO0FBQ0QscUJBQU8sT0FBT0gsT0FBTUcsS0FBSTtBQUFBLFlBQzVCO0FBSUE7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLGFBQWE7QUFDZCxnQkFBSSxLQUFLLG9CQUFvQixTQUFTO0FBQ2xDLG9CQUFNLElBQUksTUFBTSxpREFBaUQ7QUFBQSxZQUNyRTtBQUNBO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxZQUFZO0FBQ2Isa0JBQU0sUUFBUSxLQUFLLFFBQVEsSUFBSSxXQUFXLE1BQU07QUFDaEQsZ0JBQUksS0FBSyxXQUFXLGVBQWU7QUFDL0IscUJBQU8sTUFBTSxJQUFJO0FBQ2pCLG9CQUFNLFdBQVc7QUFBQSxZQUNyQixPQUNLO0FBQ0Qsb0JBQU0sUUFBUSxDQUFDLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUFBLFlBQzFDO0FBQ0E7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLGVBQWU7QUFDaEIsaUJBQUssUUFBUSxJQUFJLFdBQVcsTUFBTTtBQUNsQyxtQkFBTyxNQUFNLElBQUk7QUFDakI7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFdBQVc7QUFDWixrQkFBTUgsUUFBTztBQUNiLFlBQUFBLE1BQUssT0FBTztBQUNaO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxXQUFXO0FBQ1osaUJBQUssUUFBUSxJQUFJLFdBQVcsTUFBTTtBQUNsQyxtQkFBTyxNQUFNLElBQUk7QUFDakIsa0JBQU0sVUFBVSxLQUFLLE1BQU0sS0FBSyxVQUFVLElBQUksWUFBWSxDQUFDO0FBQzNEO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxZQUFZO0FBQ2IsaUJBQUssUUFBUSxJQUFJLFdBQVcsTUFBTTtBQUNsQyxtQkFBTyxNQUFNLElBQUk7QUFDakIsZ0JBQUksS0FBSyxPQUFPO0FBQ1osb0JBQU0sWUFBWSxLQUFLLE1BQU0sS0FBSyxVQUFVLElBQUksWUFBWSxDQUFDO0FBQ2pFO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxTQUFTO0FBRVYsaUJBQUssUUFBUSxJQUFJLFdBQVcsTUFBTTtBQUNsQyxtQkFBTyxNQUFNLElBQUk7QUFDakIsZ0JBQUk7QUFDSixnQkFBSTtBQUNBLDJCQUFhLElBQUksV0FBVyxNQUFTO0FBQUEsWUFDekMsUUFDTTtBQUNGLG9CQUFNLElBQUksTUFBTSx1REFBdUQ7QUFBQSxZQUMzRTtBQUNBLGtCQUFNLFVBQVU7QUFDaEI7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLE9BQU87QUFDUixnQkFBSSxLQUFLLG9CQUFvQixTQUFTO0FBQ2xDLG9CQUFNLElBQUksTUFBTSwwQ0FBMEM7QUFBQSxZQUM5RDtBQUNBO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxvQkFBb0I7QUFDckIsa0JBQU1BLFFBQU87QUFDYixrQkFBTSxVQUFVLE9BQU8sS0FBSztBQUM1QixnQkFBSSxDQUFDO0FBQ0Qsb0JBQU0sSUFBSSxNQUFNLHVDQUF1QztBQUMzRCxZQUFBQSxNQUFLLE9BQU87QUFDWixZQUFBQSxNQUFLLFVBQVUsUUFBUTtBQUN2QjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssUUFBUTtBQUNULGtCQUFNLFlBQVksS0FBSyxPQUFPLFVBQVcsSUFBSSxHQUFHLEtBQUssSUFBSSxTQUFTLGNBQWMsSUFBSSxNQUFNLElBQUksS0FBTSxJQUFJO0FBQ3hHLGlCQUFLLFFBQVEsV0FBVyxNQUFNO0FBQzlCLG1CQUFPLE1BQU07QUFDYjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssWUFBWTtBQUNiLGlCQUFLLFFBQVEsSUFBSSxXQUFXLE1BQU07QUFDbEMsbUJBQU8sTUFBTSxJQUFJO0FBQ2pCLGtCQUFNLFdBQVc7QUFDakI7QUFBQSxVQUNKO0FBQUE7QUFBQSxVQUVBLEtBQUssV0FBVztBQUNaLGlCQUFLLFFBQVEsSUFBSSxXQUFXLE1BQU07QUFDbEMsbUJBQU8sTUFBTSxJQUFJO0FBQ2pCO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxZQUFZO0FBQ2IsaUJBQUssUUFBUSxJQUFJLFdBQVcsTUFBTTtBQUNsQyxtQkFBTyxNQUFNLElBQUk7QUFDakI7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFFBQVE7QUFDVCxrQkFBTSxZQUFZLE9BQU8sS0FBSztBQUM5QixpQkFBSyxRQUFRLFdBQVcsTUFBTTtBQUM5QixtQkFBTyxNQUFNO0FBQ2I7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFVBQVU7QUFDWCxnQkFBSSxLQUFLLG9CQUFvQixTQUFTO0FBQ2xDLG9CQUFNLElBQUksTUFBTSxtREFBbUQ7QUFBQSxZQUN2RTtBQUNBO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxZQUFZO0FBQ2IsZ0JBQUksS0FBSyxvQkFBb0IsU0FBUztBQUNsQyxvQkFBTSxJQUFJLE1BQU0scURBQXFEO0FBQUEsWUFDekU7QUFDQTtBQUFBLFVBQ0o7QUFBQSxVQUNBLFNBQVM7QUFDTDtBQUFBLFVBQ0o7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFFQSxVQUFNLE9BQU8sS0FBSyxpQkFBaUIsSUFBSSxNQUFNO0FBQzdDLFFBQUk7QUFDQSxhQUFPLE9BQU8sT0FBTyxRQUFRLElBQUk7QUFDckMsUUFBSSxLQUFLLE9BQU8sV0FBVyxlQUFlLE1BQU0sR0FBRztBQUUvQyxhQUFPLE9BQU8sT0FBTztBQUNyQixhQUFPLE9BQU8sT0FBTztBQUFBLElBQ3pCO0FBRUEsUUFBSSxLQUFLLE9BQU8sV0FBVyxPQUFPLE9BQU87QUFDckMsT0FBQ0QsT0FBSyxPQUFPLFFBQVEsWUFBWUEsS0FBRyxVQUFVLE9BQU8sT0FBTztBQUNoRSxXQUFPLE9BQU8sT0FBTztBQUVyQixVQUFNLFVBQVUsS0FBSyxLQUFLLElBQUksTUFBTTtBQUNwQyxXQUFPLFFBQVE7QUFBQSxFQUNuQjtBQUFBLEVBQ0EsS0FBSyxRQUFRLFNBQVM7QUFDbEIsVUFBTSxTQUFTO0FBQUEsTUFDWCxRQUFRLFNBQVMsVUFBVTtBQUFBLE1BQzNCLFFBQVEsU0FBUyxVQUFVO0FBQUE7QUFBQTtBQUFBLE1BRzNCLFVBQVUsU0FBUyxZQUFZO0FBQUEsSUFDbkM7QUFFQSxVQUFNLE9BQU8sS0FBSyxLQUFLLElBQUksTUFBTTtBQUNqQyxRQUFJLENBQUM7QUFDRCxZQUFNLElBQUksTUFBTSwyQ0FBMkM7QUFLL0QsVUFBTSxVQUFVLENBQUMsVUFBVTtBQUt2QixZQUFNLGNBQWMsS0FBSyxXQUFXLGtCQUFrQixVQUFVO0FBQ2hFLFVBQUksT0FBTyxVQUFVO0FBQ2pCLGNBQU0sYUFBYSxPQUFPLFNBQVMsU0FBUyxJQUFJLE1BQU0sQ0FBQyxDQUFDLEdBQUc7QUFFM0QsY0FBTSxlQUFlLE9BQU8sU0FBUyxRQUFRLENBQUNLLFFBQU9BO0FBQ3JELFlBQUksWUFBWTtBQUNaLGlCQUFPLEVBQUUsS0FBSyxhQUFhLFVBQVUsRUFBRTtBQUFBLFFBQzNDO0FBRUEsY0FBTSxLQUFLLE1BQU0sQ0FBQyxFQUFFLFNBQVMsTUFBTSxDQUFDLEVBQUUsT0FBTyxNQUFNLFNBQVMsS0FBSyxTQUFTO0FBQzFFLGNBQU0sQ0FBQyxFQUFFLFFBQVE7QUFDakIsZUFBTyxFQUFFLE9BQU8sSUFBSSxLQUFLLEdBQUcsYUFBYSxVQUFVLENBQUMsS0FBSyxXQUFXLElBQUksRUFBRSxHQUFHO0FBQUEsTUFDakY7QUFDQSxVQUFJLE1BQU0sQ0FBQyxNQUFNLE1BQU07QUFDbkIsZUFBTyxFQUFFLEtBQUssSUFBSTtBQUFBLE1BQ3RCO0FBRUEsWUFBTSxZQUFZO0FBQ2xCLFlBQU0sZUFBZSxHQUFHLFNBQVMsSUFBSSxXQUFXO0FBQ2hELFlBQU0sUUFBUSxNQUFNLENBQUMsRUFBRSxPQUFPLE1BQU0sV0FBVyxLQUFLLFNBQVM7QUFDN0QsYUFBTyxFQUFFLE9BQU8sS0FBSyxlQUFlLE1BQU07QUFBQSxJQUM5QztBQUdBLFVBQU0sZUFBZSxDQUFDLFVBQVU7QUFFNUIsVUFBSSxNQUFNLENBQUMsRUFBRSxPQUFPLE1BQU07QUFDdEI7QUFBQSxNQUNKO0FBQ0EsWUFBTSxPQUFPLE1BQU0sQ0FBQztBQUNwQixZQUFNLEVBQUUsS0FBSyxNQUFNLElBQUksUUFBUSxLQUFLO0FBQ3BDLFdBQUssTUFBTSxFQUFFLEdBQUcsS0FBSyxPQUFPO0FBRTVCLFVBQUk7QUFDQSxhQUFLLFFBQVE7QUFFakIsWUFBTUMsVUFBUyxLQUFLO0FBQ3BCLGlCQUFXLE9BQU9BLFNBQVE7QUFDdEIsZUFBT0EsUUFBTyxHQUFHO0FBQUEsTUFDckI7QUFDQSxNQUFBQSxRQUFPLE9BQU87QUFBQSxJQUNsQjtBQUdBLFFBQUksT0FBTyxXQUFXLFNBQVM7QUFDM0IsaUJBQVcsU0FBUyxLQUFLLEtBQUssUUFBUSxHQUFHO0FBQ3JDLGNBQU0sT0FBTyxNQUFNLENBQUM7QUFDcEIsWUFBSSxLQUFLLE9BQU87QUFDWixnQkFBTSxJQUFJLE1BQU0scUJBQ1AsS0FBSyxPQUFPLEtBQUssR0FBRyxDQUFDO0FBQUE7QUFBQSxpRkFDd0Q7QUFBQSxRQUMxRjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBRUEsZUFBVyxTQUFTLEtBQUssS0FBSyxRQUFRLEdBQUc7QUFDckMsWUFBTSxPQUFPLE1BQU0sQ0FBQztBQUVwQixVQUFJLFdBQVcsTUFBTSxDQUFDLEdBQUc7QUFDckIscUJBQWEsS0FBSztBQUNsQjtBQUFBLE1BQ0o7QUFFQSxVQUFJLE9BQU8sVUFBVTtBQUNqQixjQUFNLE1BQU0sT0FBTyxTQUFTLFNBQVMsSUFBSSxNQUFNLENBQUMsQ0FBQyxHQUFHO0FBQ3BELFlBQUksV0FBVyxNQUFNLENBQUMsS0FBSyxLQUFLO0FBQzVCLHVCQUFhLEtBQUs7QUFDbEI7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUVBLFlBQU0sS0FBSyxLQUFLLGlCQUFpQixJQUFJLE1BQU0sQ0FBQyxDQUFDLEdBQUc7QUFDaEQsVUFBSSxJQUFJO0FBQ0oscUJBQWEsS0FBSztBQUNsQjtBQUFBLE1BQ0o7QUFFQSxVQUFJLEtBQUssT0FBTztBQUVaLHFCQUFhLEtBQUs7QUFDbEI7QUFBQSxNQUNKO0FBRUEsVUFBSSxLQUFLLFFBQVEsR0FBRztBQUNoQixZQUFJLE9BQU8sV0FBVyxPQUFPO0FBQ3pCLHVCQUFhLEtBQUs7QUFFbEI7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFFQSxVQUFNLGFBQWEsQ0FBQ0MsWUFBV0MsWUFBVztBQUN0QyxZQUFNLE9BQU8sS0FBSyxLQUFLLElBQUlELFVBQVM7QUFDcEMsWUFBTUQsVUFBUyxLQUFLLE9BQU8sS0FBSztBQUNoQyxZQUFNLFVBQVUsRUFBRSxHQUFHQSxRQUFPO0FBRTVCLFVBQUksS0FBSyxRQUFRLE1BQU07QUFDbkI7QUFBQSxNQUNKO0FBRUEsWUFBTSxNQUFNLEtBQUs7QUFDakIsV0FBSyxNQUFNO0FBQ1gsVUFBSSxLQUFLO0FBQ0wsbUJBQVcsS0FBS0UsT0FBTTtBQUV0QixjQUFNLFlBQVksS0FBSyxLQUFLLElBQUksR0FBRyxFQUFFO0FBQ3JDLFlBQUksVUFBVSxTQUNUQSxRQUFPLFdBQVcsYUFBYUEsUUFBTyxXQUFXLGFBQWFBLFFBQU8sV0FBVyxnQkFBZ0I7QUFDakcsVUFBQUYsUUFBTyxRQUFRQSxRQUFPLFNBQVMsQ0FBQztBQUNoQyxVQUFBQSxRQUFPLE1BQU0sS0FBSyxTQUFTO0FBQUEsUUFDL0IsT0FDSztBQUNELGlCQUFPLE9BQU9BLFNBQVEsU0FBUztBQUMvQixpQkFBTyxPQUFPQSxTQUFRLE9BQU87QUFBQSxRQUNqQztBQUFBLE1BQ0o7QUFFQSxVQUFJLENBQUMsS0FBSztBQUNOLGFBQUssU0FBUztBQUFBLFVBQ1YsV0FBV0M7QUFBQSxVQUNYLFlBQVlEO0FBQUEsVUFDWixNQUFNLEtBQUssUUFBUSxDQUFDO0FBQUEsUUFDeEIsQ0FBQztBQUFBLElBQ1Q7QUFDQSxlQUFXLFNBQVMsQ0FBQyxHQUFHLEtBQUssS0FBSyxRQUFRLENBQUMsRUFBRSxRQUFRLEdBQUc7QUFDcEQsaUJBQVcsTUFBTSxDQUFDLEdBQUcsRUFBRSxRQUFRLEtBQUssT0FBTyxDQUFDO0FBQUEsSUFDaEQ7QUFDQSxVQUFNLFNBQVMsQ0FBQztBQUNoQixRQUFJLEtBQUssV0FBVyxpQkFBaUI7QUFDakMsYUFBTyxVQUFVO0FBQUEsSUFDckIsV0FDUyxLQUFLLFdBQVcsV0FBVztBQUNoQyxhQUFPLFVBQVU7QUFBQSxJQUNyQixXQUNTLEtBQUssV0FBVyxXQUFXO0FBQ2hDLGFBQU8sVUFBVTtBQUFBLElBQ3JCLFdBQ1MsS0FBSyxXQUFXLGVBQWU7QUFBQSxJQUV4QyxPQUNLO0FBRUQsY0FBUSxLQUFLLG1CQUFtQixLQUFLLE1BQU0sRUFBRTtBQUFBLElBQ2pEO0FBQ0EsUUFBSSxPQUFPLFVBQVUsS0FBSztBQUN0QixZQUFNLEtBQUssT0FBTyxTQUFTLFNBQVMsSUFBSSxNQUFNLEdBQUc7QUFDakQsVUFBSSxDQUFDO0FBQ0QsY0FBTSxJQUFJLE1BQU0sb0NBQW9DO0FBQ3hELGFBQU8sTUFBTSxPQUFPLFNBQVMsSUFBSSxFQUFFO0FBQUEsSUFDdkM7QUFDQSxXQUFPLE9BQU8sUUFBUSxLQUFLLEdBQUc7QUFFOUIsVUFBTSxPQUFPLE9BQU8sVUFBVSxRQUFRLENBQUM7QUFDdkMsZUFBVyxTQUFTLEtBQUssS0FBSyxRQUFRLEdBQUc7QUFDckMsWUFBTSxPQUFPLE1BQU0sQ0FBQztBQUNwQixVQUFJLEtBQUssT0FBTyxLQUFLLE9BQU87QUFDeEIsYUFBSyxLQUFLLEtBQUssSUFBSSxLQUFLO0FBQUEsTUFDNUI7QUFBQSxJQUNKO0FBRUEsUUFBSSxPQUFPLFVBQVU7QUFBQSxJQUNyQixPQUNLO0FBQ0QsVUFBSSxPQUFPLEtBQUssSUFBSSxFQUFFLFNBQVMsR0FBRztBQUM5QixZQUFJLEtBQUssV0FBVyxpQkFBaUI7QUFDakMsaUJBQU8sUUFBUTtBQUFBLFFBQ25CLE9BQ0s7QUFDRCxpQkFBTyxjQUFjO0FBQUEsUUFDekI7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUNBLFFBQUk7QUFJQSxhQUFPLEtBQUssTUFBTSxLQUFLLFVBQVUsTUFBTSxDQUFDO0FBQUEsSUFDNUMsU0FDTyxNQUFNO0FBQ1QsWUFBTSxJQUFJLE1BQU0sa0NBQWtDO0FBQUEsSUFDdEQ7QUFBQSxFQUNKO0FBQ0o7QUFDTyxTQUFTLGFBQWEsT0FBTyxTQUFTO0FBQ3pDLE1BQUksaUJBQWlCLGNBQWM7QUFDL0IsVUFBTUcsT0FBTSxJQUFJLG9CQUFvQixPQUFPO0FBQzNDLFVBQU0sT0FBTyxDQUFDO0FBQ2QsZUFBVyxTQUFTLE1BQU0sT0FBTyxRQUFRLEdBQUc7QUFDeEMsWUFBTSxDQUFDLEdBQUcsTUFBTSxJQUFJO0FBQ3BCLE1BQUFBLEtBQUksUUFBUSxNQUFNO0FBQUEsSUFDdEI7QUFDQSxVQUFNLFVBQVUsQ0FBQztBQUNqQixVQUFNLFdBQVc7QUFBQSxNQUNiLFVBQVU7QUFBQSxNQUNWLEtBQUssU0FBUztBQUFBLE1BQ2Q7QUFBQSxJQUNKO0FBQ0EsZUFBVyxTQUFTLE1BQU0sT0FBTyxRQUFRLEdBQUc7QUFDeEMsWUFBTSxDQUFDLEtBQUssTUFBTSxJQUFJO0FBQ3RCLGNBQVEsR0FBRyxJQUFJQSxLQUFJLEtBQUssUUFBUTtBQUFBLFFBQzVCLEdBQUc7QUFBQSxRQUNIO0FBQUEsTUFDSixDQUFDO0FBQUEsSUFDTDtBQUNBLFFBQUksT0FBTyxLQUFLLElBQUksRUFBRSxTQUFTLEdBQUc7QUFDOUIsWUFBTSxjQUFjQSxLQUFJLFdBQVcsa0JBQWtCLFVBQVU7QUFDL0QsY0FBUSxXQUFXO0FBQUEsUUFDZixDQUFDLFdBQVcsR0FBRztBQUFBLE1BQ25CO0FBQUEsSUFDSjtBQUNBLFdBQU8sRUFBRSxRQUFRO0FBQUEsRUFDckI7QUFDQSxRQUFNLE1BQU0sSUFBSSxvQkFBb0IsT0FBTztBQUMzQyxNQUFJLFFBQVEsS0FBSztBQUNqQixTQUFPLElBQUksS0FBSyxPQUFPLE9BQU87QUFDbEM7QUFDQSxTQUFTLGVBQWUsU0FBUyxNQUFNO0FBQ25DLFFBQU0sTUFBTSxRQUFRLEVBQUUsTUFBTSxvQkFBSSxJQUFJLEVBQUU7QUFDdEMsTUFBSSxJQUFJLEtBQUssSUFBSSxPQUFPO0FBQ3BCLFdBQU87QUFDWCxNQUFJLEtBQUssSUFBSSxPQUFPO0FBQ3BCLFFBQU0sU0FBUztBQUNmLFFBQU0sTUFBTSxPQUFPLEtBQUs7QUFDeEIsVUFBUSxJQUFJLE1BQU07QUFBQSxJQUNkLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFDRCxhQUFPO0FBQUEsSUFDWCxLQUFLLFNBQVM7QUFDVixhQUFPLGVBQWUsSUFBSSxTQUFTLEdBQUc7QUFBQSxJQUMxQztBQUFBLElBQ0EsS0FBSyxVQUFVO0FBQ1gsaUJBQVcsT0FBTyxJQUFJLE9BQU87QUFDekIsWUFBSSxlQUFlLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRztBQUNsQyxpQkFBTztBQUFBLE1BQ2Y7QUFDQSxhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsS0FBSyxTQUFTO0FBQ1YsaUJBQVcsVUFBVSxJQUFJLFNBQVM7QUFDOUIsWUFBSSxlQUFlLFFBQVEsR0FBRztBQUMxQixpQkFBTztBQUFBLE1BQ2Y7QUFDQSxhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsS0FBSyxnQkFBZ0I7QUFDakIsYUFBTyxlQUFlLElBQUksTUFBTSxHQUFHLEtBQUssZUFBZSxJQUFJLE9BQU8sR0FBRztBQUFBLElBQ3pFO0FBQUEsSUFDQSxLQUFLLFNBQVM7QUFDVixpQkFBVyxRQUFRLElBQUksT0FBTztBQUMxQixZQUFJLGVBQWUsTUFBTSxHQUFHO0FBQ3hCLGlCQUFPO0FBQUEsTUFDZjtBQUNBLFVBQUksSUFBSSxRQUFRLGVBQWUsSUFBSSxNQUFNLEdBQUc7QUFDeEMsZUFBTztBQUNYLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxLQUFLLFVBQVU7QUFDWCxhQUFPLGVBQWUsSUFBSSxTQUFTLEdBQUcsS0FBSyxlQUFlLElBQUksV0FBVyxHQUFHO0FBQUEsSUFDaEY7QUFBQSxJQUNBLEtBQUssT0FBTztBQUNSLGFBQU8sZUFBZSxJQUFJLFNBQVMsR0FBRyxLQUFLLGVBQWUsSUFBSSxXQUFXLEdBQUc7QUFBQSxJQUNoRjtBQUFBLElBQ0EsS0FBSyxPQUFPO0FBQ1IsYUFBTyxlQUFlLElBQUksV0FBVyxHQUFHO0FBQUEsSUFDNUM7QUFBQTtBQUFBLElBRUEsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUNELGFBQU8sZUFBZSxJQUFJLFdBQVcsR0FBRztBQUFBLElBQzVDLEtBQUs7QUFDRCxhQUFPLGVBQWUsSUFBSSxPQUFPLEdBQUcsR0FBRztBQUFBLElBQzNDLEtBQUssV0FBVztBQUNaLGFBQU8sZUFBZSxJQUFJLFdBQVcsR0FBRztBQUFBLElBQzVDO0FBQUEsSUFDQSxLQUFLLFlBQVk7QUFDYixhQUFPLGVBQWUsSUFBSSxXQUFXLEdBQUc7QUFBQSxJQUM1QztBQUFBLElBQ0EsS0FBSyxVQUFVO0FBQ1gsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBLEtBQUssYUFBYTtBQUNkLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxLQUFLLFFBQVE7QUFDVCxhQUFPLGVBQWUsSUFBSSxJQUFJLEdBQUcsS0FBSyxlQUFlLElBQUksS0FBSyxHQUFHO0FBQUEsSUFDckU7QUFBQSxJQUNBLEtBQUssV0FBVztBQUNaLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxLQUFLLFNBQVM7QUFDVixhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsS0FBSyxZQUFZO0FBQ2IsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBO0FBQ0k7QUFBQSxFQUNSO0FBQ0EsUUFBTSxJQUFJLE1BQU0sd0JBQXdCLElBQUksSUFBSSxFQUFFO0FBQ3REOzs7QUNsNUJBOzs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxjQUFBQztBQUFBLEVBQUEsZ0JBQUFDO0FBQUEsRUFBQSxnQkFBQUM7QUFBQSxFQUFBLFlBQUFDO0FBQUE7QUFFTyxJQUFNLGlCQUErQixnQkFBSyxhQUFhLGtCQUFrQixDQUFDLE1BQU0sUUFBUTtBQUMzRixFQUFLLGdCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNuQyxFQUFRLGdCQUFnQixLQUFLLE1BQU0sR0FBRztBQUMxQyxDQUFDO0FBQ00sU0FBU0MsVUFBUyxRQUFRO0FBQzdCLFNBQVksYUFBYSxnQkFBZ0IsTUFBTTtBQUNuRDtBQUNPLElBQU0sYUFBMkIsZ0JBQUssYUFBYSxjQUFjLENBQUMsTUFBTSxRQUFRO0FBQ25GLEVBQUssWUFBWSxLQUFLLE1BQU0sR0FBRztBQUMvQixFQUFRLGdCQUFnQixLQUFLLE1BQU0sR0FBRztBQUMxQyxDQUFDO0FBQ00sU0FBU0MsTUFBSyxRQUFRO0FBQ3pCLFNBQVksU0FBUyxZQUFZLE1BQU07QUFDM0M7QUFDTyxJQUFNLGFBQTJCLGdCQUFLLGFBQWEsY0FBYyxDQUFDLE1BQU0sUUFBUTtBQUNuRixFQUFLLFlBQVksS0FBSyxNQUFNLEdBQUc7QUFDL0IsRUFBUSxnQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDMUMsQ0FBQztBQUNNLFNBQVNDLE1BQUssUUFBUTtBQUN6QixTQUFZLFNBQVMsWUFBWSxNQUFNO0FBQzNDO0FBQ08sSUFBTSxpQkFBK0IsZ0JBQUssYUFBYSxrQkFBa0IsQ0FBQyxNQUFNLFFBQVE7QUFDM0YsRUFBSyxnQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbkMsRUFBUSxnQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDMUMsQ0FBQztBQUNNLFNBQVNDLFVBQVMsUUFBUTtBQUM3QixTQUFZLGFBQWEsZ0JBQWdCLE1BQU07QUFDbkQ7OztBQzFCQSxJQUFNQyxlQUFjLENBQUMsTUFBTSxXQUFXO0FBQ2xDLFlBQVUsS0FBSyxNQUFNLE1BQU07QUFDM0IsT0FBSyxPQUFPO0FBQ1osU0FBTyxpQkFBaUIsTUFBTTtBQUFBLElBQzFCLFFBQVE7QUFBQSxNQUNKLE9BQU8sQ0FBQyxXQUFnQixZQUFZLE1BQU0sTUFBTTtBQUFBO0FBQUEsSUFFcEQ7QUFBQSxJQUNBLFNBQVM7QUFBQSxNQUNMLE9BQU8sQ0FBQyxXQUFnQixhQUFhLE1BQU0sTUFBTTtBQUFBO0FBQUEsSUFFckQ7QUFBQSxJQUNBLFVBQVU7QUFBQSxNQUNOLE9BQU8sQ0FBQ0MsV0FBVTtBQUNkLGFBQUssT0FBTyxLQUFLQSxNQUFLO0FBQ3RCLGFBQUssVUFBVSxLQUFLLFVBQVUsS0FBSyxRQUFhLHVCQUF1QixDQUFDO0FBQUEsTUFDNUU7QUFBQTtBQUFBLElBRUo7QUFBQSxJQUNBLFdBQVc7QUFBQSxNQUNQLE9BQU8sQ0FBQ0MsWUFBVztBQUNmLGFBQUssT0FBTyxLQUFLLEdBQUdBLE9BQU07QUFDMUIsYUFBSyxVQUFVLEtBQUssVUFBVSxLQUFLLFFBQWEsdUJBQXVCLENBQUM7QUFBQSxNQUM1RTtBQUFBO0FBQUEsSUFFSjtBQUFBLElBQ0EsU0FBUztBQUFBLE1BQ0wsTUFBTTtBQUNGLGVBQU8sS0FBSyxPQUFPLFdBQVc7QUFBQSxNQUNsQztBQUFBO0FBQUEsSUFFSjtBQUFBLEVBQ0osQ0FBQztBQU1MO0FBQ08sSUFBTSxXQUFnQixhQUFhLFlBQVlGLFlBQVc7QUFDMUQsSUFBTSxlQUFvQixhQUFhLFlBQVlBLGNBQWE7QUFBQSxFQUNuRSxRQUFRO0FBQ1osQ0FBQzs7O0FDM0NNLElBQU1HLFNBQXdCLGdCQUFLLE9BQU8sWUFBWTtBQUN0RCxJQUFNQyxjQUE2QixnQkFBSyxZQUFZLFlBQVk7QUFDaEUsSUFBTUMsYUFBNEIsZ0JBQUssV0FBVyxZQUFZO0FBQzlELElBQU1DLGtCQUFpQyxnQkFBSyxnQkFBZ0IsWUFBWTtBQUV4RSxJQUFNQyxVQUF5QixnQkFBSyxRQUFRLFlBQVk7QUFDeEQsSUFBTUMsVUFBeUIsZ0JBQUssUUFBUSxZQUFZO0FBQ3hELElBQU1DLGVBQThCLGdCQUFLLGFBQWEsWUFBWTtBQUNsRSxJQUFNQyxlQUE4QixnQkFBSyxhQUFhLFlBQVk7QUFDbEUsSUFBTUMsY0FBNkIsZ0JBQUssWUFBWSxZQUFZO0FBQ2hFLElBQU1DLGNBQTZCLGdCQUFLLFlBQVksWUFBWTtBQUNoRSxJQUFNQyxtQkFBa0MsZ0JBQUssaUJBQWlCLFlBQVk7QUFDMUUsSUFBTUMsbUJBQWtDLGdCQUFLLGlCQUFpQixZQUFZOzs7QUNUMUUsSUFBTSxVQUF3QixnQkFBSyxhQUFhLFdBQVcsQ0FBQyxNQUFNLFFBQVE7QUFDN0UsRUFBSyxTQUFTLEtBQUssTUFBTSxHQUFHO0FBQzVCLE9BQUssTUFBTTtBQUNYLE9BQUssT0FBTyxJQUFJO0FBQ2hCLFNBQU8sZUFBZSxNQUFNLFFBQVEsRUFBRSxPQUFPLElBQUksQ0FBQztBQUVsRCxPQUFLLFFBQVEsSUFBSSxXQUFXO0FBQ3hCLFdBQU8sS0FBSztBQUFBLE1BQU07QUFBQSxRQUNkLEdBQUc7QUFBQSxRQUNILFFBQVE7QUFBQSxVQUNKLEdBQUksSUFBSSxVQUFVLENBQUM7QUFBQSxVQUNuQixHQUFHLE9BQU8sSUFBSSxDQUFDLE9BQU8sT0FBTyxPQUFPLGFBQWEsRUFBRSxNQUFNLEVBQUUsT0FBTyxJQUFJLEtBQUssRUFBRSxPQUFPLFNBQVMsR0FBRyxVQUFVLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRTtBQUFBLFFBQ3pIO0FBQUEsTUFDSjtBQUFBO0FBQUEsSUFFQTtBQUFBLEVBQ0o7QUFDQSxPQUFLLFFBQVEsQ0FBQ0MsTUFBSyxXQUFnQixNQUFNLE1BQU1BLE1BQUssTUFBTTtBQUMxRCxPQUFLLFFBQVEsTUFBTTtBQUNuQixPQUFLLFlBQVksQ0FBQyxLQUFLLFNBQVM7QUFDNUIsUUFBSSxJQUFJLE1BQU0sSUFBSTtBQUNsQixXQUFPO0FBQUEsRUFDWDtBQUVBLE9BQUssUUFBUSxDQUFDLE1BQU0sV0FBaUJDLE9BQU0sTUFBTSxNQUFNLFFBQVEsRUFBRSxRQUFRLEtBQUssTUFBTSxDQUFDO0FBQ3JGLE9BQUssWUFBWSxDQUFDLE1BQU0sV0FBaUJDLFdBQVUsTUFBTSxNQUFNLE1BQU07QUFDckUsT0FBSyxhQUFhLE9BQU8sTUFBTSxXQUFpQkMsWUFBVyxNQUFNLE1BQU0sUUFBUSxFQUFFLFFBQVEsS0FBSyxXQUFXLENBQUM7QUFDMUcsT0FBSyxpQkFBaUIsT0FBTyxNQUFNLFdBQWlCQyxnQkFBZSxNQUFNLE1BQU0sTUFBTTtBQUNyRixPQUFLLE1BQU0sS0FBSztBQUVoQixPQUFLLFNBQVMsQ0FBQyxNQUFNLFdBQWlCQyxRQUFPLE1BQU0sTUFBTSxNQUFNO0FBQy9ELE9BQUssU0FBUyxDQUFDLE1BQU0sV0FBaUJDLFFBQU8sTUFBTSxNQUFNLE1BQU07QUFDL0QsT0FBSyxjQUFjLE9BQU8sTUFBTSxXQUFpQkMsYUFBWSxNQUFNLE1BQU0sTUFBTTtBQUMvRSxPQUFLLGNBQWMsT0FBTyxNQUFNLFdBQWlCQyxhQUFZLE1BQU0sTUFBTSxNQUFNO0FBQy9FLE9BQUssYUFBYSxDQUFDLE1BQU0sV0FBaUJDLFlBQVcsTUFBTSxNQUFNLE1BQU07QUFDdkUsT0FBSyxhQUFhLENBQUMsTUFBTSxXQUFpQkMsWUFBVyxNQUFNLE1BQU0sTUFBTTtBQUN2RSxPQUFLLGtCQUFrQixPQUFPLE1BQU0sV0FBaUJDLGlCQUFnQixNQUFNLE1BQU0sTUFBTTtBQUN2RixPQUFLLGtCQUFrQixPQUFPLE1BQU0sV0FBaUJDLGlCQUFnQixNQUFNLE1BQU0sTUFBTTtBQUV2RixPQUFLLFNBQVMsQ0FBQ0MsUUFBTyxXQUFXLEtBQUssTUFBTSxPQUFPQSxRQUFPLE1BQU0sQ0FBQztBQUNqRSxPQUFLLGNBQWMsQ0FBQyxlQUFlLEtBQUssTUFBTSxZQUFZLFVBQVUsQ0FBQztBQUNyRSxPQUFLLFlBQVksQ0FBQyxPQUFPLEtBQUssTUFBYSxXQUFVLEVBQUUsQ0FBQztBQUV4RCxPQUFLLFdBQVcsTUFBTSxTQUFTLElBQUk7QUFDbkMsT0FBSyxXQUFXLE1BQU0sU0FBUyxJQUFJO0FBQ25DLE9BQUssVUFBVSxNQUFNLFNBQVMsU0FBUyxJQUFJLENBQUM7QUFDNUMsT0FBSyxjQUFjLENBQUMsV0FBVyxZQUFZLE1BQU0sTUFBTTtBQUN2RCxPQUFLLFFBQVEsTUFBTSxNQUFNLElBQUk7QUFDN0IsT0FBSyxLQUFLLENBQUMsUUFBUSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUM7QUFDcEMsT0FBSyxNQUFNLENBQUMsUUFBUSxhQUFhLE1BQU0sR0FBRztBQUMxQyxPQUFLLFlBQVksQ0FBQyxPQUFPLEtBQUssTUFBTSxVQUFVLEVBQUUsQ0FBQztBQUNqRCxPQUFLLFVBQVUsQ0FBQ2IsU0FBUWMsVUFBUyxNQUFNZCxJQUFHO0FBQzFDLE9BQUssV0FBVyxDQUFDQSxTQUFRLFNBQVMsTUFBTUEsSUFBRztBQUUzQyxPQUFLLFFBQVEsQ0FBQyxXQUFXZSxRQUFPLE1BQU0sTUFBTTtBQUM1QyxPQUFLLE9BQU8sQ0FBQyxXQUFXLEtBQUssTUFBTSxNQUFNO0FBQ3pDLE9BQUssV0FBVyxNQUFNLFNBQVMsSUFBSTtBQUVuQyxPQUFLLFdBQVcsQ0FBQyxnQkFBZ0I7QUFDN0IsVUFBTSxLQUFLLEtBQUssTUFBTTtBQUN0QixJQUFLLGVBQWUsSUFBSSxJQUFJLEVBQUUsWUFBWSxDQUFDO0FBQzNDLFdBQU87QUFBQSxFQUNYO0FBQ0EsU0FBTyxlQUFlLE1BQU0sZUFBZTtBQUFBLElBQ3ZDLE1BQU07QUFDRixhQUFZLGVBQWUsSUFBSSxJQUFJLEdBQUc7QUFBQSxJQUMxQztBQUFBLElBQ0EsY0FBYztBQUFBLEVBQ2xCLENBQUM7QUFDRCxPQUFLLE9BQU8sSUFBSSxTQUFTO0FBQ3JCLFFBQUksS0FBSyxXQUFXLEdBQUc7QUFDbkIsYUFBWSxlQUFlLElBQUksSUFBSTtBQUFBLElBQ3ZDO0FBQ0EsVUFBTSxLQUFLLEtBQUssTUFBTTtBQUN0QixJQUFLLGVBQWUsSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDO0FBQ25DLFdBQU87QUFBQSxFQUNYO0FBRUEsT0FBSyxhQUFhLE1BQU0sS0FBSyxVQUFVLE1BQVMsRUFBRTtBQUNsRCxPQUFLLGFBQWEsTUFBTSxLQUFLLFVBQVUsSUFBSSxFQUFFO0FBQzdDLFNBQU87QUFDWCxDQUFDO0FBRU0sSUFBTSxhQUEyQixnQkFBSyxhQUFhLGNBQWMsQ0FBQyxNQUFNLFFBQVE7QUFDbkYsRUFBSyxXQUFXLEtBQUssTUFBTSxHQUFHO0FBQzlCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsUUFBTSxNQUFNLEtBQUssS0FBSztBQUN0QixPQUFLLFNBQVMsSUFBSSxVQUFVO0FBQzVCLE9BQUssWUFBWSxJQUFJLFdBQVc7QUFDaEMsT0FBSyxZQUFZLElBQUksV0FBVztBQUVoQyxPQUFLLFFBQVEsSUFBSSxTQUFTLEtBQUssTUFBYSxPQUFNLEdBQUcsSUFBSSxDQUFDO0FBQzFELE9BQUssV0FBVyxJQUFJLFNBQVMsS0FBSyxNQUFhLFVBQVMsR0FBRyxJQUFJLENBQUM7QUFDaEUsT0FBSyxhQUFhLElBQUksU0FBUyxLQUFLLE1BQWEsWUFBVyxHQUFHLElBQUksQ0FBQztBQUNwRSxPQUFLLFdBQVcsSUFBSSxTQUFTLEtBQUssTUFBYSxVQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ2hFLE9BQUssTUFBTSxJQUFJLFNBQVMsS0FBSyxNQUFhLFdBQVUsR0FBRyxJQUFJLENBQUM7QUFDNUQsT0FBSyxNQUFNLElBQUksU0FBUyxLQUFLLE1BQWEsV0FBVSxHQUFHLElBQUksQ0FBQztBQUM1RCxPQUFLLFNBQVMsSUFBSSxTQUFTLEtBQUssTUFBYSxRQUFPLEdBQUcsSUFBSSxDQUFDO0FBQzVELE9BQUssV0FBVyxJQUFJLFNBQVMsS0FBSyxNQUFhLFdBQVUsR0FBRyxHQUFHLElBQUksQ0FBQztBQUNwRSxPQUFLLFlBQVksQ0FBQyxXQUFXLEtBQUssTUFBYSxXQUFVLE1BQU0sQ0FBQztBQUNoRSxPQUFLLFlBQVksQ0FBQyxXQUFXLEtBQUssTUFBYSxXQUFVLE1BQU0sQ0FBQztBQUVoRSxPQUFLLE9BQU8sTUFBTSxLQUFLLE1BQWEsTUFBSyxDQUFDO0FBQzFDLE9BQUssWUFBWSxJQUFJLFNBQVMsS0FBSyxNQUFhLFdBQVUsR0FBRyxJQUFJLENBQUM7QUFDbEUsT0FBSyxjQUFjLE1BQU0sS0FBSyxNQUFhLGFBQVksQ0FBQztBQUN4RCxPQUFLLGNBQWMsTUFBTSxLQUFLLE1BQWEsYUFBWSxDQUFDO0FBQzVELENBQUM7QUFDTSxJQUFNLFlBQTBCLGdCQUFLLGFBQWEsYUFBYSxDQUFDLE1BQU0sUUFBUTtBQUNqRixFQUFLLFdBQVcsS0FBSyxNQUFNLEdBQUc7QUFDOUIsYUFBVyxLQUFLLE1BQU0sR0FBRztBQUN6QixPQUFLLFFBQVEsQ0FBQyxXQUFXLEtBQUssTUFBVyxPQUFPLFVBQVUsTUFBTSxDQUFDO0FBQ2pFLE9BQUssTUFBTSxDQUFDLFdBQVcsS0FBSyxNQUFXLEtBQUssUUFBUSxNQUFNLENBQUM7QUFDM0QsT0FBSyxNQUFNLENBQUMsV0FBVyxLQUFLLE1BQVcsS0FBSyxRQUFRLE1BQU0sQ0FBQztBQUMzRCxPQUFLLFFBQVEsQ0FBQyxXQUFXLEtBQUssTUFBV0MsUUFBTyxVQUFVLE1BQU0sQ0FBQztBQUNqRSxPQUFLLE9BQU8sQ0FBQyxXQUFXLEtBQUssTUFBVyxNQUFNLFNBQVMsTUFBTSxDQUFDO0FBQzlELE9BQUssT0FBTyxDQUFDLFdBQVcsS0FBSyxNQUFXLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFDOUQsT0FBSyxTQUFTLENBQUMsV0FBVyxLQUFLLE1BQVcsUUFBUSxTQUFTLE1BQU0sQ0FBQztBQUNsRSxPQUFLLFNBQVMsQ0FBQyxXQUFXLEtBQUssTUFBVyxRQUFRLFNBQVMsTUFBTSxDQUFDO0FBQ2xFLE9BQUssU0FBUyxDQUFDLFdBQVcsS0FBSyxNQUFXLFFBQVEsU0FBUyxNQUFNLENBQUM7QUFDbEUsT0FBSyxTQUFTLENBQUMsV0FBVyxLQUFLLE1BQVcsUUFBUSxXQUFXLE1BQU0sQ0FBQztBQUNwRSxPQUFLLE9BQU8sQ0FBQyxXQUFXLEtBQUssTUFBVyxNQUFNLFNBQVMsTUFBTSxDQUFDO0FBQzlELE9BQUssT0FBTyxDQUFDLFdBQVcsS0FBSyxNQUFXLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFDOUQsT0FBSyxRQUFRLENBQUMsV0FBVyxLQUFLLE1BQVcsT0FBTyxVQUFVLE1BQU0sQ0FBQztBQUNqRSxPQUFLLE9BQU8sQ0FBQyxXQUFXLEtBQUssTUFBVyxNQUFNLFNBQVMsTUFBTSxDQUFDO0FBQzlELE9BQUssU0FBUyxDQUFDLFdBQVcsS0FBSyxNQUFXLFFBQVEsV0FBVyxNQUFNLENBQUM7QUFDcEUsT0FBSyxZQUFZLENBQUMsV0FBVyxLQUFLLE1BQVcsV0FBVyxjQUFjLE1BQU0sQ0FBQztBQUM3RSxPQUFLLE1BQU0sQ0FBQyxXQUFXLEtBQUssTUFBVyxLQUFLLFFBQVEsTUFBTSxDQUFDO0FBQzNELE9BQUssUUFBUSxDQUFDLFdBQVcsS0FBSyxNQUFXLE9BQU8sVUFBVSxNQUFNLENBQUM7QUFDakUsT0FBSyxPQUFPLENBQUMsV0FBVyxLQUFLLE1BQVcsTUFBTSxTQUFTLE1BQU0sQ0FBQztBQUM5RCxPQUFLLE9BQU8sQ0FBQyxXQUFXLEtBQUssTUFBVyxNQUFNLFNBQVMsTUFBTSxDQUFDO0FBQzlELE9BQUssU0FBUyxDQUFDLFdBQVcsS0FBSyxNQUFXLFFBQVEsV0FBVyxNQUFNLENBQUM7QUFDcEUsT0FBSyxTQUFTLENBQUMsV0FBVyxLQUFLLE1BQVcsUUFBUSxXQUFXLE1BQU0sQ0FBQztBQUNwRSxPQUFLLE9BQU8sQ0FBQyxXQUFXLEtBQUssTUFBVyxNQUFNLFNBQVMsTUFBTSxDQUFDO0FBRTlELE9BQUssV0FBVyxDQUFDLFdBQVcsS0FBSyxNQUFVQyxVQUFTLE1BQU0sQ0FBQztBQUMzRCxPQUFLLE9BQU8sQ0FBQyxXQUFXLEtBQUssTUFBVUMsTUFBSyxNQUFNLENBQUM7QUFDbkQsT0FBSyxPQUFPLENBQUMsV0FBVyxLQUFLLE1BQVVDLE1BQUssTUFBTSxDQUFDO0FBQ25ELE9BQUssV0FBVyxDQUFDLFdBQVcsS0FBSyxNQUFVQyxVQUFTLE1BQU0sQ0FBQztBQUMvRCxDQUFDO0FBQ00sU0FBU0MsUUFBTyxRQUFRO0FBQzNCLFNBQVksUUFBUSxXQUFXLE1BQU07QUFDekM7QUFDTyxJQUFNLGtCQUFnQyxnQkFBSyxhQUFhLG1CQUFtQixDQUFDLE1BQU0sUUFBUTtBQUM3RixFQUFLLGlCQUFpQixLQUFLLE1BQU0sR0FBRztBQUNwQyxhQUFXLEtBQUssTUFBTSxHQUFHO0FBQzdCLENBQUM7QUFDTSxJQUFNLFdBQXlCLGdCQUFLLGFBQWEsWUFBWSxDQUFDLE1BQU0sUUFBUTtBQUUvRSxFQUFLLFVBQVUsS0FBSyxNQUFNLEdBQUc7QUFDN0Isa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxPQUFNLFFBQVE7QUFDMUIsU0FBWSxPQUFPLFVBQVUsTUFBTTtBQUN2QztBQUNPLElBQU0sVUFBd0IsZ0JBQUssYUFBYSxXQUFXLENBQUMsTUFBTSxRQUFRO0FBRTdFLEVBQUssU0FBUyxLQUFLLE1BQU0sR0FBRztBQUM1QixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVNDLE1BQUssUUFBUTtBQUN6QixTQUFZLE1BQU0sU0FBUyxNQUFNO0FBQ3JDO0FBQ08sSUFBTSxVQUF3QixnQkFBSyxhQUFhLFdBQVcsQ0FBQyxNQUFNLFFBQVE7QUFFN0UsRUFBSyxTQUFTLEtBQUssTUFBTSxHQUFHO0FBQzVCLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBU0MsTUFBSyxRQUFRO0FBQ3pCLFNBQVksTUFBTSxTQUFTLE1BQU07QUFDckM7QUFDTyxTQUFTLE9BQU8sUUFBUTtBQUMzQixTQUFZLFFBQVEsU0FBUyxNQUFNO0FBQ3ZDO0FBRU8sU0FBUyxPQUFPLFFBQVE7QUFDM0IsU0FBWSxRQUFRLFNBQVMsTUFBTTtBQUN2QztBQUVPLFNBQVMsT0FBTyxRQUFRO0FBQzNCLFNBQVksUUFBUSxTQUFTLE1BQU07QUFDdkM7QUFDTyxJQUFNLFNBQXVCLGdCQUFLLGFBQWEsVUFBVSxDQUFDLE1BQU0sUUFBUTtBQUUzRSxFQUFLLFFBQVEsS0FBSyxNQUFNLEdBQUc7QUFDM0Isa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTLElBQUksUUFBUTtBQUN4QixTQUFZLEtBQUssUUFBUSxNQUFNO0FBQ25DO0FBQ08sU0FBUyxRQUFRLFFBQVE7QUFDNUIsU0FBWSxLQUFLLFFBQVE7QUFBQSxJQUNyQixVQUFVO0FBQUEsSUFDVixVQUFlLGdCQUFRO0FBQUEsSUFDdkIsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sSUFBTSxXQUF5QixnQkFBSyxhQUFhLFlBQVksQ0FBQyxNQUFNLFFBQVE7QUFFL0UsRUFBSyxVQUFVLEtBQUssTUFBTSxHQUFHO0FBQzdCLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBU0MsT0FBTSxRQUFRO0FBQzFCLFNBQVlULFFBQU8sVUFBVSxNQUFNO0FBQ3ZDO0FBQ08sSUFBTSxZQUEwQixnQkFBSyxhQUFhLGFBQWEsQ0FBQyxNQUFNLFFBQVE7QUFFakYsRUFBSyxXQUFXLEtBQUssTUFBTSxHQUFHO0FBQzlCLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBU1UsUUFBTyxRQUFRO0FBQzNCLFNBQVksUUFBUSxXQUFXLE1BQU07QUFDekM7QUFDTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUU3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxNQUFLLFFBQVE7QUFDekIsU0FBWSxNQUFNLFNBQVMsTUFBTTtBQUNyQztBQUNPLElBQU0sV0FBeUIsZ0JBQUssYUFBYSxZQUFZLENBQUMsTUFBTSxRQUFRO0FBRS9FLEVBQUssVUFBVSxLQUFLLE1BQU0sR0FBRztBQUM3QixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVNDLE9BQU0sUUFBUTtBQUMxQixTQUFZLE9BQU8sVUFBVSxNQUFNO0FBQ3ZDO0FBQ08sSUFBTSxVQUF3QixnQkFBSyxhQUFhLFdBQVcsQ0FBQyxNQUFNLFFBQVE7QUFFN0UsRUFBSyxTQUFTLEtBQUssTUFBTSxHQUFHO0FBQzVCLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBU0MsTUFBSyxRQUFRO0FBQ3pCLFNBQVksTUFBTSxTQUFTLE1BQU07QUFDckM7QUFDTyxJQUFNLFNBQXVCLGdCQUFLLGFBQWEsVUFBVSxDQUFDLE1BQU0sUUFBUTtBQUUzRSxFQUFLLFFBQVEsS0FBSyxNQUFNLEdBQUc7QUFDM0Isa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxLQUFJLFFBQVE7QUFDeEIsU0FBWSxLQUFLLFFBQVEsTUFBTTtBQUNuQztBQUNPLElBQU0sV0FBeUIsZ0JBQUssYUFBYSxZQUFZLENBQUMsTUFBTSxRQUFRO0FBRS9FLEVBQUssVUFBVSxLQUFLLE1BQU0sR0FBRztBQUM3QixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVNDLE9BQU0sUUFBUTtBQUMxQixTQUFZLE9BQU8sVUFBVSxNQUFNO0FBQ3ZDO0FBQ08sSUFBTSxVQUF3QixnQkFBSyxhQUFhLFdBQVcsQ0FBQyxNQUFNLFFBQVE7QUFFN0UsRUFBSyxTQUFTLEtBQUssTUFBTSxHQUFHO0FBQzVCLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBU0MsTUFBSyxRQUFRO0FBQ3pCLFNBQVksTUFBTSxTQUFTLE1BQU07QUFDckM7QUFDTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUU3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxNQUFLLFFBQVE7QUFDekIsU0FBWSxNQUFNLFNBQVMsTUFBTTtBQUNyQztBQUNPLElBQU0sWUFBMEIsZ0JBQUssYUFBYSxhQUFhLENBQUMsTUFBTSxRQUFRO0FBQ2pGLEVBQUssV0FBVyxLQUFLLE1BQU0sR0FBRztBQUM5QixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVNDLFFBQU8sUUFBUTtBQUMzQixTQUFZLFFBQVEsV0FBVyxNQUFNO0FBQ3pDO0FBQ08sSUFBTSxZQUEwQixnQkFBSyxhQUFhLGFBQWEsQ0FBQyxNQUFNLFFBQVE7QUFDakYsRUFBSyxXQUFXLEtBQUssTUFBTSxHQUFHO0FBQzlCLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBU0MsUUFBTyxRQUFRO0FBQzNCLFNBQVksUUFBUSxXQUFXLE1BQU07QUFDekM7QUFDTyxJQUFNLFlBQTBCLGdCQUFLLGFBQWEsYUFBYSxDQUFDLE1BQU0sUUFBUTtBQUVqRixFQUFLLFdBQVcsS0FBSyxNQUFNLEdBQUc7QUFDOUIsa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxRQUFPLFFBQVE7QUFDM0IsU0FBWSxRQUFRLFdBQVcsTUFBTTtBQUN6QztBQUNPLElBQU0sZUFBNkIsZ0JBQUssYUFBYSxnQkFBZ0IsQ0FBQyxNQUFNLFFBQVE7QUFFdkYsRUFBSyxjQUFjLEtBQUssTUFBTSxHQUFHO0FBQ2pDLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBU0MsV0FBVSxRQUFRO0FBQzlCLFNBQVksV0FBVyxjQUFjLE1BQU07QUFDL0M7QUFDTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUU3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxNQUFLLFFBQVE7QUFDekIsU0FBWSxNQUFNLFNBQVMsTUFBTTtBQUNyQztBQUNPLElBQU0sU0FBdUIsZ0JBQUssYUFBYSxVQUFVLENBQUMsTUFBTSxRQUFRO0FBRTNFLEVBQUssUUFBUSxLQUFLLE1BQU0sR0FBRztBQUMzQixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVMsSUFBSSxRQUFRO0FBQ3hCLFNBQVksS0FBSyxRQUFRLE1BQU07QUFDbkM7QUFDTyxJQUFNLHdCQUFzQyxnQkFBSyxhQUFhLHlCQUF5QixDQUFDLE1BQU0sUUFBUTtBQUV6RyxFQUFLLHVCQUF1QixLQUFLLE1BQU0sR0FBRztBQUMxQyxrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVMsYUFBYSxRQUFRLFdBQVcsVUFBVSxDQUFDLEdBQUc7QUFDMUQsU0FBWSxjQUFjLHVCQUF1QixRQUFRLFdBQVcsT0FBTztBQUMvRTtBQUNPLFNBQVNDLFVBQVMsU0FBUztBQUM5QixTQUFZLGNBQWMsdUJBQXVCLFlBQWlCLGdCQUFRLFVBQVUsT0FBTztBQUMvRjtBQUNPLFNBQVNDLEtBQUksU0FBUztBQUN6QixTQUFZLGNBQWMsdUJBQXVCLE9BQVksZ0JBQVEsS0FBSyxPQUFPO0FBQ3JGO0FBQ08sU0FBUyxLQUFLLEtBQUssUUFBUTtBQUM5QixRQUFNLE1BQU0sUUFBUSxPQUFPO0FBQzNCLFFBQU0sU0FBUyxHQUFHLEdBQUcsSUFBSSxHQUFHO0FBQzVCLFFBQU0sUUFBYSxnQkFBUSxNQUFNO0FBQ2pDLE1BQUksQ0FBQztBQUNELFVBQU0sSUFBSSxNQUFNLDZCQUE2QixNQUFNLEVBQUU7QUFDekQsU0FBWSxjQUFjLHVCQUF1QixRQUFRLE9BQU8sTUFBTTtBQUMxRTtBQUNPLElBQU0sWUFBMEIsZ0JBQUssYUFBYSxhQUFhLENBQUMsTUFBTSxRQUFRO0FBQ2pGLEVBQUssV0FBVyxLQUFLLE1BQU0sR0FBRztBQUM5QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssS0FBSyxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsSUFBRyxPQUFPLE1BQU0sQ0FBQztBQUNoRSxPQUFLLE1BQU0sQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLEtBQUksT0FBTyxNQUFNLENBQUM7QUFDbEUsT0FBSyxNQUFNLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxLQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xFLE9BQUssS0FBSyxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsSUFBRyxPQUFPLE1BQU0sQ0FBQztBQUNoRSxPQUFLLE1BQU0sQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLEtBQUksT0FBTyxNQUFNLENBQUM7QUFDbEUsT0FBSyxNQUFNLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxLQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xFLE9BQUssTUFBTSxDQUFDLFdBQVcsS0FBSyxNQUFNLElBQUksTUFBTSxDQUFDO0FBQzdDLE9BQUssT0FBTyxDQUFDLFdBQVcsS0FBSyxNQUFNLElBQUksTUFBTSxDQUFDO0FBQzlDLE9BQUssV0FBVyxDQUFDLFdBQVcsS0FBSyxNQUFhLElBQUcsR0FBRyxNQUFNLENBQUM7QUFDM0QsT0FBSyxjQUFjLENBQUMsV0FBVyxLQUFLLE1BQWEsS0FBSSxHQUFHLE1BQU0sQ0FBQztBQUMvRCxPQUFLLFdBQVcsQ0FBQyxXQUFXLEtBQUssTUFBYSxJQUFHLEdBQUcsTUFBTSxDQUFDO0FBQzNELE9BQUssY0FBYyxDQUFDLFdBQVcsS0FBSyxNQUFhLEtBQUksR0FBRyxNQUFNLENBQUM7QUFDL0QsT0FBSyxhQUFhLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxZQUFXLE9BQU8sTUFBTSxDQUFDO0FBQ2hGLE9BQUssT0FBTyxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsWUFBVyxPQUFPLE1BQU0sQ0FBQztBQUUxRSxPQUFLLFNBQVMsTUFBTTtBQUNwQixRQUFNLE1BQU0sS0FBSyxLQUFLO0FBQ3RCLE9BQUssV0FDRCxLQUFLLElBQUksSUFBSSxXQUFXLE9BQU8sbUJBQW1CLElBQUksb0JBQW9CLE9BQU8saUJBQWlCLEtBQUs7QUFDM0csT0FBSyxXQUNELEtBQUssSUFBSSxJQUFJLFdBQVcsT0FBTyxtQkFBbUIsSUFBSSxvQkFBb0IsT0FBTyxpQkFBaUIsS0FBSztBQUMzRyxPQUFLLFNBQVMsSUFBSSxVQUFVLElBQUksU0FBUyxLQUFLLEtBQUssT0FBTyxjQUFjLElBQUksY0FBYyxHQUFHO0FBQzdGLE9BQUssV0FBVztBQUNoQixPQUFLLFNBQVMsSUFBSSxVQUFVO0FBQ2hDLENBQUM7QUFDTSxTQUFTQyxRQUFPLFFBQVE7QUFDM0IsU0FBWSxRQUFRLFdBQVcsTUFBTTtBQUN6QztBQUNPLElBQU0sa0JBQWdDLGdCQUFLLGFBQWEsbUJBQW1CLENBQUMsTUFBTSxRQUFRO0FBQzdGLEVBQUssaUJBQWlCLEtBQUssTUFBTSxHQUFHO0FBQ3BDLFlBQVUsS0FBSyxNQUFNLEdBQUc7QUFDNUIsQ0FBQztBQUNNLFNBQVMsSUFBSSxRQUFRO0FBQ3hCLFNBQVksS0FBSyxpQkFBaUIsTUFBTTtBQUM1QztBQUNPLFNBQVMsUUFBUSxRQUFRO0FBQzVCLFNBQVksU0FBUyxpQkFBaUIsTUFBTTtBQUNoRDtBQUNPLFNBQVMsUUFBUSxRQUFRO0FBQzVCLFNBQVksU0FBUyxpQkFBaUIsTUFBTTtBQUNoRDtBQUNPLFNBQVMsTUFBTSxRQUFRO0FBQzFCLFNBQVksT0FBTyxpQkFBaUIsTUFBTTtBQUM5QztBQUNPLFNBQVMsT0FBTyxRQUFRO0FBQzNCLFNBQVksUUFBUSxpQkFBaUIsTUFBTTtBQUMvQztBQUNPLElBQU0sYUFBMkIsZ0JBQUssYUFBYSxjQUFjLENBQUMsTUFBTSxRQUFRO0FBQ25GLEVBQUssWUFBWSxLQUFLLE1BQU0sR0FBRztBQUMvQixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQzFCLENBQUM7QUFDTSxTQUFTQyxTQUFRLFFBQVE7QUFDNUIsU0FBWSxTQUFTLFlBQVksTUFBTTtBQUMzQztBQUNPLElBQU0sWUFBMEIsZ0JBQUssYUFBYSxhQUFhLENBQUMsTUFBTSxRQUFRO0FBQ2pGLEVBQUssV0FBVyxLQUFLLE1BQU0sR0FBRztBQUM5QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssTUFBTSxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsS0FBSSxPQUFPLE1BQU0sQ0FBQztBQUNsRSxPQUFLLE1BQU0sQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLEtBQUksT0FBTyxNQUFNLENBQUM7QUFDbEUsT0FBSyxLQUFLLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxJQUFHLE9BQU8sTUFBTSxDQUFDO0FBQ2hFLE9BQUssTUFBTSxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsS0FBSSxPQUFPLE1BQU0sQ0FBQztBQUNsRSxPQUFLLE1BQU0sQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLEtBQUksT0FBTyxNQUFNLENBQUM7QUFDbEUsT0FBSyxLQUFLLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxJQUFHLE9BQU8sTUFBTSxDQUFDO0FBQ2hFLE9BQUssTUFBTSxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsS0FBSSxPQUFPLE1BQU0sQ0FBQztBQUNsRSxPQUFLLE1BQU0sQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLEtBQUksT0FBTyxNQUFNLENBQUM7QUFDbEUsT0FBSyxXQUFXLENBQUMsV0FBVyxLQUFLLE1BQWEsSUFBRyxPQUFPLENBQUMsR0FBRyxNQUFNLENBQUM7QUFDbkUsT0FBSyxXQUFXLENBQUMsV0FBVyxLQUFLLE1BQWEsSUFBRyxPQUFPLENBQUMsR0FBRyxNQUFNLENBQUM7QUFDbkUsT0FBSyxjQUFjLENBQUMsV0FBVyxLQUFLLE1BQWEsS0FBSSxPQUFPLENBQUMsR0FBRyxNQUFNLENBQUM7QUFDdkUsT0FBSyxjQUFjLENBQUMsV0FBVyxLQUFLLE1BQWEsS0FBSSxPQUFPLENBQUMsR0FBRyxNQUFNLENBQUM7QUFDdkUsT0FBSyxhQUFhLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxZQUFXLE9BQU8sTUFBTSxDQUFDO0FBQ2hGLFFBQU0sTUFBTSxLQUFLLEtBQUs7QUFDdEIsT0FBSyxXQUFXLElBQUksV0FBVztBQUMvQixPQUFLLFdBQVcsSUFBSSxXQUFXO0FBQy9CLE9BQUssU0FBUyxJQUFJLFVBQVU7QUFDaEMsQ0FBQztBQUNNLFNBQVNDLFFBQU8sUUFBUTtBQUMzQixTQUFZLFFBQVEsV0FBVyxNQUFNO0FBQ3pDO0FBQ08sSUFBTSxrQkFBZ0MsZ0JBQUssYUFBYSxtQkFBbUIsQ0FBQyxNQUFNLFFBQVE7QUFDN0YsRUFBSyxpQkFBaUIsS0FBSyxNQUFNLEdBQUc7QUFDcEMsWUFBVSxLQUFLLE1BQU0sR0FBRztBQUM1QixDQUFDO0FBRU0sU0FBUyxNQUFNLFFBQVE7QUFDMUIsU0FBWSxPQUFPLGlCQUFpQixNQUFNO0FBQzlDO0FBRU8sU0FBUyxPQUFPLFFBQVE7QUFDM0IsU0FBWSxRQUFRLGlCQUFpQixNQUFNO0FBQy9DO0FBQ08sSUFBTSxZQUEwQixnQkFBSyxhQUFhLGFBQWEsQ0FBQyxNQUFNLFFBQVE7QUFDakYsRUFBSyxXQUFXLEtBQUssTUFBTSxHQUFHO0FBQzlCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDMUIsQ0FBQztBQUNNLFNBQVNDLFNBQU8sUUFBUTtBQUMzQixTQUFZLFFBQVEsV0FBVyxNQUFNO0FBQ3pDO0FBQ08sSUFBTSxlQUE2QixnQkFBSyxhQUFhLGdCQUFnQixDQUFDLE1BQU0sUUFBUTtBQUN2RixFQUFLLGNBQWMsS0FBSyxNQUFNLEdBQUc7QUFDakMsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUMxQixDQUFDO0FBQ0QsU0FBU0MsWUFBVyxRQUFRO0FBQ3hCLFNBQVlBLFlBQVcsY0FBYyxNQUFNO0FBQy9DO0FBRU8sSUFBTSxVQUF3QixnQkFBSyxhQUFhLFdBQVcsQ0FBQyxNQUFNLFFBQVE7QUFDN0UsRUFBSyxTQUFTLEtBQUssTUFBTSxHQUFHO0FBQzVCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDMUIsQ0FBQztBQUNELFNBQVNDLE9BQU0sUUFBUTtBQUNuQixTQUFZQSxPQUFNLFNBQVMsTUFBTTtBQUNyQztBQUVPLElBQU0sU0FBdUIsZ0JBQUssYUFBYSxVQUFVLENBQUMsTUFBTSxRQUFRO0FBQzNFLEVBQUssUUFBUSxLQUFLLE1BQU0sR0FBRztBQUMzQixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQzFCLENBQUM7QUFDTSxTQUFTLE1BQU07QUFDbEIsU0FBWSxLQUFLLE1BQU07QUFDM0I7QUFDTyxJQUFNLGFBQTJCLGdCQUFLLGFBQWEsY0FBYyxDQUFDLE1BQU0sUUFBUTtBQUNuRixFQUFLLFlBQVksS0FBSyxNQUFNLEdBQUc7QUFDL0IsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUMxQixDQUFDO0FBQ00sU0FBUyxVQUFVO0FBQ3RCLFNBQVksU0FBUyxVQUFVO0FBQ25DO0FBQ08sSUFBTSxXQUF5QixnQkFBSyxhQUFhLFlBQVksQ0FBQyxNQUFNLFFBQVE7QUFDL0UsRUFBSyxVQUFVLEtBQUssTUFBTSxHQUFHO0FBQzdCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDMUIsQ0FBQztBQUNNLFNBQVMsTUFBTSxRQUFRO0FBQzFCLFNBQVksT0FBTyxVQUFVLE1BQU07QUFDdkM7QUFDTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUM3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUMxQixDQUFDO0FBQ0QsU0FBU0MsT0FBTSxRQUFRO0FBQ25CLFNBQVksTUFBTSxTQUFTLE1BQU07QUFDckM7QUFFTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUM3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLE1BQU0sQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLEtBQUksT0FBTyxNQUFNLENBQUM7QUFDbEUsT0FBSyxNQUFNLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxLQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xFLFFBQU0sSUFBSSxLQUFLLEtBQUs7QUFDcEIsT0FBSyxVQUFVLEVBQUUsVUFBVSxJQUFJLEtBQUssRUFBRSxPQUFPLElBQUk7QUFDakQsT0FBSyxVQUFVLEVBQUUsVUFBVSxJQUFJLEtBQUssRUFBRSxPQUFPLElBQUk7QUFDckQsQ0FBQztBQUNNLFNBQVNDLE1BQUssUUFBUTtBQUN6QixTQUFZLE1BQU0sU0FBUyxNQUFNO0FBQ3JDO0FBQ08sSUFBTSxXQUF5QixnQkFBSyxhQUFhLFlBQVksQ0FBQyxNQUFNLFFBQVE7QUFDL0UsRUFBSyxVQUFVLEtBQUssTUFBTSxHQUFHO0FBQzdCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxVQUFVLElBQUk7QUFDbkIsT0FBSyxNQUFNLENBQUMsV0FBVyxXQUFXLEtBQUssTUFBYSxXQUFVLFdBQVcsTUFBTSxDQUFDO0FBQ2hGLE9BQUssV0FBVyxDQUFDLFdBQVcsS0FBSyxNQUFhLFdBQVUsR0FBRyxNQUFNLENBQUM7QUFDbEUsT0FBSyxNQUFNLENBQUMsV0FBVyxXQUFXLEtBQUssTUFBYSxXQUFVLFdBQVcsTUFBTSxDQUFDO0FBQ2hGLE9BQUssU0FBUyxDQUFDLEtBQUssV0FBVyxLQUFLLE1BQWEsUUFBTyxLQUFLLE1BQU0sQ0FBQztBQUNwRSxPQUFLLFNBQVMsTUFBTSxLQUFLO0FBQzdCLENBQUM7QUFDTSxTQUFTLE1BQU0sU0FBUyxRQUFRO0FBQ25DLFNBQVksT0FBTyxVQUFVLFNBQVMsTUFBTTtBQUNoRDtBQUVPLFNBQVMsTUFBTSxRQUFRO0FBQzFCLFFBQU0sUUFBUSxPQUFPLEtBQUssSUFBSTtBQUM5QixTQUFPQyxPQUFNLE9BQU8sS0FBSyxLQUFLLENBQUM7QUFDbkM7QUFDTyxJQUFNLFlBQTBCLGdCQUFLLGFBQWEsYUFBYSxDQUFDLE1BQU0sUUFBUTtBQUNqRixFQUFLLGNBQWMsS0FBSyxNQUFNLEdBQUc7QUFDakMsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixlQUFLLFdBQVcsTUFBTSxTQUFTLE1BQU0sSUFBSSxLQUFLO0FBQzlDLE9BQUssUUFBUSxNQUFNQSxPQUFNLE9BQU8sS0FBSyxLQUFLLEtBQUssSUFBSSxLQUFLLENBQUM7QUFDekQsT0FBSyxXQUFXLENBQUMsYUFBYSxLQUFLLE1BQU0sRUFBRSxHQUFHLEtBQUssS0FBSyxLQUFLLFNBQW1CLENBQUM7QUFDakYsT0FBSyxjQUFjLE1BQU0sS0FBSyxNQUFNLEVBQUUsR0FBRyxLQUFLLEtBQUssS0FBSyxVQUFVLFFBQVEsRUFBRSxDQUFDO0FBQzdFLE9BQUssUUFBUSxNQUFNLEtBQUssTUFBTSxFQUFFLEdBQUcsS0FBSyxLQUFLLEtBQUssVUFBVSxRQUFRLEVBQUUsQ0FBQztBQUN2RSxPQUFLLFNBQVMsTUFBTSxLQUFLLE1BQU0sRUFBRSxHQUFHLEtBQUssS0FBSyxLQUFLLFVBQVUsTUFBTSxFQUFFLENBQUM7QUFDdEUsT0FBSyxRQUFRLE1BQU0sS0FBSyxNQUFNLEVBQUUsR0FBRyxLQUFLLEtBQUssS0FBSyxVQUFVLE9BQVUsQ0FBQztBQUN2RSxPQUFLLFNBQVMsQ0FBQyxhQUFhO0FBQ3hCLFdBQU8sYUFBSyxPQUFPLE1BQU0sUUFBUTtBQUFBLEVBQ3JDO0FBQ0EsT0FBSyxhQUFhLENBQUMsYUFBYTtBQUM1QixXQUFPLGFBQUssV0FBVyxNQUFNLFFBQVE7QUFBQSxFQUN6QztBQUNBLE9BQUssUUFBUSxDQUFDLFVBQVUsYUFBSyxNQUFNLE1BQU0sS0FBSztBQUM5QyxPQUFLLE9BQU8sQ0FBQyxTQUFTLGFBQUssS0FBSyxNQUFNLElBQUk7QUFDMUMsT0FBSyxPQUFPLENBQUMsU0FBUyxhQUFLLEtBQUssTUFBTSxJQUFJO0FBQzFDLE9BQUssVUFBVSxJQUFJLFNBQVMsYUFBSyxRQUFRLGFBQWEsTUFBTSxLQUFLLENBQUMsQ0FBQztBQUNuRSxPQUFLLFdBQVcsSUFBSSxTQUFTLGFBQUssU0FBUyxnQkFBZ0IsTUFBTSxLQUFLLENBQUMsQ0FBQztBQUM1RSxDQUFDO0FBQ00sU0FBUyxPQUFPLE9BQU8sUUFBUTtBQUNsQyxRQUFNLE1BQU07QUFBQSxJQUNSLE1BQU07QUFBQSxJQUNOLElBQUksUUFBUTtBQUNSLG1CQUFLLFdBQVcsTUFBTSxTQUFTLFFBQVEsYUFBSyxZQUFZLEtBQUssSUFBSSxDQUFDLENBQUM7QUFDbkUsYUFBTyxLQUFLO0FBQUEsSUFDaEI7QUFBQSxJQUNBLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDO0FBQ0EsU0FBTyxJQUFJLFVBQVUsR0FBRztBQUM1QjtBQUVPLFNBQVMsYUFBYSxPQUFPLFFBQVE7QUFDeEMsU0FBTyxJQUFJLFVBQVU7QUFBQSxJQUNqQixNQUFNO0FBQUEsSUFDTixJQUFJLFFBQVE7QUFDUixtQkFBSyxXQUFXLE1BQU0sU0FBUyxhQUFLLFlBQVksS0FBSyxDQUFDO0FBQ3RELGFBQU8sS0FBSztBQUFBLElBQ2hCO0FBQUEsSUFDQSxVQUFVLE1BQU07QUFBQSxJQUNoQixHQUFHLGFBQUssZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFFTyxTQUFTLFlBQVksT0FBTyxRQUFRO0FBQ3ZDLFNBQU8sSUFBSSxVQUFVO0FBQUEsSUFDakIsTUFBTTtBQUFBLElBQ04sSUFBSSxRQUFRO0FBQ1IsbUJBQUssV0FBVyxNQUFNLFNBQVMsYUFBSyxZQUFZLEtBQUssQ0FBQztBQUN0RCxhQUFPLEtBQUs7QUFBQSxJQUNoQjtBQUFBLElBQ0EsVUFBVSxRQUFRO0FBQUEsSUFDbEIsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sSUFBTSxXQUF5QixnQkFBSyxhQUFhLFlBQVksQ0FBQyxNQUFNLFFBQVE7QUFDL0UsRUFBSyxVQUFVLEtBQUssTUFBTSxHQUFHO0FBQzdCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxVQUFVLElBQUk7QUFDdkIsQ0FBQztBQUNNLFNBQVMsTUFBTSxTQUFTLFFBQVE7QUFDbkMsU0FBTyxJQUFJLFNBQVM7QUFBQSxJQUNoQixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sSUFBTSx3QkFBc0MsZ0JBQUssYUFBYSx5QkFBeUIsQ0FBQyxNQUFNLFFBQVE7QUFDekcsV0FBUyxLQUFLLE1BQU0sR0FBRztBQUN2QixFQUFLLHVCQUF1QixLQUFLLE1BQU0sR0FBRztBQUM5QyxDQUFDO0FBQ00sU0FBUyxtQkFBbUIsZUFBZSxTQUFTLFFBQVE7QUFFL0QsU0FBTyxJQUFJLHNCQUFzQjtBQUFBLElBQzdCLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQTtBQUFBLElBQ0EsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sSUFBTSxrQkFBZ0MsZ0JBQUssYUFBYSxtQkFBbUIsQ0FBQyxNQUFNLFFBQVE7QUFDN0YsRUFBSyxpQkFBaUIsS0FBSyxNQUFNLEdBQUc7QUFDcEMsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUMxQixDQUFDO0FBQ00sU0FBUyxhQUFhLE1BQU0sT0FBTztBQUN0QyxTQUFPLElBQUksZ0JBQWdCO0FBQUEsSUFDdkIsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxJQUFNLFdBQXlCLGdCQUFLLGFBQWEsWUFBWSxDQUFDLE1BQU0sUUFBUTtBQUMvRSxFQUFLLFVBQVUsS0FBSyxNQUFNLEdBQUc7QUFDN0IsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLE9BQU8sQ0FBQyxTQUFTLEtBQUssTUFBTTtBQUFBLElBQzdCLEdBQUcsS0FBSyxLQUFLO0FBQUEsSUFDYjtBQUFBLEVBQ0osQ0FBQztBQUNMLENBQUM7QUFDTSxTQUFTLE1BQU0sT0FBTyxlQUFlLFNBQVM7QUFDakQsUUFBTSxVQUFVLHlCQUE4QjtBQUM5QyxRQUFNLFNBQVMsVUFBVSxVQUFVO0FBQ25DLFFBQU0sT0FBTyxVQUFVLGdCQUFnQjtBQUN2QyxTQUFPLElBQUksU0FBUztBQUFBLElBQ2hCLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQTtBQUFBLElBQ0EsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sSUFBTSxZQUEwQixnQkFBSyxhQUFhLGFBQWEsQ0FBQyxNQUFNLFFBQVE7QUFDakYsRUFBSyxXQUFXLEtBQUssTUFBTSxHQUFHO0FBQzlCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxVQUFVLElBQUk7QUFDbkIsT0FBSyxZQUFZLElBQUk7QUFDekIsQ0FBQztBQUNNLFNBQVMsT0FBTyxTQUFTLFdBQVcsUUFBUTtBQUMvQyxTQUFPLElBQUksVUFBVTtBQUFBLElBQ2pCLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQTtBQUFBLElBQ0EsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBRU8sU0FBUyxjQUFjLFNBQVMsV0FBVyxRQUFRO0FBQ3RELFFBQU0sSUFBUyxNQUFNLE9BQU87QUFDNUIsSUFBRSxLQUFLLFNBQVM7QUFDaEIsU0FBTyxJQUFJLFVBQVU7QUFBQSxJQUNqQixNQUFNO0FBQUEsSUFDTixTQUFTO0FBQUEsSUFDVDtBQUFBLElBQ0EsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sSUFBTSxTQUF1QixnQkFBSyxhQUFhLFVBQVUsQ0FBQyxNQUFNLFFBQVE7QUFDM0UsRUFBSyxRQUFRLEtBQUssTUFBTSxHQUFHO0FBQzNCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxVQUFVLElBQUk7QUFDbkIsT0FBSyxZQUFZLElBQUk7QUFDekIsQ0FBQztBQUNNLFNBQVMsSUFBSSxTQUFTLFdBQVcsUUFBUTtBQUM1QyxTQUFPLElBQUksT0FBTztBQUFBLElBQ2QsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBO0FBQUEsSUFDQSxHQUFHLGFBQUssZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxJQUFNLFNBQXVCLGdCQUFLLGFBQWEsVUFBVSxDQUFDLE1BQU0sUUFBUTtBQUMzRSxFQUFLLFFBQVEsS0FBSyxNQUFNLEdBQUc7QUFDM0IsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLE1BQU0sSUFBSSxTQUFTLEtBQUssTUFBVyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ3pELE9BQUssV0FBVyxDQUFDLFdBQVcsS0FBSyxNQUFXLFNBQVMsR0FBRyxNQUFNLENBQUM7QUFDL0QsT0FBSyxNQUFNLElBQUksU0FBUyxLQUFLLE1BQVcsU0FBUyxHQUFHLElBQUksQ0FBQztBQUN6RCxPQUFLLE9BQU8sSUFBSSxTQUFTLEtBQUssTUFBVyxNQUFNLEdBQUcsSUFBSSxDQUFDO0FBQzNELENBQUM7QUFDTSxTQUFTLElBQUksV0FBVyxRQUFRO0FBQ25DLFNBQU8sSUFBSSxPQUFPO0FBQUEsSUFDZCxNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sSUFBTSxVQUF3QixnQkFBSyxhQUFhLFdBQVcsQ0FBQyxNQUFNLFFBQVE7QUFDN0UsRUFBSyxTQUFTLEtBQUssTUFBTSxHQUFHO0FBQzVCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxPQUFPLElBQUk7QUFDaEIsT0FBSyxVQUFVLE9BQU8sT0FBTyxJQUFJLE9BQU87QUFDeEMsUUFBTSxPQUFPLElBQUksSUFBSSxPQUFPLEtBQUssSUFBSSxPQUFPLENBQUM7QUFDN0MsT0FBSyxVQUFVLENBQUMsUUFBUSxXQUFXO0FBQy9CLFVBQU0sYUFBYSxDQUFDO0FBQ3BCLGVBQVcsU0FBUyxRQUFRO0FBQ3hCLFVBQUksS0FBSyxJQUFJLEtBQUssR0FBRztBQUNqQixtQkFBVyxLQUFLLElBQUksSUFBSSxRQUFRLEtBQUs7QUFBQSxNQUN6QztBQUVJLGNBQU0sSUFBSSxNQUFNLE9BQU8sS0FBSyxvQkFBb0I7QUFBQSxJQUN4RDtBQUNBLFdBQU8sSUFBSSxRQUFRO0FBQUEsTUFDZixHQUFHO0FBQUEsTUFDSCxRQUFRLENBQUM7QUFBQSxNQUNULEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLE1BQzlCLFNBQVM7QUFBQSxJQUNiLENBQUM7QUFBQSxFQUNMO0FBQ0EsT0FBSyxVQUFVLENBQUMsUUFBUSxXQUFXO0FBQy9CLFVBQU0sYUFBYSxFQUFFLEdBQUcsSUFBSSxRQUFRO0FBQ3BDLGVBQVcsU0FBUyxRQUFRO0FBQ3hCLFVBQUksS0FBSyxJQUFJLEtBQUssR0FBRztBQUNqQixlQUFPLFdBQVcsS0FBSztBQUFBLE1BQzNCO0FBRUksY0FBTSxJQUFJLE1BQU0sT0FBTyxLQUFLLG9CQUFvQjtBQUFBLElBQ3hEO0FBQ0EsV0FBTyxJQUFJLFFBQVE7QUFBQSxNQUNmLEdBQUc7QUFBQSxNQUNILFFBQVEsQ0FBQztBQUFBLE1BQ1QsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsTUFDOUIsU0FBUztBQUFBLElBQ2IsQ0FBQztBQUFBLEVBQ0w7QUFDSixDQUFDO0FBQ0QsU0FBU0EsT0FBTSxRQUFRLFFBQVE7QUFDM0IsUUFBTSxVQUFVLE1BQU0sUUFBUSxNQUFNLElBQUksT0FBTyxZQUFZLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUk7QUFDeEYsU0FBTyxJQUFJLFFBQVE7QUFBQSxJQUNmLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxHQUFHLGFBQUssZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFTTyxTQUFTLFdBQVcsU0FBUyxRQUFRO0FBQ3hDLFNBQU8sSUFBSSxRQUFRO0FBQUEsSUFDZixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sSUFBTSxhQUEyQixnQkFBSyxhQUFhLGNBQWMsQ0FBQyxNQUFNLFFBQVE7QUFDbkYsRUFBSyxZQUFZLEtBQUssTUFBTSxHQUFHO0FBQy9CLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxTQUFTLElBQUksSUFBSSxJQUFJLE1BQU07QUFDaEMsU0FBTyxlQUFlLE1BQU0sU0FBUztBQUFBLElBQ2pDLE1BQU07QUFDRixVQUFJLElBQUksT0FBTyxTQUFTLEdBQUc7QUFDdkIsY0FBTSxJQUFJLE1BQU0sNEVBQTRFO0FBQUEsTUFDaEc7QUFDQSxhQUFPLElBQUksT0FBTyxDQUFDO0FBQUEsSUFDdkI7QUFBQSxFQUNKLENBQUM7QUFDTCxDQUFDO0FBQ00sU0FBUyxRQUFRLE9BQU8sUUFBUTtBQUNuQyxTQUFPLElBQUksV0FBVztBQUFBLElBQ2xCLE1BQU07QUFBQSxJQUNOLFFBQVEsTUFBTSxRQUFRLEtBQUssSUFBSSxRQUFRLENBQUMsS0FBSztBQUFBLElBQzdDLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLElBQU0sVUFBd0IsZ0JBQUssYUFBYSxXQUFXLENBQUMsTUFBTSxRQUFRO0FBQzdFLEVBQUssU0FBUyxLQUFLLE1BQU0sR0FBRztBQUM1QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssTUFBTSxDQUFDLE1BQU0sV0FBVyxLQUFLLE1BQVcsU0FBUyxNQUFNLE1BQU0sQ0FBQztBQUNuRSxPQUFLLE1BQU0sQ0FBQyxNQUFNLFdBQVcsS0FBSyxNQUFXLFNBQVMsTUFBTSxNQUFNLENBQUM7QUFDbkUsT0FBSyxPQUFPLENBQUNDLFFBQU8sV0FBVyxLQUFLLE1BQVcsTUFBTSxNQUFNLFFBQVFBLE1BQUssSUFBSUEsU0FBUSxDQUFDQSxNQUFLLEdBQUcsTUFBTSxDQUFDO0FBQ3hHLENBQUM7QUFDTSxTQUFTLEtBQUssUUFBUTtBQUN6QixTQUFZLE1BQU0sU0FBUyxNQUFNO0FBQ3JDO0FBQ08sSUFBTSxlQUE2QixnQkFBSyxhQUFhLGdCQUFnQixDQUFDLE1BQU0sUUFBUTtBQUN2RixFQUFLLGNBQWMsS0FBSyxNQUFNLEdBQUc7QUFDakMsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLEtBQUssUUFBUSxDQUFDLFNBQVMsU0FBUztBQUNqQyxRQUFJLEtBQUssY0FBYyxZQUFZO0FBQy9CLFlBQU0sSUFBUyxnQkFBZ0IsS0FBSyxZQUFZLElBQUk7QUFBQSxJQUN4RDtBQUNBLFlBQVEsV0FBVyxDQUFDQyxXQUFVO0FBQzFCLFVBQUksT0FBT0EsV0FBVSxVQUFVO0FBQzNCLGdCQUFRLE9BQU8sS0FBSyxhQUFLLE1BQU1BLFFBQU8sUUFBUSxPQUFPLEdBQUcsQ0FBQztBQUFBLE1BQzdELE9BQ0s7QUFFRCxjQUFNLFNBQVNBO0FBQ2YsWUFBSSxPQUFPO0FBQ1AsaUJBQU8sV0FBVztBQUN0QixlQUFPLFNBQVMsT0FBTyxPQUFPO0FBQzlCLGVBQU8sVUFBVSxPQUFPLFFBQVEsUUFBUTtBQUN4QyxlQUFPLFNBQVMsT0FBTyxPQUFPO0FBRTlCLGdCQUFRLE9BQU8sS0FBSyxhQUFLLE1BQU0sTUFBTSxDQUFDO0FBQUEsTUFDMUM7QUFBQSxJQUNKO0FBQ0EsVUFBTSxTQUFTLElBQUksVUFBVSxRQUFRLE9BQU8sT0FBTztBQUNuRCxRQUFJLGtCQUFrQixTQUFTO0FBQzNCLGFBQU8sT0FBTyxLQUFLLENBQUNDLFlBQVc7QUFDM0IsZ0JBQVEsUUFBUUE7QUFDaEIsZUFBTztBQUFBLE1BQ1gsQ0FBQztBQUFBLElBQ0w7QUFDQSxZQUFRLFFBQVE7QUFDaEIsV0FBTztBQUFBLEVBQ1g7QUFDSixDQUFDO0FBQ00sU0FBUyxVQUFVLElBQUk7QUFDMUIsU0FBTyxJQUFJLGFBQWE7QUFBQSxJQUNwQixNQUFNO0FBQUEsSUFDTixXQUFXO0FBQUEsRUFDZixDQUFDO0FBQ0w7QUFDTyxJQUFNLGNBQTRCLGdCQUFLLGFBQWEsZUFBZSxDQUFDLE1BQU0sUUFBUTtBQUNyRixFQUFLLGFBQWEsS0FBSyxNQUFNLEdBQUc7QUFDaEMsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLFNBQVMsTUFBTSxLQUFLLEtBQUssSUFBSTtBQUN0QyxDQUFDO0FBQ00sU0FBUyxTQUFTLFdBQVc7QUFDaEMsU0FBTyxJQUFJLFlBQVk7QUFBQSxJQUNuQixNQUFNO0FBQUEsSUFDTjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sSUFBTSxjQUE0QixnQkFBSyxhQUFhLGVBQWUsQ0FBQyxNQUFNLFFBQVE7QUFDckYsRUFBSyxhQUFhLEtBQUssTUFBTSxHQUFHO0FBQ2hDLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxTQUFTLE1BQU0sS0FBSyxLQUFLLElBQUk7QUFDdEMsQ0FBQztBQUNNLFNBQVMsU0FBUyxXQUFXO0FBQ2hDLFNBQU8sSUFBSSxZQUFZO0FBQUEsSUFDbkIsTUFBTTtBQUFBLElBQ047QUFBQSxFQUNKLENBQUM7QUFDTDtBQUVPLFNBQVNDLFNBQVEsV0FBVztBQUMvQixTQUFPLFNBQVMsU0FBUyxTQUFTLENBQUM7QUFDdkM7QUFDTyxJQUFNLGFBQTJCLGdCQUFLLGFBQWEsY0FBYyxDQUFDLE1BQU0sUUFBUTtBQUNuRixFQUFLLFlBQVksS0FBSyxNQUFNLEdBQUc7QUFDL0IsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLFNBQVMsTUFBTSxLQUFLLEtBQUssSUFBSTtBQUNsQyxPQUFLLGdCQUFnQixLQUFLO0FBQzlCLENBQUM7QUFDTSxTQUFTQyxVQUFTLFdBQVcsY0FBYztBQUM5QyxTQUFPLElBQUksV0FBVztBQUFBLElBQ2xCLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxJQUFJLGVBQWU7QUFDZixhQUFPLE9BQU8saUJBQWlCLGFBQWEsYUFBYSxJQUFJLGFBQUssYUFBYSxZQUFZO0FBQUEsSUFDL0Y7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLElBQU0sY0FBNEIsZ0JBQUssYUFBYSxlQUFlLENBQUMsTUFBTSxRQUFRO0FBQ3JGLEVBQUssYUFBYSxLQUFLLE1BQU0sR0FBRztBQUNoQyxVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssU0FBUyxNQUFNLEtBQUssS0FBSyxJQUFJO0FBQ3RDLENBQUM7QUFDTSxTQUFTLFNBQVMsV0FBVyxjQUFjO0FBQzlDLFNBQU8sSUFBSSxZQUFZO0FBQUEsSUFDbkIsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBLElBQUksZUFBZTtBQUNmLGFBQU8sT0FBTyxpQkFBaUIsYUFBYSxhQUFhLElBQUksYUFBSyxhQUFhLFlBQVk7QUFBQSxJQUMvRjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sSUFBTSxpQkFBK0IsZ0JBQUssYUFBYSxrQkFBa0IsQ0FBQyxNQUFNLFFBQVE7QUFDM0YsRUFBSyxnQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbkMsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLFNBQVMsTUFBTSxLQUFLLEtBQUssSUFBSTtBQUN0QyxDQUFDO0FBQ00sU0FBUyxZQUFZLFdBQVcsUUFBUTtBQUMzQyxTQUFPLElBQUksZUFBZTtBQUFBLElBQ3RCLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxHQUFHLGFBQUssZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxJQUFNLGFBQTJCLGdCQUFLLGFBQWEsY0FBYyxDQUFDLE1BQU0sUUFBUTtBQUNuRixFQUFLLFlBQVksS0FBSyxNQUFNLEdBQUc7QUFDL0IsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLFNBQVMsTUFBTSxLQUFLLEtBQUssSUFBSTtBQUN0QyxDQUFDO0FBQ00sU0FBUyxRQUFRLFdBQVc7QUFDL0IsU0FBTyxJQUFJLFdBQVc7QUFBQSxJQUNsQixNQUFNO0FBQUEsSUFDTjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sSUFBTSxXQUF5QixnQkFBSyxhQUFhLFlBQVksQ0FBQyxNQUFNLFFBQVE7QUFDL0UsRUFBSyxVQUFVLEtBQUssTUFBTSxHQUFHO0FBQzdCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxTQUFTLE1BQU0sS0FBSyxLQUFLLElBQUk7QUFDbEMsT0FBSyxjQUFjLEtBQUs7QUFDNUIsQ0FBQztBQUNELFNBQVNDLFFBQU8sV0FBVyxZQUFZO0FBQ25DLFNBQU8sSUFBSSxTQUFTO0FBQUEsSUFDaEIsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBLFlBQWEsT0FBTyxlQUFlLGFBQWEsYUFBYSxNQUFNO0FBQUEsRUFDdkUsQ0FBQztBQUNMO0FBRU8sSUFBTSxTQUF1QixnQkFBSyxhQUFhLFVBQVUsQ0FBQyxNQUFNLFFBQVE7QUFDM0UsRUFBSyxRQUFRLEtBQUssTUFBTSxHQUFHO0FBQzNCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDMUIsQ0FBQztBQUNNLFNBQVMsSUFBSSxRQUFRO0FBQ3hCLFNBQVksS0FBSyxRQUFRLE1BQU07QUFDbkM7QUFDTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUM3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLEtBQUssSUFBSTtBQUNkLE9BQUssTUFBTSxJQUFJO0FBQ25CLENBQUM7QUFDTSxTQUFTLEtBQUssS0FBSyxLQUFLO0FBQzNCLFNBQU8sSUFBSSxRQUFRO0FBQUEsSUFDZixNQUFNO0FBQUEsSUFDTixJQUFJO0FBQUEsSUFDSjtBQUFBO0FBQUEsRUFFSixDQUFDO0FBQ0w7QUFDTyxJQUFNLFdBQXlCLGdCQUFLLGFBQWEsWUFBWSxDQUFDLE1BQU0sUUFBUTtBQUMvRSxVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLEVBQUssVUFBVSxLQUFLLE1BQU0sR0FBRztBQUNqQyxDQUFDO0FBQ00sU0FBUyxNQUFNLEtBQUssS0FBSyxRQUFRO0FBQ3BDLFNBQU8sSUFBSSxTQUFTO0FBQUEsSUFDaEIsTUFBTTtBQUFBLElBQ04sSUFBSTtBQUFBLElBQ0o7QUFBQSxJQUNBLFdBQVcsT0FBTztBQUFBLElBQ2xCLGtCQUFrQixPQUFPO0FBQUEsRUFDN0IsQ0FBQztBQUNMO0FBQ08sSUFBTSxjQUE0QixnQkFBSyxhQUFhLGVBQWUsQ0FBQyxNQUFNLFFBQVE7QUFDckYsRUFBSyxhQUFhLEtBQUssTUFBTSxHQUFHO0FBQ2hDLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxTQUFTLE1BQU0sS0FBSyxLQUFLLElBQUk7QUFDdEMsQ0FBQztBQUNNLFNBQVMsU0FBUyxXQUFXO0FBQ2hDLFNBQU8sSUFBSSxZQUFZO0FBQUEsSUFDbkIsTUFBTTtBQUFBLElBQ047QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLElBQU0scUJBQW1DLGdCQUFLLGFBQWEsc0JBQXNCLENBQUMsTUFBTSxRQUFRO0FBQ25HLEVBQUssb0JBQW9CLEtBQUssTUFBTSxHQUFHO0FBQ3ZDLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDMUIsQ0FBQztBQUNNLFNBQVMsZ0JBQWdCLE9BQU8sUUFBUTtBQUMzQyxTQUFPLElBQUksbUJBQW1CO0FBQUEsSUFDMUIsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLElBQU0sVUFBd0IsZ0JBQUssYUFBYSxXQUFXLENBQUMsTUFBTSxRQUFRO0FBQzdFLEVBQUssU0FBUyxLQUFLLE1BQU0sR0FBRztBQUM1QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssU0FBUyxNQUFNLEtBQUssS0FBSyxJQUFJLE9BQU87QUFDN0MsQ0FBQztBQUNNLFNBQVMsS0FBSyxRQUFRO0FBQ3pCLFNBQU8sSUFBSSxRQUFRO0FBQUEsSUFDZixNQUFNO0FBQUEsSUFDTjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sSUFBTSxhQUEyQixnQkFBSyxhQUFhLGNBQWMsQ0FBQyxNQUFNLFFBQVE7QUFDbkYsRUFBSyxZQUFZLEtBQUssTUFBTSxHQUFHO0FBQy9CLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxTQUFTLE1BQU0sS0FBSyxLQUFLLElBQUk7QUFDdEMsQ0FBQztBQUNNLFNBQVMsUUFBUSxXQUFXO0FBQy9CLFNBQU8sSUFBSSxXQUFXO0FBQUEsSUFDbEIsTUFBTTtBQUFBLElBQ047QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLElBQU0sY0FBNEIsZ0JBQUssYUFBYSxlQUFlLENBQUMsTUFBTSxRQUFRO0FBQ3JGLEVBQUssYUFBYSxLQUFLLE1BQU0sR0FBRztBQUNoQyxVQUFRLEtBQUssTUFBTSxHQUFHO0FBQzFCLENBQUM7QUFDTSxTQUFTLFVBQVUsUUFBUTtBQUM5QixTQUFPLElBQUksWUFBWTtBQUFBLElBQ25CLE1BQU07QUFBQSxJQUNOLE9BQU8sTUFBTSxRQUFRLFFBQVEsS0FBSyxJQUFJLE1BQU0sUUFBUSxLQUFLLElBQUssUUFBUSxTQUFTLE1BQU0sUUFBUSxDQUFDO0FBQUEsSUFDOUYsUUFBUSxRQUFRLFVBQVUsUUFBUTtBQUFBLEVBQ3RDLENBQUM7QUFDTDtBQUVPLElBQU0sWUFBMEIsZ0JBQUssYUFBYSxhQUFhLENBQUMsTUFBTSxRQUFRO0FBQ2pGLEVBQUssV0FBVyxLQUFLLE1BQU0sR0FBRztBQUM5QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQzFCLENBQUM7QUFFTSxTQUFTLE1BQU0sSUFBSTtBQUN0QixRQUFNLEtBQUssSUFBUyxVQUFVO0FBQUEsSUFDMUIsT0FBTztBQUFBO0FBQUEsRUFFWCxDQUFDO0FBQ0QsS0FBRyxLQUFLLFFBQVE7QUFDaEIsU0FBTztBQUNYO0FBQ08sU0FBUyxPQUFPLElBQUksU0FBUztBQUNoQyxTQUFZLFFBQVEsV0FBVyxPQUFPLE1BQU0sT0FBTyxPQUFPO0FBQzlEO0FBQ08sU0FBUyxPQUFPLElBQUksVUFBVSxDQUFDLEdBQUc7QUFDckMsU0FBWSxRQUFRLFdBQVcsSUFBSSxPQUFPO0FBQzlDO0FBRU8sU0FBUyxZQUFZLElBQUk7QUFDNUIsU0FBWSxhQUFhLEVBQUU7QUFDL0I7QUFDQSxTQUFTLFlBQVksS0FBSyxTQUFTO0FBQUEsRUFDL0IsT0FBTyx5QkFBeUIsSUFBSSxJQUFJO0FBQzVDLEdBQUc7QUFDQyxRQUFNLE9BQU8sSUFBSSxVQUFVO0FBQUEsSUFDdkIsTUFBTTtBQUFBLElBQ04sT0FBTztBQUFBLElBQ1AsSUFBSSxDQUFDLFNBQVMsZ0JBQWdCO0FBQUEsSUFDOUIsT0FBTztBQUFBLElBQ1AsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNELE9BQUssS0FBSyxJQUFJLFFBQVE7QUFDdEIsU0FBTztBQUNYO0FBR08sSUFBTSxhQUFhLElBQUksU0FBYyxZQUFZO0FBQUEsRUFDcEQsT0FBTztBQUFBLEVBQ1AsU0FBUztBQUFBLEVBQ1QsUUFBUTtBQUNaLEdBQUcsR0FBRyxJQUFJO0FBQ0gsU0FBUyxLQUFLLFFBQVE7QUFDekIsUUFBTUMsY0FBYSxLQUFLLE1BQU07QUFDMUIsV0FBTyxNQUFNLENBQUNDLFFBQU8sTUFBTSxHQUFHQyxRQUFPLEdBQUdDLFNBQVEsR0FBR0MsT0FBTSxHQUFHLE1BQU1KLFdBQVUsR0FBRyxPQUFPQyxRQUFPLEdBQUdELFdBQVUsQ0FBQyxDQUFDO0FBQUEsRUFDaEgsQ0FBQztBQUNELFNBQU9BO0FBQ1g7QUFHTyxTQUFTLFdBQVcsSUFBSSxRQUFRO0FBQ25DLFNBQU8sS0FBSyxVQUFVLEVBQUUsR0FBRyxNQUFNO0FBQ3JDOzs7QUN0aENPLElBQU0sZUFBZTtBQUFBLEVBQ3hCLGNBQWM7QUFBQSxFQUNkLFNBQVM7QUFBQSxFQUNULFdBQVc7QUFBQSxFQUNYLGdCQUFnQjtBQUFBLEVBQ2hCLGlCQUFpQjtBQUFBLEVBQ2pCLG1CQUFtQjtBQUFBLEVBQ25CLGVBQWU7QUFBQSxFQUNmLGFBQWE7QUFBQSxFQUNiLGlCQUFpQjtBQUFBLEVBQ2pCLGVBQWU7QUFBQSxFQUNmLFFBQVE7QUFDWjtBQUdPLFNBQVMsWUFBWUssTUFBSztBQUM3QixFQUFLLE9BQU87QUFBQSxJQUNSLGFBQWFBO0FBQUEsRUFDakIsQ0FBQztBQUNMO0FBRU8sU0FBUyxjQUFjO0FBQzFCLFNBQVksT0FBTyxFQUFFO0FBQ3pCO0FBRU8sSUFBSTtBQUNWLDBCQUFVQyx3QkFBdUI7QUFDbEMsR0FBRywwQkFBMEIsd0JBQXdCLENBQUMsRUFBRTs7O0FDOUJ4RDtBQUFBO0FBQUEsZ0JBQUFDO0FBQUEsRUFBQSxlQUFBQztBQUFBLEVBQUEsWUFBQUM7QUFBQSxFQUFBLGNBQUFDO0FBQUEsRUFBQSxjQUFBQztBQUFBO0FBRU8sU0FBU0MsUUFBTyxRQUFRO0FBQzNCLFNBQVksZUFBdUIsV0FBVyxNQUFNO0FBQ3hEO0FBQ08sU0FBU0MsUUFBTyxRQUFRO0FBQzNCLFNBQVksZUFBdUIsV0FBVyxNQUFNO0FBQ3hEO0FBQ08sU0FBU0MsU0FBUSxRQUFRO0FBQzVCLFNBQVksZ0JBQXdCLFlBQVksTUFBTTtBQUMxRDtBQUNPLFNBQVNDLFFBQU8sUUFBUTtBQUMzQixTQUFZLGVBQXVCLFdBQVcsTUFBTTtBQUN4RDtBQUNPLFNBQVNDLE1BQUssUUFBUTtBQUN6QixTQUFZLGFBQXFCLFNBQVMsTUFBTTtBQUNwRDs7O0FuRVBBLE9BQU8sV0FBRyxDQUFDOzs7QW9FVEosSUFBSTtBQUFBLENBQ1YsU0FBVUMsT0FBTTtBQUNiLEVBQUFBLE1BQUssY0FBYyxDQUFDLE1BQU07QUFBQSxFQUFFO0FBQzVCLFdBQVNDLFVBQVMsTUFBTTtBQUFBLEVBQUU7QUFDMUIsRUFBQUQsTUFBSyxXQUFXQztBQUNoQixXQUFTQyxhQUFZLElBQUk7QUFDckIsVUFBTSxJQUFJLE1BQU07QUFBQSxFQUNwQjtBQUNBLEVBQUFGLE1BQUssY0FBY0U7QUFDbkIsRUFBQUYsTUFBSyxjQUFjLENBQUMsVUFBVTtBQUMxQixVQUFNLE1BQU0sQ0FBQztBQUNiLGVBQVcsUUFBUSxPQUFPO0FBQ3RCLFVBQUksSUFBSSxJQUFJO0FBQUEsSUFDaEI7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLE1BQUsscUJBQXFCLENBQUMsUUFBUTtBQUMvQixVQUFNLFlBQVlBLE1BQUssV0FBVyxHQUFHLEVBQUUsT0FBTyxDQUFDLE1BQU0sT0FBTyxJQUFJLElBQUksQ0FBQyxDQUFDLE1BQU0sUUFBUTtBQUNwRixVQUFNLFdBQVcsQ0FBQztBQUNsQixlQUFXLEtBQUssV0FBVztBQUN2QixlQUFTLENBQUMsSUFBSSxJQUFJLENBQUM7QUFBQSxJQUN2QjtBQUNBLFdBQU9BLE1BQUssYUFBYSxRQUFRO0FBQUEsRUFDckM7QUFDQSxFQUFBQSxNQUFLLGVBQWUsQ0FBQyxRQUFRO0FBQ3pCLFdBQU9BLE1BQUssV0FBVyxHQUFHLEVBQUUsSUFBSSxTQUFVRyxJQUFHO0FBQ3pDLGFBQU8sSUFBSUEsRUFBQztBQUFBLElBQ2hCLENBQUM7QUFBQSxFQUNMO0FBQ0EsRUFBQUgsTUFBSyxhQUFhLE9BQU8sT0FBTyxTQUFTLGFBQ25DLENBQUMsUUFBUSxPQUFPLEtBQUssR0FBRyxJQUN4QixDQUFDSSxZQUFXO0FBQ1YsVUFBTSxPQUFPLENBQUM7QUFDZCxlQUFXLE9BQU9BLFNBQVE7QUFDdEIsVUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLQSxTQUFRLEdBQUcsR0FBRztBQUNuRCxhQUFLLEtBQUssR0FBRztBQUFBLE1BQ2pCO0FBQUEsSUFDSjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0osRUFBQUosTUFBSyxPQUFPLENBQUMsS0FBSyxZQUFZO0FBQzFCLGVBQVcsUUFBUSxLQUFLO0FBQ3BCLFVBQUksUUFBUSxJQUFJO0FBQ1osZUFBTztBQUFBLElBQ2Y7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLE1BQUssWUFBWSxPQUFPLE9BQU8sY0FBYyxhQUN2QyxDQUFDLFFBQVEsT0FBTyxVQUFVLEdBQUcsSUFDN0IsQ0FBQyxRQUFRLE9BQU8sUUFBUSxZQUFZLE9BQU8sU0FBUyxHQUFHLEtBQUssS0FBSyxNQUFNLEdBQUcsTUFBTTtBQUN0RixXQUFTSyxZQUFXQyxRQUFPLFlBQVksT0FBTztBQUMxQyxXQUFPQSxPQUFNLElBQUksQ0FBQyxRQUFTLE9BQU8sUUFBUSxXQUFXLElBQUksR0FBRyxNQUFNLEdBQUksRUFBRSxLQUFLLFNBQVM7QUFBQSxFQUMxRjtBQUNBLEVBQUFOLE1BQUssYUFBYUs7QUFDbEIsRUFBQUwsTUFBSyx3QkFBd0IsQ0FBQyxHQUFHLFVBQVU7QUFDdkMsUUFBSSxPQUFPLFVBQVUsVUFBVTtBQUMzQixhQUFPLE1BQU0sU0FBUztBQUFBLElBQzFCO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDSixHQUFHLFNBQVMsT0FBTyxDQUFDLEVBQUU7QUFDZixJQUFJO0FBQUEsQ0FDVixTQUFVTyxhQUFZO0FBQ25CLEVBQUFBLFlBQVcsY0FBYyxDQUFDLE9BQU8sV0FBVztBQUN4QyxXQUFPO0FBQUEsTUFDSCxHQUFHO0FBQUEsTUFDSCxHQUFHO0FBQUE7QUFBQSxJQUNQO0FBQUEsRUFDSjtBQUNKLEdBQUcsZUFBZSxhQUFhLENBQUMsRUFBRTtBQUMzQixJQUFNLGdCQUFnQixLQUFLLFlBQVk7QUFBQSxFQUMxQztBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDSixDQUFDO0FBQ00sSUFBTUMsaUJBQWdCLENBQUMsU0FBUztBQUNuQyxRQUFNQyxLQUFJLE9BQU87QUFDakIsVUFBUUEsSUFBRztBQUFBLElBQ1AsS0FBSztBQUNELGFBQU8sY0FBYztBQUFBLElBQ3pCLEtBQUs7QUFDRCxhQUFPLGNBQWM7QUFBQSxJQUN6QixLQUFLO0FBQ0QsYUFBTyxPQUFPLE1BQU0sSUFBSSxJQUFJLGNBQWMsTUFBTSxjQUFjO0FBQUEsSUFDbEUsS0FBSztBQUNELGFBQU8sY0FBYztBQUFBLElBQ3pCLEtBQUs7QUFDRCxhQUFPLGNBQWM7QUFBQSxJQUN6QixLQUFLO0FBQ0QsYUFBTyxjQUFjO0FBQUEsSUFDekIsS0FBSztBQUNELGFBQU8sY0FBYztBQUFBLElBQ3pCLEtBQUs7QUFDRCxVQUFJLE1BQU0sUUFBUSxJQUFJLEdBQUc7QUFDckIsZUFBTyxjQUFjO0FBQUEsTUFDekI7QUFDQSxVQUFJLFNBQVMsTUFBTTtBQUNmLGVBQU8sY0FBYztBQUFBLE1BQ3pCO0FBQ0EsVUFBSSxLQUFLLFFBQVEsT0FBTyxLQUFLLFNBQVMsY0FBYyxLQUFLLFNBQVMsT0FBTyxLQUFLLFVBQVUsWUFBWTtBQUNoRyxlQUFPLGNBQWM7QUFBQSxNQUN6QjtBQUNBLFVBQUksT0FBTyxRQUFRLGVBQWUsZ0JBQWdCLEtBQUs7QUFDbkQsZUFBTyxjQUFjO0FBQUEsTUFDekI7QUFDQSxVQUFJLE9BQU8sUUFBUSxlQUFlLGdCQUFnQixLQUFLO0FBQ25ELGVBQU8sY0FBYztBQUFBLE1BQ3pCO0FBQ0EsVUFBSSxPQUFPLFNBQVMsZUFBZSxnQkFBZ0IsTUFBTTtBQUNyRCxlQUFPLGNBQWM7QUFBQSxNQUN6QjtBQUNBLGFBQU8sY0FBYztBQUFBLElBQ3pCO0FBQ0ksYUFBTyxjQUFjO0FBQUEsRUFDN0I7QUFDSjs7O0FDbklPLElBQU1DLGdCQUFlLEtBQUssWUFBWTtBQUFBLEVBQ3pDO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQ0osQ0FBQztBQUtNLElBQU1DLFlBQU4sTUFBTSxrQkFBaUIsTUFBTTtBQUFBLEVBQ2hDLElBQUksU0FBUztBQUNULFdBQU8sS0FBSztBQUFBLEVBQ2hCO0FBQUEsRUFDQSxZQUFZLFFBQVE7QUFDaEIsVUFBTTtBQUNOLFNBQUssU0FBUyxDQUFDO0FBQ2YsU0FBSyxXQUFXLENBQUMsUUFBUTtBQUNyQixXQUFLLFNBQVMsQ0FBQyxHQUFHLEtBQUssUUFBUSxHQUFHO0FBQUEsSUFDdEM7QUFDQSxTQUFLLFlBQVksQ0FBQyxPQUFPLENBQUMsTUFBTTtBQUM1QixXQUFLLFNBQVMsQ0FBQyxHQUFHLEtBQUssUUFBUSxHQUFHLElBQUk7QUFBQSxJQUMxQztBQUNBLFVBQU0sY0FBYyxXQUFXO0FBQy9CLFFBQUksT0FBTyxnQkFBZ0I7QUFFdkIsYUFBTyxlQUFlLE1BQU0sV0FBVztBQUFBLElBQzNDLE9BQ0s7QUFDRCxXQUFLLFlBQVk7QUFBQSxJQUNyQjtBQUNBLFNBQUssT0FBTztBQUNaLFNBQUssU0FBUztBQUFBLEVBQ2xCO0FBQUEsRUFDQSxPQUFPLFNBQVM7QUFDWixVQUFNLFNBQVMsV0FDWCxTQUFVQyxRQUFPO0FBQ2IsYUFBT0EsT0FBTTtBQUFBLElBQ2pCO0FBQ0osVUFBTSxjQUFjLEVBQUUsU0FBUyxDQUFDLEVBQUU7QUFDbEMsVUFBTSxlQUFlLENBQUNDLFlBQVU7QUFDNUIsaUJBQVdELFVBQVNDLFFBQU0sUUFBUTtBQUM5QixZQUFJRCxPQUFNLFNBQVMsaUJBQWlCO0FBQ2hDLFVBQUFBLE9BQU0sWUFBWSxJQUFJLFlBQVk7QUFBQSxRQUN0QyxXQUNTQSxPQUFNLFNBQVMsdUJBQXVCO0FBQzNDLHVCQUFhQSxPQUFNLGVBQWU7QUFBQSxRQUN0QyxXQUNTQSxPQUFNLFNBQVMscUJBQXFCO0FBQ3pDLHVCQUFhQSxPQUFNLGNBQWM7QUFBQSxRQUNyQyxXQUNTQSxPQUFNLEtBQUssV0FBVyxHQUFHO0FBQzlCLHNCQUFZLFFBQVEsS0FBSyxPQUFPQSxNQUFLLENBQUM7QUFBQSxRQUMxQyxPQUNLO0FBQ0QsY0FBSSxPQUFPO0FBQ1gsY0FBSUUsS0FBSTtBQUNSLGlCQUFPQSxLQUFJRixPQUFNLEtBQUssUUFBUTtBQUMxQixrQkFBTSxLQUFLQSxPQUFNLEtBQUtFLEVBQUM7QUFDdkIsa0JBQU0sV0FBV0EsT0FBTUYsT0FBTSxLQUFLLFNBQVM7QUFDM0MsZ0JBQUksQ0FBQyxVQUFVO0FBQ1gsbUJBQUssRUFBRSxJQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLEVBQUU7QUFBQSxZQVF6QyxPQUNLO0FBQ0QsbUJBQUssRUFBRSxJQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLEVBQUU7QUFDckMsbUJBQUssRUFBRSxFQUFFLFFBQVEsS0FBSyxPQUFPQSxNQUFLLENBQUM7QUFBQSxZQUN2QztBQUNBLG1CQUFPLEtBQUssRUFBRTtBQUNkLFlBQUFFO0FBQUEsVUFDSjtBQUFBLFFBQ0o7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUNBLGlCQUFhLElBQUk7QUFDakIsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUNBLE9BQU8sT0FBTyxPQUFPO0FBQ2pCLFFBQUksRUFBRSxpQkFBaUIsWUFBVztBQUM5QixZQUFNLElBQUksTUFBTSxtQkFBbUIsS0FBSyxFQUFFO0FBQUEsSUFDOUM7QUFBQSxFQUNKO0FBQUEsRUFDQSxXQUFXO0FBQ1AsV0FBTyxLQUFLO0FBQUEsRUFDaEI7QUFBQSxFQUNBLElBQUksVUFBVTtBQUNWLFdBQU8sS0FBSyxVQUFVLEtBQUssUUFBUSxLQUFLLHVCQUF1QixDQUFDO0FBQUEsRUFDcEU7QUFBQSxFQUNBLElBQUksVUFBVTtBQUNWLFdBQU8sS0FBSyxPQUFPLFdBQVc7QUFBQSxFQUNsQztBQUFBLEVBQ0EsUUFBUSxTQUFTLENBQUNGLFdBQVVBLE9BQU0sU0FBUztBQUN2QyxVQUFNLGNBQWMsQ0FBQztBQUNyQixVQUFNLGFBQWEsQ0FBQztBQUNwQixlQUFXLE9BQU8sS0FBSyxRQUFRO0FBQzNCLFVBQUksSUFBSSxLQUFLLFNBQVMsR0FBRztBQUNyQixjQUFNLFVBQVUsSUFBSSxLQUFLLENBQUM7QUFDMUIsb0JBQVksT0FBTyxJQUFJLFlBQVksT0FBTyxLQUFLLENBQUM7QUFDaEQsb0JBQVksT0FBTyxFQUFFLEtBQUssT0FBTyxHQUFHLENBQUM7QUFBQSxNQUN6QyxPQUNLO0FBQ0QsbUJBQVcsS0FBSyxPQUFPLEdBQUcsQ0FBQztBQUFBLE1BQy9CO0FBQUEsSUFDSjtBQUNBLFdBQU8sRUFBRSxZQUFZLFlBQVk7QUFBQSxFQUNyQztBQUFBLEVBQ0EsSUFBSSxhQUFhO0FBQ2IsV0FBTyxLQUFLLFFBQVE7QUFBQSxFQUN4QjtBQUNKO0FBQ0FELFVBQVMsU0FBUyxDQUFDLFdBQVc7QUFDMUIsUUFBTUUsVUFBUSxJQUFJRixVQUFTLE1BQU07QUFDakMsU0FBT0U7QUFDWDs7O0FDbElBLElBQU0sV0FBVyxDQUFDRSxRQUFPLFNBQVM7QUFDOUIsTUFBSTtBQUNKLFVBQVFBLE9BQU0sTUFBTTtBQUFBLElBQ2hCLEtBQUtDLGNBQWE7QUFDZCxVQUFJRCxPQUFNLGFBQWEsY0FBYyxXQUFXO0FBQzVDLGtCQUFVO0FBQUEsTUFDZCxPQUNLO0FBQ0Qsa0JBQVUsWUFBWUEsT0FBTSxRQUFRLGNBQWNBLE9BQU0sUUFBUTtBQUFBLE1BQ3BFO0FBQ0E7QUFBQSxJQUNKLEtBQUtDLGNBQWE7QUFDZCxnQkFBVSxtQ0FBbUMsS0FBSyxVQUFVRCxPQUFNLFVBQVUsS0FBSyxxQkFBcUIsQ0FBQztBQUN2RztBQUFBLElBQ0osS0FBS0MsY0FBYTtBQUNkLGdCQUFVLGtDQUFrQyxLQUFLLFdBQVdELE9BQU0sTUFBTSxJQUFJLENBQUM7QUFDN0U7QUFBQSxJQUNKLEtBQUtDLGNBQWE7QUFDZCxnQkFBVTtBQUNWO0FBQUEsSUFDSixLQUFLQSxjQUFhO0FBQ2QsZ0JBQVUseUNBQXlDLEtBQUssV0FBV0QsT0FBTSxPQUFPLENBQUM7QUFDakY7QUFBQSxJQUNKLEtBQUtDLGNBQWE7QUFDZCxnQkFBVSxnQ0FBZ0MsS0FBSyxXQUFXRCxPQUFNLE9BQU8sQ0FBQyxlQUFlQSxPQUFNLFFBQVE7QUFDckc7QUFBQSxJQUNKLEtBQUtDLGNBQWE7QUFDZCxnQkFBVTtBQUNWO0FBQUEsSUFDSixLQUFLQSxjQUFhO0FBQ2QsZ0JBQVU7QUFDVjtBQUFBLElBQ0osS0FBS0EsY0FBYTtBQUNkLGdCQUFVO0FBQ1Y7QUFBQSxJQUNKLEtBQUtBLGNBQWE7QUFDZCxVQUFJLE9BQU9ELE9BQU0sZUFBZSxVQUFVO0FBQ3RDLFlBQUksY0FBY0EsT0FBTSxZQUFZO0FBQ2hDLG9CQUFVLGdDQUFnQ0EsT0FBTSxXQUFXLFFBQVE7QUFDbkUsY0FBSSxPQUFPQSxPQUFNLFdBQVcsYUFBYSxVQUFVO0FBQy9DLHNCQUFVLEdBQUcsT0FBTyxzREFBc0RBLE9BQU0sV0FBVyxRQUFRO0FBQUEsVUFDdkc7QUFBQSxRQUNKLFdBQ1MsZ0JBQWdCQSxPQUFNLFlBQVk7QUFDdkMsb0JBQVUsbUNBQW1DQSxPQUFNLFdBQVcsVUFBVTtBQUFBLFFBQzVFLFdBQ1MsY0FBY0EsT0FBTSxZQUFZO0FBQ3JDLG9CQUFVLGlDQUFpQ0EsT0FBTSxXQUFXLFFBQVE7QUFBQSxRQUN4RSxPQUNLO0FBQ0QsZUFBSyxZQUFZQSxPQUFNLFVBQVU7QUFBQSxRQUNyQztBQUFBLE1BQ0osV0FDU0EsT0FBTSxlQUFlLFNBQVM7QUFDbkMsa0JBQVUsV0FBV0EsT0FBTSxVQUFVO0FBQUEsTUFDekMsT0FDSztBQUNELGtCQUFVO0FBQUEsTUFDZDtBQUNBO0FBQUEsSUFDSixLQUFLQyxjQUFhO0FBQ2QsVUFBSUQsT0FBTSxTQUFTO0FBQ2Ysa0JBQVUsc0JBQXNCQSxPQUFNLFFBQVEsWUFBWUEsT0FBTSxZQUFZLGFBQWEsV0FBVyxJQUFJQSxPQUFNLE9BQU87QUFBQSxlQUNoSEEsT0FBTSxTQUFTO0FBQ3BCLGtCQUFVLHVCQUF1QkEsT0FBTSxRQUFRLFlBQVlBLE9BQU0sWUFBWSxhQUFhLE1BQU0sSUFBSUEsT0FBTSxPQUFPO0FBQUEsZUFDNUdBLE9BQU0sU0FBUztBQUNwQixrQkFBVSxrQkFBa0JBLE9BQU0sUUFBUSxzQkFBc0JBLE9BQU0sWUFBWSw4QkFBOEIsZUFBZSxHQUFHQSxPQUFNLE9BQU87QUFBQSxlQUMxSUEsT0FBTSxTQUFTO0FBQ3BCLGtCQUFVLGtCQUFrQkEsT0FBTSxRQUFRLHNCQUFzQkEsT0FBTSxZQUFZLDhCQUE4QixlQUFlLEdBQUdBLE9BQU0sT0FBTztBQUFBLGVBQzFJQSxPQUFNLFNBQVM7QUFDcEIsa0JBQVUsZ0JBQWdCQSxPQUFNLFFBQVEsc0JBQXNCQSxPQUFNLFlBQVksOEJBQThCLGVBQWUsR0FBRyxJQUFJLEtBQUssT0FBT0EsT0FBTSxPQUFPLENBQUMsQ0FBQztBQUFBO0FBRS9KLGtCQUFVO0FBQ2Q7QUFBQSxJQUNKLEtBQUtDLGNBQWE7QUFDZCxVQUFJRCxPQUFNLFNBQVM7QUFDZixrQkFBVSxzQkFBc0JBLE9BQU0sUUFBUSxZQUFZQSxPQUFNLFlBQVksWUFBWSxXQUFXLElBQUlBLE9BQU0sT0FBTztBQUFBLGVBQy9HQSxPQUFNLFNBQVM7QUFDcEIsa0JBQVUsdUJBQXVCQSxPQUFNLFFBQVEsWUFBWUEsT0FBTSxZQUFZLFlBQVksT0FBTyxJQUFJQSxPQUFNLE9BQU87QUFBQSxlQUM1R0EsT0FBTSxTQUFTO0FBQ3BCLGtCQUFVLGtCQUFrQkEsT0FBTSxRQUFRLFlBQVlBLE9BQU0sWUFBWSwwQkFBMEIsV0FBVyxJQUFJQSxPQUFNLE9BQU87QUFBQSxlQUN6SEEsT0FBTSxTQUFTO0FBQ3BCLGtCQUFVLGtCQUFrQkEsT0FBTSxRQUFRLFlBQVlBLE9BQU0sWUFBWSwwQkFBMEIsV0FBVyxJQUFJQSxPQUFNLE9BQU87QUFBQSxlQUN6SEEsT0FBTSxTQUFTO0FBQ3BCLGtCQUFVLGdCQUFnQkEsT0FBTSxRQUFRLFlBQVlBLE9BQU0sWUFBWSw2QkFBNkIsY0FBYyxJQUFJLElBQUksS0FBSyxPQUFPQSxPQUFNLE9BQU8sQ0FBQyxDQUFDO0FBQUE7QUFFcEosa0JBQVU7QUFDZDtBQUFBLElBQ0osS0FBS0MsY0FBYTtBQUNkLGdCQUFVO0FBQ1Y7QUFBQSxJQUNKLEtBQUtBLGNBQWE7QUFDZCxnQkFBVTtBQUNWO0FBQUEsSUFDSixLQUFLQSxjQUFhO0FBQ2QsZ0JBQVUsZ0NBQWdDRCxPQUFNLFVBQVU7QUFDMUQ7QUFBQSxJQUNKLEtBQUtDLGNBQWE7QUFDZCxnQkFBVTtBQUNWO0FBQUEsSUFDSjtBQUNJLGdCQUFVLEtBQUs7QUFDZixXQUFLLFlBQVlELE1BQUs7QUFBQSxFQUM5QjtBQUNBLFNBQU8sRUFBRSxRQUFRO0FBQ3JCO0FBQ0EsSUFBT0UsY0FBUTs7O0FDM0dmLElBQUksbUJBQW1CQztBQUtoQixTQUFTQyxlQUFjO0FBQzFCLFNBQU87QUFDWDs7O0FDTk8sSUFBTSxZQUFZLENBQUMsV0FBVztBQUNqQyxRQUFNLEVBQUUsTUFBTSxNQUFNLFdBQVcsVUFBVSxJQUFJO0FBQzdDLFFBQU0sV0FBVyxDQUFDLEdBQUcsTUFBTSxHQUFJLFVBQVUsUUFBUSxDQUFDLENBQUU7QUFDcEQsUUFBTSxZQUFZO0FBQUEsSUFDZCxHQUFHO0FBQUEsSUFDSCxNQUFNO0FBQUEsRUFDVjtBQUNBLE1BQUksVUFBVSxZQUFZLFFBQVc7QUFDakMsV0FBTztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsTUFBTTtBQUFBLE1BQ04sU0FBUyxVQUFVO0FBQUEsSUFDdkI7QUFBQSxFQUNKO0FBQ0EsTUFBSSxlQUFlO0FBQ25CLFFBQU0sT0FBTyxVQUNSLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQ2pCLE1BQU0sRUFDTixRQUFRO0FBQ2IsYUFBV0MsUUFBTyxNQUFNO0FBQ3BCLG1CQUFlQSxLQUFJLFdBQVcsRUFBRSxNQUFNLGNBQWMsYUFBYSxDQUFDLEVBQUU7QUFBQSxFQUN4RTtBQUNBLFNBQU87QUFBQSxJQUNILEdBQUc7QUFBQSxJQUNILE1BQU07QUFBQSxJQUNOLFNBQVM7QUFBQSxFQUNiO0FBQ0o7QUFFTyxTQUFTLGtCQUFrQixLQUFLLFdBQVc7QUFDOUMsUUFBTSxjQUFjQyxhQUFZO0FBQ2hDLFFBQU1DLFNBQVEsVUFBVTtBQUFBLElBQ3BCO0FBQUEsSUFDQSxNQUFNLElBQUk7QUFBQSxJQUNWLE1BQU0sSUFBSTtBQUFBLElBQ1YsV0FBVztBQUFBLE1BQ1AsSUFBSSxPQUFPO0FBQUE7QUFBQSxNQUNYLElBQUk7QUFBQTtBQUFBLE1BQ0o7QUFBQTtBQUFBLE1BQ0EsZ0JBQWdCQyxjQUFrQixTQUFZQTtBQUFBO0FBQUEsSUFDbEQsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUFBLEVBQ3ZCLENBQUM7QUFDRCxNQUFJLE9BQU8sT0FBTyxLQUFLRCxNQUFLO0FBQ2hDO0FBQ08sSUFBTSxjQUFOLE1BQU0sYUFBWTtBQUFBLEVBQ3JCLGNBQWM7QUFDVixTQUFLLFFBQVE7QUFBQSxFQUNqQjtBQUFBLEVBQ0EsUUFBUTtBQUNKLFFBQUksS0FBSyxVQUFVO0FBQ2YsV0FBSyxRQUFRO0FBQUEsRUFDckI7QUFBQSxFQUNBLFFBQVE7QUFDSixRQUFJLEtBQUssVUFBVTtBQUNmLFdBQUssUUFBUTtBQUFBLEVBQ3JCO0FBQUEsRUFDQSxPQUFPLFdBQVcsUUFBUSxTQUFTO0FBQy9CLFVBQU0sYUFBYSxDQUFDO0FBQ3BCLGVBQVdFLE1BQUssU0FBUztBQUNyQixVQUFJQSxHQUFFLFdBQVc7QUFDYixlQUFPO0FBQ1gsVUFBSUEsR0FBRSxXQUFXO0FBQ2IsZUFBTyxNQUFNO0FBQ2pCLGlCQUFXLEtBQUtBLEdBQUUsS0FBSztBQUFBLElBQzNCO0FBQ0EsV0FBTyxFQUFFLFFBQVEsT0FBTyxPQUFPLE9BQU8sV0FBVztBQUFBLEVBQ3JEO0FBQUEsRUFDQSxhQUFhLGlCQUFpQixRQUFRLE9BQU87QUFDekMsVUFBTSxZQUFZLENBQUM7QUFDbkIsZUFBVyxRQUFRLE9BQU87QUFDdEIsWUFBTSxNQUFNLE1BQU0sS0FBSztBQUN2QixZQUFNLFFBQVEsTUFBTSxLQUFLO0FBQ3pCLGdCQUFVLEtBQUs7QUFBQSxRQUNYO0FBQUEsUUFDQTtBQUFBLE1BQ0osQ0FBQztBQUFBLElBQ0w7QUFDQSxXQUFPLGFBQVksZ0JBQWdCLFFBQVEsU0FBUztBQUFBLEVBQ3hEO0FBQUEsRUFDQSxPQUFPLGdCQUFnQixRQUFRLE9BQU87QUFDbEMsVUFBTSxjQUFjLENBQUM7QUFDckIsZUFBVyxRQUFRLE9BQU87QUFDdEIsWUFBTSxFQUFFLEtBQUssTUFBTSxJQUFJO0FBQ3ZCLFVBQUksSUFBSSxXQUFXO0FBQ2YsZUFBTztBQUNYLFVBQUksTUFBTSxXQUFXO0FBQ2pCLGVBQU87QUFDWCxVQUFJLElBQUksV0FBVztBQUNmLGVBQU8sTUFBTTtBQUNqQixVQUFJLE1BQU0sV0FBVztBQUNqQixlQUFPLE1BQU07QUFDakIsVUFBSSxJQUFJLFVBQVUsZ0JBQWdCLE9BQU8sTUFBTSxVQUFVLGVBQWUsS0FBSyxZQUFZO0FBQ3JGLG9CQUFZLElBQUksS0FBSyxJQUFJLE1BQU07QUFBQSxNQUNuQztBQUFBLElBQ0o7QUFDQSxXQUFPLEVBQUUsUUFBUSxPQUFPLE9BQU8sT0FBTyxZQUFZO0FBQUEsRUFDdEQ7QUFDSjtBQUNPLElBQU0sVUFBVSxPQUFPLE9BQU87QUFBQSxFQUNqQyxRQUFRO0FBQ1osQ0FBQztBQUNNLElBQU0sUUFBUSxDQUFDLFdBQVcsRUFBRSxRQUFRLFNBQVMsTUFBTTtBQUNuRCxJQUFNLEtBQUssQ0FBQyxXQUFXLEVBQUUsUUFBUSxTQUFTLE1BQU07QUFDaEQsSUFBTSxZQUFZLENBQUMsTUFBTSxFQUFFLFdBQVc7QUFDdEMsSUFBTSxVQUFVLENBQUMsTUFBTSxFQUFFLFdBQVc7QUFDcEMsSUFBTSxVQUFVLENBQUMsTUFBTSxFQUFFLFdBQVc7QUFDcEMsSUFBTSxVQUFVLENBQUMsTUFBTSxPQUFPLFlBQVksZUFBZSxhQUFhOzs7QUM1R3RFLElBQUk7QUFBQSxDQUNWLFNBQVVDLFlBQVc7QUFDbEIsRUFBQUEsV0FBVSxXQUFXLENBQUMsWUFBWSxPQUFPLFlBQVksV0FBVyxFQUFFLFFBQVEsSUFBSSxXQUFXLENBQUM7QUFFMUYsRUFBQUEsV0FBVSxXQUFXLENBQUMsWUFBWSxPQUFPLFlBQVksV0FBVyxVQUFVLFNBQVM7QUFDdkYsR0FBRyxjQUFjLFlBQVksQ0FBQyxFQUFFOzs7QUNBaEMsSUFBTSxxQkFBTixNQUF5QjtBQUFBLEVBQ3JCLFlBQVksUUFBUSxPQUFPLE1BQU0sS0FBSztBQUNsQyxTQUFLLGNBQWMsQ0FBQztBQUNwQixTQUFLLFNBQVM7QUFDZCxTQUFLLE9BQU87QUFDWixTQUFLLFFBQVE7QUFDYixTQUFLLE9BQU87QUFBQSxFQUNoQjtBQUFBLEVBQ0EsSUFBSSxPQUFPO0FBQ1AsUUFBSSxDQUFDLEtBQUssWUFBWSxRQUFRO0FBQzFCLFVBQUksTUFBTSxRQUFRLEtBQUssSUFBSSxHQUFHO0FBQzFCLGFBQUssWUFBWSxLQUFLLEdBQUcsS0FBSyxPQUFPLEdBQUcsS0FBSyxJQUFJO0FBQUEsTUFDckQsT0FDSztBQUNELGFBQUssWUFBWSxLQUFLLEdBQUcsS0FBSyxPQUFPLEtBQUssSUFBSTtBQUFBLE1BQ2xEO0FBQUEsSUFDSjtBQUNBLFdBQU8sS0FBSztBQUFBLEVBQ2hCO0FBQ0o7QUFDQSxJQUFNLGVBQWUsQ0FBQyxLQUFLLFdBQVc7QUFDbEMsTUFBSSxRQUFRLE1BQU0sR0FBRztBQUNqQixXQUFPLEVBQUUsU0FBUyxNQUFNLE1BQU0sT0FBTyxNQUFNO0FBQUEsRUFDL0MsT0FDSztBQUNELFFBQUksQ0FBQyxJQUFJLE9BQU8sT0FBTyxRQUFRO0FBQzNCLFlBQU0sSUFBSSxNQUFNLDJDQUEyQztBQUFBLElBQy9EO0FBQ0EsV0FBTztBQUFBLE1BQ0gsU0FBUztBQUFBLE1BQ1QsSUFBSSxRQUFRO0FBQ1IsWUFBSSxLQUFLO0FBQ0wsaUJBQU8sS0FBSztBQUNoQixjQUFNQyxVQUFRLElBQUlDLFVBQVMsSUFBSSxPQUFPLE1BQU07QUFDNUMsYUFBSyxTQUFTRDtBQUNkLGVBQU8sS0FBSztBQUFBLE1BQ2hCO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDSjtBQUNBLFNBQVMsb0JBQW9CLFFBQVE7QUFDakMsTUFBSSxDQUFDO0FBQ0QsV0FBTyxDQUFDO0FBQ1osUUFBTSxFQUFFLFVBQUFFLFdBQVUsb0JBQW9CLGdCQUFnQixZQUFZLElBQUk7QUFDdEUsTUFBSUEsY0FBYSxzQkFBc0IsaUJBQWlCO0FBQ3BELFVBQU0sSUFBSSxNQUFNLDBGQUEwRjtBQUFBLEVBQzlHO0FBQ0EsTUFBSUE7QUFDQSxXQUFPLEVBQUUsVUFBVUEsV0FBVSxZQUFZO0FBQzdDLFFBQU0sWUFBWSxDQUFDLEtBQUssUUFBUTtBQUM1QixVQUFNLEVBQUUsUUFBUSxJQUFJO0FBQ3BCLFFBQUksSUFBSSxTQUFTLHNCQUFzQjtBQUNuQyxhQUFPLEVBQUUsU0FBUyxXQUFXLElBQUksYUFBYTtBQUFBLElBQ2xEO0FBQ0EsUUFBSSxPQUFPLElBQUksU0FBUyxhQUFhO0FBQ2pDLGFBQU8sRUFBRSxTQUFTLFdBQVcsa0JBQWtCLElBQUksYUFBYTtBQUFBLElBQ3BFO0FBQ0EsUUFBSSxJQUFJLFNBQVM7QUFDYixhQUFPLEVBQUUsU0FBUyxJQUFJLGFBQWE7QUFDdkMsV0FBTyxFQUFFLFNBQVMsV0FBVyxzQkFBc0IsSUFBSSxhQUFhO0FBQUEsRUFDeEU7QUFDQSxTQUFPLEVBQUUsVUFBVSxXQUFXLFlBQVk7QUFDOUM7QUFDTyxJQUFNQyxXQUFOLE1BQWM7QUFBQSxFQUNqQixJQUFJLGNBQWM7QUFDZCxXQUFPLEtBQUssS0FBSztBQUFBLEVBQ3JCO0FBQUEsRUFDQSxTQUFTLE9BQU87QUFDWixXQUFPQyxlQUFjLE1BQU0sSUFBSTtBQUFBLEVBQ25DO0FBQUEsRUFDQSxnQkFBZ0IsT0FBTyxLQUFLO0FBQ3hCLFdBQVEsT0FBTztBQUFBLE1BQ1gsUUFBUSxNQUFNLE9BQU87QUFBQSxNQUNyQixNQUFNLE1BQU07QUFBQSxNQUNaLFlBQVlBLGVBQWMsTUFBTSxJQUFJO0FBQUEsTUFDcEMsZ0JBQWdCLEtBQUssS0FBSztBQUFBLE1BQzFCLE1BQU0sTUFBTTtBQUFBLE1BQ1osUUFBUSxNQUFNO0FBQUEsSUFDbEI7QUFBQSxFQUNKO0FBQUEsRUFDQSxvQkFBb0IsT0FBTztBQUN2QixXQUFPO0FBQUEsTUFDSCxRQUFRLElBQUksWUFBWTtBQUFBLE1BQ3hCLEtBQUs7QUFBQSxRQUNELFFBQVEsTUFBTSxPQUFPO0FBQUEsUUFDckIsTUFBTSxNQUFNO0FBQUEsUUFDWixZQUFZQSxlQUFjLE1BQU0sSUFBSTtBQUFBLFFBQ3BDLGdCQUFnQixLQUFLLEtBQUs7QUFBQSxRQUMxQixNQUFNLE1BQU07QUFBQSxRQUNaLFFBQVEsTUFBTTtBQUFBLE1BQ2xCO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFBQSxFQUNBLFdBQVcsT0FBTztBQUNkLFVBQU0sU0FBUyxLQUFLLE9BQU8sS0FBSztBQUNoQyxRQUFJLFFBQVEsTUFBTSxHQUFHO0FBQ2pCLFlBQU0sSUFBSSxNQUFNLHdDQUF3QztBQUFBLElBQzVEO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUNBLFlBQVksT0FBTztBQUNmLFVBQU0sU0FBUyxLQUFLLE9BQU8sS0FBSztBQUNoQyxXQUFPLFFBQVEsUUFBUSxNQUFNO0FBQUEsRUFDakM7QUFBQSxFQUNBLE1BQU0sTUFBTSxRQUFRO0FBQ2hCLFVBQU0sU0FBUyxLQUFLLFVBQVUsTUFBTSxNQUFNO0FBQzFDLFFBQUksT0FBTztBQUNQLGFBQU8sT0FBTztBQUNsQixVQUFNLE9BQU87QUFBQSxFQUNqQjtBQUFBLEVBQ0EsVUFBVSxNQUFNLFFBQVE7QUFDcEIsVUFBTSxNQUFNO0FBQUEsTUFDUixRQUFRO0FBQUEsUUFDSixRQUFRLENBQUM7QUFBQSxRQUNULE9BQU8sUUFBUSxTQUFTO0FBQUEsUUFDeEIsb0JBQW9CLFFBQVE7QUFBQSxNQUNoQztBQUFBLE1BQ0EsTUFBTSxRQUFRLFFBQVEsQ0FBQztBQUFBLE1BQ3ZCLGdCQUFnQixLQUFLLEtBQUs7QUFBQSxNQUMxQixRQUFRO0FBQUEsTUFDUjtBQUFBLE1BQ0EsWUFBWUEsZUFBYyxJQUFJO0FBQUEsSUFDbEM7QUFDQSxVQUFNLFNBQVMsS0FBSyxXQUFXLEVBQUUsTUFBTSxNQUFNLElBQUksTUFBTSxRQUFRLElBQUksQ0FBQztBQUNwRSxXQUFPLGFBQWEsS0FBSyxNQUFNO0FBQUEsRUFDbkM7QUFBQSxFQUNBLFlBQVksTUFBTTtBQUNkLFVBQU0sTUFBTTtBQUFBLE1BQ1IsUUFBUTtBQUFBLFFBQ0osUUFBUSxDQUFDO0FBQUEsUUFDVCxPQUFPLENBQUMsQ0FBQyxLQUFLLFdBQVcsRUFBRTtBQUFBLE1BQy9CO0FBQUEsTUFDQSxNQUFNLENBQUM7QUFBQSxNQUNQLGdCQUFnQixLQUFLLEtBQUs7QUFBQSxNQUMxQixRQUFRO0FBQUEsTUFDUjtBQUFBLE1BQ0EsWUFBWUEsZUFBYyxJQUFJO0FBQUEsSUFDbEM7QUFDQSxRQUFJLENBQUMsS0FBSyxXQUFXLEVBQUUsT0FBTztBQUMxQixVQUFJO0FBQ0EsY0FBTSxTQUFTLEtBQUssV0FBVyxFQUFFLE1BQU0sTUFBTSxDQUFDLEdBQUcsUUFBUSxJQUFJLENBQUM7QUFDOUQsZUFBTyxRQUFRLE1BQU0sSUFDZjtBQUFBLFVBQ0UsT0FBTyxPQUFPO0FBQUEsUUFDbEIsSUFDRTtBQUFBLFVBQ0UsUUFBUSxJQUFJLE9BQU87QUFBQSxRQUN2QjtBQUFBLE1BQ1IsU0FDTyxLQUFLO0FBQ1IsWUFBSSxLQUFLLFNBQVMsWUFBWSxHQUFHLFNBQVMsYUFBYSxHQUFHO0FBQ3RELGVBQUssV0FBVyxFQUFFLFFBQVE7QUFBQSxRQUM5QjtBQUNBLFlBQUksU0FBUztBQUFBLFVBQ1QsUUFBUSxDQUFDO0FBQUEsVUFDVCxPQUFPO0FBQUEsUUFDWDtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQ0EsV0FBTyxLQUFLLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQyxHQUFHLFFBQVEsSUFBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLFdBQVcsUUFBUSxNQUFNLElBQ2xGO0FBQUEsTUFDRSxPQUFPLE9BQU87QUFBQSxJQUNsQixJQUNFO0FBQUEsTUFDRSxRQUFRLElBQUksT0FBTztBQUFBLElBQ3ZCLENBQUM7QUFBQSxFQUNUO0FBQUEsRUFDQSxNQUFNLFdBQVcsTUFBTSxRQUFRO0FBQzNCLFVBQU0sU0FBUyxNQUFNLEtBQUssZUFBZSxNQUFNLE1BQU07QUFDckQsUUFBSSxPQUFPO0FBQ1AsYUFBTyxPQUFPO0FBQ2xCLFVBQU0sT0FBTztBQUFBLEVBQ2pCO0FBQUEsRUFDQSxNQUFNLGVBQWUsTUFBTSxRQUFRO0FBQy9CLFVBQU0sTUFBTTtBQUFBLE1BQ1IsUUFBUTtBQUFBLFFBQ0osUUFBUSxDQUFDO0FBQUEsUUFDVCxvQkFBb0IsUUFBUTtBQUFBLFFBQzVCLE9BQU87QUFBQSxNQUNYO0FBQUEsTUFDQSxNQUFNLFFBQVEsUUFBUSxDQUFDO0FBQUEsTUFDdkIsZ0JBQWdCLEtBQUssS0FBSztBQUFBLE1BQzFCLFFBQVE7QUFBQSxNQUNSO0FBQUEsTUFDQSxZQUFZQSxlQUFjLElBQUk7QUFBQSxJQUNsQztBQUNBLFVBQU0sbUJBQW1CLEtBQUssT0FBTyxFQUFFLE1BQU0sTUFBTSxJQUFJLE1BQU0sUUFBUSxJQUFJLENBQUM7QUFDMUUsVUFBTSxTQUFTLE9BQU8sUUFBUSxnQkFBZ0IsSUFBSSxtQkFBbUIsUUFBUSxRQUFRLGdCQUFnQjtBQUNyRyxXQUFPLGFBQWEsS0FBSyxNQUFNO0FBQUEsRUFDbkM7QUFBQSxFQUNBLE9BQU9DLFFBQU8sU0FBUztBQUNuQixVQUFNLHFCQUFxQixDQUFDLFFBQVE7QUFDaEMsVUFBSSxPQUFPLFlBQVksWUFBWSxPQUFPLFlBQVksYUFBYTtBQUMvRCxlQUFPLEVBQUUsUUFBUTtBQUFBLE1BQ3JCLFdBQ1MsT0FBTyxZQUFZLFlBQVk7QUFDcEMsZUFBTyxRQUFRLEdBQUc7QUFBQSxNQUN0QixPQUNLO0FBQ0QsZUFBTztBQUFBLE1BQ1g7QUFBQSxJQUNKO0FBQ0EsV0FBTyxLQUFLLFlBQVksQ0FBQyxLQUFLLFFBQVE7QUFDbEMsWUFBTSxTQUFTQSxPQUFNLEdBQUc7QUFDeEIsWUFBTSxXQUFXLE1BQU0sSUFBSSxTQUFTO0FBQUEsUUFDaEMsTUFBTUMsY0FBYTtBQUFBLFFBQ25CLEdBQUcsbUJBQW1CLEdBQUc7QUFBQSxNQUM3QixDQUFDO0FBQ0QsVUFBSSxPQUFPLFlBQVksZUFBZSxrQkFBa0IsU0FBUztBQUM3RCxlQUFPLE9BQU8sS0FBSyxDQUFDLFNBQVM7QUFDekIsY0FBSSxDQUFDLE1BQU07QUFDUCxxQkFBUztBQUNULG1CQUFPO0FBQUEsVUFDWCxPQUNLO0FBQ0QsbUJBQU87QUFBQSxVQUNYO0FBQUEsUUFDSixDQUFDO0FBQUEsTUFDTDtBQUNBLFVBQUksQ0FBQyxRQUFRO0FBQ1QsaUJBQVM7QUFDVCxlQUFPO0FBQUEsTUFDWCxPQUNLO0FBQ0QsZUFBTztBQUFBLE1BQ1g7QUFBQSxJQUNKLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxXQUFXRCxRQUFPLGdCQUFnQjtBQUM5QixXQUFPLEtBQUssWUFBWSxDQUFDLEtBQUssUUFBUTtBQUNsQyxVQUFJLENBQUNBLE9BQU0sR0FBRyxHQUFHO0FBQ2IsWUFBSSxTQUFTLE9BQU8sbUJBQW1CLGFBQWEsZUFBZSxLQUFLLEdBQUcsSUFBSSxjQUFjO0FBQzdGLGVBQU87QUFBQSxNQUNYLE9BQ0s7QUFDRCxlQUFPO0FBQUEsTUFDWDtBQUFBLElBQ0osQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLFlBQVksWUFBWTtBQUNwQixXQUFPLElBQUksV0FBVztBQUFBLE1BQ2xCLFFBQVE7QUFBQSxNQUNSLFVBQVVFLHVCQUFzQjtBQUFBLE1BQ2hDLFFBQVEsRUFBRSxNQUFNLGNBQWMsV0FBVztBQUFBLElBQzdDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxZQUFZLFlBQVk7QUFDcEIsV0FBTyxLQUFLLFlBQVksVUFBVTtBQUFBLEVBQ3RDO0FBQUEsRUFDQSxZQUFZLEtBQUs7QUFFYixTQUFLLE1BQU0sS0FBSztBQUNoQixTQUFLLE9BQU87QUFDWixTQUFLLFFBQVEsS0FBSyxNQUFNLEtBQUssSUFBSTtBQUNqQyxTQUFLLFlBQVksS0FBSyxVQUFVLEtBQUssSUFBSTtBQUN6QyxTQUFLLGFBQWEsS0FBSyxXQUFXLEtBQUssSUFBSTtBQUMzQyxTQUFLLGlCQUFpQixLQUFLLGVBQWUsS0FBSyxJQUFJO0FBQ25ELFNBQUssTUFBTSxLQUFLLElBQUksS0FBSyxJQUFJO0FBQzdCLFNBQUssU0FBUyxLQUFLLE9BQU8sS0FBSyxJQUFJO0FBQ25DLFNBQUssYUFBYSxLQUFLLFdBQVcsS0FBSyxJQUFJO0FBQzNDLFNBQUssY0FBYyxLQUFLLFlBQVksS0FBSyxJQUFJO0FBQzdDLFNBQUssV0FBVyxLQUFLLFNBQVMsS0FBSyxJQUFJO0FBQ3ZDLFNBQUssV0FBVyxLQUFLLFNBQVMsS0FBSyxJQUFJO0FBQ3ZDLFNBQUssVUFBVSxLQUFLLFFBQVEsS0FBSyxJQUFJO0FBQ3JDLFNBQUssUUFBUSxLQUFLLE1BQU0sS0FBSyxJQUFJO0FBQ2pDLFNBQUssVUFBVSxLQUFLLFFBQVEsS0FBSyxJQUFJO0FBQ3JDLFNBQUssS0FBSyxLQUFLLEdBQUcsS0FBSyxJQUFJO0FBQzNCLFNBQUssTUFBTSxLQUFLLElBQUksS0FBSyxJQUFJO0FBQzdCLFNBQUssWUFBWSxLQUFLLFVBQVUsS0FBSyxJQUFJO0FBQ3pDLFNBQUssUUFBUSxLQUFLLE1BQU0sS0FBSyxJQUFJO0FBQ2pDLFNBQUssVUFBVSxLQUFLLFFBQVEsS0FBSyxJQUFJO0FBQ3JDLFNBQUssUUFBUSxLQUFLLE1BQU0sS0FBSyxJQUFJO0FBQ2pDLFNBQUssV0FBVyxLQUFLLFNBQVMsS0FBSyxJQUFJO0FBQ3ZDLFNBQUssT0FBTyxLQUFLLEtBQUssS0FBSyxJQUFJO0FBQy9CLFNBQUssV0FBVyxLQUFLLFNBQVMsS0FBSyxJQUFJO0FBQ3ZDLFNBQUssYUFBYSxLQUFLLFdBQVcsS0FBSyxJQUFJO0FBQzNDLFNBQUssYUFBYSxLQUFLLFdBQVcsS0FBSyxJQUFJO0FBQzNDLFNBQUssV0FBVyxJQUFJO0FBQUEsTUFDaEIsU0FBUztBQUFBLE1BQ1QsUUFBUTtBQUFBLE1BQ1IsVUFBVSxDQUFDLFNBQVMsS0FBSyxXQUFXLEVBQUUsSUFBSTtBQUFBLElBQzlDO0FBQUEsRUFDSjtBQUFBLEVBQ0EsV0FBVztBQUNQLFdBQU9DLGFBQVksT0FBTyxNQUFNLEtBQUssSUFBSTtBQUFBLEVBQzdDO0FBQUEsRUFDQSxXQUFXO0FBQ1AsV0FBT0MsYUFBWSxPQUFPLE1BQU0sS0FBSyxJQUFJO0FBQUEsRUFDN0M7QUFBQSxFQUNBLFVBQVU7QUFDTixXQUFPLEtBQUssU0FBUyxFQUFFLFNBQVM7QUFBQSxFQUNwQztBQUFBLEVBQ0EsUUFBUTtBQUNKLFdBQU9DLFVBQVMsT0FBTyxJQUFJO0FBQUEsRUFDL0I7QUFBQSxFQUNBLFVBQVU7QUFDTixXQUFPQyxZQUFXLE9BQU8sTUFBTSxLQUFLLElBQUk7QUFBQSxFQUM1QztBQUFBLEVBQ0EsR0FBRyxRQUFRO0FBQ1AsV0FBT0MsVUFBUyxPQUFPLENBQUMsTUFBTSxNQUFNLEdBQUcsS0FBSyxJQUFJO0FBQUEsRUFDcEQ7QUFBQSxFQUNBLElBQUksVUFBVTtBQUNWLFdBQU9DLGlCQUFnQixPQUFPLE1BQU0sVUFBVSxLQUFLLElBQUk7QUFBQSxFQUMzRDtBQUFBLEVBQ0EsVUFBVUMsWUFBVztBQUNqQixXQUFPLElBQUksV0FBVztBQUFBLE1BQ2xCLEdBQUcsb0JBQW9CLEtBQUssSUFBSTtBQUFBLE1BQ2hDLFFBQVE7QUFBQSxNQUNSLFVBQVVQLHVCQUFzQjtBQUFBLE1BQ2hDLFFBQVEsRUFBRSxNQUFNLGFBQWEsV0FBQU8sV0FBVTtBQUFBLElBQzNDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxRQUFRLEtBQUs7QUFDVCxVQUFNLG1CQUFtQixPQUFPLFFBQVEsYUFBYSxNQUFNLE1BQU07QUFDakUsV0FBTyxJQUFJQyxZQUFXO0FBQUEsTUFDbEIsR0FBRyxvQkFBb0IsS0FBSyxJQUFJO0FBQUEsTUFDaEMsV0FBVztBQUFBLE1BQ1gsY0FBYztBQUFBLE1BQ2QsVUFBVVIsdUJBQXNCO0FBQUEsSUFDcEMsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLFFBQVE7QUFDSixXQUFPLElBQUksV0FBVztBQUFBLE1BQ2xCLFVBQVVBLHVCQUFzQjtBQUFBLE1BQ2hDLE1BQU07QUFBQSxNQUNOLEdBQUcsb0JBQW9CLEtBQUssSUFBSTtBQUFBLElBQ3BDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxNQUFNLEtBQUs7QUFDUCxVQUFNLGlCQUFpQixPQUFPLFFBQVEsYUFBYSxNQUFNLE1BQU07QUFDL0QsV0FBTyxJQUFJUyxVQUFTO0FBQUEsTUFDaEIsR0FBRyxvQkFBb0IsS0FBSyxJQUFJO0FBQUEsTUFDaEMsV0FBVztBQUFBLE1BQ1gsWUFBWTtBQUFBLE1BQ1osVUFBVVQsdUJBQXNCO0FBQUEsSUFDcEMsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLFNBQVMsYUFBYTtBQUNsQixVQUFNLE9BQU8sS0FBSztBQUNsQixXQUFPLElBQUksS0FBSztBQUFBLE1BQ1osR0FBRyxLQUFLO0FBQUEsTUFDUjtBQUFBLElBQ0osQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLEtBQUssUUFBUTtBQUNULFdBQU8sWUFBWSxPQUFPLE1BQU0sTUFBTTtBQUFBLEVBQzFDO0FBQUEsRUFDQSxXQUFXO0FBQ1AsV0FBT1UsYUFBWSxPQUFPLElBQUk7QUFBQSxFQUNsQztBQUFBLEVBQ0EsYUFBYTtBQUNULFdBQU8sS0FBSyxVQUFVLE1BQVMsRUFBRTtBQUFBLEVBQ3JDO0FBQUEsRUFDQSxhQUFhO0FBQ1QsV0FBTyxLQUFLLFVBQVUsSUFBSSxFQUFFO0FBQUEsRUFDaEM7QUFDSjtBQUNBLElBQU0sWUFBWTtBQUNsQixJQUFNLGFBQWE7QUFDbkIsSUFBTSxZQUFZO0FBR2xCLElBQU0sWUFBWTtBQUNsQixJQUFNLGNBQWM7QUFDcEIsSUFBTSxXQUFXO0FBQ2pCLElBQU0sZ0JBQWdCO0FBYXRCLElBQU0sYUFBYTtBQUluQixJQUFNLGNBQWM7QUFDcEIsSUFBSTtBQUVKLElBQU0sWUFBWTtBQUNsQixJQUFNLGdCQUFnQjtBQUd0QixJQUFNLFlBQVk7QUFDbEIsSUFBTSxnQkFBZ0I7QUFFdEIsSUFBTSxjQUFjO0FBRXBCLElBQU0saUJBQWlCO0FBTXZCLElBQU0sa0JBQWtCO0FBQ3hCLElBQU0sWUFBWSxJQUFJLE9BQU8sSUFBSSxlQUFlLEdBQUc7QUFDbkQsU0FBUyxnQkFBZ0IsTUFBTTtBQUMzQixNQUFJLHFCQUFxQjtBQUN6QixNQUFJLEtBQUssV0FBVztBQUNoQix5QkFBcUIsR0FBRyxrQkFBa0IsVUFBVSxLQUFLLFNBQVM7QUFBQSxFQUN0RSxXQUNTLEtBQUssYUFBYSxNQUFNO0FBQzdCLHlCQUFxQixHQUFHLGtCQUFrQjtBQUFBLEVBQzlDO0FBQ0EsUUFBTSxvQkFBb0IsS0FBSyxZQUFZLE1BQU07QUFDakQsU0FBTyw4QkFBOEIsa0JBQWtCLElBQUksaUJBQWlCO0FBQ2hGO0FBQ0EsU0FBUyxVQUFVLE1BQU07QUFDckIsU0FBTyxJQUFJLE9BQU8sSUFBSSxnQkFBZ0IsSUFBSSxDQUFDLEdBQUc7QUFDbEQ7QUFFTyxTQUFTLGNBQWMsTUFBTTtBQUNoQyxNQUFJLFFBQVEsR0FBRyxlQUFlLElBQUksZ0JBQWdCLElBQUksQ0FBQztBQUN2RCxRQUFNLE9BQU8sQ0FBQztBQUNkLE9BQUssS0FBSyxLQUFLLFFBQVEsT0FBTyxHQUFHO0FBQ2pDLE1BQUksS0FBSztBQUNMLFNBQUssS0FBSyxzQkFBc0I7QUFDcEMsVUFBUSxHQUFHLEtBQUssSUFBSSxLQUFLLEtBQUssR0FBRyxDQUFDO0FBQ2xDLFNBQU8sSUFBSSxPQUFPLElBQUksS0FBSyxHQUFHO0FBQ2xDO0FBQ0EsU0FBUyxVQUFVLElBQUlDLFVBQVM7QUFDNUIsT0FBS0EsYUFBWSxRQUFRLENBQUNBLGFBQVksVUFBVSxLQUFLLEVBQUUsR0FBRztBQUN0RCxXQUFPO0FBQUEsRUFDWDtBQUNBLE9BQUtBLGFBQVksUUFBUSxDQUFDQSxhQUFZLFVBQVUsS0FBSyxFQUFFLEdBQUc7QUFDdEQsV0FBTztBQUFBLEVBQ1g7QUFDQSxTQUFPO0FBQ1g7QUFDQSxTQUFTQyxZQUFXQyxNQUFLLEtBQUs7QUFDMUIsTUFBSSxDQUFDLFNBQVMsS0FBS0EsSUFBRztBQUNsQixXQUFPO0FBQ1gsTUFBSTtBQUNBLFVBQU0sQ0FBQyxNQUFNLElBQUlBLEtBQUksTUFBTSxHQUFHO0FBQzlCLFFBQUksQ0FBQztBQUNELGFBQU87QUFFWCxVQUFNQyxVQUFTLE9BQ1YsUUFBUSxNQUFNLEdBQUcsRUFDakIsUUFBUSxNQUFNLEdBQUcsRUFDakIsT0FBTyxPQUFPLFVBQVcsSUFBSyxPQUFPLFNBQVMsS0FBTSxHQUFJLEdBQUc7QUFFaEUsVUFBTSxVQUFVLEtBQUssTUFBTSxLQUFLQSxPQUFNLENBQUM7QUFDdkMsUUFBSSxPQUFPLFlBQVksWUFBWSxZQUFZO0FBQzNDLGFBQU87QUFDWCxRQUFJLFNBQVMsV0FBVyxTQUFTLFFBQVE7QUFDckMsYUFBTztBQUNYLFFBQUksQ0FBQyxRQUFRO0FBQ1QsYUFBTztBQUNYLFFBQUksT0FBTyxRQUFRLFFBQVE7QUFDdkIsYUFBTztBQUNYLFdBQU87QUFBQSxFQUNYLFFBQ007QUFDRixXQUFPO0FBQUEsRUFDWDtBQUNKO0FBQ0EsU0FBUyxZQUFZLElBQUlILFVBQVM7QUFDOUIsT0FBS0EsYUFBWSxRQUFRLENBQUNBLGFBQVksY0FBYyxLQUFLLEVBQUUsR0FBRztBQUMxRCxXQUFPO0FBQUEsRUFDWDtBQUNBLE9BQUtBLGFBQVksUUFBUSxDQUFDQSxhQUFZLGNBQWMsS0FBSyxFQUFFLEdBQUc7QUFDMUQsV0FBTztBQUFBLEVBQ1g7QUFDQSxTQUFPO0FBQ1g7QUFDTyxJQUFNSSxhQUFOLE1BQU1DLG9CQUFrQnBCLFNBQVE7QUFBQSxFQUNuQyxPQUFPLE9BQU87QUFDVixRQUFJLEtBQUssS0FBSyxRQUFRO0FBQ2xCLFlBQU0sT0FBTyxPQUFPLE1BQU0sSUFBSTtBQUFBLElBQ2xDO0FBQ0EsVUFBTXFCLGNBQWEsS0FBSyxTQUFTLEtBQUs7QUFDdEMsUUFBSUEsZ0JBQWUsY0FBYyxRQUFRO0FBQ3JDLFlBQU1DLE9BQU0sS0FBSyxnQkFBZ0IsS0FBSztBQUN0Qyx3QkFBa0JBLE1BQUs7QUFBQSxRQUNuQixNQUFNbkIsY0FBYTtBQUFBLFFBQ25CLFVBQVUsY0FBYztBQUFBLFFBQ3hCLFVBQVVtQixLQUFJO0FBQUEsTUFDbEIsQ0FBQztBQUNELGFBQU87QUFBQSxJQUNYO0FBQ0EsVUFBTSxTQUFTLElBQUksWUFBWTtBQUMvQixRQUFJLE1BQU07QUFDVixlQUFXcEIsVUFBUyxLQUFLLEtBQUssUUFBUTtBQUNsQyxVQUFJQSxPQUFNLFNBQVMsT0FBTztBQUN0QixZQUFJLE1BQU0sS0FBSyxTQUFTQSxPQUFNLE9BQU87QUFDakMsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxZQUNmLE1BQU07QUFBQSxZQUNOLFdBQVc7QUFBQSxZQUNYLE9BQU87QUFBQSxZQUNQLFNBQVNBLE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsT0FBTztBQUMzQixZQUFJLE1BQU0sS0FBSyxTQUFTQSxPQUFNLE9BQU87QUFDakMsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxZQUNmLE1BQU07QUFBQSxZQUNOLFdBQVc7QUFBQSxZQUNYLE9BQU87QUFBQSxZQUNQLFNBQVNBLE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsVUFBVTtBQUM5QixjQUFNLFNBQVMsTUFBTSxLQUFLLFNBQVNBLE9BQU07QUFDekMsY0FBTSxXQUFXLE1BQU0sS0FBSyxTQUFTQSxPQUFNO0FBQzNDLFlBQUksVUFBVSxVQUFVO0FBQ3BCLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyxjQUFJLFFBQVE7QUFDUiw4QkFBa0IsS0FBSztBQUFBLGNBQ25CLE1BQU1DLGNBQWE7QUFBQSxjQUNuQixTQUFTRCxPQUFNO0FBQUEsY0FDZixNQUFNO0FBQUEsY0FDTixXQUFXO0FBQUEsY0FDWCxPQUFPO0FBQUEsY0FDUCxTQUFTQSxPQUFNO0FBQUEsWUFDbkIsQ0FBQztBQUFBLFVBQ0wsV0FDUyxVQUFVO0FBQ2YsOEJBQWtCLEtBQUs7QUFBQSxjQUNuQixNQUFNQyxjQUFhO0FBQUEsY0FDbkIsU0FBU0QsT0FBTTtBQUFBLGNBQ2YsTUFBTTtBQUFBLGNBQ04sV0FBVztBQUFBLGNBQ1gsT0FBTztBQUFBLGNBQ1AsU0FBU0EsT0FBTTtBQUFBLFlBQ25CLENBQUM7QUFBQSxVQUNMO0FBQ0EsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsU0FBUztBQUM3QixZQUFJLENBQUMsV0FBVyxLQUFLLE1BQU0sSUFBSSxHQUFHO0FBQzlCLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFNBQVM7QUFDN0IsWUFBSSxDQUFDLFlBQVk7QUFDYix1QkFBYSxJQUFJLE9BQU8sYUFBYSxHQUFHO0FBQUEsUUFDNUM7QUFDQSxZQUFJLENBQUMsV0FBVyxLQUFLLE1BQU0sSUFBSSxHQUFHO0FBQzlCLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFFBQVE7QUFDNUIsWUFBSSxDQUFDLFVBQVUsS0FBSyxNQUFNLElBQUksR0FBRztBQUM3QixnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxVQUFVO0FBQzlCLFlBQUksQ0FBQyxZQUFZLEtBQUssTUFBTSxJQUFJLEdBQUc7QUFDL0IsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsWUFBWTtBQUFBLFlBQ1osTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsUUFBUTtBQUM1QixZQUFJLENBQUMsVUFBVSxLQUFLLE1BQU0sSUFBSSxHQUFHO0FBQzdCLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFNBQVM7QUFDN0IsWUFBSSxDQUFDLFdBQVcsS0FBSyxNQUFNLElBQUksR0FBRztBQUM5QixnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxRQUFRO0FBQzVCLFlBQUksQ0FBQyxVQUFVLEtBQUssTUFBTSxJQUFJLEdBQUc7QUFDN0IsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsWUFBWTtBQUFBLFlBQ1osTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsT0FBTztBQUMzQixZQUFJO0FBRUEsY0FBSSxJQUFJLE1BQU0sSUFBSTtBQUFBLFFBQ3RCLFFBQ007QUFDRixnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxTQUFTO0FBQzdCLFFBQUFBLE9BQU0sTUFBTSxZQUFZO0FBQ3hCLGNBQU0sYUFBYUEsT0FBTSxNQUFNLEtBQUssTUFBTSxJQUFJO0FBQzlDLFlBQUksQ0FBQyxZQUFZO0FBQ2IsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsWUFBWTtBQUFBLFlBQ1osTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsUUFBUTtBQUM1QixjQUFNLE9BQU8sTUFBTSxLQUFLLEtBQUs7QUFBQSxNQUNqQyxXQUNTQSxPQUFNLFNBQVMsWUFBWTtBQUNoQyxZQUFJLENBQUMsTUFBTSxLQUFLLFNBQVNBLE9BQU0sT0FBT0EsT0FBTSxRQUFRLEdBQUc7QUFDbkQsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFlBQVksRUFBRSxVQUFVRCxPQUFNLE9BQU8sVUFBVUEsT0FBTSxTQUFTO0FBQUEsWUFDOUQsU0FBU0EsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxlQUFlO0FBQ25DLGNBQU0sT0FBTyxNQUFNLEtBQUssWUFBWTtBQUFBLE1BQ3hDLFdBQ1NBLE9BQU0sU0FBUyxlQUFlO0FBQ25DLGNBQU0sT0FBTyxNQUFNLEtBQUssWUFBWTtBQUFBLE1BQ3hDLFdBQ1NBLE9BQU0sU0FBUyxjQUFjO0FBQ2xDLFlBQUksQ0FBQyxNQUFNLEtBQUssV0FBV0EsT0FBTSxLQUFLLEdBQUc7QUFDckMsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFlBQVksRUFBRSxZQUFZRCxPQUFNLE1BQU07QUFBQSxZQUN0QyxTQUFTQSxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFlBQVk7QUFDaEMsWUFBSSxDQUFDLE1BQU0sS0FBSyxTQUFTQSxPQUFNLEtBQUssR0FBRztBQUNuQyxnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsWUFBWSxFQUFFLFVBQVVELE9BQU0sTUFBTTtBQUFBLFlBQ3BDLFNBQVNBLE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsWUFBWTtBQUNoQyxjQUFNLFFBQVEsY0FBY0EsTUFBSztBQUNqQyxZQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sSUFBSSxHQUFHO0FBQ3pCLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFFBQVE7QUFDNUIsY0FBTSxRQUFRO0FBQ2QsWUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLElBQUksR0FBRztBQUN6QixnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsWUFBWTtBQUFBLFlBQ1osU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxRQUFRO0FBQzVCLGNBQU0sUUFBUSxVQUFVQSxNQUFLO0FBQzdCLFlBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxJQUFJLEdBQUc7QUFDekIsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLFNBQVNELE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsWUFBWTtBQUNoQyxZQUFJLENBQUMsY0FBYyxLQUFLLE1BQU0sSUFBSSxHQUFHO0FBQ2pDLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLE1BQU07QUFDMUIsWUFBSSxDQUFDLFVBQVUsTUFBTSxNQUFNQSxPQUFNLE9BQU8sR0FBRztBQUN2QyxnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxPQUFPO0FBQzNCLFlBQUksQ0FBQ2MsWUFBVyxNQUFNLE1BQU1kLE9BQU0sR0FBRyxHQUFHO0FBQ3BDLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFFBQVE7QUFDNUIsWUFBSSxDQUFDLFlBQVksTUFBTSxNQUFNQSxPQUFNLE9BQU8sR0FBRztBQUN6QyxnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxVQUFVO0FBQzlCLFlBQUksQ0FBQyxZQUFZLEtBQUssTUFBTSxJQUFJLEdBQUc7QUFDL0IsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsWUFBWTtBQUFBLFlBQ1osTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsYUFBYTtBQUNqQyxZQUFJLENBQUMsZUFBZSxLQUFLLE1BQU0sSUFBSSxHQUFHO0FBQ2xDLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osT0FDSztBQUNELGFBQUssWUFBWUEsTUFBSztBQUFBLE1BQzFCO0FBQUEsSUFDSjtBQUNBLFdBQU8sRUFBRSxRQUFRLE9BQU8sT0FBTyxPQUFPLE1BQU0sS0FBSztBQUFBLEVBQ3JEO0FBQUEsRUFDQSxPQUFPLE9BQU8sWUFBWSxTQUFTO0FBQy9CLFdBQU8sS0FBSyxXQUFXLENBQUMsU0FBUyxNQUFNLEtBQUssSUFBSSxHQUFHO0FBQUEsTUFDL0M7QUFBQSxNQUNBLE1BQU1DLGNBQWE7QUFBQSxNQUNuQixHQUFHLFVBQVUsU0FBUyxPQUFPO0FBQUEsSUFDakMsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLFVBQVVELFFBQU87QUFDYixXQUFPLElBQUlrQixZQUFVO0FBQUEsTUFDakIsR0FBRyxLQUFLO0FBQUEsTUFDUixRQUFRLENBQUMsR0FBRyxLQUFLLEtBQUssUUFBUWxCLE1BQUs7QUFBQSxJQUN2QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsTUFBTSxTQUFTO0FBQ1gsV0FBTyxLQUFLLFVBQVUsRUFBRSxNQUFNLFNBQVMsR0FBRyxVQUFVLFNBQVMsT0FBTyxFQUFFLENBQUM7QUFBQSxFQUMzRTtBQUFBLEVBQ0EsSUFBSSxTQUFTO0FBQ1QsV0FBTyxLQUFLLFVBQVUsRUFBRSxNQUFNLE9BQU8sR0FBRyxVQUFVLFNBQVMsT0FBTyxFQUFFLENBQUM7QUFBQSxFQUN6RTtBQUFBLEVBQ0EsTUFBTSxTQUFTO0FBQ1gsV0FBTyxLQUFLLFVBQVUsRUFBRSxNQUFNLFNBQVMsR0FBRyxVQUFVLFNBQVMsT0FBTyxFQUFFLENBQUM7QUFBQSxFQUMzRTtBQUFBLEVBQ0EsS0FBSyxTQUFTO0FBQ1YsV0FBTyxLQUFLLFVBQVUsRUFBRSxNQUFNLFFBQVEsR0FBRyxVQUFVLFNBQVMsT0FBTyxFQUFFLENBQUM7QUFBQSxFQUMxRTtBQUFBLEVBQ0EsT0FBTyxTQUFTO0FBQ1osV0FBTyxLQUFLLFVBQVUsRUFBRSxNQUFNLFVBQVUsR0FBRyxVQUFVLFNBQVMsT0FBTyxFQUFFLENBQUM7QUFBQSxFQUM1RTtBQUFBLEVBQ0EsS0FBSyxTQUFTO0FBQ1YsV0FBTyxLQUFLLFVBQVUsRUFBRSxNQUFNLFFBQVEsR0FBRyxVQUFVLFNBQVMsT0FBTyxFQUFFLENBQUM7QUFBQSxFQUMxRTtBQUFBLEVBQ0EsTUFBTSxTQUFTO0FBQ1gsV0FBTyxLQUFLLFVBQVUsRUFBRSxNQUFNLFNBQVMsR0FBRyxVQUFVLFNBQVMsT0FBTyxFQUFFLENBQUM7QUFBQSxFQUMzRTtBQUFBLEVBQ0EsS0FBSyxTQUFTO0FBQ1YsV0FBTyxLQUFLLFVBQVUsRUFBRSxNQUFNLFFBQVEsR0FBRyxVQUFVLFNBQVMsT0FBTyxFQUFFLENBQUM7QUFBQSxFQUMxRTtBQUFBLEVBQ0EsT0FBTyxTQUFTO0FBQ1osV0FBTyxLQUFLLFVBQVUsRUFBRSxNQUFNLFVBQVUsR0FBRyxVQUFVLFNBQVMsT0FBTyxFQUFFLENBQUM7QUFBQSxFQUM1RTtBQUFBLEVBQ0EsVUFBVSxTQUFTO0FBRWYsV0FBTyxLQUFLLFVBQVU7QUFBQSxNQUNsQixNQUFNO0FBQUEsTUFDTixHQUFHLFVBQVUsU0FBUyxPQUFPO0FBQUEsSUFDakMsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLElBQUksU0FBUztBQUNULFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxPQUFPLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDekU7QUFBQSxFQUNBLEdBQUcsU0FBUztBQUNSLFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxNQUFNLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDeEU7QUFBQSxFQUNBLEtBQUssU0FBUztBQUNWLFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxRQUFRLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDMUU7QUFBQSxFQUNBLFNBQVMsU0FBUztBQUNkLFFBQUks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LFNBQVMsT0FBTztBQUFBLEVBQzlEO0FBQUEsRUFDQSxJQUFJLFFBQVE7QUFDUixXQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsS0FBSztBQUFBLEVBQzVEO0FBQUEsRUFDQSxJQUFJLFVBQVU7QUFDVixXQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsT0FBTztBQUFBLEVBQzlEO0FBQUEsRUFDQSxJQUFJLFNBQVM7QUFDVCxXQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsTUFBTTtBQUFBLEVBQzdEO0FBQUEsRUFDQSxJQUFJLFdBQVc7QUFDWCxXQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsUUFBUTtBQUFBLEVBQy9EO0FBQUEsRUFDQSxJQUFJLFNBQVM7QUFDVCxXQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsTUFBTTtBQUFBLEVBQzdEO0FBQUEsRUFDQSxJQUFJLFVBQVU7QUFDVixXQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsT0FBTztBQUFBLEVBQzlEO0FBQUEsRUFDQSxJQUFJLFNBQVM7QUFDVCxXQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsTUFBTTtBQUFBLEVBQzdEO0FBQUEsRUFDQSxJQUFJLE9BQU87QUFDUCxXQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsSUFBSTtBQUFBLEVBQzNEO0FBQUEsRUFDQSxJQUFJLFNBQVM7QUFDVCxXQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsTUFBTTtBQUFBLEVBQzdEO0FBQUEsRUFDQSxJQUFJ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QUNwQixLQUFLLGlCQUNGLE9BQU8sRUFDUCxTQUFTLGlEQUFpRDtBQUFBLFlBQzdELFFBQVEsaUJBQUUsTUFBTSxpQkFBRSxJQUFJLENBQUMsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFBQSxZQUM5QyxPQUFPLGlCQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsSUFBSSxHQUFJLEVBQUUsU0FBUyxFQUFFLFFBQVEsR0FBRztBQUFBLFlBQy9ELFFBQVEsaUJBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDO0FBQUEsWUFDcEQsV0FBVyxpQkFDUixPQUFPLEVBQ1AsSUFBSSxFQUNKLElBQUksR0FBSSxFQUNSLElBQUksR0FBSyxFQUNULFNBQVMsRUFDVCxRQUFRLElBQUs7QUFBQSxVQUNsQixDQUFDO0FBQUEsVUFDRCxTQUFTLE9BQU8sRUFBRSxLQUFLLFFBQVEsT0FBTyxRQUFRLFVBQVUsTUFBTTtBQUM1RCxrQkFBTSxTQUFTLE1BQU0sU0FBUztBQUFBLGNBQzVCO0FBQUEsY0FDQTtBQUFBLGNBQ0E7QUFBQSxjQUNBO0FBQUEsY0FDQTtBQUFBLFlBQ0YsQ0FBQztBQUNELG1CQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0YsQ0FBQztBQUFBLE1BQ0g7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBQ0YsQ0FBQzsiLAogICJuYW1lcyI6IFsiZXhwb3J0cyIsICJ0cmFuc2Zvcm0iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiYXJyYXkiLCAidHJhbnNmb3JtIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImRhdGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXh0ZW5kIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXh0ZW5kIiwgInBhcnNlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiYXJyYXkiLCAic3RyaW5nIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidCIsICJpIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImJpdHMiLCAiaSIsICJ2YWx1ZSIsICJlbGVtZW50VHlwZSIsICJwYXJzZSIsICJhcnJheSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImRlZmF1bHRzIiwgInV0aWwiLCAiaSIsICJkYXRlIiwgImNvbmZpZyIsICJlc2NhcGVJZGVudGlmaWVyIiwgImVzY2FwZUxpdGVyYWwiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAic3RyaW5nIiwgInRleHQiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAic3RyaW5nIiwgImUiLCAiaGFzaCIsICJ0ZXh0IiwgInJlcXVpcmVfdXRpbHMiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiaSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJ0ZXh0IiwgImkiLCAibmFtZSIsICJhIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInR5cGVzIiwgIlR5cGVPdmVycmlkZXMiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAicGFyc2UiLCAiY29uZmlnIiwgImUiLCAiaG9zdG5hbWUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZGVmYXVsdHMiLCAicGFyc2UiLCAiY29uZmlnIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInR5cGVzIiwgIlJlc3VsdCIsICJpIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIlJlc3VsdCIsICJRdWVyeSIsICJjb25maWciLCAiZXhwb3J0cyIsICJEYXRhYmFzZUVycm9yIiwgIm5hbWUiLCAidGV4dCIsICJzdHJpbmciLCAiZXhwb3J0cyIsICJwYXNzd29yZCIsICJ0ZXh0IiwgInBhcnNlIiwgInF1ZXJ5IiwgIm5hbWUiLCAidHlwZXMiLCAiaSIsICJjb25maWciLCAic3RyaW5nIiwgImV4cG9ydHMiLCAiZXhwb3J0cyIsICJ0ZXh0IiwgImkiLCAibmFtZSIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAicGFyc2UiLCAicmVzb2x2ZSIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImdldFN0cmVhbSIsICJnZXRTZWN1cmVTdHJlYW0iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAicGFyc2UiLCAiQ29ubmVjdGlvbiIsICJjb25maWciLCAiZXJyb3IiLCAidGV4dCIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJ0cmFuc2Zvcm0iLCAiaSIsICJlcnJvciIsICJub29wIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInV0aWwiLCAiZmlsZSIsICJpIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImZpbGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiVHlwZU92ZXJyaWRlcyIsICJRdWVyeSIsICJkZWZhdWx0cyIsICJDb25uZWN0aW9uIiwgIkNsaWVudCIsICJjb25maWciLCAiZXJyb3IiLCAicmVzb2x2ZSIsICJlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImkiLCAiUHJvbWlzZSIsICJyZXNvbHZlIiwgInBvb2wiLCAiUG9vbCIsICJDbGllbnQiLCAiZXJyIiwgImNsaWVudCIsICJ0ZXh0IiwgInJlc3BvbnNlIiwgInJlcXVpcmVfcXVlcnkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidXRpbCIsICJjb25maWciLCAicmVzb2x2ZSIsICJpIiwgInJlcXVpcmVfY2xpZW50IiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImUiLCAiVHlwZU92ZXJyaWRlcyIsICJ1dGlsIiwgIkNsaWVudCIsICJjb25maWciLCAiZXJyIiwgInJlc29sdmUiLCAiZXJyb3IiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAicmVxdWlyZV9saWIiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiQ2xpZW50IiwgImRlZmF1bHRzIiwgIkNvbm5lY3Rpb24iLCAiUmVzdWx0IiwgIlBvb2wiLCAiVHlwZU92ZXJyaWRlcyIsICJEYXRhYmFzZUVycm9yIiwgImVzY2FwZUlkZW50aWZpZXIiLCAiZXNjYXBlTGl0ZXJhbCIsICJfQUlTREtFcnJvciIsICJuYW1lIiwgImVycm9yIiwgIm1hcmtlciIsICJzeW1ib2wiLCAiX2EiLCAidXJsIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJ0ZXh0IiwgImVycm9yIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJfYSIsICJzeW1ib2wiLCAibmFtZSIsICJtYXJrZXIiLCAiX2EiLCAic3ltYm9sIiwgIm5hbWUiLCAibWFya2VyIiwgImVycm9yIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJfVHlwZVZhbGlkYXRpb25FcnJvciIsICJlcnJvciIsICJfYSIsICJzeW1ib2wiLCAiZXJyb3IiLCAiX2RlZmF1bHQiLCAiYmFzZTY0IiwgImJhc2U2NHVybCIsICJiaWdpbnQiLCAiYm9vbGVhbiIsICJfY2F0Y2giLCAiY2lkcnY0IiwgImNpZHJ2NiIsICJjb3JlX2V4cG9ydHMiLCAiY3VpZCIsICJjdWlkMiIsICJkYXRlIiwgImRlY29kZSIsICJkZWNvZGVBc3luYyIsICJlMTY0IiwgImVtYWlsIiwgImVtb2ppIiwgImVuY29kZSIsICJlbmNvZGVBc3luYyIsICJfZW51bSIsICJndWlkIiwgImhleCIsICJob3N0bmFtZSIsICJpcHY0IiwgImlwdjYiLCAia3N1aWQiLCAibmFub2lkIiwgIl9udWxsIiwgIm51bGxpc2giLCAibnVtYmVyIiwgInBhcnNlIiwgInBhcnNlQXN5bmMiLCAic2FmZURlY29kZSIsICJzYWZlRGVjb2RlQXN5bmMiLCAic2FmZUVuY29kZSIsICJzYWZlRW5jb2RlQXN5bmMiLCAic2FmZVBhcnNlIiwgInNhZmVQYXJzZUFzeW5jIiwgInN0cmluZyIsICJzeW1ib2wiLCAidWxpZCIsICJfdW5kZWZpbmVkIiwgInV1aWQiLCAiX3ZvaWQiLCAieGlkIiwgImNvcmVfZXhwb3J0cyIsICJfZW1vamkiLCAiX251bGwiLCAiX3VuZGVmaW5lZCIsICJuYW1lIiwgImluaXRpYWxpemVyIiwgIl9hIiwgImFycmF5IiwgInNldCIsICJvYmplY3QiLCAiaSIsICJvIiwgInQiLCAiYSIsICJDbGFzcyIsICJfYSIsICJjb25maWciLCAiYmFzZTY0IiwgImJhc2U2NHVybCIsICJoZXgiLCAiZXJyb3IiLCAiaXNzdWUiLCAiaSIsICJfYSIsICJfYiIsICJhIiwgImUiLCAidmVyc2lvbiIsICJ0aW1lIiwgInRpbWVSZWdleCIsICJfYSIsICJpbnN0IiwgIl9iIiwgInJlc3VsdCIsICJfYSIsICJjaGVja3MiLCAiaXNBYm9ydGVkIiwgImNoZWNrUmVzdWx0IiwgImNhbmFyeSIsICJyZXN1bHQiLCAiciIsICJfIiwgInVybCIsICJpbnN0IiwgImJhc2U2NCIsICJpIiwgInQiLCAiaXNPYmplY3QiLCAiYWxsb3dzRXZhbCIsICJvIiwgInJlc3VsdHMiLCAibWFwIiwgImxlZnQiLCAicmlnaHQiLCAiYSIsICJrZXlSZXN1bHQiLCAidmFsdWVSZXN1bHQiLCAib3V0cHV0IiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJ0IiwgImVycm9yIiwgImlzc3VlIiwgInBhcnNlZFR5cGUiLCAidCIsICJlcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgInBhcnNlZFR5cGUiLCAidCIsICJlcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgInBhcnNlZFR5cGUiLCAidCIsICJlcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgInBhcnNlZFR5cGUiLCAidCIsICJ0ZXh0IiwgIm51bWJlciIsICJlcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAicGFyc2VkVHlwZSIsICJ0IiwgImVycm9yIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgIkNsYXNzIiwgIl9lbW9qaSIsICJfdW5kZWZpbmVkIiwgIl9udWxsIiwgInR5cGVzIiwgIkNsYXNzIiwgImlzc3VlIiwgImNvZGVjIiwgIl9hIiwgImpzb24iLCAiaSIsICJhIiwgImZpbGUiLCAiaWQiLCAic2NoZW1hIiwgInpvZFNjaGVtYSIsICJwYXJhbXMiLCAiZ2VuIiwgImRhdGUiLCAiZGF0ZXRpbWUiLCAiZHVyYXRpb24iLCAidGltZSIsICJkYXRldGltZSIsICJkYXRlIiwgInRpbWUiLCAiZHVyYXRpb24iLCAiaW5pdGlhbGl6ZXIiLCAiaXNzdWUiLCAiaXNzdWVzIiwgInBhcnNlIiwgInBhcnNlQXN5bmMiLCAic2FmZVBhcnNlIiwgInNhZmVQYXJzZUFzeW5jIiwgImVuY29kZSIsICJkZWNvZGUiLCAiZW5jb2RlQXN5bmMiLCAiZGVjb2RlQXN5bmMiLCAic2FmZUVuY29kZSIsICJzYWZlRGVjb2RlIiwgInNhZmVFbmNvZGVBc3luYyIsICJzYWZlRGVjb2RlQXN5bmMiLCAiZGVmIiwgInBhcnNlIiwgInNhZmVQYXJzZSIsICJwYXJzZUFzeW5jIiwgInNhZmVQYXJzZUFzeW5jIiwgImVuY29kZSIsICJkZWNvZGUiLCAiZW5jb2RlQXN5bmMiLCAiZGVjb2RlQXN5bmMiLCAic2FmZUVuY29kZSIsICJzYWZlRGVjb2RlIiwgInNhZmVFbmNvZGVBc3luYyIsICJzYWZlRGVjb2RlQXN5bmMiLCAiY2hlY2siLCAiX2RlZmF1bHQiLCAiX2NhdGNoIiwgIl9lbW9qaSIsICJkYXRldGltZSIsICJkYXRlIiwgInRpbWUiLCAiZHVyYXRpb24iLCAic3RyaW5nIiwgImVtYWlsIiwgImd1aWQiLCAidXVpZCIsICJlbW9qaSIsICJuYW5vaWQiLCAiY3VpZCIsICJjdWlkMiIsICJ1bGlkIiwgInhpZCIsICJrc3VpZCIsICJpcHY0IiwgImlwdjYiLCAiY2lkcnY0IiwgImNpZHJ2NiIsICJiYXNlNjQiLCAiYmFzZTY0dXJsIiwgImUxNjQiLCAiaG9zdG5hbWUiLCAiaGV4IiwgIm51bWJlciIsICJib29sZWFuIiwgImJpZ2ludCIsICJzeW1ib2wiLCAiX3VuZGVmaW5lZCIsICJfbnVsbCIsICJfdm9pZCIsICJkYXRlIiwgIl9lbnVtIiwgInR5cGVzIiwgImlzc3VlIiwgIm91dHB1dCIsICJudWxsaXNoIiwgIl9kZWZhdWx0IiwgIl9jYXRjaCIsICJqc29uU2NoZW1hIiwgInN0cmluZyIsICJudW1iZXIiLCAiYm9vbGVhbiIsICJfbnVsbCIsICJtYXAiLCAiWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIiwgImJpZ2ludCIsICJib29sZWFuIiwgImRhdGUiLCAibnVtYmVyIiwgInN0cmluZyIsICJzdHJpbmciLCAibnVtYmVyIiwgImJvb2xlYW4iLCAiYmlnaW50IiwgImRhdGUiLCAidXRpbCIsICJhc3NlcnRJcyIsICJhc3NlcnROZXZlciIsICJlIiwgIm9iamVjdCIsICJqb2luVmFsdWVzIiwgImFycmF5IiwgIm9iamVjdFV0aWwiLCAiZ2V0UGFyc2VkVHlwZSIsICJ0IiwgIlpvZElzc3VlQ29kZSIsICJab2RFcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJpIiwgImlzc3VlIiwgIlpvZElzc3VlQ29kZSIsICJlbl9kZWZhdWx0IiwgImVuX2RlZmF1bHQiLCAiZ2V0RXJyb3JNYXAiLCAibWFwIiwgImdldEVycm9yTWFwIiwgImlzc3VlIiwgImVuX2RlZmF1bHQiLCAicyIsICJlcnJvclV0aWwiLCAiZXJyb3IiLCAiWm9kRXJyb3IiLCAiZXJyb3JNYXAiLCAiWm9kVHlwZSIsICJnZXRQYXJzZWRUeXBlIiwgImNoZWNrIiwgIlpvZElzc3VlQ29kZSIsICJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCAiWm9kT3B0aW9uYWwiLCAiWm9kTnVsbGFibGUiLCAiWm9kQXJyYXkiLCAiWm9kUHJvbWlzZSIsICJab2RVbmlvbiIsICJab2RJbnRlcnNlY3Rpb24iLCAidHJhbnNmb3JtIiwgIlpvZERlZmF1bHQiLCAiWm9kQ2F0Y2giLCAiWm9kUmVhZG9ubHkiLCAidmVyc2lvbiIsICJpc1ZhbGlkSldUIiwgImp3dCIsICJiYXNlNjQiLCAiWm9kU3RyaW5nIiwgIl9ab2RTdHJpbmciLCAicGFyc2VkVHlwZSIsICJjdHgiLCAiZmxvYXRTYWZlUmVtYWluZGVyIiwgIlpvZE51bWJlciIsICJab2RCaWdJbnQiLCAiWm9kQm9vbGVhbiIsICJab2REYXRlIiwgIlpvZFN5bWJvbCIsICJab2RVbmRlZmluZWQiLCAiWm9kTnVsbCIsICJab2RBbnkiLCAiWm9kVW5rbm93biIsICJab2ROZXZlciIsICJab2RWb2lkIiwgImkiLCAicmVzdWx0IiwgIlpvZE9iamVjdCIsICJab2RUdXBsZSIsICJpc3N1ZSIsICJpc3N1ZXMiLCAidHlwZXMiLCAiWm9kTGF6eSIsICJab2RMaXRlcmFsIiwgIlpvZEVudW0iLCAiWm9kRGlzY3JpbWluYXRlZFVuaW9uIiwgIm1lcmdlVmFsdWVzIiwgImEiLCAiWm9kUmVjb3JkIiwgIlpvZE1hcCIsICJab2RTZXQiLCAiZWxlbWVudHMiLCAiWm9kRnVuY3Rpb24iLCAiZ2V0RXJyb3JNYXAiLCAiZW5fZGVmYXVsdCIsICJlIiwgInByb2Nlc3NlZCIsICJwcmVwcm9jZXNzIiwgIlpvZE9wdGlvbmFsIiwgIlpvZFR5cGUiLCAicGFyc2VkVHlwZSIsICJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCAiWm9kTnVsbGFibGUiLCAiWm9kRGVmYXVsdCIsICJab2RDYXRjaCIsICJyZXN1bHQiLCAiWm9kRXJyb3IiLCAiWm9kTmFOIiwgIlpvZElzc3VlQ29kZSIsICJhIiwgIlpvZFJlYWRvbmx5IiwgIlpvZE9iamVjdCIsICJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCAiWm9kU3RyaW5nIiwgIlpvZE51bWJlciIsICJab2ROYU4iLCAiWm9kQmlnSW50IiwgIlpvZEJvb2xlYW4iLCAiWm9kRGF0ZSIsICJab2RTeW1ib2wiLCAiWm9kVW5kZWZpbmVkIiwgIlpvZE51bGwiLCAiWm9kQW55IiwgIlpvZFVua25vd24iLCAiWm9kTmV2ZXIiLCAiWm9kVm9pZCIsICJab2RBcnJheSIsICJab2RPYmplY3QiLCAiWm9kVW5pb24iLCAiWm9kRGlzY3JpbWluYXRlZFVuaW9uIiwgIlpvZEludGVyc2VjdGlvbiIsICJab2RUdXBsZSIsICJab2RSZWNvcmQiLCAiWm9kTWFwIiwgIlpvZFNldCIsICJab2RGdW5jdGlvbiIsICJab2RMYXp5IiwgIlpvZExpdGVyYWwiLCAiWm9kRW51bSIsICJab2RQcm9taXNlIiwgIlpvZE9wdGlvbmFsIiwgIlpvZE51bGxhYmxlIiwgInJlc29sdmUiLCAiX2EiLCAiX2IiLCAicmVjb3JkIiwgImkiLCAiZ2V0RXJyb3JNZXNzYWdlIiwgImVycm9yIiwgInVybCIsICJmZXRjaCIsICJBUElDYWxsRXJyb3IiLCAidXJsIiwgIm1lZGlhVHlwZSIsICJfcGFyc2UiLCAidGV4dCIsICJUeXBlVmFsaWRhdGlvbkVycm9yIiwgInZhbGlkYXRvciIsICJlcnJvciIsICJnZXRPcmlnaW5hbEZldGNoIiwgInVybCIsICJmZXRjaCIsICJ1cmwiLCAiZmV0Y2giLCAiZ2V0T3JpZ2luYWxGZXRjaCIsICJlcnJvciIsICJBUElDYWxsRXJyb3IiLCAidG9vbCIsICJ1cmwiLCAiQVBJQ2FsbEVycm9yIiwgInVybCIsICJBUElDYWxsRXJyb3IiLCAiaSIsICJfYSIsICJfYiIsICJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCAiY2hlY2siLCAicGFyc2VkVHlwZSIsICJlbW9qaVJlZ2V4IiwgImxpdGVyYWwiLCAiZSIsICJvYmplY3QiLCAidHlwZXMiLCAiYSIsICJ4IiwgInJlcXVpcmVkIiwgImpzb25TY2hlbWEiLCAibmFtZSIsICJzY2hlbWEiLCAiem9kU2NoZW1hIiwgInNhZmVQYXJzZUFzeW5jIiwgImJ0b2EiLCAiYXRvYiIsICJhcnJheSIsICJ1cmwiLCAibWFya2VyIiwgInN5bWJvbCIsICJfYSIsICJlcnJvciIsICJuYW1lIiwgIl9iIiwgInoiLCAiZSIsICJjb25maWciLCAicmVzb2x2ZSIsICJjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyIiwgImNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlciIsICJwb3N0SnNvblRvQXBpIiwgImNvbWJpbmVIZWFkZXJzIiwgIm5vdyIsICJWRVJTSU9OIiwgImlzQ29tcGF0aWJsZSIsICJWRVJTSU9OIiwgIlZFUlNJT04iLCAiX2EiLCAiX2IiLCAiRGlhZ0NvbXBvbmVudExvZ2dlciIsICJEaWFnTG9nTGV2ZWwiLCAiRGlhZ0FQSSIsICJfX3NwcmVhZEFycmF5IiwgIl9fcmVhZCIsICJfYSIsICJfYiIsICJCYXNlQ29udGV4dCIsICJOb29wQ29udGV4dE1hbmFnZXIiLCAiX19zcHJlYWRBcnJheSIsICJfX3JlYWQiLCAiQVBJX05BTUUiLCAiQ29udGV4dEFQSSIsICJfYSIsICJfX3NwcmVhZEFycmF5IiwgIl9fcmVhZCIsICJUcmFjZUZsYWdzIiwgIk5vblJlY29yZGluZ1NwYW4iLCAiX2EiLCAiTm9vcFRyYWNlciIsICJuYW1lIiwgIlByb3h5VHJhY2VyIiwgIm5hbWUiLCAidmVyc2lvbiIsICJOb29wVHJhY2VyUHJvdmlkZXIiLCAiUHJveHlUcmFjZXJQcm92aWRlciIsICJuYW1lIiwgInZlcnNpb24iLCAiX2EiLCAiU3BhblN0YXR1c0NvZGUiLCAiQVBJX05BTUUiLCAiVHJhY2VBUEkiLCAic3VjY2VzcyIsICJuYW1lIiwgInZlcnNpb24iLCAibmFtZSIsICJtYXJrZXIiLCAic3ltYm9sIiwgIl9hIiwgImVycm9yIiwgIkludmFsaWRBcmd1bWVudEVycm9yIiwgIkFJU0RLRXJyb3IiLCAiX2EiLCAic3ltYm9sIiwgIm5hbWUiLCAibWFya2VyIiwgIkFJU0RLRXJyb3IiLCAiZXJyb3IiLCAiX2EiLCAic3ltYm9sIiwgIm5hbWUiLCAibWFya2VyIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJBSVNES0Vycm9yIiwgInRleHQiLCAiZXJyb3IiLCAiZ2V0RXJyb3JNZXNzYWdlIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJBSVNES0Vycm9yIiwgImVycm9yIiwgInVybCIsICJfYSIsICJ1cmwiLCAiX2EiLCAiZXJyb3IiLCAiZG93bmxvYWQiLCAiX2IiLCAiQUlTREtFcnJvciIsICJkb3dubG9hZCIsICJfYSIsICJJbnZhbGlkQXJndW1lbnRFcnJvciIsICJvYmplY3QiLCAibmFtZSIsICJ0b29sIiwgInoiLCAieiIsICJ6IiwgInoiLCAieiIsICJJbnZhbGlkUHJvbXB0RXJyb3IiLCAieiIsICJlcnJvciIsICJBSVNES0Vycm9yIiwgIl9hIiwgIm5hbWUiLCAiYXR0cmlidXRlcyIsICJnZXRFcnJvck1lc3NhZ2UiLCAiQVBJQ2FsbEVycm9yIiwgIkludmFsaWRBcmd1bWVudEVycm9yIiwgImNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQiLCAiY29udmVydEJhc2U2NFRvVWludDhBcnJheSIsICJlcnJvciIsICJhc1NjaGVtYSIsICJ0b29sIiwgInNhZmVWYWxpZGF0ZVR5cGVzIiwgInRvb2wiLCAiZ2V0RXJyb3JNZXNzYWdlIiwgImVycm9yIiwgInoiLCAiaSIsICJzYWZlUGFyc2VKU09OIiwgIl9hIiwgIl9iIiwgInBhcnQiLCAiaXNBYm9ydGVkIiwgImUiLCAiZXJyb3IiLCAicmVzb2x2ZSIsICJwcm9taXNlIiwgImdldEVycm9yTWVzc2FnZSIsICJ0b29sIiwgImV4ZWN1dGVUb29sIiwgIm9yaWdpbmFsR2VuZXJhdGVJZCIsICJjcmVhdGVJZEdlbmVyYXRvciIsICJ0cmFuc2Zvcm0iLCAiZG93bmxvYWQiLCAibm93IiwgImdlbmVyYXRlSWQiLCAidGV4dCIsICJpc0Fib3J0RXJyb3IiLCAiaW5jbHVkZVJhd0NodW5rcyIsICJzdHJlYW0iLCAiZG9TdHJlYW1TcGFuIiwgIl9jIiwgIl9kIiwgInByb2Nlc3NCbG9jayIsICJvcmlnaW5hbEdlbmVyYXRlSWQiLCAiY3JlYXRlSWRHZW5lcmF0b3IiLCAib3JpZ2luYWxHZW5lcmF0ZUlkIiwgImNyZWF0ZUlkR2VuZXJhdG9yIiwgIl9fZXhwb3J0IiwgIm9iamVjdCIsICJ0ZXh0IiwgImFzU2NoZW1hIiwgInNhZmVQYXJzZUpTT04iLCAic2FmZVZhbGlkYXRlVHlwZXMiLCAibmFtZSIsICJtYXJrZXIiLCAic3ltYm9sIiwgIl9hIiwgIl9hIiwgInN5bWJvbCIsICJ6IiwgInoiLCAiaW1wb3J0X3V0aWwiLCAiZSIsICJ0IiwgIm4iLCAiaSIsICJhIiwgIm8iLCAicyIsICJwZyIsICJlIiwgInMiLCAiZmlsZSJdCn0K
