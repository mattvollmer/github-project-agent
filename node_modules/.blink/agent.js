var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name17 in all)
    __defProp(target, name17, { get: all[name17], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/postgres-array/index.js
var require_postgres_array = __commonJS({
  "node_modules/postgres-array/index.js"(exports2) {
    "use strict";
    exports2.parse = function(source, transform2) {
      return new ArrayParser(source, transform2).parse();
    };
    var ArrayParser = class _ArrayParser {
      constructor(source, transform2) {
        this.source = source;
        this.transform = transform2 || identity;
        this.position = 0;
        this.entries = [];
        this.recorded = [];
        this.dimension = 0;
      }
      isEof() {
        return this.position >= this.source.length;
      }
      nextCharacter() {
        var character = this.source[this.position++];
        if (character === "\\") {
          return {
            value: this.source[this.position++],
            escaped: true
          };
        }
        return {
          value: character,
          escaped: false
        };
      }
      record(character) {
        this.recorded.push(character);
      }
      newEntry(includeEmpty) {
        var entry;
        if (this.recorded.length > 0 || includeEmpty) {
          entry = this.recorded.join("");
          if (entry === "NULL" && !includeEmpty) {
            entry = null;
          }
          if (entry !== null) entry = this.transform(entry);
          this.entries.push(entry);
          this.recorded = [];
        }
      }
      consumeDimensions() {
        if (this.source[0] === "[") {
          while (!this.isEof()) {
            var char = this.nextCharacter();
            if (char.value === "=") break;
          }
        }
      }
      parse(nested) {
        var character, parser, quote;
        this.consumeDimensions();
        while (!this.isEof()) {
          character = this.nextCharacter();
          if (character.value === "{" && !quote) {
            this.dimension++;
            if (this.dimension > 1) {
              parser = new _ArrayParser(this.source.substr(this.position - 1), this.transform);
              this.entries.push(parser.parse(true));
              this.position += parser.position - 2;
            }
          } else if (character.value === "}" && !quote) {
            this.dimension--;
            if (!this.dimension) {
              this.newEntry();
              if (nested) return this.entries;
            }
          } else if (character.value === '"' && !character.escaped) {
            if (quote) this.newEntry(true);
            quote = !quote;
          } else if (character.value === "," && !quote) {
            this.newEntry();
          } else {
            this.record(character.value);
          }
        }
        if (this.dimension !== 0) {
          throw new Error("array dimension not balanced");
        }
        return this.entries;
      }
    };
    function identity(value) {
      return value;
    }
  }
});

// node_modules/pg-types/lib/arrayParser.js
var require_arrayParser = __commonJS({
  "node_modules/pg-types/lib/arrayParser.js"(exports2, module2) {
    var array2 = require_postgres_array();
    module2.exports = {
      create: function(source, transform2) {
        return {
          parse: function() {
            return array2.parse(source, transform2);
          }
        };
      }
    };
  }
});

// node_modules/postgres-date/index.js
var require_postgres_date = __commonJS({
  "node_modules/postgres-date/index.js"(exports2, module2) {
    "use strict";
    var DATE_TIME = /(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/;
    var DATE = /^(\d{1,})-(\d{2})-(\d{2})( BC)?$/;
    var TIME_ZONE = /([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/;
    var INFINITY = /^-?infinity$/;
    module2.exports = function parseDate(isoDate) {
      if (INFINITY.test(isoDate)) {
        return Number(isoDate.replace("i", "I"));
      }
      var matches = DATE_TIME.exec(isoDate);
      if (!matches) {
        return getDate(isoDate) || null;
      }
      var isBC = !!matches[8];
      var year = parseInt(matches[1], 10);
      if (isBC) {
        year = bcYearToNegativeYear(year);
      }
      var month = parseInt(matches[2], 10) - 1;
      var day = matches[3];
      var hour = parseInt(matches[4], 10);
      var minute = parseInt(matches[5], 10);
      var second = parseInt(matches[6], 10);
      var ms = matches[7];
      ms = ms ? 1e3 * parseFloat(ms) : 0;
      var date5;
      var offset = timeZoneOffset(isoDate);
      if (offset != null) {
        date5 = new Date(Date.UTC(year, month, day, hour, minute, second, ms));
        if (is0To99(year)) {
          date5.setUTCFullYear(year);
        }
        if (offset !== 0) {
          date5.setTime(date5.getTime() - offset);
        }
      } else {
        date5 = new Date(year, month, day, hour, minute, second, ms);
        if (is0To99(year)) {
          date5.setFullYear(year);
        }
      }
      return date5;
    };
    function getDate(isoDate) {
      var matches = DATE.exec(isoDate);
      if (!matches) {
        return;
      }
      var year = parseInt(matches[1], 10);
      var isBC = !!matches[4];
      if (isBC) {
        year = bcYearToNegativeYear(year);
      }
      var month = parseInt(matches[2], 10) - 1;
      var day = matches[3];
      var date5 = new Date(year, month, day);
      if (is0To99(year)) {
        date5.setFullYear(year);
      }
      return date5;
    }
    function timeZoneOffset(isoDate) {
      if (isoDate.endsWith("+00")) {
        return 0;
      }
      var zone = TIME_ZONE.exec(isoDate.split(" ")[1]);
      if (!zone) return;
      var type = zone[1];
      if (type === "Z") {
        return 0;
      }
      var sign = type === "-" ? -1 : 1;
      var offset = parseInt(zone[2], 10) * 3600 + parseInt(zone[3] || 0, 10) * 60 + parseInt(zone[4] || 0, 10);
      return offset * sign * 1e3;
    }
    function bcYearToNegativeYear(year) {
      return -(year - 1);
    }
    function is0To99(num) {
      return num >= 0 && num < 100;
    }
  }
});

// node_modules/xtend/mutable.js
var require_mutable = __commonJS({
  "node_modules/xtend/mutable.js"(exports2, module2) {
    module2.exports = extend2;
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    function extend2(target) {
      for (var i2 = 1; i2 < arguments.length; i2++) {
        var source = arguments[i2];
        for (var key in source) {
          if (hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    }
  }
});

// node_modules/postgres-interval/index.js
var require_postgres_interval = __commonJS({
  "node_modules/postgres-interval/index.js"(exports2, module2) {
    "use strict";
    var extend2 = require_mutable();
    module2.exports = PostgresInterval;
    function PostgresInterval(raw) {
      if (!(this instanceof PostgresInterval)) {
        return new PostgresInterval(raw);
      }
      extend2(this, parse3(raw));
    }
    var properties = ["seconds", "minutes", "hours", "days", "months", "years"];
    PostgresInterval.prototype.toPostgres = function() {
      var filtered = properties.filter(this.hasOwnProperty, this);
      if (this.milliseconds && filtered.indexOf("seconds") < 0) {
        filtered.push("seconds");
      }
      if (filtered.length === 0) return "0";
      return filtered.map(function(property) {
        var value = this[property] || 0;
        if (property === "seconds" && this.milliseconds) {
          value = (value + this.milliseconds / 1e3).toFixed(6).replace(/\.?0+$/, "");
        }
        return value + " " + property;
      }, this).join(" ");
    };
    var propertiesISOEquivalent = {
      years: "Y",
      months: "M",
      days: "D",
      hours: "H",
      minutes: "M",
      seconds: "S"
    };
    var dateProperties = ["years", "months", "days"];
    var timeProperties = ["hours", "minutes", "seconds"];
    PostgresInterval.prototype.toISOString = PostgresInterval.prototype.toISO = function() {
      var datePart = dateProperties.map(buildProperty, this).join("");
      var timePart = timeProperties.map(buildProperty, this).join("");
      return "P" + datePart + "T" + timePart;
      function buildProperty(property) {
        var value = this[property] || 0;
        if (property === "seconds" && this.milliseconds) {
          value = (value + this.milliseconds / 1e3).toFixed(6).replace(/0+$/, "");
        }
        return value + propertiesISOEquivalent[property];
      }
    };
    var NUMBER = "([+-]?\\d+)";
    var YEAR = NUMBER + "\\s+years?";
    var MONTH = NUMBER + "\\s+mons?";
    var DAY = NUMBER + "\\s+days?";
    var TIME = "([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?";
    var INTERVAL = new RegExp([YEAR, MONTH, DAY, TIME].map(function(regexString) {
      return "(" + regexString + ")?";
    }).join("\\s*"));
    var positions = {
      years: 2,
      months: 4,
      days: 6,
      hours: 9,
      minutes: 10,
      seconds: 11,
      milliseconds: 12
    };
    var negatives = ["hours", "minutes", "seconds", "milliseconds"];
    function parseMilliseconds(fraction) {
      var microseconds = fraction + "000000".slice(fraction.length);
      return parseInt(microseconds, 10) / 1e3;
    }
    function parse3(interval) {
      if (!interval) return {};
      var matches = INTERVAL.exec(interval);
      var isNegative = matches[8] === "-";
      return Object.keys(positions).reduce(function(parsed, property) {
        var position = positions[property];
        var value = matches[position];
        if (!value) return parsed;
        value = property === "milliseconds" ? parseMilliseconds(value) : parseInt(value, 10);
        if (!value) return parsed;
        if (isNegative && ~negatives.indexOf(property)) {
          value *= -1;
        }
        parsed[property] = value;
        return parsed;
      }, {});
    }
  }
});

// node_modules/postgres-bytea/index.js
var require_postgres_bytea = __commonJS({
  "node_modules/postgres-bytea/index.js"(exports2, module2) {
    "use strict";
    module2.exports = function parseBytea(input) {
      if (/^\\x/.test(input)) {
        return new Buffer(input.substr(2), "hex");
      }
      var output = "";
      var i2 = 0;
      while (i2 < input.length) {
        if (input[i2] !== "\\") {
          output += input[i2];
          ++i2;
        } else {
          if (/[0-7]{3}/.test(input.substr(i2 + 1, 3))) {
            output += String.fromCharCode(parseInt(input.substr(i2 + 1, 3), 8));
            i2 += 4;
          } else {
            var backslashes = 1;
            while (i2 + backslashes < input.length && input[i2 + backslashes] === "\\") {
              backslashes++;
            }
            for (var k = 0; k < Math.floor(backslashes / 2); ++k) {
              output += "\\";
            }
            i2 += Math.floor(backslashes / 2) * 2;
          }
        }
      }
      return new Buffer(output, "binary");
    };
  }
});

// node_modules/pg-types/lib/textParsers.js
var require_textParsers = __commonJS({
  "node_modules/pg-types/lib/textParsers.js"(exports2, module2) {
    var array2 = require_postgres_array();
    var arrayParser = require_arrayParser();
    var parseDate = require_postgres_date();
    var parseInterval = require_postgres_interval();
    var parseByteA = require_postgres_bytea();
    function allowNull(fn) {
      return function nullAllowed(value) {
        if (value === null) return value;
        return fn(value);
      };
    }
    function parseBool(value) {
      if (value === null) return value;
      return value === "TRUE" || value === "t" || value === "true" || value === "y" || value === "yes" || value === "on" || value === "1";
    }
    function parseBoolArray(value) {
      if (!value) return null;
      return array2.parse(value, parseBool);
    }
    function parseBaseTenInt(string4) {
      return parseInt(string4, 10);
    }
    function parseIntegerArray(value) {
      if (!value) return null;
      return array2.parse(value, allowNull(parseBaseTenInt));
    }
    function parseBigIntegerArray(value) {
      if (!value) return null;
      return array2.parse(value, allowNull(function(entry) {
        return parseBigInteger(entry).trim();
      }));
    }
    var parsePointArray = function(value) {
      if (!value) {
        return null;
      }
      var p2 = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parsePoint(entry);
        }
        return entry;
      });
      return p2.parse();
    };
    var parseFloatArray = function(value) {
      if (!value) {
        return null;
      }
      var p2 = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parseFloat(entry);
        }
        return entry;
      });
      return p2.parse();
    };
    var parseStringArray = function(value) {
      if (!value) {
        return null;
      }
      var p2 = arrayParser.create(value);
      return p2.parse();
    };
    var parseDateArray = function(value) {
      if (!value) {
        return null;
      }
      var p2 = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parseDate(entry);
        }
        return entry;
      });
      return p2.parse();
    };
    var parseIntervalArray = function(value) {
      if (!value) {
        return null;
      }
      var p2 = arrayParser.create(value, function(entry) {
        if (entry !== null) {
          entry = parseInterval(entry);
        }
        return entry;
      });
      return p2.parse();
    };
    var parseByteAArray = function(value) {
      if (!value) {
        return null;
      }
      return array2.parse(value, allowNull(parseByteA));
    };
    var parseInteger = function(value) {
      return parseInt(value, 10);
    };
    var parseBigInteger = function(value) {
      var valStr = String(value);
      if (/^\d+$/.test(valStr)) {
        return valStr;
      }
      return value;
    };
    var parseJsonArray = function(value) {
      if (!value) {
        return null;
      }
      return array2.parse(value, allowNull(JSON.parse));
    };
    var parsePoint = function(value) {
      if (value[0] !== "(") {
        return null;
      }
      value = value.substring(1, value.length - 1).split(",");
      return {
        x: parseFloat(value[0]),
        y: parseFloat(value[1])
      };
    };
    var parseCircle = function(value) {
      if (value[0] !== "<" && value[1] !== "(") {
        return null;
      }
      var point = "(";
      var radius = "";
      var pointParsed = false;
      for (var i2 = 2; i2 < value.length - 1; i2++) {
        if (!pointParsed) {
          point += value[i2];
        }
        if (value[i2] === ")") {
          pointParsed = true;
          continue;
        } else if (!pointParsed) {
          continue;
        }
        if (value[i2] === ",") {
          continue;
        }
        radius += value[i2];
      }
      var result = parsePoint(point);
      result.radius = parseFloat(radius);
      return result;
    };
    var init = function(register) {
      register(20, parseBigInteger);
      register(21, parseInteger);
      register(23, parseInteger);
      register(26, parseInteger);
      register(700, parseFloat);
      register(701, parseFloat);
      register(16, parseBool);
      register(1082, parseDate);
      register(1114, parseDate);
      register(1184, parseDate);
      register(600, parsePoint);
      register(651, parseStringArray);
      register(718, parseCircle);
      register(1e3, parseBoolArray);
      register(1001, parseByteAArray);
      register(1005, parseIntegerArray);
      register(1007, parseIntegerArray);
      register(1028, parseIntegerArray);
      register(1016, parseBigIntegerArray);
      register(1017, parsePointArray);
      register(1021, parseFloatArray);
      register(1022, parseFloatArray);
      register(1231, parseFloatArray);
      register(1014, parseStringArray);
      register(1015, parseStringArray);
      register(1008, parseStringArray);
      register(1009, parseStringArray);
      register(1040, parseStringArray);
      register(1041, parseStringArray);
      register(1115, parseDateArray);
      register(1182, parseDateArray);
      register(1185, parseDateArray);
      register(1186, parseInterval);
      register(1187, parseIntervalArray);
      register(17, parseByteA);
      register(114, JSON.parse.bind(JSON));
      register(3802, JSON.parse.bind(JSON));
      register(199, parseJsonArray);
      register(3807, parseJsonArray);
      register(3907, parseStringArray);
      register(2951, parseStringArray);
      register(791, parseStringArray);
      register(1183, parseStringArray);
      register(1270, parseStringArray);
    };
    module2.exports = {
      init
    };
  }
});

// node_modules/pg-int8/index.js
var require_pg_int8 = __commonJS({
  "node_modules/pg-int8/index.js"(exports2, module2) {
    "use strict";
    var BASE = 1e6;
    function readInt8(buffer) {
      var high = buffer.readInt32BE(0);
      var low = buffer.readUInt32BE(4);
      var sign = "";
      if (high < 0) {
        high = ~high + (low === 0);
        low = ~low + 1 >>> 0;
        sign = "-";
      }
      var result = "";
      var carry;
      var t2;
      var digits;
      var pad;
      var l2;
      var i2;
      {
        carry = high % BASE;
        high = high / BASE >>> 0;
        t2 = 4294967296 * carry + low;
        low = t2 / BASE >>> 0;
        digits = "" + (t2 - BASE * low);
        if (low === 0 && high === 0) {
          return sign + digits + result;
        }
        pad = "";
        l2 = 6 - digits.length;
        for (i2 = 0; i2 < l2; i2++) {
          pad += "0";
        }
        result = pad + digits + result;
      }
      {
        carry = high % BASE;
        high = high / BASE >>> 0;
        t2 = 4294967296 * carry + low;
        low = t2 / BASE >>> 0;
        digits = "" + (t2 - BASE * low);
        if (low === 0 && high === 0) {
          return sign + digits + result;
        }
        pad = "";
        l2 = 6 - digits.length;
        for (i2 = 0; i2 < l2; i2++) {
          pad += "0";
        }
        result = pad + digits + result;
      }
      {
        carry = high % BASE;
        high = high / BASE >>> 0;
        t2 = 4294967296 * carry + low;
        low = t2 / BASE >>> 0;
        digits = "" + (t2 - BASE * low);
        if (low === 0 && high === 0) {
          return sign + digits + result;
        }
        pad = "";
        l2 = 6 - digits.length;
        for (i2 = 0; i2 < l2; i2++) {
          pad += "0";
        }
        result = pad + digits + result;
      }
      {
        carry = high % BASE;
        t2 = 4294967296 * carry + low;
        digits = "" + t2 % BASE;
        return sign + digits + result;
      }
    }
    module2.exports = readInt8;
  }
});

// node_modules/pg-types/lib/binaryParsers.js
var require_binaryParsers = __commonJS({
  "node_modules/pg-types/lib/binaryParsers.js"(exports2, module2) {
    var parseInt64 = require_pg_int8();
    var parseBits = function(data, bits, offset, invert, callback) {
      offset = offset || 0;
      invert = invert || false;
      callback = callback || function(lastValue, newValue, bits2) {
        return lastValue * Math.pow(2, bits2) + newValue;
      };
      var offsetBytes = offset >> 3;
      var inv = function(value) {
        if (invert) {
          return ~value & 255;
        }
        return value;
      };
      var mask = 255;
      var firstBits = 8 - offset % 8;
      if (bits < firstBits) {
        mask = 255 << 8 - bits & 255;
        firstBits = bits;
      }
      if (offset) {
        mask = mask >> offset % 8;
      }
      var result = 0;
      if (offset % 8 + bits >= 8) {
        result = callback(0, inv(data[offsetBytes]) & mask, firstBits);
      }
      var bytes = bits + offset >> 3;
      for (var i2 = offsetBytes + 1; i2 < bytes; i2++) {
        result = callback(result, inv(data[i2]), 8);
      }
      var lastBits = (bits + offset) % 8;
      if (lastBits > 0) {
        result = callback(result, inv(data[bytes]) >> 8 - lastBits, lastBits);
      }
      return result;
    };
    var parseFloatFromBits = function(data, precisionBits, exponentBits) {
      var bias = Math.pow(2, exponentBits - 1) - 1;
      var sign = parseBits(data, 1);
      var exponent = parseBits(data, exponentBits, 1);
      if (exponent === 0) {
        return 0;
      }
      var precisionBitsCounter = 1;
      var parsePrecisionBits = function(lastValue, newValue, bits) {
        if (lastValue === 0) {
          lastValue = 1;
        }
        for (var i2 = 1; i2 <= bits; i2++) {
          precisionBitsCounter /= 2;
          if ((newValue & 1 << bits - i2) > 0) {
            lastValue += precisionBitsCounter;
          }
        }
        return lastValue;
      };
      var mantissa = parseBits(data, precisionBits, exponentBits + 1, false, parsePrecisionBits);
      if (exponent == Math.pow(2, exponentBits + 1) - 1) {
        if (mantissa === 0) {
          return sign === 0 ? Infinity : -Infinity;
        }
        return NaN;
      }
      return (sign === 0 ? 1 : -1) * Math.pow(2, exponent - bias) * mantissa;
    };
    var parseInt16 = function(value) {
      if (parseBits(value, 1) == 1) {
        return -1 * (parseBits(value, 15, 1, true) + 1);
      }
      return parseBits(value, 15, 1);
    };
    var parseInt32 = function(value) {
      if (parseBits(value, 1) == 1) {
        return -1 * (parseBits(value, 31, 1, true) + 1);
      }
      return parseBits(value, 31, 1);
    };
    var parseFloat32 = function(value) {
      return parseFloatFromBits(value, 23, 8);
    };
    var parseFloat64 = function(value) {
      return parseFloatFromBits(value, 52, 11);
    };
    var parseNumeric = function(value) {
      var sign = parseBits(value, 16, 32);
      if (sign == 49152) {
        return NaN;
      }
      var weight = Math.pow(1e4, parseBits(value, 16, 16));
      var result = 0;
      var digits = [];
      var ndigits = parseBits(value, 16);
      for (var i2 = 0; i2 < ndigits; i2++) {
        result += parseBits(value, 16, 64 + 16 * i2) * weight;
        weight /= 1e4;
      }
      var scale = Math.pow(10, parseBits(value, 16, 48));
      return (sign === 0 ? 1 : -1) * Math.round(result * scale) / scale;
    };
    var parseDate = function(isUTC, value) {
      var sign = parseBits(value, 1);
      var rawValue = parseBits(value, 63, 1);
      var result = new Date((sign === 0 ? 1 : -1) * rawValue / 1e3 + 9466848e5);
      if (!isUTC) {
        result.setTime(result.getTime() + result.getTimezoneOffset() * 6e4);
      }
      result.usec = rawValue % 1e3;
      result.getMicroSeconds = function() {
        return this.usec;
      };
      result.setMicroSeconds = function(value2) {
        this.usec = value2;
      };
      result.getUTCMicroSeconds = function() {
        return this.usec;
      };
      return result;
    };
    var parseArray = function(value) {
      var dim = parseBits(value, 32);
      var flags = parseBits(value, 32, 32);
      var elementType = parseBits(value, 32, 64);
      var offset = 96;
      var dims = [];
      for (var i2 = 0; i2 < dim; i2++) {
        dims[i2] = parseBits(value, 32, offset);
        offset += 32;
        offset += 32;
      }
      var parseElement = function(elementType2) {
        var length = parseBits(value, 32, offset);
        offset += 32;
        if (length == 4294967295) {
          return null;
        }
        var result;
        if (elementType2 == 23 || elementType2 == 20) {
          result = parseBits(value, length * 8, offset);
          offset += length * 8;
          return result;
        } else if (elementType2 == 25) {
          result = value.toString(this.encoding, offset >> 3, (offset += length << 3) >> 3);
          return result;
        } else {
          console.log("ERROR: ElementType not implemented: " + elementType2);
        }
      };
      var parse3 = function(dimension, elementType2) {
        var array2 = [];
        var i3;
        if (dimension.length > 1) {
          var count = dimension.shift();
          for (i3 = 0; i3 < count; i3++) {
            array2[i3] = parse3(dimension, elementType2);
          }
          dimension.unshift(count);
        } else {
          for (i3 = 0; i3 < dimension[0]; i3++) {
            array2[i3] = parseElement(elementType2);
          }
        }
        return array2;
      };
      return parse3(dims, elementType);
    };
    var parseText = function(value) {
      return value.toString("utf8");
    };
    var parseBool = function(value) {
      if (value === null) return null;
      return parseBits(value, 8) > 0;
    };
    var init = function(register) {
      register(20, parseInt64);
      register(21, parseInt16);
      register(23, parseInt32);
      register(26, parseInt32);
      register(1700, parseNumeric);
      register(700, parseFloat32);
      register(701, parseFloat64);
      register(16, parseBool);
      register(1114, parseDate.bind(null, false));
      register(1184, parseDate.bind(null, true));
      register(1e3, parseArray);
      register(1007, parseArray);
      register(1016, parseArray);
      register(1008, parseArray);
      register(1009, parseArray);
      register(25, parseText);
    };
    module2.exports = {
      init
    };
  }
});

// node_modules/pg-types/lib/builtins.js
var require_builtins = __commonJS({
  "node_modules/pg-types/lib/builtins.js"(exports2, module2) {
    module2.exports = {
      BOOL: 16,
      BYTEA: 17,
      CHAR: 18,
      INT8: 20,
      INT2: 21,
      INT4: 23,
      REGPROC: 24,
      TEXT: 25,
      OID: 26,
      TID: 27,
      XID: 28,
      CID: 29,
      JSON: 114,
      XML: 142,
      PG_NODE_TREE: 194,
      SMGR: 210,
      PATH: 602,
      POLYGON: 604,
      CIDR: 650,
      FLOAT4: 700,
      FLOAT8: 701,
      ABSTIME: 702,
      RELTIME: 703,
      TINTERVAL: 704,
      CIRCLE: 718,
      MACADDR8: 774,
      MONEY: 790,
      MACADDR: 829,
      INET: 869,
      ACLITEM: 1033,
      BPCHAR: 1042,
      VARCHAR: 1043,
      DATE: 1082,
      TIME: 1083,
      TIMESTAMP: 1114,
      TIMESTAMPTZ: 1184,
      INTERVAL: 1186,
      TIMETZ: 1266,
      BIT: 1560,
      VARBIT: 1562,
      NUMERIC: 1700,
      REFCURSOR: 1790,
      REGPROCEDURE: 2202,
      REGOPER: 2203,
      REGOPERATOR: 2204,
      REGCLASS: 2205,
      REGTYPE: 2206,
      UUID: 2950,
      TXID_SNAPSHOT: 2970,
      PG_LSN: 3220,
      PG_NDISTINCT: 3361,
      PG_DEPENDENCIES: 3402,
      TSVECTOR: 3614,
      TSQUERY: 3615,
      GTSVECTOR: 3642,
      REGCONFIG: 3734,
      REGDICTIONARY: 3769,
      JSONB: 3802,
      REGNAMESPACE: 4089,
      REGROLE: 4096
    };
  }
});

// node_modules/pg-types/index.js
var require_pg_types = __commonJS({
  "node_modules/pg-types/index.js"(exports2) {
    var textParsers = require_textParsers();
    var binaryParsers = require_binaryParsers();
    var arrayParser = require_arrayParser();
    var builtinTypes = require_builtins();
    exports2.getTypeParser = getTypeParser;
    exports2.setTypeParser = setTypeParser;
    exports2.arrayParser = arrayParser;
    exports2.builtins = builtinTypes;
    var typeParsers = {
      text: {},
      binary: {}
    };
    function noParse(val) {
      return String(val);
    }
    function getTypeParser(oid, format) {
      format = format || "text";
      if (!typeParsers[format]) {
        return noParse;
      }
      return typeParsers[format][oid] || noParse;
    }
    function setTypeParser(oid, format, parseFn) {
      if (typeof format == "function") {
        parseFn = format;
        format = "text";
      }
      typeParsers[format][oid] = parseFn;
    }
    textParsers.init(function(oid, converter) {
      typeParsers.text[oid] = converter;
    });
    binaryParsers.init(function(oid, converter) {
      typeParsers.binary[oid] = converter;
    });
  }
});

// node_modules/pg/lib/defaults.js
var require_defaults = __commonJS({
  "node_modules/pg/lib/defaults.js"(exports2, module2) {
    "use strict";
    module2.exports = {
      // database host. defaults to localhost
      host: "localhost",
      // database user's name
      user: process.platform === "win32" ? process.env.USERNAME : process.env.USER,
      // name of database to connect
      database: void 0,
      // database user's password
      password: null,
      // a Postgres connection string to be used instead of setting individual connection items
      // NOTE:  Setting this value will cause it to override any other value (such as database or user) defined
      // in the defaults object.
      connectionString: void 0,
      // database port
      port: 5432,
      // number of rows to return at a time from a prepared statement's
      // portal. 0 will return all rows at once
      rows: 0,
      // binary result mode
      binary: false,
      // Connection pool options - see https://github.com/brianc/node-pg-pool
      // number of connections to use in connection pool
      // 0 will disable connection pooling
      max: 10,
      // max milliseconds a client can go unused before it is removed
      // from the pool and destroyed
      idleTimeoutMillis: 3e4,
      client_encoding: "",
      ssl: false,
      application_name: void 0,
      fallback_application_name: void 0,
      options: void 0,
      parseInputDatesAsUTC: false,
      // max milliseconds any query using this connection will execute for before timing out in error.
      // false=unlimited
      statement_timeout: false,
      // Abort any statement that waits longer than the specified duration in milliseconds while attempting to acquire a lock.
      // false=unlimited
      lock_timeout: false,
      // Terminate any session with an open transaction that has been idle for longer than the specified duration in milliseconds
      // false=unlimited
      idle_in_transaction_session_timeout: false,
      // max milliseconds to wait for query to complete (client side)
      query_timeout: false,
      connect_timeout: 0,
      keepalives: 1,
      keepalives_idle: 0
    };
    var pgTypes = require_pg_types();
    var parseBigInteger = pgTypes.getTypeParser(20, "text");
    var parseBigIntegerArray = pgTypes.getTypeParser(1016, "text");
    module2.exports.__defineSetter__("parseInt8", function(val) {
      pgTypes.setTypeParser(20, "text", val ? pgTypes.getTypeParser(23, "text") : parseBigInteger);
      pgTypes.setTypeParser(1016, "text", val ? pgTypes.getTypeParser(1007, "text") : parseBigIntegerArray);
    });
  }
});

// node_modules/pg/lib/utils.js
var require_utils = __commonJS({
  "node_modules/pg/lib/utils.js"(exports2, module2) {
    "use strict";
    var defaults2 = require_defaults();
    var util2 = require("util");
    var { isDate } = util2.types || util2;
    function escapeElement(elementRepresentation) {
      const escaped = elementRepresentation.replace(/\\/g, "\\\\").replace(/"/g, '\\"');
      return '"' + escaped + '"';
    }
    function arrayString(val) {
      let result = "{";
      for (let i2 = 0; i2 < val.length; i2++) {
        if (i2 > 0) {
          result = result + ",";
        }
        if (val[i2] === null || typeof val[i2] === "undefined") {
          result = result + "NULL";
        } else if (Array.isArray(val[i2])) {
          result = result + arrayString(val[i2]);
        } else if (ArrayBuffer.isView(val[i2])) {
          let item = val[i2];
          if (!(item instanceof Buffer)) {
            const buf = Buffer.from(item.buffer, item.byteOffset, item.byteLength);
            if (buf.length === item.byteLength) {
              item = buf;
            } else {
              item = buf.slice(item.byteOffset, item.byteOffset + item.byteLength);
            }
          }
          result += "\\\\x" + item.toString("hex");
        } else {
          result += escapeElement(prepareValue(val[i2]));
        }
      }
      result = result + "}";
      return result;
    }
    var prepareValue = function(val, seen) {
      if (val == null) {
        return null;
      }
      if (typeof val === "object") {
        if (val instanceof Buffer) {
          return val;
        }
        if (ArrayBuffer.isView(val)) {
          const buf = Buffer.from(val.buffer, val.byteOffset, val.byteLength);
          if (buf.length === val.byteLength) {
            return buf;
          }
          return buf.slice(val.byteOffset, val.byteOffset + val.byteLength);
        }
        if (isDate(val)) {
          if (defaults2.parseInputDatesAsUTC) {
            return dateToStringUTC(val);
          } else {
            return dateToString(val);
          }
        }
        if (Array.isArray(val)) {
          return arrayString(val);
        }
        return prepareObject(val, seen);
      }
      return val.toString();
    };
    function prepareObject(val, seen) {
      if (val && typeof val.toPostgres === "function") {
        seen = seen || [];
        if (seen.indexOf(val) !== -1) {
          throw new Error('circular reference detected while preparing "' + val + '" for query');
        }
        seen.push(val);
        return prepareValue(val.toPostgres(prepareValue), seen);
      }
      return JSON.stringify(val);
    }
    function dateToString(date5) {
      let offset = -date5.getTimezoneOffset();
      let year = date5.getFullYear();
      const isBCYear = year < 1;
      if (isBCYear) year = Math.abs(year) + 1;
      let ret = String(year).padStart(4, "0") + "-" + String(date5.getMonth() + 1).padStart(2, "0") + "-" + String(date5.getDate()).padStart(2, "0") + "T" + String(date5.getHours()).padStart(2, "0") + ":" + String(date5.getMinutes()).padStart(2, "0") + ":" + String(date5.getSeconds()).padStart(2, "0") + "." + String(date5.getMilliseconds()).padStart(3, "0");
      if (offset < 0) {
        ret += "-";
        offset *= -1;
      } else {
        ret += "+";
      }
      ret += String(Math.floor(offset / 60)).padStart(2, "0") + ":" + String(offset % 60).padStart(2, "0");
      if (isBCYear) ret += " BC";
      return ret;
    }
    function dateToStringUTC(date5) {
      let year = date5.getUTCFullYear();
      const isBCYear = year < 1;
      if (isBCYear) year = Math.abs(year) + 1;
      let ret = String(year).padStart(4, "0") + "-" + String(date5.getUTCMonth() + 1).padStart(2, "0") + "-" + String(date5.getUTCDate()).padStart(2, "0") + "T" + String(date5.getUTCHours()).padStart(2, "0") + ":" + String(date5.getUTCMinutes()).padStart(2, "0") + ":" + String(date5.getUTCSeconds()).padStart(2, "0") + "." + String(date5.getUTCMilliseconds()).padStart(3, "0");
      ret += "+00:00";
      if (isBCYear) ret += " BC";
      return ret;
    }
    function normalizeQueryConfig(config2, values, callback) {
      config2 = typeof config2 === "string" ? { text: config2 } : config2;
      if (values) {
        if (typeof values === "function") {
          config2.callback = values;
        } else {
          config2.values = values;
        }
      }
      if (callback) {
        config2.callback = callback;
      }
      return config2;
    }
    var escapeIdentifier2 = function(str) {
      return '"' + str.replace(/"/g, '""') + '"';
    };
    var escapeLiteral2 = function(str) {
      let hasBackslash = false;
      let escaped = "'";
      if (str == null) {
        return "''";
      }
      if (typeof str !== "string") {
        return "''";
      }
      for (let i2 = 0; i2 < str.length; i2++) {
        const c2 = str[i2];
        if (c2 === "'") {
          escaped += c2 + c2;
        } else if (c2 === "\\") {
          escaped += c2 + c2;
          hasBackslash = true;
        } else {
          escaped += c2;
        }
      }
      escaped += "'";
      if (hasBackslash === true) {
        escaped = " E" + escaped;
      }
      return escaped;
    };
    module2.exports = {
      prepareValue: function prepareValueWrapper(value) {
        return prepareValue(value);
      },
      normalizeQueryConfig,
      escapeIdentifier: escapeIdentifier2,
      escapeLiteral: escapeLiteral2
    };
  }
});

// node_modules/pg/lib/crypto/utils-legacy.js
var require_utils_legacy = __commonJS({
  "node_modules/pg/lib/crypto/utils-legacy.js"(exports2, module2) {
    "use strict";
    var nodeCrypto = require("crypto");
    function md5(string4) {
      return nodeCrypto.createHash("md5").update(string4, "utf-8").digest("hex");
    }
    function postgresMd5PasswordHash(user, password, salt) {
      const inner = md5(password + user);
      const outer = md5(Buffer.concat([Buffer.from(inner), salt]));
      return "md5" + outer;
    }
    function sha256(text2) {
      return nodeCrypto.createHash("sha256").update(text2).digest();
    }
    function hashByName(hashName, text2) {
      hashName = hashName.replace(/(\D)-/, "$1");
      return nodeCrypto.createHash(hashName).update(text2).digest();
    }
    function hmacSha256(key, msg) {
      return nodeCrypto.createHmac("sha256", key).update(msg).digest();
    }
    async function deriveKey(password, salt, iterations) {
      return nodeCrypto.pbkdf2Sync(password, salt, iterations, 32, "sha256");
    }
    module2.exports = {
      postgresMd5PasswordHash,
      randomBytes: nodeCrypto.randomBytes,
      deriveKey,
      sha256,
      hashByName,
      hmacSha256,
      md5
    };
  }
});

// node_modules/pg/lib/crypto/utils-webcrypto.js
var require_utils_webcrypto = __commonJS({
  "node_modules/pg/lib/crypto/utils-webcrypto.js"(exports2, module2) {
    var nodeCrypto = require("crypto");
    module2.exports = {
      postgresMd5PasswordHash,
      randomBytes,
      deriveKey,
      sha256,
      hashByName,
      hmacSha256,
      md5
    };
    var webCrypto = nodeCrypto.webcrypto || globalThis.crypto;
    var subtleCrypto = webCrypto.subtle;
    var textEncoder = new TextEncoder();
    function randomBytes(length) {
      return webCrypto.getRandomValues(Buffer.alloc(length));
    }
    async function md5(string4) {
      try {
        return nodeCrypto.createHash("md5").update(string4, "utf-8").digest("hex");
      } catch (e) {
        const data = typeof string4 === "string" ? textEncoder.encode(string4) : string4;
        const hash2 = await subtleCrypto.digest("MD5", data);
        return Array.from(new Uint8Array(hash2)).map((b2) => b2.toString(16).padStart(2, "0")).join("");
      }
    }
    async function postgresMd5PasswordHash(user, password, salt) {
      const inner = await md5(password + user);
      const outer = await md5(Buffer.concat([Buffer.from(inner), salt]));
      return "md5" + outer;
    }
    async function sha256(text2) {
      return await subtleCrypto.digest("SHA-256", text2);
    }
    async function hashByName(hashName, text2) {
      return await subtleCrypto.digest(hashName, text2);
    }
    async function hmacSha256(keyBuffer, msg) {
      const key = await subtleCrypto.importKey("raw", keyBuffer, { name: "HMAC", hash: "SHA-256" }, false, ["sign"]);
      return await subtleCrypto.sign("HMAC", key, textEncoder.encode(msg));
    }
    async function deriveKey(password, salt, iterations) {
      const key = await subtleCrypto.importKey("raw", textEncoder.encode(password), "PBKDF2", false, ["deriveBits"]);
      const params = { name: "PBKDF2", hash: "SHA-256", salt, iterations };
      return await subtleCrypto.deriveBits(params, key, 32 * 8, ["deriveBits"]);
    }
  }
});

// node_modules/pg/lib/crypto/utils.js
var require_utils2 = __commonJS({
  "node_modules/pg/lib/crypto/utils.js"(exports2, module2) {
    "use strict";
    var useLegacyCrypto = parseInt(process.versions && process.versions.node && process.versions.node.split(".")[0]) < 15;
    if (useLegacyCrypto) {
      module2.exports = require_utils_legacy();
    } else {
      module2.exports = require_utils_webcrypto();
    }
  }
});

// node_modules/pg/lib/crypto/cert-signatures.js
var require_cert_signatures = __commonJS({
  "node_modules/pg/lib/crypto/cert-signatures.js"(exports2, module2) {
    function x509Error(msg, cert) {
      return new Error("SASL channel binding: " + msg + " when parsing public certificate " + cert.toString("base64"));
    }
    function readASN1Length(data, index) {
      let length = data[index++];
      if (length < 128) return { length, index };
      const lengthBytes = length & 127;
      if (lengthBytes > 4) throw x509Error("bad length", data);
      length = 0;
      for (let i2 = 0; i2 < lengthBytes; i2++) {
        length = length << 8 | data[index++];
      }
      return { length, index };
    }
    function readASN1OID(data, index) {
      if (data[index++] !== 6) throw x509Error("non-OID data", data);
      const { length: OIDLength, index: indexAfterOIDLength } = readASN1Length(data, index);
      index = indexAfterOIDLength;
      const lastIndex = index + OIDLength;
      const byte1 = data[index++];
      let oid = (byte1 / 40 >> 0) + "." + byte1 % 40;
      while (index < lastIndex) {
        let value = 0;
        while (index < lastIndex) {
          const nextByte = data[index++];
          value = value << 7 | nextByte & 127;
          if (nextByte < 128) break;
        }
        oid += "." + value;
      }
      return { oid, index };
    }
    function expectASN1Seq(data, index) {
      if (data[index++] !== 48) throw x509Error("non-sequence data", data);
      return readASN1Length(data, index);
    }
    function signatureAlgorithmHashFromCertificate(data, index) {
      if (index === void 0) index = 0;
      index = expectASN1Seq(data, index).index;
      const { length: certInfoLength, index: indexAfterCertInfoLength } = expectASN1Seq(data, index);
      index = indexAfterCertInfoLength + certInfoLength;
      index = expectASN1Seq(data, index).index;
      const { oid, index: indexAfterOID } = readASN1OID(data, index);
      switch (oid) {
        // RSA
        case "1.2.840.113549.1.1.4":
          return "MD5";
        case "1.2.840.113549.1.1.5":
          return "SHA-1";
        case "1.2.840.113549.1.1.11":
          return "SHA-256";
        case "1.2.840.113549.1.1.12":
          return "SHA-384";
        case "1.2.840.113549.1.1.13":
          return "SHA-512";
        case "1.2.840.113549.1.1.14":
          return "SHA-224";
        case "1.2.840.113549.1.1.15":
          return "SHA512-224";
        case "1.2.840.113549.1.1.16":
          return "SHA512-256";
        // ECDSA
        case "1.2.840.10045.4.1":
          return "SHA-1";
        case "1.2.840.10045.4.3.1":
          return "SHA-224";
        case "1.2.840.10045.4.3.2":
          return "SHA-256";
        case "1.2.840.10045.4.3.3":
          return "SHA-384";
        case "1.2.840.10045.4.3.4":
          return "SHA-512";
        // RSASSA-PSS: hash is indicated separately
        case "1.2.840.113549.1.1.10": {
          index = indexAfterOID;
          index = expectASN1Seq(data, index).index;
          if (data[index++] !== 160) throw x509Error("non-tag data", data);
          index = readASN1Length(data, index).index;
          index = expectASN1Seq(data, index).index;
          const { oid: hashOID } = readASN1OID(data, index);
          switch (hashOID) {
            // standalone hash OIDs
            case "1.2.840.113549.2.5":
              return "MD5";
            case "1.3.14.3.2.26":
              return "SHA-1";
            case "2.16.840.1.101.3.4.2.1":
              return "SHA-256";
            case "2.16.840.1.101.3.4.2.2":
              return "SHA-384";
            case "2.16.840.1.101.3.4.2.3":
              return "SHA-512";
          }
          throw x509Error("unknown hash OID " + hashOID, data);
        }
        // Ed25519 -- see https: return//github.com/openssl/openssl/issues/15477
        case "1.3.101.110":
        case "1.3.101.112":
          return "SHA-512";
        // Ed448 -- still not in pg 17.2 (if supported, digest would be SHAKE256 x 64 bytes)
        case "1.3.101.111":
        case "1.3.101.113":
          throw x509Error("Ed448 certificate channel binding is not currently supported by Postgres");
      }
      throw x509Error("unknown OID " + oid, data);
    }
    module2.exports = { signatureAlgorithmHashFromCertificate };
  }
});

// node_modules/pg/lib/crypto/sasl.js
var require_sasl = __commonJS({
  "node_modules/pg/lib/crypto/sasl.js"(exports2, module2) {
    "use strict";
    var crypto = require_utils2();
    var { signatureAlgorithmHashFromCertificate } = require_cert_signatures();
    function startSession(mechanisms, stream) {
      const candidates = ["SCRAM-SHA-256"];
      if (stream) candidates.unshift("SCRAM-SHA-256-PLUS");
      const mechanism = candidates.find((candidate) => mechanisms.includes(candidate));
      if (!mechanism) {
        throw new Error("SASL: Only mechanism(s) " + candidates.join(" and ") + " are supported");
      }
      if (mechanism === "SCRAM-SHA-256-PLUS" && typeof stream.getPeerCertificate !== "function") {
        throw new Error("SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate");
      }
      const clientNonce = crypto.randomBytes(18).toString("base64");
      const gs2Header = mechanism === "SCRAM-SHA-256-PLUS" ? "p=tls-server-end-point" : stream ? "y" : "n";
      return {
        mechanism,
        clientNonce,
        response: gs2Header + ",,n=*,r=" + clientNonce,
        message: "SASLInitialResponse"
      };
    }
    async function continueSession(session, password, serverData, stream) {
      if (session.message !== "SASLInitialResponse") {
        throw new Error("SASL: Last message was not SASLInitialResponse");
      }
      if (typeof password !== "string") {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");
      }
      if (password === "") {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");
      }
      if (typeof serverData !== "string") {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");
      }
      const sv = parseServerFirstMessage(serverData);
      if (!sv.nonce.startsWith(session.clientNonce)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");
      } else if (sv.nonce.length === session.clientNonce.length) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");
      }
      const clientFirstMessageBare = "n=*,r=" + session.clientNonce;
      const serverFirstMessage = "r=" + sv.nonce + ",s=" + sv.salt + ",i=" + sv.iteration;
      let channelBinding = stream ? "eSws" : "biws";
      if (session.mechanism === "SCRAM-SHA-256-PLUS") {
        const peerCert = stream.getPeerCertificate().raw;
        let hashName = signatureAlgorithmHashFromCertificate(peerCert);
        if (hashName === "MD5" || hashName === "SHA-1") hashName = "SHA-256";
        const certHash = await crypto.hashByName(hashName, peerCert);
        const bindingData = Buffer.concat([Buffer.from("p=tls-server-end-point,,"), Buffer.from(certHash)]);
        channelBinding = bindingData.toString("base64");
      }
      const clientFinalMessageWithoutProof = "c=" + channelBinding + ",r=" + sv.nonce;
      const authMessage = clientFirstMessageBare + "," + serverFirstMessage + "," + clientFinalMessageWithoutProof;
      const saltBytes = Buffer.from(sv.salt, "base64");
      const saltedPassword = await crypto.deriveKey(password, saltBytes, sv.iteration);
      const clientKey = await crypto.hmacSha256(saltedPassword, "Client Key");
      const storedKey = await crypto.sha256(clientKey);
      const clientSignature = await crypto.hmacSha256(storedKey, authMessage);
      const clientProof = xorBuffers(Buffer.from(clientKey), Buffer.from(clientSignature)).toString("base64");
      const serverKey = await crypto.hmacSha256(saltedPassword, "Server Key");
      const serverSignatureBytes = await crypto.hmacSha256(serverKey, authMessage);
      session.message = "SASLResponse";
      session.serverSignature = Buffer.from(serverSignatureBytes).toString("base64");
      session.response = clientFinalMessageWithoutProof + ",p=" + clientProof;
    }
    function finalizeSession(session, serverData) {
      if (session.message !== "SASLResponse") {
        throw new Error("SASL: Last message was not SASLResponse");
      }
      if (typeof serverData !== "string") {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");
      }
      const { serverSignature } = parseServerFinalMessage(serverData);
      if (serverSignature !== session.serverSignature) {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match");
      }
    }
    function isPrintableChars(text2) {
      if (typeof text2 !== "string") {
        throw new TypeError("SASL: text must be a string");
      }
      return text2.split("").map((_2, i2) => text2.charCodeAt(i2)).every((c2) => c2 >= 33 && c2 <= 43 || c2 >= 45 && c2 <= 126);
    }
    function isBase64(text2) {
      return /^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(text2);
    }
    function parseAttributePairs(text2) {
      if (typeof text2 !== "string") {
        throw new TypeError("SASL: attribute pairs text must be a string");
      }
      return new Map(
        text2.split(",").map((attrValue) => {
          if (!/^.=/.test(attrValue)) {
            throw new Error("SASL: Invalid attribute pair entry");
          }
          const name17 = attrValue[0];
          const value = attrValue.substring(2);
          return [name17, value];
        })
      );
    }
    function parseServerFirstMessage(data) {
      const attrPairs = parseAttributePairs(data);
      const nonce = attrPairs.get("r");
      if (!nonce) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");
      } else if (!isPrintableChars(nonce)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters");
      }
      const salt = attrPairs.get("s");
      if (!salt) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");
      } else if (!isBase64(salt)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64");
      }
      const iterationText = attrPairs.get("i");
      if (!iterationText) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");
      } else if (!/^[1-9][0-9]*$/.test(iterationText)) {
        throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count");
      }
      const iteration = parseInt(iterationText, 10);
      return {
        nonce,
        salt,
        iteration
      };
    }
    function parseServerFinalMessage(serverData) {
      const attrPairs = parseAttributePairs(serverData);
      const serverSignature = attrPairs.get("v");
      if (!serverSignature) {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");
      } else if (!isBase64(serverSignature)) {
        throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64");
      }
      return {
        serverSignature
      };
    }
    function xorBuffers(a2, b2) {
      if (!Buffer.isBuffer(a2)) {
        throw new TypeError("first argument must be a Buffer");
      }
      if (!Buffer.isBuffer(b2)) {
        throw new TypeError("second argument must be a Buffer");
      }
      if (a2.length !== b2.length) {
        throw new Error("Buffer lengths must match");
      }
      if (a2.length === 0) {
        throw new Error("Buffers cannot be empty");
      }
      return Buffer.from(a2.map((_2, i2) => a2[i2] ^ b2[i2]));
    }
    module2.exports = {
      startSession,
      continueSession,
      finalizeSession
    };
  }
});

// node_modules/pg/lib/type-overrides.js
var require_type_overrides = __commonJS({
  "node_modules/pg/lib/type-overrides.js"(exports2, module2) {
    "use strict";
    var types2 = require_pg_types();
    function TypeOverrides2(userTypes) {
      this._types = userTypes || types2;
      this.text = {};
      this.binary = {};
    }
    TypeOverrides2.prototype.getOverrides = function(format) {
      switch (format) {
        case "text":
          return this.text;
        case "binary":
          return this.binary;
        default:
          return {};
      }
    };
    TypeOverrides2.prototype.setTypeParser = function(oid, format, parseFn) {
      if (typeof format === "function") {
        parseFn = format;
        format = "text";
      }
      this.getOverrides(format)[oid] = parseFn;
    };
    TypeOverrides2.prototype.getTypeParser = function(oid, format) {
      format = format || "text";
      return this.getOverrides(format)[oid] || this._types.getTypeParser(oid, format);
    };
    module2.exports = TypeOverrides2;
  }
});

// node_modules/pg-connection-string/index.js
var require_pg_connection_string = __commonJS({
  "node_modules/pg-connection-string/index.js"(exports2, module2) {
    "use strict";
    function parse3(str, options = {}) {
      if (str.charAt(0) === "/") {
        const config3 = str.split(" ");
        return { host: config3[0], database: config3[1] };
      }
      const config2 = {};
      let result;
      let dummyHost = false;
      if (/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(str)) {
        str = encodeURI(str).replace(/%25(\d\d)/g, "%$1");
      }
      try {
        try {
          result = new URL(str, "postgres://base");
        } catch (e) {
          result = new URL(str.replace("@/", "@___DUMMY___/"), "postgres://base");
          dummyHost = true;
        }
      } catch (err) {
        err.input && (err.input = "*****REDACTED*****");
      }
      for (const entry of result.searchParams.entries()) {
        config2[entry[0]] = entry[1];
      }
      config2.user = config2.user || decodeURIComponent(result.username);
      config2.password = config2.password || decodeURIComponent(result.password);
      if (result.protocol == "socket:") {
        config2.host = decodeURI(result.pathname);
        config2.database = result.searchParams.get("db");
        config2.client_encoding = result.searchParams.get("encoding");
        return config2;
      }
      const hostname3 = dummyHost ? "" : result.hostname;
      if (!config2.host) {
        config2.host = decodeURIComponent(hostname3);
      } else if (hostname3 && /^%2f/i.test(hostname3)) {
        result.pathname = hostname3 + result.pathname;
      }
      if (!config2.port) {
        config2.port = result.port;
      }
      const pathname = result.pathname.slice(1) || null;
      config2.database = pathname ? decodeURI(pathname) : null;
      if (config2.ssl === "true" || config2.ssl === "1") {
        config2.ssl = true;
      }
      if (config2.ssl === "0") {
        config2.ssl = false;
      }
      if (config2.sslcert || config2.sslkey || config2.sslrootcert || config2.sslmode) {
        config2.ssl = {};
      }
      const fs = config2.sslcert || config2.sslkey || config2.sslrootcert ? require("fs") : null;
      if (config2.sslcert) {
        config2.ssl.cert = fs.readFileSync(config2.sslcert).toString();
      }
      if (config2.sslkey) {
        config2.ssl.key = fs.readFileSync(config2.sslkey).toString();
      }
      if (config2.sslrootcert) {
        config2.ssl.ca = fs.readFileSync(config2.sslrootcert).toString();
      }
      if (options.useLibpqCompat && config2.uselibpqcompat) {
        throw new Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");
      }
      if (config2.uselibpqcompat === "true" || options.useLibpqCompat) {
        switch (config2.sslmode) {
          case "disable": {
            config2.ssl = false;
            break;
          }
          case "prefer": {
            config2.ssl.rejectUnauthorized = false;
            break;
          }
          case "require": {
            if (config2.sslrootcert) {
              config2.ssl.checkServerIdentity = function() {
              };
            } else {
              config2.ssl.rejectUnauthorized = false;
            }
            break;
          }
          case "verify-ca": {
            if (!config2.ssl.ca) {
              throw new Error(
                "SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security."
              );
            }
            config2.ssl.checkServerIdentity = function() {
            };
            break;
          }
          case "verify-full": {
            break;
          }
        }
      } else {
        switch (config2.sslmode) {
          case "disable": {
            config2.ssl = false;
            break;
          }
          case "prefer":
          case "require":
          case "verify-ca":
          case "verify-full": {
            break;
          }
          case "no-verify": {
            config2.ssl.rejectUnauthorized = false;
            break;
          }
        }
      }
      return config2;
    }
    function toConnectionOptions(sslConfig) {
      const connectionOptions = Object.entries(sslConfig).reduce((c2, [key, value]) => {
        if (value !== void 0 && value !== null) {
          c2[key] = value;
        }
        return c2;
      }, {});
      return connectionOptions;
    }
    function toClientConfig(config2) {
      const poolConfig = Object.entries(config2).reduce((c2, [key, value]) => {
        if (key === "ssl") {
          const sslConfig = value;
          if (typeof sslConfig === "boolean") {
            c2[key] = sslConfig;
          }
          if (typeof sslConfig === "object") {
            c2[key] = toConnectionOptions(sslConfig);
          }
        } else if (value !== void 0 && value !== null) {
          if (key === "port") {
            if (value !== "") {
              const v2 = parseInt(value, 10);
              if (isNaN(v2)) {
                throw new Error(`Invalid ${key}: ${value}`);
              }
              c2[key] = v2;
            }
          } else {
            c2[key] = value;
          }
        }
        return c2;
      }, {});
      return poolConfig;
    }
    function parseIntoClientConfig(str) {
      return toClientConfig(parse3(str));
    }
    module2.exports = parse3;
    parse3.parse = parse3;
    parse3.toClientConfig = toClientConfig;
    parse3.parseIntoClientConfig = parseIntoClientConfig;
  }
});

// node_modules/pg/lib/connection-parameters.js
var require_connection_parameters = __commonJS({
  "node_modules/pg/lib/connection-parameters.js"(exports2, module2) {
    "use strict";
    var dns = require("dns");
    var defaults2 = require_defaults();
    var parse3 = require_pg_connection_string().parse;
    var val = function(key, config2, envVar) {
      if (envVar === void 0) {
        envVar = process.env["PG" + key.toUpperCase()];
      } else if (envVar === false) {
      } else {
        envVar = process.env[envVar];
      }
      return config2[key] || envVar || defaults2[key];
    };
    var readSSLConfigFromEnvironment = function() {
      switch (process.env.PGSSLMODE) {
        case "disable":
          return false;
        case "prefer":
        case "require":
        case "verify-ca":
        case "verify-full":
          return true;
        case "no-verify":
          return { rejectUnauthorized: false };
      }
      return defaults2.ssl;
    };
    var quoteParamValue = function(value) {
      return "'" + ("" + value).replace(/\\/g, "\\\\").replace(/'/g, "\\'") + "'";
    };
    var add = function(params, config2, paramName) {
      const value = config2[paramName];
      if (value !== void 0 && value !== null) {
        params.push(paramName + "=" + quoteParamValue(value));
      }
    };
    var ConnectionParameters = class {
      constructor(config2) {
        config2 = typeof config2 === "string" ? parse3(config2) : config2 || {};
        if (config2.connectionString) {
          config2 = Object.assign({}, config2, parse3(config2.connectionString));
        }
        this.user = val("user", config2);
        this.database = val("database", config2);
        if (this.database === void 0) {
          this.database = this.user;
        }
        this.port = parseInt(val("port", config2), 10);
        this.host = val("host", config2);
        Object.defineProperty(this, "password", {
          configurable: true,
          enumerable: false,
          writable: true,
          value: val("password", config2)
        });
        this.binary = val("binary", config2);
        this.options = val("options", config2);
        this.ssl = typeof config2.ssl === "undefined" ? readSSLConfigFromEnvironment() : config2.ssl;
        if (typeof this.ssl === "string") {
          if (this.ssl === "true") {
            this.ssl = true;
          }
        }
        if (this.ssl === "no-verify") {
          this.ssl = { rejectUnauthorized: false };
        }
        if (this.ssl && this.ssl.key) {
          Object.defineProperty(this.ssl, "key", {
            enumerable: false
          });
        }
        this.client_encoding = val("client_encoding", config2);
        this.replication = val("replication", config2);
        this.isDomainSocket = !(this.host || "").indexOf("/");
        this.application_name = val("application_name", config2, "PGAPPNAME");
        this.fallback_application_name = val("fallback_application_name", config2, false);
        this.statement_timeout = val("statement_timeout", config2, false);
        this.lock_timeout = val("lock_timeout", config2, false);
        this.idle_in_transaction_session_timeout = val("idle_in_transaction_session_timeout", config2, false);
        this.query_timeout = val("query_timeout", config2, false);
        if (config2.connectionTimeoutMillis === void 0) {
          this.connect_timeout = process.env.PGCONNECT_TIMEOUT || 0;
        } else {
          this.connect_timeout = Math.floor(config2.connectionTimeoutMillis / 1e3);
        }
        if (config2.keepAlive === false) {
          this.keepalives = 0;
        } else if (config2.keepAlive === true) {
          this.keepalives = 1;
        }
        if (typeof config2.keepAliveInitialDelayMillis === "number") {
          this.keepalives_idle = Math.floor(config2.keepAliveInitialDelayMillis / 1e3);
        }
      }
      getLibpqConnectionString(cb) {
        const params = [];
        add(params, this, "user");
        add(params, this, "password");
        add(params, this, "port");
        add(params, this, "application_name");
        add(params, this, "fallback_application_name");
        add(params, this, "connect_timeout");
        add(params, this, "options");
        const ssl = typeof this.ssl === "object" ? this.ssl : this.ssl ? { sslmode: this.ssl } : {};
        add(params, ssl, "sslmode");
        add(params, ssl, "sslca");
        add(params, ssl, "sslkey");
        add(params, ssl, "sslcert");
        add(params, ssl, "sslrootcert");
        if (this.database) {
          params.push("dbname=" + quoteParamValue(this.database));
        }
        if (this.replication) {
          params.push("replication=" + quoteParamValue(this.replication));
        }
        if (this.host) {
          params.push("host=" + quoteParamValue(this.host));
        }
        if (this.isDomainSocket) {
          return cb(null, params.join(" "));
        }
        if (this.client_encoding) {
          params.push("client_encoding=" + quoteParamValue(this.client_encoding));
        }
        dns.lookup(this.host, function(err, address) {
          if (err) return cb(err, null);
          params.push("hostaddr=" + quoteParamValue(address));
          return cb(null, params.join(" "));
        });
      }
    };
    module2.exports = ConnectionParameters;
  }
});

// node_modules/pg/lib/result.js
var require_result = __commonJS({
  "node_modules/pg/lib/result.js"(exports2, module2) {
    "use strict";
    var types2 = require_pg_types();
    var matchRegexp = /^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;
    var Result2 = class {
      constructor(rowMode, types3) {
        this.command = null;
        this.rowCount = null;
        this.oid = null;
        this.rows = [];
        this.fields = [];
        this._parsers = void 0;
        this._types = types3;
        this.RowCtor = null;
        this.rowAsArray = rowMode === "array";
        if (this.rowAsArray) {
          this.parseRow = this._parseRowAsArray;
        }
        this._prebuiltEmptyResultObject = null;
      }
      // adds a command complete message
      addCommandComplete(msg) {
        let match;
        if (msg.text) {
          match = matchRegexp.exec(msg.text);
        } else {
          match = matchRegexp.exec(msg.command);
        }
        if (match) {
          this.command = match[1];
          if (match[3]) {
            this.oid = parseInt(match[2], 10);
            this.rowCount = parseInt(match[3], 10);
          } else if (match[2]) {
            this.rowCount = parseInt(match[2], 10);
          }
        }
      }
      _parseRowAsArray(rowData) {
        const row = new Array(rowData.length);
        for (let i2 = 0, len = rowData.length; i2 < len; i2++) {
          const rawValue = rowData[i2];
          if (rawValue !== null) {
            row[i2] = this._parsers[i2](rawValue);
          } else {
            row[i2] = null;
          }
        }
        return row;
      }
      parseRow(rowData) {
        const row = { ...this._prebuiltEmptyResultObject };
        for (let i2 = 0, len = rowData.length; i2 < len; i2++) {
          const rawValue = rowData[i2];
          const field = this.fields[i2].name;
          if (rawValue !== null) {
            const v2 = this.fields[i2].format === "binary" ? Buffer.from(rawValue) : rawValue;
            row[field] = this._parsers[i2](v2);
          } else {
            row[field] = null;
          }
        }
        return row;
      }
      addRow(row) {
        this.rows.push(row);
      }
      addFields(fieldDescriptions) {
        this.fields = fieldDescriptions;
        if (this.fields.length) {
          this._parsers = new Array(fieldDescriptions.length);
        }
        const row = {};
        for (let i2 = 0; i2 < fieldDescriptions.length; i2++) {
          const desc = fieldDescriptions[i2];
          row[desc.name] = null;
          if (this._types) {
            this._parsers[i2] = this._types.getTypeParser(desc.dataTypeID, desc.format || "text");
          } else {
            this._parsers[i2] = types2.getTypeParser(desc.dataTypeID, desc.format || "text");
          }
        }
        this._prebuiltEmptyResultObject = { ...row };
      }
    };
    module2.exports = Result2;
  }
});

// node_modules/pg/lib/query.js
var require_query = __commonJS({
  "node_modules/pg/lib/query.js"(exports2, module2) {
    "use strict";
    var { EventEmitter } = require("events");
    var Result2 = require_result();
    var utils = require_utils();
    var Query2 = class extends EventEmitter {
      constructor(config2, values, callback) {
        super();
        config2 = utils.normalizeQueryConfig(config2, values, callback);
        this.text = config2.text;
        this.values = config2.values;
        this.rows = config2.rows;
        this.types = config2.types;
        this.name = config2.name;
        this.queryMode = config2.queryMode;
        this.binary = config2.binary;
        this.portal = config2.portal || "";
        this.callback = config2.callback;
        this._rowMode = config2.rowMode;
        if (process.domain && config2.callback) {
          this.callback = process.domain.bind(config2.callback);
        }
        this._result = new Result2(this._rowMode, this.types);
        this._results = this._result;
        this._canceledDueToError = false;
      }
      requiresPreparation() {
        if (this.queryMode === "extended") {
          return true;
        }
        if (this.name) {
          return true;
        }
        if (this.rows) {
          return true;
        }
        if (!this.text) {
          return false;
        }
        if (!this.values) {
          return false;
        }
        return this.values.length > 0;
      }
      _checkForMultirow() {
        if (this._result.command) {
          if (!Array.isArray(this._results)) {
            this._results = [this._result];
          }
          this._result = new Result2(this._rowMode, this._result._types);
          this._results.push(this._result);
        }
      }
      // associates row metadata from the supplied
      // message with this query object
      // metadata used when parsing row results
      handleRowDescription(msg) {
        this._checkForMultirow();
        this._result.addFields(msg.fields);
        this._accumulateRows = this.callback || !this.listeners("row").length;
      }
      handleDataRow(msg) {
        let row;
        if (this._canceledDueToError) {
          return;
        }
        try {
          row = this._result.parseRow(msg.fields);
        } catch (err) {
          this._canceledDueToError = err;
          return;
        }
        this.emit("row", row, this._result);
        if (this._accumulateRows) {
          this._result.addRow(row);
        }
      }
      handleCommandComplete(msg, connection) {
        this._checkForMultirow();
        this._result.addCommandComplete(msg);
        if (this.rows) {
          connection.sync();
        }
      }
      // if a named prepared statement is created with empty query text
      // the backend will send an emptyQuery message but *not* a command complete message
      // since we pipeline sync immediately after execute we don't need to do anything here
      // unless we have rows specified, in which case we did not pipeline the initial sync call
      handleEmptyQuery(connection) {
        if (this.rows) {
          connection.sync();
        }
      }
      handleError(err, connection) {
        if (this._canceledDueToError) {
          err = this._canceledDueToError;
          this._canceledDueToError = false;
        }
        if (this.callback) {
          return this.callback(err);
        }
        this.emit("error", err);
      }
      handleReadyForQuery(con) {
        if (this._canceledDueToError) {
          return this.handleError(this._canceledDueToError, con);
        }
        if (this.callback) {
          try {
            this.callback(null, this._results);
          } catch (err) {
            process.nextTick(() => {
              throw err;
            });
          }
        }
        this.emit("end", this._results);
      }
      submit(connection) {
        if (typeof this.text !== "string" && typeof this.name !== "string") {
          return new Error("A query must have either text or a name. Supplying neither is unsupported.");
        }
        const previous = connection.parsedStatements[this.name];
        if (this.text && previous && this.text !== previous) {
          return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);
        }
        if (this.values && !Array.isArray(this.values)) {
          return new Error("Query values must be an array");
        }
        if (this.requiresPreparation()) {
          connection.stream.cork && connection.stream.cork();
          try {
            this.prepare(connection);
          } finally {
            connection.stream.uncork && connection.stream.uncork();
          }
        } else {
          connection.query(this.text);
        }
        return null;
      }
      hasBeenParsed(connection) {
        return this.name && connection.parsedStatements[this.name];
      }
      handlePortalSuspended(connection) {
        this._getRows(connection, this.rows);
      }
      _getRows(connection, rows) {
        connection.execute({
          portal: this.portal,
          rows
        });
        if (!rows) {
          connection.sync();
        } else {
          connection.flush();
        }
      }
      // http://developer.postgresql.org/pgdocs/postgres/protocol-flow.html#PROTOCOL-FLOW-EXT-QUERY
      prepare(connection) {
        if (!this.hasBeenParsed(connection)) {
          connection.parse({
            text: this.text,
            name: this.name,
            types: this.types
          });
        }
        try {
          connection.bind({
            portal: this.portal,
            statement: this.name,
            values: this.values,
            binary: this.binary,
            valueMapper: utils.prepareValue
          });
        } catch (err) {
          this.handleError(err, connection);
          return;
        }
        connection.describe({
          type: "P",
          name: this.portal || ""
        });
        this._getRows(connection, this.rows);
      }
      handleCopyInResponse(connection) {
        connection.sendCopyFail("No source stream defined");
      }
      handleCopyData(msg, connection) {
      }
    };
    module2.exports = Query2;
  }
});

// node_modules/pg-protocol/dist/messages.js
var require_messages = __commonJS({
  "node_modules/pg-protocol/dist/messages.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.NoticeMessage = exports2.DataRowMessage = exports2.CommandCompleteMessage = exports2.ReadyForQueryMessage = exports2.NotificationResponseMessage = exports2.BackendKeyDataMessage = exports2.AuthenticationMD5Password = exports2.ParameterStatusMessage = exports2.ParameterDescriptionMessage = exports2.RowDescriptionMessage = exports2.Field = exports2.CopyResponse = exports2.CopyDataMessage = exports2.DatabaseError = exports2.copyDone = exports2.emptyQuery = exports2.replicationStart = exports2.portalSuspended = exports2.noData = exports2.closeComplete = exports2.bindComplete = exports2.parseComplete = void 0;
    exports2.parseComplete = {
      name: "parseComplete",
      length: 5
    };
    exports2.bindComplete = {
      name: "bindComplete",
      length: 5
    };
    exports2.closeComplete = {
      name: "closeComplete",
      length: 5
    };
    exports2.noData = {
      name: "noData",
      length: 5
    };
    exports2.portalSuspended = {
      name: "portalSuspended",
      length: 5
    };
    exports2.replicationStart = {
      name: "replicationStart",
      length: 4
    };
    exports2.emptyQuery = {
      name: "emptyQuery",
      length: 4
    };
    exports2.copyDone = {
      name: "copyDone",
      length: 4
    };
    var DatabaseError2 = class extends Error {
      constructor(message, length, name17) {
        super(message);
        this.length = length;
        this.name = name17;
      }
    };
    exports2.DatabaseError = DatabaseError2;
    var CopyDataMessage = class {
      constructor(length, chunk) {
        this.length = length;
        this.chunk = chunk;
        this.name = "copyData";
      }
    };
    exports2.CopyDataMessage = CopyDataMessage;
    var CopyResponse = class {
      constructor(length, name17, binary, columnCount) {
        this.length = length;
        this.name = name17;
        this.binary = binary;
        this.columnTypes = new Array(columnCount);
      }
    };
    exports2.CopyResponse = CopyResponse;
    var Field = class {
      constructor(name17, tableID, columnID, dataTypeID, dataTypeSize, dataTypeModifier, format) {
        this.name = name17;
        this.tableID = tableID;
        this.columnID = columnID;
        this.dataTypeID = dataTypeID;
        this.dataTypeSize = dataTypeSize;
        this.dataTypeModifier = dataTypeModifier;
        this.format = format;
      }
    };
    exports2.Field = Field;
    var RowDescriptionMessage = class {
      constructor(length, fieldCount) {
        this.length = length;
        this.fieldCount = fieldCount;
        this.name = "rowDescription";
        this.fields = new Array(this.fieldCount);
      }
    };
    exports2.RowDescriptionMessage = RowDescriptionMessage;
    var ParameterDescriptionMessage = class {
      constructor(length, parameterCount) {
        this.length = length;
        this.parameterCount = parameterCount;
        this.name = "parameterDescription";
        this.dataTypeIDs = new Array(this.parameterCount);
      }
    };
    exports2.ParameterDescriptionMessage = ParameterDescriptionMessage;
    var ParameterStatusMessage = class {
      constructor(length, parameterName, parameterValue) {
        this.length = length;
        this.parameterName = parameterName;
        this.parameterValue = parameterValue;
        this.name = "parameterStatus";
      }
    };
    exports2.ParameterStatusMessage = ParameterStatusMessage;
    var AuthenticationMD5Password = class {
      constructor(length, salt) {
        this.length = length;
        this.salt = salt;
        this.name = "authenticationMD5Password";
      }
    };
    exports2.AuthenticationMD5Password = AuthenticationMD5Password;
    var BackendKeyDataMessage = class {
      constructor(length, processID, secretKey) {
        this.length = length;
        this.processID = processID;
        this.secretKey = secretKey;
        this.name = "backendKeyData";
      }
    };
    exports2.BackendKeyDataMessage = BackendKeyDataMessage;
    var NotificationResponseMessage = class {
      constructor(length, processId, channel, payload) {
        this.length = length;
        this.processId = processId;
        this.channel = channel;
        this.payload = payload;
        this.name = "notification";
      }
    };
    exports2.NotificationResponseMessage = NotificationResponseMessage;
    var ReadyForQueryMessage = class {
      constructor(length, status) {
        this.length = length;
        this.status = status;
        this.name = "readyForQuery";
      }
    };
    exports2.ReadyForQueryMessage = ReadyForQueryMessage;
    var CommandCompleteMessage = class {
      constructor(length, text2) {
        this.length = length;
        this.text = text2;
        this.name = "commandComplete";
      }
    };
    exports2.CommandCompleteMessage = CommandCompleteMessage;
    var DataRowMessage = class {
      constructor(length, fields) {
        this.length = length;
        this.fields = fields;
        this.name = "dataRow";
        this.fieldCount = fields.length;
      }
    };
    exports2.DataRowMessage = DataRowMessage;
    var NoticeMessage = class {
      constructor(length, message) {
        this.length = length;
        this.message = message;
        this.name = "notice";
      }
    };
    exports2.NoticeMessage = NoticeMessage;
  }
});

// node_modules/pg-protocol/dist/buffer-writer.js
var require_buffer_writer = __commonJS({
  "node_modules/pg-protocol/dist/buffer-writer.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.Writer = void 0;
    var Writer = class {
      constructor(size = 256) {
        this.size = size;
        this.offset = 5;
        this.headerPosition = 0;
        this.buffer = Buffer.allocUnsafe(size);
      }
      ensure(size) {
        const remaining = this.buffer.length - this.offset;
        if (remaining < size) {
          const oldBuffer = this.buffer;
          const newSize = oldBuffer.length + (oldBuffer.length >> 1) + size;
          this.buffer = Buffer.allocUnsafe(newSize);
          oldBuffer.copy(this.buffer);
        }
      }
      addInt32(num) {
        this.ensure(4);
        this.buffer[this.offset++] = num >>> 24 & 255;
        this.buffer[this.offset++] = num >>> 16 & 255;
        this.buffer[this.offset++] = num >>> 8 & 255;
        this.buffer[this.offset++] = num >>> 0 & 255;
        return this;
      }
      addInt16(num) {
        this.ensure(2);
        this.buffer[this.offset++] = num >>> 8 & 255;
        this.buffer[this.offset++] = num >>> 0 & 255;
        return this;
      }
      addCString(string4) {
        if (!string4) {
          this.ensure(1);
        } else {
          const len = Buffer.byteLength(string4);
          this.ensure(len + 1);
          this.buffer.write(string4, this.offset, "utf-8");
          this.offset += len;
        }
        this.buffer[this.offset++] = 0;
        return this;
      }
      addString(string4 = "") {
        const len = Buffer.byteLength(string4);
        this.ensure(len);
        this.buffer.write(string4, this.offset);
        this.offset += len;
        return this;
      }
      add(otherBuffer) {
        this.ensure(otherBuffer.length);
        otherBuffer.copy(this.buffer, this.offset);
        this.offset += otherBuffer.length;
        return this;
      }
      join(code) {
        if (code) {
          this.buffer[this.headerPosition] = code;
          const length = this.offset - (this.headerPosition + 1);
          this.buffer.writeInt32BE(length, this.headerPosition + 1);
        }
        return this.buffer.slice(code ? 0 : 5, this.offset);
      }
      flush(code) {
        const result = this.join(code);
        this.offset = 5;
        this.headerPosition = 0;
        this.buffer = Buffer.allocUnsafe(this.size);
        return result;
      }
    };
    exports2.Writer = Writer;
  }
});

// node_modules/pg-protocol/dist/serializer.js
var require_serializer = __commonJS({
  "node_modules/pg-protocol/dist/serializer.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.serialize = void 0;
    var buffer_writer_1 = require_buffer_writer();
    var writer = new buffer_writer_1.Writer();
    var startup = (opts) => {
      writer.addInt16(3).addInt16(0);
      for (const key of Object.keys(opts)) {
        writer.addCString(key).addCString(opts[key]);
      }
      writer.addCString("client_encoding").addCString("UTF8");
      const bodyBuffer = writer.addCString("").flush();
      const length = bodyBuffer.length + 4;
      return new buffer_writer_1.Writer().addInt32(length).add(bodyBuffer).flush();
    };
    var requestSsl = () => {
      const response = Buffer.allocUnsafe(8);
      response.writeInt32BE(8, 0);
      response.writeInt32BE(80877103, 4);
      return response;
    };
    var password = (password2) => {
      return writer.addCString(password2).flush(
        112
        /* code.startup */
      );
    };
    var sendSASLInitialResponseMessage = function(mechanism, initialResponse) {
      writer.addCString(mechanism).addInt32(Buffer.byteLength(initialResponse)).addString(initialResponse);
      return writer.flush(
        112
        /* code.startup */
      );
    };
    var sendSCRAMClientFinalMessage = function(additionalData) {
      return writer.addString(additionalData).flush(
        112
        /* code.startup */
      );
    };
    var query = (text2) => {
      return writer.addCString(text2).flush(
        81
        /* code.query */
      );
    };
    var emptyArray = [];
    var parse3 = (query2) => {
      const name17 = query2.name || "";
      if (name17.length > 63) {
        console.error("Warning! Postgres only supports 63 characters for query names.");
        console.error("You supplied %s (%s)", name17, name17.length);
        console.error("This can cause conflicts and silent errors executing queries");
      }
      const types2 = query2.types || emptyArray;
      const len = types2.length;
      const buffer = writer.addCString(name17).addCString(query2.text).addInt16(len);
      for (let i2 = 0; i2 < len; i2++) {
        buffer.addInt32(types2[i2]);
      }
      return writer.flush(
        80
        /* code.parse */
      );
    };
    var paramWriter = new buffer_writer_1.Writer();
    var writeValues = function(values, valueMapper) {
      for (let i2 = 0; i2 < values.length; i2++) {
        const mappedVal = valueMapper ? valueMapper(values[i2], i2) : values[i2];
        if (mappedVal == null) {
          writer.addInt16(
            0
            /* ParamType.STRING */
          );
          paramWriter.addInt32(-1);
        } else if (mappedVal instanceof Buffer) {
          writer.addInt16(
            1
            /* ParamType.BINARY */
          );
          paramWriter.addInt32(mappedVal.length);
          paramWriter.add(mappedVal);
        } else {
          writer.addInt16(
            0
            /* ParamType.STRING */
          );
          paramWriter.addInt32(Buffer.byteLength(mappedVal));
          paramWriter.addString(mappedVal);
        }
      }
    };
    var bind = (config2 = {}) => {
      const portal = config2.portal || "";
      const statement = config2.statement || "";
      const binary = config2.binary || false;
      const values = config2.values || emptyArray;
      const len = values.length;
      writer.addCString(portal).addCString(statement);
      writer.addInt16(len);
      writeValues(values, config2.valueMapper);
      writer.addInt16(len);
      writer.add(paramWriter.flush());
      writer.addInt16(1);
      writer.addInt16(
        binary ? 1 : 0
        /* ParamType.STRING */
      );
      return writer.flush(
        66
        /* code.bind */
      );
    };
    var emptyExecute = Buffer.from([69, 0, 0, 0, 9, 0, 0, 0, 0, 0]);
    var execute = (config2) => {
      if (!config2 || !config2.portal && !config2.rows) {
        return emptyExecute;
      }
      const portal = config2.portal || "";
      const rows = config2.rows || 0;
      const portalLength = Buffer.byteLength(portal);
      const len = 4 + portalLength + 1 + 4;
      const buff = Buffer.allocUnsafe(1 + len);
      buff[0] = 69;
      buff.writeInt32BE(len, 1);
      buff.write(portal, 5, "utf-8");
      buff[portalLength + 5] = 0;
      buff.writeUInt32BE(rows, buff.length - 4);
      return buff;
    };
    var cancel = (processID, secretKey) => {
      const buffer = Buffer.allocUnsafe(16);
      buffer.writeInt32BE(16, 0);
      buffer.writeInt16BE(1234, 4);
      buffer.writeInt16BE(5678, 6);
      buffer.writeInt32BE(processID, 8);
      buffer.writeInt32BE(secretKey, 12);
      return buffer;
    };
    var cstringMessage = (code, string4) => {
      const stringLen = Buffer.byteLength(string4);
      const len = 4 + stringLen + 1;
      const buffer = Buffer.allocUnsafe(1 + len);
      buffer[0] = code;
      buffer.writeInt32BE(len, 1);
      buffer.write(string4, 5, "utf-8");
      buffer[len] = 0;
      return buffer;
    };
    var emptyDescribePortal = writer.addCString("P").flush(
      68
      /* code.describe */
    );
    var emptyDescribeStatement = writer.addCString("S").flush(
      68
      /* code.describe */
    );
    var describe = (msg) => {
      return msg.name ? cstringMessage(68, `${msg.type}${msg.name || ""}`) : msg.type === "P" ? emptyDescribePortal : emptyDescribeStatement;
    };
    var close = (msg) => {
      const text2 = `${msg.type}${msg.name || ""}`;
      return cstringMessage(67, text2);
    };
    var copyData = (chunk) => {
      return writer.add(chunk).flush(
        100
        /* code.copyFromChunk */
      );
    };
    var copyFail = (message) => {
      return cstringMessage(102, message);
    };
    var codeOnlyBuffer = (code) => Buffer.from([code, 0, 0, 0, 4]);
    var flushBuffer = codeOnlyBuffer(
      72
      /* code.flush */
    );
    var syncBuffer = codeOnlyBuffer(
      83
      /* code.sync */
    );
    var endBuffer = codeOnlyBuffer(
      88
      /* code.end */
    );
    var copyDoneBuffer = codeOnlyBuffer(
      99
      /* code.copyDone */
    );
    var serialize = {
      startup,
      password,
      requestSsl,
      sendSASLInitialResponseMessage,
      sendSCRAMClientFinalMessage,
      query,
      parse: parse3,
      bind,
      execute,
      describe,
      close,
      flush: () => flushBuffer,
      sync: () => syncBuffer,
      end: () => endBuffer,
      copyData,
      copyDone: () => copyDoneBuffer,
      copyFail,
      cancel
    };
    exports2.serialize = serialize;
  }
});

// node_modules/pg-protocol/dist/buffer-reader.js
var require_buffer_reader = __commonJS({
  "node_modules/pg-protocol/dist/buffer-reader.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.BufferReader = void 0;
    var emptyBuffer = Buffer.allocUnsafe(0);
    var BufferReader = class {
      constructor(offset = 0) {
        this.offset = offset;
        this.buffer = emptyBuffer;
        this.encoding = "utf-8";
      }
      setBuffer(offset, buffer) {
        this.offset = offset;
        this.buffer = buffer;
      }
      int16() {
        const result = this.buffer.readInt16BE(this.offset);
        this.offset += 2;
        return result;
      }
      byte() {
        const result = this.buffer[this.offset];
        this.offset++;
        return result;
      }
      int32() {
        const result = this.buffer.readInt32BE(this.offset);
        this.offset += 4;
        return result;
      }
      uint32() {
        const result = this.buffer.readUInt32BE(this.offset);
        this.offset += 4;
        return result;
      }
      string(length) {
        const result = this.buffer.toString(this.encoding, this.offset, this.offset + length);
        this.offset += length;
        return result;
      }
      cstring() {
        const start = this.offset;
        let end = start;
        while (this.buffer[end++] !== 0) {
        }
        this.offset = end;
        return this.buffer.toString(this.encoding, start, end - 1);
      }
      bytes(length) {
        const result = this.buffer.slice(this.offset, this.offset + length);
        this.offset += length;
        return result;
      }
    };
    exports2.BufferReader = BufferReader;
  }
});

// node_modules/pg-protocol/dist/parser.js
var require_parser = __commonJS({
  "node_modules/pg-protocol/dist/parser.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.Parser = void 0;
    var messages_1 = require_messages();
    var buffer_reader_1 = require_buffer_reader();
    var CODE_LENGTH = 1;
    var LEN_LENGTH = 4;
    var HEADER_LENGTH = CODE_LENGTH + LEN_LENGTH;
    var emptyBuffer = Buffer.allocUnsafe(0);
    var Parser = class {
      constructor(opts) {
        this.buffer = emptyBuffer;
        this.bufferLength = 0;
        this.bufferOffset = 0;
        this.reader = new buffer_reader_1.BufferReader();
        if ((opts === null || opts === void 0 ? void 0 : opts.mode) === "binary") {
          throw new Error("Binary mode not supported yet");
        }
        this.mode = (opts === null || opts === void 0 ? void 0 : opts.mode) || "text";
      }
      parse(buffer, callback) {
        this.mergeBuffer(buffer);
        const bufferFullLength = this.bufferOffset + this.bufferLength;
        let offset = this.bufferOffset;
        while (offset + HEADER_LENGTH <= bufferFullLength) {
          const code = this.buffer[offset];
          const length = this.buffer.readUInt32BE(offset + CODE_LENGTH);
          const fullMessageLength = CODE_LENGTH + length;
          if (fullMessageLength + offset <= bufferFullLength) {
            const message = this.handlePacket(offset + HEADER_LENGTH, code, length, this.buffer);
            callback(message);
            offset += fullMessageLength;
          } else {
            break;
          }
        }
        if (offset === bufferFullLength) {
          this.buffer = emptyBuffer;
          this.bufferLength = 0;
          this.bufferOffset = 0;
        } else {
          this.bufferLength = bufferFullLength - offset;
          this.bufferOffset = offset;
        }
      }
      mergeBuffer(buffer) {
        if (this.bufferLength > 0) {
          const newLength = this.bufferLength + buffer.byteLength;
          const newFullLength = newLength + this.bufferOffset;
          if (newFullLength > this.buffer.byteLength) {
            let newBuffer;
            if (newLength <= this.buffer.byteLength && this.bufferOffset >= this.bufferLength) {
              newBuffer = this.buffer;
            } else {
              let newBufferLength = this.buffer.byteLength * 2;
              while (newLength >= newBufferLength) {
                newBufferLength *= 2;
              }
              newBuffer = Buffer.allocUnsafe(newBufferLength);
            }
            this.buffer.copy(newBuffer, 0, this.bufferOffset, this.bufferOffset + this.bufferLength);
            this.buffer = newBuffer;
            this.bufferOffset = 0;
          }
          buffer.copy(this.buffer, this.bufferOffset + this.bufferLength);
          this.bufferLength = newLength;
        } else {
          this.buffer = buffer;
          this.bufferOffset = 0;
          this.bufferLength = buffer.byteLength;
        }
      }
      handlePacket(offset, code, length, bytes) {
        switch (code) {
          case 50:
            return messages_1.bindComplete;
          case 49:
            return messages_1.parseComplete;
          case 51:
            return messages_1.closeComplete;
          case 110:
            return messages_1.noData;
          case 115:
            return messages_1.portalSuspended;
          case 99:
            return messages_1.copyDone;
          case 87:
            return messages_1.replicationStart;
          case 73:
            return messages_1.emptyQuery;
          case 68:
            return this.parseDataRowMessage(offset, length, bytes);
          case 67:
            return this.parseCommandCompleteMessage(offset, length, bytes);
          case 90:
            return this.parseReadyForQueryMessage(offset, length, bytes);
          case 65:
            return this.parseNotificationMessage(offset, length, bytes);
          case 82:
            return this.parseAuthenticationResponse(offset, length, bytes);
          case 83:
            return this.parseParameterStatusMessage(offset, length, bytes);
          case 75:
            return this.parseBackendKeyData(offset, length, bytes);
          case 69:
            return this.parseErrorMessage(offset, length, bytes, "error");
          case 78:
            return this.parseErrorMessage(offset, length, bytes, "notice");
          case 84:
            return this.parseRowDescriptionMessage(offset, length, bytes);
          case 116:
            return this.parseParameterDescriptionMessage(offset, length, bytes);
          case 71:
            return this.parseCopyInMessage(offset, length, bytes);
          case 72:
            return this.parseCopyOutMessage(offset, length, bytes);
          case 100:
            return this.parseCopyData(offset, length, bytes);
          default:
            return new messages_1.DatabaseError("received invalid response: " + code.toString(16), length, "error");
        }
      }
      parseReadyForQueryMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const status = this.reader.string(1);
        return new messages_1.ReadyForQueryMessage(length, status);
      }
      parseCommandCompleteMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const text2 = this.reader.cstring();
        return new messages_1.CommandCompleteMessage(length, text2);
      }
      parseCopyData(offset, length, bytes) {
        const chunk = bytes.slice(offset, offset + (length - 4));
        return new messages_1.CopyDataMessage(length, chunk);
      }
      parseCopyInMessage(offset, length, bytes) {
        return this.parseCopyMessage(offset, length, bytes, "copyInResponse");
      }
      parseCopyOutMessage(offset, length, bytes) {
        return this.parseCopyMessage(offset, length, bytes, "copyOutResponse");
      }
      parseCopyMessage(offset, length, bytes, messageName) {
        this.reader.setBuffer(offset, bytes);
        const isBinary = this.reader.byte() !== 0;
        const columnCount = this.reader.int16();
        const message = new messages_1.CopyResponse(length, messageName, isBinary, columnCount);
        for (let i2 = 0; i2 < columnCount; i2++) {
          message.columnTypes[i2] = this.reader.int16();
        }
        return message;
      }
      parseNotificationMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const processId = this.reader.int32();
        const channel = this.reader.cstring();
        const payload = this.reader.cstring();
        return new messages_1.NotificationResponseMessage(length, processId, channel, payload);
      }
      parseRowDescriptionMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const fieldCount = this.reader.int16();
        const message = new messages_1.RowDescriptionMessage(length, fieldCount);
        for (let i2 = 0; i2 < fieldCount; i2++) {
          message.fields[i2] = this.parseField();
        }
        return message;
      }
      parseField() {
        const name17 = this.reader.cstring();
        const tableID = this.reader.uint32();
        const columnID = this.reader.int16();
        const dataTypeID = this.reader.uint32();
        const dataTypeSize = this.reader.int16();
        const dataTypeModifier = this.reader.int32();
        const mode = this.reader.int16() === 0 ? "text" : "binary";
        return new messages_1.Field(name17, tableID, columnID, dataTypeID, dataTypeSize, dataTypeModifier, mode);
      }
      parseParameterDescriptionMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const parameterCount = this.reader.int16();
        const message = new messages_1.ParameterDescriptionMessage(length, parameterCount);
        for (let i2 = 0; i2 < parameterCount; i2++) {
          message.dataTypeIDs[i2] = this.reader.int32();
        }
        return message;
      }
      parseDataRowMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const fieldCount = this.reader.int16();
        const fields = new Array(fieldCount);
        for (let i2 = 0; i2 < fieldCount; i2++) {
          const len = this.reader.int32();
          fields[i2] = len === -1 ? null : this.reader.string(len);
        }
        return new messages_1.DataRowMessage(length, fields);
      }
      parseParameterStatusMessage(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const name17 = this.reader.cstring();
        const value = this.reader.cstring();
        return new messages_1.ParameterStatusMessage(length, name17, value);
      }
      parseBackendKeyData(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const processID = this.reader.int32();
        const secretKey = this.reader.int32();
        return new messages_1.BackendKeyDataMessage(length, processID, secretKey);
      }
      parseAuthenticationResponse(offset, length, bytes) {
        this.reader.setBuffer(offset, bytes);
        const code = this.reader.int32();
        const message = {
          name: "authenticationOk",
          length
        };
        switch (code) {
          case 0:
            break;
          case 3:
            if (message.length === 8) {
              message.name = "authenticationCleartextPassword";
            }
            break;
          case 5:
            if (message.length === 12) {
              message.name = "authenticationMD5Password";
              const salt = this.reader.bytes(4);
              return new messages_1.AuthenticationMD5Password(length, salt);
            }
            break;
          case 10:
            {
              message.name = "authenticationSASL";
              message.mechanisms = [];
              let mechanism;
              do {
                mechanism = this.reader.cstring();
                if (mechanism) {
                  message.mechanisms.push(mechanism);
                }
              } while (mechanism);
            }
            break;
          case 11:
            message.name = "authenticationSASLContinue";
            message.data = this.reader.string(length - 8);
            break;
          case 12:
            message.name = "authenticationSASLFinal";
            message.data = this.reader.string(length - 8);
            break;
          default:
            throw new Error("Unknown authenticationOk message type " + code);
        }
        return message;
      }
      parseErrorMessage(offset, length, bytes, name17) {
        this.reader.setBuffer(offset, bytes);
        const fields = {};
        let fieldType = this.reader.string(1);
        while (fieldType !== "\0") {
          fields[fieldType] = this.reader.cstring();
          fieldType = this.reader.string(1);
        }
        const messageValue = fields.M;
        const message = name17 === "notice" ? new messages_1.NoticeMessage(length, messageValue) : new messages_1.DatabaseError(messageValue, length, name17);
        message.severity = fields.S;
        message.code = fields.C;
        message.detail = fields.D;
        message.hint = fields.H;
        message.position = fields.P;
        message.internalPosition = fields.p;
        message.internalQuery = fields.q;
        message.where = fields.W;
        message.schema = fields.s;
        message.table = fields.t;
        message.column = fields.c;
        message.dataType = fields.d;
        message.constraint = fields.n;
        message.file = fields.F;
        message.line = fields.L;
        message.routine = fields.R;
        return message;
      }
    };
    exports2.Parser = Parser;
  }
});

// node_modules/pg-protocol/dist/index.js
var require_dist = __commonJS({
  "node_modules/pg-protocol/dist/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.DatabaseError = exports2.serialize = exports2.parse = void 0;
    var messages_1 = require_messages();
    Object.defineProperty(exports2, "DatabaseError", { enumerable: true, get: function() {
      return messages_1.DatabaseError;
    } });
    var serializer_1 = require_serializer();
    Object.defineProperty(exports2, "serialize", { enumerable: true, get: function() {
      return serializer_1.serialize;
    } });
    var parser_1 = require_parser();
    function parse3(stream, callback) {
      const parser = new parser_1.Parser();
      stream.on("data", (buffer) => parser.parse(buffer, callback));
      return new Promise((resolve2) => stream.on("end", () => resolve2()));
    }
    exports2.parse = parse3;
  }
});

// node_modules/pg-cloudflare/dist/empty.js
var require_empty = __commonJS({
  "node_modules/pg-cloudflare/dist/empty.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.default = {};
  }
});

// node_modules/pg/lib/stream.js
var require_stream = __commonJS({
  "node_modules/pg/lib/stream.js"(exports2, module2) {
    var { getStream, getSecureStream } = getStreamFuncs();
    module2.exports = {
      /**
       * Get a socket stream compatible with the current runtime environment.
       * @returns {Duplex}
       */
      getStream,
      /**
       * Get a TLS secured socket, compatible with the current environment,
       * using the socket and other settings given in `options`.
       * @returns {Duplex}
       */
      getSecureStream
    };
    function getNodejsStreamFuncs() {
      function getStream2(ssl) {
        const net = require("net");
        return new net.Socket();
      }
      function getSecureStream2(options) {
        const tls = require("tls");
        return tls.connect(options);
      }
      return {
        getStream: getStream2,
        getSecureStream: getSecureStream2
      };
    }
    function getCloudflareStreamFuncs() {
      function getStream2(ssl) {
        const { CloudflareSocket } = require_empty();
        return new CloudflareSocket(ssl);
      }
      function getSecureStream2(options) {
        options.socket.startTls(options);
        return options.socket;
      }
      return {
        getStream: getStream2,
        getSecureStream: getSecureStream2
      };
    }
    function isCloudflareRuntime() {
      if (typeof navigator === "object" && navigator !== null && typeof navigator.userAgent === "string") {
        return navigator.userAgent === "Cloudflare-Workers";
      }
      if (typeof Response === "function") {
        const resp = new Response(null, { cf: { thing: true } });
        if (typeof resp.cf === "object" && resp.cf !== null && resp.cf.thing) {
          return true;
        }
      }
      return false;
    }
    function getStreamFuncs() {
      if (isCloudflareRuntime()) {
        return getCloudflareStreamFuncs();
      }
      return getNodejsStreamFuncs();
    }
  }
});

// node_modules/pg/lib/connection.js
var require_connection = __commonJS({
  "node_modules/pg/lib/connection.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var { parse: parse3, serialize } = require_dist();
    var { getStream, getSecureStream } = require_stream();
    var flushBuffer = serialize.flush();
    var syncBuffer = serialize.sync();
    var endBuffer = serialize.end();
    var Connection2 = class extends EventEmitter {
      constructor(config2) {
        super();
        config2 = config2 || {};
        this.stream = config2.stream || getStream(config2.ssl);
        if (typeof this.stream === "function") {
          this.stream = this.stream(config2);
        }
        this._keepAlive = config2.keepAlive;
        this._keepAliveInitialDelayMillis = config2.keepAliveInitialDelayMillis;
        this.lastBuffer = false;
        this.parsedStatements = {};
        this.ssl = config2.ssl || false;
        this._ending = false;
        this._emitMessage = false;
        const self = this;
        this.on("newListener", function(eventName) {
          if (eventName === "message") {
            self._emitMessage = true;
          }
        });
      }
      connect(port, host) {
        const self = this;
        this._connecting = true;
        this.stream.setNoDelay(true);
        this.stream.connect(port, host);
        this.stream.once("connect", function() {
          if (self._keepAlive) {
            self.stream.setKeepAlive(true, self._keepAliveInitialDelayMillis);
          }
          self.emit("connect");
        });
        const reportStreamError = function(error45) {
          if (self._ending && (error45.code === "ECONNRESET" || error45.code === "EPIPE")) {
            return;
          }
          self.emit("error", error45);
        };
        this.stream.on("error", reportStreamError);
        this.stream.on("close", function() {
          self.emit("end");
        });
        if (!this.ssl) {
          return this.attachListeners(this.stream);
        }
        this.stream.once("data", function(buffer) {
          const responseCode = buffer.toString("utf8");
          switch (responseCode) {
            case "S":
              break;
            case "N":
              self.stream.end();
              return self.emit("error", new Error("The server does not support SSL connections"));
            default:
              self.stream.end();
              return self.emit("error", new Error("There was an error establishing an SSL connection"));
          }
          const options = {
            socket: self.stream
          };
          if (self.ssl !== true) {
            Object.assign(options, self.ssl);
            if ("key" in self.ssl) {
              options.key = self.ssl.key;
            }
          }
          const net = require("net");
          if (net.isIP && net.isIP(host) === 0) {
            options.servername = host;
          }
          try {
            self.stream = getSecureStream(options);
          } catch (err) {
            return self.emit("error", err);
          }
          self.attachListeners(self.stream);
          self.stream.on("error", reportStreamError);
          self.emit("sslconnect");
        });
      }
      attachListeners(stream) {
        parse3(stream, (msg) => {
          const eventName = msg.name === "error" ? "errorMessage" : msg.name;
          if (this._emitMessage) {
            this.emit("message", msg);
          }
          this.emit(eventName, msg);
        });
      }
      requestSsl() {
        this.stream.write(serialize.requestSsl());
      }
      startup(config2) {
        this.stream.write(serialize.startup(config2));
      }
      cancel(processID, secretKey) {
        this._send(serialize.cancel(processID, secretKey));
      }
      password(password) {
        this._send(serialize.password(password));
      }
      sendSASLInitialResponseMessage(mechanism, initialResponse) {
        this._send(serialize.sendSASLInitialResponseMessage(mechanism, initialResponse));
      }
      sendSCRAMClientFinalMessage(additionalData) {
        this._send(serialize.sendSCRAMClientFinalMessage(additionalData));
      }
      _send(buffer) {
        if (!this.stream.writable) {
          return false;
        }
        return this.stream.write(buffer);
      }
      query(text2) {
        this._send(serialize.query(text2));
      }
      // send parse message
      parse(query) {
        this._send(serialize.parse(query));
      }
      // send bind message
      bind(config2) {
        this._send(serialize.bind(config2));
      }
      // send execute message
      execute(config2) {
        this._send(serialize.execute(config2));
      }
      flush() {
        if (this.stream.writable) {
          this.stream.write(flushBuffer);
        }
      }
      sync() {
        this._ending = true;
        this._send(syncBuffer);
      }
      ref() {
        this.stream.ref();
      }
      unref() {
        this.stream.unref();
      }
      end() {
        this._ending = true;
        if (!this._connecting || !this.stream.writable) {
          this.stream.end();
          return;
        }
        return this.stream.write(endBuffer, () => {
          this.stream.end();
        });
      }
      close(msg) {
        this._send(serialize.close(msg));
      }
      describe(msg) {
        this._send(serialize.describe(msg));
      }
      sendCopyFromChunk(chunk) {
        this._send(serialize.copyData(chunk));
      }
      endCopyFrom() {
        this._send(serialize.copyDone());
      }
      sendCopyFail(msg) {
        this._send(serialize.copyFail(msg));
      }
    };
    module2.exports = Connection2;
  }
});

// node_modules/split2/index.js
var require_split2 = __commonJS({
  "node_modules/split2/index.js"(exports2, module2) {
    "use strict";
    var { Transform } = require("stream");
    var { StringDecoder } = require("string_decoder");
    var kLast = Symbol("last");
    var kDecoder = Symbol("decoder");
    function transform2(chunk, enc, cb) {
      let list;
      if (this.overflow) {
        const buf = this[kDecoder].write(chunk);
        list = buf.split(this.matcher);
        if (list.length === 1) return cb();
        list.shift();
        this.overflow = false;
      } else {
        this[kLast] += this[kDecoder].write(chunk);
        list = this[kLast].split(this.matcher);
      }
      this[kLast] = list.pop();
      for (let i2 = 0; i2 < list.length; i2++) {
        try {
          push(this, this.mapper(list[i2]));
        } catch (error45) {
          return cb(error45);
        }
      }
      this.overflow = this[kLast].length > this.maxLength;
      if (this.overflow && !this.skipOverflow) {
        cb(new Error("maximum buffer reached"));
        return;
      }
      cb();
    }
    function flush(cb) {
      this[kLast] += this[kDecoder].end();
      if (this[kLast]) {
        try {
          push(this, this.mapper(this[kLast]));
        } catch (error45) {
          return cb(error45);
        }
      }
      cb();
    }
    function push(self, val) {
      if (val !== void 0) {
        self.push(val);
      }
    }
    function noop2(incoming) {
      return incoming;
    }
    function split(matcher, mapper, options) {
      matcher = matcher || /\r?\n/;
      mapper = mapper || noop2;
      options = options || {};
      switch (arguments.length) {
        case 1:
          if (typeof matcher === "function") {
            mapper = matcher;
            matcher = /\r?\n/;
          } else if (typeof matcher === "object" && !(matcher instanceof RegExp) && !matcher[Symbol.split]) {
            options = matcher;
            matcher = /\r?\n/;
          }
          break;
        case 2:
          if (typeof matcher === "function") {
            options = mapper;
            mapper = matcher;
            matcher = /\r?\n/;
          } else if (typeof mapper === "object") {
            options = mapper;
            mapper = noop2;
          }
      }
      options = Object.assign({}, options);
      options.autoDestroy = true;
      options.transform = transform2;
      options.flush = flush;
      options.readableObjectMode = true;
      const stream = new Transform(options);
      stream[kLast] = "";
      stream[kDecoder] = new StringDecoder("utf8");
      stream.matcher = matcher;
      stream.mapper = mapper;
      stream.maxLength = options.maxLength;
      stream.skipOverflow = options.skipOverflow || false;
      stream.overflow = false;
      stream._destroy = function(err, cb) {
        this._writableState.errorEmitted = false;
        cb(err);
      };
      return stream;
    }
    module2.exports = split;
  }
});

// node_modules/pgpass/lib/helper.js
var require_helper = __commonJS({
  "node_modules/pgpass/lib/helper.js"(exports2, module2) {
    "use strict";
    var path = require("path");
    var Stream = require("stream").Stream;
    var split = require_split2();
    var util2 = require("util");
    var defaultPort = 5432;
    var isWin = process.platform === "win32";
    var warnStream = process.stderr;
    var S_IRWXG = 56;
    var S_IRWXO = 7;
    var S_IFMT = 61440;
    var S_IFREG = 32768;
    function isRegFile(mode) {
      return (mode & S_IFMT) == S_IFREG;
    }
    var fieldNames = ["host", "port", "database", "user", "password"];
    var nrOfFields = fieldNames.length;
    var passKey = fieldNames[nrOfFields - 1];
    function warn() {
      var isWritable = warnStream instanceof Stream && true === warnStream.writable;
      if (isWritable) {
        var args = Array.prototype.slice.call(arguments).concat("\n");
        warnStream.write(util2.format.apply(util2, args));
      }
    }
    Object.defineProperty(module2.exports, "isWin", {
      get: function() {
        return isWin;
      },
      set: function(val) {
        isWin = val;
      }
    });
    module2.exports.warnTo = function(stream) {
      var old = warnStream;
      warnStream = stream;
      return old;
    };
    module2.exports.getFileName = function(rawEnv) {
      var env = rawEnv || process.env;
      var file2 = env.PGPASSFILE || (isWin ? path.join(env.APPDATA || "./", "postgresql", "pgpass.conf") : path.join(env.HOME || "./", ".pgpass"));
      return file2;
    };
    module2.exports.usePgPass = function(stats, fname) {
      if (Object.prototype.hasOwnProperty.call(process.env, "PGPASSWORD")) {
        return false;
      }
      if (isWin) {
        return true;
      }
      fname = fname || "<unkn>";
      if (!isRegFile(stats.mode)) {
        warn('WARNING: password file "%s" is not a plain file', fname);
        return false;
      }
      if (stats.mode & (S_IRWXG | S_IRWXO)) {
        warn('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less', fname);
        return false;
      }
      return true;
    };
    var matcher = module2.exports.match = function(connInfo, entry) {
      return fieldNames.slice(0, -1).reduce(function(prev, field, idx) {
        if (idx == 1) {
          if (Number(connInfo[field] || defaultPort) === Number(entry[field])) {
            return prev && true;
          }
        }
        return prev && (entry[field] === "*" || entry[field] === connInfo[field]);
      }, true);
    };
    module2.exports.getPassword = function(connInfo, stream, cb) {
      var pass;
      var lineStream = stream.pipe(split());
      function onLine(line) {
        var entry = parseLine(line);
        if (entry && isValidEntry(entry) && matcher(connInfo, entry)) {
          pass = entry[passKey];
          lineStream.end();
        }
      }
      var onEnd = function() {
        stream.destroy();
        cb(pass);
      };
      var onErr = function(err) {
        stream.destroy();
        warn("WARNING: error on reading file: %s", err);
        cb(void 0);
      };
      stream.on("error", onErr);
      lineStream.on("data", onLine).on("end", onEnd).on("error", onErr);
    };
    var parseLine = module2.exports.parseLine = function(line) {
      if (line.length < 11 || line.match(/^\s+#/)) {
        return null;
      }
      var curChar = "";
      var prevChar = "";
      var fieldIdx = 0;
      var startIdx = 0;
      var endIdx = 0;
      var obj = {};
      var isLastField = false;
      var addToObj = function(idx, i0, i1) {
        var field = line.substring(i0, i1);
        if (!Object.hasOwnProperty.call(process.env, "PGPASS_NO_DEESCAPE")) {
          field = field.replace(/\\([:\\])/g, "$1");
        }
        obj[fieldNames[idx]] = field;
      };
      for (var i2 = 0; i2 < line.length - 1; i2 += 1) {
        curChar = line.charAt(i2 + 1);
        prevChar = line.charAt(i2);
        isLastField = fieldIdx == nrOfFields - 1;
        if (isLastField) {
          addToObj(fieldIdx, startIdx);
          break;
        }
        if (i2 >= 0 && curChar == ":" && prevChar !== "\\") {
          addToObj(fieldIdx, startIdx, i2 + 1);
          startIdx = i2 + 2;
          fieldIdx += 1;
        }
      }
      obj = Object.keys(obj).length === nrOfFields ? obj : null;
      return obj;
    };
    var isValidEntry = module2.exports.isValidEntry = function(entry) {
      var rules = {
        // host
        0: function(x2) {
          return x2.length > 0;
        },
        // port
        1: function(x2) {
          if (x2 === "*") {
            return true;
          }
          x2 = Number(x2);
          return isFinite(x2) && x2 > 0 && x2 < 9007199254740992 && Math.floor(x2) === x2;
        },
        // database
        2: function(x2) {
          return x2.length > 0;
        },
        // username
        3: function(x2) {
          return x2.length > 0;
        },
        // password
        4: function(x2) {
          return x2.length > 0;
        }
      };
      for (var idx = 0; idx < fieldNames.length; idx += 1) {
        var rule = rules[idx];
        var value = entry[fieldNames[idx]] || "";
        var res = rule(value);
        if (!res) {
          return false;
        }
      }
      return true;
    };
  }
});

// node_modules/pgpass/lib/index.js
var require_lib = __commonJS({
  "node_modules/pgpass/lib/index.js"(exports2, module2) {
    "use strict";
    var path = require("path");
    var fs = require("fs");
    var helper = require_helper();
    module2.exports = function(connInfo, cb) {
      var file2 = helper.getFileName();
      fs.stat(file2, function(err, stat) {
        if (err || !helper.usePgPass(stat, file2)) {
          return cb(void 0);
        }
        var st = fs.createReadStream(file2);
        helper.getPassword(connInfo, st, cb);
      });
    };
    module2.exports.warnTo = helper.warnTo;
  }
});

// node_modules/pg/lib/client.js
var require_client = __commonJS({
  "node_modules/pg/lib/client.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var utils = require_utils();
    var sasl = require_sasl();
    var TypeOverrides2 = require_type_overrides();
    var ConnectionParameters = require_connection_parameters();
    var Query2 = require_query();
    var defaults2 = require_defaults();
    var Connection2 = require_connection();
    var crypto = require_utils2();
    var Client2 = class extends EventEmitter {
      constructor(config2) {
        super();
        this.connectionParameters = new ConnectionParameters(config2);
        this.user = this.connectionParameters.user;
        this.database = this.connectionParameters.database;
        this.port = this.connectionParameters.port;
        this.host = this.connectionParameters.host;
        Object.defineProperty(this, "password", {
          configurable: true,
          enumerable: false,
          writable: true,
          value: this.connectionParameters.password
        });
        this.replication = this.connectionParameters.replication;
        const c2 = config2 || {};
        this._Promise = c2.Promise || global.Promise;
        this._types = new TypeOverrides2(c2.types);
        this._ending = false;
        this._ended = false;
        this._connecting = false;
        this._connected = false;
        this._connectionError = false;
        this._queryable = true;
        this.enableChannelBinding = Boolean(c2.enableChannelBinding);
        this.connection = c2.connection || new Connection2({
          stream: c2.stream,
          ssl: this.connectionParameters.ssl,
          keepAlive: c2.keepAlive || false,
          keepAliveInitialDelayMillis: c2.keepAliveInitialDelayMillis || 0,
          encoding: this.connectionParameters.client_encoding || "utf8"
        });
        this.queryQueue = [];
        this.binary = c2.binary || defaults2.binary;
        this.processID = null;
        this.secretKey = null;
        this.ssl = this.connectionParameters.ssl || false;
        if (this.ssl && this.ssl.key) {
          Object.defineProperty(this.ssl, "key", {
            enumerable: false
          });
        }
        this._connectionTimeoutMillis = c2.connectionTimeoutMillis || 0;
      }
      _errorAllQueries(err) {
        const enqueueError = (query) => {
          process.nextTick(() => {
            query.handleError(err, this.connection);
          });
        };
        if (this.activeQuery) {
          enqueueError(this.activeQuery);
          this.activeQuery = null;
        }
        this.queryQueue.forEach(enqueueError);
        this.queryQueue.length = 0;
      }
      _connect(callback) {
        const self = this;
        const con = this.connection;
        this._connectionCallback = callback;
        if (this._connecting || this._connected) {
          const err = new Error("Client has already been connected. You cannot reuse a client.");
          process.nextTick(() => {
            callback(err);
          });
          return;
        }
        this._connecting = true;
        if (this._connectionTimeoutMillis > 0) {
          this.connectionTimeoutHandle = setTimeout(() => {
            con._ending = true;
            con.stream.destroy(new Error("timeout expired"));
          }, this._connectionTimeoutMillis);
          if (this.connectionTimeoutHandle.unref) {
            this.connectionTimeoutHandle.unref();
          }
        }
        if (this.host && this.host.indexOf("/") === 0) {
          con.connect(this.host + "/.s.PGSQL." + this.port);
        } else {
          con.connect(this.port, this.host);
        }
        con.on("connect", function() {
          if (self.ssl) {
            con.requestSsl();
          } else {
            con.startup(self.getStartupConf());
          }
        });
        con.on("sslconnect", function() {
          con.startup(self.getStartupConf());
        });
        this._attachListeners(con);
        con.once("end", () => {
          const error45 = this._ending ? new Error("Connection terminated") : new Error("Connection terminated unexpectedly");
          clearTimeout(this.connectionTimeoutHandle);
          this._errorAllQueries(error45);
          this._ended = true;
          if (!this._ending) {
            if (this._connecting && !this._connectionError) {
              if (this._connectionCallback) {
                this._connectionCallback(error45);
              } else {
                this._handleErrorEvent(error45);
              }
            } else if (!this._connectionError) {
              this._handleErrorEvent(error45);
            }
          }
          process.nextTick(() => {
            this.emit("end");
          });
        });
      }
      connect(callback) {
        if (callback) {
          this._connect(callback);
          return;
        }
        return new this._Promise((resolve2, reject) => {
          this._connect((error45) => {
            if (error45) {
              reject(error45);
            } else {
              resolve2();
            }
          });
        });
      }
      _attachListeners(con) {
        con.on("authenticationCleartextPassword", this._handleAuthCleartextPassword.bind(this));
        con.on("authenticationMD5Password", this._handleAuthMD5Password.bind(this));
        con.on("authenticationSASL", this._handleAuthSASL.bind(this));
        con.on("authenticationSASLContinue", this._handleAuthSASLContinue.bind(this));
        con.on("authenticationSASLFinal", this._handleAuthSASLFinal.bind(this));
        con.on("backendKeyData", this._handleBackendKeyData.bind(this));
        con.on("error", this._handleErrorEvent.bind(this));
        con.on("errorMessage", this._handleErrorMessage.bind(this));
        con.on("readyForQuery", this._handleReadyForQuery.bind(this));
        con.on("notice", this._handleNotice.bind(this));
        con.on("rowDescription", this._handleRowDescription.bind(this));
        con.on("dataRow", this._handleDataRow.bind(this));
        con.on("portalSuspended", this._handlePortalSuspended.bind(this));
        con.on("emptyQuery", this._handleEmptyQuery.bind(this));
        con.on("commandComplete", this._handleCommandComplete.bind(this));
        con.on("parseComplete", this._handleParseComplete.bind(this));
        con.on("copyInResponse", this._handleCopyInResponse.bind(this));
        con.on("copyData", this._handleCopyData.bind(this));
        con.on("notification", this._handleNotification.bind(this));
      }
      // TODO(bmc): deprecate pgpass "built in" integration since this.password can be a function
      // it can be supplied by the user if required - this is a breaking change!
      _checkPgPass(cb) {
        const con = this.connection;
        if (typeof this.password === "function") {
          this._Promise.resolve().then(() => this.password()).then((pass) => {
            if (pass !== void 0) {
              if (typeof pass !== "string") {
                con.emit("error", new TypeError("Password must be a string"));
                return;
              }
              this.connectionParameters.password = this.password = pass;
            } else {
              this.connectionParameters.password = this.password = null;
            }
            cb();
          }).catch((err) => {
            con.emit("error", err);
          });
        } else if (this.password !== null) {
          cb();
        } else {
          try {
            const pgPass = require_lib();
            pgPass(this.connectionParameters, (pass) => {
              if (void 0 !== pass) {
                this.connectionParameters.password = this.password = pass;
              }
              cb();
            });
          } catch (e) {
            this.emit("error", e);
          }
        }
      }
      _handleAuthCleartextPassword(msg) {
        this._checkPgPass(() => {
          this.connection.password(this.password);
        });
      }
      _handleAuthMD5Password(msg) {
        this._checkPgPass(async () => {
          try {
            const hashedPassword = await crypto.postgresMd5PasswordHash(this.user, this.password, msg.salt);
            this.connection.password(hashedPassword);
          } catch (e) {
            this.emit("error", e);
          }
        });
      }
      _handleAuthSASL(msg) {
        this._checkPgPass(() => {
          try {
            this.saslSession = sasl.startSession(msg.mechanisms, this.enableChannelBinding && this.connection.stream);
            this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism, this.saslSession.response);
          } catch (err) {
            this.connection.emit("error", err);
          }
        });
      }
      async _handleAuthSASLContinue(msg) {
        try {
          await sasl.continueSession(
            this.saslSession,
            this.password,
            msg.data,
            this.enableChannelBinding && this.connection.stream
          );
          this.connection.sendSCRAMClientFinalMessage(this.saslSession.response);
        } catch (err) {
          this.connection.emit("error", err);
        }
      }
      _handleAuthSASLFinal(msg) {
        try {
          sasl.finalizeSession(this.saslSession, msg.data);
          this.saslSession = null;
        } catch (err) {
          this.connection.emit("error", err);
        }
      }
      _handleBackendKeyData(msg) {
        this.processID = msg.processID;
        this.secretKey = msg.secretKey;
      }
      _handleReadyForQuery(msg) {
        if (this._connecting) {
          this._connecting = false;
          this._connected = true;
          clearTimeout(this.connectionTimeoutHandle);
          if (this._connectionCallback) {
            this._connectionCallback(null, this);
            this._connectionCallback = null;
          }
          this.emit("connect");
        }
        const { activeQuery } = this;
        this.activeQuery = null;
        this.readyForQuery = true;
        if (activeQuery) {
          activeQuery.handleReadyForQuery(this.connection);
        }
        this._pulseQueryQueue();
      }
      // if we receive an error event or error message
      // during the connection process we handle it here
      _handleErrorWhileConnecting(err) {
        if (this._connectionError) {
          return;
        }
        this._connectionError = true;
        clearTimeout(this.connectionTimeoutHandle);
        if (this._connectionCallback) {
          return this._connectionCallback(err);
        }
        this.emit("error", err);
      }
      // if we're connected and we receive an error event from the connection
      // this means the socket is dead - do a hard abort of all queries and emit
      // the socket error on the client as well
      _handleErrorEvent(err) {
        if (this._connecting) {
          return this._handleErrorWhileConnecting(err);
        }
        this._queryable = false;
        this._errorAllQueries(err);
        this.emit("error", err);
      }
      // handle error messages from the postgres backend
      _handleErrorMessage(msg) {
        if (this._connecting) {
          return this._handleErrorWhileConnecting(msg);
        }
        const activeQuery = this.activeQuery;
        if (!activeQuery) {
          this._handleErrorEvent(msg);
          return;
        }
        this.activeQuery = null;
        activeQuery.handleError(msg, this.connection);
      }
      _handleRowDescription(msg) {
        this.activeQuery.handleRowDescription(msg);
      }
      _handleDataRow(msg) {
        this.activeQuery.handleDataRow(msg);
      }
      _handlePortalSuspended(msg) {
        this.activeQuery.handlePortalSuspended(this.connection);
      }
      _handleEmptyQuery(msg) {
        this.activeQuery.handleEmptyQuery(this.connection);
      }
      _handleCommandComplete(msg) {
        if (this.activeQuery == null) {
          const error45 = new Error("Received unexpected commandComplete message from backend.");
          this._handleErrorEvent(error45);
          return;
        }
        this.activeQuery.handleCommandComplete(msg, this.connection);
      }
      _handleParseComplete() {
        if (this.activeQuery == null) {
          const error45 = new Error("Received unexpected parseComplete message from backend.");
          this._handleErrorEvent(error45);
          return;
        }
        if (this.activeQuery.name) {
          this.connection.parsedStatements[this.activeQuery.name] = this.activeQuery.text;
        }
      }
      _handleCopyInResponse(msg) {
        this.activeQuery.handleCopyInResponse(this.connection);
      }
      _handleCopyData(msg) {
        this.activeQuery.handleCopyData(msg, this.connection);
      }
      _handleNotification(msg) {
        this.emit("notification", msg);
      }
      _handleNotice(msg) {
        this.emit("notice", msg);
      }
      getStartupConf() {
        const params = this.connectionParameters;
        const data = {
          user: params.user,
          database: params.database
        };
        const appName = params.application_name || params.fallback_application_name;
        if (appName) {
          data.application_name = appName;
        }
        if (params.replication) {
          data.replication = "" + params.replication;
        }
        if (params.statement_timeout) {
          data.statement_timeout = String(parseInt(params.statement_timeout, 10));
        }
        if (params.lock_timeout) {
          data.lock_timeout = String(parseInt(params.lock_timeout, 10));
        }
        if (params.idle_in_transaction_session_timeout) {
          data.idle_in_transaction_session_timeout = String(parseInt(params.idle_in_transaction_session_timeout, 10));
        }
        if (params.options) {
          data.options = params.options;
        }
        return data;
      }
      cancel(client, query) {
        if (client.activeQuery === query) {
          const con = this.connection;
          if (this.host && this.host.indexOf("/") === 0) {
            con.connect(this.host + "/.s.PGSQL." + this.port);
          } else {
            con.connect(this.port, this.host);
          }
          con.on("connect", function() {
            con.cancel(client.processID, client.secretKey);
          });
        } else if (client.queryQueue.indexOf(query) !== -1) {
          client.queryQueue.splice(client.queryQueue.indexOf(query), 1);
        }
      }
      setTypeParser(oid, format, parseFn) {
        return this._types.setTypeParser(oid, format, parseFn);
      }
      getTypeParser(oid, format) {
        return this._types.getTypeParser(oid, format);
      }
      // escapeIdentifier and escapeLiteral moved to utility functions & exported
      // on PG
      // re-exported here for backwards compatibility
      escapeIdentifier(str) {
        return utils.escapeIdentifier(str);
      }
      escapeLiteral(str) {
        return utils.escapeLiteral(str);
      }
      _pulseQueryQueue() {
        if (this.readyForQuery === true) {
          this.activeQuery = this.queryQueue.shift();
          if (this.activeQuery) {
            this.readyForQuery = false;
            this.hasExecuted = true;
            const queryError = this.activeQuery.submit(this.connection);
            if (queryError) {
              process.nextTick(() => {
                this.activeQuery.handleError(queryError, this.connection);
                this.readyForQuery = true;
                this._pulseQueryQueue();
              });
            }
          } else if (this.hasExecuted) {
            this.activeQuery = null;
            this.emit("drain");
          }
        }
      }
      query(config2, values, callback) {
        let query;
        let result;
        let readTimeout;
        let readTimeoutTimer;
        let queryCallback;
        if (config2 === null || config2 === void 0) {
          throw new TypeError("Client was passed a null or undefined query");
        } else if (typeof config2.submit === "function") {
          readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
          result = query = config2;
          if (typeof values === "function") {
            query.callback = query.callback || values;
          }
        } else {
          readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
          query = new Query2(config2, values, callback);
          if (!query.callback) {
            result = new this._Promise((resolve2, reject) => {
              query.callback = (err, res) => err ? reject(err) : resolve2(res);
            }).catch((err) => {
              Error.captureStackTrace(err);
              throw err;
            });
          }
        }
        if (readTimeout) {
          queryCallback = query.callback;
          readTimeoutTimer = setTimeout(() => {
            const error45 = new Error("Query read timeout");
            process.nextTick(() => {
              query.handleError(error45, this.connection);
            });
            queryCallback(error45);
            query.callback = () => {
            };
            const index = this.queryQueue.indexOf(query);
            if (index > -1) {
              this.queryQueue.splice(index, 1);
            }
            this._pulseQueryQueue();
          }, readTimeout);
          query.callback = (err, res) => {
            clearTimeout(readTimeoutTimer);
            queryCallback(err, res);
          };
        }
        if (this.binary && !query.binary) {
          query.binary = true;
        }
        if (query._result && !query._result._types) {
          query._result._types = this._types;
        }
        if (!this._queryable) {
          process.nextTick(() => {
            query.handleError(new Error("Client has encountered a connection error and is not queryable"), this.connection);
          });
          return result;
        }
        if (this._ending) {
          process.nextTick(() => {
            query.handleError(new Error("Client was closed and is not queryable"), this.connection);
          });
          return result;
        }
        this.queryQueue.push(query);
        this._pulseQueryQueue();
        return result;
      }
      ref() {
        this.connection.ref();
      }
      unref() {
        this.connection.unref();
      }
      end(cb) {
        this._ending = true;
        if (!this.connection._connecting || this._ended) {
          if (cb) {
            cb();
          } else {
            return this._Promise.resolve();
          }
        }
        if (this.activeQuery || !this._queryable) {
          this.connection.stream.destroy();
        } else {
          this.connection.end();
        }
        if (cb) {
          this.connection.once("end", cb);
        } else {
          return new this._Promise((resolve2) => {
            this.connection.once("end", resolve2);
          });
        }
      }
    };
    Client2.Query = Query2;
    module2.exports = Client2;
  }
});

// node_modules/pg-pool/index.js
var require_pg_pool = __commonJS({
  "node_modules/pg-pool/index.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var NOOP = function() {
    };
    var removeWhere = (list, predicate) => {
      const i2 = list.findIndex(predicate);
      return i2 === -1 ? void 0 : list.splice(i2, 1)[0];
    };
    var IdleItem = class {
      constructor(client, idleListener, timeoutId) {
        this.client = client;
        this.idleListener = idleListener;
        this.timeoutId = timeoutId;
      }
    };
    var PendingItem = class {
      constructor(callback) {
        this.callback = callback;
      }
    };
    function throwOnDoubleRelease() {
      throw new Error("Release called on client which has already been released to the pool.");
    }
    function promisify(Promise2, callback) {
      if (callback) {
        return { callback, result: void 0 };
      }
      let rej;
      let res;
      const cb = function(err, client) {
        err ? rej(err) : res(client);
      };
      const result = new Promise2(function(resolve2, reject) {
        res = resolve2;
        rej = reject;
      }).catch((err) => {
        Error.captureStackTrace(err);
        throw err;
      });
      return { callback: cb, result };
    }
    function makeIdleListener(pool2, client) {
      return function idleListener(err) {
        err.client = client;
        client.removeListener("error", idleListener);
        client.on("error", () => {
          pool2.log("additional client error after disconnection due to error", err);
        });
        pool2._remove(client);
        pool2.emit("error", err, client);
      };
    }
    var Pool2 = class extends EventEmitter {
      constructor(options, Client2) {
        super();
        this.options = Object.assign({}, options);
        if (options != null && "password" in options) {
          Object.defineProperty(this.options, "password", {
            configurable: true,
            enumerable: false,
            writable: true,
            value: options.password
          });
        }
        if (options != null && options.ssl && options.ssl.key) {
          Object.defineProperty(this.options.ssl, "key", {
            enumerable: false
          });
        }
        this.options.max = this.options.max || this.options.poolSize || 10;
        this.options.min = this.options.min || 0;
        this.options.maxUses = this.options.maxUses || Infinity;
        this.options.allowExitOnIdle = this.options.allowExitOnIdle || false;
        this.options.maxLifetimeSeconds = this.options.maxLifetimeSeconds || 0;
        this.log = this.options.log || function() {
        };
        this.Client = this.options.Client || Client2 || require_lib2().Client;
        this.Promise = this.options.Promise || global.Promise;
        if (typeof this.options.idleTimeoutMillis === "undefined") {
          this.options.idleTimeoutMillis = 1e4;
        }
        this._clients = [];
        this._idle = [];
        this._expired = /* @__PURE__ */ new WeakSet();
        this._pendingQueue = [];
        this._endCallback = void 0;
        this.ending = false;
        this.ended = false;
      }
      _isFull() {
        return this._clients.length >= this.options.max;
      }
      _isAboveMin() {
        return this._clients.length > this.options.min;
      }
      _pulseQueue() {
        this.log("pulse queue");
        if (this.ended) {
          this.log("pulse queue ended");
          return;
        }
        if (this.ending) {
          this.log("pulse queue on ending");
          if (this._idle.length) {
            this._idle.slice().map((item) => {
              this._remove(item.client);
            });
          }
          if (!this._clients.length) {
            this.ended = true;
            this._endCallback();
          }
          return;
        }
        if (!this._pendingQueue.length) {
          this.log("no queued requests");
          return;
        }
        if (!this._idle.length && this._isFull()) {
          return;
        }
        const pendingItem = this._pendingQueue.shift();
        if (this._idle.length) {
          const idleItem = this._idle.pop();
          clearTimeout(idleItem.timeoutId);
          const client = idleItem.client;
          client.ref && client.ref();
          const idleListener = idleItem.idleListener;
          return this._acquireClient(client, pendingItem, idleListener, false);
        }
        if (!this._isFull()) {
          return this.newClient(pendingItem);
        }
        throw new Error("unexpected condition");
      }
      _remove(client, callback) {
        const removed = removeWhere(this._idle, (item) => item.client === client);
        if (removed !== void 0) {
          clearTimeout(removed.timeoutId);
        }
        this._clients = this._clients.filter((c2) => c2 !== client);
        const context = this;
        client.end(() => {
          context.emit("remove", client);
          if (typeof callback === "function") {
            callback();
          }
        });
      }
      connect(cb) {
        if (this.ending) {
          const err = new Error("Cannot use a pool after calling end on the pool");
          return cb ? cb(err) : this.Promise.reject(err);
        }
        const response = promisify(this.Promise, cb);
        const result = response.result;
        if (this._isFull() || this._idle.length) {
          if (this._idle.length) {
            process.nextTick(() => this._pulseQueue());
          }
          if (!this.options.connectionTimeoutMillis) {
            this._pendingQueue.push(new PendingItem(response.callback));
            return result;
          }
          const queueCallback = (err, res, done) => {
            clearTimeout(tid);
            response.callback(err, res, done);
          };
          const pendingItem = new PendingItem(queueCallback);
          const tid = setTimeout(() => {
            removeWhere(this._pendingQueue, (i2) => i2.callback === queueCallback);
            pendingItem.timedOut = true;
            response.callback(new Error("timeout exceeded when trying to connect"));
          }, this.options.connectionTimeoutMillis);
          if (tid.unref) {
            tid.unref();
          }
          this._pendingQueue.push(pendingItem);
          return result;
        }
        this.newClient(new PendingItem(response.callback));
        return result;
      }
      newClient(pendingItem) {
        const client = new this.Client(this.options);
        this._clients.push(client);
        const idleListener = makeIdleListener(this, client);
        this.log("checking client timeout");
        let tid;
        let timeoutHit = false;
        if (this.options.connectionTimeoutMillis) {
          tid = setTimeout(() => {
            this.log("ending client due to timeout");
            timeoutHit = true;
            client.connection ? client.connection.stream.destroy() : client.end();
          }, this.options.connectionTimeoutMillis);
        }
        this.log("connecting new client");
        client.connect((err) => {
          if (tid) {
            clearTimeout(tid);
          }
          client.on("error", idleListener);
          if (err) {
            this.log("client failed to connect", err);
            this._clients = this._clients.filter((c2) => c2 !== client);
            if (timeoutHit) {
              err = new Error("Connection terminated due to connection timeout", { cause: err });
            }
            this._pulseQueue();
            if (!pendingItem.timedOut) {
              pendingItem.callback(err, void 0, NOOP);
            }
          } else {
            this.log("new client connected");
            if (this.options.maxLifetimeSeconds !== 0) {
              const maxLifetimeTimeout = setTimeout(() => {
                this.log("ending client due to expired lifetime");
                this._expired.add(client);
                const idleIndex = this._idle.findIndex((idleItem) => idleItem.client === client);
                if (idleIndex !== -1) {
                  this._acquireClient(
                    client,
                    new PendingItem((err2, client2, clientRelease) => clientRelease()),
                    idleListener,
                    false
                  );
                }
              }, this.options.maxLifetimeSeconds * 1e3);
              maxLifetimeTimeout.unref();
              client.once("end", () => clearTimeout(maxLifetimeTimeout));
            }
            return this._acquireClient(client, pendingItem, idleListener, true);
          }
        });
      }
      // acquire a client for a pending work item
      _acquireClient(client, pendingItem, idleListener, isNew) {
        if (isNew) {
          this.emit("connect", client);
        }
        this.emit("acquire", client);
        client.release = this._releaseOnce(client, idleListener);
        client.removeListener("error", idleListener);
        if (!pendingItem.timedOut) {
          if (isNew && this.options.verify) {
            this.options.verify(client, (err) => {
              if (err) {
                client.release(err);
                return pendingItem.callback(err, void 0, NOOP);
              }
              pendingItem.callback(void 0, client, client.release);
            });
          } else {
            pendingItem.callback(void 0, client, client.release);
          }
        } else {
          if (isNew && this.options.verify) {
            this.options.verify(client, client.release);
          } else {
            client.release();
          }
        }
      }
      // returns a function that wraps _release and throws if called more than once
      _releaseOnce(client, idleListener) {
        let released = false;
        return (err) => {
          if (released) {
            throwOnDoubleRelease();
          }
          released = true;
          this._release(client, idleListener, err);
        };
      }
      // release a client back to the poll, include an error
      // to remove it from the pool
      _release(client, idleListener, err) {
        client.on("error", idleListener);
        client._poolUseCount = (client._poolUseCount || 0) + 1;
        this.emit("release", err, client);
        if (err || this.ending || !client._queryable || client._ending || client._poolUseCount >= this.options.maxUses) {
          if (client._poolUseCount >= this.options.maxUses) {
            this.log("remove expended client");
          }
          return this._remove(client, this._pulseQueue.bind(this));
        }
        const isExpired = this._expired.has(client);
        if (isExpired) {
          this.log("remove expired client");
          this._expired.delete(client);
          return this._remove(client, this._pulseQueue.bind(this));
        }
        let tid;
        if (this.options.idleTimeoutMillis && this._isAboveMin()) {
          tid = setTimeout(() => {
            this.log("remove idle client");
            this._remove(client, this._pulseQueue.bind(this));
          }, this.options.idleTimeoutMillis);
          if (this.options.allowExitOnIdle) {
            tid.unref();
          }
        }
        if (this.options.allowExitOnIdle) {
          client.unref();
        }
        this._idle.push(new IdleItem(client, idleListener, tid));
        this._pulseQueue();
      }
      query(text2, values, cb) {
        if (typeof text2 === "function") {
          const response2 = promisify(this.Promise, text2);
          setImmediate(function() {
            return response2.callback(new Error("Passing a function as the first parameter to pool.query is not supported"));
          });
          return response2.result;
        }
        if (typeof values === "function") {
          cb = values;
          values = void 0;
        }
        const response = promisify(this.Promise, cb);
        cb = response.callback;
        this.connect((err, client) => {
          if (err) {
            return cb(err);
          }
          let clientReleased = false;
          const onError = (err2) => {
            if (clientReleased) {
              return;
            }
            clientReleased = true;
            client.release(err2);
            cb(err2);
          };
          client.once("error", onError);
          this.log("dispatching query");
          try {
            client.query(text2, values, (err2, res) => {
              this.log("query dispatched");
              client.removeListener("error", onError);
              if (clientReleased) {
                return;
              }
              clientReleased = true;
              client.release(err2);
              if (err2) {
                return cb(err2);
              }
              return cb(void 0, res);
            });
          } catch (err2) {
            client.release(err2);
            return cb(err2);
          }
        });
        return response.result;
      }
      end(cb) {
        this.log("ending");
        if (this.ending) {
          const err = new Error("Called end on pool more than once");
          return cb ? cb(err) : this.Promise.reject(err);
        }
        this.ending = true;
        const promised = promisify(this.Promise, cb);
        this._endCallback = promised.callback;
        this._pulseQueue();
        return promised.result;
      }
      get waitingCount() {
        return this._pendingQueue.length;
      }
      get idleCount() {
        return this._idle.length;
      }
      get expiredCount() {
        return this._clients.reduce((acc, client) => acc + (this._expired.has(client) ? 1 : 0), 0);
      }
      get totalCount() {
        return this._clients.length;
      }
    };
    module2.exports = Pool2;
  }
});

// node_modules/pg/lib/native/query.js
var require_query2 = __commonJS({
  "node_modules/pg/lib/native/query.js"(exports2, module2) {
    "use strict";
    var EventEmitter = require("events").EventEmitter;
    var util2 = require("util");
    var utils = require_utils();
    var NativeQuery = module2.exports = function(config2, values, callback) {
      EventEmitter.call(this);
      config2 = utils.normalizeQueryConfig(config2, values, callback);
      this.text = config2.text;
      this.values = config2.values;
      this.name = config2.name;
      this.queryMode = config2.queryMode;
      this.callback = config2.callback;
      this.state = "new";
      this._arrayMode = config2.rowMode === "array";
      this._emitRowEvents = false;
      this.on(
        "newListener",
        function(event) {
          if (event === "row") this._emitRowEvents = true;
        }.bind(this)
      );
    };
    util2.inherits(NativeQuery, EventEmitter);
    var errorFieldMap = {
      sqlState: "code",
      statementPosition: "position",
      messagePrimary: "message",
      context: "where",
      schemaName: "schema",
      tableName: "table",
      columnName: "column",
      dataTypeName: "dataType",
      constraintName: "constraint",
      sourceFile: "file",
      sourceLine: "line",
      sourceFunction: "routine"
    };
    NativeQuery.prototype.handleError = function(err) {
      const fields = this.native.pq.resultErrorFields();
      if (fields) {
        for (const key in fields) {
          const normalizedFieldName = errorFieldMap[key] || key;
          err[normalizedFieldName] = fields[key];
        }
      }
      if (this.callback) {
        this.callback(err);
      } else {
        this.emit("error", err);
      }
      this.state = "error";
    };
    NativeQuery.prototype.then = function(onSuccess, onFailure) {
      return this._getPromise().then(onSuccess, onFailure);
    };
    NativeQuery.prototype.catch = function(callback) {
      return this._getPromise().catch(callback);
    };
    NativeQuery.prototype._getPromise = function() {
      if (this._promise) return this._promise;
      this._promise = new Promise(
        function(resolve2, reject) {
          this._once("end", resolve2);
          this._once("error", reject);
        }.bind(this)
      );
      return this._promise;
    };
    NativeQuery.prototype.submit = function(client) {
      this.state = "running";
      const self = this;
      this.native = client.native;
      client.native.arrayMode = this._arrayMode;
      let after = function(err, rows, results) {
        client.native.arrayMode = false;
        setImmediate(function() {
          self.emit("_done");
        });
        if (err) {
          return self.handleError(err);
        }
        if (self._emitRowEvents) {
          if (results.length > 1) {
            rows.forEach((rowOfRows, i2) => {
              rowOfRows.forEach((row) => {
                self.emit("row", row, results[i2]);
              });
            });
          } else {
            rows.forEach(function(row) {
              self.emit("row", row, results);
            });
          }
        }
        self.state = "end";
        self.emit("end", results);
        if (self.callback) {
          self.callback(null, results);
        }
      };
      if (process.domain) {
        after = process.domain.bind(after);
      }
      if (this.name) {
        if (this.name.length > 63) {
          console.error("Warning! Postgres only supports 63 characters for query names.");
          console.error("You supplied %s (%s)", this.name, this.name.length);
          console.error("This can cause conflicts and silent errors executing queries");
        }
        const values = (this.values || []).map(utils.prepareValue);
        if (client.namedQueries[this.name]) {
          if (this.text && client.namedQueries[this.name] !== this.text) {
            const err = new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);
            return after(err);
          }
          return client.native.execute(this.name, values, after);
        }
        return client.native.prepare(this.name, this.text, values.length, function(err) {
          if (err) return after(err);
          client.namedQueries[self.name] = self.text;
          return self.native.execute(self.name, values, after);
        });
      } else if (this.values) {
        if (!Array.isArray(this.values)) {
          const err = new Error("Query values must be an array");
          return after(err);
        }
        const vals = this.values.map(utils.prepareValue);
        client.native.query(this.text, vals, after);
      } else if (this.queryMode === "extended") {
        client.native.query(this.text, [], after);
      } else {
        client.native.query(this.text, after);
      }
    };
  }
});

// node_modules/pg/lib/native/client.js
var require_client2 = __commonJS({
  "node_modules/pg/lib/native/client.js"(exports2, module2) {
    "use strict";
    var Native;
    try {
      Native = require("pg-native");
    } catch (e) {
      throw e;
    }
    var TypeOverrides2 = require_type_overrides();
    var EventEmitter = require("events").EventEmitter;
    var util2 = require("util");
    var ConnectionParameters = require_connection_parameters();
    var NativeQuery = require_query2();
    var Client2 = module2.exports = function(config2) {
      EventEmitter.call(this);
      config2 = config2 || {};
      this._Promise = config2.Promise || global.Promise;
      this._types = new TypeOverrides2(config2.types);
      this.native = new Native({
        types: this._types
      });
      this._queryQueue = [];
      this._ending = false;
      this._connecting = false;
      this._connected = false;
      this._queryable = true;
      const cp = this.connectionParameters = new ConnectionParameters(config2);
      if (config2.nativeConnectionString) cp.nativeConnectionString = config2.nativeConnectionString;
      this.user = cp.user;
      Object.defineProperty(this, "password", {
        configurable: true,
        enumerable: false,
        writable: true,
        value: cp.password
      });
      this.database = cp.database;
      this.host = cp.host;
      this.port = cp.port;
      this.namedQueries = {};
    };
    Client2.Query = NativeQuery;
    util2.inherits(Client2, EventEmitter);
    Client2.prototype._errorAllQueries = function(err) {
      const enqueueError = (query) => {
        process.nextTick(() => {
          query.native = this.native;
          query.handleError(err);
        });
      };
      if (this._hasActiveQuery()) {
        enqueueError(this._activeQuery);
        this._activeQuery = null;
      }
      this._queryQueue.forEach(enqueueError);
      this._queryQueue.length = 0;
    };
    Client2.prototype._connect = function(cb) {
      const self = this;
      if (this._connecting) {
        process.nextTick(() => cb(new Error("Client has already been connected. You cannot reuse a client.")));
        return;
      }
      this._connecting = true;
      this.connectionParameters.getLibpqConnectionString(function(err, conString) {
        if (self.connectionParameters.nativeConnectionString) conString = self.connectionParameters.nativeConnectionString;
        if (err) return cb(err);
        self.native.connect(conString, function(err2) {
          if (err2) {
            self.native.end();
            return cb(err2);
          }
          self._connected = true;
          self.native.on("error", function(err3) {
            self._queryable = false;
            self._errorAllQueries(err3);
            self.emit("error", err3);
          });
          self.native.on("notification", function(msg) {
            self.emit("notification", {
              channel: msg.relname,
              payload: msg.extra
            });
          });
          self.emit("connect");
          self._pulseQueryQueue(true);
          cb();
        });
      });
    };
    Client2.prototype.connect = function(callback) {
      if (callback) {
        this._connect(callback);
        return;
      }
      return new this._Promise((resolve2, reject) => {
        this._connect((error45) => {
          if (error45) {
            reject(error45);
          } else {
            resolve2();
          }
        });
      });
    };
    Client2.prototype.query = function(config2, values, callback) {
      let query;
      let result;
      let readTimeout;
      let readTimeoutTimer;
      let queryCallback;
      if (config2 === null || config2 === void 0) {
        throw new TypeError("Client was passed a null or undefined query");
      } else if (typeof config2.submit === "function") {
        readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
        result = query = config2;
        if (typeof values === "function") {
          config2.callback = values;
        }
      } else {
        readTimeout = config2.query_timeout || this.connectionParameters.query_timeout;
        query = new NativeQuery(config2, values, callback);
        if (!query.callback) {
          let resolveOut, rejectOut;
          result = new this._Promise((resolve2, reject) => {
            resolveOut = resolve2;
            rejectOut = reject;
          }).catch((err) => {
            Error.captureStackTrace(err);
            throw err;
          });
          query.callback = (err, res) => err ? rejectOut(err) : resolveOut(res);
        }
      }
      if (readTimeout) {
        queryCallback = query.callback;
        readTimeoutTimer = setTimeout(() => {
          const error45 = new Error("Query read timeout");
          process.nextTick(() => {
            query.handleError(error45, this.connection);
          });
          queryCallback(error45);
          query.callback = () => {
          };
          const index = this._queryQueue.indexOf(query);
          if (index > -1) {
            this._queryQueue.splice(index, 1);
          }
          this._pulseQueryQueue();
        }, readTimeout);
        query.callback = (err, res) => {
          clearTimeout(readTimeoutTimer);
          queryCallback(err, res);
        };
      }
      if (!this._queryable) {
        query.native = this.native;
        process.nextTick(() => {
          query.handleError(new Error("Client has encountered a connection error and is not queryable"));
        });
        return result;
      }
      if (this._ending) {
        query.native = this.native;
        process.nextTick(() => {
          query.handleError(new Error("Client was closed and is not queryable"));
        });
        return result;
      }
      this._queryQueue.push(query);
      this._pulseQueryQueue();
      return result;
    };
    Client2.prototype.end = function(cb) {
      const self = this;
      this._ending = true;
      if (!this._connected) {
        this.once("connect", this.end.bind(this, cb));
      }
      let result;
      if (!cb) {
        result = new this._Promise(function(resolve2, reject) {
          cb = (err) => err ? reject(err) : resolve2();
        });
      }
      this.native.end(function() {
        self._errorAllQueries(new Error("Connection terminated"));
        process.nextTick(() => {
          self.emit("end");
          if (cb) cb();
        });
      });
      return result;
    };
    Client2.prototype._hasActiveQuery = function() {
      return this._activeQuery && this._activeQuery.state !== "error" && this._activeQuery.state !== "end";
    };
    Client2.prototype._pulseQueryQueue = function(initialConnection) {
      if (!this._connected) {
        return;
      }
      if (this._hasActiveQuery()) {
        return;
      }
      const query = this._queryQueue.shift();
      if (!query) {
        if (!initialConnection) {
          this.emit("drain");
        }
        return;
      }
      this._activeQuery = query;
      query.submit(this);
      const self = this;
      query.once("_done", function() {
        self._pulseQueryQueue();
      });
    };
    Client2.prototype.cancel = function(query) {
      if (this._activeQuery === query) {
        this.native.cancel(function() {
        });
      } else if (this._queryQueue.indexOf(query) !== -1) {
        this._queryQueue.splice(this._queryQueue.indexOf(query), 1);
      }
    };
    Client2.prototype.ref = function() {
    };
    Client2.prototype.unref = function() {
    };
    Client2.prototype.setTypeParser = function(oid, format, parseFn) {
      return this._types.setTypeParser(oid, format, parseFn);
    };
    Client2.prototype.getTypeParser = function(oid, format) {
      return this._types.getTypeParser(oid, format);
    };
  }
});

// node_modules/pg/lib/native/index.js
var require_native = __commonJS({
  "node_modules/pg/lib/native/index.js"(exports2, module2) {
    "use strict";
    module2.exports = require_client2();
  }
});

// node_modules/pg/lib/index.js
var require_lib2 = __commonJS({
  "node_modules/pg/lib/index.js"(exports2, module2) {
    "use strict";
    var Client2 = require_client();
    var defaults2 = require_defaults();
    var Connection2 = require_connection();
    var Result2 = require_result();
    var utils = require_utils();
    var Pool2 = require_pg_pool();
    var TypeOverrides2 = require_type_overrides();
    var { DatabaseError: DatabaseError2 } = require_dist();
    var { escapeIdentifier: escapeIdentifier2, escapeLiteral: escapeLiteral2 } = require_utils();
    var poolFactory = (Client3) => {
      return class BoundPool extends Pool2 {
        constructor(options) {
          super(options, Client3);
        }
      };
    };
    var PG = function(clientConstructor) {
      this.defaults = defaults2;
      this.Client = clientConstructor;
      this.Query = this.Client.Query;
      this.Pool = poolFactory(this.Client);
      this._pools = [];
      this.Connection = Connection2;
      this.types = require_pg_types();
      this.DatabaseError = DatabaseError2;
      this.TypeOverrides = TypeOverrides2;
      this.escapeIdentifier = escapeIdentifier2;
      this.escapeLiteral = escapeLiteral2;
      this.Result = Result2;
      this.utils = utils;
    };
    if (typeof process.env.NODE_PG_FORCE_NATIVE !== "undefined") {
      module2.exports = new PG(require_native());
    } else {
      module2.exports = new PG(Client2);
      Object.defineProperty(module2.exports, "native", {
        configurable: true,
        enumerable: false,
        get() {
          let native = null;
          try {
            native = new PG(require_native());
          } catch (err) {
            if (err.code !== "MODULE_NOT_FOUND") {
              throw err;
            }
          }
          Object.defineProperty(module2.exports, "native", {
            value: native
          });
          return native;
        }
      });
    }
  }
});

// agent.ts
var agent_exports = {};
__export(agent_exports, {
  default: () => agent_default
});
module.exports = __toCommonJS(agent_exports);

// node_modules/@ai-sdk/provider/dist/index.mjs
var marker = "vercel.ai.error";
var symbol = Symbol.for(marker);
var _a;
var _AISDKError = class _AISDKError2 extends Error {
  /**
   * Creates an AI SDK Error.
   *
   * @param {Object} params - The parameters for creating the error.
   * @param {string} params.name - The name of the error.
   * @param {string} params.message - The error message.
   * @param {unknown} [params.cause] - The underlying cause of the error.
   */
  constructor({
    name: name143,
    message,
    cause
  }) {
    super(message);
    this[_a] = true;
    this.name = name143;
    this.cause = cause;
  }
  /**
   * Checks if the given error is an AI SDK Error.
   * @param {unknown} error - The error to check.
   * @returns {boolean} True if the error is an AI SDK Error, false otherwise.
   */
  static isInstance(error45) {
    return _AISDKError2.hasMarker(error45, marker);
  }
  static hasMarker(error45, marker153) {
    const markerSymbol = Symbol.for(marker153);
    return error45 != null && typeof error45 === "object" && markerSymbol in error45 && typeof error45[markerSymbol] === "boolean" && error45[markerSymbol] === true;
  }
};
_a = symbol;
var AISDKError = _AISDKError;
var name = "AI_APICallError";
var marker2 = `vercel.ai.error.${name}`;
var symbol2 = Symbol.for(marker2);
var _a2;
var APICallError = class extends AISDKError {
  constructor({
    message,
    url: url2,
    requestBodyValues,
    statusCode,
    responseHeaders,
    responseBody,
    cause,
    isRetryable = statusCode != null && (statusCode === 408 || // request timeout
    statusCode === 409 || // conflict
    statusCode === 429 || // too many requests
    statusCode >= 500),
    // server error
    data
  }) {
    super({ name, message, cause });
    this[_a2] = true;
    this.url = url2;
    this.requestBodyValues = requestBodyValues;
    this.statusCode = statusCode;
    this.responseHeaders = responseHeaders;
    this.responseBody = responseBody;
    this.isRetryable = isRetryable;
    this.data = data;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker2);
  }
};
_a2 = symbol2;
var name2 = "AI_EmptyResponseBodyError";
var marker3 = `vercel.ai.error.${name2}`;
var symbol3 = Symbol.for(marker3);
var _a3;
var EmptyResponseBodyError = class extends AISDKError {
  // used in isInstance
  constructor({ message = "Empty response body" } = {}) {
    super({ name: name2, message });
    this[_a3] = true;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker3);
  }
};
_a3 = symbol3;
function getErrorMessage(error45) {
  if (error45 == null) {
    return "unknown error";
  }
  if (typeof error45 === "string") {
    return error45;
  }
  if (error45 instanceof Error) {
    return error45.message;
  }
  return JSON.stringify(error45);
}
var name3 = "AI_InvalidArgumentError";
var marker4 = `vercel.ai.error.${name3}`;
var symbol4 = Symbol.for(marker4);
var _a4;
var InvalidArgumentError = class extends AISDKError {
  constructor({
    message,
    cause,
    argument
  }) {
    super({ name: name3, message, cause });
    this[_a4] = true;
    this.argument = argument;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker4);
  }
};
_a4 = symbol4;
var name4 = "AI_InvalidPromptError";
var marker5 = `vercel.ai.error.${name4}`;
var symbol5 = Symbol.for(marker5);
var _a5;
var InvalidPromptError = class extends AISDKError {
  constructor({
    prompt,
    message,
    cause
  }) {
    super({ name: name4, message: `Invalid prompt: ${message}`, cause });
    this[_a5] = true;
    this.prompt = prompt;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker5);
  }
};
_a5 = symbol5;
var name5 = "AI_InvalidResponseDataError";
var marker6 = `vercel.ai.error.${name5}`;
var symbol6 = Symbol.for(marker6);
var _a6;
_a6 = symbol6;
var name6 = "AI_JSONParseError";
var marker7 = `vercel.ai.error.${name6}`;
var symbol7 = Symbol.for(marker7);
var _a7;
var JSONParseError = class extends AISDKError {
  constructor({ text: text2, cause }) {
    super({
      name: name6,
      message: `JSON parsing failed: Text: ${text2}.
Error message: ${getErrorMessage(cause)}`,
      cause
    });
    this[_a7] = true;
    this.text = text2;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker7);
  }
};
_a7 = symbol7;
var name7 = "AI_LoadAPIKeyError";
var marker8 = `vercel.ai.error.${name7}`;
var symbol8 = Symbol.for(marker8);
var _a8;
_a8 = symbol8;
var name8 = "AI_LoadSettingError";
var marker9 = `vercel.ai.error.${name8}`;
var symbol9 = Symbol.for(marker9);
var _a9;
_a9 = symbol9;
var name9 = "AI_NoContentGeneratedError";
var marker10 = `vercel.ai.error.${name9}`;
var symbol10 = Symbol.for(marker10);
var _a10;
_a10 = symbol10;
var name10 = "AI_NoSuchModelError";
var marker11 = `vercel.ai.error.${name10}`;
var symbol11 = Symbol.for(marker11);
var _a11;
var NoSuchModelError = class extends AISDKError {
  constructor({
    errorName = name10,
    modelId,
    modelType,
    message = `No such ${modelType}: ${modelId}`
  }) {
    super({ name: errorName, message });
    this[_a11] = true;
    this.modelId = modelId;
    this.modelType = modelType;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker11);
  }
};
_a11 = symbol11;
var name11 = "AI_TooManyEmbeddingValuesForCallError";
var marker12 = `vercel.ai.error.${name11}`;
var symbol12 = Symbol.for(marker12);
var _a12;
_a12 = symbol12;
var name12 = "AI_TypeValidationError";
var marker13 = `vercel.ai.error.${name12}`;
var symbol13 = Symbol.for(marker13);
var _a13;
var _TypeValidationError = class _TypeValidationError2 extends AISDKError {
  constructor({ value, cause }) {
    super({
      name: name12,
      message: `Type validation failed: Value: ${JSON.stringify(value)}.
Error message: ${getErrorMessage(cause)}`,
      cause
    });
    this[_a13] = true;
    this.value = value;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker13);
  }
  /**
   * Wraps an error into a TypeValidationError.
   * If the cause is already a TypeValidationError with the same value, it returns the cause.
   * Otherwise, it creates a new TypeValidationError.
   *
   * @param {Object} params - The parameters for wrapping the error.
   * @param {unknown} params.value - The value that failed validation.
   * @param {unknown} params.cause - The original error or cause of the validation failure.
   * @returns {TypeValidationError} A TypeValidationError instance.
   */
  static wrap({
    value,
    cause
  }) {
    return _TypeValidationError2.isInstance(cause) && cause.value === value ? cause : new _TypeValidationError2({ value, cause });
  }
};
_a13 = symbol13;
var TypeValidationError = _TypeValidationError;
var name13 = "AI_UnsupportedFunctionalityError";
var marker14 = `vercel.ai.error.${name13}`;
var symbol14 = Symbol.for(marker14);
var _a14;
_a14 = symbol14;

// node_modules/eventsource-parser/dist/index.js
var ParseError = class extends Error {
  constructor(message, options) {
    super(message), this.name = "ParseError", this.type = options.type, this.field = options.field, this.value = options.value, this.line = options.line;
  }
};
function noop(_arg) {
}
function createParser(callbacks) {
  if (typeof callbacks == "function")
    throw new TypeError(
      "`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?"
    );
  const { onEvent = noop, onError = noop, onRetry = noop, onComment } = callbacks;
  let incompleteLine = "", isFirstChunk = true, id, data = "", eventType = "";
  function feed(newChunk) {
    const chunk = isFirstChunk ? newChunk.replace(/^\xEF\xBB\xBF/, "") : newChunk, [complete, incomplete] = splitLines(`${incompleteLine}${chunk}`);
    for (const line of complete)
      parseLine(line);
    incompleteLine = incomplete, isFirstChunk = false;
  }
  function parseLine(line) {
    if (line === "") {
      dispatchEvent();
      return;
    }
    if (line.startsWith(":")) {
      onComment && onComment(line.slice(line.startsWith(": ") ? 2 : 1));
      return;
    }
    const fieldSeparatorIndex = line.indexOf(":");
    if (fieldSeparatorIndex !== -1) {
      const field = line.slice(0, fieldSeparatorIndex), offset = line[fieldSeparatorIndex + 1] === " " ? 2 : 1, value = line.slice(fieldSeparatorIndex + offset);
      processField(field, value, line);
      return;
    }
    processField(line, "", line);
  }
  function processField(field, value, line) {
    switch (field) {
      case "event":
        eventType = value;
        break;
      case "data":
        data = `${data}${value}
`;
        break;
      case "id":
        id = value.includes("\0") ? void 0 : value;
        break;
      case "retry":
        /^\d+$/.test(value) ? onRetry(parseInt(value, 10)) : onError(
          new ParseError(`Invalid \`retry\` value: "${value}"`, {
            type: "invalid-retry",
            value,
            line
          })
        );
        break;
      default:
        onError(
          new ParseError(
            `Unknown field "${field.length > 20 ? `${field.slice(0, 20)}\u2026` : field}"`,
            { type: "unknown-field", field, value, line }
          )
        );
        break;
    }
  }
  function dispatchEvent() {
    data.length > 0 && onEvent({
      id,
      event: eventType || void 0,
      // If the data buffer's last character is a U+000A LINE FEED (LF) character,
      // then remove the last character from the data buffer.
      data: data.endsWith(`
`) ? data.slice(0, -1) : data
    }), id = void 0, data = "", eventType = "";
  }
  function reset(options = {}) {
    incompleteLine && options.consume && parseLine(incompleteLine), isFirstChunk = true, id = void 0, data = "", eventType = "", incompleteLine = "";
  }
  return { feed, reset };
}
function splitLines(chunk) {
  const lines = [];
  let incompleteLine = "", searchIndex = 0;
  for (; searchIndex < chunk.length; ) {
    const crIndex = chunk.indexOf("\r", searchIndex), lfIndex = chunk.indexOf(`
`, searchIndex);
    let lineEnd = -1;
    if (crIndex !== -1 && lfIndex !== -1 ? lineEnd = Math.min(crIndex, lfIndex) : crIndex !== -1 ? crIndex === chunk.length - 1 ? lineEnd = -1 : lineEnd = crIndex : lfIndex !== -1 && (lineEnd = lfIndex), lineEnd === -1) {
      incompleteLine = chunk.slice(searchIndex);
      break;
    } else {
      const line = chunk.slice(searchIndex, lineEnd);
      lines.push(line), searchIndex = lineEnd + 1, chunk[searchIndex - 1] === "\r" && chunk[searchIndex] === `
` && searchIndex++;
    }
  }
  return [lines, incompleteLine];
}

// node_modules/eventsource-parser/dist/stream.js
var EventSourceParserStream = class extends TransformStream {
  constructor({ onError, onRetry, onComment } = {}) {
    let parser;
    super({
      start(controller) {
        parser = createParser({
          onEvent: (event) => {
            controller.enqueue(event);
          },
          onError(error45) {
            onError === "terminate" ? controller.error(error45) : typeof onError == "function" && onError(error45);
          },
          onRetry,
          onComment
        });
      },
      transform(chunk) {
        parser.feed(chunk);
      }
    });
  }
};

// node_modules/zod/v4/classic/external.js
var external_exports = {};
__export(external_exports, {
  $brand: () => $brand,
  $input: () => $input,
  $output: () => $output,
  NEVER: () => NEVER,
  TimePrecision: () => TimePrecision,
  ZodAny: () => ZodAny,
  ZodArray: () => ZodArray,
  ZodBase64: () => ZodBase64,
  ZodBase64URL: () => ZodBase64URL,
  ZodBigInt: () => ZodBigInt,
  ZodBigIntFormat: () => ZodBigIntFormat,
  ZodBoolean: () => ZodBoolean,
  ZodCIDRv4: () => ZodCIDRv4,
  ZodCIDRv6: () => ZodCIDRv6,
  ZodCUID: () => ZodCUID,
  ZodCUID2: () => ZodCUID2,
  ZodCatch: () => ZodCatch,
  ZodCodec: () => ZodCodec,
  ZodCustom: () => ZodCustom,
  ZodCustomStringFormat: () => ZodCustomStringFormat,
  ZodDate: () => ZodDate,
  ZodDefault: () => ZodDefault,
  ZodDiscriminatedUnion: () => ZodDiscriminatedUnion,
  ZodE164: () => ZodE164,
  ZodEmail: () => ZodEmail,
  ZodEmoji: () => ZodEmoji,
  ZodEnum: () => ZodEnum,
  ZodError: () => ZodError,
  ZodFile: () => ZodFile,
  ZodFirstPartyTypeKind: () => ZodFirstPartyTypeKind,
  ZodFunction: () => ZodFunction,
  ZodGUID: () => ZodGUID,
  ZodIPv4: () => ZodIPv4,
  ZodIPv6: () => ZodIPv6,
  ZodISODate: () => ZodISODate,
  ZodISODateTime: () => ZodISODateTime,
  ZodISODuration: () => ZodISODuration,
  ZodISOTime: () => ZodISOTime,
  ZodIntersection: () => ZodIntersection,
  ZodIssueCode: () => ZodIssueCode,
  ZodJWT: () => ZodJWT,
  ZodKSUID: () => ZodKSUID,
  ZodLazy: () => ZodLazy,
  ZodLiteral: () => ZodLiteral,
  ZodMap: () => ZodMap,
  ZodNaN: () => ZodNaN,
  ZodNanoID: () => ZodNanoID,
  ZodNever: () => ZodNever,
  ZodNonOptional: () => ZodNonOptional,
  ZodNull: () => ZodNull,
  ZodNullable: () => ZodNullable,
  ZodNumber: () => ZodNumber,
  ZodNumberFormat: () => ZodNumberFormat,
  ZodObject: () => ZodObject,
  ZodOptional: () => ZodOptional,
  ZodPipe: () => ZodPipe,
  ZodPrefault: () => ZodPrefault,
  ZodPromise: () => ZodPromise,
  ZodReadonly: () => ZodReadonly,
  ZodRealError: () => ZodRealError,
  ZodRecord: () => ZodRecord,
  ZodSet: () => ZodSet,
  ZodString: () => ZodString,
  ZodStringFormat: () => ZodStringFormat,
  ZodSuccess: () => ZodSuccess,
  ZodSymbol: () => ZodSymbol,
  ZodTemplateLiteral: () => ZodTemplateLiteral,
  ZodTransform: () => ZodTransform,
  ZodTuple: () => ZodTuple,
  ZodType: () => ZodType,
  ZodULID: () => ZodULID,
  ZodURL: () => ZodURL,
  ZodUUID: () => ZodUUID,
  ZodUndefined: () => ZodUndefined,
  ZodUnion: () => ZodUnion,
  ZodUnknown: () => ZodUnknown,
  ZodVoid: () => ZodVoid,
  ZodXID: () => ZodXID,
  _ZodString: () => _ZodString,
  _default: () => _default2,
  _function: () => _function,
  any: () => any,
  array: () => array,
  base64: () => base642,
  base64url: () => base64url2,
  bigint: () => bigint2,
  boolean: () => boolean2,
  catch: () => _catch2,
  check: () => check,
  cidrv4: () => cidrv42,
  cidrv6: () => cidrv62,
  clone: () => clone,
  codec: () => codec,
  coerce: () => coerce_exports,
  config: () => config,
  core: () => core_exports2,
  cuid: () => cuid3,
  cuid2: () => cuid22,
  custom: () => custom,
  date: () => date3,
  decode: () => decode2,
  decodeAsync: () => decodeAsync2,
  discriminatedUnion: () => discriminatedUnion,
  e164: () => e1642,
  email: () => email2,
  emoji: () => emoji2,
  encode: () => encode2,
  encodeAsync: () => encodeAsync2,
  endsWith: () => _endsWith,
  enum: () => _enum2,
  file: () => file,
  flattenError: () => flattenError,
  float32: () => float32,
  float64: () => float64,
  formatError: () => formatError,
  function: () => _function,
  getErrorMap: () => getErrorMap,
  globalRegistry: () => globalRegistry,
  gt: () => _gt,
  gte: () => _gte,
  guid: () => guid2,
  hash: () => hash,
  hex: () => hex2,
  hostname: () => hostname2,
  httpUrl: () => httpUrl,
  includes: () => _includes,
  instanceof: () => _instanceof,
  int: () => int,
  int32: () => int32,
  int64: () => int64,
  intersection: () => intersection,
  ipv4: () => ipv42,
  ipv6: () => ipv62,
  iso: () => iso_exports,
  json: () => json,
  jwt: () => jwt,
  keyof: () => keyof,
  ksuid: () => ksuid2,
  lazy: () => lazy,
  length: () => _length,
  literal: () => literal,
  locales: () => locales_exports,
  looseObject: () => looseObject,
  lowercase: () => _lowercase,
  lt: () => _lt,
  lte: () => _lte,
  map: () => map,
  maxLength: () => _maxLength,
  maxSize: () => _maxSize,
  mime: () => _mime,
  minLength: () => _minLength,
  minSize: () => _minSize,
  multipleOf: () => _multipleOf,
  nan: () => nan,
  nanoid: () => nanoid2,
  nativeEnum: () => nativeEnum,
  negative: () => _negative,
  never: () => never,
  nonnegative: () => _nonnegative,
  nonoptional: () => nonoptional,
  nonpositive: () => _nonpositive,
  normalize: () => _normalize,
  null: () => _null3,
  nullable: () => nullable,
  nullish: () => nullish2,
  number: () => number2,
  object: () => object,
  optional: () => optional,
  overwrite: () => _overwrite,
  parse: () => parse2,
  parseAsync: () => parseAsync2,
  partialRecord: () => partialRecord,
  pipe: () => pipe,
  positive: () => _positive,
  prefault: () => prefault,
  preprocess: () => preprocess,
  prettifyError: () => prettifyError,
  promise: () => promise,
  property: () => _property,
  readonly: () => readonly,
  record: () => record,
  refine: () => refine,
  regex: () => _regex,
  regexes: () => regexes_exports,
  registry: () => registry,
  safeDecode: () => safeDecode2,
  safeDecodeAsync: () => safeDecodeAsync2,
  safeEncode: () => safeEncode2,
  safeEncodeAsync: () => safeEncodeAsync2,
  safeParse: () => safeParse2,
  safeParseAsync: () => safeParseAsync2,
  set: () => set,
  setErrorMap: () => setErrorMap,
  size: () => _size,
  startsWith: () => _startsWith,
  strictObject: () => strictObject,
  string: () => string2,
  stringFormat: () => stringFormat,
  stringbool: () => stringbool,
  success: () => success,
  superRefine: () => superRefine,
  symbol: () => symbol15,
  templateLiteral: () => templateLiteral,
  toJSONSchema: () => toJSONSchema,
  toLowerCase: () => _toLowerCase,
  toUpperCase: () => _toUpperCase,
  transform: () => transform,
  treeifyError: () => treeifyError,
  trim: () => _trim,
  tuple: () => tuple,
  uint32: () => uint32,
  uint64: () => uint64,
  ulid: () => ulid2,
  undefined: () => _undefined3,
  union: () => union,
  unknown: () => unknown,
  uppercase: () => _uppercase,
  url: () => url,
  util: () => util_exports,
  uuid: () => uuid2,
  uuidv4: () => uuidv4,
  uuidv6: () => uuidv6,
  uuidv7: () => uuidv7,
  void: () => _void2,
  xid: () => xid2
});

// node_modules/zod/v4/core/index.js
var core_exports2 = {};
__export(core_exports2, {
  $ZodAny: () => $ZodAny,
  $ZodArray: () => $ZodArray,
  $ZodAsyncError: () => $ZodAsyncError,
  $ZodBase64: () => $ZodBase64,
  $ZodBase64URL: () => $ZodBase64URL,
  $ZodBigInt: () => $ZodBigInt,
  $ZodBigIntFormat: () => $ZodBigIntFormat,
  $ZodBoolean: () => $ZodBoolean,
  $ZodCIDRv4: () => $ZodCIDRv4,
  $ZodCIDRv6: () => $ZodCIDRv6,
  $ZodCUID: () => $ZodCUID,
  $ZodCUID2: () => $ZodCUID2,
  $ZodCatch: () => $ZodCatch,
  $ZodCheck: () => $ZodCheck,
  $ZodCheckBigIntFormat: () => $ZodCheckBigIntFormat,
  $ZodCheckEndsWith: () => $ZodCheckEndsWith,
  $ZodCheckGreaterThan: () => $ZodCheckGreaterThan,
  $ZodCheckIncludes: () => $ZodCheckIncludes,
  $ZodCheckLengthEquals: () => $ZodCheckLengthEquals,
  $ZodCheckLessThan: () => $ZodCheckLessThan,
  $ZodCheckLowerCase: () => $ZodCheckLowerCase,
  $ZodCheckMaxLength: () => $ZodCheckMaxLength,
  $ZodCheckMaxSize: () => $ZodCheckMaxSize,
  $ZodCheckMimeType: () => $ZodCheckMimeType,
  $ZodCheckMinLength: () => $ZodCheckMinLength,
  $ZodCheckMinSize: () => $ZodCheckMinSize,
  $ZodCheckMultipleOf: () => $ZodCheckMultipleOf,
  $ZodCheckNumberFormat: () => $ZodCheckNumberFormat,
  $ZodCheckOverwrite: () => $ZodCheckOverwrite,
  $ZodCheckProperty: () => $ZodCheckProperty,
  $ZodCheckRegex: () => $ZodCheckRegex,
  $ZodCheckSizeEquals: () => $ZodCheckSizeEquals,
  $ZodCheckStartsWith: () => $ZodCheckStartsWith,
  $ZodCheckStringFormat: () => $ZodCheckStringFormat,
  $ZodCheckUpperCase: () => $ZodCheckUpperCase,
  $ZodCodec: () => $ZodCodec,
  $ZodCustom: () => $ZodCustom,
  $ZodCustomStringFormat: () => $ZodCustomStringFormat,
  $ZodDate: () => $ZodDate,
  $ZodDefault: () => $ZodDefault,
  $ZodDiscriminatedUnion: () => $ZodDiscriminatedUnion,
  $ZodE164: () => $ZodE164,
  $ZodEmail: () => $ZodEmail,
  $ZodEmoji: () => $ZodEmoji,
  $ZodEncodeError: () => $ZodEncodeError,
  $ZodEnum: () => $ZodEnum,
  $ZodError: () => $ZodError,
  $ZodFile: () => $ZodFile,
  $ZodFunction: () => $ZodFunction,
  $ZodGUID: () => $ZodGUID,
  $ZodIPv4: () => $ZodIPv4,
  $ZodIPv6: () => $ZodIPv6,
  $ZodISODate: () => $ZodISODate,
  $ZodISODateTime: () => $ZodISODateTime,
  $ZodISODuration: () => $ZodISODuration,
  $ZodISOTime: () => $ZodISOTime,
  $ZodIntersection: () => $ZodIntersection,
  $ZodJWT: () => $ZodJWT,
  $ZodKSUID: () => $ZodKSUID,
  $ZodLazy: () => $ZodLazy,
  $ZodLiteral: () => $ZodLiteral,
  $ZodMap: () => $ZodMap,
  $ZodNaN: () => $ZodNaN,
  $ZodNanoID: () => $ZodNanoID,
  $ZodNever: () => $ZodNever,
  $ZodNonOptional: () => $ZodNonOptional,
  $ZodNull: () => $ZodNull,
  $ZodNullable: () => $ZodNullable,
  $ZodNumber: () => $ZodNumber,
  $ZodNumberFormat: () => $ZodNumberFormat,
  $ZodObject: () => $ZodObject,
  $ZodObjectJIT: () => $ZodObjectJIT,
  $ZodOptional: () => $ZodOptional,
  $ZodPipe: () => $ZodPipe,
  $ZodPrefault: () => $ZodPrefault,
  $ZodPromise: () => $ZodPromise,
  $ZodReadonly: () => $ZodReadonly,
  $ZodRealError: () => $ZodRealError,
  $ZodRecord: () => $ZodRecord,
  $ZodRegistry: () => $ZodRegistry,
  $ZodSet: () => $ZodSet,
  $ZodString: () => $ZodString,
  $ZodStringFormat: () => $ZodStringFormat,
  $ZodSuccess: () => $ZodSuccess,
  $ZodSymbol: () => $ZodSymbol,
  $ZodTemplateLiteral: () => $ZodTemplateLiteral,
  $ZodTransform: () => $ZodTransform,
  $ZodTuple: () => $ZodTuple,
  $ZodType: () => $ZodType,
  $ZodULID: () => $ZodULID,
  $ZodURL: () => $ZodURL,
  $ZodUUID: () => $ZodUUID,
  $ZodUndefined: () => $ZodUndefined,
  $ZodUnion: () => $ZodUnion,
  $ZodUnknown: () => $ZodUnknown,
  $ZodVoid: () => $ZodVoid,
  $ZodXID: () => $ZodXID,
  $brand: () => $brand,
  $constructor: () => $constructor,
  $input: () => $input,
  $output: () => $output,
  Doc: () => Doc,
  JSONSchema: () => json_schema_exports,
  JSONSchemaGenerator: () => JSONSchemaGenerator,
  NEVER: () => NEVER,
  TimePrecision: () => TimePrecision,
  _any: () => _any,
  _array: () => _array,
  _base64: () => _base64,
  _base64url: () => _base64url,
  _bigint: () => _bigint,
  _boolean: () => _boolean,
  _catch: () => _catch,
  _check: () => _check,
  _cidrv4: () => _cidrv4,
  _cidrv6: () => _cidrv6,
  _coercedBigint: () => _coercedBigint,
  _coercedBoolean: () => _coercedBoolean,
  _coercedDate: () => _coercedDate,
  _coercedNumber: () => _coercedNumber,
  _coercedString: () => _coercedString,
  _cuid: () => _cuid,
  _cuid2: () => _cuid2,
  _custom: () => _custom,
  _date: () => _date,
  _decode: () => _decode,
  _decodeAsync: () => _decodeAsync,
  _default: () => _default,
  _discriminatedUnion: () => _discriminatedUnion,
  _e164: () => _e164,
  _email: () => _email,
  _emoji: () => _emoji2,
  _encode: () => _encode,
  _encodeAsync: () => _encodeAsync,
  _endsWith: () => _endsWith,
  _enum: () => _enum,
  _file: () => _file,
  _float32: () => _float32,
  _float64: () => _float64,
  _gt: () => _gt,
  _gte: () => _gte,
  _guid: () => _guid,
  _includes: () => _includes,
  _int: () => _int,
  _int32: () => _int32,
  _int64: () => _int64,
  _intersection: () => _intersection,
  _ipv4: () => _ipv4,
  _ipv6: () => _ipv6,
  _isoDate: () => _isoDate,
  _isoDateTime: () => _isoDateTime,
  _isoDuration: () => _isoDuration,
  _isoTime: () => _isoTime,
  _jwt: () => _jwt,
  _ksuid: () => _ksuid,
  _lazy: () => _lazy,
  _length: () => _length,
  _literal: () => _literal,
  _lowercase: () => _lowercase,
  _lt: () => _lt,
  _lte: () => _lte,
  _map: () => _map,
  _max: () => _lte,
  _maxLength: () => _maxLength,
  _maxSize: () => _maxSize,
  _mime: () => _mime,
  _min: () => _gte,
  _minLength: () => _minLength,
  _minSize: () => _minSize,
  _multipleOf: () => _multipleOf,
  _nan: () => _nan,
  _nanoid: () => _nanoid,
  _nativeEnum: () => _nativeEnum,
  _negative: () => _negative,
  _never: () => _never,
  _nonnegative: () => _nonnegative,
  _nonoptional: () => _nonoptional,
  _nonpositive: () => _nonpositive,
  _normalize: () => _normalize,
  _null: () => _null2,
  _nullable: () => _nullable,
  _number: () => _number,
  _optional: () => _optional,
  _overwrite: () => _overwrite,
  _parse: () => _parse,
  _parseAsync: () => _parseAsync,
  _pipe: () => _pipe,
  _positive: () => _positive,
  _promise: () => _promise,
  _property: () => _property,
  _readonly: () => _readonly,
  _record: () => _record,
  _refine: () => _refine,
  _regex: () => _regex,
  _safeDecode: () => _safeDecode,
  _safeDecodeAsync: () => _safeDecodeAsync,
  _safeEncode: () => _safeEncode,
  _safeEncodeAsync: () => _safeEncodeAsync,
  _safeParse: () => _safeParse,
  _safeParseAsync: () => _safeParseAsync,
  _set: () => _set,
  _size: () => _size,
  _startsWith: () => _startsWith,
  _string: () => _string,
  _stringFormat: () => _stringFormat,
  _stringbool: () => _stringbool,
  _success: () => _success,
  _superRefine: () => _superRefine,
  _symbol: () => _symbol,
  _templateLiteral: () => _templateLiteral,
  _toLowerCase: () => _toLowerCase,
  _toUpperCase: () => _toUpperCase,
  _transform: () => _transform,
  _trim: () => _trim,
  _tuple: () => _tuple,
  _uint32: () => _uint32,
  _uint64: () => _uint64,
  _ulid: () => _ulid,
  _undefined: () => _undefined2,
  _union: () => _union,
  _unknown: () => _unknown,
  _uppercase: () => _uppercase,
  _url: () => _url,
  _uuid: () => _uuid,
  _uuidv4: () => _uuidv4,
  _uuidv6: () => _uuidv6,
  _uuidv7: () => _uuidv7,
  _void: () => _void,
  _xid: () => _xid,
  clone: () => clone,
  config: () => config,
  decode: () => decode,
  decodeAsync: () => decodeAsync,
  encode: () => encode,
  encodeAsync: () => encodeAsync,
  flattenError: () => flattenError,
  formatError: () => formatError,
  globalConfig: () => globalConfig,
  globalRegistry: () => globalRegistry,
  isValidBase64: () => isValidBase64,
  isValidBase64URL: () => isValidBase64URL,
  isValidJWT: () => isValidJWT,
  locales: () => locales_exports,
  parse: () => parse,
  parseAsync: () => parseAsync,
  prettifyError: () => prettifyError,
  regexes: () => regexes_exports,
  registry: () => registry,
  safeDecode: () => safeDecode,
  safeDecodeAsync: () => safeDecodeAsync,
  safeEncode: () => safeEncode,
  safeEncodeAsync: () => safeEncodeAsync,
  safeParse: () => safeParse,
  safeParseAsync: () => safeParseAsync,
  toDotPath: () => toDotPath,
  toJSONSchema: () => toJSONSchema,
  treeifyError: () => treeifyError,
  util: () => util_exports,
  version: () => version
});

// node_modules/zod/v4/core/core.js
var NEVER = Object.freeze({
  status: "aborted"
});
// @__NO_SIDE_EFFECTS__
function $constructor(name17, initializer3, params) {
  function init(inst, def) {
    var _a17;
    Object.defineProperty(inst, "_zod", {
      value: inst._zod ?? {},
      enumerable: false
    });
    (_a17 = inst._zod).traits ?? (_a17.traits = /* @__PURE__ */ new Set());
    inst._zod.traits.add(name17);
    initializer3(inst, def);
    for (const k in _2.prototype) {
      if (!(k in inst))
        Object.defineProperty(inst, k, { value: _2.prototype[k].bind(inst) });
    }
    inst._zod.constr = _2;
    inst._zod.def = def;
  }
  const Parent = params?.Parent ?? Object;
  class Definition extends Parent {
  }
  Object.defineProperty(Definition, "name", { value: name17 });
  function _2(def) {
    var _a17;
    const inst = params?.Parent ? new Definition() : this;
    init(inst, def);
    (_a17 = inst._zod).deferred ?? (_a17.deferred = []);
    for (const fn of inst._zod.deferred) {
      fn();
    }
    return inst;
  }
  Object.defineProperty(_2, "init", { value: init });
  Object.defineProperty(_2, Symbol.hasInstance, {
    value: (inst) => {
      if (params?.Parent && inst instanceof params.Parent)
        return true;
      return inst?._zod?.traits?.has(name17);
    }
  });
  Object.defineProperty(_2, "name", { value: name17 });
  return _2;
}
var $brand = Symbol("zod_brand");
var $ZodAsyncError = class extends Error {
  constructor() {
    super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`);
  }
};
var $ZodEncodeError = class extends Error {
  constructor(name17) {
    super(`Encountered unidirectional transform during encode: ${name17}`);
    this.name = "ZodEncodeError";
  }
};
var globalConfig = {};
function config(newConfig) {
  if (newConfig)
    Object.assign(globalConfig, newConfig);
  return globalConfig;
}

// node_modules/zod/v4/core/util.js
var util_exports = {};
__export(util_exports, {
  BIGINT_FORMAT_RANGES: () => BIGINT_FORMAT_RANGES,
  Class: () => Class,
  NUMBER_FORMAT_RANGES: () => NUMBER_FORMAT_RANGES,
  aborted: () => aborted,
  allowsEval: () => allowsEval,
  assert: () => assert,
  assertEqual: () => assertEqual,
  assertIs: () => assertIs,
  assertNever: () => assertNever,
  assertNotEqual: () => assertNotEqual,
  assignProp: () => assignProp,
  base64ToUint8Array: () => base64ToUint8Array,
  base64urlToUint8Array: () => base64urlToUint8Array,
  cached: () => cached,
  captureStackTrace: () => captureStackTrace,
  cleanEnum: () => cleanEnum,
  cleanRegex: () => cleanRegex,
  clone: () => clone,
  cloneDef: () => cloneDef,
  createTransparentProxy: () => createTransparentProxy,
  defineLazy: () => defineLazy,
  esc: () => esc,
  escapeRegex: () => escapeRegex,
  extend: () => extend,
  finalizeIssue: () => finalizeIssue,
  floatSafeRemainder: () => floatSafeRemainder,
  getElementAtPath: () => getElementAtPath,
  getEnumValues: () => getEnumValues,
  getLengthableOrigin: () => getLengthableOrigin,
  getParsedType: () => getParsedType,
  getSizableOrigin: () => getSizableOrigin,
  hexToUint8Array: () => hexToUint8Array,
  isObject: () => isObject,
  isPlainObject: () => isPlainObject,
  issue: () => issue,
  joinValues: () => joinValues,
  jsonStringifyReplacer: () => jsonStringifyReplacer,
  merge: () => merge,
  mergeDefs: () => mergeDefs,
  normalizeParams: () => normalizeParams,
  nullish: () => nullish,
  numKeys: () => numKeys,
  objectClone: () => objectClone,
  omit: () => omit,
  optionalKeys: () => optionalKeys,
  partial: () => partial,
  pick: () => pick,
  prefixIssues: () => prefixIssues,
  primitiveTypes: () => primitiveTypes,
  promiseAllObject: () => promiseAllObject,
  propertyKeyTypes: () => propertyKeyTypes,
  randomString: () => randomString,
  required: () => required,
  safeExtend: () => safeExtend,
  shallowClone: () => shallowClone,
  stringifyPrimitive: () => stringifyPrimitive,
  uint8ArrayToBase64: () => uint8ArrayToBase64,
  uint8ArrayToBase64url: () => uint8ArrayToBase64url,
  uint8ArrayToHex: () => uint8ArrayToHex,
  unwrapMessage: () => unwrapMessage
});
function assertEqual(val) {
  return val;
}
function assertNotEqual(val) {
  return val;
}
function assertIs(_arg) {
}
function assertNever(_x) {
  throw new Error();
}
function assert(_2) {
}
function getEnumValues(entries) {
  const numericValues = Object.values(entries).filter((v2) => typeof v2 === "number");
  const values = Object.entries(entries).filter(([k, _2]) => numericValues.indexOf(+k) === -1).map(([_2, v2]) => v2);
  return values;
}
function joinValues(array2, separator = "|") {
  return array2.map((val) => stringifyPrimitive(val)).join(separator);
}
function jsonStringifyReplacer(_2, value) {
  if (typeof value === "bigint")
    return value.toString();
  return value;
}
function cached(getter) {
  const set2 = false;
  return {
    get value() {
      if (!set2) {
        const value = getter();
        Object.defineProperty(this, "value", { value });
        return value;
      }
      throw new Error("cached value already set");
    }
  };
}
function nullish(input) {
  return input === null || input === void 0;
}
function cleanRegex(source) {
  const start = source.startsWith("^") ? 1 : 0;
  const end = source.endsWith("$") ? source.length - 1 : source.length;
  return source.slice(start, end);
}
function floatSafeRemainder(val, step) {
  const valDecCount = (val.toString().split(".")[1] || "").length;
  const stepString = step.toString();
  let stepDecCount = (stepString.split(".")[1] || "").length;
  if (stepDecCount === 0 && /\d?e-\d?/.test(stepString)) {
    const match = stepString.match(/\d?e-(\d?)/);
    if (match?.[1]) {
      stepDecCount = Number.parseInt(match[1]);
    }
  }
  const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
  const valInt = Number.parseInt(val.toFixed(decCount).replace(".", ""));
  const stepInt = Number.parseInt(step.toFixed(decCount).replace(".", ""));
  return valInt % stepInt / 10 ** decCount;
}
var EVALUATING = Symbol("evaluating");
function defineLazy(object3, key, getter) {
  let value = void 0;
  Object.defineProperty(object3, key, {
    get() {
      if (value === EVALUATING) {
        return void 0;
      }
      if (value === void 0) {
        value = EVALUATING;
        value = getter();
      }
      return value;
    },
    set(v2) {
      Object.defineProperty(object3, key, {
        value: v2
        // configurable: true,
      });
    },
    configurable: true
  });
}
function objectClone(obj) {
  return Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));
}
function assignProp(target, prop, value) {
  Object.defineProperty(target, prop, {
    value,
    writable: true,
    enumerable: true,
    configurable: true
  });
}
function mergeDefs(...defs) {
  const mergedDescriptors = {};
  for (const def of defs) {
    const descriptors = Object.getOwnPropertyDescriptors(def);
    Object.assign(mergedDescriptors, descriptors);
  }
  return Object.defineProperties({}, mergedDescriptors);
}
function cloneDef(schema) {
  return mergeDefs(schema._zod.def);
}
function getElementAtPath(obj, path) {
  if (!path)
    return obj;
  return path.reduce((acc, key) => acc?.[key], obj);
}
function promiseAllObject(promisesObj) {
  const keys = Object.keys(promisesObj);
  const promises = keys.map((key) => promisesObj[key]);
  return Promise.all(promises).then((results) => {
    const resolvedObj = {};
    for (let i2 = 0; i2 < keys.length; i2++) {
      resolvedObj[keys[i2]] = results[i2];
    }
    return resolvedObj;
  });
}
function randomString(length = 10) {
  const chars = "abcdefghijklmnopqrstuvwxyz";
  let str = "";
  for (let i2 = 0; i2 < length; i2++) {
    str += chars[Math.floor(Math.random() * chars.length)];
  }
  return str;
}
function esc(str) {
  return JSON.stringify(str);
}
var captureStackTrace = "captureStackTrace" in Error ? Error.captureStackTrace : (..._args) => {
};
function isObject(data) {
  return typeof data === "object" && data !== null && !Array.isArray(data);
}
var allowsEval = cached(() => {
  if (typeof navigator !== "undefined" && navigator?.userAgent?.includes("Cloudflare")) {
    return false;
  }
  try {
    const F = Function;
    new F("");
    return true;
  } catch (_2) {
    return false;
  }
});
function isPlainObject(o2) {
  if (isObject(o2) === false)
    return false;
  const ctor = o2.constructor;
  if (ctor === void 0)
    return true;
  const prot = ctor.prototype;
  if (isObject(prot) === false)
    return false;
  if (Object.prototype.hasOwnProperty.call(prot, "isPrototypeOf") === false) {
    return false;
  }
  return true;
}
function shallowClone(o2) {
  if (isPlainObject(o2))
    return { ...o2 };
  if (Array.isArray(o2))
    return [...o2];
  return o2;
}
function numKeys(data) {
  let keyCount = 0;
  for (const key in data) {
    if (Object.prototype.hasOwnProperty.call(data, key)) {
      keyCount++;
    }
  }
  return keyCount;
}
var getParsedType = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "undefined":
      return "undefined";
    case "string":
      return "string";
    case "number":
      return Number.isNaN(data) ? "nan" : "number";
    case "boolean":
      return "boolean";
    case "function":
      return "function";
    case "bigint":
      return "bigint";
    case "symbol":
      return "symbol";
    case "object":
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (data.then && typeof data.then === "function" && data.catch && typeof data.catch === "function") {
        return "promise";
      }
      if (typeof Map !== "undefined" && data instanceof Map) {
        return "map";
      }
      if (typeof Set !== "undefined" && data instanceof Set) {
        return "set";
      }
      if (typeof Date !== "undefined" && data instanceof Date) {
        return "date";
      }
      if (typeof File !== "undefined" && data instanceof File) {
        return "file";
      }
      return "object";
    default:
      throw new Error(`Unknown data type: ${t2}`);
  }
};
var propertyKeyTypes = /* @__PURE__ */ new Set(["string", "number", "symbol"]);
var primitiveTypes = /* @__PURE__ */ new Set(["string", "number", "bigint", "boolean", "symbol", "undefined"]);
function escapeRegex(str) {
  return str.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function clone(inst, def, params) {
  const cl = new inst._zod.constr(def ?? inst._zod.def);
  if (!def || params?.parent)
    cl._zod.parent = inst;
  return cl;
}
function normalizeParams(_params) {
  const params = _params;
  if (!params)
    return {};
  if (typeof params === "string")
    return { error: () => params };
  if (params?.message !== void 0) {
    if (params?.error !== void 0)
      throw new Error("Cannot specify both `message` and `error` params");
    params.error = params.message;
  }
  delete params.message;
  if (typeof params.error === "string")
    return { ...params, error: () => params.error };
  return params;
}
function createTransparentProxy(getter) {
  let target;
  return new Proxy({}, {
    get(_2, prop, receiver) {
      target ?? (target = getter());
      return Reflect.get(target, prop, receiver);
    },
    set(_2, prop, value, receiver) {
      target ?? (target = getter());
      return Reflect.set(target, prop, value, receiver);
    },
    has(_2, prop) {
      target ?? (target = getter());
      return Reflect.has(target, prop);
    },
    deleteProperty(_2, prop) {
      target ?? (target = getter());
      return Reflect.deleteProperty(target, prop);
    },
    ownKeys(_2) {
      target ?? (target = getter());
      return Reflect.ownKeys(target);
    },
    getOwnPropertyDescriptor(_2, prop) {
      target ?? (target = getter());
      return Reflect.getOwnPropertyDescriptor(target, prop);
    },
    defineProperty(_2, prop, descriptor) {
      target ?? (target = getter());
      return Reflect.defineProperty(target, prop, descriptor);
    }
  });
}
function stringifyPrimitive(value) {
  if (typeof value === "bigint")
    return value.toString() + "n";
  if (typeof value === "string")
    return `"${value}"`;
  return `${value}`;
}
function optionalKeys(shape) {
  return Object.keys(shape).filter((k) => {
    return shape[k]._zod.optin === "optional" && shape[k]._zod.optout === "optional";
  });
}
var NUMBER_FORMAT_RANGES = {
  safeint: [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],
  int32: [-2147483648, 2147483647],
  uint32: [0, 4294967295],
  float32: [-34028234663852886e22, 34028234663852886e22],
  float64: [-Number.MAX_VALUE, Number.MAX_VALUE]
};
var BIGINT_FORMAT_RANGES = {
  int64: [/* @__PURE__ */ BigInt("-9223372036854775808"), /* @__PURE__ */ BigInt("9223372036854775807")],
  uint64: [/* @__PURE__ */ BigInt(0), /* @__PURE__ */ BigInt("18446744073709551615")]
};
function pick(schema, mask) {
  const currDef = schema._zod.def;
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const newShape = {};
      for (const key in mask) {
        if (!(key in currDef.shape)) {
          throw new Error(`Unrecognized key: "${key}"`);
        }
        if (!mask[key])
          continue;
        newShape[key] = currDef.shape[key];
      }
      assignProp(this, "shape", newShape);
      return newShape;
    },
    checks: []
  });
  return clone(schema, def);
}
function omit(schema, mask) {
  const currDef = schema._zod.def;
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const newShape = { ...schema._zod.def.shape };
      for (const key in mask) {
        if (!(key in currDef.shape)) {
          throw new Error(`Unrecognized key: "${key}"`);
        }
        if (!mask[key])
          continue;
        delete newShape[key];
      }
      assignProp(this, "shape", newShape);
      return newShape;
    },
    checks: []
  });
  return clone(schema, def);
}
function extend(schema, shape) {
  if (!isPlainObject(shape)) {
    throw new Error("Invalid input to extend: expected a plain object");
  }
  const checks = schema._zod.def.checks;
  const hasChecks = checks && checks.length > 0;
  if (hasChecks) {
    throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");
  }
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const _shape = { ...schema._zod.def.shape, ...shape };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    checks: []
  });
  return clone(schema, def);
}
function safeExtend(schema, shape) {
  if (!isPlainObject(shape)) {
    throw new Error("Invalid input to safeExtend: expected a plain object");
  }
  const def = {
    ...schema._zod.def,
    get shape() {
      const _shape = { ...schema._zod.def.shape, ...shape };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    checks: schema._zod.def.checks
  };
  return clone(schema, def);
}
function merge(a2, b2) {
  const def = mergeDefs(a2._zod.def, {
    get shape() {
      const _shape = { ...a2._zod.def.shape, ...b2._zod.def.shape };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    get catchall() {
      return b2._zod.def.catchall;
    },
    checks: []
    // delete existing checks
  });
  return clone(a2, def);
}
function partial(Class2, schema, mask) {
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const oldShape = schema._zod.def.shape;
      const shape = { ...oldShape };
      if (mask) {
        for (const key in mask) {
          if (!(key in oldShape)) {
            throw new Error(`Unrecognized key: "${key}"`);
          }
          if (!mask[key])
            continue;
          shape[key] = Class2 ? new Class2({
            type: "optional",
            innerType: oldShape[key]
          }) : oldShape[key];
        }
      } else {
        for (const key in oldShape) {
          shape[key] = Class2 ? new Class2({
            type: "optional",
            innerType: oldShape[key]
          }) : oldShape[key];
        }
      }
      assignProp(this, "shape", shape);
      return shape;
    },
    checks: []
  });
  return clone(schema, def);
}
function required(Class2, schema, mask) {
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const oldShape = schema._zod.def.shape;
      const shape = { ...oldShape };
      if (mask) {
        for (const key in mask) {
          if (!(key in shape)) {
            throw new Error(`Unrecognized key: "${key}"`);
          }
          if (!mask[key])
            continue;
          shape[key] = new Class2({
            type: "nonoptional",
            innerType: oldShape[key]
          });
        }
      } else {
        for (const key in oldShape) {
          shape[key] = new Class2({
            type: "nonoptional",
            innerType: oldShape[key]
          });
        }
      }
      assignProp(this, "shape", shape);
      return shape;
    },
    checks: []
  });
  return clone(schema, def);
}
function aborted(x2, startIndex = 0) {
  if (x2.aborted === true)
    return true;
  for (let i2 = startIndex; i2 < x2.issues.length; i2++) {
    if (x2.issues[i2]?.continue !== true) {
      return true;
    }
  }
  return false;
}
function prefixIssues(path, issues) {
  return issues.map((iss) => {
    var _a17;
    (_a17 = iss).path ?? (_a17.path = []);
    iss.path.unshift(path);
    return iss;
  });
}
function unwrapMessage(message) {
  return typeof message === "string" ? message : message?.message;
}
function finalizeIssue(iss, ctx, config2) {
  const full = { ...iss, path: iss.path ?? [] };
  if (!iss.message) {
    const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ?? unwrapMessage(ctx?.error?.(iss)) ?? unwrapMessage(config2.customError?.(iss)) ?? unwrapMessage(config2.localeError?.(iss)) ?? "Invalid input";
    full.message = message;
  }
  delete full.inst;
  delete full.continue;
  if (!ctx?.reportInput) {
    delete full.input;
  }
  return full;
}
function getSizableOrigin(input) {
  if (input instanceof Set)
    return "set";
  if (input instanceof Map)
    return "map";
  if (input instanceof File)
    return "file";
  return "unknown";
}
function getLengthableOrigin(input) {
  if (Array.isArray(input))
    return "array";
  if (typeof input === "string")
    return "string";
  return "unknown";
}
function issue(...args) {
  const [iss, input, inst] = args;
  if (typeof iss === "string") {
    return {
      message: iss,
      code: "custom",
      input,
      inst
    };
  }
  return { ...iss };
}
function cleanEnum(obj) {
  return Object.entries(obj).filter(([k, _2]) => {
    return Number.isNaN(Number.parseInt(k, 10));
  }).map((el) => el[1]);
}
function base64ToUint8Array(base643) {
  const binaryString = atob(base643);
  const bytes = new Uint8Array(binaryString.length);
  for (let i2 = 0; i2 < binaryString.length; i2++) {
    bytes[i2] = binaryString.charCodeAt(i2);
  }
  return bytes;
}
function uint8ArrayToBase64(bytes) {
  let binaryString = "";
  for (let i2 = 0; i2 < bytes.length; i2++) {
    binaryString += String.fromCharCode(bytes[i2]);
  }
  return btoa(binaryString);
}
function base64urlToUint8Array(base64url3) {
  const base643 = base64url3.replace(/-/g, "+").replace(/_/g, "/");
  const padding = "=".repeat((4 - base643.length % 4) % 4);
  return base64ToUint8Array(base643 + padding);
}
function uint8ArrayToBase64url(bytes) {
  return uint8ArrayToBase64(bytes).replace(/\+/g, "-").replace(/\//g, "_").replace(/=/g, "");
}
function hexToUint8Array(hex3) {
  const cleanHex = hex3.replace(/^0x/, "");
  if (cleanHex.length % 2 !== 0) {
    throw new Error("Invalid hex string length");
  }
  const bytes = new Uint8Array(cleanHex.length / 2);
  for (let i2 = 0; i2 < cleanHex.length; i2 += 2) {
    bytes[i2 / 2] = Number.parseInt(cleanHex.slice(i2, i2 + 2), 16);
  }
  return bytes;
}
function uint8ArrayToHex(bytes) {
  return Array.from(bytes).map((b2) => b2.toString(16).padStart(2, "0")).join("");
}
var Class = class {
  constructor(..._args) {
  }
};

// node_modules/zod/v4/core/errors.js
var initializer = (inst, def) => {
  inst.name = "$ZodError";
  Object.defineProperty(inst, "_zod", {
    value: inst._zod,
    enumerable: false
  });
  Object.defineProperty(inst, "issues", {
    value: def,
    enumerable: false
  });
  inst.message = JSON.stringify(def, jsonStringifyReplacer, 2);
  Object.defineProperty(inst, "toString", {
    value: () => inst.message,
    enumerable: false
  });
};
var $ZodError = $constructor("$ZodError", initializer);
var $ZodRealError = $constructor("$ZodError", initializer, { Parent: Error });
function flattenError(error45, mapper = (issue2) => issue2.message) {
  const fieldErrors = {};
  const formErrors = [];
  for (const sub of error45.issues) {
    if (sub.path.length > 0) {
      fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];
      fieldErrors[sub.path[0]].push(mapper(sub));
    } else {
      formErrors.push(mapper(sub));
    }
  }
  return { formErrors, fieldErrors };
}
function formatError(error45, _mapper) {
  const mapper = _mapper || function(issue2) {
    return issue2.message;
  };
  const fieldErrors = { _errors: [] };
  const processError = (error46) => {
    for (const issue2 of error46.issues) {
      if (issue2.code === "invalid_union" && issue2.errors.length) {
        issue2.errors.map((issues) => processError({ issues }));
      } else if (issue2.code === "invalid_key") {
        processError({ issues: issue2.issues });
      } else if (issue2.code === "invalid_element") {
        processError({ issues: issue2.issues });
      } else if (issue2.path.length === 0) {
        fieldErrors._errors.push(mapper(issue2));
      } else {
        let curr = fieldErrors;
        let i2 = 0;
        while (i2 < issue2.path.length) {
          const el = issue2.path[i2];
          const terminal = i2 === issue2.path.length - 1;
          if (!terminal) {
            curr[el] = curr[el] || { _errors: [] };
          } else {
            curr[el] = curr[el] || { _errors: [] };
            curr[el]._errors.push(mapper(issue2));
          }
          curr = curr[el];
          i2++;
        }
      }
    }
  };
  processError(error45);
  return fieldErrors;
}
function treeifyError(error45, _mapper) {
  const mapper = _mapper || function(issue2) {
    return issue2.message;
  };
  const result = { errors: [] };
  const processError = (error46, path = []) => {
    var _a17, _b8;
    for (const issue2 of error46.issues) {
      if (issue2.code === "invalid_union" && issue2.errors.length) {
        issue2.errors.map((issues) => processError({ issues }, issue2.path));
      } else if (issue2.code === "invalid_key") {
        processError({ issues: issue2.issues }, issue2.path);
      } else if (issue2.code === "invalid_element") {
        processError({ issues: issue2.issues }, issue2.path);
      } else {
        const fullpath = [...path, ...issue2.path];
        if (fullpath.length === 0) {
          result.errors.push(mapper(issue2));
          continue;
        }
        let curr = result;
        let i2 = 0;
        while (i2 < fullpath.length) {
          const el = fullpath[i2];
          const terminal = i2 === fullpath.length - 1;
          if (typeof el === "string") {
            curr.properties ?? (curr.properties = {});
            (_a17 = curr.properties)[el] ?? (_a17[el] = { errors: [] });
            curr = curr.properties[el];
          } else {
            curr.items ?? (curr.items = []);
            (_b8 = curr.items)[el] ?? (_b8[el] = { errors: [] });
            curr = curr.items[el];
          }
          if (terminal) {
            curr.errors.push(mapper(issue2));
          }
          i2++;
        }
      }
    }
  };
  processError(error45);
  return result;
}
function toDotPath(_path) {
  const segs = [];
  const path = _path.map((seg) => typeof seg === "object" ? seg.key : seg);
  for (const seg of path) {
    if (typeof seg === "number")
      segs.push(`[${seg}]`);
    else if (typeof seg === "symbol")
      segs.push(`[${JSON.stringify(String(seg))}]`);
    else if (/[^\w$]/.test(seg))
      segs.push(`[${JSON.stringify(seg)}]`);
    else {
      if (segs.length)
        segs.push(".");
      segs.push(seg);
    }
  }
  return segs.join("");
}
function prettifyError(error45) {
  const lines = [];
  const issues = [...error45.issues].sort((a2, b2) => (a2.path ?? []).length - (b2.path ?? []).length);
  for (const issue2 of issues) {
    lines.push(`\u2716 ${issue2.message}`);
    if (issue2.path?.length)
      lines.push(`  \u2192 at ${toDotPath(issue2.path)}`);
  }
  return lines.join("\n");
}

// node_modules/zod/v4/core/parse.js
var _parse = (_Err) => (schema, value, _ctx, _params) => {
  const ctx = _ctx ? Object.assign(_ctx, { async: false }) : { async: false };
  const result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise) {
    throw new $ZodAsyncError();
  }
  if (result.issues.length) {
    const e = new (_params?.Err ?? _Err)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())));
    captureStackTrace(e, _params?.callee);
    throw e;
  }
  return result.value;
};
var parse = /* @__PURE__ */ _parse($ZodRealError);
var _parseAsync = (_Err) => async (schema, value, _ctx, params) => {
  const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };
  let result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise)
    result = await result;
  if (result.issues.length) {
    const e = new (params?.Err ?? _Err)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())));
    captureStackTrace(e, params?.callee);
    throw e;
  }
  return result.value;
};
var parseAsync = /* @__PURE__ */ _parseAsync($ZodRealError);
var _safeParse = (_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? { ..._ctx, async: false } : { async: false };
  const result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise) {
    throw new $ZodAsyncError();
  }
  return result.issues.length ? {
    success: false,
    error: new (_Err ?? $ZodError)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  } : { success: true, data: result.value };
};
var safeParse = /* @__PURE__ */ _safeParse($ZodRealError);
var _safeParseAsync = (_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };
  let result = schema._zod.run({ value, issues: [] }, ctx);
  if (result instanceof Promise)
    result = await result;
  return result.issues.length ? {
    success: false,
    error: new _Err(result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  } : { success: true, data: result.value };
};
var safeParseAsync = /* @__PURE__ */ _safeParseAsync($ZodRealError);
var _encode = (_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _parse(_Err)(schema, value, ctx);
};
var encode = /* @__PURE__ */ _encode($ZodRealError);
var _decode = (_Err) => (schema, value, _ctx) => {
  return _parse(_Err)(schema, value, _ctx);
};
var decode = /* @__PURE__ */ _decode($ZodRealError);
var _encodeAsync = (_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _parseAsync(_Err)(schema, value, ctx);
};
var encodeAsync = /* @__PURE__ */ _encodeAsync($ZodRealError);
var _decodeAsync = (_Err) => async (schema, value, _ctx) => {
  return _parseAsync(_Err)(schema, value, _ctx);
};
var decodeAsync = /* @__PURE__ */ _decodeAsync($ZodRealError);
var _safeEncode = (_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _safeParse(_Err)(schema, value, ctx);
};
var safeEncode = /* @__PURE__ */ _safeEncode($ZodRealError);
var _safeDecode = (_Err) => (schema, value, _ctx) => {
  return _safeParse(_Err)(schema, value, _ctx);
};
var safeDecode = /* @__PURE__ */ _safeDecode($ZodRealError);
var _safeEncodeAsync = (_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, { direction: "backward" }) : { direction: "backward" };
  return _safeParseAsync(_Err)(schema, value, ctx);
};
var safeEncodeAsync = /* @__PURE__ */ _safeEncodeAsync($ZodRealError);
var _safeDecodeAsync = (_Err) => async (schema, value, _ctx) => {
  return _safeParseAsync(_Err)(schema, value, _ctx);
};
var safeDecodeAsync = /* @__PURE__ */ _safeDecodeAsync($ZodRealError);

// node_modules/zod/v4/core/regexes.js
var regexes_exports = {};
__export(regexes_exports, {
  base64: () => base64,
  base64url: () => base64url,
  bigint: () => bigint,
  boolean: () => boolean,
  browserEmail: () => browserEmail,
  cidrv4: () => cidrv4,
  cidrv6: () => cidrv6,
  cuid: () => cuid,
  cuid2: () => cuid2,
  date: () => date,
  datetime: () => datetime,
  domain: () => domain,
  duration: () => duration,
  e164: () => e164,
  email: () => email,
  emoji: () => emoji,
  extendedDuration: () => extendedDuration,
  guid: () => guid,
  hex: () => hex,
  hostname: () => hostname,
  html5Email: () => html5Email,
  idnEmail: () => idnEmail,
  integer: () => integer,
  ipv4: () => ipv4,
  ipv6: () => ipv6,
  ksuid: () => ksuid,
  lowercase: () => lowercase,
  md5_base64: () => md5_base64,
  md5_base64url: () => md5_base64url,
  md5_hex: () => md5_hex,
  nanoid: () => nanoid,
  null: () => _null,
  number: () => number,
  rfc5322Email: () => rfc5322Email,
  sha1_base64: () => sha1_base64,
  sha1_base64url: () => sha1_base64url,
  sha1_hex: () => sha1_hex,
  sha256_base64: () => sha256_base64,
  sha256_base64url: () => sha256_base64url,
  sha256_hex: () => sha256_hex,
  sha384_base64: () => sha384_base64,
  sha384_base64url: () => sha384_base64url,
  sha384_hex: () => sha384_hex,
  sha512_base64: () => sha512_base64,
  sha512_base64url: () => sha512_base64url,
  sha512_hex: () => sha512_hex,
  string: () => string,
  time: () => time,
  ulid: () => ulid,
  undefined: () => _undefined,
  unicodeEmail: () => unicodeEmail,
  uppercase: () => uppercase,
  uuid: () => uuid,
  uuid4: () => uuid4,
  uuid6: () => uuid6,
  uuid7: () => uuid7,
  xid: () => xid
});
var cuid = /^[cC][^\s-]{8,}$/;
var cuid2 = /^[0-9a-z]+$/;
var ulid = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;
var xid = /^[0-9a-vA-V]{20}$/;
var ksuid = /^[A-Za-z0-9]{27}$/;
var nanoid = /^[a-zA-Z0-9_-]{21}$/;
var duration = /^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/;
var extendedDuration = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/;
var guid = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;
var uuid = (version2) => {
  if (!version2)
    return /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;
  return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version2}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`);
};
var uuid4 = /* @__PURE__ */ uuid(4);
var uuid6 = /* @__PURE__ */ uuid(6);
var uuid7 = /* @__PURE__ */ uuid(7);
var email = /^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;
var html5Email = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
var rfc5322Email = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
var unicodeEmail = /^[^\s@"]{1,64}@[^\s@]{1,255}$/u;
var idnEmail = unicodeEmail;
var browserEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
var _emoji = `^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;
function emoji() {
  return new RegExp(_emoji, "u");
}
var ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
var ipv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;
var cidrv4 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/;
var cidrv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
var base64 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;
var base64url = /^[A-Za-z0-9_-]*$/;
var hostname = /^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/;
var domain = /^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/;
var e164 = /^\+(?:[0-9]){6,14}[0-9]$/;
var dateSource = `(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))`;
var date = /* @__PURE__ */ new RegExp(`^${dateSource}$`);
function timeSource(args) {
  const hhmm = `(?:[01]\\d|2[0-3]):[0-5]\\d`;
  const regex = typeof args.precision === "number" ? args.precision === -1 ? `${hhmm}` : args.precision === 0 ? `${hhmm}:[0-5]\\d` : `${hhmm}:[0-5]\\d\\.\\d{${args.precision}}` : `${hhmm}(?::[0-5]\\d(?:\\.\\d+)?)?`;
  return regex;
}
function time(args) {
  return new RegExp(`^${timeSource(args)}$`);
}
function datetime(args) {
  const time3 = timeSource({ precision: args.precision });
  const opts = ["Z"];
  if (args.local)
    opts.push("");
  if (args.offset)
    opts.push(`([+-](?:[01]\\d|2[0-3]):[0-5]\\d)`);
  const timeRegex2 = `${time3}(?:${opts.join("|")})`;
  return new RegExp(`^${dateSource}T(?:${timeRegex2})$`);
}
var string = (params) => {
  const regex = params ? `[\\s\\S]{${params?.minimum ?? 0},${params?.maximum ?? ""}}` : `[\\s\\S]*`;
  return new RegExp(`^${regex}$`);
};
var bigint = /^-?\d+n?$/;
var integer = /^-?\d+$/;
var number = /^-?\d+(?:\.\d+)?/;
var boolean = /^(?:true|false)$/i;
var _null = /^null$/i;
var _undefined = /^undefined$/i;
var lowercase = /^[^A-Z]*$/;
var uppercase = /^[^a-z]*$/;
var hex = /^[0-9a-fA-F]*$/;
function fixedBase64(bodyLength, padding) {
  return new RegExp(`^[A-Za-z0-9+/]{${bodyLength}}${padding}$`);
}
function fixedBase64url(length) {
  return new RegExp(`^[A-Za-z0-9_-]{${length}}$`);
}
var md5_hex = /^[0-9a-fA-F]{32}$/;
var md5_base64 = /* @__PURE__ */ fixedBase64(22, "==");
var md5_base64url = /* @__PURE__ */ fixedBase64url(22);
var sha1_hex = /^[0-9a-fA-F]{40}$/;
var sha1_base64 = /* @__PURE__ */ fixedBase64(27, "=");
var sha1_base64url = /* @__PURE__ */ fixedBase64url(27);
var sha256_hex = /^[0-9a-fA-F]{64}$/;
var sha256_base64 = /* @__PURE__ */ fixedBase64(43, "=");
var sha256_base64url = /* @__PURE__ */ fixedBase64url(43);
var sha384_hex = /^[0-9a-fA-F]{96}$/;
var sha384_base64 = /* @__PURE__ */ fixedBase64(64, "");
var sha384_base64url = /* @__PURE__ */ fixedBase64url(64);
var sha512_hex = /^[0-9a-fA-F]{128}$/;
var sha512_base64 = /* @__PURE__ */ fixedBase64(86, "==");
var sha512_base64url = /* @__PURE__ */ fixedBase64url(86);

// node_modules/zod/v4/core/checks.js
var $ZodCheck = /* @__PURE__ */ $constructor("$ZodCheck", (inst, def) => {
  var _a17;
  inst._zod ?? (inst._zod = {});
  inst._zod.def = def;
  (_a17 = inst._zod).onattach ?? (_a17.onattach = []);
});
var numericOriginMap = {
  number: "number",
  bigint: "bigint",
  object: "date"
};
var $ZodCheckLessThan = /* @__PURE__ */ $constructor("$ZodCheckLessThan", (inst, def) => {
  $ZodCheck.init(inst, def);
  const origin = numericOriginMap[typeof def.value];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    const curr = (def.inclusive ? bag.maximum : bag.exclusiveMaximum) ?? Number.POSITIVE_INFINITY;
    if (def.value < curr) {
      if (def.inclusive)
        bag.maximum = def.value;
      else
        bag.exclusiveMaximum = def.value;
    }
  });
  inst._zod.check = (payload) => {
    if (def.inclusive ? payload.value <= def.value : payload.value < def.value) {
      return;
    }
    payload.issues.push({
      origin,
      code: "too_big",
      maximum: def.value,
      input: payload.value,
      inclusive: def.inclusive,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckGreaterThan = /* @__PURE__ */ $constructor("$ZodCheckGreaterThan", (inst, def) => {
  $ZodCheck.init(inst, def);
  const origin = numericOriginMap[typeof def.value];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    const curr = (def.inclusive ? bag.minimum : bag.exclusiveMinimum) ?? Number.NEGATIVE_INFINITY;
    if (def.value > curr) {
      if (def.inclusive)
        bag.minimum = def.value;
      else
        bag.exclusiveMinimum = def.value;
    }
  });
  inst._zod.check = (payload) => {
    if (def.inclusive ? payload.value >= def.value : payload.value > def.value) {
      return;
    }
    payload.issues.push({
      origin,
      code: "too_small",
      minimum: def.value,
      input: payload.value,
      inclusive: def.inclusive,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMultipleOf = /* @__PURE__ */ $constructor("$ZodCheckMultipleOf", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    var _a17;
    (_a17 = inst2._zod.bag).multipleOf ?? (_a17.multipleOf = def.value);
  });
  inst._zod.check = (payload) => {
    if (typeof payload.value !== typeof def.value)
      throw new Error("Cannot mix number and bigint in multiple_of check.");
    const isMultiple = typeof payload.value === "bigint" ? payload.value % def.value === BigInt(0) : floatSafeRemainder(payload.value, def.value) === 0;
    if (isMultiple)
      return;
    payload.issues.push({
      origin: typeof payload.value,
      code: "not_multiple_of",
      divisor: def.value,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckNumberFormat = /* @__PURE__ */ $constructor("$ZodCheckNumberFormat", (inst, def) => {
  $ZodCheck.init(inst, def);
  def.format = def.format || "float64";
  const isInt = def.format?.includes("int");
  const origin = isInt ? "int" : "number";
  const [minimum, maximum] = NUMBER_FORMAT_RANGES[def.format];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    bag.minimum = minimum;
    bag.maximum = maximum;
    if (isInt)
      bag.pattern = integer;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    if (isInt) {
      if (!Number.isInteger(input)) {
        payload.issues.push({
          expected: origin,
          format: def.format,
          code: "invalid_type",
          continue: false,
          input,
          inst
        });
        return;
      }
      if (!Number.isSafeInteger(input)) {
        if (input > 0) {
          payload.issues.push({
            input,
            code: "too_big",
            maximum: Number.MAX_SAFE_INTEGER,
            note: "Integers must be within the safe integer range.",
            inst,
            origin,
            continue: !def.abort
          });
        } else {
          payload.issues.push({
            input,
            code: "too_small",
            minimum: Number.MIN_SAFE_INTEGER,
            note: "Integers must be within the safe integer range.",
            inst,
            origin,
            continue: !def.abort
          });
        }
        return;
      }
    }
    if (input < minimum) {
      payload.issues.push({
        origin: "number",
        input,
        code: "too_small",
        minimum,
        inclusive: true,
        inst,
        continue: !def.abort
      });
    }
    if (input > maximum) {
      payload.issues.push({
        origin: "number",
        input,
        code: "too_big",
        maximum,
        inst
      });
    }
  };
});
var $ZodCheckBigIntFormat = /* @__PURE__ */ $constructor("$ZodCheckBigIntFormat", (inst, def) => {
  $ZodCheck.init(inst, def);
  const [minimum, maximum] = BIGINT_FORMAT_RANGES[def.format];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    bag.minimum = minimum;
    bag.maximum = maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    if (input < minimum) {
      payload.issues.push({
        origin: "bigint",
        input,
        code: "too_small",
        minimum,
        inclusive: true,
        inst,
        continue: !def.abort
      });
    }
    if (input > maximum) {
      payload.issues.push({
        origin: "bigint",
        input,
        code: "too_big",
        maximum,
        inst
      });
    }
  };
});
var $ZodCheckMaxSize = /* @__PURE__ */ $constructor("$ZodCheckMaxSize", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.maximum ?? Number.POSITIVE_INFINITY;
    if (def.maximum < curr)
      inst2._zod.bag.maximum = def.maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size <= def.maximum)
      return;
    payload.issues.push({
      origin: getSizableOrigin(input),
      code: "too_big",
      maximum: def.maximum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMinSize = /* @__PURE__ */ $constructor("$ZodCheckMinSize", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.minimum ?? Number.NEGATIVE_INFINITY;
    if (def.minimum > curr)
      inst2._zod.bag.minimum = def.minimum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size >= def.minimum)
      return;
    payload.issues.push({
      origin: getSizableOrigin(input),
      code: "too_small",
      minimum: def.minimum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckSizeEquals = /* @__PURE__ */ $constructor("$ZodCheckSizeEquals", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.minimum = def.size;
    bag.maximum = def.size;
    bag.size = def.size;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size === def.size)
      return;
    const tooBig = size > def.size;
    payload.issues.push({
      origin: getSizableOrigin(input),
      ...tooBig ? { code: "too_big", maximum: def.size } : { code: "too_small", minimum: def.size },
      inclusive: true,
      exact: true,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMaxLength = /* @__PURE__ */ $constructor("$ZodCheckMaxLength", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.maximum ?? Number.POSITIVE_INFINITY;
    if (def.maximum < curr)
      inst2._zod.bag.maximum = def.maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length <= def.maximum)
      return;
    const origin = getLengthableOrigin(input);
    payload.issues.push({
      origin,
      code: "too_big",
      maximum: def.maximum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMinLength = /* @__PURE__ */ $constructor("$ZodCheckMinLength", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.minimum ?? Number.NEGATIVE_INFINITY;
    if (def.minimum > curr)
      inst2._zod.bag.minimum = def.minimum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length >= def.minimum)
      return;
    const origin = getLengthableOrigin(input);
    payload.issues.push({
      origin,
      code: "too_small",
      minimum: def.minimum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckLengthEquals = /* @__PURE__ */ $constructor("$ZodCheckLengthEquals", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.minimum = def.length;
    bag.maximum = def.length;
    bag.length = def.length;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length === def.length)
      return;
    const origin = getLengthableOrigin(input);
    const tooBig = length > def.length;
    payload.issues.push({
      origin,
      ...tooBig ? { code: "too_big", maximum: def.length } : { code: "too_small", minimum: def.length },
      inclusive: true,
      exact: true,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckStringFormat = /* @__PURE__ */ $constructor("$ZodCheckStringFormat", (inst, def) => {
  var _a17, _b8;
  $ZodCheck.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    if (def.pattern) {
      bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
      bag.patterns.add(def.pattern);
    }
  });
  if (def.pattern)
    (_a17 = inst._zod).check ?? (_a17.check = (payload) => {
      def.pattern.lastIndex = 0;
      if (def.pattern.test(payload.value))
        return;
      payload.issues.push({
        origin: "string",
        code: "invalid_format",
        format: def.format,
        input: payload.value,
        ...def.pattern ? { pattern: def.pattern.toString() } : {},
        inst,
        continue: !def.abort
      });
    });
  else
    (_b8 = inst._zod).check ?? (_b8.check = () => {
    });
});
var $ZodCheckRegex = /* @__PURE__ */ $constructor("$ZodCheckRegex", (inst, def) => {
  $ZodCheckStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    def.pattern.lastIndex = 0;
    if (def.pattern.test(payload.value))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "regex",
      input: payload.value,
      pattern: def.pattern.toString(),
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckLowerCase = /* @__PURE__ */ $constructor("$ZodCheckLowerCase", (inst, def) => {
  def.pattern ?? (def.pattern = lowercase);
  $ZodCheckStringFormat.init(inst, def);
});
var $ZodCheckUpperCase = /* @__PURE__ */ $constructor("$ZodCheckUpperCase", (inst, def) => {
  def.pattern ?? (def.pattern = uppercase);
  $ZodCheckStringFormat.init(inst, def);
});
var $ZodCheckIncludes = /* @__PURE__ */ $constructor("$ZodCheckIncludes", (inst, def) => {
  $ZodCheck.init(inst, def);
  const escapedRegex = escapeRegex(def.includes);
  const pattern = new RegExp(typeof def.position === "number" ? `^.{${def.position}}${escapedRegex}` : escapedRegex);
  def.pattern = pattern;
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.includes(def.includes, def.position))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "includes",
      includes: def.includes,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckStartsWith = /* @__PURE__ */ $constructor("$ZodCheckStartsWith", (inst, def) => {
  $ZodCheck.init(inst, def);
  const pattern = new RegExp(`^${escapeRegex(def.prefix)}.*`);
  def.pattern ?? (def.pattern = pattern);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.startsWith(def.prefix))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "starts_with",
      prefix: def.prefix,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckEndsWith = /* @__PURE__ */ $constructor("$ZodCheckEndsWith", (inst, def) => {
  $ZodCheck.init(inst, def);
  const pattern = new RegExp(`.*${escapeRegex(def.suffix)}$`);
  def.pattern ?? (def.pattern = pattern);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.endsWith(def.suffix))
      return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "ends_with",
      suffix: def.suffix,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
function handleCheckPropertyResult(result, payload, property) {
  if (result.issues.length) {
    payload.issues.push(...prefixIssues(property, result.issues));
  }
}
var $ZodCheckProperty = /* @__PURE__ */ $constructor("$ZodCheckProperty", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.check = (payload) => {
    const result = def.schema._zod.run({
      value: payload.value[def.property],
      issues: []
    }, {});
    if (result instanceof Promise) {
      return result.then((result2) => handleCheckPropertyResult(result2, payload, def.property));
    }
    handleCheckPropertyResult(result, payload, def.property);
    return;
  };
});
var $ZodCheckMimeType = /* @__PURE__ */ $constructor("$ZodCheckMimeType", (inst, def) => {
  $ZodCheck.init(inst, def);
  const mimeSet = new Set(def.mime);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.mime = def.mime;
  });
  inst._zod.check = (payload) => {
    if (mimeSet.has(payload.value.type))
      return;
    payload.issues.push({
      code: "invalid_value",
      values: def.mime,
      input: payload.value.type,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckOverwrite = /* @__PURE__ */ $constructor("$ZodCheckOverwrite", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.check = (payload) => {
    payload.value = def.tx(payload.value);
  };
});

// node_modules/zod/v4/core/doc.js
var Doc = class {
  constructor(args = []) {
    this.content = [];
    this.indent = 0;
    if (this)
      this.args = args;
  }
  indented(fn) {
    this.indent += 1;
    fn(this);
    this.indent -= 1;
  }
  write(arg) {
    if (typeof arg === "function") {
      arg(this, { execution: "sync" });
      arg(this, { execution: "async" });
      return;
    }
    const content = arg;
    const lines = content.split("\n").filter((x2) => x2);
    const minIndent = Math.min(...lines.map((x2) => x2.length - x2.trimStart().length));
    const dedented = lines.map((x2) => x2.slice(minIndent)).map((x2) => " ".repeat(this.indent * 2) + x2);
    for (const line of dedented) {
      this.content.push(line);
    }
  }
  compile() {
    const F = Function;
    const args = this?.args;
    const content = this?.content ?? [``];
    const lines = [...content.map((x2) => `  ${x2}`)];
    return new F(...args, lines.join("\n"));
  }
};

// node_modules/zod/v4/core/versions.js
var version = {
  major: 4,
  minor: 1,
  patch: 8
};

// node_modules/zod/v4/core/schemas.js
var $ZodType = /* @__PURE__ */ $constructor("$ZodType", (inst, def) => {
  var _a17;
  inst ?? (inst = {});
  inst._zod.def = def;
  inst._zod.bag = inst._zod.bag || {};
  inst._zod.version = version;
  const checks = [...inst._zod.def.checks ?? []];
  if (inst._zod.traits.has("$ZodCheck")) {
    checks.unshift(inst);
  }
  for (const ch of checks) {
    for (const fn of ch._zod.onattach) {
      fn(inst);
    }
  }
  if (checks.length === 0) {
    (_a17 = inst._zod).deferred ?? (_a17.deferred = []);
    inst._zod.deferred?.push(() => {
      inst._zod.run = inst._zod.parse;
    });
  } else {
    const runChecks = (payload, checks2, ctx) => {
      let isAborted2 = aborted(payload);
      let asyncResult;
      for (const ch of checks2) {
        if (ch._zod.def.when) {
          const shouldRun = ch._zod.def.when(payload);
          if (!shouldRun)
            continue;
        } else if (isAborted2) {
          continue;
        }
        const currLen = payload.issues.length;
        const _2 = ch._zod.check(payload);
        if (_2 instanceof Promise && ctx?.async === false) {
          throw new $ZodAsyncError();
        }
        if (asyncResult || _2 instanceof Promise) {
          asyncResult = (asyncResult ?? Promise.resolve()).then(async () => {
            await _2;
            const nextLen = payload.issues.length;
            if (nextLen === currLen)
              return;
            if (!isAborted2)
              isAborted2 = aborted(payload, currLen);
          });
        } else {
          const nextLen = payload.issues.length;
          if (nextLen === currLen)
            continue;
          if (!isAborted2)
            isAborted2 = aborted(payload, currLen);
        }
      }
      if (asyncResult) {
        return asyncResult.then(() => {
          return payload;
        });
      }
      return payload;
    };
    const handleCanaryResult = (canary, payload, ctx) => {
      if (aborted(canary)) {
        canary.aborted = true;
        return canary;
      }
      const checkResult = runChecks(payload, checks, ctx);
      if (checkResult instanceof Promise) {
        if (ctx.async === false)
          throw new $ZodAsyncError();
        return checkResult.then((checkResult2) => inst._zod.parse(checkResult2, ctx));
      }
      return inst._zod.parse(checkResult, ctx);
    };
    inst._zod.run = (payload, ctx) => {
      if (ctx.skipChecks) {
        return inst._zod.parse(payload, ctx);
      }
      if (ctx.direction === "backward") {
        const canary = inst._zod.parse({ value: payload.value, issues: [] }, { ...ctx, skipChecks: true });
        if (canary instanceof Promise) {
          return canary.then((canary2) => {
            return handleCanaryResult(canary2, payload, ctx);
          });
        }
        return handleCanaryResult(canary, payload, ctx);
      }
      const result = inst._zod.parse(payload, ctx);
      if (result instanceof Promise) {
        if (ctx.async === false)
          throw new $ZodAsyncError();
        return result.then((result2) => runChecks(result2, checks, ctx));
      }
      return runChecks(result, checks, ctx);
    };
  }
  inst["~standard"] = {
    validate: (value) => {
      try {
        const r2 = safeParse(inst, value);
        return r2.success ? { value: r2.data } : { issues: r2.error?.issues };
      } catch (_2) {
        return safeParseAsync(inst, value).then((r2) => r2.success ? { value: r2.data } : { issues: r2.error?.issues });
      }
    },
    vendor: "zod",
    version: 1
  };
});
var $ZodString = /* @__PURE__ */ $constructor("$ZodString", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = [...inst?._zod.bag?.patterns ?? []].pop() ?? string(inst._zod.bag);
  inst._zod.parse = (payload, _2) => {
    if (def.coerce)
      try {
        payload.value = String(payload.value);
      } catch (_3) {
      }
    if (typeof payload.value === "string")
      return payload;
    payload.issues.push({
      expected: "string",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodStringFormat = /* @__PURE__ */ $constructor("$ZodStringFormat", (inst, def) => {
  $ZodCheckStringFormat.init(inst, def);
  $ZodString.init(inst, def);
});
var $ZodGUID = /* @__PURE__ */ $constructor("$ZodGUID", (inst, def) => {
  def.pattern ?? (def.pattern = guid);
  $ZodStringFormat.init(inst, def);
});
var $ZodUUID = /* @__PURE__ */ $constructor("$ZodUUID", (inst, def) => {
  if (def.version) {
    const versionMap = {
      v1: 1,
      v2: 2,
      v3: 3,
      v4: 4,
      v5: 5,
      v6: 6,
      v7: 7,
      v8: 8
    };
    const v2 = versionMap[def.version];
    if (v2 === void 0)
      throw new Error(`Invalid UUID version: "${def.version}"`);
    def.pattern ?? (def.pattern = uuid(v2));
  } else
    def.pattern ?? (def.pattern = uuid());
  $ZodStringFormat.init(inst, def);
});
var $ZodEmail = /* @__PURE__ */ $constructor("$ZodEmail", (inst, def) => {
  def.pattern ?? (def.pattern = email);
  $ZodStringFormat.init(inst, def);
});
var $ZodURL = /* @__PURE__ */ $constructor("$ZodURL", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    try {
      const trimmed = payload.value.trim();
      const url2 = new URL(trimmed);
      if (def.hostname) {
        def.hostname.lastIndex = 0;
        if (!def.hostname.test(url2.hostname)) {
          payload.issues.push({
            code: "invalid_format",
            format: "url",
            note: "Invalid hostname",
            pattern: hostname.source,
            input: payload.value,
            inst,
            continue: !def.abort
          });
        }
      }
      if (def.protocol) {
        def.protocol.lastIndex = 0;
        if (!def.protocol.test(url2.protocol.endsWith(":") ? url2.protocol.slice(0, -1) : url2.protocol)) {
          payload.issues.push({
            code: "invalid_format",
            format: "url",
            note: "Invalid protocol",
            pattern: def.protocol.source,
            input: payload.value,
            inst,
            continue: !def.abort
          });
        }
      }
      if (def.normalize) {
        payload.value = url2.href;
      } else {
        payload.value = trimmed;
      }
      return;
    } catch (_2) {
      payload.issues.push({
        code: "invalid_format",
        format: "url",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
var $ZodEmoji = /* @__PURE__ */ $constructor("$ZodEmoji", (inst, def) => {
  def.pattern ?? (def.pattern = emoji());
  $ZodStringFormat.init(inst, def);
});
var $ZodNanoID = /* @__PURE__ */ $constructor("$ZodNanoID", (inst, def) => {
  def.pattern ?? (def.pattern = nanoid);
  $ZodStringFormat.init(inst, def);
});
var $ZodCUID = /* @__PURE__ */ $constructor("$ZodCUID", (inst, def) => {
  def.pattern ?? (def.pattern = cuid);
  $ZodStringFormat.init(inst, def);
});
var $ZodCUID2 = /* @__PURE__ */ $constructor("$ZodCUID2", (inst, def) => {
  def.pattern ?? (def.pattern = cuid2);
  $ZodStringFormat.init(inst, def);
});
var $ZodULID = /* @__PURE__ */ $constructor("$ZodULID", (inst, def) => {
  def.pattern ?? (def.pattern = ulid);
  $ZodStringFormat.init(inst, def);
});
var $ZodXID = /* @__PURE__ */ $constructor("$ZodXID", (inst, def) => {
  def.pattern ?? (def.pattern = xid);
  $ZodStringFormat.init(inst, def);
});
var $ZodKSUID = /* @__PURE__ */ $constructor("$ZodKSUID", (inst, def) => {
  def.pattern ?? (def.pattern = ksuid);
  $ZodStringFormat.init(inst, def);
});
var $ZodISODateTime = /* @__PURE__ */ $constructor("$ZodISODateTime", (inst, def) => {
  def.pattern ?? (def.pattern = datetime(def));
  $ZodStringFormat.init(inst, def);
});
var $ZodISODate = /* @__PURE__ */ $constructor("$ZodISODate", (inst, def) => {
  def.pattern ?? (def.pattern = date);
  $ZodStringFormat.init(inst, def);
});
var $ZodISOTime = /* @__PURE__ */ $constructor("$ZodISOTime", (inst, def) => {
  def.pattern ?? (def.pattern = time(def));
  $ZodStringFormat.init(inst, def);
});
var $ZodISODuration = /* @__PURE__ */ $constructor("$ZodISODuration", (inst, def) => {
  def.pattern ?? (def.pattern = duration);
  $ZodStringFormat.init(inst, def);
});
var $ZodIPv4 = /* @__PURE__ */ $constructor("$ZodIPv4", (inst, def) => {
  def.pattern ?? (def.pattern = ipv4);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = `ipv4`;
  });
});
var $ZodIPv6 = /* @__PURE__ */ $constructor("$ZodIPv6", (inst, def) => {
  def.pattern ?? (def.pattern = ipv6);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = `ipv6`;
  });
  inst._zod.check = (payload) => {
    try {
      new URL(`http://[${payload.value}]`);
    } catch {
      payload.issues.push({
        code: "invalid_format",
        format: "ipv6",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
var $ZodCIDRv4 = /* @__PURE__ */ $constructor("$ZodCIDRv4", (inst, def) => {
  def.pattern ?? (def.pattern = cidrv4);
  $ZodStringFormat.init(inst, def);
});
var $ZodCIDRv6 = /* @__PURE__ */ $constructor("$ZodCIDRv6", (inst, def) => {
  def.pattern ?? (def.pattern = cidrv6);
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    const parts = payload.value.split("/");
    try {
      if (parts.length !== 2)
        throw new Error();
      const [address, prefix] = parts;
      if (!prefix)
        throw new Error();
      const prefixNum = Number(prefix);
      if (`${prefixNum}` !== prefix)
        throw new Error();
      if (prefixNum < 0 || prefixNum > 128)
        throw new Error();
      new URL(`http://[${address}]`);
    } catch {
      payload.issues.push({
        code: "invalid_format",
        format: "cidrv6",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
function isValidBase64(data) {
  if (data === "")
    return true;
  if (data.length % 4 !== 0)
    return false;
  try {
    atob(data);
    return true;
  } catch {
    return false;
  }
}
var $ZodBase64 = /* @__PURE__ */ $constructor("$ZodBase64", (inst, def) => {
  def.pattern ?? (def.pattern = base64);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.contentEncoding = "base64";
  });
  inst._zod.check = (payload) => {
    if (isValidBase64(payload.value))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: "base64",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
function isValidBase64URL(data) {
  if (!base64url.test(data))
    return false;
  const base643 = data.replace(/[-_]/g, (c2) => c2 === "-" ? "+" : "/");
  const padded = base643.padEnd(Math.ceil(base643.length / 4) * 4, "=");
  return isValidBase64(padded);
}
var $ZodBase64URL = /* @__PURE__ */ $constructor("$ZodBase64URL", (inst, def) => {
  def.pattern ?? (def.pattern = base64url);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.contentEncoding = "base64url";
  });
  inst._zod.check = (payload) => {
    if (isValidBase64URL(payload.value))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: "base64url",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodE164 = /* @__PURE__ */ $constructor("$ZodE164", (inst, def) => {
  def.pattern ?? (def.pattern = e164);
  $ZodStringFormat.init(inst, def);
});
function isValidJWT(token, algorithm = null) {
  try {
    const tokensParts = token.split(".");
    if (tokensParts.length !== 3)
      return false;
    const [header] = tokensParts;
    if (!header)
      return false;
    const parsedHeader = JSON.parse(atob(header));
    if ("typ" in parsedHeader && parsedHeader?.typ !== "JWT")
      return false;
    if (!parsedHeader.alg)
      return false;
    if (algorithm && (!("alg" in parsedHeader) || parsedHeader.alg !== algorithm))
      return false;
    return true;
  } catch {
    return false;
  }
}
var $ZodJWT = /* @__PURE__ */ $constructor("$ZodJWT", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    if (isValidJWT(payload.value, def.alg))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: "jwt",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCustomStringFormat = /* @__PURE__ */ $constructor("$ZodCustomStringFormat", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    if (def.fn(payload.value))
      return;
    payload.issues.push({
      code: "invalid_format",
      format: def.format,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodNumber = /* @__PURE__ */ $constructor("$ZodNumber", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = inst._zod.bag.pattern ?? number;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce)
      try {
        payload.value = Number(payload.value);
      } catch (_2) {
      }
    const input = payload.value;
    if (typeof input === "number" && !Number.isNaN(input) && Number.isFinite(input)) {
      return payload;
    }
    const received = typeof input === "number" ? Number.isNaN(input) ? "NaN" : !Number.isFinite(input) ? "Infinity" : void 0 : void 0;
    payload.issues.push({
      expected: "number",
      code: "invalid_type",
      input,
      inst,
      ...received ? { received } : {}
    });
    return payload;
  };
});
var $ZodNumberFormat = /* @__PURE__ */ $constructor("$ZodNumber", (inst, def) => {
  $ZodCheckNumberFormat.init(inst, def);
  $ZodNumber.init(inst, def);
});
var $ZodBoolean = /* @__PURE__ */ $constructor("$ZodBoolean", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = boolean;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce)
      try {
        payload.value = Boolean(payload.value);
      } catch (_2) {
      }
    const input = payload.value;
    if (typeof input === "boolean")
      return payload;
    payload.issues.push({
      expected: "boolean",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodBigInt = /* @__PURE__ */ $constructor("$ZodBigInt", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = bigint;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce)
      try {
        payload.value = BigInt(payload.value);
      } catch (_2) {
      }
    if (typeof payload.value === "bigint")
      return payload;
    payload.issues.push({
      expected: "bigint",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodBigIntFormat = /* @__PURE__ */ $constructor("$ZodBigInt", (inst, def) => {
  $ZodCheckBigIntFormat.init(inst, def);
  $ZodBigInt.init(inst, def);
});
var $ZodSymbol = /* @__PURE__ */ $constructor("$ZodSymbol", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "symbol")
      return payload;
    payload.issues.push({
      expected: "symbol",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodUndefined = /* @__PURE__ */ $constructor("$ZodUndefined", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = _undefined;
  inst._zod.values = /* @__PURE__ */ new Set([void 0]);
  inst._zod.optin = "optional";
  inst._zod.optout = "optional";
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "undefined")
      return payload;
    payload.issues.push({
      expected: "undefined",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodNull = /* @__PURE__ */ $constructor("$ZodNull", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = _null;
  inst._zod.values = /* @__PURE__ */ new Set([null]);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (input === null)
      return payload;
    payload.issues.push({
      expected: "null",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodAny = /* @__PURE__ */ $constructor("$ZodAny", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload) => payload;
});
var $ZodUnknown = /* @__PURE__ */ $constructor("$ZodUnknown", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload) => payload;
});
var $ZodNever = /* @__PURE__ */ $constructor("$ZodNever", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    payload.issues.push({
      expected: "never",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodVoid = /* @__PURE__ */ $constructor("$ZodVoid", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "undefined")
      return payload;
    payload.issues.push({
      expected: "void",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodDate = /* @__PURE__ */ $constructor("$ZodDate", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce) {
      try {
        payload.value = new Date(payload.value);
      } catch (_err) {
      }
    }
    const input = payload.value;
    const isDate = input instanceof Date;
    const isValidDate = isDate && !Number.isNaN(input.getTime());
    if (isValidDate)
      return payload;
    payload.issues.push({
      expected: "date",
      code: "invalid_type",
      input,
      ...isDate ? { received: "Invalid Date" } : {},
      inst
    });
    return payload;
  };
});
function handleArrayResult(result, final, index) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(index, result.issues));
  }
  final.value[index] = result.value;
}
var $ZodArray = /* @__PURE__ */ $constructor("$ZodArray", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!Array.isArray(input)) {
      payload.issues.push({
        expected: "array",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    payload.value = Array(input.length);
    const proms = [];
    for (let i2 = 0; i2 < input.length; i2++) {
      const item = input[i2];
      const result = def.element._zod.run({
        value: item,
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleArrayResult(result2, payload, i2)));
      } else {
        handleArrayResult(result, payload, i2);
      }
    }
    if (proms.length) {
      return Promise.all(proms).then(() => payload);
    }
    return payload;
  };
});
function handlePropertyResult(result, final, key, input) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(key, result.issues));
  }
  if (result.value === void 0) {
    if (key in input) {
      final.value[key] = void 0;
    }
  } else {
    final.value[key] = result.value;
  }
}
function normalizeDef(def) {
  const keys = Object.keys(def.shape);
  for (const k of keys) {
    if (!def.shape?.[k]?._zod?.traits?.has("$ZodType")) {
      throw new Error(`Invalid element at key "${k}": expected a Zod schema`);
    }
  }
  const okeys = optionalKeys(def.shape);
  return {
    ...def,
    keys,
    keySet: new Set(keys),
    numKeys: keys.length,
    optionalKeys: new Set(okeys)
  };
}
function handleCatchall(proms, input, payload, ctx, def, inst) {
  const unrecognized = [];
  const keySet = def.keySet;
  const _catchall = def.catchall._zod;
  const t2 = _catchall.def.type;
  for (const key of Object.keys(input)) {
    if (keySet.has(key))
      continue;
    if (t2 === "never") {
      unrecognized.push(key);
      continue;
    }
    const r2 = _catchall.run({ value: input[key], issues: [] }, ctx);
    if (r2 instanceof Promise) {
      proms.push(r2.then((r3) => handlePropertyResult(r3, payload, key, input)));
    } else {
      handlePropertyResult(r2, payload, key, input);
    }
  }
  if (unrecognized.length) {
    payload.issues.push({
      code: "unrecognized_keys",
      keys: unrecognized,
      input,
      inst
    });
  }
  if (!proms.length)
    return payload;
  return Promise.all(proms).then(() => {
    return payload;
  });
}
var $ZodObject = /* @__PURE__ */ $constructor("$ZodObject", (inst, def) => {
  $ZodType.init(inst, def);
  const _normalized = cached(() => normalizeDef(def));
  defineLazy(inst._zod, "propValues", () => {
    const shape = def.shape;
    const propValues = {};
    for (const key in shape) {
      const field = shape[key]._zod;
      if (field.values) {
        propValues[key] ?? (propValues[key] = /* @__PURE__ */ new Set());
        for (const v2 of field.values)
          propValues[key].add(v2);
      }
    }
    return propValues;
  });
  const isObject2 = isObject;
  const catchall = def.catchall;
  let value;
  inst._zod.parse = (payload, ctx) => {
    value ?? (value = _normalized.value);
    const input = payload.value;
    if (!isObject2(input)) {
      payload.issues.push({
        expected: "object",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    payload.value = {};
    const proms = [];
    const shape = value.shape;
    for (const key of value.keys) {
      const el = shape[key];
      const r2 = el._zod.run({ value: input[key], issues: [] }, ctx);
      if (r2 instanceof Promise) {
        proms.push(r2.then((r3) => handlePropertyResult(r3, payload, key, input)));
      } else {
        handlePropertyResult(r2, payload, key, input);
      }
    }
    if (!catchall) {
      return proms.length ? Promise.all(proms).then(() => payload) : payload;
    }
    return handleCatchall(proms, input, payload, ctx, _normalized.value, inst);
  };
});
var $ZodObjectJIT = /* @__PURE__ */ $constructor("$ZodObjectJIT", (inst, def) => {
  $ZodObject.init(inst, def);
  const superParse = inst._zod.parse;
  const _normalized = cached(() => normalizeDef(def));
  const generateFastpass = (shape) => {
    const doc = new Doc(["shape", "payload", "ctx"]);
    const normalized = _normalized.value;
    const parseStr = (key) => {
      const k = esc(key);
      return `shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`;
    };
    doc.write(`const input = payload.value;`);
    const ids = /* @__PURE__ */ Object.create(null);
    let counter = 0;
    for (const key of normalized.keys) {
      ids[key] = `key_${counter++}`;
    }
    doc.write(`const newResult = {};`);
    for (const key of normalized.keys) {
      const id = ids[key];
      const k = esc(key);
      doc.write(`const ${id} = ${parseStr(key)};`);
      doc.write(`
        if (${id}.issues.length) {
          payload.issues = payload.issues.concat(${id}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k}, ...iss.path] : [${k}]
          })));
        }
        
        
        if (${id}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${id}.value;
        }
        
      `);
    }
    doc.write(`payload.value = newResult;`);
    doc.write(`return payload;`);
    const fn = doc.compile();
    return (payload, ctx) => fn(shape, payload, ctx);
  };
  let fastpass;
  const isObject2 = isObject;
  const jit = !globalConfig.jitless;
  const allowsEval2 = allowsEval;
  const fastEnabled = jit && allowsEval2.value;
  const catchall = def.catchall;
  let value;
  inst._zod.parse = (payload, ctx) => {
    value ?? (value = _normalized.value);
    const input = payload.value;
    if (!isObject2(input)) {
      payload.issues.push({
        expected: "object",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    if (jit && fastEnabled && ctx?.async === false && ctx.jitless !== true) {
      if (!fastpass)
        fastpass = generateFastpass(def.shape);
      payload = fastpass(payload, ctx);
      if (!catchall)
        return payload;
      return handleCatchall([], input, payload, ctx, value, inst);
    }
    return superParse(payload, ctx);
  };
});
function handleUnionResults(results, final, inst, ctx) {
  for (const result of results) {
    if (result.issues.length === 0) {
      final.value = result.value;
      return final;
    }
  }
  const nonaborted = results.filter((r2) => !aborted(r2));
  if (nonaborted.length === 1) {
    final.value = nonaborted[0].value;
    return nonaborted[0];
  }
  final.issues.push({
    code: "invalid_union",
    input: final.value,
    inst,
    errors: results.map((result) => result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  });
  return final;
}
var $ZodUnion = /* @__PURE__ */ $constructor("$ZodUnion", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.options.some((o2) => o2._zod.optin === "optional") ? "optional" : void 0);
  defineLazy(inst._zod, "optout", () => def.options.some((o2) => o2._zod.optout === "optional") ? "optional" : void 0);
  defineLazy(inst._zod, "values", () => {
    if (def.options.every((o2) => o2._zod.values)) {
      return new Set(def.options.flatMap((option) => Array.from(option._zod.values)));
    }
    return void 0;
  });
  defineLazy(inst._zod, "pattern", () => {
    if (def.options.every((o2) => o2._zod.pattern)) {
      const patterns = def.options.map((o2) => o2._zod.pattern);
      return new RegExp(`^(${patterns.map((p2) => cleanRegex(p2.source)).join("|")})$`);
    }
    return void 0;
  });
  const single = def.options.length === 1;
  const first = def.options[0]._zod.run;
  inst._zod.parse = (payload, ctx) => {
    if (single) {
      return first(payload, ctx);
    }
    let async = false;
    const results = [];
    for (const option of def.options) {
      const result = option._zod.run({
        value: payload.value,
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        results.push(result);
        async = true;
      } else {
        if (result.issues.length === 0)
          return result;
        results.push(result);
      }
    }
    if (!async)
      return handleUnionResults(results, payload, inst, ctx);
    return Promise.all(results).then((results2) => {
      return handleUnionResults(results2, payload, inst, ctx);
    });
  };
});
var $ZodDiscriminatedUnion = /* @__PURE__ */ $constructor("$ZodDiscriminatedUnion", (inst, def) => {
  $ZodUnion.init(inst, def);
  const _super = inst._zod.parse;
  defineLazy(inst._zod, "propValues", () => {
    const propValues = {};
    for (const option of def.options) {
      const pv = option._zod.propValues;
      if (!pv || Object.keys(pv).length === 0)
        throw new Error(`Invalid discriminated union option at index "${def.options.indexOf(option)}"`);
      for (const [k, v2] of Object.entries(pv)) {
        if (!propValues[k])
          propValues[k] = /* @__PURE__ */ new Set();
        for (const val of v2) {
          propValues[k].add(val);
        }
      }
    }
    return propValues;
  });
  const disc = cached(() => {
    const opts = def.options;
    const map2 = /* @__PURE__ */ new Map();
    for (const o2 of opts) {
      const values = o2._zod.propValues?.[def.discriminator];
      if (!values || values.size === 0)
        throw new Error(`Invalid discriminated union option at index "${def.options.indexOf(o2)}"`);
      for (const v2 of values) {
        if (map2.has(v2)) {
          throw new Error(`Duplicate discriminator value "${String(v2)}"`);
        }
        map2.set(v2, o2);
      }
    }
    return map2;
  });
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!isObject(input)) {
      payload.issues.push({
        code: "invalid_type",
        expected: "object",
        input,
        inst
      });
      return payload;
    }
    const opt = disc.value.get(input?.[def.discriminator]);
    if (opt) {
      return opt._zod.run(payload, ctx);
    }
    if (def.unionFallback) {
      return _super(payload, ctx);
    }
    payload.issues.push({
      code: "invalid_union",
      errors: [],
      note: "No matching discriminator",
      discriminator: def.discriminator,
      input,
      path: [def.discriminator],
      inst
    });
    return payload;
  };
});
var $ZodIntersection = /* @__PURE__ */ $constructor("$ZodIntersection", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    const left = def.left._zod.run({ value: input, issues: [] }, ctx);
    const right = def.right._zod.run({ value: input, issues: [] }, ctx);
    const async = left instanceof Promise || right instanceof Promise;
    if (async) {
      return Promise.all([left, right]).then(([left2, right2]) => {
        return handleIntersectionResults(payload, left2, right2);
      });
    }
    return handleIntersectionResults(payload, left, right);
  };
});
function mergeValues(a2, b2) {
  if (a2 === b2) {
    return { valid: true, data: a2 };
  }
  if (a2 instanceof Date && b2 instanceof Date && +a2 === +b2) {
    return { valid: true, data: a2 };
  }
  if (isPlainObject(a2) && isPlainObject(b2)) {
    const bKeys = Object.keys(b2);
    const sharedKeys = Object.keys(a2).filter((key) => bKeys.indexOf(key) !== -1);
    const newObj = { ...a2, ...b2 };
    for (const key of sharedKeys) {
      const sharedValue = mergeValues(a2[key], b2[key]);
      if (!sharedValue.valid) {
        return {
          valid: false,
          mergeErrorPath: [key, ...sharedValue.mergeErrorPath]
        };
      }
      newObj[key] = sharedValue.data;
    }
    return { valid: true, data: newObj };
  }
  if (Array.isArray(a2) && Array.isArray(b2)) {
    if (a2.length !== b2.length) {
      return { valid: false, mergeErrorPath: [] };
    }
    const newArray = [];
    for (let index = 0; index < a2.length; index++) {
      const itemA = a2[index];
      const itemB = b2[index];
      const sharedValue = mergeValues(itemA, itemB);
      if (!sharedValue.valid) {
        return {
          valid: false,
          mergeErrorPath: [index, ...sharedValue.mergeErrorPath]
        };
      }
      newArray.push(sharedValue.data);
    }
    return { valid: true, data: newArray };
  }
  return { valid: false, mergeErrorPath: [] };
}
function handleIntersectionResults(result, left, right) {
  if (left.issues.length) {
    result.issues.push(...left.issues);
  }
  if (right.issues.length) {
    result.issues.push(...right.issues);
  }
  if (aborted(result))
    return result;
  const merged = mergeValues(left.value, right.value);
  if (!merged.valid) {
    throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(merged.mergeErrorPath)}`);
  }
  result.value = merged.data;
  return result;
}
var $ZodTuple = /* @__PURE__ */ $constructor("$ZodTuple", (inst, def) => {
  $ZodType.init(inst, def);
  const items = def.items;
  const optStart = items.length - [...items].reverse().findIndex((item) => item._zod.optin !== "optional");
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!Array.isArray(input)) {
      payload.issues.push({
        input,
        inst,
        expected: "tuple",
        code: "invalid_type"
      });
      return payload;
    }
    payload.value = [];
    const proms = [];
    if (!def.rest) {
      const tooBig = input.length > items.length;
      const tooSmall = input.length < optStart - 1;
      if (tooBig || tooSmall) {
        payload.issues.push({
          ...tooBig ? { code: "too_big", maximum: items.length } : { code: "too_small", minimum: items.length },
          input,
          inst,
          origin: "array"
        });
        return payload;
      }
    }
    let i2 = -1;
    for (const item of items) {
      i2++;
      if (i2 >= input.length) {
        if (i2 >= optStart)
          continue;
      }
      const result = item._zod.run({
        value: input[i2],
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleTupleResult(result2, payload, i2)));
      } else {
        handleTupleResult(result, payload, i2);
      }
    }
    if (def.rest) {
      const rest = input.slice(items.length);
      for (const el of rest) {
        i2++;
        const result = def.rest._zod.run({
          value: el,
          issues: []
        }, ctx);
        if (result instanceof Promise) {
          proms.push(result.then((result2) => handleTupleResult(result2, payload, i2)));
        } else {
          handleTupleResult(result, payload, i2);
        }
      }
    }
    if (proms.length)
      return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleTupleResult(result, final, index) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(index, result.issues));
  }
  final.value[index] = result.value;
}
var $ZodRecord = /* @__PURE__ */ $constructor("$ZodRecord", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!isPlainObject(input)) {
      payload.issues.push({
        expected: "record",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    const proms = [];
    if (def.keyType._zod.values) {
      const values = def.keyType._zod.values;
      payload.value = {};
      for (const key of values) {
        if (typeof key === "string" || typeof key === "number" || typeof key === "symbol") {
          const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);
          if (result instanceof Promise) {
            proms.push(result.then((result2) => {
              if (result2.issues.length) {
                payload.issues.push(...prefixIssues(key, result2.issues));
              }
              payload.value[key] = result2.value;
            }));
          } else {
            if (result.issues.length) {
              payload.issues.push(...prefixIssues(key, result.issues));
            }
            payload.value[key] = result.value;
          }
        }
      }
      let unrecognized;
      for (const key in input) {
        if (!values.has(key)) {
          unrecognized = unrecognized ?? [];
          unrecognized.push(key);
        }
      }
      if (unrecognized && unrecognized.length > 0) {
        payload.issues.push({
          code: "unrecognized_keys",
          input,
          inst,
          keys: unrecognized
        });
      }
    } else {
      payload.value = {};
      for (const key of Reflect.ownKeys(input)) {
        if (key === "__proto__")
          continue;
        const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);
        if (keyResult instanceof Promise) {
          throw new Error("Async schemas not supported in object keys currently");
        }
        if (keyResult.issues.length) {
          payload.issues.push({
            code: "invalid_key",
            origin: "record",
            issues: keyResult.issues.map((iss) => finalizeIssue(iss, ctx, config())),
            input: key,
            path: [key],
            inst
          });
          payload.value[keyResult.value] = keyResult.value;
          continue;
        }
        const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);
        if (result instanceof Promise) {
          proms.push(result.then((result2) => {
            if (result2.issues.length) {
              payload.issues.push(...prefixIssues(key, result2.issues));
            }
            payload.value[keyResult.value] = result2.value;
          }));
        } else {
          if (result.issues.length) {
            payload.issues.push(...prefixIssues(key, result.issues));
          }
          payload.value[keyResult.value] = result.value;
        }
      }
    }
    if (proms.length) {
      return Promise.all(proms).then(() => payload);
    }
    return payload;
  };
});
var $ZodMap = /* @__PURE__ */ $constructor("$ZodMap", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!(input instanceof Map)) {
      payload.issues.push({
        expected: "map",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    const proms = [];
    payload.value = /* @__PURE__ */ new Map();
    for (const [key, value] of input) {
      const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);
      const valueResult = def.valueType._zod.run({ value, issues: [] }, ctx);
      if (keyResult instanceof Promise || valueResult instanceof Promise) {
        proms.push(Promise.all([keyResult, valueResult]).then(([keyResult2, valueResult2]) => {
          handleMapResult(keyResult2, valueResult2, payload, key, input, inst, ctx);
        }));
      } else {
        handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);
      }
    }
    if (proms.length)
      return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleMapResult(keyResult, valueResult, final, key, input, inst, ctx) {
  if (keyResult.issues.length) {
    if (propertyKeyTypes.has(typeof key)) {
      final.issues.push(...prefixIssues(key, keyResult.issues));
    } else {
      final.issues.push({
        code: "invalid_key",
        origin: "map",
        input,
        inst,
        issues: keyResult.issues.map((iss) => finalizeIssue(iss, ctx, config()))
      });
    }
  }
  if (valueResult.issues.length) {
    if (propertyKeyTypes.has(typeof key)) {
      final.issues.push(...prefixIssues(key, valueResult.issues));
    } else {
      final.issues.push({
        origin: "map",
        code: "invalid_element",
        input,
        inst,
        key,
        issues: valueResult.issues.map((iss) => finalizeIssue(iss, ctx, config()))
      });
    }
  }
  final.value.set(keyResult.value, valueResult.value);
}
var $ZodSet = /* @__PURE__ */ $constructor("$ZodSet", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!(input instanceof Set)) {
      payload.issues.push({
        input,
        inst,
        expected: "set",
        code: "invalid_type"
      });
      return payload;
    }
    const proms = [];
    payload.value = /* @__PURE__ */ new Set();
    for (const item of input) {
      const result = def.valueType._zod.run({ value: item, issues: [] }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleSetResult(result2, payload)));
      } else
        handleSetResult(result, payload);
    }
    if (proms.length)
      return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleSetResult(result, final) {
  if (result.issues.length) {
    final.issues.push(...result.issues);
  }
  final.value.add(result.value);
}
var $ZodEnum = /* @__PURE__ */ $constructor("$ZodEnum", (inst, def) => {
  $ZodType.init(inst, def);
  const values = getEnumValues(def.entries);
  const valuesSet = new Set(values);
  inst._zod.values = valuesSet;
  inst._zod.pattern = new RegExp(`^(${values.filter((k) => propertyKeyTypes.has(typeof k)).map((o2) => typeof o2 === "string" ? escapeRegex(o2) : o2.toString()).join("|")})$`);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (valuesSet.has(input)) {
      return payload;
    }
    payload.issues.push({
      code: "invalid_value",
      values,
      input,
      inst
    });
    return payload;
  };
});
var $ZodLiteral = /* @__PURE__ */ $constructor("$ZodLiteral", (inst, def) => {
  $ZodType.init(inst, def);
  if (def.values.length === 0) {
    throw new Error("Cannot create literal schema with no valid values");
  }
  inst._zod.values = new Set(def.values);
  inst._zod.pattern = new RegExp(`^(${def.values.map((o2) => typeof o2 === "string" ? escapeRegex(o2) : o2 ? escapeRegex(o2.toString()) : String(o2)).join("|")})$`);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (inst._zod.values.has(input)) {
      return payload;
    }
    payload.issues.push({
      code: "invalid_value",
      values: def.values,
      input,
      inst
    });
    return payload;
  };
});
var $ZodFile = /* @__PURE__ */ $constructor("$ZodFile", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (input instanceof File)
      return payload;
    payload.issues.push({
      expected: "file",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodTransform = /* @__PURE__ */ $constructor("$ZodTransform", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      throw new $ZodEncodeError(inst.constructor.name);
    }
    const _out = def.transform(payload.value, payload);
    if (ctx.async) {
      const output = _out instanceof Promise ? _out : Promise.resolve(_out);
      return output.then((output2) => {
        payload.value = output2;
        return payload;
      });
    }
    if (_out instanceof Promise) {
      throw new $ZodAsyncError();
    }
    payload.value = _out;
    return payload;
  };
});
function handleOptionalResult(result, input) {
  if (result.issues.length && input === void 0) {
    return { issues: [], value: void 0 };
  }
  return result;
}
var $ZodOptional = /* @__PURE__ */ $constructor("$ZodOptional", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  inst._zod.optout = "optional";
  defineLazy(inst._zod, "values", () => {
    return def.innerType._zod.values ? /* @__PURE__ */ new Set([...def.innerType._zod.values, void 0]) : void 0;
  });
  defineLazy(inst._zod, "pattern", () => {
    const pattern = def.innerType._zod.pattern;
    return pattern ? new RegExp(`^(${cleanRegex(pattern.source)})?$`) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    if (def.innerType._zod.optin === "optional") {
      const result = def.innerType._zod.run(payload, ctx);
      if (result instanceof Promise)
        return result.then((r2) => handleOptionalResult(r2, payload.value));
      return handleOptionalResult(result, payload.value);
    }
    if (payload.value === void 0) {
      return payload;
    }
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodNullable = /* @__PURE__ */ $constructor("$ZodNullable", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  defineLazy(inst._zod, "pattern", () => {
    const pattern = def.innerType._zod.pattern;
    return pattern ? new RegExp(`^(${cleanRegex(pattern.source)}|null)$`) : void 0;
  });
  defineLazy(inst._zod, "values", () => {
    return def.innerType._zod.values ? /* @__PURE__ */ new Set([...def.innerType._zod.values, null]) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    if (payload.value === null)
      return payload;
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodDefault = /* @__PURE__ */ $constructor("$ZodDefault", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    if (payload.value === void 0) {
      payload.value = def.defaultValue;
      return payload;
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => handleDefaultResult(result2, def));
    }
    return handleDefaultResult(result, def);
  };
});
function handleDefaultResult(payload, def) {
  if (payload.value === void 0) {
    payload.value = def.defaultValue;
  }
  return payload;
}
var $ZodPrefault = /* @__PURE__ */ $constructor("$ZodPrefault", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    if (payload.value === void 0) {
      payload.value = def.defaultValue;
    }
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodNonOptional = /* @__PURE__ */ $constructor("$ZodNonOptional", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => {
    const v2 = def.innerType._zod.values;
    return v2 ? new Set([...v2].filter((x2) => x2 !== void 0)) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => handleNonOptionalResult(result2, inst));
    }
    return handleNonOptionalResult(result, inst);
  };
});
function handleNonOptionalResult(payload, inst) {
  if (!payload.issues.length && payload.value === void 0) {
    payload.issues.push({
      code: "invalid_type",
      expected: "nonoptional",
      input: payload.value,
      inst
    });
  }
  return payload;
}
var $ZodSuccess = /* @__PURE__ */ $constructor("$ZodSuccess", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      throw new $ZodEncodeError("ZodSuccess");
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => {
        payload.value = result2.issues.length === 0;
        return payload;
      });
    }
    payload.value = result.issues.length === 0;
    return payload;
  };
});
var $ZodCatch = /* @__PURE__ */ $constructor("$ZodCatch", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => {
        payload.value = result2.value;
        if (result2.issues.length) {
          payload.value = def.catchValue({
            ...payload,
            error: {
              issues: result2.issues.map((iss) => finalizeIssue(iss, ctx, config()))
            },
            input: payload.value
          });
          payload.issues = [];
        }
        return payload;
      });
    }
    payload.value = result.value;
    if (result.issues.length) {
      payload.value = def.catchValue({
        ...payload,
        error: {
          issues: result.issues.map((iss) => finalizeIssue(iss, ctx, config()))
        },
        input: payload.value
      });
      payload.issues = [];
    }
    return payload;
  };
});
var $ZodNaN = /* @__PURE__ */ $constructor("$ZodNaN", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "number" || !Number.isNaN(payload.value)) {
      payload.issues.push({
        input: payload.value,
        inst,
        expected: "nan",
        code: "invalid_type"
      });
      return payload;
    }
    return payload;
  };
});
var $ZodPipe = /* @__PURE__ */ $constructor("$ZodPipe", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => def.in._zod.values);
  defineLazy(inst._zod, "optin", () => def.in._zod.optin);
  defineLazy(inst._zod, "optout", () => def.out._zod.optout);
  defineLazy(inst._zod, "propValues", () => def.in._zod.propValues);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      const right = def.out._zod.run(payload, ctx);
      if (right instanceof Promise) {
        return right.then((right2) => handlePipeResult(right2, def.in, ctx));
      }
      return handlePipeResult(right, def.in, ctx);
    }
    const left = def.in._zod.run(payload, ctx);
    if (left instanceof Promise) {
      return left.then((left2) => handlePipeResult(left2, def.out, ctx));
    }
    return handlePipeResult(left, def.out, ctx);
  };
});
function handlePipeResult(left, next, ctx) {
  if (left.issues.length) {
    left.aborted = true;
    return left;
  }
  return next._zod.run({ value: left.value, issues: left.issues }, ctx);
}
var $ZodCodec = /* @__PURE__ */ $constructor("$ZodCodec", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => def.in._zod.values);
  defineLazy(inst._zod, "optin", () => def.in._zod.optin);
  defineLazy(inst._zod, "optout", () => def.out._zod.optout);
  defineLazy(inst._zod, "propValues", () => def.in._zod.propValues);
  inst._zod.parse = (payload, ctx) => {
    const direction = ctx.direction || "forward";
    if (direction === "forward") {
      const left = def.in._zod.run(payload, ctx);
      if (left instanceof Promise) {
        return left.then((left2) => handleCodecAResult(left2, def, ctx));
      }
      return handleCodecAResult(left, def, ctx);
    } else {
      const right = def.out._zod.run(payload, ctx);
      if (right instanceof Promise) {
        return right.then((right2) => handleCodecAResult(right2, def, ctx));
      }
      return handleCodecAResult(right, def, ctx);
    }
  };
});
function handleCodecAResult(result, def, ctx) {
  if (result.issues.length) {
    result.aborted = true;
    return result;
  }
  const direction = ctx.direction || "forward";
  if (direction === "forward") {
    const transformed = def.transform(result.value, result);
    if (transformed instanceof Promise) {
      return transformed.then((value) => handleCodecTxResult(result, value, def.out, ctx));
    }
    return handleCodecTxResult(result, transformed, def.out, ctx);
  } else {
    const transformed = def.reverseTransform(result.value, result);
    if (transformed instanceof Promise) {
      return transformed.then((value) => handleCodecTxResult(result, value, def.in, ctx));
    }
    return handleCodecTxResult(result, transformed, def.in, ctx);
  }
}
function handleCodecTxResult(left, value, nextSchema, ctx) {
  if (left.issues.length) {
    left.aborted = true;
    return left;
  }
  return nextSchema._zod.run({ value, issues: left.issues }, ctx);
}
var $ZodReadonly = /* @__PURE__ */ $constructor("$ZodReadonly", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "propValues", () => def.innerType._zod.propValues);
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then(handleReadonlyResult);
    }
    return handleReadonlyResult(result);
  };
});
function handleReadonlyResult(payload) {
  payload.value = Object.freeze(payload.value);
  return payload;
}
var $ZodTemplateLiteral = /* @__PURE__ */ $constructor("$ZodTemplateLiteral", (inst, def) => {
  $ZodType.init(inst, def);
  const regexParts = [];
  for (const part of def.parts) {
    if (typeof part === "object" && part !== null) {
      if (!part._zod.pattern) {
        throw new Error(`Invalid template literal part, no pattern found: ${[...part._zod.traits].shift()}`);
      }
      const source = part._zod.pattern instanceof RegExp ? part._zod.pattern.source : part._zod.pattern;
      if (!source)
        throw new Error(`Invalid template literal part: ${part._zod.traits}`);
      const start = source.startsWith("^") ? 1 : 0;
      const end = source.endsWith("$") ? source.length - 1 : source.length;
      regexParts.push(source.slice(start, end));
    } else if (part === null || primitiveTypes.has(typeof part)) {
      regexParts.push(escapeRegex(`${part}`));
    } else {
      throw new Error(`Invalid template literal part: ${part}`);
    }
  }
  inst._zod.pattern = new RegExp(`^${regexParts.join("")}$`);
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "string") {
      payload.issues.push({
        input: payload.value,
        inst,
        expected: "template_literal",
        code: "invalid_type"
      });
      return payload;
    }
    inst._zod.pattern.lastIndex = 0;
    if (!inst._zod.pattern.test(payload.value)) {
      payload.issues.push({
        input: payload.value,
        inst,
        code: "invalid_format",
        format: def.format ?? "template_literal",
        pattern: inst._zod.pattern.source
      });
      return payload;
    }
    return payload;
  };
});
var $ZodFunction = /* @__PURE__ */ $constructor("$ZodFunction", (inst, def) => {
  $ZodType.init(inst, def);
  inst._def = def;
  inst._zod.def = def;
  inst.implement = (func) => {
    if (typeof func !== "function") {
      throw new Error("implement() must be called with a function");
    }
    return function(...args) {
      const parsedArgs = inst._def.input ? parse(inst._def.input, args) : args;
      const result = Reflect.apply(func, this, parsedArgs);
      if (inst._def.output) {
        return parse(inst._def.output, result);
      }
      return result;
    };
  };
  inst.implementAsync = (func) => {
    if (typeof func !== "function") {
      throw new Error("implementAsync() must be called with a function");
    }
    return async function(...args) {
      const parsedArgs = inst._def.input ? await parseAsync(inst._def.input, args) : args;
      const result = await Reflect.apply(func, this, parsedArgs);
      if (inst._def.output) {
        return await parseAsync(inst._def.output, result);
      }
      return result;
    };
  };
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "function") {
      payload.issues.push({
        code: "invalid_type",
        expected: "function",
        input: payload.value,
        inst
      });
      return payload;
    }
    const hasPromiseOutput = inst._def.output && inst._def.output._zod.def.type === "promise";
    if (hasPromiseOutput) {
      payload.value = inst.implementAsync(payload.value);
    } else {
      payload.value = inst.implement(payload.value);
    }
    return payload;
  };
  inst.input = (...args) => {
    const F = inst.constructor;
    if (Array.isArray(args[0])) {
      return new F({
        type: "function",
        input: new $ZodTuple({
          type: "tuple",
          items: args[0],
          rest: args[1]
        }),
        output: inst._def.output
      });
    }
    return new F({
      type: "function",
      input: args[0],
      output: inst._def.output
    });
  };
  inst.output = (output) => {
    const F = inst.constructor;
    return new F({
      type: "function",
      input: inst._def.input,
      output
    });
  };
  return inst;
});
var $ZodPromise = /* @__PURE__ */ $constructor("$ZodPromise", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    return Promise.resolve(payload.value).then((inner) => def.innerType._zod.run({ value: inner, issues: [] }, ctx));
  };
});
var $ZodLazy = /* @__PURE__ */ $constructor("$ZodLazy", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "innerType", () => def.getter());
  defineLazy(inst._zod, "pattern", () => inst._zod.innerType._zod.pattern);
  defineLazy(inst._zod, "propValues", () => inst._zod.innerType._zod.propValues);
  defineLazy(inst._zod, "optin", () => inst._zod.innerType._zod.optin ?? void 0);
  defineLazy(inst._zod, "optout", () => inst._zod.innerType._zod.optout ?? void 0);
  inst._zod.parse = (payload, ctx) => {
    const inner = inst._zod.innerType;
    return inner._zod.run(payload, ctx);
  };
});
var $ZodCustom = /* @__PURE__ */ $constructor("$ZodCustom", (inst, def) => {
  $ZodCheck.init(inst, def);
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _2) => {
    return payload;
  };
  inst._zod.check = (payload) => {
    const input = payload.value;
    const r2 = def.fn(input);
    if (r2 instanceof Promise) {
      return r2.then((r3) => handleRefineResult(r3, payload, input, inst));
    }
    handleRefineResult(r2, payload, input, inst);
    return;
  };
});
function handleRefineResult(result, payload, input, inst) {
  if (!result) {
    const _iss = {
      code: "custom",
      input,
      inst,
      // incorporates params.error into issue reporting
      path: [...inst._zod.def.path ?? []],
      // incorporates params.error into issue reporting
      continue: !inst._zod.def.abort
      // params: inst._zod.def.params,
    };
    if (inst._zod.def.params)
      _iss.params = inst._zod.def.params;
    payload.issues.push(issue(_iss));
  }
}

// node_modules/zod/v4/locales/index.js
var locales_exports = {};
__export(locales_exports, {
  ar: () => ar_default,
  az: () => az_default,
  be: () => be_default,
  ca: () => ca_default,
  cs: () => cs_default,
  da: () => da_default,
  de: () => de_default,
  en: () => en_default,
  eo: () => eo_default,
  es: () => es_default,
  fa: () => fa_default,
  fi: () => fi_default,
  fr: () => fr_default,
  frCA: () => fr_CA_default,
  he: () => he_default,
  hu: () => hu_default,
  id: () => id_default,
  is: () => is_default,
  it: () => it_default,
  ja: () => ja_default,
  ka: () => ka_default,
  kh: () => kh_default,
  km: () => km_default,
  ko: () => ko_default,
  lt: () => lt_default,
  mk: () => mk_default,
  ms: () => ms_default,
  nl: () => nl_default,
  no: () => no_default,
  ota: () => ota_default,
  pl: () => pl_default,
  ps: () => ps_default,
  pt: () => pt_default,
  ru: () => ru_default,
  sl: () => sl_default,
  sv: () => sv_default,
  ta: () => ta_default,
  th: () => th_default,
  tr: () => tr_default,
  ua: () => ua_default,
  uk: () => uk_default,
  ur: () => ur_default,
  vi: () => vi_default,
  yo: () => yo_default,
  zhCN: () => zh_CN_default,
  zhTW: () => zh_TW_default
});

// node_modules/zod/v4/locales/ar.js
var error = () => {
  const Sizable = {
    string: { unit: "\u062D\u0631\u0641", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" },
    file: { unit: "\u0628\u0627\u064A\u062A", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" },
    array: { unit: "\u0639\u0646\u0635\u0631", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" },
    set: { unit: "\u0639\u0646\u0635\u0631", verb: "\u0623\u0646 \u064A\u062D\u0648\u064A" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0645\u062F\u062E\u0644",
    email: "\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",
    url: "\u0631\u0627\u0628\u0637",
    emoji: "\u0625\u064A\u0645\u0648\u062C\u064A",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    date: "\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    time: "\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    duration: "\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",
    ipv4: "\u0639\u0646\u0648\u0627\u0646 IPv4",
    ipv6: "\u0639\u0646\u0648\u0627\u0646 IPv6",
    cidrv4: "\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",
    cidrv6: "\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",
    base64: "\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",
    base64url: "\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",
    json_string: "\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",
    e164: "\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",
    jwt: "JWT",
    template_literal: "\u0645\u062F\u062E\u0644"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${issue2.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return ` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${issue2.origin ?? "\u0627\u0644\u0642\u064A\u0645\u0629"} ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0635\u0631"}`;
        return `\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${issue2.origin ?? "\u0627\u0644\u0642\u064A\u0645\u0629"} ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${issue2.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${issue2.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${issue2.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`;
      }
      case "not_multiple_of":
        return `\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u0645\u0639\u0631\u0641${issue2.keys.length > 1 ? "\u0627\u062A" : ""} \u063A\u0631\u064A\u0628${issue2.keys.length > 1 ? "\u0629" : ""}: ${joinValues(issue2.keys, "\u060C ")}`;
      case "invalid_key":
        return `\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${issue2.origin}`;
      case "invalid_union":
        return "\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";
      case "invalid_element":
        return `\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${issue2.origin}`;
      default:
        return "\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";
    }
  };
};
function ar_default() {
  return {
    localeError: error()
  };
}

// node_modules/zod/v4/locales/az.js
var error2 = () => {
  const Sizable = {
    string: { unit: "simvol", verb: "olmal\u0131d\u0131r" },
    file: { unit: "bayt", verb: "olmal\u0131d\u0131r" },
    array: { unit: "element", verb: "olmal\u0131d\u0131r" },
    set: { unit: "element", verb: "olmal\u0131d\u0131r" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "email address",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datetime",
    date: "ISO date",
    time: "ISO time",
    duration: "ISO duration",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded string",
    base64url: "base64url-encoded string",
    json_string: "JSON string",
    e164: "E.164 number",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${issue2.expected}, daxil olan ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${stringifyPrimitive(issue2.values[0])}`;
        return `Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${issue2.origin ?? "d\u0259y\u0259r"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "element"}`;
        return `\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${issue2.origin ?? "d\u0259y\u0259r"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        return `\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Yanl\u0131\u015F m\u0259tn: "${_issue.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`;
        if (_issue.format === "ends_with")
          return `Yanl\u0131\u015F m\u0259tn: "${_issue.suffix}" il\u0259 bitm\u0259lidir`;
        if (_issue.format === "includes")
          return `Yanl\u0131\u015F m\u0259tn: "${_issue.includes}" daxil olmal\u0131d\u0131r`;
        if (_issue.format === "regex")
          return `Yanl\u0131\u015F m\u0259tn: ${_issue.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`;
        return `Yanl\u0131\u015F ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Yanl\u0131\u015F \u0259d\u0259d: ${issue2.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;
      case "unrecognized_keys":
        return `Tan\u0131nmayan a\xE7ar${issue2.keys.length > 1 ? "lar" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;
      case "invalid_union":
        return "Yanl\u0131\u015F d\u0259y\u0259r";
      case "invalid_element":
        return `${issue2.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;
      default:
        return `Yanl\u0131\u015F d\u0259y\u0259r`;
    }
  };
};
function az_default() {
  return {
    localeError: error2()
  };
}

// node_modules/zod/v4/locales/be.js
function getBelarusianPlural(count, one, few, many) {
  const absCount = Math.abs(count);
  const lastDigit = absCount % 10;
  const lastTwoDigits = absCount % 100;
  if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {
    return many;
  }
  if (lastDigit === 1) {
    return one;
  }
  if (lastDigit >= 2 && lastDigit <= 4) {
    return few;
  }
  return many;
}
var error3 = () => {
  const Sizable = {
    string: {
      unit: {
        one: "\u0441\u0456\u043C\u0432\u0430\u043B",
        few: "\u0441\u0456\u043C\u0432\u0430\u043B\u044B",
        many: "\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    },
    array: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    },
    set: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    },
    file: {
      unit: {
        one: "\u0431\u0430\u0439\u0442",
        few: "\u0431\u0430\u0439\u0442\u044B",
        many: "\u0431\u0430\u0439\u0442\u0430\u045E"
      },
      verb: "\u043C\u0435\u0446\u044C"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u043B\u0456\u043A";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043C\u0430\u0441\u0456\u045E";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0443\u0432\u043E\u0434",
    email: "email \u0430\u0434\u0440\u0430\u0441",
    url: "URL",
    emoji: "\u044D\u043C\u043E\u0434\u0437\u0456",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",
    date: "ISO \u0434\u0430\u0442\u0430",
    time: "ISO \u0447\u0430\u0441",
    duration: "ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",
    ipv4: "IPv4 \u0430\u0434\u0440\u0430\u0441",
    ipv6: "IPv6 \u0430\u0434\u0440\u0430\u0441",
    cidrv4: "IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",
    cidrv6: "IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",
    base64: "\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",
    base64url: "\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",
    json_string: "JSON \u0440\u0430\u0434\u043E\u043A",
    e164: "\u043D\u0443\u043C\u0430\u0440 E.164",
    jwt: "JWT",
    template_literal: "\u0443\u0432\u043E\u0434"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${issue2.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${stringifyPrimitive(issue2.values[0])}`;
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const maxValue = Number(issue2.maximum);
          const unit = getBelarusianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${sizing.verb} ${adj}${issue2.maximum.toString()} ${unit}`;
        }
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const minValue = Number(issue2.minimum);
          const unit = getBelarusianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${sizing.verb} ${adj}${issue2.minimum.toString()} ${unit}`;
        }
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${issue2.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${issue2.keys.length > 1 ? "\u043A\u043B\u044E\u0447\u044B" : "\u043A\u043B\u044E\u0447"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${issue2.origin}`;
      case "invalid_union":
        return "\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";
      case "invalid_element":
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${issue2.origin}`;
      default:
        return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434`;
    }
  };
};
function be_default() {
  return {
    localeError: error3()
  };
}

// node_modules/zod/v4/locales/ca.js
var error4 = () => {
  const Sizable = {
    string: { unit: "car\xE0cters", verb: "contenir" },
    file: { unit: "bytes", verb: "contenir" },
    array: { unit: "elements", verb: "contenir" },
    set: { unit: "elements", verb: "contenir" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entrada",
    email: "adre\xE7a electr\xF2nica",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data i hora ISO",
    date: "data ISO",
    time: "hora ISO",
    duration: "durada ISO",
    ipv4: "adre\xE7a IPv4",
    ipv6: "adre\xE7a IPv6",
    cidrv4: "rang IPv4",
    cidrv6: "rang IPv6",
    base64: "cadena codificada en base64",
    base64url: "cadena codificada en base64url",
    json_string: "cadena JSON",
    e164: "n\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Tipus inv\xE0lid: s'esperava ${issue2.expected}, s'ha rebut ${parsedType7(issue2.input)}`;
      // return `Tipus invàlid: s'esperava ${issue.expected}, s'ha rebut ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Valor inv\xE0lid: s'esperava ${stringifyPrimitive(issue2.values[0])}`;
        return `Opci\xF3 inv\xE0lida: s'esperava una de ${joinValues(issue2.values, " o ")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "com a m\xE0xim" : "menys de";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Massa gran: s'esperava que ${issue2.origin ?? "el valor"} contingu\xE9s ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "elements"}`;
        return `Massa gran: s'esperava que ${issue2.origin ?? "el valor"} fos ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "com a m\xEDnim" : "m\xE9s de";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Massa petit: s'esperava que ${issue2.origin} contingu\xE9s ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Massa petit: s'esperava que ${issue2.origin} fos ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Format inv\xE0lid: ha de comen\xE7ar amb "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Format inv\xE0lid: ha d'acabar amb "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Format inv\xE0lid: ha d'incloure "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${_issue.pattern}`;
        return `Format inv\xE0lid per a ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Clau${issue2.keys.length > 1 ? "s" : ""} no reconeguda${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Clau inv\xE0lida a ${issue2.origin}`;
      case "invalid_union":
        return "Entrada inv\xE0lida";
      // Could also be "Tipus d'unió invàlid" but "Entrada invàlida" is more general
      case "invalid_element":
        return `Element inv\xE0lid a ${issue2.origin}`;
      default:
        return `Entrada inv\xE0lida`;
    }
  };
};
function ca_default() {
  return {
    localeError: error4()
  };
}

// node_modules/zod/v4/locales/cs.js
var error5 = () => {
  const Sizable = {
    string: { unit: "znak\u016F", verb: "m\xEDt" },
    file: { unit: "bajt\u016F", verb: "m\xEDt" },
    array: { unit: "prvk\u016F", verb: "m\xEDt" },
    set: { unit: "prvk\u016F", verb: "m\xEDt" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u010D\xEDslo";
      }
      case "string": {
        return "\u0159et\u011Bzec";
      }
      case "boolean": {
        return "boolean";
      }
      case "bigint": {
        return "bigint";
      }
      case "function": {
        return "funkce";
      }
      case "symbol": {
        return "symbol";
      }
      case "undefined": {
        return "undefined";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "pole";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "regul\xE1rn\xED v\xFDraz",
    email: "e-mailov\xE1 adresa",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "datum a \u010Das ve form\xE1tu ISO",
    date: "datum ve form\xE1tu ISO",
    time: "\u010Das ve form\xE1tu ISO",
    duration: "doba trv\xE1n\xED ISO",
    ipv4: "IPv4 adresa",
    ipv6: "IPv6 adresa",
    cidrv4: "rozsah IPv4",
    cidrv6: "rozsah IPv6",
    base64: "\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",
    base64url: "\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",
    json_string: "\u0159et\u011Bzec ve form\xE1tu JSON",
    e164: "\u010D\xEDslo E.164",
    jwt: "JWT",
    template_literal: "vstup"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${issue2.expected}, obdr\u017Eeno ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${stringifyPrimitive(issue2.values[0])}`;
        return `Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${issue2.origin ?? "hodnota"} mus\xED m\xEDt ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "prvk\u016F"}`;
        }
        return `Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${issue2.origin ?? "hodnota"} mus\xED b\xFDt ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${issue2.origin ?? "hodnota"} mus\xED m\xEDt ${adj}${issue2.minimum.toString()} ${sizing.unit ?? "prvk\u016F"}`;
        }
        return `Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${issue2.origin ?? "hodnota"} mus\xED b\xFDt ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${_issue.pattern}`;
        return `Neplatn\xFD form\xE1t ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Nezn\xE1m\xE9 kl\xED\u010De: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Neplatn\xFD kl\xED\u010D v ${issue2.origin}`;
      case "invalid_union":
        return "Neplatn\xFD vstup";
      case "invalid_element":
        return `Neplatn\xE1 hodnota v ${issue2.origin}`;
      default:
        return `Neplatn\xFD vstup`;
    }
  };
};
function cs_default() {
  return {
    localeError: error5()
  };
}

// node_modules/zod/v4/locales/da.js
var error6 = () => {
  const Sizable = {
    string: { unit: "tegn", verb: "havde" },
    file: { unit: "bytes", verb: "havde" },
    array: { unit: "elementer", verb: "indeholdt" },
    set: { unit: "elementer", verb: "indeholdt" }
  };
  const TypeNames = {
    string: "streng",
    number: "tal",
    boolean: "boolean",
    array: "liste",
    object: "objekt",
    set: "s\xE6t",
    file: "fil"
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  function getTypeName(type) {
    return TypeNames[type] ?? type;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "tal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "liste";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
        return "objekt";
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "e-mailadresse",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dato- og klokkesl\xE6t",
    date: "ISO-dato",
    time: "ISO-klokkesl\xE6t",
    duration: "ISO-varighed",
    ipv4: "IPv4-omr\xE5de",
    ipv6: "IPv6-omr\xE5de",
    cidrv4: "IPv4-spektrum",
    cidrv6: "IPv6-spektrum",
    base64: "base64-kodet streng",
    base64url: "base64url-kodet streng",
    json_string: "JSON-streng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ugyldigt input: forventede ${getTypeName(issue2.expected)}, fik ${getTypeName(parsedType7(issue2.input))}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ugyldig v\xE6rdi: forventede ${stringifyPrimitive(issue2.values[0])}`;
        return `Ugyldigt valg: forventede en af f\xF8lgende ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing)
          return `For stor: forventede ${origin ?? "value"} ${sizing.verb} ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "elementer"}`;
        return `For stor: forventede ${origin ?? "value"} havde ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing) {
          return `For lille: forventede ${origin} ${sizing.verb} ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `For lille: forventede ${origin} havde ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ugyldig streng: skal starte med "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Ugyldig streng: skal ende med "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Ugyldig streng: skal indeholde "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Ugyldig streng: skal matche m\xF8nsteret ${_issue.pattern}`;
        return `Ugyldig ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ugyldigt tal: skal v\xE6re deleligt med ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Ukendte n\xF8gler" : "Ukendt n\xF8gle"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ugyldig n\xF8gle i ${issue2.origin}`;
      case "invalid_union":
        return "Ugyldigt input: matcher ingen af de tilladte typer";
      case "invalid_element":
        return `Ugyldig v\xE6rdi i ${issue2.origin}`;
      default:
        return `Ugyldigt input`;
    }
  };
};
function da_default() {
  return {
    localeError: error6()
  };
}

// node_modules/zod/v4/locales/de.js
var error7 = () => {
  const Sizable = {
    string: { unit: "Zeichen", verb: "zu haben" },
    file: { unit: "Bytes", verb: "zu haben" },
    array: { unit: "Elemente", verb: "zu haben" },
    set: { unit: "Elemente", verb: "zu haben" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "Zahl";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "Array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "Eingabe",
    email: "E-Mail-Adresse",
    url: "URL",
    emoji: "Emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-Datum und -Uhrzeit",
    date: "ISO-Datum",
    time: "ISO-Uhrzeit",
    duration: "ISO-Dauer",
    ipv4: "IPv4-Adresse",
    ipv6: "IPv6-Adresse",
    cidrv4: "IPv4-Bereich",
    cidrv6: "IPv6-Bereich",
    base64: "Base64-codierter String",
    base64url: "Base64-URL-codierter String",
    json_string: "JSON-String",
    e164: "E.164-Nummer",
    jwt: "JWT",
    template_literal: "Eingabe"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ung\xFCltige Eingabe: erwartet ${issue2.expected}, erhalten ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ung\xFCltige Eingabe: erwartet ${stringifyPrimitive(issue2.values[0])}`;
        return `Ung\xFCltige Option: erwartet eine von ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Zu gro\xDF: erwartet, dass ${issue2.origin ?? "Wert"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "Elemente"} hat`;
        return `Zu gro\xDF: erwartet, dass ${issue2.origin ?? "Wert"} ${adj}${issue2.maximum.toString()} ist`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Zu klein: erwartet, dass ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit} hat`;
        }
        return `Zu klein: erwartet, dass ${issue2.origin} ${adj}${issue2.minimum.toString()} ist`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ung\xFCltiger String: muss mit "${_issue.prefix}" beginnen`;
        if (_issue.format === "ends_with")
          return `Ung\xFCltiger String: muss mit "${_issue.suffix}" enden`;
        if (_issue.format === "includes")
          return `Ung\xFCltiger String: muss "${_issue.includes}" enthalten`;
        if (_issue.format === "regex")
          return `Ung\xFCltiger String: muss dem Muster ${_issue.pattern} entsprechen`;
        return `Ung\xFCltig: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ung\xFCltige Zahl: muss ein Vielfaches von ${issue2.divisor} sein`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Unbekannte Schl\xFCssel" : "Unbekannter Schl\xFCssel"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ung\xFCltiger Schl\xFCssel in ${issue2.origin}`;
      case "invalid_union":
        return "Ung\xFCltige Eingabe";
      case "invalid_element":
        return `Ung\xFCltiger Wert in ${issue2.origin}`;
      default:
        return `Ung\xFCltige Eingabe`;
    }
  };
};
function de_default() {
  return {
    localeError: error7()
  };
}

// node_modules/zod/v4/locales/en.js
var parsedType = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "number";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error8 = () => {
  const Sizable = {
    string: { unit: "characters", verb: "to have" },
    file: { unit: "bytes", verb: "to have" },
    array: { unit: "items", verb: "to have" },
    set: { unit: "items", verb: "to have" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "input",
    email: "email address",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datetime",
    date: "ISO date",
    time: "ISO time",
    duration: "ISO duration",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded string",
    base64url: "base64url-encoded string",
    json_string: "JSON string",
    e164: "E.164 number",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Invalid input: expected ${issue2.expected}, received ${parsedType(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Invalid input: expected ${stringifyPrimitive(issue2.values[0])}`;
        return `Invalid option: expected one of ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Too big: expected ${issue2.origin ?? "value"} to have ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elements"}`;
        return `Too big: expected ${issue2.origin ?? "value"} to be ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Too small: expected ${issue2.origin} to have ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Too small: expected ${issue2.origin} to be ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Invalid string: must start with "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Invalid string: must end with "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Invalid string: must include "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Invalid string: must match pattern ${_issue.pattern}`;
        return `Invalid ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Invalid number: must be a multiple of ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Unrecognized key${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Invalid key in ${issue2.origin}`;
      case "invalid_union":
        return "Invalid input";
      case "invalid_element":
        return `Invalid value in ${issue2.origin}`;
      default:
        return `Invalid input`;
    }
  };
};
function en_default() {
  return {
    localeError: error8()
  };
}

// node_modules/zod/v4/locales/eo.js
var parsedType2 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "nombro";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "tabelo";
      }
      if (data === null) {
        return "senvalora";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error9 = () => {
  const Sizable = {
    string: { unit: "karaktrojn", verb: "havi" },
    file: { unit: "bajtojn", verb: "havi" },
    array: { unit: "elementojn", verb: "havi" },
    set: { unit: "elementojn", verb: "havi" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "enigo",
    email: "retadreso",
    url: "URL",
    emoji: "emo\u011Dio",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-datotempo",
    date: "ISO-dato",
    time: "ISO-tempo",
    duration: "ISO-da\u016Dro",
    ipv4: "IPv4-adreso",
    ipv6: "IPv6-adreso",
    cidrv4: "IPv4-rango",
    cidrv6: "IPv6-rango",
    base64: "64-ume kodita karaktraro",
    base64url: "URL-64-ume kodita karaktraro",
    json_string: "JSON-karaktraro",
    e164: "E.164-nombro",
    jwt: "JWT",
    template_literal: "enigo"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Nevalida enigo: atendi\u011Dis ${issue2.expected}, ricevi\u011Dis ${parsedType2(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Nevalida enigo: atendi\u011Dis ${stringifyPrimitive(issue2.values[0])}`;
        return `Nevalida opcio: atendi\u011Dis unu el ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Tro granda: atendi\u011Dis ke ${issue2.origin ?? "valoro"} havu ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementojn"}`;
        return `Tro granda: atendi\u011Dis ke ${issue2.origin ?? "valoro"} havu ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Tro malgranda: atendi\u011Dis ke ${issue2.origin} havu ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Tro malgranda: atendi\u011Dis ke ${issue2.origin} estu ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Nevalida karaktraro: devas komenci\u011Di per "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Nevalida karaktraro: devas fini\u011Di per "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Nevalida karaktraro: devas inkluzivi "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Nevalida karaktraro: devas kongrui kun la modelo ${_issue.pattern}`;
        return `Nevalida ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Nevalida nombro: devas esti oblo de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Nekonata${issue2.keys.length > 1 ? "j" : ""} \u015Dlosilo${issue2.keys.length > 1 ? "j" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Nevalida \u015Dlosilo en ${issue2.origin}`;
      case "invalid_union":
        return "Nevalida enigo";
      case "invalid_element":
        return `Nevalida valoro en ${issue2.origin}`;
      default:
        return `Nevalida enigo`;
    }
  };
};
function eo_default() {
  return {
    localeError: error9()
  };
}

// node_modules/zod/v4/locales/es.js
var error10 = () => {
  const Sizable = {
    string: { unit: "caracteres", verb: "tener" },
    file: { unit: "bytes", verb: "tener" },
    array: { unit: "elementos", verb: "tener" },
    set: { unit: "elementos", verb: "tener" }
  };
  const TypeNames = {
    string: "texto",
    number: "n\xFAmero",
    boolean: "booleano",
    array: "arreglo",
    object: "objeto",
    set: "conjunto",
    file: "archivo",
    date: "fecha",
    bigint: "n\xFAmero grande",
    symbol: "s\xEDmbolo",
    undefined: "indefinido",
    null: "nulo",
    function: "funci\xF3n",
    map: "mapa",
    record: "registro",
    tuple: "tupla",
    enum: "enumeraci\xF3n",
    union: "uni\xF3n",
    literal: "literal",
    promise: "promesa",
    void: "vac\xEDo",
    never: "nunca",
    unknown: "desconocido",
    any: "cualquiera"
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  function getTypeName(type) {
    return TypeNames[type] ?? type;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype) {
          return data.constructor.name;
        }
        return "object";
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entrada",
    email: "direcci\xF3n de correo electr\xF3nico",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "fecha y hora ISO",
    date: "fecha ISO",
    time: "hora ISO",
    duration: "duraci\xF3n ISO",
    ipv4: "direcci\xF3n IPv4",
    ipv6: "direcci\xF3n IPv6",
    cidrv4: "rango IPv4",
    cidrv6: "rango IPv6",
    base64: "cadena codificada en base64",
    base64url: "URL codificada en base64",
    json_string: "cadena JSON",
    e164: "n\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Entrada inv\xE1lida: se esperaba ${getTypeName(issue2.expected)}, recibido ${getTypeName(parsedType7(issue2.input))}`;
      // return `Entrada inválida: se esperaba ${issue.expected}, recibido ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entrada inv\xE1lida: se esperaba ${stringifyPrimitive(issue2.values[0])}`;
        return `Opci\xF3n inv\xE1lida: se esperaba una de ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing)
          return `Demasiado grande: se esperaba que ${origin ?? "valor"} tuviera ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementos"}`;
        return `Demasiado grande: se esperaba que ${origin ?? "valor"} fuera ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing) {
          return `Demasiado peque\xF1o: se esperaba que ${origin} tuviera ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Demasiado peque\xF1o: se esperaba que ${origin} fuera ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Cadena inv\xE1lida: debe comenzar con "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Cadena inv\xE1lida: debe terminar en "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Cadena inv\xE1lida: debe incluir "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${_issue.pattern}`;
        return `Inv\xE1lido ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Llave${issue2.keys.length > 1 ? "s" : ""} desconocida${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Llave inv\xE1lida en ${getTypeName(issue2.origin)}`;
      case "invalid_union":
        return "Entrada inv\xE1lida";
      case "invalid_element":
        return `Valor inv\xE1lido en ${getTypeName(issue2.origin)}`;
      default:
        return `Entrada inv\xE1lida`;
    }
  };
};
function es_default() {
  return {
    localeError: error10()
  };
}

// node_modules/zod/v4/locales/fa.js
var error11 = () => {
  const Sizable = {
    string: { unit: "\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" },
    file: { unit: "\u0628\u0627\u06CC\u062A", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" },
    array: { unit: "\u0622\u06CC\u062A\u0645", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" },
    set: { unit: "\u0622\u06CC\u062A\u0645", verb: "\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0639\u062F\u062F";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0622\u0631\u0627\u06CC\u0647";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0648\u0631\u0648\u062F\u06CC",
    email: "\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",
    url: "URL",
    emoji: "\u0627\u06CC\u0645\u0648\u062C\u06CC",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",
    date: "\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",
    time: "\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",
    duration: "\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",
    ipv4: "IPv4 \u0622\u062F\u0631\u0633",
    ipv6: "IPv6 \u0622\u062F\u0631\u0633",
    cidrv4: "IPv4 \u062F\u0627\u0645\u0646\u0647",
    cidrv6: "IPv6 \u062F\u0627\u0645\u0646\u0647",
    base64: "base64-encoded \u0631\u0634\u062A\u0647",
    base64url: "base64url-encoded \u0631\u0634\u062A\u0647",
    json_string: "JSON \u0631\u0634\u062A\u0647",
    e164: "E.164 \u0639\u062F\u062F",
    jwt: "JWT",
    template_literal: "\u0648\u0631\u0648\u062F\u06CC"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${issue2.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${parsedType7(issue2.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;
      case "invalid_value":
        if (issue2.values.length === 1) {
          return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${stringifyPrimitive(issue2.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`;
        }
        return `\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${joinValues(issue2.values, "|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${issue2.origin ?? "\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`;
        }
        return `\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${issue2.origin ?? "\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} \u0628\u0627\u0634\u062F`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} ${sizing.unit} \u0628\u0627\u0634\u062F`;
        }
        return `\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} \u0628\u0627\u0634\u062F`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${_issue.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`;
        }
        if (_issue.format === "ends_with") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${_issue.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`;
        }
        if (_issue.format === "includes") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${_issue.includes}" \u0628\u0627\u0634\u062F`;
        }
        if (_issue.format === "regex") {
          return `\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${_issue.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`;
        }
        return `${Nouns[_issue.format] ?? issue2.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;
      }
      case "not_multiple_of":
        return `\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${issue2.divisor} \u0628\u0627\u0634\u062F`;
      case "unrecognized_keys":
        return `\u06A9\u0644\u06CC\u062F${issue2.keys.length > 1 ? "\u0647\u0627\u06CC" : ""} \u0646\u0627\u0634\u0646\u0627\u0633: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${issue2.origin}`;
      case "invalid_union":
        return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;
      case "invalid_element":
        return `\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${issue2.origin}`;
      default:
        return `\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631`;
    }
  };
};
function fa_default() {
  return {
    localeError: error11()
  };
}

// node_modules/zod/v4/locales/fi.js
var error12 = () => {
  const Sizable = {
    string: { unit: "merkki\xE4", subject: "merkkijonon" },
    file: { unit: "tavua", subject: "tiedoston" },
    array: { unit: "alkiota", subject: "listan" },
    set: { unit: "alkiota", subject: "joukon" },
    number: { unit: "", subject: "luvun" },
    bigint: { unit: "", subject: "suuren kokonaisluvun" },
    int: { unit: "", subject: "kokonaisluvun" },
    date: { unit: "", subject: "p\xE4iv\xE4m\xE4\xE4r\xE4n" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "s\xE4\xE4nn\xF6llinen lauseke",
    email: "s\xE4hk\xF6postiosoite",
    url: "URL-osoite",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-aikaleima",
    date: "ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",
    time: "ISO-aika",
    duration: "ISO-kesto",
    ipv4: "IPv4-osoite",
    ipv6: "IPv6-osoite",
    cidrv4: "IPv4-alue",
    cidrv6: "IPv6-alue",
    base64: "base64-koodattu merkkijono",
    base64url: "base64url-koodattu merkkijono",
    json_string: "JSON-merkkijono",
    e164: "E.164-luku",
    jwt: "JWT",
    template_literal: "templaattimerkkijono"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Virheellinen tyyppi: odotettiin ${issue2.expected}, oli ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Virheellinen sy\xF6te: t\xE4ytyy olla ${stringifyPrimitive(issue2.values[0])}`;
        return `Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Liian suuri: ${sizing.subject} t\xE4ytyy olla ${adj}${issue2.maximum.toString()} ${sizing.unit}`.trim();
        }
        return `Liian suuri: arvon t\xE4ytyy olla ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Liian pieni: ${sizing.subject} t\xE4ytyy olla ${adj}${issue2.minimum.toString()} ${sizing.unit}`.trim();
        }
        return `Liian pieni: arvon t\xE4ytyy olla ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Virheellinen sy\xF6te: t\xE4ytyy alkaa "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Virheellinen sy\xF6te: t\xE4ytyy loppua "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${_issue.includes}"`;
        if (_issue.format === "regex") {
          return `Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${_issue.pattern}`;
        }
        return `Virheellinen ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Virheellinen luku: t\xE4ytyy olla luvun ${issue2.divisor} monikerta`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Tuntemattomat avaimet" : "Tuntematon avain"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return "Virheellinen avain tietueessa";
      case "invalid_union":
        return "Virheellinen unioni";
      case "invalid_element":
        return "Virheellinen arvo joukossa";
      default:
        return `Virheellinen sy\xF6te`;
    }
  };
};
function fi_default() {
  return {
    localeError: error12()
  };
}

// node_modules/zod/v4/locales/fr.js
var error13 = () => {
  const Sizable = {
    string: { unit: "caract\xE8res", verb: "avoir" },
    file: { unit: "octets", verb: "avoir" },
    array: { unit: "\xE9l\xE9ments", verb: "avoir" },
    set: { unit: "\xE9l\xE9ments", verb: "avoir" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "nombre";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tableau";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entr\xE9e",
    email: "adresse e-mail",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "date et heure ISO",
    date: "date ISO",
    time: "heure ISO",
    duration: "dur\xE9e ISO",
    ipv4: "adresse IPv4",
    ipv6: "adresse IPv6",
    cidrv4: "plage IPv4",
    cidrv6: "plage IPv6",
    base64: "cha\xEEne encod\xE9e en base64",
    base64url: "cha\xEEne encod\xE9e en base64url",
    json_string: "cha\xEEne JSON",
    e164: "num\xE9ro E.164",
    jwt: "JWT",
    template_literal: "entr\xE9e"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Entr\xE9e invalide : ${issue2.expected} attendu, ${parsedType7(issue2.input)} re\xE7u`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entr\xE9e invalide : ${stringifyPrimitive(issue2.values[0])} attendu`;
        return `Option invalide : une valeur parmi ${joinValues(issue2.values, "|")} attendue`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Trop grand : ${issue2.origin ?? "valeur"} doit ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\xE9l\xE9ment(s)"}`;
        return `Trop grand : ${issue2.origin ?? "valeur"} doit \xEAtre ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Trop petit : ${issue2.origin} doit ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Trop petit : ${issue2.origin} doit \xEAtre ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Cha\xEEne invalide : doit commencer par "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Cha\xEEne invalide : doit se terminer par "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Cha\xEEne invalide : doit inclure "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Cha\xEEne invalide : doit correspondre au mod\xE8le ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} invalide`;
      }
      case "not_multiple_of":
        return `Nombre invalide : doit \xEAtre un multiple de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Cl\xE9${issue2.keys.length > 1 ? "s" : ""} non reconnue${issue2.keys.length > 1 ? "s" : ""} : ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Cl\xE9 invalide dans ${issue2.origin}`;
      case "invalid_union":
        return "Entr\xE9e invalide";
      case "invalid_element":
        return `Valeur invalide dans ${issue2.origin}`;
      default:
        return `Entr\xE9e invalide`;
    }
  };
};
function fr_default() {
  return {
    localeError: error13()
  };
}

// node_modules/zod/v4/locales/fr-CA.js
var error14 = () => {
  const Sizable = {
    string: { unit: "caract\xE8res", verb: "avoir" },
    file: { unit: "octets", verb: "avoir" },
    array: { unit: "\xE9l\xE9ments", verb: "avoir" },
    set: { unit: "\xE9l\xE9ments", verb: "avoir" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "entr\xE9e",
    email: "adresse courriel",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "date-heure ISO",
    date: "date ISO",
    time: "heure ISO",
    duration: "dur\xE9e ISO",
    ipv4: "adresse IPv4",
    ipv6: "adresse IPv6",
    cidrv4: "plage IPv4",
    cidrv6: "plage IPv6",
    base64: "cha\xEEne encod\xE9e en base64",
    base64url: "cha\xEEne encod\xE9e en base64url",
    json_string: "cha\xEEne JSON",
    e164: "num\xE9ro E.164",
    jwt: "JWT",
    template_literal: "entr\xE9e"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Entr\xE9e invalide : attendu ${issue2.expected}, re\xE7u ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entr\xE9e invalide : attendu ${stringifyPrimitive(issue2.values[0])}`;
        return `Option invalide : attendu l'une des valeurs suivantes ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "\u2264" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Trop grand : attendu que ${issue2.origin ?? "la valeur"} ait ${adj}${issue2.maximum.toString()} ${sizing.unit}`;
        return `Trop grand : attendu que ${issue2.origin ?? "la valeur"} soit ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\u2265" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Trop petit : attendu que ${issue2.origin} ait ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Trop petit : attendu que ${issue2.origin} soit ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Cha\xEEne invalide : doit commencer par "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Cha\xEEne invalide : doit se terminer par "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Cha\xEEne invalide : doit inclure "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Cha\xEEne invalide : doit correspondre au motif ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} invalide`;
      }
      case "not_multiple_of":
        return `Nombre invalide : doit \xEAtre un multiple de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Cl\xE9${issue2.keys.length > 1 ? "s" : ""} non reconnue${issue2.keys.length > 1 ? "s" : ""} : ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Cl\xE9 invalide dans ${issue2.origin}`;
      case "invalid_union":
        return "Entr\xE9e invalide";
      case "invalid_element":
        return `Valeur invalide dans ${issue2.origin}`;
      default:
        return `Entr\xE9e invalide`;
    }
  };
};
function fr_CA_default() {
  return {
    localeError: error14()
  };
}

// node_modules/zod/v4/locales/he.js
var error15 = () => {
  const Sizable = {
    string: { unit: "\u05D0\u05D5\u05EA\u05D9\u05D5\u05EA", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" },
    file: { unit: "\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" },
    array: { unit: "\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" },
    set: { unit: "\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD", verb: "\u05DC\u05DB\u05DC\u05D5\u05DC" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u05E7\u05DC\u05D8",
    email: "\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",
    url: "\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",
    emoji: "\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",
    date: "\u05EA\u05D0\u05E8\u05D9\u05DA ISO",
    time: "\u05D6\u05DE\u05DF ISO",
    duration: "\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",
    ipv4: "\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",
    ipv6: "\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",
    cidrv4: "\u05D8\u05D5\u05D5\u05D7 IPv4",
    cidrv6: "\u05D8\u05D5\u05D5\u05D7 IPv6",
    base64: "\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",
    base64url: "\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",
    json_string: "\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",
    e164: "\u05DE\u05E1\u05E4\u05E8 E.164",
    jwt: "JWT",
    template_literal: "\u05E7\u05DC\u05D8"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${issue2.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${parsedType7(issue2.input)}`;
      // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${stringifyPrimitive(issue2.values[0])}`;
        return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05D0\u05D7\u05EA \u05DE\u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA  ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${issue2.origin ?? "value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elements"}`;
        return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${issue2.origin ?? "value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${issue2.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${issue2.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1"${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`;
      }
      case "not_multiple_of":
        return `\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u05DE\u05E4\u05EA\u05D7${issue2.keys.length > 1 ? "\u05D5\u05EA" : ""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${issue2.keys.length > 1 ? "\u05D9\u05DD" : "\u05D4"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u05DE\u05E4\u05EA\u05D7 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${issue2.origin}`;
      case "invalid_union":
        return "\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";
      case "invalid_element":
        return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${issue2.origin}`;
      default:
        return `\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`;
    }
  };
};
function he_default() {
  return {
    localeError: error15()
  };
}

// node_modules/zod/v4/locales/hu.js
var error16 = () => {
  const Sizable = {
    string: { unit: "karakter", verb: "legyen" },
    file: { unit: "byte", verb: "legyen" },
    array: { unit: "elem", verb: "legyen" },
    set: { unit: "elem", verb: "legyen" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "sz\xE1m";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "t\xF6mb";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "bemenet",
    email: "email c\xEDm",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO id\u0151b\xE9lyeg",
    date: "ISO d\xE1tum",
    time: "ISO id\u0151",
    duration: "ISO id\u0151intervallum",
    ipv4: "IPv4 c\xEDm",
    ipv6: "IPv6 c\xEDm",
    cidrv4: "IPv4 tartom\xE1ny",
    cidrv6: "IPv6 tartom\xE1ny",
    base64: "base64-k\xF3dolt string",
    base64url: "base64url-k\xF3dolt string",
    json_string: "JSON string",
    e164: "E.164 sz\xE1m",
    jwt: "JWT",
    template_literal: "bemenet"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${issue2.expected}, a kapott \xE9rt\xE9k ${parsedType7(issue2.input)}`;
      // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${stringifyPrimitive(issue2.values[0])}`;
        return `\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `T\xFAl nagy: ${issue2.origin ?? "\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elem"}`;
        return `T\xFAl nagy: a bemeneti \xE9rt\xE9k ${issue2.origin ?? "\xE9rt\xE9k"} t\xFAl nagy: ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${issue2.origin} m\xE9rete t\xFAl kicsi ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${issue2.origin} t\xFAl kicsi ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\xC9rv\xE9nytelen string: "${_issue.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`;
        if (_issue.format === "ends_with")
          return `\xC9rv\xE9nytelen string: "${_issue.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`;
        if (_issue.format === "includes")
          return `\xC9rv\xE9nytelen string: "${_issue.includes}" \xE9rt\xE9ket kell tartalmaznia`;
        if (_issue.format === "regex")
          return `\xC9rv\xE9nytelen string: ${_issue.pattern} mint\xE1nak kell megfelelnie`;
        return `\xC9rv\xE9nytelen ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\xC9rv\xE9nytelen sz\xE1m: ${issue2.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;
      case "unrecognized_keys":
        return `Ismeretlen kulcs${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\xC9rv\xE9nytelen kulcs ${issue2.origin}`;
      case "invalid_union":
        return "\xC9rv\xE9nytelen bemenet";
      case "invalid_element":
        return `\xC9rv\xE9nytelen \xE9rt\xE9k: ${issue2.origin}`;
      default:
        return `\xC9rv\xE9nytelen bemenet`;
    }
  };
};
function hu_default() {
  return {
    localeError: error16()
  };
}

// node_modules/zod/v4/locales/id.js
var error17 = () => {
  const Sizable = {
    string: { unit: "karakter", verb: "memiliki" },
    file: { unit: "byte", verb: "memiliki" },
    array: { unit: "item", verb: "memiliki" },
    set: { unit: "item", verb: "memiliki" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "alamat email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "tanggal dan waktu format ISO",
    date: "tanggal format ISO",
    time: "jam format ISO",
    duration: "durasi format ISO",
    ipv4: "alamat IPv4",
    ipv6: "alamat IPv6",
    cidrv4: "rentang alamat IPv4",
    cidrv6: "rentang alamat IPv6",
    base64: "string dengan enkode base64",
    base64url: "string dengan enkode base64url",
    json_string: "string JSON",
    e164: "angka E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Input tidak valid: diharapkan ${issue2.expected}, diterima ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Input tidak valid: diharapkan ${stringifyPrimitive(issue2.values[0])}`;
        return `Pilihan tidak valid: diharapkan salah satu dari ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Terlalu besar: diharapkan ${issue2.origin ?? "value"} memiliki ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elemen"}`;
        return `Terlalu besar: diharapkan ${issue2.origin ?? "value"} menjadi ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Terlalu kecil: diharapkan ${issue2.origin} memiliki ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Terlalu kecil: diharapkan ${issue2.origin} menjadi ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `String tidak valid: harus dimulai dengan "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `String tidak valid: harus berakhir dengan "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `String tidak valid: harus menyertakan "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `String tidak valid: harus sesuai pola ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} tidak valid`;
      }
      case "not_multiple_of":
        return `Angka tidak valid: harus kelipatan dari ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Kunci tidak dikenali ${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Kunci tidak valid di ${issue2.origin}`;
      case "invalid_union":
        return "Input tidak valid";
      case "invalid_element":
        return `Nilai tidak valid di ${issue2.origin}`;
      default:
        return `Input tidak valid`;
    }
  };
};
function id_default() {
  return {
    localeError: error17()
  };
}

// node_modules/zod/v4/locales/is.js
var parsedType3 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "n\xFAmer";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "fylki";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error18 = () => {
  const Sizable = {
    string: { unit: "stafi", verb: "a\xF0 hafa" },
    file: { unit: "b\xE6ti", verb: "a\xF0 hafa" },
    array: { unit: "hluti", verb: "a\xF0 hafa" },
    set: { unit: "hluti", verb: "a\xF0 hafa" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "gildi",
    email: "netfang",
    url: "vefsl\xF3\xF0",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dagsetning og t\xEDmi",
    date: "ISO dagsetning",
    time: "ISO t\xEDmi",
    duration: "ISO t\xEDmalengd",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded strengur",
    base64url: "base64url-encoded strengur",
    json_string: "JSON strengur",
    e164: "E.164 t\xF6lugildi",
    jwt: "JWT",
    template_literal: "gildi"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Rangt gildi: \xDE\xFA sl\xF3st inn ${parsedType3(issue2.input)} \xFEar sem \xE1 a\xF0 vera ${issue2.expected}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Rangt gildi: gert r\xE1\xF0 fyrir ${stringifyPrimitive(issue2.values[0])}`;
        return `\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin ?? "gildi"} hafi ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "hluti"}`;
        return `Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin ?? "gildi"} s\xE9 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin} hafi ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${issue2.origin} s\xE9 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${_issue.pattern}`;
        return `Rangt ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\xD3\xFEekkt ${issue2.keys.length > 1 ? "ir lyklar" : "ur lykill"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Rangur lykill \xED ${issue2.origin}`;
      case "invalid_union":
        return "Rangt gildi";
      case "invalid_element":
        return `Rangt gildi \xED ${issue2.origin}`;
      default:
        return `Rangt gildi`;
    }
  };
};
function is_default() {
  return {
    localeError: error18()
  };
}

// node_modules/zod/v4/locales/it.js
var error19 = () => {
  const Sizable = {
    string: { unit: "caratteri", verb: "avere" },
    file: { unit: "byte", verb: "avere" },
    array: { unit: "elementi", verb: "avere" },
    set: { unit: "elementi", verb: "avere" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "numero";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "vettore";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "indirizzo email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data e ora ISO",
    date: "data ISO",
    time: "ora ISO",
    duration: "durata ISO",
    ipv4: "indirizzo IPv4",
    ipv6: "indirizzo IPv6",
    cidrv4: "intervallo IPv4",
    cidrv6: "intervallo IPv6",
    base64: "stringa codificata in base64",
    base64url: "URL codificata in base64",
    json_string: "stringa JSON",
    e164: "numero E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Input non valido: atteso ${issue2.expected}, ricevuto ${parsedType7(issue2.input)}`;
      // return `Input non valido: atteso ${issue.expected}, ricevuto ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Input non valido: atteso ${stringifyPrimitive(issue2.values[0])}`;
        return `Opzione non valida: atteso uno tra ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Troppo grande: ${issue2.origin ?? "valore"} deve avere ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementi"}`;
        return `Troppo grande: ${issue2.origin ?? "valore"} deve essere ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Troppo piccolo: ${issue2.origin} deve avere ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Troppo piccolo: ${issue2.origin} deve essere ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Stringa non valida: deve iniziare con "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Stringa non valida: deve terminare con "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Stringa non valida: deve includere "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Stringa non valida: deve corrispondere al pattern ${_issue.pattern}`;
        return `Invalid ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Numero non valido: deve essere un multiplo di ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Chiav${issue2.keys.length > 1 ? "i" : "e"} non riconosciut${issue2.keys.length > 1 ? "e" : "a"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Chiave non valida in ${issue2.origin}`;
      case "invalid_union":
        return "Input non valido";
      case "invalid_element":
        return `Valore non valido in ${issue2.origin}`;
      default:
        return `Input non valido`;
    }
  };
};
function it_default() {
  return {
    localeError: error19()
  };
}

// node_modules/zod/v4/locales/ja.js
var error20 = () => {
  const Sizable = {
    string: { unit: "\u6587\u5B57", verb: "\u3067\u3042\u308B" },
    file: { unit: "\u30D0\u30A4\u30C8", verb: "\u3067\u3042\u308B" },
    array: { unit: "\u8981\u7D20", verb: "\u3067\u3042\u308B" },
    set: { unit: "\u8981\u7D20", verb: "\u3067\u3042\u308B" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u6570\u5024";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u914D\u5217";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u5165\u529B\u5024",
    email: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",
    url: "URL",
    emoji: "\u7D75\u6587\u5B57",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO\u65E5\u6642",
    date: "ISO\u65E5\u4ED8",
    time: "ISO\u6642\u523B",
    duration: "ISO\u671F\u9593",
    ipv4: "IPv4\u30A2\u30C9\u30EC\u30B9",
    ipv6: "IPv6\u30A2\u30C9\u30EC\u30B9",
    cidrv4: "IPv4\u7BC4\u56F2",
    cidrv6: "IPv6\u7BC4\u56F2",
    base64: "base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",
    base64url: "base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",
    json_string: "JSON\u6587\u5B57\u5217",
    e164: "E.164\u756A\u53F7",
    jwt: "JWT",
    template_literal: "\u5165\u529B\u5024"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u7121\u52B9\u306A\u5165\u529B: ${issue2.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${parsedType7(issue2.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u7121\u52B9\u306A\u5165\u529B: ${stringifyPrimitive(issue2.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`;
        return `\u7121\u52B9\u306A\u9078\u629E: ${joinValues(issue2.values, "\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      case "too_big": {
        const adj = issue2.inclusive ? "\u4EE5\u4E0B\u3067\u3042\u308B" : "\u3088\u308A\u5C0F\u3055\u3044";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u5927\u304D\u3059\u304E\u308B\u5024: ${issue2.origin ?? "\u5024"}\u306F${issue2.maximum.toString()}${sizing.unit ?? "\u8981\u7D20"}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        return `\u5927\u304D\u3059\u304E\u308B\u5024: ${issue2.origin ?? "\u5024"}\u306F${issue2.maximum.toString()}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\u4EE5\u4E0A\u3067\u3042\u308B" : "\u3088\u308A\u5927\u304D\u3044";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u5C0F\u3055\u3059\u304E\u308B\u5024: ${issue2.origin}\u306F${issue2.minimum.toString()}${sizing.unit}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        return `\u5C0F\u3055\u3059\u304E\u308B\u5024: ${issue2.origin}\u306F${issue2.minimum.toString()}${adj}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: "${_issue.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        if (_issue.format === "ends_with")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: "${_issue.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        if (_issue.format === "includes")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: "${_issue.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        if (_issue.format === "regex")
          return `\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${_issue.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
        return `\u7121\u52B9\u306A${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u7121\u52B9\u306A\u6570\u5024: ${issue2.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;
      case "unrecognized_keys":
        return `\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${issue2.keys.length > 1 ? "\u7FA4" : ""}: ${joinValues(issue2.keys, "\u3001")}`;
      case "invalid_key":
        return `${issue2.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;
      case "invalid_union":
        return "\u7121\u52B9\u306A\u5165\u529B";
      case "invalid_element":
        return `${issue2.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;
      default:
        return `\u7121\u52B9\u306A\u5165\u529B`;
    }
  };
};
function ja_default() {
  return {
    localeError: error20()
  };
}

// node_modules/zod/v4/locales/ka.js
var parsedType4 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  const typeMap = {
    string: "\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    boolean: "\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",
    undefined: "undefined",
    bigint: "bigint",
    symbol: "symbol",
    function: "\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0"
  };
  return typeMap[t2] ?? t2;
};
var error21 = () => {
  const Sizable = {
    string: { unit: "\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" },
    file: { unit: "\u10D1\u10D0\u10D8\u10E2\u10D8", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" },
    array: { unit: "\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" },
    set: { unit: "\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8", verb: "\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",
    email: "\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",
    url: "URL",
    emoji: "\u10D4\u10DB\u10DD\u10EF\u10D8",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",
    date: "\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",
    time: "\u10D3\u10E0\u10DD",
    duration: "\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",
    ipv4: "IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",
    ipv6: "IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",
    cidrv4: "IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",
    cidrv6: "IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",
    base64: "base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    base64url: "base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    json_string: "JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",
    e164: "E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",
    jwt: "JWT",
    template_literal: "\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${parsedType4(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${joinValues(issue2.values, "|")}-\u10D3\u10D0\u10DC`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin ?? "\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit}`;
        return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin ?? "\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${issue2.origin} \u10D8\u10E7\u10DD\u10E1 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${_issue.prefix}"-\u10D8\u10D7`;
        }
        if (_issue.format === "ends_with")
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${_issue.suffix}"-\u10D8\u10D7`;
        if (_issue.format === "includes")
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${_issue.includes}"-\u10E1`;
        if (_issue.format === "regex")
          return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${_issue.pattern}`;
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${issue2.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;
      case "unrecognized_keys":
        return `\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${issue2.keys.length > 1 ? "\u10D4\u10D1\u10D8" : "\u10D8"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${issue2.origin}-\u10E8\u10D8`;
      case "invalid_union":
        return "\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";
      case "invalid_element":
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${issue2.origin}-\u10E8\u10D8`;
      default:
        return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0`;
    }
  };
};
function ka_default() {
  return {
    localeError: error21()
  };
}

// node_modules/zod/v4/locales/km.js
var error22 = () => {
  const Sizable = {
    string: { unit: "\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" },
    file: { unit: "\u1794\u17C3", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" },
    array: { unit: "\u1792\u17B6\u178F\u17BB", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" },
    set: { unit: "\u1792\u17B6\u178F\u17BB", verb: "\u1782\u17BD\u179A\u1798\u17B6\u1793" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)" : "\u179B\u17C1\u1781";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u17A2\u17B6\u179A\u17C1 (Array)";
        }
        if (data === null) {
          return "\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",
    email: "\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",
    url: "URL",
    emoji: "\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",
    date: "\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",
    time: "\u1798\u17C9\u17C4\u1784 ISO",
    duration: "\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",
    ipv4: "\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",
    ipv6: "\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",
    cidrv4: "\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",
    cidrv6: "\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",
    base64: "\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",
    base64url: "\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",
    json_string: "\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",
    e164: "\u179B\u17C1\u1781 E.164",
    jwt: "JWT",
    template_literal: "\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${stringifyPrimitive(issue2.values[0])}`;
        return `\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin ?? "\u178F\u1798\u17D2\u179B\u17C3"} ${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "\u1792\u17B6\u178F\u17BB"}`;
        return `\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin ?? "\u178F\u1798\u17D2\u179B\u17C3"} ${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin} ${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${issue2.origin} ${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${_issue.pattern}`;
        return `\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${issue2.origin}`;
      case "invalid_union":
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C`;
      case "invalid_element":
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${issue2.origin}`;
      default:
        return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C`;
    }
  };
};
function km_default() {
  return {
    localeError: error22()
  };
}

// node_modules/zod/v4/locales/kh.js
function kh_default() {
  return km_default();
}

// node_modules/zod/v4/locales/ko.js
var error23 = () => {
  const Sizable = {
    string: { unit: "\uBB38\uC790", verb: "to have" },
    file: { unit: "\uBC14\uC774\uD2B8", verb: "to have" },
    array: { unit: "\uAC1C", verb: "to have" },
    set: { unit: "\uAC1C", verb: "to have" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\uC785\uB825",
    email: "\uC774\uBA54\uC77C \uC8FC\uC18C",
    url: "URL",
    emoji: "\uC774\uBAA8\uC9C0",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \uB0A0\uC9DC\uC2DC\uAC04",
    date: "ISO \uB0A0\uC9DC",
    time: "ISO \uC2DC\uAC04",
    duration: "ISO \uAE30\uAC04",
    ipv4: "IPv4 \uC8FC\uC18C",
    ipv6: "IPv6 \uC8FC\uC18C",
    cidrv4: "IPv4 \uBC94\uC704",
    cidrv6: "IPv6 \uBC94\uC704",
    base64: "base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",
    base64url: "base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",
    json_string: "JSON \uBB38\uC790\uC5F4",
    e164: "E.164 \uBC88\uD638",
    jwt: "JWT",
    template_literal: "\uC785\uB825"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${issue2.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${parsedType7(issue2.input)}\uC785\uB2C8\uB2E4`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${stringifyPrimitive(issue2.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`;
        return `\uC798\uBABB\uB41C \uC635\uC158: ${joinValues(issue2.values, "\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;
      case "too_big": {
        const adj = issue2.inclusive ? "\uC774\uD558" : "\uBBF8\uB9CC";
        const suffix = adj === "\uBBF8\uB9CC" ? "\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4" : "\uC5EC\uC57C \uD569\uB2C8\uB2E4";
        const sizing = getSizing(issue2.origin);
        const unit = sizing?.unit ?? "\uC694\uC18C";
        if (sizing)
          return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${issue2.maximum.toString()}${unit} ${adj}${suffix}`;
        return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${issue2.maximum.toString()} ${adj}${suffix}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\uC774\uC0C1" : "\uCD08\uACFC";
        const suffix = adj === "\uC774\uC0C1" ? "\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4" : "\uC5EC\uC57C \uD569\uB2C8\uB2E4";
        const sizing = getSizing(issue2.origin);
        const unit = sizing?.unit ?? "\uC694\uC18C";
        if (sizing) {
          return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${issue2.minimum.toString()}${unit} ${adj}${suffix}`;
        }
        return `${issue2.origin ?? "\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${issue2.minimum.toString()} ${adj}${suffix}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${_issue.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`;
        }
        if (_issue.format === "ends_with")
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${_issue.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`;
        if (_issue.format === "includes")
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${_issue.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`;
        if (_issue.format === "regex")
          return `\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${_issue.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`;
        return `\uC798\uBABB\uB41C ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\uC798\uBABB\uB41C \uC22B\uC790: ${issue2.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;
      case "unrecognized_keys":
        return `\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\uC798\uBABB\uB41C \uD0A4: ${issue2.origin}`;
      case "invalid_union":
        return `\uC798\uBABB\uB41C \uC785\uB825`;
      case "invalid_element":
        return `\uC798\uBABB\uB41C \uAC12: ${issue2.origin}`;
      default:
        return `\uC798\uBABB\uB41C \uC785\uB825`;
    }
  };
};
function ko_default() {
  return {
    localeError: error23()
  };
}

// node_modules/zod/v4/locales/lt.js
var parsedType5 = (data) => {
  const t2 = typeof data;
  return parsedTypeFromType(t2, data);
};
var parsedTypeFromType = (t2, data = void 0) => {
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "skai\u010Dius";
    }
    case "bigint": {
      return "sveikasis skai\u010Dius";
    }
    case "string": {
      return "eilut\u0117";
    }
    case "boolean": {
      return "login\u0117 reik\u0161m\u0117";
    }
    case "undefined":
    case "void": {
      return "neapibr\u0117\u017Eta reik\u0161m\u0117";
    }
    case "function": {
      return "funkcija";
    }
    case "symbol": {
      return "simbolis";
    }
    case "object": {
      if (data === void 0)
        return "ne\u017Einomas objektas";
      if (data === null)
        return "nulin\u0117 reik\u0161m\u0117";
      if (Array.isArray(data))
        return "masyvas";
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
      return "objektas";
    }
    //Zod types below
    case "null": {
      return "nulin\u0117 reik\u0161m\u0117";
    }
  }
  return t2;
};
var capitalizeFirstCharacter = (text2) => {
  return text2.charAt(0).toUpperCase() + text2.slice(1);
};
function getUnitTypeFromNumber(number4) {
  const abs = Math.abs(number4);
  const last = abs % 10;
  const last2 = abs % 100;
  if (last2 >= 11 && last2 <= 19 || last === 0)
    return "many";
  if (last === 1)
    return "one";
  return "few";
}
var error24 = () => {
  const Sizable = {
    string: {
      unit: {
        one: "simbolis",
        few: "simboliai",
        many: "simboli\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi b\u016Bti ne ilgesn\u0117 kaip",
          notInclusive: "turi b\u016Bti trumpesn\u0117 kaip"
        },
        bigger: {
          inclusive: "turi b\u016Bti ne trumpesn\u0117 kaip",
          notInclusive: "turi b\u016Bti ilgesn\u0117 kaip"
        }
      }
    },
    file: {
      unit: {
        one: "baitas",
        few: "baitai",
        many: "bait\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi b\u016Bti ne didesnis kaip",
          notInclusive: "turi b\u016Bti ma\u017Eesnis kaip"
        },
        bigger: {
          inclusive: "turi b\u016Bti ne ma\u017Eesnis kaip",
          notInclusive: "turi b\u016Bti didesnis kaip"
        }
      }
    },
    array: {
      unit: {
        one: "element\u0105",
        few: "elementus",
        many: "element\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi tur\u0117ti ne daugiau kaip",
          notInclusive: "turi tur\u0117ti ma\u017Eiau kaip"
        },
        bigger: {
          inclusive: "turi tur\u0117ti ne ma\u017Eiau kaip",
          notInclusive: "turi tur\u0117ti daugiau kaip"
        }
      }
    },
    set: {
      unit: {
        one: "element\u0105",
        few: "elementus",
        many: "element\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi tur\u0117ti ne daugiau kaip",
          notInclusive: "turi tur\u0117ti ma\u017Eiau kaip"
        },
        bigger: {
          inclusive: "turi tur\u0117ti ne ma\u017Eiau kaip",
          notInclusive: "turi tur\u0117ti daugiau kaip"
        }
      }
    }
  };
  function getSizing(origin, unitType, inclusive, targetShouldBe) {
    const result = Sizable[origin] ?? null;
    if (result === null)
      return result;
    return {
      unit: result.unit[unitType],
      verb: result.verb[targetShouldBe][inclusive ? "inclusive" : "notInclusive"]
    };
  }
  const Nouns = {
    regex: "\u012Fvestis",
    email: "el. pa\u0161to adresas",
    url: "URL",
    emoji: "jaustukas",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO data ir laikas",
    date: "ISO data",
    time: "ISO laikas",
    duration: "ISO trukm\u0117",
    ipv4: "IPv4 adresas",
    ipv6: "IPv6 adresas",
    cidrv4: "IPv4 tinklo prefiksas (CIDR)",
    cidrv6: "IPv6 tinklo prefiksas (CIDR)",
    base64: "base64 u\u017Ekoduota eilut\u0117",
    base64url: "base64url u\u017Ekoduota eilut\u0117",
    json_string: "JSON eilut\u0117",
    e164: "E.164 numeris",
    jwt: "JWT",
    template_literal: "\u012Fvestis"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Gautas tipas ${parsedType5(issue2.input)}, o tik\u0117tasi - ${parsedTypeFromType(issue2.expected)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Privalo b\u016Bti ${stringifyPrimitive(issue2.values[0])}`;
        return `Privalo b\u016Bti vienas i\u0161 ${joinValues(issue2.values, "|")} pasirinkim\u0173`;
      case "too_big": {
        const origin = parsedTypeFromType(issue2.origin);
        const sizing = getSizing(issue2.origin, getUnitTypeFromNumber(Number(issue2.maximum)), issue2.inclusive ?? false, "smaller");
        if (sizing?.verb)
          return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} ${sizing.verb} ${issue2.maximum.toString()} ${sizing.unit ?? "element\u0173"}`;
        const adj = issue2.inclusive ? "ne didesnis kaip" : "ma\u017Eesnis kaip";
        return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} turi b\u016Bti ${adj} ${issue2.maximum.toString()} ${sizing?.unit}`;
      }
      case "too_small": {
        const origin = parsedTypeFromType(issue2.origin);
        const sizing = getSizing(issue2.origin, getUnitTypeFromNumber(Number(issue2.minimum)), issue2.inclusive ?? false, "bigger");
        if (sizing?.verb)
          return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} ${sizing.verb} ${issue2.minimum.toString()} ${sizing.unit ?? "element\u0173"}`;
        const adj = issue2.inclusive ? "ne ma\u017Eesnis kaip" : "didesnis kaip";
        return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} turi b\u016Bti ${adj} ${issue2.minimum.toString()} ${sizing?.unit}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Eilut\u0117 privalo prasid\u0117ti "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Eilut\u0117 privalo pasibaigti "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Eilut\u0117 privalo \u012Ftraukti "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Eilut\u0117 privalo atitikti ${_issue.pattern}`;
        return `Neteisingas ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Skai\u010Dius privalo b\u016Bti ${issue2.divisor} kartotinis.`;
      case "unrecognized_keys":
        return `Neatpa\u017Eint${issue2.keys.length > 1 ? "i" : "as"} rakt${issue2.keys.length > 1 ? "ai" : "as"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return "Rastas klaidingas raktas";
      case "invalid_union":
        return "Klaidinga \u012Fvestis";
      case "invalid_element": {
        const origin = parsedTypeFromType(issue2.origin);
        return `${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`;
      }
      default:
        return "Klaidinga \u012Fvestis";
    }
  };
};
function lt_default() {
  return {
    localeError: error24()
  };
}

// node_modules/zod/v4/locales/mk.js
var error25 = () => {
  const Sizable = {
    string: { unit: "\u0437\u043D\u0430\u0446\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" },
    file: { unit: "\u0431\u0430\u0458\u0442\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" },
    array: { unit: "\u0441\u0442\u0430\u0432\u043A\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" },
    set: { unit: "\u0441\u0442\u0430\u0432\u043A\u0438", verb: "\u0434\u0430 \u0438\u043C\u0430\u0430\u0442" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0431\u0440\u043E\u0458";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043D\u0438\u0437\u0430";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0432\u043D\u0435\u0441",
    email: "\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",
    url: "URL",
    emoji: "\u0435\u043C\u043E\u045F\u0438",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",
    date: "ISO \u0434\u0430\u0442\u0443\u043C",
    time: "ISO \u0432\u0440\u0435\u043C\u0435",
    duration: "ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",
    ipv4: "IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",
    ipv6: "IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",
    cidrv4: "IPv4 \u043E\u043F\u0441\u0435\u0433",
    cidrv6: "IPv6 \u043E\u043F\u0441\u0435\u0433",
    base64: "base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",
    base64url: "base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",
    json_string: "JSON \u043D\u0438\u0437\u0430",
    e164: "E.164 \u0431\u0440\u043E\u0458",
    jwt: "JWT",
    template_literal: "\u0432\u043D\u0435\u0441"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${parsedType7(issue2.input)}`;
      // return `Invalid input: expected ${issue.expected}, received ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Invalid input: expected ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin ?? "\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`;
        return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin ?? "\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin} \u0434\u0430 \u0438\u043C\u0430 ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${issue2.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${_issue.pattern}`;
        return `Invalid ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438" : "\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${issue2.origin}`;
      case "invalid_union":
        return "\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";
      case "invalid_element":
        return `\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${issue2.origin}`;
      default:
        return `\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441`;
    }
  };
};
function mk_default() {
  return {
    localeError: error25()
  };
}

// node_modules/zod/v4/locales/ms.js
var error26 = () => {
  const Sizable = {
    string: { unit: "aksara", verb: "mempunyai" },
    file: { unit: "bait", verb: "mempunyai" },
    array: { unit: "elemen", verb: "mempunyai" },
    set: { unit: "elemen", verb: "mempunyai" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "nombor";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "alamat e-mel",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "tarikh masa ISO",
    date: "tarikh ISO",
    time: "masa ISO",
    duration: "tempoh ISO",
    ipv4: "alamat IPv4",
    ipv6: "alamat IPv6",
    cidrv4: "julat IPv4",
    cidrv6: "julat IPv6",
    base64: "string dikodkan base64",
    base64url: "string dikodkan base64url",
    json_string: "string JSON",
    e164: "nombor E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Input tidak sah: dijangka ${issue2.expected}, diterima ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Input tidak sah: dijangka ${stringifyPrimitive(issue2.values[0])}`;
        return `Pilihan tidak sah: dijangka salah satu daripada ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Terlalu besar: dijangka ${issue2.origin ?? "nilai"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elemen"}`;
        return `Terlalu besar: dijangka ${issue2.origin ?? "nilai"} adalah ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Terlalu kecil: dijangka ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Terlalu kecil: dijangka ${issue2.origin} adalah ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `String tidak sah: mesti bermula dengan "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `String tidak sah: mesti berakhir dengan "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `String tidak sah: mesti mengandungi "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `String tidak sah: mesti sepadan dengan corak ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} tidak sah`;
      }
      case "not_multiple_of":
        return `Nombor tidak sah: perlu gandaan ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Kunci tidak dikenali: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Kunci tidak sah dalam ${issue2.origin}`;
      case "invalid_union":
        return "Input tidak sah";
      case "invalid_element":
        return `Nilai tidak sah dalam ${issue2.origin}`;
      default:
        return `Input tidak sah`;
    }
  };
};
function ms_default() {
  return {
    localeError: error26()
  };
}

// node_modules/zod/v4/locales/nl.js
var error27 = () => {
  const Sizable = {
    string: { unit: "tekens" },
    file: { unit: "bytes" },
    array: { unit: "elementen" },
    set: { unit: "elementen" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "getal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "invoer",
    email: "emailadres",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datum en tijd",
    date: "ISO datum",
    time: "ISO tijd",
    duration: "ISO duur",
    ipv4: "IPv4-adres",
    ipv6: "IPv6-adres",
    cidrv4: "IPv4-bereik",
    cidrv6: "IPv6-bereik",
    base64: "base64-gecodeerde tekst",
    base64url: "base64 URL-gecodeerde tekst",
    json_string: "JSON string",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "invoer"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ongeldige invoer: verwacht ${issue2.expected}, ontving ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ongeldige invoer: verwacht ${stringifyPrimitive(issue2.values[0])}`;
        return `Ongeldige optie: verwacht \xE9\xE9n van ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Te lang: verwacht dat ${issue2.origin ?? "waarde"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementen"} bevat`;
        return `Te lang: verwacht dat ${issue2.origin ?? "waarde"} ${adj}${issue2.maximum.toString()} is`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Te kort: verwacht dat ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit} bevat`;
        }
        return `Te kort: verwacht dat ${issue2.origin} ${adj}${issue2.minimum.toString()} is`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Ongeldige tekst: moet met "${_issue.prefix}" beginnen`;
        }
        if (_issue.format === "ends_with")
          return `Ongeldige tekst: moet op "${_issue.suffix}" eindigen`;
        if (_issue.format === "includes")
          return `Ongeldige tekst: moet "${_issue.includes}" bevatten`;
        if (_issue.format === "regex")
          return `Ongeldige tekst: moet overeenkomen met patroon ${_issue.pattern}`;
        return `Ongeldig: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ongeldig getal: moet een veelvoud van ${issue2.divisor} zijn`;
      case "unrecognized_keys":
        return `Onbekende key${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ongeldige key in ${issue2.origin}`;
      case "invalid_union":
        return "Ongeldige invoer";
      case "invalid_element":
        return `Ongeldige waarde in ${issue2.origin}`;
      default:
        return `Ongeldige invoer`;
    }
  };
};
function nl_default() {
  return {
    localeError: error27()
  };
}

// node_modules/zod/v4/locales/no.js
var error28 = () => {
  const Sizable = {
    string: { unit: "tegn", verb: "\xE5 ha" },
    file: { unit: "bytes", verb: "\xE5 ha" },
    array: { unit: "elementer", verb: "\xE5 inneholde" },
    set: { unit: "elementer", verb: "\xE5 inneholde" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "tall";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "liste";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "input",
    email: "e-postadresse",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dato- og klokkeslett",
    date: "ISO-dato",
    time: "ISO-klokkeslett",
    duration: "ISO-varighet",
    ipv4: "IPv4-omr\xE5de",
    ipv6: "IPv6-omr\xE5de",
    cidrv4: "IPv4-spekter",
    cidrv6: "IPv6-spekter",
    base64: "base64-enkodet streng",
    base64url: "base64url-enkodet streng",
    json_string: "JSON-streng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ugyldig input: forventet ${issue2.expected}, fikk ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ugyldig verdi: forventet ${stringifyPrimitive(issue2.values[0])}`;
        return `Ugyldig valg: forventet en av ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `For stor(t): forventet ${issue2.origin ?? "value"} til \xE5 ha ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementer"}`;
        return `For stor(t): forventet ${issue2.origin ?? "value"} til \xE5 ha ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `For lite(n): forventet ${issue2.origin} til \xE5 ha ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `For lite(n): forventet ${issue2.origin} til \xE5 ha ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ugyldig streng: m\xE5 starte med "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Ugyldig streng: m\xE5 ende med "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Ugyldig streng: m\xE5 inneholde "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Ugyldig streng: m\xE5 matche m\xF8nsteret ${_issue.pattern}`;
        return `Ugyldig ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ugyldig tall: m\xE5 v\xE6re et multiplum av ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Ukjente n\xF8kler" : "Ukjent n\xF8kkel"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ugyldig n\xF8kkel i ${issue2.origin}`;
      case "invalid_union":
        return "Ugyldig input";
      case "invalid_element":
        return `Ugyldig verdi i ${issue2.origin}`;
      default:
        return `Ugyldig input`;
    }
  };
};
function no_default() {
  return {
    localeError: error28()
  };
}

// node_modules/zod/v4/locales/ota.js
var error29 = () => {
  const Sizable = {
    string: { unit: "harf", verb: "olmal\u0131d\u0131r" },
    file: { unit: "bayt", verb: "olmal\u0131d\u0131r" },
    array: { unit: "unsur", verb: "olmal\u0131d\u0131r" },
    set: { unit: "unsur", verb: "olmal\u0131d\u0131r" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "numara";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "saf";
        }
        if (data === null) {
          return "gayb";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "giren",
    email: "epostag\xE2h",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO heng\xE2m\u0131",
    date: "ISO tarihi",
    time: "ISO zaman\u0131",
    duration: "ISO m\xFCddeti",
    ipv4: "IPv4 ni\u015F\xE2n\u0131",
    ipv6: "IPv6 ni\u015F\xE2n\u0131",
    cidrv4: "IPv4 menzili",
    cidrv6: "IPv6 menzili",
    base64: "base64-\u015Fifreli metin",
    base64url: "base64url-\u015Fifreli metin",
    json_string: "JSON metin",
    e164: "E.164 say\u0131s\u0131",
    jwt: "JWT",
    template_literal: "giren"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `F\xE2sit giren: umulan ${issue2.expected}, al\u0131nan ${parsedType7(issue2.input)}`;
      // return `Fâsit giren: umulan ${issue.expected}, alınan ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `F\xE2sit giren: umulan ${stringifyPrimitive(issue2.values[0])}`;
        return `F\xE2sit tercih: m\xFBteberler ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Fazla b\xFCy\xFCk: ${issue2.origin ?? "value"}, ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elements"} sahip olmal\u0131yd\u0131.`;
        return `Fazla b\xFCy\xFCk: ${issue2.origin ?? "value"}, ${adj}${issue2.maximum.toString()} olmal\u0131yd\u0131.`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Fazla k\xFC\xE7\xFCk: ${issue2.origin}, ${adj}${issue2.minimum.toString()} ${sizing.unit} sahip olmal\u0131yd\u0131.`;
        }
        return `Fazla k\xFC\xE7\xFCk: ${issue2.origin}, ${adj}${issue2.minimum.toString()} olmal\u0131yd\u0131.`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `F\xE2sit metin: "${_issue.prefix}" ile ba\u015Flamal\u0131.`;
        if (_issue.format === "ends_with")
          return `F\xE2sit metin: "${_issue.suffix}" ile bitmeli.`;
        if (_issue.format === "includes")
          return `F\xE2sit metin: "${_issue.includes}" ihtiv\xE2 etmeli.`;
        if (_issue.format === "regex")
          return `F\xE2sit metin: ${_issue.pattern} nak\u015F\u0131na uymal\u0131.`;
        return `F\xE2sit ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `F\xE2sit say\u0131: ${issue2.divisor} kat\u0131 olmal\u0131yd\u0131.`;
      case "unrecognized_keys":
        return `Tan\u0131nmayan anahtar ${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} i\xE7in tan\u0131nmayan anahtar var.`;
      case "invalid_union":
        return "Giren tan\u0131namad\u0131.";
      case "invalid_element":
        return `${issue2.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;
      default:
        return `K\u0131ymet tan\u0131namad\u0131.`;
    }
  };
};
function ota_default() {
  return {
    localeError: error29()
  };
}

// node_modules/zod/v4/locales/ps.js
var error30 = () => {
  const Sizable = {
    string: { unit: "\u062A\u0648\u06A9\u064A", verb: "\u0648\u0644\u0631\u064A" },
    file: { unit: "\u0628\u0627\u06CC\u067C\u0633", verb: "\u0648\u0644\u0631\u064A" },
    array: { unit: "\u062A\u0648\u06A9\u064A", verb: "\u0648\u0644\u0631\u064A" },
    set: { unit: "\u062A\u0648\u06A9\u064A", verb: "\u0648\u0644\u0631\u064A" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0639\u062F\u062F";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0627\u0631\u06D0";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0648\u0631\u0648\u062F\u064A",
    email: "\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",
    url: "\u06CC\u0648 \u0622\u0631 \u0627\u0644",
    emoji: "\u0627\u06CC\u0645\u0648\u062C\u064A",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",
    date: "\u0646\u06D0\u067C\u0647",
    time: "\u0648\u062E\u062A",
    duration: "\u0645\u0648\u062F\u0647",
    ipv4: "\u062F IPv4 \u067E\u062A\u0647",
    ipv6: "\u062F IPv6 \u067E\u062A\u0647",
    cidrv4: "\u062F IPv4 \u0633\u0627\u062D\u0647",
    cidrv6: "\u062F IPv6 \u0633\u0627\u062D\u0647",
    base64: "base64-encoded \u0645\u062A\u0646",
    base64url: "base64url-encoded \u0645\u062A\u0646",
    json_string: "JSON \u0645\u062A\u0646",
    e164: "\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",
    jwt: "JWT",
    template_literal: "\u0648\u0631\u0648\u062F\u064A"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${issue2.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${parsedType7(issue2.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;
      case "invalid_value":
        if (issue2.values.length === 1) {
          return `\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${stringifyPrimitive(issue2.values[0])} \u0648\u0627\u06CC`;
        }
        return `\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${joinValues(issue2.values, "|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${issue2.origin ?? "\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`;
        }
        return `\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${issue2.origin ?? "\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${adj}${issue2.maximum.toString()} \u0648\u064A`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} ${sizing.unit} \u0648\u0644\u0631\u064A`;
        }
        return `\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${issue2.origin} \u0628\u0627\u06CC\u062F ${adj}${issue2.minimum.toString()} \u0648\u064A`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${_issue.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`;
        }
        if (_issue.format === "ends_with") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${_issue.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`;
        }
        if (_issue.format === "includes") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${_issue.includes}" \u0648\u0644\u0631\u064A`;
        }
        if (_issue.format === "regex") {
          return `\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${_issue.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`;
        }
        return `${Nouns[_issue.format] ?? issue2.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`;
      }
      case "not_multiple_of":
        return `\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${issue2.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;
      case "unrecognized_keys":
        return `\u0646\u0627\u0633\u0645 ${issue2.keys.length > 1 ? "\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647" : "\u06A9\u0644\u06CC\u0689"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${issue2.origin} \u06A9\u06D0`;
      case "invalid_union":
        return `\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A`;
      case "invalid_element":
        return `\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${issue2.origin} \u06A9\u06D0`;
      default:
        return `\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A`;
    }
  };
};
function ps_default() {
  return {
    localeError: error30()
  };
}

// node_modules/zod/v4/locales/pl.js
var error31 = () => {
  const Sizable = {
    string: { unit: "znak\xF3w", verb: "mie\u0107" },
    file: { unit: "bajt\xF3w", verb: "mie\u0107" },
    array: { unit: "element\xF3w", verb: "mie\u0107" },
    set: { unit: "element\xF3w", verb: "mie\u0107" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "liczba";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tablica";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "wyra\u017Cenie",
    email: "adres email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data i godzina w formacie ISO",
    date: "data w formacie ISO",
    time: "godzina w formacie ISO",
    duration: "czas trwania ISO",
    ipv4: "adres IPv4",
    ipv6: "adres IPv6",
    cidrv4: "zakres IPv4",
    cidrv6: "zakres IPv6",
    base64: "ci\u0105g znak\xF3w zakodowany w formacie base64",
    base64url: "ci\u0105g znak\xF3w zakodowany w formacie base64url",
    json_string: "ci\u0105g znak\xF3w w formacie JSON",
    e164: "liczba E.164",
    jwt: "JWT",
    template_literal: "wej\u015Bcie"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${issue2.expected}, otrzymano ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${stringifyPrimitive(issue2.values[0])}`;
        return `Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie mie\u0107 ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "element\xF3w"}`;
        }
        return `Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie mie\u0107 ${adj}${issue2.minimum.toString()} ${sizing.unit ?? "element\xF3w"}`;
        }
        return `Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${issue2.origin ?? "warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${_issue.pattern}`;
        return `Nieprawid\u0142ow(y/a/e) ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Nierozpoznane klucze${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Nieprawid\u0142owy klucz w ${issue2.origin}`;
      case "invalid_union":
        return "Nieprawid\u0142owe dane wej\u015Bciowe";
      case "invalid_element":
        return `Nieprawid\u0142owa warto\u015B\u0107 w ${issue2.origin}`;
      default:
        return `Nieprawid\u0142owe dane wej\u015Bciowe`;
    }
  };
};
function pl_default() {
  return {
    localeError: error31()
  };
}

// node_modules/zod/v4/locales/pt.js
var error32 = () => {
  const Sizable = {
    string: { unit: "caracteres", verb: "ter" },
    file: { unit: "bytes", verb: "ter" },
    array: { unit: "itens", verb: "ter" },
    set: { unit: "itens", verb: "ter" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "n\xFAmero";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "nulo";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "padr\xE3o",
    email: "endere\xE7o de e-mail",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data e hora ISO",
    date: "data ISO",
    time: "hora ISO",
    duration: "dura\xE7\xE3o ISO",
    ipv4: "endere\xE7o IPv4",
    ipv6: "endere\xE7o IPv6",
    cidrv4: "faixa de IPv4",
    cidrv6: "faixa de IPv6",
    base64: "texto codificado em base64",
    base64url: "URL codificada em base64",
    json_string: "texto JSON",
    e164: "n\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Tipo inv\xE1lido: esperado ${issue2.expected}, recebido ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Entrada inv\xE1lida: esperado ${stringifyPrimitive(issue2.values[0])}`;
        return `Op\xE7\xE3o inv\xE1lida: esperada uma das ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Muito grande: esperado que ${issue2.origin ?? "valor"} tivesse ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementos"}`;
        return `Muito grande: esperado que ${issue2.origin ?? "valor"} fosse ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Muito pequeno: esperado que ${issue2.origin} tivesse ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Muito pequeno: esperado que ${issue2.origin} fosse ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Texto inv\xE1lido: deve come\xE7ar com "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Texto inv\xE1lido: deve terminar com "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Texto inv\xE1lido: deve incluir "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Texto inv\xE1lido: deve corresponder ao padr\xE3o ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} inv\xE1lido`;
      }
      case "not_multiple_of":
        return `N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Chave${issue2.keys.length > 1 ? "s" : ""} desconhecida${issue2.keys.length > 1 ? "s" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Chave inv\xE1lida em ${issue2.origin}`;
      case "invalid_union":
        return "Entrada inv\xE1lida";
      case "invalid_element":
        return `Valor inv\xE1lido em ${issue2.origin}`;
      default:
        return `Campo inv\xE1lido`;
    }
  };
};
function pt_default() {
  return {
    localeError: error32()
  };
}

// node_modules/zod/v4/locales/ru.js
function getRussianPlural(count, one, few, many) {
  const absCount = Math.abs(count);
  const lastDigit = absCount % 10;
  const lastTwoDigits = absCount % 100;
  if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {
    return many;
  }
  if (lastDigit === 1) {
    return one;
  }
  if (lastDigit >= 2 && lastDigit <= 4) {
    return few;
  }
  return many;
}
var error33 = () => {
  const Sizable = {
    string: {
      unit: {
        one: "\u0441\u0438\u043C\u0432\u043E\u043B",
        few: "\u0441\u0438\u043C\u0432\u043E\u043B\u0430",
        many: "\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    },
    file: {
      unit: {
        one: "\u0431\u0430\u0439\u0442",
        few: "\u0431\u0430\u0439\u0442\u0430",
        many: "\u0431\u0430\u0439\u0442"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    },
    array: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    },
    set: {
      unit: {
        one: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442",
        few: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",
        many: "\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"
      },
      verb: "\u0438\u043C\u0435\u0442\u044C"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0447\u0438\u0441\u043B\u043E";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043C\u0430\u0441\u0441\u0438\u0432";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0432\u0432\u043E\u0434",
    email: "email \u0430\u0434\u0440\u0435\u0441",
    url: "URL",
    emoji: "\u044D\u043C\u043E\u0434\u0437\u0438",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",
    date: "ISO \u0434\u0430\u0442\u0430",
    time: "ISO \u0432\u0440\u0435\u043C\u044F",
    duration: "ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",
    ipv4: "IPv4 \u0430\u0434\u0440\u0435\u0441",
    ipv6: "IPv6 \u0430\u0434\u0440\u0435\u0441",
    cidrv4: "IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",
    cidrv6: "IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",
    base64: "\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",
    base64url: "\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",
    json_string: "JSON \u0441\u0442\u0440\u043E\u043A\u0430",
    e164: "\u043D\u043E\u043C\u0435\u0440 E.164",
    jwt: "JWT",
    template_literal: "\u0432\u0432\u043E\u0434"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${issue2.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${stringifyPrimitive(issue2.values[0])}`;
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const maxValue = Number(issue2.maximum);
          const unit = getRussianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${adj}${issue2.maximum.toString()} ${unit}`;
        }
        return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const minValue = Number(issue2.minimum);
          const unit = getRussianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${adj}${issue2.minimum.toString()} ${unit}`;
        }
        return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${issue2.origin} \u0431\u0443\u0434\u0435\u0442 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${issue2.keys.length > 1 ? "\u044B\u0435" : "\u044B\u0439"} \u043A\u043B\u044E\u0447${issue2.keys.length > 1 ? "\u0438" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${issue2.origin}`;
      case "invalid_union":
        return "\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";
      case "invalid_element":
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${issue2.origin}`;
      default:
        return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435`;
    }
  };
};
function ru_default() {
  return {
    localeError: error33()
  };
}

// node_modules/zod/v4/locales/sl.js
var error34 = () => {
  const Sizable = {
    string: { unit: "znakov", verb: "imeti" },
    file: { unit: "bajtov", verb: "imeti" },
    array: { unit: "elementov", verb: "imeti" },
    set: { unit: "elementov", verb: "imeti" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0161tevilo";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tabela";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "vnos",
    email: "e-po\u0161tni naslov",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datum in \u010Das",
    date: "ISO datum",
    time: "ISO \u010Das",
    duration: "ISO trajanje",
    ipv4: "IPv4 naslov",
    ipv6: "IPv6 naslov",
    cidrv4: "obseg IPv4",
    cidrv6: "obseg IPv6",
    base64: "base64 kodiran niz",
    base64url: "base64url kodiran niz",
    json_string: "JSON niz",
    e164: "E.164 \u0161tevilka",
    jwt: "JWT",
    template_literal: "vnos"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Neveljaven vnos: pri\u010Dakovano ${issue2.expected}, prejeto ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Neveljaven vnos: pri\u010Dakovano ${stringifyPrimitive(issue2.values[0])}`;
        return `Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Preveliko: pri\u010Dakovano, da bo ${issue2.origin ?? "vrednost"} imelo ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "elementov"}`;
        return `Preveliko: pri\u010Dakovano, da bo ${issue2.origin ?? "vrednost"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Premajhno: pri\u010Dakovano, da bo ${issue2.origin} imelo ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Premajhno: pri\u010Dakovano, da bo ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Neveljaven niz: mora se za\u010Deti z "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Neveljaven niz: mora se kon\u010Dati z "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Neveljaven niz: mora vsebovati "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Neveljaven niz: mora ustrezati vzorcu ${_issue.pattern}`;
        return `Neveljaven ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Neprepoznan${issue2.keys.length > 1 ? "i klju\u010Di" : " klju\u010D"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Neveljaven klju\u010D v ${issue2.origin}`;
      case "invalid_union":
        return "Neveljaven vnos";
      case "invalid_element":
        return `Neveljavna vrednost v ${issue2.origin}`;
      default:
        return "Neveljaven vnos";
    }
  };
};
function sl_default() {
  return {
    localeError: error34()
  };
}

// node_modules/zod/v4/locales/sv.js
var error35 = () => {
  const Sizable = {
    string: { unit: "tecken", verb: "att ha" },
    file: { unit: "bytes", verb: "att ha" },
    array: { unit: "objekt", verb: "att inneh\xE5lla" },
    set: { unit: "objekt", verb: "att inneh\xE5lla" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "antal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "lista";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "regulj\xE4rt uttryck",
    email: "e-postadress",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-datum och tid",
    date: "ISO-datum",
    time: "ISO-tid",
    duration: "ISO-varaktighet",
    ipv4: "IPv4-intervall",
    ipv6: "IPv6-intervall",
    cidrv4: "IPv4-spektrum",
    cidrv6: "IPv6-spektrum",
    base64: "base64-kodad str\xE4ng",
    base64url: "base64url-kodad str\xE4ng",
    json_string: "JSON-str\xE4ng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "mall-literal"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ogiltig inmatning: f\xF6rv\xE4ntat ${issue2.expected}, fick ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ogiltig inmatning: f\xF6rv\xE4ntat ${stringifyPrimitive(issue2.values[0])}`;
        return `Ogiltigt val: f\xF6rv\xE4ntade en av ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `F\xF6r stor(t): f\xF6rv\xE4ntade ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "element"}`;
        }
        return `F\xF6r stor(t): f\xF6rv\xE4ntat ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `F\xF6r lite(t): f\xF6rv\xE4ntade ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `F\xF6r lite(t): f\xF6rv\xE4ntade ${issue2.origin ?? "v\xE4rdet"} att ha ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `Ogiltig str\xE4ng: m\xE5ste sluta med "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${_issue.pattern}"`;
        return `Ogiltig(t) ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ogiltigt tal: m\xE5ste vara en multipel av ${issue2.divisor}`;
      case "unrecognized_keys":
        return `${issue2.keys.length > 1 ? "Ok\xE4nda nycklar" : "Ok\xE4nd nyckel"}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Ogiltig nyckel i ${issue2.origin ?? "v\xE4rdet"}`;
      case "invalid_union":
        return "Ogiltig input";
      case "invalid_element":
        return `Ogiltigt v\xE4rde i ${issue2.origin ?? "v\xE4rdet"}`;
      default:
        return `Ogiltig input`;
    }
  };
};
function sv_default() {
  return {
    localeError: error35()
  };
}

// node_modules/zod/v4/locales/ta.js
var error36 = () => {
  const Sizable = {
    string: { unit: "\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" },
    file: { unit: "\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" },
    array: { unit: "\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" },
    set: { unit: "\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD", verb: "\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1" : "\u0B8E\u0BA3\u0BCD";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0B85\u0BA3\u0BBF";
        }
        if (data === null) {
          return "\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",
    email: "\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",
    date: "ISO \u0BA4\u0BC7\u0BA4\u0BBF",
    time: "ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",
    duration: "ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",
    ipv4: "IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",
    ipv6: "IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",
    cidrv4: "IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",
    cidrv6: "IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",
    base64: "base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",
    base64url: "base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",
    json_string: "JSON \u0B9A\u0BB0\u0BAE\u0BCD",
    e164: "E.164 \u0B8E\u0BA3\u0BCD",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${joinValues(issue2.values, "|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin ?? "\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        }
        return `\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin ?? "\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${adj}${issue2.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        }
        return `\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${issue2.origin} ${adj}${issue2.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${_issue.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        if (_issue.format === "ends_with")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${_issue.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        if (_issue.format === "includes")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${_issue.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        if (_issue.format === "regex")
          return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${_issue.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${issue2.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;
      case "unrecognized_keys":
        return `\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${issue2.keys.length > 1 ? "\u0B95\u0BB3\u0BCD" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;
      case "invalid_union":
        return "\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";
      case "invalid_element":
        return `${issue2.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;
      default:
        return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1`;
    }
  };
};
function ta_default() {
  return {
    localeError: error36()
  };
}

// node_modules/zod/v4/locales/th.js
var error37 = () => {
  const Sizable = {
    string: { unit: "\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" },
    file: { unit: "\u0E44\u0E1A\u0E15\u0E4C", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" },
    array: { unit: "\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" },
    set: { unit: "\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23", verb: "\u0E04\u0E27\u0E23\u0E21\u0E35" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)" : "\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";
        }
        if (data === null) {
          return "\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",
    email: "\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",
    url: "URL",
    emoji: "\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",
    date: "\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",
    time: "\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",
    duration: "\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",
    ipv4: "\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",
    ipv6: "\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",
    cidrv4: "\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",
    cidrv6: "\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",
    base64: "\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",
    base64url: "\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",
    json_string: "\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",
    e164: "\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",
    jwt: "\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",
    template_literal: "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${issue2.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${stringifyPrimitive(issue2.values[0])}`;
        return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19" : "\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin ?? "\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.maximum.toString()} ${sizing.unit ?? "\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`;
        return `\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin ?? "\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22" : "\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${issue2.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${adj} ${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${_issue.prefix}"`;
        }
        if (_issue.format === "ends_with")
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${_issue.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`;
        if (_issue.format === "regex")
          return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${_issue.pattern}`;
        return `\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${issue2.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;
      case "unrecognized_keys":
        return `\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${issue2.origin}`;
      case "invalid_union":
        return "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";
      case "invalid_element":
        return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${issue2.origin}`;
      default:
        return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07`;
    }
  };
};
function th_default() {
  return {
    localeError: error37()
  };
}

// node_modules/zod/v4/locales/tr.js
var parsedType6 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "number";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t2;
};
var error38 = () => {
  const Sizable = {
    string: { unit: "karakter", verb: "olmal\u0131" },
    file: { unit: "bayt", verb: "olmal\u0131" },
    array: { unit: "\xF6\u011Fe", verb: "olmal\u0131" },
    set: { unit: "\xF6\u011Fe", verb: "olmal\u0131" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const Nouns = {
    regex: "girdi",
    email: "e-posta adresi",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO tarih ve saat",
    date: "ISO tarih",
    time: "ISO saat",
    duration: "ISO s\xFCre",
    ipv4: "IPv4 adresi",
    ipv6: "IPv6 adresi",
    cidrv4: "IPv4 aral\u0131\u011F\u0131",
    cidrv6: "IPv6 aral\u0131\u011F\u0131",
    base64: "base64 ile \u015Fifrelenmi\u015F metin",
    base64url: "base64url ile \u015Fifrelenmi\u015F metin",
    json_string: "JSON dizesi",
    e164: "E.164 say\u0131s\u0131",
    jwt: "JWT",
    template_literal: "\u015Eablon dizesi"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `Ge\xE7ersiz de\u011Fer: beklenen ${issue2.expected}, al\u0131nan ${parsedType6(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `Ge\xE7ersiz de\u011Fer: beklenen ${stringifyPrimitive(issue2.values[0])}`;
        return `Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ok b\xFCy\xFCk: beklenen ${issue2.origin ?? "de\u011Fer"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\xF6\u011Fe"}`;
        return `\xC7ok b\xFCy\xFCk: beklenen ${issue2.origin ?? "de\u011Fer"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\xC7ok k\xFC\xE7\xFCk: beklenen ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        return `\xC7ok k\xFC\xE7\xFCk: beklenen ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Ge\xE7ersiz metin: "${_issue.prefix}" ile ba\u015Flamal\u0131`;
        if (_issue.format === "ends_with")
          return `Ge\xE7ersiz metin: "${_issue.suffix}" ile bitmeli`;
        if (_issue.format === "includes")
          return `Ge\xE7ersiz metin: "${_issue.includes}" i\xE7ermeli`;
        if (_issue.format === "regex")
          return `Ge\xE7ersiz metin: ${_issue.pattern} desenine uymal\u0131`;
        return `Ge\xE7ersiz ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `Ge\xE7ersiz say\u0131: ${issue2.divisor} ile tam b\xF6l\xFCnebilmeli`;
      case "unrecognized_keys":
        return `Tan\u0131nmayan anahtar${issue2.keys.length > 1 ? "lar" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} i\xE7inde ge\xE7ersiz anahtar`;
      case "invalid_union":
        return "Ge\xE7ersiz de\u011Fer";
      case "invalid_element":
        return `${issue2.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;
      default:
        return `Ge\xE7ersiz de\u011Fer`;
    }
  };
};
function tr_default() {
  return {
    localeError: error38()
  };
}

// node_modules/zod/v4/locales/uk.js
var error39 = () => {
  const Sizable = {
    string: { unit: "\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" },
    file: { unit: "\u0431\u0430\u0439\u0442\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" },
    array: { unit: "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" },
    set: { unit: "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432", verb: "\u043C\u0430\u0442\u0438\u043C\u0435" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0447\u0438\u0441\u043B\u043E";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u043C\u0430\u0441\u0438\u0432";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",
    email: "\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",
    url: "URL",
    emoji: "\u0435\u043C\u043E\u0434\u0437\u0456",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",
    date: "\u0434\u0430\u0442\u0430 ISO",
    time: "\u0447\u0430\u0441 ISO",
    duration: "\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",
    ipv4: "\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",
    ipv6: "\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",
    cidrv4: "\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",
    cidrv6: "\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",
    base64: "\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",
    base64url: "\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",
    json_string: "\u0440\u044F\u0434\u043E\u043A JSON",
    e164: "\u043D\u043E\u043C\u0435\u0440 E.164",
    jwt: "JWT",
    template_literal: "\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${issue2.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${parsedType7(issue2.input)}`;
      // return `Неправильні вхідні дані: очікується ${issue.expected}, отримано ${util.getParsedType(issue.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${stringifyPrimitive(issue2.values[0])}`;
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`;
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin ?? "\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${issue2.origin} \u0431\u0443\u0434\u0435 ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${_issue.pattern}`;
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${issue2.divisor}`;
      case "unrecognized_keys":
        return `\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${issue2.keys.length > 1 ? "\u0456" : ""}: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${issue2.origin}`;
      case "invalid_union":
        return "\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";
      case "invalid_element":
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${issue2.origin}`;
      default:
        return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456`;
    }
  };
};
function uk_default() {
  return {
    localeError: error39()
  };
}

// node_modules/zod/v4/locales/ua.js
function ua_default() {
  return uk_default();
}

// node_modules/zod/v4/locales/ur.js
var error40 = () => {
  const Sizable = {
    string: { unit: "\u062D\u0631\u0648\u0641", verb: "\u06C1\u0648\u0646\u0627" },
    file: { unit: "\u0628\u0627\u0626\u0679\u0633", verb: "\u06C1\u0648\u0646\u0627" },
    array: { unit: "\u0622\u0626\u0679\u0645\u0632", verb: "\u06C1\u0648\u0646\u0627" },
    set: { unit: "\u0622\u0626\u0679\u0645\u0632", verb: "\u06C1\u0648\u0646\u0627" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\u0646\u0645\u0628\u0631";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u0622\u0631\u06D2";
        }
        if (data === null) {
          return "\u0646\u0644";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0627\u0646 \u067E\u0679",
    email: "\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",
    url: "\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",
    emoji: "\u0627\u06CC\u0645\u0648\u062C\u06CC",
    uuid: "\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    uuidv4: "\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",
    uuidv6: "\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",
    nanoid: "\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    guid: "\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    cuid: "\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    cuid2: "\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",
    ulid: "\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",
    xid: "\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",
    ksuid: "\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",
    datetime: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",
    date: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",
    time: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",
    duration: "\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",
    ipv4: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",
    ipv6: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",
    cidrv4: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",
    cidrv6: "\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",
    base64: "\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",
    base64url: "\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",
    json_string: "\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",
    e164: "\u0627\u06CC 164 \u0646\u0645\u0628\u0631",
    jwt: "\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",
    template_literal: "\u0627\u0646 \u067E\u0679"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${issue2.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${parsedType7(issue2.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${stringifyPrimitive(issue2.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
        return `\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${joinValues(issue2.values, "|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u0628\u06C1\u062A \u0628\u0691\u0627: ${issue2.origin ?? "\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;
        return `\u0628\u06C1\u062A \u0628\u0691\u0627: ${issue2.origin ?? "\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${adj}${issue2.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${issue2.origin} \u06A9\u06D2 ${adj}${issue2.minimum.toString()} ${sizing.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`;
        }
        return `\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${issue2.origin} \u06A9\u0627 ${adj}${issue2.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${_issue.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        }
        if (_issue.format === "ends_with")
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${_issue.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        if (_issue.format === "includes")
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${_issue.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        if (_issue.format === "regex")
          return `\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${_issue.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
        return `\u063A\u0644\u0637 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${issue2.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;
      case "unrecognized_keys":
        return `\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${issue2.keys.length > 1 ? "\u0632" : ""}: ${joinValues(issue2.keys, "\u060C ")}`;
      case "invalid_key":
        return `${issue2.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;
      case "invalid_union":
        return "\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";
      case "invalid_element":
        return `${issue2.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;
      default:
        return `\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679`;
    }
  };
};
function ur_default() {
  return {
    localeError: error40()
  };
}

// node_modules/zod/v4/locales/vi.js
var error41 = () => {
  const Sizable = {
    string: { unit: "k\xFD t\u1EF1", verb: "c\xF3" },
    file: { unit: "byte", verb: "c\xF3" },
    array: { unit: "ph\u1EA7n t\u1EED", verb: "c\xF3" },
    set: { unit: "ph\u1EA7n t\u1EED", verb: "c\xF3" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "s\u1ED1";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "m\u1EA3ng";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u0111\u1EA7u v\xE0o",
    email: "\u0111\u1ECBa ch\u1EC9 email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ng\xE0y gi\u1EDD ISO",
    date: "ng\xE0y ISO",
    time: "gi\u1EDD ISO",
    duration: "kho\u1EA3ng th\u1EDDi gian ISO",
    ipv4: "\u0111\u1ECBa ch\u1EC9 IPv4",
    ipv6: "\u0111\u1ECBa ch\u1EC9 IPv6",
    cidrv4: "d\u1EA3i IPv4",
    cidrv6: "d\u1EA3i IPv6",
    base64: "chu\u1ED7i m\xE3 h\xF3a base64",
    base64url: "chu\u1ED7i m\xE3 h\xF3a base64url",
    json_string: "chu\u1ED7i JSON",
    e164: "s\u1ED1 E.164",
    jwt: "JWT",
    template_literal: "\u0111\u1EA7u v\xE0o"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${issue2.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${stringifyPrimitive(issue2.values[0])}`;
        return `T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${issue2.origin ?? "gi\xE1 tr\u1ECB"} ${sizing.verb} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "ph\u1EA7n t\u1EED"}`;
        return `Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${issue2.origin ?? "gi\xE1 tr\u1ECB"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${_issue.pattern}`;
        return `${Nouns[_issue.format] ?? issue2.format} kh\xF4ng h\u1EE3p l\u1EC7`;
      }
      case "not_multiple_of":
        return `S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${issue2.divisor}`;
      case "unrecognized_keys":
        return `Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${issue2.origin}`;
      case "invalid_union":
        return "\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";
      case "invalid_element":
        return `Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${issue2.origin}`;
      default:
        return `\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7`;
    }
  };
};
function vi_default() {
  return {
    localeError: error41()
  };
}

// node_modules/zod/v4/locales/zh-CN.js
var error42 = () => {
  const Sizable = {
    string: { unit: "\u5B57\u7B26", verb: "\u5305\u542B" },
    file: { unit: "\u5B57\u8282", verb: "\u5305\u542B" },
    array: { unit: "\u9879", verb: "\u5305\u542B" },
    set: { unit: "\u9879", verb: "\u5305\u542B" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "\u975E\u6570\u5B57(NaN)" : "\u6570\u5B57";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\u6570\u7EC4";
        }
        if (data === null) {
          return "\u7A7A\u503C(null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u8F93\u5165",
    email: "\u7535\u5B50\u90AE\u4EF6",
    url: "URL",
    emoji: "\u8868\u60C5\u7B26\u53F7",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO\u65E5\u671F\u65F6\u95F4",
    date: "ISO\u65E5\u671F",
    time: "ISO\u65F6\u95F4",
    duration: "ISO\u65F6\u957F",
    ipv4: "IPv4\u5730\u5740",
    ipv6: "IPv6\u5730\u5740",
    cidrv4: "IPv4\u7F51\u6BB5",
    cidrv6: "IPv6\u7F51\u6BB5",
    base64: "base64\u7F16\u7801\u5B57\u7B26\u4E32",
    base64url: "base64url\u7F16\u7801\u5B57\u7B26\u4E32",
    json_string: "JSON\u5B57\u7B26\u4E32",
    e164: "E.164\u53F7\u7801",
    jwt: "JWT",
    template_literal: "\u8F93\u5165"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${issue2.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${stringifyPrimitive(issue2.values[0])}`;
        return `\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${issue2.origin ?? "\u503C"} ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u4E2A\u5143\u7D20"}`;
        return `\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${issue2.origin ?? "\u503C"} ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${issue2.origin} ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${issue2.origin} ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${_issue.prefix}" \u5F00\u5934`;
        if (_issue.format === "ends_with")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${_issue.suffix}" \u7ED3\u5C3E`;
        if (_issue.format === "includes")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${_issue.pattern}`;
        return `\u65E0\u6548${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${issue2.divisor} \u7684\u500D\u6570`;
      case "unrecognized_keys":
        return `\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `${issue2.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;
      case "invalid_union":
        return "\u65E0\u6548\u8F93\u5165";
      case "invalid_element":
        return `${issue2.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;
      default:
        return `\u65E0\u6548\u8F93\u5165`;
    }
  };
};
function zh_CN_default() {
  return {
    localeError: error42()
  };
}

// node_modules/zod/v4/locales/zh-TW.js
var error43 = () => {
  const Sizable = {
    string: { unit: "\u5B57\u5143", verb: "\u64C1\u6709" },
    file: { unit: "\u4F4D\u5143\u7D44", verb: "\u64C1\u6709" },
    array: { unit: "\u9805\u76EE", verb: "\u64C1\u6709" },
    set: { unit: "\u9805\u76EE", verb: "\u64C1\u6709" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u8F38\u5165",
    email: "\u90F5\u4EF6\u5730\u5740",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \u65E5\u671F\u6642\u9593",
    date: "ISO \u65E5\u671F",
    time: "ISO \u6642\u9593",
    duration: "ISO \u671F\u9593",
    ipv4: "IPv4 \u4F4D\u5740",
    ipv6: "IPv6 \u4F4D\u5740",
    cidrv4: "IPv4 \u7BC4\u570D",
    cidrv6: "IPv6 \u7BC4\u570D",
    base64: "base64 \u7DE8\u78BC\u5B57\u4E32",
    base64url: "base64url \u7DE8\u78BC\u5B57\u4E32",
    json_string: "JSON \u5B57\u4E32",
    e164: "E.164 \u6578\u503C",
    jwt: "JWT",
    template_literal: "\u8F38\u5165"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${issue2.expected}\uFF0C\u4F46\u6536\u5230 ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${stringifyPrimitive(issue2.values[0])}`;
        return `\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${issue2.origin ?? "\u503C"} \u61C9\u70BA ${adj}${issue2.maximum.toString()} ${sizing.unit ?? "\u500B\u5143\u7D20"}`;
        return `\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${issue2.origin ?? "\u503C"} \u61C9\u70BA ${adj}${issue2.maximum.toString()}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return `\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${issue2.origin} \u61C9\u70BA ${adj}${issue2.minimum.toString()} ${sizing.unit}`;
        }
        return `\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${issue2.origin} \u61C9\u70BA ${adj}${issue2.minimum.toString()}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${_issue.prefix}" \u958B\u982D`;
        }
        if (_issue.format === "ends_with")
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${_issue.suffix}" \u7D50\u5C3E`;
        if (_issue.format === "includes")
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${_issue.pattern}`;
        return `\u7121\u6548\u7684 ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${issue2.divisor} \u7684\u500D\u6578`;
      case "unrecognized_keys":
        return `\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${issue2.keys.length > 1 ? "\u5011" : ""}\uFF1A${joinValues(issue2.keys, "\u3001")}`;
      case "invalid_key":
        return `${issue2.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;
      case "invalid_union":
        return "\u7121\u6548\u7684\u8F38\u5165\u503C";
      case "invalid_element":
        return `${issue2.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;
      default:
        return `\u7121\u6548\u7684\u8F38\u5165\u503C`;
    }
  };
};
function zh_TW_default() {
  return {
    localeError: error43()
  };
}

// node_modules/zod/v4/locales/yo.js
var error44 = () => {
  const Sizable = {
    string: { unit: "\xE0mi", verb: "n\xED" },
    file: { unit: "bytes", verb: "n\xED" },
    array: { unit: "nkan", verb: "n\xED" },
    set: { unit: "nkan", verb: "n\xED" }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  const parsedType7 = (data) => {
    const t2 = typeof data;
    switch (t2) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "n\u1ECD\u0301mb\xE0";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "akop\u1ECD";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t2;
  };
  const Nouns = {
    regex: "\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",
    email: "\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\xE0k\xF3k\xF2 ISO",
    date: "\u1ECDj\u1ECD\u0301 ISO",
    time: "\xE0k\xF3k\xF2 ISO",
    duration: "\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",
    ipv4: "\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",
    ipv6: "\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",
    cidrv4: "\xE0gb\xE8gb\xE8 IPv4",
    cidrv6: "\xE0gb\xE8gb\xE8 IPv6",
    base64: "\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",
    base64url: "\u1ECD\u0300r\u1ECD\u0300 base64url",
    json_string: "\u1ECD\u0300r\u1ECD\u0300 JSON",
    e164: "n\u1ECD\u0301mb\xE0 E.164",
    jwt: "JWT",
    template_literal: "\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return `\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${issue2.expected}, \xE0m\u1ECD\u0300 a r\xED ${parsedType7(issue2.input)}`;
      case "invalid_value":
        if (issue2.values.length === 1)
          return `\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${stringifyPrimitive(issue2.values[0])}`;
        return `\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${joinValues(issue2.values, "|")}`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${issue2.origin ?? "iye"} ${sizing.verb} ${adj}${issue2.maximum} ${sizing.unit}`;
        return `T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${adj}${issue2.maximum}`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing)
          return `K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${issue2.origin} ${sizing.verb} ${adj}${issue2.minimum} ${sizing.unit}`;
        return `K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${adj}${issue2.minimum}`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${_issue.prefix}"`;
        if (_issue.format === "ends_with")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${_issue.suffix}"`;
        if (_issue.format === "includes")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${_issue.includes}"`;
        if (_issue.format === "regex")
          return `\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${_issue.pattern}`;
        return `A\u1E63\xEC\u1E63e: ${Nouns[_issue.format] ?? issue2.format}`;
      }
      case "not_multiple_of":
        return `N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${issue2.divisor}`;
      case "unrecognized_keys":
        return `B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${joinValues(issue2.keys, ", ")}`;
      case "invalid_key":
        return `B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${issue2.origin}`;
      case "invalid_union":
        return "\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";
      case "invalid_element":
        return `Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${issue2.origin}`;
      default:
        return "\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";
    }
  };
};
function yo_default() {
  return {
    localeError: error44()
  };
}

// node_modules/zod/v4/core/registries.js
var $output = Symbol("ZodOutput");
var $input = Symbol("ZodInput");
var $ZodRegistry = class {
  constructor() {
    this._map = /* @__PURE__ */ new WeakMap();
    this._idmap = /* @__PURE__ */ new Map();
  }
  add(schema, ..._meta) {
    const meta = _meta[0];
    this._map.set(schema, meta);
    if (meta && typeof meta === "object" && "id" in meta) {
      if (this._idmap.has(meta.id)) {
        throw new Error(`ID ${meta.id} already exists in the registry`);
      }
      this._idmap.set(meta.id, schema);
    }
    return this;
  }
  clear() {
    this._map = /* @__PURE__ */ new WeakMap();
    this._idmap = /* @__PURE__ */ new Map();
    return this;
  }
  remove(schema) {
    const meta = this._map.get(schema);
    if (meta && typeof meta === "object" && "id" in meta) {
      this._idmap.delete(meta.id);
    }
    this._map.delete(schema);
    return this;
  }
  get(schema) {
    const p2 = schema._zod.parent;
    if (p2) {
      const pm = { ...this.get(p2) ?? {} };
      delete pm.id;
      const f2 = { ...pm, ...this._map.get(schema) };
      return Object.keys(f2).length ? f2 : void 0;
    }
    return this._map.get(schema);
  }
  has(schema) {
    return this._map.has(schema);
  }
};
function registry() {
  return new $ZodRegistry();
}
var globalRegistry = /* @__PURE__ */ registry();

// node_modules/zod/v4/core/api.js
function _string(Class2, params) {
  return new Class2({
    type: "string",
    ...normalizeParams(params)
  });
}
function _coercedString(Class2, params) {
  return new Class2({
    type: "string",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _email(Class2, params) {
  return new Class2({
    type: "string",
    format: "email",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _guid(Class2, params) {
  return new Class2({
    type: "string",
    format: "guid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _uuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _uuidv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v4",
    ...normalizeParams(params)
  });
}
function _uuidv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v6",
    ...normalizeParams(params)
  });
}
function _uuidv7(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v7",
    ...normalizeParams(params)
  });
}
function _url(Class2, params) {
  return new Class2({
    type: "string",
    format: "url",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _emoji2(Class2, params) {
  return new Class2({
    type: "string",
    format: "emoji",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _nanoid(Class2, params) {
  return new Class2({
    type: "string",
    format: "nanoid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "cuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cuid2(Class2, params) {
  return new Class2({
    type: "string",
    format: "cuid2",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ulid(Class2, params) {
  return new Class2({
    type: "string",
    format: "ulid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _xid(Class2, params) {
  return new Class2({
    type: "string",
    format: "xid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ksuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "ksuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ipv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "ipv4",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _ipv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "ipv6",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cidrv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "cidrv4",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _cidrv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "cidrv6",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _base64(Class2, params) {
  return new Class2({
    type: "string",
    format: "base64",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _base64url(Class2, params) {
  return new Class2({
    type: "string",
    format: "base64url",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _e164(Class2, params) {
  return new Class2({
    type: "string",
    format: "e164",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
function _jwt(Class2, params) {
  return new Class2({
    type: "string",
    format: "jwt",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
var TimePrecision = {
  Any: null,
  Minute: -1,
  Second: 0,
  Millisecond: 3,
  Microsecond: 6
};
function _isoDateTime(Class2, params) {
  return new Class2({
    type: "string",
    format: "datetime",
    check: "string_format",
    offset: false,
    local: false,
    precision: null,
    ...normalizeParams(params)
  });
}
function _isoDate(Class2, params) {
  return new Class2({
    type: "string",
    format: "date",
    check: "string_format",
    ...normalizeParams(params)
  });
}
function _isoTime(Class2, params) {
  return new Class2({
    type: "string",
    format: "time",
    check: "string_format",
    precision: null,
    ...normalizeParams(params)
  });
}
function _isoDuration(Class2, params) {
  return new Class2({
    type: "string",
    format: "duration",
    check: "string_format",
    ...normalizeParams(params)
  });
}
function _number(Class2, params) {
  return new Class2({
    type: "number",
    checks: [],
    ...normalizeParams(params)
  });
}
function _coercedNumber(Class2, params) {
  return new Class2({
    type: "number",
    coerce: true,
    checks: [],
    ...normalizeParams(params)
  });
}
function _int(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "safeint",
    ...normalizeParams(params)
  });
}
function _float32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "float32",
    ...normalizeParams(params)
  });
}
function _float64(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "float64",
    ...normalizeParams(params)
  });
}
function _int32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "int32",
    ...normalizeParams(params)
  });
}
function _uint32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "uint32",
    ...normalizeParams(params)
  });
}
function _boolean(Class2, params) {
  return new Class2({
    type: "boolean",
    ...normalizeParams(params)
  });
}
function _coercedBoolean(Class2, params) {
  return new Class2({
    type: "boolean",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _bigint(Class2, params) {
  return new Class2({
    type: "bigint",
    ...normalizeParams(params)
  });
}
function _coercedBigint(Class2, params) {
  return new Class2({
    type: "bigint",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _int64(Class2, params) {
  return new Class2({
    type: "bigint",
    check: "bigint_format",
    abort: false,
    format: "int64",
    ...normalizeParams(params)
  });
}
function _uint64(Class2, params) {
  return new Class2({
    type: "bigint",
    check: "bigint_format",
    abort: false,
    format: "uint64",
    ...normalizeParams(params)
  });
}
function _symbol(Class2, params) {
  return new Class2({
    type: "symbol",
    ...normalizeParams(params)
  });
}
function _undefined2(Class2, params) {
  return new Class2({
    type: "undefined",
    ...normalizeParams(params)
  });
}
function _null2(Class2, params) {
  return new Class2({
    type: "null",
    ...normalizeParams(params)
  });
}
function _any(Class2) {
  return new Class2({
    type: "any"
  });
}
function _unknown(Class2) {
  return new Class2({
    type: "unknown"
  });
}
function _never(Class2, params) {
  return new Class2({
    type: "never",
    ...normalizeParams(params)
  });
}
function _void(Class2, params) {
  return new Class2({
    type: "void",
    ...normalizeParams(params)
  });
}
function _date(Class2, params) {
  return new Class2({
    type: "date",
    ...normalizeParams(params)
  });
}
function _coercedDate(Class2, params) {
  return new Class2({
    type: "date",
    coerce: true,
    ...normalizeParams(params)
  });
}
function _nan(Class2, params) {
  return new Class2({
    type: "nan",
    ...normalizeParams(params)
  });
}
function _lt(value, params) {
  return new $ZodCheckLessThan({
    check: "less_than",
    ...normalizeParams(params),
    value,
    inclusive: false
  });
}
function _lte(value, params) {
  return new $ZodCheckLessThan({
    check: "less_than",
    ...normalizeParams(params),
    value,
    inclusive: true
  });
}
function _gt(value, params) {
  return new $ZodCheckGreaterThan({
    check: "greater_than",
    ...normalizeParams(params),
    value,
    inclusive: false
  });
}
function _gte(value, params) {
  return new $ZodCheckGreaterThan({
    check: "greater_than",
    ...normalizeParams(params),
    value,
    inclusive: true
  });
}
function _positive(params) {
  return _gt(0, params);
}
function _negative(params) {
  return _lt(0, params);
}
function _nonpositive(params) {
  return _lte(0, params);
}
function _nonnegative(params) {
  return _gte(0, params);
}
function _multipleOf(value, params) {
  return new $ZodCheckMultipleOf({
    check: "multiple_of",
    ...normalizeParams(params),
    value
  });
}
function _maxSize(maximum, params) {
  return new $ZodCheckMaxSize({
    check: "max_size",
    ...normalizeParams(params),
    maximum
  });
}
function _minSize(minimum, params) {
  return new $ZodCheckMinSize({
    check: "min_size",
    ...normalizeParams(params),
    minimum
  });
}
function _size(size, params) {
  return new $ZodCheckSizeEquals({
    check: "size_equals",
    ...normalizeParams(params),
    size
  });
}
function _maxLength(maximum, params) {
  const ch = new $ZodCheckMaxLength({
    check: "max_length",
    ...normalizeParams(params),
    maximum
  });
  return ch;
}
function _minLength(minimum, params) {
  return new $ZodCheckMinLength({
    check: "min_length",
    ...normalizeParams(params),
    minimum
  });
}
function _length(length, params) {
  return new $ZodCheckLengthEquals({
    check: "length_equals",
    ...normalizeParams(params),
    length
  });
}
function _regex(pattern, params) {
  return new $ZodCheckRegex({
    check: "string_format",
    format: "regex",
    ...normalizeParams(params),
    pattern
  });
}
function _lowercase(params) {
  return new $ZodCheckLowerCase({
    check: "string_format",
    format: "lowercase",
    ...normalizeParams(params)
  });
}
function _uppercase(params) {
  return new $ZodCheckUpperCase({
    check: "string_format",
    format: "uppercase",
    ...normalizeParams(params)
  });
}
function _includes(includes, params) {
  return new $ZodCheckIncludes({
    check: "string_format",
    format: "includes",
    ...normalizeParams(params),
    includes
  });
}
function _startsWith(prefix, params) {
  return new $ZodCheckStartsWith({
    check: "string_format",
    format: "starts_with",
    ...normalizeParams(params),
    prefix
  });
}
function _endsWith(suffix, params) {
  return new $ZodCheckEndsWith({
    check: "string_format",
    format: "ends_with",
    ...normalizeParams(params),
    suffix
  });
}
function _property(property, schema, params) {
  return new $ZodCheckProperty({
    check: "property",
    property,
    schema,
    ...normalizeParams(params)
  });
}
function _mime(types2, params) {
  return new $ZodCheckMimeType({
    check: "mime_type",
    mime: types2,
    ...normalizeParams(params)
  });
}
function _overwrite(tx) {
  return new $ZodCheckOverwrite({
    check: "overwrite",
    tx
  });
}
function _normalize(form) {
  return _overwrite((input) => input.normalize(form));
}
function _trim() {
  return _overwrite((input) => input.trim());
}
function _toLowerCase() {
  return _overwrite((input) => input.toLowerCase());
}
function _toUpperCase() {
  return _overwrite((input) => input.toUpperCase());
}
function _array(Class2, element, params) {
  return new Class2({
    type: "array",
    element,
    // get element() {
    //   return element;
    // },
    ...normalizeParams(params)
  });
}
function _union(Class2, options, params) {
  return new Class2({
    type: "union",
    options,
    ...normalizeParams(params)
  });
}
function _discriminatedUnion(Class2, discriminator, options, params) {
  return new Class2({
    type: "union",
    options,
    discriminator,
    ...normalizeParams(params)
  });
}
function _intersection(Class2, left, right) {
  return new Class2({
    type: "intersection",
    left,
    right
  });
}
function _tuple(Class2, items, _paramsOrRest, _params) {
  const hasRest = _paramsOrRest instanceof $ZodType;
  const params = hasRest ? _params : _paramsOrRest;
  const rest = hasRest ? _paramsOrRest : null;
  return new Class2({
    type: "tuple",
    items,
    rest,
    ...normalizeParams(params)
  });
}
function _record(Class2, keyType, valueType, params) {
  return new Class2({
    type: "record",
    keyType,
    valueType,
    ...normalizeParams(params)
  });
}
function _map(Class2, keyType, valueType, params) {
  return new Class2({
    type: "map",
    keyType,
    valueType,
    ...normalizeParams(params)
  });
}
function _set(Class2, valueType, params) {
  return new Class2({
    type: "set",
    valueType,
    ...normalizeParams(params)
  });
}
function _enum(Class2, values, params) {
  const entries = Array.isArray(values) ? Object.fromEntries(values.map((v2) => [v2, v2])) : values;
  return new Class2({
    type: "enum",
    entries,
    ...normalizeParams(params)
  });
}
function _nativeEnum(Class2, entries, params) {
  return new Class2({
    type: "enum",
    entries,
    ...normalizeParams(params)
  });
}
function _literal(Class2, value, params) {
  return new Class2({
    type: "literal",
    values: Array.isArray(value) ? value : [value],
    ...normalizeParams(params)
  });
}
function _file(Class2, params) {
  return new Class2({
    type: "file",
    ...normalizeParams(params)
  });
}
function _transform(Class2, fn) {
  return new Class2({
    type: "transform",
    transform: fn
  });
}
function _optional(Class2, innerType) {
  return new Class2({
    type: "optional",
    innerType
  });
}
function _nullable(Class2, innerType) {
  return new Class2({
    type: "nullable",
    innerType
  });
}
function _default(Class2, innerType, defaultValue) {
  return new Class2({
    type: "default",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : shallowClone(defaultValue);
    }
  });
}
function _nonoptional(Class2, innerType, params) {
  return new Class2({
    type: "nonoptional",
    innerType,
    ...normalizeParams(params)
  });
}
function _success(Class2, innerType) {
  return new Class2({
    type: "success",
    innerType
  });
}
function _catch(Class2, innerType, catchValue) {
  return new Class2({
    type: "catch",
    innerType,
    catchValue: typeof catchValue === "function" ? catchValue : () => catchValue
  });
}
function _pipe(Class2, in_, out) {
  return new Class2({
    type: "pipe",
    in: in_,
    out
  });
}
function _readonly(Class2, innerType) {
  return new Class2({
    type: "readonly",
    innerType
  });
}
function _templateLiteral(Class2, parts, params) {
  return new Class2({
    type: "template_literal",
    parts,
    ...normalizeParams(params)
  });
}
function _lazy(Class2, getter) {
  return new Class2({
    type: "lazy",
    getter
  });
}
function _promise(Class2, innerType) {
  return new Class2({
    type: "promise",
    innerType
  });
}
function _custom(Class2, fn, _params) {
  const norm = normalizeParams(_params);
  norm.abort ?? (norm.abort = true);
  const schema = new Class2({
    type: "custom",
    check: "custom",
    fn,
    ...norm
  });
  return schema;
}
function _refine(Class2, fn, _params) {
  const schema = new Class2({
    type: "custom",
    check: "custom",
    fn,
    ...normalizeParams(_params)
  });
  return schema;
}
function _superRefine(fn) {
  const ch = _check((payload) => {
    payload.addIssue = (issue2) => {
      if (typeof issue2 === "string") {
        payload.issues.push(issue(issue2, payload.value, ch._zod.def));
      } else {
        const _issue = issue2;
        if (_issue.fatal)
          _issue.continue = false;
        _issue.code ?? (_issue.code = "custom");
        _issue.input ?? (_issue.input = payload.value);
        _issue.inst ?? (_issue.inst = ch);
        _issue.continue ?? (_issue.continue = !ch._zod.def.abort);
        payload.issues.push(issue(_issue));
      }
    };
    return fn(payload.value, payload);
  });
  return ch;
}
function _check(fn, params) {
  const ch = new $ZodCheck({
    check: "custom",
    ...normalizeParams(params)
  });
  ch._zod.check = fn;
  return ch;
}
function _stringbool(Classes, _params) {
  const params = normalizeParams(_params);
  let truthyArray = params.truthy ?? ["true", "1", "yes", "on", "y", "enabled"];
  let falsyArray = params.falsy ?? ["false", "0", "no", "off", "n", "disabled"];
  if (params.case !== "sensitive") {
    truthyArray = truthyArray.map((v2) => typeof v2 === "string" ? v2.toLowerCase() : v2);
    falsyArray = falsyArray.map((v2) => typeof v2 === "string" ? v2.toLowerCase() : v2);
  }
  const truthySet = new Set(truthyArray);
  const falsySet = new Set(falsyArray);
  const _Codec = Classes.Codec ?? $ZodCodec;
  const _Boolean = Classes.Boolean ?? $ZodBoolean;
  const _String = Classes.String ?? $ZodString;
  const stringSchema = new _String({ type: "string", error: params.error });
  const booleanSchema = new _Boolean({ type: "boolean", error: params.error });
  const codec2 = new _Codec({
    type: "pipe",
    in: stringSchema,
    out: booleanSchema,
    transform: ((input, payload) => {
      let data = input;
      if (params.case !== "sensitive")
        data = data.toLowerCase();
      if (truthySet.has(data)) {
        return true;
      } else if (falsySet.has(data)) {
        return false;
      } else {
        payload.issues.push({
          code: "invalid_value",
          expected: "stringbool",
          values: [...truthySet, ...falsySet],
          input: payload.value,
          inst: codec2,
          continue: false
        });
        return {};
      }
    }),
    reverseTransform: ((input, _payload) => {
      if (input === true) {
        return truthyArray[0] || "true";
      } else {
        return falsyArray[0] || "false";
      }
    }),
    error: params.error
  });
  return codec2;
}
function _stringFormat(Class2, format, fnOrRegex, _params = {}) {
  const params = normalizeParams(_params);
  const def = {
    ...normalizeParams(_params),
    check: "string_format",
    type: "string",
    format,
    fn: typeof fnOrRegex === "function" ? fnOrRegex : (val) => fnOrRegex.test(val),
    ...params
  };
  if (fnOrRegex instanceof RegExp) {
    def.pattern = fnOrRegex;
  }
  const inst = new Class2(def);
  return inst;
}

// node_modules/zod/v4/core/to-json-schema.js
var JSONSchemaGenerator = class {
  constructor(params) {
    this.counter = 0;
    this.metadataRegistry = params?.metadata ?? globalRegistry;
    this.target = params?.target ?? "draft-2020-12";
    this.unrepresentable = params?.unrepresentable ?? "throw";
    this.override = params?.override ?? (() => {
    });
    this.io = params?.io ?? "output";
    this.seen = /* @__PURE__ */ new Map();
  }
  process(schema, _params = { path: [], schemaPath: [] }) {
    var _a17;
    const def = schema._zod.def;
    const formatMap = {
      guid: "uuid",
      url: "uri",
      datetime: "date-time",
      json_string: "json-string",
      regex: ""
      // do not set
    };
    const seen = this.seen.get(schema);
    if (seen) {
      seen.count++;
      const isCycle = _params.schemaPath.includes(schema);
      if (isCycle) {
        seen.cycle = _params.path;
      }
      return seen.schema;
    }
    const result = { schema: {}, count: 1, cycle: void 0, path: _params.path };
    this.seen.set(schema, result);
    const overrideSchema = schema._zod.toJSONSchema?.();
    if (overrideSchema) {
      result.schema = overrideSchema;
    } else {
      const params = {
        ..._params,
        schemaPath: [..._params.schemaPath, schema],
        path: _params.path
      };
      const parent = schema._zod.parent;
      if (parent) {
        result.ref = parent;
        this.process(parent, params);
        this.seen.get(parent).isParent = true;
      } else {
        const _json = result.schema;
        switch (def.type) {
          case "string": {
            const json2 = _json;
            json2.type = "string";
            const { minimum, maximum, format, patterns, contentEncoding } = schema._zod.bag;
            if (typeof minimum === "number")
              json2.minLength = minimum;
            if (typeof maximum === "number")
              json2.maxLength = maximum;
            if (format) {
              json2.format = formatMap[format] ?? format;
              if (json2.format === "")
                delete json2.format;
            }
            if (contentEncoding)
              json2.contentEncoding = contentEncoding;
            if (patterns && patterns.size > 0) {
              const regexes = [...patterns];
              if (regexes.length === 1)
                json2.pattern = regexes[0].source;
              else if (regexes.length > 1) {
                result.schema.allOf = [
                  ...regexes.map((regex) => ({
                    ...this.target === "draft-7" || this.target === "draft-4" || this.target === "openapi-3.0" ? { type: "string" } : {},
                    pattern: regex.source
                  }))
                ];
              }
            }
            break;
          }
          case "number": {
            const json2 = _json;
            const { minimum, maximum, format, multipleOf, exclusiveMaximum, exclusiveMinimum } = schema._zod.bag;
            if (typeof format === "string" && format.includes("int"))
              json2.type = "integer";
            else
              json2.type = "number";
            if (typeof exclusiveMinimum === "number") {
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.minimum = exclusiveMinimum;
                json2.exclusiveMinimum = true;
              } else {
                json2.exclusiveMinimum = exclusiveMinimum;
              }
            }
            if (typeof minimum === "number") {
              json2.minimum = minimum;
              if (typeof exclusiveMinimum === "number" && this.target !== "draft-4") {
                if (exclusiveMinimum >= minimum)
                  delete json2.minimum;
                else
                  delete json2.exclusiveMinimum;
              }
            }
            if (typeof exclusiveMaximum === "number") {
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.maximum = exclusiveMaximum;
                json2.exclusiveMaximum = true;
              } else {
                json2.exclusiveMaximum = exclusiveMaximum;
              }
            }
            if (typeof maximum === "number") {
              json2.maximum = maximum;
              if (typeof exclusiveMaximum === "number" && this.target !== "draft-4") {
                if (exclusiveMaximum <= maximum)
                  delete json2.maximum;
                else
                  delete json2.exclusiveMaximum;
              }
            }
            if (typeof multipleOf === "number")
              json2.multipleOf = multipleOf;
            break;
          }
          case "boolean": {
            const json2 = _json;
            json2.type = "boolean";
            break;
          }
          case "bigint": {
            if (this.unrepresentable === "throw") {
              throw new Error("BigInt cannot be represented in JSON Schema");
            }
            break;
          }
          case "symbol": {
            if (this.unrepresentable === "throw") {
              throw new Error("Symbols cannot be represented in JSON Schema");
            }
            break;
          }
          case "null": {
            if (this.target === "openapi-3.0") {
              _json.type = "string";
              _json.nullable = true;
              _json.enum = [null];
            } else
              _json.type = "null";
            break;
          }
          case "any": {
            break;
          }
          case "unknown": {
            break;
          }
          case "undefined": {
            if (this.unrepresentable === "throw") {
              throw new Error("Undefined cannot be represented in JSON Schema");
            }
            break;
          }
          case "void": {
            if (this.unrepresentable === "throw") {
              throw new Error("Void cannot be represented in JSON Schema");
            }
            break;
          }
          case "never": {
            _json.not = {};
            break;
          }
          case "date": {
            if (this.unrepresentable === "throw") {
              throw new Error("Date cannot be represented in JSON Schema");
            }
            break;
          }
          case "array": {
            const json2 = _json;
            const { minimum, maximum } = schema._zod.bag;
            if (typeof minimum === "number")
              json2.minItems = minimum;
            if (typeof maximum === "number")
              json2.maxItems = maximum;
            json2.type = "array";
            json2.items = this.process(def.element, { ...params, path: [...params.path, "items"] });
            break;
          }
          case "object": {
            const json2 = _json;
            json2.type = "object";
            json2.properties = {};
            const shape = def.shape;
            for (const key in shape) {
              json2.properties[key] = this.process(shape[key], {
                ...params,
                path: [...params.path, "properties", key]
              });
            }
            const allKeys = new Set(Object.keys(shape));
            const requiredKeys = new Set([...allKeys].filter((key) => {
              const v2 = def.shape[key]._zod;
              if (this.io === "input") {
                return v2.optin === void 0;
              } else {
                return v2.optout === void 0;
              }
            }));
            if (requiredKeys.size > 0) {
              json2.required = Array.from(requiredKeys);
            }
            if (def.catchall?._zod.def.type === "never") {
              json2.additionalProperties = false;
            } else if (!def.catchall) {
              if (this.io === "output")
                json2.additionalProperties = false;
            } else if (def.catchall) {
              json2.additionalProperties = this.process(def.catchall, {
                ...params,
                path: [...params.path, "additionalProperties"]
              });
            }
            break;
          }
          case "union": {
            const json2 = _json;
            const options = def.options.map((x2, i2) => this.process(x2, {
              ...params,
              path: [...params.path, "anyOf", i2]
            }));
            json2.anyOf = options;
            break;
          }
          case "intersection": {
            const json2 = _json;
            const a2 = this.process(def.left, {
              ...params,
              path: [...params.path, "allOf", 0]
            });
            const b2 = this.process(def.right, {
              ...params,
              path: [...params.path, "allOf", 1]
            });
            const isSimpleIntersection = (val) => "allOf" in val && Object.keys(val).length === 1;
            const allOf = [
              ...isSimpleIntersection(a2) ? a2.allOf : [a2],
              ...isSimpleIntersection(b2) ? b2.allOf : [b2]
            ];
            json2.allOf = allOf;
            break;
          }
          case "tuple": {
            const json2 = _json;
            json2.type = "array";
            const prefixPath = this.target === "draft-2020-12" ? "prefixItems" : "items";
            const restPath = this.target === "draft-2020-12" ? "items" : this.target === "openapi-3.0" ? "items" : "additionalItems";
            const prefixItems = def.items.map((x2, i2) => this.process(x2, {
              ...params,
              path: [...params.path, prefixPath, i2]
            }));
            const rest = def.rest ? this.process(def.rest, {
              ...params,
              path: [...params.path, restPath, ...this.target === "openapi-3.0" ? [def.items.length] : []]
            }) : null;
            if (this.target === "draft-2020-12") {
              json2.prefixItems = prefixItems;
              if (rest) {
                json2.items = rest;
              }
            } else if (this.target === "openapi-3.0") {
              json2.items = {
                anyOf: prefixItems
              };
              if (rest) {
                json2.items.anyOf.push(rest);
              }
              json2.minItems = prefixItems.length;
              if (!rest) {
                json2.maxItems = prefixItems.length;
              }
            } else {
              json2.items = prefixItems;
              if (rest) {
                json2.additionalItems = rest;
              }
            }
            const { minimum, maximum } = schema._zod.bag;
            if (typeof minimum === "number")
              json2.minItems = minimum;
            if (typeof maximum === "number")
              json2.maxItems = maximum;
            break;
          }
          case "record": {
            const json2 = _json;
            json2.type = "object";
            if (this.target === "draft-7" || this.target === "draft-2020-12") {
              json2.propertyNames = this.process(def.keyType, {
                ...params,
                path: [...params.path, "propertyNames"]
              });
            }
            json2.additionalProperties = this.process(def.valueType, {
              ...params,
              path: [...params.path, "additionalProperties"]
            });
            break;
          }
          case "map": {
            if (this.unrepresentable === "throw") {
              throw new Error("Map cannot be represented in JSON Schema");
            }
            break;
          }
          case "set": {
            if (this.unrepresentable === "throw") {
              throw new Error("Set cannot be represented in JSON Schema");
            }
            break;
          }
          case "enum": {
            const json2 = _json;
            const values = getEnumValues(def.entries);
            if (values.every((v2) => typeof v2 === "number"))
              json2.type = "number";
            if (values.every((v2) => typeof v2 === "string"))
              json2.type = "string";
            json2.enum = values;
            break;
          }
          case "literal": {
            const json2 = _json;
            const vals = [];
            for (const val of def.values) {
              if (val === void 0) {
                if (this.unrepresentable === "throw") {
                  throw new Error("Literal `undefined` cannot be represented in JSON Schema");
                } else {
                }
              } else if (typeof val === "bigint") {
                if (this.unrepresentable === "throw") {
                  throw new Error("BigInt literals cannot be represented in JSON Schema");
                } else {
                  vals.push(Number(val));
                }
              } else {
                vals.push(val);
              }
            }
            if (vals.length === 0) {
            } else if (vals.length === 1) {
              const val = vals[0];
              json2.type = val === null ? "null" : typeof val;
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.enum = [val];
              } else {
                json2.const = val;
              }
            } else {
              if (vals.every((v2) => typeof v2 === "number"))
                json2.type = "number";
              if (vals.every((v2) => typeof v2 === "string"))
                json2.type = "string";
              if (vals.every((v2) => typeof v2 === "boolean"))
                json2.type = "string";
              if (vals.every((v2) => v2 === null))
                json2.type = "null";
              json2.enum = vals;
            }
            break;
          }
          case "file": {
            const json2 = _json;
            const file2 = {
              type: "string",
              format: "binary",
              contentEncoding: "binary"
            };
            const { minimum, maximum, mime } = schema._zod.bag;
            if (minimum !== void 0)
              file2.minLength = minimum;
            if (maximum !== void 0)
              file2.maxLength = maximum;
            if (mime) {
              if (mime.length === 1) {
                file2.contentMediaType = mime[0];
                Object.assign(json2, file2);
              } else {
                json2.anyOf = mime.map((m2) => {
                  const mFile = { ...file2, contentMediaType: m2 };
                  return mFile;
                });
              }
            } else {
              Object.assign(json2, file2);
            }
            break;
          }
          case "transform": {
            if (this.unrepresentable === "throw") {
              throw new Error("Transforms cannot be represented in JSON Schema");
            }
            break;
          }
          case "nullable": {
            const inner = this.process(def.innerType, params);
            if (this.target === "openapi-3.0") {
              result.ref = def.innerType;
              _json.nullable = true;
            } else {
              _json.anyOf = [inner, { type: "null" }];
            }
            break;
          }
          case "nonoptional": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "success": {
            const json2 = _json;
            json2.type = "boolean";
            break;
          }
          case "default": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            _json.default = JSON.parse(JSON.stringify(def.defaultValue));
            break;
          }
          case "prefault": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            if (this.io === "input")
              _json._prefault = JSON.parse(JSON.stringify(def.defaultValue));
            break;
          }
          case "catch": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            let catchValue;
            try {
              catchValue = def.catchValue(void 0);
            } catch {
              throw new Error("Dynamic catch values are not supported in JSON Schema");
            }
            _json.default = catchValue;
            break;
          }
          case "nan": {
            if (this.unrepresentable === "throw") {
              throw new Error("NaN cannot be represented in JSON Schema");
            }
            break;
          }
          case "template_literal": {
            const json2 = _json;
            const pattern = schema._zod.pattern;
            if (!pattern)
              throw new Error("Pattern not found in template literal");
            json2.type = "string";
            json2.pattern = pattern.source;
            break;
          }
          case "pipe": {
            const innerType = this.io === "input" ? def.in._zod.def.type === "transform" ? def.out : def.in : def.out;
            this.process(innerType, params);
            result.ref = innerType;
            break;
          }
          case "readonly": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            _json.readOnly = true;
            break;
          }
          // passthrough types
          case "promise": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "optional": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "lazy": {
            const innerType = schema._zod.innerType;
            this.process(innerType, params);
            result.ref = innerType;
            break;
          }
          case "custom": {
            if (this.unrepresentable === "throw") {
              throw new Error("Custom types cannot be represented in JSON Schema");
            }
            break;
          }
          case "function": {
            if (this.unrepresentable === "throw") {
              throw new Error("Function types cannot be represented in JSON Schema");
            }
            break;
          }
          default: {
            def;
          }
        }
      }
    }
    const meta = this.metadataRegistry.get(schema);
    if (meta)
      Object.assign(result.schema, meta);
    if (this.io === "input" && isTransforming(schema)) {
      delete result.schema.examples;
      delete result.schema.default;
    }
    if (this.io === "input" && result.schema._prefault)
      (_a17 = result.schema).default ?? (_a17.default = result.schema._prefault);
    delete result.schema._prefault;
    const _result = this.seen.get(schema);
    return _result.schema;
  }
  emit(schema, _params) {
    const params = {
      cycles: _params?.cycles ?? "ref",
      reused: _params?.reused ?? "inline",
      // unrepresentable: _params?.unrepresentable ?? "throw",
      // uri: _params?.uri ?? ((id) => `${id}`),
      external: _params?.external ?? void 0
    };
    const root = this.seen.get(schema);
    if (!root)
      throw new Error("Unprocessed schema. This is a bug in Zod.");
    const makeURI = (entry) => {
      const defsSegment = this.target === "draft-2020-12" ? "$defs" : "definitions";
      if (params.external) {
        const externalId = params.external.registry.get(entry[0])?.id;
        const uriGenerator = params.external.uri ?? ((id2) => id2);
        if (externalId) {
          return { ref: uriGenerator(externalId) };
        }
        const id = entry[1].defId ?? entry[1].schema.id ?? `schema${this.counter++}`;
        entry[1].defId = id;
        return { defId: id, ref: `${uriGenerator("__shared")}#/${defsSegment}/${id}` };
      }
      if (entry[1] === root) {
        return { ref: "#" };
      }
      const uriPrefix = `#`;
      const defUriPrefix = `${uriPrefix}/${defsSegment}/`;
      const defId = entry[1].schema.id ?? `__schema${this.counter++}`;
      return { defId, ref: defUriPrefix + defId };
    };
    const extractToDef = (entry) => {
      if (entry[1].schema.$ref) {
        return;
      }
      const seen = entry[1];
      const { ref, defId } = makeURI(entry);
      seen.def = { ...seen.schema };
      if (defId)
        seen.defId = defId;
      const schema2 = seen.schema;
      for (const key in schema2) {
        delete schema2[key];
      }
      schema2.$ref = ref;
    };
    if (params.cycles === "throw") {
      for (const entry of this.seen.entries()) {
        const seen = entry[1];
        if (seen.cycle) {
          throw new Error(`Cycle detected: #/${seen.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`);
        }
      }
    }
    for (const entry of this.seen.entries()) {
      const seen = entry[1];
      if (schema === entry[0]) {
        extractToDef(entry);
        continue;
      }
      if (params.external) {
        const ext = params.external.registry.get(entry[0])?.id;
        if (schema !== entry[0] && ext) {
          extractToDef(entry);
          continue;
        }
      }
      const id = this.metadataRegistry.get(entry[0])?.id;
      if (id) {
        extractToDef(entry);
        continue;
      }
      if (seen.cycle) {
        extractToDef(entry);
        continue;
      }
      if (seen.count > 1) {
        if (params.reused === "ref") {
          extractToDef(entry);
          continue;
        }
      }
    }
    const flattenRef = (zodSchema2, params2) => {
      const seen = this.seen.get(zodSchema2);
      const schema2 = seen.def ?? seen.schema;
      const _cached = { ...schema2 };
      if (seen.ref === null) {
        return;
      }
      const ref = seen.ref;
      seen.ref = null;
      if (ref) {
        flattenRef(ref, params2);
        const refSchema = this.seen.get(ref).schema;
        if (refSchema.$ref && (params2.target === "draft-7" || params2.target === "draft-4" || params2.target === "openapi-3.0")) {
          schema2.allOf = schema2.allOf ?? [];
          schema2.allOf.push(refSchema);
        } else {
          Object.assign(schema2, refSchema);
          Object.assign(schema2, _cached);
        }
      }
      if (!seen.isParent)
        this.override({
          zodSchema: zodSchema2,
          jsonSchema: schema2,
          path: seen.path ?? []
        });
    };
    for (const entry of [...this.seen.entries()].reverse()) {
      flattenRef(entry[0], { target: this.target });
    }
    const result = {};
    if (this.target === "draft-2020-12") {
      result.$schema = "https://json-schema.org/draft/2020-12/schema";
    } else if (this.target === "draft-7") {
      result.$schema = "http://json-schema.org/draft-07/schema#";
    } else if (this.target === "draft-4") {
      result.$schema = "http://json-schema.org/draft-04/schema#";
    } else if (this.target === "openapi-3.0") {
    } else {
      console.warn(`Invalid target: ${this.target}`);
    }
    if (params.external?.uri) {
      const id = params.external.registry.get(schema)?.id;
      if (!id)
        throw new Error("Schema is missing an `id` property");
      result.$id = params.external.uri(id);
    }
    Object.assign(result, root.def);
    const defs = params.external?.defs ?? {};
    for (const entry of this.seen.entries()) {
      const seen = entry[1];
      if (seen.def && seen.defId) {
        defs[seen.defId] = seen.def;
      }
    }
    if (params.external) {
    } else {
      if (Object.keys(defs).length > 0) {
        if (this.target === "draft-2020-12") {
          result.$defs = defs;
        } else {
          result.definitions = defs;
        }
      }
    }
    try {
      return JSON.parse(JSON.stringify(result));
    } catch (_err) {
      throw new Error("Error converting schema to JSON.");
    }
  }
};
function toJSONSchema(input, _params) {
  if (input instanceof $ZodRegistry) {
    const gen2 = new JSONSchemaGenerator(_params);
    const defs = {};
    for (const entry of input._idmap.entries()) {
      const [_2, schema] = entry;
      gen2.process(schema);
    }
    const schemas = {};
    const external = {
      registry: input,
      uri: _params?.uri,
      defs
    };
    for (const entry of input._idmap.entries()) {
      const [key, schema] = entry;
      schemas[key] = gen2.emit(schema, {
        ..._params,
        external
      });
    }
    if (Object.keys(defs).length > 0) {
      const defsSegment = gen2.target === "draft-2020-12" ? "$defs" : "definitions";
      schemas.__shared = {
        [defsSegment]: defs
      };
    }
    return { schemas };
  }
  const gen = new JSONSchemaGenerator(_params);
  gen.process(input);
  return gen.emit(input, _params);
}
function isTransforming(_schema, _ctx) {
  const ctx = _ctx ?? { seen: /* @__PURE__ */ new Set() };
  if (ctx.seen.has(_schema))
    return false;
  ctx.seen.add(_schema);
  const schema = _schema;
  const def = schema._zod.def;
  switch (def.type) {
    case "string":
    case "number":
    case "bigint":
    case "boolean":
    case "date":
    case "symbol":
    case "undefined":
    case "null":
    case "any":
    case "unknown":
    case "never":
    case "void":
    case "literal":
    case "enum":
    case "nan":
    case "file":
    case "template_literal":
      return false;
    case "array": {
      return isTransforming(def.element, ctx);
    }
    case "object": {
      for (const key in def.shape) {
        if (isTransforming(def.shape[key], ctx))
          return true;
      }
      return false;
    }
    case "union": {
      for (const option of def.options) {
        if (isTransforming(option, ctx))
          return true;
      }
      return false;
    }
    case "intersection": {
      return isTransforming(def.left, ctx) || isTransforming(def.right, ctx);
    }
    case "tuple": {
      for (const item of def.items) {
        if (isTransforming(item, ctx))
          return true;
      }
      if (def.rest && isTransforming(def.rest, ctx))
        return true;
      return false;
    }
    case "record": {
      return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);
    }
    case "map": {
      return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);
    }
    case "set": {
      return isTransforming(def.valueType, ctx);
    }
    // inner types
    case "promise":
    case "optional":
    case "nonoptional":
    case "nullable":
    case "readonly":
      return isTransforming(def.innerType, ctx);
    case "lazy":
      return isTransforming(def.getter(), ctx);
    case "default": {
      return isTransforming(def.innerType, ctx);
    }
    case "prefault": {
      return isTransforming(def.innerType, ctx);
    }
    case "custom": {
      return false;
    }
    case "transform": {
      return true;
    }
    case "pipe": {
      return isTransforming(def.in, ctx) || isTransforming(def.out, ctx);
    }
    case "success": {
      return false;
    }
    case "catch": {
      return false;
    }
    case "function": {
      return false;
    }
    default:
      def;
  }
  throw new Error(`Unknown schema type: ${def.type}`);
}

// node_modules/zod/v4/core/json-schema.js
var json_schema_exports = {};

// node_modules/zod/v4/classic/iso.js
var iso_exports = {};
__export(iso_exports, {
  ZodISODate: () => ZodISODate,
  ZodISODateTime: () => ZodISODateTime,
  ZodISODuration: () => ZodISODuration,
  ZodISOTime: () => ZodISOTime,
  date: () => date2,
  datetime: () => datetime2,
  duration: () => duration2,
  time: () => time2
});
var ZodISODateTime = /* @__PURE__ */ $constructor("ZodISODateTime", (inst, def) => {
  $ZodISODateTime.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function datetime2(params) {
  return _isoDateTime(ZodISODateTime, params);
}
var ZodISODate = /* @__PURE__ */ $constructor("ZodISODate", (inst, def) => {
  $ZodISODate.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function date2(params) {
  return _isoDate(ZodISODate, params);
}
var ZodISOTime = /* @__PURE__ */ $constructor("ZodISOTime", (inst, def) => {
  $ZodISOTime.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function time2(params) {
  return _isoTime(ZodISOTime, params);
}
var ZodISODuration = /* @__PURE__ */ $constructor("ZodISODuration", (inst, def) => {
  $ZodISODuration.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function duration2(params) {
  return _isoDuration(ZodISODuration, params);
}

// node_modules/zod/v4/classic/errors.js
var initializer2 = (inst, issues) => {
  $ZodError.init(inst, issues);
  inst.name = "ZodError";
  Object.defineProperties(inst, {
    format: {
      value: (mapper) => formatError(inst, mapper)
      // enumerable: false,
    },
    flatten: {
      value: (mapper) => flattenError(inst, mapper)
      // enumerable: false,
    },
    addIssue: {
      value: (issue2) => {
        inst.issues.push(issue2);
        inst.message = JSON.stringify(inst.issues, jsonStringifyReplacer, 2);
      }
      // enumerable: false,
    },
    addIssues: {
      value: (issues2) => {
        inst.issues.push(...issues2);
        inst.message = JSON.stringify(inst.issues, jsonStringifyReplacer, 2);
      }
      // enumerable: false,
    },
    isEmpty: {
      get() {
        return inst.issues.length === 0;
      }
      // enumerable: false,
    }
  });
};
var ZodError = $constructor("ZodError", initializer2);
var ZodRealError = $constructor("ZodError", initializer2, {
  Parent: Error
});

// node_modules/zod/v4/classic/parse.js
var parse2 = /* @__PURE__ */ _parse(ZodRealError);
var parseAsync2 = /* @__PURE__ */ _parseAsync(ZodRealError);
var safeParse2 = /* @__PURE__ */ _safeParse(ZodRealError);
var safeParseAsync2 = /* @__PURE__ */ _safeParseAsync(ZodRealError);
var encode2 = /* @__PURE__ */ _encode(ZodRealError);
var decode2 = /* @__PURE__ */ _decode(ZodRealError);
var encodeAsync2 = /* @__PURE__ */ _encodeAsync(ZodRealError);
var decodeAsync2 = /* @__PURE__ */ _decodeAsync(ZodRealError);
var safeEncode2 = /* @__PURE__ */ _safeEncode(ZodRealError);
var safeDecode2 = /* @__PURE__ */ _safeDecode(ZodRealError);
var safeEncodeAsync2 = /* @__PURE__ */ _safeEncodeAsync(ZodRealError);
var safeDecodeAsync2 = /* @__PURE__ */ _safeDecodeAsync(ZodRealError);

// node_modules/zod/v4/classic/schemas.js
var ZodType = /* @__PURE__ */ $constructor("ZodType", (inst, def) => {
  $ZodType.init(inst, def);
  inst.def = def;
  inst.type = def.type;
  Object.defineProperty(inst, "_def", { value: def });
  inst.check = (...checks) => {
    return inst.clone(
      {
        ...def,
        checks: [
          ...def.checks ?? [],
          ...checks.map((ch) => typeof ch === "function" ? { _zod: { check: ch, def: { check: "custom" }, onattach: [] } } : ch)
        ]
      }
      // { parent: true }
    );
  };
  inst.clone = (def2, params) => clone(inst, def2, params);
  inst.brand = () => inst;
  inst.register = ((reg, meta) => {
    reg.add(inst, meta);
    return inst;
  });
  inst.parse = (data, params) => parse2(inst, data, params, { callee: inst.parse });
  inst.safeParse = (data, params) => safeParse2(inst, data, params);
  inst.parseAsync = async (data, params) => parseAsync2(inst, data, params, { callee: inst.parseAsync });
  inst.safeParseAsync = async (data, params) => safeParseAsync2(inst, data, params);
  inst.spa = inst.safeParseAsync;
  inst.encode = (data, params) => encode2(inst, data, params);
  inst.decode = (data, params) => decode2(inst, data, params);
  inst.encodeAsync = async (data, params) => encodeAsync2(inst, data, params);
  inst.decodeAsync = async (data, params) => decodeAsync2(inst, data, params);
  inst.safeEncode = (data, params) => safeEncode2(inst, data, params);
  inst.safeDecode = (data, params) => safeDecode2(inst, data, params);
  inst.safeEncodeAsync = async (data, params) => safeEncodeAsync2(inst, data, params);
  inst.safeDecodeAsync = async (data, params) => safeDecodeAsync2(inst, data, params);
  inst.refine = (check2, params) => inst.check(refine(check2, params));
  inst.superRefine = (refinement) => inst.check(superRefine(refinement));
  inst.overwrite = (fn) => inst.check(_overwrite(fn));
  inst.optional = () => optional(inst);
  inst.nullable = () => nullable(inst);
  inst.nullish = () => optional(nullable(inst));
  inst.nonoptional = (params) => nonoptional(inst, params);
  inst.array = () => array(inst);
  inst.or = (arg) => union([inst, arg]);
  inst.and = (arg) => intersection(inst, arg);
  inst.transform = (tx) => pipe(inst, transform(tx));
  inst.default = (def2) => _default2(inst, def2);
  inst.prefault = (def2) => prefault(inst, def2);
  inst.catch = (params) => _catch2(inst, params);
  inst.pipe = (target) => pipe(inst, target);
  inst.readonly = () => readonly(inst);
  inst.describe = (description) => {
    const cl = inst.clone();
    globalRegistry.add(cl, { description });
    return cl;
  };
  Object.defineProperty(inst, "description", {
    get() {
      return globalRegistry.get(inst)?.description;
    },
    configurable: true
  });
  inst.meta = (...args) => {
    if (args.length === 0) {
      return globalRegistry.get(inst);
    }
    const cl = inst.clone();
    globalRegistry.add(cl, args[0]);
    return cl;
  };
  inst.isOptional = () => inst.safeParse(void 0).success;
  inst.isNullable = () => inst.safeParse(null).success;
  return inst;
});
var _ZodString = /* @__PURE__ */ $constructor("_ZodString", (inst, def) => {
  $ZodString.init(inst, def);
  ZodType.init(inst, def);
  const bag = inst._zod.bag;
  inst.format = bag.format ?? null;
  inst.minLength = bag.minimum ?? null;
  inst.maxLength = bag.maximum ?? null;
  inst.regex = (...args) => inst.check(_regex(...args));
  inst.includes = (...args) => inst.check(_includes(...args));
  inst.startsWith = (...args) => inst.check(_startsWith(...args));
  inst.endsWith = (...args) => inst.check(_endsWith(...args));
  inst.min = (...args) => inst.check(_minLength(...args));
  inst.max = (...args) => inst.check(_maxLength(...args));
  inst.length = (...args) => inst.check(_length(...args));
  inst.nonempty = (...args) => inst.check(_minLength(1, ...args));
  inst.lowercase = (params) => inst.check(_lowercase(params));
  inst.uppercase = (params) => inst.check(_uppercase(params));
  inst.trim = () => inst.check(_trim());
  inst.normalize = (...args) => inst.check(_normalize(...args));
  inst.toLowerCase = () => inst.check(_toLowerCase());
  inst.toUpperCase = () => inst.check(_toUpperCase());
});
var ZodString = /* @__PURE__ */ $constructor("ZodString", (inst, def) => {
  $ZodString.init(inst, def);
  _ZodString.init(inst, def);
  inst.email = (params) => inst.check(_email(ZodEmail, params));
  inst.url = (params) => inst.check(_url(ZodURL, params));
  inst.jwt = (params) => inst.check(_jwt(ZodJWT, params));
  inst.emoji = (params) => inst.check(_emoji2(ZodEmoji, params));
  inst.guid = (params) => inst.check(_guid(ZodGUID, params));
  inst.uuid = (params) => inst.check(_uuid(ZodUUID, params));
  inst.uuidv4 = (params) => inst.check(_uuidv4(ZodUUID, params));
  inst.uuidv6 = (params) => inst.check(_uuidv6(ZodUUID, params));
  inst.uuidv7 = (params) => inst.check(_uuidv7(ZodUUID, params));
  inst.nanoid = (params) => inst.check(_nanoid(ZodNanoID, params));
  inst.guid = (params) => inst.check(_guid(ZodGUID, params));
  inst.cuid = (params) => inst.check(_cuid(ZodCUID, params));
  inst.cuid2 = (params) => inst.check(_cuid2(ZodCUID2, params));
  inst.ulid = (params) => inst.check(_ulid(ZodULID, params));
  inst.base64 = (params) => inst.check(_base64(ZodBase64, params));
  inst.base64url = (params) => inst.check(_base64url(ZodBase64URL, params));
  inst.xid = (params) => inst.check(_xid(ZodXID, params));
  inst.ksuid = (params) => inst.check(_ksuid(ZodKSUID, params));
  inst.ipv4 = (params) => inst.check(_ipv4(ZodIPv4, params));
  inst.ipv6 = (params) => inst.check(_ipv6(ZodIPv6, params));
  inst.cidrv4 = (params) => inst.check(_cidrv4(ZodCIDRv4, params));
  inst.cidrv6 = (params) => inst.check(_cidrv6(ZodCIDRv6, params));
  inst.e164 = (params) => inst.check(_e164(ZodE164, params));
  inst.datetime = (params) => inst.check(datetime2(params));
  inst.date = (params) => inst.check(date2(params));
  inst.time = (params) => inst.check(time2(params));
  inst.duration = (params) => inst.check(duration2(params));
});
function string2(params) {
  return _string(ZodString, params);
}
var ZodStringFormat = /* @__PURE__ */ $constructor("ZodStringFormat", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  _ZodString.init(inst, def);
});
var ZodEmail = /* @__PURE__ */ $constructor("ZodEmail", (inst, def) => {
  $ZodEmail.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function email2(params) {
  return _email(ZodEmail, params);
}
var ZodGUID = /* @__PURE__ */ $constructor("ZodGUID", (inst, def) => {
  $ZodGUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function guid2(params) {
  return _guid(ZodGUID, params);
}
var ZodUUID = /* @__PURE__ */ $constructor("ZodUUID", (inst, def) => {
  $ZodUUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function uuid2(params) {
  return _uuid(ZodUUID, params);
}
function uuidv4(params) {
  return _uuidv4(ZodUUID, params);
}
function uuidv6(params) {
  return _uuidv6(ZodUUID, params);
}
function uuidv7(params) {
  return _uuidv7(ZodUUID, params);
}
var ZodURL = /* @__PURE__ */ $constructor("ZodURL", (inst, def) => {
  $ZodURL.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function url(params) {
  return _url(ZodURL, params);
}
function httpUrl(params) {
  return _url(ZodURL, {
    protocol: /^https?$/,
    hostname: regexes_exports.domain,
    ...util_exports.normalizeParams(params)
  });
}
var ZodEmoji = /* @__PURE__ */ $constructor("ZodEmoji", (inst, def) => {
  $ZodEmoji.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function emoji2(params) {
  return _emoji2(ZodEmoji, params);
}
var ZodNanoID = /* @__PURE__ */ $constructor("ZodNanoID", (inst, def) => {
  $ZodNanoID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function nanoid2(params) {
  return _nanoid(ZodNanoID, params);
}
var ZodCUID = /* @__PURE__ */ $constructor("ZodCUID", (inst, def) => {
  $ZodCUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cuid3(params) {
  return _cuid(ZodCUID, params);
}
var ZodCUID2 = /* @__PURE__ */ $constructor("ZodCUID2", (inst, def) => {
  $ZodCUID2.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cuid22(params) {
  return _cuid2(ZodCUID2, params);
}
var ZodULID = /* @__PURE__ */ $constructor("ZodULID", (inst, def) => {
  $ZodULID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ulid2(params) {
  return _ulid(ZodULID, params);
}
var ZodXID = /* @__PURE__ */ $constructor("ZodXID", (inst, def) => {
  $ZodXID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function xid2(params) {
  return _xid(ZodXID, params);
}
var ZodKSUID = /* @__PURE__ */ $constructor("ZodKSUID", (inst, def) => {
  $ZodKSUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ksuid2(params) {
  return _ksuid(ZodKSUID, params);
}
var ZodIPv4 = /* @__PURE__ */ $constructor("ZodIPv4", (inst, def) => {
  $ZodIPv4.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ipv42(params) {
  return _ipv4(ZodIPv4, params);
}
var ZodIPv6 = /* @__PURE__ */ $constructor("ZodIPv6", (inst, def) => {
  $ZodIPv6.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ipv62(params) {
  return _ipv6(ZodIPv6, params);
}
var ZodCIDRv4 = /* @__PURE__ */ $constructor("ZodCIDRv4", (inst, def) => {
  $ZodCIDRv4.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cidrv42(params) {
  return _cidrv4(ZodCIDRv4, params);
}
var ZodCIDRv6 = /* @__PURE__ */ $constructor("ZodCIDRv6", (inst, def) => {
  $ZodCIDRv6.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cidrv62(params) {
  return _cidrv6(ZodCIDRv6, params);
}
var ZodBase64 = /* @__PURE__ */ $constructor("ZodBase64", (inst, def) => {
  $ZodBase64.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function base642(params) {
  return _base64(ZodBase64, params);
}
var ZodBase64URL = /* @__PURE__ */ $constructor("ZodBase64URL", (inst, def) => {
  $ZodBase64URL.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function base64url2(params) {
  return _base64url(ZodBase64URL, params);
}
var ZodE164 = /* @__PURE__ */ $constructor("ZodE164", (inst, def) => {
  $ZodE164.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function e1642(params) {
  return _e164(ZodE164, params);
}
var ZodJWT = /* @__PURE__ */ $constructor("ZodJWT", (inst, def) => {
  $ZodJWT.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function jwt(params) {
  return _jwt(ZodJWT, params);
}
var ZodCustomStringFormat = /* @__PURE__ */ $constructor("ZodCustomStringFormat", (inst, def) => {
  $ZodCustomStringFormat.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function stringFormat(format, fnOrRegex, _params = {}) {
  return _stringFormat(ZodCustomStringFormat, format, fnOrRegex, _params);
}
function hostname2(_params) {
  return _stringFormat(ZodCustomStringFormat, "hostname", regexes_exports.hostname, _params);
}
function hex2(_params) {
  return _stringFormat(ZodCustomStringFormat, "hex", regexes_exports.hex, _params);
}
function hash(alg, params) {
  const enc = params?.enc ?? "hex";
  const format = `${alg}_${enc}`;
  const regex = regexes_exports[format];
  if (!regex)
    throw new Error(`Unrecognized hash format: ${format}`);
  return _stringFormat(ZodCustomStringFormat, format, regex, params);
}
var ZodNumber = /* @__PURE__ */ $constructor("ZodNumber", (inst, def) => {
  $ZodNumber.init(inst, def);
  ZodType.init(inst, def);
  inst.gt = (value, params) => inst.check(_gt(value, params));
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.lt = (value, params) => inst.check(_lt(value, params));
  inst.lte = (value, params) => inst.check(_lte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  inst.int = (params) => inst.check(int(params));
  inst.safe = (params) => inst.check(int(params));
  inst.positive = (params) => inst.check(_gt(0, params));
  inst.nonnegative = (params) => inst.check(_gte(0, params));
  inst.negative = (params) => inst.check(_lt(0, params));
  inst.nonpositive = (params) => inst.check(_lte(0, params));
  inst.multipleOf = (value, params) => inst.check(_multipleOf(value, params));
  inst.step = (value, params) => inst.check(_multipleOf(value, params));
  inst.finite = () => inst;
  const bag = inst._zod.bag;
  inst.minValue = Math.max(bag.minimum ?? Number.NEGATIVE_INFINITY, bag.exclusiveMinimum ?? Number.NEGATIVE_INFINITY) ?? null;
  inst.maxValue = Math.min(bag.maximum ?? Number.POSITIVE_INFINITY, bag.exclusiveMaximum ?? Number.POSITIVE_INFINITY) ?? null;
  inst.isInt = (bag.format ?? "").includes("int") || Number.isSafeInteger(bag.multipleOf ?? 0.5);
  inst.isFinite = true;
  inst.format = bag.format ?? null;
});
function number2(params) {
  return _number(ZodNumber, params);
}
var ZodNumberFormat = /* @__PURE__ */ $constructor("ZodNumberFormat", (inst, def) => {
  $ZodNumberFormat.init(inst, def);
  ZodNumber.init(inst, def);
});
function int(params) {
  return _int(ZodNumberFormat, params);
}
function float32(params) {
  return _float32(ZodNumberFormat, params);
}
function float64(params) {
  return _float64(ZodNumberFormat, params);
}
function int32(params) {
  return _int32(ZodNumberFormat, params);
}
function uint32(params) {
  return _uint32(ZodNumberFormat, params);
}
var ZodBoolean = /* @__PURE__ */ $constructor("ZodBoolean", (inst, def) => {
  $ZodBoolean.init(inst, def);
  ZodType.init(inst, def);
});
function boolean2(params) {
  return _boolean(ZodBoolean, params);
}
var ZodBigInt = /* @__PURE__ */ $constructor("ZodBigInt", (inst, def) => {
  $ZodBigInt.init(inst, def);
  ZodType.init(inst, def);
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.gt = (value, params) => inst.check(_gt(value, params));
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.lt = (value, params) => inst.check(_lt(value, params));
  inst.lte = (value, params) => inst.check(_lte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  inst.positive = (params) => inst.check(_gt(BigInt(0), params));
  inst.negative = (params) => inst.check(_lt(BigInt(0), params));
  inst.nonpositive = (params) => inst.check(_lte(BigInt(0), params));
  inst.nonnegative = (params) => inst.check(_gte(BigInt(0), params));
  inst.multipleOf = (value, params) => inst.check(_multipleOf(value, params));
  const bag = inst._zod.bag;
  inst.minValue = bag.minimum ?? null;
  inst.maxValue = bag.maximum ?? null;
  inst.format = bag.format ?? null;
});
function bigint2(params) {
  return _bigint(ZodBigInt, params);
}
var ZodBigIntFormat = /* @__PURE__ */ $constructor("ZodBigIntFormat", (inst, def) => {
  $ZodBigIntFormat.init(inst, def);
  ZodBigInt.init(inst, def);
});
function int64(params) {
  return _int64(ZodBigIntFormat, params);
}
function uint64(params) {
  return _uint64(ZodBigIntFormat, params);
}
var ZodSymbol = /* @__PURE__ */ $constructor("ZodSymbol", (inst, def) => {
  $ZodSymbol.init(inst, def);
  ZodType.init(inst, def);
});
function symbol15(params) {
  return _symbol(ZodSymbol, params);
}
var ZodUndefined = /* @__PURE__ */ $constructor("ZodUndefined", (inst, def) => {
  $ZodUndefined.init(inst, def);
  ZodType.init(inst, def);
});
function _undefined3(params) {
  return _undefined2(ZodUndefined, params);
}
var ZodNull = /* @__PURE__ */ $constructor("ZodNull", (inst, def) => {
  $ZodNull.init(inst, def);
  ZodType.init(inst, def);
});
function _null3(params) {
  return _null2(ZodNull, params);
}
var ZodAny = /* @__PURE__ */ $constructor("ZodAny", (inst, def) => {
  $ZodAny.init(inst, def);
  ZodType.init(inst, def);
});
function any() {
  return _any(ZodAny);
}
var ZodUnknown = /* @__PURE__ */ $constructor("ZodUnknown", (inst, def) => {
  $ZodUnknown.init(inst, def);
  ZodType.init(inst, def);
});
function unknown() {
  return _unknown(ZodUnknown);
}
var ZodNever = /* @__PURE__ */ $constructor("ZodNever", (inst, def) => {
  $ZodNever.init(inst, def);
  ZodType.init(inst, def);
});
function never(params) {
  return _never(ZodNever, params);
}
var ZodVoid = /* @__PURE__ */ $constructor("ZodVoid", (inst, def) => {
  $ZodVoid.init(inst, def);
  ZodType.init(inst, def);
});
function _void2(params) {
  return _void(ZodVoid, params);
}
var ZodDate = /* @__PURE__ */ $constructor("ZodDate", (inst, def) => {
  $ZodDate.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  const c2 = inst._zod.bag;
  inst.minDate = c2.minimum ? new Date(c2.minimum) : null;
  inst.maxDate = c2.maximum ? new Date(c2.maximum) : null;
});
function date3(params) {
  return _date(ZodDate, params);
}
var ZodArray = /* @__PURE__ */ $constructor("ZodArray", (inst, def) => {
  $ZodArray.init(inst, def);
  ZodType.init(inst, def);
  inst.element = def.element;
  inst.min = (minLength, params) => inst.check(_minLength(minLength, params));
  inst.nonempty = (params) => inst.check(_minLength(1, params));
  inst.max = (maxLength, params) => inst.check(_maxLength(maxLength, params));
  inst.length = (len, params) => inst.check(_length(len, params));
  inst.unwrap = () => inst.element;
});
function array(element, params) {
  return _array(ZodArray, element, params);
}
function keyof(schema) {
  const shape = schema._zod.def.shape;
  return _enum2(Object.keys(shape));
}
var ZodObject = /* @__PURE__ */ $constructor("ZodObject", (inst, def) => {
  $ZodObjectJIT.init(inst, def);
  ZodType.init(inst, def);
  util_exports.defineLazy(inst, "shape", () => def.shape);
  inst.keyof = () => _enum2(Object.keys(inst._zod.def.shape));
  inst.catchall = (catchall) => inst.clone({ ...inst._zod.def, catchall });
  inst.passthrough = () => inst.clone({ ...inst._zod.def, catchall: unknown() });
  inst.loose = () => inst.clone({ ...inst._zod.def, catchall: unknown() });
  inst.strict = () => inst.clone({ ...inst._zod.def, catchall: never() });
  inst.strip = () => inst.clone({ ...inst._zod.def, catchall: void 0 });
  inst.extend = (incoming) => {
    return util_exports.extend(inst, incoming);
  };
  inst.safeExtend = (incoming) => {
    return util_exports.safeExtend(inst, incoming);
  };
  inst.merge = (other) => util_exports.merge(inst, other);
  inst.pick = (mask) => util_exports.pick(inst, mask);
  inst.omit = (mask) => util_exports.omit(inst, mask);
  inst.partial = (...args) => util_exports.partial(ZodOptional, inst, args[0]);
  inst.required = (...args) => util_exports.required(ZodNonOptional, inst, args[0]);
});
function object(shape, params) {
  const def = {
    type: "object",
    get shape() {
      util_exports.assignProp(this, "shape", shape ? util_exports.objectClone(shape) : {});
      return this.shape;
    },
    ...util_exports.normalizeParams(params)
  };
  return new ZodObject(def);
}
function strictObject(shape, params) {
  return new ZodObject({
    type: "object",
    get shape() {
      util_exports.assignProp(this, "shape", util_exports.objectClone(shape));
      return this.shape;
    },
    catchall: never(),
    ...util_exports.normalizeParams(params)
  });
}
function looseObject(shape, params) {
  return new ZodObject({
    type: "object",
    get shape() {
      util_exports.assignProp(this, "shape", util_exports.objectClone(shape));
      return this.shape;
    },
    catchall: unknown(),
    ...util_exports.normalizeParams(params)
  });
}
var ZodUnion = /* @__PURE__ */ $constructor("ZodUnion", (inst, def) => {
  $ZodUnion.init(inst, def);
  ZodType.init(inst, def);
  inst.options = def.options;
});
function union(options, params) {
  return new ZodUnion({
    type: "union",
    options,
    ...util_exports.normalizeParams(params)
  });
}
var ZodDiscriminatedUnion = /* @__PURE__ */ $constructor("ZodDiscriminatedUnion", (inst, def) => {
  ZodUnion.init(inst, def);
  $ZodDiscriminatedUnion.init(inst, def);
});
function discriminatedUnion(discriminator, options, params) {
  return new ZodDiscriminatedUnion({
    type: "union",
    options,
    discriminator,
    ...util_exports.normalizeParams(params)
  });
}
var ZodIntersection = /* @__PURE__ */ $constructor("ZodIntersection", (inst, def) => {
  $ZodIntersection.init(inst, def);
  ZodType.init(inst, def);
});
function intersection(left, right) {
  return new ZodIntersection({
    type: "intersection",
    left,
    right
  });
}
var ZodTuple = /* @__PURE__ */ $constructor("ZodTuple", (inst, def) => {
  $ZodTuple.init(inst, def);
  ZodType.init(inst, def);
  inst.rest = (rest) => inst.clone({
    ...inst._zod.def,
    rest
  });
});
function tuple(items, _paramsOrRest, _params) {
  const hasRest = _paramsOrRest instanceof $ZodType;
  const params = hasRest ? _params : _paramsOrRest;
  const rest = hasRest ? _paramsOrRest : null;
  return new ZodTuple({
    type: "tuple",
    items,
    rest,
    ...util_exports.normalizeParams(params)
  });
}
var ZodRecord = /* @__PURE__ */ $constructor("ZodRecord", (inst, def) => {
  $ZodRecord.init(inst, def);
  ZodType.init(inst, def);
  inst.keyType = def.keyType;
  inst.valueType = def.valueType;
});
function record(keyType, valueType, params) {
  return new ZodRecord({
    type: "record",
    keyType,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
function partialRecord(keyType, valueType, params) {
  const k = clone(keyType);
  k._zod.values = void 0;
  return new ZodRecord({
    type: "record",
    keyType: k,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodMap = /* @__PURE__ */ $constructor("ZodMap", (inst, def) => {
  $ZodMap.init(inst, def);
  ZodType.init(inst, def);
  inst.keyType = def.keyType;
  inst.valueType = def.valueType;
});
function map(keyType, valueType, params) {
  return new ZodMap({
    type: "map",
    keyType,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodSet = /* @__PURE__ */ $constructor("ZodSet", (inst, def) => {
  $ZodSet.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (...args) => inst.check(_minSize(...args));
  inst.nonempty = (params) => inst.check(_minSize(1, params));
  inst.max = (...args) => inst.check(_maxSize(...args));
  inst.size = (...args) => inst.check(_size(...args));
});
function set(valueType, params) {
  return new ZodSet({
    type: "set",
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodEnum = /* @__PURE__ */ $constructor("ZodEnum", (inst, def) => {
  $ZodEnum.init(inst, def);
  ZodType.init(inst, def);
  inst.enum = def.entries;
  inst.options = Object.values(def.entries);
  const keys = new Set(Object.keys(def.entries));
  inst.extract = (values, params) => {
    const newEntries = {};
    for (const value of values) {
      if (keys.has(value)) {
        newEntries[value] = def.entries[value];
      } else
        throw new Error(`Key ${value} not found in enum`);
    }
    return new ZodEnum({
      ...def,
      checks: [],
      ...util_exports.normalizeParams(params),
      entries: newEntries
    });
  };
  inst.exclude = (values, params) => {
    const newEntries = { ...def.entries };
    for (const value of values) {
      if (keys.has(value)) {
        delete newEntries[value];
      } else
        throw new Error(`Key ${value} not found in enum`);
    }
    return new ZodEnum({
      ...def,
      checks: [],
      ...util_exports.normalizeParams(params),
      entries: newEntries
    });
  };
});
function _enum2(values, params) {
  const entries = Array.isArray(values) ? Object.fromEntries(values.map((v2) => [v2, v2])) : values;
  return new ZodEnum({
    type: "enum",
    entries,
    ...util_exports.normalizeParams(params)
  });
}
function nativeEnum(entries, params) {
  return new ZodEnum({
    type: "enum",
    entries,
    ...util_exports.normalizeParams(params)
  });
}
var ZodLiteral = /* @__PURE__ */ $constructor("ZodLiteral", (inst, def) => {
  $ZodLiteral.init(inst, def);
  ZodType.init(inst, def);
  inst.values = new Set(def.values);
  Object.defineProperty(inst, "value", {
    get() {
      if (def.values.length > 1) {
        throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");
      }
      return def.values[0];
    }
  });
});
function literal(value, params) {
  return new ZodLiteral({
    type: "literal",
    values: Array.isArray(value) ? value : [value],
    ...util_exports.normalizeParams(params)
  });
}
var ZodFile = /* @__PURE__ */ $constructor("ZodFile", (inst, def) => {
  $ZodFile.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (size, params) => inst.check(_minSize(size, params));
  inst.max = (size, params) => inst.check(_maxSize(size, params));
  inst.mime = (types2, params) => inst.check(_mime(Array.isArray(types2) ? types2 : [types2], params));
});
function file(params) {
  return _file(ZodFile, params);
}
var ZodTransform = /* @__PURE__ */ $constructor("ZodTransform", (inst, def) => {
  $ZodTransform.init(inst, def);
  ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (_ctx.direction === "backward") {
      throw new $ZodEncodeError(inst.constructor.name);
    }
    payload.addIssue = (issue2) => {
      if (typeof issue2 === "string") {
        payload.issues.push(util_exports.issue(issue2, payload.value, def));
      } else {
        const _issue = issue2;
        if (_issue.fatal)
          _issue.continue = false;
        _issue.code ?? (_issue.code = "custom");
        _issue.input ?? (_issue.input = payload.value);
        _issue.inst ?? (_issue.inst = inst);
        payload.issues.push(util_exports.issue(_issue));
      }
    };
    const output = def.transform(payload.value, payload);
    if (output instanceof Promise) {
      return output.then((output2) => {
        payload.value = output2;
        return payload;
      });
    }
    payload.value = output;
    return payload;
  };
});
function transform(fn) {
  return new ZodTransform({
    type: "transform",
    transform: fn
  });
}
var ZodOptional = /* @__PURE__ */ $constructor("ZodOptional", (inst, def) => {
  $ZodOptional.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function optional(innerType) {
  return new ZodOptional({
    type: "optional",
    innerType
  });
}
var ZodNullable = /* @__PURE__ */ $constructor("ZodNullable", (inst, def) => {
  $ZodNullable.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function nullable(innerType) {
  return new ZodNullable({
    type: "nullable",
    innerType
  });
}
function nullish2(innerType) {
  return optional(nullable(innerType));
}
var ZodDefault = /* @__PURE__ */ $constructor("ZodDefault", (inst, def) => {
  $ZodDefault.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
  inst.removeDefault = inst.unwrap;
});
function _default2(innerType, defaultValue) {
  return new ZodDefault({
    type: "default",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : util_exports.shallowClone(defaultValue);
    }
  });
}
var ZodPrefault = /* @__PURE__ */ $constructor("ZodPrefault", (inst, def) => {
  $ZodPrefault.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function prefault(innerType, defaultValue) {
  return new ZodPrefault({
    type: "prefault",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : util_exports.shallowClone(defaultValue);
    }
  });
}
var ZodNonOptional = /* @__PURE__ */ $constructor("ZodNonOptional", (inst, def) => {
  $ZodNonOptional.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function nonoptional(innerType, params) {
  return new ZodNonOptional({
    type: "nonoptional",
    innerType,
    ...util_exports.normalizeParams(params)
  });
}
var ZodSuccess = /* @__PURE__ */ $constructor("ZodSuccess", (inst, def) => {
  $ZodSuccess.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function success(innerType) {
  return new ZodSuccess({
    type: "success",
    innerType
  });
}
var ZodCatch = /* @__PURE__ */ $constructor("ZodCatch", (inst, def) => {
  $ZodCatch.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
  inst.removeCatch = inst.unwrap;
});
function _catch2(innerType, catchValue) {
  return new ZodCatch({
    type: "catch",
    innerType,
    catchValue: typeof catchValue === "function" ? catchValue : () => catchValue
  });
}
var ZodNaN = /* @__PURE__ */ $constructor("ZodNaN", (inst, def) => {
  $ZodNaN.init(inst, def);
  ZodType.init(inst, def);
});
function nan(params) {
  return _nan(ZodNaN, params);
}
var ZodPipe = /* @__PURE__ */ $constructor("ZodPipe", (inst, def) => {
  $ZodPipe.init(inst, def);
  ZodType.init(inst, def);
  inst.in = def.in;
  inst.out = def.out;
});
function pipe(in_, out) {
  return new ZodPipe({
    type: "pipe",
    in: in_,
    out
    // ...util.normalizeParams(params),
  });
}
var ZodCodec = /* @__PURE__ */ $constructor("ZodCodec", (inst, def) => {
  ZodPipe.init(inst, def);
  $ZodCodec.init(inst, def);
});
function codec(in_, out, params) {
  return new ZodCodec({
    type: "pipe",
    in: in_,
    out,
    transform: params.decode,
    reverseTransform: params.encode
  });
}
var ZodReadonly = /* @__PURE__ */ $constructor("ZodReadonly", (inst, def) => {
  $ZodReadonly.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function readonly(innerType) {
  return new ZodReadonly({
    type: "readonly",
    innerType
  });
}
var ZodTemplateLiteral = /* @__PURE__ */ $constructor("ZodTemplateLiteral", (inst, def) => {
  $ZodTemplateLiteral.init(inst, def);
  ZodType.init(inst, def);
});
function templateLiteral(parts, params) {
  return new ZodTemplateLiteral({
    type: "template_literal",
    parts,
    ...util_exports.normalizeParams(params)
  });
}
var ZodLazy = /* @__PURE__ */ $constructor("ZodLazy", (inst, def) => {
  $ZodLazy.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.getter();
});
function lazy(getter) {
  return new ZodLazy({
    type: "lazy",
    getter
  });
}
var ZodPromise = /* @__PURE__ */ $constructor("ZodPromise", (inst, def) => {
  $ZodPromise.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function promise(innerType) {
  return new ZodPromise({
    type: "promise",
    innerType
  });
}
var ZodFunction = /* @__PURE__ */ $constructor("ZodFunction", (inst, def) => {
  $ZodFunction.init(inst, def);
  ZodType.init(inst, def);
});
function _function(params) {
  return new ZodFunction({
    type: "function",
    input: Array.isArray(params?.input) ? tuple(params?.input) : params?.input ?? array(unknown()),
    output: params?.output ?? unknown()
  });
}
var ZodCustom = /* @__PURE__ */ $constructor("ZodCustom", (inst, def) => {
  $ZodCustom.init(inst, def);
  ZodType.init(inst, def);
});
function check(fn) {
  const ch = new $ZodCheck({
    check: "custom"
    // ...util.normalizeParams(params),
  });
  ch._zod.check = fn;
  return ch;
}
function custom(fn, _params) {
  return _custom(ZodCustom, fn ?? (() => true), _params);
}
function refine(fn, _params = {}) {
  return _refine(ZodCustom, fn, _params);
}
function superRefine(fn) {
  return _superRefine(fn);
}
function _instanceof(cls, params = {
  error: `Input not instance of ${cls.name}`
}) {
  const inst = new ZodCustom({
    type: "custom",
    check: "custom",
    fn: (data) => data instanceof cls,
    abort: true,
    ...util_exports.normalizeParams(params)
  });
  inst._zod.bag.Class = cls;
  return inst;
}
var stringbool = (...args) => _stringbool({
  Codec: ZodCodec,
  Boolean: ZodBoolean,
  String: ZodString
}, ...args);
function json(params) {
  const jsonSchema2 = lazy(() => {
    return union([string2(params), number2(), boolean2(), _null3(), array(jsonSchema2), record(string2(), jsonSchema2)]);
  });
  return jsonSchema2;
}
function preprocess(fn, schema) {
  return pipe(transform(fn), schema);
}

// node_modules/zod/v4/classic/compat.js
var ZodIssueCode = {
  invalid_type: "invalid_type",
  too_big: "too_big",
  too_small: "too_small",
  invalid_format: "invalid_format",
  not_multiple_of: "not_multiple_of",
  unrecognized_keys: "unrecognized_keys",
  invalid_union: "invalid_union",
  invalid_key: "invalid_key",
  invalid_element: "invalid_element",
  invalid_value: "invalid_value",
  custom: "custom"
};
function setErrorMap(map2) {
  config({
    customError: map2
  });
}
function getErrorMap() {
  return config().customError;
}
var ZodFirstPartyTypeKind;
/* @__PURE__ */ (function(ZodFirstPartyTypeKind3) {
})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));

// node_modules/zod/v4/classic/coerce.js
var coerce_exports = {};
__export(coerce_exports, {
  bigint: () => bigint3,
  boolean: () => boolean3,
  date: () => date4,
  number: () => number3,
  string: () => string3
});
function string3(params) {
  return _coercedString(ZodString, params);
}
function number3(params) {
  return _coercedNumber(ZodNumber, params);
}
function boolean3(params) {
  return _coercedBoolean(ZodBoolean, params);
}
function bigint3(params) {
  return _coercedBigint(ZodBigInt, params);
}
function date4(params) {
  return _coercedDate(ZodDate, params);
}

// node_modules/zod/v4/classic/external.js
config(en_default());

// node_modules/zod/v3/helpers/util.js
var util;
(function(util2) {
  util2.assertEqual = (_2) => {
  };
  function assertIs2(_arg) {
  }
  util2.assertIs = assertIs2;
  function assertNever2(_x) {
    throw new Error();
  }
  util2.assertNever = assertNever2;
  util2.arrayToEnum = (items) => {
    const obj = {};
    for (const item of items) {
      obj[item] = item;
    }
    return obj;
  };
  util2.getValidEnumValues = (obj) => {
    const validKeys = util2.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== "number");
    const filtered = {};
    for (const k of validKeys) {
      filtered[k] = obj[k];
    }
    return util2.objectValues(filtered);
  };
  util2.objectValues = (obj) => {
    return util2.objectKeys(obj).map(function(e) {
      return obj[e];
    });
  };
  util2.objectKeys = typeof Object.keys === "function" ? (obj) => Object.keys(obj) : (object3) => {
    const keys = [];
    for (const key in object3) {
      if (Object.prototype.hasOwnProperty.call(object3, key)) {
        keys.push(key);
      }
    }
    return keys;
  };
  util2.find = (arr, checker) => {
    for (const item of arr) {
      if (checker(item))
        return item;
    }
    return void 0;
  };
  util2.isInteger = typeof Number.isInteger === "function" ? (val) => Number.isInteger(val) : (val) => typeof val === "number" && Number.isFinite(val) && Math.floor(val) === val;
  function joinValues2(array2, separator = " | ") {
    return array2.map((val) => typeof val === "string" ? `'${val}'` : val).join(separator);
  }
  util2.joinValues = joinValues2;
  util2.jsonStringifyReplacer = (_2, value) => {
    if (typeof value === "bigint") {
      return value.toString();
    }
    return value;
  };
})(util || (util = {}));
var objectUtil;
(function(objectUtil2) {
  objectUtil2.mergeShapes = (first, second) => {
    return {
      ...first,
      ...second
      // second overwrites first
    };
  };
})(objectUtil || (objectUtil = {}));
var ZodParsedType = util.arrayToEnum([
  "string",
  "nan",
  "number",
  "integer",
  "float",
  "boolean",
  "date",
  "bigint",
  "symbol",
  "function",
  "undefined",
  "null",
  "array",
  "object",
  "unknown",
  "promise",
  "void",
  "never",
  "map",
  "set"
]);
var getParsedType2 = (data) => {
  const t2 = typeof data;
  switch (t2) {
    case "undefined":
      return ZodParsedType.undefined;
    case "string":
      return ZodParsedType.string;
    case "number":
      return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;
    case "boolean":
      return ZodParsedType.boolean;
    case "function":
      return ZodParsedType.function;
    case "bigint":
      return ZodParsedType.bigint;
    case "symbol":
      return ZodParsedType.symbol;
    case "object":
      if (Array.isArray(data)) {
        return ZodParsedType.array;
      }
      if (data === null) {
        return ZodParsedType.null;
      }
      if (data.then && typeof data.then === "function" && data.catch && typeof data.catch === "function") {
        return ZodParsedType.promise;
      }
      if (typeof Map !== "undefined" && data instanceof Map) {
        return ZodParsedType.map;
      }
      if (typeof Set !== "undefined" && data instanceof Set) {
        return ZodParsedType.set;
      }
      if (typeof Date !== "undefined" && data instanceof Date) {
        return ZodParsedType.date;
      }
      return ZodParsedType.object;
    default:
      return ZodParsedType.unknown;
  }
};

// node_modules/zod/v3/ZodError.js
var ZodIssueCode2 = util.arrayToEnum([
  "invalid_type",
  "invalid_literal",
  "custom",
  "invalid_union",
  "invalid_union_discriminator",
  "invalid_enum_value",
  "unrecognized_keys",
  "invalid_arguments",
  "invalid_return_type",
  "invalid_date",
  "invalid_string",
  "too_small",
  "too_big",
  "invalid_intersection_types",
  "not_multiple_of",
  "not_finite"
]);
var ZodError2 = class _ZodError extends Error {
  get errors() {
    return this.issues;
  }
  constructor(issues) {
    super();
    this.issues = [];
    this.addIssue = (sub) => {
      this.issues = [...this.issues, sub];
    };
    this.addIssues = (subs = []) => {
      this.issues = [...this.issues, ...subs];
    };
    const actualProto = new.target.prototype;
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(this, actualProto);
    } else {
      this.__proto__ = actualProto;
    }
    this.name = "ZodError";
    this.issues = issues;
  }
  format(_mapper) {
    const mapper = _mapper || function(issue2) {
      return issue2.message;
    };
    const fieldErrors = { _errors: [] };
    const processError = (error45) => {
      for (const issue2 of error45.issues) {
        if (issue2.code === "invalid_union") {
          issue2.unionErrors.map(processError);
        } else if (issue2.code === "invalid_return_type") {
          processError(issue2.returnTypeError);
        } else if (issue2.code === "invalid_arguments") {
          processError(issue2.argumentsError);
        } else if (issue2.path.length === 0) {
          fieldErrors._errors.push(mapper(issue2));
        } else {
          let curr = fieldErrors;
          let i2 = 0;
          while (i2 < issue2.path.length) {
            const el = issue2.path[i2];
            const terminal = i2 === issue2.path.length - 1;
            if (!terminal) {
              curr[el] = curr[el] || { _errors: [] };
            } else {
              curr[el] = curr[el] || { _errors: [] };
              curr[el]._errors.push(mapper(issue2));
            }
            curr = curr[el];
            i2++;
          }
        }
      }
    };
    processError(this);
    return fieldErrors;
  }
  static assert(value) {
    if (!(value instanceof _ZodError)) {
      throw new Error(`Not a ZodError: ${value}`);
    }
  }
  toString() {
    return this.message;
  }
  get message() {
    return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);
  }
  get isEmpty() {
    return this.issues.length === 0;
  }
  flatten(mapper = (issue2) => issue2.message) {
    const fieldErrors = {};
    const formErrors = [];
    for (const sub of this.issues) {
      if (sub.path.length > 0) {
        const firstEl = sub.path[0];
        fieldErrors[firstEl] = fieldErrors[firstEl] || [];
        fieldErrors[firstEl].push(mapper(sub));
      } else {
        formErrors.push(mapper(sub));
      }
    }
    return { formErrors, fieldErrors };
  }
  get formErrors() {
    return this.flatten();
  }
};
ZodError2.create = (issues) => {
  const error45 = new ZodError2(issues);
  return error45;
};

// node_modules/zod/v3/locales/en.js
var errorMap = (issue2, _ctx) => {
  let message;
  switch (issue2.code) {
    case ZodIssueCode2.invalid_type:
      if (issue2.received === ZodParsedType.undefined) {
        message = "Required";
      } else {
        message = `Expected ${issue2.expected}, received ${issue2.received}`;
      }
      break;
    case ZodIssueCode2.invalid_literal:
      message = `Invalid literal value, expected ${JSON.stringify(issue2.expected, util.jsonStringifyReplacer)}`;
      break;
    case ZodIssueCode2.unrecognized_keys:
      message = `Unrecognized key(s) in object: ${util.joinValues(issue2.keys, ", ")}`;
      break;
    case ZodIssueCode2.invalid_union:
      message = `Invalid input`;
      break;
    case ZodIssueCode2.invalid_union_discriminator:
      message = `Invalid discriminator value. Expected ${util.joinValues(issue2.options)}`;
      break;
    case ZodIssueCode2.invalid_enum_value:
      message = `Invalid enum value. Expected ${util.joinValues(issue2.options)}, received '${issue2.received}'`;
      break;
    case ZodIssueCode2.invalid_arguments:
      message = `Invalid function arguments`;
      break;
    case ZodIssueCode2.invalid_return_type:
      message = `Invalid function return type`;
      break;
    case ZodIssueCode2.invalid_date:
      message = `Invalid date`;
      break;
    case ZodIssueCode2.invalid_string:
      if (typeof issue2.validation === "object") {
        if ("includes" in issue2.validation) {
          message = `Invalid input: must include "${issue2.validation.includes}"`;
          if (typeof issue2.validation.position === "number") {
            message = `${message} at one or more positions greater than or equal to ${issue2.validation.position}`;
          }
        } else if ("startsWith" in issue2.validation) {
          message = `Invalid input: must start with "${issue2.validation.startsWith}"`;
        } else if ("endsWith" in issue2.validation) {
          message = `Invalid input: must end with "${issue2.validation.endsWith}"`;
        } else {
          util.assertNever(issue2.validation);
        }
      } else if (issue2.validation !== "regex") {
        message = `Invalid ${issue2.validation}`;
      } else {
        message = "Invalid";
      }
      break;
    case ZodIssueCode2.too_small:
      if (issue2.type === "array")
        message = `Array must contain ${issue2.exact ? "exactly" : issue2.inclusive ? `at least` : `more than`} ${issue2.minimum} element(s)`;
      else if (issue2.type === "string")
        message = `String must contain ${issue2.exact ? "exactly" : issue2.inclusive ? `at least` : `over`} ${issue2.minimum} character(s)`;
      else if (issue2.type === "number")
        message = `Number must be ${issue2.exact ? `exactly equal to ` : issue2.inclusive ? `greater than or equal to ` : `greater than `}${issue2.minimum}`;
      else if (issue2.type === "bigint")
        message = `Number must be ${issue2.exact ? `exactly equal to ` : issue2.inclusive ? `greater than or equal to ` : `greater than `}${issue2.minimum}`;
      else if (issue2.type === "date")
        message = `Date must be ${issue2.exact ? `exactly equal to ` : issue2.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue2.minimum))}`;
      else
        message = "Invalid input";
      break;
    case ZodIssueCode2.too_big:
      if (issue2.type === "array")
        message = `Array must contain ${issue2.exact ? `exactly` : issue2.inclusive ? `at most` : `less than`} ${issue2.maximum} element(s)`;
      else if (issue2.type === "string")
        message = `String must contain ${issue2.exact ? `exactly` : issue2.inclusive ? `at most` : `under`} ${issue2.maximum} character(s)`;
      else if (issue2.type === "number")
        message = `Number must be ${issue2.exact ? `exactly` : issue2.inclusive ? `less than or equal to` : `less than`} ${issue2.maximum}`;
      else if (issue2.type === "bigint")
        message = `BigInt must be ${issue2.exact ? `exactly` : issue2.inclusive ? `less than or equal to` : `less than`} ${issue2.maximum}`;
      else if (issue2.type === "date")
        message = `Date must be ${issue2.exact ? `exactly` : issue2.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue2.maximum))}`;
      else
        message = "Invalid input";
      break;
    case ZodIssueCode2.custom:
      message = `Invalid input`;
      break;
    case ZodIssueCode2.invalid_intersection_types:
      message = `Intersection results could not be merged`;
      break;
    case ZodIssueCode2.not_multiple_of:
      message = `Number must be a multiple of ${issue2.multipleOf}`;
      break;
    case ZodIssueCode2.not_finite:
      message = "Number must be finite";
      break;
    default:
      message = _ctx.defaultError;
      util.assertNever(issue2);
  }
  return { message };
};
var en_default2 = errorMap;

// node_modules/zod/v3/errors.js
var overrideErrorMap = en_default2;
function getErrorMap2() {
  return overrideErrorMap;
}

// node_modules/zod/v3/helpers/parseUtil.js
var makeIssue = (params) => {
  const { data, path, errorMaps, issueData } = params;
  const fullPath = [...path, ...issueData.path || []];
  const fullIssue = {
    ...issueData,
    path: fullPath
  };
  if (issueData.message !== void 0) {
    return {
      ...issueData,
      path: fullPath,
      message: issueData.message
    };
  }
  let errorMessage = "";
  const maps = errorMaps.filter((m2) => !!m2).slice().reverse();
  for (const map2 of maps) {
    errorMessage = map2(fullIssue, { data, defaultError: errorMessage }).message;
  }
  return {
    ...issueData,
    path: fullPath,
    message: errorMessage
  };
};
function addIssueToContext(ctx, issueData) {
  const overrideMap = getErrorMap2();
  const issue2 = makeIssue({
    issueData,
    data: ctx.data,
    path: ctx.path,
    errorMaps: [
      ctx.common.contextualErrorMap,
      // contextual error map is first priority
      ctx.schemaErrorMap,
      // then schema-bound map if available
      overrideMap,
      // then global override map
      overrideMap === en_default2 ? void 0 : en_default2
      // then global default map
    ].filter((x2) => !!x2)
  });
  ctx.common.issues.push(issue2);
}
var ParseStatus = class _ParseStatus {
  constructor() {
    this.value = "valid";
  }
  dirty() {
    if (this.value === "valid")
      this.value = "dirty";
  }
  abort() {
    if (this.value !== "aborted")
      this.value = "aborted";
  }
  static mergeArray(status, results) {
    const arrayValue = [];
    for (const s2 of results) {
      if (s2.status === "aborted")
        return INVALID;
      if (s2.status === "dirty")
        status.dirty();
      arrayValue.push(s2.value);
    }
    return { status: status.value, value: arrayValue };
  }
  static async mergeObjectAsync(status, pairs) {
    const syncPairs = [];
    for (const pair of pairs) {
      const key = await pair.key;
      const value = await pair.value;
      syncPairs.push({
        key,
        value
      });
    }
    return _ParseStatus.mergeObjectSync(status, syncPairs);
  }
  static mergeObjectSync(status, pairs) {
    const finalObject = {};
    for (const pair of pairs) {
      const { key, value } = pair;
      if (key.status === "aborted")
        return INVALID;
      if (value.status === "aborted")
        return INVALID;
      if (key.status === "dirty")
        status.dirty();
      if (value.status === "dirty")
        status.dirty();
      if (key.value !== "__proto__" && (typeof value.value !== "undefined" || pair.alwaysSet)) {
        finalObject[key.value] = value.value;
      }
    }
    return { status: status.value, value: finalObject };
  }
};
var INVALID = Object.freeze({
  status: "aborted"
});
var DIRTY = (value) => ({ status: "dirty", value });
var OK = (value) => ({ status: "valid", value });
var isAborted = (x2) => x2.status === "aborted";
var isDirty = (x2) => x2.status === "dirty";
var isValid = (x2) => x2.status === "valid";
var isAsync = (x2) => typeof Promise !== "undefined" && x2 instanceof Promise;

// node_modules/zod/v3/helpers/errorUtil.js
var errorUtil;
(function(errorUtil2) {
  errorUtil2.errToObj = (message) => typeof message === "string" ? { message } : message || {};
  errorUtil2.toString = (message) => typeof message === "string" ? message : message?.message;
})(errorUtil || (errorUtil = {}));

// node_modules/zod/v3/types.js
var ParseInputLazyPath = class {
  constructor(parent, value, path, key) {
    this._cachedPath = [];
    this.parent = parent;
    this.data = value;
    this._path = path;
    this._key = key;
  }
  get path() {
    if (!this._cachedPath.length) {
      if (Array.isArray(this._key)) {
        this._cachedPath.push(...this._path, ...this._key);
      } else {
        this._cachedPath.push(...this._path, this._key);
      }
    }
    return this._cachedPath;
  }
};
var handleResult = (ctx, result) => {
  if (isValid(result)) {
    return { success: true, data: result.value };
  } else {
    if (!ctx.common.issues.length) {
      throw new Error("Validation failed but no issues detected.");
    }
    return {
      success: false,
      get error() {
        if (this._error)
          return this._error;
        const error45 = new ZodError2(ctx.common.issues);
        this._error = error45;
        return this._error;
      }
    };
  }
};
function processCreateParams(params) {
  if (!params)
    return {};
  const { errorMap: errorMap2, invalid_type_error, required_error, description } = params;
  if (errorMap2 && (invalid_type_error || required_error)) {
    throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
  }
  if (errorMap2)
    return { errorMap: errorMap2, description };
  const customMap = (iss, ctx) => {
    const { message } = params;
    if (iss.code === "invalid_enum_value") {
      return { message: message ?? ctx.defaultError };
    }
    if (typeof ctx.data === "undefined") {
      return { message: message ?? required_error ?? ctx.defaultError };
    }
    if (iss.code !== "invalid_type")
      return { message: ctx.defaultError };
    return { message: message ?? invalid_type_error ?? ctx.defaultError };
  };
  return { errorMap: customMap, description };
}
var ZodType2 = class {
  get description() {
    return this._def.description;
  }
  _getType(input) {
    return getParsedType2(input.data);
  }
  _getOrReturnCtx(input, ctx) {
    return ctx || {
      common: input.parent.common,
      data: input.data,
      parsedType: getParsedType2(input.data),
      schemaErrorMap: this._def.errorMap,
      path: input.path,
      parent: input.parent
    };
  }
  _processInputParams(input) {
    return {
      status: new ParseStatus(),
      ctx: {
        common: input.parent.common,
        data: input.data,
        parsedType: getParsedType2(input.data),
        schemaErrorMap: this._def.errorMap,
        path: input.path,
        parent: input.parent
      }
    };
  }
  _parseSync(input) {
    const result = this._parse(input);
    if (isAsync(result)) {
      throw new Error("Synchronous parse encountered promise.");
    }
    return result;
  }
  _parseAsync(input) {
    const result = this._parse(input);
    return Promise.resolve(result);
  }
  parse(data, params) {
    const result = this.safeParse(data, params);
    if (result.success)
      return result.data;
    throw result.error;
  }
  safeParse(data, params) {
    const ctx = {
      common: {
        issues: [],
        async: params?.async ?? false,
        contextualErrorMap: params?.errorMap
      },
      path: params?.path || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    const result = this._parseSync({ data, path: ctx.path, parent: ctx });
    return handleResult(ctx, result);
  }
  "~validate"(data) {
    const ctx = {
      common: {
        issues: [],
        async: !!this["~standard"].async
      },
      path: [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    if (!this["~standard"].async) {
      try {
        const result = this._parseSync({ data, path: [], parent: ctx });
        return isValid(result) ? {
          value: result.value
        } : {
          issues: ctx.common.issues
        };
      } catch (err) {
        if (err?.message?.toLowerCase()?.includes("encountered")) {
          this["~standard"].async = true;
        }
        ctx.common = {
          issues: [],
          async: true
        };
      }
    }
    return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result) ? {
      value: result.value
    } : {
      issues: ctx.common.issues
    });
  }
  async parseAsync(data, params) {
    const result = await this.safeParseAsync(data, params);
    if (result.success)
      return result.data;
    throw result.error;
  }
  async safeParseAsync(data, params) {
    const ctx = {
      common: {
        issues: [],
        contextualErrorMap: params?.errorMap,
        async: true
      },
      path: params?.path || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });
    const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));
    return handleResult(ctx, result);
  }
  refine(check2, message) {
    const getIssueProperties = (val) => {
      if (typeof message === "string" || typeof message === "undefined") {
        return { message };
      } else if (typeof message === "function") {
        return message(val);
      } else {
        return message;
      }
    };
    return this._refinement((val, ctx) => {
      const result = check2(val);
      const setError = () => ctx.addIssue({
        code: ZodIssueCode2.custom,
        ...getIssueProperties(val)
      });
      if (typeof Promise !== "undefined" && result instanceof Promise) {
        return result.then((data) => {
          if (!data) {
            setError();
            return false;
          } else {
            return true;
          }
        });
      }
      if (!result) {
        setError();
        return false;
      } else {
        return true;
      }
    });
  }
  refinement(check2, refinementData) {
    return this._refinement((val, ctx) => {
      if (!check2(val)) {
        ctx.addIssue(typeof refinementData === "function" ? refinementData(val, ctx) : refinementData);
        return false;
      } else {
        return true;
      }
    });
  }
  _refinement(refinement) {
    return new ZodEffects({
      schema: this,
      typeName: ZodFirstPartyTypeKind2.ZodEffects,
      effect: { type: "refinement", refinement }
    });
  }
  superRefine(refinement) {
    return this._refinement(refinement);
  }
  constructor(def) {
    this.spa = this.safeParseAsync;
    this._def = def;
    this.parse = this.parse.bind(this);
    this.safeParse = this.safeParse.bind(this);
    this.parseAsync = this.parseAsync.bind(this);
    this.safeParseAsync = this.safeParseAsync.bind(this);
    this.spa = this.spa.bind(this);
    this.refine = this.refine.bind(this);
    this.refinement = this.refinement.bind(this);
    this.superRefine = this.superRefine.bind(this);
    this.optional = this.optional.bind(this);
    this.nullable = this.nullable.bind(this);
    this.nullish = this.nullish.bind(this);
    this.array = this.array.bind(this);
    this.promise = this.promise.bind(this);
    this.or = this.or.bind(this);
    this.and = this.and.bind(this);
    this.transform = this.transform.bind(this);
    this.brand = this.brand.bind(this);
    this.default = this.default.bind(this);
    this.catch = this.catch.bind(this);
    this.describe = this.describe.bind(this);
    this.pipe = this.pipe.bind(this);
    this.readonly = this.readonly.bind(this);
    this.isNullable = this.isNullable.bind(this);
    this.isOptional = this.isOptional.bind(this);
    this["~standard"] = {
      version: 1,
      vendor: "zod",
      validate: (data) => this["~validate"](data)
    };
  }
  optional() {
    return ZodOptional2.create(this, this._def);
  }
  nullable() {
    return ZodNullable2.create(this, this._def);
  }
  nullish() {
    return this.nullable().optional();
  }
  array() {
    return ZodArray2.create(this);
  }
  promise() {
    return ZodPromise2.create(this, this._def);
  }
  or(option) {
    return ZodUnion2.create([this, option], this._def);
  }
  and(incoming) {
    return ZodIntersection2.create(this, incoming, this._def);
  }
  transform(transform2) {
    return new ZodEffects({
      ...processCreateParams(this._def),
      schema: this,
      typeName: ZodFirstPartyTypeKind2.ZodEffects,
      effect: { type: "transform", transform: transform2 }
    });
  }
  default(def) {
    const defaultValueFunc = typeof def === "function" ? def : () => def;
    return new ZodDefault2({
      ...processCreateParams(this._def),
      innerType: this,
      defaultValue: defaultValueFunc,
      typeName: ZodFirstPartyTypeKind2.ZodDefault
    });
  }
  brand() {
    return new ZodBranded({
      typeName: ZodFirstPartyTypeKind2.ZodBranded,
      type: this,
      ...processCreateParams(this._def)
    });
  }
  catch(def) {
    const catchValueFunc = typeof def === "function" ? def : () => def;
    return new ZodCatch2({
      ...processCreateParams(this._def),
      innerType: this,
      catchValue: catchValueFunc,
      typeName: ZodFirstPartyTypeKind2.ZodCatch
    });
  }
  describe(description) {
    const This = this.constructor;
    return new This({
      ...this._def,
      description
    });
  }
  pipe(target) {
    return ZodPipeline.create(this, target);
  }
  readonly() {
    return ZodReadonly2.create(this);
  }
  isOptional() {
    return this.safeParse(void 0).success;
  }
  isNullable() {
    return this.safeParse(null).success;
  }
};
var cuidRegex = /^c[^\s-]{8,}$/i;
var cuid2Regex = /^[0-9a-z]+$/;
var ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;
var uuidRegex = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i;
var nanoidRegex = /^[a-z0-9_-]{21}$/i;
var jwtRegex = /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;
var durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/;
var emailRegex = /^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;
var _emojiRegex = `^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;
var emojiRegex;
var ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
var ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/;
var ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;
var ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
var base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;
var base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;
var dateRegexSource = `((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))`;
var dateRegex = new RegExp(`^${dateRegexSource}$`);
function timeRegexSource(args) {
  let secondsRegexSource = `[0-5]\\d`;
  if (args.precision) {
    secondsRegexSource = `${secondsRegexSource}\\.\\d{${args.precision}}`;
  } else if (args.precision == null) {
    secondsRegexSource = `${secondsRegexSource}(\\.\\d+)?`;
  }
  const secondsQuantifier = args.precision ? "+" : "?";
  return `([01]\\d|2[0-3]):[0-5]\\d(:${secondsRegexSource})${secondsQuantifier}`;
}
function timeRegex(args) {
  return new RegExp(`^${timeRegexSource(args)}$`);
}
function datetimeRegex(args) {
  let regex = `${dateRegexSource}T${timeRegexSource(args)}`;
  const opts = [];
  opts.push(args.local ? `Z?` : `Z`);
  if (args.offset)
    opts.push(`([+-]\\d{2}:?\\d{2})`);
  regex = `${regex}(${opts.join("|")})`;
  return new RegExp(`^${regex}$`);
}
function isValidIP(ip, version2) {
  if ((version2 === "v4" || !version2) && ipv4Regex.test(ip)) {
    return true;
  }
  if ((version2 === "v6" || !version2) && ipv6Regex.test(ip)) {
    return true;
  }
  return false;
}
function isValidJWT2(jwt2, alg) {
  if (!jwtRegex.test(jwt2))
    return false;
  try {
    const [header] = jwt2.split(".");
    if (!header)
      return false;
    const base643 = header.replace(/-/g, "+").replace(/_/g, "/").padEnd(header.length + (4 - header.length % 4) % 4, "=");
    const decoded = JSON.parse(atob(base643));
    if (typeof decoded !== "object" || decoded === null)
      return false;
    if ("typ" in decoded && decoded?.typ !== "JWT")
      return false;
    if (!decoded.alg)
      return false;
    if (alg && decoded.alg !== alg)
      return false;
    return true;
  } catch {
    return false;
  }
}
function isValidCidr(ip, version2) {
  if ((version2 === "v4" || !version2) && ipv4CidrRegex.test(ip)) {
    return true;
  }
  if ((version2 === "v6" || !version2) && ipv6CidrRegex.test(ip)) {
    return true;
  }
  return false;
}
var ZodString2 = class _ZodString2 extends ZodType2 {
  _parse(input) {
    if (this._def.coerce) {
      input.data = String(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.string) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.string,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    const status = new ParseStatus();
    let ctx = void 0;
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        if (input.data.length < check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            minimum: check2.value,
            type: "string",
            inclusive: true,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        if (input.data.length > check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            maximum: check2.value,
            type: "string",
            inclusive: true,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "length") {
        const tooBig = input.data.length > check2.value;
        const tooSmall = input.data.length < check2.value;
        if (tooBig || tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          if (tooBig) {
            addIssueToContext(ctx, {
              code: ZodIssueCode2.too_big,
              maximum: check2.value,
              type: "string",
              inclusive: true,
              exact: true,
              message: check2.message
            });
          } else if (tooSmall) {
            addIssueToContext(ctx, {
              code: ZodIssueCode2.too_small,
              minimum: check2.value,
              type: "string",
              inclusive: true,
              exact: true,
              message: check2.message
            });
          }
          status.dirty();
        }
      } else if (check2.kind === "email") {
        if (!emailRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "email",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "emoji") {
        if (!emojiRegex) {
          emojiRegex = new RegExp(_emojiRegex, "u");
        }
        if (!emojiRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "emoji",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "uuid") {
        if (!uuidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "uuid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "nanoid") {
        if (!nanoidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "nanoid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cuid") {
        if (!cuidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cuid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cuid2") {
        if (!cuid2Regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cuid2",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "ulid") {
        if (!ulidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "ulid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "url") {
        try {
          new URL(input.data);
        } catch {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "url",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "regex") {
        check2.regex.lastIndex = 0;
        const testResult = check2.regex.test(input.data);
        if (!testResult) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "regex",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "trim") {
        input.data = input.data.trim();
      } else if (check2.kind === "includes") {
        if (!input.data.includes(check2.value, check2.position)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: { includes: check2.value, position: check2.position },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "toLowerCase") {
        input.data = input.data.toLowerCase();
      } else if (check2.kind === "toUpperCase") {
        input.data = input.data.toUpperCase();
      } else if (check2.kind === "startsWith") {
        if (!input.data.startsWith(check2.value)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: { startsWith: check2.value },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "endsWith") {
        if (!input.data.endsWith(check2.value)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: { endsWith: check2.value },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "datetime") {
        const regex = datetimeRegex(check2);
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "datetime",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "date") {
        const regex = dateRegex;
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "date",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "time") {
        const regex = timeRegex(check2);
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "time",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "duration") {
        if (!durationRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "duration",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "ip") {
        if (!isValidIP(input.data, check2.version)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "ip",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "jwt") {
        if (!isValidJWT2(input.data, check2.alg)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "jwt",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cidr") {
        if (!isValidCidr(input.data, check2.version)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cidr",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "base64") {
        if (!base64Regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "base64",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "base64url") {
        if (!base64urlRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "base64url",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return { status: status.value, value: input.data };
  }
  _regex(regex, validation, message) {
    return this.refinement((data) => regex.test(data), {
      validation,
      code: ZodIssueCode2.invalid_string,
      ...errorUtil.errToObj(message)
    });
  }
  _addCheck(check2) {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  email(message) {
    return this._addCheck({ kind: "email", ...errorUtil.errToObj(message) });
  }
  url(message) {
    return this._addCheck({ kind: "url", ...errorUtil.errToObj(message) });
  }
  emoji(message) {
    return this._addCheck({ kind: "emoji", ...errorUtil.errToObj(message) });
  }
  uuid(message) {
    return this._addCheck({ kind: "uuid", ...errorUtil.errToObj(message) });
  }
  nanoid(message) {
    return this._addCheck({ kind: "nanoid", ...errorUtil.errToObj(message) });
  }
  cuid(message) {
    return this._addCheck({ kind: "cuid", ...errorUtil.errToObj(message) });
  }
  cuid2(message) {
    return this._addCheck({ kind: "cuid2", ...errorUtil.errToObj(message) });
  }
  ulid(message) {
    return this._addCheck({ kind: "ulid", ...errorUtil.errToObj(message) });
  }
  base64(message) {
    return this._addCheck({ kind: "base64", ...errorUtil.errToObj(message) });
  }
  base64url(message) {
    return this._addCheck({
      kind: "base64url",
      ...errorUtil.errToObj(message)
    });
  }
  jwt(options) {
    return this._addCheck({ kind: "jwt", ...errorUtil.errToObj(options) });
  }
  ip(options) {
    return this._addCheck({ kind: "ip", ...errorUtil.errToObj(options) });
  }
  cidr(options) {
    return this._addCheck({ kind: "cidr", ...errorUtil.errToObj(options) });
  }
  datetime(options) {
    if (typeof options === "string") {
      return this._addCheck({
        kind: "datetime",
        precision: null,
        offset: false,
        local: false,
        message: options
      });
    }
    return this._addCheck({
      kind: "datetime",
      precision: typeof options?.precision === "undefined" ? null : options?.precision,
      offset: options?.offset ?? false,
      local: options?.local ?? false,
      ...errorUtil.errToObj(options?.message)
    });
  }
  date(message) {
    return this._addCheck({ kind: "date", message });
  }
  time(options) {
    if (typeof options === "string") {
      return this._addCheck({
        kind: "time",
        precision: null,
        message: options
      });
    }
    return this._addCheck({
      kind: "time",
      precision: typeof options?.precision === "undefined" ? null : options?.precision,
      ...errorUtil.errToObj(options?.message)
    });
  }
  duration(message) {
    return this._addCheck({ kind: "duration", ...errorUtil.errToObj(message) });
  }
  regex(regex, message) {
    return this._addCheck({
      kind: "regex",
      regex,
      ...errorUtil.errToObj(message)
    });
  }
  includes(value, options) {
    return this._addCheck({
      kind: "includes",
      value,
      position: options?.position,
      ...errorUtil.errToObj(options?.message)
    });
  }
  startsWith(value, message) {
    return this._addCheck({
      kind: "startsWith",
      value,
      ...errorUtil.errToObj(message)
    });
  }
  endsWith(value, message) {
    return this._addCheck({
      kind: "endsWith",
      value,
      ...errorUtil.errToObj(message)
    });
  }
  min(minLength, message) {
    return this._addCheck({
      kind: "min",
      value: minLength,
      ...errorUtil.errToObj(message)
    });
  }
  max(maxLength, message) {
    return this._addCheck({
      kind: "max",
      value: maxLength,
      ...errorUtil.errToObj(message)
    });
  }
  length(len, message) {
    return this._addCheck({
      kind: "length",
      value: len,
      ...errorUtil.errToObj(message)
    });
  }
  /**
   * Equivalent to `.min(1)`
   */
  nonempty(message) {
    return this.min(1, errorUtil.errToObj(message));
  }
  trim() {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, { kind: "trim" }]
    });
  }
  toLowerCase() {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, { kind: "toLowerCase" }]
    });
  }
  toUpperCase() {
    return new _ZodString2({
      ...this._def,
      checks: [...this._def.checks, { kind: "toUpperCase" }]
    });
  }
  get isDatetime() {
    return !!this._def.checks.find((ch) => ch.kind === "datetime");
  }
  get isDate() {
    return !!this._def.checks.find((ch) => ch.kind === "date");
  }
  get isTime() {
    return !!this._def.checks.find((ch) => ch.kind === "time");
  }
  get isDuration() {
    return !!this._def.checks.find((ch) => ch.kind === "duration");
  }
  get isEmail() {
    return !!this._def.checks.find((ch) => ch.kind === "email");
  }
  get isURL() {
    return !!this._def.checks.find((ch) => ch.kind === "url");
  }
  get isEmoji() {
    return !!this._def.checks.find((ch) => ch.kind === "emoji");
  }
  get isUUID() {
    return !!this._def.checks.find((ch) => ch.kind === "uuid");
  }
  get isNANOID() {
    return !!this._def.checks.find((ch) => ch.kind === "nanoid");
  }
  get isCUID() {
    return !!this._def.checks.find((ch) => ch.kind === "cuid");
  }
  get isCUID2() {
    return !!this._def.checks.find((ch) => ch.kind === "cuid2");
  }
  get isULID() {
    return !!this._def.checks.find((ch) => ch.kind === "ulid");
  }
  get isIP() {
    return !!this._def.checks.find((ch) => ch.kind === "ip");
  }
  get isCIDR() {
    return !!this._def.checks.find((ch) => ch.kind === "cidr");
  }
  get isBase64() {
    return !!this._def.checks.find((ch) => ch.kind === "base64");
  }
  get isBase64url() {
    return !!this._def.checks.find((ch) => ch.kind === "base64url");
  }
  get minLength() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxLength() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
};
ZodString2.create = (params) => {
  return new ZodString2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodString,
    coerce: params?.coerce ?? false,
    ...processCreateParams(params)
  });
};
function floatSafeRemainder2(val, step) {
  const valDecCount = (val.toString().split(".")[1] || "").length;
  const stepDecCount = (step.toString().split(".")[1] || "").length;
  const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
  const valInt = Number.parseInt(val.toFixed(decCount).replace(".", ""));
  const stepInt = Number.parseInt(step.toFixed(decCount).replace(".", ""));
  return valInt % stepInt / 10 ** decCount;
}
var ZodNumber2 = class _ZodNumber extends ZodType2 {
  constructor() {
    super(...arguments);
    this.min = this.gte;
    this.max = this.lte;
    this.step = this.multipleOf;
  }
  _parse(input) {
    if (this._def.coerce) {
      input.data = Number(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.number) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.number,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    let ctx = void 0;
    const status = new ParseStatus();
    for (const check2 of this._def.checks) {
      if (check2.kind === "int") {
        if (!util.isInteger(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_type,
            expected: "integer",
            received: "float",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "min") {
        const tooSmall = check2.inclusive ? input.data < check2.value : input.data <= check2.value;
        if (tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            minimum: check2.value,
            type: "number",
            inclusive: check2.inclusive,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        const tooBig = check2.inclusive ? input.data > check2.value : input.data >= check2.value;
        if (tooBig) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            maximum: check2.value,
            type: "number",
            inclusive: check2.inclusive,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "multipleOf") {
        if (floatSafeRemainder2(input.data, check2.value) !== 0) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_multiple_of,
            multipleOf: check2.value,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "finite") {
        if (!Number.isFinite(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_finite,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return { status: status.value, value: input.data };
  }
  gte(value, message) {
    return this.setLimit("min", value, true, errorUtil.toString(message));
  }
  gt(value, message) {
    return this.setLimit("min", value, false, errorUtil.toString(message));
  }
  lte(value, message) {
    return this.setLimit("max", value, true, errorUtil.toString(message));
  }
  lt(value, message) {
    return this.setLimit("max", value, false, errorUtil.toString(message));
  }
  setLimit(kind, value, inclusive, message) {
    return new _ZodNumber({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind,
          value,
          inclusive,
          message: errorUtil.toString(message)
        }
      ]
    });
  }
  _addCheck(check2) {
    return new _ZodNumber({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  int(message) {
    return this._addCheck({
      kind: "int",
      message: errorUtil.toString(message)
    });
  }
  positive(message) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  negative(message) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  nonpositive(message) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  nonnegative(message) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  multipleOf(value, message) {
    return this._addCheck({
      kind: "multipleOf",
      value,
      message: errorUtil.toString(message)
    });
  }
  finite(message) {
    return this._addCheck({
      kind: "finite",
      message: errorUtil.toString(message)
    });
  }
  safe(message) {
    return this._addCheck({
      kind: "min",
      inclusive: true,
      value: Number.MIN_SAFE_INTEGER,
      message: errorUtil.toString(message)
    })._addCheck({
      kind: "max",
      inclusive: true,
      value: Number.MAX_SAFE_INTEGER,
      message: errorUtil.toString(message)
    });
  }
  get minValue() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxValue() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
  get isInt() {
    return !!this._def.checks.find((ch) => ch.kind === "int" || ch.kind === "multipleOf" && util.isInteger(ch.value));
  }
  get isFinite() {
    let max = null;
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "finite" || ch.kind === "int" || ch.kind === "multipleOf") {
        return true;
      } else if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      } else if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return Number.isFinite(min) && Number.isFinite(max);
  }
};
ZodNumber2.create = (params) => {
  return new ZodNumber2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodNumber,
    coerce: params?.coerce || false,
    ...processCreateParams(params)
  });
};
var ZodBigInt2 = class _ZodBigInt extends ZodType2 {
  constructor() {
    super(...arguments);
    this.min = this.gte;
    this.max = this.lte;
  }
  _parse(input) {
    if (this._def.coerce) {
      try {
        input.data = BigInt(input.data);
      } catch {
        return this._getInvalidInput(input);
      }
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.bigint) {
      return this._getInvalidInput(input);
    }
    let ctx = void 0;
    const status = new ParseStatus();
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        const tooSmall = check2.inclusive ? input.data < check2.value : input.data <= check2.value;
        if (tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            type: "bigint",
            minimum: check2.value,
            inclusive: check2.inclusive,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        const tooBig = check2.inclusive ? input.data > check2.value : input.data >= check2.value;
        if (tooBig) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            type: "bigint",
            maximum: check2.value,
            inclusive: check2.inclusive,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "multipleOf") {
        if (input.data % check2.value !== BigInt(0)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_multiple_of,
            multipleOf: check2.value,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return { status: status.value, value: input.data };
  }
  _getInvalidInput(input) {
    const ctx = this._getOrReturnCtx(input);
    addIssueToContext(ctx, {
      code: ZodIssueCode2.invalid_type,
      expected: ZodParsedType.bigint,
      received: ctx.parsedType
    });
    return INVALID;
  }
  gte(value, message) {
    return this.setLimit("min", value, true, errorUtil.toString(message));
  }
  gt(value, message) {
    return this.setLimit("min", value, false, errorUtil.toString(message));
  }
  lte(value, message) {
    return this.setLimit("max", value, true, errorUtil.toString(message));
  }
  lt(value, message) {
    return this.setLimit("max", value, false, errorUtil.toString(message));
  }
  setLimit(kind, value, inclusive, message) {
    return new _ZodBigInt({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind,
          value,
          inclusive,
          message: errorUtil.toString(message)
        }
      ]
    });
  }
  _addCheck(check2) {
    return new _ZodBigInt({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  positive(message) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  negative(message) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  nonpositive(message) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  nonnegative(message) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  multipleOf(value, message) {
    return this._addCheck({
      kind: "multipleOf",
      value,
      message: errorUtil.toString(message)
    });
  }
  get minValue() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxValue() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
};
ZodBigInt2.create = (params) => {
  return new ZodBigInt2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodBigInt,
    coerce: params?.coerce ?? false,
    ...processCreateParams(params)
  });
};
var ZodBoolean2 = class extends ZodType2 {
  _parse(input) {
    if (this._def.coerce) {
      input.data = Boolean(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.boolean) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.boolean,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodBoolean2.create = (params) => {
  return new ZodBoolean2({
    typeName: ZodFirstPartyTypeKind2.ZodBoolean,
    coerce: params?.coerce || false,
    ...processCreateParams(params)
  });
};
var ZodDate2 = class _ZodDate extends ZodType2 {
  _parse(input) {
    if (this._def.coerce) {
      input.data = new Date(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.date) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.date,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    if (Number.isNaN(input.data.getTime())) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_date
      });
      return INVALID;
    }
    const status = new ParseStatus();
    let ctx = void 0;
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        if (input.data.getTime() < check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            message: check2.message,
            inclusive: true,
            exact: false,
            minimum: check2.value,
            type: "date"
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        if (input.data.getTime() > check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            message: check2.message,
            inclusive: true,
            exact: false,
            maximum: check2.value,
            type: "date"
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return {
      status: status.value,
      value: new Date(input.data.getTime())
    };
  }
  _addCheck(check2) {
    return new _ZodDate({
      ...this._def,
      checks: [...this._def.checks, check2]
    });
  }
  min(minDate, message) {
    return this._addCheck({
      kind: "min",
      value: minDate.getTime(),
      message: errorUtil.toString(message)
    });
  }
  max(maxDate, message) {
    return this._addCheck({
      kind: "max",
      value: maxDate.getTime(),
      message: errorUtil.toString(message)
    });
  }
  get minDate() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min != null ? new Date(min) : null;
  }
  get maxDate() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max != null ? new Date(max) : null;
  }
};
ZodDate2.create = (params) => {
  return new ZodDate2({
    checks: [],
    coerce: params?.coerce || false,
    typeName: ZodFirstPartyTypeKind2.ZodDate,
    ...processCreateParams(params)
  });
};
var ZodSymbol2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.symbol) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.symbol,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodSymbol2.create = (params) => {
  return new ZodSymbol2({
    typeName: ZodFirstPartyTypeKind2.ZodSymbol,
    ...processCreateParams(params)
  });
};
var ZodUndefined2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.undefined) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.undefined,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodUndefined2.create = (params) => {
  return new ZodUndefined2({
    typeName: ZodFirstPartyTypeKind2.ZodUndefined,
    ...processCreateParams(params)
  });
};
var ZodNull2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.null) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.null,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodNull2.create = (params) => {
  return new ZodNull2({
    typeName: ZodFirstPartyTypeKind2.ZodNull,
    ...processCreateParams(params)
  });
};
var ZodAny2 = class extends ZodType2 {
  constructor() {
    super(...arguments);
    this._any = true;
  }
  _parse(input) {
    return OK(input.data);
  }
};
ZodAny2.create = (params) => {
  return new ZodAny2({
    typeName: ZodFirstPartyTypeKind2.ZodAny,
    ...processCreateParams(params)
  });
};
var ZodUnknown2 = class extends ZodType2 {
  constructor() {
    super(...arguments);
    this._unknown = true;
  }
  _parse(input) {
    return OK(input.data);
  }
};
ZodUnknown2.create = (params) => {
  return new ZodUnknown2({
    typeName: ZodFirstPartyTypeKind2.ZodUnknown,
    ...processCreateParams(params)
  });
};
var ZodNever2 = class extends ZodType2 {
  _parse(input) {
    const ctx = this._getOrReturnCtx(input);
    addIssueToContext(ctx, {
      code: ZodIssueCode2.invalid_type,
      expected: ZodParsedType.never,
      received: ctx.parsedType
    });
    return INVALID;
  }
};
ZodNever2.create = (params) => {
  return new ZodNever2({
    typeName: ZodFirstPartyTypeKind2.ZodNever,
    ...processCreateParams(params)
  });
};
var ZodVoid2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.undefined) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.void,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodVoid2.create = (params) => {
  return new ZodVoid2({
    typeName: ZodFirstPartyTypeKind2.ZodVoid,
    ...processCreateParams(params)
  });
};
var ZodArray2 = class _ZodArray extends ZodType2 {
  _parse(input) {
    const { ctx, status } = this._processInputParams(input);
    const def = this._def;
    if (ctx.parsedType !== ZodParsedType.array) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.array,
        received: ctx.parsedType
      });
      return INVALID;
    }
    if (def.exactLength !== null) {
      const tooBig = ctx.data.length > def.exactLength.value;
      const tooSmall = ctx.data.length < def.exactLength.value;
      if (tooBig || tooSmall) {
        addIssueToContext(ctx, {
          code: tooBig ? ZodIssueCode2.too_big : ZodIssueCode2.too_small,
          minimum: tooSmall ? def.exactLength.value : void 0,
          maximum: tooBig ? def.exactLength.value : void 0,
          type: "array",
          inclusive: true,
          exact: true,
          message: def.exactLength.message
        });
        status.dirty();
      }
    }
    if (def.minLength !== null) {
      if (ctx.data.length < def.minLength.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_small,
          minimum: def.minLength.value,
          type: "array",
          inclusive: true,
          exact: false,
          message: def.minLength.message
        });
        status.dirty();
      }
    }
    if (def.maxLength !== null) {
      if (ctx.data.length > def.maxLength.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_big,
          maximum: def.maxLength.value,
          type: "array",
          inclusive: true,
          exact: false,
          message: def.maxLength.message
        });
        status.dirty();
      }
    }
    if (ctx.common.async) {
      return Promise.all([...ctx.data].map((item, i2) => {
        return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i2));
      })).then((result2) => {
        return ParseStatus.mergeArray(status, result2);
      });
    }
    const result = [...ctx.data].map((item, i2) => {
      return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i2));
    });
    return ParseStatus.mergeArray(status, result);
  }
  get element() {
    return this._def.type;
  }
  min(minLength, message) {
    return new _ZodArray({
      ...this._def,
      minLength: { value: minLength, message: errorUtil.toString(message) }
    });
  }
  max(maxLength, message) {
    return new _ZodArray({
      ...this._def,
      maxLength: { value: maxLength, message: errorUtil.toString(message) }
    });
  }
  length(len, message) {
    return new _ZodArray({
      ...this._def,
      exactLength: { value: len, message: errorUtil.toString(message) }
    });
  }
  nonempty(message) {
    return this.min(1, message);
  }
};
ZodArray2.create = (schema, params) => {
  return new ZodArray2({
    type: schema,
    minLength: null,
    maxLength: null,
    exactLength: null,
    typeName: ZodFirstPartyTypeKind2.ZodArray,
    ...processCreateParams(params)
  });
};
function deepPartialify(schema) {
  if (schema instanceof ZodObject2) {
    const newShape = {};
    for (const key in schema.shape) {
      const fieldSchema = schema.shape[key];
      newShape[key] = ZodOptional2.create(deepPartialify(fieldSchema));
    }
    return new ZodObject2({
      ...schema._def,
      shape: () => newShape
    });
  } else if (schema instanceof ZodArray2) {
    return new ZodArray2({
      ...schema._def,
      type: deepPartialify(schema.element)
    });
  } else if (schema instanceof ZodOptional2) {
    return ZodOptional2.create(deepPartialify(schema.unwrap()));
  } else if (schema instanceof ZodNullable2) {
    return ZodNullable2.create(deepPartialify(schema.unwrap()));
  } else if (schema instanceof ZodTuple2) {
    return ZodTuple2.create(schema.items.map((item) => deepPartialify(item)));
  } else {
    return schema;
  }
}
var ZodObject2 = class _ZodObject extends ZodType2 {
  constructor() {
    super(...arguments);
    this._cached = null;
    this.nonstrict = this.passthrough;
    this.augment = this.extend;
  }
  _getCached() {
    if (this._cached !== null)
      return this._cached;
    const shape = this._def.shape();
    const keys = util.objectKeys(shape);
    this._cached = { shape, keys };
    return this._cached;
  }
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.object) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    const { status, ctx } = this._processInputParams(input);
    const { shape, keys: shapeKeys } = this._getCached();
    const extraKeys = [];
    if (!(this._def.catchall instanceof ZodNever2 && this._def.unknownKeys === "strip")) {
      for (const key in ctx.data) {
        if (!shapeKeys.includes(key)) {
          extraKeys.push(key);
        }
      }
    }
    const pairs = [];
    for (const key of shapeKeys) {
      const keyValidator = shape[key];
      const value = ctx.data[key];
      pairs.push({
        key: { status: "valid", value: key },
        value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),
        alwaysSet: key in ctx.data
      });
    }
    if (this._def.catchall instanceof ZodNever2) {
      const unknownKeys = this._def.unknownKeys;
      if (unknownKeys === "passthrough") {
        for (const key of extraKeys) {
          pairs.push({
            key: { status: "valid", value: key },
            value: { status: "valid", value: ctx.data[key] }
          });
        }
      } else if (unknownKeys === "strict") {
        if (extraKeys.length > 0) {
          addIssueToContext(ctx, {
            code: ZodIssueCode2.unrecognized_keys,
            keys: extraKeys
          });
          status.dirty();
        }
      } else if (unknownKeys === "strip") {
      } else {
        throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);
      }
    } else {
      const catchall = this._def.catchall;
      for (const key of extraKeys) {
        const value = ctx.data[key];
        pairs.push({
          key: { status: "valid", value: key },
          value: catchall._parse(
            new ParseInputLazyPath(ctx, value, ctx.path, key)
            //, ctx.child(key), value, getParsedType(value)
          ),
          alwaysSet: key in ctx.data
        });
      }
    }
    if (ctx.common.async) {
      return Promise.resolve().then(async () => {
        const syncPairs = [];
        for (const pair of pairs) {
          const key = await pair.key;
          const value = await pair.value;
          syncPairs.push({
            key,
            value,
            alwaysSet: pair.alwaysSet
          });
        }
        return syncPairs;
      }).then((syncPairs) => {
        return ParseStatus.mergeObjectSync(status, syncPairs);
      });
    } else {
      return ParseStatus.mergeObjectSync(status, pairs);
    }
  }
  get shape() {
    return this._def.shape();
  }
  strict(message) {
    errorUtil.errToObj;
    return new _ZodObject({
      ...this._def,
      unknownKeys: "strict",
      ...message !== void 0 ? {
        errorMap: (issue2, ctx) => {
          const defaultError = this._def.errorMap?.(issue2, ctx).message ?? ctx.defaultError;
          if (issue2.code === "unrecognized_keys")
            return {
              message: errorUtil.errToObj(message).message ?? defaultError
            };
          return {
            message: defaultError
          };
        }
      } : {}
    });
  }
  strip() {
    return new _ZodObject({
      ...this._def,
      unknownKeys: "strip"
    });
  }
  passthrough() {
    return new _ZodObject({
      ...this._def,
      unknownKeys: "passthrough"
    });
  }
  // const AugmentFactory =
  //   <Def extends ZodObjectDef>(def: Def) =>
  //   <Augmentation extends ZodRawShape>(
  //     augmentation: Augmentation
  //   ): ZodObject<
  //     extendShape<ReturnType<Def["shape"]>, Augmentation>,
  //     Def["unknownKeys"],
  //     Def["catchall"]
  //   > => {
  //     return new ZodObject({
  //       ...def,
  //       shape: () => ({
  //         ...def.shape(),
  //         ...augmentation,
  //       }),
  //     }) as any;
  //   };
  extend(augmentation) {
    return new _ZodObject({
      ...this._def,
      shape: () => ({
        ...this._def.shape(),
        ...augmentation
      })
    });
  }
  /**
   * Prior to zod@1.0.12 there was a bug in the
   * inferred type of merged objects. Please
   * upgrade if you are experiencing issues.
   */
  merge(merging) {
    const merged = new _ZodObject({
      unknownKeys: merging._def.unknownKeys,
      catchall: merging._def.catchall,
      shape: () => ({
        ...this._def.shape(),
        ...merging._def.shape()
      }),
      typeName: ZodFirstPartyTypeKind2.ZodObject
    });
    return merged;
  }
  // merge<
  //   Incoming extends AnyZodObject,
  //   Augmentation extends Incoming["shape"],
  //   NewOutput extends {
  //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation
  //       ? Augmentation[k]["_output"]
  //       : k extends keyof Output
  //       ? Output[k]
  //       : never;
  //   },
  //   NewInput extends {
  //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation
  //       ? Augmentation[k]["_input"]
  //       : k extends keyof Input
  //       ? Input[k]
  //       : never;
  //   }
  // >(
  //   merging: Incoming
  // ): ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"],
  //   NewOutput,
  //   NewInput
  // > {
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  setKey(key, schema) {
    return this.augment({ [key]: schema });
  }
  // merge<Incoming extends AnyZodObject>(
  //   merging: Incoming
  // ): //ZodObject<T & Incoming["_shape"], UnknownKeys, Catchall> = (merging) => {
  // ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"]
  // > {
  //   // const mergedShape = objectUtil.mergeShapes(
  //   //   this._def.shape(),
  //   //   merging._def.shape()
  //   // );
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  catchall(index) {
    return new _ZodObject({
      ...this._def,
      catchall: index
    });
  }
  pick(mask) {
    const shape = {};
    for (const key of util.objectKeys(mask)) {
      if (mask[key] && this.shape[key]) {
        shape[key] = this.shape[key];
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => shape
    });
  }
  omit(mask) {
    const shape = {};
    for (const key of util.objectKeys(this.shape)) {
      if (!mask[key]) {
        shape[key] = this.shape[key];
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => shape
    });
  }
  /**
   * @deprecated
   */
  deepPartial() {
    return deepPartialify(this);
  }
  partial(mask) {
    const newShape = {};
    for (const key of util.objectKeys(this.shape)) {
      const fieldSchema = this.shape[key];
      if (mask && !mask[key]) {
        newShape[key] = fieldSchema;
      } else {
        newShape[key] = fieldSchema.optional();
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => newShape
    });
  }
  required(mask) {
    const newShape = {};
    for (const key of util.objectKeys(this.shape)) {
      if (mask && !mask[key]) {
        newShape[key] = this.shape[key];
      } else {
        const fieldSchema = this.shape[key];
        let newField = fieldSchema;
        while (newField instanceof ZodOptional2) {
          newField = newField._def.innerType;
        }
        newShape[key] = newField;
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: () => newShape
    });
  }
  keyof() {
    return createZodEnum(util.objectKeys(this.shape));
  }
};
ZodObject2.create = (shape, params) => {
  return new ZodObject2({
    shape: () => shape,
    unknownKeys: "strip",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
ZodObject2.strictCreate = (shape, params) => {
  return new ZodObject2({
    shape: () => shape,
    unknownKeys: "strict",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
ZodObject2.lazycreate = (shape, params) => {
  return new ZodObject2({
    shape,
    unknownKeys: "strip",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
var ZodUnion2 = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const options = this._def.options;
    function handleResults(results) {
      for (const result of results) {
        if (result.result.status === "valid") {
          return result.result;
        }
      }
      for (const result of results) {
        if (result.result.status === "dirty") {
          ctx.common.issues.push(...result.ctx.common.issues);
          return result.result;
        }
      }
      const unionErrors = results.map((result) => new ZodError2(result.ctx.common.issues));
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union,
        unionErrors
      });
      return INVALID;
    }
    if (ctx.common.async) {
      return Promise.all(options.map(async (option) => {
        const childCtx = {
          ...ctx,
          common: {
            ...ctx.common,
            issues: []
          },
          parent: null
        };
        return {
          result: await option._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: childCtx
          }),
          ctx: childCtx
        };
      })).then(handleResults);
    } else {
      let dirty = void 0;
      const issues = [];
      for (const option of options) {
        const childCtx = {
          ...ctx,
          common: {
            ...ctx.common,
            issues: []
          },
          parent: null
        };
        const result = option._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: childCtx
        });
        if (result.status === "valid") {
          return result;
        } else if (result.status === "dirty" && !dirty) {
          dirty = { result, ctx: childCtx };
        }
        if (childCtx.common.issues.length) {
          issues.push(childCtx.common.issues);
        }
      }
      if (dirty) {
        ctx.common.issues.push(...dirty.ctx.common.issues);
        return dirty.result;
      }
      const unionErrors = issues.map((issues2) => new ZodError2(issues2));
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union,
        unionErrors
      });
      return INVALID;
    }
  }
  get options() {
    return this._def.options;
  }
};
ZodUnion2.create = (types2, params) => {
  return new ZodUnion2({
    options: types2,
    typeName: ZodFirstPartyTypeKind2.ZodUnion,
    ...processCreateParams(params)
  });
};
var getDiscriminator = (type) => {
  if (type instanceof ZodLazy2) {
    return getDiscriminator(type.schema);
  } else if (type instanceof ZodEffects) {
    return getDiscriminator(type.innerType());
  } else if (type instanceof ZodLiteral2) {
    return [type.value];
  } else if (type instanceof ZodEnum2) {
    return type.options;
  } else if (type instanceof ZodNativeEnum) {
    return util.objectValues(type.enum);
  } else if (type instanceof ZodDefault2) {
    return getDiscriminator(type._def.innerType);
  } else if (type instanceof ZodUndefined2) {
    return [void 0];
  } else if (type instanceof ZodNull2) {
    return [null];
  } else if (type instanceof ZodOptional2) {
    return [void 0, ...getDiscriminator(type.unwrap())];
  } else if (type instanceof ZodNullable2) {
    return [null, ...getDiscriminator(type.unwrap())];
  } else if (type instanceof ZodBranded) {
    return getDiscriminator(type.unwrap());
  } else if (type instanceof ZodReadonly2) {
    return getDiscriminator(type.unwrap());
  } else if (type instanceof ZodCatch2) {
    return getDiscriminator(type._def.innerType);
  } else {
    return [];
  }
};
var ZodDiscriminatedUnion2 = class _ZodDiscriminatedUnion extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.object) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const discriminator = this.discriminator;
    const discriminatorValue = ctx.data[discriminator];
    const option = this.optionsMap.get(discriminatorValue);
    if (!option) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union_discriminator,
        options: Array.from(this.optionsMap.keys()),
        path: [discriminator]
      });
      return INVALID;
    }
    if (ctx.common.async) {
      return option._parseAsync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
    } else {
      return option._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
    }
  }
  get discriminator() {
    return this._def.discriminator;
  }
  get options() {
    return this._def.options;
  }
  get optionsMap() {
    return this._def.optionsMap;
  }
  /**
   * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.
   * However, it only allows a union of objects, all of which need to share a discriminator property. This property must
   * have a different value for each object in the union.
   * @param discriminator the name of the discriminator property
   * @param types an array of object schemas
   * @param params
   */
  static create(discriminator, options, params) {
    const optionsMap = /* @__PURE__ */ new Map();
    for (const type of options) {
      const discriminatorValues = getDiscriminator(type.shape[discriminator]);
      if (!discriminatorValues.length) {
        throw new Error(`A discriminator value for key \`${discriminator}\` could not be extracted from all schema options`);
      }
      for (const value of discriminatorValues) {
        if (optionsMap.has(value)) {
          throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);
        }
        optionsMap.set(value, type);
      }
    }
    return new _ZodDiscriminatedUnion({
      typeName: ZodFirstPartyTypeKind2.ZodDiscriminatedUnion,
      discriminator,
      options,
      optionsMap,
      ...processCreateParams(params)
    });
  }
};
function mergeValues2(a2, b2) {
  const aType = getParsedType2(a2);
  const bType = getParsedType2(b2);
  if (a2 === b2) {
    return { valid: true, data: a2 };
  } else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {
    const bKeys = util.objectKeys(b2);
    const sharedKeys = util.objectKeys(a2).filter((key) => bKeys.indexOf(key) !== -1);
    const newObj = { ...a2, ...b2 };
    for (const key of sharedKeys) {
      const sharedValue = mergeValues2(a2[key], b2[key]);
      if (!sharedValue.valid) {
        return { valid: false };
      }
      newObj[key] = sharedValue.data;
    }
    return { valid: true, data: newObj };
  } else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {
    if (a2.length !== b2.length) {
      return { valid: false };
    }
    const newArray = [];
    for (let index = 0; index < a2.length; index++) {
      const itemA = a2[index];
      const itemB = b2[index];
      const sharedValue = mergeValues2(itemA, itemB);
      if (!sharedValue.valid) {
        return { valid: false };
      }
      newArray.push(sharedValue.data);
    }
    return { valid: true, data: newArray };
  } else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a2 === +b2) {
    return { valid: true, data: a2 };
  } else {
    return { valid: false };
  }
}
var ZodIntersection2 = class extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    const handleParsed = (parsedLeft, parsedRight) => {
      if (isAborted(parsedLeft) || isAborted(parsedRight)) {
        return INVALID;
      }
      const merged = mergeValues2(parsedLeft.value, parsedRight.value);
      if (!merged.valid) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.invalid_intersection_types
        });
        return INVALID;
      }
      if (isDirty(parsedLeft) || isDirty(parsedRight)) {
        status.dirty();
      }
      return { status: status.value, value: merged.data };
    };
    if (ctx.common.async) {
      return Promise.all([
        this._def.left._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        }),
        this._def.right._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        })
      ]).then(([left, right]) => handleParsed(left, right));
    } else {
      return handleParsed(this._def.left._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      }), this._def.right._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      }));
    }
  }
};
ZodIntersection2.create = (left, right, params) => {
  return new ZodIntersection2({
    left,
    right,
    typeName: ZodFirstPartyTypeKind2.ZodIntersection,
    ...processCreateParams(params)
  });
};
var ZodTuple2 = class _ZodTuple extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.array) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.array,
        received: ctx.parsedType
      });
      return INVALID;
    }
    if (ctx.data.length < this._def.items.length) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.too_small,
        minimum: this._def.items.length,
        inclusive: true,
        exact: false,
        type: "array"
      });
      return INVALID;
    }
    const rest = this._def.rest;
    if (!rest && ctx.data.length > this._def.items.length) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.too_big,
        maximum: this._def.items.length,
        inclusive: true,
        exact: false,
        type: "array"
      });
      status.dirty();
    }
    const items = [...ctx.data].map((item, itemIndex) => {
      const schema = this._def.items[itemIndex] || this._def.rest;
      if (!schema)
        return null;
      return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));
    }).filter((x2) => !!x2);
    if (ctx.common.async) {
      return Promise.all(items).then((results) => {
        return ParseStatus.mergeArray(status, results);
      });
    } else {
      return ParseStatus.mergeArray(status, items);
    }
  }
  get items() {
    return this._def.items;
  }
  rest(rest) {
    return new _ZodTuple({
      ...this._def,
      rest
    });
  }
};
ZodTuple2.create = (schemas, params) => {
  if (!Array.isArray(schemas)) {
    throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
  }
  return new ZodTuple2({
    items: schemas,
    typeName: ZodFirstPartyTypeKind2.ZodTuple,
    rest: null,
    ...processCreateParams(params)
  });
};
var ZodRecord2 = class _ZodRecord extends ZodType2 {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.object) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const pairs = [];
    const keyType = this._def.keyType;
    const valueType = this._def.valueType;
    for (const key in ctx.data) {
      pairs.push({
        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),
        value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),
        alwaysSet: key in ctx.data
      });
    }
    if (ctx.common.async) {
      return ParseStatus.mergeObjectAsync(status, pairs);
    } else {
      return ParseStatus.mergeObjectSync(status, pairs);
    }
  }
  get element() {
    return this._def.valueType;
  }
  static create(first, second, third) {
    if (second instanceof ZodType2) {
      return new _ZodRecord({
        keyType: first,
        valueType: second,
        typeName: ZodFirstPartyTypeKind2.ZodRecord,
        ...processCreateParams(third)
      });
    }
    return new _ZodRecord({
      keyType: ZodString2.create(),
      valueType: first,
      typeName: ZodFirstPartyTypeKind2.ZodRecord,
      ...processCreateParams(second)
    });
  }
};
var ZodMap2 = class extends ZodType2 {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.map) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.map,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const keyType = this._def.keyType;
    const valueType = this._def.valueType;
    const pairs = [...ctx.data.entries()].map(([key, value], index) => {
      return {
        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, "key"])),
        value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, "value"]))
      };
    });
    if (ctx.common.async) {
      const finalMap = /* @__PURE__ */ new Map();
      return Promise.resolve().then(async () => {
        for (const pair of pairs) {
          const key = await pair.key;
          const value = await pair.value;
          if (key.status === "aborted" || value.status === "aborted") {
            return INVALID;
          }
          if (key.status === "dirty" || value.status === "dirty") {
            status.dirty();
          }
          finalMap.set(key.value, value.value);
        }
        return { status: status.value, value: finalMap };
      });
    } else {
      const finalMap = /* @__PURE__ */ new Map();
      for (const pair of pairs) {
        const key = pair.key;
        const value = pair.value;
        if (key.status === "aborted" || value.status === "aborted") {
          return INVALID;
        }
        if (key.status === "dirty" || value.status === "dirty") {
          status.dirty();
        }
        finalMap.set(key.value, value.value);
      }
      return { status: status.value, value: finalMap };
    }
  }
};
ZodMap2.create = (keyType, valueType, params) => {
  return new ZodMap2({
    valueType,
    keyType,
    typeName: ZodFirstPartyTypeKind2.ZodMap,
    ...processCreateParams(params)
  });
};
var ZodSet2 = class _ZodSet extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.set) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.set,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const def = this._def;
    if (def.minSize !== null) {
      if (ctx.data.size < def.minSize.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_small,
          minimum: def.minSize.value,
          type: "set",
          inclusive: true,
          exact: false,
          message: def.minSize.message
        });
        status.dirty();
      }
    }
    if (def.maxSize !== null) {
      if (ctx.data.size > def.maxSize.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_big,
          maximum: def.maxSize.value,
          type: "set",
          inclusive: true,
          exact: false,
          message: def.maxSize.message
        });
        status.dirty();
      }
    }
    const valueType = this._def.valueType;
    function finalizeSet(elements2) {
      const parsedSet = /* @__PURE__ */ new Set();
      for (const element of elements2) {
        if (element.status === "aborted")
          return INVALID;
        if (element.status === "dirty")
          status.dirty();
        parsedSet.add(element.value);
      }
      return { status: status.value, value: parsedSet };
    }
    const elements = [...ctx.data.values()].map((item, i2) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i2)));
    if (ctx.common.async) {
      return Promise.all(elements).then((elements2) => finalizeSet(elements2));
    } else {
      return finalizeSet(elements);
    }
  }
  min(minSize, message) {
    return new _ZodSet({
      ...this._def,
      minSize: { value: minSize, message: errorUtil.toString(message) }
    });
  }
  max(maxSize, message) {
    return new _ZodSet({
      ...this._def,
      maxSize: { value: maxSize, message: errorUtil.toString(message) }
    });
  }
  size(size, message) {
    return this.min(size, message).max(size, message);
  }
  nonempty(message) {
    return this.min(1, message);
  }
};
ZodSet2.create = (valueType, params) => {
  return new ZodSet2({
    valueType,
    minSize: null,
    maxSize: null,
    typeName: ZodFirstPartyTypeKind2.ZodSet,
    ...processCreateParams(params)
  });
};
var ZodFunction2 = class _ZodFunction extends ZodType2 {
  constructor() {
    super(...arguments);
    this.validate = this.implement;
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.function) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.function,
        received: ctx.parsedType
      });
      return INVALID;
    }
    function makeArgsIssue(args, error45) {
      return makeIssue({
        data: args,
        path: ctx.path,
        errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap2(), en_default2].filter((x2) => !!x2),
        issueData: {
          code: ZodIssueCode2.invalid_arguments,
          argumentsError: error45
        }
      });
    }
    function makeReturnsIssue(returns, error45) {
      return makeIssue({
        data: returns,
        path: ctx.path,
        errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap2(), en_default2].filter((x2) => !!x2),
        issueData: {
          code: ZodIssueCode2.invalid_return_type,
          returnTypeError: error45
        }
      });
    }
    const params = { errorMap: ctx.common.contextualErrorMap };
    const fn = ctx.data;
    if (this._def.returns instanceof ZodPromise2) {
      const me = this;
      return OK(async function(...args) {
        const error45 = new ZodError2([]);
        const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {
          error45.addIssue(makeArgsIssue(args, e));
          throw error45;
        });
        const result = await Reflect.apply(fn, this, parsedArgs);
        const parsedReturns = await me._def.returns._def.type.parseAsync(result, params).catch((e) => {
          error45.addIssue(makeReturnsIssue(result, e));
          throw error45;
        });
        return parsedReturns;
      });
    } else {
      const me = this;
      return OK(function(...args) {
        const parsedArgs = me._def.args.safeParse(args, params);
        if (!parsedArgs.success) {
          throw new ZodError2([makeArgsIssue(args, parsedArgs.error)]);
        }
        const result = Reflect.apply(fn, this, parsedArgs.data);
        const parsedReturns = me._def.returns.safeParse(result, params);
        if (!parsedReturns.success) {
          throw new ZodError2([makeReturnsIssue(result, parsedReturns.error)]);
        }
        return parsedReturns.data;
      });
    }
  }
  parameters() {
    return this._def.args;
  }
  returnType() {
    return this._def.returns;
  }
  args(...items) {
    return new _ZodFunction({
      ...this._def,
      args: ZodTuple2.create(items).rest(ZodUnknown2.create())
    });
  }
  returns(returnType) {
    return new _ZodFunction({
      ...this._def,
      returns: returnType
    });
  }
  implement(func) {
    const validatedFunc = this.parse(func);
    return validatedFunc;
  }
  strictImplement(func) {
    const validatedFunc = this.parse(func);
    return validatedFunc;
  }
  static create(args, returns, params) {
    return new _ZodFunction({
      args: args ? args : ZodTuple2.create([]).rest(ZodUnknown2.create()),
      returns: returns || ZodUnknown2.create(),
      typeName: ZodFirstPartyTypeKind2.ZodFunction,
      ...processCreateParams(params)
    });
  }
};
var ZodLazy2 = class extends ZodType2 {
  get schema() {
    return this._def.getter();
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const lazySchema = this._def.getter();
    return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });
  }
};
ZodLazy2.create = (getter, params) => {
  return new ZodLazy2({
    getter,
    typeName: ZodFirstPartyTypeKind2.ZodLazy,
    ...processCreateParams(params)
  });
};
var ZodLiteral2 = class extends ZodType2 {
  _parse(input) {
    if (input.data !== this._def.value) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_literal,
        expected: this._def.value
      });
      return INVALID;
    }
    return { status: "valid", value: input.data };
  }
  get value() {
    return this._def.value;
  }
};
ZodLiteral2.create = (value, params) => {
  return new ZodLiteral2({
    value,
    typeName: ZodFirstPartyTypeKind2.ZodLiteral,
    ...processCreateParams(params)
  });
};
function createZodEnum(values, params) {
  return new ZodEnum2({
    values,
    typeName: ZodFirstPartyTypeKind2.ZodEnum,
    ...processCreateParams(params)
  });
}
var ZodEnum2 = class _ZodEnum extends ZodType2 {
  _parse(input) {
    if (typeof input.data !== "string") {
      const ctx = this._getOrReturnCtx(input);
      const expectedValues = this._def.values;
      addIssueToContext(ctx, {
        expected: util.joinValues(expectedValues),
        received: ctx.parsedType,
        code: ZodIssueCode2.invalid_type
      });
      return INVALID;
    }
    if (!this._cache) {
      this._cache = new Set(this._def.values);
    }
    if (!this._cache.has(input.data)) {
      const ctx = this._getOrReturnCtx(input);
      const expectedValues = this._def.values;
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_enum_value,
        options: expectedValues
      });
      return INVALID;
    }
    return OK(input.data);
  }
  get options() {
    return this._def.values;
  }
  get enum() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  get Values() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  get Enum() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  extract(values, newDef = this._def) {
    return _ZodEnum.create(values, {
      ...this._def,
      ...newDef
    });
  }
  exclude(values, newDef = this._def) {
    return _ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {
      ...this._def,
      ...newDef
    });
  }
};
ZodEnum2.create = createZodEnum;
var ZodNativeEnum = class extends ZodType2 {
  _parse(input) {
    const nativeEnumValues = util.getValidEnumValues(this._def.values);
    const ctx = this._getOrReturnCtx(input);
    if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {
      const expectedValues = util.objectValues(nativeEnumValues);
      addIssueToContext(ctx, {
        expected: util.joinValues(expectedValues),
        received: ctx.parsedType,
        code: ZodIssueCode2.invalid_type
      });
      return INVALID;
    }
    if (!this._cache) {
      this._cache = new Set(util.getValidEnumValues(this._def.values));
    }
    if (!this._cache.has(input.data)) {
      const expectedValues = util.objectValues(nativeEnumValues);
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_enum_value,
        options: expectedValues
      });
      return INVALID;
    }
    return OK(input.data);
  }
  get enum() {
    return this._def.values;
  }
};
ZodNativeEnum.create = (values, params) => {
  return new ZodNativeEnum({
    values,
    typeName: ZodFirstPartyTypeKind2.ZodNativeEnum,
    ...processCreateParams(params)
  });
};
var ZodPromise2 = class extends ZodType2 {
  unwrap() {
    return this._def.type;
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.promise,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);
    return OK(promisified.then((data) => {
      return this._def.type.parseAsync(data, {
        path: ctx.path,
        errorMap: ctx.common.contextualErrorMap
      });
    }));
  }
};
ZodPromise2.create = (schema, params) => {
  return new ZodPromise2({
    type: schema,
    typeName: ZodFirstPartyTypeKind2.ZodPromise,
    ...processCreateParams(params)
  });
};
var ZodEffects = class extends ZodType2 {
  innerType() {
    return this._def.schema;
  }
  sourceType() {
    return this._def.schema._def.typeName === ZodFirstPartyTypeKind2.ZodEffects ? this._def.schema.sourceType() : this._def.schema;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    const effect = this._def.effect || null;
    const checkCtx = {
      addIssue: (arg) => {
        addIssueToContext(ctx, arg);
        if (arg.fatal) {
          status.abort();
        } else {
          status.dirty();
        }
      },
      get path() {
        return ctx.path;
      }
    };
    checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);
    if (effect.type === "preprocess") {
      const processed = effect.transform(ctx.data, checkCtx);
      if (ctx.common.async) {
        return Promise.resolve(processed).then(async (processed2) => {
          if (status.value === "aborted")
            return INVALID;
          const result = await this._def.schema._parseAsync({
            data: processed2,
            path: ctx.path,
            parent: ctx
          });
          if (result.status === "aborted")
            return INVALID;
          if (result.status === "dirty")
            return DIRTY(result.value);
          if (status.value === "dirty")
            return DIRTY(result.value);
          return result;
        });
      } else {
        if (status.value === "aborted")
          return INVALID;
        const result = this._def.schema._parseSync({
          data: processed,
          path: ctx.path,
          parent: ctx
        });
        if (result.status === "aborted")
          return INVALID;
        if (result.status === "dirty")
          return DIRTY(result.value);
        if (status.value === "dirty")
          return DIRTY(result.value);
        return result;
      }
    }
    if (effect.type === "refinement") {
      const executeRefinement = (acc) => {
        const result = effect.refinement(acc, checkCtx);
        if (ctx.common.async) {
          return Promise.resolve(result);
        }
        if (result instanceof Promise) {
          throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
        }
        return acc;
      };
      if (ctx.common.async === false) {
        const inner = this._def.schema._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inner.status === "aborted")
          return INVALID;
        if (inner.status === "dirty")
          status.dirty();
        executeRefinement(inner.value);
        return { status: status.value, value: inner.value };
      } else {
        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {
          if (inner.status === "aborted")
            return INVALID;
          if (inner.status === "dirty")
            status.dirty();
          return executeRefinement(inner.value).then(() => {
            return { status: status.value, value: inner.value };
          });
        });
      }
    }
    if (effect.type === "transform") {
      if (ctx.common.async === false) {
        const base = this._def.schema._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (!isValid(base))
          return INVALID;
        const result = effect.transform(base.value, checkCtx);
        if (result instanceof Promise) {
          throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);
        }
        return { status: status.value, value: result };
      } else {
        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {
          if (!isValid(base))
            return INVALID;
          return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({
            status: status.value,
            value: result
          }));
        });
      }
    }
    util.assertNever(effect);
  }
};
ZodEffects.create = (schema, effect, params) => {
  return new ZodEffects({
    schema,
    typeName: ZodFirstPartyTypeKind2.ZodEffects,
    effect,
    ...processCreateParams(params)
  });
};
ZodEffects.createWithPreprocess = (preprocess2, schema, params) => {
  return new ZodEffects({
    schema,
    effect: { type: "preprocess", transform: preprocess2 },
    typeName: ZodFirstPartyTypeKind2.ZodEffects,
    ...processCreateParams(params)
  });
};
var ZodOptional2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 === ZodParsedType.undefined) {
      return OK(void 0);
    }
    return this._def.innerType._parse(input);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodOptional2.create = (type, params) => {
  return new ZodOptional2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodOptional,
    ...processCreateParams(params)
  });
};
var ZodNullable2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 === ZodParsedType.null) {
      return OK(null);
    }
    return this._def.innerType._parse(input);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodNullable2.create = (type, params) => {
  return new ZodNullable2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodNullable,
    ...processCreateParams(params)
  });
};
var ZodDefault2 = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    let data = ctx.data;
    if (ctx.parsedType === ZodParsedType.undefined) {
      data = this._def.defaultValue();
    }
    return this._def.innerType._parse({
      data,
      path: ctx.path,
      parent: ctx
    });
  }
  removeDefault() {
    return this._def.innerType;
  }
};
ZodDefault2.create = (type, params) => {
  return new ZodDefault2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodDefault,
    defaultValue: typeof params.default === "function" ? params.default : () => params.default,
    ...processCreateParams(params)
  });
};
var ZodCatch2 = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const newCtx = {
      ...ctx,
      common: {
        ...ctx.common,
        issues: []
      }
    };
    const result = this._def.innerType._parse({
      data: newCtx.data,
      path: newCtx.path,
      parent: {
        ...newCtx
      }
    });
    if (isAsync(result)) {
      return result.then((result2) => {
        return {
          status: "valid",
          value: result2.status === "valid" ? result2.value : this._def.catchValue({
            get error() {
              return new ZodError2(newCtx.common.issues);
            },
            input: newCtx.data
          })
        };
      });
    } else {
      return {
        status: "valid",
        value: result.status === "valid" ? result.value : this._def.catchValue({
          get error() {
            return new ZodError2(newCtx.common.issues);
          },
          input: newCtx.data
        })
      };
    }
  }
  removeCatch() {
    return this._def.innerType;
  }
};
ZodCatch2.create = (type, params) => {
  return new ZodCatch2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodCatch,
    catchValue: typeof params.catch === "function" ? params.catch : () => params.catch,
    ...processCreateParams(params)
  });
};
var ZodNaN2 = class extends ZodType2 {
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.nan) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.nan,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return { status: "valid", value: input.data };
  }
};
ZodNaN2.create = (params) => {
  return new ZodNaN2({
    typeName: ZodFirstPartyTypeKind2.ZodNaN,
    ...processCreateParams(params)
  });
};
var BRAND = Symbol("zod_brand");
var ZodBranded = class extends ZodType2 {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const data = ctx.data;
    return this._def.type._parse({
      data,
      path: ctx.path,
      parent: ctx
    });
  }
  unwrap() {
    return this._def.type;
  }
};
var ZodPipeline = class _ZodPipeline extends ZodType2 {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.common.async) {
      const handleAsync = async () => {
        const inResult = await this._def.in._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inResult.status === "aborted")
          return INVALID;
        if (inResult.status === "dirty") {
          status.dirty();
          return DIRTY(inResult.value);
        } else {
          return this._def.out._parseAsync({
            data: inResult.value,
            path: ctx.path,
            parent: ctx
          });
        }
      };
      return handleAsync();
    } else {
      const inResult = this._def.in._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
      if (inResult.status === "aborted")
        return INVALID;
      if (inResult.status === "dirty") {
        status.dirty();
        return {
          status: "dirty",
          value: inResult.value
        };
      } else {
        return this._def.out._parseSync({
          data: inResult.value,
          path: ctx.path,
          parent: ctx
        });
      }
    }
  }
  static create(a2, b2) {
    return new _ZodPipeline({
      in: a2,
      out: b2,
      typeName: ZodFirstPartyTypeKind2.ZodPipeline
    });
  }
};
var ZodReadonly2 = class extends ZodType2 {
  _parse(input) {
    const result = this._def.innerType._parse(input);
    const freeze = (data) => {
      if (isValid(data)) {
        data.value = Object.freeze(data.value);
      }
      return data;
    };
    return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodReadonly2.create = (type, params) => {
  return new ZodReadonly2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodReadonly,
    ...processCreateParams(params)
  });
};
var late = {
  object: ZodObject2.lazycreate
};
var ZodFirstPartyTypeKind2;
(function(ZodFirstPartyTypeKind3) {
  ZodFirstPartyTypeKind3["ZodString"] = "ZodString";
  ZodFirstPartyTypeKind3["ZodNumber"] = "ZodNumber";
  ZodFirstPartyTypeKind3["ZodNaN"] = "ZodNaN";
  ZodFirstPartyTypeKind3["ZodBigInt"] = "ZodBigInt";
  ZodFirstPartyTypeKind3["ZodBoolean"] = "ZodBoolean";
  ZodFirstPartyTypeKind3["ZodDate"] = "ZodDate";
  ZodFirstPartyTypeKind3["ZodSymbol"] = "ZodSymbol";
  ZodFirstPartyTypeKind3["ZodUndefined"] = "ZodUndefined";
  ZodFirstPartyTypeKind3["ZodNull"] = "ZodNull";
  ZodFirstPartyTypeKind3["ZodAny"] = "ZodAny";
  ZodFirstPartyTypeKind3["ZodUnknown"] = "ZodUnknown";
  ZodFirstPartyTypeKind3["ZodNever"] = "ZodNever";
  ZodFirstPartyTypeKind3["ZodVoid"] = "ZodVoid";
  ZodFirstPartyTypeKind3["ZodArray"] = "ZodArray";
  ZodFirstPartyTypeKind3["ZodObject"] = "ZodObject";
  ZodFirstPartyTypeKind3["ZodUnion"] = "ZodUnion";
  ZodFirstPartyTypeKind3["ZodDiscriminatedUnion"] = "ZodDiscriminatedUnion";
  ZodFirstPartyTypeKind3["ZodIntersection"] = "ZodIntersection";
  ZodFirstPartyTypeKind3["ZodTuple"] = "ZodTuple";
  ZodFirstPartyTypeKind3["ZodRecord"] = "ZodRecord";
  ZodFirstPartyTypeKind3["ZodMap"] = "ZodMap";
  ZodFirstPartyTypeKind3["ZodSet"] = "ZodSet";
  ZodFirstPartyTypeKind3["ZodFunction"] = "ZodFunction";
  ZodFirstPartyTypeKind3["ZodLazy"] = "ZodLazy";
  ZodFirstPartyTypeKind3["ZodLiteral"] = "ZodLiteral";
  ZodFirstPartyTypeKind3["ZodEnum"] = "ZodEnum";
  ZodFirstPartyTypeKind3["ZodEffects"] = "ZodEffects";
  ZodFirstPartyTypeKind3["ZodNativeEnum"] = "ZodNativeEnum";
  ZodFirstPartyTypeKind3["ZodOptional"] = "ZodOptional";
  ZodFirstPartyTypeKind3["ZodNullable"] = "ZodNullable";
  ZodFirstPartyTypeKind3["ZodDefault"] = "ZodDefault";
  ZodFirstPartyTypeKind3["ZodCatch"] = "ZodCatch";
  ZodFirstPartyTypeKind3["ZodPromise"] = "ZodPromise";
  ZodFirstPartyTypeKind3["ZodBranded"] = "ZodBranded";
  ZodFirstPartyTypeKind3["ZodPipeline"] = "ZodPipeline";
  ZodFirstPartyTypeKind3["ZodReadonly"] = "ZodReadonly";
})(ZodFirstPartyTypeKind2 || (ZodFirstPartyTypeKind2 = {}));
var stringType = ZodString2.create;
var numberType = ZodNumber2.create;
var nanType = ZodNaN2.create;
var bigIntType = ZodBigInt2.create;
var booleanType = ZodBoolean2.create;
var dateType = ZodDate2.create;
var symbolType = ZodSymbol2.create;
var undefinedType = ZodUndefined2.create;
var nullType = ZodNull2.create;
var anyType = ZodAny2.create;
var unknownType = ZodUnknown2.create;
var neverType = ZodNever2.create;
var voidType = ZodVoid2.create;
var arrayType = ZodArray2.create;
var objectType = ZodObject2.create;
var strictObjectType = ZodObject2.strictCreate;
var unionType = ZodUnion2.create;
var discriminatedUnionType = ZodDiscriminatedUnion2.create;
var intersectionType = ZodIntersection2.create;
var tupleType = ZodTuple2.create;
var recordType = ZodRecord2.create;
var mapType = ZodMap2.create;
var setType = ZodSet2.create;
var functionType = ZodFunction2.create;
var lazyType = ZodLazy2.create;
var literalType = ZodLiteral2.create;
var enumType = ZodEnum2.create;
var nativeEnumType = ZodNativeEnum.create;
var promiseType = ZodPromise2.create;
var effectsType = ZodEffects.create;
var optionalType = ZodOptional2.create;
var nullableType = ZodNullable2.create;
var preprocessType = ZodEffects.createWithPreprocess;
var pipelineType = ZodPipeline.create;

// node_modules/@ai-sdk/provider-utils/dist/index.mjs
function combineHeaders(...headers) {
  return headers.reduce(
    (combinedHeaders, currentHeaders) => ({
      ...combinedHeaders,
      ...currentHeaders != null ? currentHeaders : {}
    }),
    {}
  );
}
async function delay(delayInMs, options) {
  if (delayInMs == null) {
    return Promise.resolve();
  }
  const signal = options == null ? void 0 : options.abortSignal;
  return new Promise((resolve2, reject) => {
    if (signal == null ? void 0 : signal.aborted) {
      reject(createAbortError());
      return;
    }
    const timeoutId = setTimeout(() => {
      cleanup();
      resolve2();
    }, delayInMs);
    const cleanup = () => {
      clearTimeout(timeoutId);
      signal == null ? void 0 : signal.removeEventListener("abort", onAbort);
    };
    const onAbort = () => {
      cleanup();
      reject(createAbortError());
    };
    signal == null ? void 0 : signal.addEventListener("abort", onAbort);
  });
}
function createAbortError() {
  return new DOMException("Delay was aborted", "AbortError");
}
function extractResponseHeaders(response) {
  return Object.fromEntries([...response.headers]);
}
function getRuntimeEnvironmentUserAgent(globalThisAny = globalThis) {
  var _a17, _b8, _c;
  if (globalThisAny.window) {
    return `runtime/browser`;
  }
  if ((_a17 = globalThisAny.navigator) == null ? void 0 : _a17.userAgent) {
    return `runtime/${globalThisAny.navigator.userAgent.toLowerCase()}`;
  }
  if ((_c = (_b8 = globalThisAny.process) == null ? void 0 : _b8.versions) == null ? void 0 : _c.node) {
    return `runtime/node.js/${globalThisAny.process.version.substring(0)}`;
  }
  if (globalThisAny.EdgeRuntime) {
    return `runtime/vercel-edge`;
  }
  return "runtime/unknown";
}
function removeUndefinedEntries(record2) {
  return Object.fromEntries(
    Object.entries(record2).filter(([_key, value]) => value != null)
  );
}
function withUserAgentSuffix(headers, ...userAgentSuffixParts) {
  const cleanedHeaders = removeUndefinedEntries(
    headers != null ? headers : {}
  );
  const normalizedHeaders = new Headers(cleanedHeaders);
  const currentUserAgentHeader = normalizedHeaders.get("user-agent") || "";
  normalizedHeaders.set(
    "user-agent",
    [currentUserAgentHeader, ...userAgentSuffixParts].filter(Boolean).join(" ")
  );
  return Object.fromEntries(normalizedHeaders);
}
var createIdGenerator = ({
  prefix,
  size = 16,
  alphabet = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",
  separator = "-"
} = {}) => {
  const generator = () => {
    const alphabetLength = alphabet.length;
    const chars = new Array(size);
    for (let i2 = 0; i2 < size; i2++) {
      chars[i2] = alphabet[Math.random() * alphabetLength | 0];
    }
    return chars.join("");
  };
  if (prefix == null) {
    return generator;
  }
  if (alphabet.includes(separator)) {
    throw new InvalidArgumentError({
      argument: "separator",
      message: `The separator "${separator}" must not be part of the alphabet "${alphabet}".`
    });
  }
  return () => `${prefix}${separator}${generator()}`;
};
var generateId = createIdGenerator();
function getErrorMessage2(error45) {
  if (error45 == null) {
    return "unknown error";
  }
  if (typeof error45 === "string") {
    return error45;
  }
  if (error45 instanceof Error) {
    return error45.message;
  }
  return JSON.stringify(error45);
}
function isAbortError(error45) {
  return (error45 instanceof Error || error45 instanceof DOMException) && (error45.name === "AbortError" || error45.name === "ResponseAborted" || // Next.js
  error45.name === "TimeoutError");
}
var FETCH_FAILED_ERROR_MESSAGES = ["fetch failed", "failed to fetch"];
function handleFetchError({
  error: error45,
  url: url2,
  requestBodyValues
}) {
  if (isAbortError(error45)) {
    return error45;
  }
  if (error45 instanceof TypeError && FETCH_FAILED_ERROR_MESSAGES.includes(error45.message.toLowerCase())) {
    const cause = error45.cause;
    if (cause != null) {
      return new APICallError({
        message: `Cannot connect to API: ${cause.message}`,
        cause,
        url: url2,
        requestBodyValues,
        isRetryable: true
        // retry when network error
      });
    }
  }
  return error45;
}
var VERSION = true ? "3.0.9" : "0.0.0-test";
var getOriginalFetch = () => globalThis.fetch;
var getFromApi = async ({
  url: url2,
  headers = {},
  successfulResponseHandler,
  failedResponseHandler,
  abortSignal,
  fetch: fetch2 = getOriginalFetch()
}) => {
  try {
    const response = await fetch2(url2, {
      method: "GET",
      headers: withUserAgentSuffix(
        headers,
        `ai-sdk/provider-utils/${VERSION}`,
        getRuntimeEnvironmentUserAgent()
      ),
      signal: abortSignal
    });
    const responseHeaders = extractResponseHeaders(response);
    if (!response.ok) {
      let errorInformation;
      try {
        errorInformation = await failedResponseHandler({
          response,
          url: url2,
          requestBodyValues: {}
        });
      } catch (error45) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
        throw new APICallError({
          message: "Failed to process error response",
          cause: error45,
          statusCode: response.status,
          url: url2,
          responseHeaders,
          requestBodyValues: {}
        });
      }
      throw errorInformation.value;
    }
    try {
      return await successfulResponseHandler({
        response,
        url: url2,
        requestBodyValues: {}
      });
    } catch (error45) {
      if (error45 instanceof Error) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
      }
      throw new APICallError({
        message: "Failed to process successful response",
        cause: error45,
        statusCode: response.status,
        url: url2,
        responseHeaders,
        requestBodyValues: {}
      });
    }
  } catch (error45) {
    throw handleFetchError({ error: error45, url: url2, requestBodyValues: {} });
  }
};
function isUrlSupported({
  mediaType,
  url: url2,
  supportedUrls
}) {
  url2 = url2.toLowerCase();
  mediaType = mediaType.toLowerCase();
  return Object.entries(supportedUrls).map(([key, value]) => {
    const mediaType2 = key.toLowerCase();
    return mediaType2 === "*" || mediaType2 === "*/*" ? { mediaTypePrefix: "", regexes: value } : { mediaTypePrefix: mediaType2.replace(/\*/, ""), regexes: value };
  }).filter(({ mediaTypePrefix }) => mediaType.startsWith(mediaTypePrefix)).flatMap(({ regexes }) => regexes).some((pattern) => pattern.test(url2));
}
function loadOptionalSetting({
  settingValue,
  environmentVariableName
}) {
  if (typeof settingValue === "string") {
    return settingValue;
  }
  if (settingValue != null || typeof process === "undefined") {
    return void 0;
  }
  settingValue = process.env[environmentVariableName];
  if (settingValue == null || typeof settingValue !== "string") {
    return void 0;
  }
  return settingValue;
}
var suspectProtoRx = /"__proto__"\s*:/;
var suspectConstructorRx = /"constructor"\s*:/;
function _parse2(text2) {
  const obj = JSON.parse(text2);
  if (obj === null || typeof obj !== "object") {
    return obj;
  }
  if (suspectProtoRx.test(text2) === false && suspectConstructorRx.test(text2) === false) {
    return obj;
  }
  return filter(obj);
}
function filter(obj) {
  let next = [obj];
  while (next.length) {
    const nodes = next;
    next = [];
    for (const node of nodes) {
      if (Object.prototype.hasOwnProperty.call(node, "__proto__")) {
        throw new SyntaxError("Object contains forbidden prototype property");
      }
      if (Object.prototype.hasOwnProperty.call(node, "constructor") && Object.prototype.hasOwnProperty.call(node.constructor, "prototype")) {
        throw new SyntaxError("Object contains forbidden prototype property");
      }
      for (const key in node) {
        const value = node[key];
        if (value && typeof value === "object") {
          next.push(value);
        }
      }
    }
  }
  return obj;
}
function secureJsonParse(text2) {
  const { stackTraceLimit } = Error;
  Error.stackTraceLimit = 0;
  try {
    return _parse2(text2);
  } finally {
    Error.stackTraceLimit = stackTraceLimit;
  }
}
var validatorSymbol = Symbol.for("vercel.ai.validator");
function validator(validate) {
  return { [validatorSymbol]: true, validate };
}
function isValidator(value) {
  return typeof value === "object" && value !== null && validatorSymbol in value && value[validatorSymbol] === true && "validate" in value;
}
function asValidator(value) {
  return isValidator(value) ? value : standardSchemaValidator(value);
}
function standardSchemaValidator(standardSchema) {
  return validator(async (value) => {
    const result = await standardSchema["~standard"].validate(value);
    return result.issues == null ? { success: true, value: result.value } : {
      success: false,
      error: new TypeValidationError({
        value,
        cause: result.issues
      })
    };
  });
}
async function validateTypes({
  value,
  schema
}) {
  const result = await safeValidateTypes({ value, schema });
  if (!result.success) {
    throw TypeValidationError.wrap({ value, cause: result.error });
  }
  return result.value;
}
async function safeValidateTypes({
  value,
  schema
}) {
  const validator2 = asValidator(schema);
  try {
    if (validator2.validate == null) {
      return { success: true, value, rawValue: value };
    }
    const result = await validator2.validate(value);
    if (result.success) {
      return { success: true, value: result.value, rawValue: value };
    }
    return {
      success: false,
      error: TypeValidationError.wrap({ value, cause: result.error }),
      rawValue: value
    };
  } catch (error45) {
    return {
      success: false,
      error: TypeValidationError.wrap({ value, cause: error45 }),
      rawValue: value
    };
  }
}
async function parseJSON({
  text: text2,
  schema
}) {
  try {
    const value = secureJsonParse(text2);
    if (schema == null) {
      return value;
    }
    return validateTypes({ value, schema });
  } catch (error45) {
    if (JSONParseError.isInstance(error45) || TypeValidationError.isInstance(error45)) {
      throw error45;
    }
    throw new JSONParseError({ text: text2, cause: error45 });
  }
}
async function safeParseJSON({
  text: text2,
  schema
}) {
  try {
    const value = secureJsonParse(text2);
    if (schema == null) {
      return { success: true, value, rawValue: value };
    }
    return await safeValidateTypes({ value, schema });
  } catch (error45) {
    return {
      success: false,
      error: JSONParseError.isInstance(error45) ? error45 : new JSONParseError({ text: text2, cause: error45 }),
      rawValue: void 0
    };
  }
}
function parseJsonEventStream({
  stream,
  schema
}) {
  return stream.pipeThrough(new TextDecoderStream()).pipeThrough(new EventSourceParserStream()).pipeThrough(
    new TransformStream({
      async transform({ data }, controller) {
        if (data === "[DONE]") {
          return;
        }
        controller.enqueue(await safeParseJSON({ text: data, schema }));
      }
    })
  );
}
var getOriginalFetch2 = () => globalThis.fetch;
var postJsonToApi = async ({
  url: url2,
  headers,
  body,
  failedResponseHandler,
  successfulResponseHandler,
  abortSignal,
  fetch: fetch2
}) => postToApi({
  url: url2,
  headers: {
    "Content-Type": "application/json",
    ...headers
  },
  body: {
    content: JSON.stringify(body),
    values: body
  },
  failedResponseHandler,
  successfulResponseHandler,
  abortSignal,
  fetch: fetch2
});
var postToApi = async ({
  url: url2,
  headers = {},
  body,
  successfulResponseHandler,
  failedResponseHandler,
  abortSignal,
  fetch: fetch2 = getOriginalFetch2()
}) => {
  try {
    const response = await fetch2(url2, {
      method: "POST",
      headers: withUserAgentSuffix(
        headers,
        `ai-sdk/provider-utils/${VERSION}`,
        getRuntimeEnvironmentUserAgent()
      ),
      body: body.content,
      signal: abortSignal
    });
    const responseHeaders = extractResponseHeaders(response);
    if (!response.ok) {
      let errorInformation;
      try {
        errorInformation = await failedResponseHandler({
          response,
          url: url2,
          requestBodyValues: body.values
        });
      } catch (error45) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
        throw new APICallError({
          message: "Failed to process error response",
          cause: error45,
          statusCode: response.status,
          url: url2,
          responseHeaders,
          requestBodyValues: body.values
        });
      }
      throw errorInformation.value;
    }
    try {
      return await successfulResponseHandler({
        response,
        url: url2,
        requestBodyValues: body.values
      });
    } catch (error45) {
      if (error45 instanceof Error) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
      }
      throw new APICallError({
        message: "Failed to process successful response",
        cause: error45,
        statusCode: response.status,
        url: url2,
        responseHeaders,
        requestBodyValues: body.values
      });
    }
  } catch (error45) {
    throw handleFetchError({ error: error45, url: url2, requestBodyValues: body.values });
  }
};
function tool(tool2) {
  return tool2;
}
async function resolve(value) {
  if (typeof value === "function") {
    value = value();
  }
  return Promise.resolve(value);
}
var createJsonErrorResponseHandler = ({
  errorSchema,
  errorToMessage,
  isRetryable
}) => async ({ response, url: url2, requestBodyValues }) => {
  const responseBody = await response.text();
  const responseHeaders = extractResponseHeaders(response);
  if (responseBody.trim() === "") {
    return {
      responseHeaders,
      value: new APICallError({
        message: response.statusText,
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response)
      })
    };
  }
  try {
    const parsedError = await parseJSON({
      text: responseBody,
      schema: errorSchema
    });
    return {
      responseHeaders,
      value: new APICallError({
        message: errorToMessage(parsedError),
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        data: parsedError,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response, parsedError)
      })
    };
  } catch (parseError) {
    return {
      responseHeaders,
      value: new APICallError({
        message: response.statusText,
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response)
      })
    };
  }
};
var createEventSourceResponseHandler = (chunkSchema) => async ({ response }) => {
  const responseHeaders = extractResponseHeaders(response);
  if (response.body == null) {
    throw new EmptyResponseBodyError({});
  }
  return {
    responseHeaders,
    value: parseJsonEventStream({
      stream: response.body,
      schema: chunkSchema
    })
  };
};
var createJsonResponseHandler = (responseSchema) => async ({ response, url: url2, requestBodyValues }) => {
  const responseBody = await response.text();
  const parsedResult = await safeParseJSON({
    text: responseBody,
    schema: responseSchema
  });
  const responseHeaders = extractResponseHeaders(response);
  if (!parsedResult.success) {
    throw new APICallError({
      message: "Invalid JSON response",
      cause: parsedResult.error,
      statusCode: response.status,
      responseHeaders,
      responseBody,
      url: url2,
      requestBodyValues
    });
  }
  return {
    responseHeaders,
    value: parsedResult.value,
    rawValue: parsedResult.rawValue
  };
};
var getRelativePath = (pathA, pathB) => {
  let i2 = 0;
  for (; i2 < pathA.length && i2 < pathB.length; i2++) {
    if (pathA[i2] !== pathB[i2])
      break;
  }
  return [(pathA.length - i2).toString(), ...pathB.slice(i2)].join("/");
};
var ignoreOverride = Symbol(
  "Let zodToJsonSchema decide on which parser to use"
);
var defaultOptions = {
  name: void 0,
  $refStrategy: "root",
  basePath: ["#"],
  effectStrategy: "input",
  pipeStrategy: "all",
  dateStrategy: "format:date-time",
  mapStrategy: "entries",
  removeAdditionalStrategy: "passthrough",
  allowedAdditionalProperties: true,
  rejectedAdditionalProperties: false,
  definitionPath: "definitions",
  strictUnions: false,
  definitions: {},
  errorMessages: false,
  patternStrategy: "escape",
  applyRegexFlags: false,
  emailStrategy: "format:email",
  base64Strategy: "contentEncoding:base64",
  nameStrategy: "ref"
};
var getDefaultOptions = (options) => typeof options === "string" ? {
  ...defaultOptions,
  name: options
} : {
  ...defaultOptions,
  ...options
};
function parseAnyDef() {
  return {};
}
function parseArrayDef(def, refs) {
  var _a17, _b8, _c;
  const res = {
    type: "array"
  };
  if (((_a17 = def.type) == null ? void 0 : _a17._def) && ((_c = (_b8 = def.type) == null ? void 0 : _b8._def) == null ? void 0 : _c.typeName) !== ZodFirstPartyTypeKind2.ZodAny) {
    res.items = parseDef(def.type._def, {
      ...refs,
      currentPath: [...refs.currentPath, "items"]
    });
  }
  if (def.minLength) {
    res.minItems = def.minLength.value;
  }
  if (def.maxLength) {
    res.maxItems = def.maxLength.value;
  }
  if (def.exactLength) {
    res.minItems = def.exactLength.value;
    res.maxItems = def.exactLength.value;
  }
  return res;
}
function parseBigintDef(def) {
  const res = {
    type: "integer",
    format: "int64"
  };
  if (!def.checks)
    return res;
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "min":
        if (check2.inclusive) {
          res.minimum = check2.value;
        } else {
          res.exclusiveMinimum = check2.value;
        }
        break;
      case "max":
        if (check2.inclusive) {
          res.maximum = check2.value;
        } else {
          res.exclusiveMaximum = check2.value;
        }
        break;
      case "multipleOf":
        res.multipleOf = check2.value;
        break;
    }
  }
  return res;
}
function parseBooleanDef() {
  return { type: "boolean" };
}
function parseBrandedDef(_def, refs) {
  return parseDef(_def.type._def, refs);
}
var parseCatchDef = (def, refs) => {
  return parseDef(def.innerType._def, refs);
};
function parseDateDef(def, refs, overrideDateStrategy) {
  const strategy = overrideDateStrategy != null ? overrideDateStrategy : refs.dateStrategy;
  if (Array.isArray(strategy)) {
    return {
      anyOf: strategy.map((item, i2) => parseDateDef(def, refs, item))
    };
  }
  switch (strategy) {
    case "string":
    case "format:date-time":
      return {
        type: "string",
        format: "date-time"
      };
    case "format:date":
      return {
        type: "string",
        format: "date"
      };
    case "integer":
      return integerDateParser(def);
  }
}
var integerDateParser = (def) => {
  const res = {
    type: "integer",
    format: "unix-time"
  };
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "min":
        res.minimum = check2.value;
        break;
      case "max":
        res.maximum = check2.value;
        break;
    }
  }
  return res;
};
function parseDefaultDef(_def, refs) {
  return {
    ...parseDef(_def.innerType._def, refs),
    default: _def.defaultValue()
  };
}
function parseEffectsDef(_def, refs) {
  return refs.effectStrategy === "input" ? parseDef(_def.schema._def, refs) : parseAnyDef();
}
function parseEnumDef(def) {
  return {
    type: "string",
    enum: Array.from(def.values)
  };
}
var isJsonSchema7AllOfType = (type) => {
  if ("type" in type && type.type === "string")
    return false;
  return "allOf" in type;
};
function parseIntersectionDef(def, refs) {
  const allOf = [
    parseDef(def.left._def, {
      ...refs,
      currentPath: [...refs.currentPath, "allOf", "0"]
    }),
    parseDef(def.right._def, {
      ...refs,
      currentPath: [...refs.currentPath, "allOf", "1"]
    })
  ].filter((x2) => !!x2);
  const mergedAllOf = [];
  allOf.forEach((schema) => {
    if (isJsonSchema7AllOfType(schema)) {
      mergedAllOf.push(...schema.allOf);
    } else {
      let nestedSchema = schema;
      if ("additionalProperties" in schema && schema.additionalProperties === false) {
        const { additionalProperties, ...rest } = schema;
        nestedSchema = rest;
      }
      mergedAllOf.push(nestedSchema);
    }
  });
  return mergedAllOf.length ? { allOf: mergedAllOf } : void 0;
}
function parseLiteralDef(def) {
  const parsedType7 = typeof def.value;
  if (parsedType7 !== "bigint" && parsedType7 !== "number" && parsedType7 !== "boolean" && parsedType7 !== "string") {
    return {
      type: Array.isArray(def.value) ? "array" : "object"
    };
  }
  return {
    type: parsedType7 === "bigint" ? "integer" : parsedType7,
    const: def.value
  };
}
var emojiRegex2 = void 0;
var zodPatterns = {
  /**
   * `c` was changed to `[cC]` to replicate /i flag
   */
  cuid: /^[cC][^\s-]{8,}$/,
  cuid2: /^[0-9a-z]+$/,
  ulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,
  /**
   * `a-z` was added to replicate /i flag
   */
  email: /^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,
  /**
   * Constructed a valid Unicode RegExp
   *
   * Lazily instantiate since this type of regex isn't supported
   * in all envs (e.g. React Native).
   *
   * See:
   * https://github.com/colinhacks/zod/issues/2433
   * Fix in Zod:
   * https://github.com/colinhacks/zod/commit/9340fd51e48576a75adc919bff65dbc4a5d4c99b
   */
  emoji: () => {
    if (emojiRegex2 === void 0) {
      emojiRegex2 = RegExp(
        "^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",
        "u"
      );
    }
    return emojiRegex2;
  },
  /**
   * Unused
   */
  uuid: /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,
  /**
   * Unused
   */
  ipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,
  ipv4Cidr: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,
  /**
   * Unused
   */
  ipv6: /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,
  ipv6Cidr: /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,
  base64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,
  base64url: /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,
  nanoid: /^[a-zA-Z0-9_-]{21}$/,
  jwt: /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/
};
function parseStringDef(def, refs) {
  const res = {
    type: "string"
  };
  if (def.checks) {
    for (const check2 of def.checks) {
      switch (check2.kind) {
        case "min":
          res.minLength = typeof res.minLength === "number" ? Math.max(res.minLength, check2.value) : check2.value;
          break;
        case "max":
          res.maxLength = typeof res.maxLength === "number" ? Math.min(res.maxLength, check2.value) : check2.value;
          break;
        case "email":
          switch (refs.emailStrategy) {
            case "format:email":
              addFormat(res, "email", check2.message, refs);
              break;
            case "format:idn-email":
              addFormat(res, "idn-email", check2.message, refs);
              break;
            case "pattern:zod":
              addPattern(res, zodPatterns.email, check2.message, refs);
              break;
          }
          break;
        case "url":
          addFormat(res, "uri", check2.message, refs);
          break;
        case "uuid":
          addFormat(res, "uuid", check2.message, refs);
          break;
        case "regex":
          addPattern(res, check2.regex, check2.message, refs);
          break;
        case "cuid":
          addPattern(res, zodPatterns.cuid, check2.message, refs);
          break;
        case "cuid2":
          addPattern(res, zodPatterns.cuid2, check2.message, refs);
          break;
        case "startsWith":
          addPattern(
            res,
            RegExp(`^${escapeLiteralCheckValue(check2.value, refs)}`),
            check2.message,
            refs
          );
          break;
        case "endsWith":
          addPattern(
            res,
            RegExp(`${escapeLiteralCheckValue(check2.value, refs)}$`),
            check2.message,
            refs
          );
          break;
        case "datetime":
          addFormat(res, "date-time", check2.message, refs);
          break;
        case "date":
          addFormat(res, "date", check2.message, refs);
          break;
        case "time":
          addFormat(res, "time", check2.message, refs);
          break;
        case "duration":
          addFormat(res, "duration", check2.message, refs);
          break;
        case "length":
          res.minLength = typeof res.minLength === "number" ? Math.max(res.minLength, check2.value) : check2.value;
          res.maxLength = typeof res.maxLength === "number" ? Math.min(res.maxLength, check2.value) : check2.value;
          break;
        case "includes": {
          addPattern(
            res,
            RegExp(escapeLiteralCheckValue(check2.value, refs)),
            check2.message,
            refs
          );
          break;
        }
        case "ip": {
          if (check2.version !== "v6") {
            addFormat(res, "ipv4", check2.message, refs);
          }
          if (check2.version !== "v4") {
            addFormat(res, "ipv6", check2.message, refs);
          }
          break;
        }
        case "base64url":
          addPattern(res, zodPatterns.base64url, check2.message, refs);
          break;
        case "jwt":
          addPattern(res, zodPatterns.jwt, check2.message, refs);
          break;
        case "cidr": {
          if (check2.version !== "v6") {
            addPattern(res, zodPatterns.ipv4Cidr, check2.message, refs);
          }
          if (check2.version !== "v4") {
            addPattern(res, zodPatterns.ipv6Cidr, check2.message, refs);
          }
          break;
        }
        case "emoji":
          addPattern(res, zodPatterns.emoji(), check2.message, refs);
          break;
        case "ulid": {
          addPattern(res, zodPatterns.ulid, check2.message, refs);
          break;
        }
        case "base64": {
          switch (refs.base64Strategy) {
            case "format:binary": {
              addFormat(res, "binary", check2.message, refs);
              break;
            }
            case "contentEncoding:base64": {
              res.contentEncoding = "base64";
              break;
            }
            case "pattern:zod": {
              addPattern(res, zodPatterns.base64, check2.message, refs);
              break;
            }
          }
          break;
        }
        case "nanoid": {
          addPattern(res, zodPatterns.nanoid, check2.message, refs);
        }
        case "toLowerCase":
        case "toUpperCase":
        case "trim":
          break;
        default:
          /* @__PURE__ */ ((_2) => {
          })(check2);
      }
    }
  }
  return res;
}
function escapeLiteralCheckValue(literal2, refs) {
  return refs.patternStrategy === "escape" ? escapeNonAlphaNumeric(literal2) : literal2;
}
var ALPHA_NUMERIC = new Set(
  "ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789"
);
function escapeNonAlphaNumeric(source) {
  let result = "";
  for (let i2 = 0; i2 < source.length; i2++) {
    if (!ALPHA_NUMERIC.has(source[i2])) {
      result += "\\";
    }
    result += source[i2];
  }
  return result;
}
function addFormat(schema, value, message, refs) {
  var _a17;
  if (schema.format || ((_a17 = schema.anyOf) == null ? void 0 : _a17.some((x2) => x2.format))) {
    if (!schema.anyOf) {
      schema.anyOf = [];
    }
    if (schema.format) {
      schema.anyOf.push({
        format: schema.format
      });
      delete schema.format;
    }
    schema.anyOf.push({
      format: value,
      ...message && refs.errorMessages && { errorMessage: { format: message } }
    });
  } else {
    schema.format = value;
  }
}
function addPattern(schema, regex, message, refs) {
  var _a17;
  if (schema.pattern || ((_a17 = schema.allOf) == null ? void 0 : _a17.some((x2) => x2.pattern))) {
    if (!schema.allOf) {
      schema.allOf = [];
    }
    if (schema.pattern) {
      schema.allOf.push({
        pattern: schema.pattern
      });
      delete schema.pattern;
    }
    schema.allOf.push({
      pattern: stringifyRegExpWithFlags(regex, refs),
      ...message && refs.errorMessages && { errorMessage: { pattern: message } }
    });
  } else {
    schema.pattern = stringifyRegExpWithFlags(regex, refs);
  }
}
function stringifyRegExpWithFlags(regex, refs) {
  var _a17;
  if (!refs.applyRegexFlags || !regex.flags) {
    return regex.source;
  }
  const flags = {
    i: regex.flags.includes("i"),
    // Case-insensitive
    m: regex.flags.includes("m"),
    // `^` and `$` matches adjacent to newline characters
    s: regex.flags.includes("s")
    // `.` matches newlines
  };
  const source = flags.i ? regex.source.toLowerCase() : regex.source;
  let pattern = "";
  let isEscaped = false;
  let inCharGroup = false;
  let inCharRange = false;
  for (let i2 = 0; i2 < source.length; i2++) {
    if (isEscaped) {
      pattern += source[i2];
      isEscaped = false;
      continue;
    }
    if (flags.i) {
      if (inCharGroup) {
        if (source[i2].match(/[a-z]/)) {
          if (inCharRange) {
            pattern += source[i2];
            pattern += `${source[i2 - 2]}-${source[i2]}`.toUpperCase();
            inCharRange = false;
          } else if (source[i2 + 1] === "-" && ((_a17 = source[i2 + 2]) == null ? void 0 : _a17.match(/[a-z]/))) {
            pattern += source[i2];
            inCharRange = true;
          } else {
            pattern += `${source[i2]}${source[i2].toUpperCase()}`;
          }
          continue;
        }
      } else if (source[i2].match(/[a-z]/)) {
        pattern += `[${source[i2]}${source[i2].toUpperCase()}]`;
        continue;
      }
    }
    if (flags.m) {
      if (source[i2] === "^") {
        pattern += `(^|(?<=[\r
]))`;
        continue;
      } else if (source[i2] === "$") {
        pattern += `($|(?=[\r
]))`;
        continue;
      }
    }
    if (flags.s && source[i2] === ".") {
      pattern += inCharGroup ? `${source[i2]}\r
` : `[${source[i2]}\r
]`;
      continue;
    }
    pattern += source[i2];
    if (source[i2] === "\\") {
      isEscaped = true;
    } else if (inCharGroup && source[i2] === "]") {
      inCharGroup = false;
    } else if (!inCharGroup && source[i2] === "[") {
      inCharGroup = true;
    }
  }
  try {
    new RegExp(pattern);
  } catch (e) {
    console.warn(
      `Could not convert regex pattern at ${refs.currentPath.join(
        "/"
      )} to a flag-independent form! Falling back to the flag-ignorant source`
    );
    return regex.source;
  }
  return pattern;
}
function parseRecordDef(def, refs) {
  var _a17, _b8, _c, _d, _e, _f;
  const schema = {
    type: "object",
    additionalProperties: (_a17 = parseDef(def.valueType._def, {
      ...refs,
      currentPath: [...refs.currentPath, "additionalProperties"]
    })) != null ? _a17 : refs.allowedAdditionalProperties
  };
  if (((_b8 = def.keyType) == null ? void 0 : _b8._def.typeName) === ZodFirstPartyTypeKind2.ZodString && ((_c = def.keyType._def.checks) == null ? void 0 : _c.length)) {
    const { type, ...keyType } = parseStringDef(def.keyType._def, refs);
    return {
      ...schema,
      propertyNames: keyType
    };
  } else if (((_d = def.keyType) == null ? void 0 : _d._def.typeName) === ZodFirstPartyTypeKind2.ZodEnum) {
    return {
      ...schema,
      propertyNames: {
        enum: def.keyType._def.values
      }
    };
  } else if (((_e = def.keyType) == null ? void 0 : _e._def.typeName) === ZodFirstPartyTypeKind2.ZodBranded && def.keyType._def.type._def.typeName === ZodFirstPartyTypeKind2.ZodString && ((_f = def.keyType._def.type._def.checks) == null ? void 0 : _f.length)) {
    const { type, ...keyType } = parseBrandedDef(
      def.keyType._def,
      refs
    );
    return {
      ...schema,
      propertyNames: keyType
    };
  }
  return schema;
}
function parseMapDef(def, refs) {
  if (refs.mapStrategy === "record") {
    return parseRecordDef(def, refs);
  }
  const keys = parseDef(def.keyType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "items", "items", "0"]
  }) || parseAnyDef();
  const values = parseDef(def.valueType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "items", "items", "1"]
  }) || parseAnyDef();
  return {
    type: "array",
    maxItems: 125,
    items: {
      type: "array",
      items: [keys, values],
      minItems: 2,
      maxItems: 2
    }
  };
}
function parseNativeEnumDef(def) {
  const object3 = def.values;
  const actualKeys = Object.keys(def.values).filter((key) => {
    return typeof object3[object3[key]] !== "number";
  });
  const actualValues = actualKeys.map((key) => object3[key]);
  const parsedTypes = Array.from(
    new Set(actualValues.map((values) => typeof values))
  );
  return {
    type: parsedTypes.length === 1 ? parsedTypes[0] === "string" ? "string" : "number" : ["string", "number"],
    enum: actualValues
  };
}
function parseNeverDef() {
  return { not: parseAnyDef() };
}
function parseNullDef() {
  return {
    type: "null"
  };
}
var primitiveMappings = {
  ZodString: "string",
  ZodNumber: "number",
  ZodBigInt: "integer",
  ZodBoolean: "boolean",
  ZodNull: "null"
};
function parseUnionDef(def, refs) {
  const options = def.options instanceof Map ? Array.from(def.options.values()) : def.options;
  if (options.every(
    (x2) => x2._def.typeName in primitiveMappings && (!x2._def.checks || !x2._def.checks.length)
  )) {
    const types2 = options.reduce((types22, x2) => {
      const type = primitiveMappings[x2._def.typeName];
      return type && !types22.includes(type) ? [...types22, type] : types22;
    }, []);
    return {
      type: types2.length > 1 ? types2 : types2[0]
    };
  } else if (options.every((x2) => x2._def.typeName === "ZodLiteral" && !x2.description)) {
    const types2 = options.reduce(
      (acc, x2) => {
        const type = typeof x2._def.value;
        switch (type) {
          case "string":
          case "number":
          case "boolean":
            return [...acc, type];
          case "bigint":
            return [...acc, "integer"];
          case "object":
            if (x2._def.value === null)
              return [...acc, "null"];
          case "symbol":
          case "undefined":
          case "function":
          default:
            return acc;
        }
      },
      []
    );
    if (types2.length === options.length) {
      const uniqueTypes = types2.filter((x2, i2, a2) => a2.indexOf(x2) === i2);
      return {
        type: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],
        enum: options.reduce(
          (acc, x2) => {
            return acc.includes(x2._def.value) ? acc : [...acc, x2._def.value];
          },
          []
        )
      };
    }
  } else if (options.every((x2) => x2._def.typeName === "ZodEnum")) {
    return {
      type: "string",
      enum: options.reduce(
        (acc, x2) => [
          ...acc,
          ...x2._def.values.filter((x22) => !acc.includes(x22))
        ],
        []
      )
    };
  }
  return asAnyOf(def, refs);
}
var asAnyOf = (def, refs) => {
  const anyOf = (def.options instanceof Map ? Array.from(def.options.values()) : def.options).map(
    (x2, i2) => parseDef(x2._def, {
      ...refs,
      currentPath: [...refs.currentPath, "anyOf", `${i2}`]
    })
  ).filter(
    (x2) => !!x2 && (!refs.strictUnions || typeof x2 === "object" && Object.keys(x2).length > 0)
  );
  return anyOf.length ? { anyOf } : void 0;
};
function parseNullableDef(def, refs) {
  if (["ZodString", "ZodNumber", "ZodBigInt", "ZodBoolean", "ZodNull"].includes(
    def.innerType._def.typeName
  ) && (!def.innerType._def.checks || !def.innerType._def.checks.length)) {
    return {
      type: [
        primitiveMappings[def.innerType._def.typeName],
        "null"
      ]
    };
  }
  const base = parseDef(def.innerType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "anyOf", "0"]
  });
  return base && { anyOf: [base, { type: "null" }] };
}
function parseNumberDef(def) {
  const res = {
    type: "number"
  };
  if (!def.checks)
    return res;
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "int":
        res.type = "integer";
        break;
      case "min":
        if (check2.inclusive) {
          res.minimum = check2.value;
        } else {
          res.exclusiveMinimum = check2.value;
        }
        break;
      case "max":
        if (check2.inclusive) {
          res.maximum = check2.value;
        } else {
          res.exclusiveMaximum = check2.value;
        }
        break;
      case "multipleOf":
        res.multipleOf = check2.value;
        break;
    }
  }
  return res;
}
function parseObjectDef(def, refs) {
  const result = {
    type: "object",
    properties: {}
  };
  const required2 = [];
  const shape = def.shape();
  for (const propName in shape) {
    let propDef = shape[propName];
    if (propDef === void 0 || propDef._def === void 0) {
      continue;
    }
    const propOptional = safeIsOptional(propDef);
    const parsedDef = parseDef(propDef._def, {
      ...refs,
      currentPath: [...refs.currentPath, "properties", propName],
      propertyPath: [...refs.currentPath, "properties", propName]
    });
    if (parsedDef === void 0) {
      continue;
    }
    result.properties[propName] = parsedDef;
    if (!propOptional) {
      required2.push(propName);
    }
  }
  if (required2.length) {
    result.required = required2;
  }
  const additionalProperties = decideAdditionalProperties(def, refs);
  if (additionalProperties !== void 0) {
    result.additionalProperties = additionalProperties;
  }
  return result;
}
function decideAdditionalProperties(def, refs) {
  if (def.catchall._def.typeName !== "ZodNever") {
    return parseDef(def.catchall._def, {
      ...refs,
      currentPath: [...refs.currentPath, "additionalProperties"]
    });
  }
  switch (def.unknownKeys) {
    case "passthrough":
      return refs.allowedAdditionalProperties;
    case "strict":
      return refs.rejectedAdditionalProperties;
    case "strip":
      return refs.removeAdditionalStrategy === "strict" ? refs.allowedAdditionalProperties : refs.rejectedAdditionalProperties;
  }
}
function safeIsOptional(schema) {
  try {
    return schema.isOptional();
  } catch (e) {
    return true;
  }
}
var parseOptionalDef = (def, refs) => {
  var _a17;
  if (refs.currentPath.toString() === ((_a17 = refs.propertyPath) == null ? void 0 : _a17.toString())) {
    return parseDef(def.innerType._def, refs);
  }
  const innerSchema = parseDef(def.innerType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "anyOf", "1"]
  });
  return innerSchema ? { anyOf: [{ not: parseAnyDef() }, innerSchema] } : parseAnyDef();
};
var parsePipelineDef = (def, refs) => {
  if (refs.pipeStrategy === "input") {
    return parseDef(def.in._def, refs);
  } else if (refs.pipeStrategy === "output") {
    return parseDef(def.out._def, refs);
  }
  const a2 = parseDef(def.in._def, {
    ...refs,
    currentPath: [...refs.currentPath, "allOf", "0"]
  });
  const b2 = parseDef(def.out._def, {
    ...refs,
    currentPath: [...refs.currentPath, "allOf", a2 ? "1" : "0"]
  });
  return {
    allOf: [a2, b2].filter((x2) => x2 !== void 0)
  };
};
function parsePromiseDef(def, refs) {
  return parseDef(def.type._def, refs);
}
function parseSetDef(def, refs) {
  const items = parseDef(def.valueType._def, {
    ...refs,
    currentPath: [...refs.currentPath, "items"]
  });
  const schema = {
    type: "array",
    uniqueItems: true,
    items
  };
  if (def.minSize) {
    schema.minItems = def.minSize.value;
  }
  if (def.maxSize) {
    schema.maxItems = def.maxSize.value;
  }
  return schema;
}
function parseTupleDef(def, refs) {
  if (def.rest) {
    return {
      type: "array",
      minItems: def.items.length,
      items: def.items.map(
        (x2, i2) => parseDef(x2._def, {
          ...refs,
          currentPath: [...refs.currentPath, "items", `${i2}`]
        })
      ).reduce(
        (acc, x2) => x2 === void 0 ? acc : [...acc, x2],
        []
      ),
      additionalItems: parseDef(def.rest._def, {
        ...refs,
        currentPath: [...refs.currentPath, "additionalItems"]
      })
    };
  } else {
    return {
      type: "array",
      minItems: def.items.length,
      maxItems: def.items.length,
      items: def.items.map(
        (x2, i2) => parseDef(x2._def, {
          ...refs,
          currentPath: [...refs.currentPath, "items", `${i2}`]
        })
      ).reduce(
        (acc, x2) => x2 === void 0 ? acc : [...acc, x2],
        []
      )
    };
  }
}
function parseUndefinedDef() {
  return {
    not: parseAnyDef()
  };
}
function parseUnknownDef() {
  return parseAnyDef();
}
var parseReadonlyDef = (def, refs) => {
  return parseDef(def.innerType._def, refs);
};
var selectParser = (def, typeName, refs) => {
  switch (typeName) {
    case ZodFirstPartyTypeKind2.ZodString:
      return parseStringDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodNumber:
      return parseNumberDef(def);
    case ZodFirstPartyTypeKind2.ZodObject:
      return parseObjectDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodBigInt:
      return parseBigintDef(def);
    case ZodFirstPartyTypeKind2.ZodBoolean:
      return parseBooleanDef();
    case ZodFirstPartyTypeKind2.ZodDate:
      return parseDateDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodUndefined:
      return parseUndefinedDef();
    case ZodFirstPartyTypeKind2.ZodNull:
      return parseNullDef();
    case ZodFirstPartyTypeKind2.ZodArray:
      return parseArrayDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodUnion:
    case ZodFirstPartyTypeKind2.ZodDiscriminatedUnion:
      return parseUnionDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodIntersection:
      return parseIntersectionDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodTuple:
      return parseTupleDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodRecord:
      return parseRecordDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodLiteral:
      return parseLiteralDef(def);
    case ZodFirstPartyTypeKind2.ZodEnum:
      return parseEnumDef(def);
    case ZodFirstPartyTypeKind2.ZodNativeEnum:
      return parseNativeEnumDef(def);
    case ZodFirstPartyTypeKind2.ZodNullable:
      return parseNullableDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodOptional:
      return parseOptionalDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodMap:
      return parseMapDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodSet:
      return parseSetDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodLazy:
      return () => def.getter()._def;
    case ZodFirstPartyTypeKind2.ZodPromise:
      return parsePromiseDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodNaN:
    case ZodFirstPartyTypeKind2.ZodNever:
      return parseNeverDef();
    case ZodFirstPartyTypeKind2.ZodEffects:
      return parseEffectsDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodAny:
      return parseAnyDef();
    case ZodFirstPartyTypeKind2.ZodUnknown:
      return parseUnknownDef();
    case ZodFirstPartyTypeKind2.ZodDefault:
      return parseDefaultDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodBranded:
      return parseBrandedDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodReadonly:
      return parseReadonlyDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodCatch:
      return parseCatchDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodPipeline:
      return parsePipelineDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodFunction:
    case ZodFirstPartyTypeKind2.ZodVoid:
    case ZodFirstPartyTypeKind2.ZodSymbol:
      return void 0;
    default:
      return /* @__PURE__ */ ((_2) => void 0)(typeName);
  }
};
function parseDef(def, refs, forceResolution = false) {
  var _a17;
  const seenItem = refs.seen.get(def);
  if (refs.override) {
    const overrideResult = (_a17 = refs.override) == null ? void 0 : _a17.call(
      refs,
      def,
      refs,
      seenItem,
      forceResolution
    );
    if (overrideResult !== ignoreOverride) {
      return overrideResult;
    }
  }
  if (seenItem && !forceResolution) {
    const seenSchema = get$ref(seenItem, refs);
    if (seenSchema !== void 0) {
      return seenSchema;
    }
  }
  const newItem = { def, path: refs.currentPath, jsonSchema: void 0 };
  refs.seen.set(def, newItem);
  const jsonSchemaOrGetter = selectParser(def, def.typeName, refs);
  const jsonSchema2 = typeof jsonSchemaOrGetter === "function" ? parseDef(jsonSchemaOrGetter(), refs) : jsonSchemaOrGetter;
  if (jsonSchema2) {
    addMeta(def, refs, jsonSchema2);
  }
  if (refs.postProcess) {
    const postProcessResult = refs.postProcess(jsonSchema2, def, refs);
    newItem.jsonSchema = jsonSchema2;
    return postProcessResult;
  }
  newItem.jsonSchema = jsonSchema2;
  return jsonSchema2;
}
var get$ref = (item, refs) => {
  switch (refs.$refStrategy) {
    case "root":
      return { $ref: item.path.join("/") };
    case "relative":
      return { $ref: getRelativePath(refs.currentPath, item.path) };
    case "none":
    case "seen": {
      if (item.path.length < refs.currentPath.length && item.path.every((value, index) => refs.currentPath[index] === value)) {
        console.warn(
          `Recursive reference detected at ${refs.currentPath.join(
            "/"
          )}! Defaulting to any`
        );
        return parseAnyDef();
      }
      return refs.$refStrategy === "seen" ? parseAnyDef() : void 0;
    }
  }
};
var addMeta = (def, refs, jsonSchema2) => {
  if (def.description) {
    jsonSchema2.description = def.description;
  }
  return jsonSchema2;
};
var getRefs = (options) => {
  const _options = getDefaultOptions(options);
  const currentPath = _options.name !== void 0 ? [..._options.basePath, _options.definitionPath, _options.name] : _options.basePath;
  return {
    ..._options,
    currentPath,
    propertyPath: void 0,
    seen: new Map(
      Object.entries(_options.definitions).map(([name17, def]) => [
        def._def,
        {
          def: def._def,
          path: [..._options.basePath, _options.definitionPath, name17],
          // Resolution of references will be forced even though seen, so it's ok that the schema is undefined here for now.
          jsonSchema: void 0
        }
      ])
    )
  };
};
var zodToJsonSchema = (schema, options) => {
  var _a17;
  const refs = getRefs(options);
  let definitions = typeof options === "object" && options.definitions ? Object.entries(options.definitions).reduce(
    (acc, [name24, schema2]) => {
      var _a24;
      return {
        ...acc,
        [name24]: (_a24 = parseDef(
          schema2._def,
          {
            ...refs,
            currentPath: [...refs.basePath, refs.definitionPath, name24]
          },
          true
        )) != null ? _a24 : parseAnyDef()
      };
    },
    {}
  ) : void 0;
  const name17 = typeof options === "string" ? options : (options == null ? void 0 : options.nameStrategy) === "title" ? void 0 : options == null ? void 0 : options.name;
  const main = (_a17 = parseDef(
    schema._def,
    name17 === void 0 ? refs : {
      ...refs,
      currentPath: [...refs.basePath, refs.definitionPath, name17]
    },
    false
  )) != null ? _a17 : parseAnyDef();
  const title = typeof options === "object" && options.name !== void 0 && options.nameStrategy === "title" ? options.name : void 0;
  if (title !== void 0) {
    main.title = title;
  }
  const combined = name17 === void 0 ? definitions ? {
    ...main,
    [refs.definitionPath]: definitions
  } : main : {
    $ref: [
      ...refs.$refStrategy === "relative" ? [] : refs.basePath,
      refs.definitionPath,
      name17
    ].join("/"),
    [refs.definitionPath]: {
      ...definitions,
      [name17]: main
    }
  };
  combined.$schema = "http://json-schema.org/draft-07/schema#";
  return combined;
};
var zod_to_json_schema_default = zodToJsonSchema;
function zod3Schema(zodSchema2, options) {
  var _a17;
  const useReferences = (_a17 = options == null ? void 0 : options.useReferences) != null ? _a17 : false;
  return jsonSchema(
    zod_to_json_schema_default(zodSchema2, {
      $refStrategy: useReferences ? "root" : "none"
    }),
    {
      validate: async (value) => {
        const result = await zodSchema2.safeParseAsync(value);
        return result.success ? { success: true, value: result.data } : { success: false, error: result.error };
      }
    }
  );
}
function zod4Schema(zodSchema2, options) {
  var _a17;
  const useReferences = (_a17 = options == null ? void 0 : options.useReferences) != null ? _a17 : false;
  const z4JSONSchema = toJSONSchema(zodSchema2, {
    target: "draft-7",
    io: "output",
    reused: useReferences ? "ref" : "inline"
  });
  return jsonSchema(z4JSONSchema, {
    validate: async (value) => {
      const result = await safeParseAsync2(zodSchema2, value);
      return result.success ? { success: true, value: result.data } : { success: false, error: result.error };
    }
  });
}
function isZod4Schema(zodSchema2) {
  return "_zod" in zodSchema2;
}
function zodSchema(zodSchema2, options) {
  if (isZod4Schema(zodSchema2)) {
    return zod4Schema(zodSchema2, options);
  } else {
    return zod3Schema(zodSchema2, options);
  }
}
var schemaSymbol = Symbol.for("vercel.ai.schema");
function jsonSchema(jsonSchema2, {
  validate
} = {}) {
  return {
    [schemaSymbol]: true,
    _type: void 0,
    // should never be used directly
    [validatorSymbol]: true,
    jsonSchema: jsonSchema2,
    validate
  };
}
function isSchema(value) {
  return typeof value === "object" && value !== null && schemaSymbol in value && value[schemaSymbol] === true && "jsonSchema" in value && "validate" in value;
}
function asSchema(schema) {
  return schema == null ? jsonSchema({
    properties: {},
    additionalProperties: false
  }) : isSchema(schema) ? schema : zodSchema(schema);
}
var { btoa: btoa2, atob: atob2 } = globalThis;
function convertBase64ToUint8Array(base64String) {
  const base64Url = base64String.replace(/-/g, "+").replace(/_/g, "/");
  const latin1string = atob2(base64Url);
  return Uint8Array.from(latin1string, (byte) => byte.codePointAt(0));
}
function convertUint8ArrayToBase64(array2) {
  let latin1string = "";
  for (let i2 = 0; i2 < array2.length; i2++) {
    latin1string += String.fromCodePoint(array2[i2]);
  }
  return btoa2(latin1string);
}
function withoutTrailingSlash(url2) {
  return url2 == null ? void 0 : url2.replace(/\/$/, "");
}
function isAsyncIterable(obj) {
  return obj != null && typeof obj[Symbol.asyncIterator] === "function";
}
async function* executeTool({
  execute,
  input,
  options
}) {
  const result = execute(input, options);
  if (isAsyncIterable(result)) {
    let lastOutput;
    for await (const output of result) {
      lastOutput = output;
      yield { type: "preliminary", output };
    }
    yield { type: "final", output: lastOutput };
  } else {
    yield { type: "final", output: await result };
  }
}

// node_modules/@ai-sdk/gateway/dist/index.mjs
var marker15 = "vercel.ai.gateway.error";
var symbol16 = Symbol.for(marker15);
var _a15;
var _b;
var GatewayError = class _GatewayError extends (_b = Error, _a15 = symbol16, _b) {
  constructor({
    message,
    statusCode = 500,
    cause
  }) {
    super(message);
    this[_a15] = true;
    this.statusCode = statusCode;
    this.cause = cause;
  }
  /**
   * Checks if the given error is a Gateway Error.
   * @param {unknown} error - The error to check.
   * @returns {boolean} True if the error is a Gateway Error, false otherwise.
   */
  static isInstance(error45) {
    return _GatewayError.hasMarker(error45);
  }
  static hasMarker(error45) {
    return typeof error45 === "object" && error45 !== null && symbol16 in error45 && error45[symbol16] === true;
  }
};
var name14 = "GatewayAuthenticationError";
var marker22 = `vercel.ai.gateway.error.${name14}`;
var symbol22 = Symbol.for(marker22);
var _a22;
var _b2;
var GatewayAuthenticationError = class _GatewayAuthenticationError extends (_b2 = GatewayError, _a22 = symbol22, _b2) {
  constructor({
    message = "Authentication failed",
    statusCode = 401,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a22] = true;
    this.name = name14;
    this.type = "authentication_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol22 in error45;
  }
  /**
   * Creates a contextual error message when authentication fails
   */
  static createContextualError({
    apiKeyProvided,
    oidcTokenProvided,
    message = "Authentication failed",
    statusCode = 401,
    cause
  }) {
    let contextualMessage;
    if (apiKeyProvided) {
      contextualMessage = `AI Gateway authentication failed: Invalid API key provided.

The token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`;
    } else if (oidcTokenProvided) {
      contextualMessage = `AI Gateway authentication failed: Invalid OIDC token provided.

The token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.
- make sure your Vercel project settings have OIDC enabled
- if running locally with 'vercel dev', the token is automatically obtained and refreshed
- if running locally with your own dev server, run 'vercel env pull' to fetch the token
- in production/preview, the token is automatically obtained and refreshed

Alternative: Provide an API key via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`;
    } else {
      contextualMessage = `AI Gateway authentication failed: No authentication provided.

Provide either an API key or OIDC token.

API key instructions:

The token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

OIDC token instructions:

The token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.
- make sure your Vercel project settings have OIDC enabled
- if running locally with 'vercel dev', the token is automatically obtained and refreshed
- if running locally with your own dev server, run 'vercel env pull' to fetch the token
- in production/preview, the token is automatically obtained and refreshed`;
    }
    return new _GatewayAuthenticationError({
      message: contextualMessage,
      statusCode,
      cause
    });
  }
};
var name22 = "GatewayInvalidRequestError";
var marker32 = `vercel.ai.gateway.error.${name22}`;
var symbol32 = Symbol.for(marker32);
var _a32;
var _b3;
var GatewayInvalidRequestError = class extends (_b3 = GatewayError, _a32 = symbol32, _b3) {
  constructor({
    message = "Invalid request",
    statusCode = 400,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a32] = true;
    this.name = name22;
    this.type = "invalid_request_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol32 in error45;
  }
};
var name32 = "GatewayRateLimitError";
var marker42 = `vercel.ai.gateway.error.${name32}`;
var symbol42 = Symbol.for(marker42);
var _a42;
var _b4;
var GatewayRateLimitError = class extends (_b4 = GatewayError, _a42 = symbol42, _b4) {
  constructor({
    message = "Rate limit exceeded",
    statusCode = 429,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a42] = true;
    this.name = name32;
    this.type = "rate_limit_exceeded";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol42 in error45;
  }
};
var name42 = "GatewayModelNotFoundError";
var marker52 = `vercel.ai.gateway.error.${name42}`;
var symbol52 = Symbol.for(marker52);
var modelNotFoundParamSchema = external_exports.object({
  modelId: external_exports.string()
});
var _a52;
var _b5;
var GatewayModelNotFoundError = class extends (_b5 = GatewayError, _a52 = symbol52, _b5) {
  constructor({
    message = "Model not found",
    statusCode = 404,
    modelId,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a52] = true;
    this.name = name42;
    this.type = "model_not_found";
    this.modelId = modelId;
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol52 in error45;
  }
};
var name52 = "GatewayInternalServerError";
var marker62 = `vercel.ai.gateway.error.${name52}`;
var symbol62 = Symbol.for(marker62);
var _a62;
var _b6;
var GatewayInternalServerError = class extends (_b6 = GatewayError, _a62 = symbol62, _b6) {
  constructor({
    message = "Internal server error",
    statusCode = 500,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a62] = true;
    this.name = name52;
    this.type = "internal_server_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol62 in error45;
  }
};
var name62 = "GatewayResponseError";
var marker72 = `vercel.ai.gateway.error.${name62}`;
var symbol72 = Symbol.for(marker72);
var _a72;
var _b7;
var GatewayResponseError = class extends (_b7 = GatewayError, _a72 = symbol72, _b7) {
  constructor({
    message = "Invalid response from Gateway",
    statusCode = 502,
    response,
    validationError,
    cause
  } = {}) {
    super({ message, statusCode, cause });
    this[_a72] = true;
    this.name = name62;
    this.type = "response_error";
    this.response = response;
    this.validationError = validationError;
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol72 in error45;
  }
};
function createGatewayErrorFromResponse({
  response,
  statusCode,
  defaultMessage = "Gateway request failed",
  cause,
  authMethod
}) {
  const parseResult = gatewayErrorResponseSchema.safeParse(response);
  if (!parseResult.success) {
    return new GatewayResponseError({
      message: `Invalid error response format: ${defaultMessage}`,
      statusCode,
      response,
      validationError: parseResult.error,
      cause
    });
  }
  const validatedResponse = parseResult.data;
  const errorType = validatedResponse.error.type;
  const message = validatedResponse.error.message;
  switch (errorType) {
    case "authentication_error":
      return GatewayAuthenticationError.createContextualError({
        apiKeyProvided: authMethod === "api-key",
        oidcTokenProvided: authMethod === "oidc",
        statusCode,
        cause
      });
    case "invalid_request_error":
      return new GatewayInvalidRequestError({ message, statusCode, cause });
    case "rate_limit_exceeded":
      return new GatewayRateLimitError({ message, statusCode, cause });
    case "model_not_found": {
      const modelResult = modelNotFoundParamSchema.safeParse(
        validatedResponse.error.param
      );
      return new GatewayModelNotFoundError({
        message,
        statusCode,
        modelId: modelResult.success ? modelResult.data.modelId : void 0,
        cause
      });
    }
    case "internal_server_error":
      return new GatewayInternalServerError({ message, statusCode, cause });
    default:
      return new GatewayInternalServerError({ message, statusCode, cause });
  }
}
var gatewayErrorResponseSchema = external_exports.object({
  error: external_exports.object({
    message: external_exports.string(),
    type: external_exports.string().nullish(),
    param: external_exports.unknown().nullish(),
    code: external_exports.union([external_exports.string(), external_exports.number()]).nullish()
  })
});
function asGatewayError(error45, authMethod) {
  var _a83;
  if (GatewayError.isInstance(error45)) {
    return error45;
  }
  if (APICallError.isInstance(error45)) {
    return createGatewayErrorFromResponse({
      response: extractApiCallResponse(error45),
      statusCode: (_a83 = error45.statusCode) != null ? _a83 : 500,
      defaultMessage: "Gateway request failed",
      cause: error45,
      authMethod
    });
  }
  return createGatewayErrorFromResponse({
    response: {},
    statusCode: 500,
    defaultMessage: error45 instanceof Error ? `Gateway request failed: ${error45.message}` : "Unknown Gateway error",
    cause: error45,
    authMethod
  });
}
function extractApiCallResponse(error45) {
  if (error45.data !== void 0) {
    return error45.data;
  }
  if (error45.responseBody != null) {
    try {
      return JSON.parse(error45.responseBody);
    } catch (e) {
      return error45.responseBody;
    }
  }
  return {};
}
var GATEWAY_AUTH_METHOD_HEADER = "ai-gateway-auth-method";
function parseAuthMethod(headers) {
  const result = gatewayAuthMethodSchema.safeParse(
    headers[GATEWAY_AUTH_METHOD_HEADER]
  );
  return result.success ? result.data : void 0;
}
var gatewayAuthMethodSchema = external_exports.union([
  external_exports.literal("api-key"),
  external_exports.literal("oidc")
]);
var GatewayFetchMetadata = class {
  constructor(config2) {
    this.config = config2;
  }
  async getAvailableModels() {
    try {
      const { value } = await getFromApi({
        url: `${this.config.baseURL}/config`,
        headers: await resolve(this.config.headers()),
        successfulResponseHandler: createJsonResponseHandler(
          gatewayFetchMetadataSchema
        ),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        fetch: this.config.fetch
      });
      return value;
    } catch (error45) {
      throw asGatewayError(error45);
    }
  }
};
var gatewayLanguageModelSpecificationSchema = external_exports.object({
  specificationVersion: external_exports.literal("v2"),
  provider: external_exports.string(),
  modelId: external_exports.string()
});
var gatewayLanguageModelPricingSchema = external_exports.object({
  input: external_exports.string(),
  output: external_exports.string(),
  input_cache_read: external_exports.string().nullish(),
  input_cache_write: external_exports.string().nullish()
}).transform(({ input, output, input_cache_read, input_cache_write }) => ({
  input,
  output,
  ...input_cache_read ? { cachedInputTokens: input_cache_read } : {},
  ...input_cache_write ? { cacheCreationInputTokens: input_cache_write } : {}
}));
var gatewayLanguageModelEntrySchema = external_exports.object({
  id: external_exports.string(),
  name: external_exports.string(),
  description: external_exports.string().nullish(),
  pricing: gatewayLanguageModelPricingSchema.nullish(),
  specification: gatewayLanguageModelSpecificationSchema,
  modelType: external_exports.enum(["language", "embedding", "image"]).nullish()
});
var gatewayFetchMetadataSchema = external_exports.object({
  models: external_exports.array(gatewayLanguageModelEntrySchema)
});
var GatewayLanguageModel = class {
  constructor(modelId, config2) {
    this.modelId = modelId;
    this.config = config2;
    this.specificationVersion = "v2";
    this.supportedUrls = { "*/*": [/.*/] };
  }
  get provider() {
    return this.config.provider;
  }
  async getArgs(options) {
    const { abortSignal: _abortSignal, ...optionsWithoutSignal } = options;
    return {
      args: this.maybeEncodeFileParts(optionsWithoutSignal),
      warnings: []
    };
  }
  async doGenerate(options) {
    const { args, warnings } = await this.getArgs(options);
    const { abortSignal } = options;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const {
        responseHeaders,
        value: responseBody,
        rawValue: rawResponse
      } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(
          resolvedHeaders,
          options.headers,
          this.getModelConfigHeaders(this.modelId, false),
          await resolve(this.config.o11yHeaders)
        ),
        body: args,
        successfulResponseHandler: createJsonResponseHandler(external_exports.any()),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        ...abortSignal && { abortSignal },
        fetch: this.config.fetch
      });
      return {
        ...responseBody,
        request: { body: args },
        response: { headers: responseHeaders, body: rawResponse },
        warnings
      };
    } catch (error45) {
      throw asGatewayError(error45, parseAuthMethod(resolvedHeaders));
    }
  }
  async doStream(options) {
    const { args, warnings } = await this.getArgs(options);
    const { abortSignal } = options;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const { value: response, responseHeaders } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(
          resolvedHeaders,
          options.headers,
          this.getModelConfigHeaders(this.modelId, true),
          await resolve(this.config.o11yHeaders)
        ),
        body: args,
        successfulResponseHandler: createEventSourceResponseHandler(external_exports.any()),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        ...abortSignal && { abortSignal },
        fetch: this.config.fetch
      });
      return {
        stream: response.pipeThrough(
          new TransformStream({
            start(controller) {
              if (warnings.length > 0) {
                controller.enqueue({ type: "stream-start", warnings });
              }
            },
            transform(chunk, controller) {
              if (chunk.success) {
                const streamPart = chunk.value;
                if (streamPart.type === "raw" && !options.includeRawChunks) {
                  return;
                }
                if (streamPart.type === "response-metadata" && streamPart.timestamp && typeof streamPart.timestamp === "string") {
                  streamPart.timestamp = new Date(streamPart.timestamp);
                }
                controller.enqueue(streamPart);
              } else {
                controller.error(
                  chunk.error
                );
              }
            }
          })
        ),
        request: { body: args },
        response: { headers: responseHeaders }
      };
    } catch (error45) {
      throw asGatewayError(error45, parseAuthMethod(resolvedHeaders));
    }
  }
  isFilePart(part) {
    return part && typeof part === "object" && "type" in part && part.type === "file";
  }
  /**
   * Encodes file parts in the prompt to base64. Mutates the passed options
   * instance directly to avoid copying the file data.
   * @param options - The options to encode.
   * @returns The options with the file parts encoded.
   */
  maybeEncodeFileParts(options) {
    for (const message of options.prompt) {
      for (const part of message.content) {
        if (this.isFilePart(part)) {
          const filePart = part;
          if (filePart.data instanceof Uint8Array) {
            const buffer = Uint8Array.from(filePart.data);
            const base64Data = Buffer.from(buffer).toString("base64");
            filePart.data = new URL(
              `data:${filePart.mediaType || "application/octet-stream"};base64,${base64Data}`
            );
          }
        }
      }
    }
    return options;
  }
  getUrl() {
    return `${this.config.baseURL}/language-model`;
  }
  getModelConfigHeaders(modelId, streaming) {
    return {
      "ai-language-model-specification-version": "2",
      "ai-language-model-id": modelId,
      "ai-language-model-streaming": String(streaming)
    };
  }
};
var GatewayEmbeddingModel = class {
  constructor(modelId, config2) {
    this.modelId = modelId;
    this.config = config2;
    this.specificationVersion = "v2";
    this.maxEmbeddingsPerCall = 2048;
    this.supportsParallelCalls = true;
  }
  get provider() {
    return this.config.provider;
  }
  async doEmbed({
    values,
    headers,
    abortSignal,
    providerOptions
  }) {
    var _a83;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const {
        responseHeaders,
        value: responseBody,
        rawValue
      } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(
          resolvedHeaders,
          headers != null ? headers : {},
          this.getModelConfigHeaders(),
          await resolve(this.config.o11yHeaders)
        ),
        body: {
          input: values.length === 1 ? values[0] : values,
          ...providerOptions ? { providerOptions } : {}
        },
        successfulResponseHandler: createJsonResponseHandler(
          gatewayEmbeddingResponseSchema
        ),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: (data) => data
        }),
        ...abortSignal && { abortSignal },
        fetch: this.config.fetch
      });
      return {
        embeddings: responseBody.embeddings,
        usage: (_a83 = responseBody.usage) != null ? _a83 : void 0,
        providerMetadata: responseBody.providerMetadata,
        response: { headers: responseHeaders, body: rawValue }
      };
    } catch (error45) {
      throw asGatewayError(error45, parseAuthMethod(resolvedHeaders));
    }
  }
  getUrl() {
    return `${this.config.baseURL}/embedding-model`;
  }
  getModelConfigHeaders() {
    return {
      "ai-embedding-model-specification-version": "2",
      "ai-model-id": this.modelId
    };
  }
};
var gatewayEmbeddingResponseSchema = external_exports.object({
  embeddings: external_exports.array(external_exports.array(external_exports.number())),
  usage: external_exports.object({ tokens: external_exports.number() }).nullish(),
  providerMetadata: external_exports.record(external_exports.string(), external_exports.record(external_exports.string(), external_exports.unknown())).optional()
});
async function getVercelOidcToken() {
  var _a83, _b8;
  const token = (_b8 = (_a83 = getContext().headers) == null ? void 0 : _a83["x-vercel-oidc-token"]) != null ? _b8 : process.env.VERCEL_OIDC_TOKEN;
  if (!token) {
    throw new GatewayAuthenticationError({
      message: "OIDC token not available",
      statusCode: 401
    });
  }
  return token;
}
async function getVercelRequestId() {
  var _a83;
  return (_a83 = getContext().headers) == null ? void 0 : _a83["x-vercel-id"];
}
var SYMBOL_FOR_REQ_CONTEXT = Symbol.for("@vercel/request-context");
function getContext() {
  var _a83, _b8, _c;
  const fromSymbol = globalThis;
  return (_c = (_b8 = (_a83 = fromSymbol[SYMBOL_FOR_REQ_CONTEXT]) == null ? void 0 : _a83.get) == null ? void 0 : _b8.call(_a83)) != null ? _c : {};
}
var AI_GATEWAY_PROTOCOL_VERSION = "0.0.1";
function createGatewayProvider(options = {}) {
  var _a83, _b8;
  let pendingMetadata = null;
  let metadataCache = null;
  const cacheRefreshMillis = (_a83 = options.metadataCacheRefreshMillis) != null ? _a83 : 1e3 * 60 * 5;
  let lastFetchTime = 0;
  const baseURL = (_b8 = withoutTrailingSlash(options.baseURL)) != null ? _b8 : "https://ai-gateway.vercel.sh/v1/ai";
  const getHeaders = async () => {
    const auth = await getGatewayAuthToken(options);
    if (auth) {
      return {
        Authorization: `Bearer ${auth.token}`,
        "ai-gateway-protocol-version": AI_GATEWAY_PROTOCOL_VERSION,
        [GATEWAY_AUTH_METHOD_HEADER]: auth.authMethod,
        ...options.headers
      };
    }
    throw GatewayAuthenticationError.createContextualError({
      apiKeyProvided: false,
      oidcTokenProvided: false,
      statusCode: 401
    });
  };
  const createO11yHeaders = () => {
    const deploymentId = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_DEPLOYMENT_ID"
    });
    const environment = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_ENV"
    });
    const region = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_REGION"
    });
    return async () => {
      const requestId = await getVercelRequestId();
      return {
        ...deploymentId && { "ai-o11y-deployment-id": deploymentId },
        ...environment && { "ai-o11y-environment": environment },
        ...region && { "ai-o11y-region": region },
        ...requestId && { "ai-o11y-request-id": requestId }
      };
    };
  };
  const createLanguageModel = (modelId) => {
    return new GatewayLanguageModel(modelId, {
      provider: "gateway",
      baseURL,
      headers: getHeaders,
      fetch: options.fetch,
      o11yHeaders: createO11yHeaders()
    });
  };
  const getAvailableModels = async () => {
    var _a93, _b9, _c;
    const now2 = (_c = (_b9 = (_a93 = options._internal) == null ? void 0 : _a93.currentDate) == null ? void 0 : _b9.call(_a93).getTime()) != null ? _c : Date.now();
    if (!pendingMetadata || now2 - lastFetchTime > cacheRefreshMillis) {
      lastFetchTime = now2;
      pendingMetadata = new GatewayFetchMetadata({
        baseURL,
        headers: getHeaders,
        fetch: options.fetch
      }).getAvailableModels().then((metadata) => {
        metadataCache = metadata;
        return metadata;
      }).catch(async (error45) => {
        throw asGatewayError(error45, parseAuthMethod(await getHeaders()));
      });
    }
    return metadataCache ? Promise.resolve(metadataCache) : pendingMetadata;
  };
  const provider = function(modelId) {
    if (new.target) {
      throw new Error(
        "The Gateway Provider model function cannot be called with the new keyword."
      );
    }
    return createLanguageModel(modelId);
  };
  provider.getAvailableModels = getAvailableModels;
  provider.imageModel = (modelId) => {
    throw new NoSuchModelError({ modelId, modelType: "imageModel" });
  };
  provider.languageModel = createLanguageModel;
  provider.textEmbeddingModel = (modelId) => {
    return new GatewayEmbeddingModel(modelId, {
      provider: "gateway",
      baseURL,
      headers: getHeaders,
      fetch: options.fetch,
      o11yHeaders: createO11yHeaders()
    });
  };
  return provider;
}
var gateway = createGatewayProvider();
async function getGatewayAuthToken(options) {
  const apiKey = loadOptionalSetting({
    settingValue: options.apiKey,
    environmentVariableName: "AI_GATEWAY_API_KEY"
  });
  if (apiKey) {
    return {
      token: apiKey,
      authMethod: "api-key"
    };
  }
  try {
    const oidcToken = await getVercelOidcToken();
    return {
      token: oidcToken,
      authMethod: "oidc"
    };
  } catch (e) {
    return null;
  }
}

// node_modules/@opentelemetry/api/build/esm/platform/node/globalThis.js
var _globalThis = typeof globalThis === "object" ? globalThis : global;

// node_modules/@opentelemetry/api/build/esm/version.js
var VERSION2 = "1.9.0";

// node_modules/@opentelemetry/api/build/esm/internal/semver.js
var re = /^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;
function _makeCompatibilityCheck(ownVersion) {
  var acceptedVersions = /* @__PURE__ */ new Set([ownVersion]);
  var rejectedVersions = /* @__PURE__ */ new Set();
  var myVersionMatch = ownVersion.match(re);
  if (!myVersionMatch) {
    return function() {
      return false;
    };
  }
  var ownVersionParsed = {
    major: +myVersionMatch[1],
    minor: +myVersionMatch[2],
    patch: +myVersionMatch[3],
    prerelease: myVersionMatch[4]
  };
  if (ownVersionParsed.prerelease != null) {
    return function isExactmatch(globalVersion) {
      return globalVersion === ownVersion;
    };
  }
  function _reject(v2) {
    rejectedVersions.add(v2);
    return false;
  }
  function _accept(v2) {
    acceptedVersions.add(v2);
    return true;
  }
  return function isCompatible2(globalVersion) {
    if (acceptedVersions.has(globalVersion)) {
      return true;
    }
    if (rejectedVersions.has(globalVersion)) {
      return false;
    }
    var globalVersionMatch = globalVersion.match(re);
    if (!globalVersionMatch) {
      return _reject(globalVersion);
    }
    var globalVersionParsed = {
      major: +globalVersionMatch[1],
      minor: +globalVersionMatch[2],
      patch: +globalVersionMatch[3],
      prerelease: globalVersionMatch[4]
    };
    if (globalVersionParsed.prerelease != null) {
      return _reject(globalVersion);
    }
    if (ownVersionParsed.major !== globalVersionParsed.major) {
      return _reject(globalVersion);
    }
    if (ownVersionParsed.major === 0) {
      if (ownVersionParsed.minor === globalVersionParsed.minor && ownVersionParsed.patch <= globalVersionParsed.patch) {
        return _accept(globalVersion);
      }
      return _reject(globalVersion);
    }
    if (ownVersionParsed.minor <= globalVersionParsed.minor) {
      return _accept(globalVersion);
    }
    return _reject(globalVersion);
  };
}
var isCompatible = _makeCompatibilityCheck(VERSION2);

// node_modules/@opentelemetry/api/build/esm/internal/global-utils.js
var major = VERSION2.split(".")[0];
var GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for("opentelemetry.js.api." + major);
var _global = _globalThis;
function registerGlobal(type, instance, diag, allowOverride) {
  var _a17;
  if (allowOverride === void 0) {
    allowOverride = false;
  }
  var api = _global[GLOBAL_OPENTELEMETRY_API_KEY] = (_a17 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) !== null && _a17 !== void 0 ? _a17 : {
    version: VERSION2
  };
  if (!allowOverride && api[type]) {
    var err = new Error("@opentelemetry/api: Attempted duplicate registration of API: " + type);
    diag.error(err.stack || err.message);
    return false;
  }
  if (api.version !== VERSION2) {
    var err = new Error("@opentelemetry/api: Registration of version v" + api.version + " for " + type + " does not match previously registered API v" + VERSION2);
    diag.error(err.stack || err.message);
    return false;
  }
  api[type] = instance;
  diag.debug("@opentelemetry/api: Registered a global for " + type + " v" + VERSION2 + ".");
  return true;
}
function getGlobal(type) {
  var _a17, _b8;
  var globalVersion = (_a17 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _a17 === void 0 ? void 0 : _a17.version;
  if (!globalVersion || !isCompatible(globalVersion)) {
    return;
  }
  return (_b8 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _b8 === void 0 ? void 0 : _b8[type];
}
function unregisterGlobal(type, diag) {
  diag.debug("@opentelemetry/api: Unregistering a global for " + type + " v" + VERSION2 + ".");
  var api = _global[GLOBAL_OPENTELEMETRY_API_KEY];
  if (api) {
    delete api[type];
  }
}

// node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js
var __read = function(o2, n2) {
  var m2 = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m2) return o2;
  var i2 = m2.call(o2), r2, ar = [], e;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m2 = i2["return"])) m2.call(i2);
    } finally {
      if (e) throw e.error;
    }
  }
  return ar;
};
var __spreadArray = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l2 = from.length, ar; i2 < l2; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var DiagComponentLogger = (
  /** @class */
  (function() {
    function DiagComponentLogger2(props) {
      this._namespace = props.namespace || "DiagComponentLogger";
    }
    DiagComponentLogger2.prototype.debug = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("debug", this._namespace, args);
    };
    DiagComponentLogger2.prototype.error = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("error", this._namespace, args);
    };
    DiagComponentLogger2.prototype.info = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("info", this._namespace, args);
    };
    DiagComponentLogger2.prototype.warn = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("warn", this._namespace, args);
    };
    DiagComponentLogger2.prototype.verbose = function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return logProxy("verbose", this._namespace, args);
    };
    return DiagComponentLogger2;
  })()
);
function logProxy(funcName, namespace, args) {
  var logger = getGlobal("diag");
  if (!logger) {
    return;
  }
  args.unshift(namespace);
  return logger[funcName].apply(logger, __spreadArray([], __read(args), false));
}

// node_modules/@opentelemetry/api/build/esm/diag/types.js
var DiagLogLevel;
(function(DiagLogLevel2) {
  DiagLogLevel2[DiagLogLevel2["NONE"] = 0] = "NONE";
  DiagLogLevel2[DiagLogLevel2["ERROR"] = 30] = "ERROR";
  DiagLogLevel2[DiagLogLevel2["WARN"] = 50] = "WARN";
  DiagLogLevel2[DiagLogLevel2["INFO"] = 60] = "INFO";
  DiagLogLevel2[DiagLogLevel2["DEBUG"] = 70] = "DEBUG";
  DiagLogLevel2[DiagLogLevel2["VERBOSE"] = 80] = "VERBOSE";
  DiagLogLevel2[DiagLogLevel2["ALL"] = 9999] = "ALL";
})(DiagLogLevel || (DiagLogLevel = {}));

// node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js
function createLogLevelDiagLogger(maxLevel, logger) {
  if (maxLevel < DiagLogLevel.NONE) {
    maxLevel = DiagLogLevel.NONE;
  } else if (maxLevel > DiagLogLevel.ALL) {
    maxLevel = DiagLogLevel.ALL;
  }
  logger = logger || {};
  function _filterFunc(funcName, theLevel) {
    var theFunc = logger[funcName];
    if (typeof theFunc === "function" && maxLevel >= theLevel) {
      return theFunc.bind(logger);
    }
    return function() {
    };
  }
  return {
    error: _filterFunc("error", DiagLogLevel.ERROR),
    warn: _filterFunc("warn", DiagLogLevel.WARN),
    info: _filterFunc("info", DiagLogLevel.INFO),
    debug: _filterFunc("debug", DiagLogLevel.DEBUG),
    verbose: _filterFunc("verbose", DiagLogLevel.VERBOSE)
  };
}

// node_modules/@opentelemetry/api/build/esm/api/diag.js
var __read2 = function(o2, n2) {
  var m2 = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m2) return o2;
  var i2 = m2.call(o2), r2, ar = [], e;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m2 = i2["return"])) m2.call(i2);
    } finally {
      if (e) throw e.error;
    }
  }
  return ar;
};
var __spreadArray2 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l2 = from.length, ar; i2 < l2; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var API_NAME = "diag";
var DiagAPI = (
  /** @class */
  (function() {
    function DiagAPI2() {
      function _logProxy(funcName) {
        return function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          var logger = getGlobal("diag");
          if (!logger)
            return;
          return logger[funcName].apply(logger, __spreadArray2([], __read2(args), false));
        };
      }
      var self = this;
      var setLogger = function(logger, optionsOrLogLevel) {
        var _a17, _b8, _c;
        if (optionsOrLogLevel === void 0) {
          optionsOrLogLevel = { logLevel: DiagLogLevel.INFO };
        }
        if (logger === self) {
          var err = new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");
          self.error((_a17 = err.stack) !== null && _a17 !== void 0 ? _a17 : err.message);
          return false;
        }
        if (typeof optionsOrLogLevel === "number") {
          optionsOrLogLevel = {
            logLevel: optionsOrLogLevel
          };
        }
        var oldLogger = getGlobal("diag");
        var newLogger = createLogLevelDiagLogger((_b8 = optionsOrLogLevel.logLevel) !== null && _b8 !== void 0 ? _b8 : DiagLogLevel.INFO, logger);
        if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {
          var stack = (_c = new Error().stack) !== null && _c !== void 0 ? _c : "<failed to generate stacktrace>";
          oldLogger.warn("Current logger will be overwritten from " + stack);
          newLogger.warn("Current logger will overwrite one already registered from " + stack);
        }
        return registerGlobal("diag", newLogger, self, true);
      };
      self.setLogger = setLogger;
      self.disable = function() {
        unregisterGlobal(API_NAME, self);
      };
      self.createComponentLogger = function(options) {
        return new DiagComponentLogger(options);
      };
      self.verbose = _logProxy("verbose");
      self.debug = _logProxy("debug");
      self.info = _logProxy("info");
      self.warn = _logProxy("warn");
      self.error = _logProxy("error");
    }
    DiagAPI2.instance = function() {
      if (!this._instance) {
        this._instance = new DiagAPI2();
      }
      return this._instance;
    };
    return DiagAPI2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/context/context.js
function createContextKey(description) {
  return Symbol.for(description);
}
var BaseContext = (
  /** @class */
  /* @__PURE__ */ (function() {
    function BaseContext2(parentContext) {
      var self = this;
      self._currentContext = parentContext ? new Map(parentContext) : /* @__PURE__ */ new Map();
      self.getValue = function(key) {
        return self._currentContext.get(key);
      };
      self.setValue = function(key, value) {
        var context = new BaseContext2(self._currentContext);
        context._currentContext.set(key, value);
        return context;
      };
      self.deleteValue = function(key) {
        var context = new BaseContext2(self._currentContext);
        context._currentContext.delete(key);
        return context;
      };
    }
    return BaseContext2;
  })()
);
var ROOT_CONTEXT = new BaseContext();

// node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js
var __read3 = function(o2, n2) {
  var m2 = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m2) return o2;
  var i2 = m2.call(o2), r2, ar = [], e;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m2 = i2["return"])) m2.call(i2);
    } finally {
      if (e) throw e.error;
    }
  }
  return ar;
};
var __spreadArray3 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l2 = from.length, ar; i2 < l2; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var NoopContextManager = (
  /** @class */
  (function() {
    function NoopContextManager2() {
    }
    NoopContextManager2.prototype.active = function() {
      return ROOT_CONTEXT;
    };
    NoopContextManager2.prototype.with = function(_context, fn, thisArg) {
      var args = [];
      for (var _i = 3; _i < arguments.length; _i++) {
        args[_i - 3] = arguments[_i];
      }
      return fn.call.apply(fn, __spreadArray3([thisArg], __read3(args), false));
    };
    NoopContextManager2.prototype.bind = function(_context, target) {
      return target;
    };
    NoopContextManager2.prototype.enable = function() {
      return this;
    };
    NoopContextManager2.prototype.disable = function() {
      return this;
    };
    return NoopContextManager2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/api/context.js
var __read4 = function(o2, n2) {
  var m2 = typeof Symbol === "function" && o2[Symbol.iterator];
  if (!m2) return o2;
  var i2 = m2.call(o2), r2, ar = [], e;
  try {
    while ((n2 === void 0 || n2-- > 0) && !(r2 = i2.next()).done) ar.push(r2.value);
  } catch (error45) {
    e = { error: error45 };
  } finally {
    try {
      if (r2 && !r2.done && (m2 = i2["return"])) m2.call(i2);
    } finally {
      if (e) throw e.error;
    }
  }
  return ar;
};
var __spreadArray4 = function(to, from, pack) {
  if (pack || arguments.length === 2) for (var i2 = 0, l2 = from.length, ar; i2 < l2; i2++) {
    if (ar || !(i2 in from)) {
      if (!ar) ar = Array.prototype.slice.call(from, 0, i2);
      ar[i2] = from[i2];
    }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var API_NAME2 = "context";
var NOOP_CONTEXT_MANAGER = new NoopContextManager();
var ContextAPI = (
  /** @class */
  (function() {
    function ContextAPI2() {
    }
    ContextAPI2.getInstance = function() {
      if (!this._instance) {
        this._instance = new ContextAPI2();
      }
      return this._instance;
    };
    ContextAPI2.prototype.setGlobalContextManager = function(contextManager) {
      return registerGlobal(API_NAME2, contextManager, DiagAPI.instance());
    };
    ContextAPI2.prototype.active = function() {
      return this._getContextManager().active();
    };
    ContextAPI2.prototype.with = function(context, fn, thisArg) {
      var _a17;
      var args = [];
      for (var _i = 3; _i < arguments.length; _i++) {
        args[_i - 3] = arguments[_i];
      }
      return (_a17 = this._getContextManager()).with.apply(_a17, __spreadArray4([context, fn, thisArg], __read4(args), false));
    };
    ContextAPI2.prototype.bind = function(context, target) {
      return this._getContextManager().bind(context, target);
    };
    ContextAPI2.prototype._getContextManager = function() {
      return getGlobal(API_NAME2) || NOOP_CONTEXT_MANAGER;
    };
    ContextAPI2.prototype.disable = function() {
      this._getContextManager().disable();
      unregisterGlobal(API_NAME2, DiagAPI.instance());
    };
    return ContextAPI2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js
var TraceFlags;
(function(TraceFlags2) {
  TraceFlags2[TraceFlags2["NONE"] = 0] = "NONE";
  TraceFlags2[TraceFlags2["SAMPLED"] = 1] = "SAMPLED";
})(TraceFlags || (TraceFlags = {}));

// node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js
var INVALID_SPANID = "0000000000000000";
var INVALID_TRACEID = "00000000000000000000000000000000";
var INVALID_SPAN_CONTEXT = {
  traceId: INVALID_TRACEID,
  spanId: INVALID_SPANID,
  traceFlags: TraceFlags.NONE
};

// node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js
var NonRecordingSpan = (
  /** @class */
  (function() {
    function NonRecordingSpan2(_spanContext) {
      if (_spanContext === void 0) {
        _spanContext = INVALID_SPAN_CONTEXT;
      }
      this._spanContext = _spanContext;
    }
    NonRecordingSpan2.prototype.spanContext = function() {
      return this._spanContext;
    };
    NonRecordingSpan2.prototype.setAttribute = function(_key, _value) {
      return this;
    };
    NonRecordingSpan2.prototype.setAttributes = function(_attributes) {
      return this;
    };
    NonRecordingSpan2.prototype.addEvent = function(_name, _attributes) {
      return this;
    };
    NonRecordingSpan2.prototype.addLink = function(_link) {
      return this;
    };
    NonRecordingSpan2.prototype.addLinks = function(_links) {
      return this;
    };
    NonRecordingSpan2.prototype.setStatus = function(_status) {
      return this;
    };
    NonRecordingSpan2.prototype.updateName = function(_name) {
      return this;
    };
    NonRecordingSpan2.prototype.end = function(_endTime) {
    };
    NonRecordingSpan2.prototype.isRecording = function() {
      return false;
    };
    NonRecordingSpan2.prototype.recordException = function(_exception, _time) {
    };
    return NonRecordingSpan2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/context-utils.js
var SPAN_KEY = createContextKey("OpenTelemetry Context Key SPAN");
function getSpan(context) {
  return context.getValue(SPAN_KEY) || void 0;
}
function getActiveSpan() {
  return getSpan(ContextAPI.getInstance().active());
}
function setSpan(context, span) {
  return context.setValue(SPAN_KEY, span);
}
function deleteSpan(context) {
  return context.deleteValue(SPAN_KEY);
}
function setSpanContext(context, spanContext) {
  return setSpan(context, new NonRecordingSpan(spanContext));
}
function getSpanContext(context) {
  var _a17;
  return (_a17 = getSpan(context)) === null || _a17 === void 0 ? void 0 : _a17.spanContext();
}

// node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js
var VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;
var VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;
function isValidTraceId(traceId) {
  return VALID_TRACEID_REGEX.test(traceId) && traceId !== INVALID_TRACEID;
}
function isValidSpanId(spanId) {
  return VALID_SPANID_REGEX.test(spanId) && spanId !== INVALID_SPANID;
}
function isSpanContextValid(spanContext) {
  return isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId);
}
function wrapSpanContext(spanContext) {
  return new NonRecordingSpan(spanContext);
}

// node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js
var contextApi = ContextAPI.getInstance();
var NoopTracer = (
  /** @class */
  (function() {
    function NoopTracer2() {
    }
    NoopTracer2.prototype.startSpan = function(name17, options, context) {
      if (context === void 0) {
        context = contextApi.active();
      }
      var root = Boolean(options === null || options === void 0 ? void 0 : options.root);
      if (root) {
        return new NonRecordingSpan();
      }
      var parentFromContext = context && getSpanContext(context);
      if (isSpanContext(parentFromContext) && isSpanContextValid(parentFromContext)) {
        return new NonRecordingSpan(parentFromContext);
      } else {
        return new NonRecordingSpan();
      }
    };
    NoopTracer2.prototype.startActiveSpan = function(name17, arg2, arg3, arg4) {
      var opts;
      var ctx;
      var fn;
      if (arguments.length < 2) {
        return;
      } else if (arguments.length === 2) {
        fn = arg2;
      } else if (arguments.length === 3) {
        opts = arg2;
        fn = arg3;
      } else {
        opts = arg2;
        ctx = arg3;
        fn = arg4;
      }
      var parentContext = ctx !== null && ctx !== void 0 ? ctx : contextApi.active();
      var span = this.startSpan(name17, opts, parentContext);
      var contextWithSpanSet = setSpan(parentContext, span);
      return contextApi.with(contextWithSpanSet, fn, void 0, span);
    };
    return NoopTracer2;
  })()
);
function isSpanContext(spanContext) {
  return typeof spanContext === "object" && typeof spanContext["spanId"] === "string" && typeof spanContext["traceId"] === "string" && typeof spanContext["traceFlags"] === "number";
}

// node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js
var NOOP_TRACER = new NoopTracer();
var ProxyTracer = (
  /** @class */
  (function() {
    function ProxyTracer2(_provider, name17, version2, options) {
      this._provider = _provider;
      this.name = name17;
      this.version = version2;
      this.options = options;
    }
    ProxyTracer2.prototype.startSpan = function(name17, options, context) {
      return this._getTracer().startSpan(name17, options, context);
    };
    ProxyTracer2.prototype.startActiveSpan = function(_name, _options, _context, _fn) {
      var tracer = this._getTracer();
      return Reflect.apply(tracer.startActiveSpan, tracer, arguments);
    };
    ProxyTracer2.prototype._getTracer = function() {
      if (this._delegate) {
        return this._delegate;
      }
      var tracer = this._provider.getDelegateTracer(this.name, this.version, this.options);
      if (!tracer) {
        return NOOP_TRACER;
      }
      this._delegate = tracer;
      return this._delegate;
    };
    return ProxyTracer2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js
var NoopTracerProvider = (
  /** @class */
  (function() {
    function NoopTracerProvider2() {
    }
    NoopTracerProvider2.prototype.getTracer = function(_name, _version, _options) {
      return new NoopTracer();
    };
    return NoopTracerProvider2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js
var NOOP_TRACER_PROVIDER = new NoopTracerProvider();
var ProxyTracerProvider = (
  /** @class */
  (function() {
    function ProxyTracerProvider2() {
    }
    ProxyTracerProvider2.prototype.getTracer = function(name17, version2, options) {
      var _a17;
      return (_a17 = this.getDelegateTracer(name17, version2, options)) !== null && _a17 !== void 0 ? _a17 : new ProxyTracer(this, name17, version2, options);
    };
    ProxyTracerProvider2.prototype.getDelegate = function() {
      var _a17;
      return (_a17 = this._delegate) !== null && _a17 !== void 0 ? _a17 : NOOP_TRACER_PROVIDER;
    };
    ProxyTracerProvider2.prototype.setDelegate = function(delegate) {
      this._delegate = delegate;
    };
    ProxyTracerProvider2.prototype.getDelegateTracer = function(name17, version2, options) {
      var _a17;
      return (_a17 = this._delegate) === null || _a17 === void 0 ? void 0 : _a17.getTracer(name17, version2, options);
    };
    return ProxyTracerProvider2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace/status.js
var SpanStatusCode;
(function(SpanStatusCode2) {
  SpanStatusCode2[SpanStatusCode2["UNSET"] = 0] = "UNSET";
  SpanStatusCode2[SpanStatusCode2["OK"] = 1] = "OK";
  SpanStatusCode2[SpanStatusCode2["ERROR"] = 2] = "ERROR";
})(SpanStatusCode || (SpanStatusCode = {}));

// node_modules/@opentelemetry/api/build/esm/api/trace.js
var API_NAME3 = "trace";
var TraceAPI = (
  /** @class */
  (function() {
    function TraceAPI2() {
      this._proxyTracerProvider = new ProxyTracerProvider();
      this.wrapSpanContext = wrapSpanContext;
      this.isSpanContextValid = isSpanContextValid;
      this.deleteSpan = deleteSpan;
      this.getSpan = getSpan;
      this.getActiveSpan = getActiveSpan;
      this.getSpanContext = getSpanContext;
      this.setSpan = setSpan;
      this.setSpanContext = setSpanContext;
    }
    TraceAPI2.getInstance = function() {
      if (!this._instance) {
        this._instance = new TraceAPI2();
      }
      return this._instance;
    };
    TraceAPI2.prototype.setGlobalTracerProvider = function(provider) {
      var success2 = registerGlobal(API_NAME3, this._proxyTracerProvider, DiagAPI.instance());
      if (success2) {
        this._proxyTracerProvider.setDelegate(provider);
      }
      return success2;
    };
    TraceAPI2.prototype.getTracerProvider = function() {
      return getGlobal(API_NAME3) || this._proxyTracerProvider;
    };
    TraceAPI2.prototype.getTracer = function(name17, version2) {
      return this.getTracerProvider().getTracer(name17, version2);
    };
    TraceAPI2.prototype.disable = function() {
      unregisterGlobal(API_NAME3, DiagAPI.instance());
      this._proxyTracerProvider = new ProxyTracerProvider();
    };
    return TraceAPI2;
  })()
);

// node_modules/@opentelemetry/api/build/esm/trace-api.js
var trace = TraceAPI.getInstance();

// node_modules/ai/dist/index.mjs
var __defProp2 = Object.defineProperty;
var __export2 = (target, all) => {
  for (var name17 in all)
    __defProp2(target, name17, { get: all[name17], enumerable: true });
};
var name15 = "AI_NoOutputSpecifiedError";
var marker16 = `vercel.ai.error.${name15}`;
var symbol17 = Symbol.for(marker16);
var _a16;
var NoOutputSpecifiedError = class extends AISDKError {
  // used in isInstance
  constructor({ message = "No output specified." } = {}) {
    super({ name: name15, message });
    this[_a16] = true;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker16);
  }
};
_a16 = symbol17;
function formatWarning(warning) {
  const prefix = "AI SDK Warning:";
  switch (warning.type) {
    case "unsupported-setting": {
      let message = `${prefix} The "${warning.setting}" setting is not supported by this model`;
      if (warning.details) {
        message += ` - ${warning.details}`;
      }
      return message;
    }
    case "unsupported-tool": {
      const toolName = "name" in warning.tool ? warning.tool.name : "unknown tool";
      let message = `${prefix} The tool "${toolName}" is not supported by this model`;
      if (warning.details) {
        message += ` - ${warning.details}`;
      }
      return message;
    }
    case "other": {
      return `${prefix} ${warning.message}`;
    }
    default: {
      return `${prefix} ${JSON.stringify(warning, null, 2)}`;
    }
  }
}
var FIRST_WARNING_INFO_MESSAGE = "AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.";
var hasLoggedBefore = false;
var logWarnings = (warnings) => {
  if (warnings.length === 0) {
    return;
  }
  const logger = globalThis.AI_SDK_LOG_WARNINGS;
  if (logger === false) {
    return;
  }
  if (typeof logger === "function") {
    logger(warnings);
    return;
  }
  if (!hasLoggedBefore) {
    hasLoggedBefore = true;
    console.info(FIRST_WARNING_INFO_MESSAGE);
  }
  for (const warning of warnings) {
    console.warn(formatWarning(warning));
  }
};
var name23 = "AI_InvalidArgumentError";
var marker23 = `vercel.ai.error.${name23}`;
var symbol23 = Symbol.for(marker23);
var _a23;
var InvalidArgumentError2 = class extends AISDKError {
  constructor({
    parameter,
    value,
    message
  }) {
    super({
      name: name23,
      message: `Invalid argument for parameter ${parameter}: ${message}`
    });
    this[_a23] = true;
    this.parameter = parameter;
    this.value = value;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker23);
  }
};
_a23 = symbol23;
var name33 = "AI_InvalidStreamPartError";
var marker33 = `vercel.ai.error.${name33}`;
var symbol33 = Symbol.for(marker33);
var _a33;
_a33 = symbol33;
var name43 = "AI_InvalidToolInputError";
var marker43 = `vercel.ai.error.${name43}`;
var symbol43 = Symbol.for(marker43);
var _a43;
var InvalidToolInputError = class extends AISDKError {
  constructor({
    toolInput,
    toolName,
    cause,
    message = `Invalid input for tool ${toolName}: ${getErrorMessage(cause)}`
  }) {
    super({ name: name43, message, cause });
    this[_a43] = true;
    this.toolInput = toolInput;
    this.toolName = toolName;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker43);
  }
};
_a43 = symbol43;
var name53 = "AI_MCPClientError";
var marker53 = `vercel.ai.error.${name53}`;
var symbol53 = Symbol.for(marker53);
var _a53;
_a53 = symbol53;
var name63 = "AI_NoImageGeneratedError";
var marker63 = `vercel.ai.error.${name63}`;
var symbol63 = Symbol.for(marker63);
var _a63;
_a63 = symbol63;
var name72 = "AI_NoObjectGeneratedError";
var marker73 = `vercel.ai.error.${name72}`;
var symbol73 = Symbol.for(marker73);
var _a73;
var NoObjectGeneratedError = class extends AISDKError {
  constructor({
    message = "No object generated.",
    cause,
    text: text2,
    response,
    usage,
    finishReason
  }) {
    super({ name: name72, message, cause });
    this[_a73] = true;
    this.text = text2;
    this.response = response;
    this.usage = usage;
    this.finishReason = finishReason;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker73);
  }
};
_a73 = symbol73;
var name82 = "AI_NoOutputGeneratedError";
var marker82 = `vercel.ai.error.${name82}`;
var symbol82 = Symbol.for(marker82);
var _a82;
var NoOutputGeneratedError = class extends AISDKError {
  // used in isInstance
  constructor({
    message = "No output generated.",
    cause
  } = {}) {
    super({ name: name82, message, cause });
    this[_a82] = true;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker82);
  }
};
_a82 = symbol82;
var name92 = "AI_NoSuchToolError";
var marker92 = `vercel.ai.error.${name92}`;
var symbol92 = Symbol.for(marker92);
var _a92;
var NoSuchToolError = class extends AISDKError {
  constructor({
    toolName,
    availableTools = void 0,
    message = `Model tried to call unavailable tool '${toolName}'. ${availableTools === void 0 ? "No tools are available." : `Available tools: ${availableTools.join(", ")}.`}`
  }) {
    super({ name: name92, message });
    this[_a92] = true;
    this.toolName = toolName;
    this.availableTools = availableTools;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker92);
  }
};
_a92 = symbol92;
var name102 = "AI_ToolCallRepairError";
var marker102 = `vercel.ai.error.${name102}`;
var symbol102 = Symbol.for(marker102);
var _a102;
var ToolCallRepairError = class extends AISDKError {
  constructor({
    cause,
    originalError,
    message = `Error repairing tool call: ${getErrorMessage(cause)}`
  }) {
    super({ name: name102, message, cause });
    this[_a102] = true;
    this.originalError = originalError;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker102);
  }
};
_a102 = symbol102;
var UnsupportedModelVersionError = class extends AISDKError {
  constructor(options) {
    super({
      name: "AI_UnsupportedModelVersionError",
      message: `Unsupported model version ${options.version} for provider "${options.provider}" and model "${options.modelId}". AI SDK 5 only supports models that implement specification version "v2".`
    });
    this.version = options.version;
    this.provider = options.provider;
    this.modelId = options.modelId;
  }
};
var name112 = "AI_InvalidDataContentError";
var marker112 = `vercel.ai.error.${name112}`;
var symbol112 = Symbol.for(marker112);
var _a112;
_a112 = symbol112;
var name122 = "AI_InvalidMessageRoleError";
var marker122 = `vercel.ai.error.${name122}`;
var symbol122 = Symbol.for(marker122);
var _a122;
var InvalidMessageRoleError = class extends AISDKError {
  constructor({
    role,
    message = `Invalid message role: '${role}'. Must be one of: "system", "user", "assistant", "tool".`
  }) {
    super({ name: name122, message });
    this[_a122] = true;
    this.role = role;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker122);
  }
};
_a122 = symbol122;
var name132 = "AI_MessageConversionError";
var marker132 = `vercel.ai.error.${name132}`;
var symbol132 = Symbol.for(marker132);
var _a132;
var MessageConversionError = class extends AISDKError {
  constructor({
    originalMessage,
    message
  }) {
    super({ name: name132, message });
    this[_a132] = true;
    this.originalMessage = originalMessage;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker132);
  }
};
_a132 = symbol132;
var name142 = "AI_DownloadError";
var marker142 = `vercel.ai.error.${name142}`;
var symbol142 = Symbol.for(marker142);
var _a142;
var DownloadError = class extends AISDKError {
  constructor({
    url: url2,
    statusCode,
    statusText,
    cause,
    message = cause == null ? `Failed to download ${url2}: ${statusCode} ${statusText}` : `Failed to download ${url2}: ${cause}`
  }) {
    super({ name: name142, message, cause });
    this[_a142] = true;
    this.url = url2;
    this.statusCode = statusCode;
    this.statusText = statusText;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker142);
  }
};
_a142 = symbol142;
var name152 = "AI_RetryError";
var marker152 = `vercel.ai.error.${name152}`;
var symbol152 = Symbol.for(marker152);
var _a152;
var RetryError = class extends AISDKError {
  constructor({
    message,
    reason,
    errors
  }) {
    super({ name: name152, message });
    this[_a152] = true;
    this.reason = reason;
    this.errors = errors;
    this.lastError = errors[errors.length - 1];
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker152);
  }
};
_a152 = symbol152;
function resolveLanguageModel(model) {
  if (typeof model !== "string") {
    if (model.specificationVersion !== "v2") {
      throw new UnsupportedModelVersionError({
        version: model.specificationVersion,
        provider: model.provider,
        modelId: model.modelId
      });
    }
    return model;
  }
  return getGlobalProvider().languageModel(model);
}
function getGlobalProvider() {
  var _a17;
  return (_a17 = globalThis.AI_SDK_DEFAULT_PROVIDER) != null ? _a17 : gateway;
}
var imageMediaTypeSignatures = [
  {
    mediaType: "image/gif",
    bytesPrefix: [71, 73, 70],
    base64Prefix: "R0lG"
  },
  {
    mediaType: "image/png",
    bytesPrefix: [137, 80, 78, 71],
    base64Prefix: "iVBORw"
  },
  {
    mediaType: "image/jpeg",
    bytesPrefix: [255, 216],
    base64Prefix: "/9j/"
  },
  {
    mediaType: "image/webp",
    bytesPrefix: [82, 73, 70, 70],
    base64Prefix: "UklGRg"
  },
  {
    mediaType: "image/bmp",
    bytesPrefix: [66, 77],
    base64Prefix: "Qk"
  },
  {
    mediaType: "image/tiff",
    bytesPrefix: [73, 73, 42, 0],
    base64Prefix: "SUkqAA"
  },
  {
    mediaType: "image/tiff",
    bytesPrefix: [77, 77, 0, 42],
    base64Prefix: "TU0AKg"
  },
  {
    mediaType: "image/avif",
    bytesPrefix: [
      0,
      0,
      0,
      32,
      102,
      116,
      121,
      112,
      97,
      118,
      105,
      102
    ],
    base64Prefix: "AAAAIGZ0eXBhdmlm"
  },
  {
    mediaType: "image/heic",
    bytesPrefix: [
      0,
      0,
      0,
      32,
      102,
      116,
      121,
      112,
      104,
      101,
      105,
      99
    ],
    base64Prefix: "AAAAIGZ0eXBoZWlj"
  }
];
var stripID3 = (data) => {
  const bytes = typeof data === "string" ? convertBase64ToUint8Array(data) : data;
  const id3Size = (bytes[6] & 127) << 21 | (bytes[7] & 127) << 14 | (bytes[8] & 127) << 7 | bytes[9] & 127;
  return bytes.slice(id3Size + 10);
};
function stripID3TagsIfPresent(data) {
  const hasId3 = typeof data === "string" && data.startsWith("SUQz") || typeof data !== "string" && data.length > 10 && data[0] === 73 && // 'I'
  data[1] === 68 && // 'D'
  data[2] === 51;
  return hasId3 ? stripID3(data) : data;
}
function detectMediaType({
  data,
  signatures
}) {
  const processedData = stripID3TagsIfPresent(data);
  for (const signature of signatures) {
    if (typeof processedData === "string" ? processedData.startsWith(signature.base64Prefix) : processedData.length >= signature.bytesPrefix.length && signature.bytesPrefix.every(
      (byte, index) => processedData[index] === byte
    )) {
      return signature.mediaType;
    }
  }
  return void 0;
}
var download = async ({ url: url2 }) => {
  var _a17;
  const urlText = url2.toString();
  try {
    const response = await fetch(urlText);
    if (!response.ok) {
      throw new DownloadError({
        url: urlText,
        statusCode: response.status,
        statusText: response.statusText
      });
    }
    return {
      data: new Uint8Array(await response.arrayBuffer()),
      mediaType: (_a17 = response.headers.get("content-type")) != null ? _a17 : void 0
    };
  } catch (error45) {
    if (DownloadError.isInstance(error45)) {
      throw error45;
    }
    throw new DownloadError({ url: urlText, cause: error45 });
  }
};
var createDefaultDownloadFunction = (download2 = download) => (requestedDownloads) => Promise.all(
  requestedDownloads.map(
    async (requestedDownload) => requestedDownload.isUrlSupportedByModel ? null : download2(requestedDownload)
  )
);
function splitDataUrl(dataUrl) {
  try {
    const [header, base64Content] = dataUrl.split(",");
    return {
      mediaType: header.split(";")[0].split(":")[1],
      base64Content
    };
  } catch (error45) {
    return {
      mediaType: void 0,
      base64Content: void 0
    };
  }
}
var dataContentSchema = external_exports.union([
  external_exports.string(),
  external_exports.instanceof(Uint8Array),
  external_exports.instanceof(ArrayBuffer),
  external_exports.custom(
    // Buffer might not be available in some environments such as CloudFlare:
    (value) => {
      var _a17, _b8;
      return (_b8 = (_a17 = globalThis.Buffer) == null ? void 0 : _a17.isBuffer(value)) != null ? _b8 : false;
    },
    { message: "Must be a Buffer" }
  )
]);
function convertToLanguageModelV2DataContent(content) {
  if (content instanceof Uint8Array) {
    return { data: content, mediaType: void 0 };
  }
  if (content instanceof ArrayBuffer) {
    return { data: new Uint8Array(content), mediaType: void 0 };
  }
  if (typeof content === "string") {
    try {
      content = new URL(content);
    } catch (error45) {
    }
  }
  if (content instanceof URL && content.protocol === "data:") {
    const { mediaType: dataUrlMediaType, base64Content } = splitDataUrl(
      content.toString()
    );
    if (dataUrlMediaType == null || base64Content == null) {
      throw new AISDKError({
        name: "InvalidDataContentError",
        message: `Invalid data URL format in content ${content.toString()}`
      });
    }
    return { data: base64Content, mediaType: dataUrlMediaType };
  }
  return { data: content, mediaType: void 0 };
}
function convertDataContentToBase64String(content) {
  if (typeof content === "string") {
    return content;
  }
  if (content instanceof ArrayBuffer) {
    return convertUint8ArrayToBase64(new Uint8Array(content));
  }
  return convertUint8ArrayToBase64(content);
}
async function convertToLanguageModelPrompt({
  prompt,
  supportedUrls,
  download: download2 = createDefaultDownloadFunction()
}) {
  const downloadedAssets = await downloadAssets(
    prompt.messages,
    download2,
    supportedUrls
  );
  return [
    ...prompt.system != null ? [{ role: "system", content: prompt.system }] : [],
    ...prompt.messages.map(
      (message) => convertToLanguageModelMessage({ message, downloadedAssets })
    )
  ];
}
function convertToLanguageModelMessage({
  message,
  downloadedAssets
}) {
  const role = message.role;
  switch (role) {
    case "system": {
      return {
        role: "system",
        content: message.content,
        providerOptions: message.providerOptions
      };
    }
    case "user": {
      if (typeof message.content === "string") {
        return {
          role: "user",
          content: [{ type: "text", text: message.content }],
          providerOptions: message.providerOptions
        };
      }
      return {
        role: "user",
        content: message.content.map((part) => convertPartToLanguageModelPart(part, downloadedAssets)).filter((part) => part.type !== "text" || part.text !== ""),
        providerOptions: message.providerOptions
      };
    }
    case "assistant": {
      if (typeof message.content === "string") {
        return {
          role: "assistant",
          content: [{ type: "text", text: message.content }],
          providerOptions: message.providerOptions
        };
      }
      return {
        role: "assistant",
        content: message.content.filter(
          // remove empty text parts:
          (part) => part.type !== "text" || part.text !== ""
        ).map((part) => {
          const providerOptions = part.providerOptions;
          switch (part.type) {
            case "file": {
              const { data, mediaType } = convertToLanguageModelV2DataContent(
                part.data
              );
              return {
                type: "file",
                data,
                filename: part.filename,
                mediaType: mediaType != null ? mediaType : part.mediaType,
                providerOptions
              };
            }
            case "reasoning": {
              return {
                type: "reasoning",
                text: part.text,
                providerOptions
              };
            }
            case "text": {
              return {
                type: "text",
                text: part.text,
                providerOptions
              };
            }
            case "tool-call": {
              return {
                type: "tool-call",
                toolCallId: part.toolCallId,
                toolName: part.toolName,
                input: part.input,
                providerExecuted: part.providerExecuted,
                providerOptions
              };
            }
            case "tool-result": {
              return {
                type: "tool-result",
                toolCallId: part.toolCallId,
                toolName: part.toolName,
                output: part.output,
                providerOptions
              };
            }
          }
        }),
        providerOptions: message.providerOptions
      };
    }
    case "tool": {
      return {
        role: "tool",
        content: message.content.map((part) => ({
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: part.output,
          providerOptions: part.providerOptions
        })),
        providerOptions: message.providerOptions
      };
    }
    default: {
      const _exhaustiveCheck = role;
      throw new InvalidMessageRoleError({ role: _exhaustiveCheck });
    }
  }
}
async function downloadAssets(messages, download2, supportedUrls) {
  const plannedDownloads = messages.filter((message) => message.role === "user").map((message) => message.content).filter(
    (content) => Array.isArray(content)
  ).flat().filter(
    (part) => part.type === "image" || part.type === "file"
  ).map((part) => {
    var _a17;
    const mediaType = (_a17 = part.mediaType) != null ? _a17 : part.type === "image" ? "image/*" : void 0;
    let data = part.type === "image" ? part.image : part.data;
    if (typeof data === "string") {
      try {
        data = new URL(data);
      } catch (ignored) {
      }
    }
    return { mediaType, data };
  }).filter(
    (part) => part.data instanceof URL
  ).map((part) => ({
    url: part.data,
    isUrlSupportedByModel: part.mediaType != null && isUrlSupported({
      url: part.data.toString(),
      mediaType: part.mediaType,
      supportedUrls
    })
  }));
  const downloadedFiles = await download2(plannedDownloads);
  return Object.fromEntries(
    downloadedFiles.filter(
      (downloadedFile) => (downloadedFile == null ? void 0 : downloadedFile.data) != null
    ).map(({ data, mediaType }, index) => [
      plannedDownloads[index].url.toString(),
      { data, mediaType }
    ])
  );
}
function convertPartToLanguageModelPart(part, downloadedAssets) {
  var _a17;
  if (part.type === "text") {
    return {
      type: "text",
      text: part.text,
      providerOptions: part.providerOptions
    };
  }
  let originalData;
  const type = part.type;
  switch (type) {
    case "image":
      originalData = part.image;
      break;
    case "file":
      originalData = part.data;
      break;
    default:
      throw new Error(`Unsupported part type: ${type}`);
  }
  const { data: convertedData, mediaType: convertedMediaType } = convertToLanguageModelV2DataContent(originalData);
  let mediaType = convertedMediaType != null ? convertedMediaType : part.mediaType;
  let data = convertedData;
  if (data instanceof URL) {
    const downloadedFile = downloadedAssets[data.toString()];
    if (downloadedFile) {
      data = downloadedFile.data;
      mediaType != null ? mediaType : mediaType = downloadedFile.mediaType;
    }
  }
  switch (type) {
    case "image": {
      if (data instanceof Uint8Array || typeof data === "string") {
        mediaType = (_a17 = detectMediaType({ data, signatures: imageMediaTypeSignatures })) != null ? _a17 : mediaType;
      }
      return {
        type: "file",
        mediaType: mediaType != null ? mediaType : "image/*",
        // any image
        filename: void 0,
        data,
        providerOptions: part.providerOptions
      };
    }
    case "file": {
      if (mediaType == null) {
        throw new Error(`Media type is missing for file part`);
      }
      return {
        type: "file",
        mediaType,
        filename: part.filename,
        data,
        providerOptions: part.providerOptions
      };
    }
  }
}
function prepareCallSettings({
  maxOutputTokens,
  temperature,
  topP,
  topK,
  presencePenalty,
  frequencyPenalty,
  seed,
  stopSequences
}) {
  if (maxOutputTokens != null) {
    if (!Number.isInteger(maxOutputTokens)) {
      throw new InvalidArgumentError2({
        parameter: "maxOutputTokens",
        value: maxOutputTokens,
        message: "maxOutputTokens must be an integer"
      });
    }
    if (maxOutputTokens < 1) {
      throw new InvalidArgumentError2({
        parameter: "maxOutputTokens",
        value: maxOutputTokens,
        message: "maxOutputTokens must be >= 1"
      });
    }
  }
  if (temperature != null) {
    if (typeof temperature !== "number") {
      throw new InvalidArgumentError2({
        parameter: "temperature",
        value: temperature,
        message: "temperature must be a number"
      });
    }
  }
  if (topP != null) {
    if (typeof topP !== "number") {
      throw new InvalidArgumentError2({
        parameter: "topP",
        value: topP,
        message: "topP must be a number"
      });
    }
  }
  if (topK != null) {
    if (typeof topK !== "number") {
      throw new InvalidArgumentError2({
        parameter: "topK",
        value: topK,
        message: "topK must be a number"
      });
    }
  }
  if (presencePenalty != null) {
    if (typeof presencePenalty !== "number") {
      throw new InvalidArgumentError2({
        parameter: "presencePenalty",
        value: presencePenalty,
        message: "presencePenalty must be a number"
      });
    }
  }
  if (frequencyPenalty != null) {
    if (typeof frequencyPenalty !== "number") {
      throw new InvalidArgumentError2({
        parameter: "frequencyPenalty",
        value: frequencyPenalty,
        message: "frequencyPenalty must be a number"
      });
    }
  }
  if (seed != null) {
    if (!Number.isInteger(seed)) {
      throw new InvalidArgumentError2({
        parameter: "seed",
        value: seed,
        message: "seed must be an integer"
      });
    }
  }
  return {
    maxOutputTokens,
    temperature,
    topP,
    topK,
    presencePenalty,
    frequencyPenalty,
    stopSequences,
    seed
  };
}
function isNonEmptyObject(object22) {
  return object22 != null && Object.keys(object22).length > 0;
}
function prepareToolsAndToolChoice({
  tools,
  toolChoice,
  activeTools
}) {
  if (!isNonEmptyObject(tools)) {
    return {
      tools: void 0,
      toolChoice: void 0
    };
  }
  const filteredTools = activeTools != null ? Object.entries(tools).filter(
    ([name17]) => activeTools.includes(name17)
  ) : Object.entries(tools);
  return {
    tools: filteredTools.map(([name17, tool3]) => {
      const toolType = tool3.type;
      switch (toolType) {
        case void 0:
        case "dynamic":
        case "function":
          return {
            type: "function",
            name: name17,
            description: tool3.description,
            inputSchema: asSchema(tool3.inputSchema).jsonSchema,
            providerOptions: tool3.providerOptions
          };
        case "provider-defined":
          return {
            type: "provider-defined",
            name: name17,
            id: tool3.id,
            args: tool3.args
          };
        default: {
          const exhaustiveCheck = toolType;
          throw new Error(`Unsupported tool type: ${exhaustiveCheck}`);
        }
      }
    }),
    toolChoice: toolChoice == null ? { type: "auto" } : typeof toolChoice === "string" ? { type: toolChoice } : { type: "tool", toolName: toolChoice.toolName }
  };
}
var jsonValueSchema = external_exports.lazy(
  () => external_exports.union([
    external_exports.null(),
    external_exports.string(),
    external_exports.number(),
    external_exports.boolean(),
    external_exports.record(external_exports.string(), jsonValueSchema),
    external_exports.array(jsonValueSchema)
  ])
);
var providerMetadataSchema = external_exports.record(
  external_exports.string(),
  external_exports.record(external_exports.string(), jsonValueSchema)
);
var textPartSchema = external_exports.object({
  type: external_exports.literal("text"),
  text: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var imagePartSchema = external_exports.object({
  type: external_exports.literal("image"),
  image: external_exports.union([dataContentSchema, external_exports.instanceof(URL)]),
  mediaType: external_exports.string().optional(),
  providerOptions: providerMetadataSchema.optional()
});
var filePartSchema = external_exports.object({
  type: external_exports.literal("file"),
  data: external_exports.union([dataContentSchema, external_exports.instanceof(URL)]),
  filename: external_exports.string().optional(),
  mediaType: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var reasoningPartSchema = external_exports.object({
  type: external_exports.literal("reasoning"),
  text: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var toolCallPartSchema = external_exports.object({
  type: external_exports.literal("tool-call"),
  toolCallId: external_exports.string(),
  toolName: external_exports.string(),
  input: external_exports.unknown(),
  providerOptions: providerMetadataSchema.optional(),
  providerExecuted: external_exports.boolean().optional()
});
var outputSchema = external_exports.discriminatedUnion("type", [
  external_exports.object({
    type: external_exports.literal("text"),
    value: external_exports.string()
  }),
  external_exports.object({
    type: external_exports.literal("json"),
    value: jsonValueSchema
  }),
  external_exports.object({
    type: external_exports.literal("error-text"),
    value: external_exports.string()
  }),
  external_exports.object({
    type: external_exports.literal("error-json"),
    value: jsonValueSchema
  }),
  external_exports.object({
    type: external_exports.literal("content"),
    value: external_exports.array(
      external_exports.union([
        external_exports.object({
          type: external_exports.literal("text"),
          text: external_exports.string()
        }),
        external_exports.object({
          type: external_exports.literal("media"),
          data: external_exports.string(),
          mediaType: external_exports.string()
        })
      ])
    )
  })
]);
var toolResultPartSchema = external_exports.object({
  type: external_exports.literal("tool-result"),
  toolCallId: external_exports.string(),
  toolName: external_exports.string(),
  output: outputSchema,
  providerOptions: providerMetadataSchema.optional()
});
var systemModelMessageSchema = external_exports.object(
  {
    role: external_exports.literal("system"),
    content: external_exports.string(),
    providerOptions: providerMetadataSchema.optional()
  }
);
var userModelMessageSchema = external_exports.object({
  role: external_exports.literal("user"),
  content: external_exports.union([
    external_exports.string(),
    external_exports.array(external_exports.union([textPartSchema, imagePartSchema, filePartSchema]))
  ]),
  providerOptions: providerMetadataSchema.optional()
});
var assistantModelMessageSchema = external_exports.object({
  role: external_exports.literal("assistant"),
  content: external_exports.union([
    external_exports.string(),
    external_exports.array(
      external_exports.union([
        textPartSchema,
        filePartSchema,
        reasoningPartSchema,
        toolCallPartSchema,
        toolResultPartSchema
      ])
    )
  ]),
  providerOptions: providerMetadataSchema.optional()
});
var toolModelMessageSchema = external_exports.object({
  role: external_exports.literal("tool"),
  content: external_exports.array(toolResultPartSchema),
  providerOptions: providerMetadataSchema.optional()
});
var modelMessageSchema = external_exports.union([
  systemModelMessageSchema,
  userModelMessageSchema,
  assistantModelMessageSchema,
  toolModelMessageSchema
]);
async function standardizePrompt(prompt) {
  if (prompt.prompt == null && prompt.messages == null) {
    throw new InvalidPromptError({
      prompt,
      message: "prompt or messages must be defined"
    });
  }
  if (prompt.prompt != null && prompt.messages != null) {
    throw new InvalidPromptError({
      prompt,
      message: "prompt and messages cannot be defined at the same time"
    });
  }
  if (prompt.system != null && typeof prompt.system !== "string") {
    throw new InvalidPromptError({
      prompt,
      message: "system must be a string"
    });
  }
  let messages;
  if (prompt.prompt != null && typeof prompt.prompt === "string") {
    messages = [{ role: "user", content: prompt.prompt }];
  } else if (prompt.prompt != null && Array.isArray(prompt.prompt)) {
    messages = prompt.prompt;
  } else if (prompt.messages != null) {
    messages = prompt.messages;
  } else {
    throw new InvalidPromptError({
      prompt,
      message: "prompt or messages must be defined"
    });
  }
  if (messages.length === 0) {
    throw new InvalidPromptError({
      prompt,
      message: "messages must not be empty"
    });
  }
  const validationResult = await safeValidateTypes({
    value: messages,
    schema: external_exports.array(modelMessageSchema)
  });
  if (!validationResult.success) {
    throw new InvalidPromptError({
      prompt,
      message: "The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",
      cause: validationResult.error
    });
  }
  return {
    messages,
    system: prompt.system
  };
}
function wrapGatewayError(error45) {
  if (GatewayAuthenticationError.isInstance(error45) || GatewayModelNotFoundError.isInstance(error45)) {
    return new AISDKError({
      name: "GatewayError",
      message: "Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.",
      cause: error45
    });
  }
  return error45;
}
function assembleOperationName({
  operationId,
  telemetry
}) {
  return {
    // standardized operation and resource name:
    "operation.name": `${operationId}${(telemetry == null ? void 0 : telemetry.functionId) != null ? ` ${telemetry.functionId}` : ""}`,
    "resource.name": telemetry == null ? void 0 : telemetry.functionId,
    // detailed, AI SDK specific data:
    "ai.operationId": operationId,
    "ai.telemetry.functionId": telemetry == null ? void 0 : telemetry.functionId
  };
}
function getBaseTelemetryAttributes({
  model,
  settings,
  telemetry,
  headers
}) {
  var _a17;
  return {
    "ai.model.provider": model.provider,
    "ai.model.id": model.modelId,
    // settings:
    ...Object.entries(settings).reduce((attributes, [key, value]) => {
      attributes[`ai.settings.${key}`] = value;
      return attributes;
    }, {}),
    // add metadata as attributes:
    ...Object.entries((_a17 = telemetry == null ? void 0 : telemetry.metadata) != null ? _a17 : {}).reduce(
      (attributes, [key, value]) => {
        attributes[`ai.telemetry.metadata.${key}`] = value;
        return attributes;
      },
      {}
    ),
    // request headers
    ...Object.entries(headers != null ? headers : {}).reduce((attributes, [key, value]) => {
      if (value !== void 0) {
        attributes[`ai.request.headers.${key}`] = value;
      }
      return attributes;
    }, {})
  };
}
var noopTracer = {
  startSpan() {
    return noopSpan;
  },
  startActiveSpan(name17, arg1, arg2, arg3) {
    if (typeof arg1 === "function") {
      return arg1(noopSpan);
    }
    if (typeof arg2 === "function") {
      return arg2(noopSpan);
    }
    if (typeof arg3 === "function") {
      return arg3(noopSpan);
    }
  }
};
var noopSpan = {
  spanContext() {
    return noopSpanContext;
  },
  setAttribute() {
    return this;
  },
  setAttributes() {
    return this;
  },
  addEvent() {
    return this;
  },
  addLink() {
    return this;
  },
  addLinks() {
    return this;
  },
  setStatus() {
    return this;
  },
  updateName() {
    return this;
  },
  end() {
    return this;
  },
  isRecording() {
    return false;
  },
  recordException() {
    return this;
  }
};
var noopSpanContext = {
  traceId: "",
  spanId: "",
  traceFlags: 0
};
function getTracer({
  isEnabled = false,
  tracer
} = {}) {
  if (!isEnabled) {
    return noopTracer;
  }
  if (tracer) {
    return tracer;
  }
  return trace.getTracer("ai");
}
function recordSpan({
  name: name17,
  tracer,
  attributes,
  fn,
  endWhenDone = true
}) {
  return tracer.startActiveSpan(name17, { attributes }, async (span) => {
    try {
      const result = await fn(span);
      if (endWhenDone) {
        span.end();
      }
      return result;
    } catch (error45) {
      try {
        recordErrorOnSpan(span, error45);
      } finally {
        span.end();
      }
      throw error45;
    }
  });
}
function recordErrorOnSpan(span, error45) {
  if (error45 instanceof Error) {
    span.recordException({
      name: error45.name,
      message: error45.message,
      stack: error45.stack
    });
    span.setStatus({
      code: SpanStatusCode.ERROR,
      message: error45.message
    });
  } else {
    span.setStatus({ code: SpanStatusCode.ERROR });
  }
}
function selectTelemetryAttributes({
  telemetry,
  attributes
}) {
  if ((telemetry == null ? void 0 : telemetry.isEnabled) !== true) {
    return {};
  }
  return Object.entries(attributes).reduce((attributes2, [key, value]) => {
    if (value == null) {
      return attributes2;
    }
    if (typeof value === "object" && "input" in value && typeof value.input === "function") {
      if ((telemetry == null ? void 0 : telemetry.recordInputs) === false) {
        return attributes2;
      }
      const result = value.input();
      return result == null ? attributes2 : { ...attributes2, [key]: result };
    }
    if (typeof value === "object" && "output" in value && typeof value.output === "function") {
      if ((telemetry == null ? void 0 : telemetry.recordOutputs) === false) {
        return attributes2;
      }
      const result = value.output();
      return result == null ? attributes2 : { ...attributes2, [key]: result };
    }
    return { ...attributes2, [key]: value };
  }, {});
}
function stringifyForTelemetry(prompt) {
  return JSON.stringify(
    prompt.map((message) => ({
      ...message,
      content: typeof message.content === "string" ? message.content : message.content.map(
        (part) => part.type === "file" ? {
          ...part,
          data: part.data instanceof Uint8Array ? convertDataContentToBase64String(part.data) : part.data
        } : part
      )
    }))
  );
}
function addLanguageModelUsage(usage1, usage2) {
  return {
    inputTokens: addTokenCounts(usage1.inputTokens, usage2.inputTokens),
    outputTokens: addTokenCounts(usage1.outputTokens, usage2.outputTokens),
    totalTokens: addTokenCounts(usage1.totalTokens, usage2.totalTokens),
    reasoningTokens: addTokenCounts(
      usage1.reasoningTokens,
      usage2.reasoningTokens
    ),
    cachedInputTokens: addTokenCounts(
      usage1.cachedInputTokens,
      usage2.cachedInputTokens
    )
  };
}
function addTokenCounts(tokenCount1, tokenCount2) {
  return tokenCount1 == null && tokenCount2 == null ? void 0 : (tokenCount1 != null ? tokenCount1 : 0) + (tokenCount2 != null ? tokenCount2 : 0);
}
function asArray(value) {
  return value === void 0 ? [] : Array.isArray(value) ? value : [value];
}
function getRetryDelayInMs({
  error: error45,
  exponentialBackoffDelay
}) {
  const headers = error45.responseHeaders;
  if (!headers)
    return exponentialBackoffDelay;
  let ms;
  const retryAfterMs = headers["retry-after-ms"];
  if (retryAfterMs) {
    const timeoutMs = parseFloat(retryAfterMs);
    if (!Number.isNaN(timeoutMs)) {
      ms = timeoutMs;
    }
  }
  const retryAfter = headers["retry-after"];
  if (retryAfter && ms === void 0) {
    const timeoutSeconds = parseFloat(retryAfter);
    if (!Number.isNaN(timeoutSeconds)) {
      ms = timeoutSeconds * 1e3;
    } else {
      ms = Date.parse(retryAfter) - Date.now();
    }
  }
  if (ms != null && !Number.isNaN(ms) && 0 <= ms && (ms < 60 * 1e3 || ms < exponentialBackoffDelay)) {
    return ms;
  }
  return exponentialBackoffDelay;
}
var retryWithExponentialBackoffRespectingRetryHeaders = ({
  maxRetries = 2,
  initialDelayInMs = 2e3,
  backoffFactor = 2,
  abortSignal
} = {}) => async (f2) => _retryWithExponentialBackoff(f2, {
  maxRetries,
  delayInMs: initialDelayInMs,
  backoffFactor,
  abortSignal
});
async function _retryWithExponentialBackoff(f2, {
  maxRetries,
  delayInMs,
  backoffFactor,
  abortSignal
}, errors = []) {
  try {
    return await f2();
  } catch (error45) {
    if (isAbortError(error45)) {
      throw error45;
    }
    if (maxRetries === 0) {
      throw error45;
    }
    const errorMessage = getErrorMessage2(error45);
    const newErrors = [...errors, error45];
    const tryNumber = newErrors.length;
    if (tryNumber > maxRetries) {
      throw new RetryError({
        message: `Failed after ${tryNumber} attempts. Last error: ${errorMessage}`,
        reason: "maxRetriesExceeded",
        errors: newErrors
      });
    }
    if (error45 instanceof Error && APICallError.isInstance(error45) && error45.isRetryable === true && tryNumber <= maxRetries) {
      await delay(
        getRetryDelayInMs({
          error: error45,
          exponentialBackoffDelay: delayInMs
        }),
        { abortSignal }
      );
      return _retryWithExponentialBackoff(
        f2,
        {
          maxRetries,
          delayInMs: backoffFactor * delayInMs,
          backoffFactor,
          abortSignal
        },
        newErrors
      );
    }
    if (tryNumber === 1) {
      throw error45;
    }
    throw new RetryError({
      message: `Failed after ${tryNumber} attempts with non-retryable error: '${errorMessage}'`,
      reason: "errorNotRetryable",
      errors: newErrors
    });
  }
}
function prepareRetries({
  maxRetries,
  abortSignal
}) {
  if (maxRetries != null) {
    if (!Number.isInteger(maxRetries)) {
      throw new InvalidArgumentError2({
        parameter: "maxRetries",
        value: maxRetries,
        message: "maxRetries must be an integer"
      });
    }
    if (maxRetries < 0) {
      throw new InvalidArgumentError2({
        parameter: "maxRetries",
        value: maxRetries,
        message: "maxRetries must be >= 0"
      });
    }
  }
  const maxRetriesResult = maxRetries != null ? maxRetries : 2;
  return {
    maxRetries: maxRetriesResult,
    retry: retryWithExponentialBackoffRespectingRetryHeaders({
      maxRetries: maxRetriesResult,
      abortSignal
    })
  };
}
var DefaultGeneratedFile = class {
  constructor({
    data,
    mediaType
  }) {
    const isUint8Array = data instanceof Uint8Array;
    this.base64Data = isUint8Array ? void 0 : data;
    this.uint8ArrayData = isUint8Array ? data : void 0;
    this.mediaType = mediaType;
  }
  // lazy conversion with caching to avoid unnecessary conversion overhead:
  get base64() {
    if (this.base64Data == null) {
      this.base64Data = convertUint8ArrayToBase64(this.uint8ArrayData);
    }
    return this.base64Data;
  }
  // lazy conversion with caching to avoid unnecessary conversion overhead:
  get uint8Array() {
    if (this.uint8ArrayData == null) {
      this.uint8ArrayData = convertBase64ToUint8Array(this.base64Data);
    }
    return this.uint8ArrayData;
  }
};
var DefaultGeneratedFileWithType = class extends DefaultGeneratedFile {
  constructor(options) {
    super(options);
    this.type = "file";
  }
};
async function parseToolCall({
  toolCall,
  tools,
  repairToolCall,
  system,
  messages
}) {
  try {
    if (tools == null) {
      throw new NoSuchToolError({ toolName: toolCall.toolName });
    }
    try {
      return await doParseToolCall({ toolCall, tools });
    } catch (error45) {
      if (repairToolCall == null || !(NoSuchToolError.isInstance(error45) || InvalidToolInputError.isInstance(error45))) {
        throw error45;
      }
      let repairedToolCall = null;
      try {
        repairedToolCall = await repairToolCall({
          toolCall,
          tools,
          inputSchema: ({ toolName }) => {
            const { inputSchema } = tools[toolName];
            return asSchema(inputSchema).jsonSchema;
          },
          system,
          messages,
          error: error45
        });
      } catch (repairError) {
        throw new ToolCallRepairError({
          cause: repairError,
          originalError: error45
        });
      }
      if (repairedToolCall == null) {
        throw error45;
      }
      return await doParseToolCall({ toolCall: repairedToolCall, tools });
    }
  } catch (error45) {
    const parsedInput = await safeParseJSON({ text: toolCall.input });
    const input = parsedInput.success ? parsedInput.value : toolCall.input;
    return {
      type: "tool-call",
      toolCallId: toolCall.toolCallId,
      toolName: toolCall.toolName,
      input,
      dynamic: true,
      invalid: true,
      error: error45
    };
  }
}
async function doParseToolCall({
  toolCall,
  tools
}) {
  const toolName = toolCall.toolName;
  const tool3 = tools[toolName];
  if (tool3 == null) {
    throw new NoSuchToolError({
      toolName: toolCall.toolName,
      availableTools: Object.keys(tools)
    });
  }
  const schema = asSchema(tool3.inputSchema);
  const parseResult = toolCall.input.trim() === "" ? await safeValidateTypes({ value: {}, schema }) : await safeParseJSON({ text: toolCall.input, schema });
  if (parseResult.success === false) {
    throw new InvalidToolInputError({
      toolName,
      toolInput: toolCall.input,
      cause: parseResult.error
    });
  }
  return tool3.type === "dynamic" ? {
    type: "tool-call",
    toolCallId: toolCall.toolCallId,
    toolName: toolCall.toolName,
    input: parseResult.value,
    providerExecuted: toolCall.providerExecuted,
    providerMetadata: toolCall.providerMetadata,
    dynamic: true
  } : {
    type: "tool-call",
    toolCallId: toolCall.toolCallId,
    toolName,
    input: parseResult.value,
    providerExecuted: toolCall.providerExecuted,
    providerMetadata: toolCall.providerMetadata
  };
}
var DefaultStepResult = class {
  constructor({
    content,
    finishReason,
    usage,
    warnings,
    request,
    response,
    providerMetadata
  }) {
    this.content = content;
    this.finishReason = finishReason;
    this.usage = usage;
    this.warnings = warnings;
    this.request = request;
    this.response = response;
    this.providerMetadata = providerMetadata;
  }
  get text() {
    return this.content.filter((part) => part.type === "text").map((part) => part.text).join("");
  }
  get reasoning() {
    return this.content.filter((part) => part.type === "reasoning");
  }
  get reasoningText() {
    return this.reasoning.length === 0 ? void 0 : this.reasoning.map((part) => part.text).join("");
  }
  get files() {
    return this.content.filter((part) => part.type === "file").map((part) => part.file);
  }
  get sources() {
    return this.content.filter((part) => part.type === "source");
  }
  get toolCalls() {
    return this.content.filter((part) => part.type === "tool-call");
  }
  get staticToolCalls() {
    return this.toolCalls.filter(
      (toolCall) => toolCall.dynamic === false
    );
  }
  get dynamicToolCalls() {
    return this.toolCalls.filter(
      (toolCall) => toolCall.dynamic === true
    );
  }
  get toolResults() {
    return this.content.filter((part) => part.type === "tool-result");
  }
  get staticToolResults() {
    return this.toolResults.filter(
      (toolResult) => toolResult.dynamic === false
    );
  }
  get dynamicToolResults() {
    return this.toolResults.filter(
      (toolResult) => toolResult.dynamic === true
    );
  }
};
function stepCountIs(stepCount) {
  return ({ steps }) => steps.length === stepCount;
}
async function isStopConditionMet({
  stopConditions,
  steps
}) {
  return (await Promise.all(stopConditions.map((condition) => condition({ steps })))).some((result) => result);
}
function createToolModelOutput({
  output,
  tool: tool3,
  errorMode
}) {
  if (errorMode === "text") {
    return { type: "error-text", value: getErrorMessage(output) };
  } else if (errorMode === "json") {
    return { type: "error-json", value: toJSONValue(output) };
  }
  if (tool3 == null ? void 0 : tool3.toModelOutput) {
    return tool3.toModelOutput(output);
  }
  return typeof output === "string" ? { type: "text", value: output } : { type: "json", value: toJSONValue(output) };
}
function toJSONValue(value) {
  return value === void 0 ? null : value;
}
function toResponseMessages({
  content: inputContent,
  tools
}) {
  const responseMessages = [];
  const content = inputContent.filter((part) => part.type !== "source").filter(
    (part) => (part.type !== "tool-result" || part.providerExecuted) && (part.type !== "tool-error" || part.providerExecuted)
  ).filter((part) => part.type !== "text" || part.text.length > 0).map((part) => {
    switch (part.type) {
      case "text":
        return {
          type: "text",
          text: part.text,
          providerOptions: part.providerMetadata
        };
      case "reasoning":
        return {
          type: "reasoning",
          text: part.text,
          providerOptions: part.providerMetadata
        };
      case "file":
        return {
          type: "file",
          data: part.file.base64,
          mediaType: part.file.mediaType,
          providerOptions: part.providerMetadata
        };
      case "tool-call":
        return {
          type: "tool-call",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          input: part.input,
          providerExecuted: part.providerExecuted,
          providerOptions: part.providerMetadata
        };
      case "tool-result":
        return {
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: createToolModelOutput({
            tool: tools == null ? void 0 : tools[part.toolName],
            output: part.output,
            errorMode: "none"
          }),
          providerExecuted: true,
          providerOptions: part.providerMetadata
        };
      case "tool-error":
        return {
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: createToolModelOutput({
            tool: tools == null ? void 0 : tools[part.toolName],
            output: part.error,
            errorMode: "json"
          }),
          providerOptions: part.providerMetadata
        };
    }
  });
  if (content.length > 0) {
    responseMessages.push({
      role: "assistant",
      content
    });
  }
  const toolResultContent = inputContent.filter((part) => part.type === "tool-result" || part.type === "tool-error").filter((part) => !part.providerExecuted).map((toolResult) => ({
    type: "tool-result",
    toolCallId: toolResult.toolCallId,
    toolName: toolResult.toolName,
    output: createToolModelOutput({
      tool: tools == null ? void 0 : tools[toolResult.toolName],
      output: toolResult.type === "tool-result" ? toolResult.output : toolResult.error,
      errorMode: toolResult.type === "tool-error" ? "text" : "none"
    })
  }));
  if (toolResultContent.length > 0) {
    responseMessages.push({
      role: "tool",
      content: toolResultContent
    });
  }
  return responseMessages;
}
var originalGenerateId = createIdGenerator({
  prefix: "aitxt",
  size: 24
});
function prepareHeaders(headers, defaultHeaders) {
  const responseHeaders = new Headers(headers != null ? headers : {});
  for (const [key, value] of Object.entries(defaultHeaders)) {
    if (!responseHeaders.has(key)) {
      responseHeaders.set(key, value);
    }
  }
  return responseHeaders;
}
function createTextStreamResponse({
  status,
  statusText,
  headers,
  textStream
}) {
  return new Response(textStream.pipeThrough(new TextEncoderStream()), {
    status: status != null ? status : 200,
    statusText,
    headers: prepareHeaders(headers, {
      "content-type": "text/plain; charset=utf-8"
    })
  });
}
function writeToServerResponse({
  response,
  status,
  statusText,
  headers,
  stream
}) {
  response.writeHead(status != null ? status : 200, statusText, headers);
  const reader = stream.getReader();
  const read = async () => {
    try {
      while (true) {
        const { done, value } = await reader.read();
        if (done)
          break;
        response.write(value);
      }
    } catch (error45) {
      throw error45;
    } finally {
      response.end();
    }
  };
  read();
}
function pipeTextStreamToResponse({
  response,
  status,
  statusText,
  headers,
  textStream
}) {
  writeToServerResponse({
    response,
    status,
    statusText,
    headers: Object.fromEntries(
      prepareHeaders(headers, {
        "content-type": "text/plain; charset=utf-8"
      }).entries()
    ),
    stream: textStream.pipeThrough(new TextEncoderStream())
  });
}
var JsonToSseTransformStream = class extends TransformStream {
  constructor() {
    super({
      transform(part, controller) {
        controller.enqueue(`data: ${JSON.stringify(part)}

`);
      },
      flush(controller) {
        controller.enqueue("data: [DONE]\n\n");
      }
    });
  }
};
var UI_MESSAGE_STREAM_HEADERS = {
  "content-type": "text/event-stream",
  "cache-control": "no-cache",
  connection: "keep-alive",
  "x-vercel-ai-ui-message-stream": "v1",
  "x-accel-buffering": "no"
  // disable nginx buffering
};
function createUIMessageStreamResponse({
  status,
  statusText,
  headers,
  stream,
  consumeSseStream
}) {
  let sseStream = stream.pipeThrough(new JsonToSseTransformStream());
  if (consumeSseStream) {
    const [stream1, stream2] = sseStream.tee();
    sseStream = stream1;
    consumeSseStream({ stream: stream2 });
  }
  return new Response(sseStream.pipeThrough(new TextEncoderStream()), {
    status,
    statusText,
    headers: prepareHeaders(headers, UI_MESSAGE_STREAM_HEADERS)
  });
}
function getResponseUIMessageId({
  originalMessages,
  responseMessageId
}) {
  if (originalMessages == null) {
    return void 0;
  }
  const lastMessage = originalMessages[originalMessages.length - 1];
  return (lastMessage == null ? void 0 : lastMessage.role) === "assistant" ? lastMessage.id : typeof responseMessageId === "function" ? responseMessageId() : responseMessageId;
}
var uiMessageChunkSchema = external_exports.union([
  external_exports.strictObject({
    type: external_exports.literal("text-start"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("text-delta"),
    id: external_exports.string(),
    delta: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("text-end"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("error"),
    errorText: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-start"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-delta"),
    toolCallId: external_exports.string(),
    inputTextDelta: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-available"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    input: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    providerMetadata: providerMetadataSchema.optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-error"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    input: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    providerMetadata: providerMetadataSchema.optional(),
    dynamic: external_exports.boolean().optional(),
    errorText: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-output-available"),
    toolCallId: external_exports.string(),
    output: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional(),
    preliminary: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-output-error"),
    toolCallId: external_exports.string(),
    errorText: external_exports.string(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning"),
    text: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-start"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-delta"),
    id: external_exports.string(),
    delta: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-end"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-part-finish")
  }),
  external_exports.strictObject({
    type: external_exports.literal("source-url"),
    sourceId: external_exports.string(),
    url: external_exports.string(),
    title: external_exports.string().optional(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("source-document"),
    sourceId: external_exports.string(),
    mediaType: external_exports.string(),
    title: external_exports.string(),
    filename: external_exports.string().optional(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("file"),
    url: external_exports.string(),
    mediaType: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.string().startsWith("data-"),
    id: external_exports.string().optional(),
    data: external_exports.unknown(),
    transient: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("start-step")
  }),
  external_exports.strictObject({
    type: external_exports.literal("finish-step")
  }),
  external_exports.strictObject({
    type: external_exports.literal("start"),
    messageId: external_exports.string().optional(),
    messageMetadata: external_exports.unknown().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("finish"),
    messageMetadata: external_exports.unknown().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("abort")
  }),
  external_exports.strictObject({
    type: external_exports.literal("message-metadata"),
    messageMetadata: external_exports.unknown()
  })
]);
function isDataUIMessageChunk(chunk) {
  return chunk.type.startsWith("data-");
}
function mergeObjects(base, overrides) {
  if (base === void 0 && overrides === void 0) {
    return void 0;
  }
  if (base === void 0) {
    return overrides;
  }
  if (overrides === void 0) {
    return base;
  }
  const result = { ...base };
  for (const key in overrides) {
    if (Object.prototype.hasOwnProperty.call(overrides, key)) {
      const overridesValue = overrides[key];
      if (overridesValue === void 0)
        continue;
      const baseValue = key in base ? base[key] : void 0;
      const isSourceObject = overridesValue !== null && typeof overridesValue === "object" && !Array.isArray(overridesValue) && !(overridesValue instanceof Date) && !(overridesValue instanceof RegExp);
      const isTargetObject = baseValue !== null && baseValue !== void 0 && typeof baseValue === "object" && !Array.isArray(baseValue) && !(baseValue instanceof Date) && !(baseValue instanceof RegExp);
      if (isSourceObject && isTargetObject) {
        result[key] = mergeObjects(
          baseValue,
          overridesValue
        );
      } else {
        result[key] = overridesValue;
      }
    }
  }
  return result;
}
function fixJson(input) {
  const stack = ["ROOT"];
  let lastValidIndex = -1;
  let literalStart = null;
  function processValueStart(char, i2, swapState) {
    {
      switch (char) {
        case '"': {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_STRING");
          break;
        }
        case "f":
        case "t":
        case "n": {
          lastValidIndex = i2;
          literalStart = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_LITERAL");
          break;
        }
        case "-": {
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_NUMBER");
          break;
        }
        case "0":
        case "1":
        case "2":
        case "3":
        case "4":
        case "5":
        case "6":
        case "7":
        case "8":
        case "9": {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_NUMBER");
          break;
        }
        case "{": {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_OBJECT_START");
          break;
        }
        case "[": {
          lastValidIndex = i2;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_ARRAY_START");
          break;
        }
      }
    }
  }
  function processAfterObjectValue(char, i2) {
    switch (char) {
      case ",": {
        stack.pop();
        stack.push("INSIDE_OBJECT_AFTER_COMMA");
        break;
      }
      case "}": {
        lastValidIndex = i2;
        stack.pop();
        break;
      }
    }
  }
  function processAfterArrayValue(char, i2) {
    switch (char) {
      case ",": {
        stack.pop();
        stack.push("INSIDE_ARRAY_AFTER_COMMA");
        break;
      }
      case "]": {
        lastValidIndex = i2;
        stack.pop();
        break;
      }
    }
  }
  for (let i2 = 0; i2 < input.length; i2++) {
    const char = input[i2];
    const currentState = stack[stack.length - 1];
    switch (currentState) {
      case "ROOT":
        processValueStart(char, i2, "FINISH");
        break;
      case "INSIDE_OBJECT_START": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_KEY");
            break;
          }
          case "}": {
            lastValidIndex = i2;
            stack.pop();
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_AFTER_COMMA": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_KEY");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_KEY": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_AFTER_KEY");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_AFTER_KEY": {
        switch (char) {
          case ":": {
            stack.pop();
            stack.push("INSIDE_OBJECT_BEFORE_VALUE");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_BEFORE_VALUE": {
        processValueStart(char, i2, "INSIDE_OBJECT_AFTER_VALUE");
        break;
      }
      case "INSIDE_OBJECT_AFTER_VALUE": {
        processAfterObjectValue(char, i2);
        break;
      }
      case "INSIDE_STRING": {
        switch (char) {
          case '"': {
            stack.pop();
            lastValidIndex = i2;
            break;
          }
          case "\\": {
            stack.push("INSIDE_STRING_ESCAPE");
            break;
          }
          default: {
            lastValidIndex = i2;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_START": {
        switch (char) {
          case "]": {
            lastValidIndex = i2;
            stack.pop();
            break;
          }
          default: {
            lastValidIndex = i2;
            processValueStart(char, i2, "INSIDE_ARRAY_AFTER_VALUE");
            break;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_AFTER_VALUE": {
        switch (char) {
          case ",": {
            stack.pop();
            stack.push("INSIDE_ARRAY_AFTER_COMMA");
            break;
          }
          case "]": {
            lastValidIndex = i2;
            stack.pop();
            break;
          }
          default: {
            lastValidIndex = i2;
            break;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_AFTER_COMMA": {
        processValueStart(char, i2, "INSIDE_ARRAY_AFTER_VALUE");
        break;
      }
      case "INSIDE_STRING_ESCAPE": {
        stack.pop();
        lastValidIndex = i2;
        break;
      }
      case "INSIDE_NUMBER": {
        switch (char) {
          case "0":
          case "1":
          case "2":
          case "3":
          case "4":
          case "5":
          case "6":
          case "7":
          case "8":
          case "9": {
            lastValidIndex = i2;
            break;
          }
          case "e":
          case "E":
          case "-":
          case ".": {
            break;
          }
          case ",": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
              processAfterArrayValue(char, i2);
            }
            if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
              processAfterObjectValue(char, i2);
            }
            break;
          }
          case "}": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
              processAfterObjectValue(char, i2);
            }
            break;
          }
          case "]": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
              processAfterArrayValue(char, i2);
            }
            break;
          }
          default: {
            stack.pop();
            break;
          }
        }
        break;
      }
      case "INSIDE_LITERAL": {
        const partialLiteral = input.substring(literalStart, i2 + 1);
        if (!"false".startsWith(partialLiteral) && !"true".startsWith(partialLiteral) && !"null".startsWith(partialLiteral)) {
          stack.pop();
          if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
            processAfterObjectValue(char, i2);
          } else if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
            processAfterArrayValue(char, i2);
          }
        } else {
          lastValidIndex = i2;
        }
        break;
      }
    }
  }
  let result = input.slice(0, lastValidIndex + 1);
  for (let i2 = stack.length - 1; i2 >= 0; i2--) {
    const state = stack[i2];
    switch (state) {
      case "INSIDE_STRING": {
        result += '"';
        break;
      }
      case "INSIDE_OBJECT_KEY":
      case "INSIDE_OBJECT_AFTER_KEY":
      case "INSIDE_OBJECT_AFTER_COMMA":
      case "INSIDE_OBJECT_START":
      case "INSIDE_OBJECT_BEFORE_VALUE":
      case "INSIDE_OBJECT_AFTER_VALUE": {
        result += "}";
        break;
      }
      case "INSIDE_ARRAY_START":
      case "INSIDE_ARRAY_AFTER_COMMA":
      case "INSIDE_ARRAY_AFTER_VALUE": {
        result += "]";
        break;
      }
      case "INSIDE_LITERAL": {
        const partialLiteral = input.substring(literalStart, input.length);
        if ("true".startsWith(partialLiteral)) {
          result += "true".slice(partialLiteral.length);
        } else if ("false".startsWith(partialLiteral)) {
          result += "false".slice(partialLiteral.length);
        } else if ("null".startsWith(partialLiteral)) {
          result += "null".slice(partialLiteral.length);
        }
      }
    }
  }
  return result;
}
async function parsePartialJson(jsonText) {
  if (jsonText === void 0) {
    return { value: void 0, state: "undefined-input" };
  }
  let result = await safeParseJSON({ text: jsonText });
  if (result.success) {
    return { value: result.value, state: "successful-parse" };
  }
  result = await safeParseJSON({ text: fixJson(jsonText) });
  if (result.success) {
    return { value: result.value, state: "repaired-parse" };
  }
  return { value: void 0, state: "failed-parse" };
}
function isToolUIPart(part) {
  return part.type.startsWith("tool-");
}
function isDynamicToolUIPart(part) {
  return part.type === "dynamic-tool";
}
function isToolOrDynamicToolUIPart(part) {
  return isToolUIPart(part) || isDynamicToolUIPart(part);
}
function getToolName(part) {
  return part.type.split("-").slice(1).join("-");
}
function createStreamingUIMessageState({
  lastMessage,
  messageId
}) {
  return {
    message: (lastMessage == null ? void 0 : lastMessage.role) === "assistant" ? lastMessage : {
      id: messageId,
      metadata: void 0,
      role: "assistant",
      parts: []
    },
    activeTextParts: {},
    activeReasoningParts: {},
    partialToolCalls: {}
  };
}
function processUIMessageStream({
  stream,
  messageMetadataSchema,
  dataPartSchemas,
  runUpdateMessageJob,
  onError,
  onToolCall,
  onData
}) {
  return stream.pipeThrough(
    new TransformStream({
      async transform(chunk, controller) {
        await runUpdateMessageJob(async ({ state, write }) => {
          var _a17, _b8, _c, _d;
          function getToolInvocation(toolCallId) {
            const toolInvocations = state.message.parts.filter(isToolUIPart);
            const toolInvocation = toolInvocations.find(
              (invocation) => invocation.toolCallId === toolCallId
            );
            if (toolInvocation == null) {
              throw new Error(
                "tool-output-error must be preceded by a tool-input-available"
              );
            }
            return toolInvocation;
          }
          function getDynamicToolInvocation(toolCallId) {
            const toolInvocations = state.message.parts.filter(
              (part) => part.type === "dynamic-tool"
            );
            const toolInvocation = toolInvocations.find(
              (invocation) => invocation.toolCallId === toolCallId
            );
            if (toolInvocation == null) {
              throw new Error(
                "tool-output-error must be preceded by a tool-input-available"
              );
            }
            return toolInvocation;
          }
          function updateToolPart(options) {
            var _a18;
            const part = state.message.parts.find(
              (part2) => isToolUIPart(part2) && part2.toolCallId === options.toolCallId
            );
            const anyOptions = options;
            const anyPart = part;
            if (part != null) {
              part.state = options.state;
              anyPart.input = anyOptions.input;
              anyPart.output = anyOptions.output;
              anyPart.errorText = anyOptions.errorText;
              anyPart.rawInput = anyOptions.rawInput;
              anyPart.preliminary = anyOptions.preliminary;
              anyPart.providerExecuted = (_a18 = anyOptions.providerExecuted) != null ? _a18 : part.providerExecuted;
              if (anyOptions.providerMetadata != null && part.state === "input-available") {
                part.callProviderMetadata = anyOptions.providerMetadata;
              }
            } else {
              state.message.parts.push({
                type: `tool-${options.toolName}`,
                toolCallId: options.toolCallId,
                state: options.state,
                input: anyOptions.input,
                output: anyOptions.output,
                rawInput: anyOptions.rawInput,
                errorText: anyOptions.errorText,
                providerExecuted: anyOptions.providerExecuted,
                preliminary: anyOptions.preliminary,
                ...anyOptions.providerMetadata != null ? { callProviderMetadata: anyOptions.providerMetadata } : {}
              });
            }
          }
          function updateDynamicToolPart(options) {
            var _a18;
            const part = state.message.parts.find(
              (part2) => part2.type === "dynamic-tool" && part2.toolCallId === options.toolCallId
            );
            const anyOptions = options;
            const anyPart = part;
            if (part != null) {
              part.state = options.state;
              anyPart.toolName = options.toolName;
              anyPart.input = anyOptions.input;
              anyPart.output = anyOptions.output;
              anyPart.errorText = anyOptions.errorText;
              anyPart.rawInput = (_a18 = anyOptions.rawInput) != null ? _a18 : anyPart.rawInput;
              anyPart.preliminary = anyOptions.preliminary;
              if (anyOptions.providerMetadata != null && part.state === "input-available") {
                part.callProviderMetadata = anyOptions.providerMetadata;
              }
            } else {
              state.message.parts.push({
                type: "dynamic-tool",
                toolName: options.toolName,
                toolCallId: options.toolCallId,
                state: options.state,
                input: anyOptions.input,
                output: anyOptions.output,
                errorText: anyOptions.errorText,
                preliminary: anyOptions.preliminary,
                ...anyOptions.providerMetadata != null ? { callProviderMetadata: anyOptions.providerMetadata } : {}
              });
            }
          }
          async function updateMessageMetadata(metadata) {
            if (metadata != null) {
              const mergedMetadata = state.message.metadata != null ? mergeObjects(state.message.metadata, metadata) : metadata;
              if (messageMetadataSchema != null) {
                await validateTypes({
                  value: mergedMetadata,
                  schema: messageMetadataSchema
                });
              }
              state.message.metadata = mergedMetadata;
            }
          }
          switch (chunk.type) {
            case "text-start": {
              const textPart = {
                type: "text",
                text: "",
                providerMetadata: chunk.providerMetadata,
                state: "streaming"
              };
              state.activeTextParts[chunk.id] = textPart;
              state.message.parts.push(textPart);
              write();
              break;
            }
            case "text-delta": {
              const textPart = state.activeTextParts[chunk.id];
              textPart.text += chunk.delta;
              textPart.providerMetadata = (_a17 = chunk.providerMetadata) != null ? _a17 : textPart.providerMetadata;
              write();
              break;
            }
            case "text-end": {
              const textPart = state.activeTextParts[chunk.id];
              textPart.state = "done";
              textPart.providerMetadata = (_b8 = chunk.providerMetadata) != null ? _b8 : textPart.providerMetadata;
              delete state.activeTextParts[chunk.id];
              write();
              break;
            }
            case "reasoning-start": {
              const reasoningPart = {
                type: "reasoning",
                text: "",
                providerMetadata: chunk.providerMetadata,
                state: "streaming"
              };
              state.activeReasoningParts[chunk.id] = reasoningPart;
              state.message.parts.push(reasoningPart);
              write();
              break;
            }
            case "reasoning-delta": {
              const reasoningPart = state.activeReasoningParts[chunk.id];
              reasoningPart.text += chunk.delta;
              reasoningPart.providerMetadata = (_c = chunk.providerMetadata) != null ? _c : reasoningPart.providerMetadata;
              write();
              break;
            }
            case "reasoning-end": {
              const reasoningPart = state.activeReasoningParts[chunk.id];
              reasoningPart.providerMetadata = (_d = chunk.providerMetadata) != null ? _d : reasoningPart.providerMetadata;
              reasoningPart.state = "done";
              delete state.activeReasoningParts[chunk.id];
              write();
              break;
            }
            case "file": {
              state.message.parts.push({
                type: "file",
                mediaType: chunk.mediaType,
                url: chunk.url
              });
              write();
              break;
            }
            case "source-url": {
              state.message.parts.push({
                type: "source-url",
                sourceId: chunk.sourceId,
                url: chunk.url,
                title: chunk.title,
                providerMetadata: chunk.providerMetadata
              });
              write();
              break;
            }
            case "source-document": {
              state.message.parts.push({
                type: "source-document",
                sourceId: chunk.sourceId,
                mediaType: chunk.mediaType,
                title: chunk.title,
                filename: chunk.filename,
                providerMetadata: chunk.providerMetadata
              });
              write();
              break;
            }
            case "tool-input-start": {
              const toolInvocations = state.message.parts.filter(isToolUIPart);
              state.partialToolCalls[chunk.toolCallId] = {
                text: "",
                toolName: chunk.toolName,
                index: toolInvocations.length,
                dynamic: chunk.dynamic
              };
              if (chunk.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-streaming",
                  input: void 0
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-streaming",
                  input: void 0,
                  providerExecuted: chunk.providerExecuted
                });
              }
              write();
              break;
            }
            case "tool-input-delta": {
              const partialToolCall = state.partialToolCalls[chunk.toolCallId];
              partialToolCall.text += chunk.inputTextDelta;
              const { value: partialArgs } = await parsePartialJson(
                partialToolCall.text
              );
              if (partialToolCall.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: partialToolCall.toolName,
                  state: "input-streaming",
                  input: partialArgs
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: partialToolCall.toolName,
                  state: "input-streaming",
                  input: partialArgs
                });
              }
              write();
              break;
            }
            case "tool-input-available": {
              if (chunk.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-available",
                  input: chunk.input,
                  providerMetadata: chunk.providerMetadata
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "input-available",
                  input: chunk.input,
                  providerExecuted: chunk.providerExecuted,
                  providerMetadata: chunk.providerMetadata
                });
              }
              write();
              if (onToolCall && !chunk.providerExecuted) {
                await onToolCall({
                  toolCall: chunk
                });
              }
              break;
            }
            case "tool-input-error": {
              if (chunk.dynamic) {
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "output-error",
                  input: chunk.input,
                  errorText: chunk.errorText,
                  providerMetadata: chunk.providerMetadata
                });
              } else {
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: chunk.toolName,
                  state: "output-error",
                  input: void 0,
                  rawInput: chunk.input,
                  errorText: chunk.errorText,
                  providerExecuted: chunk.providerExecuted,
                  providerMetadata: chunk.providerMetadata
                });
              }
              write();
              break;
            }
            case "tool-output-available": {
              if (chunk.dynamic) {
                const toolInvocation = getDynamicToolInvocation(
                  chunk.toolCallId
                );
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: toolInvocation.toolName,
                  state: "output-available",
                  input: toolInvocation.input,
                  output: chunk.output,
                  preliminary: chunk.preliminary
                });
              } else {
                const toolInvocation = getToolInvocation(chunk.toolCallId);
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: getToolName(toolInvocation),
                  state: "output-available",
                  input: toolInvocation.input,
                  output: chunk.output,
                  providerExecuted: chunk.providerExecuted,
                  preliminary: chunk.preliminary
                });
              }
              write();
              break;
            }
            case "tool-output-error": {
              if (chunk.dynamic) {
                const toolInvocation = getDynamicToolInvocation(
                  chunk.toolCallId
                );
                updateDynamicToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: toolInvocation.toolName,
                  state: "output-error",
                  input: toolInvocation.input,
                  errorText: chunk.errorText
                });
              } else {
                const toolInvocation = getToolInvocation(chunk.toolCallId);
                updateToolPart({
                  toolCallId: chunk.toolCallId,
                  toolName: getToolName(toolInvocation),
                  state: "output-error",
                  input: toolInvocation.input,
                  rawInput: toolInvocation.rawInput,
                  errorText: chunk.errorText
                });
              }
              write();
              break;
            }
            case "start-step": {
              state.message.parts.push({ type: "step-start" });
              break;
            }
            case "finish-step": {
              state.activeTextParts = {};
              state.activeReasoningParts = {};
              break;
            }
            case "start": {
              if (chunk.messageId != null) {
                state.message.id = chunk.messageId;
              }
              await updateMessageMetadata(chunk.messageMetadata);
              if (chunk.messageId != null || chunk.messageMetadata != null) {
                write();
              }
              break;
            }
            case "finish": {
              await updateMessageMetadata(chunk.messageMetadata);
              if (chunk.messageMetadata != null) {
                write();
              }
              break;
            }
            case "message-metadata": {
              await updateMessageMetadata(chunk.messageMetadata);
              if (chunk.messageMetadata != null) {
                write();
              }
              break;
            }
            case "error": {
              onError == null ? void 0 : onError(new Error(chunk.errorText));
              break;
            }
            default: {
              if (isDataUIMessageChunk(chunk)) {
                if ((dataPartSchemas == null ? void 0 : dataPartSchemas[chunk.type]) != null) {
                  await validateTypes({
                    value: chunk.data,
                    schema: dataPartSchemas[chunk.type]
                  });
                }
                const dataChunk = chunk;
                if (dataChunk.transient) {
                  onData == null ? void 0 : onData(dataChunk);
                  break;
                }
                const existingUIPart = dataChunk.id != null ? state.message.parts.find(
                  (chunkArg) => dataChunk.type === chunkArg.type && dataChunk.id === chunkArg.id
                ) : void 0;
                if (existingUIPart != null) {
                  existingUIPart.data = dataChunk.data;
                } else {
                  state.message.parts.push(dataChunk);
                }
                onData == null ? void 0 : onData(dataChunk);
                write();
              }
            }
          }
          controller.enqueue(chunk);
        });
      }
    })
  );
}
function handleUIMessageStreamFinish({
  messageId,
  originalMessages = [],
  onFinish,
  onError,
  stream
}) {
  let lastMessage = originalMessages == null ? void 0 : originalMessages[originalMessages.length - 1];
  if ((lastMessage == null ? void 0 : lastMessage.role) !== "assistant") {
    lastMessage = void 0;
  } else {
    messageId = lastMessage.id;
  }
  let isAborted2 = false;
  const idInjectedStream = stream.pipeThrough(
    new TransformStream({
      transform(chunk, controller) {
        if (chunk.type === "start") {
          const startChunk = chunk;
          if (startChunk.messageId == null && messageId != null) {
            startChunk.messageId = messageId;
          }
        }
        if (chunk.type === "abort") {
          isAborted2 = true;
        }
        controller.enqueue(chunk);
      }
    })
  );
  if (onFinish == null) {
    return idInjectedStream;
  }
  const state = createStreamingUIMessageState({
    lastMessage: lastMessage ? structuredClone(lastMessage) : void 0,
    messageId: messageId != null ? messageId : ""
    // will be overridden by the stream
  });
  const runUpdateMessageJob = async (job) => {
    await job({ state, write: () => {
    } });
  };
  let finishCalled = false;
  const callOnFinish = async () => {
    if (finishCalled || !onFinish) {
      return;
    }
    finishCalled = true;
    const isContinuation = state.message.id === (lastMessage == null ? void 0 : lastMessage.id);
    await onFinish({
      isAborted: isAborted2,
      isContinuation,
      responseMessage: state.message,
      messages: [
        ...isContinuation ? originalMessages.slice(0, -1) : originalMessages,
        state.message
      ]
    });
  };
  return processUIMessageStream({
    stream: idInjectedStream,
    runUpdateMessageJob,
    onError
  }).pipeThrough(
    new TransformStream({
      transform(chunk, controller) {
        controller.enqueue(chunk);
      },
      // @ts-expect-error cancel is still new and missing from types https://developer.mozilla.org/en-US/docs/Web/API/TransformStream#browser_compatibility
      async cancel() {
        await callOnFinish();
      },
      async flush() {
        await callOnFinish();
      }
    })
  );
}
function pipeUIMessageStreamToResponse({
  response,
  status,
  statusText,
  headers,
  stream,
  consumeSseStream
}) {
  let sseStream = stream.pipeThrough(new JsonToSseTransformStream());
  if (consumeSseStream) {
    const [stream1, stream2] = sseStream.tee();
    sseStream = stream1;
    consumeSseStream({ stream: stream2 });
  }
  writeToServerResponse({
    response,
    status,
    statusText,
    headers: Object.fromEntries(
      prepareHeaders(headers, UI_MESSAGE_STREAM_HEADERS).entries()
    ),
    stream: sseStream.pipeThrough(new TextEncoderStream())
  });
}
function createAsyncIterableStream(source) {
  const stream = source.pipeThrough(new TransformStream());
  stream[Symbol.asyncIterator] = function() {
    const reader = this.getReader();
    let finished = false;
    async function cleanup(cancelStream) {
      var _a17;
      finished = true;
      try {
        if (cancelStream) {
          await ((_a17 = reader.cancel) == null ? void 0 : _a17.call(reader));
        }
      } finally {
        try {
          reader.releaseLock();
        } catch (e) {
        }
      }
    }
    return {
      /**
       * Reads the next chunk from the stream.
       * @returns A promise resolving to the next IteratorResult.
       */
      async next() {
        if (finished) {
          return { done: true, value: void 0 };
        }
        const { done, value } = await reader.read();
        if (done) {
          await cleanup(true);
          return { done: true, value: void 0 };
        }
        return { done: false, value };
      },
      /**
       * Called on early exit (e.g., break from for-await).
       * Ensures the stream is cancelled and resources are released.
       * @returns A promise resolving to a completed IteratorResult.
       */
      async return() {
        await cleanup(true);
        return { done: true, value: void 0 };
      },
      /**
       * Called on early exit with error.
       * Ensures the stream is cancelled and resources are released, then rethrows the error.
       * @param err The error to throw.
       * @returns A promise that rejects with the provided error.
       */
      async throw(err) {
        await cleanup(true);
        throw err;
      }
    };
  };
  return stream;
}
async function consumeStream({
  stream,
  onError
}) {
  const reader = stream.getReader();
  try {
    while (true) {
      const { done } = await reader.read();
      if (done)
        break;
    }
  } catch (error45) {
    onError == null ? void 0 : onError(error45);
  } finally {
    reader.releaseLock();
  }
}
function createResolvablePromise() {
  let resolve2;
  let reject;
  const promise2 = new Promise((res, rej) => {
    resolve2 = res;
    reject = rej;
  });
  return {
    promise: promise2,
    resolve: resolve2,
    reject
  };
}
function createStitchableStream() {
  let innerStreamReaders = [];
  let controller = null;
  let isClosed = false;
  let waitForNewStream = createResolvablePromise();
  const terminate = () => {
    isClosed = true;
    waitForNewStream.resolve();
    innerStreamReaders.forEach((reader) => reader.cancel());
    innerStreamReaders = [];
    controller == null ? void 0 : controller.close();
  };
  const processPull = async () => {
    if (isClosed && innerStreamReaders.length === 0) {
      controller == null ? void 0 : controller.close();
      return;
    }
    if (innerStreamReaders.length === 0) {
      waitForNewStream = createResolvablePromise();
      await waitForNewStream.promise;
      return processPull();
    }
    try {
      const { value, done } = await innerStreamReaders[0].read();
      if (done) {
        innerStreamReaders.shift();
        if (innerStreamReaders.length > 0) {
          await processPull();
        } else if (isClosed) {
          controller == null ? void 0 : controller.close();
        }
      } else {
        controller == null ? void 0 : controller.enqueue(value);
      }
    } catch (error45) {
      controller == null ? void 0 : controller.error(error45);
      innerStreamReaders.shift();
      terminate();
    }
  };
  return {
    stream: new ReadableStream({
      start(controllerParam) {
        controller = controllerParam;
      },
      pull: processPull,
      async cancel() {
        for (const reader of innerStreamReaders) {
          await reader.cancel();
        }
        innerStreamReaders = [];
        isClosed = true;
      }
    }),
    addStream: (innerStream) => {
      if (isClosed) {
        throw new Error("Cannot add inner stream: outer stream is closed");
      }
      innerStreamReaders.push(innerStream.getReader());
      waitForNewStream.resolve();
    },
    /**
     * Gracefully close the outer stream. This will let the inner streams
     * finish processing and then close the outer stream.
     */
    close: () => {
      isClosed = true;
      waitForNewStream.resolve();
      if (innerStreamReaders.length === 0) {
        controller == null ? void 0 : controller.close();
      }
    },
    /**
     * Immediately close the outer stream. This will cancel all inner streams
     * and close the outer stream.
     */
    terminate
  };
}
var DelayedPromise = class {
  constructor() {
    this.status = { type: "pending" };
    this._resolve = void 0;
    this._reject = void 0;
  }
  get promise() {
    if (this._promise) {
      return this._promise;
    }
    this._promise = new Promise((resolve2, reject) => {
      if (this.status.type === "resolved") {
        resolve2(this.status.value);
      } else if (this.status.type === "rejected") {
        reject(this.status.error);
      }
      this._resolve = resolve2;
      this._reject = reject;
    });
    return this._promise;
  }
  resolve(value) {
    var _a17;
    this.status = { type: "resolved", value };
    if (this._promise) {
      (_a17 = this._resolve) == null ? void 0 : _a17.call(this, value);
    }
  }
  reject(error45) {
    var _a17;
    this.status = { type: "rejected", error: error45 };
    if (this._promise) {
      (_a17 = this._reject) == null ? void 0 : _a17.call(this, error45);
    }
  }
};
function now() {
  var _a17, _b8;
  return (_b8 = (_a17 = globalThis == null ? void 0 : globalThis.performance) == null ? void 0 : _a17.now()) != null ? _b8 : Date.now();
}
function runToolsTransformation({
  tools,
  generatorStream,
  tracer,
  telemetry,
  system,
  messages,
  abortSignal,
  repairToolCall,
  experimental_context
}) {
  let toolResultsStreamController = null;
  const toolResultsStream = new ReadableStream({
    start(controller) {
      toolResultsStreamController = controller;
    }
  });
  const outstandingToolResults = /* @__PURE__ */ new Set();
  const toolInputs = /* @__PURE__ */ new Map();
  let canClose = false;
  let finishChunk = void 0;
  function attemptClose() {
    if (canClose && outstandingToolResults.size === 0) {
      if (finishChunk != null) {
        toolResultsStreamController.enqueue(finishChunk);
      }
      toolResultsStreamController.close();
    }
  }
  const forwardStream = new TransformStream({
    async transform(chunk, controller) {
      const chunkType = chunk.type;
      switch (chunkType) {
        case "stream-start":
        case "text-start":
        case "text-delta":
        case "text-end":
        case "reasoning-start":
        case "reasoning-delta":
        case "reasoning-end":
        case "tool-input-start":
        case "tool-input-delta":
        case "tool-input-end":
        case "source":
        case "response-metadata":
        case "error":
        case "raw": {
          controller.enqueue(chunk);
          break;
        }
        case "file": {
          controller.enqueue({
            type: "file",
            file: new DefaultGeneratedFileWithType({
              data: chunk.data,
              mediaType: chunk.mediaType
            })
          });
          break;
        }
        case "finish": {
          finishChunk = {
            type: "finish",
            finishReason: chunk.finishReason,
            usage: chunk.usage,
            providerMetadata: chunk.providerMetadata
          };
          break;
        }
        case "tool-call": {
          try {
            const toolCall = await parseToolCall({
              toolCall: chunk,
              tools,
              repairToolCall,
              system,
              messages
            });
            controller.enqueue(toolCall);
            if (toolCall.invalid) {
              toolResultsStreamController.enqueue({
                type: "tool-error",
                toolCallId: toolCall.toolCallId,
                toolName: toolCall.toolName,
                input: toolCall.input,
                error: getErrorMessage2(toolCall.error),
                dynamic: true
              });
              break;
            }
            const tool3 = tools[toolCall.toolName];
            toolInputs.set(toolCall.toolCallId, toolCall.input);
            if (tool3.onInputAvailable != null) {
              await tool3.onInputAvailable({
                input: toolCall.input,
                toolCallId: toolCall.toolCallId,
                messages,
                abortSignal,
                experimental_context
              });
            }
            if (tool3.execute != null && toolCall.providerExecuted !== true) {
              const toolExecutionId = generateId();
              outstandingToolResults.add(toolExecutionId);
              recordSpan({
                name: "ai.toolCall",
                attributes: selectTelemetryAttributes({
                  telemetry,
                  attributes: {
                    ...assembleOperationName({
                      operationId: "ai.toolCall",
                      telemetry
                    }),
                    "ai.toolCall.name": toolCall.toolName,
                    "ai.toolCall.id": toolCall.toolCallId,
                    "ai.toolCall.args": {
                      output: () => JSON.stringify(toolCall.input)
                    }
                  }
                }),
                tracer,
                fn: async (span) => {
                  let output;
                  try {
                    const stream = executeTool({
                      execute: tool3.execute.bind(tool3),
                      input: toolCall.input,
                      options: {
                        toolCallId: toolCall.toolCallId,
                        messages,
                        abortSignal,
                        experimental_context
                      }
                    });
                    for await (const part of stream) {
                      toolResultsStreamController.enqueue({
                        ...toolCall,
                        type: "tool-result",
                        output: part.output,
                        ...part.type === "preliminary" && {
                          preliminary: true
                        }
                      });
                      if (part.type === "final") {
                        output = part.output;
                      }
                    }
                  } catch (error45) {
                    recordErrorOnSpan(span, error45);
                    toolResultsStreamController.enqueue({
                      ...toolCall,
                      type: "tool-error",
                      error: error45
                    });
                    outstandingToolResults.delete(toolExecutionId);
                    attemptClose();
                    return;
                  }
                  outstandingToolResults.delete(toolExecutionId);
                  attemptClose();
                  try {
                    span.setAttributes(
                      selectTelemetryAttributes({
                        telemetry,
                        attributes: {
                          "ai.toolCall.result": {
                            output: () => JSON.stringify(output)
                          }
                        }
                      })
                    );
                  } catch (ignored) {
                  }
                }
              });
            }
          } catch (error45) {
            toolResultsStreamController.enqueue({ type: "error", error: error45 });
          }
          break;
        }
        case "tool-result": {
          const toolName = chunk.toolName;
          if (chunk.isError) {
            toolResultsStreamController.enqueue({
              type: "tool-error",
              toolCallId: chunk.toolCallId,
              toolName,
              input: toolInputs.get(chunk.toolCallId),
              providerExecuted: chunk.providerExecuted,
              error: chunk.result
            });
          } else {
            controller.enqueue({
              type: "tool-result",
              toolCallId: chunk.toolCallId,
              toolName,
              input: toolInputs.get(chunk.toolCallId),
              output: chunk.result,
              providerExecuted: chunk.providerExecuted
            });
          }
          break;
        }
        default: {
          const _exhaustiveCheck = chunkType;
          throw new Error(`Unhandled chunk type: ${_exhaustiveCheck}`);
        }
      }
    },
    flush() {
      canClose = true;
      attemptClose();
    }
  });
  return new ReadableStream({
    async start(controller) {
      return Promise.all([
        generatorStream.pipeThrough(forwardStream).pipeTo(
          new WritableStream({
            write(chunk) {
              controller.enqueue(chunk);
            },
            close() {
            }
          })
        ),
        toolResultsStream.pipeTo(
          new WritableStream({
            write(chunk) {
              controller.enqueue(chunk);
            },
            close() {
              controller.close();
            }
          })
        )
      ]);
    }
  });
}
var originalGenerateId2 = createIdGenerator({
  prefix: "aitxt",
  size: 24
});
function streamText({
  model,
  tools,
  toolChoice,
  system,
  prompt,
  messages,
  maxRetries,
  abortSignal,
  headers,
  stopWhen = stepCountIs(1),
  experimental_output: output,
  experimental_telemetry: telemetry,
  prepareStep,
  providerOptions,
  experimental_activeTools,
  activeTools = experimental_activeTools,
  experimental_repairToolCall: repairToolCall,
  experimental_transform: transform2,
  experimental_download: download2,
  includeRawChunks = false,
  onChunk,
  onError = ({ error: error45 }) => {
    console.error(error45);
  },
  onFinish,
  onAbort,
  onStepFinish,
  experimental_context,
  _internal: {
    now: now2 = now,
    generateId: generateId3 = originalGenerateId2,
    currentDate = () => /* @__PURE__ */ new Date()
  } = {},
  ...settings
}) {
  return new DefaultStreamTextResult({
    model: resolveLanguageModel(model),
    telemetry,
    headers,
    settings,
    maxRetries,
    abortSignal,
    system,
    prompt,
    messages,
    tools,
    toolChoice,
    transforms: asArray(transform2),
    activeTools,
    repairToolCall,
    stopConditions: asArray(stopWhen),
    output,
    providerOptions,
    prepareStep,
    includeRawChunks,
    onChunk,
    onError,
    onFinish,
    onAbort,
    onStepFinish,
    now: now2,
    currentDate,
    generateId: generateId3,
    experimental_context,
    download: download2
  });
}
function createOutputTransformStream(output) {
  if (!output) {
    return new TransformStream({
      transform(chunk, controller) {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
      }
    });
  }
  let firstTextChunkId = void 0;
  let text2 = "";
  let textChunk = "";
  let lastPublishedJson = "";
  function publishTextChunk({
    controller,
    partialOutput = void 0
  }) {
    controller.enqueue({
      part: {
        type: "text-delta",
        id: firstTextChunkId,
        text: textChunk
      },
      partialOutput
    });
    textChunk = "";
  }
  return new TransformStream({
    async transform(chunk, controller) {
      if (chunk.type === "finish-step" && textChunk.length > 0) {
        publishTextChunk({ controller });
      }
      if (chunk.type !== "text-delta" && chunk.type !== "text-start" && chunk.type !== "text-end") {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      if (firstTextChunkId == null) {
        firstTextChunkId = chunk.id;
      } else if (chunk.id !== firstTextChunkId) {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      if (chunk.type === "text-start") {
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      if (chunk.type === "text-end") {
        if (textChunk.length > 0) {
          publishTextChunk({ controller });
        }
        controller.enqueue({ part: chunk, partialOutput: void 0 });
        return;
      }
      text2 += chunk.text;
      textChunk += chunk.text;
      const result = await output.parsePartial({ text: text2 });
      if (result != null) {
        const currentJson = JSON.stringify(result.partial);
        if (currentJson !== lastPublishedJson) {
          publishTextChunk({ controller, partialOutput: result.partial });
          lastPublishedJson = currentJson;
        }
      }
    }
  });
}
var DefaultStreamTextResult = class {
  constructor({
    model,
    telemetry,
    headers,
    settings,
    maxRetries: maxRetriesArg,
    abortSignal,
    system,
    prompt,
    messages,
    tools,
    toolChoice,
    transforms,
    activeTools,
    repairToolCall,
    stopConditions,
    output,
    providerOptions,
    prepareStep,
    includeRawChunks,
    now: now2,
    currentDate,
    generateId: generateId3,
    onChunk,
    onError,
    onFinish,
    onAbort,
    onStepFinish,
    experimental_context,
    download: download2
  }) {
    this._totalUsage = new DelayedPromise();
    this._finishReason = new DelayedPromise();
    this._steps = new DelayedPromise();
    this.output = output;
    this.includeRawChunks = includeRawChunks;
    this.tools = tools;
    let stepFinish;
    let recordedContent = [];
    const recordedResponseMessages = [];
    let recordedFinishReason = void 0;
    let recordedTotalUsage = void 0;
    let recordedRequest = {};
    let recordedWarnings = [];
    const recordedSteps = [];
    let rootSpan;
    let activeTextContent = {};
    let activeReasoningContent = {};
    const eventProcessor = new TransformStream({
      async transform(chunk, controller) {
        var _a17, _b8, _c;
        controller.enqueue(chunk);
        const { part } = chunk;
        if (part.type === "text-delta" || part.type === "reasoning-delta" || part.type === "source" || part.type === "tool-call" || part.type === "tool-result" || part.type === "tool-input-start" || part.type === "tool-input-delta" || part.type === "raw") {
          await (onChunk == null ? void 0 : onChunk({ chunk: part }));
        }
        if (part.type === "error") {
          await onError({ error: wrapGatewayError(part.error) });
        }
        if (part.type === "text-start") {
          activeTextContent[part.id] = {
            type: "text",
            text: "",
            providerMetadata: part.providerMetadata
          };
          recordedContent.push(activeTextContent[part.id]);
        }
        if (part.type === "text-delta") {
          const activeText = activeTextContent[part.id];
          if (activeText == null) {
            controller.enqueue({
              part: {
                type: "error",
                error: `text part ${part.id} not found`
              },
              partialOutput: void 0
            });
            return;
          }
          activeText.text += part.text;
          activeText.providerMetadata = (_a17 = part.providerMetadata) != null ? _a17 : activeText.providerMetadata;
        }
        if (part.type === "text-end") {
          delete activeTextContent[part.id];
        }
        if (part.type === "reasoning-start") {
          activeReasoningContent[part.id] = {
            type: "reasoning",
            text: "",
            providerMetadata: part.providerMetadata
          };
          recordedContent.push(activeReasoningContent[part.id]);
        }
        if (part.type === "reasoning-delta") {
          const activeReasoning = activeReasoningContent[part.id];
          if (activeReasoning == null) {
            controller.enqueue({
              part: {
                type: "error",
                error: `reasoning part ${part.id} not found`
              },
              partialOutput: void 0
            });
            return;
          }
          activeReasoning.text += part.text;
          activeReasoning.providerMetadata = (_b8 = part.providerMetadata) != null ? _b8 : activeReasoning.providerMetadata;
        }
        if (part.type === "reasoning-end") {
          const activeReasoning = activeReasoningContent[part.id];
          if (activeReasoning == null) {
            controller.enqueue({
              part: {
                type: "error",
                error: `reasoning part ${part.id} not found`
              },
              partialOutput: void 0
            });
            return;
          }
          activeReasoning.providerMetadata = (_c = part.providerMetadata) != null ? _c : activeReasoning.providerMetadata;
          delete activeReasoningContent[part.id];
        }
        if (part.type === "file") {
          recordedContent.push({ type: "file", file: part.file });
        }
        if (part.type === "source") {
          recordedContent.push(part);
        }
        if (part.type === "tool-call") {
          recordedContent.push(part);
        }
        if (part.type === "tool-result" && !part.preliminary) {
          recordedContent.push(part);
        }
        if (part.type === "tool-error") {
          recordedContent.push(part);
        }
        if (part.type === "start-step") {
          recordedRequest = part.request;
          recordedWarnings = part.warnings;
        }
        if (part.type === "finish-step") {
          const stepMessages = toResponseMessages({
            content: recordedContent,
            tools
          });
          const currentStepResult = new DefaultStepResult({
            content: recordedContent,
            finishReason: part.finishReason,
            usage: part.usage,
            warnings: recordedWarnings,
            request: recordedRequest,
            response: {
              ...part.response,
              messages: [...recordedResponseMessages, ...stepMessages]
            },
            providerMetadata: part.providerMetadata
          });
          await (onStepFinish == null ? void 0 : onStepFinish(currentStepResult));
          logWarnings(recordedWarnings);
          recordedSteps.push(currentStepResult);
          recordedContent = [];
          activeReasoningContent = {};
          activeTextContent = {};
          recordedResponseMessages.push(...stepMessages);
          stepFinish.resolve();
        }
        if (part.type === "finish") {
          recordedTotalUsage = part.totalUsage;
          recordedFinishReason = part.finishReason;
        }
      },
      async flush(controller) {
        try {
          if (recordedSteps.length === 0) {
            const error45 = new NoOutputGeneratedError({
              message: "No output generated. Check the stream for errors."
            });
            self._finishReason.reject(error45);
            self._totalUsage.reject(error45);
            self._steps.reject(error45);
            return;
          }
          const finishReason = recordedFinishReason != null ? recordedFinishReason : "unknown";
          const totalUsage = recordedTotalUsage != null ? recordedTotalUsage : {
            inputTokens: void 0,
            outputTokens: void 0,
            totalTokens: void 0
          };
          self._finishReason.resolve(finishReason);
          self._totalUsage.resolve(totalUsage);
          self._steps.resolve(recordedSteps);
          const finalStep = recordedSteps[recordedSteps.length - 1];
          await (onFinish == null ? void 0 : onFinish({
            finishReason,
            totalUsage,
            usage: finalStep.usage,
            content: finalStep.content,
            text: finalStep.text,
            reasoningText: finalStep.reasoningText,
            reasoning: finalStep.reasoning,
            files: finalStep.files,
            sources: finalStep.sources,
            toolCalls: finalStep.toolCalls,
            staticToolCalls: finalStep.staticToolCalls,
            dynamicToolCalls: finalStep.dynamicToolCalls,
            toolResults: finalStep.toolResults,
            staticToolResults: finalStep.staticToolResults,
            dynamicToolResults: finalStep.dynamicToolResults,
            request: finalStep.request,
            response: finalStep.response,
            warnings: finalStep.warnings,
            providerMetadata: finalStep.providerMetadata,
            steps: recordedSteps
          }));
          rootSpan.setAttributes(
            selectTelemetryAttributes({
              telemetry,
              attributes: {
                "ai.response.finishReason": finishReason,
                "ai.response.text": { output: () => finalStep.text },
                "ai.response.toolCalls": {
                  output: () => {
                    var _a17;
                    return ((_a17 = finalStep.toolCalls) == null ? void 0 : _a17.length) ? JSON.stringify(finalStep.toolCalls) : void 0;
                  }
                },
                "ai.response.providerMetadata": JSON.stringify(
                  finalStep.providerMetadata
                ),
                "ai.usage.inputTokens": totalUsage.inputTokens,
                "ai.usage.outputTokens": totalUsage.outputTokens,
                "ai.usage.totalTokens": totalUsage.totalTokens,
                "ai.usage.reasoningTokens": totalUsage.reasoningTokens,
                "ai.usage.cachedInputTokens": totalUsage.cachedInputTokens
              }
            })
          );
        } catch (error45) {
          controller.error(error45);
        } finally {
          rootSpan.end();
        }
      }
    });
    const stitchableStream = createStitchableStream();
    this.addStream = stitchableStream.addStream;
    this.closeStream = stitchableStream.close;
    const reader = stitchableStream.stream.getReader();
    let stream = new ReadableStream({
      async start(controller) {
        controller.enqueue({ type: "start" });
      },
      async pull(controller) {
        function abort() {
          onAbort == null ? void 0 : onAbort({ steps: recordedSteps });
          controller.enqueue({ type: "abort" });
          controller.close();
        }
        try {
          const { done, value } = await reader.read();
          if (done) {
            controller.close();
            return;
          }
          if (abortSignal == null ? void 0 : abortSignal.aborted) {
            abort();
            return;
          }
          controller.enqueue(value);
        } catch (error45) {
          if (isAbortError(error45) && (abortSignal == null ? void 0 : abortSignal.aborted)) {
            abort();
          } else {
            controller.error(error45);
          }
        }
      },
      cancel(reason) {
        return stitchableStream.stream.cancel(reason);
      }
    });
    for (const transform2 of transforms) {
      stream = stream.pipeThrough(
        transform2({
          tools,
          stopStream() {
            stitchableStream.terminate();
          }
        })
      );
    }
    this.baseStream = stream.pipeThrough(createOutputTransformStream(output)).pipeThrough(eventProcessor);
    const { maxRetries, retry } = prepareRetries({
      maxRetries: maxRetriesArg,
      abortSignal
    });
    const tracer = getTracer(telemetry);
    const callSettings = prepareCallSettings(settings);
    const baseTelemetryAttributes = getBaseTelemetryAttributes({
      model,
      telemetry,
      headers,
      settings: { ...callSettings, maxRetries }
    });
    const self = this;
    recordSpan({
      name: "ai.streamText",
      attributes: selectTelemetryAttributes({
        telemetry,
        attributes: {
          ...assembleOperationName({ operationId: "ai.streamText", telemetry }),
          ...baseTelemetryAttributes,
          // specific settings that only make sense on the outer level:
          "ai.prompt": {
            input: () => JSON.stringify({ system, prompt, messages })
          }
        }
      }),
      tracer,
      endWhenDone: false,
      fn: async (rootSpanArg) => {
        rootSpan = rootSpanArg;
        async function streamStep({
          currentStep,
          responseMessages,
          usage
        }) {
          var _a17, _b8, _c, _d, _e;
          const includeRawChunks2 = self.includeRawChunks;
          stepFinish = new DelayedPromise();
          const initialPrompt = await standardizePrompt({
            system,
            prompt,
            messages
          });
          const stepInputMessages = [
            ...initialPrompt.messages,
            ...responseMessages
          ];
          const prepareStepResult = await (prepareStep == null ? void 0 : prepareStep({
            model,
            steps: recordedSteps,
            stepNumber: recordedSteps.length,
            messages: stepInputMessages
          }));
          const promptMessages = await convertToLanguageModelPrompt({
            prompt: {
              system: (_a17 = prepareStepResult == null ? void 0 : prepareStepResult.system) != null ? _a17 : initialPrompt.system,
              messages: (_b8 = prepareStepResult == null ? void 0 : prepareStepResult.messages) != null ? _b8 : stepInputMessages
            },
            supportedUrls: await model.supportedUrls,
            download: download2
          });
          const stepModel = resolveLanguageModel(
            (_c = prepareStepResult == null ? void 0 : prepareStepResult.model) != null ? _c : model
          );
          const { toolChoice: stepToolChoice, tools: stepTools } = prepareToolsAndToolChoice({
            tools,
            toolChoice: (_d = prepareStepResult == null ? void 0 : prepareStepResult.toolChoice) != null ? _d : toolChoice,
            activeTools: (_e = prepareStepResult == null ? void 0 : prepareStepResult.activeTools) != null ? _e : activeTools
          });
          const {
            result: { stream: stream2, response, request },
            doStreamSpan,
            startTimestampMs
          } = await retry(
            () => recordSpan({
              name: "ai.streamText.doStream",
              attributes: selectTelemetryAttributes({
                telemetry,
                attributes: {
                  ...assembleOperationName({
                    operationId: "ai.streamText.doStream",
                    telemetry
                  }),
                  ...baseTelemetryAttributes,
                  // model:
                  "ai.model.provider": stepModel.provider,
                  "ai.model.id": stepModel.modelId,
                  // prompt:
                  "ai.prompt.messages": {
                    input: () => stringifyForTelemetry(promptMessages)
                  },
                  "ai.prompt.tools": {
                    // convert the language model level tools:
                    input: () => stepTools == null ? void 0 : stepTools.map((tool3) => JSON.stringify(tool3))
                  },
                  "ai.prompt.toolChoice": {
                    input: () => stepToolChoice != null ? JSON.stringify(stepToolChoice) : void 0
                  },
                  // standardized gen-ai llm span attributes:
                  "gen_ai.system": stepModel.provider,
                  "gen_ai.request.model": stepModel.modelId,
                  "gen_ai.request.frequency_penalty": callSettings.frequencyPenalty,
                  "gen_ai.request.max_tokens": callSettings.maxOutputTokens,
                  "gen_ai.request.presence_penalty": callSettings.presencePenalty,
                  "gen_ai.request.stop_sequences": callSettings.stopSequences,
                  "gen_ai.request.temperature": callSettings.temperature,
                  "gen_ai.request.top_k": callSettings.topK,
                  "gen_ai.request.top_p": callSettings.topP
                }
              }),
              tracer,
              endWhenDone: false,
              fn: async (doStreamSpan2) => {
                return {
                  startTimestampMs: now2(),
                  // get before the call
                  doStreamSpan: doStreamSpan2,
                  result: await stepModel.doStream({
                    ...callSettings,
                    tools: stepTools,
                    toolChoice: stepToolChoice,
                    responseFormat: output == null ? void 0 : output.responseFormat,
                    prompt: promptMessages,
                    providerOptions,
                    abortSignal,
                    headers,
                    includeRawChunks: includeRawChunks2
                  })
                };
              }
            })
          );
          const streamWithToolResults = runToolsTransformation({
            tools,
            generatorStream: stream2,
            tracer,
            telemetry,
            system,
            messages: stepInputMessages,
            repairToolCall,
            abortSignal,
            experimental_context
          });
          const stepRequest = request != null ? request : {};
          const stepToolCalls = [];
          const stepToolOutputs = [];
          let warnings;
          const activeToolCallToolNames = {};
          let stepFinishReason = "unknown";
          let stepUsage = {
            inputTokens: void 0,
            outputTokens: void 0,
            totalTokens: void 0
          };
          let stepProviderMetadata;
          let stepFirstChunk = true;
          let stepResponse = {
            id: generateId3(),
            timestamp: currentDate(),
            modelId: model.modelId
          };
          let activeText = "";
          self.addStream(
            streamWithToolResults.pipeThrough(
              new TransformStream({
                async transform(chunk, controller) {
                  var _a18, _b22, _c2, _d2;
                  if (chunk.type === "stream-start") {
                    warnings = chunk.warnings;
                    return;
                  }
                  if (stepFirstChunk) {
                    const msToFirstChunk = now2() - startTimestampMs;
                    stepFirstChunk = false;
                    doStreamSpan.addEvent("ai.stream.firstChunk", {
                      "ai.response.msToFirstChunk": msToFirstChunk
                    });
                    doStreamSpan.setAttributes({
                      "ai.response.msToFirstChunk": msToFirstChunk
                    });
                    controller.enqueue({
                      type: "start-step",
                      request: stepRequest,
                      warnings: warnings != null ? warnings : []
                    });
                  }
                  const chunkType = chunk.type;
                  switch (chunkType) {
                    case "text-start":
                    case "text-end": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "text-delta": {
                      if (chunk.delta.length > 0) {
                        controller.enqueue({
                          type: "text-delta",
                          id: chunk.id,
                          text: chunk.delta,
                          providerMetadata: chunk.providerMetadata
                        });
                        activeText += chunk.delta;
                      }
                      break;
                    }
                    case "reasoning-start":
                    case "reasoning-end": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "reasoning-delta": {
                      controller.enqueue({
                        type: "reasoning-delta",
                        id: chunk.id,
                        text: chunk.delta,
                        providerMetadata: chunk.providerMetadata
                      });
                      break;
                    }
                    case "tool-call": {
                      controller.enqueue(chunk);
                      stepToolCalls.push(chunk);
                      break;
                    }
                    case "tool-result": {
                      controller.enqueue(chunk);
                      if (!chunk.preliminary) {
                        stepToolOutputs.push(chunk);
                      }
                      break;
                    }
                    case "tool-error": {
                      controller.enqueue(chunk);
                      stepToolOutputs.push(chunk);
                      break;
                    }
                    case "response-metadata": {
                      stepResponse = {
                        id: (_a18 = chunk.id) != null ? _a18 : stepResponse.id,
                        timestamp: (_b22 = chunk.timestamp) != null ? _b22 : stepResponse.timestamp,
                        modelId: (_c2 = chunk.modelId) != null ? _c2 : stepResponse.modelId
                      };
                      break;
                    }
                    case "finish": {
                      stepUsage = chunk.usage;
                      stepFinishReason = chunk.finishReason;
                      stepProviderMetadata = chunk.providerMetadata;
                      const msToFinish = now2() - startTimestampMs;
                      doStreamSpan.addEvent("ai.stream.finish");
                      doStreamSpan.setAttributes({
                        "ai.response.msToFinish": msToFinish,
                        "ai.response.avgOutputTokensPerSecond": 1e3 * ((_d2 = stepUsage.outputTokens) != null ? _d2 : 0) / msToFinish
                      });
                      break;
                    }
                    case "file": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "source": {
                      controller.enqueue(chunk);
                      break;
                    }
                    case "tool-input-start": {
                      activeToolCallToolNames[chunk.id] = chunk.toolName;
                      const tool3 = tools == null ? void 0 : tools[chunk.toolName];
                      if ((tool3 == null ? void 0 : tool3.onInputStart) != null) {
                        await tool3.onInputStart({
                          toolCallId: chunk.id,
                          messages: stepInputMessages,
                          abortSignal,
                          experimental_context
                        });
                      }
                      controller.enqueue({
                        ...chunk,
                        dynamic: (tool3 == null ? void 0 : tool3.type) === "dynamic"
                      });
                      break;
                    }
                    case "tool-input-end": {
                      delete activeToolCallToolNames[chunk.id];
                      controller.enqueue(chunk);
                      break;
                    }
                    case "tool-input-delta": {
                      const toolName = activeToolCallToolNames[chunk.id];
                      const tool3 = tools == null ? void 0 : tools[toolName];
                      if ((tool3 == null ? void 0 : tool3.onInputDelta) != null) {
                        await tool3.onInputDelta({
                          inputTextDelta: chunk.delta,
                          toolCallId: chunk.id,
                          messages: stepInputMessages,
                          abortSignal,
                          experimental_context
                        });
                      }
                      controller.enqueue(chunk);
                      break;
                    }
                    case "error": {
                      controller.enqueue(chunk);
                      stepFinishReason = "error";
                      break;
                    }
                    case "raw": {
                      if (includeRawChunks2) {
                        controller.enqueue(chunk);
                      }
                      break;
                    }
                    default: {
                      const exhaustiveCheck = chunkType;
                      throw new Error(`Unknown chunk type: ${exhaustiveCheck}`);
                    }
                  }
                },
                // invoke onFinish callback and resolve toolResults promise when the stream is about to close:
                async flush(controller) {
                  const stepToolCallsJson = stepToolCalls.length > 0 ? JSON.stringify(stepToolCalls) : void 0;
                  try {
                    doStreamSpan.setAttributes(
                      selectTelemetryAttributes({
                        telemetry,
                        attributes: {
                          "ai.response.finishReason": stepFinishReason,
                          "ai.response.text": {
                            output: () => activeText
                          },
                          "ai.response.toolCalls": {
                            output: () => stepToolCallsJson
                          },
                          "ai.response.id": stepResponse.id,
                          "ai.response.model": stepResponse.modelId,
                          "ai.response.timestamp": stepResponse.timestamp.toISOString(),
                          "ai.response.providerMetadata": JSON.stringify(stepProviderMetadata),
                          "ai.usage.inputTokens": stepUsage.inputTokens,
                          "ai.usage.outputTokens": stepUsage.outputTokens,
                          "ai.usage.totalTokens": stepUsage.totalTokens,
                          "ai.usage.reasoningTokens": stepUsage.reasoningTokens,
                          "ai.usage.cachedInputTokens": stepUsage.cachedInputTokens,
                          // standardized gen-ai llm span attributes:
                          "gen_ai.response.finish_reasons": [stepFinishReason],
                          "gen_ai.response.id": stepResponse.id,
                          "gen_ai.response.model": stepResponse.modelId,
                          "gen_ai.usage.input_tokens": stepUsage.inputTokens,
                          "gen_ai.usage.output_tokens": stepUsage.outputTokens
                        }
                      })
                    );
                  } catch (error45) {
                  } finally {
                    doStreamSpan.end();
                  }
                  controller.enqueue({
                    type: "finish-step",
                    finishReason: stepFinishReason,
                    usage: stepUsage,
                    providerMetadata: stepProviderMetadata,
                    response: {
                      ...stepResponse,
                      headers: response == null ? void 0 : response.headers
                    }
                  });
                  const combinedUsage = addLanguageModelUsage(usage, stepUsage);
                  await stepFinish.promise;
                  const clientToolCalls = stepToolCalls.filter(
                    (toolCall) => toolCall.providerExecuted !== true
                  );
                  const clientToolOutputs = stepToolOutputs.filter(
                    (toolOutput) => toolOutput.providerExecuted !== true
                  );
                  if (clientToolCalls.length > 0 && // all current tool calls have outputs (incl. execution errors):
                  clientToolOutputs.length === clientToolCalls.length && // continue until a stop condition is met:
                  !await isStopConditionMet({
                    stopConditions,
                    steps: recordedSteps
                  })) {
                    responseMessages.push(
                      ...toResponseMessages({
                        content: (
                          // use transformed content to create the messages for the next step:
                          recordedSteps[recordedSteps.length - 1].content
                        ),
                        tools
                      })
                    );
                    try {
                      await streamStep({
                        currentStep: currentStep + 1,
                        responseMessages,
                        usage: combinedUsage
                      });
                    } catch (error45) {
                      controller.enqueue({
                        type: "error",
                        error: error45
                      });
                      self.closeStream();
                    }
                  } else {
                    controller.enqueue({
                      type: "finish",
                      finishReason: stepFinishReason,
                      totalUsage: combinedUsage
                    });
                    self.closeStream();
                  }
                }
              })
            )
          );
        }
        await streamStep({
          currentStep: 0,
          responseMessages: [],
          usage: {
            inputTokens: void 0,
            outputTokens: void 0,
            totalTokens: void 0
          }
        });
      }
    }).catch((error45) => {
      self.addStream(
        new ReadableStream({
          start(controller) {
            controller.enqueue({ type: "error", error: error45 });
            controller.close();
          }
        })
      );
      self.closeStream();
    });
  }
  get steps() {
    this.consumeStream();
    return this._steps.promise;
  }
  get finalStep() {
    return this.steps.then((steps) => steps[steps.length - 1]);
  }
  get content() {
    return this.finalStep.then((step) => step.content);
  }
  get warnings() {
    return this.finalStep.then((step) => step.warnings);
  }
  get providerMetadata() {
    return this.finalStep.then((step) => step.providerMetadata);
  }
  get text() {
    return this.finalStep.then((step) => step.text);
  }
  get reasoningText() {
    return this.finalStep.then((step) => step.reasoningText);
  }
  get reasoning() {
    return this.finalStep.then((step) => step.reasoning);
  }
  get sources() {
    return this.finalStep.then((step) => step.sources);
  }
  get files() {
    return this.finalStep.then((step) => step.files);
  }
  get toolCalls() {
    return this.finalStep.then((step) => step.toolCalls);
  }
  get staticToolCalls() {
    return this.finalStep.then((step) => step.staticToolCalls);
  }
  get dynamicToolCalls() {
    return this.finalStep.then((step) => step.dynamicToolCalls);
  }
  get toolResults() {
    return this.finalStep.then((step) => step.toolResults);
  }
  get staticToolResults() {
    return this.finalStep.then((step) => step.staticToolResults);
  }
  get dynamicToolResults() {
    return this.finalStep.then((step) => step.dynamicToolResults);
  }
  get usage() {
    return this.finalStep.then((step) => step.usage);
  }
  get request() {
    return this.finalStep.then((step) => step.request);
  }
  get response() {
    return this.finalStep.then((step) => step.response);
  }
  get totalUsage() {
    this.consumeStream();
    return this._totalUsage.promise;
  }
  get finishReason() {
    this.consumeStream();
    return this._finishReason.promise;
  }
  /**
  Split out a new stream from the original stream.
  The original stream is replaced to allow for further splitting,
  since we do not know how many times the stream will be split.
  
  Note: this leads to buffering the stream content on the server.
  However, the LLM results are expected to be small enough to not cause issues.
     */
  teeStream() {
    const [stream1, stream2] = this.baseStream.tee();
    this.baseStream = stream2;
    return stream1;
  }
  get textStream() {
    return createAsyncIterableStream(
      this.teeStream().pipeThrough(
        new TransformStream({
          transform({ part }, controller) {
            if (part.type === "text-delta") {
              controller.enqueue(part.text);
            }
          }
        })
      )
    );
  }
  get fullStream() {
    return createAsyncIterableStream(
      this.teeStream().pipeThrough(
        new TransformStream({
          transform({ part }, controller) {
            controller.enqueue(part);
          }
        })
      )
    );
  }
  async consumeStream(options) {
    var _a17;
    try {
      await consumeStream({
        stream: this.fullStream,
        onError: options == null ? void 0 : options.onError
      });
    } catch (error45) {
      (_a17 = options == null ? void 0 : options.onError) == null ? void 0 : _a17.call(options, error45);
    }
  }
  get experimental_partialOutputStream() {
    if (this.output == null) {
      throw new NoOutputSpecifiedError();
    }
    return createAsyncIterableStream(
      this.teeStream().pipeThrough(
        new TransformStream({
          transform({ partialOutput }, controller) {
            if (partialOutput != null) {
              controller.enqueue(partialOutput);
            }
          }
        })
      )
    );
  }
  toUIMessageStream({
    originalMessages,
    generateMessageId,
    onFinish,
    messageMetadata,
    sendReasoning = true,
    sendSources = false,
    sendStart = true,
    sendFinish = true,
    onError = getErrorMessage
  } = {}) {
    const responseMessageId = generateMessageId != null ? getResponseUIMessageId({
      originalMessages,
      responseMessageId: generateMessageId
    }) : void 0;
    const toolNamesByCallId = {};
    const isDynamic = (toolCallId) => {
      var _a17, _b8;
      const toolName = toolNamesByCallId[toolCallId];
      const dynamic = ((_b8 = (_a17 = this.tools) == null ? void 0 : _a17[toolName]) == null ? void 0 : _b8.type) === "dynamic";
      return dynamic ? true : void 0;
    };
    const baseStream = this.fullStream.pipeThrough(
      new TransformStream({
        transform: async (part, controller) => {
          const messageMetadataValue = messageMetadata == null ? void 0 : messageMetadata({ part });
          const partType = part.type;
          switch (partType) {
            case "text-start": {
              controller.enqueue({
                type: "text-start",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "text-delta": {
              controller.enqueue({
                type: "text-delta",
                id: part.id,
                delta: part.text,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "text-end": {
              controller.enqueue({
                type: "text-end",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "reasoning-start": {
              controller.enqueue({
                type: "reasoning-start",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "reasoning-delta": {
              if (sendReasoning) {
                controller.enqueue({
                  type: "reasoning-delta",
                  id: part.id,
                  delta: part.text,
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
                });
              }
              break;
            }
            case "reasoning-end": {
              controller.enqueue({
                type: "reasoning-end",
                id: part.id,
                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
              });
              break;
            }
            case "file": {
              controller.enqueue({
                type: "file",
                mediaType: part.file.mediaType,
                url: `data:${part.file.mediaType};base64,${part.file.base64}`
              });
              break;
            }
            case "source": {
              if (sendSources && part.sourceType === "url") {
                controller.enqueue({
                  type: "source-url",
                  sourceId: part.id,
                  url: part.url,
                  title: part.title,
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
                });
              }
              if (sendSources && part.sourceType === "document") {
                controller.enqueue({
                  type: "source-document",
                  sourceId: part.id,
                  mediaType: part.mediaType,
                  title: part.title,
                  filename: part.filename,
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}
                });
              }
              break;
            }
            case "tool-input-start": {
              toolNamesByCallId[part.id] = part.toolName;
              const dynamic = isDynamic(part.id);
              controller.enqueue({
                type: "tool-input-start",
                toolCallId: part.id,
                toolName: part.toolName,
                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                ...dynamic != null ? { dynamic } : {}
              });
              break;
            }
            case "tool-input-delta": {
              controller.enqueue({
                type: "tool-input-delta",
                toolCallId: part.id,
                inputTextDelta: part.delta
              });
              break;
            }
            case "tool-call": {
              toolNamesByCallId[part.toolCallId] = part.toolName;
              const dynamic = isDynamic(part.toolCallId);
              if (part.invalid) {
                controller.enqueue({
                  type: "tool-input-error",
                  toolCallId: part.toolCallId,
                  toolName: part.toolName,
                  input: part.input,
                  ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {},
                  ...dynamic != null ? { dynamic } : {},
                  errorText: onError(part.error)
                });
              } else {
                controller.enqueue({
                  type: "tool-input-available",
                  toolCallId: part.toolCallId,
                  toolName: part.toolName,
                  input: part.input,
                  ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {},
                  ...dynamic != null ? { dynamic } : {}
                });
              }
              break;
            }
            case "tool-result": {
              const dynamic = isDynamic(part.toolCallId);
              controller.enqueue({
                type: "tool-output-available",
                toolCallId: part.toolCallId,
                output: part.output,
                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                ...part.preliminary != null ? { preliminary: part.preliminary } : {},
                ...dynamic != null ? { dynamic } : {}
              });
              break;
            }
            case "tool-error": {
              const dynamic = isDynamic(part.toolCallId);
              controller.enqueue({
                type: "tool-output-error",
                toolCallId: part.toolCallId,
                errorText: onError(part.error),
                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},
                ...dynamic != null ? { dynamic } : {}
              });
              break;
            }
            case "error": {
              controller.enqueue({
                type: "error",
                errorText: onError(part.error)
              });
              break;
            }
            case "start-step": {
              controller.enqueue({ type: "start-step" });
              break;
            }
            case "finish-step": {
              controller.enqueue({ type: "finish-step" });
              break;
            }
            case "start": {
              if (sendStart) {
                controller.enqueue({
                  type: "start",
                  ...messageMetadataValue != null ? { messageMetadata: messageMetadataValue } : {},
                  ...responseMessageId != null ? { messageId: responseMessageId } : {}
                });
              }
              break;
            }
            case "finish": {
              if (sendFinish) {
                controller.enqueue({
                  type: "finish",
                  ...messageMetadataValue != null ? { messageMetadata: messageMetadataValue } : {}
                });
              }
              break;
            }
            case "abort": {
              controller.enqueue(part);
              break;
            }
            case "tool-input-end": {
              break;
            }
            case "raw": {
              break;
            }
            default: {
              const exhaustiveCheck = partType;
              throw new Error(`Unknown chunk type: ${exhaustiveCheck}`);
            }
          }
          if (messageMetadataValue != null && partType !== "start" && partType !== "finish") {
            controller.enqueue({
              type: "message-metadata",
              messageMetadata: messageMetadataValue
            });
          }
        }
      })
    );
    return createAsyncIterableStream(
      handleUIMessageStreamFinish({
        stream: baseStream,
        messageId: responseMessageId != null ? responseMessageId : generateMessageId == null ? void 0 : generateMessageId(),
        originalMessages,
        onFinish,
        onError
      })
    );
  }
  pipeUIMessageStreamToResponse(response, {
    originalMessages,
    generateMessageId,
    onFinish,
    messageMetadata,
    sendReasoning,
    sendSources,
    sendFinish,
    sendStart,
    onError,
    ...init
  } = {}) {
    pipeUIMessageStreamToResponse({
      response,
      stream: this.toUIMessageStream({
        originalMessages,
        generateMessageId,
        onFinish,
        messageMetadata,
        sendReasoning,
        sendSources,
        sendFinish,
        sendStart,
        onError
      }),
      ...init
    });
  }
  pipeTextStreamToResponse(response, init) {
    pipeTextStreamToResponse({
      response,
      textStream: this.textStream,
      ...init
    });
  }
  toUIMessageStreamResponse({
    originalMessages,
    generateMessageId,
    onFinish,
    messageMetadata,
    sendReasoning,
    sendSources,
    sendFinish,
    sendStart,
    onError,
    ...init
  } = {}) {
    return createUIMessageStreamResponse({
      stream: this.toUIMessageStream({
        originalMessages,
        generateMessageId,
        onFinish,
        messageMetadata,
        sendReasoning,
        sendSources,
        sendFinish,
        sendStart,
        onError
      }),
      ...init
    });
  }
  toTextStreamResponse(init) {
    return createTextStreamResponse({
      textStream: this.textStream,
      ...init
    });
  }
};
function convertToModelMessages(messages, options) {
  const modelMessages = [];
  if (options == null ? void 0 : options.ignoreIncompleteToolCalls) {
    messages = messages.map((message) => ({
      ...message,
      parts: message.parts.filter(
        (part) => !isToolOrDynamicToolUIPart(part) || part.state !== "input-streaming" && part.state !== "input-available"
      )
    }));
  }
  for (const message of messages) {
    switch (message.role) {
      case "system": {
        const textParts = message.parts.filter((part) => part.type === "text");
        const providerMetadata = textParts.reduce((acc, part) => {
          if (part.providerMetadata != null) {
            return { ...acc, ...part.providerMetadata };
          }
          return acc;
        }, {});
        modelMessages.push({
          role: "system",
          content: textParts.map((part) => part.text).join(""),
          ...Object.keys(providerMetadata).length > 0 ? { providerOptions: providerMetadata } : {}
        });
        break;
      }
      case "user": {
        modelMessages.push({
          role: "user",
          content: message.parts.filter(
            (part) => part.type === "text" || part.type === "file"
          ).map((part) => {
            switch (part.type) {
              case "text":
                return {
                  type: "text",
                  text: part.text,
                  ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}
                };
              case "file":
                return {
                  type: "file",
                  mediaType: part.mediaType,
                  filename: part.filename,
                  data: part.url,
                  ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}
                };
              default:
                return part;
            }
          })
        });
        break;
      }
      case "assistant": {
        if (message.parts != null) {
          let processBlock2 = function() {
            var _a17, _b8;
            if (block.length === 0) {
              return;
            }
            const content = [];
            for (const part of block) {
              if (part.type === "text") {
                content.push({
                  type: "text",
                  text: part.text,
                  ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}
                });
              } else if (part.type === "file") {
                content.push({
                  type: "file",
                  mediaType: part.mediaType,
                  filename: part.filename,
                  data: part.url
                });
              } else if (part.type === "reasoning") {
                content.push({
                  type: "reasoning",
                  text: part.text,
                  providerOptions: part.providerMetadata
                });
              } else if (part.type === "dynamic-tool") {
                const toolName = part.toolName;
                if (part.state !== "input-streaming") {
                  content.push({
                    type: "tool-call",
                    toolCallId: part.toolCallId,
                    toolName,
                    input: part.input,
                    ...part.callProviderMetadata != null ? { providerOptions: part.callProviderMetadata } : {}
                  });
                }
              } else if (isToolUIPart(part)) {
                const toolName = getToolName(part);
                if (part.state !== "input-streaming") {
                  content.push({
                    type: "tool-call",
                    toolCallId: part.toolCallId,
                    toolName,
                    input: part.state === "output-error" ? (_a17 = part.input) != null ? _a17 : part.rawInput : part.input,
                    providerExecuted: part.providerExecuted,
                    ...part.callProviderMetadata != null ? { providerOptions: part.callProviderMetadata } : {}
                  });
                  if (part.providerExecuted === true && (part.state === "output-available" || part.state === "output-error")) {
                    content.push({
                      type: "tool-result",
                      toolCallId: part.toolCallId,
                      toolName,
                      output: createToolModelOutput({
                        output: part.state === "output-error" ? part.errorText : part.output,
                        tool: (_b8 = options == null ? void 0 : options.tools) == null ? void 0 : _b8[toolName],
                        errorMode: part.state === "output-error" ? "json" : "none"
                      })
                    });
                  }
                }
              } else {
                const _exhaustiveCheck = part;
                throw new Error(`Unsupported part: ${_exhaustiveCheck}`);
              }
            }
            modelMessages.push({
              role: "assistant",
              content
            });
            const toolParts = block.filter(
              (part) => isToolUIPart(part) && part.providerExecuted !== true || part.type === "dynamic-tool"
            );
            if (toolParts.length > 0) {
              modelMessages.push({
                role: "tool",
                content: toolParts.map((toolPart) => {
                  var _a18;
                  switch (toolPart.state) {
                    case "output-error":
                    case "output-available": {
                      const toolName = toolPart.type === "dynamic-tool" ? toolPart.toolName : getToolName(toolPart);
                      return {
                        type: "tool-result",
                        toolCallId: toolPart.toolCallId,
                        toolName,
                        output: createToolModelOutput({
                          output: toolPart.state === "output-error" ? toolPart.errorText : toolPart.output,
                          tool: (_a18 = options == null ? void 0 : options.tools) == null ? void 0 : _a18[toolName],
                          errorMode: toolPart.state === "output-error" ? "text" : "none"
                        })
                      };
                    }
                    default: {
                      return null;
                    }
                  }
                }).filter(
                  (output) => output != null
                )
              });
            }
            block = [];
          };
          var processBlock = processBlock2;
          let block = [];
          for (const part of message.parts) {
            if (part.type === "text" || part.type === "reasoning" || part.type === "file" || part.type === "dynamic-tool" || isToolUIPart(part)) {
              block.push(part);
            } else if (part.type === "step-start") {
              processBlock2();
            }
          }
          processBlock2();
          break;
        }
        break;
      }
      default: {
        const _exhaustiveCheck = message.role;
        throw new MessageConversionError({
          originalMessage: message,
          message: `Unsupported role: ${_exhaustiveCheck}`
        });
      }
    }
  }
  return modelMessages;
}
var originalGenerateId3 = createIdGenerator({ prefix: "aiobj", size: 24 });
var originalGenerateId4 = createIdGenerator({ prefix: "aiobj", size: 24 });
var output_exports = {};
__export2(output_exports, {
  object: () => object2,
  text: () => text
});
var text = () => ({
  type: "text",
  responseFormat: { type: "text" },
  async parsePartial({ text: text2 }) {
    return { partial: text2 };
  },
  async parseOutput({ text: text2 }) {
    return text2;
  }
});
var object2 = ({
  schema: inputSchema
}) => {
  const schema = asSchema(inputSchema);
  return {
    type: "object",
    responseFormat: {
      type: "json",
      schema: schema.jsonSchema
    },
    async parsePartial({ text: text2 }) {
      const result = await parsePartialJson(text2);
      switch (result.state) {
        case "failed-parse":
        case "undefined-input":
          return void 0;
        case "repaired-parse":
        case "successful-parse":
          return {
            // Note: currently no validation of partial results:
            partial: result.value
          };
        default: {
          const _exhaustiveCheck = result.state;
          throw new Error(`Unsupported parse state: ${_exhaustiveCheck}`);
        }
      }
    },
    async parseOutput({ text: text2 }, context) {
      const parseResult = await safeParseJSON({ text: text2 });
      if (!parseResult.success) {
        throw new NoObjectGeneratedError({
          message: "No object generated: could not parse the response.",
          cause: parseResult.error,
          text: text2,
          response: context.response,
          usage: context.usage,
          finishReason: context.finishReason
        });
      }
      const validationResult = await safeValidateTypes({
        value: parseResult.value,
        schema
      });
      if (!validationResult.success) {
        throw new NoObjectGeneratedError({
          message: "No object generated: response did not match schema.",
          cause: validationResult.error,
          text: text2,
          response: context.response,
          usage: context.usage,
          finishReason: context.finishReason
        });
      }
      return validationResult.value;
    }
  };
};
var name16 = "AI_NoSuchProviderError";
var marker162 = `vercel.ai.error.${name16}`;
var symbol162 = Symbol.for(marker162);
var _a162;
_a162 = symbol162;
var ClientOrServerImplementationSchema = external_exports.looseObject({
  name: external_exports.string(),
  version: external_exports.string()
});
var BaseParamsSchema = external_exports.looseObject({
  _meta: external_exports.optional(external_exports.object({}).loose())
});
var ResultSchema = BaseParamsSchema;
var RequestSchema = external_exports.object({
  method: external_exports.string(),
  params: external_exports.optional(BaseParamsSchema)
});
var ServerCapabilitiesSchema = external_exports.looseObject({
  experimental: external_exports.optional(external_exports.object({}).loose()),
  logging: external_exports.optional(external_exports.object({}).loose()),
  prompts: external_exports.optional(
    external_exports.looseObject({
      listChanged: external_exports.optional(external_exports.boolean())
    })
  ),
  resources: external_exports.optional(
    external_exports.looseObject({
      subscribe: external_exports.optional(external_exports.boolean()),
      listChanged: external_exports.optional(external_exports.boolean())
    })
  ),
  tools: external_exports.optional(
    external_exports.looseObject({
      listChanged: external_exports.optional(external_exports.boolean())
    })
  )
});
var InitializeResultSchema = ResultSchema.extend({
  protocolVersion: external_exports.string(),
  capabilities: ServerCapabilitiesSchema,
  serverInfo: ClientOrServerImplementationSchema,
  instructions: external_exports.optional(external_exports.string())
});
var PaginatedResultSchema = ResultSchema.extend({
  nextCursor: external_exports.optional(external_exports.string())
});
var ToolSchema = external_exports.object({
  name: external_exports.string(),
  description: external_exports.optional(external_exports.string()),
  inputSchema: external_exports.object({
    type: external_exports.literal("object"),
    properties: external_exports.optional(external_exports.object({}).loose())
  }).loose()
}).loose();
var ListToolsResultSchema = PaginatedResultSchema.extend({
  tools: external_exports.array(ToolSchema)
});
var TextContentSchema = external_exports.object({
  type: external_exports.literal("text"),
  text: external_exports.string()
}).loose();
var ImageContentSchema = external_exports.object({
  type: external_exports.literal("image"),
  data: external_exports.base64(),
  mimeType: external_exports.string()
}).loose();
var ResourceContentsSchema = external_exports.object({
  /**
   * The URI of this resource.
   */
  uri: external_exports.string(),
  /**
   * The MIME type of this resource, if known.
   */
  mimeType: external_exports.optional(external_exports.string())
}).loose();
var TextResourceContentsSchema = ResourceContentsSchema.extend({
  text: external_exports.string()
});
var BlobResourceContentsSchema = ResourceContentsSchema.extend({
  blob: external_exports.base64()
});
var EmbeddedResourceSchema = external_exports.object({
  type: external_exports.literal("resource"),
  resource: external_exports.union([TextResourceContentsSchema, BlobResourceContentsSchema])
}).loose();
var CallToolResultSchema = ResultSchema.extend({
  content: external_exports.array(
    external_exports.union([TextContentSchema, ImageContentSchema, EmbeddedResourceSchema])
  ),
  isError: external_exports.boolean().default(false).optional()
}).or(
  ResultSchema.extend({
    toolResult: external_exports.unknown()
  })
);
var JSONRPC_VERSION = "2.0";
var JSONRPCRequestSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION),
  id: external_exports.union([external_exports.string(), external_exports.number().int()])
}).merge(RequestSchema).strict();
var JSONRPCResponseSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION),
  id: external_exports.union([external_exports.string(), external_exports.number().int()]),
  result: ResultSchema
}).strict();
var JSONRPCErrorSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION),
  id: external_exports.union([external_exports.string(), external_exports.number().int()]),
  error: external_exports.object({
    code: external_exports.number().int(),
    message: external_exports.string(),
    data: external_exports.optional(external_exports.unknown())
  })
}).strict();
var JSONRPCNotificationSchema = external_exports.object({
  jsonrpc: external_exports.literal(JSONRPC_VERSION)
}).merge(
  external_exports.object({
    method: external_exports.string(),
    params: external_exports.optional(BaseParamsSchema)
  })
).strict();
var JSONRPCMessageSchema = external_exports.union([
  JSONRPCRequestSchema,
  JSONRPCNotificationSchema,
  JSONRPCResponseSchema,
  JSONRPCErrorSchema
]);
var textUIPartSchema = external_exports.object({
  type: external_exports.literal("text"),
  text: external_exports.string(),
  state: external_exports.enum(["streaming", "done"]).optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var reasoningUIPartSchema = external_exports.object({
  type: external_exports.literal("reasoning"),
  text: external_exports.string(),
  state: external_exports.enum(["streaming", "done"]).optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var sourceUrlUIPartSchema = external_exports.object({
  type: external_exports.literal("source-url"),
  sourceId: external_exports.string(),
  url: external_exports.string(),
  title: external_exports.string().optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var sourceDocumentUIPartSchema = external_exports.object({
  type: external_exports.literal("source-document"),
  sourceId: external_exports.string(),
  mediaType: external_exports.string(),
  title: external_exports.string(),
  filename: external_exports.string().optional(),
  providerMetadata: providerMetadataSchema.optional()
});
var fileUIPartSchema = external_exports.object({
  type: external_exports.literal("file"),
  mediaType: external_exports.string(),
  filename: external_exports.string().optional(),
  url: external_exports.string(),
  providerMetadata: providerMetadataSchema.optional()
});
var stepStartUIPartSchema = external_exports.object({
  type: external_exports.literal("step-start")
});
var dataUIPartSchema = external_exports.object({
  type: external_exports.string().startsWith("data-"),
  id: external_exports.string().optional(),
  data: external_exports.unknown()
});
var dynamicToolUIPartSchemas = [
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-streaming"),
    input: external_exports.unknown().optional(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional()
  }),
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-available"),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional()
  }),
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-available"),
    input: external_exports.unknown(),
    output: external_exports.unknown(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional(),
    preliminary: external_exports.boolean().optional()
  }),
  external_exports.object({
    type: external_exports.literal("dynamic-tool"),
    toolName: external_exports.string(),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-error"),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.string(),
    callProviderMetadata: providerMetadataSchema.optional()
  })
];
var toolUIPartSchemas = [
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-streaming"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown().optional(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional()
  }),
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("input-available"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional()
  }),
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-available"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown(),
    output: external_exports.unknown(),
    errorText: external_exports.never().optional(),
    callProviderMetadata: providerMetadataSchema.optional(),
    preliminary: external_exports.boolean().optional()
  }),
  external_exports.object({
    type: external_exports.string().startsWith("tool-"),
    toolCallId: external_exports.string(),
    state: external_exports.literal("output-error"),
    providerExecuted: external_exports.boolean().optional(),
    input: external_exports.unknown(),
    output: external_exports.never().optional(),
    errorText: external_exports.string(),
    callProviderMetadata: providerMetadataSchema.optional()
  })
];
var uiMessageSchema = external_exports.object({
  id: external_exports.string(),
  role: external_exports.enum(["system", "user", "assistant"]),
  metadata: external_exports.unknown().optional(),
  parts: external_exports.array(
    external_exports.union([
      textUIPartSchema,
      reasoningUIPartSchema,
      sourceUrlUIPartSchema,
      sourceDocumentUIPartSchema,
      fileUIPartSchema,
      stepStartUIPartSchema,
      dataUIPartSchema,
      ...dynamicToolUIPartSchemas,
      ...toolUIPartSchemas
    ])
  )
});

// node_modules/blink/dist/cookie-BiKY7-P1.js
var b = (e, t2, n2 = {}) => {
  let r2 = `${e}=${t2}`;
  if (e.startsWith(`__Secure-`) && !n2.secure) throw Error(`__Secure- Cookie must have Secure attributes`);
  if (e.startsWith(`__Host-`)) {
    if (!n2.secure) throw Error(`__Host- Cookie must have Secure attributes`);
    if (n2.path !== `/`) throw Error(`__Host- Cookie must have Path attributes with "/"`);
    if (n2.domain) throw Error(`__Host- Cookie must not have Domain attributes`);
  }
  if (n2 && typeof n2.maxAge == `number` && n2.maxAge >= 0) {
    if (n2.maxAge > 3456e4) throw Error(`Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.`);
    r2 += `; Max-Age=${n2.maxAge | 0}`;
  }
  if (n2.domain && n2.prefix !== `host` && (r2 += `; Domain=${n2.domain}`), n2.path && (r2 += `; Path=${n2.path}`), n2.expires) {
    if (n2.expires.getTime() - Date.now() > 3456e7) throw Error(`Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.`);
    r2 += `; Expires=${n2.expires.toUTCString()}`;
  }
  if (n2.httpOnly && (r2 += `; HttpOnly`), n2.secure && (r2 += `; Secure`), n2.sameSite && (r2 += `; SameSite=${n2.sameSite.charAt(0).toUpperCase() + n2.sameSite.slice(1)}`), n2.priority && (r2 += `; Priority=${n2.priority.charAt(0).toUpperCase() + n2.priority.slice(1)}`), n2.partitioned) {
    if (!n2.secure) throw Error(`Partitioned Cookie must have Secure attributes`);
    r2 += `; Partitioned`;
  }
  return r2;
};
var x = (e, t2, n2) => (t2 = encodeURIComponent(t2), b(e, t2, n2));

// node_modules/blink/dist/api/index.js
var import_util6 = __toESM(require("util"), 1);
var n = (e, t2) => (e = e.replace(/\/+$/, ``), e += `/`, t2 = t2.replace(/^\/+/, ``), e + t2);
var r = (e, t2) => {
  for (let [n2, r2] of Object.entries(t2)) {
    let t3 = RegExp(`/:` + n2 + `(?:{[^/]+})?\\??`);
    e = e.replace(t3, r2 ? `/${r2}` : ``);
  }
  return e;
};
var i = (e) => {
  let t2 = new URLSearchParams();
  for (let [n2, r2] of Object.entries(e)) {
    if (r2 === void 0) continue;
    if (Array.isArray(r2)) for (let e2 of r2) t2.append(n2, e2);
    else t2.set(n2, r2);
  }
  return t2;
};
var a = (e, t2) => {
  switch (t2) {
    case `ws`:
      return e.replace(/^http/, `ws`);
    case `http`:
      return e.replace(/^ws/, `http`);
  }
};
var o = (e) => /^https?:\/\/[^\/]+?\/index(?=\?|$)/.test(e) ? e.replace(/\/index(?=\?|$)/, `/`) : e.replace(/\/index(?=\?|$)/, ``);
function s(e) {
  return typeof e == `object` && !!e && !Array.isArray(e);
}
function c(e, t2) {
  if (!s(e) && !s(t2)) return t2;
  let n2 = { ...e };
  for (let e2 in t2) {
    let r2 = t2[e2];
    s(n2[e2]) && s(r2) ? n2[e2] = c(n2[e2], r2) : n2[e2] = r2;
  }
  return n2;
}
var l = (e, t2) => {
  let n2 = new Proxy(() => {
  }, { get(n3, r2) {
    if (!(typeof r2 != `string` || r2 === `then`)) return l(e, [...t2, r2]);
  }, apply(n3, r2, i2) {
    return e({ path: t2, args: i2 });
  } });
  return n2;
};
var u = class {
  url;
  method;
  queryParams = void 0;
  pathParams = {};
  rBody;
  cType = void 0;
  constructor(e, t2) {
    this.url = e, this.method = t2;
  }
  fetch = async (t2, n2) => {
    if (t2) {
      if (t2.query && (this.queryParams = i(t2.query)), t2.form) {
        let e = new FormData();
        for (let [n3, r2] of Object.entries(t2.form)) if (Array.isArray(r2)) for (let t3 of r2) e.append(n3, t3);
        else e.append(n3, r2);
        this.rBody = e;
      }
      t2.json && (this.rBody = JSON.stringify(t2.json), this.cType = `application/json`), t2.param && (this.pathParams = t2.param);
    }
    let a2 = this.method.toUpperCase(), s2 = { ...t2?.header, ...typeof n2?.headers == `function` ? await n2.headers() : n2?.headers };
    if (t2?.cookie) {
      let n3 = [];
      for (let [r2, i2] of Object.entries(t2.cookie)) n3.push(x(r2, i2, { path: `/` }));
      s2.Cookie = n3.join(`,`);
    }
    this.cType && (s2[`Content-Type`] = this.cType);
    let c2 = new Headers(s2 ?? void 0), l2 = this.url;
    l2 = o(l2), l2 = r(l2, this.pathParams), this.queryParams && (l2 = l2 + `?` + this.queryParams.toString()), a2 = this.method.toUpperCase();
    let u2 = !(a2 === `GET` || a2 === `HEAD`);
    return (n2?.fetch || fetch)(l2, { body: u2 ? this.rBody : void 0, method: a2, headers: c2, ...n2?.init });
  };
};
var d = (e, t2) => l(function s2(l2) {
  let d2 = [...l2.path], f2 = d2.slice(-3).reverse();
  if (f2[0] === `toString`) return f2[1] === `name` ? f2[2] || `` : s2.toString();
  if (f2[0] === `valueOf`) return f2[1] === `name` ? f2[2] || `` : s2;
  let p2 = ``;
  if (/^\$/.test(f2[0])) {
    let e2 = d2.pop();
    e2 && (p2 = e2.replace(/^\$/, ``));
  }
  let m2 = d2.join(`/`), h2 = n(e, m2);
  if (p2 === `url`) {
    let e2 = h2;
    return l2.args[0] && (l2.args[0].param && (e2 = r(h2, l2.args[0].param)), l2.args[0].query && (e2 = e2 + `?` + i(l2.args[0].query).toString())), e2 = o(e2), new URL(e2);
  }
  if (p2 === `ws`) {
    let e2 = a(l2.args[0] && l2.args[0].param ? r(h2, l2.args[0].param) : h2, `ws`), n2 = new URL(e2), i2 = l2.args[0]?.query;
    i2 && Object.entries(i2).forEach(([e3, t3]) => {
      Array.isArray(t3) ? t3.forEach((t4) => n2.searchParams.append(e3, t4)) : n2.searchParams.set(e3, t3);
    });
    let o2 = (...e3) => t2?.webSocket !== void 0 && typeof t2.webSocket == `function` ? t2.webSocket(...e3) : new WebSocket(...e3);
    return o2(n2.toString());
  }
  let g2 = new u(h2, p2);
  if (p2) {
    t2 ??= {};
    let e2 = c(t2, { ...l2.args[1] });
    return g2.fetch(l2.args[0], e2);
  }
  return g2;
}, []);
var f = process.env.BLINK_API_SERVER_URL;
var p = d(f ?? ``, { fetch: f ? void 0 : async () => {
  throw console.warn(`Your code is attempting to use the Blink API server, but no API server is configured for this Blink agent.`), Error(`No API server is configured for this Blink agent. External APIs are not available.`);
} });
var m = Object.freeze({ upsert: async (e) => {
  let t2 = await p.chat[`:id`].$post({ param: { id: e } });
  if (t2.status !== 200) {
    let e2 = await t2.json();
    throw Error(e2.error);
  }
  return { id: e };
}, message: async (e, t2, n2) => {
  let r2 = await p.chat[`:id`].sendMessages.$post({ param: { id: e }, json: { messages: [t2], behavior: n2?.behavior ?? `enqueue` } });
  if (r2.status !== 204) {
    let e2 = await r2.json();
    throw Error(e2.error);
  }
} });
var h = Object.freeze({ get: async (e) => {
  let t2 = await p.storage[`:key`].$get({ param: { key: e } });
  if (t2.status !== 200) {
    let e2 = await t2.json();
    throw Error(e2.error);
  }
  let n2 = await t2.json();
  return n2.value;
}, set: async (e, t2) => {
  let n2 = await p.storage[`:key`].$post({ param: { key: e }, json: { value: t2 } });
  if (n2.status !== 204) {
    let e2 = await n2.json();
    throw Error(e2.error);
  }
} });
function g(e) {
  return { version: `v0`, supportsWebhooks: e.webhook !== void 0, fetch: async (t2) => {
    let n2 = new URL(t2.url);
    switch (n2.pathname) {
      case `/sendMessages`:
        return v(t2, e);
      case `/webhook`:
        return y(t2, e);
      default:
        return new Response(`Not found`, { status: 404 });
    }
  } };
}
var _;
async function v(e, n2) {
  if (e.method !== `POST`) return new Response(`Method not allowed`, { status: 405 });
  let r2;
  try {
    r2 = await e.json();
  } catch {
    return new Response(`Invalid request`, { status: 400 });
  }
  let i2;
  try {
    i2 = await n2.sendMessages({ messages: r2.messages, request: e });
  } catch (e2) {
    return new Response(JSON.stringify({ error: import_util6.default.inspect(e2) }), { status: 500 });
  }
  if (i2 instanceof Response) return i2;
  if (i2 instanceof ReadableStream) return new Response(i2, { headers: { "Content-Type": `text/event-stream` } });
  if (typeof i2 != `object` || typeof i2 == `object` && !(`toUIMessageStream` in i2)) throw Error(`The agent must return a "Response", "ReadableStream", or "toUIMessageStream" function.`);
  _ ||= new TextEncoder();
  let a2 = new TransformStream({ transform(e2, t2) {
    t2.enqueue(_.encode(`data: ${JSON.stringify(e2)}

`));
  } }), o2 = i2.toUIMessageStream();
  return o2.pipeTo(a2.writable), new Response(a2.readable, { headers: { "Content-Type": `text/event-stream` } });
}
async function y(e, n2) {
  if (!n2.webhook) return new Response(`No webhook function provided`, { status: 501 });
  try {
    let t2 = await n2.webhook(e);
    return t2 || new Response(`OK`, { status: 200 });
  } catch (e2) {
    return new Response(JSON.stringify({ error: import_util6.default.inspect(e2) }), { status: 500 });
  }
}

// node_modules/pg/esm/index.mjs
var import_lib = __toESM(require_lib2(), 1);
var Client = import_lib.default.Client;
var Pool = import_lib.default.Pool;
var Connection = import_lib.default.Connection;
var types = import_lib.default.types;
var Query = import_lib.default.Query;
var DatabaseError = import_lib.default.DatabaseError;
var escapeIdentifier = import_lib.default.escapeIdentifier;
var escapeLiteral = import_lib.default.escapeLiteral;
var Result = import_lib.default.Result;
var TypeOverrides = import_lib.default.TypeOverrides;
var defaults = import_lib.default.defaults;

// db.ts
var pool = null;
function getPool() {
  if (!pool) {
    const connectionString = process.env.DATABASE_URL;
    if (!connectionString) {
      throw new Error(
        "DATABASE_URL is required. Set it to your Neon connection string before starting the agent."
      );
    }
    pool = new Pool({
      connectionString,
      ssl: { rejectUnauthorized: false },
      max: 5,
      idleTimeoutMillis: 1e4,
      connectionTimeoutMillis: 1e4
    });
  }
  return pool;
}
var KNOWN_SCHEMA_SUMMARY = `
Tables:

1) field_changes (append-only)
  - id BIGSERIAL PRIMARY KEY
  - project_node_id TEXT NOT NULL
  - project_name TEXT
  - item_node_id TEXT NOT NULL
  - content_node_id TEXT
  - content_type TEXT
  - content_title TEXT
  - content_url TEXT
  - repository_name TEXT
  - field_name TEXT NOT NULL
  - field_type TEXT NOT NULL
  - old_value JSONB
  - new_value JSONB
  - changed_at TIMESTAMPTZ NOT NULL
  - detected_at TIMESTAMPTZ DEFAULT NOW()
  - actor_login TEXT
  - UNIQUE(item_node_id, field_name, changed_at)
  Indexes: project_node_id, project_name, repository_name, item_node_id, changed_at

2) current_field_values (current snapshot)
  - project_node_id TEXT NOT NULL
  - project_name TEXT
  - item_node_id TEXT NOT NULL
  - content_node_id TEXT
  - content_type TEXT
  - content_title TEXT
  - content_url TEXT
  - repository_name TEXT
  - field_name TEXT NOT NULL
  - field_type TEXT NOT NULL
  - field_value JSONB
  - updated_at TIMESTAMPTZ DEFAULT NOW()
  - PRIMARY KEY (item_node_id, field_name)
  Indexes: project_node_id, project_name, repository_name

Usage patterns:
- "What's new / what changed" \u2192 query field_changes filtered by project_name (or project_node_id) with changed_at >= now() - interval '7 days'.
- "Current state" \u2192 query current_field_values filtered by project_name (or project_node_id).
- Common filters: repository_name, field_name (e.g. Status), actor_login, content_type.
`;
async function getSchema() {
  const client = await getPool().connect();
  try {
    await client.query("BEGIN READ ONLY");
    const colRes = await client.query(
      `select c.table_name as table, c.column_name as name, c.data_type as "dataType", (c.is_nullable = 'YES') as "isNullable"
       from information_schema.columns c
       where c.table_schema = 'public' and c.table_name in ('field_changes','current_field_values')
       order by c.table_name, c.ordinal_position`
    );
    const idxRes = await client.query(
      `select tablename as table, indexname as name, indexdef as definition
       from pg_indexes
       where schemaname = 'public' and tablename in ('field_changes','current_field_values')
       order by tablename, indexname`
    );
    await client.query("COMMIT");
    const columns = colRes.rows;
    const indexes = idxRes.rows;
    return {
      columns,
      indexes,
      summary: KNOWN_SCHEMA_SUMMARY
    };
  } catch (e) {
    try {
      await client.query("ROLLBACK");
    } catch {
    }
    throw e;
  } finally {
    client.release();
  }
}
function ensureSelectOnly(sql) {
  const s2 = sql.trim();
  if (s2.split(";").filter(Boolean).length > 1) {
    throw new Error("Only a single SELECT statement is allowed.");
  }
  const noSemi = s2.endsWith(";") ? s2.slice(0, -1) : s2;
  const head = noSemi.trim().slice(0, 20).toLowerCase();
  if (!(head.startsWith("select") || head.startsWith("with"))) {
    throw new Error("Only SELECT queries are allowed.");
  }
  const forbidden = /(insert|update|delete|alter|drop|create|truncate|grant|revoke|vacuum|analyze|reindex)\b/i;
  if (forbidden.test(noSemi)) {
    throw new Error(
      "Query contains forbidden keywords. Read-only SELECTs only."
    );
  }
  return noSemi;
}
async function runQuery({
  sql,
  params = [],
  limit = 200,
  offset = 0,
  timeoutMs = 15e3
}) {
  const safeSql = ensureSelectOnly(sql);
  const client = await getPool().connect();
  const clampedLimit = Math.max(0, Math.min(limit ?? 200, 2e3));
  const clampedOffset = Math.max(0, offset ?? 0);
  try {
    await client.query("BEGIN READ ONLY");
    await client.query(
      `SET LOCAL statement_timeout TO '${Math.max(1e3, Math.min(timeoutMs, 6e4))}ms'`
    );
    const matches = [...safeSql.matchAll(/\$(\d+)/g)];
    const maxInSql = matches.length ? Math.max(...matches.map((m2) => Number(m2[1]) || 0)) : 0;
    const base = Math.max(maxInSql, Array.isArray(params) ? params.length : 0);
    const limitIdx = base + 1;
    const offsetIdx = base + 2;
    const wrapped = `select * from ( ${safeSql} ) as t limit $${limitIdx} offset $${offsetIdx}`;
    const res = await client.query({
      text: wrapped,
      values: [...params, clampedLimit, clampedOffset]
    });
    await client.query("COMMIT");
    return {
      rowCount: res.rowCount,
      rows: res.rows,
      appliedLimit: clampedLimit,
      appliedOffset: clampedOffset
    };
  } catch (e) {
    try {
      await client.query("ROLLBACK");
    } catch {
    }
    throw e;
  } finally {
    client.release();
  }
}

// prompt.ts
var import_fs = require("fs");
function buildSystemPrompt() {
  const base = `Your name is Gitty. You are an agent that answers questions about GitHub Projects using a Neon Postgres database accessed via tools db_schema and db_query.

Tool usage contract
- Tools available: db_schema, db_query
- You must call tools using exactly these names. Do not add suffixes or prefixes (e.g., do not use "db_query<|constrain|>json" or variants). If you intend to call db_query, the tool name must be exactly db_query.
- Provide tool inputs that conform to the declared JSON schema.

Operating principles
- Prefer filtering by project_name (users know names/URLs, not node IDs).
- Default lookback window for "what's new" or "what changed" is the last 7 days unless the user specifies otherwise.
- When uncertain, call db_schema to refresh your understanding of the schema, then construct a db_query with parameters.
- Safety: Only generate SELECT (or WITH ... SELECT) queries; keep them single-statement. Use parameter placeholders ($1, $2, ...). Keep LIMIT <= 2000 and use OFFSET for pagination.

Database schema and semantics
Tables
1) field_changes (append-only changelog)
  Columns
  - id BIGSERIAL PRIMARY KEY
  - project_node_id TEXT (GitHub project node ID)
  - project_name TEXT (GitHub project title)
  - item_node_id TEXT (project item node ID)
  - content_node_id TEXT (Issue/PR node ID if present)
  - content_type TEXT ("Issue", "PullRequest", or empty)
  - content_title TEXT (Issue/PR title if present)
  - content_url TEXT (Issue/PR URL if present)
  - repository_name TEXT ("owner/repo")
  - field_name TEXT (e.g., "Status", "Assignees", "labels", or synthetic names like "title")
  - field_type TEXT (project GraphQL typename like ProjectV2ItemFieldSingleSelectValue, or synthetic tags like issue_title, pr_state, system_event, cleared_field)
  - old_value JSONB (previous value \u2014 may be string, number, null, string[], object[], etc.)
  - new_value JSONB (new value \u2014 same shape as above)
  - changed_at TIMESTAMPTZ (when change happened; batch timestamp)
  - detected_at TIMESTAMPTZ (when change was detected; typically equals changed_at)
  - actor_login TEXT (may be empty)
  Constraints & notes
  - UNIQUE(item_node_id, field_name, changed_at)
  - Special deletion event: field_name = "_item_deleted", field_type = "system_event", old_value = true, new_value = null

2) current_field_values (latest snapshot of each item\u2019s fields)
  Columns
  - project_node_id TEXT
  - project_name TEXT
  - item_node_id TEXT
  - content_node_id TEXT
  - content_type TEXT
  - content_title TEXT
  - content_url TEXT
  - repository_name TEXT
  - field_name TEXT
  - field_type TEXT
  - field_value JSONB (latest value)
  - updated_at TIMESTAMPTZ
  Primary key
  - (item_node_id, field_name)

Value shapes in JSONB (examples)
- Project fields (source: project; field_type is a ProjectV2* typename)
  - Text \u2192 string | null (e.g., "Blocked")
  - SingleSelect \u2192 string | null (e.g., "In Progress")
  - Number \u2192 number | null (e.g., 3)
  - Date \u2192 string | null (ISO date, e.g., "2025-09-10")
  - Iteration \u2192 string | null (iteration title)
  - User \u2192 string[] (array of GitHub logins)
  - Repository \u2192 string | null ("owner/repo")
  - Label \u2192 string[] (array of label names)
  - Cleared project field \u2192 null with field_type = "cleared_field"
- Issue content fields (source: issue; field_type starts with "issue_")
  - title/body/state/created_at/updated_at \u2192 string
  - assignees \u2192 string[] (logins)
  - labels \u2192 string[] (label names)
  - milestone \u2192 string | null (title)
  - linked_pull_requests \u2192 array of objects: [{ repo, number, title, state, mergedAt }]
  - closing_pull_requests \u2192 array of objects: [{ repo, number }]
- Pull request content fields (source: pull_request; field_type starts with "pr_")
  - similar shapes to issue_* (title/body/state/created_at/updated_at/assignees/labels/milestone)

Disambiguation guidance
- "status"/"column"/"stage" from users typically refers to a Project field (SingleSelect or Text) named "Status". Prefer project fields (field_type starts with ProjectV2...) over issue_state/pr_state.
- "state" usually means Issue/PR state (OPEN, CLOSED, MERGED) \u2192 filter field_type in (issue_state, pr_state).
- "assignee"/"owner"/"assigned to" \u2192 arrays of GitHub logins in field_name = "assignees" (issue_* or pr_*); for project user fields, field_value is also an array of logins.
- "labels"/"tags" \u2192 arrays of label names.
- "milestone"/"version"/"release" \u2192 milestone title.
- "iteration"/"sprint"/"cycle" \u2192 project iteration title stored as a string value.
- "repo"/"repository" \u2192 repository_name (e.g., "coder/coder").
- "card"/"item" \u2192 project item (item_node_id); users won't know IDs, so scope by project_name and other filters.
- "recent"/"what's new"/"changes" \u2192 use field_changes filtered by changed_at; default to last 7 days.
- "customer" \u2192 use field_name filtered by Customer then check the value of field_value.

Query patterns to use with db_query
- Recent changes for a project (last 7 days by default)
  select * from field_changes
  where project_name = $1 and changed_at >= now() - interval '7 days'
  order by changed_at desc

- Current state for a project
  select * from current_field_values
  where project_name = $1

- Filter by repository and specific field (e.g., Status)
  select * from field_changes
  where project_name = $1
    and repository_name = $2
    and field_name = $3
  order by changed_at desc

Timestamps and change semantics
- current_field_values.updated_at represents when the latest snapshot was recorded. Do not use it to infer when a change occurred to a field.
- field_changes.changed_at is the authoritative timestamp for when a field value changed. Use this for ordering and answering \u201Cwhen did this change?\u201D.

Answering behavior
- Always clarify ambiguous project_name or time windows.
- If a request sounds like a summary, you may run a broader query with an explicit LIMIT (<= 2000) and then summarize.
- When returning results, consider sorting by changed_at desc for "what changed" and grouping by repository_name or field_name when helpful.
- For any "what changed" response, explicitly show both old_value and new_value for each change event with clear labels. Do not omit either.
- Show null explicitly as null for cleared values. Include field_name, changed_at (ISO), actor_login (if present), repository_name, and content_title/content_url (if present). Example format:
  - Status: "In Progress" \u2192 "Done" (changed_at: 2025-09-12T17:03:12Z, actor: octocat)
  - Assignees: ["alice"] \u2192 ["alice","bob"]
- When asked "when did this change?", use field_changes.changed_at, not current_field_values.updated_at. This timestamp provides the accurate timing of changes.

`;
  const pieces = [base];
  const envExtra = process.env.PROMPT_USER_LANGUAGE_GUIDE;
  if (envExtra && envExtra.trim().length > 0) {
    pieces.push("User language guide (custom additions)\n" + envExtra.trim());
  }
  const filePath = process.env.PROMPT_ADDITIONS_FILE;
  if (filePath && (0, import_fs.existsSync)(filePath)) {
    try {
      const file2 = (0, import_fs.readFileSync)(filePath, "utf8");
      if (file2.trim().length > 0) {
        pieces.push("User language guide (file)\n" + file2.trim());
      }
    } catch {
    }
  }
  return pieces.join("\n\n");
}

// agent.ts
var agent_default = g({
  async sendMessages({ messages }) {
    return streamText({
      //model: "openai/gpt-oss-120b",
      model: "anthropic/claude-sonnet-4",
      system: buildSystemPrompt(),
      messages: convertToModelMessages(messages),
      tools: {
        db_schema: tool({
          description: "Return the schema and usage notes for the Neon database backing GitHub Project insights. Includes tables, columns, indexes, and a concise guide for common queries using project_name.",
          inputSchema: external_exports.object({}),
          execute: async () => {
            const schema = await getSchema();
            return schema;
          }
        }),
        db_query: tool({
          description: "Execute a read-only SQL SELECT against the Neon database. Use project_name for scoping; default lookback is the last 7 days for 'what's new' queries. Returns rows with enforced LIMIT/OFFSET (max 2000).",
          inputSchema: external_exports.object({
            sql: external_exports.string().describe("A single SELECT (or WITH ... SELECT) statement."),
            params: external_exports.array(external_exports.any()).optional().default([]),
            limit: external_exports.number().int().min(1).max(2e3).optional().default(200),
            offset: external_exports.number().int().min(0).optional().default(0),
            timeoutMs: external_exports.number().int().min(1e3).max(6e4).optional().default(15e3)
          }),
          execute: async ({ sql, params, limit, offset, timeoutMs }) => {
            const result = await runQuery({
              sql,
              params,
              limit,
              offset,
              timeoutMs
            });
            return result;
          }
        })
      }
    });
  }
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vcG9zdGdyZXMtYXJyYXkvaW5kZXguanMiLCAiLi4vcGctdHlwZXMvbGliL2FycmF5UGFyc2VyLmpzIiwgIi4uL3Bvc3RncmVzLWRhdGUvaW5kZXguanMiLCAiLi4veHRlbmQvbXV0YWJsZS5qcyIsICIuLi9wb3N0Z3Jlcy1pbnRlcnZhbC9pbmRleC5qcyIsICIuLi9wb3N0Z3Jlcy1ieXRlYS9pbmRleC5qcyIsICIuLi9wZy10eXBlcy9saWIvdGV4dFBhcnNlcnMuanMiLCAiLi4vcGctaW50OC9pbmRleC5qcyIsICIuLi9wZy10eXBlcy9saWIvYmluYXJ5UGFyc2Vycy5qcyIsICIuLi9wZy10eXBlcy9saWIvYnVpbHRpbnMuanMiLCAiLi4vcGctdHlwZXMvaW5kZXguanMiLCAiLi4vcGcvbGliL2RlZmF1bHRzLmpzIiwgIi4uL3BnL2xpYi91dGlscy5qcyIsICIuLi9wZy9saWIvY3J5cHRvL3V0aWxzLWxlZ2FjeS5qcyIsICIuLi9wZy9saWIvY3J5cHRvL3V0aWxzLXdlYmNyeXB0by5qcyIsICIuLi9wZy9saWIvY3J5cHRvL3V0aWxzLmpzIiwgIi4uL3BnL2xpYi9jcnlwdG8vY2VydC1zaWduYXR1cmVzLmpzIiwgIi4uL3BnL2xpYi9jcnlwdG8vc2FzbC5qcyIsICIuLi9wZy9saWIvdHlwZS1vdmVycmlkZXMuanMiLCAiLi4vcGctY29ubmVjdGlvbi1zdHJpbmcvaW5kZXguanMiLCAiLi4vcGcvbGliL2Nvbm5lY3Rpb24tcGFyYW1ldGVycy5qcyIsICIuLi9wZy9saWIvcmVzdWx0LmpzIiwgIi4uL3BnL2xpYi9xdWVyeS5qcyIsICIuLi9wZy1wcm90b2NvbC9zcmMvbWVzc2FnZXMudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL2J1ZmZlci13cml0ZXIudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL3NlcmlhbGl6ZXIudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL2J1ZmZlci1yZWFkZXIudHMiLCAiLi4vcGctcHJvdG9jb2wvc3JjL3BhcnNlci50cyIsICIuLi9wZy1wcm90b2NvbC9zcmMvaW5kZXgudHMiLCAiLi4vcGctY2xvdWRmbGFyZS9zcmMvZW1wdHkudHMiLCAiLi4vcGcvbGliL3N0cmVhbS5qcyIsICIuLi9wZy9saWIvY29ubmVjdGlvbi5qcyIsICIuLi9zcGxpdDIvaW5kZXguanMiLCAiLi4vcGdwYXNzL2xpYi9oZWxwZXIuanMiLCAiLi4vcGdwYXNzL2xpYi9pbmRleC5qcyIsICIuLi9wZy9saWIvY2xpZW50LmpzIiwgIi4uL3BnLXBvb2wvaW5kZXguanMiLCAiLi4vcGcvbGliL25hdGl2ZS9xdWVyeS5qcyIsICIuLi9wZy9saWIvbmF0aXZlL2NsaWVudC5qcyIsICIuLi9wZy9saWIvbmF0aXZlL2luZGV4LmpzIiwgIi4uL3BnL2xpYi9pbmRleC5qcyIsICIuLi8uLi9hZ2VudC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvYWktc2RrLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9hcGktY2FsbC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvZW1wdHktcmVzcG9uc2UtYm9keS1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvZ2V0LWVycm9yLW1lc3NhZ2UudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2ludmFsaWQtcHJvbXB0LWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9pbnZhbGlkLXJlc3BvbnNlLWRhdGEtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2pzb24tcGFyc2UtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL2xvYWQtYXBpLWtleS1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvbG9hZC1zZXR0aW5nLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9uby1jb250ZW50LWdlbmVyYXRlZC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvbm8tc3VjaC1tb2RlbC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvdG9vLW1hbnktZW1iZWRkaW5nLXZhbHVlcy1mb3ItY2FsbC1lcnJvci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvdHlwZS12YWxpZGF0aW9uLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy91bnN1cHBvcnRlZC1mdW5jdGlvbmFsaXR5LWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2pzb24tdmFsdWUvaXMtanNvbi50cyIsICIuLi9ldmVudHNvdXJjZS1wYXJzZXIvc3JjL2Vycm9ycy50cyIsICIuLi9ldmVudHNvdXJjZS1wYXJzZXIvc3JjL3BhcnNlLnRzIiwgIi4uL2V2ZW50c291cmNlLXBhcnNlci9zcmMvc3RyZWFtLnRzIiwgIi4uL3pvZC92NC9jbGFzc2ljL2V4dGVybmFsLmpzIiwgIi4uL3pvZC92NC9jb3JlL2luZGV4LmpzIiwgIi4uL3pvZC92NC9jb3JlL2NvcmUuanMiLCAiLi4vem9kL3Y0L2NvcmUvdXRpbC5qcyIsICIuLi96b2QvdjQvY29yZS9lcnJvcnMuanMiLCAiLi4vem9kL3Y0L2NvcmUvcGFyc2UuanMiLCAiLi4vem9kL3Y0L2NvcmUvcmVnZXhlcy5qcyIsICIuLi96b2QvdjQvY29yZS9jaGVja3MuanMiLCAiLi4vem9kL3Y0L2NvcmUvZG9jLmpzIiwgIi4uL3pvZC92NC9jb3JlL3ZlcnNpb25zLmpzIiwgIi4uL3pvZC92NC9jb3JlL3NjaGVtYXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaW5kZXguanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvYXIuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvYXouanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvYmUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvY2EuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvY3MuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZGEuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZGUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZW4uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZW8uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZmEuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZmkuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZnIuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvZnItQ0EuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaGUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaHUuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaWQuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvaXQuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvamEuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva2EuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva20uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva2guanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMva28uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbHQuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbWsuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbXMuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbmwuanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvbm8uanMiLCAiLi4vem9kL3Y0L2xvY2FsZXMvb3RhLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3BzLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3BsLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3B0LmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3J1LmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3NsLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3N2LmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3RhLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3RoLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3RyLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3VrLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3VhLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3VyLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3ZpLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3poLUNOLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3poLVRXLmpzIiwgIi4uL3pvZC92NC9sb2NhbGVzL3lvLmpzIiwgIi4uL3pvZC92NC9jb3JlL3JlZ2lzdHJpZXMuanMiLCAiLi4vem9kL3Y0L2NvcmUvYXBpLmpzIiwgIi4uL3pvZC92NC9jb3JlL3RvLWpzb24tc2NoZW1hLmpzIiwgIi4uL3pvZC92NC9jb3JlL2pzb24tc2NoZW1hLmpzIiwgIi4uL3pvZC92NC9jbGFzc2ljL2lzby5qcyIsICIuLi96b2QvdjQvY2xhc3NpYy9lcnJvcnMuanMiLCAiLi4vem9kL3Y0L2NsYXNzaWMvcGFyc2UuanMiLCAiLi4vem9kL3Y0L2NsYXNzaWMvc2NoZW1hcy5qcyIsICIuLi96b2QvdjQvY2xhc3NpYy9jb21wYXQuanMiLCAiLi4vem9kL3Y0L2NsYXNzaWMvY29lcmNlLmpzIiwgIi4uL3pvZC92My9oZWxwZXJzL3V0aWwuanMiLCAiLi4vem9kL3YzL1pvZEVycm9yLmpzIiwgIi4uL3pvZC92My9sb2NhbGVzL2VuLmpzIiwgIi4uL3pvZC92My9lcnJvcnMuanMiLCAiLi4vem9kL3YzL2hlbHBlcnMvcGFyc2VVdGlsLmpzIiwgIi4uL3pvZC92My9oZWxwZXJzL2Vycm9yVXRpbC5qcyIsICIuLi96b2QvdjMvdHlwZXMuanMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvY29tYmluZS1oZWFkZXJzLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2NvbnZlcnQtYXN5bmMtaXRlcmF0b3ItdG8tcmVhZGFibGUtc3RyZWFtLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2RlbGF5LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2V4dHJhY3QtcmVzcG9uc2UtaGVhZGVycy50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9nZXQtcnVudGltZS1lbnZpcm9ubWVudC11c2VyLWFnZW50LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3JlbW92ZS11bmRlZmluZWQtZW50cmllcy50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy93aXRoLXVzZXItYWdlbnQtc3VmZml4LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2dlbmVyYXRlLWlkLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2dldC1lcnJvci1tZXNzYWdlLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2dldC1mcm9tLWFwaS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9oYW5kbGUtZmV0Y2gtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvaXMtYWJvcnQtZXJyb3IudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdmVyc2lvbi50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pbmplY3QtanNvbi1pbnN0cnVjdGlvbi50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pcy11cmwtc3VwcG9ydGVkLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2xvYWQtYXBpLWtleS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9sb2FkLW9wdGlvbmFsLXNldHRpbmcudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvbG9hZC1zZXR0aW5nLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL21lZGlhLXR5cGUtdG8tZXh0ZW5zaW9uLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3BhcnNlLWpzb24udHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvc2VjdXJlLWpzb24tcGFyc2UudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdmFsaWRhdGUtdHlwZXMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdmFsaWRhdG9yLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3BhcnNlLWpzb24tZXZlbnQtc3RyZWFtLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3BhcnNlLXByb3ZpZGVyLW9wdGlvbnMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvcG9zdC10by1hcGkudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdHlwZXMvdG9vbC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9wcm92aWRlci1kZWZpbmVkLXRvb2wtZmFjdG9yeS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9yZXNvbHZlLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3Jlc3BvbnNlLWhhbmRsZXIudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXNjaGVtYS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvZ2V0LXJlbGF0aXZlLXBhdGgudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL29wdGlvbnMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3NlbGVjdC1wYXJzZXIudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYW55LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FycmF5LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JpZ2ludC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9ib29sZWFuLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JyYW5kZWQudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvY2F0Y2gudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGF0ZS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0LnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2VmZmVjdHMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZW51bS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9pbnRlcnNlY3Rpb24udHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbGl0ZXJhbC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9yZWNvcmQudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvc3RyaW5nLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL21hcC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uYXRpdmUtZW51bS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uZXZlci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuaW9uLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bGxhYmxlLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bWJlci50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vYmplY3QudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb3B0aW9uYWwudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcGlwZWxpbmUudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcHJvbWlzZS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zZXQudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdHVwbGUudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5kZWZpbmVkLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Vua25vd24udHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcmVhZG9ubHkudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlLWRlZi50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcmVmcy50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvem9kLXRvLWpzb24tc2NoZW1hLnRzIiwgIi4uL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9pbmRleC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9zY2hlbWEudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdWludDgtdXRpbHMudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvd2l0aG91dC10cmFpbGluZy1zbGFzaC50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pcy1hc3luYy1pdGVyYWJsZS50cyIsICIuLi9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy90eXBlcy9leGVjdXRlLXRvb2wudHMiLCAiLi4vQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvaW5kZXgudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9nYXRld2F5LXByb3ZpZGVyLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2FzLWdhdGV3YXktZXJyb3IudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvY3JlYXRlLWdhdGV3YXktZXJyb3IudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvZ2F0ZXdheS1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LWF1dGhlbnRpY2F0aW9uLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2dhdGV3YXktaW52YWxpZC1yZXF1ZXN0LWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2dhdGV3YXktcmF0ZS1saW1pdC1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LW1vZGVsLW5vdC1mb3VuZC1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LWludGVybmFsLXNlcnZlci1lcnJvci50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LXJlc3BvbnNlLWVycm9yLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2V4dHJhY3QtYXBpLWNhbGwtcmVzcG9uc2UudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvcGFyc2UtYXV0aC1tZXRob2QudHMiLCAiLi4vQGFpLXNkay9nYXRld2F5L3NyYy9nYXRld2F5LWZldGNoLW1ldGFkYXRhLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZ2F0ZXdheS1sYW5ndWFnZS1tb2RlbC50cyIsICIuLi9AYWktc2RrL2dhdGV3YXkvc3JjL2dhdGV3YXktZW1iZWRkaW5nLW1vZGVsLnRzIiwgIi4uL0BhaS1zZGsvZ2F0ZXdheS9zcmMvdmVyY2VsLWVudmlyb25tZW50LnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvcGxhdGZvcm0vbm9kZS9nbG9iYWxUaGlzLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdmVyc2lvbi50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2ludGVybmFsL3NlbXZlci50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2ludGVybmFsL2dsb2JhbC11dGlscy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2RpYWcvQ29tcG9uZW50TG9nZ2VyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvZGlhZy90eXBlcy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2RpYWcvaW50ZXJuYWwvbG9nTGV2ZWxMb2dnZXIudHMiLCAiLi4vQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9hcGkvZGlhZy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2NvbnRleHQvY29udGV4dC50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2NvbnRleHQvTm9vcENvbnRleHRNYW5hZ2VyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvYXBpL2NvbnRleHQudHMiLCAiLi4vQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy90cmFjZS90cmFjZV9mbGFncy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL2ludmFsaWQtc3Bhbi1jb25zdGFudHMudHMiLCAiLi4vQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy90cmFjZS9Ob25SZWNvcmRpbmdTcGFuLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvY29udGV4dC11dGlscy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL3NwYW5jb250ZXh0LXV0aWxzLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvTm9vcFRyYWNlci50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL1Byb3h5VHJhY2VyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvTm9vcFRyYWNlclByb3ZpZGVyLnRzIiwgIi4uL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvUHJveHlUcmFjZXJQcm92aWRlci50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL3N0YXR1cy50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2FwaS90cmFjZS50cyIsICIuLi9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlLWFwaS50cyIsICIuLi9haS9zcmMvaW5kZXgudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLXRleHQvZ2VuZXJhdGUtdGV4dC50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8tb3V0cHV0LXNwZWNpZmllZC1lcnJvci50cyIsICIuLi9haS9zcmMvbG9nZ2VyL2xvZy13YXJuaW5ncy50cyIsICIuLi9haS9zcmMvbW9kZWwvcmVzb2x2ZS1tb2RlbC50cyIsICIuLi9haS9zcmMvZXJyb3IvaW5kZXgudHMiLCAiLi4vYWkvc3JjL2Vycm9yL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL2ludmFsaWQtc3RyZWFtLXBhcnQtZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL2ludmFsaWQtdG9vbC1pbnB1dC1lcnJvci50cyIsICIuLi9haS9zcmMvZXJyb3IvbWNwLWNsaWVudC1lcnJvci50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8taW1hZ2UtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9lcnJvci9uby1vYmplY3QtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9lcnJvci9uby1vdXRwdXQtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9lcnJvci9uby1zdWNoLXRvb2wtZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL3Rvb2wtY2FsbC1yZXBhaXItZXJyb3IudHMiLCAiLi4vYWkvc3JjL2Vycm9yL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3IudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9pbnZhbGlkLWRhdGEtY29udGVudC1lcnJvci50cyIsICIuLi9haS9zcmMvcHJvbXB0L2ludmFsaWQtbWVzc2FnZS1yb2xlLWVycm9yLnRzIiwgIi4uL2FpL3NyYy9wcm9tcHQvbWVzc2FnZS1jb252ZXJzaW9uLWVycm9yLnRzIiwgIi4uL2FpL3NyYy91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWVycm9yLnRzIiwgIi4uL2FpL3NyYy91dGlsL3JldHJ5LWVycm9yLnRzIiwgIi4uL2FpL3NyYy9wcm9tcHQvY29udmVydC10by1sYW5ndWFnZS1tb2RlbC1wcm9tcHQudHMiLCAiLi4vYWkvc3JjL3V0aWwvZGV0ZWN0LW1lZGlhLXR5cGUudHMiLCAiLi4vYWkvc3JjL3V0aWwvZG93bmxvYWQvZG93bmxvYWQudHMiLCAiLi4vYWkvc3JjL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZnVuY3Rpb24udHMiLCAiLi4vYWkvc3JjL3Byb21wdC9kYXRhLWNvbnRlbnQudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9zcGxpdC1kYXRhLXVybC50cyIsICIuLi9haS9zcmMvcHJvbXB0L3ByZXBhcmUtY2FsbC1zZXR0aW5ncy50cyIsICIuLi9haS9zcmMvcHJvbXB0L3ByZXBhcmUtdG9vbHMtYW5kLXRvb2wtY2hvaWNlLnRzIiwgIi4uL2FpL3NyYy91dGlsL2lzLW5vbi1lbXB0eS1vYmplY3QudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQudHMiLCAiLi4vYWkvc3JjL3Byb21wdC9tZXNzYWdlLnRzIiwgIi4uL2FpL3NyYy90eXBlcy9wcm92aWRlci1tZXRhZGF0YS50cyIsICIuLi9haS9zcmMvdHlwZXMvanNvbi12YWx1ZS50cyIsICIuLi9haS9zcmMvcHJvbXB0L2NvbnRlbnQtcGFydC50cyIsICIuLi9haS9zcmMvcHJvbXB0L3dyYXAtZ2F0ZXdheS1lcnJvci50cyIsICIuLi9haS9zcmMvdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lLnRzIiwgIi4uL2FpL3NyYy90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMudHMiLCAiLi4vYWkvc3JjL3RlbGVtZXRyeS9nZXQtdHJhY2VyLnRzIiwgIi4uL2FpL3NyYy90ZWxlbWV0cnkvbm9vcC10cmFjZXIudHMiLCAiLi4vYWkvc3JjL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbi50cyIsICIuLi9haS9zcmMvdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcy50cyIsICIuLi9haS9zcmMvdGVsZW1ldHJ5L3N0cmluZ2lmeS1mb3ItdGVsZW1ldHJ5LnRzIiwgIi4uL2FpL3NyYy90eXBlcy91c2FnZS50cyIsICIuLi9haS9zcmMvdXRpbC9hcy1hcnJheS50cyIsICIuLi9haS9zcmMvdXRpbC9yZXRyeS13aXRoLWV4cG9uZW50aWFsLWJhY2tvZmYudHMiLCAiLi4vYWkvc3JjL3V0aWwvcHJlcGFyZS1yZXRyaWVzLnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L2V4dHJhY3QtdGV4dC1jb250ZW50LnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlZC1maWxlLnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L3BhcnNlLXRvb2wtY2FsbC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdGVwLXJlc3VsdC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdG9wLWNvbmRpdGlvbi50cyIsICIuLi9haS9zcmMvcHJvbXB0L2NyZWF0ZS10b29sLW1vZGVsLW91dHB1dC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC90by1yZXNwb25zZS1tZXNzYWdlcy50cyIsICIuLi9haS9zcmMvdmVyc2lvbi50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdHJlYW0tdGV4dC50cyIsICIuLi9haS9zcmMvdXRpbC9wcmVwYXJlLWhlYWRlcnMudHMiLCAiLi4vYWkvc3JjL3RleHQtc3RyZWFtL2NyZWF0ZS10ZXh0LXN0cmVhbS1yZXNwb25zZS50cyIsICIuLi9haS9zcmMvdXRpbC93cml0ZS10by1zZXJ2ZXItcmVzcG9uc2UudHMiLCAiLi4vYWkvc3JjL3RleHQtc3RyZWFtL3BpcGUtdGV4dC1zdHJlYW0tdG8tcmVzcG9uc2UudHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL2pzb24tdG8tc3NlLXRyYW5zZm9ybS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2Utc3RyZWFtLWhlYWRlcnMudHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL2NyZWF0ZS11aS1tZXNzYWdlLXN0cmVhbS1yZXNwb25zZS50cyIsICIuLi9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vZ2V0LXJlc3BvbnNlLXVpLW1lc3NhZ2UtaWQudHMiLCAiLi4vYWkvc3JjL3VpL3Byb2Nlc3MtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzLnRzIiwgIi4uL2FpL3NyYy91dGlsL21lcmdlLW9iamVjdHMudHMiLCAiLi4vYWkvc3JjL3V0aWwvcGFyc2UtcGFydGlhbC1qc29uLnRzIiwgIi4uL2FpL3NyYy91dGlsL2ZpeC1qc29uLnRzIiwgIi4uL2FpL3NyYy91aS91aS1tZXNzYWdlcy50cyIsICIuLi9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vaGFuZGxlLXVpLW1lc3NhZ2Utc3RyZWFtLWZpbmlzaC50cyIsICIuLi9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vcGlwZS11aS1tZXNzYWdlLXN0cmVhbS10by1yZXNwb25zZS50cyIsICIuLi9haS9zcmMvdXRpbC9hc3luYy1pdGVyYWJsZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3V0aWwvY29uc3VtZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3V0aWwvY3JlYXRlLXJlc29sdmFibGUtcHJvbWlzZS50cyIsICIuLi9haS9zcmMvdXRpbC9jcmVhdGUtc3RpdGNoYWJsZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3V0aWwvZGVsYXllZC1wcm9taXNlLnRzIiwgIi4uL2FpL3NyYy91dGlsL25vdy50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9ydW4tdG9vbHMtdHJhbnNmb3JtYXRpb24udHMiLCAiLi4vYWkvc3JjL3VpL2NvbnZlcnQtdG8tbW9kZWwtbWVzc2FnZXMudHMiLCAiLi4vYWkvc3JjL2FnZW50L2FnZW50LnRzIiwgIi4uL2FpL3NyYy9lbWJlZC9lbWJlZC50cyIsICIuLi9haS9zcmMvZW1iZWQvZW1iZWQtbWFueS50cyIsICIuLi9haS9zcmMvdXRpbC9zcGxpdC1hcnJheS50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtaW1hZ2UvZ2VuZXJhdGUtaW1hZ2UudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLW9iamVjdC9nZW5lcmF0ZS1vYmplY3QudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLXRleHQvZXh0cmFjdC1yZWFzb25pbmctY29udGVudC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtb2JqZWN0L291dHB1dC1zdHJhdGVneS50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtb2JqZWN0L3BhcnNlLWFuZC12YWxpZGF0ZS1vYmplY3QtcmVzdWx0LnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS1vYmplY3QvdmFsaWRhdGUtb2JqZWN0LWdlbmVyYXRpb24taW5wdXQudHMiLCAiLi4vYWkvc3JjL2dlbmVyYXRlLW9iamVjdC9zdHJlYW0tb2JqZWN0LnRzIiwgIi4uL2FpL3NyYy91dGlsL2Nvc2luZS1zaW1pbGFyaXR5LnRzIiwgIi4uL2FpL3NyYy91dGlsL2RhdGEtdXJsLnRzIiwgIi4uL2FpL3NyYy91dGlsL2lzLWRlZXAtZXF1YWwtZGF0YS50cyIsICIuLi9haS9zcmMvdXRpbC9zZXJpYWwtam9iLWV4ZWN1dG9yLnRzIiwgIi4uL2FpL3NyYy91dGlsL3NpbXVsYXRlLXJlYWRhYmxlLXN0cmVhbS50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtc3BlZWNoL2dlbmVyYXRlLXNwZWVjaC50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8tc3BlZWNoLWdlbmVyYXRlZC1lcnJvci50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtc3BlZWNoL2dlbmVyYXRlZC1hdWRpby1maWxlLnRzIiwgIi4uL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L291dHB1dC50cyIsICIuLi9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zbW9vdGgtc3RyZWFtLnRzIiwgIi4uL2FpL3NyYy9taWRkbGV3YXJlL2RlZmF1bHQtc2V0dGluZ3MtbWlkZGxld2FyZS50cyIsICIuLi9haS9zcmMvdXRpbC9nZXQtcG90ZW50aWFsLXN0YXJ0LWluZGV4LnRzIiwgIi4uL2FpL3NyYy9taWRkbGV3YXJlL2V4dHJhY3QtcmVhc29uaW5nLW1pZGRsZXdhcmUudHMiLCAiLi4vYWkvc3JjL21pZGRsZXdhcmUvc2ltdWxhdGUtc3RyZWFtaW5nLW1pZGRsZXdhcmUudHMiLCAiLi4vYWkvc3JjL21pZGRsZXdhcmUvd3JhcC1sYW5ndWFnZS1tb2RlbC50cyIsICIuLi9haS9zcmMvbWlkZGxld2FyZS93cmFwLXByb3ZpZGVyLnRzIiwgIi4uL2FpL3NyYy9yZWdpc3RyeS9jdXN0b20tcHJvdmlkZXIudHMiLCAiLi4vYWkvc3JjL3JlZ2lzdHJ5L25vLXN1Y2gtcHJvdmlkZXItZXJyb3IudHMiLCAiLi4vYWkvc3JjL3JlZ2lzdHJ5L3Byb3ZpZGVyLXJlZ2lzdHJ5LnRzIiwgIi4uL2FpL3NyYy90b29sL21jcC9tY3AtY2xpZW50LnRzIiwgIi4uL2FpL3NyYy90b29sL21jcC9tY3Atc3NlLXRyYW5zcG9ydC50cyIsICIuLi9haS9zcmMvdG9vbC9tY3AvanNvbi1ycGMtbWVzc2FnZS50cyIsICIuLi9haS9zcmMvdG9vbC9tY3AvdHlwZXMudHMiLCAiLi4vYWkvc3JjL3Rvb2wvbWNwL21jcC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3RyYW5zY3JpYmUvdHJhbnNjcmliZS50cyIsICIuLi9haS9zcmMvZXJyb3Ivbm8tdHJhbnNjcmlwdC1nZW5lcmF0ZWQtZXJyb3IudHMiLCAiLi4vYWkvc3JjL3VpL2NhbGwtY29tcGxldGlvbi1hcGkudHMiLCAiLi4vYWkvc3JjL3VpL3Byb2Nlc3MtdGV4dC1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpL2NoYXQudHMiLCAiLi4vYWkvc3JjL3VpL2NvbnZlcnQtZmlsZS1saXN0LXRvLWZpbGUtdWktcGFydHMudHMiLCAiLi4vYWkvc3JjL3VpL2RlZmF1bHQtY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3VpL2h0dHAtY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3VpL2xhc3QtYXNzaXN0YW50LW1lc3NhZ2UtaXMtY29tcGxldGUtd2l0aC10b29sLWNhbGxzLnRzIiwgIi4uL2FpL3NyYy91aS90cmFuc2Zvcm0tdGV4dC10by11aS1tZXNzYWdlLXN0cmVhbS50cyIsICIuLi9haS9zcmMvdWkvdGV4dC1zdHJlYW0tY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vYWkvc3JjL3VpL3ZhbGlkYXRlLXVpLW1lc3NhZ2VzLnRzIiwgIi4uL2FpL3NyYy91aS1tZXNzYWdlLXN0cmVhbS9jcmVhdGUtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3JlYWQtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vYmxpbmsvZGlzdC9jb29raWUtQmlLWTctUDEuanMiLCAiLi4vYmxpbmsvZGlzdC9hcGkvaW5kZXguanMiLCAiLi4vcGcvZXNtL2luZGV4Lm1qcyIsICIuLi8uLi9kYi50cyIsICIuLi8uLi9wcm9tcHQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHNvdXJjZSwgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBuZXcgQXJyYXlQYXJzZXIoc291cmNlLCB0cmFuc2Zvcm0pLnBhcnNlKClcbn1cblxuY2xhc3MgQXJyYXlQYXJzZXIge1xuICBjb25zdHJ1Y3RvciAoc291cmNlLCB0cmFuc2Zvcm0pIHtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZVxuICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtIHx8IGlkZW50aXR5XG4gICAgdGhpcy5wb3NpdGlvbiA9IDBcbiAgICB0aGlzLmVudHJpZXMgPSBbXVxuICAgIHRoaXMucmVjb3JkZWQgPSBbXVxuICAgIHRoaXMuZGltZW5zaW9uID0gMFxuICB9XG5cbiAgaXNFb2YgKCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uID49IHRoaXMuc291cmNlLmxlbmd0aFxuICB9XG5cbiAgbmV4dENoYXJhY3RlciAoKSB7XG4gICAgdmFyIGNoYXJhY3RlciA9IHRoaXMuc291cmNlW3RoaXMucG9zaXRpb24rK11cbiAgICBpZiAoY2hhcmFjdGVyID09PSAnXFxcXCcpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnNvdXJjZVt0aGlzLnBvc2l0aW9uKytdLFxuICAgICAgICBlc2NhcGVkOiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogY2hhcmFjdGVyLFxuICAgICAgZXNjYXBlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICByZWNvcmQgKGNoYXJhY3Rlcikge1xuICAgIHRoaXMucmVjb3JkZWQucHVzaChjaGFyYWN0ZXIpXG4gIH1cblxuICBuZXdFbnRyeSAoaW5jbHVkZUVtcHR5KSB7XG4gICAgdmFyIGVudHJ5XG4gICAgaWYgKHRoaXMucmVjb3JkZWQubGVuZ3RoID4gMCB8fCBpbmNsdWRlRW1wdHkpIHtcbiAgICAgIGVudHJ5ID0gdGhpcy5yZWNvcmRlZC5qb2luKCcnKVxuICAgICAgaWYgKGVudHJ5ID09PSAnTlVMTCcgJiYgIWluY2x1ZGVFbXB0eSkge1xuICAgICAgICBlbnRyeSA9IG51bGxcbiAgICAgIH1cbiAgICAgIGlmIChlbnRyeSAhPT0gbnVsbCkgZW50cnkgPSB0aGlzLnRyYW5zZm9ybShlbnRyeSlcbiAgICAgIHRoaXMuZW50cmllcy5wdXNoKGVudHJ5KVxuICAgICAgdGhpcy5yZWNvcmRlZCA9IFtdXG4gICAgfVxuICB9XG5cbiAgY29uc3VtZURpbWVuc2lvbnMgKCkge1xuICAgIGlmICh0aGlzLnNvdXJjZVswXSA9PT0gJ1snKSB7XG4gICAgICB3aGlsZSAoIXRoaXMuaXNFb2YoKSkge1xuICAgICAgICB2YXIgY2hhciA9IHRoaXMubmV4dENoYXJhY3RlcigpXG4gICAgICAgIGlmIChjaGFyLnZhbHVlID09PSAnPScpIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcGFyc2UgKG5lc3RlZCkge1xuICAgIHZhciBjaGFyYWN0ZXIsIHBhcnNlciwgcXVvdGVcbiAgICB0aGlzLmNvbnN1bWVEaW1lbnNpb25zKClcbiAgICB3aGlsZSAoIXRoaXMuaXNFb2YoKSkge1xuICAgICAgY2hhcmFjdGVyID0gdGhpcy5uZXh0Q2hhcmFjdGVyKClcbiAgICAgIGlmIChjaGFyYWN0ZXIudmFsdWUgPT09ICd7JyAmJiAhcXVvdGUpIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb24rK1xuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb24gPiAxKSB7XG4gICAgICAgICAgcGFyc2VyID0gbmV3IEFycmF5UGFyc2VyKHRoaXMuc291cmNlLnN1YnN0cih0aGlzLnBvc2l0aW9uIC0gMSksIHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgIHRoaXMuZW50cmllcy5wdXNoKHBhcnNlci5wYXJzZSh0cnVlKSlcbiAgICAgICAgICB0aGlzLnBvc2l0aW9uICs9IHBhcnNlci5wb3NpdGlvbiAtIDJcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIudmFsdWUgPT09ICd9JyAmJiAhcXVvdGUpIHtcbiAgICAgICAgdGhpcy5kaW1lbnNpb24tLVxuICAgICAgICBpZiAoIXRoaXMuZGltZW5zaW9uKSB7XG4gICAgICAgICAgdGhpcy5uZXdFbnRyeSgpXG4gICAgICAgICAgaWYgKG5lc3RlZCkgcmV0dXJuIHRoaXMuZW50cmllc1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci52YWx1ZSA9PT0gJ1wiJyAmJiAhY2hhcmFjdGVyLmVzY2FwZWQpIHtcbiAgICAgICAgaWYgKHF1b3RlKSB0aGlzLm5ld0VudHJ5KHRydWUpXG4gICAgICAgIHF1b3RlID0gIXF1b3RlXG4gICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci52YWx1ZSA9PT0gJywnICYmICFxdW90ZSkge1xuICAgICAgICB0aGlzLm5ld0VudHJ5KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVjb3JkKGNoYXJhY3Rlci52YWx1ZSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuZGltZW5zaW9uICE9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FycmF5IGRpbWVuc2lvbiBub3QgYmFsYW5jZWQnKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5lbnRyaWVzXG4gIH1cbn1cblxuZnVuY3Rpb24gaWRlbnRpdHkgKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZVxufVxuIiwgInZhciBhcnJheSA9IHJlcXVpcmUoJ3Bvc3RncmVzLWFycmF5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGU6IGZ1bmN0aW9uIChzb3VyY2UsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBhcnJheS5wYXJzZShzb3VyY2UsIHRyYW5zZm9ybSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbiIsICIndXNlIHN0cmljdCdcblxudmFyIERBVEVfVElNRSA9IC8oXFxkezEsfSktKFxcZHsyfSktKFxcZHsyfSkgKFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSkoXFwuXFxkezEsfSk/Lio/KCBCQyk/JC9cbnZhciBEQVRFID0gL14oXFxkezEsfSktKFxcZHsyfSktKFxcZHsyfSkoIEJDKT8kL1xudmFyIFRJTUVfWk9ORSA9IC8oW1orLV0pKFxcZHsyfSk/Oj8oXFxkezJ9KT86PyhcXGR7Mn0pPy9cbnZhciBJTkZJTklUWSA9IC9eLT9pbmZpbml0eSQvXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VEYXRlIChpc29EYXRlKSB7XG4gIGlmIChJTkZJTklUWS50ZXN0KGlzb0RhdGUpKSB7XG4gICAgLy8gQ2FwaXRhbGl6ZSB0byBJbmZpbml0eSBiZWZvcmUgcGFzc2luZyB0byBOdW1iZXJcbiAgICByZXR1cm4gTnVtYmVyKGlzb0RhdGUucmVwbGFjZSgnaScsICdJJykpXG4gIH1cbiAgdmFyIG1hdGNoZXMgPSBEQVRFX1RJTUUuZXhlYyhpc29EYXRlKVxuXG4gIGlmICghbWF0Y2hlcykge1xuICAgIC8vIEZvcmNlIFlZWVktTU0tREQgZGF0ZXMgdG8gYmUgcGFyc2VkIGFzIGxvY2FsIHRpbWVcbiAgICByZXR1cm4gZ2V0RGF0ZShpc29EYXRlKSB8fCBudWxsXG4gIH1cblxuICB2YXIgaXNCQyA9ICEhbWF0Y2hlc1s4XVxuICB2YXIgeWVhciA9IHBhcnNlSW50KG1hdGNoZXNbMV0sIDEwKVxuICBpZiAoaXNCQykge1xuICAgIHllYXIgPSBiY1llYXJUb05lZ2F0aXZlWWVhcih5ZWFyKVxuICB9XG5cbiAgdmFyIG1vbnRoID0gcGFyc2VJbnQobWF0Y2hlc1syXSwgMTApIC0gMVxuICB2YXIgZGF5ID0gbWF0Y2hlc1szXVxuICB2YXIgaG91ciA9IHBhcnNlSW50KG1hdGNoZXNbNF0sIDEwKVxuICB2YXIgbWludXRlID0gcGFyc2VJbnQobWF0Y2hlc1s1XSwgMTApXG4gIHZhciBzZWNvbmQgPSBwYXJzZUludChtYXRjaGVzWzZdLCAxMClcblxuICB2YXIgbXMgPSBtYXRjaGVzWzddXG4gIG1zID0gbXMgPyAxMDAwICogcGFyc2VGbG9hdChtcykgOiAwXG5cbiAgdmFyIGRhdGVcbiAgdmFyIG9mZnNldCA9IHRpbWVab25lT2Zmc2V0KGlzb0RhdGUpXG4gIGlmIChvZmZzZXQgIT0gbnVsbCkge1xuICAgIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgbXMpKVxuXG4gICAgLy8gQWNjb3VudCBmb3IgeWVhcnMgZnJvbSAwIHRvIDk5IGJlaW5nIGludGVycHJldGVkIGFzIDE5MDAtMTk5OVxuICAgIC8vIGJ5IERhdGUuVVRDIC8gdGhlIG11bHRpLWFyZ3VtZW50IGZvcm0gb2YgdGhlIERhdGUgY29uc3RydWN0b3JcbiAgICBpZiAoaXMwVG85OSh5ZWFyKSkge1xuICAgICAgZGF0ZS5zZXRVVENGdWxsWWVhcih5ZWFyKVxuICAgIH1cblxuICAgIGlmIChvZmZzZXQgIT09IDApIHtcbiAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSAtIG9mZnNldClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtcylcblxuICAgIGlmIChpczBUbzk5KHllYXIpKSB7XG4gICAgICBkYXRlLnNldEZ1bGxZZWFyKHllYXIpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRhdGVcbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZSAoaXNvRGF0ZSkge1xuICB2YXIgbWF0Y2hlcyA9IERBVEUuZXhlYyhpc29EYXRlKVxuICBpZiAoIW1hdGNoZXMpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciB5ZWFyID0gcGFyc2VJbnQobWF0Y2hlc1sxXSwgMTApXG4gIHZhciBpc0JDID0gISFtYXRjaGVzWzRdXG4gIGlmIChpc0JDKSB7XG4gICAgeWVhciA9IGJjWWVhclRvTmVnYXRpdmVZZWFyKHllYXIpXG4gIH1cblxuICB2YXIgbW9udGggPSBwYXJzZUludChtYXRjaGVzWzJdLCAxMCkgLSAxXG4gIHZhciBkYXkgPSBtYXRjaGVzWzNdXG4gIC8vIFlZWVktTU0tREQgd2lsbCBiZSBwYXJzZWQgYXMgbG9jYWwgdGltZVxuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpXG5cbiAgaWYgKGlzMFRvOTkoeWVhcikpIHtcbiAgICBkYXRlLnNldEZ1bGxZZWFyKHllYXIpXG4gIH1cblxuICByZXR1cm4gZGF0ZVxufVxuXG4vLyBtYXRjaCB0aW1lem9uZXM6XG4vLyBaIChVVEMpXG4vLyAtMDVcbi8vICswNjozMFxuZnVuY3Rpb24gdGltZVpvbmVPZmZzZXQgKGlzb0RhdGUpIHtcbiAgaWYgKGlzb0RhdGUuZW5kc1dpdGgoJyswMCcpKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuXG4gIHZhciB6b25lID0gVElNRV9aT05FLmV4ZWMoaXNvRGF0ZS5zcGxpdCgnICcpWzFdKVxuICBpZiAoIXpvbmUpIHJldHVyblxuICB2YXIgdHlwZSA9IHpvbmVbMV1cblxuICBpZiAodHlwZSA9PT0gJ1onKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICB2YXIgc2lnbiA9IHR5cGUgPT09ICctJyA/IC0xIDogMVxuICB2YXIgb2Zmc2V0ID0gcGFyc2VJbnQoem9uZVsyXSwgMTApICogMzYwMCArXG4gICAgcGFyc2VJbnQoem9uZVszXSB8fCAwLCAxMCkgKiA2MCArXG4gICAgcGFyc2VJbnQoem9uZVs0XSB8fCAwLCAxMClcblxuICByZXR1cm4gb2Zmc2V0ICogc2lnbiAqIDEwMDBcbn1cblxuZnVuY3Rpb24gYmNZZWFyVG9OZWdhdGl2ZVllYXIgKHllYXIpIHtcbiAgLy8gQWNjb3VudCBmb3IgbnVtZXJpY2FsIGRpZmZlcmVuY2UgYmV0d2VlbiByZXByZXNlbnRhdGlvbnMgb2YgQkMgeWVhcnNcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVuZHJ1Y2tlci9wb3N0Z3Jlcy1kYXRlL2lzc3Vlcy81XG4gIHJldHVybiAtKHllYXIgLSAxKVxufVxuXG5mdW5jdGlvbiBpczBUbzk5IChudW0pIHtcbiAgcmV0dXJuIG51bSA+PSAwICYmIG51bSA8IDEwMFxufVxuIiwgIm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kXG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldXG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldFxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG52YXIgZXh0ZW5kID0gcmVxdWlyZSgneHRlbmQvbXV0YWJsZScpXG5cbm1vZHVsZS5leHBvcnRzID0gUG9zdGdyZXNJbnRlcnZhbFxuXG5mdW5jdGlvbiBQb3N0Z3Jlc0ludGVydmFsIChyYXcpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBvc3RncmVzSW50ZXJ2YWwpKSB7XG4gICAgcmV0dXJuIG5ldyBQb3N0Z3Jlc0ludGVydmFsKHJhdylcbiAgfVxuICBleHRlbmQodGhpcywgcGFyc2UocmF3KSlcbn1cbnZhciBwcm9wZXJ0aWVzID0gWydzZWNvbmRzJywgJ21pbnV0ZXMnLCAnaG91cnMnLCAnZGF5cycsICdtb250aHMnLCAneWVhcnMnXVxuUG9zdGdyZXNJbnRlcnZhbC5wcm90b3R5cGUudG9Qb3N0Z3JlcyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZpbHRlcmVkID0gcHJvcGVydGllcy5maWx0ZXIodGhpcy5oYXNPd25Qcm9wZXJ0eSwgdGhpcylcblxuICAvLyBJbiBhZGRpdGlvbiB0byBgcHJvcGVydGllc2AsIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgZnJhY3Rpb25zIG9mIHNlY29uZHMuXG4gIGlmICh0aGlzLm1pbGxpc2Vjb25kcyAmJiBmaWx0ZXJlZC5pbmRleE9mKCdzZWNvbmRzJykgPCAwKSB7XG4gICAgZmlsdGVyZWQucHVzaCgnc2Vjb25kcycpXG4gIH1cblxuICBpZiAoZmlsdGVyZWQubGVuZ3RoID09PSAwKSByZXR1cm4gJzAnXG4gIHJldHVybiBmaWx0ZXJlZFxuICAgIC5tYXAoZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzW3Byb3BlcnR5XSB8fCAwXG5cbiAgICAgIC8vIEFjY291bnQgZm9yIGZyYWN0aW9uYWwgcGFydCBvZiBzZWNvbmRzLFxuICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nIHplcm9lcy5cbiAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3NlY29uZHMnICYmIHRoaXMubWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlICsgdGhpcy5taWxsaXNlY29uZHMgLyAxMDAwKS50b0ZpeGVkKDYpLnJlcGxhY2UoL1xcLj8wKyQvLCAnJylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlICsgJyAnICsgcHJvcGVydHlcbiAgICB9LCB0aGlzKVxuICAgIC5qb2luKCcgJylcbn1cblxudmFyIHByb3BlcnRpZXNJU09FcXVpdmFsZW50ID0ge1xuICB5ZWFyczogJ1knLFxuICBtb250aHM6ICdNJyxcbiAgZGF5czogJ0QnLFxuICBob3VyczogJ0gnLFxuICBtaW51dGVzOiAnTScsXG4gIHNlY29uZHM6ICdTJ1xufVxudmFyIGRhdGVQcm9wZXJ0aWVzID0gWyd5ZWFycycsICdtb250aHMnLCAnZGF5cyddXG52YXIgdGltZVByb3BlcnRpZXMgPSBbJ2hvdXJzJywgJ21pbnV0ZXMnLCAnc2Vjb25kcyddXG4vLyBhY2NvcmRpbmcgdG8gSVNPIDg2MDFcblBvc3RncmVzSW50ZXJ2YWwucHJvdG90eXBlLnRvSVNPU3RyaW5nID0gUG9zdGdyZXNJbnRlcnZhbC5wcm90b3R5cGUudG9JU08gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkYXRlUGFydCA9IGRhdGVQcm9wZXJ0aWVzXG4gICAgLm1hcChidWlsZFByb3BlcnR5LCB0aGlzKVxuICAgIC5qb2luKCcnKVxuXG4gIHZhciB0aW1lUGFydCA9IHRpbWVQcm9wZXJ0aWVzXG4gICAgLm1hcChidWlsZFByb3BlcnR5LCB0aGlzKVxuICAgIC5qb2luKCcnKVxuXG4gIHJldHVybiAnUCcgKyBkYXRlUGFydCArICdUJyArIHRpbWVQYXJ0XG5cbiAgZnVuY3Rpb24gYnVpbGRQcm9wZXJ0eSAocHJvcGVydHkpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzW3Byb3BlcnR5XSB8fCAwXG5cbiAgICAvLyBBY2NvdW50IGZvciBmcmFjdGlvbmFsIHBhcnQgb2Ygc2Vjb25kcyxcbiAgICAvLyByZW1vdmUgdHJhaWxpbmcgemVyb2VzLlxuICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3NlY29uZHMnICYmIHRoaXMubWlsbGlzZWNvbmRzKSB7XG4gICAgICB2YWx1ZSA9ICh2YWx1ZSArIHRoaXMubWlsbGlzZWNvbmRzIC8gMTAwMCkudG9GaXhlZCg2KS5yZXBsYWNlKC8wKyQvLCAnJylcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWUgKyBwcm9wZXJ0aWVzSVNPRXF1aXZhbGVudFtwcm9wZXJ0eV1cbiAgfVxufVxuXG52YXIgTlVNQkVSID0gJyhbKy1dP1xcXFxkKyknXG52YXIgWUVBUiA9IE5VTUJFUiArICdcXFxccyt5ZWFycz8nXG52YXIgTU9OVEggPSBOVU1CRVIgKyAnXFxcXHMrbW9ucz8nXG52YXIgREFZID0gTlVNQkVSICsgJ1xcXFxzK2RheXM/J1xudmFyIFRJTUUgPSAnKFsrLV0pPyhbXFxcXGRdKik6KFxcXFxkXFxcXGQpOihcXFxcZFxcXFxkKVxcXFwuPyhcXFxcZHsxLDZ9KT8nXG52YXIgSU5URVJWQUwgPSBuZXcgUmVnRXhwKFtZRUFSLCBNT05USCwgREFZLCBUSU1FXS5tYXAoZnVuY3Rpb24gKHJlZ2V4U3RyaW5nKSB7XG4gIHJldHVybiAnKCcgKyByZWdleFN0cmluZyArICcpPydcbn0pXG4gIC5qb2luKCdcXFxccyonKSlcblxuLy8gUG9zaXRpb25zIG9mIHZhbHVlcyBpbiByZWdleCBtYXRjaFxudmFyIHBvc2l0aW9ucyA9IHtcbiAgeWVhcnM6IDIsXG4gIG1vbnRoczogNCxcbiAgZGF5czogNixcbiAgaG91cnM6IDksXG4gIG1pbnV0ZXM6IDEwLFxuICBzZWNvbmRzOiAxMSxcbiAgbWlsbGlzZWNvbmRzOiAxMlxufVxuLy8gV2UgY2FuIHVzZSBuZWdhdGl2ZSB0aW1lXG52YXIgbmVnYXRpdmVzID0gWydob3VycycsICdtaW51dGVzJywgJ3NlY29uZHMnLCAnbWlsbGlzZWNvbmRzJ11cblxuZnVuY3Rpb24gcGFyc2VNaWxsaXNlY29uZHMgKGZyYWN0aW9uKSB7XG4gIC8vIGFkZCBvbWl0dGVkIHplcm9lc1xuICB2YXIgbWljcm9zZWNvbmRzID0gZnJhY3Rpb24gKyAnMDAwMDAwJy5zbGljZShmcmFjdGlvbi5sZW5ndGgpXG4gIHJldHVybiBwYXJzZUludChtaWNyb3NlY29uZHMsIDEwKSAvIDEwMDBcbn1cblxuZnVuY3Rpb24gcGFyc2UgKGludGVydmFsKSB7XG4gIGlmICghaW50ZXJ2YWwpIHJldHVybiB7fVxuICB2YXIgbWF0Y2hlcyA9IElOVEVSVkFMLmV4ZWMoaW50ZXJ2YWwpXG4gIHZhciBpc05lZ2F0aXZlID0gbWF0Y2hlc1s4XSA9PT0gJy0nXG4gIHJldHVybiBPYmplY3Qua2V5cyhwb3NpdGlvbnMpXG4gICAgLnJlZHVjZShmdW5jdGlvbiAocGFyc2VkLCBwcm9wZXJ0eSkge1xuICAgICAgdmFyIHBvc2l0aW9uID0gcG9zaXRpb25zW3Byb3BlcnR5XVxuICAgICAgdmFyIHZhbHVlID0gbWF0Y2hlc1twb3NpdGlvbl1cbiAgICAgIC8vIG5vIGVtcHR5IHN0cmluZ1xuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHBhcnNlZFxuICAgICAgLy8gbWlsbGlzZWNvbmRzIGFyZSBhY3R1YWxseSBtaWNyb3NlY29uZHMgKHVwIHRvIDYgZGlnaXRzKVxuICAgICAgLy8gd2l0aCBvbWl0dGVkIHRyYWlsaW5nIHplcm9lcy5cbiAgICAgIHZhbHVlID0gcHJvcGVydHkgPT09ICdtaWxsaXNlY29uZHMnXG4gICAgICAgID8gcGFyc2VNaWxsaXNlY29uZHModmFsdWUpXG4gICAgICAgIDogcGFyc2VJbnQodmFsdWUsIDEwKVxuICAgICAgLy8gbm8gemVyb3NcbiAgICAgIGlmICghdmFsdWUpIHJldHVybiBwYXJzZWRcbiAgICAgIGlmIChpc05lZ2F0aXZlICYmIH5uZWdhdGl2ZXMuaW5kZXhPZihwcm9wZXJ0eSkpIHtcbiAgICAgICAgdmFsdWUgKj0gLTFcbiAgICAgIH1cbiAgICAgIHBhcnNlZFtwcm9wZXJ0eV0gPSB2YWx1ZVxuICAgICAgcmV0dXJuIHBhcnNlZFxuICAgIH0sIHt9KVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlQnl0ZWEgKGlucHV0KSB7XG4gIGlmICgvXlxcXFx4Ly50ZXN0KGlucHV0KSkge1xuICAgIC8vIG5ldyAnaGV4JyBzdHlsZSByZXNwb25zZSAocGcgPjkuMClcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihpbnB1dC5zdWJzdHIoMiksICdoZXgnKVxuICB9XG4gIHZhciBvdXRwdXQgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICBpZiAoaW5wdXRbaV0gIT09ICdcXFxcJykge1xuICAgICAgb3V0cHV0ICs9IGlucHV0W2ldXG4gICAgICArK2lcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKC9bMC03XXszfS8udGVzdChpbnB1dC5zdWJzdHIoaSArIDEsIDMpKSkge1xuICAgICAgICBvdXRwdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChpbnB1dC5zdWJzdHIoaSArIDEsIDMpLCA4KSlcbiAgICAgICAgaSArPSA0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYmFja3NsYXNoZXMgPSAxXG4gICAgICAgIHdoaWxlIChpICsgYmFja3NsYXNoZXMgPCBpbnB1dC5sZW5ndGggJiYgaW5wdXRbaSArIGJhY2tzbGFzaGVzXSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgYmFja3NsYXNoZXMrK1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgTWF0aC5mbG9vcihiYWNrc2xhc2hlcyAvIDIpOyArK2spIHtcbiAgICAgICAgICBvdXRwdXQgKz0gJ1xcXFwnXG4gICAgICAgIH1cbiAgICAgICAgaSArPSBNYXRoLmZsb29yKGJhY2tzbGFzaGVzIC8gMikgKiAyXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgQnVmZmVyKG91dHB1dCwgJ2JpbmFyeScpXG59XG4iLCAidmFyIGFycmF5ID0gcmVxdWlyZSgncG9zdGdyZXMtYXJyYXknKVxudmFyIGFycmF5UGFyc2VyID0gcmVxdWlyZSgnLi9hcnJheVBhcnNlcicpO1xudmFyIHBhcnNlRGF0ZSA9IHJlcXVpcmUoJ3Bvc3RncmVzLWRhdGUnKTtcbnZhciBwYXJzZUludGVydmFsID0gcmVxdWlyZSgncG9zdGdyZXMtaW50ZXJ2YWwnKTtcbnZhciBwYXJzZUJ5dGVBID0gcmVxdWlyZSgncG9zdGdyZXMtYnl0ZWEnKTtcblxuZnVuY3Rpb24gYWxsb3dOdWxsIChmbikge1xuICByZXR1cm4gZnVuY3Rpb24gbnVsbEFsbG93ZWQgKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gdmFsdWVcbiAgICByZXR1cm4gZm4odmFsdWUpXG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VCb29sICh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiB2YWx1ZVxuICByZXR1cm4gdmFsdWUgPT09ICdUUlVFJyB8fFxuICAgIHZhbHVlID09PSAndCcgfHxcbiAgICB2YWx1ZSA9PT0gJ3RydWUnIHx8XG4gICAgdmFsdWUgPT09ICd5JyB8fFxuICAgIHZhbHVlID09PSAneWVzJyB8fFxuICAgIHZhbHVlID09PSAnb24nIHx8XG4gICAgdmFsdWUgPT09ICcxJztcbn1cblxuZnVuY3Rpb24gcGFyc2VCb29sQXJyYXkgKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsXG4gIHJldHVybiBhcnJheS5wYXJzZSh2YWx1ZSwgcGFyc2VCb29sKVxufVxuXG5mdW5jdGlvbiBwYXJzZUJhc2VUZW5JbnQgKHN0cmluZykge1xuICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nLCAxMClcbn1cblxuZnVuY3Rpb24gcGFyc2VJbnRlZ2VyQXJyYXkgKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsXG4gIHJldHVybiBhcnJheS5wYXJzZSh2YWx1ZSwgYWxsb3dOdWxsKHBhcnNlQmFzZVRlbkludCkpXG59XG5cbmZ1bmN0aW9uIHBhcnNlQmlnSW50ZWdlckFycmF5ICh2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gbnVsbFxuICByZXR1cm4gYXJyYXkucGFyc2UodmFsdWUsIGFsbG93TnVsbChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICByZXR1cm4gcGFyc2VCaWdJbnRlZ2VyKGVudHJ5KS50cmltKClcbiAgfSkpXG59XG5cbnZhciBwYXJzZVBvaW50QXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZighdmFsdWUpIHsgcmV0dXJuIG51bGw7IH1cbiAgdmFyIHAgPSBhcnJheVBhcnNlci5jcmVhdGUodmFsdWUsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgaWYoZW50cnkgIT09IG51bGwpIHtcbiAgICAgIGVudHJ5ID0gcGFyc2VQb2ludChlbnRyeSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyeTtcbiAgfSk7XG5cbiAgcmV0dXJuIHAucGFyc2UoKTtcbn07XG5cbnZhciBwYXJzZUZsb2F0QXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZighdmFsdWUpIHsgcmV0dXJuIG51bGw7IH1cbiAgdmFyIHAgPSBhcnJheVBhcnNlci5jcmVhdGUodmFsdWUsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgaWYoZW50cnkgIT09IG51bGwpIHtcbiAgICAgIGVudHJ5ID0gcGFyc2VGbG9hdChlbnRyeSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyeTtcbiAgfSk7XG5cbiAgcmV0dXJuIHAucGFyc2UoKTtcbn07XG5cbnZhciBwYXJzZVN0cmluZ0FycmF5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYoIXZhbHVlKSB7IHJldHVybiBudWxsOyB9XG5cbiAgdmFyIHAgPSBhcnJheVBhcnNlci5jcmVhdGUodmFsdWUpO1xuICByZXR1cm4gcC5wYXJzZSgpO1xufTtcblxudmFyIHBhcnNlRGF0ZUFycmF5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gIHZhciBwID0gYXJyYXlQYXJzZXIuY3JlYXRlKHZhbHVlLCBmdW5jdGlvbihlbnRyeSkge1xuICAgIGlmIChlbnRyeSAhPT0gbnVsbCkge1xuICAgICAgZW50cnkgPSBwYXJzZURhdGUoZW50cnkpO1xuICAgIH1cbiAgICByZXR1cm4gZW50cnk7XG4gIH0pO1xuXG4gIHJldHVybiBwLnBhcnNlKCk7XG59O1xuXG52YXIgcGFyc2VJbnRlcnZhbEFycmF5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gIHZhciBwID0gYXJyYXlQYXJzZXIuY3JlYXRlKHZhbHVlLCBmdW5jdGlvbihlbnRyeSkge1xuICAgIGlmIChlbnRyeSAhPT0gbnVsbCkge1xuICAgICAgZW50cnkgPSBwYXJzZUludGVydmFsKGVudHJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJ5O1xuICB9KTtcblxuICByZXR1cm4gcC5wYXJzZSgpO1xufTtcblxudmFyIHBhcnNlQnl0ZUFBcnJheSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHsgcmV0dXJuIG51bGw7IH1cblxuICByZXR1cm4gYXJyYXkucGFyc2UodmFsdWUsIGFsbG93TnVsbChwYXJzZUJ5dGVBKSk7XG59O1xuXG52YXIgcGFyc2VJbnRlZ2VyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XG59O1xuXG52YXIgcGFyc2VCaWdJbnRlZ2VyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIHZhbFN0ciA9IFN0cmluZyh2YWx1ZSk7XG4gIGlmICgvXlxcZCskLy50ZXN0KHZhbFN0cikpIHsgcmV0dXJuIHZhbFN0cjsgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgcGFyc2VKc29uQXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSB7IHJldHVybiBudWxsOyB9XG5cbiAgcmV0dXJuIGFycmF5LnBhcnNlKHZhbHVlLCBhbGxvd051bGwoSlNPTi5wYXJzZSkpO1xufTtcblxudmFyIHBhcnNlUG9pbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodmFsdWVbMF0gIT09ICcoJykgeyByZXR1cm4gbnVsbDsgfVxuXG4gIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKCAxLCB2YWx1ZS5sZW5ndGggLSAxICkuc3BsaXQoJywnKTtcblxuICByZXR1cm4ge1xuICAgIHg6IHBhcnNlRmxvYXQodmFsdWVbMF0pXG4gICwgeTogcGFyc2VGbG9hdCh2YWx1ZVsxXSlcbiAgfTtcbn07XG5cbnZhciBwYXJzZUNpcmNsZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICh2YWx1ZVswXSAhPT0gJzwnICYmIHZhbHVlWzFdICE9PSAnKCcpIHsgcmV0dXJuIG51bGw7IH1cblxuICB2YXIgcG9pbnQgPSAnKCc7XG4gIHZhciByYWRpdXMgPSAnJztcbiAgdmFyIHBvaW50UGFyc2VkID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSAyOyBpIDwgdmFsdWUubGVuZ3RoIC0gMTsgaSsrKXtcbiAgICBpZiAoIXBvaW50UGFyc2VkKSB7XG4gICAgICBwb2ludCArPSB2YWx1ZVtpXTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWVbaV0gPT09ICcpJykge1xuICAgICAgcG9pbnRQYXJzZWQgPSB0cnVlO1xuICAgICAgY29udGludWU7XG4gICAgfSBlbHNlIGlmICghcG9pbnRQYXJzZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZVtpXSA9PT0gJywnKXtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJhZGl1cyArPSB2YWx1ZVtpXTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gcGFyc2VQb2ludChwb2ludCk7XG4gIHJlc3VsdC5yYWRpdXMgPSBwYXJzZUZsb2F0KHJhZGl1cyk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBpbml0ID0gZnVuY3Rpb24ocmVnaXN0ZXIpIHtcbiAgcmVnaXN0ZXIoMjAsIHBhcnNlQmlnSW50ZWdlcik7IC8vIGludDhcbiAgcmVnaXN0ZXIoMjEsIHBhcnNlSW50ZWdlcik7IC8vIGludDJcbiAgcmVnaXN0ZXIoMjMsIHBhcnNlSW50ZWdlcik7IC8vIGludDRcbiAgcmVnaXN0ZXIoMjYsIHBhcnNlSW50ZWdlcik7IC8vIG9pZFxuICByZWdpc3Rlcig3MDAsIHBhcnNlRmxvYXQpOyAvLyBmbG9hdDQvcmVhbFxuICByZWdpc3Rlcig3MDEsIHBhcnNlRmxvYXQpOyAvLyBmbG9hdDgvZG91YmxlXG4gIHJlZ2lzdGVyKDE2LCBwYXJzZUJvb2wpO1xuICByZWdpc3RlcigxMDgyLCBwYXJzZURhdGUpOyAvLyBkYXRlXG4gIHJlZ2lzdGVyKDExMTQsIHBhcnNlRGF0ZSk7IC8vIHRpbWVzdGFtcCB3aXRob3V0IHRpbWV6b25lXG4gIHJlZ2lzdGVyKDExODQsIHBhcnNlRGF0ZSk7IC8vIHRpbWVzdGFtcFxuICByZWdpc3Rlcig2MDAsIHBhcnNlUG9pbnQpOyAvLyBwb2ludFxuICByZWdpc3Rlcig2NTEsIHBhcnNlU3RyaW5nQXJyYXkpOyAvLyBjaWRyW11cbiAgcmVnaXN0ZXIoNzE4LCBwYXJzZUNpcmNsZSk7IC8vIGNpcmNsZVxuICByZWdpc3RlcigxMDAwLCBwYXJzZUJvb2xBcnJheSk7XG4gIHJlZ2lzdGVyKDEwMDEsIHBhcnNlQnl0ZUFBcnJheSk7XG4gIHJlZ2lzdGVyKDEwMDUsIHBhcnNlSW50ZWdlckFycmF5KTsgLy8gX2ludDJcbiAgcmVnaXN0ZXIoMTAwNywgcGFyc2VJbnRlZ2VyQXJyYXkpOyAvLyBfaW50NFxuICByZWdpc3RlcigxMDI4LCBwYXJzZUludGVnZXJBcnJheSk7IC8vIG9pZFtdXG4gIHJlZ2lzdGVyKDEwMTYsIHBhcnNlQmlnSW50ZWdlckFycmF5KTsgLy8gX2ludDhcbiAgcmVnaXN0ZXIoMTAxNywgcGFyc2VQb2ludEFycmF5KTsgLy8gcG9pbnRbXVxuICByZWdpc3RlcigxMDIxLCBwYXJzZUZsb2F0QXJyYXkpOyAvLyBfZmxvYXQ0XG4gIHJlZ2lzdGVyKDEwMjIsIHBhcnNlRmxvYXRBcnJheSk7IC8vIF9mbG9hdDhcbiAgcmVnaXN0ZXIoMTIzMSwgcGFyc2VGbG9hdEFycmF5KTsgLy8gX251bWVyaWNcbiAgcmVnaXN0ZXIoMTAxNCwgcGFyc2VTdHJpbmdBcnJheSk7IC8vY2hhclxuICByZWdpc3RlcigxMDE1LCBwYXJzZVN0cmluZ0FycmF5KTsgLy92YXJjaGFyXG4gIHJlZ2lzdGVyKDEwMDgsIHBhcnNlU3RyaW5nQXJyYXkpO1xuICByZWdpc3RlcigxMDA5LCBwYXJzZVN0cmluZ0FycmF5KTtcbiAgcmVnaXN0ZXIoMTA0MCwgcGFyc2VTdHJpbmdBcnJheSk7IC8vIG1hY2FkZHJbXVxuICByZWdpc3RlcigxMDQxLCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gaW5ldFtdXG4gIHJlZ2lzdGVyKDExMTUsIHBhcnNlRGF0ZUFycmF5KTsgLy8gdGltZXN0YW1wIHdpdGhvdXQgdGltZSB6b25lW11cbiAgcmVnaXN0ZXIoMTE4MiwgcGFyc2VEYXRlQXJyYXkpOyAvLyBfZGF0ZVxuICByZWdpc3RlcigxMTg1LCBwYXJzZURhdGVBcnJheSk7IC8vIHRpbWVzdGFtcCB3aXRoIHRpbWUgem9uZVtdXG4gIHJlZ2lzdGVyKDExODYsIHBhcnNlSW50ZXJ2YWwpO1xuICByZWdpc3RlcigxMTg3LCBwYXJzZUludGVydmFsQXJyYXkpO1xuICByZWdpc3RlcigxNywgcGFyc2VCeXRlQSk7XG4gIHJlZ2lzdGVyKDExNCwgSlNPTi5wYXJzZS5iaW5kKEpTT04pKTsgLy8ganNvblxuICByZWdpc3RlcigzODAyLCBKU09OLnBhcnNlLmJpbmQoSlNPTikpOyAvLyBqc29uYlxuICByZWdpc3RlcigxOTksIHBhcnNlSnNvbkFycmF5KTsgLy8ganNvbltdXG4gIHJlZ2lzdGVyKDM4MDcsIHBhcnNlSnNvbkFycmF5KTsgLy8ganNvbmJbXVxuICByZWdpc3RlcigzOTA3LCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gbnVtcmFuZ2VbXVxuICByZWdpc3RlcigyOTUxLCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gdXVpZFtdXG4gIHJlZ2lzdGVyKDc5MSwgcGFyc2VTdHJpbmdBcnJheSk7IC8vIG1vbmV5W11cbiAgcmVnaXN0ZXIoMTE4MywgcGFyc2VTdHJpbmdBcnJheSk7IC8vIHRpbWVbXVxuICByZWdpc3RlcigxMjcwLCBwYXJzZVN0cmluZ0FycmF5KTsgLy8gdGltZXR6W11cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpbml0OiBpbml0XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLy8gc2VsZWN0ZWQgc28gKEJBU0UgLSAxKSAqIDB4MTAwMDAwMDAwICsgMHhmZmZmZmZmZiBpcyBhIHNhZmUgaW50ZWdlclxudmFyIEJBU0UgPSAxMDAwMDAwO1xuXG5mdW5jdGlvbiByZWFkSW50OChidWZmZXIpIHtcblx0dmFyIGhpZ2ggPSBidWZmZXIucmVhZEludDMyQkUoMCk7XG5cdHZhciBsb3cgPSBidWZmZXIucmVhZFVJbnQzMkJFKDQpO1xuXHR2YXIgc2lnbiA9ICcnO1xuXG5cdGlmIChoaWdoIDwgMCkge1xuXHRcdGhpZ2ggPSB+aGlnaCArIChsb3cgPT09IDApO1xuXHRcdGxvdyA9ICh+bG93ICsgMSkgPj4+IDA7XG5cdFx0c2lnbiA9ICctJztcblx0fVxuXG5cdHZhciByZXN1bHQgPSAnJztcblx0dmFyIGNhcnJ5O1xuXHR2YXIgdDtcblx0dmFyIGRpZ2l0cztcblx0dmFyIHBhZDtcblx0dmFyIGw7XG5cdHZhciBpO1xuXG5cdHtcblx0XHRjYXJyeSA9IGhpZ2ggJSBCQVNFO1xuXHRcdGhpZ2ggPSBoaWdoIC8gQkFTRSA+Pj4gMDtcblxuXHRcdHQgPSAweDEwMDAwMDAwMCAqIGNhcnJ5ICsgbG93O1xuXHRcdGxvdyA9IHQgLyBCQVNFID4+PiAwO1xuXHRcdGRpZ2l0cyA9ICcnICsgKHQgLSBCQVNFICogbG93KTtcblxuXHRcdGlmIChsb3cgPT09IDAgJiYgaGlnaCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHNpZ24gKyBkaWdpdHMgKyByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0cGFkID0gJyc7XG5cdFx0bCA9IDYgLSBkaWdpdHMubGVuZ3RoO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuXHRcdFx0cGFkICs9ICcwJztcblx0XHR9XG5cblx0XHRyZXN1bHQgPSBwYWQgKyBkaWdpdHMgKyByZXN1bHQ7XG5cdH1cblxuXHR7XG5cdFx0Y2FycnkgPSBoaWdoICUgQkFTRTtcblx0XHRoaWdoID0gaGlnaCAvIEJBU0UgPj4+IDA7XG5cblx0XHR0ID0gMHgxMDAwMDAwMDAgKiBjYXJyeSArIGxvdztcblx0XHRsb3cgPSB0IC8gQkFTRSA+Pj4gMDtcblx0XHRkaWdpdHMgPSAnJyArICh0IC0gQkFTRSAqIGxvdyk7XG5cblx0XHRpZiAobG93ID09PSAwICYmIGhpZ2ggPT09IDApIHtcblx0XHRcdHJldHVybiBzaWduICsgZGlnaXRzICsgcmVzdWx0O1xuXHRcdH1cblxuXHRcdHBhZCA9ICcnO1xuXHRcdGwgPSA2IC0gZGlnaXRzLmxlbmd0aDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcblx0XHRcdHBhZCArPSAnMCc7XG5cdFx0fVxuXG5cdFx0cmVzdWx0ID0gcGFkICsgZGlnaXRzICsgcmVzdWx0O1xuXHR9XG5cblx0e1xuXHRcdGNhcnJ5ID0gaGlnaCAlIEJBU0U7XG5cdFx0aGlnaCA9IGhpZ2ggLyBCQVNFID4+PiAwO1xuXG5cdFx0dCA9IDB4MTAwMDAwMDAwICogY2FycnkgKyBsb3c7XG5cdFx0bG93ID0gdCAvIEJBU0UgPj4+IDA7XG5cdFx0ZGlnaXRzID0gJycgKyAodCAtIEJBU0UgKiBsb3cpO1xuXG5cdFx0aWYgKGxvdyA9PT0gMCAmJiBoaWdoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gc2lnbiArIGRpZ2l0cyArIHJlc3VsdDtcblx0XHR9XG5cblx0XHRwYWQgPSAnJztcblx0XHRsID0gNiAtIGRpZ2l0cy5sZW5ndGg7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRwYWQgKz0gJzAnO1xuXHRcdH1cblxuXHRcdHJlc3VsdCA9IHBhZCArIGRpZ2l0cyArIHJlc3VsdDtcblx0fVxuXG5cdHtcblx0XHRjYXJyeSA9IGhpZ2ggJSBCQVNFO1xuXHRcdHQgPSAweDEwMDAwMDAwMCAqIGNhcnJ5ICsgbG93O1xuXHRcdGRpZ2l0cyA9ICcnICsgdCAlIEJBU0U7XG5cblx0XHRyZXR1cm4gc2lnbiArIGRpZ2l0cyArIHJlc3VsdDtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlYWRJbnQ4O1xuIiwgInZhciBwYXJzZUludDY0ID0gcmVxdWlyZSgncGctaW50OCcpO1xuXG52YXIgcGFyc2VCaXRzID0gZnVuY3Rpb24oZGF0YSwgYml0cywgb2Zmc2V0LCBpbnZlcnQsIGNhbGxiYWNrKSB7XG4gIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICBpbnZlcnQgPSBpbnZlcnQgfHwgZmFsc2U7XG4gIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24obGFzdFZhbHVlLCBuZXdWYWx1ZSwgYml0cykgeyByZXR1cm4gKGxhc3RWYWx1ZSAqIE1hdGgucG93KDIsIGJpdHMpKSArIG5ld1ZhbHVlOyB9O1xuICB2YXIgb2Zmc2V0Qnl0ZXMgPSBvZmZzZXQgPj4gMztcblxuICB2YXIgaW52ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaW52ZXJ0KSB7XG4gICAgICByZXR1cm4gfnZhbHVlICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLy8gcmVhZCBmaXJzdCAobWF5YmUgcGFydGlhbCkgYnl0ZVxuICB2YXIgbWFzayA9IDB4ZmY7XG4gIHZhciBmaXJzdEJpdHMgPSA4IC0gKG9mZnNldCAlIDgpO1xuICBpZiAoYml0cyA8IGZpcnN0Qml0cykge1xuICAgIG1hc2sgPSAoMHhmZiA8PCAoOCAtIGJpdHMpKSAmIDB4ZmY7XG4gICAgZmlyc3RCaXRzID0gYml0cztcbiAgfVxuXG4gIGlmIChvZmZzZXQpIHtcbiAgICBtYXNrID0gbWFzayA+PiAob2Zmc2V0ICUgOCk7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gMDtcbiAgaWYgKChvZmZzZXQgJSA4KSArIGJpdHMgPj0gOCkge1xuICAgIHJlc3VsdCA9IGNhbGxiYWNrKDAsIGludihkYXRhW29mZnNldEJ5dGVzXSkgJiBtYXNrLCBmaXJzdEJpdHMpO1xuICB9XG5cbiAgLy8gcmVhZCBieXRlc1xuICB2YXIgYnl0ZXMgPSAoYml0cyArIG9mZnNldCkgPj4gMztcbiAgZm9yICh2YXIgaSA9IG9mZnNldEJ5dGVzICsgMTsgaSA8IGJ5dGVzOyBpKyspIHtcbiAgICByZXN1bHQgPSBjYWxsYmFjayhyZXN1bHQsIGludihkYXRhW2ldKSwgOCk7XG4gIH1cblxuICAvLyBiaXRzIHRvIHJlYWQsIHRoYXQgYXJlIG5vdCBhIGNvbXBsZXRlIGJ5dGVcbiAgdmFyIGxhc3RCaXRzID0gKGJpdHMgKyBvZmZzZXQpICUgODtcbiAgaWYgKGxhc3RCaXRzID4gMCkge1xuICAgIHJlc3VsdCA9IGNhbGxiYWNrKHJlc3VsdCwgaW52KGRhdGFbYnl0ZXNdKSA+PiAoOCAtIGxhc3RCaXRzKSwgbGFzdEJpdHMpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBwYXJzZUZsb2F0RnJvbUJpdHMgPSBmdW5jdGlvbihkYXRhLCBwcmVjaXNpb25CaXRzLCBleHBvbmVudEJpdHMpIHtcbiAgdmFyIGJpYXMgPSBNYXRoLnBvdygyLCBleHBvbmVudEJpdHMgLSAxKSAtIDE7XG4gIHZhciBzaWduID0gcGFyc2VCaXRzKGRhdGEsIDEpO1xuICB2YXIgZXhwb25lbnQgPSBwYXJzZUJpdHMoZGF0YSwgZXhwb25lbnRCaXRzLCAxKTtcblxuICBpZiAoZXhwb25lbnQgPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8vIHBhcnNlIG1hbnRpc3NhXG4gIHZhciBwcmVjaXNpb25CaXRzQ291bnRlciA9IDE7XG4gIHZhciBwYXJzZVByZWNpc2lvbkJpdHMgPSBmdW5jdGlvbihsYXN0VmFsdWUsIG5ld1ZhbHVlLCBiaXRzKSB7XG4gICAgaWYgKGxhc3RWYWx1ZSA9PT0gMCkge1xuICAgICAgbGFzdFZhbHVlID0gMTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBiaXRzOyBpKyspIHtcbiAgICAgIHByZWNpc2lvbkJpdHNDb3VudGVyIC89IDI7XG4gICAgICBpZiAoKG5ld1ZhbHVlICYgKDB4MSA8PCAoYml0cyAtIGkpKSkgPiAwKSB7XG4gICAgICAgIGxhc3RWYWx1ZSArPSBwcmVjaXNpb25CaXRzQ291bnRlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdFZhbHVlO1xuICB9O1xuXG4gIHZhciBtYW50aXNzYSA9IHBhcnNlQml0cyhkYXRhLCBwcmVjaXNpb25CaXRzLCBleHBvbmVudEJpdHMgKyAxLCBmYWxzZSwgcGFyc2VQcmVjaXNpb25CaXRzKTtcblxuICAvLyBzcGVjaWFsIGNhc2VzXG4gIGlmIChleHBvbmVudCA9PSAoTWF0aC5wb3coMiwgZXhwb25lbnRCaXRzICsgMSkgLSAxKSkge1xuICAgIGlmIChtYW50aXNzYSA9PT0gMCkge1xuICAgICAgcmV0dXJuIChzaWduID09PSAwKSA/IEluZmluaXR5IDogLUluZmluaXR5O1xuICAgIH1cblxuICAgIHJldHVybiBOYU47XG4gIH1cblxuICAvLyBub3JtYWxlIG51bWJlclxuICByZXR1cm4gKChzaWduID09PSAwKSA/IDEgOiAtMSkgKiBNYXRoLnBvdygyLCBleHBvbmVudCAtIGJpYXMpICogbWFudGlzc2E7XG59O1xuXG52YXIgcGFyc2VJbnQxNiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmIChwYXJzZUJpdHModmFsdWUsIDEpID09IDEpIHtcbiAgICByZXR1cm4gLTEgKiAocGFyc2VCaXRzKHZhbHVlLCAxNSwgMSwgdHJ1ZSkgKyAxKTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZUJpdHModmFsdWUsIDE1LCAxKTtcbn07XG5cbnZhciBwYXJzZUludDMyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKHBhcnNlQml0cyh2YWx1ZSwgMSkgPT0gMSkge1xuICAgIHJldHVybiAtMSAqIChwYXJzZUJpdHModmFsdWUsIDMxLCAxLCB0cnVlKSArIDEpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlQml0cyh2YWx1ZSwgMzEsIDEpO1xufTtcblxudmFyIHBhcnNlRmxvYXQzMiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBwYXJzZUZsb2F0RnJvbUJpdHModmFsdWUsIDIzLCA4KTtcbn07XG5cbnZhciBwYXJzZUZsb2F0NjQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gcGFyc2VGbG9hdEZyb21CaXRzKHZhbHVlLCA1MiwgMTEpO1xufTtcblxudmFyIHBhcnNlTnVtZXJpYyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBzaWduID0gcGFyc2VCaXRzKHZhbHVlLCAxNiwgMzIpO1xuICBpZiAoc2lnbiA9PSAweGMwMDApIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG5cbiAgdmFyIHdlaWdodCA9IE1hdGgucG93KDEwMDAwLCBwYXJzZUJpdHModmFsdWUsIDE2LCAxNikpO1xuICB2YXIgcmVzdWx0ID0gMDtcblxuICB2YXIgZGlnaXRzID0gW107XG4gIHZhciBuZGlnaXRzID0gcGFyc2VCaXRzKHZhbHVlLCAxNik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbmRpZ2l0czsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IHBhcnNlQml0cyh2YWx1ZSwgMTYsIDY0ICsgKDE2ICogaSkpICogd2VpZ2h0O1xuICAgIHdlaWdodCAvPSAxMDAwMDtcbiAgfVxuXG4gIHZhciBzY2FsZSA9IE1hdGgucG93KDEwLCBwYXJzZUJpdHModmFsdWUsIDE2LCA0OCkpO1xuICByZXR1cm4gKChzaWduID09PSAwKSA/IDEgOiAtMSkgKiBNYXRoLnJvdW5kKHJlc3VsdCAqIHNjYWxlKSAvIHNjYWxlO1xufTtcblxudmFyIHBhcnNlRGF0ZSA9IGZ1bmN0aW9uKGlzVVRDLCB2YWx1ZSkge1xuICB2YXIgc2lnbiA9IHBhcnNlQml0cyh2YWx1ZSwgMSk7XG4gIHZhciByYXdWYWx1ZSA9IHBhcnNlQml0cyh2YWx1ZSwgNjMsIDEpO1xuXG4gIC8vIGRpc2NhcmQgdXNlY3MgYW5kIHNoaWZ0IGZyb20gMjAwMCB0byAxOTcwXG4gIHZhciByZXN1bHQgPSBuZXcgRGF0ZSgoKChzaWduID09PSAwKSA/IDEgOiAtMSkgKiByYXdWYWx1ZSAvIDEwMDApICsgOTQ2Njg0ODAwMDAwKTtcblxuICBpZiAoIWlzVVRDKSB7XG4gICAgcmVzdWx0LnNldFRpbWUocmVzdWx0LmdldFRpbWUoKSArIHJlc3VsdC5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xuICB9XG5cbiAgLy8gYWRkIG1pY3Jvc2Vjb25kcyB0byB0aGUgZGF0ZVxuICByZXN1bHQudXNlYyA9IHJhd1ZhbHVlICUgMTAwMDtcbiAgcmVzdWx0LmdldE1pY3JvU2Vjb25kcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnVzZWM7XG4gIH07XG4gIHJlc3VsdC5zZXRNaWNyb1NlY29uZHMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXMudXNlYyA9IHZhbHVlO1xuICB9O1xuICByZXN1bHQuZ2V0VVRDTWljcm9TZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlYztcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHBhcnNlQXJyYXkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgZGltID0gcGFyc2VCaXRzKHZhbHVlLCAzMik7XG5cbiAgdmFyIGZsYWdzID0gcGFyc2VCaXRzKHZhbHVlLCAzMiwgMzIpO1xuICB2YXIgZWxlbWVudFR5cGUgPSBwYXJzZUJpdHModmFsdWUsIDMyLCA2NCk7XG5cbiAgdmFyIG9mZnNldCA9IDk2O1xuICB2YXIgZGltcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbTsgaSsrKSB7XG4gICAgLy8gcGFyc2UgZGltZW5zaW9uXG4gICAgZGltc1tpXSA9IHBhcnNlQml0cyh2YWx1ZSwgMzIsIG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IDMyO1xuXG4gICAgLy8gaWdub3JlIGxvd2VyIGJvdW5kc1xuICAgIG9mZnNldCArPSAzMjtcbiAgfVxuXG4gIHZhciBwYXJzZUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50VHlwZSkge1xuICAgIC8vIHBhcnNlIGNvbnRlbnQgbGVuZ3RoXG4gICAgdmFyIGxlbmd0aCA9IHBhcnNlQml0cyh2YWx1ZSwgMzIsIG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IDMyO1xuXG4gICAgLy8gcGFyc2UgbnVsbCB2YWx1ZXNcbiAgICBpZiAobGVuZ3RoID09IDB4ZmZmZmZmZmYpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKChlbGVtZW50VHlwZSA9PSAweDE3KSB8fCAoZWxlbWVudFR5cGUgPT0gMHgxNCkpIHtcbiAgICAgIC8vIGludC9iaWdpbnRcbiAgICAgIHJlc3VsdCA9IHBhcnNlQml0cyh2YWx1ZSwgbGVuZ3RoICogOCwgb2Zmc2V0KTtcbiAgICAgIG9mZnNldCArPSBsZW5ndGggKiA4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZWxlbWVudFR5cGUgPT0gMHgxOSkge1xuICAgICAgLy8gc3RyaW5nXG4gICAgICByZXN1bHQgPSB2YWx1ZS50b1N0cmluZyh0aGlzLmVuY29kaW5nLCBvZmZzZXQgPj4gMywgKG9mZnNldCArPSAobGVuZ3RoIDw8IDMpKSA+PiAzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJFUlJPUjogRWxlbWVudFR5cGUgbm90IGltcGxlbWVudGVkOiBcIiArIGVsZW1lbnRUeXBlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHBhcnNlID0gZnVuY3Rpb24oZGltZW5zaW9uLCBlbGVtZW50VHlwZSkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIHZhciBpO1xuXG4gICAgaWYgKGRpbWVuc2lvbi5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgY291bnQgPSBkaW1lbnNpb24uc2hpZnQoKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gcGFyc2UoZGltZW5zaW9uLCBlbGVtZW50VHlwZSk7XG4gICAgICB9XG4gICAgICBkaW1lbnNpb24udW5zaGlmdChjb3VudCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGRpbWVuc2lvblswXTsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gcGFyc2VFbGVtZW50KGVsZW1lbnRUeXBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG4gIH07XG5cbiAgcmV0dXJuIHBhcnNlKGRpbXMsIGVsZW1lbnRUeXBlKTtcbn07XG5cbnZhciBwYXJzZVRleHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUudG9TdHJpbmcoJ3V0ZjgnKTtcbn07XG5cbnZhciBwYXJzZUJvb2wgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZih2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiAocGFyc2VCaXRzKHZhbHVlLCA4KSA+IDApO1xufTtcblxudmFyIGluaXQgPSBmdW5jdGlvbihyZWdpc3Rlcikge1xuICByZWdpc3RlcigyMCwgcGFyc2VJbnQ2NCk7XG4gIHJlZ2lzdGVyKDIxLCBwYXJzZUludDE2KTtcbiAgcmVnaXN0ZXIoMjMsIHBhcnNlSW50MzIpO1xuICByZWdpc3RlcigyNiwgcGFyc2VJbnQzMik7XG4gIHJlZ2lzdGVyKDE3MDAsIHBhcnNlTnVtZXJpYyk7XG4gIHJlZ2lzdGVyKDcwMCwgcGFyc2VGbG9hdDMyKTtcbiAgcmVnaXN0ZXIoNzAxLCBwYXJzZUZsb2F0NjQpO1xuICByZWdpc3RlcigxNiwgcGFyc2VCb29sKTtcbiAgcmVnaXN0ZXIoMTExNCwgcGFyc2VEYXRlLmJpbmQobnVsbCwgZmFsc2UpKTtcbiAgcmVnaXN0ZXIoMTE4NCwgcGFyc2VEYXRlLmJpbmQobnVsbCwgdHJ1ZSkpO1xuICByZWdpc3RlcigxMDAwLCBwYXJzZUFycmF5KTtcbiAgcmVnaXN0ZXIoMTAwNywgcGFyc2VBcnJheSk7XG4gIHJlZ2lzdGVyKDEwMTYsIHBhcnNlQXJyYXkpO1xuICByZWdpc3RlcigxMDA4LCBwYXJzZUFycmF5KTtcbiAgcmVnaXN0ZXIoMTAwOSwgcGFyc2VBcnJheSk7XG4gIHJlZ2lzdGVyKDI1LCBwYXJzZVRleHQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGluaXQ6IGluaXRcbn07XG4iLCAiLyoqXG4gKiBGb2xsb3dpbmcgcXVlcnkgd2FzIHVzZWQgdG8gZ2VuZXJhdGUgdGhpcyBmaWxlOlxuXG4gU0VMRUNUIGpzb25fb2JqZWN0X2FnZyhVUFBFUihQVC50eXBuYW1lKSwgUFQub2lkOjppbnQ0IE9SREVSIEJZIHB0Lm9pZClcbiBGUk9NIHBnX3R5cGUgUFRcbiBXSEVSRSB0eXBuYW1lc3BhY2UgPSAoU0VMRUNUIHBnbi5vaWQgRlJPTSBwZ19uYW1lc3BhY2UgcGduIFdIRVJFIG5zcG5hbWUgPSAncGdfY2F0YWxvZycpIC0tIFRha2Ugb25seSBidWlsdGluZyBQb3N0Z3JlcyB0eXBlcyB3aXRoIHN0YWJsZSBPSUQgKGV4dGVuc2lvbiB0eXBlcyBhcmUgbm90IGd1YXJhbnRlZCB0byBiZSBzdGFibGUpXG4gQU5EIHR5cHR5cGUgPSAnYicgLS0gT25seSBiYXNpYyB0eXBlc1xuIEFORCB0eXBlbGVtID0gMCAtLSBJZ25vcmUgYWxpYXNlc1xuIEFORCB0eXBpc2RlZmluZWQgLS0gSWdub3JlIHVuZGVmaW5lZCB0eXBlc1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIEJPT0w6IDE2LFxuICAgIEJZVEVBOiAxNyxcbiAgICBDSEFSOiAxOCxcbiAgICBJTlQ4OiAyMCxcbiAgICBJTlQyOiAyMSxcbiAgICBJTlQ0OiAyMyxcbiAgICBSRUdQUk9DOiAyNCxcbiAgICBURVhUOiAyNSxcbiAgICBPSUQ6IDI2LFxuICAgIFRJRDogMjcsXG4gICAgWElEOiAyOCxcbiAgICBDSUQ6IDI5LFxuICAgIEpTT046IDExNCxcbiAgICBYTUw6IDE0MixcbiAgICBQR19OT0RFX1RSRUU6IDE5NCxcbiAgICBTTUdSOiAyMTAsXG4gICAgUEFUSDogNjAyLFxuICAgIFBPTFlHT046IDYwNCxcbiAgICBDSURSOiA2NTAsXG4gICAgRkxPQVQ0OiA3MDAsXG4gICAgRkxPQVQ4OiA3MDEsXG4gICAgQUJTVElNRTogNzAyLFxuICAgIFJFTFRJTUU6IDcwMyxcbiAgICBUSU5URVJWQUw6IDcwNCxcbiAgICBDSVJDTEU6IDcxOCxcbiAgICBNQUNBRERSODogNzc0LFxuICAgIE1PTkVZOiA3OTAsXG4gICAgTUFDQUREUjogODI5LFxuICAgIElORVQ6IDg2OSxcbiAgICBBQ0xJVEVNOiAxMDMzLFxuICAgIEJQQ0hBUjogMTA0MixcbiAgICBWQVJDSEFSOiAxMDQzLFxuICAgIERBVEU6IDEwODIsXG4gICAgVElNRTogMTA4MyxcbiAgICBUSU1FU1RBTVA6IDExMTQsXG4gICAgVElNRVNUQU1QVFo6IDExODQsXG4gICAgSU5URVJWQUw6IDExODYsXG4gICAgVElNRVRaOiAxMjY2LFxuICAgIEJJVDogMTU2MCxcbiAgICBWQVJCSVQ6IDE1NjIsXG4gICAgTlVNRVJJQzogMTcwMCxcbiAgICBSRUZDVVJTT1I6IDE3OTAsXG4gICAgUkVHUFJPQ0VEVVJFOiAyMjAyLFxuICAgIFJFR09QRVI6IDIyMDMsXG4gICAgUkVHT1BFUkFUT1I6IDIyMDQsXG4gICAgUkVHQ0xBU1M6IDIyMDUsXG4gICAgUkVHVFlQRTogMjIwNixcbiAgICBVVUlEOiAyOTUwLFxuICAgIFRYSURfU05BUFNIT1Q6IDI5NzAsXG4gICAgUEdfTFNOOiAzMjIwLFxuICAgIFBHX05ESVNUSU5DVDogMzM2MSxcbiAgICBQR19ERVBFTkRFTkNJRVM6IDM0MDIsXG4gICAgVFNWRUNUT1I6IDM2MTQsXG4gICAgVFNRVUVSWTogMzYxNSxcbiAgICBHVFNWRUNUT1I6IDM2NDIsXG4gICAgUkVHQ09ORklHOiAzNzM0LFxuICAgIFJFR0RJQ1RJT05BUlk6IDM3NjksXG4gICAgSlNPTkI6IDM4MDIsXG4gICAgUkVHTkFNRVNQQUNFOiA0MDg5LFxuICAgIFJFR1JPTEU6IDQwOTZcbn07XG4iLCAidmFyIHRleHRQYXJzZXJzID0gcmVxdWlyZSgnLi9saWIvdGV4dFBhcnNlcnMnKTtcbnZhciBiaW5hcnlQYXJzZXJzID0gcmVxdWlyZSgnLi9saWIvYmluYXJ5UGFyc2VycycpO1xudmFyIGFycmF5UGFyc2VyID0gcmVxdWlyZSgnLi9saWIvYXJyYXlQYXJzZXInKTtcbnZhciBidWlsdGluVHlwZXMgPSByZXF1aXJlKCcuL2xpYi9idWlsdGlucycpO1xuXG5leHBvcnRzLmdldFR5cGVQYXJzZXIgPSBnZXRUeXBlUGFyc2VyO1xuZXhwb3J0cy5zZXRUeXBlUGFyc2VyID0gc2V0VHlwZVBhcnNlcjtcbmV4cG9ydHMuYXJyYXlQYXJzZXIgPSBhcnJheVBhcnNlcjtcbmV4cG9ydHMuYnVpbHRpbnMgPSBidWlsdGluVHlwZXM7XG5cbnZhciB0eXBlUGFyc2VycyA9IHtcbiAgdGV4dDoge30sXG4gIGJpbmFyeToge31cbn07XG5cbi8vdGhlIGVtcHR5IHBhcnNlIGZ1bmN0aW9uXG5mdW5jdGlvbiBub1BhcnNlICh2YWwpIHtcbiAgcmV0dXJuIFN0cmluZyh2YWwpO1xufTtcblxuLy9yZXR1cm5zIGEgZnVuY3Rpb24gdXNlZCB0byBjb252ZXJ0IGEgc3BlY2lmaWMgdHlwZSAoc3BlY2lmaWVkIGJ5XG4vL29pZCkgaW50byBhIHJlc3VsdCBqYXZhc2NyaXB0IHR5cGVcbi8vbm90ZTogdGhlIG9pZCBjYW4gYmUgb2J0YWluZWQgdmlhIHRoZSBmb2xsb3dpbmcgc3FsIHF1ZXJ5OlxuLy9TRUxFQ1Qgb2lkIEZST00gcGdfdHlwZSBXSEVSRSB0eXBuYW1lID0gJ1RZUEVfTkFNRV9IRVJFJztcbmZ1bmN0aW9uIGdldFR5cGVQYXJzZXIgKG9pZCwgZm9ybWF0KSB7XG4gIGZvcm1hdCA9IGZvcm1hdCB8fCAndGV4dCc7XG4gIGlmICghdHlwZVBhcnNlcnNbZm9ybWF0XSkge1xuICAgIHJldHVybiBub1BhcnNlO1xuICB9XG4gIHJldHVybiB0eXBlUGFyc2Vyc1tmb3JtYXRdW29pZF0gfHwgbm9QYXJzZTtcbn07XG5cbmZ1bmN0aW9uIHNldFR5cGVQYXJzZXIgKG9pZCwgZm9ybWF0LCBwYXJzZUZuKSB7XG4gIGlmKHR5cGVvZiBmb3JtYXQgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHBhcnNlRm4gPSBmb3JtYXQ7XG4gICAgZm9ybWF0ID0gJ3RleHQnO1xuICB9XG4gIHR5cGVQYXJzZXJzW2Zvcm1hdF1bb2lkXSA9IHBhcnNlRm47XG59O1xuXG50ZXh0UGFyc2Vycy5pbml0KGZ1bmN0aW9uKG9pZCwgY29udmVydGVyKSB7XG4gIHR5cGVQYXJzZXJzLnRleHRbb2lkXSA9IGNvbnZlcnRlcjtcbn0pO1xuXG5iaW5hcnlQYXJzZXJzLmluaXQoZnVuY3Rpb24ob2lkLCBjb252ZXJ0ZXIpIHtcbiAgdHlwZVBhcnNlcnMuYmluYXJ5W29pZF0gPSBjb252ZXJ0ZXI7XG59KTtcbiIsICIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGRhdGFiYXNlIGhvc3QuIGRlZmF1bHRzIHRvIGxvY2FsaG9zdFxuICBob3N0OiAnbG9jYWxob3N0JyxcblxuICAvLyBkYXRhYmFzZSB1c2VyJ3MgbmFtZVxuICB1c2VyOiBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInID8gcHJvY2Vzcy5lbnYuVVNFUk5BTUUgOiBwcm9jZXNzLmVudi5VU0VSLFxuXG4gIC8vIG5hbWUgb2YgZGF0YWJhc2UgdG8gY29ubmVjdFxuICBkYXRhYmFzZTogdW5kZWZpbmVkLFxuXG4gIC8vIGRhdGFiYXNlIHVzZXIncyBwYXNzd29yZFxuICBwYXNzd29yZDogbnVsbCxcblxuICAvLyBhIFBvc3RncmVzIGNvbm5lY3Rpb24gc3RyaW5nIHRvIGJlIHVzZWQgaW5zdGVhZCBvZiBzZXR0aW5nIGluZGl2aWR1YWwgY29ubmVjdGlvbiBpdGVtc1xuICAvLyBOT1RFOiAgU2V0dGluZyB0aGlzIHZhbHVlIHdpbGwgY2F1c2UgaXQgdG8gb3ZlcnJpZGUgYW55IG90aGVyIHZhbHVlIChzdWNoIGFzIGRhdGFiYXNlIG9yIHVzZXIpIGRlZmluZWRcbiAgLy8gaW4gdGhlIGRlZmF1bHRzIG9iamVjdC5cbiAgY29ubmVjdGlvblN0cmluZzogdW5kZWZpbmVkLFxuXG4gIC8vIGRhdGFiYXNlIHBvcnRcbiAgcG9ydDogNTQzMixcblxuICAvLyBudW1iZXIgb2Ygcm93cyB0byByZXR1cm4gYXQgYSB0aW1lIGZyb20gYSBwcmVwYXJlZCBzdGF0ZW1lbnQnc1xuICAvLyBwb3J0YWwuIDAgd2lsbCByZXR1cm4gYWxsIHJvd3MgYXQgb25jZVxuICByb3dzOiAwLFxuXG4gIC8vIGJpbmFyeSByZXN1bHQgbW9kZVxuICBiaW5hcnk6IGZhbHNlLFxuXG4gIC8vIENvbm5lY3Rpb24gcG9vbCBvcHRpb25zIC0gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icmlhbmMvbm9kZS1wZy1wb29sXG5cbiAgLy8gbnVtYmVyIG9mIGNvbm5lY3Rpb25zIHRvIHVzZSBpbiBjb25uZWN0aW9uIHBvb2xcbiAgLy8gMCB3aWxsIGRpc2FibGUgY29ubmVjdGlvbiBwb29saW5nXG4gIG1heDogMTAsXG5cbiAgLy8gbWF4IG1pbGxpc2Vjb25kcyBhIGNsaWVudCBjYW4gZ28gdW51c2VkIGJlZm9yZSBpdCBpcyByZW1vdmVkXG4gIC8vIGZyb20gdGhlIHBvb2wgYW5kIGRlc3Ryb3llZFxuICBpZGxlVGltZW91dE1pbGxpczogMzAwMDAsXG5cbiAgY2xpZW50X2VuY29kaW5nOiAnJyxcblxuICBzc2w6IGZhbHNlLFxuXG4gIGFwcGxpY2F0aW9uX25hbWU6IHVuZGVmaW5lZCxcblxuICBmYWxsYmFja19hcHBsaWNhdGlvbl9uYW1lOiB1bmRlZmluZWQsXG5cbiAgb3B0aW9uczogdW5kZWZpbmVkLFxuXG4gIHBhcnNlSW5wdXREYXRlc0FzVVRDOiBmYWxzZSxcblxuICAvLyBtYXggbWlsbGlzZWNvbmRzIGFueSBxdWVyeSB1c2luZyB0aGlzIGNvbm5lY3Rpb24gd2lsbCBleGVjdXRlIGZvciBiZWZvcmUgdGltaW5nIG91dCBpbiBlcnJvci5cbiAgLy8gZmFsc2U9dW5saW1pdGVkXG4gIHN0YXRlbWVudF90aW1lb3V0OiBmYWxzZSxcblxuICAvLyBBYm9ydCBhbnkgc3RhdGVtZW50IHRoYXQgd2FpdHMgbG9uZ2VyIHRoYW4gdGhlIHNwZWNpZmllZCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMgd2hpbGUgYXR0ZW1wdGluZyB0byBhY3F1aXJlIGEgbG9jay5cbiAgLy8gZmFsc2U9dW5saW1pdGVkXG4gIGxvY2tfdGltZW91dDogZmFsc2UsXG5cbiAgLy8gVGVybWluYXRlIGFueSBzZXNzaW9uIHdpdGggYW4gb3BlbiB0cmFuc2FjdGlvbiB0aGF0IGhhcyBiZWVuIGlkbGUgZm9yIGxvbmdlciB0aGFuIHRoZSBzcGVjaWZpZWQgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXG4gIC8vIGZhbHNlPXVubGltaXRlZFxuICBpZGxlX2luX3RyYW5zYWN0aW9uX3Nlc3Npb25fdGltZW91dDogZmFsc2UsXG5cbiAgLy8gbWF4IG1pbGxpc2Vjb25kcyB0byB3YWl0IGZvciBxdWVyeSB0byBjb21wbGV0ZSAoY2xpZW50IHNpZGUpXG4gIHF1ZXJ5X3RpbWVvdXQ6IGZhbHNlLFxuXG4gIGNvbm5lY3RfdGltZW91dDogMCxcblxuICBrZWVwYWxpdmVzOiAxLFxuXG4gIGtlZXBhbGl2ZXNfaWRsZTogMCxcbn1cblxuY29uc3QgcGdUeXBlcyA9IHJlcXVpcmUoJ3BnLXR5cGVzJylcbi8vIHNhdmUgZGVmYXVsdCBwYXJzZXJzXG5jb25zdCBwYXJzZUJpZ0ludGVnZXIgPSBwZ1R5cGVzLmdldFR5cGVQYXJzZXIoMjAsICd0ZXh0JylcbmNvbnN0IHBhcnNlQmlnSW50ZWdlckFycmF5ID0gcGdUeXBlcy5nZXRUeXBlUGFyc2VyKDEwMTYsICd0ZXh0JylcblxuLy8gcGFyc2UgaW50OCBzbyB5b3UgY2FuIGdldCB5b3VyIGNvdW50IHZhbHVlcyBhcyBhY3R1YWwgbnVtYmVyc1xubW9kdWxlLmV4cG9ydHMuX19kZWZpbmVTZXR0ZXJfXygncGFyc2VJbnQ4JywgZnVuY3Rpb24gKHZhbCkge1xuICBwZ1R5cGVzLnNldFR5cGVQYXJzZXIoMjAsICd0ZXh0JywgdmFsID8gcGdUeXBlcy5nZXRUeXBlUGFyc2VyKDIzLCAndGV4dCcpIDogcGFyc2VCaWdJbnRlZ2VyKVxuICBwZ1R5cGVzLnNldFR5cGVQYXJzZXIoMTAxNiwgJ3RleHQnLCB2YWwgPyBwZ1R5cGVzLmdldFR5cGVQYXJzZXIoMTAwNywgJ3RleHQnKSA6IHBhcnNlQmlnSW50ZWdlckFycmF5KVxufSlcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJylcblxuY29uc3QgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuY29uc3QgeyBpc0RhdGUgfSA9IHV0aWwudHlwZXMgfHwgdXRpbCAvLyBOb2RlIDggZG9lc24ndCBoYXZlIGB1dGlsLnR5cGVzYFxuXG5mdW5jdGlvbiBlc2NhcGVFbGVtZW50KGVsZW1lbnRSZXByZXNlbnRhdGlvbikge1xuICBjb25zdCBlc2NhcGVkID0gZWxlbWVudFJlcHJlc2VudGF0aW9uLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJykucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpXG5cbiAgcmV0dXJuICdcIicgKyBlc2NhcGVkICsgJ1wiJ1xufVxuXG4vLyBjb252ZXJ0IGEgSlMgYXJyYXkgdG8gYSBwb3N0Z3JlcyBhcnJheSBsaXRlcmFsXG4vLyB1c2VzIGNvbW1hIHNlcGFyYXRvciBzbyB3b24ndCB3b3JrIGZvciB0eXBlcyBsaWtlIGJveCB0aGF0IHVzZVxuLy8gYSBkaWZmZXJlbnQgYXJyYXkgc2VwYXJhdG9yLlxuZnVuY3Rpb24gYXJyYXlTdHJpbmcodmFsKSB7XG4gIGxldCByZXN1bHQgPSAneydcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaSA+IDApIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCArICcsJ1xuICAgIH1cbiAgICBpZiAodmFsW2ldID09PSBudWxsIHx8IHR5cGVvZiB2YWxbaV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQgKyAnTlVMTCdcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsW2ldKSkge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgYXJyYXlTdHJpbmcodmFsW2ldKVxuICAgIH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHZhbFtpXSkpIHtcbiAgICAgIGxldCBpdGVtID0gdmFsW2ldXG4gICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgICBjb25zdCBidWYgPSBCdWZmZXIuZnJvbShpdGVtLmJ1ZmZlciwgaXRlbS5ieXRlT2Zmc2V0LCBpdGVtLmJ5dGVMZW5ndGgpXG4gICAgICAgIGlmIChidWYubGVuZ3RoID09PSBpdGVtLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICBpdGVtID0gYnVmXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbSA9IGJ1Zi5zbGljZShpdGVtLmJ5dGVPZmZzZXQsIGl0ZW0uYnl0ZU9mZnNldCArIGl0ZW0uYnl0ZUxlbmd0aClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0ICs9ICdcXFxcXFxcXHgnICsgaXRlbS50b1N0cmluZygnaGV4JylcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ICs9IGVzY2FwZUVsZW1lbnQocHJlcGFyZVZhbHVlKHZhbFtpXSkpXG4gICAgfVxuICB9XG4gIHJlc3VsdCA9IHJlc3VsdCArICd9J1xuICByZXR1cm4gcmVzdWx0XG59XG5cbi8vIGNvbnZlcnRzIHZhbHVlcyBmcm9tIGphdmFzY3JpcHQgdHlwZXNcbi8vIHRvIHRoZWlyICdyYXcnIGNvdW50ZXJwYXJ0cyBmb3IgdXNlIGFzIGEgcG9zdGdyZXMgcGFyYW1ldGVyXG4vLyBub3RlOiB5b3UgY2FuIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gdG8gcHJvdmlkZSB5b3VyIG93biBjb252ZXJzaW9uIG1lY2hhbmlzbVxuLy8gZm9yIGNvbXBsZXggdHlwZXMsIGV0Yy4uLlxuY29uc3QgcHJlcGFyZVZhbHVlID0gZnVuY3Rpb24gKHZhbCwgc2Vlbikge1xuICAvLyBudWxsIGFuZCB1bmRlZmluZWQgYXJlIGJvdGggbnVsbCBmb3IgcG9zdGdyZXNcbiAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAodmFsIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICByZXR1cm4gdmFsXG4gICAgfVxuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKSkge1xuICAgICAgY29uc3QgYnVmID0gQnVmZmVyLmZyb20odmFsLmJ1ZmZlciwgdmFsLmJ5dGVPZmZzZXQsIHZhbC5ieXRlTGVuZ3RoKVxuICAgICAgaWYgKGJ1Zi5sZW5ndGggPT09IHZhbC5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBidWZcbiAgICAgIH1cbiAgICAgIHJldHVybiBidWYuc2xpY2UodmFsLmJ5dGVPZmZzZXQsIHZhbC5ieXRlT2Zmc2V0ICsgdmFsLmJ5dGVMZW5ndGgpIC8vIE5vZGUuanMgdjQgZG9lcyBub3Qgc3VwcG9ydCB0aG9zZSBCdWZmZXIuZnJvbSBwYXJhbXNcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWwpKSB7XG4gICAgICBpZiAoZGVmYXVsdHMucGFyc2VJbnB1dERhdGVzQXNVVEMpIHtcbiAgICAgICAgcmV0dXJuIGRhdGVUb1N0cmluZ1VUQyh2YWwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGF0ZVRvU3RyaW5nKHZhbClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgcmV0dXJuIGFycmF5U3RyaW5nKHZhbClcbiAgICB9XG5cbiAgICByZXR1cm4gcHJlcGFyZU9iamVjdCh2YWwsIHNlZW4pXG4gIH1cbiAgcmV0dXJuIHZhbC50b1N0cmluZygpXG59XG5cbmZ1bmN0aW9uIHByZXBhcmVPYmplY3QodmFsLCBzZWVuKSB7XG4gIGlmICh2YWwgJiYgdHlwZW9mIHZhbC50b1Bvc3RncmVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgW11cbiAgICBpZiAoc2Vlbi5pbmRleE9mKHZhbCkgIT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCB3aGlsZSBwcmVwYXJpbmcgXCInICsgdmFsICsgJ1wiIGZvciBxdWVyeScpXG4gICAgfVxuICAgIHNlZW4ucHVzaCh2YWwpXG5cbiAgICByZXR1cm4gcHJlcGFyZVZhbHVlKHZhbC50b1Bvc3RncmVzKHByZXBhcmVWYWx1ZSksIHNlZW4pXG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbClcbn1cblxuZnVuY3Rpb24gZGF0ZVRvU3RyaW5nKGRhdGUpIHtcbiAgbGV0IG9mZnNldCA9IC1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KClcblxuICBsZXQgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKVxuICBjb25zdCBpc0JDWWVhciA9IHllYXIgPCAxXG4gIGlmIChpc0JDWWVhcikgeWVhciA9IE1hdGguYWJzKHllYXIpICsgMSAvLyBuZWdhdGl2ZSB5ZWFycyBhcmUgMSBvZmYgdGhlaXIgQkMgcmVwcmVzZW50YXRpb25cblxuICBsZXQgcmV0ID1cbiAgICBTdHJpbmcoeWVhcikucGFkU3RhcnQoNCwgJzAnKSArXG4gICAgJy0nICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJy0nICtcbiAgICBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICdUJyArXG4gICAgU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJzonICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICc6JyArXG4gICAgU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCAnMCcpICtcbiAgICAnLicgK1xuICAgIFN0cmluZyhkYXRlLmdldE1pbGxpc2Vjb25kcygpKS5wYWRTdGFydCgzLCAnMCcpXG5cbiAgaWYgKG9mZnNldCA8IDApIHtcbiAgICByZXQgKz0gJy0nXG4gICAgb2Zmc2V0ICo9IC0xXG4gIH0gZWxzZSB7XG4gICAgcmV0ICs9ICcrJ1xuICB9XG5cbiAgcmV0ICs9IFN0cmluZyhNYXRoLmZsb29yKG9mZnNldCAvIDYwKSkucGFkU3RhcnQoMiwgJzAnKSArICc6JyArIFN0cmluZyhvZmZzZXQgJSA2MCkucGFkU3RhcnQoMiwgJzAnKVxuICBpZiAoaXNCQ1llYXIpIHJldCArPSAnIEJDJ1xuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGRhdGVUb1N0cmluZ1VUQyhkYXRlKSB7XG4gIGxldCB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpXG4gIGNvbnN0IGlzQkNZZWFyID0geWVhciA8IDFcbiAgaWYgKGlzQkNZZWFyKSB5ZWFyID0gTWF0aC5hYnMoeWVhcikgKyAxIC8vIG5lZ2F0aXZlIHllYXJzIGFyZSAxIG9mZiB0aGVpciBCQyByZXByZXNlbnRhdGlvblxuXG4gIGxldCByZXQgPVxuICAgIFN0cmluZyh5ZWFyKS5wYWRTdGFydCg0LCAnMCcpICtcbiAgICAnLScgK1xuICAgIFN0cmluZyhkYXRlLmdldFVUQ01vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpICtcbiAgICAnLScgK1xuICAgIFN0cmluZyhkYXRlLmdldFVUQ0RhdGUoKSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJ1QnICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRVVENIb3VycygpKS5wYWRTdGFydCgyLCAnMCcpICtcbiAgICAnOicgK1xuICAgIFN0cmluZyhkYXRlLmdldFVUQ01pbnV0ZXMoKSkucGFkU3RhcnQoMiwgJzAnKSArXG4gICAgJzonICtcbiAgICBTdHJpbmcoZGF0ZS5nZXRVVENTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsICcwJykgK1xuICAgICcuJyArXG4gICAgU3RyaW5nKGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpLnBhZFN0YXJ0KDMsICcwJylcblxuICByZXQgKz0gJyswMDowMCdcbiAgaWYgKGlzQkNZZWFyKSByZXQgKz0gJyBCQydcbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVRdWVyeUNvbmZpZyhjb25maWcsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgLy8gY2FuIHRha2UgaW4gc3RyaW5ncyBvciBjb25maWcgb2JqZWN0c1xuICBjb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJyA/IHsgdGV4dDogY29uZmlnIH0gOiBjb25maWdcbiAgaWYgKHZhbHVlcykge1xuICAgIGlmICh0eXBlb2YgdmFsdWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25maWcuY2FsbGJhY2sgPSB2YWx1ZXNcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnLnZhbHVlcyA9IHZhbHVlc1xuICAgIH1cbiAgfVxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBjb25maWcuY2FsbGJhY2sgPSBjYWxsYmFja1xuICB9XG4gIHJldHVybiBjb25maWdcbn1cblxuLy8gUG9ydGVkIGZyb20gUG9zdGdyZVNRTCA5LjIuNCBzb3VyY2UgY29kZSBpbiBzcmMvaW50ZXJmYWNlcy9saWJwcS9mZS1leGVjLmNcbmNvbnN0IGVzY2FwZUlkZW50aWZpZXIgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiAnXCInICsgc3RyLnJlcGxhY2UoL1wiL2csICdcIlwiJykgKyAnXCInXG59XG5cbmNvbnN0IGVzY2FwZUxpdGVyYWwgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIGxldCBoYXNCYWNrc2xhc2ggPSBmYWxzZVxuICBsZXQgZXNjYXBlZCA9IFwiJ1wiXG5cbiAgaWYgKHN0ciA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFwiJydcIlxuICB9XG5cbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIFwiJydcIlxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjID0gc3RyW2ldXG4gICAgaWYgKGMgPT09IFwiJ1wiKSB7XG4gICAgICBlc2NhcGVkICs9IGMgKyBjXG4gICAgfSBlbHNlIGlmIChjID09PSAnXFxcXCcpIHtcbiAgICAgIGVzY2FwZWQgKz0gYyArIGNcbiAgICAgIGhhc0JhY2tzbGFzaCA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgZXNjYXBlZCArPSBjXG4gICAgfVxuICB9XG5cbiAgZXNjYXBlZCArPSBcIidcIlxuXG4gIGlmIChoYXNCYWNrc2xhc2ggPT09IHRydWUpIHtcbiAgICBlc2NhcGVkID0gJyBFJyArIGVzY2FwZWRcbiAgfVxuXG4gIHJldHVybiBlc2NhcGVkXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBwcmVwYXJlVmFsdWU6IGZ1bmN0aW9uIHByZXBhcmVWYWx1ZVdyYXBwZXIodmFsdWUpIHtcbiAgICAvLyB0aGlzIGVuc3VyZXMgdGhhdCBleHRyYSBhcmd1bWVudHMgZG8gbm90IGdldCBwYXNzZWQgaW50byBwcmVwYXJlVmFsdWVcbiAgICAvLyBieSBhY2NpZGVudCwgZWc6IGZyb20gY2FsbGluZyB2YWx1ZXMubWFwKHV0aWxzLnByZXBhcmVWYWx1ZSlcbiAgICByZXR1cm4gcHJlcGFyZVZhbHVlKHZhbHVlKVxuICB9LFxuICBub3JtYWxpemVRdWVyeUNvbmZpZyxcbiAgZXNjYXBlSWRlbnRpZmllcixcbiAgZXNjYXBlTGl0ZXJhbCxcbn1cbiIsICIndXNlIHN0cmljdCdcbi8vIFRoaXMgZmlsZSBjb250YWlucyBjcnlwdG8gdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHZlcnNpb25zIG9mIE5vZGUuanMgPCAxNS4wLjAsXG4vLyB3aGljaCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBXZWJDcnlwdG8uc3VidGxlIEFQSS5cblxuY29uc3Qgbm9kZUNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpXG5cbmZ1bmN0aW9uIG1kNShzdHJpbmcpIHtcbiAgcmV0dXJuIG5vZGVDcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKHN0cmluZywgJ3V0Zi04JykuZGlnZXN0KCdoZXgnKVxufVxuXG4vLyBTZWUgQXV0aGVudGljYXRpb25NRDVQYXNzd29yZCBhdCBodHRwczovL3d3dy5wb3N0Z3Jlc3FsLm9yZy9kb2NzL2N1cnJlbnQvc3RhdGljL3Byb3RvY29sLWZsb3cuaHRtbFxuZnVuY3Rpb24gcG9zdGdyZXNNZDVQYXNzd29yZEhhc2godXNlciwgcGFzc3dvcmQsIHNhbHQpIHtcbiAgY29uc3QgaW5uZXIgPSBtZDUocGFzc3dvcmQgKyB1c2VyKVxuICBjb25zdCBvdXRlciA9IG1kNShCdWZmZXIuY29uY2F0KFtCdWZmZXIuZnJvbShpbm5lciksIHNhbHRdKSlcbiAgcmV0dXJuICdtZDUnICsgb3V0ZXJcbn1cblxuZnVuY3Rpb24gc2hhMjU2KHRleHQpIHtcbiAgcmV0dXJuIG5vZGVDcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKHRleHQpLmRpZ2VzdCgpXG59XG5cbmZ1bmN0aW9uIGhhc2hCeU5hbWUoaGFzaE5hbWUsIHRleHQpIHtcbiAgaGFzaE5hbWUgPSBoYXNoTmFtZS5yZXBsYWNlKC8oXFxEKS0vLCAnJDEnKSAvLyBlLmcuIFNIQS0yNTYgLT4gU0hBMjU2XG4gIHJldHVybiBub2RlQ3J5cHRvLmNyZWF0ZUhhc2goaGFzaE5hbWUpLnVwZGF0ZSh0ZXh0KS5kaWdlc3QoKVxufVxuXG5mdW5jdGlvbiBobWFjU2hhMjU2KGtleSwgbXNnKSB7XG4gIHJldHVybiBub2RlQ3J5cHRvLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIGtleSkudXBkYXRlKG1zZykuZGlnZXN0KClcbn1cblxuYXN5bmMgZnVuY3Rpb24gZGVyaXZlS2V5KHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zKSB7XG4gIHJldHVybiBub2RlQ3J5cHRvLnBia2RmMlN5bmMocGFzc3dvcmQsIHNhbHQsIGl0ZXJhdGlvbnMsIDMyLCAnc2hhMjU2Jylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHBvc3RncmVzTWQ1UGFzc3dvcmRIYXNoLFxuICByYW5kb21CeXRlczogbm9kZUNyeXB0by5yYW5kb21CeXRlcyxcbiAgZGVyaXZlS2V5LFxuICBzaGEyNTYsXG4gIGhhc2hCeU5hbWUsXG4gIGhtYWNTaGEyNTYsXG4gIG1kNSxcbn1cbiIsICJjb25zdCBub2RlQ3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHBvc3RncmVzTWQ1UGFzc3dvcmRIYXNoLFxuICByYW5kb21CeXRlcyxcbiAgZGVyaXZlS2V5LFxuICBzaGEyNTYsXG4gIGhhc2hCeU5hbWUsXG4gIGhtYWNTaGEyNTYsXG4gIG1kNSxcbn1cblxuLyoqXG4gKiBUaGUgV2ViIENyeXB0byBBUEkgLSBncmFiYmVkIGZyb20gdGhlIE5vZGUuanMgbGlicmFyeSBvciB0aGUgZ2xvYmFsXG4gKiBAdHlwZSBDcnlwdG9cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5jb25zdCB3ZWJDcnlwdG8gPSBub2RlQ3J5cHRvLndlYmNyeXB0byB8fCBnbG9iYWxUaGlzLmNyeXB0b1xuLyoqXG4gKiBUaGUgU3VidGxlQ3J5cHRvIEFQSSBmb3IgbG93IGxldmVsIGNyeXB0byBvcGVyYXRpb25zLlxuICogQHR5cGUgU3VidGxlQ3J5cHRvXG4gKi9cbmNvbnN0IHN1YnRsZUNyeXB0byA9IHdlYkNyeXB0by5zdWJ0bGVcbmNvbnN0IHRleHRFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKClcblxuLyoqXG4gKlxuICogQHBhcmFtIHsqfSBsZW5ndGhcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIHJhbmRvbUJ5dGVzKGxlbmd0aCkge1xuICByZXR1cm4gd2ViQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhCdWZmZXIuYWxsb2MobGVuZ3RoKSlcbn1cblxuYXN5bmMgZnVuY3Rpb24gbWQ1KHN0cmluZykge1xuICB0cnkge1xuICAgIHJldHVybiBub2RlQ3J5cHRvLmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShzdHJpbmcsICd1dGYtOCcpLmRpZ2VzdCgnaGV4JylcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIGBjcmVhdGVIYXNoKClgIGZhaWxlZCBzbyB3ZSBhcmUgcHJvYmFibHkgbm90IGluIE5vZGUuanMsIHVzZSB0aGUgV2ViQ3J5cHRvIEFQSSBpbnN0ZWFkLlxuICAgIC8vIE5vdGUgdGhhdCB0aGUgTUQ1IGFsZ29yaXRobSBvbiBXZWJDcnlwdG8gaXMgbm90IGF2YWlsYWJsZSBpbiBOb2RlLmpzLlxuICAgIC8vIFRoaXMgaXMgd2h5IHdlIGNhbm5vdCBqdXN0IHVzZSBXZWJDcnlwdG8gaW4gYWxsIGVudmlyb25tZW50cy5cbiAgICBjb25zdCBkYXRhID0gdHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycgPyB0ZXh0RW5jb2Rlci5lbmNvZGUoc3RyaW5nKSA6IHN0cmluZ1xuICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBzdWJ0bGVDcnlwdG8uZGlnZXN0KCdNRDUnLCBkYXRhKVxuICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2gpKVxuICAgICAgLm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSlcbiAgICAgIC5qb2luKCcnKVxuICB9XG59XG5cbi8vIFNlZSBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkIGF0IGh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL2RvY3MvY3VycmVudC9zdGF0aWMvcHJvdG9jb2wtZmxvdy5odG1sXG5hc3luYyBmdW5jdGlvbiBwb3N0Z3Jlc01kNVBhc3N3b3JkSGFzaCh1c2VyLCBwYXNzd29yZCwgc2FsdCkge1xuICBjb25zdCBpbm5lciA9IGF3YWl0IG1kNShwYXNzd29yZCArIHVzZXIpXG4gIGNvbnN0IG91dGVyID0gYXdhaXQgbWQ1KEJ1ZmZlci5jb25jYXQoW0J1ZmZlci5mcm9tKGlubmVyKSwgc2FsdF0pKVxuICByZXR1cm4gJ21kNScgKyBvdXRlclxufVxuXG4vKipcbiAqIENyZWF0ZSBhIFNIQS0yNTYgZGlnZXN0IG9mIHRoZSBnaXZlbiBkYXRhXG4gKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YVxuICovXG5hc3luYyBmdW5jdGlvbiBzaGEyNTYodGV4dCkge1xuICByZXR1cm4gYXdhaXQgc3VidGxlQ3J5cHRvLmRpZ2VzdCgnU0hBLTI1NicsIHRleHQpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGhhc2hCeU5hbWUoaGFzaE5hbWUsIHRleHQpIHtcbiAgcmV0dXJuIGF3YWl0IHN1YnRsZUNyeXB0by5kaWdlc3QoaGFzaE5hbWUsIHRleHQpXG59XG5cbi8qKlxuICogU2lnbiB0aGUgbWVzc2FnZSB3aXRoIHRoZSBnaXZlbiBrZXlcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGtleUJ1ZmZlclxuICogQHBhcmFtIHtzdHJpbmd9IG1zZ1xuICovXG5hc3luYyBmdW5jdGlvbiBobWFjU2hhMjU2KGtleUJ1ZmZlciwgbXNnKSB7XG4gIGNvbnN0IGtleSA9IGF3YWl0IHN1YnRsZUNyeXB0by5pbXBvcnRLZXkoJ3JhdycsIGtleUJ1ZmZlciwgeyBuYW1lOiAnSE1BQycsIGhhc2g6ICdTSEEtMjU2JyB9LCBmYWxzZSwgWydzaWduJ10pXG4gIHJldHVybiBhd2FpdCBzdWJ0bGVDcnlwdG8uc2lnbignSE1BQycsIGtleSwgdGV4dEVuY29kZXIuZW5jb2RlKG1zZykpXG59XG5cbi8qKlxuICogRGVyaXZlIGEga2V5IGZyb20gdGhlIHBhc3N3b3JkIGFuZCBzYWx0XG4gKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmRcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gc2FsdFxuICogQHBhcmFtIHtudW1iZXJ9IGl0ZXJhdGlvbnNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVyaXZlS2V5KHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zKSB7XG4gIGNvbnN0IGtleSA9IGF3YWl0IHN1YnRsZUNyeXB0by5pbXBvcnRLZXkoJ3JhdycsIHRleHRFbmNvZGVyLmVuY29kZShwYXNzd29yZCksICdQQktERjInLCBmYWxzZSwgWydkZXJpdmVCaXRzJ10pXG4gIGNvbnN0IHBhcmFtcyA9IHsgbmFtZTogJ1BCS0RGMicsIGhhc2g6ICdTSEEtMjU2Jywgc2FsdDogc2FsdCwgaXRlcmF0aW9uczogaXRlcmF0aW9ucyB9XG4gIHJldHVybiBhd2FpdCBzdWJ0bGVDcnlwdG8uZGVyaXZlQml0cyhwYXJhbXMsIGtleSwgMzIgKiA4LCBbJ2Rlcml2ZUJpdHMnXSlcbn1cbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgdXNlTGVnYWN5Q3J5cHRvID0gcGFyc2VJbnQocHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLnNwbGl0KCcuJylbMF0pIDwgMTVcbmlmICh1c2VMZWdhY3lDcnlwdG8pIHtcbiAgLy8gV2UgYXJlIG9uIGFuIG9sZCB2ZXJzaW9uIG9mIE5vZGUuanMgdGhhdCByZXF1aXJlcyBsZWdhY3kgY3J5cHRvIHV0aWxpdGllcy5cbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3V0aWxzLWxlZ2FjeScpXG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vdXRpbHMtd2ViY3J5cHRvJylcbn1cbiIsICJmdW5jdGlvbiB4NTA5RXJyb3IobXNnLCBjZXJ0KSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ1NBU0wgY2hhbm5lbCBiaW5kaW5nOiAnICsgbXNnICsgJyB3aGVuIHBhcnNpbmcgcHVibGljIGNlcnRpZmljYXRlICcgKyBjZXJ0LnRvU3RyaW5nKCdiYXNlNjQnKSlcbn1cblxuZnVuY3Rpb24gcmVhZEFTTjFMZW5ndGgoZGF0YSwgaW5kZXgpIHtcbiAgbGV0IGxlbmd0aCA9IGRhdGFbaW5kZXgrK11cbiAgaWYgKGxlbmd0aCA8IDB4ODApIHJldHVybiB7IGxlbmd0aCwgaW5kZXggfVxuXG4gIGNvbnN0IGxlbmd0aEJ5dGVzID0gbGVuZ3RoICYgMHg3ZlxuICBpZiAobGVuZ3RoQnl0ZXMgPiA0KSB0aHJvdyB4NTA5RXJyb3IoJ2JhZCBsZW5ndGgnLCBkYXRhKVxuXG4gIGxlbmd0aCA9IDBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGhCeXRlczsgaSsrKSB7XG4gICAgbGVuZ3RoID0gKGxlbmd0aCA8PCA4KSB8IGRhdGFbaW5kZXgrK11cbiAgfVxuXG4gIHJldHVybiB7IGxlbmd0aCwgaW5kZXggfVxufVxuXG5mdW5jdGlvbiByZWFkQVNOMU9JRChkYXRhLCBpbmRleCkge1xuICBpZiAoZGF0YVtpbmRleCsrXSAhPT0gMHg2KSB0aHJvdyB4NTA5RXJyb3IoJ25vbi1PSUQgZGF0YScsIGRhdGEpIC8vIDYgPSBPSURcblxuICBjb25zdCB7IGxlbmd0aDogT0lETGVuZ3RoLCBpbmRleDogaW5kZXhBZnRlck9JRExlbmd0aCB9ID0gcmVhZEFTTjFMZW5ndGgoZGF0YSwgaW5kZXgpXG4gIGluZGV4ID0gaW5kZXhBZnRlck9JRExlbmd0aFxuICBjb25zdCBsYXN0SW5kZXggPSBpbmRleCArIE9JRExlbmd0aFxuXG4gIGNvbnN0IGJ5dGUxID0gZGF0YVtpbmRleCsrXVxuICBsZXQgb2lkID0gKChieXRlMSAvIDQwKSA+PiAwKSArICcuJyArIChieXRlMSAlIDQwKVxuXG4gIHdoaWxlIChpbmRleCA8IGxhc3RJbmRleCkge1xuICAgIC8vIGxvb3Agb3ZlciBudW1iZXJzIGluIE9JRFxuICAgIGxldCB2YWx1ZSA9IDBcbiAgICB3aGlsZSAoaW5kZXggPCBsYXN0SW5kZXgpIHtcbiAgICAgIC8vIGxvb3Agb3ZlciBieXRlcyBpbiBudW1iZXJcbiAgICAgIGNvbnN0IG5leHRCeXRlID0gZGF0YVtpbmRleCsrXVxuICAgICAgdmFsdWUgPSAodmFsdWUgPDwgNykgfCAobmV4dEJ5dGUgJiAweDdmKVxuICAgICAgaWYgKG5leHRCeXRlIDwgMHg4MCkgYnJlYWtcbiAgICB9XG4gICAgb2lkICs9ICcuJyArIHZhbHVlXG4gIH1cblxuICByZXR1cm4geyBvaWQsIGluZGV4IH1cbn1cblxuZnVuY3Rpb24gZXhwZWN0QVNOMVNlcShkYXRhLCBpbmRleCkge1xuICBpZiAoZGF0YVtpbmRleCsrXSAhPT0gMHgzMCkgdGhyb3cgeDUwOUVycm9yKCdub24tc2VxdWVuY2UgZGF0YScsIGRhdGEpIC8vIDMwID0gU2VxdWVuY2VcbiAgcmV0dXJuIHJlYWRBU04xTGVuZ3RoKGRhdGEsIGluZGV4KVxufVxuXG5mdW5jdGlvbiBzaWduYXR1cmVBbGdvcml0aG1IYXNoRnJvbUNlcnRpZmljYXRlKGRhdGEsIGluZGV4KSB7XG4gIC8vIHJlYWQgdGhpcyB0aHJlYWQ6IGh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL21lc3NhZ2UtaWQvMTc3NjAtYjZjNjFlNzUyZWMwNzA2MCU0MHBvc3RncmVzcWwub3JnXG4gIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSBpbmRleCA9IDBcbiAgaW5kZXggPSBleHBlY3RBU04xU2VxKGRhdGEsIGluZGV4KS5pbmRleFxuICBjb25zdCB7IGxlbmd0aDogY2VydEluZm9MZW5ndGgsIGluZGV4OiBpbmRleEFmdGVyQ2VydEluZm9MZW5ndGggfSA9IGV4cGVjdEFTTjFTZXEoZGF0YSwgaW5kZXgpXG4gIGluZGV4ID0gaW5kZXhBZnRlckNlcnRJbmZvTGVuZ3RoICsgY2VydEluZm9MZW5ndGggLy8gc2tpcCBvdmVyIGNlcnRpZmljYXRlIGluZm9cbiAgaW5kZXggPSBleHBlY3RBU04xU2VxKGRhdGEsIGluZGV4KS5pbmRleCAvLyBza2lwIG92ZXIgc2lnbmF0dXJlIGxlbmd0aCBmaWVsZFxuICBjb25zdCB7IG9pZCwgaW5kZXg6IGluZGV4QWZ0ZXJPSUQgfSA9IHJlYWRBU04xT0lEKGRhdGEsIGluZGV4KVxuICBzd2l0Y2ggKG9pZCkge1xuICAgIC8vIFJTQVxuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS40JzpcbiAgICAgIHJldHVybiAnTUQ1J1xuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS41JzpcbiAgICAgIHJldHVybiAnU0hBLTEnXG4gICAgY2FzZSAnMS4yLjg0MC4xMTM1NDkuMS4xLjExJzpcbiAgICAgIHJldHVybiAnU0hBLTI1NidcbiAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMTInOlxuICAgICAgcmV0dXJuICdTSEEtMzg0J1xuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS4xMyc6XG4gICAgICByZXR1cm4gJ1NIQS01MTInXG4gICAgY2FzZSAnMS4yLjg0MC4xMTM1NDkuMS4xLjE0JzpcbiAgICAgIHJldHVybiAnU0hBLTIyNCdcbiAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMTUnOlxuICAgICAgcmV0dXJuICdTSEE1MTItMjI0J1xuICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS4xNic6XG4gICAgICByZXR1cm4gJ1NIQTUxMi0yNTYnXG4gICAgLy8gRUNEU0FcbiAgICBjYXNlICcxLjIuODQwLjEwMDQ1LjQuMSc6XG4gICAgICByZXR1cm4gJ1NIQS0xJ1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjEnOlxuICAgICAgcmV0dXJuICdTSEEtMjI0J1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjInOlxuICAgICAgcmV0dXJuICdTSEEtMjU2J1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjMnOlxuICAgICAgcmV0dXJuICdTSEEtMzg0J1xuICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuNC4zLjQnOlxuICAgICAgcmV0dXJuICdTSEEtNTEyJ1xuICAgIC8vIFJTQVNTQS1QU1M6IGhhc2ggaXMgaW5kaWNhdGVkIHNlcGFyYXRlbHlcbiAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMTAnOiB7XG4gICAgICBpbmRleCA9IGluZGV4QWZ0ZXJPSURcbiAgICAgIGluZGV4ID0gZXhwZWN0QVNOMVNlcShkYXRhLCBpbmRleCkuaW5kZXhcbiAgICAgIGlmIChkYXRhW2luZGV4KytdICE9PSAweGEwKSB0aHJvdyB4NTA5RXJyb3IoJ25vbi10YWcgZGF0YScsIGRhdGEpIC8vIGEwID0gY29uc3RydWN0ZWQgdGFnIDBcbiAgICAgIGluZGV4ID0gcmVhZEFTTjFMZW5ndGgoZGF0YSwgaW5kZXgpLmluZGV4IC8vIHNraXAgb3ZlciB0YWcgbGVuZ3RoIGZpZWxkXG4gICAgICBpbmRleCA9IGV4cGVjdEFTTjFTZXEoZGF0YSwgaW5kZXgpLmluZGV4IC8vIHNraXAgb3ZlciBzZXF1ZW5jZSBsZW5ndGggZmllbGRcbiAgICAgIGNvbnN0IHsgb2lkOiBoYXNoT0lEIH0gPSByZWFkQVNOMU9JRChkYXRhLCBpbmRleClcbiAgICAgIHN3aXRjaCAoaGFzaE9JRCkge1xuICAgICAgICAvLyBzdGFuZGFsb25lIGhhc2ggT0lEc1xuICAgICAgICBjYXNlICcxLjIuODQwLjExMzU0OS4yLjUnOlxuICAgICAgICAgIHJldHVybiAnTUQ1J1xuICAgICAgICBjYXNlICcxLjMuMTQuMy4yLjI2JzpcbiAgICAgICAgICByZXR1cm4gJ1NIQS0xJ1xuICAgICAgICBjYXNlICcyLjE2Ljg0MC4xLjEwMS4zLjQuMi4xJzpcbiAgICAgICAgICByZXR1cm4gJ1NIQS0yNTYnXG4gICAgICAgIGNhc2UgJzIuMTYuODQwLjEuMTAxLjMuNC4yLjInOlxuICAgICAgICAgIHJldHVybiAnU0hBLTM4NCdcbiAgICAgICAgY2FzZSAnMi4xNi44NDAuMS4xMDEuMy40LjIuMyc6XG4gICAgICAgICAgcmV0dXJuICdTSEEtNTEyJ1xuICAgICAgfVxuICAgICAgdGhyb3cgeDUwOUVycm9yKCd1bmtub3duIGhhc2ggT0lEICcgKyBoYXNoT0lELCBkYXRhKVxuICAgIH1cbiAgICAvLyBFZDI1NTE5IC0tIHNlZSBodHRwczogcmV0dXJuLy9naXRodWIuY29tL29wZW5zc2wvb3BlbnNzbC9pc3N1ZXMvMTU0NzdcbiAgICBjYXNlICcxLjMuMTAxLjExMCc6XG4gICAgY2FzZSAnMS4zLjEwMS4xMTInOiAvLyBwaFxuICAgICAgcmV0dXJuICdTSEEtNTEyJ1xuICAgIC8vIEVkNDQ4IC0tIHN0aWxsIG5vdCBpbiBwZyAxNy4yIChpZiBzdXBwb3J0ZWQsIGRpZ2VzdCB3b3VsZCBiZSBTSEFLRTI1NiB4IDY0IGJ5dGVzKVxuICAgIGNhc2UgJzEuMy4xMDEuMTExJzpcbiAgICBjYXNlICcxLjMuMTAxLjExMyc6IC8vIHBoXG4gICAgICB0aHJvdyB4NTA5RXJyb3IoJ0VkNDQ4IGNlcnRpZmljYXRlIGNoYW5uZWwgYmluZGluZyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBQb3N0Z3JlcycpXG4gIH1cbiAgdGhyb3cgeDUwOUVycm9yKCd1bmtub3duIE9JRCAnICsgb2lkLCBkYXRhKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgc2lnbmF0dXJlQWxnb3JpdGhtSGFzaEZyb21DZXJ0aWZpY2F0ZSB9XG4iLCAiJ3VzZSBzdHJpY3QnXG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKCcuL3V0aWxzJylcbmNvbnN0IHsgc2lnbmF0dXJlQWxnb3JpdGhtSGFzaEZyb21DZXJ0aWZpY2F0ZSB9ID0gcmVxdWlyZSgnLi9jZXJ0LXNpZ25hdHVyZXMnKVxuXG5mdW5jdGlvbiBzdGFydFNlc3Npb24obWVjaGFuaXNtcywgc3RyZWFtKSB7XG4gIGNvbnN0IGNhbmRpZGF0ZXMgPSBbJ1NDUkFNLVNIQS0yNTYnXVxuICBpZiAoc3RyZWFtKSBjYW5kaWRhdGVzLnVuc2hpZnQoJ1NDUkFNLVNIQS0yNTYtUExVUycpIC8vIGhpZ2hlci1wcmlvcml0eSwgc28gcGxhY2VkIGZpcnN0XG5cbiAgY29uc3QgbWVjaGFuaXNtID0gY2FuZGlkYXRlcy5maW5kKChjYW5kaWRhdGUpID0+IG1lY2hhbmlzbXMuaW5jbHVkZXMoY2FuZGlkYXRlKSlcblxuICBpZiAoIW1lY2hhbmlzbSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogT25seSBtZWNoYW5pc20ocykgJyArIGNhbmRpZGF0ZXMuam9pbignIGFuZCAnKSArICcgYXJlIHN1cHBvcnRlZCcpXG4gIH1cblxuICBpZiAobWVjaGFuaXNtID09PSAnU0NSQU0tU0hBLTI1Ni1QTFVTJyAmJiB0eXBlb2Ygc3RyZWFtLmdldFBlZXJDZXJ0aWZpY2F0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIHRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbiBpZiB3ZSBhcmUgcmVhbGx5IHRhbGtpbmcgdG8gYSBQb3N0Z3JlcyBzZXJ2ZXJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IE1lY2hhbmlzbSBTQ1JBTS1TSEEtMjU2LVBMVVMgcmVxdWlyZXMgYSBjZXJ0aWZpY2F0ZScpXG4gIH1cblxuICBjb25zdCBjbGllbnROb25jZSA9IGNyeXB0by5yYW5kb21CeXRlcygxOCkudG9TdHJpbmcoJ2Jhc2U2NCcpXG4gIGNvbnN0IGdzMkhlYWRlciA9IG1lY2hhbmlzbSA9PT0gJ1NDUkFNLVNIQS0yNTYtUExVUycgPyAncD10bHMtc2VydmVyLWVuZC1wb2ludCcgOiBzdHJlYW0gPyAneScgOiAnbidcblxuICByZXR1cm4ge1xuICAgIG1lY2hhbmlzbSxcbiAgICBjbGllbnROb25jZSxcbiAgICByZXNwb25zZTogZ3MySGVhZGVyICsgJywsbj0qLHI9JyArIGNsaWVudE5vbmNlLFxuICAgIG1lc3NhZ2U6ICdTQVNMSW5pdGlhbFJlc3BvbnNlJyxcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjb250aW51ZVNlc3Npb24oc2Vzc2lvbiwgcGFzc3dvcmQsIHNlcnZlckRhdGEsIHN0cmVhbSkge1xuICBpZiAoc2Vzc2lvbi5tZXNzYWdlICE9PSAnU0FTTEluaXRpYWxSZXNwb25zZScpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IExhc3QgbWVzc2FnZSB3YXMgbm90IFNBU0xJbml0aWFsUmVzcG9uc2UnKVxuICB9XG4gIGlmICh0eXBlb2YgcGFzc3dvcmQgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogY2xpZW50IHBhc3N3b3JkIG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG4gIGlmIChwYXNzd29yZCA9PT0gJycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBjbGllbnQgcGFzc3dvcmQgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKVxuICB9XG4gIGlmICh0eXBlb2Ygc2VydmVyRGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBzZXJ2ZXJEYXRhIG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG5cbiAgY29uc3Qgc3YgPSBwYXJzZVNlcnZlckZpcnN0TWVzc2FnZShzZXJ2ZXJEYXRhKVxuXG4gIGlmICghc3Yubm9uY2Uuc3RhcnRzV2l0aChzZXNzaW9uLmNsaWVudE5vbmNlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IHNlcnZlciBub25jZSBkb2VzIG5vdCBzdGFydCB3aXRoIGNsaWVudCBub25jZScpXG4gIH0gZWxzZSBpZiAoc3Yubm9uY2UubGVuZ3RoID09PSBzZXNzaW9uLmNsaWVudE5vbmNlLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IHNlcnZlciBub25jZSBpcyB0b28gc2hvcnQnKVxuICB9XG5cbiAgY29uc3QgY2xpZW50Rmlyc3RNZXNzYWdlQmFyZSA9ICduPSoscj0nICsgc2Vzc2lvbi5jbGllbnROb25jZVxuICBjb25zdCBzZXJ2ZXJGaXJzdE1lc3NhZ2UgPSAncj0nICsgc3Yubm9uY2UgKyAnLHM9JyArIHN2LnNhbHQgKyAnLGk9JyArIHN2Lml0ZXJhdGlvblxuXG4gIC8vIHdpdGhvdXQgY2hhbm5lbCBiaW5kaW5nOlxuICBsZXQgY2hhbm5lbEJpbmRpbmcgPSBzdHJlYW0gPyAnZVN3cycgOiAnYml3cycgLy8gJ3ksLCcgb3IgJ24sLCcsIGJhc2U2NC1lbmNvZGVkXG5cbiAgLy8gb3ZlcnJpZGUgaWYgY2hhbm5lbCBiaW5kaW5nIGlzIGluIHVzZTpcbiAgaWYgKHNlc3Npb24ubWVjaGFuaXNtID09PSAnU0NSQU0tU0hBLTI1Ni1QTFVTJykge1xuICAgIGNvbnN0IHBlZXJDZXJ0ID0gc3RyZWFtLmdldFBlZXJDZXJ0aWZpY2F0ZSgpLnJhd1xuICAgIGxldCBoYXNoTmFtZSA9IHNpZ25hdHVyZUFsZ29yaXRobUhhc2hGcm9tQ2VydGlmaWNhdGUocGVlckNlcnQpXG4gICAgaWYgKGhhc2hOYW1lID09PSAnTUQ1JyB8fCBoYXNoTmFtZSA9PT0gJ1NIQS0xJykgaGFzaE5hbWUgPSAnU0hBLTI1NidcbiAgICBjb25zdCBjZXJ0SGFzaCA9IGF3YWl0IGNyeXB0by5oYXNoQnlOYW1lKGhhc2hOYW1lLCBwZWVyQ2VydClcbiAgICBjb25zdCBiaW5kaW5nRGF0YSA9IEJ1ZmZlci5jb25jYXQoW0J1ZmZlci5mcm9tKCdwPXRscy1zZXJ2ZXItZW5kLXBvaW50LCwnKSwgQnVmZmVyLmZyb20oY2VydEhhc2gpXSlcbiAgICBjaGFubmVsQmluZGluZyA9IGJpbmRpbmdEYXRhLnRvU3RyaW5nKCdiYXNlNjQnKVxuICB9XG5cbiAgY29uc3QgY2xpZW50RmluYWxNZXNzYWdlV2l0aG91dFByb29mID0gJ2M9JyArIGNoYW5uZWxCaW5kaW5nICsgJyxyPScgKyBzdi5ub25jZVxuICBjb25zdCBhdXRoTWVzc2FnZSA9IGNsaWVudEZpcnN0TWVzc2FnZUJhcmUgKyAnLCcgKyBzZXJ2ZXJGaXJzdE1lc3NhZ2UgKyAnLCcgKyBjbGllbnRGaW5hbE1lc3NhZ2VXaXRob3V0UHJvb2ZcblxuICBjb25zdCBzYWx0Qnl0ZXMgPSBCdWZmZXIuZnJvbShzdi5zYWx0LCAnYmFzZTY0JylcbiAgY29uc3Qgc2FsdGVkUGFzc3dvcmQgPSBhd2FpdCBjcnlwdG8uZGVyaXZlS2V5KHBhc3N3b3JkLCBzYWx0Qnl0ZXMsIHN2Lml0ZXJhdGlvbilcbiAgY29uc3QgY2xpZW50S2V5ID0gYXdhaXQgY3J5cHRvLmhtYWNTaGEyNTYoc2FsdGVkUGFzc3dvcmQsICdDbGllbnQgS2V5JylcbiAgY29uc3Qgc3RvcmVkS2V5ID0gYXdhaXQgY3J5cHRvLnNoYTI1NihjbGllbnRLZXkpXG4gIGNvbnN0IGNsaWVudFNpZ25hdHVyZSA9IGF3YWl0IGNyeXB0by5obWFjU2hhMjU2KHN0b3JlZEtleSwgYXV0aE1lc3NhZ2UpXG4gIGNvbnN0IGNsaWVudFByb29mID0geG9yQnVmZmVycyhCdWZmZXIuZnJvbShjbGllbnRLZXkpLCBCdWZmZXIuZnJvbShjbGllbnRTaWduYXR1cmUpKS50b1N0cmluZygnYmFzZTY0JylcbiAgY29uc3Qgc2VydmVyS2V5ID0gYXdhaXQgY3J5cHRvLmhtYWNTaGEyNTYoc2FsdGVkUGFzc3dvcmQsICdTZXJ2ZXIgS2V5JylcbiAgY29uc3Qgc2VydmVyU2lnbmF0dXJlQnl0ZXMgPSBhd2FpdCBjcnlwdG8uaG1hY1NoYTI1NihzZXJ2ZXJLZXksIGF1dGhNZXNzYWdlKVxuXG4gIHNlc3Npb24ubWVzc2FnZSA9ICdTQVNMUmVzcG9uc2UnXG4gIHNlc3Npb24uc2VydmVyU2lnbmF0dXJlID0gQnVmZmVyLmZyb20oc2VydmVyU2lnbmF0dXJlQnl0ZXMpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICBzZXNzaW9uLnJlc3BvbnNlID0gY2xpZW50RmluYWxNZXNzYWdlV2l0aG91dFByb29mICsgJyxwPScgKyBjbGllbnRQcm9vZlxufVxuXG5mdW5jdGlvbiBmaW5hbGl6ZVNlc3Npb24oc2Vzc2lvbiwgc2VydmVyRGF0YSkge1xuICBpZiAoc2Vzc2lvbi5tZXNzYWdlICE9PSAnU0FTTFJlc3BvbnNlJykge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogTGFzdCBtZXNzYWdlIHdhcyBub3QgU0FTTFJlc3BvbnNlJylcbiAgfVxuICBpZiAodHlwZW9mIHNlcnZlckRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklOQUwtTUVTU0FHRTogc2VydmVyRGF0YSBtdXN0IGJlIGEgc3RyaW5nJylcbiAgfVxuXG4gIGNvbnN0IHsgc2VydmVyU2lnbmF0dXJlIH0gPSBwYXJzZVNlcnZlckZpbmFsTWVzc2FnZShzZXJ2ZXJEYXRhKVxuXG4gIGlmIChzZXJ2ZXJTaWduYXR1cmUgIT09IHNlc3Npb24uc2VydmVyU2lnbmF0dXJlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklOQUwtTUVTU0FHRTogc2VydmVyIHNpZ25hdHVyZSBkb2VzIG5vdCBtYXRjaCcpXG4gIH1cbn1cblxuLyoqXG4gKiBwcmludGFibGUgICAgICAgPSAleDIxLTJCIC8gJXgyRC03RVxuICogICAgICAgICAgICAgICAgICAgOzsgUHJpbnRhYmxlIEFTQ0lJIGV4Y2VwdCBcIixcIi5cbiAqICAgICAgICAgICAgICAgICAgIDs7IE5vdGUgdGhhdCBhbnkgXCJwcmludGFibGVcIiBpcyBhbHNvXG4gKiAgICAgICAgICAgICAgICAgICA7OyBhIHZhbGlkIFwidmFsdWVcIi5cbiAqL1xuZnVuY3Rpb24gaXNQcmludGFibGVDaGFycyh0ZXh0KSB7XG4gIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTQVNMOiB0ZXh0IG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG4gIHJldHVybiB0ZXh0XG4gICAgLnNwbGl0KCcnKVxuICAgIC5tYXAoKF8sIGkpID0+IHRleHQuY2hhckNvZGVBdChpKSlcbiAgICAuZXZlcnkoKGMpID0+IChjID49IDB4MjEgJiYgYyA8PSAweDJiKSB8fCAoYyA+PSAweDJkICYmIGMgPD0gMHg3ZSkpXG59XG5cbi8qKlxuICogYmFzZTY0LWNoYXIgICAgID0gQUxQSEEgLyBESUdJVCAvIFwiL1wiIC8gXCIrXCJcbiAqXG4gKiBiYXNlNjQtNCAgICAgICAgPSA0YmFzZTY0LWNoYXJcbiAqXG4gKiBiYXNlNjQtMyAgICAgICAgPSAzYmFzZTY0LWNoYXIgXCI9XCJcbiAqXG4gKiBiYXNlNjQtMiAgICAgICAgPSAyYmFzZTY0LWNoYXIgXCI9PVwiXG4gKlxuICogYmFzZTY0ICAgICAgICAgID0gKmJhc2U2NC00IFtiYXNlNjQtMyAvIGJhc2U2NC0yXVxuICovXG5mdW5jdGlvbiBpc0Jhc2U2NCh0ZXh0KSB7XG4gIHJldHVybiAvXig/OlthLXpBLVowLTkrL117NH0pKig/OlthLXpBLVowLTkrL117Mn09PXxbYS16QS1aMC05Ky9dezN9PSk/JC8udGVzdCh0ZXh0KVxufVxuXG5mdW5jdGlvbiBwYXJzZUF0dHJpYnV0ZVBhaXJzKHRleHQpIHtcbiAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NBU0w6IGF0dHJpYnV0ZSBwYWlycyB0ZXh0IG11c3QgYmUgYSBzdHJpbmcnKVxuICB9XG5cbiAgcmV0dXJuIG5ldyBNYXAoXG4gICAgdGV4dC5zcGxpdCgnLCcpLm1hcCgoYXR0clZhbHVlKSA9PiB7XG4gICAgICBpZiAoIS9eLj0vLnRlc3QoYXR0clZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IEludmFsaWQgYXR0cmlidXRlIHBhaXIgZW50cnknKVxuICAgICAgfVxuICAgICAgY29uc3QgbmFtZSA9IGF0dHJWYWx1ZVswXVxuICAgICAgY29uc3QgdmFsdWUgPSBhdHRyVmFsdWUuc3Vic3RyaW5nKDIpXG4gICAgICByZXR1cm4gW25hbWUsIHZhbHVlXVxuICAgIH0pXG4gIClcbn1cblxuZnVuY3Rpb24gcGFyc2VTZXJ2ZXJGaXJzdE1lc3NhZ2UoZGF0YSkge1xuICBjb25zdCBhdHRyUGFpcnMgPSBwYXJzZUF0dHJpYnV0ZVBhaXJzKGRhdGEpXG5cbiAgY29uc3Qgbm9uY2UgPSBhdHRyUGFpcnMuZ2V0KCdyJylcbiAgaWYgKCFub25jZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IG5vbmNlIG1pc3NpbmcnKVxuICB9IGVsc2UgaWYgKCFpc1ByaW50YWJsZUNoYXJzKG5vbmNlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IG5vbmNlIG11c3Qgb25seSBjb250YWluIHByaW50YWJsZSBjaGFyYWN0ZXJzJylcbiAgfVxuICBjb25zdCBzYWx0ID0gYXR0clBhaXJzLmdldCgncycpXG4gIGlmICghc2FsdCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJUlNULU1FU1NBR0U6IHNhbHQgbWlzc2luZycpXG4gIH0gZWxzZSBpZiAoIWlzQmFzZTY0KHNhbHQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogc2FsdCBtdXN0IGJlIGJhc2U2NCcpXG4gIH1cbiAgY29uc3QgaXRlcmF0aW9uVGV4dCA9IGF0dHJQYWlycy5nZXQoJ2knKVxuICBpZiAoIWl0ZXJhdGlvblRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSVJTVC1NRVNTQUdFOiBpdGVyYXRpb24gbWlzc2luZycpXG4gIH0gZWxzZSBpZiAoIS9eWzEtOV1bMC05XSokLy50ZXN0KGl0ZXJhdGlvblRleHQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTQVNMOiBTQ1JBTS1TRVJWRVItRklSU1QtTUVTU0FHRTogaW52YWxpZCBpdGVyYXRpb24gY291bnQnKVxuICB9XG4gIGNvbnN0IGl0ZXJhdGlvbiA9IHBhcnNlSW50KGl0ZXJhdGlvblRleHQsIDEwKVxuXG4gIHJldHVybiB7XG4gICAgbm9uY2UsXG4gICAgc2FsdCxcbiAgICBpdGVyYXRpb24sXG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VTZXJ2ZXJGaW5hbE1lc3NhZ2Uoc2VydmVyRGF0YSkge1xuICBjb25zdCBhdHRyUGFpcnMgPSBwYXJzZUF0dHJpYnV0ZVBhaXJzKHNlcnZlckRhdGEpXG4gIGNvbnN0IHNlcnZlclNpZ25hdHVyZSA9IGF0dHJQYWlycy5nZXQoJ3YnKVxuICBpZiAoIXNlcnZlclNpZ25hdHVyZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU0FTTDogU0NSQU0tU0VSVkVSLUZJTkFMLU1FU1NBR0U6IHNlcnZlciBzaWduYXR1cmUgaXMgbWlzc2luZycpXG4gIH0gZWxzZSBpZiAoIWlzQmFzZTY0KHNlcnZlclNpZ25hdHVyZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NBU0w6IFNDUkFNLVNFUlZFUi1GSU5BTC1NRVNTQUdFOiBzZXJ2ZXIgc2lnbmF0dXJlIG11c3QgYmUgYmFzZTY0JylcbiAgfVxuICByZXR1cm4ge1xuICAgIHNlcnZlclNpZ25hdHVyZSxcbiAgfVxufVxuXG5mdW5jdGlvbiB4b3JCdWZmZXJzKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdCdWZmZXIgbGVuZ3RocyBtdXN0IG1hdGNoJylcbiAgfVxuICBpZiAoYS5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlcnMgY2Fubm90IGJlIGVtcHR5JylcbiAgfVxuICByZXR1cm4gQnVmZmVyLmZyb20oYS5tYXAoKF8sIGkpID0+IGFbaV0gXiBiW2ldKSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHN0YXJ0U2Vzc2lvbixcbiAgY29udGludWVTZXNzaW9uLFxuICBmaW5hbGl6ZVNlc3Npb24sXG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHR5cGVzID0gcmVxdWlyZSgncGctdHlwZXMnKVxuXG5mdW5jdGlvbiBUeXBlT3ZlcnJpZGVzKHVzZXJUeXBlcykge1xuICB0aGlzLl90eXBlcyA9IHVzZXJUeXBlcyB8fCB0eXBlc1xuICB0aGlzLnRleHQgPSB7fVxuICB0aGlzLmJpbmFyeSA9IHt9XG59XG5cblR5cGVPdmVycmlkZXMucHJvdG90eXBlLmdldE92ZXJyaWRlcyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICBjYXNlICd0ZXh0JzpcbiAgICAgIHJldHVybiB0aGlzLnRleHRcbiAgICBjYXNlICdiaW5hcnknOlxuICAgICAgcmV0dXJuIHRoaXMuYmluYXJ5XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7fVxuICB9XG59XG5cblR5cGVPdmVycmlkZXMucHJvdG90eXBlLnNldFR5cGVQYXJzZXIgPSBmdW5jdGlvbiAob2lkLCBmb3JtYXQsIHBhcnNlRm4pIHtcbiAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwYXJzZUZuID0gZm9ybWF0XG4gICAgZm9ybWF0ID0gJ3RleHQnXG4gIH1cbiAgdGhpcy5nZXRPdmVycmlkZXMoZm9ybWF0KVtvaWRdID0gcGFyc2VGblxufVxuXG5UeXBlT3ZlcnJpZGVzLnByb3RvdHlwZS5nZXRUeXBlUGFyc2VyID0gZnVuY3Rpb24gKG9pZCwgZm9ybWF0KSB7XG4gIGZvcm1hdCA9IGZvcm1hdCB8fCAndGV4dCdcbiAgcmV0dXJuIHRoaXMuZ2V0T3ZlcnJpZGVzKGZvcm1hdClbb2lkXSB8fCB0aGlzLl90eXBlcy5nZXRUeXBlUGFyc2VyKG9pZCwgZm9ybWF0KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFR5cGVPdmVycmlkZXNcbiIsICIndXNlIHN0cmljdCdcblxuLy9QYXJzZSBtZXRob2QgY29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2JyaWFuYy9ub2RlLXBvc3RncmVzXG4vL0NvcHlyaWdodCAoYykgMjAxMC0yMDE0IEJyaWFuIENhcmxzb24gKGJyaWFuLm0uY2FybHNvbkBnbWFpbC5jb20pXG4vL01JVCBMaWNlbnNlXG5cbi8vcGFyc2VzIGEgY29ubmVjdGlvbiBzdHJpbmdcbmZ1bmN0aW9uIHBhcnNlKHN0ciwgb3B0aW9ucyA9IHt9KSB7XG4gIC8vdW5peCBzb2NrZXRcbiAgaWYgKHN0ci5jaGFyQXQoMCkgPT09ICcvJykge1xuICAgIGNvbnN0IGNvbmZpZyA9IHN0ci5zcGxpdCgnICcpXG4gICAgcmV0dXJuIHsgaG9zdDogY29uZmlnWzBdLCBkYXRhYmFzZTogY29uZmlnWzFdIH1cbiAgfVxuXG4gIC8vIENoZWNrIGZvciBlbXB0eSBob3N0IGluIFVSTFxuXG4gIGNvbnN0IGNvbmZpZyA9IHt9XG4gIGxldCByZXN1bHRcbiAgbGV0IGR1bW15SG9zdCA9IGZhbHNlXG4gIGlmICgvIHwlW15hLWYwLTldfCVbYS1mMC05XVteYS1mMC05XS9pLnRlc3Qoc3RyKSkge1xuICAgIC8vIEVuc3VyZSBzcGFjZXMgYXJlIGVuY29kZWQgYXMgJTIwXG4gICAgc3RyID0gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvJTI1KFxcZFxcZCkvZywgJyUkMScpXG4gIH1cblxuICB0cnkge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBuZXcgVVJMKHN0ciwgJ3Bvc3RncmVzOi8vYmFzZScpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gVGhlIFVSTCBpcyBpbnZhbGlkIHNvIHRyeSBhZ2FpbiB3aXRoIGEgZHVtbXkgaG9zdFxuICAgICAgcmVzdWx0ID0gbmV3IFVSTChzdHIucmVwbGFjZSgnQC8nLCAnQF9fX0RVTU1ZX19fLycpLCAncG9zdGdyZXM6Ly9iYXNlJylcbiAgICAgIGR1bW15SG9zdCA9IHRydWVcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIFJlbW92ZSB0aGUgaW5wdXQgZnJvbSB0aGUgZXJyb3IgbWVzc2FnZSB0byBhdm9pZCBsZWFraW5nIHNlbnNpdGl2ZSBpbmZvcm1hdGlvblxuICAgIGVyci5pbnB1dCAmJiAoZXJyLmlucHV0ID0gJyoqKioqUkVEQUNURUQqKioqKicpXG4gIH1cblxuICAvLyBXZSdkIGxpa2UgdG8gdXNlIE9iamVjdC5mcm9tRW50cmllcygpIGhlcmUgYnV0IE5vZGUuanMgMTAgZG9lcyBub3Qgc3VwcG9ydCBpdFxuICBmb3IgKGNvbnN0IGVudHJ5IG9mIHJlc3VsdC5zZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgY29uZmlnW2VudHJ5WzBdXSA9IGVudHJ5WzFdXG4gIH1cblxuICBjb25maWcudXNlciA9IGNvbmZpZy51c2VyIHx8IGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHQudXNlcm5hbWUpXG4gIGNvbmZpZy5wYXNzd29yZCA9IGNvbmZpZy5wYXNzd29yZCB8fCBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0LnBhc3N3b3JkKVxuXG4gIGlmIChyZXN1bHQucHJvdG9jb2wgPT0gJ3NvY2tldDonKSB7XG4gICAgY29uZmlnLmhvc3QgPSBkZWNvZGVVUkkocmVzdWx0LnBhdGhuYW1lKVxuICAgIGNvbmZpZy5kYXRhYmFzZSA9IHJlc3VsdC5zZWFyY2hQYXJhbXMuZ2V0KCdkYicpXG4gICAgY29uZmlnLmNsaWVudF9lbmNvZGluZyA9IHJlc3VsdC5zZWFyY2hQYXJhbXMuZ2V0KCdlbmNvZGluZycpXG4gICAgcmV0dXJuIGNvbmZpZ1xuICB9XG4gIGNvbnN0IGhvc3RuYW1lID0gZHVtbXlIb3N0ID8gJycgOiByZXN1bHQuaG9zdG5hbWVcbiAgaWYgKCFjb25maWcuaG9zdCkge1xuICAgIC8vIE9ubHkgc2V0IHRoZSBob3N0IGlmIHRoZXJlIGlzIG5vIGVxdWl2YWxlbnQgcXVlcnkgcGFyYW0uXG4gICAgY29uZmlnLmhvc3QgPSBkZWNvZGVVUklDb21wb25lbnQoaG9zdG5hbWUpXG4gIH0gZWxzZSBpZiAoaG9zdG5hbWUgJiYgL14lMmYvaS50ZXN0KGhvc3RuYW1lKSkge1xuICAgIC8vIE9ubHkgcHJlcGVuZCB0aGUgaG9zdG5hbWUgdG8gdGhlIHBhdGhuYW1lIGlmIGl0IGlzIG5vdCBhIFVSTCBlbmNvZGVkIFVuaXggc29ja2V0IGhvc3QuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gaG9zdG5hbWUgKyByZXN1bHQucGF0aG5hbWVcbiAgfVxuICBpZiAoIWNvbmZpZy5wb3J0KSB7XG4gICAgLy8gT25seSBzZXQgdGhlIHBvcnQgaWYgdGhlcmUgaXMgbm8gZXF1aXZhbGVudCBxdWVyeSBwYXJhbS5cbiAgICBjb25maWcucG9ydCA9IHJlc3VsdC5wb3J0XG4gIH1cblxuICBjb25zdCBwYXRobmFtZSA9IHJlc3VsdC5wYXRobmFtZS5zbGljZSgxKSB8fCBudWxsXG4gIGNvbmZpZy5kYXRhYmFzZSA9IHBhdGhuYW1lID8gZGVjb2RlVVJJKHBhdGhuYW1lKSA6IG51bGxcblxuICBpZiAoY29uZmlnLnNzbCA9PT0gJ3RydWUnIHx8IGNvbmZpZy5zc2wgPT09ICcxJykge1xuICAgIGNvbmZpZy5zc2wgPSB0cnVlXG4gIH1cblxuICBpZiAoY29uZmlnLnNzbCA9PT0gJzAnKSB7XG4gICAgY29uZmlnLnNzbCA9IGZhbHNlXG4gIH1cblxuICBpZiAoY29uZmlnLnNzbGNlcnQgfHwgY29uZmlnLnNzbGtleSB8fCBjb25maWcuc3Nscm9vdGNlcnQgfHwgY29uZmlnLnNzbG1vZGUpIHtcbiAgICBjb25maWcuc3NsID0ge31cbiAgfVxuXG4gIC8vIE9ubHkgdHJ5IHRvIGxvYWQgZnMgaWYgd2UgZXhwZWN0IHRvIHJlYWQgZnJvbSB0aGUgZGlza1xuICBjb25zdCBmcyA9IGNvbmZpZy5zc2xjZXJ0IHx8IGNvbmZpZy5zc2xrZXkgfHwgY29uZmlnLnNzbHJvb3RjZXJ0ID8gcmVxdWlyZSgnZnMnKSA6IG51bGxcblxuICBpZiAoY29uZmlnLnNzbGNlcnQpIHtcbiAgICBjb25maWcuc3NsLmNlcnQgPSBmcy5yZWFkRmlsZVN5bmMoY29uZmlnLnNzbGNlcnQpLnRvU3RyaW5nKClcbiAgfVxuXG4gIGlmIChjb25maWcuc3Nsa2V5KSB7XG4gICAgY29uZmlnLnNzbC5rZXkgPSBmcy5yZWFkRmlsZVN5bmMoY29uZmlnLnNzbGtleSkudG9TdHJpbmcoKVxuICB9XG5cbiAgaWYgKGNvbmZpZy5zc2xyb290Y2VydCkge1xuICAgIGNvbmZpZy5zc2wuY2EgPSBmcy5yZWFkRmlsZVN5bmMoY29uZmlnLnNzbHJvb3RjZXJ0KS50b1N0cmluZygpXG4gIH1cblxuICBpZiAob3B0aW9ucy51c2VMaWJwcUNvbXBhdCAmJiBjb25maWcudXNlbGlicHFjb21wYXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0JvdGggdXNlTGlicHFDb21wYXQgYW5kIHVzZWxpYnBxY29tcGF0IGFyZSBzZXQuIFBsZWFzZSB1c2Ugb25seSBvbmUgb2YgdGhlbS4nKVxuICB9XG5cbiAgaWYgKGNvbmZpZy51c2VsaWJwcWNvbXBhdCA9PT0gJ3RydWUnIHx8IG9wdGlvbnMudXNlTGlicHFDb21wYXQpIHtcbiAgICBzd2l0Y2ggKGNvbmZpZy5zc2xtb2RlKSB7XG4gICAgICBjYXNlICdkaXNhYmxlJzoge1xuICAgICAgICBjb25maWcuc3NsID0gZmFsc2VcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3ByZWZlcic6IHtcbiAgICAgICAgY29uZmlnLnNzbC5yZWplY3RVbmF1dGhvcml6ZWQgPSBmYWxzZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAncmVxdWlyZSc6IHtcbiAgICAgICAgaWYgKGNvbmZpZy5zc2xyb290Y2VydCkge1xuICAgICAgICAgIC8vIElmIGEgcm9vdCBDQSBpcyBzcGVjaWZpZWQsIGJlaGF2aW9yIG9mIGBzc2xtb2RlPXJlcXVpcmVgIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhhdCBvZiBgdmVyaWZ5LWNhYFxuICAgICAgICAgIGNvbmZpZy5zc2wuY2hlY2tTZXJ2ZXJJZGVudGl0eSA9IGZ1bmN0aW9uICgpIHt9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uZmlnLnNzbC5yZWplY3RVbmF1dGhvcml6ZWQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjYXNlICd2ZXJpZnktY2EnOiB7XG4gICAgICAgIGlmICghY29uZmlnLnNzbC5jYSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdTRUNVUklUWSBXQVJOSU5HOiBVc2luZyBzc2xtb2RlPXZlcmlmeS1jYSByZXF1aXJlcyBzcGVjaWZ5aW5nIGEgQ0Egd2l0aCBzc2xyb290Y2VydC4gSWYgYSBwdWJsaWMgQ0EgaXMgdXNlZCwgdmVyaWZ5LWNhIGFsbG93cyBjb25uZWN0aW9ucyB0byBhIHNlcnZlciB0aGF0IHNvbWVib2R5IGVsc2UgbWF5IGhhdmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSBDQSwgbWFraW5nIHlvdSB2dWxuZXJhYmxlIHRvIE1hbi1pbi10aGUtTWlkZGxlIGF0dGFja3MuIEVpdGhlciBzcGVjaWZ5IGEgY3VzdG9tIENBIGNlcnRpZmljYXRlIHdpdGggc3Nscm9vdGNlcnQgcGFyYW1ldGVyIG9yIHVzZSBzc2xtb2RlPXZlcmlmeS1mdWxsIGZvciBwcm9wZXIgc2VjdXJpdHkuJ1xuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBjb25maWcuc3NsLmNoZWNrU2VydmVySWRlbnRpdHkgPSBmdW5jdGlvbiAoKSB7fVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAndmVyaWZ5LWZ1bGwnOiB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXRjaCAoY29uZmlnLnNzbG1vZGUpIHtcbiAgICAgIGNhc2UgJ2Rpc2FibGUnOiB7XG4gICAgICAgIGNvbmZpZy5zc2wgPSBmYWxzZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAncHJlZmVyJzpcbiAgICAgIGNhc2UgJ3JlcXVpcmUnOlxuICAgICAgY2FzZSAndmVyaWZ5LWNhJzpcbiAgICAgIGNhc2UgJ3ZlcmlmeS1mdWxsJzoge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnbm8tdmVyaWZ5Jzoge1xuICAgICAgICBjb25maWcuc3NsLnJlamVjdFVuYXV0aG9yaXplZCA9IGZhbHNlXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmZpZ1xufVxuXG4vLyBjb252ZXJ0IHBnLWNvbm5lY3Rpb24tc3RyaW5nIHNzbCBjb25maWcgdG8gYSBDbGllbnRDb25maWcuQ29ubmVjdGlvbk9wdGlvbnNcbmZ1bmN0aW9uIHRvQ29ubmVjdGlvbk9wdGlvbnMoc3NsQ29uZmlnKSB7XG4gIGNvbnN0IGNvbm5lY3Rpb25PcHRpb25zID0gT2JqZWN0LmVudHJpZXMoc3NsQ29uZmlnKS5yZWR1Y2UoKGMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIC8vIHdlIGV4cGxpY2l0bHkgY2hlY2sgZm9yIHVuZGVmaW5lZCBhbmQgbnVsbCBpbnN0ZWFkIG9mIGBpZiAodmFsdWUpYCBiZWNhdXNlIHNvbWVcbiAgICAvLyBvcHRpb25zIGFjY2VwdCBmYWxzeSB2YWx1ZXMuIEV4YW1wbGU6IGBzc2wucmVqZWN0VW5hdXRob3JpemVkID0gZmFsc2VgXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIGNba2V5XSA9IHZhbHVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGNcbiAgfSwge30pXG5cbiAgcmV0dXJuIGNvbm5lY3Rpb25PcHRpb25zXG59XG5cbi8vIGNvbnZlcnQgcGctY29ubmVjdGlvbi1zdHJpbmcgY29uZmlnIHRvIGEgQ2xpZW50Q29uZmlnXG5mdW5jdGlvbiB0b0NsaWVudENvbmZpZyhjb25maWcpIHtcbiAgY29uc3QgcG9vbENvbmZpZyA9IE9iamVjdC5lbnRyaWVzKGNvbmZpZykucmVkdWNlKChjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBpZiAoa2V5ID09PSAnc3NsJykge1xuICAgICAgY29uc3Qgc3NsQ29uZmlnID0gdmFsdWVcblxuICAgICAgaWYgKHR5cGVvZiBzc2xDb25maWcgPT09ICdib29sZWFuJykge1xuICAgICAgICBjW2tleV0gPSBzc2xDb25maWdcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzc2xDb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNba2V5XSA9IHRvQ29ubmVjdGlvbk9wdGlvbnMoc3NsQ29uZmlnKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKGtleSA9PT0gJ3BvcnQnKSB7XG4gICAgICAgIC8vIHdoZW4gcG9ydCBpcyBub3Qgc3BlY2lmaWVkLCBpdCBpcyBjb252ZXJ0ZWQgaW50byBhbiBlbXB0eSBzdHJpbmdcbiAgICAgICAgLy8gd2Ugd2FudCB0byBhdm9pZCBOYU4gb3IgZW1wdHkgc3RyaW5nIGFzIGEgdmFsdWVzIGluIENsaWVudENvbmZpZ1xuICAgICAgICBpZiAodmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgY29uc3QgdiA9IHBhcnNlSW50KHZhbHVlLCAxMClcbiAgICAgICAgICBpZiAoaXNOYU4odikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCAke2tleX06ICR7dmFsdWV9YClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjW2tleV0gPSB2XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNba2V5XSA9IHZhbHVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNcbiAgfSwge30pXG5cbiAgcmV0dXJuIHBvb2xDb25maWdcbn1cblxuLy8gcGFyc2VzIGEgY29ubmVjdGlvbiBzdHJpbmcgaW50byBDbGllbnRDb25maWdcbmZ1bmN0aW9uIHBhcnNlSW50b0NsaWVudENvbmZpZyhzdHIpIHtcbiAgcmV0dXJuIHRvQ2xpZW50Q29uZmlnKHBhcnNlKHN0cikpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyc2VcblxucGFyc2UucGFyc2UgPSBwYXJzZVxucGFyc2UudG9DbGllbnRDb25maWcgPSB0b0NsaWVudENvbmZpZ1xucGFyc2UucGFyc2VJbnRvQ2xpZW50Q29uZmlnID0gcGFyc2VJbnRvQ2xpZW50Q29uZmlnXG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGRucyA9IHJlcXVpcmUoJ2RucycpXG5cbmNvbnN0IGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpXG5cbmNvbnN0IHBhcnNlID0gcmVxdWlyZSgncGctY29ubmVjdGlvbi1zdHJpbmcnKS5wYXJzZSAvLyBwYXJzZXMgYSBjb25uZWN0aW9uIHN0cmluZ1xuXG5jb25zdCB2YWwgPSBmdW5jdGlvbiAoa2V5LCBjb25maWcsIGVudlZhcikge1xuICBpZiAoZW52VmFyID09PSB1bmRlZmluZWQpIHtcbiAgICBlbnZWYXIgPSBwcm9jZXNzLmVudlsnUEcnICsga2V5LnRvVXBwZXJDYXNlKCldXG4gIH0gZWxzZSBpZiAoZW52VmFyID09PSBmYWxzZSkge1xuICAgIC8vIGRvIG5vdGhpbmcgLi4uIHVzZSBmYWxzZVxuICB9IGVsc2Uge1xuICAgIGVudlZhciA9IHByb2Nlc3MuZW52W2VudlZhcl1cbiAgfVxuXG4gIHJldHVybiBjb25maWdba2V5XSB8fCBlbnZWYXIgfHwgZGVmYXVsdHNba2V5XVxufVxuXG5jb25zdCByZWFkU1NMQ29uZmlnRnJvbUVudmlyb25tZW50ID0gZnVuY3Rpb24gKCkge1xuICBzd2l0Y2ggKHByb2Nlc3MuZW52LlBHU1NMTU9ERSkge1xuICAgIGNhc2UgJ2Rpc2FibGUnOlxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgY2FzZSAncHJlZmVyJzpcbiAgICBjYXNlICdyZXF1aXJlJzpcbiAgICBjYXNlICd2ZXJpZnktY2EnOlxuICAgIGNhc2UgJ3ZlcmlmeS1mdWxsJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgY2FzZSAnbm8tdmVyaWZ5JzpcbiAgICAgIHJldHVybiB7IHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UgfVxuICB9XG4gIHJldHVybiBkZWZhdWx0cy5zc2xcbn1cblxuLy8gQ29udmVydCBhcmcgdG8gYSBzdHJpbmcsIHN1cnJvdW5kIGluIHNpbmdsZSBxdW90ZXMsIGFuZCBlc2NhcGUgc2luZ2xlIHF1b3RlcyBhbmQgYmFja3NsYXNoZXNcbmNvbnN0IHF1b3RlUGFyYW1WYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICByZXR1cm4gXCInXCIgKyAoJycgKyB2YWx1ZSkucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikgKyBcIidcIlxufVxuXG5jb25zdCBhZGQgPSBmdW5jdGlvbiAocGFyYW1zLCBjb25maWcsIHBhcmFtTmFtZSkge1xuICBjb25zdCB2YWx1ZSA9IGNvbmZpZ1twYXJhbU5hbWVdXG4gIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgcGFyYW1zLnB1c2gocGFyYW1OYW1lICsgJz0nICsgcXVvdGVQYXJhbVZhbHVlKHZhbHVlKSlcbiAgfVxufVxuXG5jbGFzcyBDb25uZWN0aW9uUGFyYW1ldGVycyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIC8vIGlmIGEgc3RyaW5nIGlzIHBhc3NlZCwgaXQgaXMgYSByYXcgY29ubmVjdGlvbiBzdHJpbmcgc28gd2UgcGFyc2UgaXQgaW50byBhIGNvbmZpZ1xuICAgIGNvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnID8gcGFyc2UoY29uZmlnKSA6IGNvbmZpZyB8fCB7fVxuXG4gICAgLy8gaWYgdGhlIGNvbmZpZyBoYXMgYSBjb25uZWN0aW9uU3RyaW5nIGRlZmluZWQsIHBhcnNlIElUIGludG8gdGhlIGNvbmZpZyB3ZSB1c2VcbiAgICAvLyB0aGlzIHdpbGwgb3ZlcnJpZGUgb3RoZXIgZGVmYXVsdCB2YWx1ZXMgd2l0aCB3aGF0IGlzIHN0b3JlZCBpbiBjb25uZWN0aW9uU3RyaW5nXG4gICAgaWYgKGNvbmZpZy5jb25uZWN0aW9uU3RyaW5nKSB7XG4gICAgICBjb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBjb25maWcsIHBhcnNlKGNvbmZpZy5jb25uZWN0aW9uU3RyaW5nKSlcbiAgICB9XG5cbiAgICB0aGlzLnVzZXIgPSB2YWwoJ3VzZXInLCBjb25maWcpXG4gICAgdGhpcy5kYXRhYmFzZSA9IHZhbCgnZGF0YWJhc2UnLCBjb25maWcpXG5cbiAgICBpZiAodGhpcy5kYXRhYmFzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmRhdGFiYXNlID0gdGhpcy51c2VyXG4gICAgfVxuXG4gICAgdGhpcy5wb3J0ID0gcGFyc2VJbnQodmFsKCdwb3J0JywgY29uZmlnKSwgMTApXG4gICAgdGhpcy5ob3N0ID0gdmFsKCdob3N0JywgY29uZmlnKVxuXG4gICAgLy8gXCJoaWRpbmdcIiB0aGUgcGFzc3dvcmQgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgIC8vIG9yIGlmIHRoZSBjbGllbnQgaXMgY29uc29sZS5sb2dnZWRcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Bhc3N3b3JkJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2YWwoJ3Bhc3N3b3JkJywgY29uZmlnKSxcbiAgICB9KVxuXG4gICAgdGhpcy5iaW5hcnkgPSB2YWwoJ2JpbmFyeScsIGNvbmZpZylcbiAgICB0aGlzLm9wdGlvbnMgPSB2YWwoJ29wdGlvbnMnLCBjb25maWcpXG5cbiAgICB0aGlzLnNzbCA9IHR5cGVvZiBjb25maWcuc3NsID09PSAndW5kZWZpbmVkJyA/IHJlYWRTU0xDb25maWdGcm9tRW52aXJvbm1lbnQoKSA6IGNvbmZpZy5zc2xcblxuICAgIGlmICh0eXBlb2YgdGhpcy5zc2wgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodGhpcy5zc2wgPT09ICd0cnVlJykge1xuICAgICAgICB0aGlzLnNzbCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gc3VwcG9ydCBwYXNzaW5nIGluIHNzbD1uby12ZXJpZnkgdmlhIGNvbm5lY3Rpb24gc3RyaW5nXG4gICAgaWYgKHRoaXMuc3NsID09PSAnbm8tdmVyaWZ5Jykge1xuICAgICAgdGhpcy5zc2wgPSB7IHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zc2wgJiYgdGhpcy5zc2wua2V5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5zc2wsICdrZXknLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLmNsaWVudF9lbmNvZGluZyA9IHZhbCgnY2xpZW50X2VuY29kaW5nJywgY29uZmlnKVxuICAgIHRoaXMucmVwbGljYXRpb24gPSB2YWwoJ3JlcGxpY2F0aW9uJywgY29uZmlnKVxuICAgIC8vIGEgZG9tYWluIHNvY2tldCBiZWdpbnMgd2l0aCAnLydcbiAgICB0aGlzLmlzRG9tYWluU29ja2V0ID0gISh0aGlzLmhvc3QgfHwgJycpLmluZGV4T2YoJy8nKVxuXG4gICAgdGhpcy5hcHBsaWNhdGlvbl9uYW1lID0gdmFsKCdhcHBsaWNhdGlvbl9uYW1lJywgY29uZmlnLCAnUEdBUFBOQU1FJylcbiAgICB0aGlzLmZhbGxiYWNrX2FwcGxpY2F0aW9uX25hbWUgPSB2YWwoJ2ZhbGxiYWNrX2FwcGxpY2F0aW9uX25hbWUnLCBjb25maWcsIGZhbHNlKVxuICAgIHRoaXMuc3RhdGVtZW50X3RpbWVvdXQgPSB2YWwoJ3N0YXRlbWVudF90aW1lb3V0JywgY29uZmlnLCBmYWxzZSlcbiAgICB0aGlzLmxvY2tfdGltZW91dCA9IHZhbCgnbG9ja190aW1lb3V0JywgY29uZmlnLCBmYWxzZSlcbiAgICB0aGlzLmlkbGVfaW5fdHJhbnNhY3Rpb25fc2Vzc2lvbl90aW1lb3V0ID0gdmFsKCdpZGxlX2luX3RyYW5zYWN0aW9uX3Nlc3Npb25fdGltZW91dCcsIGNvbmZpZywgZmFsc2UpXG4gICAgdGhpcy5xdWVyeV90aW1lb3V0ID0gdmFsKCdxdWVyeV90aW1lb3V0JywgY29uZmlnLCBmYWxzZSlcblxuICAgIGlmIChjb25maWcuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jb25uZWN0X3RpbWVvdXQgPSBwcm9jZXNzLmVudi5QR0NPTk5FQ1RfVElNRU9VVCB8fCAwXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29ubmVjdF90aW1lb3V0ID0gTWF0aC5mbG9vcihjb25maWcuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMgLyAxMDAwKVxuICAgIH1cblxuICAgIGlmIChjb25maWcua2VlcEFsaXZlID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5rZWVwYWxpdmVzID0gMFxuICAgIH0gZWxzZSBpZiAoY29uZmlnLmtlZXBBbGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5rZWVwYWxpdmVzID0gMVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY29uZmlnLmtlZXBBbGl2ZUluaXRpYWxEZWxheU1pbGxpcyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMua2VlcGFsaXZlc19pZGxlID0gTWF0aC5mbG9vcihjb25maWcua2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzIC8gMTAwMClcbiAgICB9XG4gIH1cblxuICBnZXRMaWJwcUNvbm5lY3Rpb25TdHJpbmcoY2IpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBbXVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICd1c2VyJylcbiAgICBhZGQocGFyYW1zLCB0aGlzLCAncGFzc3dvcmQnKVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICdwb3J0JylcbiAgICBhZGQocGFyYW1zLCB0aGlzLCAnYXBwbGljYXRpb25fbmFtZScpXG4gICAgYWRkKHBhcmFtcywgdGhpcywgJ2ZhbGxiYWNrX2FwcGxpY2F0aW9uX25hbWUnKVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICdjb25uZWN0X3RpbWVvdXQnKVxuICAgIGFkZChwYXJhbXMsIHRoaXMsICdvcHRpb25zJylcblxuICAgIGNvbnN0IHNzbCA9IHR5cGVvZiB0aGlzLnNzbCA9PT0gJ29iamVjdCcgPyB0aGlzLnNzbCA6IHRoaXMuc3NsID8geyBzc2xtb2RlOiB0aGlzLnNzbCB9IDoge31cbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xtb2RlJylcbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xjYScpXG4gICAgYWRkKHBhcmFtcywgc3NsLCAnc3Nsa2V5JylcbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xjZXJ0JylcbiAgICBhZGQocGFyYW1zLCBzc2wsICdzc2xyb290Y2VydCcpXG5cbiAgICBpZiAodGhpcy5kYXRhYmFzZSkge1xuICAgICAgcGFyYW1zLnB1c2goJ2RibmFtZT0nICsgcXVvdGVQYXJhbVZhbHVlKHRoaXMuZGF0YWJhc2UpKVxuICAgIH1cbiAgICBpZiAodGhpcy5yZXBsaWNhdGlvbikge1xuICAgICAgcGFyYW1zLnB1c2goJ3JlcGxpY2F0aW9uPScgKyBxdW90ZVBhcmFtVmFsdWUodGhpcy5yZXBsaWNhdGlvbikpXG4gICAgfVxuICAgIGlmICh0aGlzLmhvc3QpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdob3N0PScgKyBxdW90ZVBhcmFtVmFsdWUodGhpcy5ob3N0KSlcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNEb21haW5Tb2NrZXQpIHtcbiAgICAgIHJldHVybiBjYihudWxsLCBwYXJhbXMuam9pbignICcpKVxuICAgIH1cbiAgICBpZiAodGhpcy5jbGllbnRfZW5jb2RpbmcpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdjbGllbnRfZW5jb2Rpbmc9JyArIHF1b3RlUGFyYW1WYWx1ZSh0aGlzLmNsaWVudF9lbmNvZGluZykpXG4gICAgfVxuICAgIGRucy5sb29rdXAodGhpcy5ob3N0LCBmdW5jdGlvbiAoZXJyLCBhZGRyZXNzKSB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyLCBudWxsKVxuICAgICAgcGFyYW1zLnB1c2goJ2hvc3RhZGRyPScgKyBxdW90ZVBhcmFtVmFsdWUoYWRkcmVzcykpXG4gICAgICByZXR1cm4gY2IobnVsbCwgcGFyYW1zLmpvaW4oJyAnKSlcbiAgICB9KVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29ubmVjdGlvblBhcmFtZXRlcnNcbiIsICIndXNlIHN0cmljdCdcblxuY29uc3QgdHlwZXMgPSByZXF1aXJlKCdwZy10eXBlcycpXG5cbmNvbnN0IG1hdGNoUmVnZXhwID0gL14oW0EtWmEtel0rKSg/OiAoXFxkKykpPyg/OiAoXFxkKykpPy9cblxuLy8gcmVzdWx0IG9iamVjdCByZXR1cm5lZCBmcm9tIHF1ZXJ5XG4vLyBpbiB0aGUgJ2VuZCcgZXZlbnQgYW5kIGFsc29cbi8vIHBhc3NlZCBhcyBzZWNvbmQgYXJndW1lbnQgdG8gcHJvdmlkZWQgY2FsbGJhY2tcbmNsYXNzIFJlc3VsdCB7XG4gIGNvbnN0cnVjdG9yKHJvd01vZGUsIHR5cGVzKSB7XG4gICAgdGhpcy5jb21tYW5kID0gbnVsbFxuICAgIHRoaXMucm93Q291bnQgPSBudWxsXG4gICAgdGhpcy5vaWQgPSBudWxsXG4gICAgdGhpcy5yb3dzID0gW11cbiAgICB0aGlzLmZpZWxkcyA9IFtdXG4gICAgdGhpcy5fcGFyc2VycyA9IHVuZGVmaW5lZFxuICAgIHRoaXMuX3R5cGVzID0gdHlwZXNcbiAgICB0aGlzLlJvd0N0b3IgPSBudWxsXG4gICAgdGhpcy5yb3dBc0FycmF5ID0gcm93TW9kZSA9PT0gJ2FycmF5J1xuICAgIGlmICh0aGlzLnJvd0FzQXJyYXkpIHtcbiAgICAgIHRoaXMucGFyc2VSb3cgPSB0aGlzLl9wYXJzZVJvd0FzQXJyYXlcbiAgICB9XG4gICAgdGhpcy5fcHJlYnVpbHRFbXB0eVJlc3VsdE9iamVjdCA9IG51bGxcbiAgfVxuXG4gIC8vIGFkZHMgYSBjb21tYW5kIGNvbXBsZXRlIG1lc3NhZ2VcbiAgYWRkQ29tbWFuZENvbXBsZXRlKG1zZykge1xuICAgIGxldCBtYXRjaFxuICAgIGlmIChtc2cudGV4dCkge1xuICAgICAgLy8gcHVyZSBqYXZhc2NyaXB0XG4gICAgICBtYXRjaCA9IG1hdGNoUmVnZXhwLmV4ZWMobXNnLnRleHQpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5hdGl2ZSBiaW5kaW5nc1xuICAgICAgbWF0Y2ggPSBtYXRjaFJlZ2V4cC5leGVjKG1zZy5jb21tYW5kKVxuICAgIH1cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHRoaXMuY29tbWFuZCA9IG1hdGNoWzFdXG4gICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgLy8gQ09NTUFORCBPSUQgUk9XU1xuICAgICAgICB0aGlzLm9pZCA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMClcbiAgICAgICAgdGhpcy5yb3dDb3VudCA9IHBhcnNlSW50KG1hdGNoWzNdLCAxMClcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2hbMl0pIHtcbiAgICAgICAgLy8gQ09NTUFORCBST1dTXG4gICAgICAgIHRoaXMucm93Q291bnQgPSBwYXJzZUludChtYXRjaFsyXSwgMTApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3BhcnNlUm93QXNBcnJheShyb3dEYXRhKSB7XG4gICAgY29uc3Qgcm93ID0gbmV3IEFycmF5KHJvd0RhdGEubGVuZ3RoKVxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSByb3dEYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCByYXdWYWx1ZSA9IHJvd0RhdGFbaV1cbiAgICAgIGlmIChyYXdWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICByb3dbaV0gPSB0aGlzLl9wYXJzZXJzW2ldKHJhd1ZhbHVlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm93W2ldID0gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcm93XG4gIH1cblxuICBwYXJzZVJvdyhyb3dEYXRhKSB7XG4gICAgY29uc3Qgcm93ID0geyAuLi50aGlzLl9wcmVidWlsdEVtcHR5UmVzdWx0T2JqZWN0IH1cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcm93RGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgcmF3VmFsdWUgPSByb3dEYXRhW2ldXG4gICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZmllbGRzW2ldLm5hbWVcbiAgICAgIGlmIChyYXdWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB2ID0gdGhpcy5maWVsZHNbaV0uZm9ybWF0ID09PSAnYmluYXJ5JyA/IEJ1ZmZlci5mcm9tKHJhd1ZhbHVlKSA6IHJhd1ZhbHVlXG4gICAgICAgIHJvd1tmaWVsZF0gPSB0aGlzLl9wYXJzZXJzW2ldKHYpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3dbZmllbGRdID0gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcm93XG4gIH1cblxuICBhZGRSb3cocm93KSB7XG4gICAgdGhpcy5yb3dzLnB1c2gocm93KVxuICB9XG5cbiAgYWRkRmllbGRzKGZpZWxkRGVzY3JpcHRpb25zKSB7XG4gICAgLy8gY2xlYXJzIGZpZWxkIGRlZmluaXRpb25zXG4gICAgLy8gbXVsdGlwbGUgcXVlcnkgc3RhdGVtZW50cyBpbiAxIGFjdGlvbiBjYW4gcmVzdWx0IGluIG11bHRpcGxlIHNldHNcbiAgICAvLyBvZiByb3dEZXNjcmlwdGlvbnMuLi5lZzogJ3NlbGVjdCBOT1coKTsgc2VsZWN0IDE6OmludDsnXG4gICAgLy8geW91IG5lZWQgdG8gcmVzZXQgdGhlIGZpZWxkc1xuICAgIHRoaXMuZmllbGRzID0gZmllbGREZXNjcmlwdGlvbnNcbiAgICBpZiAodGhpcy5maWVsZHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9wYXJzZXJzID0gbmV3IEFycmF5KGZpZWxkRGVzY3JpcHRpb25zLmxlbmd0aClcbiAgICB9XG5cbiAgICBjb25zdCByb3cgPSB7fVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZERlc2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZGVzYyA9IGZpZWxkRGVzY3JpcHRpb25zW2ldXG4gICAgICByb3dbZGVzYy5uYW1lXSA9IG51bGxcblxuICAgICAgaWYgKHRoaXMuX3R5cGVzKSB7XG4gICAgICAgIHRoaXMuX3BhcnNlcnNbaV0gPSB0aGlzLl90eXBlcy5nZXRUeXBlUGFyc2VyKGRlc2MuZGF0YVR5cGVJRCwgZGVzYy5mb3JtYXQgfHwgJ3RleHQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcGFyc2Vyc1tpXSA9IHR5cGVzLmdldFR5cGVQYXJzZXIoZGVzYy5kYXRhVHlwZUlELCBkZXNjLmZvcm1hdCB8fCAndGV4dCcpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fcHJlYnVpbHRFbXB0eVJlc3VsdE9iamVjdCA9IHsgLi4ucm93IH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc3VsdFxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IEV2ZW50RW1pdHRlciB9ID0gcmVxdWlyZSgnZXZlbnRzJylcblxuY29uc3QgUmVzdWx0ID0gcmVxdWlyZSgnLi9yZXN1bHQnKVxuY29uc3QgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJylcblxuY2xhc3MgUXVlcnkgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgICBzdXBlcigpXG5cbiAgICBjb25maWcgPSB1dGlscy5ub3JtYWxpemVRdWVyeUNvbmZpZyhjb25maWcsIHZhbHVlcywgY2FsbGJhY2spXG5cbiAgICB0aGlzLnRleHQgPSBjb25maWcudGV4dFxuICAgIHRoaXMudmFsdWVzID0gY29uZmlnLnZhbHVlc1xuICAgIHRoaXMucm93cyA9IGNvbmZpZy5yb3dzXG4gICAgdGhpcy50eXBlcyA9IGNvbmZpZy50eXBlc1xuICAgIHRoaXMubmFtZSA9IGNvbmZpZy5uYW1lXG4gICAgdGhpcy5xdWVyeU1vZGUgPSBjb25maWcucXVlcnlNb2RlXG4gICAgdGhpcy5iaW5hcnkgPSBjb25maWcuYmluYXJ5XG4gICAgLy8gdXNlIHVuaXF1ZSBwb3J0YWwgbmFtZSBlYWNoIHRpbWVcbiAgICB0aGlzLnBvcnRhbCA9IGNvbmZpZy5wb3J0YWwgfHwgJydcbiAgICB0aGlzLmNhbGxiYWNrID0gY29uZmlnLmNhbGxiYWNrXG4gICAgdGhpcy5fcm93TW9kZSA9IGNvbmZpZy5yb3dNb2RlXG4gICAgaWYgKHByb2Nlc3MuZG9tYWluICYmIGNvbmZpZy5jYWxsYmFjaykge1xuICAgICAgdGhpcy5jYWxsYmFjayA9IHByb2Nlc3MuZG9tYWluLmJpbmQoY29uZmlnLmNhbGxiYWNrKVxuICAgIH1cbiAgICB0aGlzLl9yZXN1bHQgPSBuZXcgUmVzdWx0KHRoaXMuX3Jvd01vZGUsIHRoaXMudHlwZXMpXG5cbiAgICAvLyBwb3RlbnRpYWwgZm9yIG11bHRpcGxlIHJlc3VsdHNcbiAgICB0aGlzLl9yZXN1bHRzID0gdGhpcy5fcmVzdWx0XG4gICAgdGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yID0gZmFsc2VcbiAgfVxuXG4gIHJlcXVpcmVzUHJlcGFyYXRpb24oKSB7XG4gICAgaWYgKHRoaXMucXVlcnlNb2RlID09PSAnZXh0ZW5kZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIC8vIG5hbWVkIHF1ZXJpZXMgbXVzdCBhbHdheXMgYmUgcHJlcGFyZWRcbiAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBhbHdheXMgcHJlcGFyZSBpZiB0aGVyZSBhcmUgbWF4IG51bWJlciBvZiByb3dzIGV4cGVjdGVkIHBlclxuICAgIC8vIHBvcnRhbCBleGVjdXRpb25cbiAgICBpZiAodGhpcy5yb3dzKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBkb24ndCBwcmVwYXJlIGVtcHR5IHRleHQgcXVlcmllc1xuICAgIGlmICghdGhpcy50ZXh0KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgLy8gcHJlcGFyZSBpZiB0aGVyZSBhcmUgdmFsdWVzXG4gICAgaWYgKCF0aGlzLnZhbHVlcykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnZhbHVlcy5sZW5ndGggPiAwXG4gIH1cblxuICBfY2hlY2tGb3JNdWx0aXJvdygpIHtcbiAgICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSByZXN1bHQgd2l0aCBhIGNvbW1hbmQgcHJvcGVydHlcbiAgICAvLyB0aGVuIHdlJ3ZlIGFscmVhZHkgZXhlY3V0ZWQgb25lIHF1ZXJ5IGluIGEgbXVsdGktc3RhdGVtZW50IHNpbXBsZSBxdWVyeVxuICAgIC8vIHR1cm4gb3VyIHJlc3VsdHMgaW50byBhbiBhcnJheSBvZiByZXN1bHRzXG4gICAgaWYgKHRoaXMuX3Jlc3VsdC5jb21tYW5kKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5fcmVzdWx0cykpIHtcbiAgICAgICAgdGhpcy5fcmVzdWx0cyA9IFt0aGlzLl9yZXN1bHRdXG4gICAgICB9XG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgUmVzdWx0KHRoaXMuX3Jvd01vZGUsIHRoaXMuX3Jlc3VsdC5fdHlwZXMpXG4gICAgICB0aGlzLl9yZXN1bHRzLnB1c2godGhpcy5fcmVzdWx0KVxuICAgIH1cbiAgfVxuXG4gIC8vIGFzc29jaWF0ZXMgcm93IG1ldGFkYXRhIGZyb20gdGhlIHN1cHBsaWVkXG4gIC8vIG1lc3NhZ2Ugd2l0aCB0aGlzIHF1ZXJ5IG9iamVjdFxuICAvLyBtZXRhZGF0YSB1c2VkIHdoZW4gcGFyc2luZyByb3cgcmVzdWx0c1xuICBoYW5kbGVSb3dEZXNjcmlwdGlvbihtc2cpIHtcbiAgICB0aGlzLl9jaGVja0Zvck11bHRpcm93KClcbiAgICB0aGlzLl9yZXN1bHQuYWRkRmllbGRzKG1zZy5maWVsZHMpXG4gICAgdGhpcy5fYWNjdW11bGF0ZVJvd3MgPSB0aGlzLmNhbGxiYWNrIHx8ICF0aGlzLmxpc3RlbmVycygncm93JykubGVuZ3RoXG4gIH1cblxuICBoYW5kbGVEYXRhUm93KG1zZykge1xuICAgIGxldCByb3dcblxuICAgIGlmICh0aGlzLl9jYW5jZWxlZER1ZVRvRXJyb3IpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByb3cgPSB0aGlzLl9yZXN1bHQucGFyc2VSb3cobXNnLmZpZWxkcylcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuX2NhbmNlbGVkRHVlVG9FcnJvciA9IGVyclxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdyb3cnLCByb3csIHRoaXMuX3Jlc3VsdClcbiAgICBpZiAodGhpcy5fYWNjdW11bGF0ZVJvd3MpIHtcbiAgICAgIHRoaXMuX3Jlc3VsdC5hZGRSb3cocm93KVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNvbW1hbmRDb21wbGV0ZShtc2csIGNvbm5lY3Rpb24pIHtcbiAgICB0aGlzLl9jaGVja0Zvck11bHRpcm93KClcbiAgICB0aGlzLl9yZXN1bHQuYWRkQ29tbWFuZENvbXBsZXRlKG1zZylcbiAgICAvLyBuZWVkIHRvIHN5bmMgYWZ0ZXIgZWFjaCBjb21tYW5kIGNvbXBsZXRlIG9mIGEgcHJlcGFyZWQgc3RhdGVtZW50XG4gICAgLy8gaWYgd2Ugd2VyZSB1c2luZyBhIHJvdyBjb3VudCB3aGljaCByZXN1bHRzIGluIG11bHRpcGxlIGNhbGxzIHRvIF9nZXRSb3dzXG4gICAgaWYgKHRoaXMucm93cykge1xuICAgICAgY29ubmVjdGlvbi5zeW5jKClcbiAgICB9XG4gIH1cblxuICAvLyBpZiBhIG5hbWVkIHByZXBhcmVkIHN0YXRlbWVudCBpcyBjcmVhdGVkIHdpdGggZW1wdHkgcXVlcnkgdGV4dFxuICAvLyB0aGUgYmFja2VuZCB3aWxsIHNlbmQgYW4gZW1wdHlRdWVyeSBtZXNzYWdlIGJ1dCAqbm90KiBhIGNvbW1hbmQgY29tcGxldGUgbWVzc2FnZVxuICAvLyBzaW5jZSB3ZSBwaXBlbGluZSBzeW5jIGltbWVkaWF0ZWx5IGFmdGVyIGV4ZWN1dGUgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZyBoZXJlXG4gIC8vIHVubGVzcyB3ZSBoYXZlIHJvd3Mgc3BlY2lmaWVkLCBpbiB3aGljaCBjYXNlIHdlIGRpZCBub3QgcGlwZWxpbmUgdGhlIGluaXRpYWwgc3luYyBjYWxsXG4gIGhhbmRsZUVtcHR5UXVlcnkoY29ubmVjdGlvbikge1xuICAgIGlmICh0aGlzLnJvd3MpIHtcbiAgICAgIGNvbm5lY3Rpb24uc3luYygpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlRXJyb3IoZXJyLCBjb25uZWN0aW9uKSB7XG4gICAgLy8gbmVlZCB0byBzeW5jIGFmdGVyIGVycm9yIGR1cmluZyBhIHByZXBhcmVkIHN0YXRlbWVudFxuICAgIGlmICh0aGlzLl9jYW5jZWxlZER1ZVRvRXJyb3IpIHtcbiAgICAgIGVyciA9IHRoaXMuX2NhbmNlbGVkRHVlVG9FcnJvclxuICAgICAgdGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yID0gZmFsc2VcbiAgICB9XG4gICAgLy8gaWYgY2FsbGJhY2sgc3VwcGxpZWQgZG8gbm90IGVtaXQgZXJyb3IgZXZlbnQgYXMgdW5jYXVnaHQgZXJyb3JcbiAgICAvLyBldmVudHMgd2lsbCBidWJibGUgdXAgdG8gbm9kZSBwcm9jZXNzXG4gICAgaWYgKHRoaXMuY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrKGVycilcbiAgICB9XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgfVxuXG4gIGhhbmRsZVJlYWR5Rm9yUXVlcnkoY29uKSB7XG4gICAgaWYgKHRoaXMuX2NhbmNlbGVkRHVlVG9FcnJvcikge1xuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IodGhpcy5fY2FuY2VsZWREdWVUb0Vycm9yLCBjb24pXG4gICAgfVxuICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrKG51bGwsIHRoaXMuX3Jlc3VsdHMpXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgdGhyb3cgZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZW1pdCgnZW5kJywgdGhpcy5fcmVzdWx0cylcbiAgfVxuXG4gIHN1Ym1pdChjb25uZWN0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnRleHQgIT09ICdzdHJpbmcnICYmIHR5cGVvZiB0aGlzLm5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdBIHF1ZXJ5IG11c3QgaGF2ZSBlaXRoZXIgdGV4dCBvciBhIG5hbWUuIFN1cHBseWluZyBuZWl0aGVyIGlzIHVuc3VwcG9ydGVkLicpXG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzID0gY29ubmVjdGlvbi5wYXJzZWRTdGF0ZW1lbnRzW3RoaXMubmFtZV1cbiAgICBpZiAodGhpcy50ZXh0ICYmIHByZXZpb3VzICYmIHRoaXMudGV4dCAhPT0gcHJldmlvdXMpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoYFByZXBhcmVkIHN0YXRlbWVudHMgbXVzdCBiZSB1bmlxdWUgLSAnJHt0aGlzLm5hbWV9JyB3YXMgdXNlZCBmb3IgYSBkaWZmZXJlbnQgc3RhdGVtZW50YClcbiAgICB9XG4gICAgaWYgKHRoaXMudmFsdWVzICYmICFBcnJheS5pc0FycmF5KHRoaXMudmFsdWVzKSkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignUXVlcnkgdmFsdWVzIG11c3QgYmUgYW4gYXJyYXknKVxuICAgIH1cbiAgICBpZiAodGhpcy5yZXF1aXJlc1ByZXBhcmF0aW9uKCkpIHtcbiAgICAgIC8vIElmIHdlJ3JlIHVzaW5nIHRoZSBleHRlbmRlZCBxdWVyeSBwcm90b2NvbCB3ZSBmaXJlIG9mZiBzZXZlcmFsIHNlcGFyYXRlIGNvbW1hbmRzXG4gICAgICAvLyB0byB0aGUgYmFja2VuZC4gT24gc29tZSB2ZXJzaW9ucyBvZiBub2RlICYgc29tZSBvcGVyYXRpbmcgc3lzdGVtIHZlcnNpb25zXG4gICAgICAvLyB0aGUgbmV0d29yayBzdGFjayB3cml0ZXMgZWFjaCBtZXNzYWdlIHNlcGFyYXRlbHkgaW5zdGVhZCBvZiBidWZmZXJpbmcgdGhlbSB0b2dldGhlclxuICAgICAgLy8gY2F1c2luZyB0aGUgY2xpZW50ICYgbmV0d29yayB0byBzZW5kIG1vcmUgc2xvd2x5LiBDb3JraW5nICYgdW5jb3JraW5nIHRoZSBzdHJlYW1cbiAgICAgIC8vIGFsbG93cyBub2RlIHRvIGJ1ZmZlciB1cCB0aGUgbWVzc2FnZXMgaW50ZXJuYWxseSBiZWZvcmUgc2VuZGluZyB0aGVtIGFsbCBvZmYgYXQgb25jZS5cbiAgICAgIC8vIG5vdGU6IHdlJ3JlIGNoZWNraW5nIGZvciBleGlzdGVuY2Ugb2YgY29yay91bmNvcmsgYmVjYXVzZSBzb21lIHZlcnNpb25zIG9mIHN0cmVhbXNcbiAgICAgIC8vIG1pZ2h0IG5vdCBoYXZlIHRoaXMgKGNsb3VkZmxhcmU/KVxuICAgICAgY29ubmVjdGlvbi5zdHJlYW0uY29yayAmJiBjb25uZWN0aW9uLnN0cmVhbS5jb3JrKClcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMucHJlcGFyZShjb25uZWN0aW9uKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gd2hpbGUgdW5saWtlbHkgZm9yIHRoaXMucHJlcGFyZSB0byB0aHJvdywgaWYgaXQgZG9lcyAmIHdlIGRvbid0IHVuY29yayB0aGlzIHN0cmVhbVxuICAgICAgICAvLyB0aGlzIGNsaWVudCBiZWNvbWVzIHVucmVzcG9uc2l2ZSwgc28gcHV0IGluIGZpbmFsbHkgYmxvY2sgXCJqdXN0IGluIGNhc2VcIlxuICAgICAgICBjb25uZWN0aW9uLnN0cmVhbS51bmNvcmsgJiYgY29ubmVjdGlvbi5zdHJlYW0udW5jb3JrKClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29ubmVjdGlvbi5xdWVyeSh0aGlzLnRleHQpXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBoYXNCZWVuUGFyc2VkKGNvbm5lY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lICYmIGNvbm5lY3Rpb24ucGFyc2VkU3RhdGVtZW50c1t0aGlzLm5hbWVdXG4gIH1cblxuICBoYW5kbGVQb3J0YWxTdXNwZW5kZWQoY29ubmVjdGlvbikge1xuICAgIHRoaXMuX2dldFJvd3MoY29ubmVjdGlvbiwgdGhpcy5yb3dzKVxuICB9XG5cbiAgX2dldFJvd3MoY29ubmVjdGlvbiwgcm93cykge1xuICAgIGNvbm5lY3Rpb24uZXhlY3V0ZSh7XG4gICAgICBwb3J0YWw6IHRoaXMucG9ydGFsLFxuICAgICAgcm93czogcm93cyxcbiAgICB9KVxuICAgIC8vIGlmIHdlJ3JlIG5vdCByZWFkaW5nIHBhZ2VzIG9mIHJvd3Mgc2VuZCB0aGUgc3luYyBjb21tYW5kXG4gICAgLy8gdG8gaW5kaWNhdGUgdGhlIHBpcGVsaW5lIGlzIGZpbmlzaGVkXG4gICAgaWYgKCFyb3dzKSB7XG4gICAgICBjb25uZWN0aW9uLnN5bmMoKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvdGhlcndpc2UgZmx1c2ggdGhlIGNhbGwgb3V0IHRvIHJlYWQgbW9yZSByb3dzXG4gICAgICBjb25uZWN0aW9uLmZsdXNoKClcbiAgICB9XG4gIH1cblxuICAvLyBodHRwOi8vZGV2ZWxvcGVyLnBvc3RncmVzcWwub3JnL3BnZG9jcy9wb3N0Z3Jlcy9wcm90b2NvbC1mbG93Lmh0bWwjUFJPVE9DT0wtRkxPVy1FWFQtUVVFUllcbiAgcHJlcGFyZShjb25uZWN0aW9uKSB7XG4gICAgLy8gVE9ETyByZWZhY3RvciB0aGlzIHBvb3IgZW5jYXBzdWxhdGlvblxuICAgIGlmICghdGhpcy5oYXNCZWVuUGFyc2VkKGNvbm5lY3Rpb24pKSB7XG4gICAgICBjb25uZWN0aW9uLnBhcnNlKHtcbiAgICAgICAgdGV4dDogdGhpcy50ZXh0LFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIHR5cGVzOiB0aGlzLnR5cGVzLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBiZWNhdXNlIHdlJ3JlIG1hcHBpbmcgdXNlciBzdXBwbGllZCB2YWx1ZXMgdG9cbiAgICAvLyBwb3N0Z3JlcyB3aXJlIHByb3RvY29sIGNvbXBhdGlibGUgdmFsdWVzIGl0IGNvdWxkXG4gICAgLy8gdGhyb3cgYW4gZXhjZXB0aW9uLCBzbyB0cnkvY2F0Y2ggdGhpcyBzZWN0aW9uXG4gICAgdHJ5IHtcbiAgICAgIGNvbm5lY3Rpb24uYmluZCh7XG4gICAgICAgIHBvcnRhbDogdGhpcy5wb3J0YWwsXG4gICAgICAgIHN0YXRlbWVudDogdGhpcy5uYW1lLFxuICAgICAgICB2YWx1ZXM6IHRoaXMudmFsdWVzLFxuICAgICAgICBiaW5hcnk6IHRoaXMuYmluYXJ5LFxuICAgICAgICB2YWx1ZU1hcHBlcjogdXRpbHMucHJlcGFyZVZhbHVlLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyLCBjb25uZWN0aW9uKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29ubmVjdGlvbi5kZXNjcmliZSh7XG4gICAgICB0eXBlOiAnUCcsXG4gICAgICBuYW1lOiB0aGlzLnBvcnRhbCB8fCAnJyxcbiAgICB9KVxuXG4gICAgdGhpcy5fZ2V0Um93cyhjb25uZWN0aW9uLCB0aGlzLnJvd3MpXG4gIH1cblxuICBoYW5kbGVDb3B5SW5SZXNwb25zZShjb25uZWN0aW9uKSB7XG4gICAgY29ubmVjdGlvbi5zZW5kQ29weUZhaWwoJ05vIHNvdXJjZSBzdHJlYW0gZGVmaW5lZCcpXG4gIH1cblxuICBoYW5kbGVDb3B5RGF0YShtc2csIGNvbm5lY3Rpb24pIHtcbiAgICAvLyBub29wXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBRdWVyeVxuIiwgImV4cG9ydCB0eXBlIE1vZGUgPSAndGV4dCcgfCAnYmluYXJ5J1xuXG5leHBvcnQgdHlwZSBNZXNzYWdlTmFtZSA9XG4gIHwgJ3BhcnNlQ29tcGxldGUnXG4gIHwgJ2JpbmRDb21wbGV0ZSdcbiAgfCAnY2xvc2VDb21wbGV0ZSdcbiAgfCAnbm9EYXRhJ1xuICB8ICdwb3J0YWxTdXNwZW5kZWQnXG4gIHwgJ3JlcGxpY2F0aW9uU3RhcnQnXG4gIHwgJ2VtcHR5UXVlcnknXG4gIHwgJ2NvcHlEb25lJ1xuICB8ICdjb3B5RGF0YSdcbiAgfCAncm93RGVzY3JpcHRpb24nXG4gIHwgJ3BhcmFtZXRlckRlc2NyaXB0aW9uJ1xuICB8ICdwYXJhbWV0ZXJTdGF0dXMnXG4gIHwgJ2JhY2tlbmRLZXlEYXRhJ1xuICB8ICdub3RpZmljYXRpb24nXG4gIHwgJ3JlYWR5Rm9yUXVlcnknXG4gIHwgJ2NvbW1hbmRDb21wbGV0ZSdcbiAgfCAnZGF0YVJvdydcbiAgfCAnY29weUluUmVzcG9uc2UnXG4gIHwgJ2NvcHlPdXRSZXNwb25zZSdcbiAgfCAnYXV0aGVudGljYXRpb25PaydcbiAgfCAnYXV0aGVudGljYXRpb25NRDVQYXNzd29yZCdcbiAgfCAnYXV0aGVudGljYXRpb25DbGVhcnRleHRQYXNzd29yZCdcbiAgfCAnYXV0aGVudGljYXRpb25TQVNMJ1xuICB8ICdhdXRoZW50aWNhdGlvblNBU0xDb250aW51ZSdcbiAgfCAnYXV0aGVudGljYXRpb25TQVNMRmluYWwnXG4gIHwgJ2Vycm9yJ1xuICB8ICdub3RpY2UnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFja2VuZE1lc3NhZ2Uge1xuICBuYW1lOiBNZXNzYWdlTmFtZVxuICBsZW5ndGg6IG51bWJlclxufVxuXG5leHBvcnQgY29uc3QgcGFyc2VDb21wbGV0ZTogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdwYXJzZUNvbXBsZXRlJyxcbiAgbGVuZ3RoOiA1LFxufVxuXG5leHBvcnQgY29uc3QgYmluZENvbXBsZXRlOiBCYWNrZW5kTWVzc2FnZSA9IHtcbiAgbmFtZTogJ2JpbmRDb21wbGV0ZScsXG4gIGxlbmd0aDogNSxcbn1cblxuZXhwb3J0IGNvbnN0IGNsb3NlQ29tcGxldGU6IEJhY2tlbmRNZXNzYWdlID0ge1xuICBuYW1lOiAnY2xvc2VDb21wbGV0ZScsXG4gIGxlbmd0aDogNSxcbn1cblxuZXhwb3J0IGNvbnN0IG5vRGF0YTogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdub0RhdGEnLFxuICBsZW5ndGg6IDUsXG59XG5cbmV4cG9ydCBjb25zdCBwb3J0YWxTdXNwZW5kZWQ6IEJhY2tlbmRNZXNzYWdlID0ge1xuICBuYW1lOiAncG9ydGFsU3VzcGVuZGVkJyxcbiAgbGVuZ3RoOiA1LFxufVxuXG5leHBvcnQgY29uc3QgcmVwbGljYXRpb25TdGFydDogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdyZXBsaWNhdGlvblN0YXJ0JyxcbiAgbGVuZ3RoOiA0LFxufVxuXG5leHBvcnQgY29uc3QgZW1wdHlRdWVyeTogQmFja2VuZE1lc3NhZ2UgPSB7XG4gIG5hbWU6ICdlbXB0eVF1ZXJ5JyxcbiAgbGVuZ3RoOiA0LFxufVxuXG5leHBvcnQgY29uc3QgY29weURvbmU6IEJhY2tlbmRNZXNzYWdlID0ge1xuICBuYW1lOiAnY29weURvbmUnLFxuICBsZW5ndGg6IDQsXG59XG5cbmludGVyZmFjZSBOb3RpY2VPckVycm9yIHtcbiAgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHNldmVyaXR5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgY29kZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGRldGFpbDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGhpbnQ6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwb3NpdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGludGVybmFsUG9zaXRpb246IHN0cmluZyB8IHVuZGVmaW5lZFxuICBpbnRlcm5hbFF1ZXJ5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgd2hlcmU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBzY2hlbWE6IHN0cmluZyB8IHVuZGVmaW5lZFxuICB0YWJsZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGNvbHVtbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGRhdGFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgY29uc3RyYWludDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGZpbGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBsaW5lOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcm91dGluZTogc3RyaW5nIHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZUVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBOb3RpY2VPckVycm9yIHtcbiAgcHVibGljIHNldmVyaXR5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGNvZGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgZGV0YWlsOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGhpbnQ6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgcG9zaXRpb246IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgaW50ZXJuYWxQb3NpdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBpbnRlcm5hbFF1ZXJ5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIHdoZXJlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIHNjaGVtYTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyB0YWJsZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBjb2x1bW46IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgZGF0YVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgY29uc3RyYWludDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBmaWxlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGxpbmU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgcm91dGluZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lXG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvcHlEYXRhTWVzc2FnZSB7XG4gIHB1YmxpYyByZWFkb25seSBuYW1lID0gJ2NvcHlEYXRhJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNodW5rOiBCdWZmZXJcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgQ29weVJlc3BvbnNlIHtcbiAgcHVibGljIHJlYWRvbmx5IGNvbHVtblR5cGVzOiBudW1iZXJbXVxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lLFxuICAgIHB1YmxpYyByZWFkb25seSBiaW5hcnk6IGJvb2xlYW4sXG4gICAgY29sdW1uQ291bnQ6IG51bWJlclxuICApIHtcbiAgICB0aGlzLmNvbHVtblR5cGVzID0gbmV3IEFycmF5KGNvbHVtbkNvdW50KVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWVsZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IHRhYmxlSUQ6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uSUQ6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YVR5cGVJRDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBkYXRhVHlwZVNpemU6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YVR5cGVNb2RpZmllcjogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBmb3JtYXQ6IE1vZGVcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgUm93RGVzY3JpcHRpb25NZXNzYWdlIHtcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ3Jvd0Rlc2NyaXB0aW9uJ1xuICBwdWJsaWMgcmVhZG9ubHkgZmllbGRzOiBGaWVsZFtdXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmllbGRDb3VudDogbnVtYmVyXG4gICkge1xuICAgIHRoaXMuZmllbGRzID0gbmV3IEFycmF5KHRoaXMuZmllbGRDb3VudClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlIHtcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ3BhcmFtZXRlckRlc2NyaXB0aW9uJ1xuICBwdWJsaWMgcmVhZG9ubHkgZGF0YVR5cGVJRHM6IG51bWJlcltdXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyYW1ldGVyQ291bnQ6IG51bWJlclxuICApIHtcbiAgICB0aGlzLmRhdGFUeXBlSURzID0gbmV3IEFycmF5KHRoaXMucGFyYW1ldGVyQ291bnQpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhcmFtZXRlclN0YXR1c01lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAncGFyYW1ldGVyU3RhdHVzJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmFtZXRlck5hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyYW1ldGVyVmFsdWU6IHN0cmluZ1xuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkIGltcGxlbWVudHMgQmFja2VuZE1lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAnYXV0aGVudGljYXRpb25NRDVQYXNzd29yZCdcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBzYWx0OiBCdWZmZXJcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgQmFja2VuZEtleURhdGFNZXNzYWdlIHtcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ2JhY2tlbmRLZXlEYXRhJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NJRDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBzZWNyZXRLZXk6IG51bWJlclxuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb25SZXNwb25zZU1lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAnbm90aWZpY2F0aW9uJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NJZDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjaGFubmVsOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IHBheWxvYWQ6IHN0cmluZ1xuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWFkeUZvclF1ZXJ5TWVzc2FnZSB7XG4gIHB1YmxpYyByZWFkb25seSBuYW1lOiBNZXNzYWdlTmFtZSA9ICdyZWFkeUZvclF1ZXJ5J1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YXR1czogc3RyaW5nXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIENvbW1hbmRDb21wbGV0ZU1lc3NhZ2Uge1xuICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogTWVzc2FnZU5hbWUgPSAnY29tbWFuZENvbXBsZXRlJ1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHQ6IHN0cmluZ1xuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhUm93TWVzc2FnZSB7XG4gIHB1YmxpYyByZWFkb25seSBmaWVsZENvdW50OiBudW1iZXJcbiAgcHVibGljIHJlYWRvbmx5IG5hbWU6IE1lc3NhZ2VOYW1lID0gJ2RhdGFSb3cnXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgZmllbGRzOiBhbnlbXVxuICApIHtcbiAgICB0aGlzLmZpZWxkQ291bnQgPSBmaWVsZHMubGVuZ3RoXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vdGljZU1lc3NhZ2UgaW1wbGVtZW50cyBCYWNrZW5kTWVzc2FnZSwgTm90aWNlT3JFcnJvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZW5ndGg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gICkge31cbiAgcHVibGljIHJlYWRvbmx5IG5hbWUgPSAnbm90aWNlJ1xuICBwdWJsaWMgc2V2ZXJpdHk6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgY29kZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBkZXRhaWw6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgaGludDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBwb3NpdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBpbnRlcm5hbFBvc2l0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGludGVybmFsUXVlcnk6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgd2hlcmU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgc2NoZW1hOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIHRhYmxlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGNvbHVtbjogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBkYXRhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyBjb25zdHJhaW50OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgcHVibGljIGZpbGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBwdWJsaWMgbGluZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHB1YmxpYyByb3V0aW5lOiBzdHJpbmcgfCB1bmRlZmluZWRcbn1cbiIsICIvL2JpbmFyeSBkYXRhIHdyaXRlciB0dW5lZCBmb3IgZW5jb2RpbmcgYmluYXJ5IHNwZWNpZmljIHRvIHRoZSBwb3N0Z3JlcyBiaW5hcnkgcHJvdG9jb2xcblxuZXhwb3J0IGNsYXNzIFdyaXRlciB7XG4gIHByaXZhdGUgYnVmZmVyOiBCdWZmZXJcbiAgcHJpdmF0ZSBvZmZzZXQ6IG51bWJlciA9IDVcbiAgcHJpdmF0ZSBoZWFkZXJQb3NpdGlvbjogbnVtYmVyID0gMFxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNpemUgPSAyNTYpIHtcbiAgICB0aGlzLmJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShzaXplKVxuICB9XG5cbiAgcHJpdmF0ZSBlbnN1cmUoc2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgcmVtYWluaW5nID0gdGhpcy5idWZmZXIubGVuZ3RoIC0gdGhpcy5vZmZzZXRcbiAgICBpZiAocmVtYWluaW5nIDwgc2l6ZSkge1xuICAgICAgY29uc3Qgb2xkQnVmZmVyID0gdGhpcy5idWZmZXJcbiAgICAgIC8vIGV4cG9uZW50aWFsIGdyb3d0aCBmYWN0b3Igb2YgYXJvdW5kIH4gMS41XG4gICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMjY5MDYzL2J1ZmZlci1ncm93dGgtc3RyYXRlZ3lcbiAgICAgIGNvbnN0IG5ld1NpemUgPSBvbGRCdWZmZXIubGVuZ3RoICsgKG9sZEJ1ZmZlci5sZW5ndGggPj4gMSkgKyBzaXplXG4gICAgICB0aGlzLmJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuZXdTaXplKVxuICAgICAgb2xkQnVmZmVyLmNvcHkodGhpcy5idWZmZXIpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFkZEludDMyKG51bTogbnVtYmVyKTogV3JpdGVyIHtcbiAgICB0aGlzLmVuc3VyZSg0KVxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gMjQpICYgMHhmZlxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gMTYpICYgMHhmZlxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gOCkgJiAweGZmXG4gICAgdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK10gPSAobnVtID4+PiAwKSAmIDB4ZmZcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcHVibGljIGFkZEludDE2KG51bTogbnVtYmVyKTogV3JpdGVyIHtcbiAgICB0aGlzLmVuc3VyZSgyKVxuICAgIHRoaXMuYnVmZmVyW3RoaXMub2Zmc2V0KytdID0gKG51bSA+Pj4gOCkgJiAweGZmXG4gICAgdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK10gPSAobnVtID4+PiAwKSAmIDB4ZmZcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcHVibGljIGFkZENTdHJpbmcoc3RyaW5nOiBzdHJpbmcpOiBXcml0ZXIge1xuICAgIGlmICghc3RyaW5nKSB7XG4gICAgICB0aGlzLmVuc3VyZSgxKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsZW4gPSBCdWZmZXIuYnl0ZUxlbmd0aChzdHJpbmcpXG4gICAgICB0aGlzLmVuc3VyZShsZW4gKyAxKSAvLyArMSBmb3IgbnVsbCB0ZXJtaW5hdG9yXG4gICAgICB0aGlzLmJ1ZmZlci53cml0ZShzdHJpbmcsIHRoaXMub2Zmc2V0LCAndXRmLTgnKVxuICAgICAgdGhpcy5vZmZzZXQgKz0gbGVuXG4gICAgfVxuXG4gICAgdGhpcy5idWZmZXJbdGhpcy5vZmZzZXQrK10gPSAwIC8vIG51bGwgdGVybWluYXRvclxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBwdWJsaWMgYWRkU3RyaW5nKHN0cmluZzogc3RyaW5nID0gJycpOiBXcml0ZXIge1xuICAgIGNvbnN0IGxlbiA9IEJ1ZmZlci5ieXRlTGVuZ3RoKHN0cmluZylcbiAgICB0aGlzLmVuc3VyZShsZW4pXG4gICAgdGhpcy5idWZmZXIud3JpdGUoc3RyaW5nLCB0aGlzLm9mZnNldClcbiAgICB0aGlzLm9mZnNldCArPSBsZW5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcHVibGljIGFkZChvdGhlckJ1ZmZlcjogQnVmZmVyKTogV3JpdGVyIHtcbiAgICB0aGlzLmVuc3VyZShvdGhlckJ1ZmZlci5sZW5ndGgpXG4gICAgb3RoZXJCdWZmZXIuY29weSh0aGlzLmJ1ZmZlciwgdGhpcy5vZmZzZXQpXG4gICAgdGhpcy5vZmZzZXQgKz0gb3RoZXJCdWZmZXIubGVuZ3RoXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHByaXZhdGUgam9pbihjb2RlPzogbnVtYmVyKTogQnVmZmVyIHtcbiAgICBpZiAoY29kZSkge1xuICAgICAgdGhpcy5idWZmZXJbdGhpcy5oZWFkZXJQb3NpdGlvbl0gPSBjb2RlXG4gICAgICAvL2xlbmd0aCBpcyBldmVyeXRoaW5nIGluIHRoaXMgcGFja2V0IG1pbnVzIHRoZSBjb2RlXG4gICAgICBjb25zdCBsZW5ndGggPSB0aGlzLm9mZnNldCAtICh0aGlzLmhlYWRlclBvc2l0aW9uICsgMSlcbiAgICAgIHRoaXMuYnVmZmVyLndyaXRlSW50MzJCRShsZW5ndGgsIHRoaXMuaGVhZGVyUG9zaXRpb24gKyAxKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXIuc2xpY2UoY29kZSA/IDAgOiA1LCB0aGlzLm9mZnNldClcbiAgfVxuXG4gIHB1YmxpYyBmbHVzaChjb2RlPzogbnVtYmVyKTogQnVmZmVyIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmpvaW4oY29kZSlcbiAgICB0aGlzLm9mZnNldCA9IDVcbiAgICB0aGlzLmhlYWRlclBvc2l0aW9uID0gMFxuICAgIHRoaXMuYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKHRoaXMuc2l6ZSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBXcml0ZXIgfSBmcm9tICcuL2J1ZmZlci13cml0ZXInXG5cbmNvbnN0IGVudW0gY29kZSB7XG4gIHN0YXJ0dXAgPSAweDcwLFxuICBxdWVyeSA9IDB4NTEsXG4gIHBhcnNlID0gMHg1MCxcbiAgYmluZCA9IDB4NDIsXG4gIGV4ZWN1dGUgPSAweDQ1LFxuICBmbHVzaCA9IDB4NDgsXG4gIHN5bmMgPSAweDUzLFxuICBlbmQgPSAweDU4LFxuICBjbG9zZSA9IDB4NDMsXG4gIGRlc2NyaWJlID0gMHg0NCxcbiAgY29weUZyb21DaHVuayA9IDB4NjQsXG4gIGNvcHlEb25lID0gMHg2MyxcbiAgY29weUZhaWwgPSAweDY2LFxufVxuXG5jb25zdCB3cml0ZXIgPSBuZXcgV3JpdGVyKClcblxuY29uc3Qgc3RhcnR1cCA9IChvcHRzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogQnVmZmVyID0+IHtcbiAgLy8gcHJvdG9jb2wgdmVyc2lvblxuICB3cml0ZXIuYWRkSW50MTYoMykuYWRkSW50MTYoMClcbiAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3B0cykpIHtcbiAgICB3cml0ZXIuYWRkQ1N0cmluZyhrZXkpLmFkZENTdHJpbmcob3B0c1trZXldKVxuICB9XG5cbiAgd3JpdGVyLmFkZENTdHJpbmcoJ2NsaWVudF9lbmNvZGluZycpLmFkZENTdHJpbmcoJ1VURjgnKVxuXG4gIGNvbnN0IGJvZHlCdWZmZXIgPSB3cml0ZXIuYWRkQ1N0cmluZygnJykuZmx1c2goKVxuICAvLyB0aGlzIG1lc3NhZ2UgaXMgc2VudCB3aXRob3V0IGEgY29kZVxuXG4gIGNvbnN0IGxlbmd0aCA9IGJvZHlCdWZmZXIubGVuZ3RoICsgNFxuXG4gIHJldHVybiBuZXcgV3JpdGVyKCkuYWRkSW50MzIobGVuZ3RoKS5hZGQoYm9keUJ1ZmZlcikuZmx1c2goKVxufVxuXG5jb25zdCByZXF1ZXN0U3NsID0gKCk6IEJ1ZmZlciA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gQnVmZmVyLmFsbG9jVW5zYWZlKDgpXG4gIHJlc3BvbnNlLndyaXRlSW50MzJCRSg4LCAwKVxuICByZXNwb25zZS53cml0ZUludDMyQkUoODA4NzcxMDMsIDQpXG4gIHJldHVybiByZXNwb25zZVxufVxuXG5jb25zdCBwYXNzd29yZCA9IChwYXNzd29yZDogc3RyaW5nKTogQnVmZmVyID0+IHtcbiAgcmV0dXJuIHdyaXRlci5hZGRDU3RyaW5nKHBhc3N3b3JkKS5mbHVzaChjb2RlLnN0YXJ0dXApXG59XG5cbmNvbnN0IHNlbmRTQVNMSW5pdGlhbFJlc3BvbnNlTWVzc2FnZSA9IGZ1bmN0aW9uIChtZWNoYW5pc206IHN0cmluZywgaW5pdGlhbFJlc3BvbnNlOiBzdHJpbmcpOiBCdWZmZXIge1xuICAvLyAweDcwID0gJ3AnXG4gIHdyaXRlci5hZGRDU3RyaW5nKG1lY2hhbmlzbSkuYWRkSW50MzIoQnVmZmVyLmJ5dGVMZW5ndGgoaW5pdGlhbFJlc3BvbnNlKSkuYWRkU3RyaW5nKGluaXRpYWxSZXNwb25zZSlcblxuICByZXR1cm4gd3JpdGVyLmZsdXNoKGNvZGUuc3RhcnR1cClcbn1cblxuY29uc3Qgc2VuZFNDUkFNQ2xpZW50RmluYWxNZXNzYWdlID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxEYXRhOiBzdHJpbmcpOiBCdWZmZXIge1xuICByZXR1cm4gd3JpdGVyLmFkZFN0cmluZyhhZGRpdGlvbmFsRGF0YSkuZmx1c2goY29kZS5zdGFydHVwKVxufVxuXG5jb25zdCBxdWVyeSA9ICh0ZXh0OiBzdHJpbmcpOiBCdWZmZXIgPT4ge1xuICByZXR1cm4gd3JpdGVyLmFkZENTdHJpbmcodGV4dCkuZmx1c2goY29kZS5xdWVyeSlcbn1cblxudHlwZSBQYXJzZU9wdHMgPSB7XG4gIG5hbWU/OiBzdHJpbmdcbiAgdHlwZXM/OiBudW1iZXJbXVxuICB0ZXh0OiBzdHJpbmdcbn1cblxuY29uc3QgZW1wdHlBcnJheTogYW55W10gPSBbXVxuXG5jb25zdCBwYXJzZSA9IChxdWVyeTogUGFyc2VPcHRzKTogQnVmZmVyID0+IHtcbiAgLy8gZXhwZWN0IHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gIC8vIHsgbmFtZTogJ3F1ZXJ5TmFtZScsXG4gIC8vICAgdGV4dDogJ3NlbGVjdCAqIGZyb20gYmxhaCcsXG4gIC8vICAgdHlwZXM6IFsnaW50OCcsICdib29sJ10gfVxuXG4gIC8vIG5vcm1hbGl6ZSBtaXNzaW5nIHF1ZXJ5IG5hbWVzIHRvIGFsbG93IGZvciBudWxsXG4gIGNvbnN0IG5hbWUgPSBxdWVyeS5uYW1lIHx8ICcnXG4gIGlmIChuYW1lLmxlbmd0aCA+IDYzKSB7XG4gICAgY29uc29sZS5lcnJvcignV2FybmluZyEgUG9zdGdyZXMgb25seSBzdXBwb3J0cyA2MyBjaGFyYWN0ZXJzIGZvciBxdWVyeSBuYW1lcy4nKVxuICAgIGNvbnNvbGUuZXJyb3IoJ1lvdSBzdXBwbGllZCAlcyAoJXMpJywgbmFtZSwgbmFtZS5sZW5ndGgpXG4gICAgY29uc29sZS5lcnJvcignVGhpcyBjYW4gY2F1c2UgY29uZmxpY3RzIGFuZCBzaWxlbnQgZXJyb3JzIGV4ZWN1dGluZyBxdWVyaWVzJylcbiAgfVxuXG4gIGNvbnN0IHR5cGVzID0gcXVlcnkudHlwZXMgfHwgZW1wdHlBcnJheVxuXG4gIGNvbnN0IGxlbiA9IHR5cGVzLmxlbmd0aFxuXG4gIGNvbnN0IGJ1ZmZlciA9IHdyaXRlclxuICAgIC5hZGRDU3RyaW5nKG5hbWUpIC8vIG5hbWUgb2YgcXVlcnlcbiAgICAuYWRkQ1N0cmluZyhxdWVyeS50ZXh0KSAvLyBhY3R1YWwgcXVlcnkgdGV4dFxuICAgIC5hZGRJbnQxNihsZW4pXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGJ1ZmZlci5hZGRJbnQzMih0eXBlc1tpXSlcbiAgfVxuXG4gIHJldHVybiB3cml0ZXIuZmx1c2goY29kZS5wYXJzZSlcbn1cblxudHlwZSBWYWx1ZU1hcHBlciA9IChwYXJhbTogYW55LCBpbmRleDogbnVtYmVyKSA9PiBhbnlcblxudHlwZSBCaW5kT3B0cyA9IHtcbiAgcG9ydGFsPzogc3RyaW5nXG4gIGJpbmFyeT86IGJvb2xlYW5cbiAgc3RhdGVtZW50Pzogc3RyaW5nXG4gIHZhbHVlcz86IGFueVtdXG4gIC8vIG9wdGlvbmFsIG1hcCBmcm9tIEpTIHZhbHVlIHRvIHBvc3RncmVzIHZhbHVlIHBlciBwYXJhbWV0ZXJcbiAgdmFsdWVNYXBwZXI/OiBWYWx1ZU1hcHBlclxufVxuXG5jb25zdCBwYXJhbVdyaXRlciA9IG5ldyBXcml0ZXIoKVxuXG4vLyBtYWtlIHRoaXMgYSBjb25zdCBlbnVtIHNvIHR5cGVzY3JpcHQgd2lsbCBpbmxpbmUgdGhlIHZhbHVlXG5jb25zdCBlbnVtIFBhcmFtVHlwZSB7XG4gIFNUUklORyA9IDAsXG4gIEJJTkFSWSA9IDEsXG59XG5cbmNvbnN0IHdyaXRlVmFsdWVzID0gZnVuY3Rpb24gKHZhbHVlczogYW55W10sIHZhbHVlTWFwcGVyPzogVmFsdWVNYXBwZXIpOiB2b2lkIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBtYXBwZWRWYWwgPSB2YWx1ZU1hcHBlciA/IHZhbHVlTWFwcGVyKHZhbHVlc1tpXSwgaSkgOiB2YWx1ZXNbaV1cbiAgICBpZiAobWFwcGVkVmFsID09IG51bGwpIHtcbiAgICAgIC8vIGFkZCB0aGUgcGFyYW0gdHlwZSAoc3RyaW5nKSB0byB0aGUgd3JpdGVyXG4gICAgICB3cml0ZXIuYWRkSW50MTYoUGFyYW1UeXBlLlNUUklORylcbiAgICAgIC8vIHdyaXRlIC0xIHRvIHRoZSBwYXJhbSB3cml0ZXIgdG8gaW5kaWNhdGUgbnVsbFxuICAgICAgcGFyYW1Xcml0ZXIuYWRkSW50MzIoLTEpXG4gICAgfSBlbHNlIGlmIChtYXBwZWRWYWwgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgIC8vIGFkZCB0aGUgcGFyYW0gdHlwZSAoYmluYXJ5KSB0byB0aGUgd3JpdGVyXG4gICAgICB3cml0ZXIuYWRkSW50MTYoUGFyYW1UeXBlLkJJTkFSWSlcbiAgICAgIC8vIGFkZCB0aGUgYnVmZmVyIHRvIHRoZSBwYXJhbSB3cml0ZXJcbiAgICAgIHBhcmFtV3JpdGVyLmFkZEludDMyKG1hcHBlZFZhbC5sZW5ndGgpXG4gICAgICBwYXJhbVdyaXRlci5hZGQobWFwcGVkVmFsKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhZGQgdGhlIHBhcmFtIHR5cGUgKHN0cmluZykgdG8gdGhlIHdyaXRlclxuICAgICAgd3JpdGVyLmFkZEludDE2KFBhcmFtVHlwZS5TVFJJTkcpXG4gICAgICBwYXJhbVdyaXRlci5hZGRJbnQzMihCdWZmZXIuYnl0ZUxlbmd0aChtYXBwZWRWYWwpKVxuICAgICAgcGFyYW1Xcml0ZXIuYWRkU3RyaW5nKG1hcHBlZFZhbClcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgYmluZCA9IChjb25maWc6IEJpbmRPcHRzID0ge30pOiBCdWZmZXIgPT4ge1xuICAvLyBub3JtYWxpemUgY29uZmlnXG4gIGNvbnN0IHBvcnRhbCA9IGNvbmZpZy5wb3J0YWwgfHwgJydcbiAgY29uc3Qgc3RhdGVtZW50ID0gY29uZmlnLnN0YXRlbWVudCB8fCAnJ1xuICBjb25zdCBiaW5hcnkgPSBjb25maWcuYmluYXJ5IHx8IGZhbHNlXG4gIGNvbnN0IHZhbHVlcyA9IGNvbmZpZy52YWx1ZXMgfHwgZW1wdHlBcnJheVxuICBjb25zdCBsZW4gPSB2YWx1ZXMubGVuZ3RoXG5cbiAgd3JpdGVyLmFkZENTdHJpbmcocG9ydGFsKS5hZGRDU3RyaW5nKHN0YXRlbWVudClcbiAgd3JpdGVyLmFkZEludDE2KGxlbilcblxuICB3cml0ZVZhbHVlcyh2YWx1ZXMsIGNvbmZpZy52YWx1ZU1hcHBlcilcblxuICB3cml0ZXIuYWRkSW50MTYobGVuKVxuICB3cml0ZXIuYWRkKHBhcmFtV3JpdGVyLmZsdXNoKCkpXG5cbiAgLy8gYWxsIHJlc3VsdHMgdXNlIHRoZSBzYW1lIGZvcm1hdCBjb2RlXG4gIHdyaXRlci5hZGRJbnQxNigxKVxuICAvLyBmb3JtYXQgY29kZVxuICB3cml0ZXIuYWRkSW50MTYoYmluYXJ5ID8gUGFyYW1UeXBlLkJJTkFSWSA6IFBhcmFtVHlwZS5TVFJJTkcpXG4gIHJldHVybiB3cml0ZXIuZmx1c2goY29kZS5iaW5kKVxufVxuXG50eXBlIEV4ZWNPcHRzID0ge1xuICBwb3J0YWw/OiBzdHJpbmdcbiAgcm93cz86IG51bWJlclxufVxuXG5jb25zdCBlbXB0eUV4ZWN1dGUgPSBCdWZmZXIuZnJvbShbY29kZS5leGVjdXRlLCAweDAwLCAweDAwLCAweDAwLCAweDA5LCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwXSlcblxuY29uc3QgZXhlY3V0ZSA9IChjb25maWc/OiBFeGVjT3B0cyk6IEJ1ZmZlciA9PiB7XG4gIC8vIHRoaXMgaXMgdGhlIGhhcHB5IHBhdGggZm9yIG1vc3QgcXVlcmllc1xuICBpZiAoIWNvbmZpZyB8fCAoIWNvbmZpZy5wb3J0YWwgJiYgIWNvbmZpZy5yb3dzKSkge1xuICAgIHJldHVybiBlbXB0eUV4ZWN1dGVcbiAgfVxuXG4gIGNvbnN0IHBvcnRhbCA9IGNvbmZpZy5wb3J0YWwgfHwgJydcbiAgY29uc3Qgcm93cyA9IGNvbmZpZy5yb3dzIHx8IDBcblxuICBjb25zdCBwb3J0YWxMZW5ndGggPSBCdWZmZXIuYnl0ZUxlbmd0aChwb3J0YWwpXG4gIGNvbnN0IGxlbiA9IDQgKyBwb3J0YWxMZW5ndGggKyAxICsgNFxuICAvLyBvbmUgZXh0cmEgYml0IGZvciBjb2RlXG4gIGNvbnN0IGJ1ZmYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMSArIGxlbilcbiAgYnVmZlswXSA9IGNvZGUuZXhlY3V0ZVxuICBidWZmLndyaXRlSW50MzJCRShsZW4sIDEpXG4gIGJ1ZmYud3JpdGUocG9ydGFsLCA1LCAndXRmLTgnKVxuICBidWZmW3BvcnRhbExlbmd0aCArIDVdID0gMCAvLyBudWxsIHRlcm1pbmF0ZSBwb3J0YWwgY1N0cmluZ1xuICBidWZmLndyaXRlVUludDMyQkUocm93cywgYnVmZi5sZW5ndGggLSA0KVxuICByZXR1cm4gYnVmZlxufVxuXG5jb25zdCBjYW5jZWwgPSAocHJvY2Vzc0lEOiBudW1iZXIsIHNlY3JldEtleTogbnVtYmVyKTogQnVmZmVyID0+IHtcbiAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKDE2KVxuICBidWZmZXIud3JpdGVJbnQzMkJFKDE2LCAwKVxuICBidWZmZXIud3JpdGVJbnQxNkJFKDEyMzQsIDQpXG4gIGJ1ZmZlci53cml0ZUludDE2QkUoNTY3OCwgNilcbiAgYnVmZmVyLndyaXRlSW50MzJCRShwcm9jZXNzSUQsIDgpXG4gIGJ1ZmZlci53cml0ZUludDMyQkUoc2VjcmV0S2V5LCAxMilcbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG50eXBlIFBvcnRhbE9wdHMgPSB7XG4gIHR5cGU6ICdTJyB8ICdQJ1xuICBuYW1lPzogc3RyaW5nXG59XG5cbmNvbnN0IGNzdHJpbmdNZXNzYWdlID0gKGNvZGU6IGNvZGUsIHN0cmluZzogc3RyaW5nKTogQnVmZmVyID0+IHtcbiAgY29uc3Qgc3RyaW5nTGVuID0gQnVmZmVyLmJ5dGVMZW5ndGgoc3RyaW5nKVxuICBjb25zdCBsZW4gPSA0ICsgc3RyaW5nTGVuICsgMVxuICAvLyBvbmUgZXh0cmEgYml0IGZvciBjb2RlXG4gIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgxICsgbGVuKVxuICBidWZmZXJbMF0gPSBjb2RlXG4gIGJ1ZmZlci53cml0ZUludDMyQkUobGVuLCAxKVxuICBidWZmZXIud3JpdGUoc3RyaW5nLCA1LCAndXRmLTgnKVxuICBidWZmZXJbbGVuXSA9IDAgLy8gbnVsbCB0ZXJtaW5hdGUgY1N0cmluZ1xuICByZXR1cm4gYnVmZmVyXG59XG5cbmNvbnN0IGVtcHR5RGVzY3JpYmVQb3J0YWwgPSB3cml0ZXIuYWRkQ1N0cmluZygnUCcpLmZsdXNoKGNvZGUuZGVzY3JpYmUpXG5jb25zdCBlbXB0eURlc2NyaWJlU3RhdGVtZW50ID0gd3JpdGVyLmFkZENTdHJpbmcoJ1MnKS5mbHVzaChjb2RlLmRlc2NyaWJlKVxuXG5jb25zdCBkZXNjcmliZSA9IChtc2c6IFBvcnRhbE9wdHMpOiBCdWZmZXIgPT4ge1xuICByZXR1cm4gbXNnLm5hbWVcbiAgICA/IGNzdHJpbmdNZXNzYWdlKGNvZGUuZGVzY3JpYmUsIGAke21zZy50eXBlfSR7bXNnLm5hbWUgfHwgJyd9YClcbiAgICA6IG1zZy50eXBlID09PSAnUCdcbiAgICA/IGVtcHR5RGVzY3JpYmVQb3J0YWxcbiAgICA6IGVtcHR5RGVzY3JpYmVTdGF0ZW1lbnRcbn1cblxuY29uc3QgY2xvc2UgPSAobXNnOiBQb3J0YWxPcHRzKTogQnVmZmVyID0+IHtcbiAgY29uc3QgdGV4dCA9IGAke21zZy50eXBlfSR7bXNnLm5hbWUgfHwgJyd9YFxuICByZXR1cm4gY3N0cmluZ01lc3NhZ2UoY29kZS5jbG9zZSwgdGV4dClcbn1cblxuY29uc3QgY29weURhdGEgPSAoY2h1bms6IEJ1ZmZlcik6IEJ1ZmZlciA9PiB7XG4gIHJldHVybiB3cml0ZXIuYWRkKGNodW5rKS5mbHVzaChjb2RlLmNvcHlGcm9tQ2h1bmspXG59XG5cbmNvbnN0IGNvcHlGYWlsID0gKG1lc3NhZ2U6IHN0cmluZyk6IEJ1ZmZlciA9PiB7XG4gIHJldHVybiBjc3RyaW5nTWVzc2FnZShjb2RlLmNvcHlGYWlsLCBtZXNzYWdlKVxufVxuXG5jb25zdCBjb2RlT25seUJ1ZmZlciA9IChjb2RlOiBjb2RlKTogQnVmZmVyID0+IEJ1ZmZlci5mcm9tKFtjb2RlLCAweDAwLCAweDAwLCAweDAwLCAweDA0XSlcblxuY29uc3QgZmx1c2hCdWZmZXIgPSBjb2RlT25seUJ1ZmZlcihjb2RlLmZsdXNoKVxuY29uc3Qgc3luY0J1ZmZlciA9IGNvZGVPbmx5QnVmZmVyKGNvZGUuc3luYylcbmNvbnN0IGVuZEJ1ZmZlciA9IGNvZGVPbmx5QnVmZmVyKGNvZGUuZW5kKVxuY29uc3QgY29weURvbmVCdWZmZXIgPSBjb2RlT25seUJ1ZmZlcihjb2RlLmNvcHlEb25lKVxuXG5jb25zdCBzZXJpYWxpemUgPSB7XG4gIHN0YXJ0dXAsXG4gIHBhc3N3b3JkLFxuICByZXF1ZXN0U3NsLFxuICBzZW5kU0FTTEluaXRpYWxSZXNwb25zZU1lc3NhZ2UsXG4gIHNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZSxcbiAgcXVlcnksXG4gIHBhcnNlLFxuICBiaW5kLFxuICBleGVjdXRlLFxuICBkZXNjcmliZSxcbiAgY2xvc2UsXG4gIGZsdXNoOiAoKSA9PiBmbHVzaEJ1ZmZlcixcbiAgc3luYzogKCkgPT4gc3luY0J1ZmZlcixcbiAgZW5kOiAoKSA9PiBlbmRCdWZmZXIsXG4gIGNvcHlEYXRhLFxuICBjb3B5RG9uZTogKCkgPT4gY29weURvbmVCdWZmZXIsXG4gIGNvcHlGYWlsLFxuICBjYW5jZWwsXG59XG5cbmV4cG9ydCB7IHNlcmlhbGl6ZSB9XG4iLCAiY29uc3QgZW1wdHlCdWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMClcblxuZXhwb3J0IGNsYXNzIEJ1ZmZlclJlYWRlciB7XG4gIHByaXZhdGUgYnVmZmVyOiBCdWZmZXIgPSBlbXB0eUJ1ZmZlclxuXG4gIC8vIFRPRE8oYm1jKTogc3VwcG9ydCBub24tdXRmOCBlbmNvZGluZz9cbiAgcHJpdmF0ZSBlbmNvZGluZzogc3RyaW5nID0gJ3V0Zi04J1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgb2Zmc2V0OiBudW1iZXIgPSAwKSB7fVxuXG4gIHB1YmxpYyBzZXRCdWZmZXIob2Zmc2V0OiBudW1iZXIsIGJ1ZmZlcjogQnVmZmVyKTogdm9pZCB7XG4gICAgdGhpcy5vZmZzZXQgPSBvZmZzZXRcbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlclxuICB9XG5cbiAgcHVibGljIGludDE2KCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXIucmVhZEludDE2QkUodGhpcy5vZmZzZXQpXG4gICAgdGhpcy5vZmZzZXQgKz0gMlxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHB1YmxpYyBieXRlKCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXJbdGhpcy5vZmZzZXRdXG4gICAgdGhpcy5vZmZzZXQrK1xuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHB1YmxpYyBpbnQzMigpOiBudW1iZXIge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYnVmZmVyLnJlYWRJbnQzMkJFKHRoaXMub2Zmc2V0KVxuICAgIHRoaXMub2Zmc2V0ICs9IDRcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBwdWJsaWMgdWludDMyKCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXIucmVhZFVJbnQzMkJFKHRoaXMub2Zmc2V0KVxuICAgIHRoaXMub2Zmc2V0ICs9IDRcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBwdWJsaWMgc3RyaW5nKGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmJ1ZmZlci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCB0aGlzLm9mZnNldCwgdGhpcy5vZmZzZXQgKyBsZW5ndGgpXG4gICAgdGhpcy5vZmZzZXQgKz0gbGVuZ3RoXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgcHVibGljIGNzdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMub2Zmc2V0XG4gICAgbGV0IGVuZCA9IHN0YXJ0XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgd2hpbGUgKHRoaXMuYnVmZmVyW2VuZCsrXSAhPT0gMCkge31cbiAgICB0aGlzLm9mZnNldCA9IGVuZFxuICAgIHJldHVybiB0aGlzLmJ1ZmZlci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCBzdGFydCwgZW5kIC0gMSlcbiAgfVxuXG4gIHB1YmxpYyBieXRlcyhsZW5ndGg6IG51bWJlcik6IEJ1ZmZlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXIuc2xpY2UodGhpcy5vZmZzZXQsIHRoaXMub2Zmc2V0ICsgbGVuZ3RoKVxuICAgIHRoaXMub2Zmc2V0ICs9IGxlbmd0aFxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuIiwgImltcG9ydCB7IFRyYW5zZm9ybU9wdGlvbnMgfSBmcm9tICdzdHJlYW0nXG5pbXBvcnQge1xuICBNb2RlLFxuICBiaW5kQ29tcGxldGUsXG4gIHBhcnNlQ29tcGxldGUsXG4gIGNsb3NlQ29tcGxldGUsXG4gIG5vRGF0YSxcbiAgcG9ydGFsU3VzcGVuZGVkLFxuICBjb3B5RG9uZSxcbiAgcmVwbGljYXRpb25TdGFydCxcbiAgZW1wdHlRdWVyeSxcbiAgUmVhZHlGb3JRdWVyeU1lc3NhZ2UsXG4gIENvbW1hbmRDb21wbGV0ZU1lc3NhZ2UsXG4gIENvcHlEYXRhTWVzc2FnZSxcbiAgQ29weVJlc3BvbnNlLFxuICBOb3RpZmljYXRpb25SZXNwb25zZU1lc3NhZ2UsXG4gIFJvd0Rlc2NyaXB0aW9uTWVzc2FnZSxcbiAgUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlLFxuICBGaWVsZCxcbiAgRGF0YVJvd01lc3NhZ2UsXG4gIFBhcmFtZXRlclN0YXR1c01lc3NhZ2UsXG4gIEJhY2tlbmRLZXlEYXRhTWVzc2FnZSxcbiAgRGF0YWJhc2VFcnJvcixcbiAgQmFja2VuZE1lc3NhZ2UsXG4gIE1lc3NhZ2VOYW1lLFxuICBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkLFxuICBOb3RpY2VNZXNzYWdlLFxufSBmcm9tICcuL21lc3NhZ2VzJ1xuaW1wb3J0IHsgQnVmZmVyUmVhZGVyIH0gZnJvbSAnLi9idWZmZXItcmVhZGVyJ1xuXG4vLyBldmVyeSBtZXNzYWdlIGlzIHByZWZpeGVkIHdpdGggYSBzaW5nbGUgYnllXG5jb25zdCBDT0RFX0xFTkdUSCA9IDFcbi8vIGV2ZXJ5IG1lc3NhZ2UgaGFzIGFuIGludDMyIGxlbmd0aCB3aGljaCBpbmNsdWRlcyBpdHNlbGYgYnV0IGRvZXNcbi8vIE5PVCBpbmNsdWRlIHRoZSBjb2RlIGluIHRoZSBsZW5ndGhcbmNvbnN0IExFTl9MRU5HVEggPSA0XG5cbmNvbnN0IEhFQURFUl9MRU5HVEggPSBDT0RFX0xFTkdUSCArIExFTl9MRU5HVEhcblxuZXhwb3J0IHR5cGUgUGFja2V0ID0ge1xuICBjb2RlOiBudW1iZXJcbiAgcGFja2V0OiBCdWZmZXJcbn1cblxuY29uc3QgZW1wdHlCdWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMClcblxudHlwZSBTdHJlYW1PcHRpb25zID0gVHJhbnNmb3JtT3B0aW9ucyAmIHtcbiAgbW9kZTogTW9kZVxufVxuXG5jb25zdCBlbnVtIE1lc3NhZ2VDb2RlcyB7XG4gIERhdGFSb3cgPSAweDQ0LCAvLyBEXG4gIFBhcnNlQ29tcGxldGUgPSAweDMxLCAvLyAxXG4gIEJpbmRDb21wbGV0ZSA9IDB4MzIsIC8vIDJcbiAgQ2xvc2VDb21wbGV0ZSA9IDB4MzMsIC8vIDNcbiAgQ29tbWFuZENvbXBsZXRlID0gMHg0MywgLy8gQ1xuICBSZWFkeUZvclF1ZXJ5ID0gMHg1YSwgLy8gWlxuICBOb0RhdGEgPSAweDZlLCAvLyBuXG4gIE5vdGlmaWNhdGlvblJlc3BvbnNlID0gMHg0MSwgLy8gQVxuICBBdXRoZW50aWNhdGlvblJlc3BvbnNlID0gMHg1MiwgLy8gUlxuICBQYXJhbWV0ZXJTdGF0dXMgPSAweDUzLCAvLyBTXG4gIEJhY2tlbmRLZXlEYXRhID0gMHg0YiwgLy8gS1xuICBFcnJvck1lc3NhZ2UgPSAweDQ1LCAvLyBFXG4gIE5vdGljZU1lc3NhZ2UgPSAweDRlLCAvLyBOXG4gIFJvd0Rlc2NyaXB0aW9uTWVzc2FnZSA9IDB4NTQsIC8vIFRcbiAgUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlID0gMHg3NCwgLy8gdFxuICBQb3J0YWxTdXNwZW5kZWQgPSAweDczLCAvLyBzXG4gIFJlcGxpY2F0aW9uU3RhcnQgPSAweDU3LCAvLyBXXG4gIEVtcHR5UXVlcnkgPSAweDQ5LCAvLyBJXG4gIENvcHlJbiA9IDB4NDcsIC8vIEdcbiAgQ29weU91dCA9IDB4NDgsIC8vIEhcbiAgQ29weURvbmUgPSAweDYzLCAvLyBjXG4gIENvcHlEYXRhID0gMHg2NCwgLy8gZFxufVxuXG5leHBvcnQgdHlwZSBNZXNzYWdlQ2FsbGJhY2sgPSAobXNnOiBCYWNrZW5kTWVzc2FnZSkgPT4gdm9pZFxuXG5leHBvcnQgY2xhc3MgUGFyc2VyIHtcbiAgcHJpdmF0ZSBidWZmZXI6IEJ1ZmZlciA9IGVtcHR5QnVmZmVyXG4gIHByaXZhdGUgYnVmZmVyTGVuZ3RoOiBudW1iZXIgPSAwXG4gIHByaXZhdGUgYnVmZmVyT2Zmc2V0OiBudW1iZXIgPSAwXG4gIHByaXZhdGUgcmVhZGVyID0gbmV3IEJ1ZmZlclJlYWRlcigpXG4gIHByaXZhdGUgbW9kZTogTW9kZVxuXG4gIGNvbnN0cnVjdG9yKG9wdHM/OiBTdHJlYW1PcHRpb25zKSB7XG4gICAgaWYgKG9wdHM/Lm1vZGUgPT09ICdiaW5hcnknKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JpbmFyeSBtb2RlIG5vdCBzdXBwb3J0ZWQgeWV0JylcbiAgICB9XG4gICAgdGhpcy5tb2RlID0gb3B0cz8ubW9kZSB8fCAndGV4dCdcbiAgfVxuXG4gIHB1YmxpYyBwYXJzZShidWZmZXI6IEJ1ZmZlciwgY2FsbGJhY2s6IE1lc3NhZ2VDYWxsYmFjaykge1xuICAgIHRoaXMubWVyZ2VCdWZmZXIoYnVmZmVyKVxuICAgIGNvbnN0IGJ1ZmZlckZ1bGxMZW5ndGggPSB0aGlzLmJ1ZmZlck9mZnNldCArIHRoaXMuYnVmZmVyTGVuZ3RoXG4gICAgbGV0IG9mZnNldCA9IHRoaXMuYnVmZmVyT2Zmc2V0XG4gICAgd2hpbGUgKG9mZnNldCArIEhFQURFUl9MRU5HVEggPD0gYnVmZmVyRnVsbExlbmd0aCkge1xuICAgICAgLy8gY29kZSBpcyAxIGJ5dGUgbG9uZyAtIGl0IGlkZW50aWZpZXMgdGhlIG1lc3NhZ2UgdHlwZVxuICAgICAgY29uc3QgY29kZSA9IHRoaXMuYnVmZmVyW29mZnNldF1cbiAgICAgIC8vIGxlbmd0aCBpcyAxIFVpbnQzMkJFIC0gaXQgaXMgdGhlIGxlbmd0aCBvZiB0aGUgbWVzc2FnZSBFWENMVURJTkcgdGhlIGNvZGVcbiAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuYnVmZmVyLnJlYWRVSW50MzJCRShvZmZzZXQgKyBDT0RFX0xFTkdUSClcbiAgICAgIGNvbnN0IGZ1bGxNZXNzYWdlTGVuZ3RoID0gQ09ERV9MRU5HVEggKyBsZW5ndGhcbiAgICAgIGlmIChmdWxsTWVzc2FnZUxlbmd0aCArIG9mZnNldCA8PSBidWZmZXJGdWxsTGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmhhbmRsZVBhY2tldChvZmZzZXQgKyBIRUFERVJfTEVOR1RILCBjb2RlLCBsZW5ndGgsIHRoaXMuYnVmZmVyKVxuICAgICAgICBjYWxsYmFjayhtZXNzYWdlKVxuICAgICAgICBvZmZzZXQgKz0gZnVsbE1lc3NhZ2VMZW5ndGhcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvZmZzZXQgPT09IGJ1ZmZlckZ1bGxMZW5ndGgpIHtcbiAgICAgIC8vIE5vIG1vcmUgdXNlIGZvciB0aGUgYnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlciA9IGVtcHR5QnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDBcbiAgICAgIHRoaXMuYnVmZmVyT2Zmc2V0ID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBBZGp1c3QgdGhlIGN1cnNvcnMgb2YgcmVtYWluaW5nQnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IGJ1ZmZlckZ1bGxMZW5ndGggLSBvZmZzZXRcbiAgICAgIHRoaXMuYnVmZmVyT2Zmc2V0ID0gb2Zmc2V0XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBtZXJnZUJ1ZmZlcihidWZmZXI6IEJ1ZmZlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmJ1ZmZlckxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG5ld0xlbmd0aCA9IHRoaXMuYnVmZmVyTGVuZ3RoICsgYnVmZmVyLmJ5dGVMZW5ndGhcbiAgICAgIGNvbnN0IG5ld0Z1bGxMZW5ndGggPSBuZXdMZW5ndGggKyB0aGlzLmJ1ZmZlck9mZnNldFxuICAgICAgaWYgKG5ld0Z1bGxMZW5ndGggPiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIC8vIFdlIGNhbid0IGNvbmNhdCB0aGUgbmV3IGJ1ZmZlciB3aXRoIHRoZSByZW1haW5pbmcgb25lXG4gICAgICAgIGxldCBuZXdCdWZmZXI6IEJ1ZmZlclxuICAgICAgICBpZiAobmV3TGVuZ3RoIDw9IHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGggJiYgdGhpcy5idWZmZXJPZmZzZXQgPj0gdGhpcy5idWZmZXJMZW5ndGgpIHtcbiAgICAgICAgICAvLyBXZSBjYW4gbW92ZSB0aGUgcmVsZXZhbnQgcGFydCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXIgaW5zdGVhZCBvZiBhbGxvY2F0aW5nIGEgbmV3IGJ1ZmZlclxuICAgICAgICAgIG5ld0J1ZmZlciA9IHRoaXMuYnVmZmVyXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQWxsb2NhdGUgYSBuZXcgbGFyZ2VyIGJ1ZmZlclxuICAgICAgICAgIGxldCBuZXdCdWZmZXJMZW5ndGggPSB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoICogMlxuICAgICAgICAgIHdoaWxlIChuZXdMZW5ndGggPj0gbmV3QnVmZmVyTGVuZ3RoKSB7XG4gICAgICAgICAgICBuZXdCdWZmZXJMZW5ndGggKj0gMlxuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdCdWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobmV3QnVmZmVyTGVuZ3RoKVxuICAgICAgICB9XG4gICAgICAgIC8vIE1vdmUgdGhlIHJlbWFpbmluZyBidWZmZXIgdG8gdGhlIG5ldyBvbmVcbiAgICAgICAgdGhpcy5idWZmZXIuY29weShuZXdCdWZmZXIsIDAsIHRoaXMuYnVmZmVyT2Zmc2V0LCB0aGlzLmJ1ZmZlck9mZnNldCArIHRoaXMuYnVmZmVyTGVuZ3RoKVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ld0J1ZmZlclxuICAgICAgICB0aGlzLmJ1ZmZlck9mZnNldCA9IDBcbiAgICAgIH1cbiAgICAgIC8vIENvbmNhdCB0aGUgbmV3IGJ1ZmZlciB3aXRoIHRoZSByZW1haW5pbmcgb25lXG4gICAgICBidWZmZXIuY29weSh0aGlzLmJ1ZmZlciwgdGhpcy5idWZmZXJPZmZzZXQgKyB0aGlzLmJ1ZmZlckxlbmd0aClcbiAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gbmV3TGVuZ3RoXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyXG4gICAgICB0aGlzLmJ1ZmZlck9mZnNldCA9IDBcbiAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gYnVmZmVyLmJ5dGVMZW5ndGhcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVBhY2tldChvZmZzZXQ6IG51bWJlciwgY29kZTogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcik6IEJhY2tlbmRNZXNzYWdlIHtcbiAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkJpbmRDb21wbGV0ZTpcbiAgICAgICAgcmV0dXJuIGJpbmRDb21wbGV0ZVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUGFyc2VDb21wbGV0ZTpcbiAgICAgICAgcmV0dXJuIHBhcnNlQ29tcGxldGVcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNsb3NlQ29tcGxldGU6XG4gICAgICAgIHJldHVybiBjbG9zZUNvbXBsZXRlXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5Ob0RhdGE6XG4gICAgICAgIHJldHVybiBub0RhdGFcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLlBvcnRhbFN1c3BlbmRlZDpcbiAgICAgICAgcmV0dXJuIHBvcnRhbFN1c3BlbmRlZFxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuQ29weURvbmU6XG4gICAgICAgIHJldHVybiBjb3B5RG9uZVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUmVwbGljYXRpb25TdGFydDpcbiAgICAgICAgcmV0dXJuIHJlcGxpY2F0aW9uU3RhcnRcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkVtcHR5UXVlcnk6XG4gICAgICAgIHJldHVybiBlbXB0eVF1ZXJ5XG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5EYXRhUm93OlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZURhdGFSb3dNZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNvbW1hbmRDb21wbGV0ZTpcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VDb21tYW5kQ29tcGxldGVNZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLlJlYWR5Rm9yUXVlcnk6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlUmVhZHlGb3JRdWVyeU1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuTm90aWZpY2F0aW9uUmVzcG9uc2U6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlTm90aWZpY2F0aW9uTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMpXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5BdXRoZW50aWNhdGlvblJlc3BvbnNlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUF1dGhlbnRpY2F0aW9uUmVzcG9uc2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUGFyYW1ldGVyU3RhdHVzOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVBhcmFtZXRlclN0YXR1c01lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuQmFja2VuZEtleURhdGE6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlQmFja2VuZEtleURhdGEob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuRXJyb3JNZXNzYWdlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVycm9yTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMsICdlcnJvcicpXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5Ob3RpY2VNZXNzYWdlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVycm9yTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMsICdub3RpY2UnKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuUm93RGVzY3JpcHRpb25NZXNzYWdlOlxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVJvd0Rlc2NyaXB0aW9uTWVzc2FnZShvZmZzZXQsIGxlbmd0aCwgYnl0ZXMpXG4gICAgICBjYXNlIE1lc3NhZ2VDb2Rlcy5QYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2U6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlUGFyYW1ldGVyRGVzY3JpcHRpb25NZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNvcHlJbjpcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VDb3B5SW5NZXNzYWdlKG9mZnNldCwgbGVuZ3RoLCBieXRlcylcbiAgICAgIGNhc2UgTWVzc2FnZUNvZGVzLkNvcHlPdXQ6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlQ29weU91dE1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgY2FzZSBNZXNzYWdlQ29kZXMuQ29weURhdGE6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlQ29weURhdGEob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzKVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhYmFzZUVycm9yKCdyZWNlaXZlZCBpbnZhbGlkIHJlc3BvbnNlOiAnICsgY29kZS50b1N0cmluZygxNiksIGxlbmd0aCwgJ2Vycm9yJylcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHBhcnNlUmVhZHlGb3JRdWVyeU1lc3NhZ2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5yZWFkZXIuc3RyaW5nKDEpXG4gICAgcmV0dXJuIG5ldyBSZWFkeUZvclF1ZXJ5TWVzc2FnZShsZW5ndGgsIHN0YXR1cylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VDb21tYW5kQ29tcGxldGVNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IHRleHQgPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICByZXR1cm4gbmV3IENvbW1hbmRDb21wbGV0ZU1lc3NhZ2UobGVuZ3RoLCB0ZXh0KVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUNvcHlEYXRhKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIGNvbnN0IGNodW5rID0gYnl0ZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyAobGVuZ3RoIC0gNCkpXG4gICAgcmV0dXJuIG5ldyBDb3B5RGF0YU1lc3NhZ2UobGVuZ3RoLCBjaHVuaylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VDb3B5SW5NZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHJldHVybiB0aGlzLnBhcnNlQ29weU1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzLCAnY29weUluUmVzcG9uc2UnKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUNvcHlPdXRNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHJldHVybiB0aGlzLnBhcnNlQ29weU1lc3NhZ2Uob2Zmc2V0LCBsZW5ndGgsIGJ5dGVzLCAnY29weU91dFJlc3BvbnNlJylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VDb3B5TWVzc2FnZShvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIGJ5dGVzOiBCdWZmZXIsIG1lc3NhZ2VOYW1lOiBNZXNzYWdlTmFtZSkge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IGlzQmluYXJ5ID0gdGhpcy5yZWFkZXIuYnl0ZSgpICE9PSAwXG4gICAgY29uc3QgY29sdW1uQ291bnQgPSB0aGlzLnJlYWRlci5pbnQxNigpXG4gICAgY29uc3QgbWVzc2FnZSA9IG5ldyBDb3B5UmVzcG9uc2UobGVuZ3RoLCBtZXNzYWdlTmFtZSwgaXNCaW5hcnksIGNvbHVtbkNvdW50KVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sdW1uQ291bnQ7IGkrKykge1xuICAgICAgbWVzc2FnZS5jb2x1bW5UeXBlc1tpXSA9IHRoaXMucmVhZGVyLmludDE2KClcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VOb3RpZmljYXRpb25NZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IHByb2Nlc3NJZCA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICBjb25zdCBjaGFubmVsID0gdGhpcy5yZWFkZXIuY3N0cmluZygpXG4gICAgY29uc3QgcGF5bG9hZCA9IHRoaXMucmVhZGVyLmNzdHJpbmcoKVxuICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uUmVzcG9uc2VNZXNzYWdlKGxlbmd0aCwgcHJvY2Vzc0lkLCBjaGFubmVsLCBwYXlsb2FkKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZVJvd0Rlc2NyaXB0aW9uTWVzc2FnZShvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIGJ5dGVzOiBCdWZmZXIpIHtcbiAgICB0aGlzLnJlYWRlci5zZXRCdWZmZXIob2Zmc2V0LCBieXRlcylcbiAgICBjb25zdCBmaWVsZENvdW50ID0gdGhpcy5yZWFkZXIuaW50MTYoKVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgUm93RGVzY3JpcHRpb25NZXNzYWdlKGxlbmd0aCwgZmllbGRDb3VudClcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkQ291bnQ7IGkrKykge1xuICAgICAgbWVzc2FnZS5maWVsZHNbaV0gPSB0aGlzLnBhcnNlRmllbGQoKVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUZpZWxkKCk6IEZpZWxkIHtcbiAgICBjb25zdCBuYW1lID0gdGhpcy5yZWFkZXIuY3N0cmluZygpXG4gICAgY29uc3QgdGFibGVJRCA9IHRoaXMucmVhZGVyLnVpbnQzMigpXG4gICAgY29uc3QgY29sdW1uSUQgPSB0aGlzLnJlYWRlci5pbnQxNigpXG4gICAgY29uc3QgZGF0YVR5cGVJRCA9IHRoaXMucmVhZGVyLnVpbnQzMigpXG4gICAgY29uc3QgZGF0YVR5cGVTaXplID0gdGhpcy5yZWFkZXIuaW50MTYoKVxuICAgIGNvbnN0IGRhdGFUeXBlTW9kaWZpZXIgPSB0aGlzLnJlYWRlci5pbnQzMigpXG4gICAgY29uc3QgbW9kZSA9IHRoaXMucmVhZGVyLmludDE2KCkgPT09IDAgPyAndGV4dCcgOiAnYmluYXJ5J1xuICAgIHJldHVybiBuZXcgRmllbGQobmFtZSwgdGFibGVJRCwgY29sdW1uSUQsIGRhdGFUeXBlSUQsIGRhdGFUeXBlU2l6ZSwgZGF0YVR5cGVNb2RpZmllciwgbW9kZSlcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VQYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3QgcGFyYW1ldGVyQ291bnQgPSB0aGlzLnJlYWRlci5pbnQxNigpXG4gICAgY29uc3QgbWVzc2FnZSA9IG5ldyBQYXJhbWV0ZXJEZXNjcmlwdGlvbk1lc3NhZ2UobGVuZ3RoLCBwYXJhbWV0ZXJDb3VudClcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlckNvdW50OyBpKyspIHtcbiAgICAgIG1lc3NhZ2UuZGF0YVR5cGVJRHNbaV0gPSB0aGlzLnJlYWRlci5pbnQzMigpXG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlXG4gIH1cblxuICBwcml2YXRlIHBhcnNlRGF0YVJvd01lc3NhZ2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3QgZmllbGRDb3VudCA9IHRoaXMucmVhZGVyLmludDE2KClcbiAgICBjb25zdCBmaWVsZHM6IGFueVtdID0gbmV3IEFycmF5KGZpZWxkQ291bnQpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZENvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IGxlbiA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICAgIC8vIGEgLTEgZm9yIGxlbmd0aCBtZWFucyB0aGUgdmFsdWUgb2YgdGhlIGZpZWxkIGlzIG51bGxcbiAgICAgIGZpZWxkc1tpXSA9IGxlbiA9PT0gLTEgPyBudWxsIDogdGhpcy5yZWFkZXIuc3RyaW5nKGxlbilcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEYXRhUm93TWVzc2FnZShsZW5ndGgsIGZpZWxkcylcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VQYXJhbWV0ZXJTdGF0dXNNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IG5hbWUgPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMucmVhZGVyLmNzdHJpbmcoKVxuICAgIHJldHVybiBuZXcgUGFyYW1ldGVyU3RhdHVzTWVzc2FnZShsZW5ndGgsIG5hbWUsIHZhbHVlKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUJhY2tlbmRLZXlEYXRhKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlcikge1xuICAgIHRoaXMucmVhZGVyLnNldEJ1ZmZlcihvZmZzZXQsIGJ5dGVzKVxuICAgIGNvbnN0IHByb2Nlc3NJRCA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICBjb25zdCBzZWNyZXRLZXkgPSB0aGlzLnJlYWRlci5pbnQzMigpXG4gICAgcmV0dXJuIG5ldyBCYWNrZW5kS2V5RGF0YU1lc3NhZ2UobGVuZ3RoLCBwcm9jZXNzSUQsIHNlY3JldEtleSlcbiAgfVxuXG4gIHB1YmxpYyBwYXJzZUF1dGhlbnRpY2F0aW9uUmVzcG9uc2Uob2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBieXRlczogQnVmZmVyKSB7XG4gICAgdGhpcy5yZWFkZXIuc2V0QnVmZmVyKG9mZnNldCwgYnl0ZXMpXG4gICAgY29uc3QgY29kZSA9IHRoaXMucmVhZGVyLmludDMyKClcbiAgICAvLyBUT0RPKGJtYyk6IG1heWJlIGJldHRlciB0eXBlcyBoZXJlXG4gICAgY29uc3QgbWVzc2FnZTogQmFja2VuZE1lc3NhZ2UgJiBhbnkgPSB7XG4gICAgICBuYW1lOiAnYXV0aGVudGljYXRpb25PaycsXG4gICAgICBsZW5ndGgsXG4gICAgfVxuXG4gICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICBjYXNlIDA6IC8vIEF1dGhlbnRpY2F0aW9uT2tcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMzogLy8gQXV0aGVudGljYXRpb25DbGVhcnRleHRQYXNzd29yZFxuICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPT09IDgpIHtcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSAnYXV0aGVudGljYXRpb25DbGVhcnRleHRQYXNzd29yZCdcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSA1OiAvLyBBdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkXG4gICAgICAgIGlmIChtZXNzYWdlLmxlbmd0aCA9PT0gMTIpIHtcbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSAnYXV0aGVudGljYXRpb25NRDVQYXNzd29yZCdcbiAgICAgICAgICBjb25zdCBzYWx0ID0gdGhpcy5yZWFkZXIuYnl0ZXMoNClcbiAgICAgICAgICByZXR1cm4gbmV3IEF1dGhlbnRpY2F0aW9uTUQ1UGFzc3dvcmQobGVuZ3RoLCBzYWx0KVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIDEwOiAvLyBBdXRoZW50aWNhdGlvblNBU0xcbiAgICAgICAge1xuICAgICAgICAgIG1lc3NhZ2UubmFtZSA9ICdhdXRoZW50aWNhdGlvblNBU0wnXG4gICAgICAgICAgbWVzc2FnZS5tZWNoYW5pc21zID0gW11cbiAgICAgICAgICBsZXQgbWVjaGFuaXNtOiBzdHJpbmdcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBtZWNoYW5pc20gPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICAgICAgICAgIGlmIChtZWNoYW5pc20pIHtcbiAgICAgICAgICAgICAgbWVzc2FnZS5tZWNoYW5pc21zLnB1c2gobWVjaGFuaXNtKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKG1lY2hhbmlzbSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAxMTogLy8gQXV0aGVudGljYXRpb25TQVNMQ29udGludWVcbiAgICAgICAgbWVzc2FnZS5uYW1lID0gJ2F1dGhlbnRpY2F0aW9uU0FTTENvbnRpbnVlJ1xuICAgICAgICBtZXNzYWdlLmRhdGEgPSB0aGlzLnJlYWRlci5zdHJpbmcobGVuZ3RoIC0gOClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMTI6IC8vIEF1dGhlbnRpY2F0aW9uU0FTTEZpbmFsXG4gICAgICAgIG1lc3NhZ2UubmFtZSA9ICdhdXRoZW50aWNhdGlvblNBU0xGaW5hbCdcbiAgICAgICAgbWVzc2FnZS5kYXRhID0gdGhpcy5yZWFkZXIuc3RyaW5nKGxlbmd0aCAtIDgpXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gYXV0aGVudGljYXRpb25PayBtZXNzYWdlIHR5cGUgJyArIGNvZGUpXG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlXG4gIH1cblxuICBwcml2YXRlIHBhcnNlRXJyb3JNZXNzYWdlKG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnl0ZXM6IEJ1ZmZlciwgbmFtZTogTWVzc2FnZU5hbWUpIHtcbiAgICB0aGlzLnJlYWRlci5zZXRCdWZmZXIob2Zmc2V0LCBieXRlcylcbiAgICBjb25zdCBmaWVsZHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fVxuICAgIGxldCBmaWVsZFR5cGUgPSB0aGlzLnJlYWRlci5zdHJpbmcoMSlcbiAgICB3aGlsZSAoZmllbGRUeXBlICE9PSAnXFwwJykge1xuICAgICAgZmllbGRzW2ZpZWxkVHlwZV0gPSB0aGlzLnJlYWRlci5jc3RyaW5nKClcbiAgICAgIGZpZWxkVHlwZSA9IHRoaXMucmVhZGVyLnN0cmluZygxKVxuICAgIH1cblxuICAgIGNvbnN0IG1lc3NhZ2VWYWx1ZSA9IGZpZWxkcy5NXG5cbiAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgIG5hbWUgPT09ICdub3RpY2UnID8gbmV3IE5vdGljZU1lc3NhZ2UobGVuZ3RoLCBtZXNzYWdlVmFsdWUpIDogbmV3IERhdGFiYXNlRXJyb3IobWVzc2FnZVZhbHVlLCBsZW5ndGgsIG5hbWUpXG5cbiAgICBtZXNzYWdlLnNldmVyaXR5ID0gZmllbGRzLlNcbiAgICBtZXNzYWdlLmNvZGUgPSBmaWVsZHMuQ1xuICAgIG1lc3NhZ2UuZGV0YWlsID0gZmllbGRzLkRcbiAgICBtZXNzYWdlLmhpbnQgPSBmaWVsZHMuSFxuICAgIG1lc3NhZ2UucG9zaXRpb24gPSBmaWVsZHMuUFxuICAgIG1lc3NhZ2UuaW50ZXJuYWxQb3NpdGlvbiA9IGZpZWxkcy5wXG4gICAgbWVzc2FnZS5pbnRlcm5hbFF1ZXJ5ID0gZmllbGRzLnFcbiAgICBtZXNzYWdlLndoZXJlID0gZmllbGRzLldcbiAgICBtZXNzYWdlLnNjaGVtYSA9IGZpZWxkcy5zXG4gICAgbWVzc2FnZS50YWJsZSA9IGZpZWxkcy50XG4gICAgbWVzc2FnZS5jb2x1bW4gPSBmaWVsZHMuY1xuICAgIG1lc3NhZ2UuZGF0YVR5cGUgPSBmaWVsZHMuZFxuICAgIG1lc3NhZ2UuY29uc3RyYWludCA9IGZpZWxkcy5uXG4gICAgbWVzc2FnZS5maWxlID0gZmllbGRzLkZcbiAgICBtZXNzYWdlLmxpbmUgPSBmaWVsZHMuTFxuICAgIG1lc3NhZ2Uucm91dGluZSA9IGZpZWxkcy5SXG4gICAgcmV0dXJuIG1lc3NhZ2VcbiAgfVxufVxuIiwgImltcG9ydCB7IERhdGFiYXNlRXJyb3IgfSBmcm9tICcuL21lc3NhZ2VzJ1xuaW1wb3J0IHsgc2VyaWFsaXplIH0gZnJvbSAnLi9zZXJpYWxpemVyJ1xuaW1wb3J0IHsgUGFyc2VyLCBNZXNzYWdlQ2FsbGJhY2sgfSBmcm9tICcuL3BhcnNlcidcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHN0cmVhbTogTm9kZUpTLlJlYWRhYmxlU3RyZWFtLCBjYWxsYmFjazogTWVzc2FnZUNhbGxiYWNrKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIoKVxuICBzdHJlYW0ub24oJ2RhdGEnLCAoYnVmZmVyOiBCdWZmZXIpID0+IHBhcnNlci5wYXJzZShidWZmZXIsIGNhbGxiYWNrKSlcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzdHJlYW0ub24oJ2VuZCcsICgpID0+IHJlc29sdmUoKSkpXG59XG5cbmV4cG9ydCB7IHNlcmlhbGl6ZSwgRGF0YWJhc2VFcnJvciB9XG4iLCAiLy8gVGhpcyBpcyBhbiBlbXB0eSBtb2R1bGUgdGhhdCBpcyBzZXJ2ZWQgdXAgd2hlbiBvdXRzaWRlIG9mIGEgd29ya2VyZCBlbnZpcm9ubWVudFxuLy8gU2VlIHRoZSBgZXhwb3J0c2AgZmllbGQgaW4gcGFja2FnZS5qc29uXG5leHBvcnQgZGVmYXVsdCB7fVxuIiwgImNvbnN0IHsgZ2V0U3RyZWFtLCBnZXRTZWN1cmVTdHJlYW0gfSA9IGdldFN0cmVhbUZ1bmNzKClcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKlxuICAgKiBHZXQgYSBzb2NrZXQgc3RyZWFtIGNvbXBhdGlibGUgd2l0aCB0aGUgY3VycmVudCBydW50aW1lIGVudmlyb25tZW50LlxuICAgKiBAcmV0dXJucyB7RHVwbGV4fVxuICAgKi9cbiAgZ2V0U3RyZWFtLFxuICAvKipcbiAgICogR2V0IGEgVExTIHNlY3VyZWQgc29ja2V0LCBjb21wYXRpYmxlIHdpdGggdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQsXG4gICAqIHVzaW5nIHRoZSBzb2NrZXQgYW5kIG90aGVyIHNldHRpbmdzIGdpdmVuIGluIGBvcHRpb25zYC5cbiAgICogQHJldHVybnMge0R1cGxleH1cbiAgICovXG4gIGdldFNlY3VyZVN0cmVhbSxcbn1cblxuLyoqXG4gKiBUaGUgc3RyZWFtIGZ1bmN0aW9ucyB0aGF0IHdvcmsgaW4gTm9kZS5qc1xuICovXG5mdW5jdGlvbiBnZXROb2RlanNTdHJlYW1GdW5jcygpIHtcbiAgZnVuY3Rpb24gZ2V0U3RyZWFtKHNzbCkge1xuICAgIGNvbnN0IG5ldCA9IHJlcXVpcmUoJ25ldCcpXG4gICAgcmV0dXJuIG5ldyBuZXQuU29ja2V0KClcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlY3VyZVN0cmVhbShvcHRpb25zKSB7XG4gICAgY29uc3QgdGxzID0gcmVxdWlyZSgndGxzJylcbiAgICByZXR1cm4gdGxzLmNvbm5lY3Qob3B0aW9ucylcbiAgfVxuICByZXR1cm4ge1xuICAgIGdldFN0cmVhbSxcbiAgICBnZXRTZWN1cmVTdHJlYW0sXG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgc3RyZWFtIGZ1bmN0aW9ucyB0aGF0IHdvcmsgaW4gQ2xvdWRmbGFyZSBXb3JrZXJzXG4gKi9cbmZ1bmN0aW9uIGdldENsb3VkZmxhcmVTdHJlYW1GdW5jcygpIHtcbiAgZnVuY3Rpb24gZ2V0U3RyZWFtKHNzbCkge1xuICAgIGNvbnN0IHsgQ2xvdWRmbGFyZVNvY2tldCB9ID0gcmVxdWlyZSgncGctY2xvdWRmbGFyZScpXG4gICAgcmV0dXJuIG5ldyBDbG91ZGZsYXJlU29ja2V0KHNzbClcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlY3VyZVN0cmVhbShvcHRpb25zKSB7XG4gICAgb3B0aW9ucy5zb2NrZXQuc3RhcnRUbHMob3B0aW9ucylcbiAgICByZXR1cm4gb3B0aW9ucy5zb2NrZXRcbiAgfVxuICByZXR1cm4ge1xuICAgIGdldFN0cmVhbSxcbiAgICBnZXRTZWN1cmVTdHJlYW0sXG4gIH1cbn1cblxuLyoqXG4gKiBBcmUgd2UgcnVubmluZyBpbiBhIENsb3VkZmxhcmUgV29ya2VyP1xuICpcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGNvZGUgaXMgY3VycmVudGx5IHJ1bm5pbmcgaW5zaWRlIGEgQ2xvdWRmbGFyZSBXb3JrZXIuXG4gKi9cbmZ1bmN0aW9uIGlzQ2xvdWRmbGFyZVJ1bnRpbWUoKSB7XG4gIC8vIFNpbmNlIDIwMjItMDMtMjEgdGhlIGBnbG9iYWxfbmF2aWdhdG9yYCBjb21wYXRpYmlsaXR5IGZsYWcgaXMgb24gZm9yIENsb3VkZmxhcmUgV29ya2Vyc1xuICAvLyB3aGljaCBtZWFucyB0aGF0IGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIGRlZmluZWQuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgJiYgbmF2aWdhdG9yICE9PSBudWxsICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnc3RyaW5nJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnQ2xvdWRmbGFyZS1Xb3JrZXJzJ1xuICB9XG4gIC8vIEluIGNhc2UgYG5hdmlnYXRvcmAgb3IgYG5hdmlnYXRvci51c2VyQWdlbnRgIGlzIG5vdCBkZWZpbmVkIHRoZW4gdHJ5IGEgbW9yZSBzbmVha3kgYXBwcm9hY2hcbiAgaWYgKHR5cGVvZiBSZXNwb25zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnN0IHJlc3AgPSBuZXcgUmVzcG9uc2UobnVsbCwgeyBjZjogeyB0aGluZzogdHJ1ZSB9IH0pXG4gICAgaWYgKHR5cGVvZiByZXNwLmNmID09PSAnb2JqZWN0JyAmJiByZXNwLmNmICE9PSBudWxsICYmIHJlc3AuY2YudGhpbmcpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBnZXRTdHJlYW1GdW5jcygpIHtcbiAgaWYgKGlzQ2xvdWRmbGFyZVJ1bnRpbWUoKSkge1xuICAgIHJldHVybiBnZXRDbG91ZGZsYXJlU3RyZWFtRnVuY3MoKVxuICB9XG4gIHJldHVybiBnZXROb2RlanNTdHJlYW1GdW5jcygpXG59XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuXG5jb25zdCB7IHBhcnNlLCBzZXJpYWxpemUgfSA9IHJlcXVpcmUoJ3BnLXByb3RvY29sJylcbmNvbnN0IHsgZ2V0U3RyZWFtLCBnZXRTZWN1cmVTdHJlYW0gfSA9IHJlcXVpcmUoJy4vc3RyZWFtJylcblxuY29uc3QgZmx1c2hCdWZmZXIgPSBzZXJpYWxpemUuZmx1c2goKVxuY29uc3Qgc3luY0J1ZmZlciA9IHNlcmlhbGl6ZS5zeW5jKClcbmNvbnN0IGVuZEJ1ZmZlciA9IHNlcmlhbGl6ZS5lbmQoKVxuXG4vLyBUT0RPKGJtYykgc3VwcG9ydCBiaW5hcnkgbW9kZSBhdCBzb21lIHBvaW50XG5jbGFzcyBDb25uZWN0aW9uIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKVxuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fVxuXG4gICAgdGhpcy5zdHJlYW0gPSBjb25maWcuc3RyZWFtIHx8IGdldFN0cmVhbShjb25maWcuc3NsKVxuICAgIGlmICh0eXBlb2YgdGhpcy5zdHJlYW0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuc3RyZWFtID0gdGhpcy5zdHJlYW0oY29uZmlnKVxuICAgIH1cblxuICAgIHRoaXMuX2tlZXBBbGl2ZSA9IGNvbmZpZy5rZWVwQWxpdmVcbiAgICB0aGlzLl9rZWVwQWxpdmVJbml0aWFsRGVsYXlNaWxsaXMgPSBjb25maWcua2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzXG4gICAgdGhpcy5sYXN0QnVmZmVyID0gZmFsc2VcbiAgICB0aGlzLnBhcnNlZFN0YXRlbWVudHMgPSB7fVxuICAgIHRoaXMuc3NsID0gY29uZmlnLnNzbCB8fCBmYWxzZVxuICAgIHRoaXMuX2VuZGluZyA9IGZhbHNlXG4gICAgdGhpcy5fZW1pdE1lc3NhZ2UgPSBmYWxzZVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG4gICAgdGhpcy5vbignbmV3TGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICBpZiAoZXZlbnROYW1lID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgc2VsZi5fZW1pdE1lc3NhZ2UgPSB0cnVlXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbm5lY3QocG9ydCwgaG9zdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG5cbiAgICB0aGlzLl9jb25uZWN0aW5nID0gdHJ1ZVxuICAgIHRoaXMuc3RyZWFtLnNldE5vRGVsYXkodHJ1ZSlcbiAgICB0aGlzLnN0cmVhbS5jb25uZWN0KHBvcnQsIGhvc3QpXG5cbiAgICB0aGlzLnN0cmVhbS5vbmNlKCdjb25uZWN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuX2tlZXBBbGl2ZSkge1xuICAgICAgICBzZWxmLnN0cmVhbS5zZXRLZWVwQWxpdmUodHJ1ZSwgc2VsZi5fa2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzKVxuICAgICAgfVxuICAgICAgc2VsZi5lbWl0KCdjb25uZWN0JylcbiAgICB9KVxuXG4gICAgY29uc3QgcmVwb3J0U3RyZWFtRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIC8vIGVycm9ycyBhYm91dCBkaXNjb25uZWN0aW9ucyBzaG91bGQgYmUgaWdub3JlZCBkdXJpbmcgZGlzY29ubmVjdFxuICAgICAgaWYgKHNlbGYuX2VuZGluZyAmJiAoZXJyb3IuY29kZSA9PT0gJ0VDT05OUkVTRVQnIHx8IGVycm9yLmNvZGUgPT09ICdFUElQRScpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycm9yKVxuICAgIH1cbiAgICB0aGlzLnN0cmVhbS5vbignZXJyb3InLCByZXBvcnRTdHJlYW1FcnJvcilcblxuICAgIHRoaXMuc3RyZWFtLm9uKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuZW1pdCgnZW5kJylcbiAgICB9KVxuXG4gICAgaWYgKCF0aGlzLnNzbCkge1xuICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoTGlzdGVuZXJzKHRoaXMuc3RyZWFtKVxuICAgIH1cblxuICAgIHRoaXMuc3RyZWFtLm9uY2UoJ2RhdGEnLCBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICBjb25zdCByZXNwb25zZUNvZGUgPSBidWZmZXIudG9TdHJpbmcoJ3V0ZjgnKVxuICAgICAgc3dpdGNoIChyZXNwb25zZUNvZGUpIHtcbiAgICAgICAgY2FzZSAnUyc6IC8vIFNlcnZlciBzdXBwb3J0cyBTU0wgY29ubmVjdGlvbnMsIGNvbnRpbnVlIHdpdGggYSBzZWN1cmUgY29ubmVjdGlvblxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ04nOiAvLyBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBTU0wgY29ubmVjdGlvbnNcbiAgICAgICAgICBzZWxmLnN0cmVhbS5lbmQoKVxuICAgICAgICAgIHJldHVybiBzZWxmLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdUaGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgU1NMIGNvbm5lY3Rpb25zJykpXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gQW55IG90aGVyIHJlc3BvbnNlIGJ5dGUsIGluY2x1ZGluZyAnRScgKEVycm9yUmVzcG9uc2UpIGluZGljYXRpbmcgYSBzZXJ2ZXIgZXJyb3JcbiAgICAgICAgICBzZWxmLnN0cmVhbS5lbmQoKVxuICAgICAgICAgIHJldHVybiBzZWxmLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdUaGVyZSB3YXMgYW4gZXJyb3IgZXN0YWJsaXNoaW5nIGFuIFNTTCBjb25uZWN0aW9uJykpXG4gICAgICB9XG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBzb2NrZXQ6IHNlbGYuc3RyZWFtLFxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5zc2wgIT09IHRydWUpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCBzZWxmLnNzbClcblxuICAgICAgICBpZiAoJ2tleScgaW4gc2VsZi5zc2wpIHtcbiAgICAgICAgICBvcHRpb25zLmtleSA9IHNlbGYuc3NsLmtleVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ldCA9IHJlcXVpcmUoJ25ldCcpXG4gICAgICBpZiAobmV0LmlzSVAgJiYgbmV0LmlzSVAoaG9zdCkgPT09IDApIHtcbiAgICAgICAgb3B0aW9ucy5zZXJ2ZXJuYW1lID0gaG9zdFxuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgc2VsZi5zdHJlYW0gPSBnZXRTZWN1cmVTdHJlYW0ob3B0aW9ucylcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gc2VsZi5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH1cbiAgICAgIHNlbGYuYXR0YWNoTGlzdGVuZXJzKHNlbGYuc3RyZWFtKVxuICAgICAgc2VsZi5zdHJlYW0ub24oJ2Vycm9yJywgcmVwb3J0U3RyZWFtRXJyb3IpXG5cbiAgICAgIHNlbGYuZW1pdCgnc3NsY29ubmVjdCcpXG4gICAgfSlcbiAgfVxuXG4gIGF0dGFjaExpc3RlbmVycyhzdHJlYW0pIHtcbiAgICBwYXJzZShzdHJlYW0sIChtc2cpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IG1zZy5uYW1lID09PSAnZXJyb3InID8gJ2Vycm9yTWVzc2FnZScgOiBtc2cubmFtZVxuICAgICAgaWYgKHRoaXMuX2VtaXRNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIG1zZylcbiAgICAgIH1cbiAgICAgIHRoaXMuZW1pdChldmVudE5hbWUsIG1zZylcbiAgICB9KVxuICB9XG5cbiAgcmVxdWVzdFNzbCgpIHtcbiAgICB0aGlzLnN0cmVhbS53cml0ZShzZXJpYWxpemUucmVxdWVzdFNzbCgpKVxuICB9XG5cbiAgc3RhcnR1cChjb25maWcpIHtcbiAgICB0aGlzLnN0cmVhbS53cml0ZShzZXJpYWxpemUuc3RhcnR1cChjb25maWcpKVxuICB9XG5cbiAgY2FuY2VsKHByb2Nlc3NJRCwgc2VjcmV0S2V5KSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuY2FuY2VsKHByb2Nlc3NJRCwgc2VjcmV0S2V5KSlcbiAgfVxuXG4gIHBhc3N3b3JkKHBhc3N3b3JkKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUucGFzc3dvcmQocGFzc3dvcmQpKVxuICB9XG5cbiAgc2VuZFNBU0xJbml0aWFsUmVzcG9uc2VNZXNzYWdlKG1lY2hhbmlzbSwgaW5pdGlhbFJlc3BvbnNlKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuc2VuZFNBU0xJbml0aWFsUmVzcG9uc2VNZXNzYWdlKG1lY2hhbmlzbSwgaW5pdGlhbFJlc3BvbnNlKSlcbiAgfVxuXG4gIHNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZShhZGRpdGlvbmFsRGF0YSkge1xuICAgIHRoaXMuX3NlbmQoc2VyaWFsaXplLnNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZShhZGRpdGlvbmFsRGF0YSkpXG4gIH1cblxuICBfc2VuZChidWZmZXIpIHtcbiAgICBpZiAoIXRoaXMuc3RyZWFtLndyaXRhYmxlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKGJ1ZmZlcilcbiAgfVxuXG4gIHF1ZXJ5KHRleHQpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5xdWVyeSh0ZXh0KSlcbiAgfVxuXG4gIC8vIHNlbmQgcGFyc2UgbWVzc2FnZVxuICBwYXJzZShxdWVyeSkge1xuICAgIHRoaXMuX3NlbmQoc2VyaWFsaXplLnBhcnNlKHF1ZXJ5KSlcbiAgfVxuXG4gIC8vIHNlbmQgYmluZCBtZXNzYWdlXG4gIGJpbmQoY29uZmlnKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuYmluZChjb25maWcpKVxuICB9XG5cbiAgLy8gc2VuZCBleGVjdXRlIG1lc3NhZ2VcbiAgZXhlY3V0ZShjb25maWcpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5leGVjdXRlKGNvbmZpZykpXG4gIH1cblxuICBmbHVzaCgpIHtcbiAgICBpZiAodGhpcy5zdHJlYW0ud3JpdGFibGUpIHtcbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKGZsdXNoQnVmZmVyKVxuICAgIH1cbiAgfVxuXG4gIHN5bmMoKSB7XG4gICAgdGhpcy5fZW5kaW5nID0gdHJ1ZVxuICAgIHRoaXMuX3NlbmQoc3luY0J1ZmZlcilcbiAgfVxuXG4gIHJlZigpIHtcbiAgICB0aGlzLnN0cmVhbS5yZWYoKVxuICB9XG5cbiAgdW5yZWYoKSB7XG4gICAgdGhpcy5zdHJlYW0udW5yZWYoKVxuICB9XG5cbiAgZW5kKCkge1xuICAgIC8vIDB4NTggPSAnWCdcbiAgICB0aGlzLl9lbmRpbmcgPSB0cnVlXG4gICAgaWYgKCF0aGlzLl9jb25uZWN0aW5nIHx8ICF0aGlzLnN0cmVhbS53cml0YWJsZSkge1xuICAgICAgdGhpcy5zdHJlYW0uZW5kKClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUoZW5kQnVmZmVyLCAoKSA9PiB7XG4gICAgICB0aGlzLnN0cmVhbS5lbmQoKVxuICAgIH0pXG4gIH1cblxuICBjbG9zZShtc2cpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5jbG9zZShtc2cpKVxuICB9XG5cbiAgZGVzY3JpYmUobXNnKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuZGVzY3JpYmUobXNnKSlcbiAgfVxuXG4gIHNlbmRDb3B5RnJvbUNodW5rKGNodW5rKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuY29weURhdGEoY2h1bmspKVxuICB9XG5cbiAgZW5kQ29weUZyb20oKSB7XG4gICAgdGhpcy5fc2VuZChzZXJpYWxpemUuY29weURvbmUoKSlcbiAgfVxuXG4gIHNlbmRDb3B5RmFpbChtc2cpIHtcbiAgICB0aGlzLl9zZW5kKHNlcmlhbGl6ZS5jb3B5RmFpbChtc2cpKVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29ubmVjdGlvblxuIiwgIi8qXG5Db3B5cmlnaHQgKGMpIDIwMTQtMjAyMSwgTWF0dGVvIENvbGxpbmEgPGhlbGxvQG1hdHRlb2NvbGxpbmEuY29tPlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZCwgcHJvdmlkZWQgdGhhdCB0aGUgYWJvdmVcbmNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2UgYXBwZWFyIGluIGFsbCBjb3BpZXMuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTXG5XSVRIIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GXG5NRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUlxuQU5ZIFNQRUNJQUwsIERJUkVDVCwgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFU1xuV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTSBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOXG5BQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1IgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUlxuSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1IgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbiovXG5cbid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IFRyYW5zZm9ybSB9ID0gcmVxdWlyZSgnc3RyZWFtJylcbmNvbnN0IHsgU3RyaW5nRGVjb2RlciB9ID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKVxuY29uc3Qga0xhc3QgPSBTeW1ib2woJ2xhc3QnKVxuY29uc3Qga0RlY29kZXIgPSBTeW1ib2woJ2RlY29kZXInKVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm0gKGNodW5rLCBlbmMsIGNiKSB7XG4gIGxldCBsaXN0XG4gIGlmICh0aGlzLm92ZXJmbG93KSB7IC8vIExpbmUgYnVmZmVyIGlzIGZ1bGwuIFNraXAgdG8gc3RhcnQgb2YgbmV4dCBsaW5lLlxuICAgIGNvbnN0IGJ1ZiA9IHRoaXNba0RlY29kZXJdLndyaXRlKGNodW5rKVxuICAgIGxpc3QgPSBidWYuc3BsaXQodGhpcy5tYXRjaGVyKVxuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSByZXR1cm4gY2IoKSAvLyBMaW5lIGVuZGluZyBub3QgZm91bmQuIERpc2NhcmQgZW50aXJlIGNodW5rLlxuXG4gICAgLy8gTGluZSBlbmRpbmcgZm91bmQuIERpc2NhcmQgdHJhaWxpbmcgZnJhZ21lbnQgb2YgcHJldmlvdXMgbGluZSBhbmQgcmVzZXQgb3ZlcmZsb3cgc3RhdGUuXG4gICAgbGlzdC5zaGlmdCgpXG4gICAgdGhpcy5vdmVyZmxvdyA9IGZhbHNlXG4gIH0gZWxzZSB7XG4gICAgdGhpc1trTGFzdF0gKz0gdGhpc1trRGVjb2Rlcl0ud3JpdGUoY2h1bmspXG4gICAgbGlzdCA9IHRoaXNba0xhc3RdLnNwbGl0KHRoaXMubWF0Y2hlcilcbiAgfVxuXG4gIHRoaXNba0xhc3RdID0gbGlzdC5wb3AoKVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHRyeSB7XG4gICAgICBwdXNoKHRoaXMsIHRoaXMubWFwcGVyKGxpc3RbaV0pKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gY2IoZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgdGhpcy5vdmVyZmxvdyA9IHRoaXNba0xhc3RdLmxlbmd0aCA+IHRoaXMubWF4TGVuZ3RoXG4gIGlmICh0aGlzLm92ZXJmbG93ICYmICF0aGlzLnNraXBPdmVyZmxvdykge1xuICAgIGNiKG5ldyBFcnJvcignbWF4aW11bSBidWZmZXIgcmVhY2hlZCcpKVxuICAgIHJldHVyblxuICB9XG5cbiAgY2IoKVxufVxuXG5mdW5jdGlvbiBmbHVzaCAoY2IpIHtcbiAgLy8gZm9yd2FyZCBhbnkgZ2liYmVyaXNoIGxlZnQgaW4gdGhlcmVcbiAgdGhpc1trTGFzdF0gKz0gdGhpc1trRGVjb2Rlcl0uZW5kKClcblxuICBpZiAodGhpc1trTGFzdF0pIHtcbiAgICB0cnkge1xuICAgICAgcHVzaCh0aGlzLCB0aGlzLm1hcHBlcih0aGlzW2tMYXN0XSkpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYihlcnJvcilcbiAgICB9XG4gIH1cblxuICBjYigpXG59XG5cbmZ1bmN0aW9uIHB1c2ggKHNlbGYsIHZhbCkge1xuICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICBzZWxmLnB1c2godmFsKVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vb3AgKGluY29taW5nKSB7XG4gIHJldHVybiBpbmNvbWluZ1xufVxuXG5mdW5jdGlvbiBzcGxpdCAobWF0Y2hlciwgbWFwcGVyLCBvcHRpb25zKSB7XG4gIC8vIFNldCBkZWZhdWx0cyBmb3IgYW55IGFyZ3VtZW50cyBub3Qgc3VwcGxpZWQuXG4gIG1hdGNoZXIgPSBtYXRjaGVyIHx8IC9cXHI/XFxuL1xuICBtYXBwZXIgPSBtYXBwZXIgfHwgbm9vcFxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIC8vIFRlc3QgYXJndW1lbnRzIGV4cGxpY2l0bHkuXG4gIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGNhc2UgMTpcbiAgICAgIC8vIElmIG1hcHBlciBpcyBvbmx5IGFyZ3VtZW50LlxuICAgICAgaWYgKHR5cGVvZiBtYXRjaGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG1hcHBlciA9IG1hdGNoZXJcbiAgICAgICAgbWF0Y2hlciA9IC9cXHI/XFxuL1xuICAgICAgLy8gSWYgb3B0aW9ucyBpcyBvbmx5IGFyZ3VtZW50LlxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ29iamVjdCcgJiYgIShtYXRjaGVyIGluc3RhbmNlb2YgUmVnRXhwKSAmJiAhbWF0Y2hlcltTeW1ib2wuc3BsaXRdKSB7XG4gICAgICAgIG9wdGlvbnMgPSBtYXRjaGVyXG4gICAgICAgIG1hdGNoZXIgPSAvXFxyP1xcbi9cbiAgICAgIH1cbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlIDI6XG4gICAgICAvLyBJZiBtYXBwZXIgYW5kIG9wdGlvbnMgYXJlIGFyZ3VtZW50cy5cbiAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvcHRpb25zID0gbWFwcGVyXG4gICAgICAgIG1hcHBlciA9IG1hdGNoZXJcbiAgICAgICAgbWF0Y2hlciA9IC9cXHI/XFxuL1xuICAgICAgLy8gSWYgbWF0Y2hlciBhbmQgb3B0aW9ucyBhcmUgYXJndW1lbnRzLlxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWFwcGVyID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvcHRpb25zID0gbWFwcGVyXG4gICAgICAgIG1hcHBlciA9IG5vb3BcbiAgICAgIH1cbiAgfVxuXG4gIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKVxuICBvcHRpb25zLmF1dG9EZXN0cm95ID0gdHJ1ZVxuICBvcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuICBvcHRpb25zLmZsdXNoID0gZmx1c2hcbiAgb3B0aW9ucy5yZWFkYWJsZU9iamVjdE1vZGUgPSB0cnVlXG5cbiAgY29uc3Qgc3RyZWFtID0gbmV3IFRyYW5zZm9ybShvcHRpb25zKVxuXG4gIHN0cmVhbVtrTGFzdF0gPSAnJ1xuICBzdHJlYW1ba0RlY29kZXJdID0gbmV3IFN0cmluZ0RlY29kZXIoJ3V0ZjgnKVxuICBzdHJlYW0ubWF0Y2hlciA9IG1hdGNoZXJcbiAgc3RyZWFtLm1hcHBlciA9IG1hcHBlclxuICBzdHJlYW0ubWF4TGVuZ3RoID0gb3B0aW9ucy5tYXhMZW5ndGhcbiAgc3RyZWFtLnNraXBPdmVyZmxvdyA9IG9wdGlvbnMuc2tpcE92ZXJmbG93IHx8IGZhbHNlXG4gIHN0cmVhbS5vdmVyZmxvdyA9IGZhbHNlXG4gIHN0cmVhbS5fZGVzdHJveSA9IGZ1bmN0aW9uIChlcnIsIGNiKSB7XG4gICAgLy8gV2VpcmQgTm9kZSB2MTIgYnVnIHRoYXQgd2UgbmVlZCB0byB3b3JrIGFyb3VuZFxuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gZmFsc2VcbiAgICBjYihlcnIpXG4gIH1cblxuICByZXR1cm4gc3RyZWFtXG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3BsaXRcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG4gICwgU3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJykuU3RyZWFtXG4gICwgc3BsaXQgPSByZXF1aXJlKCdzcGxpdDInKVxuICAsIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbiAgLCBkZWZhdWx0UG9ydCA9IDU0MzJcbiAgLCBpc1dpbiA9IChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKVxuICAsIHdhcm5TdHJlYW0gPSBwcm9jZXNzLnN0ZGVyclxuO1xuXG5cbnZhciBTX0lSV1hHID0gNTYgICAgIC8vICAgIDAwMDcwKDgpXG4gICwgU19JUldYTyA9IDcgICAgICAvLyAgICAwMDAwNyg4KVxuICAsIFNfSUZNVCAgPSA2MTQ0MCAgLy8gMDAxNzAwMDAoOClcbiAgLCBTX0lGUkVHID0gMzI3NjggIC8vICAwMTAwMDAwKDgpXG47XG5mdW5jdGlvbiBpc1JlZ0ZpbGUobW9kZSkge1xuICAgIHJldHVybiAoKG1vZGUgJiBTX0lGTVQpID09IFNfSUZSRUcpO1xufVxuXG52YXIgZmllbGROYW1lcyA9IFsgJ2hvc3QnLCAncG9ydCcsICdkYXRhYmFzZScsICd1c2VyJywgJ3Bhc3N3b3JkJyBdO1xudmFyIG5yT2ZGaWVsZHMgPSBmaWVsZE5hbWVzLmxlbmd0aDtcbnZhciBwYXNzS2V5ID0gZmllbGROYW1lc1sgbnJPZkZpZWxkcyAtMSBdO1xuXG5cbmZ1bmN0aW9uIHdhcm4oKSB7XG4gICAgdmFyIGlzV3JpdGFibGUgPSAoXG4gICAgICAgIHdhcm5TdHJlYW0gaW5zdGFuY2VvZiBTdHJlYW0gJiZcbiAgICAgICAgICB0cnVlID09PSB3YXJuU3RyZWFtLndyaXRhYmxlXG4gICAgKTtcblxuICAgIGlmIChpc1dyaXRhYmxlKSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5jb25jYXQoXCJcXG5cIik7XG4gICAgICAgIHdhcm5TdHJlYW0ud3JpdGUoIHV0aWwuZm9ybWF0LmFwcGx5KHV0aWwsIGFyZ3MpICk7XG4gICAgfVxufVxuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUuZXhwb3J0cywgJ2lzV2luJywge1xuICAgIGdldCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaXNXaW47XG4gICAgfSAsXG4gICAgc2V0IDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGlzV2luID0gdmFsO1xuICAgIH1cbn0pO1xuXG5cbm1vZHVsZS5leHBvcnRzLndhcm5UbyA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHZhciBvbGQgPSB3YXJuU3RyZWFtO1xuICAgIHdhcm5TdHJlYW0gPSBzdHJlYW07XG4gICAgcmV0dXJuIG9sZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzLmdldEZpbGVOYW1lID0gZnVuY3Rpb24ocmF3RW52KXtcbiAgICB2YXIgZW52ID0gcmF3RW52IHx8IHByb2Nlc3MuZW52O1xuICAgIHZhciBmaWxlID0gZW52LlBHUEFTU0ZJTEUgfHwgKFxuICAgICAgICBpc1dpbiA/XG4gICAgICAgICAgcGF0aC5qb2luKCBlbnYuQVBQREFUQSB8fCAnLi8nICwgJ3Bvc3RncmVzcWwnLCAncGdwYXNzLmNvbmYnICkgOlxuICAgICAgICAgIHBhdGguam9pbiggZW52LkhPTUUgfHwgJy4vJywgJy5wZ3Bhc3MnIClcbiAgICApO1xuICAgIHJldHVybiBmaWxlO1xufTtcblxubW9kdWxlLmV4cG9ydHMudXNlUGdQYXNzID0gZnVuY3Rpb24oc3RhdHMsIGZuYW1lKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9jZXNzLmVudiwgJ1BHUEFTU1dPUkQnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGlzV2luKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZuYW1lID0gZm5hbWUgfHwgJzx1bmtuPic7XG5cbiAgICBpZiAoISBpc1JlZ0ZpbGUoc3RhdHMubW9kZSkpIHtcbiAgICAgICAgd2FybignV0FSTklORzogcGFzc3dvcmQgZmlsZSBcIiVzXCIgaXMgbm90IGEgcGxhaW4gZmlsZScsIGZuYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzdGF0cy5tb2RlICYgKFNfSVJXWEcgfCBTX0lSV1hPKSkge1xuICAgICAgICAvKiBJZiBwYXNzd29yZCBmaWxlIGlzIGluc2VjdXJlLCBhbGVydCB0aGUgdXNlciBhbmQgaWdub3JlIGl0LiAqL1xuICAgICAgICB3YXJuKCdXQVJOSU5HOiBwYXNzd29yZCBmaWxlIFwiJXNcIiBoYXMgZ3JvdXAgb3Igd29ybGQgYWNjZXNzOyBwZXJtaXNzaW9ucyBzaG91bGQgYmUgdT1ydyAoMDYwMCkgb3IgbGVzcycsIGZuYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuXG52YXIgbWF0Y2hlciA9IG1vZHVsZS5leHBvcnRzLm1hdGNoID0gZnVuY3Rpb24oY29ubkluZm8sIGVudHJ5KSB7XG4gICAgcmV0dXJuIGZpZWxkTmFtZXMuc2xpY2UoMCwgLTEpLnJlZHVjZShmdW5jdGlvbihwcmV2LCBmaWVsZCwgaWR4KXtcbiAgICAgICAgaWYgKGlkeCA9PSAxKSB7XG4gICAgICAgICAgICAvLyB0aGUgcG9ydFxuICAgICAgICAgICAgaWYgKCBOdW1iZXIoIGNvbm5JbmZvW2ZpZWxkXSB8fCBkZWZhdWx0UG9ydCApID09PSBOdW1iZXIoIGVudHJ5W2ZpZWxkXSApICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2ICYmIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXYgJiYgKFxuICAgICAgICAgICAgZW50cnlbZmllbGRdID09PSAnKicgfHxcbiAgICAgICAgICAgICAgZW50cnlbZmllbGRdID09PSBjb25uSW5mb1tmaWVsZF1cbiAgICAgICAgKTtcbiAgICB9LCB0cnVlKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMuZ2V0UGFzc3dvcmQgPSBmdW5jdGlvbihjb25uSW5mbywgc3RyZWFtLCBjYikge1xuICAgIHZhciBwYXNzO1xuICAgIHZhciBsaW5lU3RyZWFtID0gc3RyZWFtLnBpcGUoc3BsaXQoKSk7XG5cbiAgICBmdW5jdGlvbiBvbkxpbmUobGluZSkge1xuICAgICAgICB2YXIgZW50cnkgPSBwYXJzZUxpbmUobGluZSk7XG4gICAgICAgIGlmIChlbnRyeSAmJiBpc1ZhbGlkRW50cnkoZW50cnkpICYmIG1hdGNoZXIoY29ubkluZm8sIGVudHJ5KSkge1xuICAgICAgICAgICAgcGFzcyA9IGVudHJ5W3Bhc3NLZXldO1xuICAgICAgICAgICAgbGluZVN0cmVhbS5lbmQoKTsgLy8gLT4gY2FsbHMgb25FbmQoKSwgYnV0IHBhc3MgaXMgc2V0IG5vd1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG9uRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgIGNiKHBhc3MpO1xuICAgIH07XG5cbiAgICB2YXIgb25FcnIgPSBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgc3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgd2FybignV0FSTklORzogZXJyb3Igb24gcmVhZGluZyBmaWxlOiAlcycsIGVycik7XG4gICAgICAgIGNiKHVuZGVmaW5lZCk7XG4gICAgfTtcblxuICAgIHN0cmVhbS5vbignZXJyb3InLCBvbkVycik7XG4gICAgbGluZVN0cmVhbVxuICAgICAgICAub24oJ2RhdGEnLCBvbkxpbmUpXG4gICAgICAgIC5vbignZW5kJywgb25FbmQpXG4gICAgICAgIC5vbignZXJyb3InLCBvbkVycilcbiAgICA7XG5cbn07XG5cblxudmFyIHBhcnNlTGluZSA9IG1vZHVsZS5leHBvcnRzLnBhcnNlTGluZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICBpZiAobGluZS5sZW5ndGggPCAxMSB8fCBsaW5lLm1hdGNoKC9eXFxzKyMvKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY3VyQ2hhciA9ICcnO1xuICAgIHZhciBwcmV2Q2hhciA9ICcnO1xuICAgIHZhciBmaWVsZElkeCA9IDA7XG4gICAgdmFyIHN0YXJ0SWR4ID0gMDtcbiAgICB2YXIgZW5kSWR4ID0gMDtcbiAgICB2YXIgb2JqID0ge307XG4gICAgdmFyIGlzTGFzdEZpZWxkID0gZmFsc2U7XG4gICAgdmFyIGFkZFRvT2JqID0gZnVuY3Rpb24oaWR4LCBpMCwgaTEpIHtcbiAgICAgICAgdmFyIGZpZWxkID0gbGluZS5zdWJzdHJpbmcoaTAsIGkxKTtcblxuICAgICAgICBpZiAoISBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChwcm9jZXNzLmVudiwgJ1BHUEFTU19OT19ERUVTQ0FQRScpKSB7XG4gICAgICAgICAgICBmaWVsZCA9IGZpZWxkLnJlcGxhY2UoL1xcXFwoWzpcXFxcXSkvZywgJyQxJyk7XG4gICAgICAgIH1cblxuICAgICAgICBvYmpbIGZpZWxkTmFtZXNbaWR4XSBdID0gZmllbGQ7XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGxpbmUubGVuZ3RoLTEgOyBpICs9IDEpIHtcbiAgICAgICAgY3VyQ2hhciA9IGxpbmUuY2hhckF0KGkrMSk7XG4gICAgICAgIHByZXZDaGFyID0gbGluZS5jaGFyQXQoaSk7XG5cbiAgICAgICAgaXNMYXN0RmllbGQgPSAoZmllbGRJZHggPT0gbnJPZkZpZWxkcy0xKTtcblxuICAgICAgICBpZiAoaXNMYXN0RmllbGQpIHtcbiAgICAgICAgICAgIGFkZFRvT2JqKGZpZWxkSWR4LCBzdGFydElkeCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpID49IDAgJiYgY3VyQ2hhciA9PSAnOicgJiYgcHJldkNoYXIgIT09ICdcXFxcJykge1xuICAgICAgICAgICAgYWRkVG9PYmooZmllbGRJZHgsIHN0YXJ0SWR4LCBpKzEpO1xuXG4gICAgICAgICAgICBzdGFydElkeCA9IGkrMjtcbiAgICAgICAgICAgIGZpZWxkSWR4ICs9IDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvYmogPSAoIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSBuck9mRmllbGRzICkgPyBvYmogOiBudWxsO1xuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cblxudmFyIGlzVmFsaWRFbnRyeSA9IG1vZHVsZS5leHBvcnRzLmlzVmFsaWRFbnRyeSA9IGZ1bmN0aW9uKGVudHJ5KXtcbiAgICB2YXIgcnVsZXMgPSB7XG4gICAgICAgIC8vIGhvc3RcbiAgICAgICAgMCA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgcmV0dXJuIHgubGVuZ3RoID4gMDtcbiAgICAgICAgfSAsXG4gICAgICAgIC8vIHBvcnRcbiAgICAgICAgMSA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgaWYgKHggPT09ICcqJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgaXNGaW5pdGUoeCkgJiZcbiAgICAgICAgICAgICAgICAgIHggPiAwICYmXG4gICAgICAgICAgICAgICAgICB4IDwgOTAwNzE5OTI1NDc0MDk5MiAmJlxuICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcih4KSA9PT0geFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSAsXG4gICAgICAgIC8vIGRhdGFiYXNlXG4gICAgICAgIDIgOiBmdW5jdGlvbih4KXtcbiAgICAgICAgICAgIHJldHVybiB4Lmxlbmd0aCA+IDA7XG4gICAgICAgIH0gLFxuICAgICAgICAvLyB1c2VybmFtZVxuICAgICAgICAzIDogZnVuY3Rpb24oeCl7XG4gICAgICAgICAgICByZXR1cm4geC5sZW5ndGggPiAwO1xuICAgICAgICB9ICxcbiAgICAgICAgLy8gcGFzc3dvcmRcbiAgICAgICAgNCA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgcmV0dXJuIHgubGVuZ3RoID4gMDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpZHggPSAwIDsgaWR4IDwgZmllbGROYW1lcy5sZW5ndGggOyBpZHggKz0gMSkge1xuICAgICAgICB2YXIgcnVsZSA9IHJ1bGVzW2lkeF07XG4gICAgICAgIHZhciB2YWx1ZSA9IGVudHJ5WyBmaWVsZE5hbWVzW2lkeF0gXSB8fCAnJztcblxuICAgICAgICB2YXIgcmVzID0gcnVsZSh2YWx1ZSk7XG4gICAgICAgIGlmICghcmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG4gICwgZnMgPSByZXF1aXJlKCdmcycpXG4gICwgaGVscGVyID0gcmVxdWlyZSgnLi9oZWxwZXIuanMnKVxuO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29ubkluZm8sIGNiKSB7XG4gICAgdmFyIGZpbGUgPSBoZWxwZXIuZ2V0RmlsZU5hbWUoKTtcbiAgICBcbiAgICBmcy5zdGF0KGZpbGUsIGZ1bmN0aW9uKGVyciwgc3RhdCl7XG4gICAgICAgIGlmIChlcnIgfHwgIWhlbHBlci51c2VQZ1Bhc3Moc3RhdCwgZmlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYih1bmRlZmluZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0ID0gZnMuY3JlYXRlUmVhZFN0cmVhbShmaWxlKTtcblxuICAgICAgICBoZWxwZXIuZ2V0UGFzc3dvcmQoY29ubkluZm8sIHN0LCBjYik7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy53YXJuVG8gPSBoZWxwZXIud2FyblRvO1xuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpXG5jb25zdCBzYXNsID0gcmVxdWlyZSgnLi9jcnlwdG8vc2FzbCcpXG5jb25zdCBUeXBlT3ZlcnJpZGVzID0gcmVxdWlyZSgnLi90eXBlLW92ZXJyaWRlcycpXG5cbmNvbnN0IENvbm5lY3Rpb25QYXJhbWV0ZXJzID0gcmVxdWlyZSgnLi9jb25uZWN0aW9uLXBhcmFtZXRlcnMnKVxuY29uc3QgUXVlcnkgPSByZXF1aXJlKCcuL3F1ZXJ5JylcbmNvbnN0IGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpXG5jb25zdCBDb25uZWN0aW9uID0gcmVxdWlyZSgnLi9jb25uZWN0aW9uJylcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoJy4vY3J5cHRvL3V0aWxzJylcblxuY2xhc3MgQ2xpZW50IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycyA9IG5ldyBDb25uZWN0aW9uUGFyYW1ldGVycyhjb25maWcpXG4gICAgdGhpcy51c2VyID0gdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy51c2VyXG4gICAgdGhpcy5kYXRhYmFzZSA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuZGF0YWJhc2VcbiAgICB0aGlzLnBvcnQgPSB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLnBvcnRcbiAgICB0aGlzLmhvc3QgPSB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLmhvc3RcblxuICAgIC8vIFwiaGlkaW5nXCIgdGhlIHBhc3N3b3JkIHNvIGl0IGRvZXNuJ3Qgc2hvdyB1cCBpbiBzdGFjayB0cmFjZXNcbiAgICAvLyBvciBpZiB0aGUgY2xpZW50IGlzIGNvbnNvbGUubG9nZ2VkXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdwYXNzd29yZCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5wYXNzd29yZCxcbiAgICB9KVxuXG4gICAgdGhpcy5yZXBsaWNhdGlvbiA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucmVwbGljYXRpb25cblxuICAgIGNvbnN0IGMgPSBjb25maWcgfHwge31cblxuICAgIHRoaXMuX1Byb21pc2UgPSBjLlByb21pc2UgfHwgZ2xvYmFsLlByb21pc2VcbiAgICB0aGlzLl90eXBlcyA9IG5ldyBUeXBlT3ZlcnJpZGVzKGMudHlwZXMpXG4gICAgdGhpcy5fZW5kaW5nID0gZmFsc2VcbiAgICB0aGlzLl9lbmRlZCA9IGZhbHNlXG4gICAgdGhpcy5fY29ubmVjdGluZyA9IGZhbHNlXG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2VcbiAgICB0aGlzLl9jb25uZWN0aW9uRXJyb3IgPSBmYWxzZVxuICAgIHRoaXMuX3F1ZXJ5YWJsZSA9IHRydWVcblxuICAgIHRoaXMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcgPSBCb29sZWFuKGMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcpIC8vIHNldCB0cnVlIHRvIHVzZSBTQ1JBTS1TSEEtMjU2LVBMVVMgd2hlbiBvZmZlcmVkXG4gICAgdGhpcy5jb25uZWN0aW9uID1cbiAgICAgIGMuY29ubmVjdGlvbiB8fFxuICAgICAgbmV3IENvbm5lY3Rpb24oe1xuICAgICAgICBzdHJlYW06IGMuc3RyZWFtLFxuICAgICAgICBzc2w6IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuc3NsLFxuICAgICAgICBrZWVwQWxpdmU6IGMua2VlcEFsaXZlIHx8IGZhbHNlLFxuICAgICAgICBrZWVwQWxpdmVJbml0aWFsRGVsYXlNaWxsaXM6IGMua2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzIHx8IDAsXG4gICAgICAgIGVuY29kaW5nOiB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLmNsaWVudF9lbmNvZGluZyB8fCAndXRmOCcsXG4gICAgICB9KVxuICAgIHRoaXMucXVlcnlRdWV1ZSA9IFtdXG4gICAgdGhpcy5iaW5hcnkgPSBjLmJpbmFyeSB8fCBkZWZhdWx0cy5iaW5hcnlcbiAgICB0aGlzLnByb2Nlc3NJRCA9IG51bGxcbiAgICB0aGlzLnNlY3JldEtleSA9IG51bGxcbiAgICB0aGlzLnNzbCA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMuc3NsIHx8IGZhbHNlXG4gICAgLy8gQXMgd2l0aCBQYXNzd29yZCwgbWFrZSBTU0wtPktleSAodGhlIHByaXZhdGUga2V5KSBub24tZW51bWVyYWJsZS5cbiAgICAvLyBJdCB3b24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgIC8vIG9yIGlmIHRoZSBjbGllbnQgaXMgY29uc29sZS5sb2dnZWRcbiAgICBpZiAodGhpcy5zc2wgJiYgdGhpcy5zc2wua2V5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5zc2wsICdrZXknLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLl9jb25uZWN0aW9uVGltZW91dE1pbGxpcyA9IGMuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMgfHwgMFxuICB9XG5cbiAgX2Vycm9yQWxsUXVlcmllcyhlcnIpIHtcbiAgICBjb25zdCBlbnF1ZXVlRXJyb3IgPSAocXVlcnkpID0+IHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICBxdWVyeS5oYW5kbGVFcnJvcihlcnIsIHRoaXMuY29ubmVjdGlvbilcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWN0aXZlUXVlcnkpIHtcbiAgICAgIGVucXVldWVFcnJvcih0aGlzLmFjdGl2ZVF1ZXJ5KVxuICAgICAgdGhpcy5hY3RpdmVRdWVyeSA9IG51bGxcbiAgICB9XG5cbiAgICB0aGlzLnF1ZXJ5UXVldWUuZm9yRWFjaChlbnF1ZXVlRXJyb3IpXG4gICAgdGhpcy5xdWVyeVF1ZXVlLmxlbmd0aCA9IDBcbiAgfVxuXG4gIF9jb25uZWN0KGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgICBjb25zdCBjb24gPSB0aGlzLmNvbm5lY3Rpb25cbiAgICB0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2sgPSBjYWxsYmFja1xuXG4gICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcgfHwgdGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ0NsaWVudCBoYXMgYWxyZWFkeSBiZWVuIGNvbm5lY3RlZC4gWW91IGNhbm5vdCByZXVzZSBhIGNsaWVudC4nKVxuICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGVycilcbiAgICAgIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5fY29ubmVjdGluZyA9IHRydWVcblxuICAgIGlmICh0aGlzLl9jb25uZWN0aW9uVGltZW91dE1pbGxpcyA+IDApIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uLl9lbmRpbmcgPSB0cnVlXG4gICAgICAgIGNvbi5zdHJlYW0uZGVzdHJveShuZXcgRXJyb3IoJ3RpbWVvdXQgZXhwaXJlZCcpKVxuICAgICAgfSwgdGhpcy5fY29ubmVjdGlvblRpbWVvdXRNaWxsaXMpXG5cbiAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25UaW1lb3V0SGFuZGxlLnVucmVmKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUudW5yZWYoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3QgJiYgdGhpcy5ob3N0LmluZGV4T2YoJy8nKSA9PT0gMCkge1xuICAgICAgY29uLmNvbm5lY3QodGhpcy5ob3N0ICsgJy8ucy5QR1NRTC4nICsgdGhpcy5wb3J0KVxuICAgIH0gZWxzZSB7XG4gICAgICBjb24uY29ubmVjdCh0aGlzLnBvcnQsIHRoaXMuaG9zdClcbiAgICB9XG5cbiAgICAvLyBvbmNlIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQgc2VuZCBzdGFydHVwIG1lc3NhZ2VcbiAgICBjb24ub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5zc2wpIHtcbiAgICAgICAgY29uLnJlcXVlc3RTc2woKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uLnN0YXJ0dXAoc2VsZi5nZXRTdGFydHVwQ29uZigpKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb24ub24oJ3NzbGNvbm5lY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb24uc3RhcnR1cChzZWxmLmdldFN0YXJ0dXBDb25mKCkpXG4gICAgfSlcblxuICAgIHRoaXMuX2F0dGFjaExpc3RlbmVycyhjb24pXG5cbiAgICBjb24ub25jZSgnZW5kJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl9lbmRpbmcgPyBuZXcgRXJyb3IoJ0Nvbm5lY3Rpb24gdGVybWluYXRlZCcpIDogbmV3IEVycm9yKCdDb25uZWN0aW9uIHRlcm1pbmF0ZWQgdW5leHBlY3RlZGx5JylcblxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUpXG4gICAgICB0aGlzLl9lcnJvckFsbFF1ZXJpZXMoZXJyb3IpXG4gICAgICB0aGlzLl9lbmRlZCA9IHRydWVcblxuICAgICAgaWYgKCF0aGlzLl9lbmRpbmcpIHtcbiAgICAgICAgLy8gaWYgdGhlIGNvbm5lY3Rpb24gaXMgZW5kZWQgd2l0aG91dCB1cyBjYWxsaW5nIC5lbmQoKVxuICAgICAgICAvLyBvbiB0aGlzIGNsaWVudCB0aGVuIHdlIGhhdmUgYW4gdW5leHBlY3RlZCBkaXNjb25uZWN0aW9uXG4gICAgICAgIC8vIHRyZWF0IHRoaXMgYXMgYW4gZXJyb3IgdW5sZXNzIHdlJ3ZlIGFscmVhZHkgZW1pdHRlZCBhbiBlcnJvclxuICAgICAgICAvLyBkdXJpbmcgY29ubmVjdGlvbi5cbiAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcgJiYgIXRoaXMuX2Nvbm5lY3Rpb25FcnJvcikge1xuICAgICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25DYWxsYmFjayhlcnJvcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlRXJyb3JFdmVudChlcnJvcilcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2Nvbm5lY3Rpb25FcnJvcikge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUVycm9yRXZlbnQoZXJyb3IpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMuZW1pdCgnZW5kJylcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGNvbm5lY3QoY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2Nvbm5lY3QoY2FsbGJhY2spXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IHRoaXMuX1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fY29ubmVjdCgoZXJyb3IpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBfYXR0YWNoTGlzdGVuZXJzKGNvbikge1xuICAgIC8vIHBhc3N3b3JkIHJlcXVlc3QgaGFuZGxpbmdcbiAgICBjb24ub24oJ2F1dGhlbnRpY2F0aW9uQ2xlYXJ0ZXh0UGFzc3dvcmQnLCB0aGlzLl9oYW5kbGVBdXRoQ2xlYXJ0ZXh0UGFzc3dvcmQuYmluZCh0aGlzKSlcbiAgICAvLyBwYXNzd29yZCByZXF1ZXN0IGhhbmRsaW5nXG4gICAgY29uLm9uKCdhdXRoZW50aWNhdGlvbk1ENVBhc3N3b3JkJywgdGhpcy5faGFuZGxlQXV0aE1ENVBhc3N3b3JkLmJpbmQodGhpcykpXG4gICAgLy8gcGFzc3dvcmQgcmVxdWVzdCBoYW5kbGluZyAoU0FTTClcbiAgICBjb24ub24oJ2F1dGhlbnRpY2F0aW9uU0FTTCcsIHRoaXMuX2hhbmRsZUF1dGhTQVNMLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdhdXRoZW50aWNhdGlvblNBU0xDb250aW51ZScsIHRoaXMuX2hhbmRsZUF1dGhTQVNMQ29udGludWUuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ2F1dGhlbnRpY2F0aW9uU0FTTEZpbmFsJywgdGhpcy5faGFuZGxlQXV0aFNBU0xGaW5hbC5iaW5kKHRoaXMpKVxuICAgIGNvbi5vbignYmFja2VuZEtleURhdGEnLCB0aGlzLl9oYW5kbGVCYWNrZW5kS2V5RGF0YS5iaW5kKHRoaXMpKVxuICAgIGNvbi5vbignZXJyb3InLCB0aGlzLl9oYW5kbGVFcnJvckV2ZW50LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdlcnJvck1lc3NhZ2UnLCB0aGlzLl9oYW5kbGVFcnJvck1lc3NhZ2UuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ3JlYWR5Rm9yUXVlcnknLCB0aGlzLl9oYW5kbGVSZWFkeUZvclF1ZXJ5LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdub3RpY2UnLCB0aGlzLl9oYW5kbGVOb3RpY2UuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ3Jvd0Rlc2NyaXB0aW9uJywgdGhpcy5faGFuZGxlUm93RGVzY3JpcHRpb24uYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ2RhdGFSb3cnLCB0aGlzLl9oYW5kbGVEYXRhUm93LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdwb3J0YWxTdXNwZW5kZWQnLCB0aGlzLl9oYW5kbGVQb3J0YWxTdXNwZW5kZWQuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ2VtcHR5UXVlcnknLCB0aGlzLl9oYW5kbGVFbXB0eVF1ZXJ5LmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdjb21tYW5kQ29tcGxldGUnLCB0aGlzLl9oYW5kbGVDb21tYW5kQ29tcGxldGUuYmluZCh0aGlzKSlcbiAgICBjb24ub24oJ3BhcnNlQ29tcGxldGUnLCB0aGlzLl9oYW5kbGVQYXJzZUNvbXBsZXRlLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdjb3B5SW5SZXNwb25zZScsIHRoaXMuX2hhbmRsZUNvcHlJblJlc3BvbnNlLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdjb3B5RGF0YScsIHRoaXMuX2hhbmRsZUNvcHlEYXRhLmJpbmQodGhpcykpXG4gICAgY29uLm9uKCdub3RpZmljYXRpb24nLCB0aGlzLl9oYW5kbGVOb3RpZmljYXRpb24uYmluZCh0aGlzKSlcbiAgfVxuXG4gIC8vIFRPRE8oYm1jKTogZGVwcmVjYXRlIHBncGFzcyBcImJ1aWx0IGluXCIgaW50ZWdyYXRpb24gc2luY2UgdGhpcy5wYXNzd29yZCBjYW4gYmUgYSBmdW5jdGlvblxuICAvLyBpdCBjYW4gYmUgc3VwcGxpZWQgYnkgdGhlIHVzZXIgaWYgcmVxdWlyZWQgLSB0aGlzIGlzIGEgYnJlYWtpbmcgY2hhbmdlIVxuICBfY2hlY2tQZ1Bhc3MoY2IpIHtcbiAgICBjb25zdCBjb24gPSB0aGlzLmNvbm5lY3Rpb25cbiAgICBpZiAodHlwZW9mIHRoaXMucGFzc3dvcmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX1Byb21pc2VcbiAgICAgICAgLnJlc29sdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLnBhc3N3b3JkKCkpXG4gICAgICAgIC50aGVuKChwYXNzKSA9PiB7XG4gICAgICAgICAgaWYgKHBhc3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXNzICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb24uZW1pdCgnZXJyb3InLCBuZXcgVHlwZUVycm9yKCdQYXNzd29yZCBtdXN0IGJlIGEgc3RyaW5nJykpXG4gICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5wYXNzd29yZCA9IHRoaXMucGFzc3dvcmQgPSBwYXNzXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucGFzc3dvcmQgPSB0aGlzLnBhc3N3b3JkID0gbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgICBjYigpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgICB9KVxuICAgIH0gZWxzZSBpZiAodGhpcy5wYXNzd29yZCAhPT0gbnVsbCkge1xuICAgICAgY2IoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwZ1Bhc3MgPSByZXF1aXJlKCdwZ3Bhc3MnKVxuICAgICAgICBwZ1Bhc3ModGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycywgKHBhc3MpID0+IHtcbiAgICAgICAgICBpZiAodW5kZWZpbmVkICE9PSBwYXNzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLnBhc3N3b3JkID0gdGhpcy5wYXNzd29yZCA9IHBhc3NcbiAgICAgICAgICB9XG4gICAgICAgICAgY2IoKVxuICAgICAgICB9KVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQXV0aENsZWFydGV4dFBhc3N3b3JkKG1zZykge1xuICAgIHRoaXMuX2NoZWNrUGdQYXNzKCgpID0+IHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5wYXNzd29yZCh0aGlzLnBhc3N3b3JkKVxuICAgIH0pXG4gIH1cblxuICBfaGFuZGxlQXV0aE1ENVBhc3N3b3JkKG1zZykge1xuICAgIHRoaXMuX2NoZWNrUGdQYXNzKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgY3J5cHRvLnBvc3RncmVzTWQ1UGFzc3dvcmRIYXNoKHRoaXMudXNlciwgdGhpcy5wYXNzd29yZCwgbXNnLnNhbHQpXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5wYXNzd29yZChoYXNoZWRQYXNzd29yZClcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGUpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIF9oYW5kbGVBdXRoU0FTTChtc2cpIHtcbiAgICB0aGlzLl9jaGVja1BnUGFzcygoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnNhc2xTZXNzaW9uID0gc2FzbC5zdGFydFNlc3Npb24obXNnLm1lY2hhbmlzbXMsIHRoaXMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcgJiYgdGhpcy5jb25uZWN0aW9uLnN0cmVhbSlcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLnNlbmRTQVNMSW5pdGlhbFJlc3BvbnNlTWVzc2FnZSh0aGlzLnNhc2xTZXNzaW9uLm1lY2hhbmlzbSwgdGhpcy5zYXNsU2Vzc2lvbi5yZXNwb25zZSlcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIF9oYW5kbGVBdXRoU0FTTENvbnRpbnVlKG1zZykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzYXNsLmNvbnRpbnVlU2Vzc2lvbihcbiAgICAgICAgdGhpcy5zYXNsU2Vzc2lvbixcbiAgICAgICAgdGhpcy5wYXNzd29yZCxcbiAgICAgICAgbXNnLmRhdGEsXG4gICAgICAgIHRoaXMuZW5hYmxlQ2hhbm5lbEJpbmRpbmcgJiYgdGhpcy5jb25uZWN0aW9uLnN0cmVhbVxuICAgICAgKVxuICAgICAgdGhpcy5jb25uZWN0aW9uLnNlbmRTQ1JBTUNsaWVudEZpbmFsTWVzc2FnZSh0aGlzLnNhc2xTZXNzaW9uLnJlc3BvbnNlKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVBdXRoU0FTTEZpbmFsKG1zZykge1xuICAgIHRyeSB7XG4gICAgICBzYXNsLmZpbmFsaXplU2Vzc2lvbih0aGlzLnNhc2xTZXNzaW9uLCBtc2cuZGF0YSlcbiAgICAgIHRoaXMuc2FzbFNlc3Npb24gPSBudWxsXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb24uZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUJhY2tlbmRLZXlEYXRhKG1zZykge1xuICAgIHRoaXMucHJvY2Vzc0lEID0gbXNnLnByb2Nlc3NJRFxuICAgIHRoaXMuc2VjcmV0S2V5ID0gbXNnLnNlY3JldEtleVxuICB9XG5cbiAgX2hhbmRsZVJlYWR5Rm9yUXVlcnkobXNnKSB7XG4gICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcpIHtcbiAgICAgIHRoaXMuX2Nvbm5lY3RpbmcgPSBmYWxzZVxuICAgICAgdGhpcy5fY29ubmVjdGVkID0gdHJ1ZVxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvblRpbWVvdXRIYW5kbGUpXG5cbiAgICAgIC8vIHByb2Nlc3MgcG9zc2libGUgY2FsbGJhY2sgYXJndW1lbnQgdG8gQ2xpZW50I2Nvbm5lY3RcbiAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbkNhbGxiYWNrKG51bGwsIHRoaXMpXG4gICAgICAgIC8vIHJlbW92ZSBjYWxsYmFjayBmb3IgcHJvcGVyIGVycm9yIGhhbmRsaW5nXG4gICAgICAgIC8vIGFmdGVyIHRoZSBjb25uZWN0IGV2ZW50XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25DYWxsYmFjayA9IG51bGxcbiAgICAgIH1cbiAgICAgIHRoaXMuZW1pdCgnY29ubmVjdCcpXG4gICAgfVxuICAgIGNvbnN0IHsgYWN0aXZlUXVlcnkgfSA9IHRoaXNcbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5ID0gbnVsbFxuICAgIHRoaXMucmVhZHlGb3JRdWVyeSA9IHRydWVcbiAgICBpZiAoYWN0aXZlUXVlcnkpIHtcbiAgICAgIGFjdGl2ZVF1ZXJ5LmhhbmRsZVJlYWR5Rm9yUXVlcnkodGhpcy5jb25uZWN0aW9uKVxuICAgIH1cbiAgICB0aGlzLl9wdWxzZVF1ZXJ5UXVldWUoKVxuICB9XG5cbiAgLy8gaWYgd2UgcmVjZWl2ZSBhbiBlcnJvciBldmVudCBvciBlcnJvciBtZXNzYWdlXG4gIC8vIGR1cmluZyB0aGUgY29ubmVjdGlvbiBwcm9jZXNzIHdlIGhhbmRsZSBpdCBoZXJlXG4gIF9oYW5kbGVFcnJvcldoaWxlQ29ubmVjdGluZyhlcnIpIHtcbiAgICBpZiAodGhpcy5fY29ubmVjdGlvbkVycm9yKSB7XG4gICAgICAvLyBUT0RPKGJtYyk6IHRoaXMgaXMgc3dhbGxvd2luZyBlcnJvcnMgLSB3ZSBzaG91bGRuJ3QgZG8gdGhpc1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuX2Nvbm5lY3Rpb25FcnJvciA9IHRydWVcbiAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uVGltZW91dEhhbmRsZSlcbiAgICBpZiAodGhpcy5fY29ubmVjdGlvbkNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvbkNhbGxiYWNrKGVycilcbiAgICB9XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgfVxuXG4gIC8vIGlmIHdlJ3JlIGNvbm5lY3RlZCBhbmQgd2UgcmVjZWl2ZSBhbiBlcnJvciBldmVudCBmcm9tIHRoZSBjb25uZWN0aW9uXG4gIC8vIHRoaXMgbWVhbnMgdGhlIHNvY2tldCBpcyBkZWFkIC0gZG8gYSBoYXJkIGFib3J0IG9mIGFsbCBxdWVyaWVzIGFuZCBlbWl0XG4gIC8vIHRoZSBzb2NrZXQgZXJyb3Igb24gdGhlIGNsaWVudCBhcyB3ZWxsXG4gIF9oYW5kbGVFcnJvckV2ZW50KGVycikge1xuICAgIGlmICh0aGlzLl9jb25uZWN0aW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlRXJyb3JXaGlsZUNvbm5lY3RpbmcoZXJyKVxuICAgIH1cbiAgICB0aGlzLl9xdWVyeWFibGUgPSBmYWxzZVxuICAgIHRoaXMuX2Vycm9yQWxsUXVlcmllcyhlcnIpXG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgfVxuXG4gIC8vIGhhbmRsZSBlcnJvciBtZXNzYWdlcyBmcm9tIHRoZSBwb3N0Z3JlcyBiYWNrZW5kXG4gIF9oYW5kbGVFcnJvck1lc3NhZ2UobXNnKSB7XG4gICAgaWYgKHRoaXMuX2Nvbm5lY3RpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVFcnJvcldoaWxlQ29ubmVjdGluZyhtc2cpXG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVF1ZXJ5ID0gdGhpcy5hY3RpdmVRdWVyeVxuXG4gICAgaWYgKCFhY3RpdmVRdWVyeSkge1xuICAgICAgdGhpcy5faGFuZGxlRXJyb3JFdmVudChtc2cpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5ID0gbnVsbFxuICAgIGFjdGl2ZVF1ZXJ5LmhhbmRsZUVycm9yKG1zZywgdGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZVJvd0Rlc2NyaXB0aW9uKG1zZykge1xuICAgIC8vIGRlbGVnYXRlIHJvd0Rlc2NyaXB0aW9uIHRvIGFjdGl2ZSBxdWVyeVxuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlUm93RGVzY3JpcHRpb24obXNnKVxuICB9XG5cbiAgX2hhbmRsZURhdGFSb3cobXNnKSB7XG4gICAgLy8gZGVsZWdhdGUgZGF0YVJvdyB0byBhY3RpdmUgcXVlcnlcbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5LmhhbmRsZURhdGFSb3cobXNnKVxuICB9XG5cbiAgX2hhbmRsZVBvcnRhbFN1c3BlbmRlZChtc2cpIHtcbiAgICAvLyBkZWxlZ2F0ZSBwb3J0YWxTdXNwZW5kZWQgdG8gYWN0aXZlIHF1ZXJ5XG4gICAgdGhpcy5hY3RpdmVRdWVyeS5oYW5kbGVQb3J0YWxTdXNwZW5kZWQodGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZUVtcHR5UXVlcnkobXNnKSB7XG4gICAgLy8gZGVsZWdhdGUgZW1wdHlRdWVyeSB0byBhY3RpdmUgcXVlcnlcbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5LmhhbmRsZUVtcHR5UXVlcnkodGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZUNvbW1hbmRDb21wbGV0ZShtc2cpIHtcbiAgICBpZiAodGhpcy5hY3RpdmVRdWVyeSA9PSBudWxsKSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignUmVjZWl2ZWQgdW5leHBlY3RlZCBjb21tYW5kQ29tcGxldGUgbWVzc2FnZSBmcm9tIGJhY2tlbmQuJylcbiAgICAgIHRoaXMuX2hhbmRsZUVycm9yRXZlbnQoZXJyb3IpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gZGVsZWdhdGUgY29tbWFuZENvbXBsZXRlIHRvIGFjdGl2ZSBxdWVyeVxuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlQ29tbWFuZENvbXBsZXRlKG1zZywgdGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZVBhcnNlQ29tcGxldGUoKSB7XG4gICAgaWYgKHRoaXMuYWN0aXZlUXVlcnkgPT0gbnVsbCkge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1JlY2VpdmVkIHVuZXhwZWN0ZWQgcGFyc2VDb21wbGV0ZSBtZXNzYWdlIGZyb20gYmFja2VuZC4nKVxuICAgICAgdGhpcy5faGFuZGxlRXJyb3JFdmVudChlcnJvcilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyBpZiBhIHByZXBhcmVkIHN0YXRlbWVudCBoYXMgYSBuYW1lIGFuZCBwcm9wZXJseSBwYXJzZXNcbiAgICAvLyB3ZSB0cmFjayB0aGF0IGl0cyBhbHJlYWR5IGJlZW4gZXhlY3V0ZWQgc28gd2UgZG9uJ3QgcGFyc2VcbiAgICAvLyBpdCBhZ2FpbiBvbiB0aGUgc2FtZSBjbGllbnRcbiAgICBpZiAodGhpcy5hY3RpdmVRdWVyeS5uYW1lKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb24ucGFyc2VkU3RhdGVtZW50c1t0aGlzLmFjdGl2ZVF1ZXJ5Lm5hbWVdID0gdGhpcy5hY3RpdmVRdWVyeS50ZXh0XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUNvcHlJblJlc3BvbnNlKG1zZykge1xuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlQ29weUluUmVzcG9uc2UodGhpcy5jb25uZWN0aW9uKVxuICB9XG5cbiAgX2hhbmRsZUNvcHlEYXRhKG1zZykge1xuICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlQ29weURhdGEobXNnLCB0aGlzLmNvbm5lY3Rpb24pXG4gIH1cblxuICBfaGFuZGxlTm90aWZpY2F0aW9uKG1zZykge1xuICAgIHRoaXMuZW1pdCgnbm90aWZpY2F0aW9uJywgbXNnKVxuICB9XG5cbiAgX2hhbmRsZU5vdGljZShtc2cpIHtcbiAgICB0aGlzLmVtaXQoJ25vdGljZScsIG1zZylcbiAgfVxuXG4gIGdldFN0YXJ0dXBDb25mKCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnNcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICB1c2VyOiBwYXJhbXMudXNlcixcbiAgICAgIGRhdGFiYXNlOiBwYXJhbXMuZGF0YWJhc2UsXG4gICAgfVxuXG4gICAgY29uc3QgYXBwTmFtZSA9IHBhcmFtcy5hcHBsaWNhdGlvbl9uYW1lIHx8IHBhcmFtcy5mYWxsYmFja19hcHBsaWNhdGlvbl9uYW1lXG4gICAgaWYgKGFwcE5hbWUpIHtcbiAgICAgIGRhdGEuYXBwbGljYXRpb25fbmFtZSA9IGFwcE5hbWVcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5yZXBsaWNhdGlvbikge1xuICAgICAgZGF0YS5yZXBsaWNhdGlvbiA9ICcnICsgcGFyYW1zLnJlcGxpY2F0aW9uXG4gICAgfVxuICAgIGlmIChwYXJhbXMuc3RhdGVtZW50X3RpbWVvdXQpIHtcbiAgICAgIGRhdGEuc3RhdGVtZW50X3RpbWVvdXQgPSBTdHJpbmcocGFyc2VJbnQocGFyYW1zLnN0YXRlbWVudF90aW1lb3V0LCAxMCkpXG4gICAgfVxuICAgIGlmIChwYXJhbXMubG9ja190aW1lb3V0KSB7XG4gICAgICBkYXRhLmxvY2tfdGltZW91dCA9IFN0cmluZyhwYXJzZUludChwYXJhbXMubG9ja190aW1lb3V0LCAxMCkpXG4gICAgfVxuICAgIGlmIChwYXJhbXMuaWRsZV9pbl90cmFuc2FjdGlvbl9zZXNzaW9uX3RpbWVvdXQpIHtcbiAgICAgIGRhdGEuaWRsZV9pbl90cmFuc2FjdGlvbl9zZXNzaW9uX3RpbWVvdXQgPSBTdHJpbmcocGFyc2VJbnQocGFyYW1zLmlkbGVfaW5fdHJhbnNhY3Rpb25fc2Vzc2lvbl90aW1lb3V0LCAxMCkpXG4gICAgfVxuICAgIGlmIChwYXJhbXMub3B0aW9ucykge1xuICAgICAgZGF0YS5vcHRpb25zID0gcGFyYW1zLm9wdGlvbnNcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgY2FuY2VsKGNsaWVudCwgcXVlcnkpIHtcbiAgICBpZiAoY2xpZW50LmFjdGl2ZVF1ZXJ5ID09PSBxdWVyeSkge1xuICAgICAgY29uc3QgY29uID0gdGhpcy5jb25uZWN0aW9uXG5cbiAgICAgIGlmICh0aGlzLmhvc3QgJiYgdGhpcy5ob3N0LmluZGV4T2YoJy8nKSA9PT0gMCkge1xuICAgICAgICBjb24uY29ubmVjdCh0aGlzLmhvc3QgKyAnLy5zLlBHU1FMLicgKyB0aGlzLnBvcnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb24uY29ubmVjdCh0aGlzLnBvcnQsIHRoaXMuaG9zdClcbiAgICAgIH1cblxuICAgICAgLy8gb25jZSBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIHNlbmQgY2FuY2VsIG1lc3NhZ2VcbiAgICAgIGNvbi5vbignY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uLmNhbmNlbChjbGllbnQucHJvY2Vzc0lELCBjbGllbnQuc2VjcmV0S2V5KVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKGNsaWVudC5xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpICE9PSAtMSkge1xuICAgICAgY2xpZW50LnF1ZXJ5UXVldWUuc3BsaWNlKGNsaWVudC5xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpLCAxKVxuICAgIH1cbiAgfVxuXG4gIHNldFR5cGVQYXJzZXIob2lkLCBmb3JtYXQsIHBhcnNlRm4pIHtcbiAgICByZXR1cm4gdGhpcy5fdHlwZXMuc2V0VHlwZVBhcnNlcihvaWQsIGZvcm1hdCwgcGFyc2VGbilcbiAgfVxuXG4gIGdldFR5cGVQYXJzZXIob2lkLCBmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5fdHlwZXMuZ2V0VHlwZVBhcnNlcihvaWQsIGZvcm1hdClcbiAgfVxuXG4gIC8vIGVzY2FwZUlkZW50aWZpZXIgYW5kIGVzY2FwZUxpdGVyYWwgbW92ZWQgdG8gdXRpbGl0eSBmdW5jdGlvbnMgJiBleHBvcnRlZFxuICAvLyBvbiBQR1xuICAvLyByZS1leHBvcnRlZCBoZXJlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICBlc2NhcGVJZGVudGlmaWVyKHN0cikge1xuICAgIHJldHVybiB1dGlscy5lc2NhcGVJZGVudGlmaWVyKHN0cilcbiAgfVxuXG4gIGVzY2FwZUxpdGVyYWwoc3RyKSB7XG4gICAgcmV0dXJuIHV0aWxzLmVzY2FwZUxpdGVyYWwoc3RyKVxuICB9XG5cbiAgX3B1bHNlUXVlcnlRdWV1ZSgpIHtcbiAgICBpZiAodGhpcy5yZWFkeUZvclF1ZXJ5ID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmFjdGl2ZVF1ZXJ5ID0gdGhpcy5xdWVyeVF1ZXVlLnNoaWZ0KClcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVF1ZXJ5KSB7XG4gICAgICAgIHRoaXMucmVhZHlGb3JRdWVyeSA9IGZhbHNlXG4gICAgICAgIHRoaXMuaGFzRXhlY3V0ZWQgPSB0cnVlXG5cbiAgICAgICAgY29uc3QgcXVlcnlFcnJvciA9IHRoaXMuYWN0aXZlUXVlcnkuc3VibWl0KHRoaXMuY29ubmVjdGlvbilcbiAgICAgICAgaWYgKHF1ZXJ5RXJyb3IpIHtcbiAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUXVlcnkuaGFuZGxlRXJyb3IocXVlcnlFcnJvciwgdGhpcy5jb25uZWN0aW9uKVxuICAgICAgICAgICAgdGhpcy5yZWFkeUZvclF1ZXJ5ID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5fcHVsc2VRdWVyeVF1ZXVlKClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaGFzRXhlY3V0ZWQpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVRdWVyeSA9IG51bGxcbiAgICAgICAgdGhpcy5lbWl0KCdkcmFpbicpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcXVlcnkoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKSB7XG4gICAgLy8gY2FuIHRha2UgaW4gc3RyaW5ncywgY29uZmlnIG9iamVjdCBvciBxdWVyeSBvYmplY3RcbiAgICBsZXQgcXVlcnlcbiAgICBsZXQgcmVzdWx0XG4gICAgbGV0IHJlYWRUaW1lb3V0XG4gICAgbGV0IHJlYWRUaW1lb3V0VGltZXJcbiAgICBsZXQgcXVlcnlDYWxsYmFja1xuXG4gICAgaWYgKGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2xpZW50IHdhcyBwYXNzZWQgYSBudWxsIG9yIHVuZGVmaW5lZCBxdWVyeScpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnLnN1Ym1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVhZFRpbWVvdXQgPSBjb25maWcucXVlcnlfdGltZW91dCB8fCB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLnF1ZXJ5X3RpbWVvdXRcbiAgICAgIHJlc3VsdCA9IHF1ZXJ5ID0gY29uZmlnXG4gICAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBxdWVyeS5jYWxsYmFjayA9IHF1ZXJ5LmNhbGxiYWNrIHx8IHZhbHVlc1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWFkVGltZW91dCA9IGNvbmZpZy5xdWVyeV90aW1lb3V0IHx8IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucXVlcnlfdGltZW91dFxuICAgICAgcXVlcnkgPSBuZXcgUXVlcnkoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKVxuICAgICAgaWYgKCFxdWVyeS5jYWxsYmFjaykge1xuICAgICAgICByZXN1bHQgPSBuZXcgdGhpcy5fUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IChlcnIgPyByZWplY3QoZXJyKSA6IHJlc29sdmUocmVzKSlcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIHN0YWNrIHRyYWNlIHRoYXQgbGVhZHMgdG8gYFRDUC5vblN0cmVhbVJlYWRgIHdpdGggb25lIHRoYXQgbGVhZHMgYmFjayB0byB0aGVcbiAgICAgICAgICAvLyBhcHBsaWNhdGlvbiB0aGF0IGNyZWF0ZWQgdGhlIHF1ZXJ5XG4gICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyKVxuICAgICAgICAgIHRocm93IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZWFkVGltZW91dCkge1xuICAgICAgcXVlcnlDYWxsYmFjayA9IHF1ZXJ5LmNhbGxiYWNrXG5cbiAgICAgIHJlYWRUaW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1F1ZXJ5IHJlYWQgdGltZW91dCcpXG5cbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgcXVlcnkuaGFuZGxlRXJyb3IoZXJyb3IsIHRoaXMuY29ubmVjdGlvbilcbiAgICAgICAgfSlcblxuICAgICAgICBxdWVyeUNhbGxiYWNrKGVycm9yKVxuXG4gICAgICAgIC8vIHdlIGFscmVhZHkgcmV0dXJuZWQgYW4gZXJyb3IsXG4gICAgICAgIC8vIGp1c3QgZG8gbm90aGluZyBpZiBxdWVyeSBjb21wbGV0ZXNcbiAgICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoKSA9PiB7fVxuXG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIHF1ZXVlXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeVF1ZXVlLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3B1bHNlUXVlcnlRdWV1ZSgpXG4gICAgICB9LCByZWFkVGltZW91dClcblxuICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlYWRUaW1lb3V0VGltZXIpXG4gICAgICAgIHF1ZXJ5Q2FsbGJhY2soZXJyLCByZXMpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYmluYXJ5ICYmICFxdWVyeS5iaW5hcnkpIHtcbiAgICAgIHF1ZXJ5LmJpbmFyeSA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAocXVlcnkuX3Jlc3VsdCAmJiAhcXVlcnkuX3Jlc3VsdC5fdHlwZXMpIHtcbiAgICAgIHF1ZXJ5Ll9yZXN1bHQuX3R5cGVzID0gdGhpcy5fdHlwZXNcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3F1ZXJ5YWJsZSkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHF1ZXJ5LmhhbmRsZUVycm9yKG5ldyBFcnJvcignQ2xpZW50IGhhcyBlbmNvdW50ZXJlZCBhIGNvbm5lY3Rpb24gZXJyb3IgYW5kIGlzIG5vdCBxdWVyeWFibGUnKSwgdGhpcy5jb25uZWN0aW9uKVxuICAgICAgfSlcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZW5kaW5nKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgcXVlcnkuaGFuZGxlRXJyb3IobmV3IEVycm9yKCdDbGllbnQgd2FzIGNsb3NlZCBhbmQgaXMgbm90IHF1ZXJ5YWJsZScpLCB0aGlzLmNvbm5lY3Rpb24pXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIHRoaXMucXVlcnlRdWV1ZS5wdXNoKHF1ZXJ5KVxuICAgIHRoaXMuX3B1bHNlUXVlcnlRdWV1ZSgpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgcmVmKCkge1xuICAgIHRoaXMuY29ubmVjdGlvbi5yZWYoKVxuICB9XG5cbiAgdW5yZWYoKSB7XG4gICAgdGhpcy5jb25uZWN0aW9uLnVucmVmKClcbiAgfVxuXG4gIGVuZChjYikge1xuICAgIHRoaXMuX2VuZGluZyA9IHRydWVcblxuICAgIC8vIGlmIHdlIGhhdmUgbmV2ZXIgY29ubmVjdGVkLCB0aGVuIGVuZCBpcyBhIG5vb3AsIGNhbGxiYWNrIGltbWVkaWF0ZWx5XG4gICAgaWYgKCF0aGlzLmNvbm5lY3Rpb24uX2Nvbm5lY3RpbmcgfHwgdGhpcy5fZW5kZWQpIHtcbiAgICAgIGlmIChjYikge1xuICAgICAgICBjYigpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY3RpdmVRdWVyeSB8fCAhdGhpcy5fcXVlcnlhYmxlKSB7XG4gICAgICAvLyBpZiB3ZSBoYXZlIGFuIGFjdGl2ZSBxdWVyeSB3ZSBuZWVkIHRvIGZvcmNlIGEgZGlzY29ubmVjdFxuICAgICAgLy8gb24gdGhlIHNvY2tldCAtIG90aGVyd2lzZSBhIGh1bmcgcXVlcnkgY291bGQgYmxvY2sgZW5kIGZvcmV2ZXJcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5zdHJlYW0uZGVzdHJveSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5lbmQoKVxuICAgIH1cblxuICAgIGlmIChjYikge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLm9uY2UoJ2VuZCcsIGNiKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IHRoaXMuX1Byb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLm9uY2UoJ2VuZCcsIHJlc29sdmUpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuXG4vLyBleHBvc2UgYSBRdWVyeSBjb25zdHJ1Y3RvclxuQ2xpZW50LlF1ZXJ5ID0gUXVlcnlcblxubW9kdWxlLmV4cG9ydHMgPSBDbGllbnRcbiIsICIndXNlIHN0cmljdCdcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuXG5jb25zdCBOT09QID0gZnVuY3Rpb24gKCkge31cblxuY29uc3QgcmVtb3ZlV2hlcmUgPSAobGlzdCwgcHJlZGljYXRlKSA9PiB7XG4gIGNvbnN0IGkgPSBsaXN0LmZpbmRJbmRleChwcmVkaWNhdGUpXG5cbiAgcmV0dXJuIGkgPT09IC0xID8gdW5kZWZpbmVkIDogbGlzdC5zcGxpY2UoaSwgMSlbMF1cbn1cblxuY2xhc3MgSWRsZUl0ZW0ge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGlkbGVMaXN0ZW5lciwgdGltZW91dElkKSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnRcbiAgICB0aGlzLmlkbGVMaXN0ZW5lciA9IGlkbGVMaXN0ZW5lclxuICAgIHRoaXMudGltZW91dElkID0gdGltZW91dElkXG4gIH1cbn1cblxuY2xhc3MgUGVuZGluZ0l0ZW0ge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFja1xuICB9XG59XG5cbmZ1bmN0aW9uIHRocm93T25Eb3VibGVSZWxlYXNlKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1JlbGVhc2UgY2FsbGVkIG9uIGNsaWVudCB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIHJlbGVhc2VkIHRvIHRoZSBwb29sLicpXG59XG5cbmZ1bmN0aW9uIHByb21pc2lmeShQcm9taXNlLCBjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4geyBjYWxsYmFjazogY2FsbGJhY2ssIHJlc3VsdDogdW5kZWZpbmVkIH1cbiAgfVxuICBsZXQgcmVqXG4gIGxldCByZXNcbiAgY29uc3QgY2IgPSBmdW5jdGlvbiAoZXJyLCBjbGllbnQpIHtcbiAgICBlcnIgPyByZWooZXJyKSA6IHJlcyhjbGllbnQpXG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlcyA9IHJlc29sdmVcbiAgICByZWogPSByZWplY3RcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIC8vIHJlcGxhY2UgdGhlIHN0YWNrIHRyYWNlIHRoYXQgbGVhZHMgdG8gYFRDUC5vblN0cmVhbVJlYWRgIHdpdGggb25lIHRoYXQgbGVhZHMgYmFjayB0byB0aGVcbiAgICAvLyBhcHBsaWNhdGlvbiB0aGF0IGNyZWF0ZWQgdGhlIHF1ZXJ5XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyKVxuICAgIHRocm93IGVyclxuICB9KVxuICByZXR1cm4geyBjYWxsYmFjazogY2IsIHJlc3VsdDogcmVzdWx0IH1cbn1cblxuZnVuY3Rpb24gbWFrZUlkbGVMaXN0ZW5lcihwb29sLCBjbGllbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGlkbGVMaXN0ZW5lcihlcnIpIHtcbiAgICBlcnIuY2xpZW50ID0gY2xpZW50XG5cbiAgICBjbGllbnQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgaWRsZUxpc3RlbmVyKVxuICAgIGNsaWVudC5vbignZXJyb3InLCAoKSA9PiB7XG4gICAgICBwb29sLmxvZygnYWRkaXRpb25hbCBjbGllbnQgZXJyb3IgYWZ0ZXIgZGlzY29ubmVjdGlvbiBkdWUgdG8gZXJyb3InLCBlcnIpXG4gICAgfSlcbiAgICBwb29sLl9yZW1vdmUoY2xpZW50KVxuICAgIC8vIFRPRE8gLSBkb2N1bWVudCB0aGF0IG9uY2UgdGhlIHBvb2wgZW1pdHMgYW4gZXJyb3JcbiAgICAvLyB0aGUgY2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkICYgcHVyZ2VkIGFuZCBpcyB1bnVzYWJsZVxuICAgIHBvb2wuZW1pdCgnZXJyb3InLCBlcnIsIGNsaWVudClcbiAgfVxufVxuXG5jbGFzcyBQb29sIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgQ2xpZW50KSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpXG5cbiAgICBpZiAob3B0aW9ucyAhPSBudWxsICYmICdwYXNzd29yZCcgaW4gb3B0aW9ucykge1xuICAgICAgLy8gXCJoaWRpbmdcIiB0aGUgcGFzc3dvcmQgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgICAgLy8gb3IgaWYgdGhlIGNsaWVudCBpcyBjb25zb2xlLmxvZ2dlZFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3B0aW9ucywgJ3Bhc3N3b3JkJywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMucGFzc3dvcmQsXG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAob3B0aW9ucyAhPSBudWxsICYmIG9wdGlvbnMuc3NsICYmIG9wdGlvbnMuc3NsLmtleSkge1xuICAgICAgLy8gXCJoaWRpbmdcIiB0aGUgc3NsLT5rZXkgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAgICAgLy8gb3IgaWYgdGhlIGNsaWVudCBpcyBjb25zb2xlLmxvZ2dlZFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3B0aW9ucy5zc2wsICdrZXknLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMubWF4ID0gdGhpcy5vcHRpb25zLm1heCB8fCB0aGlzLm9wdGlvbnMucG9vbFNpemUgfHwgMTBcbiAgICB0aGlzLm9wdGlvbnMubWluID0gdGhpcy5vcHRpb25zLm1pbiB8fCAwXG4gICAgdGhpcy5vcHRpb25zLm1heFVzZXMgPSB0aGlzLm9wdGlvbnMubWF4VXNlcyB8fCBJbmZpbml0eVxuICAgIHRoaXMub3B0aW9ucy5hbGxvd0V4aXRPbklkbGUgPSB0aGlzLm9wdGlvbnMuYWxsb3dFeGl0T25JZGxlIHx8IGZhbHNlXG4gICAgdGhpcy5vcHRpb25zLm1heExpZmV0aW1lU2Vjb25kcyA9IHRoaXMub3B0aW9ucy5tYXhMaWZldGltZVNlY29uZHMgfHwgMFxuICAgIHRoaXMubG9nID0gdGhpcy5vcHRpb25zLmxvZyB8fCBmdW5jdGlvbiAoKSB7fVxuICAgIHRoaXMuQ2xpZW50ID0gdGhpcy5vcHRpb25zLkNsaWVudCB8fCBDbGllbnQgfHwgcmVxdWlyZSgncGcnKS5DbGllbnRcbiAgICB0aGlzLlByb21pc2UgPSB0aGlzLm9wdGlvbnMuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZVxuXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaWRsZVRpbWVvdXRNaWxsaXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuaWRsZVRpbWVvdXRNaWxsaXMgPSAxMDAwMFxuICAgIH1cblxuICAgIHRoaXMuX2NsaWVudHMgPSBbXVxuICAgIHRoaXMuX2lkbGUgPSBbXVxuICAgIHRoaXMuX2V4cGlyZWQgPSBuZXcgV2Vha1NldCgpXG4gICAgdGhpcy5fcGVuZGluZ1F1ZXVlID0gW11cbiAgICB0aGlzLl9lbmRDYWxsYmFjayA9IHVuZGVmaW5lZFxuICAgIHRoaXMuZW5kaW5nID0gZmFsc2VcbiAgICB0aGlzLmVuZGVkID0gZmFsc2VcbiAgfVxuXG4gIF9pc0Z1bGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudHMubGVuZ3RoID49IHRoaXMub3B0aW9ucy5tYXhcbiAgfVxuXG4gIF9pc0Fib3ZlTWluKCkge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnRzLmxlbmd0aCA+IHRoaXMub3B0aW9ucy5taW5cbiAgfVxuXG4gIF9wdWxzZVF1ZXVlKCkge1xuICAgIHRoaXMubG9nKCdwdWxzZSBxdWV1ZScpXG4gICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgIHRoaXMubG9nKCdwdWxzZSBxdWV1ZSBlbmRlZCcpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMuZW5kaW5nKSB7XG4gICAgICB0aGlzLmxvZygncHVsc2UgcXVldWUgb24gZW5kaW5nJylcbiAgICAgIGlmICh0aGlzLl9pZGxlLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9pZGxlLnNsaWNlKCkubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgdGhpcy5fcmVtb3ZlKGl0ZW0uY2xpZW50KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9jbGllbnRzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLl9lbmRDYWxsYmFjaygpXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGFueSB3YWl0aW5nLCBkbyBub3RoaW5nXG4gICAgaWYgKCF0aGlzLl9wZW5kaW5nUXVldWUubGVuZ3RoKSB7XG4gICAgICB0aGlzLmxvZygnbm8gcXVldWVkIHJlcXVlc3RzJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGFueSBpZGxlIGNsaWVudHMgYW5kIHdlIGhhdmUgbm8gbW9yZSByb29tIGRvIG5vdGhpbmdcbiAgICBpZiAoIXRoaXMuX2lkbGUubGVuZ3RoICYmIHRoaXMuX2lzRnVsbCgpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgcGVuZGluZ0l0ZW0gPSB0aGlzLl9wZW5kaW5nUXVldWUuc2hpZnQoKVxuICAgIGlmICh0aGlzLl9pZGxlLmxlbmd0aCkge1xuICAgICAgY29uc3QgaWRsZUl0ZW0gPSB0aGlzLl9pZGxlLnBvcCgpXG4gICAgICBjbGVhclRpbWVvdXQoaWRsZUl0ZW0udGltZW91dElkKVxuICAgICAgY29uc3QgY2xpZW50ID0gaWRsZUl0ZW0uY2xpZW50XG4gICAgICBjbGllbnQucmVmICYmIGNsaWVudC5yZWYoKVxuICAgICAgY29uc3QgaWRsZUxpc3RlbmVyID0gaWRsZUl0ZW0uaWRsZUxpc3RlbmVyXG5cbiAgICAgIHJldHVybiB0aGlzLl9hY3F1aXJlQ2xpZW50KGNsaWVudCwgcGVuZGluZ0l0ZW0sIGlkbGVMaXN0ZW5lciwgZmFsc2UpXG4gICAgfVxuICAgIGlmICghdGhpcy5faXNGdWxsKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLm5ld0NsaWVudChwZW5kaW5nSXRlbSlcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIGNvbmRpdGlvbicpXG4gIH1cblxuICBfcmVtb3ZlKGNsaWVudCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCByZW1vdmVkID0gcmVtb3ZlV2hlcmUodGhpcy5faWRsZSwgKGl0ZW0pID0+IGl0ZW0uY2xpZW50ID09PSBjbGllbnQpXG5cbiAgICBpZiAocmVtb3ZlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQocmVtb3ZlZC50aW1lb3V0SWQpXG4gICAgfVxuXG4gICAgdGhpcy5fY2xpZW50cyA9IHRoaXMuX2NsaWVudHMuZmlsdGVyKChjKSA9PiBjICE9PSBjbGllbnQpXG4gICAgY29uc3QgY29udGV4dCA9IHRoaXNcbiAgICBjbGllbnQuZW5kKCgpID0+IHtcbiAgICAgIGNvbnRleHQuZW1pdCgncmVtb3ZlJywgY2xpZW50KVxuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29ubmVjdChjYikge1xuICAgIGlmICh0aGlzLmVuZGluZykge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdDYW5ub3QgdXNlIGEgcG9vbCBhZnRlciBjYWxsaW5nIGVuZCBvbiB0aGUgcG9vbCcpXG4gICAgICByZXR1cm4gY2IgPyBjYihlcnIpIDogdGhpcy5Qcm9taXNlLnJlamVjdChlcnIpXG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBwcm9taXNpZnkodGhpcy5Qcm9taXNlLCBjYilcbiAgICBjb25zdCByZXN1bHQgPSByZXNwb25zZS5yZXN1bHRcblxuICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgdG8gY29ubmVjdCBhIG5ldyBjbGllbnQsIGRvbid0IGRvIHNvXG4gICAgaWYgKHRoaXMuX2lzRnVsbCgpIHx8IHRoaXMuX2lkbGUubGVuZ3RoKSB7XG4gICAgICAvLyBpZiB3ZSBoYXZlIGlkbGUgY2xpZW50cyBzY2hlZHVsZSBhIHB1bHNlIGltbWVkaWF0ZWx5XG4gICAgICBpZiAodGhpcy5faWRsZS5sZW5ndGgpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB0aGlzLl9wdWxzZVF1ZXVlKCkpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdRdWV1ZS5wdXNoKG5ldyBQZW5kaW5nSXRlbShyZXNwb25zZS5jYWxsYmFjaykpXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgIH1cblxuICAgICAgY29uc3QgcXVldWVDYWxsYmFjayA9IChlcnIsIHJlcywgZG9uZSkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGlkKVxuICAgICAgICByZXNwb25zZS5jYWxsYmFjayhlcnIsIHJlcywgZG9uZSlcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGVuZGluZ0l0ZW0gPSBuZXcgUGVuZGluZ0l0ZW0ocXVldWVDYWxsYmFjaylcblxuICAgICAgLy8gc2V0IGNvbm5lY3Rpb24gdGltZW91dCBvbiBjaGVja2luZyBvdXQgYW4gZXhpc3RpbmcgY2xpZW50XG4gICAgICBjb25zdCB0aWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBjYWxsYmFjayBmcm9tIHBlbmRpbmcgd2FpdGVycyBiZWNhdXNlXG4gICAgICAgIC8vIHdlJ3JlIGdvaW5nIHRvIGNhbGwgaXQgd2l0aCBhIHRpbWVvdXQgZXJyb3JcbiAgICAgICAgcmVtb3ZlV2hlcmUodGhpcy5fcGVuZGluZ1F1ZXVlLCAoaSkgPT4gaS5jYWxsYmFjayA9PT0gcXVldWVDYWxsYmFjaylcbiAgICAgICAgcGVuZGluZ0l0ZW0udGltZWRPdXQgPSB0cnVlXG4gICAgICAgIHJlc3BvbnNlLmNhbGxiYWNrKG5ldyBFcnJvcigndGltZW91dCBleGNlZWRlZCB3aGVuIHRyeWluZyB0byBjb25uZWN0JykpXG4gICAgICB9LCB0aGlzLm9wdGlvbnMuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMpXG5cbiAgICAgIGlmICh0aWQudW5yZWYpIHtcbiAgICAgICAgdGlkLnVucmVmKClcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcGVuZGluZ1F1ZXVlLnB1c2gocGVuZGluZ0l0ZW0pXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgdGhpcy5uZXdDbGllbnQobmV3IFBlbmRpbmdJdGVtKHJlc3BvbnNlLmNhbGxiYWNrKSlcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIG5ld0NsaWVudChwZW5kaW5nSXRlbSkge1xuICAgIGNvbnN0IGNsaWVudCA9IG5ldyB0aGlzLkNsaWVudCh0aGlzLm9wdGlvbnMpXG4gICAgdGhpcy5fY2xpZW50cy5wdXNoKGNsaWVudClcbiAgICBjb25zdCBpZGxlTGlzdGVuZXIgPSBtYWtlSWRsZUxpc3RlbmVyKHRoaXMsIGNsaWVudClcblxuICAgIHRoaXMubG9nKCdjaGVja2luZyBjbGllbnQgdGltZW91dCcpXG5cbiAgICAvLyBjb25uZWN0aW9uIHRpbWVvdXQgbG9naWNcbiAgICBsZXQgdGlkXG4gICAgbGV0IHRpbWVvdXRIaXQgPSBmYWxzZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29ubmVjdGlvblRpbWVvdXRNaWxsaXMpIHtcbiAgICAgIHRpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZygnZW5kaW5nIGNsaWVudCBkdWUgdG8gdGltZW91dCcpXG4gICAgICAgIHRpbWVvdXRIaXQgPSB0cnVlXG4gICAgICAgIC8vIGZvcmNlIGtpbGwgdGhlIG5vZGUgZHJpdmVyLCBhbmQgbGV0IGxpYnBxIGRvIGl0cyB0ZWFyZG93blxuICAgICAgICBjbGllbnQuY29ubmVjdGlvbiA/IGNsaWVudC5jb25uZWN0aW9uLnN0cmVhbS5kZXN0cm95KCkgOiBjbGllbnQuZW5kKClcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5jb25uZWN0aW9uVGltZW91dE1pbGxpcylcbiAgICB9XG5cbiAgICB0aGlzLmxvZygnY29ubmVjdGluZyBuZXcgY2xpZW50JylcbiAgICBjbGllbnQuY29ubmVjdCgoZXJyKSA9PiB7XG4gICAgICBpZiAodGlkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aWQpXG4gICAgICB9XG4gICAgICBjbGllbnQub24oJ2Vycm9yJywgaWRsZUxpc3RlbmVyKVxuICAgICAgaWYgKGVycikge1xuICAgICAgICB0aGlzLmxvZygnY2xpZW50IGZhaWxlZCB0byBjb25uZWN0JywgZXJyKVxuICAgICAgICAvLyByZW1vdmUgdGhlIGRlYWQgY2xpZW50IGZyb20gb3VyIGxpc3Qgb2YgY2xpZW50c1xuICAgICAgICB0aGlzLl9jbGllbnRzID0gdGhpcy5fY2xpZW50cy5maWx0ZXIoKGMpID0+IGMgIT09IGNsaWVudClcbiAgICAgICAgaWYgKHRpbWVvdXRIaXQpIHtcbiAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ0Nvbm5lY3Rpb24gdGVybWluYXRlZCBkdWUgdG8gY29ubmVjdGlvbiB0aW1lb3V0JywgeyBjYXVzZTogZXJyIH0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzIGNsaWVudCB3b25cdTIwMTl0IGJlIHJlbGVhc2VkLCBzbyBtb3ZlIG9uIGltbWVkaWF0ZWx5XG4gICAgICAgIHRoaXMuX3B1bHNlUXVldWUoKVxuXG4gICAgICAgIGlmICghcGVuZGluZ0l0ZW0udGltZWRPdXQpIHtcbiAgICAgICAgICBwZW5kaW5nSXRlbS5jYWxsYmFjayhlcnIsIHVuZGVmaW5lZCwgTk9PUClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sb2coJ25ldyBjbGllbnQgY29ubmVjdGVkJylcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1heExpZmV0aW1lU2Vjb25kcyAhPT0gMCkge1xuICAgICAgICAgIGNvbnN0IG1heExpZmV0aW1lVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2coJ2VuZGluZyBjbGllbnQgZHVlIHRvIGV4cGlyZWQgbGlmZXRpbWUnKVxuICAgICAgICAgICAgdGhpcy5fZXhwaXJlZC5hZGQoY2xpZW50KVxuICAgICAgICAgICAgY29uc3QgaWRsZUluZGV4ID0gdGhpcy5faWRsZS5maW5kSW5kZXgoKGlkbGVJdGVtKSA9PiBpZGxlSXRlbS5jbGllbnQgPT09IGNsaWVudClcbiAgICAgICAgICAgIGlmIChpZGxlSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2FjcXVpcmVDbGllbnQoXG4gICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgIG5ldyBQZW5kaW5nSXRlbSgoZXJyLCBjbGllbnQsIGNsaWVudFJlbGVhc2UpID0+IGNsaWVudFJlbGVhc2UoKSksXG4gICAgICAgICAgICAgICAgaWRsZUxpc3RlbmVyLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMubWF4TGlmZXRpbWVTZWNvbmRzICogMTAwMClcblxuICAgICAgICAgIG1heExpZmV0aW1lVGltZW91dC51bnJlZigpXG4gICAgICAgICAgY2xpZW50Lm9uY2UoJ2VuZCcsICgpID0+IGNsZWFyVGltZW91dChtYXhMaWZldGltZVRpbWVvdXQpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjcXVpcmVDbGllbnQoY2xpZW50LCBwZW5kaW5nSXRlbSwgaWRsZUxpc3RlbmVyLCB0cnVlKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBhY3F1aXJlIGEgY2xpZW50IGZvciBhIHBlbmRpbmcgd29yayBpdGVtXG4gIF9hY3F1aXJlQ2xpZW50KGNsaWVudCwgcGVuZGluZ0l0ZW0sIGlkbGVMaXN0ZW5lciwgaXNOZXcpIHtcbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIHRoaXMuZW1pdCgnY29ubmVjdCcsIGNsaWVudClcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ2FjcXVpcmUnLCBjbGllbnQpXG5cbiAgICBjbGllbnQucmVsZWFzZSA9IHRoaXMuX3JlbGVhc2VPbmNlKGNsaWVudCwgaWRsZUxpc3RlbmVyKVxuXG4gICAgY2xpZW50LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGlkbGVMaXN0ZW5lcilcblxuICAgIGlmICghcGVuZGluZ0l0ZW0udGltZWRPdXQpIHtcbiAgICAgIGlmIChpc05ldyAmJiB0aGlzLm9wdGlvbnMudmVyaWZ5KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy52ZXJpZnkoY2xpZW50LCAoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY2xpZW50LnJlbGVhc2UoZXJyKVxuICAgICAgICAgICAgcmV0dXJuIHBlbmRpbmdJdGVtLmNhbGxiYWNrKGVyciwgdW5kZWZpbmVkLCBOT09QKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHBlbmRpbmdJdGVtLmNhbGxiYWNrKHVuZGVmaW5lZCwgY2xpZW50LCBjbGllbnQucmVsZWFzZSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlbmRpbmdJdGVtLmNhbGxiYWNrKHVuZGVmaW5lZCwgY2xpZW50LCBjbGllbnQucmVsZWFzZSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzTmV3ICYmIHRoaXMub3B0aW9ucy52ZXJpZnkpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnZlcmlmeShjbGllbnQsIGNsaWVudC5yZWxlYXNlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xpZW50LnJlbGVhc2UoKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIF9yZWxlYXNlIGFuZCB0aHJvd3MgaWYgY2FsbGVkIG1vcmUgdGhhbiBvbmNlXG4gIF9yZWxlYXNlT25jZShjbGllbnQsIGlkbGVMaXN0ZW5lcikge1xuICAgIGxldCByZWxlYXNlZCA9IGZhbHNlXG5cbiAgICByZXR1cm4gKGVycikgPT4ge1xuICAgICAgaWYgKHJlbGVhc2VkKSB7XG4gICAgICAgIHRocm93T25Eb3VibGVSZWxlYXNlKClcbiAgICAgIH1cblxuICAgICAgcmVsZWFzZWQgPSB0cnVlXG4gICAgICB0aGlzLl9yZWxlYXNlKGNsaWVudCwgaWRsZUxpc3RlbmVyLCBlcnIpXG4gICAgfVxuICB9XG5cbiAgLy8gcmVsZWFzZSBhIGNsaWVudCBiYWNrIHRvIHRoZSBwb2xsLCBpbmNsdWRlIGFuIGVycm9yXG4gIC8vIHRvIHJlbW92ZSBpdCBmcm9tIHRoZSBwb29sXG4gIF9yZWxlYXNlKGNsaWVudCwgaWRsZUxpc3RlbmVyLCBlcnIpIHtcbiAgICBjbGllbnQub24oJ2Vycm9yJywgaWRsZUxpc3RlbmVyKVxuXG4gICAgY2xpZW50Ll9wb29sVXNlQ291bnQgPSAoY2xpZW50Ll9wb29sVXNlQ291bnQgfHwgMCkgKyAxXG5cbiAgICB0aGlzLmVtaXQoJ3JlbGVhc2UnLCBlcnIsIGNsaWVudClcblxuICAgIC8vIFRPRE8oYm1jKTogZXhwb3NlIGEgcHJvcGVyLCBwdWJsaWMgaW50ZXJmYWNlIF9xdWVyeWFibGUgYW5kIF9lbmRpbmdcbiAgICBpZiAoZXJyIHx8IHRoaXMuZW5kaW5nIHx8ICFjbGllbnQuX3F1ZXJ5YWJsZSB8fCBjbGllbnQuX2VuZGluZyB8fCBjbGllbnQuX3Bvb2xVc2VDb3VudCA+PSB0aGlzLm9wdGlvbnMubWF4VXNlcykge1xuICAgICAgaWYgKGNsaWVudC5fcG9vbFVzZUNvdW50ID49IHRoaXMub3B0aW9ucy5tYXhVc2VzKSB7XG4gICAgICAgIHRoaXMubG9nKCdyZW1vdmUgZXhwZW5kZWQgY2xpZW50JylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX3JlbW92ZShjbGllbnQsIHRoaXMuX3B1bHNlUXVldWUuYmluZCh0aGlzKSlcbiAgICB9XG5cbiAgICBjb25zdCBpc0V4cGlyZWQgPSB0aGlzLl9leHBpcmVkLmhhcyhjbGllbnQpXG4gICAgaWYgKGlzRXhwaXJlZCkge1xuICAgICAgdGhpcy5sb2coJ3JlbW92ZSBleHBpcmVkIGNsaWVudCcpXG4gICAgICB0aGlzLl9leHBpcmVkLmRlbGV0ZShjbGllbnQpXG4gICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlKGNsaWVudCwgdGhpcy5fcHVsc2VRdWV1ZS5iaW5kKHRoaXMpKVxuICAgIH1cblxuICAgIC8vIGlkbGUgdGltZW91dFxuICAgIGxldCB0aWRcbiAgICBpZiAodGhpcy5vcHRpb25zLmlkbGVUaW1lb3V0TWlsbGlzICYmIHRoaXMuX2lzQWJvdmVNaW4oKSkge1xuICAgICAgdGlkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nKCdyZW1vdmUgaWRsZSBjbGllbnQnKVxuICAgICAgICB0aGlzLl9yZW1vdmUoY2xpZW50LCB0aGlzLl9wdWxzZVF1ZXVlLmJpbmQodGhpcykpXG4gICAgICB9LCB0aGlzLm9wdGlvbnMuaWRsZVRpbWVvdXRNaWxsaXMpXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dFeGl0T25JZGxlKSB7XG4gICAgICAgIC8vIGFsbG93IE5vZGUgdG8gZXhpdCBpZiB0aGlzIGlzIGFsbCB0aGF0J3MgbGVmdFxuICAgICAgICB0aWQudW5yZWYoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dFeGl0T25JZGxlKSB7XG4gICAgICBjbGllbnQudW5yZWYoKVxuICAgIH1cblxuICAgIHRoaXMuX2lkbGUucHVzaChuZXcgSWRsZUl0ZW0oY2xpZW50LCBpZGxlTGlzdGVuZXIsIHRpZCkpXG4gICAgdGhpcy5fcHVsc2VRdWV1ZSgpXG4gIH1cblxuICBxdWVyeSh0ZXh0LCB2YWx1ZXMsIGNiKSB7XG4gICAgLy8gZ3VhcmQgY2xhdXNlIGFnYWluc3QgcGFzc2luZyBhIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXJcbiAgICBpZiAodHlwZW9mIHRleHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcHJvbWlzaWZ5KHRoaXMuUHJvbWlzZSwgdGV4dClcbiAgICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5jYWxsYmFjayhuZXcgRXJyb3IoJ1Bhc3NpbmcgYSBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIHBvb2wucXVlcnkgaXMgbm90IHN1cHBvcnRlZCcpKVxuICAgICAgfSlcbiAgICAgIHJldHVybiByZXNwb25zZS5yZXN1bHRcbiAgICB9XG5cbiAgICAvLyBhbGxvdyBwbGFpbiB0ZXh0IHF1ZXJ5IHdpdGhvdXQgdmFsdWVzXG4gICAgaWYgKHR5cGVvZiB2YWx1ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gdmFsdWVzXG4gICAgICB2YWx1ZXMgPSB1bmRlZmluZWRcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBwcm9taXNpZnkodGhpcy5Qcm9taXNlLCBjYilcbiAgICBjYiA9IHJlc3BvbnNlLmNhbGxiYWNrXG5cbiAgICB0aGlzLmNvbm5lY3QoKGVyciwgY2xpZW50KSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYihlcnIpXG4gICAgICB9XG5cbiAgICAgIGxldCBjbGllbnRSZWxlYXNlZCA9IGZhbHNlXG4gICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICBpZiAoY2xpZW50UmVsZWFzZWQpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjbGllbnRSZWxlYXNlZCA9IHRydWVcbiAgICAgICAgY2xpZW50LnJlbGVhc2UoZXJyKVxuICAgICAgICBjYihlcnIpXG4gICAgICB9XG5cbiAgICAgIGNsaWVudC5vbmNlKCdlcnJvcicsIG9uRXJyb3IpXG4gICAgICB0aGlzLmxvZygnZGlzcGF0Y2hpbmcgcXVlcnknKVxuICAgICAgdHJ5IHtcbiAgICAgICAgY2xpZW50LnF1ZXJ5KHRleHQsIHZhbHVlcywgKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2coJ3F1ZXJ5IGRpc3BhdGNoZWQnKVxuICAgICAgICAgIGNsaWVudC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKVxuICAgICAgICAgIGlmIChjbGllbnRSZWxlYXNlZCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGNsaWVudFJlbGVhc2VkID0gdHJ1ZVxuICAgICAgICAgIGNsaWVudC5yZWxlYXNlKGVycilcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IoZXJyKVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY2IodW5kZWZpbmVkLCByZXMpXG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY2xpZW50LnJlbGVhc2UoZXJyKVxuICAgICAgICByZXR1cm4gY2IoZXJyKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdFxuICB9XG5cbiAgZW5kKGNiKSB7XG4gICAgdGhpcy5sb2coJ2VuZGluZycpXG4gICAgaWYgKHRoaXMuZW5kaW5nKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ0NhbGxlZCBlbmQgb24gcG9vbCBtb3JlIHRoYW4gb25jZScpXG4gICAgICByZXR1cm4gY2IgPyBjYihlcnIpIDogdGhpcy5Qcm9taXNlLnJlamVjdChlcnIpXG4gICAgfVxuICAgIHRoaXMuZW5kaW5nID0gdHJ1ZVxuICAgIGNvbnN0IHByb21pc2VkID0gcHJvbWlzaWZ5KHRoaXMuUHJvbWlzZSwgY2IpXG4gICAgdGhpcy5fZW5kQ2FsbGJhY2sgPSBwcm9taXNlZC5jYWxsYmFja1xuICAgIHRoaXMuX3B1bHNlUXVldWUoKVxuICAgIHJldHVybiBwcm9taXNlZC5yZXN1bHRcbiAgfVxuXG4gIGdldCB3YWl0aW5nQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdRdWV1ZS5sZW5ndGhcbiAgfVxuXG4gIGdldCBpZGxlQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkbGUubGVuZ3RoXG4gIH1cblxuICBnZXQgZXhwaXJlZENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9jbGllbnRzLnJlZHVjZSgoYWNjLCBjbGllbnQpID0+IGFjYyArICh0aGlzLl9leHBpcmVkLmhhcyhjbGllbnQpID8gMSA6IDApLCAwKVxuICB9XG5cbiAgZ2V0IHRvdGFsQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudHMubGVuZ3RoXG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gUG9vbFxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCd1dGlsJylcbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuXG5jb25zdCBOYXRpdmVRdWVyeSA9IChtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb25maWcsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcylcbiAgY29uZmlnID0gdXRpbHMubm9ybWFsaXplUXVlcnlDb25maWcoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKVxuICB0aGlzLnRleHQgPSBjb25maWcudGV4dFxuICB0aGlzLnZhbHVlcyA9IGNvbmZpZy52YWx1ZXNcbiAgdGhpcy5uYW1lID0gY29uZmlnLm5hbWVcbiAgdGhpcy5xdWVyeU1vZGUgPSBjb25maWcucXVlcnlNb2RlXG4gIHRoaXMuY2FsbGJhY2sgPSBjb25maWcuY2FsbGJhY2tcbiAgdGhpcy5zdGF0ZSA9ICduZXcnXG4gIHRoaXMuX2FycmF5TW9kZSA9IGNvbmZpZy5yb3dNb2RlID09PSAnYXJyYXknXG5cbiAgLy8gaWYgdGhlICdyb3cnIGV2ZW50IGlzIGxpc3RlbmVkIGZvclxuICAvLyB0aGVuIGVtaXQgdGhlbSBhcyB0aGV5IGNvbWUgaW5cbiAgLy8gd2l0aG91dCBzZXR0aW5nIHNpbmdsZVJvd01vZGUgdG8gdHJ1ZVxuICAvLyB0aGlzIGhhcyBhbG1vc3Qgbm8gbWVhbmluZyBiZWNhdXNlIGxpYnBxXG4gIC8vIHJlYWRzIGFsbCByb3dzIGludG8gbWVtb3J5IGJlZm9yZSByZXR1cm5pbmcgYW55XG4gIHRoaXMuX2VtaXRSb3dFdmVudHMgPSBmYWxzZVxuICB0aGlzLm9uKFxuICAgICduZXdMaXN0ZW5lcicsXG4gICAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQgPT09ICdyb3cnKSB0aGlzLl9lbWl0Um93RXZlbnRzID0gdHJ1ZVxuICAgIH0uYmluZCh0aGlzKVxuICApXG59KVxuXG51dGlsLmluaGVyaXRzKE5hdGl2ZVF1ZXJ5LCBFdmVudEVtaXR0ZXIpXG5cbmNvbnN0IGVycm9yRmllbGRNYXAgPSB7XG4gIHNxbFN0YXRlOiAnY29kZScsXG4gIHN0YXRlbWVudFBvc2l0aW9uOiAncG9zaXRpb24nLFxuICBtZXNzYWdlUHJpbWFyeTogJ21lc3NhZ2UnLFxuICBjb250ZXh0OiAnd2hlcmUnLFxuICBzY2hlbWFOYW1lOiAnc2NoZW1hJyxcbiAgdGFibGVOYW1lOiAndGFibGUnLFxuICBjb2x1bW5OYW1lOiAnY29sdW1uJyxcbiAgZGF0YVR5cGVOYW1lOiAnZGF0YVR5cGUnLFxuICBjb25zdHJhaW50TmFtZTogJ2NvbnN0cmFpbnQnLFxuICBzb3VyY2VGaWxlOiAnZmlsZScsXG4gIHNvdXJjZUxpbmU6ICdsaW5lJyxcbiAgc291cmNlRnVuY3Rpb246ICdyb3V0aW5lJyxcbn1cblxuTmF0aXZlUXVlcnkucHJvdG90eXBlLmhhbmRsZUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAvLyBjb3B5IHBxIGVycm9yIGZpZWxkcyBpbnRvIHRoZSBlcnJvciBvYmplY3RcbiAgY29uc3QgZmllbGRzID0gdGhpcy5uYXRpdmUucHEucmVzdWx0RXJyb3JGaWVsZHMoKVxuICBpZiAoZmllbGRzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZmllbGRzKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRmllbGROYW1lID0gZXJyb3JGaWVsZE1hcFtrZXldIHx8IGtleVxuICAgICAgZXJyW25vcm1hbGl6ZWRGaWVsZE5hbWVdID0gZmllbGRzW2tleV1cbiAgICB9XG4gIH1cbiAgaWYgKHRoaXMuY2FsbGJhY2spIHtcbiAgICB0aGlzLmNhbGxiYWNrKGVycilcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKVxuICB9XG4gIHRoaXMuc3RhdGUgPSAnZXJyb3InXG59XG5cbk5hdGl2ZVF1ZXJ5LnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gIHJldHVybiB0aGlzLl9nZXRQcm9taXNlKCkudGhlbihvblN1Y2Nlc3MsIG9uRmFpbHVyZSlcbn1cblxuTmF0aXZlUXVlcnkucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHJldHVybiB0aGlzLl9nZXRQcm9taXNlKCkuY2F0Y2goY2FsbGJhY2spXG59XG5cbk5hdGl2ZVF1ZXJ5LnByb3RvdHlwZS5fZ2V0UHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX3Byb21pc2UpIHJldHVybiB0aGlzLl9wcm9taXNlXG4gIHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZShcbiAgICBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB0aGlzLl9vbmNlKCdlbmQnLCByZXNvbHZlKVxuICAgICAgdGhpcy5fb25jZSgnZXJyb3InLCByZWplY3QpXG4gICAgfS5iaW5kKHRoaXMpXG4gIClcbiAgcmV0dXJuIHRoaXMuX3Byb21pc2Vcbn1cblxuTmF0aXZlUXVlcnkucHJvdG90eXBlLnN1Ym1pdCA9IGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgdGhpcy5zdGF0ZSA9ICdydW5uaW5nJ1xuICBjb25zdCBzZWxmID0gdGhpc1xuICB0aGlzLm5hdGl2ZSA9IGNsaWVudC5uYXRpdmVcbiAgY2xpZW50Lm5hdGl2ZS5hcnJheU1vZGUgPSB0aGlzLl9hcnJheU1vZGVcblxuICBsZXQgYWZ0ZXIgPSBmdW5jdGlvbiAoZXJyLCByb3dzLCByZXN1bHRzKSB7XG4gICAgY2xpZW50Lm5hdGl2ZS5hcnJheU1vZGUgPSBmYWxzZVxuICAgIHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLmVtaXQoJ19kb25lJylcbiAgICB9KVxuXG4gICAgLy8gaGFuZGxlIHBvc3NpYmxlIHF1ZXJ5IGVycm9yXG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIHNlbGYuaGFuZGxlRXJyb3IoZXJyKVxuICAgIH1cblxuICAgIC8vIGVtaXQgcm93IGV2ZW50cyBmb3IgZWFjaCByb3cgaW4gdGhlIHJlc3VsdFxuICAgIGlmIChzZWxmLl9lbWl0Um93RXZlbnRzKSB7XG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJvd3MuZm9yRWFjaCgocm93T2ZSb3dzLCBpKSA9PiB7XG4gICAgICAgICAgcm93T2ZSb3dzLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgICAgICAgc2VsZi5lbWl0KCdyb3cnLCByb3csIHJlc3VsdHNbaV0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgc2VsZi5lbWl0KCdyb3cnLCByb3csIHJlc3VsdHMpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIHN1Y2Nlc3NmdWwgcmVzdWx0XG4gICAgc2VsZi5zdGF0ZSA9ICdlbmQnXG4gICAgc2VsZi5lbWl0KCdlbmQnLCByZXN1bHRzKVxuICAgIGlmIChzZWxmLmNhbGxiYWNrKSB7XG4gICAgICBzZWxmLmNhbGxiYWNrKG51bGwsIHJlc3VsdHMpXG4gICAgfVxuICB9XG5cbiAgaWYgKHByb2Nlc3MuZG9tYWluKSB7XG4gICAgYWZ0ZXIgPSBwcm9jZXNzLmRvbWFpbi5iaW5kKGFmdGVyKVxuICB9XG5cbiAgLy8gbmFtZWQgcXVlcnlcbiAgaWYgKHRoaXMubmFtZSkge1xuICAgIGlmICh0aGlzLm5hbWUubGVuZ3RoID4gNjMpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1dhcm5pbmchIFBvc3RncmVzIG9ubHkgc3VwcG9ydHMgNjMgY2hhcmFjdGVycyBmb3IgcXVlcnkgbmFtZXMuJylcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1lvdSBzdXBwbGllZCAlcyAoJXMpJywgdGhpcy5uYW1lLCB0aGlzLm5hbWUubGVuZ3RoKVxuICAgICAgY29uc29sZS5lcnJvcignVGhpcyBjYW4gY2F1c2UgY29uZmxpY3RzIGFuZCBzaWxlbnQgZXJyb3JzIGV4ZWN1dGluZyBxdWVyaWVzJylcbiAgICB9XG4gICAgY29uc3QgdmFsdWVzID0gKHRoaXMudmFsdWVzIHx8IFtdKS5tYXAodXRpbHMucHJlcGFyZVZhbHVlKVxuXG4gICAgLy8gY2hlY2sgaWYgdGhlIGNsaWVudCBoYXMgYWxyZWFkeSBleGVjdXRlZCB0aGlzIG5hbWVkIHF1ZXJ5XG4gICAgLy8gaWYgc28uLi5qdXN0IGV4ZWN1dGUgaXQgYWdhaW4gLSBza2lwIHRoZSBwbGFubmluZyBwaGFzZVxuICAgIGlmIChjbGllbnQubmFtZWRRdWVyaWVzW3RoaXMubmFtZV0pIHtcbiAgICAgIGlmICh0aGlzLnRleHQgJiYgY2xpZW50Lm5hbWVkUXVlcmllc1t0aGlzLm5hbWVdICE9PSB0aGlzLnRleHQpIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBQcmVwYXJlZCBzdGF0ZW1lbnRzIG11c3QgYmUgdW5pcXVlIC0gJyR7dGhpcy5uYW1lfScgd2FzIHVzZWQgZm9yIGEgZGlmZmVyZW50IHN0YXRlbWVudGApXG4gICAgICAgIHJldHVybiBhZnRlcihlcnIpXG4gICAgICB9XG4gICAgICByZXR1cm4gY2xpZW50Lm5hdGl2ZS5leGVjdXRlKHRoaXMubmFtZSwgdmFsdWVzLCBhZnRlcilcbiAgICB9XG4gICAgLy8gcGxhbiB0aGUgbmFtZWQgcXVlcnkgdGhlIGZpcnN0IHRpbWUsIHRoZW4gZXhlY3V0ZSBpdFxuICAgIHJldHVybiBjbGllbnQubmF0aXZlLnByZXBhcmUodGhpcy5uYW1lLCB0aGlzLnRleHQsIHZhbHVlcy5sZW5ndGgsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBhZnRlcihlcnIpXG4gICAgICBjbGllbnQubmFtZWRRdWVyaWVzW3NlbGYubmFtZV0gPSBzZWxmLnRleHRcbiAgICAgIHJldHVybiBzZWxmLm5hdGl2ZS5leGVjdXRlKHNlbGYubmFtZSwgdmFsdWVzLCBhZnRlcilcbiAgICB9KVxuICB9IGVsc2UgaWYgKHRoaXMudmFsdWVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWVzKSkge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKCdRdWVyeSB2YWx1ZXMgbXVzdCBiZSBhbiBhcnJheScpXG4gICAgICByZXR1cm4gYWZ0ZXIoZXJyKVxuICAgIH1cbiAgICBjb25zdCB2YWxzID0gdGhpcy52YWx1ZXMubWFwKHV0aWxzLnByZXBhcmVWYWx1ZSlcbiAgICBjbGllbnQubmF0aXZlLnF1ZXJ5KHRoaXMudGV4dCwgdmFscywgYWZ0ZXIpXG4gIH0gZWxzZSBpZiAodGhpcy5xdWVyeU1vZGUgPT09ICdleHRlbmRlZCcpIHtcbiAgICBjbGllbnQubmF0aXZlLnF1ZXJ5KHRoaXMudGV4dCwgW10sIGFmdGVyKVxuICB9IGVsc2Uge1xuICAgIGNsaWVudC5uYXRpdmUucXVlcnkodGhpcy50ZXh0LCBhZnRlcilcbiAgfVxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbnZhciBOYXRpdmVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNhdGNoXG50cnkge1xuICAvLyBXcmFwIHRoaXMgYHJlcXVpcmUoKWAgaW4gYSB0cnktY2F0Y2ggdG8gYXZvaWQgdXBzdHJlYW0gYnVuZGxlcnMgZnJvbSBjb21wbGFpbmluZyB0aGF0IHRoaXMgbWlnaHQgbm90IGJlIGF2YWlsYWJsZSBzaW5jZSBpdCBpcyBhbiBvcHRpb25hbCBpbXBvcnRcbiAgTmF0aXZlID0gcmVxdWlyZSgncGctbmF0aXZlJylcbn0gY2F0Y2ggKGUpIHtcbiAgdGhyb3cgZVxufVxuY29uc3QgVHlwZU92ZXJyaWRlcyA9IHJlcXVpcmUoJy4uL3R5cGUtb3ZlcnJpZGVzJylcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuY29uc3QgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuY29uc3QgQ29ubmVjdGlvblBhcmFtZXRlcnMgPSByZXF1aXJlKCcuLi9jb25uZWN0aW9uLXBhcmFtZXRlcnMnKVxuXG5jb25zdCBOYXRpdmVRdWVyeSA9IHJlcXVpcmUoJy4vcXVlcnknKVxuXG5jb25zdCBDbGllbnQgPSAobW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpXG4gIGNvbmZpZyA9IGNvbmZpZyB8fCB7fVxuXG4gIHRoaXMuX1Byb21pc2UgPSBjb25maWcuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZVxuICB0aGlzLl90eXBlcyA9IG5ldyBUeXBlT3ZlcnJpZGVzKGNvbmZpZy50eXBlcylcblxuICB0aGlzLm5hdGl2ZSA9IG5ldyBOYXRpdmUoe1xuICAgIHR5cGVzOiB0aGlzLl90eXBlcyxcbiAgfSlcblxuICB0aGlzLl9xdWVyeVF1ZXVlID0gW11cbiAgdGhpcy5fZW5kaW5nID0gZmFsc2VcbiAgdGhpcy5fY29ubmVjdGluZyA9IGZhbHNlXG4gIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlXG4gIHRoaXMuX3F1ZXJ5YWJsZSA9IHRydWVcblxuICAvLyBrZWVwIHRoZXNlIG9uIHRoZSBvYmplY3QgZm9yIGxlZ2FjeSByZWFzb25zXG4gIC8vIGZvciB0aGUgdGltZSBiZWluZy4gVE9ETzogZGVwcmVjYXRlIGFsbCB0aGlzIGphenpcbiAgY29uc3QgY3AgPSAodGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycyA9IG5ldyBDb25uZWN0aW9uUGFyYW1ldGVycyhjb25maWcpKVxuICBpZiAoY29uZmlnLm5hdGl2ZUNvbm5lY3Rpb25TdHJpbmcpIGNwLm5hdGl2ZUNvbm5lY3Rpb25TdHJpbmcgPSBjb25maWcubmF0aXZlQ29ubmVjdGlvblN0cmluZ1xuICB0aGlzLnVzZXIgPSBjcC51c2VyXG5cbiAgLy8gXCJoaWRpbmdcIiB0aGUgcGFzc3dvcmQgc28gaXQgZG9lc24ndCBzaG93IHVwIGluIHN0YWNrIHRyYWNlc1xuICAvLyBvciBpZiB0aGUgY2xpZW50IGlzIGNvbnNvbGUubG9nZ2VkXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncGFzc3dvcmQnLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiBjcC5wYXNzd29yZCxcbiAgfSlcbiAgdGhpcy5kYXRhYmFzZSA9IGNwLmRhdGFiYXNlXG4gIHRoaXMuaG9zdCA9IGNwLmhvc3RcbiAgdGhpcy5wb3J0ID0gY3AucG9ydFxuXG4gIC8vIGEgaGFzaCB0byBob2xkIG5hbWVkIHF1ZXJpZXNcbiAgdGhpcy5uYW1lZFF1ZXJpZXMgPSB7fVxufSlcblxuQ2xpZW50LlF1ZXJ5ID0gTmF0aXZlUXVlcnlcblxudXRpbC5pbmhlcml0cyhDbGllbnQsIEV2ZW50RW1pdHRlcilcblxuQ2xpZW50LnByb3RvdHlwZS5fZXJyb3JBbGxRdWVyaWVzID0gZnVuY3Rpb24gKGVycikge1xuICBjb25zdCBlbnF1ZXVlRXJyb3IgPSAocXVlcnkpID0+IHtcbiAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgIHF1ZXJ5Lm5hdGl2ZSA9IHRoaXMubmF0aXZlXG4gICAgICBxdWVyeS5oYW5kbGVFcnJvcihlcnIpXG4gICAgfSlcbiAgfVxuXG4gIGlmICh0aGlzLl9oYXNBY3RpdmVRdWVyeSgpKSB7XG4gICAgZW5xdWV1ZUVycm9yKHRoaXMuX2FjdGl2ZVF1ZXJ5KVxuICAgIHRoaXMuX2FjdGl2ZVF1ZXJ5ID0gbnVsbFxuICB9XG5cbiAgdGhpcy5fcXVlcnlRdWV1ZS5mb3JFYWNoKGVucXVldWVFcnJvcilcbiAgdGhpcy5fcXVlcnlRdWV1ZS5sZW5ndGggPSAwXG59XG5cbi8vIGNvbm5lY3QgdG8gdGhlIGJhY2tlbmRcbi8vIHBhc3MgYW4gb3B0aW9uYWwgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIG9uY2UgY29ubmVjdGVkXG4vLyBvciB3aXRoIGFuIGVycm9yIGlmIHRoZXJlIHdhcyBhIGNvbm5lY3Rpb24gZXJyb3JcbkNsaWVudC5wcm90b3R5cGUuX2Nvbm5lY3QgPSBmdW5jdGlvbiAoY2IpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXNcblxuICBpZiAodGhpcy5fY29ubmVjdGluZykge1xuICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4gY2IobmV3IEVycm9yKCdDbGllbnQgaGFzIGFscmVhZHkgYmVlbiBjb25uZWN0ZWQuIFlvdSBjYW5ub3QgcmV1c2UgYSBjbGllbnQuJykpKVxuICAgIHJldHVyblxuICB9XG5cbiAgdGhpcy5fY29ubmVjdGluZyA9IHRydWVcblxuICB0aGlzLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLmdldExpYnBxQ29ubmVjdGlvblN0cmluZyhmdW5jdGlvbiAoZXJyLCBjb25TdHJpbmcpIHtcbiAgICBpZiAoc2VsZi5jb25uZWN0aW9uUGFyYW1ldGVycy5uYXRpdmVDb25uZWN0aW9uU3RyaW5nKSBjb25TdHJpbmcgPSBzZWxmLmNvbm5lY3Rpb25QYXJhbWV0ZXJzLm5hdGl2ZUNvbm5lY3Rpb25TdHJpbmdcbiAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgIHNlbGYubmF0aXZlLmNvbm5lY3QoY29uU3RyaW5nLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHNlbGYubmF0aXZlLmVuZCgpXG4gICAgICAgIHJldHVybiBjYihlcnIpXG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBpbnRlcm5hbCBzdGF0ZXMgdG8gY29ubmVjdGVkXG4gICAgICBzZWxmLl9jb25uZWN0ZWQgPSB0cnVlXG5cbiAgICAgIC8vIGhhbmRsZSBjb25uZWN0aW9uIGVycm9ycyBmcm9tIHRoZSBuYXRpdmUgbGF5ZXJcbiAgICAgIHNlbGYubmF0aXZlLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgc2VsZi5fcXVlcnlhYmxlID0gZmFsc2VcbiAgICAgICAgc2VsZi5fZXJyb3JBbGxRdWVyaWVzKGVycilcbiAgICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH0pXG5cbiAgICAgIHNlbGYubmF0aXZlLm9uKCdub3RpZmljYXRpb24nLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnbm90aWZpY2F0aW9uJywge1xuICAgICAgICAgIGNoYW5uZWw6IG1zZy5yZWxuYW1lLFxuICAgICAgICAgIHBheWxvYWQ6IG1zZy5leHRyYSxcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIC8vIHNpZ25hbCB3ZSBhcmUgY29ubmVjdGVkIG5vd1xuICAgICAgc2VsZi5lbWl0KCdjb25uZWN0JylcbiAgICAgIHNlbGYuX3B1bHNlUXVlcnlRdWV1ZSh0cnVlKVxuXG4gICAgICBjYigpXG4gICAgfSlcbiAgfSlcbn1cblxuQ2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIHRoaXMuX2Nvbm5lY3QoY2FsbGJhY2spXG4gICAgcmV0dXJuXG4gIH1cblxuICByZXR1cm4gbmV3IHRoaXMuX1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRoaXMuX2Nvbm5lY3QoKGVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuLy8gc2VuZCBhIHF1ZXJ5IHRvIHRoZSBzZXJ2ZXJcbi8vIHRoaXMgbWV0aG9kIGlzIGhpZ2hseSBvdmVybG9hZGVkIHRvIHRha2Vcbi8vIDEpIHN0cmluZyBxdWVyeSwgb3B0aW9uYWwgYXJyYXkgb2YgcGFyYW1ldGVycywgb3B0aW9uYWwgZnVuY3Rpb24gY2FsbGJhY2tcbi8vIDIpIG9iamVjdCBxdWVyeSB3aXRoIHtcbi8vICAgIHN0cmluZyBxdWVyeVxuLy8gICAgb3B0aW9uYWwgYXJyYXkgdmFsdWVzLFxuLy8gICAgb3B0aW9uYWwgZnVuY3Rpb24gY2FsbGJhY2sgaW5zdGVhZCBvZiBhcyBhIHNlcGFyYXRlIHBhcmFtZXRlclxuLy8gICAgb3B0aW9uYWwgc3RyaW5nIG5hbWUgdG8gbmFtZSAmIGNhY2hlIHRoZSBxdWVyeSBwbGFuXG4vLyAgICBvcHRpb25hbCBzdHJpbmcgcm93TW9kZSA9ICdhcnJheScgZm9yIGFuIGFycmF5IG9mIHJlc3VsdHNcbi8vICB9XG5DbGllbnQucHJvdG90eXBlLnF1ZXJ5ID0gZnVuY3Rpb24gKGNvbmZpZywgdmFsdWVzLCBjYWxsYmFjaykge1xuICBsZXQgcXVlcnlcbiAgbGV0IHJlc3VsdFxuICBsZXQgcmVhZFRpbWVvdXRcbiAgbGV0IHJlYWRUaW1lb3V0VGltZXJcbiAgbGV0IHF1ZXJ5Q2FsbGJhY2tcblxuICBpZiAoY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2xpZW50IHdhcyBwYXNzZWQgYSBudWxsIG9yIHVuZGVmaW5lZCBxdWVyeScpXG4gIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5zdWJtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZWFkVGltZW91dCA9IGNvbmZpZy5xdWVyeV90aW1lb3V0IHx8IHRoaXMuY29ubmVjdGlvblBhcmFtZXRlcnMucXVlcnlfdGltZW91dFxuICAgIHJlc3VsdCA9IHF1ZXJ5ID0gY29uZmlnXG4gICAgLy8gYWNjZXB0IHF1ZXJ5KG5ldyBRdWVyeSguLi4pLCAoZXJyLCByZXMpID0+IHsgfSkgc3R5bGVcbiAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uZmlnLmNhbGxiYWNrID0gdmFsdWVzXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlYWRUaW1lb3V0ID0gY29uZmlnLnF1ZXJ5X3RpbWVvdXQgfHwgdGhpcy5jb25uZWN0aW9uUGFyYW1ldGVycy5xdWVyeV90aW1lb3V0XG4gICAgcXVlcnkgPSBuZXcgTmF0aXZlUXVlcnkoY29uZmlnLCB2YWx1ZXMsIGNhbGxiYWNrKVxuICAgIGlmICghcXVlcnkuY2FsbGJhY2spIHtcbiAgICAgIGxldCByZXNvbHZlT3V0LCByZWplY3RPdXRcbiAgICAgIHJlc3VsdCA9IG5ldyB0aGlzLl9Qcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVzb2x2ZU91dCA9IHJlc29sdmVcbiAgICAgICAgcmVqZWN0T3V0ID0gcmVqZWN0XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVycilcbiAgICAgICAgdGhyb3cgZXJyXG4gICAgICB9KVxuICAgICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IChlcnIgPyByZWplY3RPdXQoZXJyKSA6IHJlc29sdmVPdXQocmVzKSlcbiAgICB9XG4gIH1cblxuICBpZiAocmVhZFRpbWVvdXQpIHtcbiAgICBxdWVyeUNhbGxiYWNrID0gcXVlcnkuY2FsbGJhY2tcblxuICAgIHJlYWRUaW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdRdWVyeSByZWFkIHRpbWVvdXQnKVxuXG4gICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgcXVlcnkuaGFuZGxlRXJyb3IoZXJyb3IsIHRoaXMuY29ubmVjdGlvbilcbiAgICAgIH0pXG5cbiAgICAgIHF1ZXJ5Q2FsbGJhY2soZXJyb3IpXG5cbiAgICAgIC8vIHdlIGFscmVhZHkgcmV0dXJuZWQgYW4gZXJyb3IsXG4gICAgICAvLyBqdXN0IGRvIG5vdGhpbmcgaWYgcXVlcnkgY29tcGxldGVzXG4gICAgICBxdWVyeS5jYWxsYmFjayA9ICgpID0+IHt9XG5cbiAgICAgIC8vIFJlbW92ZSBmcm9tIHF1ZXVlXG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3F1ZXJ5UXVldWUuaW5kZXhPZihxdWVyeSlcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMuX3F1ZXJ5UXVldWUuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9wdWxzZVF1ZXJ5UXVldWUoKVxuICAgIH0sIHJlYWRUaW1lb3V0KVxuXG4gICAgcXVlcnkuY2FsbGJhY2sgPSAoZXJyLCByZXMpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChyZWFkVGltZW91dFRpbWVyKVxuICAgICAgcXVlcnlDYWxsYmFjayhlcnIsIHJlcylcbiAgICB9XG4gIH1cblxuICBpZiAoIXRoaXMuX3F1ZXJ5YWJsZSkge1xuICAgIHF1ZXJ5Lm5hdGl2ZSA9IHRoaXMubmF0aXZlXG4gICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICBxdWVyeS5oYW5kbGVFcnJvcihuZXcgRXJyb3IoJ0NsaWVudCBoYXMgZW5jb3VudGVyZWQgYSBjb25uZWN0aW9uIGVycm9yIGFuZCBpcyBub3QgcXVlcnlhYmxlJykpXG4gICAgfSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBpZiAodGhpcy5fZW5kaW5nKSB7XG4gICAgcXVlcnkubmF0aXZlID0gdGhpcy5uYXRpdmVcbiAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgIHF1ZXJ5LmhhbmRsZUVycm9yKG5ldyBFcnJvcignQ2xpZW50IHdhcyBjbG9zZWQgYW5kIGlzIG5vdCBxdWVyeWFibGUnKSlcbiAgICB9KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHRoaXMuX3F1ZXJ5UXVldWUucHVzaChxdWVyeSlcbiAgdGhpcy5fcHVsc2VRdWVyeVF1ZXVlKClcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyBkaXNjb25uZWN0IGZyb20gdGhlIGJhY2tlbmQgc2VydmVyXG5DbGllbnQucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjYikge1xuICBjb25zdCBzZWxmID0gdGhpc1xuXG4gIHRoaXMuX2VuZGluZyA9IHRydWVcblxuICBpZiAoIXRoaXMuX2Nvbm5lY3RlZCkge1xuICAgIHRoaXMub25jZSgnY29ubmVjdCcsIHRoaXMuZW5kLmJpbmQodGhpcywgY2IpKVxuICB9XG4gIGxldCByZXN1bHRcbiAgaWYgKCFjYikge1xuICAgIHJlc3VsdCA9IG5ldyB0aGlzLl9Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGNiID0gKGVycikgPT4gKGVyciA/IHJlamVjdChlcnIpIDogcmVzb2x2ZSgpKVxuICAgIH0pXG4gIH1cbiAgdGhpcy5uYXRpdmUuZW5kKGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLl9lcnJvckFsbFF1ZXJpZXMobmV3IEVycm9yKCdDb25uZWN0aW9uIHRlcm1pbmF0ZWQnKSlcblxuICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgc2VsZi5lbWl0KCdlbmQnKVxuICAgICAgaWYgKGNiKSBjYigpXG4gICAgfSlcbiAgfSlcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5DbGllbnQucHJvdG90eXBlLl9oYXNBY3RpdmVRdWVyeSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX2FjdGl2ZVF1ZXJ5ICYmIHRoaXMuX2FjdGl2ZVF1ZXJ5LnN0YXRlICE9PSAnZXJyb3InICYmIHRoaXMuX2FjdGl2ZVF1ZXJ5LnN0YXRlICE9PSAnZW5kJ1xufVxuXG5DbGllbnQucHJvdG90eXBlLl9wdWxzZVF1ZXJ5UXVldWUgPSBmdW5jdGlvbiAoaW5pdGlhbENvbm5lY3Rpb24pIHtcbiAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodGhpcy5faGFzQWN0aXZlUXVlcnkoKSkge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IHF1ZXJ5ID0gdGhpcy5fcXVlcnlRdWV1ZS5zaGlmdCgpXG4gIGlmICghcXVlcnkpIHtcbiAgICBpZiAoIWluaXRpYWxDb25uZWN0aW9uKSB7XG4gICAgICB0aGlzLmVtaXQoJ2RyYWluJylcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgdGhpcy5fYWN0aXZlUXVlcnkgPSBxdWVyeVxuICBxdWVyeS5zdWJtaXQodGhpcylcbiAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgcXVlcnkub25jZSgnX2RvbmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5fcHVsc2VRdWVyeVF1ZXVlKClcbiAgfSlcbn1cblxuLy8gYXR0ZW1wdCB0byBjYW5jZWwgYW4gaW4tcHJvZ3Jlc3MgcXVlcnlcbkNsaWVudC5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gIGlmICh0aGlzLl9hY3RpdmVRdWVyeSA9PT0gcXVlcnkpIHtcbiAgICB0aGlzLm5hdGl2ZS5jYW5jZWwoZnVuY3Rpb24gKCkge30pXG4gIH0gZWxzZSBpZiAodGhpcy5fcXVlcnlRdWV1ZS5pbmRleE9mKHF1ZXJ5KSAhPT0gLTEpIHtcbiAgICB0aGlzLl9xdWVyeVF1ZXVlLnNwbGljZSh0aGlzLl9xdWVyeVF1ZXVlLmluZGV4T2YocXVlcnkpLCAxKVxuICB9XG59XG5cbkNsaWVudC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24gKCkge31cbkNsaWVudC5wcm90b3R5cGUudW5yZWYgPSBmdW5jdGlvbiAoKSB7fVxuXG5DbGllbnQucHJvdG90eXBlLnNldFR5cGVQYXJzZXIgPSBmdW5jdGlvbiAob2lkLCBmb3JtYXQsIHBhcnNlRm4pIHtcbiAgcmV0dXJuIHRoaXMuX3R5cGVzLnNldFR5cGVQYXJzZXIob2lkLCBmb3JtYXQsIHBhcnNlRm4pXG59XG5cbkNsaWVudC5wcm90b3R5cGUuZ2V0VHlwZVBhcnNlciA9IGZ1bmN0aW9uIChvaWQsIGZvcm1hdCkge1xuICByZXR1cm4gdGhpcy5fdHlwZXMuZ2V0VHlwZVBhcnNlcihvaWQsIGZvcm1hdClcbn1cbiIsICIndXNlIHN0cmljdCdcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jbGllbnQnKVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBDbGllbnQgPSByZXF1aXJlKCcuL2NsaWVudCcpXG5jb25zdCBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKVxuY29uc3QgQ29ubmVjdGlvbiA9IHJlcXVpcmUoJy4vY29ubmVjdGlvbicpXG5jb25zdCBSZXN1bHQgPSByZXF1aXJlKCcuL3Jlc3VsdCcpXG5jb25zdCB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKVxuY29uc3QgUG9vbCA9IHJlcXVpcmUoJ3BnLXBvb2wnKVxuY29uc3QgVHlwZU92ZXJyaWRlcyA9IHJlcXVpcmUoJy4vdHlwZS1vdmVycmlkZXMnKVxuY29uc3QgeyBEYXRhYmFzZUVycm9yIH0gPSByZXF1aXJlKCdwZy1wcm90b2NvbCcpXG5jb25zdCB7IGVzY2FwZUlkZW50aWZpZXIsIGVzY2FwZUxpdGVyYWwgfSA9IHJlcXVpcmUoJy4vdXRpbHMnKVxuXG5jb25zdCBwb29sRmFjdG9yeSA9IChDbGllbnQpID0+IHtcbiAgcmV0dXJuIGNsYXNzIEJvdW5kUG9vbCBleHRlbmRzIFBvb2wge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKG9wdGlvbnMsIENsaWVudClcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgUEcgPSBmdW5jdGlvbiAoY2xpZW50Q29uc3RydWN0b3IpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGRlZmF1bHRzXG4gIHRoaXMuQ2xpZW50ID0gY2xpZW50Q29uc3RydWN0b3JcbiAgdGhpcy5RdWVyeSA9IHRoaXMuQ2xpZW50LlF1ZXJ5XG4gIHRoaXMuUG9vbCA9IHBvb2xGYWN0b3J5KHRoaXMuQ2xpZW50KVxuICB0aGlzLl9wb29scyA9IFtdXG4gIHRoaXMuQ29ubmVjdGlvbiA9IENvbm5lY3Rpb25cbiAgdGhpcy50eXBlcyA9IHJlcXVpcmUoJ3BnLXR5cGVzJylcbiAgdGhpcy5EYXRhYmFzZUVycm9yID0gRGF0YWJhc2VFcnJvclxuICB0aGlzLlR5cGVPdmVycmlkZXMgPSBUeXBlT3ZlcnJpZGVzXG4gIHRoaXMuZXNjYXBlSWRlbnRpZmllciA9IGVzY2FwZUlkZW50aWZpZXJcbiAgdGhpcy5lc2NhcGVMaXRlcmFsID0gZXNjYXBlTGl0ZXJhbFxuICB0aGlzLlJlc3VsdCA9IFJlc3VsdFxuICB0aGlzLnV0aWxzID0gdXRpbHNcbn1cblxuaWYgKHR5cGVvZiBwcm9jZXNzLmVudi5OT0RFX1BHX0ZPUkNFX05BVElWRSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBuZXcgUEcocmVxdWlyZSgnLi9uYXRpdmUnKSlcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gbmV3IFBHKENsaWVudClcblxuICAvLyBsYXp5IHJlcXVpcmUgbmF0aXZlIG1vZHVsZS4uLnRoZSBuYXRpdmUgbW9kdWxlIG1heSBub3QgaGF2ZSBpbnN0YWxsZWRcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnbmF0aXZlJywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBnZXQoKSB7XG4gICAgICBsZXQgbmF0aXZlID0gbnVsbFxuICAgICAgdHJ5IHtcbiAgICAgICAgbmF0aXZlID0gbmV3IFBHKHJlcXVpcmUoJy4vbmF0aXZlJykpXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyci5jb2RlICE9PSAnTU9EVUxFX05PVF9GT1VORCcpIHtcbiAgICAgICAgICB0aHJvdyBlcnJcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBvdmVyd3JpdGUgbW9kdWxlLmV4cG9ydHMubmF0aXZlIHNvIHRoYXQgZ2V0dGVyIGlzIG5ldmVyIGNhbGxlZCBhZ2FpblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnbmF0aXZlJywge1xuICAgICAgICB2YWx1ZTogbmF0aXZlLFxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIG5hdGl2ZVxuICAgIH0sXG4gIH0pXG59XG4iLCAiaW1wb3J0IHsgc3RyZWFtVGV4dCwgdG9vbCB9IGZyb20gXCJhaVwiO1xuaW1wb3J0ICogYXMgYmxpbmsgZnJvbSBcImJsaW5rXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHsgY29udmVydFRvTW9kZWxNZXNzYWdlcyB9IGZyb20gXCJhaVwiO1xuaW1wb3J0IHsgZ2V0U2NoZW1hLCBydW5RdWVyeSB9IGZyb20gXCIuL2RiLnRzXCI7XG5pbXBvcnQgeyBidWlsZFN5c3RlbVByb21wdCB9IGZyb20gXCIuL3Byb21wdC50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBibGluay5hZ2VudCh7XG4gIGFzeW5jIHNlbmRNZXNzYWdlcyh7IG1lc3NhZ2VzIH0pIHtcbiAgICByZXR1cm4gc3RyZWFtVGV4dCh7XG4gICAgICAvL21vZGVsOiBcIm9wZW5haS9ncHQtb3NzLTEyMGJcIixcbiAgICAgIG1vZGVsOiBcImFudGhyb3BpYy9jbGF1ZGUtc29ubmV0LTRcIixcbiAgICAgIHN5c3RlbTogYnVpbGRTeXN0ZW1Qcm9tcHQoKSxcbiAgICAgIG1lc3NhZ2VzOiBjb252ZXJ0VG9Nb2RlbE1lc3NhZ2VzKG1lc3NhZ2VzKSxcbiAgICAgIHRvb2xzOiB7XG4gICAgICAgIGRiX3NjaGVtYTogdG9vbCh7XG4gICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICBcIlJldHVybiB0aGUgc2NoZW1hIGFuZCB1c2FnZSBub3RlcyBmb3IgdGhlIE5lb24gZGF0YWJhc2UgYmFja2luZyBHaXRIdWIgUHJvamVjdCBpbnNpZ2h0cy4gSW5jbHVkZXMgdGFibGVzLCBjb2x1bW5zLCBpbmRleGVzLCBhbmQgYSBjb25jaXNlIGd1aWRlIGZvciBjb21tb24gcXVlcmllcyB1c2luZyBwcm9qZWN0X25hbWUuXCIsXG4gICAgICAgICAgaW5wdXRTY2hlbWE6IHoub2JqZWN0KHt9KSxcbiAgICAgICAgICBleGVjdXRlOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBhd2FpdCBnZXRTY2hlbWEoKTtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIGRiX3F1ZXJ5OiB0b29sKHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAgIFwiRXhlY3V0ZSBhIHJlYWQtb25seSBTUUwgU0VMRUNUIGFnYWluc3QgdGhlIE5lb24gZGF0YWJhc2UuIFVzZSBwcm9qZWN0X25hbWUgZm9yIHNjb3Bpbmc7IGRlZmF1bHQgbG9va2JhY2sgaXMgdGhlIGxhc3QgNyBkYXlzIGZvciAnd2hhdCdzIG5ldycgcXVlcmllcy4gUmV0dXJucyByb3dzIHdpdGggZW5mb3JjZWQgTElNSVQvT0ZGU0VUIChtYXggMjAwMCkuXCIsXG4gICAgICAgICAgaW5wdXRTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHNxbDogelxuICAgICAgICAgICAgICAuc3RyaW5nKClcbiAgICAgICAgICAgICAgLmRlc2NyaWJlKFwiQSBzaW5nbGUgU0VMRUNUIChvciBXSVRIIC4uLiBTRUxFQ1QpIHN0YXRlbWVudC5cIiksXG4gICAgICAgICAgICBwYXJhbXM6IHouYXJyYXkoei5hbnkoKSkub3B0aW9uYWwoKS5kZWZhdWx0KFtdKSxcbiAgICAgICAgICAgIGxpbWl0OiB6Lm51bWJlcigpLmludCgpLm1pbigxKS5tYXgoMjAwMCkub3B0aW9uYWwoKS5kZWZhdWx0KDIwMCksXG4gICAgICAgICAgICBvZmZzZXQ6IHoubnVtYmVyKCkuaW50KCkubWluKDApLm9wdGlvbmFsKCkuZGVmYXVsdCgwKSxcbiAgICAgICAgICAgIHRpbWVvdXRNczogelxuICAgICAgICAgICAgICAubnVtYmVyKClcbiAgICAgICAgICAgICAgLmludCgpXG4gICAgICAgICAgICAgIC5taW4oMTAwMClcbiAgICAgICAgICAgICAgLm1heCg2MDAwMClcbiAgICAgICAgICAgICAgLm9wdGlvbmFsKClcbiAgICAgICAgICAgICAgLmRlZmF1bHQoMTUwMDApLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGV4ZWN1dGU6IGFzeW5jICh7IHNxbCwgcGFyYW1zLCBsaW1pdCwgb2Zmc2V0LCB0aW1lb3V0TXMgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnVuUXVlcnkoe1xuICAgICAgICAgICAgICBzcWwsXG4gICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgICAgdGltZW91dE1zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSxcbn0pO1xuIiwgIi8qKlxuICogU3ltYm9sIHVzZWQgZm9yIGlkZW50aWZ5aW5nIEFJIFNESyBFcnJvciBpbnN0YW5jZXMuXG4gKiBFbmFibGVzIGNoZWNraW5nIGlmIGFuIGVycm9yIGlzIGFuIGluc3RhbmNlIG9mIEFJU0RLRXJyb3IgYWNyb3NzIHBhY2thZ2UgdmVyc2lvbnMuXG4gKi9cbmNvbnN0IG1hcmtlciA9ICd2ZXJjZWwuYWkuZXJyb3InO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIEN1c3RvbSBlcnJvciBjbGFzcyBmb3IgQUkgU0RLIHJlbGF0ZWQgZXJyb3JzLlxuICogQGV4dGVuZHMgRXJyb3JcbiAqL1xuZXhwb3J0IGNsYXNzIEFJU0RLRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICAvKipcbiAgICogVGhlIHVuZGVybHlpbmcgY2F1c2Ugb2YgdGhlIGVycm9yLCBpZiBhbnkuXG4gICAqL1xuICByZWFkb25seSBjYXVzZT86IHVua25vd247XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gQUkgU0RLIEVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGNyZWF0aW5nIHRoZSBlcnJvci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLm1lc3NhZ2UgLSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQHBhcmFtIHt1bmtub3dufSBbcGFyYW1zLmNhdXNlXSAtIFRoZSB1bmRlcmx5aW5nIGNhdXNlIG9mIHRoZSBlcnJvci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBuYW1lLFxuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBlcnJvciBpcyBhbiBBSSBTREsgRXJyb3IuXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3IgLSBUaGUgZXJyb3IgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBlcnJvciBpcyBhbiBBSSBTREsgRXJyb3IsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgQUlTREtFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHN0YXRpYyBoYXNNYXJrZXIoZXJyb3I6IHVua25vd24sIG1hcmtlcjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbWFya2VyU3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuICAgIHJldHVybiAoXG4gICAgICBlcnJvciAhPSBudWxsICYmXG4gICAgICB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmXG4gICAgICBtYXJrZXJTeW1ib2wgaW4gZXJyb3IgJiZcbiAgICAgIHR5cGVvZiBlcnJvclttYXJrZXJTeW1ib2xdID09PSAnYm9vbGVhbicgJiZcbiAgICAgIGVycm9yW21hcmtlclN5bWJvbF0gPT09IHRydWVcbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9BUElDYWxsRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIEFQSUNhbGxFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgdXJsOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHJlcXVlc3RCb2R5VmFsdWVzOiB1bmtub3duO1xuICByZWFkb25seSBzdGF0dXNDb2RlPzogbnVtYmVyO1xuXG4gIHJlYWRvbmx5IHJlc3BvbnNlSGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIHJlYWRvbmx5IHJlc3BvbnNlQm9keT86IHN0cmluZztcblxuICByZWFkb25seSBpc1JldHJ5YWJsZTogYm9vbGVhbjtcbiAgcmVhZG9ubHkgZGF0YT86IHVua25vd247XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgdXJsLFxuICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgIHN0YXR1c0NvZGUsXG4gICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgIHJlc3BvbnNlQm9keSxcbiAgICBjYXVzZSxcbiAgICBpc1JldHJ5YWJsZSA9IHN0YXR1c0NvZGUgIT0gbnVsbCAmJlxuICAgICAgKHN0YXR1c0NvZGUgPT09IDQwOCB8fCAvLyByZXF1ZXN0IHRpbWVvdXRcbiAgICAgICAgc3RhdHVzQ29kZSA9PT0gNDA5IHx8IC8vIGNvbmZsaWN0XG4gICAgICAgIHN0YXR1c0NvZGUgPT09IDQyOSB8fCAvLyB0b28gbWFueSByZXF1ZXN0c1xuICAgICAgICBzdGF0dXNDb2RlID49IDUwMCksIC8vIHNlcnZlciBlcnJvclxuICAgIGRhdGEsXG4gIH06IHtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHVua25vd247XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICByZXNwb25zZUhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgIHJlc3BvbnNlQm9keT86IHN0cmluZztcbiAgICBjYXVzZT86IHVua25vd247XG4gICAgaXNSZXRyeWFibGU/OiBib29sZWFuO1xuICAgIGRhdGE/OiB1bmtub3duO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlLCBjYXVzZSB9KTtcblxuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMucmVxdWVzdEJvZHlWYWx1ZXMgPSByZXF1ZXN0Qm9keVZhbHVlcztcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgIHRoaXMucmVzcG9uc2VIZWFkZXJzID0gcmVzcG9uc2VIZWFkZXJzO1xuICAgIHRoaXMucmVzcG9uc2VCb2R5ID0gcmVzcG9uc2VCb2R5O1xuICAgIHRoaXMuaXNSZXRyeWFibGUgPSBpc1JldHJ5YWJsZTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBBUElDYWxsRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfRW1wdHlSZXNwb25zZUJvZHlFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgRW1wdHlSZXNwb25zZUJvZHlFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlID0gJ0VtcHR5IHJlc3BvbnNlIGJvZHknIH06IHsgbWVzc2FnZT86IHN0cmluZyB9ID0ge30pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEVtcHR5UmVzcG9uc2VCb2R5RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoZXJyb3I6IHVua25vd24gfCB1bmRlZmluZWQpIHtcbiAgaWYgKGVycm9yID09IG51bGwpIHtcbiAgICByZXR1cm4gJ3Vua25vd24gZXJyb3InO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICB9XG5cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGVycm9yKTtcbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWRBcmd1bWVudEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogQSBmdW5jdGlvbiBhcmd1bWVudCBpcyBpbnZhbGlkLlxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IGFyZ3VtZW50OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2UsXG4gICAgYXJndW1lbnQsXG4gIH06IHtcbiAgICBhcmd1bWVudDogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy5hcmd1bWVudCA9IGFyZ3VtZW50O1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBJbnZhbGlkQXJndW1lbnRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9JbnZhbGlkUHJvbXB0RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBBIHByb21wdCBpcyBpbnZhbGlkLiBUaGlzIGVycm9yIHNob3VsZCBiZSB0aHJvd24gYnkgcHJvdmlkZXJzIHdoZW4gdGhleSBjYW5ub3RcbiAqIHByb2Nlc3MgYSBwcm9tcHQuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUHJvbXB0RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHByb21wdDogdW5rbm93bjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBwcm9tcHQ6IHVua25vd247XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZTogYEludmFsaWQgcHJvbXB0OiAke21lc3NhZ2V9YCwgY2F1c2UgfSk7XG5cbiAgICB0aGlzLnByb21wdCA9IHByb21wdDtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSW52YWxpZFByb21wdEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWRSZXNwb25zZURhdGFFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIFNlcnZlciByZXR1cm5lZCBhIHJlc3BvbnNlIHdpdGggaW52YWxpZCBkYXRhIGNvbnRlbnQuXG4gKiBUaGlzIHNob3VsZCBiZSB0aHJvd24gYnkgcHJvdmlkZXJzIHdoZW4gdGhleSBjYW5ub3QgcGFyc2UgdGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRSZXNwb25zZURhdGFFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgZGF0YTogdW5rbm93bjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGF0YSxcbiAgICBtZXNzYWdlID0gYEludmFsaWQgcmVzcG9uc2UgZGF0YTogJHtKU09OLnN0cmluZ2lmeShkYXRhKX0uYCxcbiAgfToge1xuICAgIGRhdGE6IHVua25vd247XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcblxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEludmFsaWRSZXNwb25zZURhdGFFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcbmltcG9ydCB7IGdldEVycm9yTWVzc2FnZSB9IGZyb20gJy4vZ2V0LWVycm9yLW1lc3NhZ2UnO1xuXG5jb25zdCBuYW1lID0gJ0FJX0pTT05QYXJzZUVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8vIFRPRE8gdjU6IHJlbmFtZSB0byBQYXJzZUVycm9yXG5leHBvcnQgY2xhc3MgSlNPTlBhcnNlRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHRleHQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7IHRleHQsIGNhdXNlIH06IHsgdGV4dDogc3RyaW5nOyBjYXVzZTogdW5rbm93biB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIGBKU09OIHBhcnNpbmcgZmFpbGVkOiBgICtcbiAgICAgICAgYFRleHQ6ICR7dGV4dH0uXFxuYCArXG4gICAgICAgIGBFcnJvciBtZXNzYWdlOiAke2dldEVycm9yTWVzc2FnZShjYXVzZSl9YCxcbiAgICAgIGNhdXNlLFxuICAgIH0pO1xuXG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSlNPTlBhcnNlRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTG9hZEFQSUtleUVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBMb2FkQVBJS2V5RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9OiB7IG1lc3NhZ2U6IHN0cmluZyB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBMb2FkQVBJS2V5RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTG9hZFNldHRpbmdFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgTG9hZFNldHRpbmdFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH06IHsgbWVzc2FnZTogc3RyaW5nIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIExvYWRTZXR0aW5nRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTm9Db250ZW50R2VuZXJhdGVkRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG5UaHJvd24gd2hlbiB0aGUgQUkgcHJvdmlkZXIgZmFpbHMgdG8gZ2VuZXJhdGUgYW55IGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnTm8gY29udGVudCBnZW5lcmF0ZWQuJyxcbiAgfTogeyBtZXNzYWdlPzogc3RyaW5nIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTm9Db250ZW50R2VuZXJhdGVkRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTm9TdWNoTW9kZWxFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgTm9TdWNoTW9kZWxFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgbW9kZWxJZDogc3RyaW5nO1xuICByZWFkb25seSBtb2RlbFR5cGU6XG4gICAgfCAnbGFuZ3VhZ2VNb2RlbCdcbiAgICB8ICd0ZXh0RW1iZWRkaW5nTW9kZWwnXG4gICAgfCAnaW1hZ2VNb2RlbCdcbiAgICB8ICd0cmFuc2NyaXB0aW9uTW9kZWwnXG4gICAgfCAnc3BlZWNoTW9kZWwnO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBlcnJvck5hbWUgPSBuYW1lLFxuICAgIG1vZGVsSWQsXG4gICAgbW9kZWxUeXBlLFxuICAgIG1lc3NhZ2UgPSBgTm8gc3VjaCAke21vZGVsVHlwZX06ICR7bW9kZWxJZH1gLFxuICB9OiB7XG4gICAgZXJyb3JOYW1lPzogc3RyaW5nO1xuICAgIG1vZGVsSWQ6IHN0cmluZztcbiAgICBtb2RlbFR5cGU6XG4gICAgICB8ICdsYW5ndWFnZU1vZGVsJ1xuICAgICAgfCAndGV4dEVtYmVkZGluZ01vZGVsJ1xuICAgICAgfCAnaW1hZ2VNb2RlbCdcbiAgICAgIHwgJ3RyYW5zY3JpcHRpb25Nb2RlbCdcbiAgICAgIHwgJ3NwZWVjaE1vZGVsJztcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBlcnJvck5hbWUsIG1lc3NhZ2UgfSk7XG5cbiAgICB0aGlzLm1vZGVsSWQgPSBtb2RlbElkO1xuICAgIHRoaXMubW9kZWxUeXBlID0gbW9kZWxUeXBlO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBOb1N1Y2hNb2RlbEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX1Rvb01hbnlFbWJlZGRpbmdWYWx1ZXNGb3JDYWxsRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIFRvb01hbnlFbWJlZGRpbmdWYWx1ZXNGb3JDYWxsRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHByb3ZpZGVyOiBzdHJpbmc7XG4gIHJlYWRvbmx5IG1vZGVsSWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgbWF4RW1iZWRkaW5nc1BlckNhbGw6IG51bWJlcjtcbiAgcmVhZG9ubHkgdmFsdWVzOiBBcnJheTx1bmtub3duPjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgcHJvdmlkZXI6IHN0cmluZztcbiAgICBtb2RlbElkOiBzdHJpbmc7XG4gICAgbWF4RW1iZWRkaW5nc1BlckNhbGw6IG51bWJlcjtcbiAgICB2YWx1ZXM6IEFycmF5PHVua25vd24+O1xuICB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIGBUb28gbWFueSB2YWx1ZXMgZm9yIGEgc2luZ2xlIGVtYmVkZGluZyBjYWxsLiBgICtcbiAgICAgICAgYFRoZSAke29wdGlvbnMucHJvdmlkZXJ9IG1vZGVsIFwiJHtvcHRpb25zLm1vZGVsSWR9XCIgY2FuIG9ubHkgZW1iZWQgdXAgdG8gYCArXG4gICAgICAgIGAke29wdGlvbnMubWF4RW1iZWRkaW5nc1BlckNhbGx9IHZhbHVlcyBwZXIgY2FsbCwgYnV0ICR7b3B0aW9ucy52YWx1ZXMubGVuZ3RofSB2YWx1ZXMgd2VyZSBwcm92aWRlZC5gLFxuICAgIH0pO1xuXG4gICAgdGhpcy5wcm92aWRlciA9IG9wdGlvbnMucHJvdmlkZXI7XG4gICAgdGhpcy5tb2RlbElkID0gb3B0aW9ucy5tb2RlbElkO1xuICAgIHRoaXMubWF4RW1iZWRkaW5nc1BlckNhbGwgPSBvcHRpb25zLm1heEVtYmVkZGluZ3NQZXJDYWxsO1xuICAgIHRoaXMudmFsdWVzID0gb3B0aW9ucy52YWx1ZXM7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShcbiAgICBlcnJvcjogdW5rbm93bixcbiAgKTogZXJyb3IgaXMgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcbmltcG9ydCB7IGdldEVycm9yTWVzc2FnZSB9IGZyb20gJy4vZ2V0LWVycm9yLW1lc3NhZ2UnO1xuXG5jb25zdCBuYW1lID0gJ0FJX1R5cGVWYWxpZGF0aW9uRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIFR5cGVWYWxpZGF0aW9uRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHZhbHVlOiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKHsgdmFsdWUsIGNhdXNlIH06IHsgdmFsdWU6IHVua25vd247IGNhdXNlOiB1bmtub3duIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgYFR5cGUgdmFsaWRhdGlvbiBmYWlsZWQ6IGAgK1xuICAgICAgICBgVmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfS5cXG5gICtcbiAgICAgICAgYEVycm9yIG1lc3NhZ2U6ICR7Z2V0RXJyb3JNZXNzYWdlKGNhdXNlKX1gLFxuICAgICAgY2F1c2UsXG4gICAgfSk7XG5cbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFR5cGVWYWxpZGF0aW9uRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwcyBhbiBlcnJvciBpbnRvIGEgVHlwZVZhbGlkYXRpb25FcnJvci5cbiAgICogSWYgdGhlIGNhdXNlIGlzIGFscmVhZHkgYSBUeXBlVmFsaWRhdGlvbkVycm9yIHdpdGggdGhlIHNhbWUgdmFsdWUsIGl0IHJldHVybnMgdGhlIGNhdXNlLlxuICAgKiBPdGhlcndpc2UsIGl0IGNyZWF0ZXMgYSBuZXcgVHlwZVZhbGlkYXRpb25FcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB3cmFwcGluZyB0aGUgZXJyb3IuXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gcGFyYW1zLnZhbHVlIC0gVGhlIHZhbHVlIHRoYXQgZmFpbGVkIHZhbGlkYXRpb24uXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gcGFyYW1zLmNhdXNlIC0gVGhlIG9yaWdpbmFsIGVycm9yIG9yIGNhdXNlIG9mIHRoZSB2YWxpZGF0aW9uIGZhaWx1cmUuXG4gICAqIEByZXR1cm5zIHtUeXBlVmFsaWRhdGlvbkVycm9yfSBBIFR5cGVWYWxpZGF0aW9uRXJyb3IgaW5zdGFuY2UuXG4gICAqL1xuICBzdGF0aWMgd3JhcCh7XG4gICAgdmFsdWUsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICB2YWx1ZTogdW5rbm93bjtcbiAgICBjYXVzZTogdW5rbm93bjtcbiAgfSk6IFR5cGVWYWxpZGF0aW9uRXJyb3Ige1xuICAgIHJldHVybiBUeXBlVmFsaWRhdGlvbkVycm9yLmlzSW5zdGFuY2UoY2F1c2UpICYmIGNhdXNlLnZhbHVlID09PSB2YWx1ZVxuICAgICAgPyBjYXVzZVxuICAgICAgOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7IHZhbHVlLCBjYXVzZSB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBmdW5jdGlvbmFsaXR5OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGZ1bmN0aW9uYWxpdHksXG4gICAgbWVzc2FnZSA9IGAnJHtmdW5jdGlvbmFsaXR5fScgZnVuY3Rpb25hbGl0eSBub3Qgc3VwcG9ydGVkLmAsXG4gIH06IHtcbiAgICBmdW5jdGlvbmFsaXR5OiBzdHJpbmc7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcbiAgICB0aGlzLmZ1bmN0aW9uYWxpdHkgPSBmdW5jdGlvbmFsaXR5O1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgSlNPTkFycmF5LCBKU09OT2JqZWN0LCBKU09OVmFsdWUgfSBmcm9tICcuL2pzb24tdmFsdWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNKU09OVmFsdWUodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBKU09OVmFsdWUge1xuICBpZiAoXG4gICAgdmFsdWUgPT09IG51bGwgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLmV2ZXJ5KGlzSlNPTlZhbHVlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHZhbHVlKS5ldmVyeShcbiAgICAgIChba2V5LCB2YWxdKSA9PiB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBpc0pTT05WYWx1ZSh2YWwpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0pTT05BcnJheSh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEpTT05BcnJheSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5ldmVyeShpc0pTT05WYWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0pTT05PYmplY3QodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBKU09OT2JqZWN0IHtcbiAgcmV0dXJuIChcbiAgICB2YWx1ZSAhPSBudWxsICYmXG4gICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlKS5ldmVyeShcbiAgICAgIChba2V5LCB2YWxdKSA9PiB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBpc0pTT05WYWx1ZSh2YWwpLFxuICAgIClcbiAgKTtcbn1cbiIsICIvKipcbiAqIFRoZSB0eXBlIG9mIGVycm9yIHRoYXQgb2NjdXJyZWQuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEVycm9yVHlwZSA9ICdpbnZhbGlkLXJldHJ5JyB8ICd1bmtub3duLWZpZWxkJ1xuXG4vKipcbiAqIEVycm9yIHRocm93biB3aGVuIGVuY291bnRlcmluZyBhbiBpc3N1ZSBkdXJpbmcgcGFyc2luZy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXJyb3IgdGhhdCBvY2N1cnJlZC5cbiAgICovXG4gIHR5cGU6IEVycm9yVHlwZVxuXG4gIC8qKlxuICAgKiBJbiB0aGUgY2FzZSBvZiBhbiB1bmtub3duIGZpZWxkIGVuY291bnRlcmVkIGluIHRoZSBzdHJlYW0sIHRoaXMgd2lsbCBiZSB0aGUgZmllbGQgbmFtZS5cbiAgICovXG4gIGZpZWxkPzogc3RyaW5nIHwgdW5kZWZpbmVkXG5cbiAgLyoqXG4gICAqIEluIHRoZSBjYXNlIG9mIGFuIHVua25vd24gZmllbGQgZW5jb3VudGVyZWQgaW4gdGhlIHN0cmVhbSwgdGhpcyB3aWxsIGJlIHRoZSB2YWx1ZSBvZiB0aGUgZmllbGQuXG4gICAqL1xuICB2YWx1ZT86IHN0cmluZyB8IHVuZGVmaW5lZFxuXG4gIC8qKlxuICAgKiBUaGUgbGluZSB0aGF0IGNhdXNlZCB0aGUgZXJyb3IsIGlmIGF2YWlsYWJsZS5cbiAgICovXG4gIGxpbmU/OiBzdHJpbmcgfCB1bmRlZmluZWRcblxuICBjb25zdHJ1Y3RvcihcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgb3B0aW9uczoge3R5cGU6IEVycm9yVHlwZTsgZmllbGQ/OiBzdHJpbmc7IHZhbHVlPzogc3RyaW5nOyBsaW5lPzogc3RyaW5nfSxcbiAgKSB7XG4gICAgc3VwZXIobWVzc2FnZSlcbiAgICB0aGlzLm5hbWUgPSAnUGFyc2VFcnJvcidcbiAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGVcbiAgICB0aGlzLmZpZWxkID0gb3B0aW9ucy5maWVsZFxuICAgIHRoaXMudmFsdWUgPSBvcHRpb25zLnZhbHVlXG4gICAgdGhpcy5saW5lID0gb3B0aW9ucy5saW5lXG4gIH1cbn1cbiIsICIvKipcbiAqIEV2ZW50U291cmNlL1NlcnZlci1TZW50IEV2ZW50cyBwYXJzZXJcbiAqIEBzZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2VydmVyLXNlbnQtZXZlbnRzLmh0bWxcbiAqL1xuaW1wb3J0IHtQYXJzZUVycm9yfSBmcm9tICcuL2Vycm9ycy50cydcbmltcG9ydCB0eXBlIHtFdmVudFNvdXJjZVBhcnNlciwgUGFyc2VyQ2FsbGJhY2tzfSBmcm9tICcuL3R5cGVzLnRzJ1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5mdW5jdGlvbiBub29wKF9hcmc6IHVua25vd24pIHtcbiAgLy8gaW50ZW50aW9uYWwgbm9vcFxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgRXZlbnRTb3VyY2UgcGFyc2VyLlxuICpcbiAqIEBwYXJhbSBjYWxsYmFja3MgLSBDYWxsYmFja3MgdG8gaW52b2tlIG9uIGRpZmZlcmVudCBwYXJzaW5nIGV2ZW50czpcbiAqICAgLSBgb25FdmVudGAgd2hlbiBhIG5ldyBldmVudCBpcyBwYXJzZWRcbiAqICAgLSBgb25FcnJvcmAgd2hlbiBhbiBlcnJvciBvY2N1cnNcbiAqICAgLSBgb25SZXRyeWAgd2hlbiBhIG5ldyByZWNvbm5lY3Rpb24gaW50ZXJ2YWwgaGFzIGJlZW4gc2VudCBmcm9tIHRoZSBzZXJ2ZXJcbiAqICAgLSBgb25Db21tZW50YCB3aGVuIGEgY29tbWVudCBpcyBlbmNvdW50ZXJlZCBpbiB0aGUgc3RyZWFtXG4gKlxuICogQHJldHVybnMgQSBuZXcgRXZlbnRTb3VyY2UgcGFyc2VyLCB3aXRoIGBwYXJzZWAgYW5kIGByZXNldGAgbWV0aG9kcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihjYWxsYmFja3M6IFBhcnNlckNhbGxiYWNrcyk6IEV2ZW50U291cmNlUGFyc2VyIHtcbiAgaWYgKHR5cGVvZiBjYWxsYmFja3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ2BjYWxsYmFja3NgIG11c3QgYmUgYW4gb2JqZWN0LCBnb3QgYSBmdW5jdGlvbiBpbnN0ZWFkLiBEaWQgeW91IG1lYW4gYHtvbkV2ZW50OiBmbn1gPycsXG4gICAgKVxuICB9XG5cbiAgY29uc3Qge29uRXZlbnQgPSBub29wLCBvbkVycm9yID0gbm9vcCwgb25SZXRyeSA9IG5vb3AsIG9uQ29tbWVudH0gPSBjYWxsYmFja3NcblxuICBsZXQgaW5jb21wbGV0ZUxpbmUgPSAnJ1xuXG4gIGxldCBpc0ZpcnN0Q2h1bmsgPSB0cnVlXG4gIGxldCBpZDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGxldCBkYXRhID0gJydcbiAgbGV0IGV2ZW50VHlwZSA9ICcnXG5cbiAgZnVuY3Rpb24gZmVlZChuZXdDaHVuazogc3RyaW5nKSB7XG4gICAgLy8gU3RyaXAgYW55IFVURjggYnl0ZSBvcmRlciBtYXJrIChCT00pIGF0IHRoZSBzdGFydCBvZiB0aGUgc3RyZWFtXG4gICAgY29uc3QgY2h1bmsgPSBpc0ZpcnN0Q2h1bmsgPyBuZXdDaHVuay5yZXBsYWNlKC9eXFx4RUZcXHhCQlxceEJGLywgJycpIDogbmV3Q2h1bmtcblxuICAgIC8vIElmIHRoZXJlIHdhcyBhIHByZXZpb3VzIGluY29tcGxldGUgbGluZSwgYXBwZW5kIGl0IHRvIHRoZSBuZXcgY2h1bmssXG4gICAgLy8gc28gd2UgbWF5IHByb2Nlc3MgaXQgdG9nZXRoZXIgYXMgYSBuZXcgKGhvcGVmdWxseSBjb21wbGV0ZSkgY2h1bmsuXG4gICAgY29uc3QgW2NvbXBsZXRlLCBpbmNvbXBsZXRlXSA9IHNwbGl0TGluZXMoYCR7aW5jb21wbGV0ZUxpbmV9JHtjaHVua31gKVxuXG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGNvbXBsZXRlKSB7XG4gICAgICBwYXJzZUxpbmUobGluZSlcbiAgICB9XG5cbiAgICBpbmNvbXBsZXRlTGluZSA9IGluY29tcGxldGVcbiAgICBpc0ZpcnN0Q2h1bmsgPSBmYWxzZVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VMaW5lKGxpbmU6IHN0cmluZykge1xuICAgIC8vIElmIHRoZSBsaW5lIGlzIGVtcHR5IChhIGJsYW5rIGxpbmUpLCBkaXNwYXRjaCB0aGUgZXZlbnRcbiAgICBpZiAobGluZSA9PT0gJycpIHtcbiAgICAgIGRpc3BhdGNoRXZlbnQoKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGxpbmUgc3RhcnRzIHdpdGggYSBVKzAwM0EgQ09MT04gY2hhcmFjdGVyICg6KSwgaWdub3JlIHRoZSBsaW5lLlxuICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoJzonKSkge1xuICAgICAgaWYgKG9uQ29tbWVudCkge1xuICAgICAgICBvbkNvbW1lbnQobGluZS5zbGljZShsaW5lLnN0YXJ0c1dpdGgoJzogJykgPyAyIDogMSkpXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbGluZSBjb250YWlucyBhIFUrMDAzQSBDT0xPTiBjaGFyYWN0ZXIgKDopXG4gICAgY29uc3QgZmllbGRTZXBhcmF0b3JJbmRleCA9IGxpbmUuaW5kZXhPZignOicpXG4gICAgaWYgKGZpZWxkU2VwYXJhdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICAvLyBDb2xsZWN0IHRoZSBjaGFyYWN0ZXJzIG9uIHRoZSBsaW5lIGJlZm9yZSB0aGUgZmlyc3QgVSswMDNBIENPTE9OIGNoYXJhY3RlciAoOiksXG4gICAgICAvLyBhbmQgbGV0IGBmaWVsZGAgYmUgdGhhdCBzdHJpbmcuXG4gICAgICBjb25zdCBmaWVsZCA9IGxpbmUuc2xpY2UoMCwgZmllbGRTZXBhcmF0b3JJbmRleClcblxuICAgICAgLy8gQ29sbGVjdCB0aGUgY2hhcmFjdGVycyBvbiB0aGUgbGluZSBhZnRlciB0aGUgZmlyc3QgVSswMDNBIENPTE9OIGNoYXJhY3RlciAoOiksXG4gICAgICAvLyBhbmQgbGV0IGB2YWx1ZWAgYmUgdGhhdCBzdHJpbmcuIElmIHZhbHVlIHN0YXJ0cyB3aXRoIGEgVSswMDIwIFNQQUNFIGNoYXJhY3RlcixcbiAgICAgIC8vIHJlbW92ZSBpdCBmcm9tIHZhbHVlLlxuICAgICAgY29uc3Qgb2Zmc2V0ID0gbGluZVtmaWVsZFNlcGFyYXRvckluZGV4ICsgMV0gPT09ICcgJyA/IDIgOiAxXG4gICAgICBjb25zdCB2YWx1ZSA9IGxpbmUuc2xpY2UoZmllbGRTZXBhcmF0b3JJbmRleCArIG9mZnNldClcblxuICAgICAgcHJvY2Vzc0ZpZWxkKGZpZWxkLCB2YWx1ZSwgbGluZSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSwgdGhlIHN0cmluZyBpcyBub3QgZW1wdHkgYnV0IGRvZXMgbm90IGNvbnRhaW4gYSBVKzAwM0EgQ09MT04gY2hhcmFjdGVyICg6KVxuICAgIC8vIFByb2Nlc3MgdGhlIGZpZWxkIHVzaW5nIHRoZSB3aG9sZSBsaW5lIGFzIHRoZSBmaWVsZCBuYW1lLCBhbmQgYW4gZW1wdHkgc3RyaW5nIGFzIHRoZSBmaWVsZCB2YWx1ZS5cbiAgICAvLyDwn5GGIFRoaXMgaXMgYWNjb3JkaW5nIHRvIHNwZWMuIFRoYXQgbWVhbnMgdGhhdCBhIGxpbmUgdGhhdCBoYXMgdGhlIHZhbHVlIGBkYXRhYCB3aWxsIHJlc3VsdCBpblxuICAgIC8vIGEgbmV3bGluZSBiZWluZyBhZGRlZCB0byB0aGUgY3VycmVudCBgZGF0YWAgYnVmZmVyLCBmb3IgaW5zdGFuY2UuXG4gICAgcHJvY2Vzc0ZpZWxkKGxpbmUsICcnLCBsaW5lKVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0ZpZWxkKGZpZWxkOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGxpbmU6IHN0cmluZykge1xuICAgIC8vIEZpZWxkIG5hbWVzIG11c3QgYmUgY29tcGFyZWQgbGl0ZXJhbGx5LCB3aXRoIG5vIGNhc2UgZm9sZGluZyBwZXJmb3JtZWQuXG4gICAgc3dpdGNoIChmaWVsZCkge1xuICAgICAgY2FzZSAnZXZlbnQnOlxuICAgICAgICAvLyBTZXQgdGhlIGBldmVudCB0eXBlYCBidWZmZXIgdG8gZmllbGQgdmFsdWVcbiAgICAgICAgZXZlbnRUeXBlID0gdmFsdWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2RhdGEnOlxuICAgICAgICAvLyBBcHBlbmQgdGhlIGZpZWxkIHZhbHVlIHRvIHRoZSBgZGF0YWAgYnVmZmVyLCB0aGVuIGFwcGVuZCBhIHNpbmdsZSBVKzAwMEEgTElORSBGRUVEKExGKVxuICAgICAgICAvLyBjaGFyYWN0ZXIgdG8gdGhlIGBkYXRhYCBidWZmZXIuXG4gICAgICAgIGRhdGEgPSBgJHtkYXRhfSR7dmFsdWV9XFxuYFxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnaWQnOlxuICAgICAgICAvLyBJZiB0aGUgZmllbGQgdmFsdWUgZG9lcyBub3QgY29udGFpbiBVKzAwMDAgTlVMTCwgdGhlbiBzZXQgdGhlIGBJRGAgYnVmZmVyIHRvXG4gICAgICAgIC8vIHRoZSBmaWVsZCB2YWx1ZS4gT3RoZXJ3aXNlLCBpZ25vcmUgdGhlIGZpZWxkLlxuICAgICAgICBpZCA9IHZhbHVlLmluY2x1ZGVzKCdcXDAnKSA/IHVuZGVmaW5lZCA6IHZhbHVlXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdyZXRyeSc6XG4gICAgICAgIC8vIElmIHRoZSBmaWVsZCB2YWx1ZSBjb25zaXN0cyBvZiBvbmx5IEFTQ0lJIGRpZ2l0cywgdGhlbiBpbnRlcnByZXQgdGhlIGZpZWxkIHZhbHVlIGFzIGFuXG4gICAgICAgIC8vIGludGVnZXIgaW4gYmFzZSB0ZW4sIGFuZCBzZXQgdGhlIGV2ZW50IHN0cmVhbSdzIHJlY29ubmVjdGlvbiB0aW1lIHRvIHRoYXQgaW50ZWdlci5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBpZ25vcmUgdGhlIGZpZWxkLlxuICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICBvblJldHJ5KHBhcnNlSW50KHZhbHVlLCAxMCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25FcnJvcihcbiAgICAgICAgICAgIG5ldyBQYXJzZUVycm9yKGBJbnZhbGlkIFxcYHJldHJ5XFxgIHZhbHVlOiBcIiR7dmFsdWV9XCJgLCB7XG4gICAgICAgICAgICAgIHR5cGU6ICdpbnZhbGlkLXJldHJ5JyxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIGxpbmUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIE90aGVyd2lzZSwgdGhlIGZpZWxkIGlzIGlnbm9yZWQuXG4gICAgICAgIG9uRXJyb3IoXG4gICAgICAgICAgbmV3IFBhcnNlRXJyb3IoXG4gICAgICAgICAgICBgVW5rbm93biBmaWVsZCBcIiR7ZmllbGQubGVuZ3RoID4gMjAgPyBgJHtmaWVsZC5zbGljZSgwLCAyMCl94oCmYCA6IGZpZWxkfVwiYCxcbiAgICAgICAgICAgIHt0eXBlOiAndW5rbm93bi1maWVsZCcsIGZpZWxkLCB2YWx1ZSwgbGluZX0sXG4gICAgICAgICAgKSxcbiAgICAgICAgKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoKSB7XG4gICAgY29uc3Qgc2hvdWxkRGlzcGF0Y2ggPSBkYXRhLmxlbmd0aCA+IDBcbiAgICBpZiAoc2hvdWxkRGlzcGF0Y2gpIHtcbiAgICAgIG9uRXZlbnQoe1xuICAgICAgICBpZCxcbiAgICAgICAgZXZlbnQ6IGV2ZW50VHlwZSB8fCB1bmRlZmluZWQsXG4gICAgICAgIC8vIElmIHRoZSBkYXRhIGJ1ZmZlcidzIGxhc3QgY2hhcmFjdGVyIGlzIGEgVSswMDBBIExJTkUgRkVFRCAoTEYpIGNoYXJhY3RlcixcbiAgICAgICAgLy8gdGhlbiByZW1vdmUgdGhlIGxhc3QgY2hhcmFjdGVyIGZyb20gdGhlIGRhdGEgYnVmZmVyLlxuICAgICAgICBkYXRhOiBkYXRhLmVuZHNXaXRoKCdcXG4nKSA/IGRhdGEuc2xpY2UoMCwgLTEpIDogZGF0YSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gUmVzZXQgZm9yIHRoZSBuZXh0IGV2ZW50XG4gICAgaWQgPSB1bmRlZmluZWRcbiAgICBkYXRhID0gJydcbiAgICBldmVudFR5cGUgPSAnJ1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXQob3B0aW9uczoge2NvbnN1bWU/OiBib29sZWFufSA9IHt9KSB7XG4gICAgaWYgKGluY29tcGxldGVMaW5lICYmIG9wdGlvbnMuY29uc3VtZSkge1xuICAgICAgcGFyc2VMaW5lKGluY29tcGxldGVMaW5lKVxuICAgIH1cblxuICAgIGlzRmlyc3RDaHVuayA9IHRydWVcbiAgICBpZCA9IHVuZGVmaW5lZFxuICAgIGRhdGEgPSAnJ1xuICAgIGV2ZW50VHlwZSA9ICcnXG4gICAgaW5jb21wbGV0ZUxpbmUgPSAnJ1xuICB9XG5cbiAgcmV0dXJuIHtmZWVkLCByZXNldH1cbn1cblxuLyoqXG4gKiBGb3IgdGhlIGdpdmVuIGBjaHVua2AsIHNwbGl0IGl0IGludG8gbGluZXMgYWNjb3JkaW5nIHRvIHNwZWMsIGFuZCByZXR1cm4gYW55IHJlbWFpbmluZyBpbmNvbXBsZXRlIGxpbmUuXG4gKlxuICogQHBhcmFtIGNodW5rIC0gVGhlIGNodW5rIHRvIHNwbGl0IGludG8gbGluZXNcbiAqIEByZXR1cm5zIEEgdHVwbGUgY29udGFpbmluZyBhbiBhcnJheSBvZiBjb21wbGV0ZSBsaW5lcywgYW5kIGFueSByZW1haW5pbmcgaW5jb21wbGV0ZSBsaW5lXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gc3BsaXRMaW5lcyhjaHVuazogc3RyaW5nKTogW2NvbXBsZXRlOiBBcnJheTxzdHJpbmc+LCBpbmNvbXBsZXRlOiBzdHJpbmddIHtcbiAgLyoqXG4gICAqIEFjY29yZGluZyB0byB0aGUgc3BlYywgYSBsaW5lIGlzIHRlcm1pbmF0ZWQgYnkgZWl0aGVyOlxuICAgKiAtIFUrMDAwRCBDQVJSSUFHRSBSRVRVUk4gVSswMDBBIExJTkUgRkVFRCAoQ1JMRikgY2hhcmFjdGVyIHBhaXJcbiAgICogLSBhIHNpbmdsZSBVKzAwMEEgTElORSBGRUVEKExGKSBjaGFyYWN0ZXIgbm90IHByZWNlZGVkIGJ5IGEgVSswMDBEIENBUlJJQUdFIFJFVFVSTihDUikgY2hhcmFjdGVyXG4gICAqIC0gYSBzaW5nbGUgVSswMDBEIENBUlJJQUdFIFJFVFVSTihDUikgY2hhcmFjdGVyIG5vdCBmb2xsb3dlZCBieSBhIFUrMDAwQSBMSU5FIEZFRUQoTEYpIGNoYXJhY3RlclxuICAgKi9cbiAgY29uc3QgbGluZXM6IEFycmF5PHN0cmluZz4gPSBbXVxuICBsZXQgaW5jb21wbGV0ZUxpbmUgPSAnJ1xuICBsZXQgc2VhcmNoSW5kZXggPSAwXG5cbiAgd2hpbGUgKHNlYXJjaEluZGV4IDwgY2h1bmsubGVuZ3RoKSB7XG4gICAgLy8gRmluZCBuZXh0IGxpbmUgdGVybWluYXRvclxuICAgIGNvbnN0IGNySW5kZXggPSBjaHVuay5pbmRleE9mKCdcXHInLCBzZWFyY2hJbmRleClcbiAgICBjb25zdCBsZkluZGV4ID0gY2h1bmsuaW5kZXhPZignXFxuJywgc2VhcmNoSW5kZXgpXG5cbiAgICAvLyBEZXRlcm1pbmUgbGluZSBlbmRcbiAgICBsZXQgbGluZUVuZCA9IC0xXG4gICAgaWYgKGNySW5kZXggIT09IC0xICYmIGxmSW5kZXggIT09IC0xKSB7XG4gICAgICAvLyBDUkxGIGNhc2VcbiAgICAgIGxpbmVFbmQgPSBNYXRoLm1pbihjckluZGV4LCBsZkluZGV4KVxuICAgIH0gZWxzZSBpZiAoY3JJbmRleCAhPT0gLTEpIHtcbiAgICAgIC8vIENSIGF0IHRoZSBlbmQgb2YgYSBjaHVuayBtaWdodCBiZSBwYXJ0IG9mIGEgQ1JMRiBzZXF1ZW5jZSB0aGF0IHNwYW5zIGNodW5rcyxcbiAgICAgIC8vIHNvIHdlIHNob3VsZG4ndCB0cmVhdCBpdCBhcyBhIGxpbmUgdGVybWluYXRvciAoeWV0KVxuICAgICAgaWYgKGNySW5kZXggPT09IGNodW5rLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgbGluZUVuZCA9IC0xXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5lRW5kID0gY3JJbmRleFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobGZJbmRleCAhPT0gLTEpIHtcbiAgICAgIGxpbmVFbmQgPSBsZkluZGV4XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCBsaW5lIGlmIHRlcm1pbmF0b3IgZm91bmRcbiAgICBpZiAobGluZUVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIE5vIHRlcm1pbmF0b3IgZm91bmQsIHJlc3QgaXMgaW5jb21wbGV0ZVxuICAgICAgaW5jb21wbGV0ZUxpbmUgPSBjaHVuay5zbGljZShzZWFyY2hJbmRleClcbiAgICAgIGJyZWFrXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGxpbmUgPSBjaHVuay5zbGljZShzZWFyY2hJbmRleCwgbGluZUVuZClcbiAgICAgIGxpbmVzLnB1c2gobGluZSlcblxuICAgICAgLy8gTW92ZSBwYXN0IGxpbmUgdGVybWluYXRvclxuICAgICAgc2VhcmNoSW5kZXggPSBsaW5lRW5kICsgMVxuICAgICAgaWYgKGNodW5rW3NlYXJjaEluZGV4IC0gMV0gPT09ICdcXHInICYmIGNodW5rW3NlYXJjaEluZGV4XSA9PT0gJ1xcbicpIHtcbiAgICAgICAgc2VhcmNoSW5kZXgrK1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbbGluZXMsIGluY29tcGxldGVMaW5lXVxufVxuIiwgImltcG9ydCB7Y3JlYXRlUGFyc2VyfSBmcm9tICcuL3BhcnNlLnRzJ1xuaW1wb3J0IHR5cGUge0V2ZW50U291cmNlTWVzc2FnZSwgRXZlbnRTb3VyY2VQYXJzZXJ9IGZyb20gJy4vdHlwZXMudHMnXG5cbi8qKlxuICogT3B0aW9ucyBmb3IgdGhlIEV2ZW50U291cmNlUGFyc2VyU3RyZWFtLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJlYW1PcHRpb25zIHtcbiAgLyoqXG4gICAqIEJlaGF2aW9yIHdoZW4gYSBwYXJzaW5nIGVycm9yIG9jY3Vycy5cbiAgICpcbiAgICogLSBBIGN1c3RvbSBmdW5jdGlvbiBjYW4gYmUgcHJvdmlkZWQgdG8gaGFuZGxlIHRoZSBlcnJvci5cbiAgICogLSBgJ3Rlcm1pbmF0ZSdgIHdpbGwgZXJyb3IgdGhlIHN0cmVhbSBhbmQgc3RvcCBwYXJzaW5nLlxuICAgKiAtIEFueSBvdGhlciB2YWx1ZSB3aWxsIGlnbm9yZSB0aGUgZXJyb3IgYW5kIGNvbnRpbnVlIHBhcnNpbmcuXG4gICAqXG4gICAqIEBkZWZhdWx0VmFsdWUgYHVuZGVmaW5lZGBcbiAgICovXG4gIG9uRXJyb3I/OiAoJ3Rlcm1pbmF0ZScgfCAoKGVycm9yOiBFcnJvcikgPT4gdm9pZCkpIHwgdW5kZWZpbmVkXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGEgcmVjb25uZWN0aW9uIGludGVydmFsIGlzIHNlbnQgZnJvbSB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAcGFyYW0gcmV0cnkgLSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSByZWNvbm5lY3RpbmcuXG4gICAqL1xuICBvblJldHJ5PzogKChyZXRyeTogbnVtYmVyKSA9PiB2b2lkKSB8IHVuZGVmaW5lZFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3Igd2hlbiBhIGNvbW1lbnQgaXMgZW5jb3VudGVyZWQgaW4gdGhlIHN0cmVhbS5cbiAgICpcbiAgICogQHBhcmFtIGNvbW1lbnQgLSBUaGUgY29tbWVudCBlbmNvdW50ZXJlZCBpbiB0aGUgc3RyZWFtLlxuICAgKi9cbiAgb25Db21tZW50PzogKChjb21tZW50OiBzdHJpbmcpID0+IHZvaWQpIHwgdW5kZWZpbmVkXG59XG5cbi8qKlxuICogQSBUcmFuc2Zvcm1TdHJlYW0gdGhhdCBpbmdlc3RzIGEgc3RyZWFtIG9mIHN0cmluZ3MgYW5kIHByb2R1Y2VzIGEgc3RyZWFtIG9mIGBFdmVudFNvdXJjZU1lc3NhZ2VgLlxuICpcbiAqIEBleGFtcGxlIEJhc2ljIHVzYWdlXG4gKiBgYGBcbiAqIGNvbnN0IGV2ZW50U3RyZWFtID1cbiAqICAgcmVzcG9uc2UuYm9keVxuICogICAgIC5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSlcbiAqICAgICAucGlwZVRocm91Z2gobmV3IEV2ZW50U291cmNlUGFyc2VyU3RyZWFtKCkpXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZSBUZXJtaW5hdGUgc3RyZWFtIG9uIHBhcnNpbmcgZXJyb3JzXG4gKiBgYGBcbiAqIGNvbnN0IGV2ZW50U3RyZWFtID1cbiAqICByZXNwb25zZS5ib2R5XG4gKiAgIC5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSlcbiAqICAgLnBpcGVUaHJvdWdoKG5ldyBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSh7dGVybWluYXRlT25FcnJvcjogdHJ1ZX0pKVxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0gZXh0ZW5kcyBUcmFuc2Zvcm1TdHJlYW08c3RyaW5nLCBFdmVudFNvdXJjZU1lc3NhZ2U+IHtcbiAgY29uc3RydWN0b3Ioe29uRXJyb3IsIG9uUmV0cnksIG9uQ29tbWVudH06IFN0cmVhbU9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBwYXJzZXIhOiBFdmVudFNvdXJjZVBhcnNlclxuXG4gICAgc3VwZXIoe1xuICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICBwYXJzZXIgPSBjcmVhdGVQYXJzZXIoe1xuICAgICAgICAgIG9uRXZlbnQ6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGV2ZW50KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25FcnJvcihlcnJvcikge1xuICAgICAgICAgICAgaWYgKG9uRXJyb3IgPT09ICd0ZXJtaW5hdGUnKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvbkVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElnbm9yZSBieSBkZWZhdWx0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJldHJ5LFxuICAgICAgICAgIG9uQ29tbWVudCxcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICB0cmFuc2Zvcm0oY2h1bmspIHtcbiAgICAgICAgcGFyc2VyLmZlZWQoY2h1bmspXG4gICAgICB9LFxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IHt0eXBlIEVycm9yVHlwZSwgUGFyc2VFcnJvcn0gZnJvbSAnLi9lcnJvcnMudHMnXG5leHBvcnQgdHlwZSB7RXZlbnRTb3VyY2VNZXNzYWdlfSBmcm9tICcuL3R5cGVzLnRzJ1xuIiwgImV4cG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3NjaGVtYXMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NoZWNrcy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcGF0LmpzXCI7XG4vLyB6b2Qtc3BlY2lmaWVkXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0IGVuIGZyb20gXCIuLi9sb2NhbGVzL2VuLmpzXCI7XG5jb25maWcoZW4oKSk7XG5leHBvcnQgeyBnbG9iYWxSZWdpc3RyeSwgcmVnaXN0cnksIGNvbmZpZywgJG91dHB1dCwgJGlucHV0LCAkYnJhbmQsIGNsb25lLCByZWdleGVzLCB0cmVlaWZ5RXJyb3IsIHByZXR0aWZ5RXJyb3IsIGZvcm1hdEVycm9yLCBmbGF0dGVuRXJyb3IsIHRvSlNPTlNjaGVtYSwgVGltZVByZWNpc2lvbiwgdXRpbCwgTkVWRVIsIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmV4cG9ydCAqIGFzIGxvY2FsZXMgZnJvbSBcIi4uL2xvY2FsZXMvaW5kZXguanNcIjtcbi8vIGlzb1xuLy8gbXVzdCBiZSBleHBvcnRlZCBmcm9tIHRvcC1sZXZlbFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2lzc3Vlcy80NDkxXG5leHBvcnQgeyBab2RJU09EYXRlVGltZSwgWm9kSVNPRGF0ZSwgWm9kSVNPVGltZSwgWm9kSVNPRHVyYXRpb24gfSBmcm9tIFwiLi9pc28uanNcIjtcbmV4cG9ydCAqIGFzIGlzbyBmcm9tIFwiLi9pc28uanNcIjtcbmV4cG9ydCAqIGFzIGNvZXJjZSBmcm9tIFwiLi9jb2VyY2UuanNcIjtcbiIsICJleHBvcnQgKiBmcm9tIFwiLi9jb3JlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zY2hlbWFzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jaGVja3MuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3ZlcnNpb25zLmpzXCI7XG5leHBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCAqIGFzIHJlZ2V4ZXMgZnJvbSBcIi4vcmVnZXhlcy5qc1wiO1xuZXhwb3J0ICogYXMgbG9jYWxlcyBmcm9tIFwiLi4vbG9jYWxlcy9pbmRleC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcmVnaXN0cmllcy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZG9jLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9hcGkuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3RvLWpzb24tc2NoZW1hLmpzXCI7XG5leHBvcnQgKiBhcyBKU09OU2NoZW1hIGZyb20gXCIuL2pzb24tc2NoZW1hLmpzXCI7XG4iLCAiLyoqIEEgc3BlY2lhbCBjb25zdGFudCB3aXRoIHR5cGUgYG5ldmVyYCAqL1xuZXhwb3J0IGNvbnN0IE5FVkVSID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgc3RhdHVzOiBcImFib3J0ZWRcIixcbn0pO1xuZXhwb3J0IC8qQF9fTk9fU0lERV9FRkZFQ1RTX18qLyBmdW5jdGlvbiAkY29uc3RydWN0b3IobmFtZSwgaW5pdGlhbGl6ZXIsIHBhcmFtcykge1xuICAgIGZ1bmN0aW9uIGluaXQoaW5zdCwgZGVmKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwiX3pvZFwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogaW5zdC5fem9kID8/IHt9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICAoX2EgPSBpbnN0Ll96b2QpLnRyYWl0cyA/PyAoX2EudHJhaXRzID0gbmV3IFNldCgpKTtcbiAgICAgICAgaW5zdC5fem9kLnRyYWl0cy5hZGQobmFtZSk7XG4gICAgICAgIGluaXRpYWxpemVyKGluc3QsIGRlZik7XG4gICAgICAgIC8vIHN1cHBvcnQgcHJvdG90eXBlIG1vZGlmaWNhdGlvbnNcbiAgICAgICAgZm9yIChjb25zdCBrIGluIF8ucHJvdG90eXBlKSB7XG4gICAgICAgICAgICBpZiAoIShrIGluIGluc3QpKVxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBrLCB7IHZhbHVlOiBfLnByb3RvdHlwZVtrXS5iaW5kKGluc3QpIH0pO1xuICAgICAgICB9XG4gICAgICAgIGluc3QuX3pvZC5jb25zdHIgPSBfO1xuICAgICAgICBpbnN0Ll96b2QuZGVmID0gZGVmO1xuICAgIH1cbiAgICAvLyBkb2Vzbid0IHdvcmsgaWYgUGFyZW50IGhhcyBhIGNvbnN0cnVjdG9yIHdpdGggYXJndW1lbnRzXG4gICAgY29uc3QgUGFyZW50ID0gcGFyYW1zPy5QYXJlbnQgPz8gT2JqZWN0O1xuICAgIGNsYXNzIERlZmluaXRpb24gZXh0ZW5kcyBQYXJlbnQge1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmaW5pdGlvbiwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSk7XG4gICAgZnVuY3Rpb24gXyhkZWYpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBpbnN0ID0gcGFyYW1zPy5QYXJlbnQgPyBuZXcgRGVmaW5pdGlvbigpIDogdGhpcztcbiAgICAgICAgaW5pdChpbnN0LCBkZWYpO1xuICAgICAgICAoX2EgPSBpbnN0Ll96b2QpLmRlZmVycmVkID8/IChfYS5kZWZlcnJlZCA9IFtdKTtcbiAgICAgICAgZm9yIChjb25zdCBmbiBvZiBpbnN0Ll96b2QuZGVmZXJyZWQpIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc3Q7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfLCBcImluaXRcIiwgeyB2YWx1ZTogaW5pdCB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXywgU3ltYm9sLmhhc0luc3RhbmNlLCB7XG4gICAgICAgIHZhbHVlOiAoaW5zdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhcmFtcz8uUGFyZW50ICYmIGluc3QgaW5zdGFuY2VvZiBwYXJhbXMuUGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGluc3Q/Ll96b2Q/LnRyYWl0cz8uaGFzKG5hbWUpO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KTtcbiAgICByZXR1cm4gXztcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAgIFVUSUxJVElFUyAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZXhwb3J0IGNvbnN0ICRicmFuZCA9IFN5bWJvbChcInpvZF9icmFuZFwiKTtcbmV4cG9ydCBjbGFzcyAkWm9kQXN5bmNFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoYEVuY291bnRlcmVkIFByb21pc2UgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlLiBVc2UgLnBhcnNlQXN5bmMoKSBpbnN0ZWFkLmApO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyAkWm9kRW5jb2RlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICBzdXBlcihgRW5jb3VudGVyZWQgdW5pZGlyZWN0aW9uYWwgdHJhbnNmb3JtIGR1cmluZyBlbmNvZGU6ICR7bmFtZX1gKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJab2RFbmNvZGVFcnJvclwiO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBnbG9iYWxDb25maWcgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBjb25maWcobmV3Q29uZmlnKSB7XG4gICAgaWYgKG5ld0NvbmZpZylcbiAgICAgICAgT2JqZWN0LmFzc2lnbihnbG9iYWxDb25maWcsIG5ld0NvbmZpZyk7XG4gICAgcmV0dXJuIGdsb2JhbENvbmZpZztcbn1cbiIsICIvLyBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRFcXVhbCh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE5vdEVxdWFsKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoXykgeyB9XG5leHBvcnQgZnVuY3Rpb24gZ2V0RW51bVZhbHVlcyhlbnRyaWVzKSB7XG4gICAgY29uc3QgbnVtZXJpY1ZhbHVlcyA9IE9iamVjdC52YWx1ZXMoZW50cmllcykuZmlsdGVyKCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIik7XG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmVudHJpZXMoZW50cmllcylcbiAgICAgICAgLmZpbHRlcigoW2ssIF9dKSA9PiBudW1lcmljVmFsdWVzLmluZGV4T2YoK2spID09PSAtMSlcbiAgICAgICAgLm1hcCgoW18sIHZdKSA9PiB2KTtcbiAgICByZXR1cm4gdmFsdWVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5WYWx1ZXMoYXJyYXksIHNlcGFyYXRvciA9IFwifFwiKSB7XG4gICAgcmV0dXJuIGFycmF5Lm1hcCgodmFsKSA9PiBzdHJpbmdpZnlQcmltaXRpdmUodmFsKSkuam9pbihzZXBhcmF0b3IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGpzb25TdHJpbmdpZnlSZXBsYWNlcihfLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYWNoZWQoZ2V0dGVyKSB7XG4gICAgY29uc3Qgc2V0ID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICAgICAgaWYgKCFzZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldHRlcigpO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZhbHVlXCIsIHsgdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FjaGVkIHZhbHVlIGFscmVhZHkgc2V0XCIpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbnVsbGlzaChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuUmVnZXgoc291cmNlKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBzb3VyY2Uuc3RhcnRzV2l0aChcIl5cIikgPyAxIDogMDtcbiAgICBjb25zdCBlbmQgPSBzb3VyY2UuZW5kc1dpdGgoXCIkXCIpID8gc291cmNlLmxlbmd0aCAtIDEgOiBzb3VyY2UubGVuZ3RoO1xuICAgIHJldHVybiBzb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcFN0cmluZyA9IHN0ZXAudG9TdHJpbmcoKTtcbiAgICBsZXQgc3RlcERlY0NvdW50ID0gKHN0ZXBTdHJpbmcuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBpZiAoc3RlcERlY0NvdW50ID09PSAwICYmIC9cXGQ/ZS1cXGQ/Ly50ZXN0KHN0ZXBTdHJpbmcpKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gc3RlcFN0cmluZy5tYXRjaCgvXFxkP2UtKFxcZD8pLyk7XG4gICAgICAgIGlmIChtYXRjaD8uWzFdKSB7XG4gICAgICAgICAgICBzdGVwRGVjQ291bnQgPSBOdW1iZXIucGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBOdW1iZXIucGFyc2VJbnQodmFsLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICBjb25zdCBzdGVwSW50ID0gTnVtYmVyLnBhcnNlSW50KHN0ZXAudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIHJldHVybiAodmFsSW50ICUgc3RlcEludCkgLyAxMCAqKiBkZWNDb3VudDtcbn1cbmNvbnN0IEVWQUxVQVRJTkcgPSBTeW1ib2woXCJldmFsdWF0aW5nXCIpO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZUxhenkob2JqZWN0LCBrZXksIGdldHRlcikge1xuICAgIGxldCB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBFVkFMVUFUSU5HKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2lyY3VsYXIgcmVmZXJlbmNlIGRldGVjdGVkLCByZXR1cm4gdW5kZWZpbmVkIHRvIGJyZWFrIHRoZSBjeWNsZVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gRVZBTFVBVElORztcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGdldHRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQodikge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHYsXG4gICAgICAgICAgICAgICAgLy8gY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBvYmplY3Rba2V5XSA9IHY7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RDbG9uZShvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduUHJvcCh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcCwge1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZURlZnMoLi4uZGVmcykge1xuICAgIGNvbnN0IG1lcmdlZERlc2NyaXB0b3JzID0ge307XG4gICAgZm9yIChjb25zdCBkZWYgb2YgZGVmcykge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGRlZik7XG4gICAgICAgIE9iamVjdC5hc3NpZ24obWVyZ2VkRGVzY3JpcHRvcnMsIGRlc2NyaXB0b3JzKTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHt9LCBtZXJnZWREZXNjcmlwdG9ycyk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvbmVEZWYoc2NoZW1hKSB7XG4gICAgcmV0dXJuIG1lcmdlRGVmcyhzY2hlbWEuX3pvZC5kZWYpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRBdFBhdGgob2JqLCBwYXRoKSB7XG4gICAgaWYgKCFwYXRoKVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIHJldHVybiBwYXRoLnJlZHVjZSgoYWNjLCBrZXkpID0+IGFjYz8uW2tleV0sIG9iaik7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJvbWlzZUFsbE9iamVjdChwcm9taXNlc09iaikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9taXNlc09iaik7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBrZXlzLm1hcCgoa2V5KSA9PiBwcm9taXNlc09ialtrZXldKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRPYmogPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXNvbHZlZE9ialtrZXlzW2ldXSA9IHJlc3VsdHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdmVkT2JqO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVN0cmluZyhsZW5ndGggPSAxMCkge1xuICAgIGNvbnN0IGNoYXJzID0gXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuICAgIGxldCBzdHIgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3RyICs9IGNoYXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCldO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVzYyhzdHIpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc3RyKTtcbn1cbmV4cG9ydCBjb25zdCBjYXB0dXJlU3RhY2tUcmFjZSA9IChcImNhcHR1cmVTdGFja1RyYWNlXCIgaW4gRXJyb3IgPyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA6ICguLi5fYXJncykgPT4geyB9KTtcbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmIGRhdGEgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSk7XG59XG5leHBvcnQgY29uc3QgYWxsb3dzRXZhbCA9IGNhY2hlZCgoKSA9PiB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIG5hdmlnYXRvcj8udXNlckFnZW50Py5pbmNsdWRlcyhcIkNsb3VkZmxhcmVcIikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBGID0gRnVuY3Rpb247XG4gICAgICAgIG5ldyBGKFwiXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qobykge1xuICAgIGlmIChpc09iamVjdChvKSA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBtb2RpZmllZCBjb25zdHJ1Y3RvclxuICAgIGNvbnN0IGN0b3IgPSBvLmNvbnN0cnVjdG9yO1xuICAgIGlmIChjdG9yID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIC8vIG1vZGlmaWVkIHByb3RvdHlwZVxuICAgIGNvbnN0IHByb3QgPSBjdG9yLnByb3RvdHlwZTtcbiAgICBpZiAoaXNPYmplY3QocHJvdCkgPT09IGZhbHNlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gY3RvciBkb2Vzbid0IGhhdmUgc3RhdGljIGBpc1Byb3RvdHlwZU9mYFxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvdCwgXCJpc1Byb3RvdHlwZU9mXCIpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNoYWxsb3dDbG9uZShvKSB7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QobykpXG4gICAgICAgIHJldHVybiB7IC4uLm8gfTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvKSlcbiAgICAgICAgcmV0dXJuIFsuLi5vXTtcbiAgICByZXR1cm4gbztcbn1cbmV4cG9ydCBmdW5jdGlvbiBudW1LZXlzKGRhdGEpIHtcbiAgICBsZXQga2V5Q291bnQgPSAwO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICBrZXlDb3VudCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXlDb3VudDtcbn1cbmV4cG9ydCBjb25zdCBnZXRQYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgIHJldHVybiBcInVuZGVmaW5lZFwiO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwibmFuXCIgOiBcIm51bWJlclwiO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBcImZ1bmN0aW9uXCI7XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBcImJpZ2ludFwiO1xuICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzeW1ib2xcIjtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS50aGVuICYmIHR5cGVvZiBkYXRhLnRoZW4gPT09IFwiZnVuY3Rpb25cIiAmJiBkYXRhLmNhdGNoICYmIHR5cGVvZiBkYXRhLmNhdGNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJwcm9taXNlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibWFwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIFNldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwic2V0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIERhdGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJkYXRlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAodHlwZW9mIEZpbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJmaWxlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJvYmplY3RcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBkYXRhIHR5cGU6ICR7dH1gKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHByb3BlcnR5S2V5VHlwZXMgPSBuZXcgU2V0KFtcInN0cmluZ1wiLCBcIm51bWJlclwiLCBcInN5bWJvbFwiXSk7XG5leHBvcnQgY29uc3QgcHJpbWl0aXZlVHlwZXMgPSBuZXcgU2V0KFtcInN0cmluZ1wiLCBcIm51bWJlclwiLCBcImJpZ2ludFwiLCBcImJvb2xlYW5cIiwgXCJzeW1ib2xcIiwgXCJ1bmRlZmluZWRcIl0pO1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZVJlZ2V4KHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csIFwiXFxcXCQmXCIpO1xufVxuLy8gem9kLXNwZWNpZmljIHV0aWxzXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoaW5zdCwgZGVmLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjbCA9IG5ldyBpbnN0Ll96b2QuY29uc3RyKGRlZiA/PyBpbnN0Ll96b2QuZGVmKTtcbiAgICBpZiAoIWRlZiB8fCBwYXJhbXM/LnBhcmVudClcbiAgICAgICAgY2wuX3pvZC5wYXJlbnQgPSBpbnN0O1xuICAgIHJldHVybiBjbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVQYXJhbXMoX3BhcmFtcykge1xuICAgIGNvbnN0IHBhcmFtcyA9IF9wYXJhbXM7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6ICgpID0+IHBhcmFtcyB9O1xuICAgIGlmIChwYXJhbXM/Lm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAocGFyYW1zPy5lcnJvciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNwZWNpZnkgYm90aCBgbWVzc2FnZWAgYW5kIGBlcnJvcmAgcGFyYW1zXCIpO1xuICAgICAgICBwYXJhbXMuZXJyb3IgPSBwYXJhbXMubWVzc2FnZTtcbiAgICB9XG4gICAgZGVsZXRlIHBhcmFtcy5tZXNzYWdlO1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLmVycm9yID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4geyAuLi5wYXJhbXMsIGVycm9yOiAoKSA9PiBwYXJhbXMuZXJyb3IgfTtcbiAgICByZXR1cm4gcGFyYW1zO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zcGFyZW50UHJveHkoZ2V0dGVyKSB7XG4gICAgbGV0IHRhcmdldDtcbiAgICByZXR1cm4gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgIGdldChfLCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldChfLCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzKF8sIHByb3ApIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbGV0ZVByb3BlcnR5KF8sIHByb3ApIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgb3duS2V5cyhfKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF8sIHByb3ApIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmluZVByb3BlcnR5KF8sIHByb3AsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlQcmltaXRpdmUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKVxuICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKSArIFwiblwiO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBgXCIke3ZhbHVlfVwiYDtcbiAgICByZXR1cm4gYCR7dmFsdWV9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcHRpb25hbEtleXMoc2hhcGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc2hhcGUpLmZpbHRlcigoaykgPT4ge1xuICAgICAgICByZXR1cm4gc2hhcGVba10uX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiICYmIHNoYXBlW2tdLl96b2Qub3B0b3V0ID09PSBcIm9wdGlvbmFsXCI7XG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgTlVNQkVSX0ZPUk1BVF9SQU5HRVMgPSB7XG4gICAgc2FmZWludDogW051bWJlci5NSU5fU0FGRV9JTlRFR0VSLCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUl0sXG4gICAgaW50MzI6IFstMjE0NzQ4MzY0OCwgMjE0NzQ4MzY0N10sXG4gICAgdWludDMyOiBbMCwgNDI5NDk2NzI5NV0sXG4gICAgZmxvYXQzMjogWy0zLjQwMjgyMzQ2NjM4NTI4ODZlMzgsIDMuNDAyODIzNDY2Mzg1Mjg4NmUzOF0sXG4gICAgZmxvYXQ2NDogWy1OdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFXSxcbn07XG5leHBvcnQgY29uc3QgQklHSU5UX0ZPUk1BVF9SQU5HRVMgPSB7XG4gICAgaW50NjQ6IFsvKiBAX19QVVJFX18qLyBCaWdJbnQoXCItOTIyMzM3MjAzNjg1NDc3NTgwOFwiKSwgLyogQF9fUFVSRV9fKi8gQmlnSW50KFwiOTIyMzM3MjAzNjg1NDc3NTgwN1wiKV0sXG4gICAgdWludDY0OiBbLyogQF9fUFVSRV9fKi8gQmlnSW50KDApLCAvKiBAX19QVVJFX18qLyBCaWdJbnQoXCIxODQ0Njc0NDA3MzcwOTU1MTYxNVwiKV0sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHBpY2soc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3QgY3VyckRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICBjb25zdCBkZWYgPSBtZXJnZURlZnMoc2NoZW1hLl96b2QuZGVmLCB7XG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIGN1cnJEZWYuc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGtleTogXCIke2tleX1cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGN1cnJEZWYuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBuZXdTaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIG5ld1NoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZShzY2hlbWEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gb21pdChzY2hlbWEsIG1hc2spIHtcbiAgICBjb25zdCBjdXJyRGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIGNvbnN0IGRlZiA9IG1lcmdlRGVmcyhzY2hlbWEuX3pvZC5kZWYsIHtcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7IC4uLnNjaGVtYS5fem9kLmRlZi5zaGFwZSB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFzaykge1xuICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBjdXJyRGVmLnNoYXBlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBrZXk6IFwiJHtrZXl9XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdTaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIG5ld1NoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gbmV3U2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrczogW10sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoc2NoZW1hLCBzaGFwZSkge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChzaGFwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBleHRlbmQ6IGV4cGVjdGVkIGEgcGxhaW4gb2JqZWN0XCIpO1xuICAgIH1cbiAgICBjb25zdCBjaGVja3MgPSBzY2hlbWEuX3pvZC5kZWYuY2hlY2tzO1xuICAgIGNvbnN0IGhhc0NoZWNrcyA9IGNoZWNrcyAmJiBjaGVja3MubGVuZ3RoID4gMDtcbiAgICBpZiAoaGFzQ2hlY2tzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9iamVjdCBzY2hlbWFzIGNvbnRhaW5pbmcgcmVmaW5lbWVudHMgY2Fubm90IGJlIGV4dGVuZGVkLiBVc2UgYC5zYWZlRXh0ZW5kKClgIGluc3RlYWQuXCIpO1xuICAgIH1cbiAgICBjb25zdCBkZWYgPSBtZXJnZURlZnMoc2NoZW1hLl96b2QuZGVmLCB7XG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IF9zaGFwZSA9IHsgLi4uc2NoZW1hLl96b2QuZGVmLnNoYXBlLCAuLi5zaGFwZSB9O1xuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIF9zaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIF9zaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmUoc2NoZW1hLCBkZWYpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVFeHRlbmQoc2NoZW1hLCBzaGFwZSkge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChzaGFwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBzYWZlRXh0ZW5kOiBleHBlY3RlZCBhIHBsYWluIG9iamVjdFwiKTtcbiAgICB9XG4gICAgY29uc3QgZGVmID0ge1xuICAgICAgICAuLi5zY2hlbWEuX3pvZC5kZWYsXG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IF9zaGFwZSA9IHsgLi4uc2NoZW1hLl96b2QuZGVmLnNoYXBlLCAuLi5zaGFwZSB9O1xuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIF9zaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIF9zaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tzOiBzY2hlbWEuX3pvZC5kZWYuY2hlY2tzLFxuICAgIH07XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZShhLCBiKSB7XG4gICAgY29uc3QgZGVmID0gbWVyZ2VEZWZzKGEuX3pvZC5kZWYsIHtcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3QgX3NoYXBlID0geyAuLi5hLl96b2QuZGVmLnNoYXBlLCAuLi5iLl96b2QuZGVmLnNoYXBlIH07XG4gICAgICAgICAgICBhc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgX3NoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gX3NoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgY2F0Y2hhbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5fem9kLmRlZi5jYXRjaGFsbDtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tzOiBbXSwgLy8gZGVsZXRlIGV4aXN0aW5nIGNoZWNrc1xuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZShhLCBkZWYpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpYWwoQ2xhc3MsIHNjaGVtYSwgbWFzaykge1xuICAgIGNvbnN0IGRlZiA9IG1lcmdlRGVmcyhzY2hlbWEuX3pvZC5kZWYsIHtcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3Qgb2xkU2hhcGUgPSBzY2hlbWEuX3pvZC5kZWYuc2hhcGU7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHsgLi4ub2xkU2hhcGUgfTtcbiAgICAgICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFzaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gb2xkU2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBrZXk6IFwiJHtrZXl9XCJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiAob2xkU2hhcGVba2V5XSEuX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IENsYXNzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBDbGFzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVHlwZTogb2xkU2hhcGVba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG9sZFNoYXBlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2xkU2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKG9sZFNoYXBlW2tleV0hLl96b2Qub3B0aW4gPT09IFwib3B0aW9uYWxcIikgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSBDbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcgQ2xhc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBvbGRTaGFwZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBzaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZShzY2hlbWEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZWQoQ2xhc3MsIHNjaGVtYSwgbWFzaykge1xuICAgIGNvbnN0IGRlZiA9IG1lcmdlRGVmcyhzY2hlbWEuX3pvZC5kZWYsIHtcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3Qgb2xkU2hhcGUgPSBzY2hlbWEuX3pvZC5kZWYuc2hhcGU7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHsgLi4ub2xkU2hhcGUgfTtcbiAgICAgICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFzaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBrZXk6IFwiJHtrZXl9XCJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBvdmVyd3JpdGUgd2l0aCBub24tb3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IG5ldyBDbGFzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm5vbm9wdGlvbmFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG92ZXJ3cml0ZSB3aXRoIG5vbi1vcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibm9ub3B0aW9uYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVHlwZTogb2xkU2hhcGVba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIHNoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrczogW10sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbi8vIGludmFsaWRfdHlwZSB8IHRvb19iaWcgfCB0b29fc21hbGwgfCBpbnZhbGlkX2Zvcm1hdCB8IG5vdF9tdWx0aXBsZV9vZiB8IHVucmVjb2duaXplZF9rZXlzIHwgaW52YWxpZF91bmlvbiB8IGludmFsaWRfa2V5IHwgaW52YWxpZF9lbGVtZW50IHwgaW52YWxpZF92YWx1ZSB8IGN1c3RvbVxuZXhwb3J0IGZ1bmN0aW9uIGFib3J0ZWQoeCwgc3RhcnRJbmRleCA9IDApIHtcbiAgICBpZiAoeC5hYm9ydGVkID09PSB0cnVlKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IHguaXNzdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh4Lmlzc3Vlc1tpXT8uY29udGludWUgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmVmaXhJc3N1ZXMocGF0aCwgaXNzdWVzKSB7XG4gICAgcmV0dXJuIGlzc3Vlcy5tYXAoKGlzcykgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IGlzcykucGF0aCA/PyAoX2EucGF0aCA9IFtdKTtcbiAgICAgICAgaXNzLnBhdGgudW5zaGlmdChwYXRoKTtcbiAgICAgICAgcmV0dXJuIGlzcztcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1bndyYXBNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogbWVzc2FnZT8ubWVzc2FnZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb25maWcpIHtcbiAgICBjb25zdCBmdWxsID0geyAuLi5pc3MsIHBhdGg6IGlzcy5wYXRoID8/IFtdIH07XG4gICAgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgaWYgKCFpc3MubWVzc2FnZSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gdW53cmFwTWVzc2FnZShpc3MuaW5zdD8uX3pvZC5kZWY/LmVycm9yPy4oaXNzKSkgPz9cbiAgICAgICAgICAgIHVud3JhcE1lc3NhZ2UoY3R4Py5lcnJvcj8uKGlzcykpID8/XG4gICAgICAgICAgICB1bndyYXBNZXNzYWdlKGNvbmZpZy5jdXN0b21FcnJvcj8uKGlzcykpID8/XG4gICAgICAgICAgICB1bndyYXBNZXNzYWdlKGNvbmZpZy5sb2NhbGVFcnJvcj8uKGlzcykpID8/XG4gICAgICAgICAgICBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgZnVsbC5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG4gICAgLy8gZGVsZXRlIChmdWxsIGFzIGFueSkuZGVmO1xuICAgIGRlbGV0ZSBmdWxsLmluc3Q7XG4gICAgZGVsZXRlIGZ1bGwuY29udGludWU7XG4gICAgaWYgKCFjdHg/LnJlcG9ydElucHV0KSB7XG4gICAgICAgIGRlbGV0ZSBmdWxsLmlucHV0O1xuICAgIH1cbiAgICByZXR1cm4gZnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaXphYmxlT3JpZ2luKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgU2V0KVxuICAgICAgICByZXR1cm4gXCJzZXRcIjtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBNYXApXG4gICAgICAgIHJldHVybiBcIm1hcFwiO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBGaWxlKVxuICAgICAgICByZXR1cm4gXCJmaWxlXCI7XG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExlbmd0aGFibGVPcmlnaW4oaW5wdXQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpXG4gICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzc3VlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbaXNzLCBpbnB1dCwgaW5zdF0gPSBhcmdzO1xuICAgIGlmICh0eXBlb2YgaXNzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBpc3MsXG4gICAgICAgICAgICBjb2RlOiBcImN1c3RvbVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyAuLi5pc3MgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbkVudW0ob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG9iailcbiAgICAgICAgLmZpbHRlcigoW2ssIF9dKSA9PiB7XG4gICAgICAgIC8vIHJldHVybiB0cnVlIGlmIE5hTiwgbWVhbmluZyBpdCdzIG5vdCBhIG51bWJlciwgdGh1cyBhIHN0cmluZyBrZXlcbiAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihOdW1iZXIucGFyc2VJbnQoaywgMTApKTtcbiAgICB9KVxuICAgICAgICAubWFwKChlbCkgPT4gZWxbMV0pO1xufVxuLy8gQ29kZWMgdXRpbGl0eSBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0KSB7XG4gICAgY29uc3QgYmluYXJ5U3RyaW5nID0gYXRvYihiYXNlNjQpO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYmluYXJ5U3RyaW5nLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnlTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVpbnQ4QXJyYXlUb0Jhc2U2NChieXRlcykge1xuICAgIGxldCBiaW5hcnlTdHJpbmcgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYmluYXJ5U3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYnRvYShiaW5hcnlTdHJpbmcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NHVybFRvVWludDhBcnJheShiYXNlNjR1cmwpIHtcbiAgICBjb25zdCBiYXNlNjQgPSBiYXNlNjR1cmwucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIik7XG4gICAgY29uc3QgcGFkZGluZyA9IFwiPVwiLnJlcGVhdCgoNCAtIChiYXNlNjQubGVuZ3RoICUgNCkpICUgNCk7XG4gICAgcmV0dXJuIGJhc2U2NFRvVWludDhBcnJheShiYXNlNjQgKyBwYWRkaW5nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1aW50OEFycmF5VG9CYXNlNjR1cmwoYnl0ZXMpIHtcbiAgICByZXR1cm4gdWludDhBcnJheVRvQmFzZTY0KGJ5dGVzKS5yZXBsYWNlKC9cXCsvZywgXCItXCIpLnJlcGxhY2UoL1xcLy9nLCBcIl9cIikucmVwbGFjZSgvPS9nLCBcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1VpbnQ4QXJyYXkoaGV4KSB7XG4gICAgY29uc3QgY2xlYW5IZXggPSBoZXgucmVwbGFjZSgvXjB4LywgXCJcIik7XG4gICAgaWYgKGNsZWFuSGV4Lmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nIGxlbmd0aFwiKTtcbiAgICB9XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShjbGVhbkhleC5sZW5ndGggLyAyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsZWFuSGV4Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGJ5dGVzW2kgLyAyXSA9IE51bWJlci5wYXJzZUludChjbGVhbkhleC5zbGljZShpLCBpICsgMiksIDE2KTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVpbnQ4QXJyYXlUb0hleChieXRlcykge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGJ5dGVzKVxuICAgICAgICAubWFwKChiKSA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpXG4gICAgICAgIC5qb2luKFwiXCIpO1xufVxuLy8gaW5zdGFuY2VvZlxuZXhwb3J0IGNsYXNzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5fYXJncykgeyB9XG59XG4iLCAiaW1wb3J0IHsgJGNvbnN0cnVjdG9yIH0gZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5jb25zdCBpbml0aWFsaXplciA9IChpbnN0LCBkZWYpID0+IHtcbiAgICBpbnN0Lm5hbWUgPSBcIiRab2RFcnJvclwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcIl96b2RcIiwge1xuICAgICAgICB2YWx1ZTogaW5zdC5fem9kLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJpc3N1ZXNcIiwge1xuICAgICAgICB2YWx1ZTogZGVmLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9KTtcbiAgICBpbnN0Lm1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShkZWYsIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyLCAyKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJ0b1N0cmluZ1wiLCB7XG4gICAgICAgIHZhbHVlOiAoKSA9PiBpbnN0Lm1lc3NhZ2UsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCAkWm9kRXJyb3IgPSAkY29uc3RydWN0b3IoXCIkWm9kRXJyb3JcIiwgaW5pdGlhbGl6ZXIpO1xuZXhwb3J0IGNvbnN0ICRab2RSZWFsRXJyb3IgPSAkY29uc3RydWN0b3IoXCIkWm9kRXJyb3JcIiwgaW5pdGlhbGl6ZXIsIHsgUGFyZW50OiBFcnJvciB9KTtcbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuRXJyb3IoZXJyb3IsIG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgIGNvbnN0IGZpZWxkRXJyb3JzID0ge307XG4gICAgY29uc3QgZm9ybUVycm9ycyA9IFtdO1xuICAgIGZvciAoY29uc3Qgc3ViIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICBpZiAoc3ViLnBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dID0gZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dIHx8IFtdO1xuICAgICAgICAgICAgZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEVycm9yKGVycm9yLCBfbWFwcGVyKSB7XG4gICAgY29uc3QgbWFwcGVyID0gX21hcHBlciB8fFxuICAgICAgICBmdW5jdGlvbiAoaXNzdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpc3N1ZS5tZXNzYWdlO1xuICAgICAgICB9O1xuICAgIGNvbnN0IGZpZWxkRXJyb3JzID0geyBfZXJyb3JzOiBbXSB9O1xuICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiICYmIGlzc3VlLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpc3N1ZS5lcnJvcnMubWFwKChpc3N1ZXMpID0+IHByb2Nlc3NFcnJvcih7IGlzc3VlcyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfa2V5XCIpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoeyBpc3N1ZXM6IGlzc3VlLmlzc3VlcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9lbGVtZW50XCIpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoeyBpc3N1ZXM6IGlzc3VlLmlzc3VlcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBpc3N1ZS5wYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGlzc3VlLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gaSA9PT0gaXNzdWUucGF0aC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0uX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyW2VsXTtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcHJvY2Vzc0Vycm9yKGVycm9yKTtcbiAgICByZXR1cm4gZmllbGRFcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJlZWlmeUVycm9yKGVycm9yLCBfbWFwcGVyKSB7XG4gICAgY29uc3QgbWFwcGVyID0gX21hcHBlciB8fFxuICAgICAgICBmdW5jdGlvbiAoaXNzdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpc3N1ZS5tZXNzYWdlO1xuICAgICAgICB9O1xuICAgIGNvbnN0IHJlc3VsdCA9IHsgZXJyb3JzOiBbXSB9O1xuICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvciwgcGF0aCA9IFtdKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGZvciAoY29uc3QgaXNzdWUgb2YgZXJyb3IuaXNzdWVzKSB7XG4gICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIgJiYgaXNzdWUuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIHJlZ3VsYXIgdW5pb24gZXJyb3JcbiAgICAgICAgICAgICAgICBpc3N1ZS5lcnJvcnMubWFwKChpc3N1ZXMpID0+IHByb2Nlc3NFcnJvcih7IGlzc3VlcyB9LCBpc3N1ZS5wYXRoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfa2V5XCIpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoeyBpc3N1ZXM6IGlzc3VlLmlzc3VlcyB9LCBpc3N1ZS5wYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9lbGVtZW50XCIpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoeyBpc3N1ZXM6IGlzc3VlLmlzc3VlcyB9LCBpc3N1ZS5wYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxwYXRoID0gWy4uLnBhdGgsIC4uLmlzc3VlLnBhdGhdO1xuICAgICAgICAgICAgICAgIGlmIChmdWxscGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmVycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGN1cnIgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgZnVsbHBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gZnVsbHBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gaSA9PT0gZnVsbHBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyci5wcm9wZXJ0aWVzID8/IChjdXJyLnByb3BlcnRpZXMgPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBjdXJyLnByb3BlcnRpZXMpW2VsXSA/PyAoX2FbZWxdID0geyBlcnJvcnM6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnIucHJvcGVydGllc1tlbF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyLml0ZW1zID8/IChjdXJyLml0ZW1zID0gW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0gY3Vyci5pdGVtcylbZWxdID8/IChfYltlbF0gPSB7IGVycm9yczogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3Vyci5pdGVtc1tlbF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyLmVycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHByb2Nlc3NFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKiBGb3JtYXQgYSBab2RFcnJvciBhcyBhIGh1bWFuLXJlYWRhYmxlIHN0cmluZyBpbiB0aGUgZm9sbG93aW5nIGZvcm0uXG4gKlxuICogRnJvbVxuICpcbiAqIGBgYHRzXG4gKiBab2RFcnJvciB7XG4gKiAgIGlzc3VlczogW1xuICogICAgIHtcbiAqICAgICAgIGV4cGVjdGVkOiAnc3RyaW5nJyxcbiAqICAgICAgIGNvZGU6ICdpbnZhbGlkX3R5cGUnLFxuICogICAgICAgcGF0aDogWyAndXNlcm5hbWUnIF0sXG4gKiAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgc3RyaW5nJ1xuICogICAgIH0sXG4gKiAgICAge1xuICogICAgICAgZXhwZWN0ZWQ6ICdudW1iZXInLFxuICogICAgICAgY29kZTogJ2ludmFsaWRfdHlwZScsXG4gKiAgICAgICBwYXRoOiBbICdmYXZvcml0ZU51bWJlcnMnLCAxIF0sXG4gKiAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgbnVtYmVyJ1xuICogICAgIH1cbiAqICAgXTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIHRvXG4gKlxuICogYGBgXG4gKiB1c2VybmFtZVxuICogICBcdTI3MTYgRXhwZWN0ZWQgbnVtYmVyLCByZWNlaXZlZCBzdHJpbmcgYXQgXCJ1c2VybmFtZVxuICogZmF2b3JpdGVOdW1iZXJzWzBdXG4gKiAgIFx1MjcxNiBJbnZhbGlkIGlucHV0OiBleHBlY3RlZCBudW1iZXJcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Eb3RQYXRoKF9wYXRoKSB7XG4gICAgY29uc3Qgc2VncyA9IFtdO1xuICAgIGNvbnN0IHBhdGggPSBfcGF0aC5tYXAoKHNlZykgPT4gKHR5cGVvZiBzZWcgPT09IFwib2JqZWN0XCIgPyBzZWcua2V5IDogc2VnKSk7XG4gICAgZm9yIChjb25zdCBzZWcgb2YgcGF0aCkge1xuICAgICAgICBpZiAodHlwZW9mIHNlZyA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIHNlZ3MucHVzaChgWyR7c2VnfV1gKTtcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHNlZyA9PT0gXCJzeW1ib2xcIilcbiAgICAgICAgICAgIHNlZ3MucHVzaChgWyR7SlNPTi5zdHJpbmdpZnkoU3RyaW5nKHNlZykpfV1gKTtcbiAgICAgICAgZWxzZSBpZiAoL1teXFx3JF0vLnRlc3Qoc2VnKSlcbiAgICAgICAgICAgIHNlZ3MucHVzaChgWyR7SlNPTi5zdHJpbmdpZnkoc2VnKX1dYCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNlZ3MubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHNlZ3MucHVzaChcIi5cIik7XG4gICAgICAgICAgICBzZWdzLnB1c2goc2VnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2Vncy5qb2luKFwiXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHByZXR0aWZ5RXJyb3IoZXJyb3IpIHtcbiAgICBjb25zdCBsaW5lcyA9IFtdO1xuICAgIC8vIHNvcnQgYnkgcGF0aCBsZW5ndGhcbiAgICBjb25zdCBpc3N1ZXMgPSBbLi4uZXJyb3IuaXNzdWVzXS5zb3J0KChhLCBiKSA9PiAoYS5wYXRoID8/IFtdKS5sZW5ndGggLSAoYi5wYXRoID8/IFtdKS5sZW5ndGgpO1xuICAgIC8vIFByb2Nlc3MgZWFjaCBpc3N1ZVxuICAgIGZvciAoY29uc3QgaXNzdWUgb2YgaXNzdWVzKSB7XG4gICAgICAgIGxpbmVzLnB1c2goYFx1MjcxNiAke2lzc3VlLm1lc3NhZ2V9YCk7XG4gICAgICAgIGlmIChpc3N1ZS5wYXRoPy5sZW5ndGgpXG4gICAgICAgICAgICBsaW5lcy5wdXNoKGAgIFx1MjE5MiBhdCAke3RvRG90UGF0aChpc3N1ZS5wYXRoKX1gKTtcbiAgICB9XG4gICAgLy8gQ29udmVydCBNYXAgdG8gZm9ybWF0dGVkIHN0cmluZ1xuICAgIHJldHVybiBsaW5lcy5qb2luKFwiXFxuXCIpO1xufVxuIiwgImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0ICogYXMgZXJyb3JzIGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgX3BhcnNlID0gKF9FcnIpID0+IChzY2hlbWEsIHZhbHVlLCBfY3R4LCBfcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgY3R4ID0gX2N0eCA/IE9iamVjdC5hc3NpZ24oX2N0eCwgeyBhc3luYzogZmFsc2UgfSkgOiB7IGFzeW5jOiBmYWxzZSB9O1xuICAgIGNvbnN0IHJlc3VsdCA9IHNjaGVtYS5fem9kLnJ1bih7IHZhbHVlLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEFzeW5jRXJyb3IoKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgKF9wYXJhbXM/LkVyciA/PyBfRXJyKShyZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSk7XG4gICAgICAgIHV0aWwuY2FwdHVyZVN0YWNrVHJhY2UoZSwgX3BhcmFtcz8uY2FsbGVlKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbn07XG5leHBvcnQgY29uc3QgcGFyc2UgPSAvKiBAX19QVVJFX18qLyBfcGFyc2UoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9wYXJzZUFzeW5jID0gKF9FcnIpID0+IGFzeW5jIChzY2hlbWEsIHZhbHVlLCBfY3R4LCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7IGFzeW5jOiB0cnVlIH0pIDogeyBhc3luYzogdHJ1ZSB9O1xuICAgIGxldCByZXN1bHQgPSBzY2hlbWEuX3pvZC5ydW4oeyB2YWx1ZSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICByZXN1bHQgPSBhd2FpdCByZXN1bHQ7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgKHBhcmFtcz8uRXJyID8/IF9FcnIpKHJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpKTtcbiAgICAgICAgdXRpbC5jYXB0dXJlU3RhY2tUcmFjZShlLCBwYXJhbXM/LmNhbGxlZSk7XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQudmFsdWU7XG59O1xuZXhwb3J0IGNvbnN0IHBhcnNlQXN5bmMgPSAvKiBAX19QVVJFX18qLyBfcGFyc2VBc3luYyhlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX3NhZmVQYXJzZSA9IChfRXJyKSA9PiAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPyB7IC4uLl9jdHgsIGFzeW5jOiBmYWxzZSB9IDogeyBhc3luYzogZmFsc2UgfTtcbiAgICBjb25zdCByZXN1bHQgPSBzY2hlbWEuX3pvZC5ydW4oeyB2YWx1ZSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RBc3luY0Vycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQuaXNzdWVzLmxlbmd0aFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IG5ldyAoX0VyciA/PyBlcnJvcnMuJFpvZEVycm9yKShyZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSksXG4gICAgICAgIH1cbiAgICAgICAgOiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC52YWx1ZSB9O1xufTtcbmV4cG9ydCBjb25zdCBzYWZlUGFyc2UgPSAvKiBAX19QVVJFX18qLyBfc2FmZVBhcnNlKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfc2FmZVBhcnNlQXN5bmMgPSAoX0VycikgPT4gYXN5bmMgKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7IGFzeW5jOiB0cnVlIH0pIDogeyBhc3luYzogdHJ1ZSB9O1xuICAgIGxldCByZXN1bHQgPSBzY2hlbWEuX3pvZC5ydW4oeyB2YWx1ZSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICByZXN1bHQgPSBhd2FpdCByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdC5pc3N1ZXMubGVuZ3RoXG4gICAgICAgID8ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogbmV3IF9FcnIocmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSkpLFxuICAgICAgICB9XG4gICAgICAgIDogeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQudmFsdWUgfTtcbn07XG5leHBvcnQgY29uc3Qgc2FmZVBhcnNlQXN5bmMgPSAvKiBAX19QVVJFX18qLyBfc2FmZVBhcnNlQXN5bmMoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9lbmNvZGUgPSAoX0VycikgPT4gKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH0pIDogeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9O1xuICAgIHJldHVybiBfcGFyc2UoX0Vycikoc2NoZW1hLCB2YWx1ZSwgY3R4KTtcbn07XG5leHBvcnQgY29uc3QgZW5jb2RlID0gLyogQF9fUFVSRV9fKi8gX2VuY29kZShlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX2RlY29kZSA9IChfRXJyKSA9PiAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIHJldHVybiBfcGFyc2UoX0Vycikoc2NoZW1hLCB2YWx1ZSwgX2N0eCk7XG59O1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IC8qIEBfX1BVUkVfXyovIF9kZWNvZGUoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9lbmNvZGVBc3luYyA9IChfRXJyKSA9PiBhc3luYyAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHsgZGlyZWN0aW9uOiBcImJhY2t3YXJkXCIgfSkgOiB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH07XG4gICAgcmV0dXJuIF9wYXJzZUFzeW5jKF9FcnIpKHNjaGVtYSwgdmFsdWUsIGN0eCk7XG59O1xuZXhwb3J0IGNvbnN0IGVuY29kZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX2VuY29kZUFzeW5jKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfZGVjb2RlQXN5bmMgPSAoX0VycikgPT4gYXN5bmMgKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICByZXR1cm4gX3BhcnNlQXN5bmMoX0Vycikoc2NoZW1hLCB2YWx1ZSwgX2N0eCk7XG59O1xuZXhwb3J0IGNvbnN0IGRlY29kZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX2RlY29kZUFzeW5jKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfc2FmZUVuY29kZSA9IChfRXJyKSA9PiAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHsgZGlyZWN0aW9uOiBcImJhY2t3YXJkXCIgfSkgOiB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH07XG4gICAgcmV0dXJuIF9zYWZlUGFyc2UoX0Vycikoc2NoZW1hLCB2YWx1ZSwgY3R4KTtcbn07XG5leHBvcnQgY29uc3Qgc2FmZUVuY29kZSA9IC8qIEBfX1BVUkVfXyovIF9zYWZlRW5jb2RlKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfc2FmZURlY29kZSA9IChfRXJyKSA9PiAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIHJldHVybiBfc2FmZVBhcnNlKF9FcnIpKHNjaGVtYSwgdmFsdWUsIF9jdHgpO1xufTtcbmV4cG9ydCBjb25zdCBzYWZlRGVjb2RlID0gLyogQF9fUFVSRV9fKi8gX3NhZmVEZWNvZGUoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlRW5jb2RlQXN5bmMgPSAoX0VycikgPT4gYXN5bmMgKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH0pIDogeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9O1xuICAgIHJldHVybiBfc2FmZVBhcnNlQXN5bmMoX0Vycikoc2NoZW1hLCB2YWx1ZSwgY3R4KTtcbn07XG5leHBvcnQgY29uc3Qgc2FmZUVuY29kZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX3NhZmVFbmNvZGVBc3luYyhlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX3NhZmVEZWNvZGVBc3luYyA9IChfRXJyKSA9PiBhc3luYyAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIHJldHVybiBfc2FmZVBhcnNlQXN5bmMoX0Vycikoc2NoZW1hLCB2YWx1ZSwgX2N0eCk7XG59O1xuZXhwb3J0IGNvbnN0IHNhZmVEZWNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyovIF9zYWZlRGVjb2RlQXN5bmMoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuIiwgImV4cG9ydCBjb25zdCBjdWlkID0gL15bY0NdW15cXHMtXXs4LH0kLztcbmV4cG9ydCBjb25zdCBjdWlkMiA9IC9eWzAtOWEtel0rJC87XG5leHBvcnQgY29uc3QgdWxpZCA9IC9eWzAtOUEtSEpLTU5QLVRWLVphLWhqa21ucC10di16XXsyNn0kLztcbmV4cG9ydCBjb25zdCB4aWQgPSAvXlswLTlhLXZBLVZdezIwfSQvO1xuZXhwb3J0IGNvbnN0IGtzdWlkID0gL15bQS1aYS16MC05XXsyN30kLztcbmV4cG9ydCBjb25zdCBuYW5vaWQgPSAvXlthLXpBLVowLTlfLV17MjF9JC87XG4vKiogSVNPIDg2MDEtMSBkdXJhdGlvbiByZWdleC4gRG9lcyBub3Qgc3VwcG9ydCB0aGUgODYwMS0yIGV4dGVuc2lvbnMgbGlrZSBuZWdhdGl2ZSBkdXJhdGlvbnMgb3IgZnJhY3Rpb25hbC9uZWdhdGl2ZSBjb21wb25lbnRzLiAqL1xuZXhwb3J0IGNvbnN0IGR1cmF0aW9uID0gL15QKD86KFxcZCtXKXwoPyEuKlcpKD89XFxkfFRcXGQpKFxcZCtZKT8oXFxkK00pPyhcXGQrRCk/KFQoPz1cXGQpKFxcZCtIKT8oXFxkK00pPyhcXGQrKFsuLF1cXGQrKT9TKT8pPykkLztcbi8qKiBJbXBsZW1lbnRzIElTTyA4NjAxLTIgZXh0ZW5zaW9ucyBsaWtlIGV4cGxpY2l0ICstIHByZWZpeGVzLCBtaXhpbmcgd2Vla3Mgd2l0aCBvdGhlciB1bml0cywgYW5kIGZyYWN0aW9uYWwvbmVnYXRpdmUgY29tcG9uZW50cy4gKi9cbmV4cG9ydCBjb25zdCBleHRlbmRlZER1cmF0aW9uID0gL15bLStdP1AoPyEkKSg/Oig/OlstK10/XFxkK1kpfCg/OlstK10/XFxkK1suLF1cXGQrWSQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86KD86Wy0rXT9cXGQrVyl8KD86Wy0rXT9cXGQrWy4sXVxcZCtXJCkpPyg/Oig/OlstK10/XFxkK0QpfCg/OlstK10/XFxkK1suLF1cXGQrRCQpKT8oPzpUKD89W1xcZCstXSkoPzooPzpbLStdP1xcZCtIKXwoPzpbLStdP1xcZCtbLixdXFxkK0gkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/OlstK10/XFxkKyg/OlsuLF1cXGQrKT9TKT8pPz8kLztcbi8qKiBBIHJlZ2V4IGZvciBhbnkgVVVJRC1saWtlIGlkZW50aWZpZXI6IDgtNC00LTQtMTIgaGV4IHBhdHRlcm4gKi9cbmV4cG9ydCBjb25zdCBndWlkID0gL14oWzAtOWEtZkEtRl17OH0tWzAtOWEtZkEtRl17NH0tWzAtOWEtZkEtRl17NH0tWzAtOWEtZkEtRl17NH0tWzAtOWEtZkEtRl17MTJ9KSQvO1xuLyoqIFJldHVybnMgYSByZWdleCBmb3IgdmFsaWRhdGluZyBhbiBSRkMgOTU2Mi80MTIyIFVVSUQuXG4gKlxuICogQHBhcmFtIHZlcnNpb24gT3B0aW9uYWxseSBzcGVjaWZ5IGEgdmVyc2lvbiAxLTguIElmIG5vIHZlcnNpb24gaXMgc3BlY2lmaWVkLCBhbGwgdmVyc2lvbnMgYXJlIHN1cHBvcnRlZC4gKi9cbmV4cG9ydCBjb25zdCB1dWlkID0gKHZlcnNpb24pID0+IHtcbiAgICBpZiAoIXZlcnNpb24pXG4gICAgICAgIHJldHVybiAvXihbMC05YS1mQS1GXXs4fS1bMC05YS1mQS1GXXs0fS1bMS04XVswLTlhLWZBLUZdezN9LVs4OWFiQUJdWzAtOWEtZkEtRl17M30tWzAtOWEtZkEtRl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMHxmZmZmZmZmZi1mZmZmLWZmZmYtZmZmZi1mZmZmZmZmZmZmZmYpJC87XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4oWzAtOWEtZkEtRl17OH0tWzAtOWEtZkEtRl17NH0tJHt2ZXJzaW9ufVswLTlhLWZBLUZdezN9LVs4OWFiQUJdWzAtOWEtZkEtRl17M30tWzAtOWEtZkEtRl17MTJ9KSRgKTtcbn07XG5leHBvcnQgY29uc3QgdXVpZDQgPSAvKkBfX1BVUkVfXyovIHV1aWQoNCk7XG5leHBvcnQgY29uc3QgdXVpZDYgPSAvKkBfX1BVUkVfXyovIHV1aWQoNik7XG5leHBvcnQgY29uc3QgdXVpZDcgPSAvKkBfX1BVUkVfXyovIHV1aWQoNyk7XG4vKiogUHJhY3RpY2FsIGVtYWlsIHZhbGlkYXRpb24gKi9cbmV4cG9ydCBjb25zdCBlbWFpbCA9IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbQS1aYS16MC05XycrXFwtXFwuXSopW0EtWmEtejAtOV8rLV1AKFtBLVphLXowLTldW0EtWmEtejAtOVxcLV0qXFwuKStbQS1aYS16XXsyLH0kLztcbi8qKiBFcXVpdmFsZW50IHRvIHRoZSBIVE1MNSBpbnB1dFt0eXBlPWVtYWlsXSB2YWxpZGF0aW9uIGltcGxlbWVudGVkIGJ5IGJyb3dzZXJzLiBTb3VyY2U6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudC9pbnB1dC9lbWFpbCAqL1xuZXhwb3J0IGNvbnN0IGh0bWw1RW1haWwgPSAvXlthLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC87XG4vKiogVGhlIGNsYXNzaWMgZW1haWxyZWdleC5jb20gcmVnZXggZm9yIFJGQyA1MzIyLWNvbXBsaWFudCBlbWFpbHMgKi9cbmV4cG9ydCBjb25zdCByZmM1MzIyRW1haWwgPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbi8qKiBBIGxvb3NlIHJlZ2V4IHRoYXQgYWxsb3dzIFVuaWNvZGUgY2hhcmFjdGVycywgZW5mb3JjZXMgbGVuZ3RoIGxpbWl0cywgYW5kIHRoYXQncyBhYm91dCBpdC4gKi9cbmV4cG9ydCBjb25zdCB1bmljb2RlRW1haWwgPSAvXlteXFxzQFwiXXsxLDY0fUBbXlxcc0BdezEsMjU1fSQvdTtcbmV4cG9ydCBjb25zdCBpZG5FbWFpbCA9IHVuaWNvZGVFbWFpbDtcbmV4cG9ydCBjb25zdCBicm93c2VyRW1haWwgPSAvXlthLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC87XG4vLyBmcm9tIGh0dHBzOi8vdGhla2V2aW5zY290dC5jb20vZW1vamlzLWluLWphdmFzY3JpcHQvI3dyaXRpbmctYS1yZWd1bGFyLWV4cHJlc3Npb25cbmNvbnN0IF9lbW9qaSA9IGBeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJGA7XG5leHBvcnQgZnVuY3Rpb24gZW1vamkoKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoX2Vtb2ppLCBcInVcIik7XG59XG5leHBvcnQgY29uc3QgaXB2NCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pJC87XG5leHBvcnQgY29uc3QgaXB2NiA9IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7N31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318OikpJC87XG5leHBvcnQgY29uc3QgY2lkcnY0ID0gL14oKDI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KDI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC8oWzAtOV18WzEtMl1bMC05XXwzWzAtMl0pJC87XG5leHBvcnQgY29uc3QgY2lkcnY2ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3fVswLTlhLWZBLUZdezEsNH18Ojp8KFswLTlhLWZBLUZdezEsNH0pPzo6KFswLTlhLWZBLUZdezEsNH06Pyl7MCw2fSlcXC8oMTJbMC04XXwxWzAxXVswLTldfFsxLTldP1swLTldKSQvO1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg2MDM5Mi9kZXRlcm1pbmUtaWYtc3RyaW5nLWlzLWluLWJhc2U2NC11c2luZy1qYXZhc2NyaXB0XG5leHBvcnQgY29uc3QgYmFzZTY0ID0gL14kfF4oPzpbMC05YS16QS1aKy9dezR9KSooPzooPzpbMC05YS16QS1aKy9dezJ9PT0pfCg/OlswLTlhLXpBLVorL117M309KSk/JC87XG5leHBvcnQgY29uc3QgYmFzZTY0dXJsID0gL15bQS1aYS16MC05Xy1dKiQvO1xuLy8gYmFzZWQgb24gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA2MTc5L3JlZ3VsYXItZXhwcmVzc2lvbi10by1tYXRjaC1kbnMtaG9zdG5hbWUtb3ItaXAtYWRkcmVzc1xuLy8gZXhwb3J0IGNvbnN0IGhvc3RuYW1lOiBSZWdFeHAgPSAvXihbYS16QS1aMC05LV0rXFwuKSpbYS16QS1aMC05LV0rJC87XG5leHBvcnQgY29uc3QgaG9zdG5hbWUgPSAvXig/PS57MSwyNTN9XFwuPyQpW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbLTAtOWEtekEtWl17MCw2MX1bMC05YS16QS1aXSk/KSpcXC4/JC87XG5leHBvcnQgY29uc3QgZG9tYWluID0gL14oW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/XFwuKStbYS16QS1aXXsyLH0kLztcbi8vIGh0dHBzOi8vYmxvZy5zdGV2ZW5sZXZpdGhhbi5jb20vYXJjaGl2ZXMvdmFsaWRhdGUtcGhvbmUtbnVtYmVyI3I0LTMgKHJlZ2V4IHNhbnMgc3BhY2VzKVxuZXhwb3J0IGNvbnN0IGUxNjQgPSAvXlxcKyg/OlswLTldKXs2LDE0fVswLTldJC87XG4vLyBjb25zdCBkYXRlU291cmNlID0gYCgoXFxcXGRcXFxcZFsyNDY4XVswNDhdfFxcXFxkXFxcXGRbMTM1NzldWzI2XXxcXFxcZFxcXFxkMFs0OF18WzAyNDY4XVswNDhdMDB8WzEzNTc5XVsyNl0wMCktMDItMjl8XFxcXGR7NH0tKCgwWzEzNTc4XXwxWzAyXSktKDBbMS05XXxbMTJdXFxcXGR8M1swMV0pfCgwWzQ2OV18MTEpLSgwWzEtOV18WzEyXVxcXFxkfDMwKXwoMDIpLSgwWzEtOV18MVxcXFxkfDJbMC04XSkpKWA7XG5jb25zdCBkYXRlU291cmNlID0gYCg/Oig/OlxcXFxkXFxcXGRbMjQ2OF1bMDQ4XXxcXFxcZFxcXFxkWzEzNTc5XVsyNl18XFxcXGRcXFxcZDBbNDhdfFswMjQ2OF1bMDQ4XTAwfFsxMzU3OV1bMjZdMDApLTAyLTI5fFxcXFxkezR9LSg/Oig/OjBbMTM1NzhdfDFbMDJdKS0oPzowWzEtOV18WzEyXVxcXFxkfDNbMDFdKXwoPzowWzQ2OV18MTEpLSg/OjBbMS05XXxbMTJdXFxcXGR8MzApfCg/OjAyKS0oPzowWzEtOV18MVxcXFxkfDJbMC04XSkpKWA7XG5leHBvcnQgY29uc3QgZGF0ZSA9IC8qQF9fUFVSRV9fKi8gbmV3IFJlZ0V4cChgXiR7ZGF0ZVNvdXJjZX0kYCk7XG5mdW5jdGlvbiB0aW1lU291cmNlKGFyZ3MpIHtcbiAgICBjb25zdCBoaG1tID0gYCg/OlswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGRgO1xuICAgIGNvbnN0IHJlZ2V4ID0gdHlwZW9mIGFyZ3MucHJlY2lzaW9uID09PSBcIm51bWJlclwiXG4gICAgICAgID8gYXJncy5wcmVjaXNpb24gPT09IC0xXG4gICAgICAgICAgICA/IGAke2hobW19YFxuICAgICAgICAgICAgOiBhcmdzLnByZWNpc2lvbiA9PT0gMFxuICAgICAgICAgICAgICAgID8gYCR7aGhtbX06WzAtNV1cXFxcZGBcbiAgICAgICAgICAgICAgICA6IGAke2hobW19OlswLTVdXFxcXGRcXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fWBcbiAgICAgICAgOiBgJHtoaG1tfSg/OjpbMC01XVxcXFxkKD86XFxcXC5cXFxcZCspPyk/YDtcbiAgICByZXR1cm4gcmVnZXg7XG59XG5leHBvcnQgZnVuY3Rpb24gdGltZShhcmdzKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RpbWVTb3VyY2UoYXJncyl9JGApO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5leHBvcnQgZnVuY3Rpb24gZGF0ZXRpbWUoYXJncykge1xuICAgIGNvbnN0IHRpbWUgPSB0aW1lU291cmNlKHsgcHJlY2lzaW9uOiBhcmdzLnByZWNpc2lvbiB9KTtcbiAgICBjb25zdCBvcHRzID0gW1wiWlwiXTtcbiAgICBpZiAoYXJncy5sb2NhbClcbiAgICAgICAgb3B0cy5wdXNoKFwiXCIpO1xuICAgIC8vIGlmIChhcmdzLm9mZnNldCkgb3B0cy5wdXNoKGAoWystXVxcXFxkezJ9OlxcXFxkezJ9KWApO1xuICAgIGlmIChhcmdzLm9mZnNldClcbiAgICAgICAgb3B0cy5wdXNoKGAoWystXSg/OlswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGQpYCk7XG4gICAgY29uc3QgdGltZVJlZ2V4ID0gYCR7dGltZX0oPzoke29wdHMuam9pbihcInxcIil9KWA7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke2RhdGVTb3VyY2V9VCg/OiR7dGltZVJlZ2V4fSkkYCk7XG59XG5leHBvcnQgY29uc3Qgc3RyaW5nID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHJlZ2V4ID0gcGFyYW1zID8gYFtcXFxcc1xcXFxTXXske3BhcmFtcz8ubWluaW11bSA/PyAwfSwke3BhcmFtcz8ubWF4aW11bSA/PyBcIlwifX1gIDogYFtcXFxcc1xcXFxTXSpgO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHtyZWdleH0kYCk7XG59O1xuZXhwb3J0IGNvbnN0IGJpZ2ludCA9IC9eLT9cXGQrbj8kLztcbmV4cG9ydCBjb25zdCBpbnRlZ2VyID0gL14tP1xcZCskLztcbmV4cG9ydCBjb25zdCBudW1iZXIgPSAvXi0/XFxkKyg/OlxcLlxcZCspPy87XG5leHBvcnQgY29uc3QgYm9vbGVhbiA9IC9eKD86dHJ1ZXxmYWxzZSkkL2k7XG5jb25zdCBfbnVsbCA9IC9ebnVsbCQvaTtcbmV4cG9ydCB7IF9udWxsIGFzIG51bGwgfTtcbmNvbnN0IF91bmRlZmluZWQgPSAvXnVuZGVmaW5lZCQvaTtcbmV4cG9ydCB7IF91bmRlZmluZWQgYXMgdW5kZWZpbmVkIH07XG4vLyByZWdleCBmb3Igc3RyaW5nIHdpdGggbm8gdXBwZXJjYXNlIGxldHRlcnNcbmV4cG9ydCBjb25zdCBsb3dlcmNhc2UgPSAvXlteQS1aXSokLztcbi8vIHJlZ2V4IGZvciBzdHJpbmcgd2l0aCBubyBsb3dlcmNhc2UgbGV0dGVyc1xuZXhwb3J0IGNvbnN0IHVwcGVyY2FzZSA9IC9eW15hLXpdKiQvO1xuLy8gcmVnZXggZm9yIGhleGFkZWNpbWFsIHN0cmluZ3MgKGFueSBsZW5ndGgpXG5leHBvcnQgY29uc3QgaGV4ID0gL15bMC05YS1mQS1GXSokLztcbi8vIEhhc2ggcmVnZXhlcyBmb3IgZGlmZmVyZW50IGFsZ29yaXRobXMgYW5kIGVuY29kaW5nc1xuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBiYXNlNjQgcmVnZXggd2l0aCBleGFjdCBsZW5ndGggYW5kIHBhZGRpbmdcbmZ1bmN0aW9uIGZpeGVkQmFzZTY0KGJvZHlMZW5ndGgsIHBhZGRpbmcpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXltBLVphLXowLTkrL117JHtib2R5TGVuZ3RofX0ke3BhZGRpbmd9JGApO1xufVxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBiYXNlNjR1cmwgcmVnZXggd2l0aCBleGFjdCBsZW5ndGggKG5vIHBhZGRpbmcpXG5mdW5jdGlvbiBmaXhlZEJhc2U2NHVybChsZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXltBLVphLXowLTlfLV17JHtsZW5ndGh9fSRgKTtcbn1cbi8vIE1ENSAoMTYgYnl0ZXMpOiBiYXNlNjQgPSAyNCBjaGFycyB0b3RhbCAoMjIgKyBcIj09XCIpXG5leHBvcnQgY29uc3QgbWQ1X2hleCA9IC9eWzAtOWEtZkEtRl17MzJ9JC87XG5leHBvcnQgY29uc3QgbWQ1X2Jhc2U2NCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjQoMjIsIFwiPT1cIik7XG5leHBvcnQgY29uc3QgbWQ1X2Jhc2U2NHVybCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjR1cmwoMjIpO1xuLy8gU0hBMSAoMjAgYnl0ZXMpOiBiYXNlNjQgPSAyOCBjaGFycyB0b3RhbCAoMjcgKyBcIj1cIilcbmV4cG9ydCBjb25zdCBzaGExX2hleCA9IC9eWzAtOWEtZkEtRl17NDB9JC87XG5leHBvcnQgY29uc3Qgc2hhMV9iYXNlNjQgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0KDI3LCBcIj1cIik7XG5leHBvcnQgY29uc3Qgc2hhMV9iYXNlNjR1cmwgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0dXJsKDI3KTtcbi8vIFNIQTI1NiAoMzIgYnl0ZXMpOiBiYXNlNjQgPSA0NCBjaGFycyB0b3RhbCAoNDMgKyBcIj1cIilcbmV4cG9ydCBjb25zdCBzaGEyNTZfaGV4ID0gL15bMC05YS1mQS1GXXs2NH0kLztcbmV4cG9ydCBjb25zdCBzaGEyNTZfYmFzZTY0ID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NCg0MywgXCI9XCIpO1xuZXhwb3J0IGNvbnN0IHNoYTI1Nl9iYXNlNjR1cmwgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0dXJsKDQzKTtcbi8vIFNIQTM4NCAoNDggYnl0ZXMpOiBiYXNlNjQgPSA2NCBjaGFycyB0b3RhbCAobm8gcGFkZGluZylcbmV4cG9ydCBjb25zdCBzaGEzODRfaGV4ID0gL15bMC05YS1mQS1GXXs5Nn0kLztcbmV4cG9ydCBjb25zdCBzaGEzODRfYmFzZTY0ID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NCg2NCwgXCJcIik7XG5leHBvcnQgY29uc3Qgc2hhMzg0X2Jhc2U2NHVybCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjR1cmwoNjQpO1xuLy8gU0hBNTEyICg2NCBieXRlcyk6IGJhc2U2NCA9IDg4IGNoYXJzIHRvdGFsICg4NiArIFwiPT1cIilcbmV4cG9ydCBjb25zdCBzaGE1MTJfaGV4ID0gL15bMC05YS1mQS1GXXsxMjh9JC87XG5leHBvcnQgY29uc3Qgc2hhNTEyX2Jhc2U2NCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjQoODYsIFwiPT1cIik7XG5leHBvcnQgY29uc3Qgc2hhNTEyX2Jhc2U2NHVybCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjR1cmwoODYpO1xuIiwgIi8vIGltcG9ydCB7ICRab2RUeXBlIH0gZnJvbSBcIi4vc2NoZW1hcy5qc1wiO1xuaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgKiBhcyByZWdleGVzIGZyb20gXCIuL3JlZ2V4ZXMuanNcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVjayA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpbnN0Ll96b2QgPz8gKGluc3QuX3pvZCA9IHt9KTtcbiAgICBpbnN0Ll96b2QuZGVmID0gZGVmO1xuICAgIChfYSA9IGluc3QuX3pvZCkub25hdHRhY2ggPz8gKF9hLm9uYXR0YWNoID0gW10pO1xufSk7XG5jb25zdCBudW1lcmljT3JpZ2luTWFwID0ge1xuICAgIG51bWJlcjogXCJudW1iZXJcIixcbiAgICBiaWdpbnQ6IFwiYmlnaW50XCIsXG4gICAgb2JqZWN0OiBcImRhdGVcIixcbn07XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTGVzc1RoYW4gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTGVzc1RoYW5cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3Qgb3JpZ2luID0gbnVtZXJpY09yaWdpbk1hcFt0eXBlb2YgZGVmLnZhbHVlXTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBjb25zdCBjdXJyID0gKGRlZi5pbmNsdXNpdmUgPyBiYWcubWF4aW11bSA6IGJhZy5leGNsdXNpdmVNYXhpbXVtKSA/PyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIGlmIChkZWYudmFsdWUgPCBjdXJyKSB7XG4gICAgICAgICAgICBpZiAoZGVmLmluY2x1c2l2ZSlcbiAgICAgICAgICAgICAgICBiYWcubWF4aW11bSA9IGRlZi52YWx1ZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBiYWcuZXhjbHVzaXZlTWF4aW11bSA9IGRlZi52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChkZWYuaW5jbHVzaXZlID8gcGF5bG9hZC52YWx1ZSA8PSBkZWYudmFsdWUgOiBwYXlsb2FkLnZhbHVlIDwgZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICBjb2RlOiBcInRvb19iaWdcIixcbiAgICAgICAgICAgIG1heGltdW06IGRlZi52YWx1ZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBkZWYuaW5jbHVzaXZlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrR3JlYXRlclRoYW4gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrR3JlYXRlclRoYW5cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3Qgb3JpZ2luID0gbnVtZXJpY09yaWdpbk1hcFt0eXBlb2YgZGVmLnZhbHVlXTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBjb25zdCBjdXJyID0gKGRlZi5pbmNsdXNpdmUgPyBiYWcubWluaW11bSA6IGJhZy5leGNsdXNpdmVNaW5pbXVtKSA/PyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIGlmIChkZWYudmFsdWUgPiBjdXJyKSB7XG4gICAgICAgICAgICBpZiAoZGVmLmluY2x1c2l2ZSlcbiAgICAgICAgICAgICAgICBiYWcubWluaW11bSA9IGRlZi52YWx1ZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBiYWcuZXhjbHVzaXZlTWluaW11bSA9IGRlZi52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChkZWYuaW5jbHVzaXZlID8gcGF5bG9hZC52YWx1ZSA+PSBkZWYudmFsdWUgOiBwYXlsb2FkLnZhbHVlID4gZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICBjb2RlOiBcInRvb19zbWFsbFwiLFxuICAgICAgICAgICAgbWluaW11bTogZGVmLnZhbHVlLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGRlZi5pbmNsdXNpdmUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tNdWx0aXBsZU9mID0gXG4vKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTXVsdGlwbGVPZlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IGluc3QuX3pvZC5iYWcpLm11bHRpcGxlT2YgPz8gKF9hLm11bHRpcGxlT2YgPSBkZWYudmFsdWUpO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZC52YWx1ZSAhPT0gdHlwZW9mIGRlZi52YWx1ZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBtaXggbnVtYmVyIGFuZCBiaWdpbnQgaW4gbXVsdGlwbGVfb2YgY2hlY2suXCIpO1xuICAgICAgICBjb25zdCBpc011bHRpcGxlID0gdHlwZW9mIHBheWxvYWQudmFsdWUgPT09IFwiYmlnaW50XCJcbiAgICAgICAgICAgID8gcGF5bG9hZC52YWx1ZSAlIGRlZi52YWx1ZSA9PT0gQmlnSW50KDApXG4gICAgICAgICAgICA6IHV0aWwuZmxvYXRTYWZlUmVtYWluZGVyKHBheWxvYWQudmFsdWUsIGRlZi52YWx1ZSkgPT09IDA7XG4gICAgICAgIGlmIChpc011bHRpcGxlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogdHlwZW9mIHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBjb2RlOiBcIm5vdF9tdWx0aXBsZV9vZlwiLFxuICAgICAgICAgICAgZGl2aXNvcjogZGVmLnZhbHVlLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tOdW1iZXJGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTnVtYmVyRm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpOyAvLyBubyBmb3JtYXQgY2hlY2tzXG4gICAgZGVmLmZvcm1hdCA9IGRlZi5mb3JtYXQgfHwgXCJmbG9hdDY0XCI7XG4gICAgY29uc3QgaXNJbnQgPSBkZWYuZm9ybWF0Py5pbmNsdWRlcyhcImludFwiKTtcbiAgICBjb25zdCBvcmlnaW4gPSBpc0ludCA/IFwiaW50XCIgOiBcIm51bWJlclwiO1xuICAgIGNvbnN0IFttaW5pbXVtLCBtYXhpbXVtXSA9IHV0aWwuTlVNQkVSX0ZPUk1BVF9SQU5HRVNbZGVmLmZvcm1hdF07XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLmZvcm1hdCA9IGRlZi5mb3JtYXQ7XG4gICAgICAgIGJhZy5taW5pbXVtID0gbWluaW11bTtcbiAgICAgICAgYmFnLm1heGltdW0gPSBtYXhpbXVtO1xuICAgICAgICBpZiAoaXNJbnQpXG4gICAgICAgICAgICBiYWcucGF0dGVybiA9IHJlZ2V4ZXMuaW50ZWdlcjtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmIChpc0ludCkge1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIC8vIGludmFsaWRfZm9ybWF0IGlzc3VlXG4gICAgICAgICAgICAgICAgLy8gcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgLy8gICBleHBlY3RlZDogZGVmLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAvLyAgIGZvcm1hdDogZGVmLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAvLyAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICAvLyAgIGlucHV0LFxuICAgICAgICAgICAgICAgIC8vICAgaW5zdCxcbiAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICAvLyBpbnZhbGlkX3R5cGUgaXNzdWVcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IG9yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBkZWYuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAvLyBub3RfbXVsdGlwbGVfb2YgaXNzdWVcbiAgICAgICAgICAgICAgICAvLyBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAvLyAgIGNvZGU6IFwibm90X211bHRpcGxlX29mXCIsXG4gICAgICAgICAgICAgICAgLy8gICBvcmlnaW46IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgLy8gICBpbnB1dCxcbiAgICAgICAgICAgICAgICAvLyAgIGluc3QsXG4gICAgICAgICAgICAgICAgLy8gICBkaXZpc29yOiAxLFxuICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvb19iaWdcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFwidG9vX2JpZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlOiBcIkludGVnZXJzIG11c3QgYmUgd2l0aGluIHRoZSBzYWZlIGludGVnZXIgcmFuZ2UuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9vX3NtYWxsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19zbWFsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlOiBcIkludGVnZXJzIG11c3QgYmUgd2l0aGluIHRoZSBzYWZlIGludGVnZXIgcmFuZ2UuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0IDwgbWluaW11bSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICAgICAgbWluaW11bSxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCA+IG1heGltdW0pIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19iaWdcIixcbiAgICAgICAgICAgICAgICBtYXhpbXVtLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tCaWdJbnRGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrQmlnSW50Rm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpOyAvLyBubyBmb3JtYXQgY2hlY2tzXG4gICAgY29uc3QgW21pbmltdW0sIG1heGltdW1dID0gdXRpbC5CSUdJTlRfRk9STUFUX1JBTkdFU1tkZWYuZm9ybWF0XTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcuZm9ybWF0ID0gZGVmLmZvcm1hdDtcbiAgICAgICAgYmFnLm1pbmltdW0gPSBtaW5pbXVtO1xuICAgICAgICBiYWcubWF4aW11bSA9IG1heGltdW07XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoaW5wdXQgPCBtaW5pbXVtKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgY29kZTogXCJ0b29fc21hbGxcIixcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiBtaW5pbXVtLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0ID4gbWF4aW11bSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGNvZGU6IFwidG9vX2JpZ1wiLFxuICAgICAgICAgICAgICAgIG1heGltdW0sXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja01heFNpemUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTWF4U2l6ZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgKF9hID0gaW5zdC5fem9kLmRlZikud2hlbiA/PyAoX2Eud2hlbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLnNpemUgIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyID0gKGluc3QuX3pvZC5iYWcubWF4aW11bSA/PyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICBpZiAoZGVmLm1heGltdW0gPCBjdXJyKVxuICAgICAgICAgICAgaW5zdC5fem9kLmJhZy5tYXhpbXVtID0gZGVmLm1heGltdW07XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBzaXplID0gaW5wdXQuc2l6ZTtcbiAgICAgICAgaWYgKHNpemUgPD0gZGVmLm1heGltdW0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiB1dGlsLmdldFNpemFibGVPcmlnaW4oaW5wdXQpLFxuICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4aW11bSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTWluU2l6ZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tNaW5TaXplXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAoX2EgPSBpbnN0Ll96b2QuZGVmKS53aGVuID8/IChfYS53aGVuID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgdmFsID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgcmV0dXJuICF1dGlsLm51bGxpc2godmFsKSAmJiB2YWwuc2l6ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnIgPSAoaW5zdC5fem9kLmJhZy5taW5pbXVtID8/IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSk7XG4gICAgICAgIGlmIChkZWYubWluaW11bSA+IGN1cnIpXG4gICAgICAgICAgICBpbnN0Ll96b2QuYmFnLm1pbmltdW0gPSBkZWYubWluaW11bTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IHNpemUgPSBpbnB1dC5zaXplO1xuICAgICAgICBpZiAoc2l6ZSA+PSBkZWYubWluaW11bSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IHV0aWwuZ2V0U2l6YWJsZU9yaWdpbihpbnB1dCksXG4gICAgICAgICAgICBjb2RlOiBcInRvb19zbWFsbFwiLFxuICAgICAgICAgICAgbWluaW11bTogZGVmLm1pbmltdW0sXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja1NpemVFcXVhbHMgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrU2l6ZUVxdWFsc1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgKF9hID0gaW5zdC5fem9kLmRlZikud2hlbiA/PyAoX2Eud2hlbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLnNpemUgIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcubWluaW11bSA9IGRlZi5zaXplO1xuICAgICAgICBiYWcubWF4aW11bSA9IGRlZi5zaXplO1xuICAgICAgICBiYWcuc2l6ZSA9IGRlZi5zaXplO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGlucHV0LnNpemU7XG4gICAgICAgIGlmIChzaXplID09PSBkZWYuc2l6ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdG9vQmlnID0gc2l6ZSA+IGRlZi5zaXplO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogdXRpbC5nZXRTaXphYmxlT3JpZ2luKGlucHV0KSxcbiAgICAgICAgICAgIC4uLih0b29CaWcgPyB7IGNvZGU6IFwidG9vX2JpZ1wiLCBtYXhpbXVtOiBkZWYuc2l6ZSB9IDogeyBjb2RlOiBcInRvb19zbWFsbFwiLCBtaW5pbXVtOiBkZWYuc2l6ZSB9KSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tNYXhMZW5ndGggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTWF4TGVuZ3RoXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAoX2EgPSBpbnN0Ll96b2QuZGVmKS53aGVuID8/IChfYS53aGVuID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgdmFsID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgcmV0dXJuICF1dGlsLm51bGxpc2godmFsKSAmJiB2YWwubGVuZ3RoICE9PSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgY3VyciA9IChpbnN0Ll96b2QuYmFnLm1heGltdW0gPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgICAgICAgaWYgKGRlZi5tYXhpbXVtIDwgY3VycilcbiAgICAgICAgICAgIGluc3QuX3pvZC5iYWcubWF4aW11bSA9IGRlZi5tYXhpbXVtO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDw9IGRlZi5tYXhpbXVtKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBvcmlnaW4gPSB1dGlsLmdldExlbmd0aGFibGVPcmlnaW4oaW5wdXQpO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgIGNvZGU6IFwidG9vX2JpZ1wiLFxuICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heGltdW0sXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja01pbkxlbmd0aCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tNaW5MZW5ndGhcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIChfYSA9IGluc3QuX3pvZC5kZWYpLndoZW4gPz8gKF9hLndoZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICByZXR1cm4gIXV0aWwubnVsbGlzaCh2YWwpICYmIHZhbC5sZW5ndGggIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyID0gKGluc3QuX3pvZC5iYWcubWluaW11bSA/PyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICBpZiAoZGVmLm1pbmltdW0gPiBjdXJyKVxuICAgICAgICAgICAgaW5zdC5fem9kLmJhZy5taW5pbXVtID0gZGVmLm1pbmltdW07XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPj0gZGVmLm1pbmltdW0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHV0aWwuZ2V0TGVuZ3RoYWJsZU9yaWdpbihpbnB1dCk7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgY29kZTogXCJ0b29fc21hbGxcIixcbiAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5pbXVtLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tMZW5ndGhFcXVhbHMgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTGVuZ3RoRXF1YWxzXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAoX2EgPSBpbnN0Ll96b2QuZGVmKS53aGVuID8/IChfYS53aGVuID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgdmFsID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgcmV0dXJuICF1dGlsLm51bGxpc2godmFsKSAmJiB2YWwubGVuZ3RoICE9PSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLm1pbmltdW0gPSBkZWYubGVuZ3RoO1xuICAgICAgICBiYWcubWF4aW11bSA9IGRlZi5sZW5ndGg7XG4gICAgICAgIGJhZy5sZW5ndGggPSBkZWYubGVuZ3RoO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoID09PSBkZWYubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBvcmlnaW4gPSB1dGlsLmdldExlbmd0aGFibGVPcmlnaW4oaW5wdXQpO1xuICAgICAgICBjb25zdCB0b29CaWcgPSBsZW5ndGggPiBkZWYubGVuZ3RoO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgIC4uLih0b29CaWcgPyB7IGNvZGU6IFwidG9vX2JpZ1wiLCBtYXhpbXVtOiBkZWYubGVuZ3RoIH0gOiB7IGNvZGU6IFwidG9vX3NtYWxsXCIsIG1pbmltdW06IGRlZi5sZW5ndGggfSksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrU3RyaW5nRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1N0cmluZ0Zvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5mb3JtYXQgPSBkZWYuZm9ybWF0O1xuICAgICAgICBpZiAoZGVmLnBhdHRlcm4pIHtcbiAgICAgICAgICAgIGJhZy5wYXR0ZXJucyA/PyAoYmFnLnBhdHRlcm5zID0gbmV3IFNldCgpKTtcbiAgICAgICAgICAgIGJhZy5wYXR0ZXJucy5hZGQoZGVmLnBhdHRlcm4pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGRlZi5wYXR0ZXJuKVxuICAgICAgICAoX2EgPSBpbnN0Ll96b2QpLmNoZWNrID8/IChfYS5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBkZWYucGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgaWYgKGRlZi5wYXR0ZXJuLnRlc3QocGF5bG9hZC52YWx1ZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IGRlZi5mb3JtYXQsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgLi4uKGRlZi5wYXR0ZXJuID8geyBwYXR0ZXJuOiBkZWYucGF0dGVybi50b1N0cmluZygpIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICBlbHNlXG4gICAgICAgIChfYiA9IGluc3QuX3pvZCkuY2hlY2sgPz8gKF9iLmNoZWNrID0gKCkgPT4geyB9KTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja1JlZ2V4ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1JlZ2V4XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2tTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGRlZi5wYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGlmIChkZWYucGF0dGVybi50ZXN0KHBheWxvYWQudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJyZWdleFwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBwYXR0ZXJuOiBkZWYucGF0dGVybi50b1N0cmluZygpLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTG93ZXJDYXNlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja0xvd2VyQ2FzZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5sb3dlcmNhc2UpO1xuICAgICRab2RDaGVja1N0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tVcHBlckNhc2UgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrVXBwZXJDYXNlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLnVwcGVyY2FzZSk7XG4gICAgJFpvZENoZWNrU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja0luY2x1ZGVzID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja0luY2x1ZGVzXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IGVzY2FwZWRSZWdleCA9IHV0aWwuZXNjYXBlUmVnZXgoZGVmLmluY2x1ZGVzKTtcbiAgICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cCh0eXBlb2YgZGVmLnBvc2l0aW9uID09PSBcIm51bWJlclwiID8gYF4ueyR7ZGVmLnBvc2l0aW9ufX0ke2VzY2FwZWRSZWdleH1gIDogZXNjYXBlZFJlZ2V4KTtcbiAgICBkZWYucGF0dGVybiA9IHBhdHRlcm47XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLnBhdHRlcm5zID8/IChiYWcucGF0dGVybnMgPSBuZXcgU2V0KCkpO1xuICAgICAgICBiYWcucGF0dGVybnMuYWRkKHBhdHRlcm4pO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChwYXlsb2FkLnZhbHVlLmluY2x1ZGVzKGRlZi5pbmNsdWRlcywgZGVmLnBvc2l0aW9uKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwiaW5jbHVkZXNcIixcbiAgICAgICAgICAgIGluY2x1ZGVzOiBkZWYuaW5jbHVkZXMsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja1N0YXJ0c1dpdGggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrU3RhcnRzV2l0aFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChgXiR7dXRpbC5lc2NhcGVSZWdleChkZWYucHJlZml4KX0uKmApO1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHBhdHRlcm4pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5wYXR0ZXJucyA/PyAoYmFnLnBhdHRlcm5zID0gbmV3IFNldCgpKTtcbiAgICAgICAgYmFnLnBhdHRlcm5zLmFkZChwYXR0ZXJuKTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZS5zdGFydHNXaXRoKGRlZi5wcmVmaXgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJzdGFydHNfd2l0aFwiLFxuICAgICAgICAgICAgcHJlZml4OiBkZWYucHJlZml4LFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tFbmRzV2l0aCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tFbmRzV2l0aFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChgLioke3V0aWwuZXNjYXBlUmVnZXgoZGVmLnN1ZmZpeCl9JGApO1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHBhdHRlcm4pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5wYXR0ZXJucyA/PyAoYmFnLnBhdHRlcm5zID0gbmV3IFNldCgpKTtcbiAgICAgICAgYmFnLnBhdHRlcm5zLmFkZChwYXR0ZXJuKTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZS5lbmRzV2l0aChkZWYuc3VmZml4KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwiZW5kc193aXRoXCIsXG4gICAgICAgICAgICBzdWZmaXg6IGRlZi5zdWZmaXgsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vICAgICRab2RDaGVja1Byb3BlcnR5ICAgIC8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gaGFuZGxlQ2hlY2tQcm9wZXJ0eVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIHByb3BlcnR5KSB7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMocHJvcGVydHksIHJlc3VsdC5pc3N1ZXMpKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgJFpvZENoZWNrUHJvcGVydHkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrUHJvcGVydHlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLnNjaGVtYS5fem9kLnJ1bih7XG4gICAgICAgICAgICB2YWx1ZTogcGF5bG9hZC52YWx1ZVtkZWYucHJvcGVydHldLFxuICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgfSwge30pO1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IGhhbmRsZUNoZWNrUHJvcGVydHlSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBkZWYucHJvcGVydHkpKTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVDaGVja1Byb3BlcnR5UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgZGVmLnByb3BlcnR5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tNaW1lVHlwZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tNaW1lVHlwZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBtaW1lU2V0ID0gbmV3IFNldChkZWYubWltZSk7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgaW5zdC5fem9kLmJhZy5taW1lID0gZGVmLm1pbWU7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKG1pbWVTZXQuaGFzKHBheWxvYWQudmFsdWUudHlwZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3ZhbHVlXCIsXG4gICAgICAgICAgICB2YWx1ZXM6IGRlZi5taW1lLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUudHlwZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja092ZXJ3cml0ZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tPdmVyd3JpdGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGRlZi50eChwYXlsb2FkLnZhbHVlKTtcbiAgICB9O1xufSk7XG4iLCAiZXhwb3J0IGNsYXNzIERvYyB7XG4gICAgY29uc3RydWN0b3IoYXJncyA9IFtdKSB7XG4gICAgICAgIHRoaXMuY29udGVudCA9IFtdO1xuICAgICAgICB0aGlzLmluZGVudCA9IDA7XG4gICAgICAgIGlmICh0aGlzKVxuICAgICAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICB9XG4gICAgaW5kZW50ZWQoZm4pIHtcbiAgICAgICAgdGhpcy5pbmRlbnQgKz0gMTtcbiAgICAgICAgZm4odGhpcyk7XG4gICAgICAgIHRoaXMuaW5kZW50IC09IDE7XG4gICAgfVxuICAgIHdyaXRlKGFyZykge1xuICAgICAgICBpZiAodHlwZW9mIGFyZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBhcmcodGhpcywgeyBleGVjdXRpb246IFwic3luY1wiIH0pO1xuICAgICAgICAgICAgYXJnKHRoaXMsIHsgZXhlY3V0aW9uOiBcImFzeW5jXCIgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudCA9IGFyZztcbiAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KFwiXFxuXCIpLmZpbHRlcigoeCkgPT4geCk7XG4gICAgICAgIGNvbnN0IG1pbkluZGVudCA9IE1hdGgubWluKC4uLmxpbmVzLm1hcCgoeCkgPT4geC5sZW5ndGggLSB4LnRyaW1TdGFydCgpLmxlbmd0aCkpO1xuICAgICAgICBjb25zdCBkZWRlbnRlZCA9IGxpbmVzLm1hcCgoeCkgPT4geC5zbGljZShtaW5JbmRlbnQpKS5tYXAoKHgpID0+IFwiIFwiLnJlcGVhdCh0aGlzLmluZGVudCAqIDIpICsgeCk7XG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBkZWRlbnRlZCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50LnB1c2gobGluZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcGlsZSgpIHtcbiAgICAgICAgY29uc3QgRiA9IEZ1bmN0aW9uO1xuICAgICAgICBjb25zdCBhcmdzID0gdGhpcz8uYXJncztcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXM/LmNvbnRlbnQgPz8gW2BgXTtcbiAgICAgICAgY29uc3QgbGluZXMgPSBbLi4uY29udGVudC5tYXAoKHgpID0+IGAgICR7eH1gKV07XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGxpbmVzLmpvaW4oXCJcXG5cIikpO1xuICAgICAgICByZXR1cm4gbmV3IEYoLi4uYXJncywgbGluZXMuam9pbihcIlxcblwiKSk7XG4gICAgfVxufVxuIiwgImV4cG9ydCBjb25zdCB2ZXJzaW9uID0ge1xuICAgIG1ham9yOiA0LFxuICAgIG1pbm9yOiAxLFxuICAgIHBhdGNoOiA4LFxufTtcbiIsICJpbXBvcnQgKiBhcyBjaGVja3MgZnJvbSBcIi4vY2hlY2tzLmpzXCI7XG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCB7IERvYyB9IGZyb20gXCIuL2RvYy5qc1wiO1xuaW1wb3J0IHsgcGFyc2UsIHBhcnNlQXN5bmMsIHNhZmVQYXJzZSwgc2FmZVBhcnNlQXN5bmMgfSBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuaW1wb3J0ICogYXMgcmVnZXhlcyBmcm9tIFwiLi9yZWdleGVzLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi92ZXJzaW9ucy5qc1wiO1xuZXhwb3J0IGNvbnN0ICRab2RUeXBlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RUeXBlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaW5zdCA/PyAoaW5zdCA9IHt9KTtcbiAgICBpbnN0Ll96b2QuZGVmID0gZGVmOyAvLyBzZXQgX2RlZiBwcm9wZXJ0eVxuICAgIGluc3QuX3pvZC5iYWcgPSBpbnN0Ll96b2QuYmFnIHx8IHt9OyAvLyBpbml0aWFsaXplIF9iYWcgb2JqZWN0XG4gICAgaW5zdC5fem9kLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgIGNvbnN0IGNoZWNrcyA9IFsuLi4oaW5zdC5fem9kLmRlZi5jaGVja3MgPz8gW10pXTtcbiAgICAvLyBpZiBpbnN0IGlzIGl0c2VsZiBhIGNoZWNrcy4kWm9kQ2hlY2ssIHJ1biBpdCBhcyBhIGNoZWNrXG4gICAgaWYgKGluc3QuX3pvZC50cmFpdHMuaGFzKFwiJFpvZENoZWNrXCIpKSB7XG4gICAgICAgIGNoZWNrcy51bnNoaWZ0KGluc3QpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNoIG9mIGNoZWNrcykge1xuICAgICAgICBmb3IgKGNvbnN0IGZuIG9mIGNoLl96b2Qub25hdHRhY2gpIHtcbiAgICAgICAgICAgIGZuKGluc3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjaGVja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIGRlZmVycmVkIGluaXRpYWxpemVyXG4gICAgICAgIC8vIGluc3QuX3pvZC5wYXJzZSBpcyBub3QgeWV0IGRlZmluZWRcbiAgICAgICAgKF9hID0gaW5zdC5fem9kKS5kZWZlcnJlZCA/PyAoX2EuZGVmZXJyZWQgPSBbXSk7XG4gICAgICAgIGluc3QuX3pvZC5kZWZlcnJlZD8ucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBpbnN0Ll96b2QucnVuID0gaW5zdC5fem9kLnBhcnNlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJ1bkNoZWNrcyA9IChwYXlsb2FkLCBjaGVja3MsIGN0eCkgPT4ge1xuICAgICAgICAgICAgbGV0IGlzQWJvcnRlZCA9IHV0aWwuYWJvcnRlZChwYXlsb2FkKTtcbiAgICAgICAgICAgIGxldCBhc3luY1Jlc3VsdDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2ggb2YgY2hlY2tzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoLl96b2QuZGVmLndoZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkUnVuID0gY2guX3pvZC5kZWYud2hlbihwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRSdW4pXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyTGVuID0gcGF5bG9hZC5pc3N1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IF8gPSBjaC5fem9kLmNoZWNrKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgIGlmIChfIGluc3RhbmNlb2YgUHJvbWlzZSAmJiBjdHg/LmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kQXN5bmNFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXN5bmNSZXN1bHQgfHwgXyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNSZXN1bHQgPSAoYXN5bmNSZXN1bHQgPz8gUHJvbWlzZS5yZXNvbHZlKCkpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgXztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRMZW4gPSBwYXlsb2FkLmlzc3Vlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dExlbiA9PT0gY3VyckxlbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQWJvcnRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Fib3J0ZWQgPSB1dGlsLmFib3J0ZWQocGF5bG9hZCwgY3Vyckxlbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dExlbiA9IHBheWxvYWQuaXNzdWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRMZW4gPT09IGN1cnJMZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0Fib3J0ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0Fib3J0ZWQgPSB1dGlsLmFib3J0ZWQocGF5bG9hZCwgY3Vyckxlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFzeW5jUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzeW5jUmVzdWx0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9O1xuICAgICAgICAvLyBjb25zdCBoYW5kbGVDaGVja3NSZXN1bHQgPSAoXG4gICAgICAgIC8vICAgY2hlY2tSZXN1bHQ6IFBhcnNlUGF5bG9hZCxcbiAgICAgICAgLy8gICBvcmlnaW5hbFJlc3VsdDogUGFyc2VQYXlsb2FkLFxuICAgICAgICAvLyAgIGN0eDogUGFyc2VDb250ZXh0SW50ZXJuYWxcbiAgICAgICAgLy8gKTogdXRpbC5NYXliZUFzeW5jPFBhcnNlUGF5bG9hZD4gPT4ge1xuICAgICAgICAvLyAgIC8vIGlmIHRoZSBjaGVja3MgbXV0YXRlZCB0aGUgdmFsdWUgJiYgdGhlcmUgYXJlIG5vIGlzc3VlcywgcmUtcGFyc2UgdGhlIHJlc3VsdFxuICAgICAgICAvLyAgIGlmIChjaGVja1Jlc3VsdC52YWx1ZSAhPT0gb3JpZ2luYWxSZXN1bHQudmFsdWUgJiYgIWNoZWNrUmVzdWx0Lmlzc3Vlcy5sZW5ndGgpXG4gICAgICAgIC8vICAgICByZXR1cm4gaW5zdC5fem9kLnBhcnNlKGNoZWNrUmVzdWx0LCBjdHgpO1xuICAgICAgICAvLyAgIHJldHVybiBvcmlnaW5hbFJlc3VsdDtcbiAgICAgICAgLy8gfTtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2FuYXJ5UmVzdWx0ID0gKGNhbmFyeSwgcGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgICAgICAvLyBhYm9ydCBpZiB0aGUgY2FuYXJ5IGlzIGFib3J0ZWRcbiAgICAgICAgICAgIGlmICh1dGlsLmFib3J0ZWQoY2FuYXJ5KSkge1xuICAgICAgICAgICAgICAgIGNhbmFyeS5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FuYXJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcnVuIGNoZWNrcyBmaXJzdCwgdGhlblxuICAgICAgICAgICAgY29uc3QgY2hlY2tSZXN1bHQgPSBydW5DaGVja3MocGF5bG9hZCwgY2hlY2tzLCBjdHgpO1xuICAgICAgICAgICAgaWYgKGNoZWNrUmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGlmIChjdHguYXN5bmMgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kQXN5bmNFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGVja1Jlc3VsdC50aGVuKChjaGVja1Jlc3VsdCkgPT4gaW5zdC5fem9kLnBhcnNlKGNoZWNrUmVzdWx0LCBjdHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnN0Ll96b2QucGFyc2UoY2hlY2tSZXN1bHQsIGN0eCk7XG4gICAgICAgIH07XG4gICAgICAgIGluc3QuX3pvZC5ydW4gPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBpZiAoY3R4LnNraXBDaGVja3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdC5fem9kLnBhcnNlKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gcnVuIGNhbmFyeVxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWwgcGFzcyAobm8gY2hlY2tzKVxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbmFyeSA9IGluc3QuX3pvZC5wYXJzZSh7IHZhbHVlOiBwYXlsb2FkLnZhbHVlLCBpc3N1ZXM6IFtdIH0sIHsgLi4uY3R4LCBza2lwQ2hlY2tzOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIGlmIChjYW5hcnkgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5hcnkudGhlbigoY2FuYXJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlQ2FuYXJ5UmVzdWx0KGNhbmFyeSwgcGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVDYW5hcnlSZXN1bHQoY2FuYXJ5LCBwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZm9yd2FyZFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gaW5zdC5fem9kLnBhcnNlKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGlmIChjdHguYXN5bmMgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kQXN5bmNFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiBydW5DaGVja3MocmVzdWx0LCBjaGVja3MsIGN0eCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bkNoZWNrcyhyZXN1bHQsIGNoZWNrcywgY3R4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaW5zdFtcIn5zdGFuZGFyZFwiXSA9IHtcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gc2FmZVBhcnNlKGluc3QsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gci5zdWNjZXNzID8geyB2YWx1ZTogci5kYXRhIH0gOiB7IGlzc3Vlczogci5lcnJvcj8uaXNzdWVzIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoXykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzYWZlUGFyc2VBc3luYyhpbnN0LCB2YWx1ZSkudGhlbigocikgPT4gKHIuc3VjY2VzcyA/IHsgdmFsdWU6IHIuZGF0YSB9IDogeyBpc3N1ZXM6IHIuZXJyb3I/Lmlzc3VlcyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZlbmRvcjogXCJ6b2RcIixcbiAgICAgICAgdmVyc2lvbjogMSxcbiAgICB9O1xufSk7XG5leHBvcnQgeyBjbG9uZSB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCAkWm9kU3RyaW5nID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RTdHJpbmdcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IFsuLi4oaW5zdD8uX3pvZC5iYWc/LnBhdHRlcm5zID8/IFtdKV0ucG9wKCkgPz8gcmVnZXhlcy5zdHJpbmcoaW5zdC5fem9kLmJhZyk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF8pID0+IHtcbiAgICAgICAgaWYgKGRlZi5jb2VyY2UpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBTdHJpbmcocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZC52YWx1ZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kU3RyaW5nRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RTdHJpbmdGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIGNoZWNrIGluaXRpYWxpemF0aW9uIG11c3QgY29tZSBmaXJzdFxuICAgIGNoZWNrcy4kWm9kQ2hlY2tTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgICRab2RTdHJpbmcuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEdVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEdVSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZ3VpZCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kVVVJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVVVJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgaWYgKGRlZi52ZXJzaW9uKSB7XG4gICAgICAgIGNvbnN0IHZlcnNpb25NYXAgPSB7XG4gICAgICAgICAgICB2MTogMSxcbiAgICAgICAgICAgIHYyOiAyLFxuICAgICAgICAgICAgdjM6IDMsXG4gICAgICAgICAgICB2NDogNCxcbiAgICAgICAgICAgIHY1OiA1LFxuICAgICAgICAgICAgdjY6IDYsXG4gICAgICAgICAgICB2NzogNyxcbiAgICAgICAgICAgIHY4OiA4LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB2ID0gdmVyc2lvbk1hcFtkZWYudmVyc2lvbl07XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgVVVJRCB2ZXJzaW9uOiBcIiR7ZGVmLnZlcnNpb259XCJgKTtcbiAgICAgICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy51dWlkKHYpKTtcbiAgICB9XG4gICAgZWxzZVxuICAgICAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLnV1aWQoKSk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRW1haWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEVtYWlsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmVtYWlsKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RVUkwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFVSTFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFRyaW0gd2hpdGVzcGFjZSBmcm9tIGlucHV0XG4gICAgICAgICAgICBjb25zdCB0cmltbWVkID0gcGF5bG9hZC52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRyaW1tZWQpO1xuICAgICAgICAgICAgaWYgKGRlZi5ob3N0bmFtZSkge1xuICAgICAgICAgICAgICAgIGRlZi5ob3N0bmFtZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGlmICghZGVmLmhvc3RuYW1lLnRlc3QodXJsLmhvc3RuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJ1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6IFwiSW52YWxpZCBob3N0bmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogcmVnZXhlcy5ob3N0bmFtZS5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlZi5wcm90b2NvbCkge1xuICAgICAgICAgICAgICAgIGRlZi5wcm90b2NvbC5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGlmICghZGVmLnByb3RvY29sLnRlc3QodXJsLnByb3RvY29sLmVuZHNXaXRoKFwiOlwiKSA/IHVybC5wcm90b2NvbC5zbGljZSgwLCAtMSkgOiB1cmwucHJvdG9jb2wpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZTogXCJJbnZhbGlkIHByb3RvY29sXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBkZWYucHJvdG9jb2wuc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCB0aGUgb3V0cHV0IHZhbHVlIGJhc2VkIG9uIG5vcm1hbGl6ZSBmbGFnXG4gICAgICAgICAgICBpZiAoZGVmLm5vcm1hbGl6ZSkge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBub3JtYWxpemVkIFVSTFxuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSB1cmwuaHJlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFByZXNlcnZlIHRoZSBvcmlnaW5hbCBpbnB1dCAodHJpbW1lZClcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gdHJpbW1lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoXykge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJ1cmxcIixcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEVtb2ppID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RFbW9qaVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5lbW9qaSgpKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROYW5vSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE5hbm9JRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5uYW5vaWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENVSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuY3VpZCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ1VJRDIgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENVSUQyXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmN1aWQyKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RVTElEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RVTElEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLnVsaWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFhJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kWElEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLnhpZCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kS1NVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEtTVUlEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmtzdWlkKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJU09EYXRlVGltZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSVNPRGF0ZVRpbWVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZGF0ZXRpbWUoZGVmKSk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSVNPRGF0ZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSVNPRGF0ZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5kYXRlKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJU09UaW1lID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJU09UaW1lXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLnRpbWUoZGVmKSk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSVNPRHVyYXRpb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZElTT0R1cmF0aW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmR1cmF0aW9uKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJUHY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJUHY0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmlwdjQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5mb3JtYXQgPSBgaXB2NGA7XG4gICAgfSk7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSVB2NiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSVB2NlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5pcHY2KTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcuZm9ybWF0ID0gYGlwdjZgO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBuZXcgVVJMKGBodHRwOi8vWyR7cGF5bG9hZC52YWx1ZX1dYCk7XG4gICAgICAgICAgICAvLyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJpcHY2XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDSURSdjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENJRFJ2NFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5jaWRydjQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENJRFJ2NiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ0lEUnY2XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmNpZHJ2Nik7IC8vIG5vdCB1c2VkIGZvciB2YWxpZGF0aW9uXG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBwYXlsb2FkLnZhbHVlLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggIT09IDIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICBjb25zdCBbYWRkcmVzcywgcHJlZml4XSA9IHBhcnRzO1xuICAgICAgICAgICAgaWYgKCFwcmVmaXgpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICBjb25zdCBwcmVmaXhOdW0gPSBOdW1iZXIocHJlZml4KTtcbiAgICAgICAgICAgIGlmIChgJHtwcmVmaXhOdW19YCAhPT0gcHJlZml4KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgaWYgKHByZWZpeE51bSA8IDAgfHwgcHJlZml4TnVtID4gMTI4KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgbmV3IFVSTChgaHR0cDovL1ske2FkZHJlc3N9XWApO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiY2lkcnY2XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICAgWm9kQmFzZTY0ICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEJhc2U2NChkYXRhKSB7XG4gICAgaWYgKGRhdGEgPT09IFwiXCIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChkYXRhLmxlbmd0aCAlIDQgIT09IDApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGF0b2IoZGF0YSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgJFpvZEJhc2U2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQmFzZTY0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmJhc2U2NCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgaW5zdC5fem9kLmJhZy5jb250ZW50RW5jb2RpbmcgPSBcImJhc2U2NFwiO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChpc1ZhbGlkQmFzZTY0KHBheWxvYWQudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJiYXNlNjRcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gICBab2RCYXNlNjQgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkQmFzZTY0VVJMKGRhdGEpIHtcbiAgICBpZiAoIXJlZ2V4ZXMuYmFzZTY0dXJsLnRlc3QoZGF0YSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBiYXNlNjQgPSBkYXRhLnJlcGxhY2UoL1stX10vZywgKGMpID0+IChjID09PSBcIi1cIiA/IFwiK1wiIDogXCIvXCIpKTtcbiAgICBjb25zdCBwYWRkZWQgPSBiYXNlNjQucGFkRW5kKE1hdGguY2VpbChiYXNlNjQubGVuZ3RoIC8gNCkgKiA0LCBcIj1cIik7XG4gICAgcmV0dXJuIGlzVmFsaWRCYXNlNjQocGFkZGVkKTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kQmFzZTY0VVJMID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RCYXNlNjRVUkxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuYmFzZTY0dXJsKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBpbnN0Ll96b2QuYmFnLmNvbnRlbnRFbmNvZGluZyA9IFwiYmFzZTY0dXJsXCI7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKGlzVmFsaWRCYXNlNjRVUkwocGF5bG9hZC52YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgZm9ybWF0OiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRTE2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRTE2NFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5lMTY0KTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICAgWm9kSldUICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEpXVCh0b2tlbiwgYWxnb3JpdGhtID0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2Vuc1BhcnRzID0gdG9rZW4uc3BsaXQoXCIuXCIpO1xuICAgICAgICBpZiAodG9rZW5zUGFydHMubGVuZ3RoICE9PSAzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBbaGVhZGVyXSA9IHRva2Vuc1BhcnRzO1xuICAgICAgICBpZiAoIWhlYWRlcilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBwYXJzZWRIZWFkZXIgPSBKU09OLnBhcnNlKGF0b2IoaGVhZGVyKSk7XG4gICAgICAgIGlmIChcInR5cFwiIGluIHBhcnNlZEhlYWRlciAmJiBwYXJzZWRIZWFkZXI/LnR5cCAhPT0gXCJKV1RcIilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFwYXJzZWRIZWFkZXIuYWxnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoYWxnb3JpdGhtICYmICghKFwiYWxnXCIgaW4gcGFyc2VkSGVhZGVyKSB8fCBwYXJzZWRIZWFkZXIuYWxnICE9PSBhbGdvcml0aG0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0ICRab2RKV1QgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEpXVFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKGlzVmFsaWRKV1QocGF5bG9hZC52YWx1ZSwgZGVmLmFsZykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgZm9ybWF0OiBcImp3dFwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ3VzdG9tU3RyaW5nRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDdXN0b21TdHJpbmdGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChkZWYuZm4ocGF5bG9hZC52YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgZm9ybWF0OiBkZWYuZm9ybWF0LFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTnVtYmVyID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROdW1iZXJcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IGluc3QuX3pvZC5iYWcucGF0dGVybiA/PyByZWdleGVzLm51bWJlcjtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBpZiAoZGVmLmNvZXJjZSlcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IE51bWJlcihwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcIm51bWJlclwiICYmICFOdW1iZXIuaXNOYU4oaW5wdXQpICYmIE51bWJlci5pc0Zpbml0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlY2VpdmVkID0gdHlwZW9mIGlucHV0ID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICA/IE51bWJlci5pc05hTihpbnB1dClcbiAgICAgICAgICAgICAgICA/IFwiTmFOXCJcbiAgICAgICAgICAgICAgICA6ICFOdW1iZXIuaXNGaW5pdGUoaW5wdXQpXG4gICAgICAgICAgICAgICAgICAgID8gXCJJbmZpbml0eVwiXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJudW1iZXJcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAuLi4ocmVjZWl2ZWQgPyB7IHJlY2VpdmVkIH0gOiB7fSksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE51bWJlckZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTnVtYmVyXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjaGVja3MuJFpvZENoZWNrTnVtYmVyRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICAkWm9kTnVtYmVyLmluaXQoaW5zdCwgZGVmKTsgLy8gbm8gZm9ybWF0IGNoZWNrc3Bcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RCb29sZWFuID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RCb29sZWFuXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSByZWdleGVzLmJvb2xlYW47XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKGRlZi5jb2VyY2UpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBCb29sZWFuKHBheWxvYWQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwiYm9vbGVhblwiKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiYm9vbGVhblwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQmlnSW50ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RCaWdJbnRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IHJlZ2V4ZXMuYmlnaW50O1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGlmIChkZWYuY29lcmNlKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gQmlnSW50KHBheWxvYWQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQudmFsdWUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJiaWdpbnRcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEJpZ0ludEZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQmlnSW50XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjaGVja3MuJFpvZENoZWNrQmlnSW50Rm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICAkWm9kQmlnSW50LmluaXQoaW5zdCwgZGVmKTsgLy8gbm8gZm9ybWF0IGNoZWNrc1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFN5bWJvbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kU3ltYm9sXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInN5bWJvbFwiKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwic3ltYm9sXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RVbmRlZmluZWQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFVuZGVmaW5lZFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gcmVnZXhlcy51bmRlZmluZWQ7XG4gICAgaW5zdC5fem9kLnZhbHVlcyA9IG5ldyBTZXQoW3VuZGVmaW5lZF0pO1xuICAgIGluc3QuX3pvZC5vcHRpbiA9IFwib3B0aW9uYWxcIjtcbiAgICBpbnN0Ll96b2Qub3B0b3V0ID0gXCJvcHRpb25hbFwiO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcInVuZGVmaW5lZFwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTnVsbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTnVsbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gcmVnZXhlcy5udWxsO1xuICAgIGluc3QuX3pvZC52YWx1ZXMgPSBuZXcgU2V0KFtudWxsXSk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJudWxsXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RBbnkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEFueVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkKSA9PiBwYXlsb2FkO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFVua25vd24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFVua25vd25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCkgPT4gcGF5bG9hZDtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROZXZlciA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTmV2ZXJcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcIm5ldmVyXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RWb2lkID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RWb2lkXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwidm9pZFwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRGF0ZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRGF0ZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGlmIChkZWYuY29lcmNlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBuZXcgRGF0ZShwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfZXJyKSB7IH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IGlzRGF0ZSA9IGlucHV0IGluc3RhbmNlb2YgRGF0ZTtcbiAgICAgICAgY29uc3QgaXNWYWxpZERhdGUgPSBpc0RhdGUgJiYgIU51bWJlci5pc05hTihpbnB1dC5nZXRUaW1lKCkpO1xuICAgICAgICBpZiAoaXNWYWxpZERhdGUpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJkYXRlXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAuLi4oaXNEYXRlID8geyByZWNlaXZlZDogXCJJbnZhbGlkIERhdGVcIiB9IDoge30pLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZUFycmF5UmVzdWx0KHJlc3VsdCwgZmluYWwsIGluZGV4KSB7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGluZGV4LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgfVxuICAgIGZpbmFsLnZhbHVlW2luZGV4XSA9IHJlc3VsdC52YWx1ZTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kQXJyYXkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEFycmF5XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0gQXJyYXkoaW5wdXQubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgcHJvbXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGlucHV0W2ldO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmVsZW1lbnQuX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICB9LCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpID0+IGhhbmRsZUFycmF5UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZUFycmF5UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb21zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21zKS50aGVuKCgpID0+IHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkOyAvL2hhbmRsZUFycmF5UmVzdWx0c0FzeW5jKHBhcnNlUmVzdWx0cywgZmluYWwpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVByb3BlcnR5UmVzdWx0KHJlc3VsdCwgZmluYWwsIGtleSwgaW5wdXQpIHtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoa2V5IGluIGlucHV0KSB7XG4gICAgICAgICAgICBmaW5hbC52YWx1ZVtrZXldID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmaW5hbC52YWx1ZVtrZXldID0gcmVzdWx0LnZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlZihkZWYpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGVmLnNoYXBlKTtcbiAgICBmb3IgKGNvbnN0IGsgb2Yga2V5cykge1xuICAgICAgICBpZiAoIWRlZi5zaGFwZT8uW2tdPy5fem9kPy50cmFpdHM/LmhhcyhcIiRab2RUeXBlXCIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZWxlbWVudCBhdCBrZXkgXCIke2t9XCI6IGV4cGVjdGVkIGEgWm9kIHNjaGVtYWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG9rZXlzID0gdXRpbC5vcHRpb25hbEtleXMoZGVmLnNoYXBlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5kZWYsXG4gICAgICAgIGtleXMsXG4gICAgICAgIGtleVNldDogbmV3IFNldChrZXlzKSxcbiAgICAgICAgbnVtS2V5czoga2V5cy5sZW5ndGgsXG4gICAgICAgIG9wdGlvbmFsS2V5czogbmV3IFNldChva2V5cyksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUNhdGNoYWxsKHByb21zLCBpbnB1dCwgcGF5bG9hZCwgY3R4LCBkZWYsIGluc3QpIHtcbiAgICBjb25zdCB1bnJlY29nbml6ZWQgPSBbXTtcbiAgICAvLyBpdGVyYXRlIG92ZXIgaW5wdXQga2V5c1xuICAgIGNvbnN0IGtleVNldCA9IGRlZi5rZXlTZXQ7XG4gICAgY29uc3QgX2NhdGNoYWxsID0gZGVmLmNhdGNoYWxsLl96b2Q7XG4gICAgY29uc3QgdCA9IF9jYXRjaGFsbC5kZWYudHlwZTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhpbnB1dCkpIHtcbiAgICAgICAgaWYgKGtleVNldC5oYXMoa2V5KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAodCA9PT0gXCJuZXZlclwiKSB7XG4gICAgICAgICAgICB1bnJlY29nbml6ZWQucHVzaChrZXkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgciA9IF9jYXRjaGFsbC5ydW4oeyB2YWx1ZTogaW5wdXRba2V5XSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICBpZiAociBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHByb21zLnB1c2goci50aGVuKChyKSA9PiBoYW5kbGVQcm9wZXJ0eVJlc3VsdChyLCBwYXlsb2FkLCBrZXksIGlucHV0KSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlUHJvcGVydHlSZXN1bHQociwgcGF5bG9hZCwga2V5LCBpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVucmVjb2duaXplZC5sZW5ndGgpIHtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcInVucmVjb2duaXplZF9rZXlzXCIsXG4gICAgICAgICAgICBrZXlzOiB1bnJlY29nbml6ZWQsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIXByb21zLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21zKS50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgJFpvZE9iamVjdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kT2JqZWN0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyByZXF1aXJlcyBjYXN0IGJlY2F1c2UgdGVjaG5pY2FsbHkgJFpvZE9iamVjdCBkb2Vzbid0IGV4dGVuZFxuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBfbm9ybWFsaXplZCA9IHV0aWwuY2FjaGVkKCgpID0+IG5vcm1hbGl6ZURlZihkZWYpKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInByb3BWYWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBzaGFwZSA9IGRlZi5zaGFwZTtcbiAgICAgICAgY29uc3QgcHJvcFZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzaGFwZSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBzaGFwZVtrZXldLl96b2Q7XG4gICAgICAgICAgICBpZiAoZmllbGQudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcHJvcFZhbHVlc1trZXldID8/IChwcm9wVmFsdWVzW2tleV0gPSBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBmaWVsZC52YWx1ZXMpXG4gICAgICAgICAgICAgICAgICAgIHByb3BWYWx1ZXNba2V5XS5hZGQodik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BWYWx1ZXM7XG4gICAgfSk7XG4gICAgY29uc3QgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xuICAgIGNvbnN0IGNhdGNoYWxsID0gZGVmLmNhdGNoYWxsO1xuICAgIGxldCB2YWx1ZTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIHZhbHVlID8/ICh2YWx1ZSA9IF9ub3JtYWxpemVkLnZhbHVlKTtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIWlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0ge307XG4gICAgICAgIGNvbnN0IHByb21zID0gW107XG4gICAgICAgIGNvbnN0IHNoYXBlID0gdmFsdWUuc2hhcGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHZhbHVlLmtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBlbC5fem9kLnJ1bih7IHZhbHVlOiBpbnB1dFtrZXldLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgICAgICBpZiAociBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHIudGhlbigocikgPT4gaGFuZGxlUHJvcGVydHlSZXN1bHQociwgcGF5bG9hZCwga2V5LCBpbnB1dCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZVByb3BlcnR5UmVzdWx0KHIsIHBheWxvYWQsIGtleSwgaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY2F0Y2hhbGwpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9tcy5sZW5ndGggPyBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKSA9PiBwYXlsb2FkKSA6IHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZUNhdGNoYWxsKHByb21zLCBpbnB1dCwgcGF5bG9hZCwgY3R4LCBfbm9ybWFsaXplZC52YWx1ZSwgaW5zdCk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RPYmplY3RKSVQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE9iamVjdEpJVFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gcmVxdWlyZXMgY2FzdCBiZWNhdXNlIHRlY2huaWNhbGx5ICRab2RPYmplY3QgZG9lc24ndCBleHRlbmRcbiAgICAkWm9kT2JqZWN0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBzdXBlclBhcnNlID0gaW5zdC5fem9kLnBhcnNlO1xuICAgIGNvbnN0IF9ub3JtYWxpemVkID0gdXRpbC5jYWNoZWQoKCkgPT4gbm9ybWFsaXplRGVmKGRlZikpO1xuICAgIGNvbnN0IGdlbmVyYXRlRmFzdHBhc3MgPSAoc2hhcGUpID0+IHtcbiAgICAgICAgY29uc3QgZG9jID0gbmV3IERvYyhbXCJzaGFwZVwiLCBcInBheWxvYWRcIiwgXCJjdHhcIl0pO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gX25vcm1hbGl6ZWQudmFsdWU7XG4gICAgICAgIGNvbnN0IHBhcnNlU3RyID0gKGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgayA9IHV0aWwuZXNjKGtleSk7XG4gICAgICAgICAgICByZXR1cm4gYHNoYXBlWyR7a31dLl96b2QucnVuKHsgdmFsdWU6IGlucHV0WyR7a31dLCBpc3N1ZXM6IFtdIH0sIGN0eClgO1xuICAgICAgICB9O1xuICAgICAgICBkb2Mud3JpdGUoYGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtgKTtcbiAgICAgICAgY29uc3QgaWRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBub3JtYWxpemVkLmtleXMpIHtcbiAgICAgICAgICAgIGlkc1trZXldID0gYGtleV8ke2NvdW50ZXIrK31gO1xuICAgICAgICB9XG4gICAgICAgIC8vIEE6IHByZXNlcnZlIGtleSBvcmRlciB7XG4gICAgICAgIGRvYy53cml0ZShgY29uc3QgbmV3UmVzdWx0ID0ge307YCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIG5vcm1hbGl6ZWQua2V5cykge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBpZHNba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IGsgPSB1dGlsLmVzYyhrZXkpO1xuICAgICAgICAgICAgZG9jLndyaXRlKGBjb25zdCAke2lkfSA9ICR7cGFyc2VTdHIoa2V5KX07YCk7XG4gICAgICAgICAgICBkb2Mud3JpdGUoYFxuICAgICAgICBpZiAoJHtpZH0uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgIHBheWxvYWQuaXNzdWVzID0gcGF5bG9hZC5pc3N1ZXMuY29uY2F0KCR7aWR9Lmlzc3Vlcy5tYXAoaXNzID0+ICh7XG4gICAgICAgICAgICAuLi5pc3MsXG4gICAgICAgICAgICBwYXRoOiBpc3MucGF0aCA/IFske2t9LCAuLi5pc3MucGF0aF0gOiBbJHtrfV1cbiAgICAgICAgICB9KSkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgKCR7aWR9LnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoJHtrfSBpbiBpbnB1dCkge1xuICAgICAgICAgICAgbmV3UmVzdWx0WyR7a31dID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdSZXN1bHRbJHtrfV0gPSAke2lkfS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIGApO1xuICAgICAgICB9XG4gICAgICAgIGRvYy53cml0ZShgcGF5bG9hZC52YWx1ZSA9IG5ld1Jlc3VsdDtgKTtcbiAgICAgICAgZG9jLndyaXRlKGByZXR1cm4gcGF5bG9hZDtgKTtcbiAgICAgICAgY29uc3QgZm4gPSBkb2MuY29tcGlsZSgpO1xuICAgICAgICByZXR1cm4gKHBheWxvYWQsIGN0eCkgPT4gZm4oc2hhcGUsIHBheWxvYWQsIGN0eCk7XG4gICAgfTtcbiAgICBsZXQgZmFzdHBhc3M7XG4gICAgY29uc3QgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xuICAgIGNvbnN0IGppdCA9ICFjb3JlLmdsb2JhbENvbmZpZy5qaXRsZXNzO1xuICAgIGNvbnN0IGFsbG93c0V2YWwgPSB1dGlsLmFsbG93c0V2YWw7XG4gICAgY29uc3QgZmFzdEVuYWJsZWQgPSBqaXQgJiYgYWxsb3dzRXZhbC52YWx1ZTsgLy8gJiYgIWRlZi5jYXRjaGFsbDtcbiAgICBjb25zdCBjYXRjaGFsbCA9IGRlZi5jYXRjaGFsbDtcbiAgICBsZXQgdmFsdWU7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICB2YWx1ZSA/PyAodmFsdWUgPSBfbm9ybWFsaXplZC52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKCFpc09iamVjdChpbnB1dCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGppdCAmJiBmYXN0RW5hYmxlZCAmJiBjdHg/LmFzeW5jID09PSBmYWxzZSAmJiBjdHguaml0bGVzcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gYWx3YXlzIHN5bmNocm9ub3VzXG4gICAgICAgICAgICBpZiAoIWZhc3RwYXNzKVxuICAgICAgICAgICAgICAgIGZhc3RwYXNzID0gZ2VuZXJhdGVGYXN0cGFzcyhkZWYuc2hhcGUpO1xuICAgICAgICAgICAgcGF5bG9hZCA9IGZhc3RwYXNzKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICBpZiAoIWNhdGNoYWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUNhdGNoYWxsKFtdLCBpbnB1dCwgcGF5bG9hZCwgY3R4LCB2YWx1ZSwgaW5zdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyUGFyc2UocGF5bG9hZCwgY3R4KTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVVbmlvblJlc3VsdHMocmVzdWx0cywgZmluYWwsIGluc3QsIGN0eCkge1xuICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBmaW5hbC52YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBub25hYm9ydGVkID0gcmVzdWx0cy5maWx0ZXIoKHIpID0+ICF1dGlsLmFib3J0ZWQocikpO1xuICAgIGlmIChub25hYm9ydGVkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBmaW5hbC52YWx1ZSA9IG5vbmFib3J0ZWRbMF0udmFsdWU7XG4gICAgICAgIHJldHVybiBub25hYm9ydGVkWzBdO1xuICAgIH1cbiAgICBmaW5hbC5pc3N1ZXMucHVzaCh7XG4gICAgICAgIGNvZGU6IFwiaW52YWxpZF91bmlvblwiLFxuICAgICAgICBpbnB1dDogZmluYWwudmFsdWUsXG4gICAgICAgIGluc3QsXG4gICAgICAgIGVycm9yczogcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSkpLFxuICAgIH0pO1xuICAgIHJldHVybiBmaW5hbDtcbn1cbmV4cG9ydCBjb25zdCAkWm9kVW5pb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFVuaW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKSA9PiBkZWYub3B0aW9ucy5zb21lKChvKSA9PiBvLl96b2Qub3B0aW4gPT09IFwib3B0aW9uYWxcIikgPyBcIm9wdGlvbmFsXCIgOiB1bmRlZmluZWQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpID0+IGRlZi5vcHRpb25zLnNvbWUoKG8pID0+IG8uX3pvZC5vcHRvdXQgPT09IFwib3B0aW9uYWxcIikgPyBcIm9wdGlvbmFsXCIgOiB1bmRlZmluZWQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpID0+IHtcbiAgICAgICAgaWYgKGRlZi5vcHRpb25zLmV2ZXJ5KChvKSA9PiBvLl96b2QudmFsdWVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXQoZGVmLm9wdGlvbnMuZmxhdE1hcCgob3B0aW9uKSA9PiBBcnJheS5mcm9tKG9wdGlvbi5fem9kLnZhbHVlcykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicGF0dGVyblwiLCAoKSA9PiB7XG4gICAgICAgIGlmIChkZWYub3B0aW9ucy5ldmVyeSgobykgPT4gby5fem9kLnBhdHRlcm4pKSB7XG4gICAgICAgICAgICBjb25zdCBwYXR0ZXJucyA9IGRlZi5vcHRpb25zLm1hcCgobykgPT4gby5fem9kLnBhdHRlcm4pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4oJHtwYXR0ZXJucy5tYXAoKHApID0+IHV0aWwuY2xlYW5SZWdleChwLnNvdXJjZSkpLmpvaW4oXCJ8XCIpfSkkYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBjb25zdCBzaW5nbGUgPSBkZWYub3B0aW9ucy5sZW5ndGggPT09IDE7XG4gICAgY29uc3QgZmlyc3QgPSBkZWYub3B0aW9uc1swXS5fem9kLnJ1bjtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChzaW5nbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdChwYXlsb2FkLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhc3luYyA9IGZhbHNlO1xuICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIGRlZi5vcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpb24uX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICB9LCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBhc3luYyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhc3luYylcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVVbmlvblJlc3VsdHMocmVzdWx0cywgcGF5bG9hZCwgaW5zdCwgY3R4KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdHMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVVbmlvblJlc3VsdHMocmVzdWx0cywgcGF5bG9hZCwgaW5zdCwgY3R4KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2REaXNjcmltaW5hdGVkVW5pb24gPSBcbi8qQF9fUFVSRV9fKi9cbmNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZERpc2NyaW1pbmF0ZWRVbmlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFVuaW9uLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBfc3VwZXIgPSBpbnN0Ll96b2QucGFyc2U7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwcm9wVmFsdWVzXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvcFZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBkZWYub3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgcHYgPSBvcHRpb24uX3pvZC5wcm9wVmFsdWVzO1xuICAgICAgICAgICAgaWYgKCFwdiB8fCBPYmplY3Qua2V5cyhwdikubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkaXNjcmltaW5hdGVkIHVuaW9uIG9wdGlvbiBhdCBpbmRleCBcIiR7ZGVmLm9wdGlvbnMuaW5kZXhPZihvcHRpb24pfVwiYCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhwdikpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BWYWx1ZXNba10pXG4gICAgICAgICAgICAgICAgICAgIHByb3BWYWx1ZXNba10gPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWwgb2Ygdikge1xuICAgICAgICAgICAgICAgICAgICBwcm9wVmFsdWVzW2tdLmFkZCh2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcFZhbHVlcztcbiAgICB9KTtcbiAgICBjb25zdCBkaXNjID0gdXRpbC5jYWNoZWQoKCkgPT4ge1xuICAgICAgICBjb25zdCBvcHRzID0gZGVmLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBvIG9mIG9wdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IG8uX3pvZC5wcm9wVmFsdWVzPy5bZGVmLmRpc2NyaW1pbmF0b3JdO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZXMgfHwgdmFsdWVzLnNpemUgPT09IDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGRpc2NyaW1pbmF0ZWQgdW5pb24gb3B0aW9uIGF0IGluZGV4IFwiJHtkZWYub3B0aW9ucy5pbmRleE9mKG8pfVwiYCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hcC5oYXModikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgZGlzY3JpbWluYXRvciB2YWx1ZSBcIiR7U3RyaW5nKHYpfVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hcC5zZXQodiwgbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKCF1dGlsLmlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHQgPSBkaXNjLnZhbHVlLmdldChpbnB1dD8uW2RlZi5kaXNjcmltaW5hdG9yXSk7XG4gICAgICAgIGlmIChvcHQpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHQuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLnVuaW9uRmFsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBubyBtYXRjaGluZyBkaXNjcmltaW5hdG9yXG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgICAgICAgICBlcnJvcnM6IFtdLFxuICAgICAgICAgICAgbm90ZTogXCJObyBtYXRjaGluZyBkaXNjcmltaW5hdG9yXCIsXG4gICAgICAgICAgICBkaXNjcmltaW5hdG9yOiBkZWYuZGlzY3JpbWluYXRvcixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgcGF0aDogW2RlZi5kaXNjcmltaW5hdG9yXSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEludGVyc2VjdGlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSW50ZXJzZWN0aW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBkZWYubGVmdC5fem9kLnJ1bih7IHZhbHVlOiBpbnB1dCwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICBjb25zdCByaWdodCA9IGRlZi5yaWdodC5fem9kLnJ1bih7IHZhbHVlOiBpbnB1dCwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICBjb25zdCBhc3luYyA9IGxlZnQgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHJpZ2h0IGluc3RhbmNlb2YgUHJvbWlzZTtcbiAgICAgICAgaWYgKGFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2xlZnQsIHJpZ2h0XSkudGhlbigoW2xlZnQsIHJpZ2h0XSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVJbnRlcnNlY3Rpb25SZXN1bHRzKHBheWxvYWQsIGxlZnQsIHJpZ2h0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVJbnRlcnNlY3Rpb25SZXN1bHRzKHBheWxvYWQsIGxlZnQsIHJpZ2h0KTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBtZXJnZVZhbHVlcyhhLCBiKSB7XG4gICAgLy8gY29uc3QgYVR5cGUgPSBwYXJzZS50KGEpO1xuICAgIC8vIGNvbnN0IGJUeXBlID0gcGFyc2UudChiKTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBpZiAoYSBpbnN0YW5jZW9mIERhdGUgJiYgYiBpbnN0YW5jZW9mIERhdGUgJiYgK2EgPT09ICtiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgfVxuICAgIGlmICh1dGlsLmlzUGxhaW5PYmplY3QoYSkgJiYgdXRpbC5pc1BsYWluT2JqZWN0KGIpKSB7XG4gICAgICAgIGNvbnN0IGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG4gICAgICAgIGNvbnN0IHNoYXJlZEtleXMgPSBPYmplY3Qua2V5cyhhKS5maWx0ZXIoKGtleSkgPT4gYktleXMuaW5kZXhPZihrZXkpICE9PSAtMSk7XG4gICAgICAgIGNvbnN0IG5ld09iaiA9IHsgLi4uYSwgLi4uYiB9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFyZWRLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGFba2V5XSwgYltrZXldKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlRXJyb3JQYXRoOiBba2V5LCAuLi5zaGFyZWRWYWx1ZS5tZXJnZUVycm9yUGF0aF0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld09ialtrZXldID0gc2hhcmVkVmFsdWUuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3T2JqIH07XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGEpICYmIEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXJnZUVycm9yUGF0aDogW10gfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1BID0gYVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBpdGVtQiA9IGJbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhpdGVtQSwgaXRlbUIpO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VFcnJvclBhdGg6IFtpbmRleCwgLi4uc2hhcmVkVmFsdWUubWVyZ2VFcnJvclBhdGhdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcnJheS5wdXNoKHNoYXJlZFZhbHVlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdBcnJheSB9O1xuICAgIH1cbiAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lcmdlRXJyb3JQYXRoOiBbXSB9O1xufVxuZnVuY3Rpb24gaGFuZGxlSW50ZXJzZWN0aW9uUmVzdWx0cyhyZXN1bHQsIGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKGxlZnQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQuaXNzdWVzLnB1c2goLi4ubGVmdC5pc3N1ZXMpO1xuICAgIH1cbiAgICBpZiAocmlnaHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQuaXNzdWVzLnB1c2goLi4ucmlnaHQuaXNzdWVzKTtcbiAgICB9XG4gICAgaWYgKHV0aWwuYWJvcnRlZChyZXN1bHQpKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlVmFsdWVzKGxlZnQudmFsdWUsIHJpZ2h0LnZhbHVlKTtcbiAgICBpZiAoIW1lcmdlZC52YWxpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVubWVyZ2FibGUgaW50ZXJzZWN0aW9uLiBFcnJvciBwYXRoOiBgICsgYCR7SlNPTi5zdHJpbmdpZnkobWVyZ2VkLm1lcmdlRXJyb3JQYXRoKX1gKTtcbiAgICB9XG4gICAgcmVzdWx0LnZhbHVlID0gbWVyZ2VkLmRhdGE7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBjb25zdCAkWm9kVHVwbGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFR1cGxlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgaXRlbXMgPSBkZWYuaXRlbXM7XG4gICAgY29uc3Qgb3B0U3RhcnQgPSBpdGVtcy5sZW5ndGggLSBbLi4uaXRlbXNdLnJldmVyc2UoKS5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uX3pvZC5vcHRpbiAhPT0gXCJvcHRpb25hbFwiKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJ0dXBsZVwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBbXTtcbiAgICAgICAgY29uc3QgcHJvbXMgPSBbXTtcbiAgICAgICAgaWYgKCFkZWYucmVzdCkge1xuICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gaW5wdXQubGVuZ3RoID4gaXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBpbnB1dC5sZW5ndGggPCBvcHRTdGFydCAtIDE7XG4gICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLih0b29CaWcgPyB7IGNvZGU6IFwidG9vX2JpZ1wiLCBtYXhpbXVtOiBpdGVtcy5sZW5ndGggfSA6IHsgY29kZTogXCJ0b29fc21hbGxcIiwgbWluaW11bTogaXRlbXMubGVuZ3RoIH0pLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGkgPSAtMTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBpZiAoaSA+PSBpbnB1dC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgaWYgKGkgPj0gb3B0U3RhcnQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gaXRlbS5fem9kLnJ1bih7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGlucHV0W2ldLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICB9LCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpID0+IGhhbmRsZVR1cGxlUmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZVR1cGxlUmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5yZXN0KSB7XG4gICAgICAgICAgICBjb25zdCByZXN0ID0gaW5wdXQuc2xpY2UoaXRlbXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWwgb2YgcmVzdCkge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYucmVzdC5fem9kLnJ1bih7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbCxcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICB9LCBjdHgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21zLnB1c2gocmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4gaGFuZGxlVHVwbGVSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBpKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlVHVwbGVSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb21zLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKSA9PiBwYXlsb2FkKTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlVHVwbGVSZXN1bHQocmVzdWx0LCBmaW5hbCwgaW5kZXgpIHtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoaW5kZXgsIHJlc3VsdC5pc3N1ZXMpKTtcbiAgICB9XG4gICAgZmluYWwudmFsdWVbaW5kZXhdID0gcmVzdWx0LnZhbHVlO1xufVxuZXhwb3J0IGNvbnN0ICRab2RSZWNvcmQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFJlY29yZFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIXV0aWwuaXNQbGFpbk9iamVjdChpbnB1dCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcInJlY29yZFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbXMgPSBbXTtcbiAgICAgICAgaWYgKGRlZi5rZXlUeXBlLl96b2QudmFsdWVzKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBkZWYua2V5VHlwZS5fem9kLnZhbHVlcztcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBrZXkgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGtleSA9PT0gXCJzeW1ib2xcIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYudmFsdWVUeXBlLl96b2QucnVuKHsgdmFsdWU6IGlucHV0W2tleV0sIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21zLnB1c2gocmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGtleSwgcmVzdWx0Lmlzc3VlcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleV0gPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGtleSwgcmVzdWx0Lmlzc3VlcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZVtrZXldID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHVucmVjb2duaXplZDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGlucHV0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5yZWNvZ25pemVkID0gdW5yZWNvZ25pemVkID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICB1bnJlY29nbml6ZWQucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1bnJlY29nbml6ZWQgJiYgdW5yZWNvZ25pemVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogXCJ1bnJlY29nbml6ZWRfa2V5c1wiLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAga2V5czogdW5yZWNvZ25pemVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgUmVmbGVjdC5vd25LZXlzKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiX19wcm90b19fXCIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleVJlc3VsdCA9IGRlZi5rZXlUeXBlLl96b2QucnVuKHsgdmFsdWU6IGtleSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICAgICAgICAgIGlmIChrZXlSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzeW5jIHNjaGVtYXMgbm90IHN1cHBvcnRlZCBpbiBvYmplY3Qga2V5cyBjdXJyZW50bHlcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXlSZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9rZXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbjogXCJyZWNvcmRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3Vlczoga2V5UmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDoga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZVtrZXlSZXN1bHQudmFsdWVdID0ga2V5UmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLnZhbHVlVHlwZS5fem9kLnJ1bih7IHZhbHVlOiBpbnB1dFtrZXldLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbXMucHVzaChyZXN1bHQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGtleSwgcmVzdWx0Lmlzc3VlcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZVtrZXlSZXN1bHQudmFsdWVdID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZVtrZXlSZXN1bHQudmFsdWVdID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCkgPT4gcGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RNYXAgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE1hcFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIShpbnB1dCBpbnN0YW5jZW9mIE1hcCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcIm1hcFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbXMgPSBbXTtcbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgaW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleVJlc3VsdCA9IGRlZi5rZXlUeXBlLl96b2QucnVuKHsgdmFsdWU6IGtleSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVSZXN1bHQgPSBkZWYudmFsdWVUeXBlLl96b2QucnVuKHsgdmFsdWU6IHZhbHVlLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgICAgICBpZiAoa2V5UmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSB8fCB2YWx1ZVJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKFByb21pc2UuYWxsKFtrZXlSZXN1bHQsIHZhbHVlUmVzdWx0XSkudGhlbigoW2tleVJlc3VsdCwgdmFsdWVSZXN1bHRdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU1hcFJlc3VsdChrZXlSZXN1bHQsIHZhbHVlUmVzdWx0LCBwYXlsb2FkLCBrZXksIGlucHV0LCBpbnN0LCBjdHgpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZU1hcFJlc3VsdChrZXlSZXN1bHQsIHZhbHVlUmVzdWx0LCBwYXlsb2FkLCBrZXksIGlucHV0LCBpbnN0LCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9tcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCkgPT4gcGF5bG9hZCk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZU1hcFJlc3VsdChrZXlSZXN1bHQsIHZhbHVlUmVzdWx0LCBmaW5hbCwga2V5LCBpbnB1dCwgaW5zdCwgY3R4KSB7XG4gICAgaWYgKGtleVJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh1dGlsLnByb3BlcnR5S2V5VHlwZXMuaGFzKHR5cGVvZiBrZXkpKSB7XG4gICAgICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhrZXksIGtleVJlc3VsdC5pc3N1ZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfa2V5XCIsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcIm1hcFwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBrZXlSZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh2YWx1ZVJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh1dGlsLnByb3BlcnR5S2V5VHlwZXMuaGFzKHR5cGVvZiBrZXkpKSB7XG4gICAgICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhrZXksIHZhbHVlUmVzdWx0Lmlzc3VlcykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJtYXBcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZWxlbWVudFwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgaXNzdWVzOiB2YWx1ZVJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluYWwudmFsdWUuc2V0KGtleVJlc3VsdC52YWx1ZSwgdmFsdWVSZXN1bHQudmFsdWUpO1xufVxuZXhwb3J0IGNvbnN0ICRab2RTZXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFNldFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIShpbnB1dCBpbnN0YW5jZW9mIFNldCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbXMgPSBbXTtcbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGlucHV0KSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYudmFsdWVUeXBlLl96b2QucnVuKHsgdmFsdWU6IGl0ZW0sIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcHJvbXMucHVzaChyZXN1bHQudGhlbigocmVzdWx0KSA9PiBoYW5kbGVTZXRSZXN1bHQocmVzdWx0LCBwYXlsb2FkKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGhhbmRsZVNldFJlc3VsdChyZXN1bHQsIHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9tcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCkgPT4gcGF5bG9hZCk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVNldFJlc3VsdChyZXN1bHQsIGZpbmFsKSB7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnJlc3VsdC5pc3N1ZXMpO1xuICAgIH1cbiAgICBmaW5hbC52YWx1ZS5hZGQocmVzdWx0LnZhbHVlKTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kRW51bSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRW51bVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IHZhbHVlcyA9IHV0aWwuZ2V0RW51bVZhbHVlcyhkZWYuZW50cmllcyk7XG4gICAgY29uc3QgdmFsdWVzU2V0ID0gbmV3IFNldCh2YWx1ZXMpO1xuICAgIGluc3QuX3pvZC52YWx1ZXMgPSB2YWx1ZXNTZXQ7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSBuZXcgUmVnRXhwKGBeKCR7dmFsdWVzXG4gICAgICAgIC5maWx0ZXIoKGspID0+IHV0aWwucHJvcGVydHlLZXlUeXBlcy5oYXModHlwZW9mIGspKVxuICAgICAgICAubWFwKChvKSA9PiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIgPyB1dGlsLmVzY2FwZVJlZ2V4KG8pIDogby50b1N0cmluZygpKSlcbiAgICAgICAgLmpvaW4oXCJ8XCIpfSkkYCk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAodmFsdWVzU2V0LmhhcyhpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3ZhbHVlXCIsXG4gICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZExpdGVyYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZExpdGVyYWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpZiAoZGVmLnZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBsaXRlcmFsIHNjaGVtYSB3aXRoIG5vIHZhbGlkIHZhbHVlc1wiKTtcbiAgICB9XG4gICAgaW5zdC5fem9kLnZhbHVlcyA9IG5ldyBTZXQoZGVmLnZhbHVlcyk7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSBuZXcgUmVnRXhwKGBeKCR7ZGVmLnZhbHVlc1xuICAgICAgICAubWFwKChvKSA9PiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIgPyB1dGlsLmVzY2FwZVJlZ2V4KG8pIDogbyA/IHV0aWwuZXNjYXBlUmVnZXgoby50b1N0cmluZygpKSA6IFN0cmluZyhvKSkpXG4gICAgICAgIC5qb2luKFwifFwiKX0pJGApO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKGluc3QuX3pvZC52YWx1ZXMuaGFzKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICAgICAgICAgIHZhbHVlczogZGVmLnZhbHVlcyxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRmlsZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRmlsZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBGaWxlKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiZmlsZVwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kVHJhbnNmb3JtID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RUcmFuc2Zvcm1cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RFbmNvZGVFcnJvcihpbnN0LmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IF9vdXQgPSBkZWYudHJhbnNmb3JtKHBheWxvYWQudmFsdWUsIHBheWxvYWQpO1xuICAgICAgICBpZiAoY3R4LmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBvdXRwdXQgPSBfb3V0IGluc3RhbmNlb2YgUHJvbWlzZSA/IF9vdXQgOiBQcm9taXNlLnJlc29sdmUoX291dCk7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0LnRoZW4oKG91dHB1dCkgPT4ge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX291dCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RBc3luY0Vycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IF9vdXQ7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZU9wdGlvbmFsUmVzdWx0KHJlc3VsdCwgaW5wdXQpIHtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGggJiYgaW5wdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geyBpc3N1ZXM6IFtdLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgY29uc3QgJFpvZE9wdGlvbmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RPcHRpb25hbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5vcHRpbiA9IFwib3B0aW9uYWxcIjtcbiAgICBpbnN0Ll96b2Qub3B0b3V0ID0gXCJvcHRpb25hbFwiO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMgPyBuZXcgU2V0KFsuLi5kZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzLCB1bmRlZmluZWRdKSA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInBhdHRlcm5cIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gZGVmLmlubmVyVHlwZS5fem9kLnBhdHRlcm47XG4gICAgICAgIHJldHVybiBwYXR0ZXJuID8gbmV3IFJlZ0V4cChgXigke3V0aWwuY2xlYW5SZWdleChwYXR0ZXJuLnNvdXJjZSl9KT8kYCkgOiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoZGVmLmlubmVyVHlwZS5fem9kLm9wdGluID09PSBcIm9wdGlvbmFsXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocikgPT4gaGFuZGxlT3B0aW9uYWxSZXN1bHQociwgcGF5bG9hZC52YWx1ZSkpO1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZU9wdGlvbmFsUmVzdWx0KHJlc3VsdCwgcGF5bG9hZC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBheWxvYWQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE51bGxhYmxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROdWxsYWJsZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLm9wdGluKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdG91dFwiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2Qub3B0b3V0KTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInBhdHRlcm5cIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gZGVmLmlubmVyVHlwZS5fem9kLnBhdHRlcm47XG4gICAgICAgIHJldHVybiBwYXR0ZXJuID8gbmV3IFJlZ0V4cChgXigke3V0aWwuY2xlYW5SZWdleChwYXR0ZXJuLnNvdXJjZSl9fG51bGwpJGApIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMgPyBuZXcgU2V0KFsuLi5kZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzLCBudWxsXSkgOiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICAvLyBGb3J3YXJkIGRpcmVjdGlvbiAoZGVjb2RlKTogYWxsb3cgbnVsbCB0byBwYXNzIHRocm91Z2hcbiAgICAgICAgaWYgKHBheWxvYWQudmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZERlZmF1bHQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZERlZmF1bHRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICAvLyBpbnN0Ll96b2QucWluID0gXCJ0cnVlXCI7XG4gICAgaW5zdC5fem9kLm9wdGluID0gXCJvcHRpb25hbFwiO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3J3YXJkIGRpcmVjdGlvbiAoZGVjb2RlKTogYXBwbHkgZGVmYXVsdHMgZm9yIHVuZGVmaW5lZCBpbnB1dFxuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gZGVmLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogJFpvZERlZmF1bHQgcmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZSBpbW1lZGlhdGVseSBpbiBmb3J3YXJkIGRpcmVjdGlvbi5cbiAgICAgICAgICAgICAqIEl0IGRvZXNuJ3QgcGFzcyB0aGUgZGVmYXVsdCB2YWx1ZSBpbnRvIHRoZSB2YWxpZGF0b3IgKFwicHJlZmF1bHRcIikuIFRoZXJlJ3Mgbm8gcmVhc29uIHRvIHBhc3MgdGhlIGRlZmF1bHQgdmFsdWUgdGhyb3VnaCB2YWxpZGF0aW9uLiBUaGUgdmFsaWRpdHkgb2YgdGhlIGRlZmF1bHQgaXMgZW5mb3JjZWQgYnkgVHlwZVNjcmlwdCBzdGF0aWNhbGx5LiBPdGhlcndpc2UsIGl0J3MgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSB1c2VyIHRvIGVuc3VyZSB0aGUgZGVmYXVsdCBpcyB2YWxpZC4gSW4gdGhlIGNhc2Ugb2YgcGlwZXMgd2l0aCBkaXZlcmdlbnQgaW4vb3V0IHR5cGVzLCB5b3UgY2FuIHNwZWNpZnkgdGhlIGRlZmF1bHQgb24gdGhlIGBpbmAgc2NoZW1hIG9mIHlvdXIgWm9kUGlwZSB0byBzZXQgYSBcInByZWZhdWx0XCIgZm9yIHRoZSBwaXBlLiAgICovXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3J3YXJkIGRpcmVjdGlvbjogY29udGludWUgd2l0aCBkZWZhdWx0IGhhbmRsaW5nXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiBoYW5kbGVEZWZhdWx0UmVzdWx0KHJlc3VsdCwgZGVmKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZURlZmF1bHRSZXN1bHQocmVzdWx0LCBkZWYpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZURlZmF1bHRSZXN1bHQocGF5bG9hZCwgZGVmKSB7XG4gICAgaWYgKHBheWxvYWQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXlsb2FkLnZhbHVlID0gZGVmLmRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHBheWxvYWQ7XG59XG5leHBvcnQgY29uc3QgJFpvZFByZWZhdWx0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RQcmVmYXVsdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5vcHRpbiA9IFwib3B0aW9uYWxcIjtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yd2FyZCBkaXJlY3Rpb24gKGRlY29kZSk6IGFwcGx5IHByZWZhdWx0IGZvciB1bmRlZmluZWQgaW5wdXRcbiAgICAgICAgaWYgKHBheWxvYWQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGRlZi5kZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE5vbk9wdGlvbmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROb25PcHRpb25hbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgdiA9IGRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXM7XG4gICAgICAgIHJldHVybiB2ID8gbmV3IFNldChbLi4udl0uZmlsdGVyKCh4KSA9PiB4ICE9PSB1bmRlZmluZWQpKSA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiBoYW5kbGVOb25PcHRpb25hbFJlc3VsdChyZXN1bHQsIGluc3QpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlTm9uT3B0aW9uYWxSZXN1bHQocmVzdWx0LCBpbnN0KTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVOb25PcHRpb25hbFJlc3VsdChwYXlsb2FkLCBpbnN0KSB7XG4gICAgaWYgKCFwYXlsb2FkLmlzc3Vlcy5sZW5ndGggJiYgcGF5bG9hZC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcIm5vbm9wdGlvbmFsXCIsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcGF5bG9hZDtcbn1cbmV4cG9ydCBjb25zdCAkWm9kU3VjY2VzcyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kU3VjY2Vzc1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEVuY29kZUVycm9yKFwiWm9kU3VjY2Vzc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSByZXN1bHQuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSByZXN1bHQuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDYXRjaCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2F0Y2hcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdGluXCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC5vcHRpbik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLm9wdG91dCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcyk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvcndhcmQgZGlyZWN0aW9uIChkZWNvZGUpOiBhcHBseSBjYXRjaCBsb2dpY1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBkZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IHJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBkZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IHJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROYU4gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE5hTlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZC52YWx1ZSAhPT0gXCJudW1iZXJcIiB8fCAhTnVtYmVyLmlzTmFOKHBheWxvYWQudmFsdWUpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcIm5hblwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kUGlwZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kUGlwZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpID0+IGRlZi5pbi5fem9kLnZhbHVlcyk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKSA9PiBkZWYuaW4uX3pvZC5vcHRpbik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCkgPT4gZGVmLm91dC5fem9kLm9wdG91dCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwcm9wVmFsdWVzXCIsICgpID0+IGRlZi5pbi5fem9kLnByb3BWYWx1ZXMpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBkZWYub3V0Ll96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICBpZiAocmlnaHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJpZ2h0LnRoZW4oKHJpZ2h0KSA9PiBoYW5kbGVQaXBlUmVzdWx0KHJpZ2h0LCBkZWYuaW4sIGN0eCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVBpcGVSZXN1bHQocmlnaHQsIGRlZi5pbiwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZWZ0ID0gZGVmLmluLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIGlmIChsZWZ0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxlZnQudGhlbigobGVmdCkgPT4gaGFuZGxlUGlwZVJlc3VsdChsZWZ0LCBkZWYub3V0LCBjdHgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlUGlwZVJlc3VsdChsZWZ0LCBkZWYub3V0LCBjdHgpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVBpcGVSZXN1bHQobGVmdCwgbmV4dCwgY3R4KSB7XG4gICAgaWYgKGxlZnQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAvLyBwcmV2ZW50IGZ1cnRoZXIgY2hlY2tzXG4gICAgICAgIGxlZnQuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBsZWZ0O1xuICAgIH1cbiAgICByZXR1cm4gbmV4dC5fem9kLnJ1bih7IHZhbHVlOiBsZWZ0LnZhbHVlLCBpc3N1ZXM6IGxlZnQuaXNzdWVzIH0sIGN0eCk7XG59XG5leHBvcnQgY29uc3QgJFpvZENvZGVjID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDb2RlY1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpID0+IGRlZi5pbi5fem9kLnZhbHVlcyk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKSA9PiBkZWYuaW4uX3pvZC5vcHRpbik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCkgPT4gZGVmLm91dC5fem9kLm9wdG91dCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwcm9wVmFsdWVzXCIsICgpID0+IGRlZi5pbi5fem9kLnByb3BWYWx1ZXMpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gY3R4LmRpcmVjdGlvbiB8fCBcImZvcndhcmRcIjtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJmb3J3YXJkXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBkZWYuaW4uX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIGlmIChsZWZ0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0LnRoZW4oKGxlZnQpID0+IGhhbmRsZUNvZGVjQVJlc3VsdChsZWZ0LCBkZWYsIGN0eCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUNvZGVjQVJlc3VsdChsZWZ0LCBkZWYsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByaWdodCA9IGRlZi5vdXQuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyaWdodCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmlnaHQudGhlbigocmlnaHQpID0+IGhhbmRsZUNvZGVjQVJlc3VsdChyaWdodCwgZGVmLCBjdHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVDb2RlY0FSZXN1bHQocmlnaHQsIGRlZiwgY3R4KTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZUNvZGVjQVJlc3VsdChyZXN1bHQsIGRlZiwgY3R4KSB7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIHByZXZlbnQgZnVydGhlciBjaGVja3NcbiAgICAgICAgcmVzdWx0LmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBkaXJlY3Rpb24gPSBjdHguZGlyZWN0aW9uIHx8IFwiZm9yd2FyZFwiO1xuICAgIGlmIChkaXJlY3Rpb24gPT09IFwiZm9yd2FyZFwiKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkID0gZGVmLnRyYW5zZm9ybShyZXN1bHQudmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1lZCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZC50aGVuKCh2YWx1ZSkgPT4gaGFuZGxlQ29kZWNUeFJlc3VsdChyZXN1bHQsIHZhbHVlLCBkZWYub3V0LCBjdHgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlQ29kZWNUeFJlc3VsdChyZXN1bHQsIHRyYW5zZm9ybWVkLCBkZWYub3V0LCBjdHgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSBkZWYucmV2ZXJzZVRyYW5zZm9ybShyZXN1bHQudmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1lZCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZC50aGVuKCh2YWx1ZSkgPT4gaGFuZGxlQ29kZWNUeFJlc3VsdChyZXN1bHQsIHZhbHVlLCBkZWYuaW4sIGN0eCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVDb2RlY1R4UmVzdWx0KHJlc3VsdCwgdHJhbnNmb3JtZWQsIGRlZi5pbiwgY3R4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBoYW5kbGVDb2RlY1R4UmVzdWx0KGxlZnQsIHZhbHVlLCBuZXh0U2NoZW1hLCBjdHgpIHtcbiAgICAvLyBDaGVjayBpZiB0cmFuc2Zvcm0gYWRkZWQgYW55IGlzc3Vlc1xuICAgIGlmIChsZWZ0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgbGVmdC5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGxlZnQ7XG4gICAgfVxuICAgIHJldHVybiBuZXh0U2NoZW1hLl96b2QucnVuKHsgdmFsdWUsIGlzc3VlczogbGVmdC5pc3N1ZXMgfSwgY3R4KTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kUmVhZG9ubHkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFJlYWRvbmx5XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwcm9wVmFsdWVzXCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC5wcm9wVmFsdWVzKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdGluXCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC5vcHRpbik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLm9wdG91dCk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbihoYW5kbGVSZWFkb25seVJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlYWRvbmx5UmVzdWx0KHJlc3VsdCk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlUmVhZG9ubHlSZXN1bHQocGF5bG9hZCkge1xuICAgIHBheWxvYWQudmFsdWUgPSBPYmplY3QuZnJlZXplKHBheWxvYWQudmFsdWUpO1xuICAgIHJldHVybiBwYXlsb2FkO1xufVxuZXhwb3J0IGNvbnN0ICRab2RUZW1wbGF0ZUxpdGVyYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFRlbXBsYXRlTGl0ZXJhbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IHJlZ2V4UGFydHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgZGVmLnBhcnRzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gXCJvYmplY3RcIiAmJiBwYXJ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpcyBab2Qgc2NoZW1hXG4gICAgICAgICAgICBpZiAoIXBhcnQuX3pvZC5wYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgKCFzb3VyY2UpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRlbXBsYXRlIGxpdGVyYWwgcGFydCwgbm8gcGF0dGVybiBmb3VuZDogJHtbLi4ucGFydC5fem9kLnRyYWl0c10uc2hpZnQoKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHBhcnQuX3pvZC5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwID8gcGFydC5fem9kLnBhdHRlcm4uc291cmNlIDogcGFydC5fem9kLnBhdHRlcm47XG4gICAgICAgICAgICBpZiAoIXNvdXJjZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGVtcGxhdGUgbGl0ZXJhbCBwYXJ0OiAke3BhcnQuX3pvZC50cmFpdHN9YCk7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IHNvdXJjZS5zdGFydHNXaXRoKFwiXlwiKSA/IDEgOiAwO1xuICAgICAgICAgICAgY29uc3QgZW5kID0gc291cmNlLmVuZHNXaXRoKFwiJFwiKSA/IHNvdXJjZS5sZW5ndGggLSAxIDogc291cmNlLmxlbmd0aDtcbiAgICAgICAgICAgIHJlZ2V4UGFydHMucHVzaChzb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcnQgPT09IG51bGwgfHwgdXRpbC5wcmltaXRpdmVUeXBlcy5oYXModHlwZW9mIHBhcnQpKSB7XG4gICAgICAgICAgICByZWdleFBhcnRzLnB1c2godXRpbC5lc2NhcGVSZWdleChgJHtwYXJ0fWApKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0ZW1wbGF0ZSBsaXRlcmFsIHBhcnQ6ICR7cGFydH1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IG5ldyBSZWdFeHAoYF4ke3JlZ2V4UGFydHMuam9pbihcIlwiKX0kYCk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcInRlbXBsYXRlX2xpdGVyYWxcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBpbnN0Ll96b2QucGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgICAgICBpZiAoIWluc3QuX3pvZC5wYXR0ZXJuLnRlc3QocGF5bG9hZC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogZGVmLmZvcm1hdCA/PyBcInRlbXBsYXRlX2xpdGVyYWxcIixcbiAgICAgICAgICAgICAgICBwYXR0ZXJuOiBpbnN0Ll96b2QucGF0dGVybi5zb3VyY2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRnVuY3Rpb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEZ1bmN0aW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fZGVmID0gZGVmO1xuICAgIGluc3QuX3pvZC5kZWYgPSBkZWY7XG4gICAgaW5zdC5pbXBsZW1lbnQgPSAoZnVuYykgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW1wbGVtZW50KCkgbXVzdCBiZSBjYWxsZWQgd2l0aCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IGluc3QuX2RlZi5pbnB1dCA/IHBhcnNlKGluc3QuX2RlZi5pbnB1dCwgYXJncykgOiBhcmdzO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5hcHBseShmdW5jLCB0aGlzLCBwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgIGlmIChpbnN0Ll9kZWYub3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlKGluc3QuX2RlZi5vdXRwdXQsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgaW5zdC5pbXBsZW1lbnRBc3luYyA9IChmdW5jKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbXBsZW1lbnRBc3luYygpIG11c3QgYmUgY2FsbGVkIHdpdGggYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBpbnN0Ll9kZWYuaW5wdXQgPyBhd2FpdCBwYXJzZUFzeW5jKGluc3QuX2RlZi5pbnB1dCwgYXJncykgOiBhcmdzO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUmVmbGVjdC5hcHBseShmdW5jLCB0aGlzLCBwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgIGlmIChpbnN0Ll9kZWYub3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHBhcnNlQXN5bmMoaW5zdC5fZGVmLm91dHB1dCwgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQudmFsdWUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIG91dHB1dCBpcyBhIHByb21pc2UgdHlwZSB0byBkZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIHVzZSBhc3luYyBpbXBsZW1lbnRhdGlvblxuICAgICAgICBjb25zdCBoYXNQcm9taXNlT3V0cHV0ID0gaW5zdC5fZGVmLm91dHB1dCAmJiBpbnN0Ll9kZWYub3V0cHV0Ll96b2QuZGVmLnR5cGUgPT09IFwicHJvbWlzZVwiO1xuICAgICAgICBpZiAoaGFzUHJvbWlzZU91dHB1dCkge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGluc3QuaW1wbGVtZW50QXN5bmMocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gaW5zdC5pbXBsZW1lbnQocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbiAgICBpbnN0LmlucHV0ID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgRiA9IGluc3QuY29uc3RydWN0b3I7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEYoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICBpbnB1dDogbmV3ICRab2RUdXBsZSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidHVwbGVcIixcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIHJlc3Q6IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBpbnN0Ll9kZWYub3V0cHV0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBGKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgIGlucHV0OiBhcmdzWzBdLFxuICAgICAgICAgICAgb3V0cHV0OiBpbnN0Ll9kZWYub3V0cHV0LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGluc3Qub3V0cHV0ID0gKG91dHB1dCkgPT4ge1xuICAgICAgICBjb25zdCBGID0gaW5zdC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBGKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgIGlucHV0OiBpbnN0Ll9kZWYuaW5wdXQsXG4gICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGluc3Q7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kUHJvbWlzZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kUHJvbWlzZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwYXlsb2FkLnZhbHVlKS50aGVuKChpbm5lcikgPT4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bih7IHZhbHVlOiBpbm5lciwgaXNzdWVzOiBbXSB9LCBjdHgpKTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZExhenkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZExhenlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICAvLyBsZXQgX2lubmVyVHlwZSE6IGFueTtcbiAgICAvLyB1dGlsLmRlZmluZUxhenkoZGVmLCBcImdldHRlclwiLCAoKSA9PiB7XG4gICAgLy8gICBpZiAoIV9pbm5lclR5cGUpIHtcbiAgICAvLyAgICAgX2lubmVyVHlwZSA9IGRlZi5nZXR0ZXIoKTtcbiAgICAvLyAgIH1cbiAgICAvLyAgIHJldHVybiAoKSA9PiBfaW5uZXJUeXBlO1xuICAgIC8vIH0pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwiaW5uZXJUeXBlXCIsICgpID0+IGRlZi5nZXR0ZXIoKSk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwYXR0ZXJuXCIsICgpID0+IGluc3QuX3pvZC5pbm5lclR5cGUuX3pvZC5wYXR0ZXJuKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInByb3BWYWx1ZXNcIiwgKCkgPT4gaW5zdC5fem9kLmlubmVyVHlwZS5fem9kLnByb3BWYWx1ZXMpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCkgPT4gaW5zdC5fem9kLmlubmVyVHlwZS5fem9kLm9wdGluID8/IHVuZGVmaW5lZCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCkgPT4gaW5zdC5fem9kLmlubmVyVHlwZS5fem9kLm9wdG91dCA/PyB1bmRlZmluZWQpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5uZXIgPSBpbnN0Ll96b2QuaW5uZXJUeXBlO1xuICAgICAgICByZXR1cm4gaW5uZXIuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEN1c3RvbSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ3VzdG9tXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjaGVja3MuJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF8pID0+IHtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IHIgPSBkZWYuZm4oaW5wdXQpO1xuICAgICAgICBpZiAociBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByLnRoZW4oKHIpID0+IGhhbmRsZVJlZmluZVJlc3VsdChyLCBwYXlsb2FkLCBpbnB1dCwgaW5zdCkpO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZVJlZmluZVJlc3VsdChyLCBwYXlsb2FkLCBpbnB1dCwgaW5zdCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVSZWZpbmVSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBpbnB1dCwgaW5zdCkge1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IF9pc3MgPSB7XG4gICAgICAgICAgICBjb2RlOiBcImN1c3RvbVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LCAvLyBpbmNvcnBvcmF0ZXMgcGFyYW1zLmVycm9yIGludG8gaXNzdWUgcmVwb3J0aW5nXG4gICAgICAgICAgICBwYXRoOiBbLi4uKGluc3QuX3pvZC5kZWYucGF0aCA/PyBbXSldLCAvLyBpbmNvcnBvcmF0ZXMgcGFyYW1zLmVycm9yIGludG8gaXNzdWUgcmVwb3J0aW5nXG4gICAgICAgICAgICBjb250aW51ZTogIWluc3QuX3pvZC5kZWYuYWJvcnQsXG4gICAgICAgICAgICAvLyBwYXJhbXM6IGluc3QuX3pvZC5kZWYucGFyYW1zLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoaW5zdC5fem9kLmRlZi5wYXJhbXMpXG4gICAgICAgICAgICBfaXNzLnBhcmFtcyA9IGluc3QuX3pvZC5kZWYucGFyYW1zO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHV0aWwuaXNzdWUoX2lzcykpO1xuICAgIH1cbn1cbiIsICJleHBvcnQgeyBkZWZhdWx0IGFzIGFyIH0gZnJvbSBcIi4vYXIuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgYXogfSBmcm9tIFwiLi9hei5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBiZSB9IGZyb20gXCIuL2JlLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNhIH0gZnJvbSBcIi4vY2EuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY3MgfSBmcm9tIFwiLi9jcy5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBkYSB9IGZyb20gXCIuL2RhLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGRlIH0gZnJvbSBcIi4vZGUuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZW4gfSBmcm9tIFwiLi9lbi5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlbyB9IGZyb20gXCIuL2VvLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGVzIH0gZnJvbSBcIi4vZXMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZmEgfSBmcm9tIFwiLi9mYS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBmaSB9IGZyb20gXCIuL2ZpLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZyIH0gZnJvbSBcIi4vZnIuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZnJDQSB9IGZyb20gXCIuL2ZyLUNBLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGhlIH0gZnJvbSBcIi4vaGUuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaHUgfSBmcm9tIFwiLi9odS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpZCB9IGZyb20gXCIuL2lkLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzIH0gZnJvbSBcIi4vaXMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXQgfSBmcm9tIFwiLi9pdC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBqYSB9IGZyb20gXCIuL2phLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGthIH0gZnJvbSBcIi4va2EuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMga2ggfSBmcm9tIFwiLi9raC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBrbSB9IGZyb20gXCIuL2ttLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGtvIH0gZnJvbSBcIi4va28uanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbHQgfSBmcm9tIFwiLi9sdC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBtayB9IGZyb20gXCIuL21rLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG1zIH0gZnJvbSBcIi4vbXMuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbmwgfSBmcm9tIFwiLi9ubC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBubyB9IGZyb20gXCIuL25vLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG90YSB9IGZyb20gXCIuL290YS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwcyB9IGZyb20gXCIuL3BzLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHBsIH0gZnJvbSBcIi4vcGwuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcHQgfSBmcm9tIFwiLi9wdC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBydSB9IGZyb20gXCIuL3J1LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHNsIH0gZnJvbSBcIi4vc2wuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3YgfSBmcm9tIFwiLi9zdi5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB0YSB9IGZyb20gXCIuL3RhLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHRoIH0gZnJvbSBcIi4vdGguanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdHIgfSBmcm9tIFwiLi90ci5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1YSB9IGZyb20gXCIuL3VhLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVrIH0gZnJvbSBcIi4vdWsuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXIgfSBmcm9tIFwiLi91ci5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2aSB9IGZyb20gXCIuL3ZpLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHpoQ04gfSBmcm9tIFwiLi96aC1DTi5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB6aFRXIH0gZnJvbSBcIi4vemgtVFcuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgeW8gfSBmcm9tIFwiLi95by5qc1wiO1xuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUwNjJEXHUwNjMxXHUwNjQxXCIsIHZlcmI6IFwiXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDYyRFx1MDY0OFx1MDY0QVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTA2MjhcdTA2MjdcdTA2NEFcdTA2MkFcIiwgdmVyYjogXCJcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjJEXHUwNjQ4XHUwNjRBXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTA2MzlcdTA2NDZcdTA2MzVcdTA2MzFcIiwgdmVyYjogXCJcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjJEXHUwNjQ4XHUwNjRBXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwNjM5XHUwNjQ2XHUwNjM1XHUwNjMxXCIsIHZlcmI6IFwiXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDYyRFx1MDY0OFx1MDY0QVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA2NDVcdTA2MkZcdTA2MkVcdTA2NDRcIixcbiAgICAgICAgZW1haWw6IFwiXHUwNjI4XHUwNjMxXHUwNjRBXHUwNjJGIFx1MDYyNVx1MDY0NFx1MDY0M1x1MDYyQVx1MDYzMVx1MDY0OFx1MDY0Nlx1MDY0QVwiLFxuICAgICAgICB1cmw6IFwiXHUwNjMxXHUwNjI3XHUwNjI4XHUwNjM3XCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDYyNVx1MDY0QVx1MDY0NVx1MDY0OFx1MDYyQ1x1MDY0QVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTA2MkFcdTA2MjdcdTA2MzFcdTA2NEFcdTA2MkUgXHUwNjQ4XHUwNjQ4XHUwNjQyXHUwNjJBIFx1MDYyOFx1MDY0NVx1MDYzOVx1MDY0QVx1MDYyN1x1MDYzMSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJcdTA2MkFcdTA2MjdcdTA2MzFcdTA2NEFcdTA2MkUgXHUwNjI4XHUwNjQ1XHUwNjM5XHUwNjRBXHUwNjI3XHUwNjMxIElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MDY0OFx1MDY0Mlx1MDYyQSBcdTA2MjhcdTA2NDVcdTA2MzlcdTA2NEFcdTA2MjdcdTA2MzEgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MDY0NVx1MDYyRlx1MDYyOSBcdTA2MjhcdTA2NDVcdTA2MzlcdTA2NEFcdTA2MjdcdTA2MzEgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiXHUwNjM5XHUwNjQ2XHUwNjQ4XHUwNjI3XHUwNjQ2IElQdjRcIixcbiAgICAgICAgaXB2NjogXCJcdTA2MzlcdTA2NDZcdTA2NDhcdTA2MjdcdTA2NDYgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiXHUwNjQ1XHUwNjJGXHUwNjQ5IFx1MDYzOVx1MDY0Nlx1MDYyN1x1MDY0OFx1MDY0QVx1MDY0NiBcdTA2MjhcdTA2MzVcdTA2NEFcdTA2M0FcdTA2MjkgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiXHUwNjQ1XHUwNjJGXHUwNjQ5IFx1MDYzOVx1MDY0Nlx1MDYyN1x1MDY0OFx1MDY0QVx1MDY0NiBcdTA2MjhcdTA2MzVcdTA2NEFcdTA2M0FcdTA2MjkgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwNjQ2XHUwNjRFXHUwNjM1IFx1MDYyOFx1MDYyQVx1MDYzMVx1MDY0NVx1MDY0QVx1MDYzMiBiYXNlNjQtZW5jb2RlZFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUwNjQ2XHUwNjRFXHUwNjM1IFx1MDYyOFx1MDYyQVx1MDYzMVx1MDY0NVx1MDY0QVx1MDYzMiBiYXNlNjR1cmwtZW5jb2RlZFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJcdTA2NDZcdTA2NEVcdTA2MzUgXHUwNjM5XHUwNjQ0XHUwNjQ5IFx1MDY0N1x1MDY0QVx1MDYyNlx1MDYyOSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwNjMxXHUwNjQyXHUwNjQ1IFx1MDY0N1x1MDYyN1x1MDYyQVx1MDY0MSBcdTA2MjhcdTA2NDVcdTA2MzlcdTA2NEFcdTA2MjdcdTA2MzEgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDY0NVx1MDYyRlx1MDYyRVx1MDY0NFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0NVx1MDYyRlx1MDYyRVx1MDY0NFx1MDYyN1x1MDYyQSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0XHUwNjI5OiBcdTA2NEFcdTA2NDFcdTA2MkFcdTA2MzFcdTA2MzYgXHUwNjI1XHUwNjJGXHUwNjJFXHUwNjI3XHUwNjQ0ICR7aXNzdWUuZXhwZWN0ZWR9XHUwNjBDIFx1MDY0OFx1MDY0NFx1MDY0M1x1MDY0NiBcdTA2MkFcdTA2NDUgXHUwNjI1XHUwNjJGXHUwNjJFXHUwNjI3XHUwNjQ0ICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ1XHUwNjJGXHUwNjJFXHUwNjQ0XHUwNjI3XHUwNjJBIFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDRcdTA2Mjk6IFx1MDY0QVx1MDY0MVx1MDYyQVx1MDYzMVx1MDYzNiBcdTA2MjVcdTA2MkZcdTA2MkVcdTA2MjdcdTA2NDQgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MjdcdTA2MkVcdTA2MkFcdTA2NEFcdTA2MjdcdTA2MzEgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NDogXHUwNjRBXHUwNjJBXHUwNjQ4XHUwNjQyXHUwNjM5IFx1MDYyN1x1MDY0Nlx1MDYyQVx1MDY0Mlx1MDYyN1x1MDYyMSBcdTA2MjNcdTA2MkRcdTA2MkYgXHUwNjQ3XHUwNjMwXHUwNjQ3IFx1MDYyN1x1MDY0NFx1MDYyRVx1MDY0QVx1MDYyN1x1MDYzMVx1MDYyN1x1MDYyQTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCBcdTA2MjNcdTA2NDNcdTA2MjhcdTA2MzEgXHUwNjQ1XHUwNjQ2IFx1MDYyN1x1MDY0NFx1MDY0NFx1MDYyN1x1MDYzMlx1MDY0NTogXHUwNjRBXHUwNjQxXHUwNjJBXHUwNjMxXHUwNjM2IFx1MDYyM1x1MDY0NiBcdTA2MkFcdTA2NDNcdTA2NDhcdTA2NDYgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA2MjdcdTA2NDRcdTA2NDJcdTA2NEFcdTA2NDVcdTA2MjlcIn0gJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwNjM5XHUwNjQ2XHUwNjM1XHUwNjMxXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyM1x1MDY0M1x1MDYyOFx1MDYzMSBcdTA2NDVcdTA2NDYgXHUwNjI3XHUwNjQ0XHUwNjQ0XHUwNjI3XHUwNjMyXHUwNjQ1OiBcdTA2NEFcdTA2NDFcdTA2MkFcdTA2MzFcdTA2MzYgXHUwNjIzXHUwNjQ2IFx1MDYyQVx1MDY0M1x1MDY0OFx1MDY0NiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDYyN1x1MDY0NFx1MDY0Mlx1MDY0QVx1MDY0NVx1MDYyOVwifSAke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MjNcdTA2MzVcdTA2M0FcdTA2MzEgXHUwNjQ1XHUwNjQ2IFx1MDYyN1x1MDY0NFx1MDY0NFx1MDYyN1x1MDYzMlx1MDY0NTogXHUwNjRBXHUwNjQxXHUwNjJBXHUwNjMxXHUwNjM2IFx1MDY0NFx1MDY0MCAke2lzc3VlLm9yaWdpbn0gXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDY0M1x1MDY0OFx1MDY0NiAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MjNcdTA2MzVcdTA2M0FcdTA2MzEgXHUwNjQ1XHUwNjQ2IFx1MDYyN1x1MDY0NFx1MDY0NFx1MDYyN1x1MDYzMlx1MDY0NTogXHUwNjRBXHUwNjQxXHUwNjJBXHUwNjMxXHUwNjM2IFx1MDY0NFx1MDY0MCAke2lzc3VlLm9yaWdpbn0gXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDY0M1x1MDY0OFx1MDY0NiAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2NEVcdTA2MzUgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NDogXHUwNjRBXHUwNjJDXHUwNjI4IFx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MjhcdTA2MkZcdTA2MjMgXHUwNjI4XHUwNjQwIFwiJHtpc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDY0RVx1MDYzNSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0OiBcdTA2NEFcdTA2MkNcdTA2MjggXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDY0Nlx1MDYyQVx1MDY0N1x1MDY0QSBcdTA2MjhcdTA2NDAgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjRFXHUwNjM1IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDQ6IFx1MDY0QVx1MDYyQ1x1MDYyOCBcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjJBXHUwNjM2XHUwNjQ1XHUwNjUxXHUwNjRFXHUwNjQ2IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjRFXHUwNjM1IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDQ6IFx1MDY0QVx1MDYyQ1x1MDYyOCBcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjM3XHUwNjI3XHUwNjI4XHUwNjQyIFx1MDYyN1x1MDY0NFx1MDY0Nlx1MDY0NVx1MDYzNyAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MzFcdTA2NDJcdTA2NDUgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NDogXHUwNjRBXHUwNjJDXHUwNjI4IFx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2NDNcdTA2NDhcdTA2NDYgXHUwNjQ1XHUwNjQ2IFx1MDY0NVx1MDYzNlx1MDYyN1x1MDYzOVx1MDY0MVx1MDYyN1x1MDYyQSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ1XHUwNjM5XHUwNjMxXHUwNjQxJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDYyN1x1MDYyQVwiIDogXCJcIn0gXHUwNjNBXHUwNjMxXHUwNjRBXHUwNjI4JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDYyOVwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiXHUwNjBDIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDVcdTA2MzlcdTA2MzFcdTA2NDEgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NCBcdTA2NDFcdTA2NEEgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNjQ1XHUwNjJGXHUwNjJFXHUwNjQ0IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0NVx1MDYyRlx1MDYyRVx1MDY0NCBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0IFx1MDY0MVx1MDY0QSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA2NDVcdTA2MkZcdTA2MkVcdTA2NDQgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NFwiO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcInNpbXZvbFwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxZFx1MDEzMXJcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYmF5dFwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxZFx1MDEzMXJcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1lbnRcIiwgdmVyYjogXCJvbG1hbFx1MDEzMWRcdTAxMzFyXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbWVudFwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxZFx1MDEzMXJcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiaW5wdXRcIixcbiAgICAgICAgZW1haWw6IFwiZW1haWwgYWRkcmVzc1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYXRldGltZVwiLFxuICAgICAgICBkYXRlOiBcIklTTyBkYXRlXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIHRpbWVcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIGR1cmF0aW9uXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBhZGRyZXNzXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBhZGRyZXNzXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IHJhbmdlXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IHJhbmdlXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZW5jb2RlZCBzdHJpbmdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1lbmNvZGVkIHN0cmluZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIHN0cmluZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IG51bWJlclwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIGRcdTAyNTl5XHUwMjU5cjogZ1x1MDBGNnpsXHUwMjU5bmlsXHUwMjU5biAke2lzc3VlLmV4cGVjdGVkfSwgZGF4aWwgb2xhbiAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgZFx1MDI1OXlcdTAyNTlyOiBnXHUwMEY2emxcdTAyNTluaWxcdTAyNTluICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBzZVx1MDBFN2ltOiBhXHUwMTVGYVx1MDExRlx1MDEzMWRha1x1MDEzMWxhcmRhbiBiaXJpIG9sbWFsXHUwMTMxZFx1MDEzMXI6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzdveCBiXHUwMEY2eVx1MDBGQ2s6IGdcdTAwRjZ6bFx1MDI1OW5pbFx1MDI1OW4gJHtpc3N1ZS5vcmlnaW4gPz8gXCJkXHUwMjU5eVx1MDI1OXJcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50XCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDN294IGJcdTAwRjZ5XHUwMEZDazogZ1x1MDBGNnpsXHUwMjU5bmlsXHUwMjU5biAke2lzc3VlLm9yaWdpbiA/PyBcImRcdTAyNTl5XHUwMjU5clwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzdveCBraVx1MDBFN2lrOiBnXHUwMEY2emxcdTAyNTluaWxcdTAyNTluICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM3b3gga2lcdTAwRTdpazogZ1x1MDBGNnpsXHUwMjU5bmlsXHUwMjU5biAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIG1cdTAyNTl0bjogXCIke19pc3N1ZS5wcmVmaXh9XCIgaWxcdTAyNTkgYmFcdTAxNUZsYW1hbFx1MDEzMWRcdTAxMzFyYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIG1cdTAyNTl0bjogXCIke19pc3N1ZS5zdWZmaXh9XCIgaWxcdTAyNTkgYml0bVx1MDI1OWxpZGlyYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgbVx1MDI1OXRuOiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIGRheGlsIG9sbWFsXHUwMTMxZFx1MDEzMXJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBtXHUwMjU5dG46ICR7X2lzc3VlLnBhdHRlcm59IFx1MDE1RmFibG9udW5hIHV5XHUwMTFGdW4gb2xtYWxcdTAxMzFkXHUwMTMxcmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIFx1MDI1OWRcdTAyNTlkOiAke2lzc3VlLmRpdmlzb3J9IGlsXHUwMjU5IGJcdTAwRjZsXHUwMEZDblx1MDI1OSBiaWxcdTAyNTluIG9sbWFsXHUwMTMxZFx1MDEzMXJgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUYW5cdTAxMzFubWF5YW4gYVx1MDBFN2FyJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImxhclwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IGRheGlsaW5kXHUwMjU5IHlhbmxcdTAxMzFcdTAxNUYgYVx1MDBFN2FyYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiWWFubFx1MDEzMVx1MDE1RiBkXHUwMjU5eVx1MDI1OXJcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBkYXhpbGluZFx1MDI1OSB5YW5sXHUwMTMxXHUwMTVGIGRcdTAyNTl5XHUwMjU5cmA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBkXHUwMjU5eVx1MDI1OXJgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmZ1bmN0aW9uIGdldEJlbGFydXNpYW5QbHVyYWwoY291bnQsIG9uZSwgZmV3LCBtYW55KSB7XG4gICAgY29uc3QgYWJzQ291bnQgPSBNYXRoLmFicyhjb3VudCk7XG4gICAgY29uc3QgbGFzdERpZ2l0ID0gYWJzQ291bnQgJSAxMDtcbiAgICBjb25zdCBsYXN0VHdvRGlnaXRzID0gYWJzQ291bnQgJSAxMDA7XG4gICAgaWYgKGxhc3RUd29EaWdpdHMgPj0gMTEgJiYgbGFzdFR3b0RpZ2l0cyA8PSAxOSkge1xuICAgICAgICByZXR1cm4gbWFueTtcbiAgICB9XG4gICAgaWYgKGxhc3REaWdpdCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gb25lO1xuICAgIH1cbiAgICBpZiAobGFzdERpZ2l0ID49IDIgJiYgbGFzdERpZ2l0IDw9IDQpIHtcbiAgICAgICAgcmV0dXJuIGZldztcbiAgICB9XG4gICAgcmV0dXJuIG1hbnk7XG59XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiXHUwNDQxXHUwNDU2XHUwNDNDXHUwNDMyXHUwNDMwXHUwNDNCXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcIlx1MDQ0MVx1MDQ1Nlx1MDQzQ1x1MDQzMlx1MDQzMFx1MDQzQlx1MDQ0QlwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiXHUwNDQxXHUwNDU2XHUwNDNDXHUwNDMyXHUwNDMwXHUwNDNCXHUwNDMwXHUwNDVFXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0M0NcdTA0MzVcdTA0NDZcdTA0NENcIixcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQ0QlwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDMwXHUwNDVFXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0M0NcdTA0MzVcdTA0NDZcdTA0NENcIixcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0MlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0NEJcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzMFx1MDQ1RVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDNDXHUwNDM1XHUwNDQ2XHUwNDRDXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiXHUwNDMxXHUwNDMwXHUwNDM5XHUwNDQyXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcIlx1MDQzMVx1MDQzMFx1MDQzOVx1MDQ0Mlx1MDQ0QlwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiXHUwNDMxXHUwNDMwXHUwNDM5XHUwNDQyXHUwNDMwXHUwNDVFXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0M0NcdTA0MzVcdTA0NDZcdTA0NENcIixcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA0M0JcdTA0NTZcdTA0M0FcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDQzQ1x1MDQzMFx1MDQ0MVx1MDQ1Nlx1MDQ1RVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA0NDNcdTA0MzJcdTA0M0VcdTA0MzRcIixcbiAgICAgICAgZW1haWw6IFwiZW1haWwgXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDMwXHUwNDQxXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNDREXHUwNDNDXHUwNDNFXHUwNDM0XHUwNDM3XHUwNDU2XCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBcdTA0MzRcdTA0MzBcdTA0NDJcdTA0MzAgXHUwNDU2IFx1MDQ0N1x1MDQzMFx1MDQ0MVwiLFxuICAgICAgICBkYXRlOiBcIklTTyBcdTA0MzRcdTA0MzBcdTA0NDJcdTA0MzBcIixcbiAgICAgICAgdGltZTogXCJJU08gXHUwNDQ3XHUwNDMwXHUwNDQxXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0NDZcdTA0NEZcdTA0MzNcdTA0M0JcdTA0MzBcdTA0NDFcdTA0NDZcdTA0NENcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzMFx1MDQ0MVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDMwXHUwNDQxXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IFx1MDQzNFx1MDQ0Qlx1MDQ0Rlx1MDQzRlx1MDQzMFx1MDQzN1x1MDQzRVx1MDQzRFwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBcdTA0MzRcdTA0NEJcdTA0NEZcdTA0M0ZcdTA0MzBcdTA0MzdcdTA0M0VcdTA0M0RcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzRVx1MDQzQSBcdTA0NDMgXHUwNDQ0XHUwNDMwXHUwNDQwXHUwNDNDXHUwNDMwXHUwNDQ2XHUwNDM1IGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDNFXHUwNDNBIFx1MDQ0MyBcdTA0NDRcdTA0MzBcdTA0NDBcdTA0M0NcdTA0MzBcdTA0NDZcdTA0MzUgYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDNFXHUwNDNBXCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwNDNEXHUwNDQzXHUwNDNDXHUwNDMwXHUwNDQwIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTA0NDNcdTA0MzJcdTA0M0VcdTA0MzRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDVFXHUwNDMyXHUwNDNFXHUwNDM0OiBcdTA0NDdcdTA0MzBcdTA0M0FcdTA0MzBcdTA0NUVcdTA0NDFcdTA0NEYgJHtpc3N1ZS5leHBlY3RlZH0sIFx1MDQzMFx1MDQ0Mlx1MDQ0MFx1MDQ0Qlx1MDQzQ1x1MDQzMFx1MDQzRFx1MDQzMCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0NUVcdTA0MzJcdTA0M0VcdTA0MzQ6IFx1MDQ0N1x1MDQzMFx1MDQzQVx1MDQzMFx1MDQzQlx1MDQzMFx1MDQ0MVx1MDQ0RiAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0MzJcdTA0MzBcdTA0NDBcdTA0NEJcdTA0NEZcdTA0M0RcdTA0NDI6IFx1MDQ0N1x1MDQzMFx1MDQzQVx1MDQzMFx1MDQ1RVx1MDQ0MVx1MDQ0RiBcdTA0MzBcdTA0MzRcdTA0MzdcdTA0NTZcdTA0M0QgXHUwNDM3ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhWYWx1ZSA9IE51bWJlcihpc3N1ZS5tYXhpbXVtKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5pdCA9IGdldEJlbGFydXNpYW5QbHVyYWwobWF4VmFsdWUsIHNpemluZy51bml0Lm9uZSwgc2l6aW5nLnVuaXQuZmV3LCBzaXppbmcudW5pdC5tYW55KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0MzAgXHUwNDMyXHUwNDRGXHUwNDNCXHUwNDU2XHUwNDNBXHUwNDU2OiBcdTA0NDdcdTA0MzBcdTA0M0FcdTA0MzBcdTA0M0JcdTA0MzBcdTA0NDFcdTA0NEYsIFx1MDQ0OFx1MDQ0Mlx1MDQzRSAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQ0RFx1MDQzRFx1MDQzRFx1MDQzNVwifSBcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0RcdTA0M0RcdTA0MzAgJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7dW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzMCBcdTA0MzJcdTA0NEZcdTA0M0JcdTA0NTZcdTA0M0FcdTA0NTY6IFx1MDQ0N1x1MDQzMFx1MDQzQVx1MDQzMFx1MDQzQlx1MDQzMFx1MDQ0MVx1MDQ0RiwgXHUwNDQ4XHUwNDQyXHUwNDNFICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDREXHUwNDNEXHUwNDNEXHUwNDM1XCJ9IFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzRFx1MDQzRFx1MDQzMCBcdTA0MzFcdTA0NEJcdTA0NDZcdTA0NEMgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluVmFsdWUgPSBOdW1iZXIoaXNzdWUubWluaW11bSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuaXQgPSBnZXRCZWxhcnVzaWFuUGx1cmFsKG1pblZhbHVlLCBzaXppbmcudW5pdC5vbmUsIHNpemluZy51bml0LmZldywgc2l6aW5nLnVuaXQubWFueSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDE3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDMwIFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0QjogXHUwNDQ3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNCXHUwNDMwXHUwNDQxXHUwNDRGLCBcdTA0NDhcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW59IFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzRFx1MDQzRFx1MDQzMCAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHt1bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDE3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDMwIFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0QjogXHUwNDQ3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNCXHUwNDMwXHUwNDQxXHUwNDRGLCBcdTA0NDhcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW59IFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzRFx1MDQzRFx1MDQzMCBcdTA0MzFcdTA0NEJcdTA0NDZcdTA0NEMgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDNFXHUwNDNBOiBcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0RcdTA0MzVcdTA0M0QgXHUwNDNGXHUwNDMwXHUwNDQ3XHUwNDRCXHUwNDNEXHUwNDMwXHUwNDQ2XHUwNDQ2XHUwNDMwIFx1MDQzNyBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzN1x1MDQzMFx1MDQzQVx1MDQzMFx1MDQzRFx1MDQ0N1x1MDQzMlx1MDQzMFx1MDQ0Nlx1MDQ0Nlx1MDQzMCBcdTA0M0RcdTA0MzAgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzN1x1MDQzQ1x1MDQ0Rlx1MDQ0OFx1MDQ0N1x1MDQzMFx1MDQ0Nlx1MDQ0QyBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0NDBcdTA0MzBcdTA0MzRcdTA0M0VcdTA0M0E6IFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzRFx1MDQzNVx1MDQzRCBcdTA0MzBcdTA0MzRcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NEZcdTA0MzRcdTA0MzBcdTA0NDZcdTA0NEMgXHUwNDQ4XHUwNDMwXHUwNDMxXHUwNDNCXHUwNDNFXHUwNDNEXHUwNDQzICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQzQlx1MDQ1Nlx1MDQzQTogXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzMVx1MDQ0Qlx1MDQ0Nlx1MDQ0QyBcdTA0M0FcdTA0NDBcdTA0MzBcdTA0NDJcdTA0M0RcdTA0NEJcdTA0M0MgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQ0MFx1MDQzMFx1MDQ0MVx1MDQzRlx1MDQzMFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQzRFx1MDQ0QiAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNDNBXHUwNDNCXHUwNDRFXHUwNDQ3XHUwNDRCXCIgOiBcIlx1MDQzQVx1MDQzQlx1MDQ0RVx1MDQ0N1wifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDNBXHUwNDNCXHUwNDRFXHUwNDQ3IFx1MDQ0MyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDVFXHUwNDMyXHUwNDNFXHUwNDM0XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzBcdTA0MzUgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDREXHUwNDNEXHUwNDNEXHUwNDM1IFx1MDQ1RSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0NUVcdTA0MzJcdTA0M0VcdTA0MzRgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImNhclx1MDBFMGN0ZXJzXCIsIHZlcmI6IFwiY29udGVuaXJcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZXNcIiwgdmVyYjogXCJjb250ZW5pclwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbWVudHNcIiwgdmVyYjogXCJjb250ZW5pclwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1lbnRzXCIsIHZlcmI6IFwiY29udGVuaXJcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiZW50cmFkYVwiLFxuICAgICAgICBlbWFpbDogXCJhZHJlXHUwMEU3YSBlbGVjdHJcdTAwRjJuaWNhXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZGF0YSBpIGhvcmEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0YSBJU09cIixcbiAgICAgICAgdGltZTogXCJob3JhIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJkdXJhZGEgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiYWRyZVx1MDBFN2EgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcImFkcmVcdTAwRTdhIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcInJhbmcgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwicmFuZyBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJjYWRlbmEgY29kaWZpY2FkYSBlbiBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImNhZGVuYSBjb2RpZmljYWRhIGVuIGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJjYWRlbmEgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm5cdTAwRkFtZXJvIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJlbnRyYWRhXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVGlwdXMgaW52XHUwMEUwbGlkOiBzJ2VzcGVyYXZhICR7aXNzdWUuZXhwZWN0ZWR9LCBzJ2hhIHJlYnV0ICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIC8vIHJldHVybiBgVGlwdXMgaW52XHUwMEUwbGlkOiBzJ2VzcGVyYXZhICR7aXNzdWUuZXhwZWN0ZWR9LCBzJ2hhIHJlYnV0ICR7dXRpbC5nZXRQYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBWYWxvciBpbnZcdTAwRTBsaWQ6IHMnZXNwZXJhdmEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPcGNpXHUwMEYzIGludlx1MDBFMGxpZGE6IHMnZXNwZXJhdmEgdW5hIGRlICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCIgbyBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcImNvbSBhIG1cdTAwRTB4aW1cIiA6IFwibWVueXMgZGVcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE1hc3NhIGdyYW46IHMnZXNwZXJhdmEgcXVlICR7aXNzdWUub3JpZ2luID8/IFwiZWwgdmFsb3JcIn0gY29udGluZ3VcdTAwRTlzICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRzXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE1hc3NhIGdyYW46IHMnZXNwZXJhdmEgcXVlICR7aXNzdWUub3JpZ2luID8/IFwiZWwgdmFsb3JcIn0gZm9zICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJjb20gYSBtXHUwMEVEbmltXCIgOiBcIm1cdTAwRTlzIGRlXCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE1hc3NhIHBldGl0OiBzJ2VzcGVyYXZhIHF1ZSAke2lzc3VlLm9yaWdpbn0gY29udGluZ3VcdTAwRTlzICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYE1hc3NhIHBldGl0OiBzJ2VzcGVyYXZhIHF1ZSAke2lzc3VlLm9yaWdpbn0gZm9zICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRm9ybWF0IGludlx1MDBFMGxpZDogaGEgZGUgY29tZW5cdTAwRTdhciBhbWIgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGb3JtYXQgaW52XHUwMEUwbGlkOiBoYSBkJ2FjYWJhciBhbWIgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRm9ybWF0IGludlx1MDBFMGxpZDogaGEgZCdpbmNsb3VyZSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvcm1hdCBpbnZcdTAwRTBsaWQ6IGhhIGRlIGNvaW5jaWRpciBhbWIgZWwgcGF0clx1MDBGMyAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGb3JtYXQgaW52XHUwMEUwbGlkIHBlciBhICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOXHUwMEZBbWVybyBpbnZcdTAwRTBsaWQ6IGhhIGRlIHNlciBtXHUwMEZBbHRpcGxlIGRlICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDbGF1JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9IG5vIHJlY29uZWd1ZGEke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2xhdSBpbnZcdTAwRTBsaWRhIGEgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiRW50cmFkYSBpbnZcdTAwRTBsaWRhXCI7IC8vIENvdWxkIGFsc28gYmUgXCJUaXB1cyBkJ3VuaVx1MDBGMyBpbnZcdTAwRTBsaWRcIiBidXQgXCJFbnRyYWRhIGludlx1MDBFMGxpZGFcIiBpcyBtb3JlIGdlbmVyYWxcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEVsZW1lbnQgaW52XHUwMEUwbGlkIGEgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyYWRhIGludlx1MDBFMGxpZGFgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcInpuYWtcdTAxNkZcIiwgdmVyYjogXCJtXHUwMEVEdFwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJiYWp0XHUwMTZGXCIsIHZlcmI6IFwibVx1MDBFRHRcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcInBydmtcdTAxNkZcIiwgdmVyYjogXCJtXHUwMEVEdFwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcInBydmtcdTAxNkZcIiwgdmVyYjogXCJtXHUwMEVEdFwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUwMTBEXHUwMEVEc2xvXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTAxNTlldFx1MDExQnplY1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImJvb2xlYW5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJiaWdpbnRcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImJpZ2ludFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJmdW5rY2VcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInN5bWJvbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJwb2xlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcInJlZ3VsXHUwMEUxcm5cdTAwRUQgdlx1MDBGRHJhelwiLFxuICAgICAgICBlbWFpbDogXCJlLW1haWxvdlx1MDBFMSBhZHJlc2FcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJkYXR1bSBhIFx1MDEwRGFzIHZlIGZvcm1cdTAwRTF0dSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJkYXR1bSB2ZSBmb3JtXHUwMEUxdHUgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiXHUwMTBEYXMgdmUgZm9ybVx1MDBFMXR1IElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJkb2JhIHRydlx1MDBFMW5cdTAwRUQgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBhZHJlc2FcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IGFkcmVzYVwiLFxuICAgICAgICBjaWRydjQ6IFwicm96c2FoIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcInJvenNhaCBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTAxNTlldFx1MDExQnplYyB6YWtcdTAwRjNkb3Zhblx1MDBGRCB2ZSBmb3JtXHUwMEUxdHUgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTAxNTlldFx1MDExQnplYyB6YWtcdTAwRjNkb3Zhblx1MDBGRCB2ZSBmb3JtXHUwMEUxdHUgYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIlx1MDE1OWV0XHUwMTFCemVjIHZlIGZvcm1cdTAwRTF0dSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwMTBEXHUwMEVEc2xvIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJ2c3R1cFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRkQgdnN0dXA6IG9cdTAxMERla1x1MDBFMXZcdTAwRTFubyAke2lzc3VlLmV4cGVjdGVkfSwgb2Jkclx1MDE3RWVubyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRkQgdnN0dXA6IG9cdTAxMERla1x1MDBFMXZcdTAwRTFubyAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRTEgbW9cdTAxN0Vub3N0OiBvXHUwMTBEZWtcdTAwRTF2XHUwMEUxbmEgamVkbmEgeiBob2Rub3QgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSG9kbm90YSBqZSBwXHUwMTU5XHUwMEVEbGlcdTAxNjEgdmVsa1x1MDBFMTogJHtpc3N1ZS5vcmlnaW4gPz8gXCJob2Rub3RhXCJ9IG11c1x1MDBFRCBtXHUwMEVEdCAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcInBydmtcdTAxNkZcIn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYEhvZG5vdGEgamUgcFx1MDE1OVx1MDBFRGxpXHUwMTYxIHZlbGtcdTAwRTE6ICR7aXNzdWUub3JpZ2luID8/IFwiaG9kbm90YVwifSBtdXNcdTAwRUQgYlx1MDBGRHQgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBIb2Rub3RhIGplIHBcdTAxNTlcdTAwRURsaVx1MDE2MSBtYWxcdTAwRTE6ICR7aXNzdWUub3JpZ2luID8/IFwiaG9kbm90YVwifSBtdXNcdTAwRUQgbVx1MDBFRHQgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJwcnZrXHUwMTZGXCJ9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBIb2Rub3RhIGplIHBcdTAxNTlcdTAwRURsaVx1MDE2MSBtYWxcdTAwRTE6ICR7aXNzdWUub3JpZ2luID8/IFwiaG9kbm90YVwifSBtdXNcdTAwRUQgYlx1MDBGRHQgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIFx1MDE1OWV0XHUwMTFCemVjOiBtdXNcdTAwRUQgemFcdTAxMERcdTAwRURuYXQgbmEgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRkQgXHUwMTU5ZXRcdTAxMUJ6ZWM6IG11c1x1MDBFRCBrb25cdTAxMERpdCBuYSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIFx1MDE1OWV0XHUwMTFCemVjOiBtdXNcdTAwRUQgb2JzYWhvdmF0IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCBcdTAxNTlldFx1MDExQnplYzogbXVzXHUwMEVEIG9kcG92XHUwMEVEZGF0IHZ6b3J1ICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRkQgZm9ybVx1MDBFMXQgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRTkgXHUwMTBEXHUwMEVEc2xvOiBtdXNcdTAwRUQgYlx1MDBGRHQgblx1MDBFMXNvYmtlbSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV6blx1MDBFMW1cdTAwRTkga2xcdTAwRURcdTAxMERlOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRkQga2xcdTAwRURcdTAxMEQgdiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJOZXBsYXRuXHUwMEZEIHZzdHVwXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEUxIGhvZG5vdGEgdiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRkQgdnN0dXBgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcInRlZ25cIiwgdmVyYjogXCJoYXZkZVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlc1wiLCB2ZXJiOiBcImhhdmRlXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtZW50ZXJcIiwgdmVyYjogXCJpbmRlaG9sZHRcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtZW50ZXJcIiwgdmVyYjogXCJpbmRlaG9sZHRcIiB9LFxuICAgIH07XG4gICAgY29uc3QgVHlwZU5hbWVzID0ge1xuICAgICAgICBzdHJpbmc6IFwic3RyZW5nXCIsXG4gICAgICAgIG51bWJlcjogXCJ0YWxcIixcbiAgICAgICAgYm9vbGVhbjogXCJib29sZWFuXCIsXG4gICAgICAgIGFycmF5OiBcImxpc3RlXCIsXG4gICAgICAgIG9iamVjdDogXCJvYmpla3RcIixcbiAgICAgICAgc2V0OiBcInNcdTAwRTZ0XCIsXG4gICAgICAgIGZpbGU6IFwiZmlsXCIsXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VHlwZU5hbWUodHlwZSkge1xuICAgICAgICByZXR1cm4gVHlwZU5hbWVzW3R5cGVdID8/IHR5cGU7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcInRhbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGlzdGVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWt0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiaW5wdXRcIixcbiAgICAgICAgZW1haWw6IFwiZS1tYWlsYWRyZXNzZVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYXRvLSBvZyBrbG9ra2VzbFx1MDBFNnRcIixcbiAgICAgICAgZGF0ZTogXCJJU08tZGF0b1wiLFxuICAgICAgICB0aW1lOiBcIklTTy1rbG9ra2VzbFx1MDBFNnRcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPLXZhcmlnaGVkXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NC1vbXJcdTAwRTVkZVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYtb21yXHUwMEU1ZGVcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQtc3Bla3RydW1cIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYtc3Bla3RydW1cIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1rb2RldCBzdHJlbmdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1rb2RldCBzdHJlbmdcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTi1zdHJlbmdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NC1udW1tZXJcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImlucHV0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZ3QgaW5wdXQ6IGZvcnZlbnRlZGUgJHtnZXRUeXBlTmFtZShpc3N1ZS5leHBlY3RlZCl9LCBmaWsgJHtnZXRUeXBlTmFtZShwYXJzZWRUeXBlKGlzc3VlLmlucHV0KSl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyB2XHUwMEU2cmRpOiBmb3J2ZW50ZWRlICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZ3QgdmFsZzogZm9ydmVudGVkZSBlbiBhZiBmXHUwMEY4bGdlbmRlICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gZ2V0VHlwZU5hbWUoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvciBzdG9yOiBmb3J2ZW50ZWRlICR7b3JpZ2luID8/IFwidmFsdWVcIn0gJHtzaXppbmcudmVyYn0gJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudGVyXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEZvciBzdG9yOiBmb3J2ZW50ZWRlICR7b3JpZ2luID8/IFwidmFsdWVcIn0gaGF2ZGUgJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBnZXRUeXBlTmFtZShpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGb3IgbGlsbGU6IGZvcnZlbnRlZGUgJHtvcmlnaW59ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYEZvciBsaWxsZTogZm9ydmVudGVkZSAke29yaWdpbn0gaGF2ZGUgJHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBzdHJlbmc6IHNrYWwgc3RhcnRlIG1lZCBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBzdHJlbmc6IHNrYWwgZW5kZSBtZWQgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBzdHJlbmc6IHNrYWwgaW5kZWhvbGRlIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBzdHJlbmc6IHNrYWwgbWF0Y2hlIG1cdTAwRjhuc3RlcmV0ICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWd0IHRhbDogc2thbCB2XHUwMEU2cmUgZGVsZWxpZ3QgbWVkICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiVWtlbmR0ZSBuXHUwMEY4Z2xlclwiIDogXCJVa2VuZHQgblx1MDBGOGdsZVwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIG5cdTAwRjhnbGUgaSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJVZ3lsZGlndCBpbnB1dDogbWF0Y2hlciBpbmdlbiBhZiBkZSB0aWxsYWR0ZSB0eXBlclwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyB2XHUwMEU2cmRpIGkgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlndCBpbnB1dGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiWmVpY2hlblwiLCB2ZXJiOiBcInp1IGhhYmVuXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIkJ5dGVzXCIsIHZlcmI6IFwienUgaGFiZW5cIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIkVsZW1lbnRlXCIsIHZlcmI6IFwienUgaGFiZW5cIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJFbGVtZW50ZVwiLCB2ZXJiOiBcInp1IGhhYmVuXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJaYWhsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJBcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJFaW5nYWJlXCIsXG4gICAgICAgIGVtYWlsOiBcIkUtTWFpbC1BZHJlc3NlXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiRW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPLURhdHVtIHVuZCAtVWhyemVpdFwiLFxuICAgICAgICBkYXRlOiBcIklTTy1EYXR1bVwiLFxuICAgICAgICB0aW1lOiBcIklTTy1VaHJ6ZWl0XCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTy1EYXVlclwiLFxuICAgICAgICBpcHY0OiBcIklQdjQtQWRyZXNzZVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYtQWRyZXNzZVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NC1CZXJlaWNoXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2LUJlcmVpY2hcIixcbiAgICAgICAgYmFzZTY0OiBcIkJhc2U2NC1jb2RpZXJ0ZXIgU3RyaW5nXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJCYXNlNjQtVVJMLWNvZGllcnRlciBTdHJpbmdcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTi1TdHJpbmdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NC1OdW1tZXJcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIkVpbmdhYmVcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZSBFaW5nYWJlOiBlcndhcnRldCAke2lzc3VlLmV4cGVjdGVkfSwgZXJoYWx0ZW4gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZSBFaW5nYWJlOiBlcndhcnRldCAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlIE9wdGlvbjogZXJ3YXJ0ZXQgZWluZSB2b24gJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFp1IGdyb1x1MDBERjogZXJ3YXJ0ZXQsIGRhc3MgJHtpc3N1ZS5vcmlnaW4gPz8gXCJXZXJ0XCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiRWxlbWVudGVcIn0gaGF0YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFp1IGdyb1x1MDBERjogZXJ3YXJ0ZXQsIGRhc3MgJHtpc3N1ZS5vcmlnaW4gPz8gXCJXZXJ0XCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSBpc3RgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFp1IGtsZWluOiBlcndhcnRldCwgZGFzcyAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9IGhhdGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgWnUga2xlaW46IGVyd2FydGV0LCBkYXNzICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gaXN0YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZXIgU3RyaW5nOiBtdXNzIG1pdCBcIiR7X2lzc3VlLnByZWZpeH1cIiBiZWdpbm5lbmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2VyIFN0cmluZzogbXVzcyBtaXQgXCIke19pc3N1ZS5zdWZmaXh9XCIgZW5kZW5gO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2VyIFN0cmluZzogbXVzcyBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIGVudGhhbHRlbmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZXIgU3RyaW5nOiBtdXNzIGRlbSBNdXN0ZXIgJHtfaXNzdWUucGF0dGVybn0gZW50c3ByZWNoZW5gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZzogJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlIFphaGw6IG11c3MgZWluIFZpZWxmYWNoZXMgdm9uICR7aXNzdWUuZGl2aXNvcn0gc2VpbmA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJVbmJla2FubnRlIFNjaGxcdTAwRkNzc2VsXCIgOiBcIlVuYmVrYW5udGVyIFNjaGxcdTAwRkNzc2VsXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlciBTY2hsXHUwMEZDc3NlbCBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJVbmdcdTAwRkNsdGlnZSBFaW5nYWJlXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZXIgV2VydCBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlIEVpbmdhYmVgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImNoYXJhY3RlcnNcIiwgdmVyYjogXCJ0byBoYXZlXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVzXCIsIHZlcmI6IFwidG8gaGF2ZVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiaXRlbXNcIiwgdmVyYjogXCJ0byBoYXZlXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiaXRlbXNcIiwgdmVyYjogXCJ0byBoYXZlXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiaW5wdXRcIixcbiAgICAgICAgZW1haWw6IFwiZW1haWwgYWRkcmVzc1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYXRldGltZVwiLFxuICAgICAgICBkYXRlOiBcIklTTyBkYXRlXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIHRpbWVcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIGR1cmF0aW9uXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBhZGRyZXNzXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBhZGRyZXNzXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IHJhbmdlXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IHJhbmdlXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZW5jb2RlZCBzdHJpbmdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1lbmNvZGVkIHN0cmluZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIHN0cmluZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IG51bWJlclwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIGlucHV0OiBleHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIGlucHV0OiBleHBlY3RlZCAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgb3B0aW9uOiBleHBlY3RlZCBvbmUgb2YgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRvbyBiaWc6IGV4cGVjdGVkICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0gdG8gaGF2ZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRzXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRvbyBiaWc6IGV4cGVjdGVkICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0gdG8gYmUgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUb28gc21hbGw6IGV4cGVjdGVkICR7aXNzdWUub3JpZ2lufSB0byBoYXZlICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgVG9vIHNtYWxsOiBleHBlY3RlZCAke2lzc3VlLm9yaWdpbn0gdG8gYmUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgc3RyaW5nOiBtdXN0IHN0YXJ0IHdpdGggXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIHN0cmluZzogbXVzdCBlbmQgd2l0aCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIHN0cmluZzogbXVzdCBpbmNsdWRlIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBzdHJpbmc6IG11c3QgbWF0Y2ggcGF0dGVybiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIG51bWJlcjogbXVzdCBiZSBhIG11bHRpcGxlIG9mICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVbnJlY29nbml6ZWQga2V5JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQga2V5IGluICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgdmFsdWUgaW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJub21icm9cIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidGFiZWxvXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInNlbnZhbG9yYVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJrYXJha3Ryb2puXCIsIHZlcmI6IFwiaGF2aVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJiYWp0b2puXCIsIHZlcmI6IFwiaGF2aVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbWVudG9qblwiLCB2ZXJiOiBcImhhdmlcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtZW50b2puXCIsIHZlcmI6IFwiaGF2aVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImVuaWdvXCIsXG4gICAgICAgIGVtYWlsOiBcInJldGFkcmVzb1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb1x1MDExRGlvXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTy1kYXRvdGVtcG9cIixcbiAgICAgICAgZGF0ZTogXCJJU08tZGF0b1wiLFxuICAgICAgICB0aW1lOiBcIklTTy10ZW1wb1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08tZGFcdTAxNkRyb1wiLFxuICAgICAgICBpcHY0OiBcIklQdjQtYWRyZXNvXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Ni1hZHJlc29cIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQtcmFuZ29cIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYtcmFuZ29cIixcbiAgICAgICAgYmFzZTY0OiBcIjY0LXVtZSBrb2RpdGEga2FyYWt0cmFyb1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiVVJMLTY0LXVtZSBrb2RpdGEga2FyYWt0cmFyb1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OLWthcmFrdHJhcm9cIixcbiAgICAgICAgZTE2NDogXCJFLjE2NC1ub21icm9cIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImVuaWdvXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEgZW5pZ286IGF0ZW5kaVx1MDExRGlzICR7aXNzdWUuZXhwZWN0ZWR9LCByaWNldmlcdTAxMURpcyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIGVuaWdvOiBhdGVuZGlcdTAxMURpcyAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIG9wY2lvOiBhdGVuZGlcdTAxMURpcyB1bnUgZWwgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRybyBncmFuZGE6IGF0ZW5kaVx1MDExRGlzIGtlICR7aXNzdWUub3JpZ2luID8/IFwidmFsb3JvXCJ9IGhhdnUgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50b2puXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRybyBncmFuZGE6IGF0ZW5kaVx1MDExRGlzIGtlICR7aXNzdWUub3JpZ2luID8/IFwidmFsb3JvXCJ9IGhhdnUgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUcm8gbWFsZ3JhbmRhOiBhdGVuZGlcdTAxMURpcyBrZSAke2lzc3VlLm9yaWdpbn0gaGF2dSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFRybyBtYWxncmFuZGE6IGF0ZW5kaVx1MDExRGlzIGtlICR7aXNzdWUub3JpZ2lufSBlc3R1ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEga2FyYWt0cmFybzogZGV2YXMga29tZW5jaVx1MDExRGkgcGVyIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSBrYXJha3RyYXJvOiBkZXZhcyBmaW5pXHUwMTFEaSBwZXIgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEga2FyYWt0cmFybzogZGV2YXMgaW5rbHV6aXZpIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEga2FyYWt0cmFybzogZGV2YXMga29uZ3J1aSBrdW4gbGEgbW9kZWxvICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSBub21icm86IGRldmFzIGVzdGkgb2JsbyBkZSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVrb25hdGEke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwialwiIDogXCJcIn0gXHUwMTVEbG9zaWxvJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImpcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIFx1MDE1RGxvc2lsbyBlbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJOZXZhbGlkYSBlbmlnb1wiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEgdmFsb3JvIGVuICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEgZW5pZ29gO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImNhcmFjdGVyZXNcIiwgdmVyYjogXCJ0ZW5lclwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlc1wiLCB2ZXJiOiBcInRlbmVyXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtZW50b3NcIiwgdmVyYjogXCJ0ZW5lclwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImVsZW1lbnRvc1wiLCB2ZXJiOiBcInRlbmVyXCIgfSxcbiAgICB9O1xuICAgIGNvbnN0IFR5cGVOYW1lcyA9IHtcbiAgICAgICAgc3RyaW5nOiBcInRleHRvXCIsXG4gICAgICAgIG51bWJlcjogXCJuXHUwMEZBbWVyb1wiLFxuICAgICAgICBib29sZWFuOiBcImJvb2xlYW5vXCIsXG4gICAgICAgIGFycmF5OiBcImFycmVnbG9cIixcbiAgICAgICAgb2JqZWN0OiBcIm9iamV0b1wiLFxuICAgICAgICBzZXQ6IFwiY29uanVudG9cIixcbiAgICAgICAgZmlsZTogXCJhcmNoaXZvXCIsXG4gICAgICAgIGRhdGU6IFwiZmVjaGFcIixcbiAgICAgICAgYmlnaW50OiBcIm5cdTAwRkFtZXJvIGdyYW5kZVwiLFxuICAgICAgICBzeW1ib2w6IFwic1x1MDBFRG1ib2xvXCIsXG4gICAgICAgIHVuZGVmaW5lZDogXCJpbmRlZmluaWRvXCIsXG4gICAgICAgIG51bGw6IFwibnVsb1wiLFxuICAgICAgICBmdW5jdGlvbjogXCJmdW5jaVx1MDBGM25cIixcbiAgICAgICAgbWFwOiBcIm1hcGFcIixcbiAgICAgICAgcmVjb3JkOiBcInJlZ2lzdHJvXCIsXG4gICAgICAgIHR1cGxlOiBcInR1cGxhXCIsXG4gICAgICAgIGVudW06IFwiZW51bWVyYWNpXHUwMEYzblwiLFxuICAgICAgICB1bmlvbjogXCJ1bmlcdTAwRjNuXCIsXG4gICAgICAgIGxpdGVyYWw6IFwibGl0ZXJhbFwiLFxuICAgICAgICBwcm9taXNlOiBcInByb21lc2FcIixcbiAgICAgICAgdm9pZDogXCJ2YWNcdTAwRURvXCIsXG4gICAgICAgIG5ldmVyOiBcIm51bmNhXCIsXG4gICAgICAgIHVua25vd246IFwiZGVzY29ub2NpZG9cIixcbiAgICAgICAgYW55OiBcImN1YWxxdWllcmFcIixcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUeXBlTmFtZSh0eXBlKSB7XG4gICAgICAgIHJldHVybiBUeXBlTmFtZXNbdHlwZV0gPz8gdHlwZTtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiZW50cmFkYVwiLFxuICAgICAgICBlbWFpbDogXCJkaXJlY2NpXHUwMEYzbiBkZSBjb3JyZW8gZWxlY3RyXHUwMEYzbmljb1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImZlY2hhIHkgaG9yYSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJmZWNoYSBJU09cIixcbiAgICAgICAgdGltZTogXCJob3JhIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJkdXJhY2lcdTAwRjNuIElTT1wiLFxuICAgICAgICBpcHY0OiBcImRpcmVjY2lcdTAwRjNuIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJkaXJlY2NpXHUwMEYzbiBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJyYW5nbyBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJyYW5nbyBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJjYWRlbmEgY29kaWZpY2FkYSBlbiBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlVSTCBjb2RpZmljYWRhIGVuIGJhc2U2NFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJjYWRlbmEgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm5cdTAwRkFtZXJvIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJlbnRyYWRhXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgRW50cmFkYSBpbnZcdTAwRTFsaWRhOiBzZSBlc3BlcmFiYSAke2dldFR5cGVOYW1lKGlzc3VlLmV4cGVjdGVkKX0sIHJlY2liaWRvICR7Z2V0VHlwZU5hbWUocGFyc2VkVHlwZShpc3N1ZS5pbnB1dCkpfWA7XG4gICAgICAgICAgICAvLyByZXR1cm4gYEVudHJhZGEgaW52XHUwMEUxbGlkYTogc2UgZXNwZXJhYmEgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2liaWRvICR7dXRpbC5nZXRQYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyYWRhIGludlx1MDBFMWxpZGE6IHNlIGVzcGVyYWJhICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT3BjaVx1MDBGM24gaW52XHUwMEUxbGlkYTogc2UgZXNwZXJhYmEgdW5hIGRlICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gZ2V0VHlwZU5hbWUoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYERlbWFzaWFkbyBncmFuZGU6IHNlIGVzcGVyYWJhIHF1ZSAke29yaWdpbiA/PyBcInZhbG9yXCJ9IHR1dmllcmEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50b3NcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgRGVtYXNpYWRvIGdyYW5kZTogc2UgZXNwZXJhYmEgcXVlICR7b3JpZ2luID8/IFwidmFsb3JcIn0gZnVlcmEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IGdldFR5cGVOYW1lKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYERlbWFzaWFkbyBwZXF1ZVx1MDBGMW86IHNlIGVzcGVyYWJhIHF1ZSAke29yaWdpbn0gdHV2aWVyYSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYERlbWFzaWFkbyBwZXF1ZVx1MDBGMW86IHNlIGVzcGVyYWJhIHF1ZSAke29yaWdpbn0gZnVlcmEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDYWRlbmEgaW52XHUwMEUxbGlkYTogZGViZSBjb21lbnphciBjb24gXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENhZGVuYSBpbnZcdTAwRTFsaWRhOiBkZWJlIHRlcm1pbmFyIGVuIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENhZGVuYSBpbnZcdTAwRTFsaWRhOiBkZWJlIGluY2x1aXIgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDYWRlbmEgaW52XHUwMEUxbGlkYTogZGViZSBjb2luY2lkaXIgY29uIGVsIHBhdHJcdTAwRjNuICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEludlx1MDBFMWxpZG8gJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5cdTAwRkFtZXJvIGludlx1MDBFMWxpZG86IGRlYmUgc2VyIG1cdTAwRkFsdGlwbG8gZGUgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYExsYXZlJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9IGRlc2Nvbm9jaWRhJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYExsYXZlIGludlx1MDBFMWxpZGEgZW4gJHtnZXRUeXBlTmFtZShpc3N1ZS5vcmlnaW4pfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkVudHJhZGEgaW52XHUwMEUxbGlkYVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVmFsb3IgaW52XHUwMEUxbGlkbyBlbiAke2dldFR5cGVOYW1lKGlzc3VlLm9yaWdpbil9YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyYWRhIGludlx1MDBFMWxpZGFgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MDZBOVx1MDYyN1x1MDYzMVx1MDYyN1x1MDZBOVx1MDYyQVx1MDYzMVwiLCB2ZXJiOiBcIlx1MDYyRlx1MDYyN1x1MDYzNFx1MDYyQVx1MDY0NyBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJBXCIsIHZlcmI6IFwiXHUwNjJGXHUwNjI3XHUwNjM0XHUwNjJBXHUwNjQ3IFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRlwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwNjIyXHUwNkNDXHUwNjJBXHUwNjQ1XCIsIHZlcmI6IFwiXHUwNjJGXHUwNjI3XHUwNjM0XHUwNjJBXHUwNjQ3IFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRlwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MDYyMlx1MDZDQ1x1MDYyQVx1MDY0NVwiLCB2ZXJiOiBcIlx1MDYyRlx1MDYyN1x1MDYzNFx1MDYyQVx1MDY0NyBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MDYzOVx1MDYyRlx1MDYyRlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNjIyXHUwNjMxXHUwNjI3XHUwNkNDXHUwNjQ3XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDZDQ1wiLFxuICAgICAgICBlbWFpbDogXCJcdTA2MjJcdTA2MkZcdTA2MzFcdTA2MzMgXHUwNjI3XHUwNkNDXHUwNjQ1XHUwNkNDXHUwNjQ0XCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNjI3XHUwNkNDXHUwNjQ1XHUwNjQ4XHUwNjJDXHUwNkNDXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIlx1MDYyQVx1MDYyN1x1MDYzMVx1MDZDQ1x1MDYyRSBcdTA2NDggXHUwNjMyXHUwNjQ1XHUwNjI3XHUwNjQ2IFx1MDYyN1x1MDZDQ1x1MDYzMlx1MDY0OFwiLFxuICAgICAgICBkYXRlOiBcIlx1MDYyQVx1MDYyN1x1MDYzMVx1MDZDQ1x1MDYyRSBcdTA2MjdcdTA2Q0NcdTA2MzJcdTA2NDhcIixcbiAgICAgICAgdGltZTogXCJcdTA2MzJcdTA2NDVcdTA2MjdcdTA2NDYgXHUwNjI3XHUwNkNDXHUwNjMyXHUwNjQ4XCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MDY0NVx1MDYyRlx1MDYyQSBcdTA2MzJcdTA2NDVcdTA2MjdcdTA2NDYgXHUwNjI3XHUwNkNDXHUwNjMyXHUwNjQ4XCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdTA2MjJcdTA2MkZcdTA2MzFcdTA2MzNcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1MDYyMlx1MDYyRlx1MDYzMVx1MDYzM1wiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdTA2MkZcdTA2MjdcdTA2NDVcdTA2NDZcdTA2NDdcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHUwNjJGXHUwNjI3XHUwNjQ1XHUwNjQ2XHUwNjQ3XCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZW5jb2RlZCBcdTA2MzFcdTA2MzRcdTA2MkFcdTA2NDdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1lbmNvZGVkIFx1MDYzMVx1MDYzNFx1MDYyQVx1MDY0N1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1MDYzMVx1MDYzNFx1MDYyQVx1MDY0N1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IFx1MDYzOVx1MDYyRlx1MDYyRlwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNkNDXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNkNDIFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMTogXHUwNjQ1XHUwNkNDXHUyMDBDXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjMzXHUwNjJBICR7aXNzdWUuZXhwZWN0ZWR9IFx1MDY0NVx1MDZDQ1x1MjAwQ1x1MDYyOFx1MDY0OFx1MDYyRlx1MDYwQyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfSBcdTA2MkZcdTA2MzFcdTA2Q0NcdTA2MjdcdTA2NDFcdTA2MkEgXHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2Q0MgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxOiBcdTA2NDVcdTA2Q0NcdTIwMENcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MzNcdTA2MkEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfSBcdTA2NDVcdTA2Q0NcdTIwMENcdTA2MjhcdTA2NDhcdTA2MkZgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDZBRlx1MDYzMlx1MDZDQ1x1MDY0Nlx1MDY0NyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDY0NVx1MDZDQ1x1MjAwQ1x1MDYyOFx1MDYyN1x1MDZDQ1x1MDYzM1x1MDYyQSBcdTA2Q0NcdTA2QTlcdTA2Q0MgXHUwNjI3XHUwNjMyICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfSBcdTA2NDVcdTA2Q0NcdTIwMENcdTA2MjhcdTA2NDhcdTA2MkZgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MkVcdTA2Q0NcdTA2NDRcdTA2Q0MgXHUwNjI4XHUwNjMyXHUwNjMxXHUwNkFGOiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDY0NVx1MDY0Mlx1MDYyRlx1MDYyN1x1MDYzMVwifSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTA2MzlcdTA2NDZcdTA2MzVcdTA2MzFcIn0gXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MkVcdTA2Q0NcdTA2NDRcdTA2Q0MgXHUwNjI4XHUwNjMyXHUwNjMxXHUwNkFGOiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDY0NVx1MDY0Mlx1MDYyRlx1MDYyN1x1MDYzMVwifSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9IFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjJFXHUwNkNDXHUwNjQ0XHUwNkNDIFx1MDZBOVx1MDY0OFx1MDY4Nlx1MDZBOTogJHtpc3N1ZS5vcmlnaW59IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH0gXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MkVcdTA2Q0NcdTA2NDRcdTA2Q0MgXHUwNkE5XHUwNjQ4XHUwNjg2XHUwNkE5OiAke2lzc3VlLm9yaWdpbn0gXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjMxXHUwNjM0XHUwNjJBXHUwNjQ3IFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMTogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDYyOFx1MDYyNyBcIiR7X2lzc3VlLnByZWZpeH1cIiBcdTA2MzRcdTA2MzFcdTA2NDhcdTA2MzkgXHUwNjM0XHUwNjQ4XHUwNjJGYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MzFcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxOiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNjI4XHUwNjI3IFwiJHtfaXNzdWUuc3VmZml4fVwiIFx1MDYyQVx1MDY0NVx1MDYyN1x1MDY0NSBcdTA2MzRcdTA2NDhcdTA2MkZgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjMxXHUwNjM0XHUwNjJBXHUwNjQ3IFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMTogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDYzNFx1MDYyN1x1MDY0NVx1MDY0NCBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MzFcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxOiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNjI4XHUwNjI3IFx1MDYyN1x1MDY0NFx1MDZBRlx1MDY0OFx1MDZDQyAke19pc3N1ZS5wYXR0ZXJufSBcdTA2NDVcdTA2MzdcdTA2MjdcdTA2MjhcdTA2NDJcdTA2MkEgXHUwNjJGXHUwNjI3XHUwNjM0XHUwNjJBXHUwNjQ3IFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MzlcdTA2MkZcdTA2MkYgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxOiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNjQ1XHUwNjM2XHUwNjMxXHUwNjI4ICR7aXNzdWUuZGl2aXNvcn0gXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNjJGJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDY0N1x1MDYyN1x1MDZDQ1wiIDogXCJcIn0gXHUwNjQ2XHUwNjI3XHUwNjM0XHUwNjQ2XHUwNjI3XHUwNjMzOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDZBOVx1MDY0NFx1MDZDQ1x1MDYyRiBcdTA2NDZcdTA2MjdcdTA2MzRcdTA2NDZcdTA2MjdcdTA2MzMgXHUwNjJGXHUwNjMxICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNkNDIFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDVcdTA2NDJcdTA2MkZcdTA2MjdcdTA2MzEgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxIFx1MDYyRlx1MDYzMSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDZDQyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzFgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIm1lcmtraVx1MDBFNFwiLCBzdWJqZWN0OiBcIm1lcmtraWpvbm9uXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcInRhdnVhXCIsIHN1YmplY3Q6IFwidGllZG9zdG9uXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJhbGtpb3RhXCIsIHN1YmplY3Q6IFwibGlzdGFuXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiYWxraW90YVwiLCBzdWJqZWN0OiBcImpvdWtvblwiIH0sXG4gICAgICAgIG51bWJlcjogeyB1bml0OiBcIlwiLCBzdWJqZWN0OiBcImx1dnVuXCIgfSxcbiAgICAgICAgYmlnaW50OiB7IHVuaXQ6IFwiXCIsIHN1YmplY3Q6IFwic3V1cmVuIGtva29uYWlzbHV2dW5cIiB9LFxuICAgICAgICBpbnQ6IHsgdW5pdDogXCJcIiwgc3ViamVjdDogXCJrb2tvbmFpc2x1dnVuXCIgfSxcbiAgICAgICAgZGF0ZTogeyB1bml0OiBcIlwiLCBzdWJqZWN0OiBcInBcdTAwRTRpdlx1MDBFNG1cdTAwRTRcdTAwRTRyXHUwMEU0blwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJzXHUwMEU0XHUwMEU0bm5cdTAwRjZsbGluZW4gbGF1c2VrZVwiLFxuICAgICAgICBlbWFpbDogXCJzXHUwMEU0aGtcdTAwRjZwb3N0aW9zb2l0ZVwiLFxuICAgICAgICB1cmw6IFwiVVJMLW9zb2l0ZVwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08tYWlrYWxlaW1hXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPLXBcdTAwRTRpdlx1MDBFNG1cdTAwRTRcdTAwRTRyXHUwMEU0XCIsXG4gICAgICAgIHRpbWU6IFwiSVNPLWFpa2FcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPLWtlc3RvXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NC1vc29pdGVcIixcbiAgICAgICAgaXB2NjogXCJJUHY2LW9zb2l0ZVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NC1hbHVlXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2LWFsdWVcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1rb29kYXR0dSBtZXJra2lqb25vXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwta29vZGF0dHUgbWVya2tpam9ub1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OLW1lcmtraWpvbm9cIixcbiAgICAgICAgZTE2NDogXCJFLjE2NC1sdWt1XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJ0ZW1wbGFhdHRpbWVya2tpam9ub1wiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiB0eXlwcGk6IG9kb3RldHRpaW4gJHtpc3N1ZS5leHBlY3RlZH0sIG9saSAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiBzeVx1MDBGNnRlOiB0XHUwMEU0eXR5eSBvbGxhICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVmlyaGVlbGxpbmVuIHZhbGludGE6IHRcdTAwRTR5dHl5IG9sbGEgeWtzaSBzZXVyYWF2aXN0YTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTGlpYW4gc3V1cmk6ICR7c2l6aW5nLnN1YmplY3R9IHRcdTAwRTR5dHl5IG9sbGEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YC50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgTGlpYW4gc3V1cmk6IGFydm9uIHRcdTAwRTR5dHl5IG9sbGEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBMaWlhbiBwaWVuaTogJHtzaXppbmcuc3ViamVjdH0gdFx1MDBFNHl0eXkgb2xsYSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBMaWlhbiBwaWVuaTogYXJ2b24gdFx1MDBFNHl0eXkgb2xsYSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiBzeVx1MDBGNnRlOiB0XHUwMEU0eXR5eSBhbGthYSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVmlyaGVlbGxpbmVuIHN5XHUwMEY2dGU6IHRcdTAwRTR5dHl5IGxvcHB1YSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gc3lcdTAwRjZ0ZTogdFx1MDBFNHl0eXkgc2lzXHUwMEU0bHRcdTAwRTRcdTAwRTQgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiBzeVx1MDBGNnRlOiB0XHUwMEU0eXR5eSB2YXN0YXRhIHNcdTAwRTRcdTAwRTRublx1MDBGNmxsaXN0XHUwMEU0IGxhdXNla2V0dGEgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVmlyaGVlbGxpbmVuIGx1a3U6IHRcdTAwRTR5dHl5IG9sbGEgbHV2dW4gJHtpc3N1ZS5kaXZpc29yfSBtb25pa2VydGFgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiVHVudGVtYXR0b21hdCBhdmFpbWV0XCIgOiBcIlR1bnRlbWF0b24gYXZhaW5cIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlZpcmhlZWxsaW5lbiBhdmFpbiB0aWV0dWVlc3NhXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlZpcmhlZWxsaW5lbiB1bmlvbmlcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJWaXJoZWVsbGluZW4gYXJ2byBqb3Vrb3NzYVwiO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiBzeVx1MDBGNnRlYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJjYXJhY3RcdTAwRThyZXNcIiwgdmVyYjogXCJhdm9pclwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJvY3RldHNcIiwgdmVyYjogXCJhdm9pclwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwMEU5bFx1MDBFOW1lbnRzXCIsIHZlcmI6IFwiYXZvaXJcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTAwRTlsXHUwMEU5bWVudHNcIiwgdmVyYjogXCJhdm9pclwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibm9tYnJlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0YWJsZWF1XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImVudHJcdTAwRTllXCIsXG4gICAgICAgIGVtYWlsOiBcImFkcmVzc2UgZS1tYWlsXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZGF0ZSBldCBoZXVyZSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJkYXRlIElTT1wiLFxuICAgICAgICB0aW1lOiBcImhldXJlIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJkdXJcdTAwRTllIElTT1wiLFxuICAgICAgICBpcHY0OiBcImFkcmVzc2UgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcImFkcmVzc2UgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwicGxhZ2UgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwicGxhZ2UgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiY2hhXHUwMEVFbmUgZW5jb2RcdTAwRTllIGVuIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiY2hhXHUwMEVFbmUgZW5jb2RcdTAwRTllIGVuIGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJjaGFcdTAwRUVuZSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwibnVtXHUwMEU5cm8gRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImVudHJcdTAwRTllXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgRW50clx1MDBFOWUgaW52YWxpZGUgOiAke2lzc3VlLmV4cGVjdGVkfSBhdHRlbmR1LCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfSByZVx1MDBFN3VgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyXHUwMEU5ZSBpbnZhbGlkZSA6ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX0gYXR0ZW5kdWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPcHRpb24gaW52YWxpZGUgOiB1bmUgdmFsZXVyIHBhcm1pICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfSBhdHRlbmR1ZWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wIGdyYW5kIDogJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWxldXJcIn0gZG9pdCAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MDBFOWxcdTAwRTltZW50KHMpXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3AgZ3JhbmQgOiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbGV1clwifSBkb2l0IFx1MDBFQXRyZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3AgcGV0aXQgOiAke2lzc3VlLm9yaWdpbn0gZG9pdCAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3AgcGV0aXQgOiAke2lzc3VlLm9yaWdpbn0gZG9pdCBcdTAwRUF0cmUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgY29tbWVuY2VyIHBhciBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IHNlIHRlcm1pbmVyIHBhciBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgaW5jbHVyZSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENoYVx1MDBFRW5lIGludmFsaWRlIDogZG9pdCBjb3JyZXNwb25kcmUgYXUgbW9kXHUwMEU4bGUgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IGludmFsaWRlYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5vbWJyZSBpbnZhbGlkZSA6IGRvaXQgXHUwMEVBdHJlIHVuIG11bHRpcGxlIGRlICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDbFx1MDBFOSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifSBub24gcmVjb25udWUke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn0gOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENsXHUwMEU5IGludmFsaWRlIGRhbnMgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiRW50clx1MDBFOWUgaW52YWxpZGVcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZhbGV1ciBpbnZhbGlkZSBkYW5zICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgRW50clx1MDBFOWUgaW52YWxpZGVgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImNhcmFjdFx1MDBFOHJlc1wiLCB2ZXJiOiBcImF2b2lyXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIm9jdGV0c1wiLCB2ZXJiOiBcImF2b2lyXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTAwRTlsXHUwMEU5bWVudHNcIiwgdmVyYjogXCJhdm9pclwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MDBFOWxcdTAwRTltZW50c1wiLCB2ZXJiOiBcImF2b2lyXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImVudHJcdTAwRTllXCIsXG4gICAgICAgIGVtYWlsOiBcImFkcmVzc2UgY291cnJpZWxcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJkYXRlLWhldXJlIElTT1wiLFxuICAgICAgICBkYXRlOiBcImRhdGUgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiaGV1cmUgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImR1clx1MDBFOWUgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiYWRyZXNzZSBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiYWRyZXNzZSBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJwbGFnZSBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJwbGFnZSBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJjaGFcdTAwRUVuZSBlbmNvZFx1MDBFOWUgZW4gYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJjaGFcdTAwRUVuZSBlbmNvZFx1MDBFOWUgZW4gYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcImNoYVx1MDBFRW5lIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJudW1cdTAwRTlybyBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiZW50clx1MDBFOWVcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyXHUwMEU5ZSBpbnZhbGlkZSA6IGF0dGVuZHUgJHtpc3N1ZS5leHBlY3RlZH0sIHJlXHUwMEU3dSAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJcdTAwRTllIGludmFsaWRlIDogYXR0ZW5kdSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9wdGlvbiBpbnZhbGlkZSA6IGF0dGVuZHUgbCd1bmUgZGVzIHZhbGV1cnMgc3VpdmFudGVzICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJcdTIyNjRcIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcCBncmFuZCA6IGF0dGVuZHUgcXVlICR7aXNzdWUub3JpZ2luID8/IFwibGEgdmFsZXVyXCJ9IGFpdCAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcCBncmFuZCA6IGF0dGVuZHUgcXVlICR7aXNzdWUub3JpZ2luID8/IFwibGEgdmFsZXVyXCJ9IHNvaXQgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHUyMjY1XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcCBwZXRpdCA6IGF0dGVuZHUgcXVlICR7aXNzdWUub3JpZ2lufSBhaXQgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wIHBldGl0IDogYXR0ZW5kdSBxdWUgJHtpc3N1ZS5vcmlnaW59IHNvaXQgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENoYVx1MDBFRW5lIGludmFsaWRlIDogZG9pdCBjb21tZW5jZXIgcGFyIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IHNlIHRlcm1pbmVyIHBhciBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgaW5jbHVyZSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENoYVx1MDBFRW5lIGludmFsaWRlIDogZG9pdCBjb3JyZXNwb25kcmUgYXUgbW90aWYgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IGludmFsaWRlYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5vbWJyZSBpbnZhbGlkZSA6IGRvaXQgXHUwMEVBdHJlIHVuIG11bHRpcGxlIGRlICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDbFx1MDBFOSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifSBub24gcmVjb25udWUke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn0gOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENsXHUwMEU5IGludmFsaWRlIGRhbnMgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiRW50clx1MDBFOWUgaW52YWxpZGVcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZhbGV1ciBpbnZhbGlkZSBkYW5zICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgRW50clx1MDBFOWUgaW52YWxpZGVgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MDVEMFx1MDVENVx1MDVFQVx1MDVEOVx1MDVENVx1MDVFQVwiLCB2ZXJiOiBcIlx1MDVEQ1x1MDVEQlx1MDVEQ1x1MDVENVx1MDVEQ1wiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTA1RDFcdTA1RDlcdTA1RDlcdTA1RDhcdTA1RDlcdTA1RERcIiwgdmVyYjogXCJcdTA1RENcdTA1REJcdTA1RENcdTA1RDVcdTA1RENcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MDVFNFx1MDVFOFx1MDVEOVx1MDVEOFx1MDVEOVx1MDVERFwiLCB2ZXJiOiBcIlx1MDVEQ1x1MDVEQlx1MDVEQ1x1MDVENVx1MDVEQ1wiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MDVFNFx1MDVFOFx1MDVEOVx1MDVEOFx1MDVEOVx1MDVERFwiLCB2ZXJiOiBcIlx1MDVEQ1x1MDVEQlx1MDVEQ1x1MDVENVx1MDVEQ1wiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA1RTdcdTA1RENcdTA1RDhcIixcbiAgICAgICAgZW1haWw6IFwiXHUwNURCXHUwNUVBXHUwNUQ1XHUwNUQxXHUwNUVBIFx1MDVEMFx1MDVEOVx1MDVERVx1MDVEOVx1MDVEOVx1MDVEQ1wiLFxuICAgICAgICB1cmw6IFwiXHUwNURCXHUwNUVBXHUwNUQ1XHUwNUQxXHUwNUVBIFx1MDVFOFx1MDVFOVx1MDVFQVwiLFxuICAgICAgICBlbW9qaTogXCJcdTA1RDBcdTA1RDlcdTA1REVcdTA1RDVcdTA1RDInXHUwNUQ5XCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIlx1MDVFQVx1MDVEMFx1MDVFOFx1MDVEOVx1MDVEQSBcdTA1RDVcdTA1RDZcdTA1REVcdTA1REYgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiXHUwNUVBXHUwNUQwXHUwNUU4XHUwNUQ5XHUwNURBIElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MDVENlx1MDVERVx1MDVERiBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUwNURFXHUwNUU5XHUwNURBIFx1MDVENlx1MDVERVx1MDVERiBJU09cIixcbiAgICAgICAgaXB2NDogXCJcdTA1REJcdTA1RUFcdTA1RDVcdTA1RDFcdTA1RUEgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcIlx1MDVEQlx1MDVFQVx1MDVENVx1MDVEMVx1MDVFQSBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJcdTA1RDhcdTA1RDVcdTA1RDVcdTA1RDcgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiXHUwNUQ4XHUwNUQ1XHUwNUQ1XHUwNUQ3IElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MDVERVx1MDVEN1x1MDVFOFx1MDVENVx1MDVENlx1MDVFQSBcdTA1RDFcdTA1RDFcdTA1RTFcdTA1RDlcdTA1RTEgNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MDVERVx1MDVEN1x1MDVFOFx1MDVENVx1MDVENlx1MDVFQSBcdTA1RDFcdTA1RDFcdTA1RTFcdTA1RDlcdTA1RTEgNjQgXHUwNURDXHUwNURCXHUwNUVBXHUwNUQ1XHUwNUQxXHUwNUQ1XHUwNUVBIFx1MDVFOFx1MDVFOVx1MDVFQVwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJcdTA1REVcdTA1RDdcdTA1RThcdTA1RDVcdTA1RDZcdTA1RUEgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIlx1MDVERVx1MDVFMVx1MDVFNFx1MDVFOCBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwNUU3XHUwNURDXHUwNUQ4XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNUU3XHUwNURDXHUwNUQ4IFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1REY6IFx1MDVFNlx1MDVFOFx1MDVEOVx1MDVEQSAke2lzc3VlLmV4cGVjdGVkfSwgXHUwNUQ0XHUwNUVBXHUwNUU3XHUwNUQxXHUwNURDICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIC8vIHJldHVybiBgSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7dXRpbC5nZXRQYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RTdcdTA1RENcdTA1RDggXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERjogXHUwNUU2XHUwNUU4XHUwNUQ5XHUwNURBICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNUU3XHUwNURDXHUwNUQ4IFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1REY6IFx1MDVFNlx1MDVFOFx1MDVEOVx1MDVEQSBcdTA1RDBcdTA1RDdcdTA1RUEgXHUwNURFXHUwNUQ0XHUwNUQwXHUwNUU0XHUwNUU5XHUwNUU4XHUwNUQ1XHUwNUQ5XHUwNUQ1XHUwNUVBICAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNUQyXHUwNUQzXHUwNUQ1XHUwNURDIFx1MDVERVx1MDVEM1x1MDVEOTogJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSBcdTA1RTZcdTA1RThcdTA1RDlcdTA1REEgXHUwNURDXHUwNUQ0XHUwNUQ5XHUwNUQ1XHUwNUVBICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudHNcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNUQyXHUwNUQzXHUwNUQ1XHUwNURDIFx1MDVERVx1MDVEM1x1MDVEOTogJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSBcdTA1RTZcdTA1RThcdTA1RDlcdTA1REEgXHUwNURDXHUwNUQ0XHUwNUQ5XHUwNUQ1XHUwNUVBICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNUU3XHUwNUQ4XHUwNURGIFx1MDVERVx1MDVEM1x1MDVEOTogJHtpc3N1ZS5vcmlnaW59IFx1MDVFNlx1MDVFOFx1MDVEOVx1MDVEQSBcdTA1RENcdTA1RDRcdTA1RDlcdTA1RDVcdTA1RUEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RTdcdTA1RDhcdTA1REYgXHUwNURFXHUwNUQzXHUwNUQ5OiAke2lzc3VlLm9yaWdpbn0gXHUwNUU2XHUwNUU4XHUwNUQ5XHUwNURBIFx1MDVEQ1x1MDVENFx1MDVEOVx1MDVENVx1MDVFQSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVERVx1MDVEN1x1MDVFOFx1MDVENVx1MDVENlx1MDVFQSBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNUUwXHUwNUQ0OiBcdTA1RDdcdTA1RDlcdTA1RDlcdTA1RDFcdTA1RUEgXHUwNURDXHUwNUQ0XHUwNUVBXHUwNUQ3XHUwNUQ5XHUwNURDIFx1MDVEMVwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1REVcdTA1RDdcdTA1RThcdTA1RDVcdTA1RDZcdTA1RUEgXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVFMFx1MDVENDogXHUwNUQ3XHUwNUQ5XHUwNUQ5XHUwNUQxXHUwNUVBIFx1MDVEQ1x1MDVENFx1MDVFMVx1MDVFQVx1MDVEOVx1MDVEOVx1MDVERCBcdTA1RDEgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNURFXHUwNUQ3XHUwNUU4XHUwNUQ1XHUwNUQ2XHUwNUVBIFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1RTBcdTA1RDQ6IFx1MDVEN1x1MDVEOVx1MDVEOVx1MDVEMVx1MDVFQSBcdTA1RENcdTA1REJcdTA1RENcdTA1RDVcdTA1REMgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1REVcdTA1RDdcdTA1RThcdTA1RDVcdTA1RDZcdTA1RUEgXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVFMFx1MDVENDogXHUwNUQ3XHUwNUQ5XHUwNUQ5XHUwNUQxXHUwNUVBIFx1MDVEQ1x1MDVENFx1MDVFQVx1MDVEMFx1MDVEOVx1MDVERCBcdTA1RENcdTA1RUFcdTA1RDFcdTA1RTBcdTA1RDlcdTA1RUEgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1REZgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNURFXHUwNUUxXHUwNUU0XHUwNUU4IFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1REY6IFx1MDVEN1x1MDVEOVx1MDVEOVx1MDVEMSBcdTA1RENcdTA1RDRcdTA1RDlcdTA1RDVcdTA1RUEgXHUwNURFXHUwNURCXHUwNUU0XHUwNURDXHUwNUQ0IFx1MDVFOVx1MDVEQyAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNURFXHUwNUU0XHUwNUVBXHUwNUQ3JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDVENVx1MDVFQVwiIDogXCJcIn0gXHUwNURDXHUwNUQwIFx1MDVERVx1MDVENlx1MDVENVx1MDVENCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA1RDlcdTA1RERcIiA6IFwiXHUwNUQ0XCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVERVx1MDVFNFx1MDVFQVx1MDVENyBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGIFx1MDVEMSR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDVFN1x1MDVEQ1x1MDVEOCBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RTJcdTA1RThcdTA1REEgXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERiBcdTA1RDEke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVFN1x1MDVEQ1x1MDVEOCBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJrYXJha3RlclwiLCB2ZXJiOiBcImxlZ3llblwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlXCIsIHZlcmI6IFwibGVneWVuXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtXCIsIHZlcmI6IFwibGVneWVuXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbVwiLCB2ZXJiOiBcImxlZ3llblwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwic3pcdTAwRTFtXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0XHUwMEY2bWJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiYmVtZW5ldFwiLFxuICAgICAgICBlbWFpbDogXCJlbWFpbCBjXHUwMEVEbVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBpZFx1MDE1MWJcdTAwRTlseWVnXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIGRcdTAwRTF0dW1cIixcbiAgICAgICAgdGltZTogXCJJU08gaWRcdTAxNTFcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIGlkXHUwMTUxaW50ZXJ2YWxsdW1cIixcbiAgICAgICAgaXB2NDogXCJJUHY0IGNcdTAwRURtXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBjXHUwMEVEbVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCB0YXJ0b21cdTAwRTFueVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiB0YXJ0b21cdTAwRTFueVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWtcdTAwRjNkb2x0IHN0cmluZ1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWtcdTAwRjNkb2x0IHN0cmluZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIHN0cmluZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IHN6XHUwMEUxbVwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiYmVtZW5ldFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBiZW1lbmV0OiBhIHZcdTAwRTFydCBcdTAwRTlydFx1MDBFOWsgJHtpc3N1ZS5leHBlY3RlZH0sIGEga2Fwb3R0IFx1MDBFOXJ0XHUwMEU5ayAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICAvLyByZXR1cm4gYEludmFsaWQgaW5wdXQ6IGV4cGVjdGVkICR7aXNzdWUuZXhwZWN0ZWR9LCByZWNlaXZlZCAke3V0aWwuZ2V0UGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIGJlbWVuZXQ6IGEgdlx1MDBFMXJ0IFx1MDBFOXJ0XHUwMEU5ayAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBvcGNpXHUwMEYzOiB2YWxhbWVseWlrIFx1MDBFOXJ0XHUwMEU5ayB2XHUwMEUxcnQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRcdTAwRkFsIG5hZ3k6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwMEU5cnRcdTAwRTlrXCJ9IG1cdTAwRTlyZXRlIHRcdTAwRkFsIG5hZ3kgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRcdTAwRkFsIG5hZ3k6IGEgYmVtZW5ldGkgXHUwMEU5cnRcdTAwRTlrICR7aXNzdWUub3JpZ2luID8/IFwiXHUwMEU5cnRcdTAwRTlrXCJ9IHRcdTAwRkFsIG5hZ3k6ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVFx1MDBGQWwga2ljc2k6IGEgYmVtZW5ldGkgXHUwMEU5cnRcdTAwRTlrICR7aXNzdWUub3JpZ2lufSBtXHUwMEU5cmV0ZSB0XHUwMEZBbCBraWNzaSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFRcdTAwRkFsIGtpY3NpOiBhIGJlbWVuZXRpIFx1MDBFOXJ0XHUwMEU5ayAke2lzc3VlLm9yaWdpbn0gdFx1MDBGQWwga2ljc2kgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gc3RyaW5nOiBcIiR7X2lzc3VlLnByZWZpeH1cIiBcdTAwRTlydFx1MDBFOWtrZWwga2VsbCBrZXpkXHUwMTUxZG5pZWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIHN0cmluZzogXCIke19pc3N1ZS5zdWZmaXh9XCIgXHUwMEU5cnRcdTAwRTlra2VsIGtlbGwgdlx1MDBFOWd6XHUwMTUxZG5pZWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gc3RyaW5nOiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIFx1MDBFOXJ0XHUwMEU5a2V0IGtlbGwgdGFydGFsbWF6bmlhYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBzdHJpbmc6ICR7X2lzc3VlLnBhdHRlcm59IG1pbnRcdTAwRTFuYWsga2VsbCBtZWdmZWxlbG5pZWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBzelx1MDBFMW06ICR7aXNzdWUuZGl2aXNvcn0gdFx1MDBGNmJic3pcdTAwRjZyXHUwMEY2c1x1MDBFOW5layBrZWxsIGxlbm5pZWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYElzbWVyZXRsZW4ga3VsY3Mke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIGt1bGNzICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBiZW1lbmV0XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gXHUwMEU5cnRcdTAwRTlrOiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBiZW1lbmV0YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJrYXJha3RlclwiLCB2ZXJiOiBcIm1lbWlsaWtpXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVcIiwgdmVyYjogXCJtZW1pbGlraVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiaXRlbVwiLCB2ZXJiOiBcIm1lbWlsaWtpXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiaXRlbVwiLCB2ZXJiOiBcIm1lbWlsaWtpXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImlucHV0XCIsXG4gICAgICAgIGVtYWlsOiBcImFsYW1hdCBlbWFpbFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcInRhbmdnYWwgZGFuIHdha3R1IGZvcm1hdCBJU09cIixcbiAgICAgICAgZGF0ZTogXCJ0YW5nZ2FsIGZvcm1hdCBJU09cIixcbiAgICAgICAgdGltZTogXCJqYW0gZm9ybWF0IElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJkdXJhc2kgZm9ybWF0IElTT1wiLFxuICAgICAgICBpcHY0OiBcImFsYW1hdCBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiYWxhbWF0IElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcInJlbnRhbmcgYWxhbWF0IElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcInJlbnRhbmcgYWxhbWF0IElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcInN0cmluZyBkZW5nYW4gZW5rb2RlIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwic3RyaW5nIGRlbmdhbiBlbmtvZGUgYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcInN0cmluZyBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiYW5na2EgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImlucHV0XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW5wdXQgdGlkYWsgdmFsaWQ6IGRpaGFyYXBrYW4gJHtpc3N1ZS5leHBlY3RlZH0sIGRpdGVyaW1hICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSW5wdXQgdGlkYWsgdmFsaWQ6IGRpaGFyYXBrYW4gJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBQaWxpaGFuIHRpZGFrIHZhbGlkOiBkaWhhcmFwa2FuIHNhbGFoIHNhdHUgZGFyaSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGVybGFsdSBiZXNhcjogZGloYXJhcGthbiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9IG1lbWlsaWtpICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVuXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUgYmVzYXI6IGRpaGFyYXBrYW4gJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSBtZW5qYWRpICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGVybGFsdSBrZWNpbDogZGloYXJhcGthbiAke2lzc3VlLm9yaWdpbn0gbWVtaWxpa2kgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUZXJsYWx1IGtlY2lsOiBkaWhhcmFwa2FuICR7aXNzdWUub3JpZ2lufSBtZW5qYWRpICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nIHRpZGFrIHZhbGlkOiBoYXJ1cyBkaW11bGFpIGRlbmdhbiBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nIHRpZGFrIHZhbGlkOiBoYXJ1cyBiZXJha2hpciBkZW5nYW4gXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nIHRpZGFrIHZhbGlkOiBoYXJ1cyBtZW55ZXJ0YWthbiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZyB0aWRhayB2YWxpZDogaGFydXMgc2VzdWFpIHBvbGEgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IHRpZGFrIHZhbGlkYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEFuZ2thIHRpZGFrIHZhbGlkOiBoYXJ1cyBrZWxpcGF0YW4gZGFyaSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgS3VuY2kgdGlkYWsgZGlrZW5hbGkgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEt1bmNpIHRpZGFrIHZhbGlkIGRpICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIklucHV0IHRpZGFrIHZhbGlkXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWxhaSB0aWRhayB2YWxpZCBkaSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYElucHV0IHRpZGFrIHZhbGlkYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJuXHUwMEZBbWVyXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImZ5bGtpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwic3RhZmlcIiwgdmVyYjogXCJhXHUwMEYwIGhhZmFcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYlx1MDBFNnRpXCIsIHZlcmI6IFwiYVx1MDBGMCBoYWZhXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJobHV0aVwiLCB2ZXJiOiBcImFcdTAwRjAgaGFmYVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcImhsdXRpXCIsIHZlcmI6IFwiYVx1MDBGMCBoYWZhXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiZ2lsZGlcIixcbiAgICAgICAgZW1haWw6IFwibmV0ZmFuZ1wiLFxuICAgICAgICB1cmw6IFwidmVmc2xcdTAwRjNcdTAwRjBcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGRhZ3NldG5pbmcgb2cgdFx1MDBFRG1pXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIGRhZ3NldG5pbmdcIixcbiAgICAgICAgdGltZTogXCJJU08gdFx1MDBFRG1pXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyB0XHUwMEVEbWFsZW5nZFwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgYWRkcmVzc1wiLFxuICAgICAgICBpcHY2OiBcIklQdjYgYWRkcmVzc1wiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCByYW5nZVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiByYW5nZVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWVuY29kZWQgc3RyZW5ndXJcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1lbmNvZGVkIHN0cmVuZ3VyXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gc3RyZW5ndXJcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCB0XHUwMEY2bHVnaWxkaVwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiZ2lsZGlcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBSYW5ndCBnaWxkaTogXHUwMERFXHUwMEZBIHNsXHUwMEYzc3QgaW5uICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9IFx1MDBGRWFyIHNlbSBcdTAwRTEgYVx1MDBGMCB2ZXJhICR7aXNzdWUuZXhwZWN0ZWR9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgUmFuZ3QgZ2lsZGk6IGdlcnQgclx1MDBFMVx1MDBGMCBmeXJpciAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBEM2dpbHQgdmFsOiBtXHUwMEUxIHZlcmEgZWl0dCBhZiBlZnRpcmZhcmFuZGkgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9mIHN0XHUwMEYzcnQ6IGdlcnQgZXIgclx1MDBFMVx1MDBGMCBmeXJpciBhXHUwMEYwICR7aXNzdWUub3JpZ2luID8/IFwiZ2lsZGlcIn0gaGFmaSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImhsdXRpXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9mIHN0XHUwMEYzcnQ6IGdlcnQgZXIgclx1MDBFMVx1MDBGMCBmeXJpciBhXHUwMEYwICR7aXNzdWUub3JpZ2luID8/IFwiZ2lsZGlcIn0gc1x1MDBFOSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9mIGxcdTAwRUR0aVx1MDBGMDogZ2VydCBlciByXHUwMEUxXHUwMEYwIGZ5cmlyIGFcdTAwRjAgJHtpc3N1ZS5vcmlnaW59IGhhZmkgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPZiBsXHUwMEVEdGlcdTAwRjA6IGdlcnQgZXIgclx1MDBFMVx1MDBGMCBmeXJpciBhXHUwMEYwICR7aXNzdWUub3JpZ2lufSBzXHUwMEU5ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwRDNnaWxkdXIgc3RyZW5ndXI6IHZlclx1MDBGMHVyIGFcdTAwRjAgYnlyamEgXHUwMEUxIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEQzZ2lsZHVyIHN0cmVuZ3VyOiB2ZXJcdTAwRjB1ciBhXHUwMEYwIGVuZGEgXHUwMEUxIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBEM2dpbGR1ciBzdHJlbmd1cjogdmVyXHUwMEYwdXIgYVx1MDBGMCBpbm5paGFsZGEgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwRDNnaWxkdXIgc3RyZW5ndXI6IHZlclx1MDBGMHVyIGFcdTAwRjAgZnlsZ2phIG15bnN0cmkgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgUmFuZ3QgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFJcdTAwRjZuZyB0YWxhOiB2ZXJcdTAwRjB1ciBhXHUwMEYwIHZlcmEgbWFyZ2ZlbGRpIGFmICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwRDNcdTAwRkVla2t0ICR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJpciBseWtsYXJcIiA6IFwidXIgbHlraWxsXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFJhbmd1ciBseWtpbGwgXHUwMEVEICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlJhbmd0IGdpbGRpXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBSYW5ndCBnaWxkaSBcdTAwRUQgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBSYW5ndCBnaWxkaWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiY2FyYXR0ZXJpXCIsIHZlcmI6IFwiYXZlcmVcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZVwiLCB2ZXJiOiBcImF2ZXJlXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJlbGVtZW50aVwiLCB2ZXJiOiBcImF2ZXJlXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbWVudGlcIiwgdmVyYjogXCJhdmVyZVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtZXJvXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ2ZXR0b3JlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImlucHV0XCIsXG4gICAgICAgIGVtYWlsOiBcImluZGlyaXp6byBlbWFpbFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdGEgZSBvcmEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0YSBJU09cIixcbiAgICAgICAgdGltZTogXCJvcmEgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImR1cmF0YSBJU09cIixcbiAgICAgICAgaXB2NDogXCJpbmRpcml6em8gSVB2NFwiLFxuICAgICAgICBpcHY2OiBcImluZGlyaXp6byBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJpbnRlcnZhbGxvIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcImludGVydmFsbG8gSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwic3RyaW5nYSBjb2RpZmljYXRhIGluIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiVVJMIGNvZGlmaWNhdGEgaW4gYmFzZTY0XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcInN0cmluZ2EgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm51bWVybyBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnB1dCBub24gdmFsaWRvOiBhdHRlc28gJHtpc3N1ZS5leHBlY3RlZH0sIHJpY2V2dXRvICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIC8vIHJldHVybiBgSW5wdXQgbm9uIHZhbGlkbzogYXR0ZXNvICR7aXNzdWUuZXhwZWN0ZWR9LCByaWNldnV0byAke3V0aWwuZ2V0UGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSW5wdXQgbm9uIHZhbGlkbzogYXR0ZXNvICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT3B6aW9uZSBub24gdmFsaWRhOiBhdHRlc28gdW5vIHRyYSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcHBvIGdyYW5kZTogJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWxvcmVcIn0gZGV2ZSBhdmVyZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRpXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3BwbyBncmFuZGU6ICR7aXNzdWUub3JpZ2luID8/IFwidmFsb3JlXCJ9IGRldmUgZXNzZXJlICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcHBvIHBpY2NvbG86ICR7aXNzdWUub3JpZ2lufSBkZXZlIGF2ZXJlICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcHBvIHBpY2NvbG86ICR7aXNzdWUub3JpZ2lufSBkZXZlIGVzc2VyZSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZ2Egbm9uIHZhbGlkYTogZGV2ZSBpbml6aWFyZSBjb24gXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZ2Egbm9uIHZhbGlkYTogZGV2ZSB0ZXJtaW5hcmUgY29uIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZ2Egbm9uIHZhbGlkYTogZGV2ZSBpbmNsdWRlcmUgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmdhIG5vbiB2YWxpZGE6IGRldmUgY29ycmlzcG9uZGVyZSBhbCBwYXR0ZXJuICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE51bWVybyBub24gdmFsaWRvOiBkZXZlIGVzc2VyZSB1biBtdWx0aXBsbyBkaSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2hpYXYke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiaVwiIDogXCJlXCJ9IG5vbiByaWNvbm9zY2l1dCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJlXCIgOiBcImFcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2hpYXZlIG5vbiB2YWxpZGEgaW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiSW5wdXQgbm9uIHZhbGlkb1wiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVmFsb3JlIG5vbiB2YWxpZG8gaW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnB1dCBub24gdmFsaWRvYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTY1ODdcdTVCNTdcIiwgdmVyYjogXCJcdTMwNjdcdTMwNDJcdTMwOEJcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUzMEQwXHUzMEE0XHUzMEM4XCIsIHZlcmI6IFwiXHUzMDY3XHUzMDQyXHUzMDhCXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTg5ODFcdTdEMjBcIiwgdmVyYjogXCJcdTMwNjdcdTMwNDJcdTMwOEJcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTg5ODFcdTdEMjBcIiwgdmVyYjogXCJcdTMwNjdcdTMwNDJcdTMwOEJcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1NjU3MFx1NTAyNFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHU5MTREXHU1MjE3XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1NTE2NVx1NTI5Qlx1NTAyNFwiLFxuICAgICAgICBlbWFpbDogXCJcdTMwRTFcdTMwRkNcdTMwRUJcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTdENzVcdTY1ODdcdTVCNTdcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPXHU2NUU1XHU2NjQyXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPXHU2NUU1XHU0RUQ4XCIsXG4gICAgICAgIHRpbWU6IFwiSVNPXHU2NjQyXHU1MjNCXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTT1x1NjcxRlx1OTU5M1wiLFxuICAgICAgICBpcHY0OiBcIklQdjRcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcIixcbiAgICAgICAgaXB2NjogXCJJUHY2XHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0XHU3QkM0XHU1NkYyXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2XHU3QkM0XHU1NkYyXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjRcdTMwQThcdTMwRjNcdTMwQjNcdTMwRkNcdTMwQzlcdTY1ODdcdTVCNTdcdTUyMTdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybFx1MzBBOFx1MzBGM1x1MzBCM1x1MzBGQ1x1MzBDOVx1NjU4N1x1NUI1N1x1NTIxN1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OXHU2NTg3XHU1QjU3XHU1MjE3XCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjRcdTc1NkFcdTUzRjdcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1NTE2NVx1NTI5Qlx1NTAyNFwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1NTE2NVx1NTI5QjogJHtpc3N1ZS5leHBlY3RlZH1cdTMwNENcdTY3MUZcdTVGODVcdTMwNTVcdTMwOENcdTMwN0VcdTMwNTdcdTMwNUZcdTMwNENcdTMwMDEke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfVx1MzA0Q1x1NTE2NVx1NTI5Qlx1MzA1NVx1MzA4Q1x1MzA3RVx1MzA1N1x1MzA1RmA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1NTE2NVx1NTI5QjogJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfVx1MzA0Q1x1NjcxRlx1NUY4NVx1MzA1NVx1MzA4Q1x1MzA3RVx1MzA1N1x1MzA1RmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTkwNzhcdTYyOUU6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJcdTMwMDFcIil9XHUzMDZFXHUzMDQ0XHUzMDVBXHUzMDhDXHUzMDRCXHUzMDY3XHUzMDQyXHUzMDhCXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIlx1NEVFNVx1NEUwQlx1MzA2N1x1MzA0Mlx1MzA4QlwiIDogXCJcdTMwODhcdTMwOEFcdTVDMEZcdTMwNTVcdTMwNDRcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NTkyN1x1MzA0RFx1MzA1OVx1MzA0RVx1MzA4Qlx1NTAyNDogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTUwMjRcIn1cdTMwNkYke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0ke3NpemluZy51bml0ID8/IFwiXHU4OTgxXHU3RDIwXCJ9JHthZGp9XHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NTkyN1x1MzA0RFx1MzA1OVx1MzA0RVx1MzA4Qlx1NTAyNDogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTUwMjRcIn1cdTMwNkYke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0ke2Fkan1cdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJcdTRFRTVcdTRFMEFcdTMwNjdcdTMwNDJcdTMwOEJcIiA6IFwiXHUzMDg4XHUzMDhBXHU1OTI3XHUzMDREXHUzMDQ0XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTVDMEZcdTMwNTVcdTMwNTlcdTMwNEVcdTMwOEJcdTUwMjQ6ICR7aXNzdWUub3JpZ2lufVx1MzA2RiR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSR7c2l6aW5nLnVuaXR9JHthZGp9XHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NUMwRlx1MzA1NVx1MzA1OVx1MzA0RVx1MzA4Qlx1NTAyNDogJHtpc3N1ZS5vcmlnaW59XHUzMDZGJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9JHthZGp9XHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTY1ODdcdTVCNTdcdTUyMTc6IFwiJHtfaXNzdWUucHJlZml4fVwiXHUzMDY3XHU1OUNCXHUzMDdFXHUzMDhCXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTY1ODdcdTVCNTdcdTUyMTc6IFwiJHtfaXNzdWUuc3VmZml4fVwiXHUzMDY3XHU3RDQyXHUzMDhGXHUzMDhCXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1NjU4N1x1NUI1N1x1NTIxNzogXCIke19pc3N1ZS5pbmNsdWRlc31cIlx1MzA5Mlx1NTQyQlx1MzA4MFx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTY1ODdcdTVCNTdcdTUyMTc6IFx1MzBEMVx1MzBCRlx1MzBGQ1x1MzBGMyR7X2lzc3VlLnBhdHRlcm59XHUzMDZCXHU0RTAwXHU4MUY0XHUzMDU5XHUzMDhCXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QSR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTY1NzBcdTUwMjQ6ICR7aXNzdWUuZGl2aXNvcn1cdTMwNkVcdTUwMERcdTY1NzBcdTMwNjdcdTMwNDJcdTMwOEJcdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdThBOERcdThCNThcdTMwNTVcdTMwOENcdTMwNjZcdTMwNDRcdTMwNkFcdTMwNDRcdTMwQURcdTMwRkMke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHU3RkE0XCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCJcdTMwMDFcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59XHU1MTg1XHUzMDZFXHU3MTIxXHU1MkI5XHUzMDZBXHUzMEFEXHUzMEZDYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHU3MTIxXHU1MkI5XHUzMDZBXHU1MTY1XHU1MjlCXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn1cdTUxODVcdTMwNkVcdTcxMjFcdTUyQjlcdTMwNkFcdTUwMjRgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1NTE2NVx1NTI5QmA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUxMEUwXHUxMEQ4XHUxMEVBXHUxMEVFXHUxMEQ1XHUxMEQ4XCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MTBEQlx1MTBEMFx1MTBFMVx1MTBEOFx1MTBENVx1MTBEOFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHR5cGVNYXAgPSB7XG4gICAgICAgIHN0cmluZzogXCJcdTEwRTFcdTEwRTJcdTEwRTBcdTEwRDhcdTEwRENcdTEwRDJcdTEwRDhcIixcbiAgICAgICAgYm9vbGVhbjogXCJcdTEwRDFcdTEwRTNcdTEwREFcdTEwRDRcdTEwRDBcdTEwRENcdTEwRDhcIixcbiAgICAgICAgdW5kZWZpbmVkOiBcInVuZGVmaW5lZFwiLFxuICAgICAgICBiaWdpbnQ6IFwiYmlnaW50XCIsXG4gICAgICAgIHN5bWJvbDogXCJzeW1ib2xcIixcbiAgICAgICAgZnVuY3Rpb246IFwiXHUxMEU0XHUxMEUzXHUxMERDXHUxMEU1XHUxMEVBXHUxMEQ4XHUxMEQwXCIsXG4gICAgfTtcbiAgICByZXR1cm4gdHlwZU1hcFt0XSA/PyB0O1xufTtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MTBFMVx1MTBEOFx1MTBEQlx1MTBEMVx1MTBERFx1MTBEQVx1MTBERFwiLCB2ZXJiOiBcIlx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwRThcdTEwRDRcdTEwRDhcdTEwRUFcdTEwRDBcdTEwRDVcdTEwRDNcdTEwRDRcdTEwRTFcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUxMEQxXHUxMEQwXHUxMEQ4XHUxMEUyXHUxMEQ4XCIsIHZlcmI6IFwiXHUxMEUzXHUxMERDXHUxMEQzXHUxMEQwIFx1MTBFOFx1MTBENFx1MTBEOFx1MTBFQVx1MTBEMFx1MTBENVx1MTBEM1x1MTBENFx1MTBFMVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUxMEQ0XHUxMERBXHUxMEQ0XHUxMERCXHUxMEQ0XHUxMERDXHUxMEUyXHUxMEQ4XCIsIHZlcmI6IFwiXHUxMEUzXHUxMERDXHUxMEQzXHUxMEQwIFx1MTBFOFx1MTBENFx1MTBEOFx1MTBFQVx1MTBEMFx1MTBENVx1MTBEM1x1MTBENFx1MTBFMVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MTBENFx1MTBEQVx1MTBENFx1MTBEQlx1MTBENFx1MTBEQ1x1MTBFMlx1MTBEOFwiLCB2ZXJiOiBcIlx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwRThcdTEwRDRcdTEwRDhcdTEwRUFcdTEwRDBcdTEwRDVcdTEwRDNcdTEwRDRcdTEwRTFcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTEwRThcdTEwRDRcdTEwRTdcdTEwRDVcdTEwRDBcdTEwRENcdTEwRDBcIixcbiAgICAgICAgZW1haWw6IFwiXHUxMEQ0XHUxMERBLVx1MTBFNFx1MTBERFx1MTBFMVx1MTBFMlx1MTBEOFx1MTBFMSBcdTEwREJcdTEwRDhcdTEwRTFcdTEwRDBcdTEwREJcdTEwRDBcdTEwRTBcdTEwRDdcdTEwRDhcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTEwRDRcdTEwREJcdTEwRERcdTEwRUZcdTEwRDhcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUxMEQ3XHUxMEQwXHUxMEUwXHUxMEQ4XHUxMEU2XHUxMEQ4LVx1MTBEM1x1MTBFMFx1MTBERFwiLFxuICAgICAgICBkYXRlOiBcIlx1MTBEN1x1MTBEMFx1MTBFMFx1MTBEOFx1MTBFNlx1MTBEOFwiLFxuICAgICAgICB0aW1lOiBcIlx1MTBEM1x1MTBFMFx1MTBERFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJcdTEwRUVcdTEwRDBcdTEwRENcdTEwRDJcdTEwRTBcdTEwRUJcdTEwREFcdTEwRDhcdTEwRDVcdTEwRERcdTEwRDFcdTEwRDBcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IFx1MTBEQlx1MTBEOFx1MTBFMVx1MTBEMFx1MTBEQlx1MTBEMFx1MTBFMFx1MTBEN1x1MTBEOFwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgXHUxMERCXHUxMEQ4XHUxMEUxXHUxMEQwXHUxMERCXHUxMEQwXHUxMEUwXHUxMEQ3XHUxMEQ4XCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IFx1MTBEM1x1MTBEOFx1MTBEMFx1MTBERVx1MTBEMFx1MTBENlx1MTBERFx1MTBEQ1x1MTBEOFwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBcdTEwRDNcdTEwRDhcdTEwRDBcdTEwREVcdTEwRDBcdTEwRDZcdTEwRERcdTEwRENcdTEwRDhcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1cdTEwRDlcdTEwRERcdTEwRDNcdTEwRDhcdTEwRTBcdTEwRDRcdTEwRDFcdTEwRTNcdTEwREFcdTEwRDggXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwtXHUxMEQ5XHUxMEREXHUxMEQzXHUxMEQ4XHUxMEUwXHUxMEQ0XHUxMEQxXHUxMEUzXHUxMERBXHUxMEQ4IFx1MTBFMVx1MTBFMlx1MTBFMFx1MTBEOFx1MTBEQ1x1MTBEMlx1MTBEOFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1MTBFMVx1MTBFMlx1MTBFMFx1MTBEOFx1MTBEQ1x1MTBEMlx1MTBEOFwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IFx1MTBEQ1x1MTBERFx1MTBEQlx1MTBENFx1MTBFMFx1MTBEOFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUxMEU4XHUxMEQ0XHUxMEU3XHUxMEQ1XHUxMEQwXHUxMERDXHUxMEQwXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFOFx1MTBENFx1MTBFN1x1MTBENVx1MTBEMFx1MTBEQ1x1MTBEMDogXHUxMERCXHUxMEREXHUxMEUxXHUxMEQwXHUxMERBXHUxMEREXHUxMEQzXHUxMERDXHUxMEQ0XHUxMERBXHUxMEQ4ICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTEwREJcdTEwRDhcdTEwRTZcdTEwRDRcdTEwRDFcdTEwRTNcdTEwREFcdTEwRDggJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEU4XHUxMEQ0XHUxMEU3XHUxMEQ1XHUxMEQwXHUxMERDXHUxMEQwOiBcdTEwREJcdTEwRERcdTEwRTFcdTEwRDBcdTEwREFcdTEwRERcdTEwRDNcdTEwRENcdTEwRDRcdTEwREFcdTEwRDggJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEQ1XHUxMEQwXHUxMEUwXHUxMEQ4XHUxMEQwXHUxMERDXHUxMEUyXHUxMEQ4OiBcdTEwREJcdTEwRERcdTEwRTFcdTEwRDBcdTEwREFcdTEwRERcdTEwRDNcdTEwRENcdTEwRDRcdTEwREFcdTEwRDhcdTEwRDAgXHUxMEQ0XHUxMEUwXHUxMEQ3LVx1MTBENFx1MTBFMFx1MTBEN1x1MTBEOCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX0tXHUxMEQzXHUxMEQwXHUxMERDYDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBENlx1MTBENFx1MTBEM1x1MTBEQlx1MTBENFx1MTBFMlx1MTBEMFx1MTBEMyBcdTEwRDNcdTEwRDhcdTEwRDNcdTEwRDg6IFx1MTBEQlx1MTBERFx1MTBFMVx1MTBEMFx1MTBEQVx1MTBERFx1MTBEM1x1MTBEQ1x1MTBENFx1MTBEQVx1MTBEOCAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MTBEQlx1MTBEQ1x1MTBEOFx1MTBFOFx1MTBENVx1MTBEQ1x1MTBENFx1MTBEQVx1MTBERFx1MTBEMVx1MTBEMFwifSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQ2XHUxMEQ0XHUxMEQzXHUxMERCXHUxMEQ0XHUxMEUyXHUxMEQwXHUxMEQzIFx1MTBEM1x1MTBEOFx1MTBEM1x1MTBEODogXHUxMERCXHUxMEREXHUxMEUxXHUxMEQwXHUxMERBXHUxMEREXHUxMEQzXHUxMERDXHUxMEQ0XHUxMERBXHUxMEQ4ICR7aXNzdWUub3JpZ2luID8/IFwiXHUxMERCXHUxMERDXHUxMEQ4XHUxMEU4XHUxMEQ1XHUxMERDXHUxMEQ0XHUxMERBXHUxMEREXHUxMEQxXHUxMEQwXCJ9IFx1MTBEOFx1MTBFN1x1MTBERFx1MTBFMSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBENlx1MTBENFx1MTBEM1x1MTBEQlx1MTBENFx1MTBFMlx1MTBEMFx1MTBEMyBcdTEwREVcdTEwRDBcdTEwRTJcdTEwRDBcdTEwRTBcdTEwRDA6IFx1MTBEQlx1MTBERFx1MTBFMVx1MTBEMFx1MTBEQVx1MTBERFx1MTBEM1x1MTBEQ1x1MTBENFx1MTBEQVx1MTBEOCAke2lzc3VlLm9yaWdpbn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDZcdTEwRDRcdTEwRDNcdTEwREJcdTEwRDRcdTEwRTJcdTEwRDBcdTEwRDMgXHUxMERFXHUxMEQwXHUxMEUyXHUxMEQwXHUxMEUwXHUxMEQwOiBcdTEwREJcdTEwRERcdTEwRTFcdTEwRDBcdTEwREFcdTEwRERcdTEwRDNcdTEwRENcdTEwRDRcdTEwREFcdTEwRDggJHtpc3N1ZS5vcmlnaW59IFx1MTBEOFx1MTBFN1x1MTBERFx1MTBFMSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFMVx1MTBFMlx1MTBFMFx1MTBEOFx1MTBEQ1x1MTBEMlx1MTBEODogXHUxMEUzXHUxMERDXHUxMEQzXHUxMEQwIFx1MTBEOFx1MTBFQ1x1MTBFN1x1MTBENFx1MTBEMVx1MTBERFx1MTBEM1x1MTBENFx1MTBFMSBcIiR7X2lzc3VlLnByZWZpeH1cIi1cdTEwRDhcdTEwRDdgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4OiBcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMERCXHUxMEQ3XHUxMEQwXHUxMEQ1XHUxMEUwXHUxMEQzXHUxMEQ0XHUxMEQxXHUxMEREXHUxMEQzXHUxMEQ0XHUxMEUxIFwiJHtfaXNzdWUuc3VmZml4fVwiLVx1MTBEOFx1MTBEN2A7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4OiBcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMEU4XHUxMEQ0XHUxMEQ4XHUxMEVBXHUxMEQwXHUxMEQ1XHUxMEQzXHUxMEQ0XHUxMEUxIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCItXHUxMEUxYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRTFcdTEwRTJcdTEwRTBcdTEwRDhcdTEwRENcdTEwRDJcdTEwRDg6IFx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwRThcdTEwRDRcdTEwRDRcdTEwRTFcdTEwRDBcdTEwRDFcdTEwRDBcdTEwREJcdTEwRDRcdTEwRDFcdTEwRERcdTEwRDNcdTEwRDRcdTEwRTEgXHUxMEU4XHUxMEQwXHUxMEQxXHUxMERBXHUxMEREXHUxMERDXHUxMEUxICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFMFx1MTBEOFx1MTBFQVx1MTBFRVx1MTBENVx1MTBEODogXHUxMEUzXHUxMERDXHUxMEQzXHUxMEQwIFx1MTBEOFx1MTBFN1x1MTBERFx1MTBFMSAke2lzc3VlLmRpdmlzb3J9LVx1MTBEOFx1MTBFMSBcdTEwRUZcdTEwRDRcdTEwRTBcdTEwRDBcdTEwRDNcdTEwRDhgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRTNcdTEwRUFcdTEwRENcdTEwRERcdTEwRDFcdTEwRDggXHUxMEQyXHUxMEQwXHUxMEUxXHUxMEQwXHUxMEU2XHUxMEQ0XHUxMEQxJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MTBENFx1MTBEMVx1MTBEOFwiIDogXCJcdTEwRDhcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBEMlx1MTBEMFx1MTBFMVx1MTBEMFx1MTBFNlx1MTBENFx1MTBEMVx1MTBEOCAke2lzc3VlLm9yaWdpbn0tXHUxMEU4XHUxMEQ4YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFOFx1MTBENFx1MTBFN1x1MTBENVx1MTBEMFx1MTBEQ1x1MTBEMFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBEQlx1MTBEQ1x1MTBEOFx1MTBFOFx1MTBENVx1MTBEQ1x1MTBENFx1MTBEQVx1MTBERFx1MTBEMVx1MTBEMCAke2lzc3VlLm9yaWdpbn0tXHUxMEU4XHUxMEQ4YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEU4XHUxMEQ0XHUxMEU3XHUxMEQ1XHUxMEQwXHUxMERDXHUxMEQwYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTE3OEZcdTE3QkRcdTE3QTJcdTE3ODBcdTE3RDJcdTE3OUZcdTE3OUFcIiwgdmVyYjogXCJcdTE3ODJcdTE3QkRcdTE3OUFcdTE3OThcdTE3QjZcdTE3OTNcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUxNzk0XHUxN0MzXCIsIHZlcmI6IFwiXHUxNzgyXHUxN0JEXHUxNzlBXHUxNzk4XHUxN0I2XHUxNzkzXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTE3OTJcdTE3QjZcdTE3OEZcdTE3QkJcIiwgdmVyYjogXCJcdTE3ODJcdTE3QkRcdTE3OUFcdTE3OThcdTE3QjZcdTE3OTNcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTE3OTJcdTE3QjZcdTE3OEZcdTE3QkJcIiwgdmVyYjogXCJcdTE3ODJcdTE3QkRcdTE3OUFcdTE3OThcdTE3QjZcdTE3OTNcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzk4XHUxN0MyXHUxNzkzXHUxNzg3XHUxN0I2XHUxNzlCXHUxN0MxXHUxNzgxIChOYU4pXCIgOiBcIlx1MTc5Qlx1MTdDMVx1MTc4MVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUxN0EyXHUxN0I2XHUxNzlBXHUxN0MxIChBcnJheSlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUxNzgyXHUxN0QyXHUxNzk4XHUxN0I2XHUxNzkzXHUxNzhGXHUxNzk4XHUxN0QyXHUxNzlCXHUxN0MzIChudWxsKVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUxNzkxXHUxN0I3XHUxNzkzXHUxN0QyXHUxNzkzXHUxNzkzXHUxN0QwXHUxNzk5XHUxNzk0XHUxNzg5XHUxN0QyXHUxNzg1XHUxN0JDXHUxNzlCXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MTdBMlx1MTdCNlx1MTc5Rlx1MTc5OVx1MTc4QVx1MTdEMlx1MTc4Qlx1MTdCNlx1MTc5M1x1MTdBMlx1MTdDQVx1MTdCOFx1MTc5OFx1MTdDMlx1MTc5QlwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MTc5Rlx1MTc4OVx1MTdEMlx1MTc4OVx1MTdCNlx1MTdBMlx1MTdCNlx1MTc5QVx1MTc5OFx1MTdEMlx1MTc5OFx1MTc4RVx1MTdDRFwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTE3ODBcdTE3QjZcdTE3OUJcdTE3OTRcdTE3OUFcdTE3QjdcdTE3ODVcdTE3RDJcdTE3ODZcdTE3QzFcdTE3OTEgXHUxNzkzXHUxN0I3XHUxNzg0XHUxNzk4XHUxN0M5XHUxN0M0XHUxNzg0IElTT1wiLFxuICAgICAgICBkYXRlOiBcIlx1MTc4MFx1MTdCNlx1MTc5Qlx1MTc5NFx1MTc5QVx1MTdCN1x1MTc4NVx1MTdEMlx1MTc4Nlx1MTdDMVx1MTc5MSBJU09cIixcbiAgICAgICAgdGltZTogXCJcdTE3OThcdTE3QzlcdTE3QzRcdTE3ODQgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MTc5QVx1MTc5OVx1MTdDOFx1MTc5Nlx1MTdDMVx1MTc5QiBJU09cIixcbiAgICAgICAgaXB2NDogXCJcdTE3QTJcdTE3QjZcdTE3OUZcdTE3OTlcdTE3OEFcdTE3RDJcdTE3OEJcdTE3QjZcdTE3OTMgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcIlx1MTdBMlx1MTdCNlx1MTc5Rlx1MTc5OVx1MTc4QVx1MTdEMlx1MTc4Qlx1MTdCNlx1MTc5MyBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJcdTE3OEFcdTE3QzJcdTE3OTNcdTE3QTJcdTE3QjZcdTE3OUZcdTE3OTlcdTE3OEFcdTE3RDJcdTE3OEJcdTE3QjZcdTE3OTMgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiXHUxNzhBXHUxN0MyXHUxNzkzXHUxN0EyXHUxN0I2XHUxNzlGXHUxNzk5XHUxNzhBXHUxN0QyXHUxNzhCXHUxN0I2XHUxNzkzIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MTc4MVx1MTdEMlx1MTc5Rlx1MTdDMlx1MTdBMlx1MTc4MFx1MTdEMlx1MTc5Rlx1MTc5QVx1MTdBMlx1MTdDQVx1MTdCN1x1MTc4MFx1MTdCQ1x1MTc4QSBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MTc4MVx1MTdEMlx1MTc5Rlx1MTdDMlx1MTdBMlx1MTc4MFx1MTdEMlx1MTc5Rlx1MTc5QVx1MTdBMlx1MTdDQVx1MTdCN1x1MTc4MFx1MTdCQ1x1MTc4QSBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUxNzgxXHUxN0QyXHUxNzlGXHUxN0MyXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJcdTE3OUJcdTE3QzFcdTE3ODEgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MTc5MVx1MTdCN1x1MTc5M1x1MTdEMlx1MTc5M1x1MTc5M1x1MTdEMFx1MTc5OVx1MTc5NFx1MTc4OVx1MTdEMlx1MTc4NVx1MTdCQ1x1MTc5QlwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc5MVx1MTdCN1x1MTc5M1x1MTdEMlx1MTc5M1x1MTc5M1x1MTdEMFx1MTc5OVx1MTc5NFx1MTc4OVx1MTdEMlx1MTc4NVx1MTdCQ1x1MTc5Qlx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3ODBcdTE3QjZcdTE3OUEgJHtpc3N1ZS5leHBlY3RlZH0gXHUxNzk0XHUxN0M5XHUxN0JCXHUxNzkzXHUxN0QyXHUxNzhGXHUxN0MyXHUxNzkxXHUxNzkxXHUxN0JEXHUxNzlCXHUxNzk0XHUxN0I2XHUxNzkzICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzkxXHUxN0I3XHUxNzkzXHUxN0QyXHUxNzkzXHUxNzkzXHUxN0QwXHUxNzk5XHUxNzk0XHUxNzg5XHUxN0QyXHUxNzg1XHUxN0JDXHUxNzlCXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc4MFx1MTdCNlx1MTc5QSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc4N1x1MTc5OFx1MTdEMlx1MTc5QVx1MTdCRVx1MTc5Rlx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3ODdcdTE3QjZcdTE3OThcdTE3QkRcdTE3OTlcdTE3ODBcdTE3RDJcdTE3OTNcdTE3QkJcdTE3ODRcdTE3ODVcdTE3QzZcdTE3OEVcdTE3QzRcdTE3OTggJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc5Mlx1MTdDNlx1MTc5Nlx1MTdDMVx1MTc4MFx1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3ODBcdTE3QjZcdTE3OUEgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTE3OEZcdTE3OThcdTE3RDJcdTE3OUJcdTE3QzNcIn0gJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUxNzkyXHUxN0I2XHUxNzhGXHUxN0JCXCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc5Mlx1MTdDNlx1MTc5Nlx1MTdDMVx1MTc4MFx1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3ODBcdTE3QjZcdTE3OUEgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTE3OEZcdTE3OThcdTE3RDJcdTE3OUJcdTE3QzNcIn0gJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzhGXHUxN0JDXHUxNzg1XHUxNzk2XHUxN0MxXHUxNzgwXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc4MFx1MTdCNlx1MTc5QSAke2lzc3VlLm9yaWdpbn0gJHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzhGXHUxN0JDXHUxNzg1XHUxNzk2XHUxN0MxXHUxNzgwXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc4MFx1MTdCNlx1MTc5QSAke2lzc3VlLm9yaWdpbn0gJHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3ODFcdTE3RDJcdTE3OUZcdTE3QzJcdTE3QTJcdTE3ODBcdTE3RDJcdTE3OUZcdTE3OUFcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzg1XHUxN0I2XHUxNzk0XHUxN0NCXHUxNzk1XHUxN0QyXHUxNzhGXHUxN0JFXHUxNzk4XHUxNzhBXHUxN0M0XHUxNzk5IFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzgxXHUxN0QyXHUxNzlGXHUxN0MyXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc5NFx1MTc4OVx1MTdEMlx1MTc4NVx1MTc5NFx1MTdDQlx1MTc4QVx1MTdDNFx1MTc5OSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3ODFcdTE3RDJcdTE3OUZcdTE3QzJcdTE3QTJcdTE3ODBcdTE3RDJcdTE3OUZcdTE3OUFcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzk4XHUxN0I2XHUxNzkzIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzgxXHUxN0QyXHUxNzlGXHUxN0MyXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc4Rlx1MTdDMlx1MTc5NVx1MTdEMlx1MTc4Mlx1MTdCQ1x1MTc5NVx1MTdEMlx1MTc4Mlx1MTc4NFx1MTc5M1x1MTdCOVx1MTc4NFx1MTc5MVx1MTc5OFx1MTdEMlx1MTc5QVx1MTc4NFx1MTdDQlx1MTc4QVx1MTdDMlx1MTc5Qlx1MTc5NFx1MTdCNlx1MTc5M1x1MTc4MFx1MTdDNlx1MTc4RVx1MTc4Rlx1MTdDQiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc5Qlx1MTdDMVx1MTc4MVx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3OEZcdTE3QzJcdTE3ODdcdTE3QjZcdTE3OTZcdTE3QTBcdTE3QkJcdTE3ODJcdTE3QkJcdTE3OEVcdTE3OTNcdTE3QzMgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc5QVx1MTc4MFx1MTc4M1x1MTdCRVx1MTc4OVx1MTc5Rlx1MTdDNFx1MTc5OFx1MTdCN1x1MTc5M1x1MTc5Rlx1MTdEMlx1MTc4Mlx1MTdCNlx1MTc5Qlx1MTdDQlx1MTdENiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc5Rlx1MTdDNFx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc5M1x1MTdDNVx1MTc4MFx1MTdEMlx1MTc5M1x1MTdCQlx1MTc4NCAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc5MVx1MTdCN1x1MTc5M1x1MTdEMlx1MTc5M1x1MTc5M1x1MTdEMFx1MTc5OVx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q2A7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OTFcdTE3QjdcdTE3OTNcdTE3RDJcdTE3OTNcdTE3OTNcdTE3RDBcdTE3OTlcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3OTNcdTE3QzVcdTE3ODBcdTE3RDJcdTE3OTNcdTE3QkJcdTE3ODQgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OTFcdTE3QjdcdTE3OTNcdTE3RDJcdTE3OTNcdTE3OTNcdTE3RDBcdTE3OTlcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQga20gZnJvbSBcIi4va20uanNcIjtcbi8qKiBAZGVwcmVjYXRlZCBVc2UgYGttYCBpbnN0ZWFkLiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBrbSgpO1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHVCQjM4XHVDNzkwXCIsIHZlcmI6IFwidG8gaGF2ZVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdUJDMTRcdUM3NzRcdUQyQjhcIiwgdmVyYjogXCJ0byBoYXZlXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdUFDMUNcIiwgdmVyYjogXCJ0byBoYXZlXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHVBQzFDXCIsIHZlcmI6IFwidG8gaGF2ZVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdUM3ODVcdUI4MjVcIixcbiAgICAgICAgZW1haWw6IFwiXHVDNzc0XHVCQTU0XHVDNzdDIFx1QzhGQ1x1QzE4Q1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1Qzc3NFx1QkFBOFx1QzlDMFwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gXHVCMEEwXHVDOURDXHVDMkRDXHVBQzA0XCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIFx1QjBBMFx1QzlEQ1wiLFxuICAgICAgICB0aW1lOiBcIklTTyBcdUMyRENcdUFDMDRcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIFx1QUUzMFx1QUMwNFwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgXHVDOEZDXHVDMThDXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBcdUM4RkNcdUMxOENcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgXHVCQzk0XHVDNzA0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IFx1QkM5NFx1QzcwNFwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0IFx1Qzc3OFx1Q0Y1NFx1QjUyOSBcdUJCMzhcdUM3OTBcdUM1RjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybCBcdUM3NzhcdUNGNTRcdUI1MjkgXHVCQjM4XHVDNzkwXHVDNUY0XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHVCQjM4XHVDNzkwXHVDNUY0XCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgXHVCQzg4XHVENjM4XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdUM3ODVcdUI4MjVcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVDNzg1XHVCODI1OiBcdUM2MDhcdUMwQzEgXHVEMEMwXHVDNzg1XHVDNzQwICR7aXNzdWUuZXhwZWN0ZWR9LCBcdUJDMUJcdUM3NDAgXHVEMEMwXHVDNzg1XHVDNzQwICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9XHVDNzg1XHVCMkM4XHVCMkU0YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1Qzc4NVx1QjgyNTogXHVBQzEyXHVDNzQwICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX0gXHVDNzc0XHVDNUI0XHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNGA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVDNjM1XHVDMTU4OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwiXHVCNjEwXHVCMjk0IFwiKX0gXHVDOTExIFx1RDU1OFx1QjA5OFx1QzVFQ1x1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHVDNzc0XHVENTU4XCIgOiBcIlx1QkJGOFx1QjlDQ1wiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1ZmZpeCA9IGFkaiA9PT0gXCJcdUJCRjhcdUI5Q0NcIiA/IFwiXHVDNzc0XHVDNUI0XHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNFwiIDogXCJcdUM1RUNcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5pdCA9IHNpemluZz8udW5pdCA/PyBcIlx1QzY5NFx1QzE4Q1wiO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdUFDMTJcIn1cdUM3NzQgXHVCMTA4XHVCQjM0IFx1RDA3RFx1QjJDOFx1QjJFNDogJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9JHt1bml0fSAke2Fkan0ke3N1ZmZpeH1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdUFDMTJcIn1cdUM3NzQgXHVCMTA4XHVCQjM0IFx1RDA3RFx1QjJDOFx1QjJFNDogJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7YWRqfSR7c3VmZml4fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIlx1Qzc3NFx1QzBDMVwiIDogXCJcdUNEMDhcdUFDRkNcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWZmaXggPSBhZGogPT09IFwiXHVDNzc0XHVDMEMxXCIgPyBcIlx1Qzc3NFx1QzVCNFx1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRcIiA6IFwiXHVDNUVDXHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaXQgPSBzaXppbmc/LnVuaXQgPz8gXCJcdUM2OTRcdUMxOENcIjtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdUFDMTJcIn1cdUM3NzQgXHVCMTA4XHVCQjM0IFx1Qzc5MVx1QzJCNVx1QjJDOFx1QjJFNDogJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9JHt1bml0fSAke2Fkan0ke3N1ZmZpeH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2luID8/IFwiXHVBQzEyXCJ9XHVDNzc0IFx1QjEwOFx1QkIzNCBcdUM3OTFcdUMyQjVcdUIyQzhcdUIyRTQ6ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke2Fkan0ke3N1ZmZpeH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1QkIzOFx1Qzc5MFx1QzVGNDogXCIke19pc3N1ZS5wcmVmaXh9XCIoXHVDNzNDKVx1Qjg1QyBcdUMyRENcdUM3OTFcdUQ1NzRcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1QkIzOFx1Qzc5MFx1QzVGNDogXCIke19pc3N1ZS5zdWZmaXh9XCIoXHVDNzNDKVx1Qjg1QyBcdUIwNURcdUIwOThcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0YDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUJCMzhcdUM3OTBcdUM1RjQ6IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJcdUM3NDQoXHVCOTdDKSBcdUQzRUNcdUQ1NjhcdUQ1NzRcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0YDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUJCMzhcdUM3OTBcdUM1RjQ6IFx1QzgxNVx1QUREQ1x1QzJERCAke19pc3N1ZS5wYXR0ZXJufSBcdUQzMjhcdUQxMzRcdUFDRkMgXHVDNzdDXHVDRTU4XHVENTc0XHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNGA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUMyMkJcdUM3OTA6ICR7aXNzdWUuZGl2aXNvcn1cdUM3NTggXHVCQzMwXHVDMjE4XHVDNUVDXHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNGA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc3OFx1QzJERFx1RDU2MCBcdUMyMTggXHVDNUM2XHVCMjk0IFx1RDBBNDogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVEMEE0OiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUM3ODVcdUI4MjVgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1QUMxMjogJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVDNzg1XHVCODI1YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHJldHVybiBwYXJzZWRUeXBlRnJvbVR5cGUodCwgZGF0YSk7XG59O1xuY29uc3QgcGFyc2VkVHlwZUZyb21UeXBlID0gKHQsIGRhdGEgPSB1bmRlZmluZWQpID0+IHtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwic2thaVx1MDEwRGl1c1wiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjoge1xuICAgICAgICAgICAgcmV0dXJuIFwic3ZlaWthc2lzIHNrYWlcdTAxMERpdXNcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwic3RyaW5nXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBcImVpbHV0XHUwMTE3XCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjoge1xuICAgICAgICAgICAgcmV0dXJuIFwibG9naW5cdTAxMTcgcmVpa1x1MDE2MW1cdTAxMTdcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgIGNhc2UgXCJ2b2lkXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBcIm5lYXBpYnJcdTAxMTdcdTAxN0V0YSByZWlrXHUwMTYxbVx1MDExN1wiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJmdW5rY2lqYVwiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjoge1xuICAgICAgICAgICAgcmV0dXJuIFwic2ltYm9saXNcIjtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibmVcdTAxN0Vpbm9tYXMgb2JqZWt0YXNcIjtcbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGluXHUwMTE3IHJlaWtcdTAxNjFtXHUwMTE3XCI7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtYXN5dmFzXCI7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwib2JqZWt0YXNcIjtcbiAgICAgICAgfVxuICAgICAgICAvL1pvZCB0eXBlcyBiZWxvd1xuICAgICAgICBjYXNlIFwibnVsbFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gXCJudWxpblx1MDExNyByZWlrXHUwMTYxbVx1MDExN1wiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbmNvbnN0IGNhcGl0YWxpemVGaXJzdENoYXJhY3RlciA9ICh0ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRleHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0ZXh0LnNsaWNlKDEpO1xufTtcbmZ1bmN0aW9uIGdldFVuaXRUeXBlRnJvbU51bWJlcihudW1iZXIpIHtcbiAgICBjb25zdCBhYnMgPSBNYXRoLmFicyhudW1iZXIpO1xuICAgIGNvbnN0IGxhc3QgPSBhYnMgJSAxMDtcbiAgICBjb25zdCBsYXN0MiA9IGFicyAlIDEwMDtcbiAgICBpZiAoKGxhc3QyID49IDExICYmIGxhc3QyIDw9IDE5KSB8fCBsYXN0ID09PSAwKVxuICAgICAgICByZXR1cm4gXCJtYW55XCI7XG4gICAgaWYgKGxhc3QgPT09IDEpXG4gICAgICAgIHJldHVybiBcIm9uZVwiO1xuICAgIHJldHVybiBcImZld1wiO1xufVxuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcInNpbWJvbGlzXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcInNpbWJvbGlhaVwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwic2ltYm9saVx1MDE3M1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IHtcbiAgICAgICAgICAgICAgICBzbWFsbGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBuZSBpbGdlc25cdTAxMTcga2FpcFwiLFxuICAgICAgICAgICAgICAgICAgICBub3RJbmNsdXNpdmU6IFwidHVyaSBiXHUwMTZCdGkgdHJ1bXBlc25cdTAxMTcga2FpcFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBuZSB0cnVtcGVzblx1MDExNyBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBpbGdlc25cdTAxMTcga2FpcFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcImJhaXRhc1wiLFxuICAgICAgICAgICAgICAgIGZldzogXCJiYWl0YWlcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcImJhaXRcdTAxNzNcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiB7XG4gICAgICAgICAgICAgICAgc21hbGxlcjoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IFwidHVyaSBiXHUwMTZCdGkgbmUgZGlkZXNuaXMga2FpcFwiLFxuICAgICAgICAgICAgICAgICAgICBub3RJbmNsdXNpdmU6IFwidHVyaSBiXHUwMTZCdGkgbWFcdTAxN0Vlc25pcyBrYWlwXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBiaWdnZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBcInR1cmkgYlx1MDE2QnRpIG5lIG1hXHUwMTdFZXNuaXMga2FpcFwiLFxuICAgICAgICAgICAgICAgICAgICBub3RJbmNsdXNpdmU6IFwidHVyaSBiXHUwMTZCdGkgZGlkZXNuaXMga2FpcFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJlbGVtZW50XHUwMTA1XCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcImVsZW1lbnR1c1wiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiZWxlbWVudFx1MDE3M1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IHtcbiAgICAgICAgICAgICAgICBzbWFsbGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIG5lIGRhdWdpYXUga2FpcFwiLFxuICAgICAgICAgICAgICAgICAgICBub3RJbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBtYVx1MDE3RWlhdSBrYWlwXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBiaWdnZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBcInR1cmkgdHVyXHUwMTE3dGkgbmUgbWFcdTAxN0VpYXUga2FpcFwiLFxuICAgICAgICAgICAgICAgICAgICBub3RJbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBkYXVnaWF1IGthaXBcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcImVsZW1lbnRcdTAxMDVcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiZWxlbWVudHVzXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJlbGVtZW50XHUwMTczXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjoge1xuICAgICAgICAgICAgICAgIHNtYWxsZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBcInR1cmkgdHVyXHUwMTE3dGkgbmUgZGF1Z2lhdSBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIG1hXHUwMTdFaWF1IGthaXBcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJpZ2dlcjoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBuZSBtYVx1MDE3RWlhdSBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIGRhdWdpYXUga2FpcFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbiwgdW5pdFR5cGUsIGluY2x1c2l2ZSwgdGFyZ2V0U2hvdWxkQmUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdW5pdDogcmVzdWx0LnVuaXRbdW5pdFR5cGVdLFxuICAgICAgICAgICAgdmVyYjogcmVzdWx0LnZlcmJbdGFyZ2V0U2hvdWxkQmVdW2luY2x1c2l2ZSA/IFwiaW5jbHVzaXZlXCIgOiBcIm5vdEluY2x1c2l2ZVwiXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDEyRnZlc3Rpc1wiLFxuICAgICAgICBlbWFpbDogXCJlbC4gcGFcdTAxNjF0byBhZHJlc2FzXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiamF1c3R1a2FzXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYXRhIGlyIGxhaWthc1wiLFxuICAgICAgICBkYXRlOiBcIklTTyBkYXRhXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIGxhaWthc1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gdHJ1a21cdTAxMTdcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IGFkcmVzYXNcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IGFkcmVzYXNcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgdGlua2xvIHByZWZpa3NhcyAoQ0lEUilcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgdGlua2xvIHByZWZpa3NhcyAoQ0lEUilcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NCB1XHUwMTdFa29kdW90YSBlaWx1dFx1MDExN1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsIHVcdTAxN0Vrb2R1b3RhIGVpbHV0XHUwMTE3XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gZWlsdXRcdTAxMTdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBudW1lcmlzXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTAxMkZ2ZXN0aXNcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBHYXV0YXMgdGlwYXMgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX0sIG8gdGlrXHUwMTE3dGFzaSAtICR7cGFyc2VkVHlwZUZyb21UeXBlKGlzc3VlLmV4cGVjdGVkKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBQcml2YWxvIGJcdTAxNkJ0aSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFByaXZhbG8gYlx1MDE2QnRpIHZpZW5hcyBpXHUwMTYxICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfSBwYXNpcmlua2ltXHUwMTczYDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBwYXJzZWRUeXBlRnJvbVR5cGUoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luLCBnZXRVbml0VHlwZUZyb21OdW1iZXIoTnVtYmVyKGlzc3VlLm1heGltdW0pKSwgaXNzdWUuaW5jbHVzaXZlID8/IGZhbHNlLCBcInNtYWxsZXJcIik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZz8udmVyYilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2NhcGl0YWxpemVGaXJzdENoYXJhY3RlcihvcmlnaW4gPz8gaXNzdWUub3JpZ2luID8/IFwicmVpa1x1MDE2MW1cdTAxMTdcIil9ICR7c2l6aW5nLnZlcmJ9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudFx1MDE3M1wifWA7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJuZSBkaWRlc25pcyBrYWlwXCIgOiBcIm1hXHUwMTdFZXNuaXMga2FpcFwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtjYXBpdGFsaXplRmlyc3RDaGFyYWN0ZXIob3JpZ2luID8/IGlzc3VlLm9yaWdpbiA/PyBcInJlaWtcdTAxNjFtXHUwMTE3XCIpfSB0dXJpIGJcdTAxNkJ0aSAke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nPy51bml0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBwYXJzZWRUeXBlRnJvbVR5cGUoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luLCBnZXRVbml0VHlwZUZyb21OdW1iZXIoTnVtYmVyKGlzc3VlLm1pbmltdW0pKSwgaXNzdWUuaW5jbHVzaXZlID8/IGZhbHNlLCBcImJpZ2dlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nPy52ZXJiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7Y2FwaXRhbGl6ZUZpcnN0Q2hhcmFjdGVyKG9yaWdpbiA/PyBpc3N1ZS5vcmlnaW4gPz8gXCJyZWlrXHUwMTYxbVx1MDExN1wiKX0gJHtzaXppbmcudmVyYn0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50XHUwMTczXCJ9YDtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIm5lIG1hXHUwMTdFZXNuaXMga2FpcFwiIDogXCJkaWRlc25pcyBrYWlwXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2NhcGl0YWxpemVGaXJzdENoYXJhY3RlcihvcmlnaW4gPz8gaXNzdWUub3JpZ2luID8/IFwicmVpa1x1MDE2MW1cdTAxMTdcIil9IHR1cmkgYlx1MDE2QnRpICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmc/LnVuaXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEVpbHV0XHUwMTE3IHByaXZhbG8gcHJhc2lkXHUwMTE3dGkgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBFaWx1dFx1MDExNyBwcml2YWxvIHBhc2liYWlndGkgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRWlsdXRcdTAxMTcgcHJpdmFsbyBcdTAxMkZ0cmF1a3RpIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRWlsdXRcdTAxMTcgcHJpdmFsbyBhdGl0aWt0aSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXRlaXNpbmdhcyAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgU2thaVx1MDEwRGl1cyBwcml2YWxvIGJcdTAxNkJ0aSAke2lzc3VlLmRpdmlzb3J9IGthcnRvdGluaXMuYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVhdHBhXHUwMTdFaW50JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImlcIiA6IFwiYXNcIn0gcmFrdCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJhaVwiIDogXCJhc1wifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiUmFzdGFzIGtsYWlkaW5nYXMgcmFrdGFzXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIktsYWlkaW5nYSBcdTAxMkZ2ZXN0aXNcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IHBhcnNlZFR5cGVGcm9tVHlwZShpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtjYXBpdGFsaXplRmlyc3RDaGFyYWN0ZXIob3JpZ2luID8/IGlzc3VlLm9yaWdpbiA/PyBcInJlaWtcdTAxNjFtXHUwMTE3XCIpfSB0dXJpIGtsYWlkaW5nXHUwMTA1IFx1MDEyRnZlc3RcdTAxMkZgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJLbGFpZGluZ2EgXHUwMTJGdmVzdGlzXCI7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ2XHUwNDM4XCIsIHZlcmI6IFwiXHUwNDM0XHUwNDMwIFx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzMFx1MDQ0MlwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTA0MzFcdTA0MzBcdTA0NThcdTA0NDJcdTA0MzhcIiwgdmVyYjogXCJcdTA0MzRcdTA0MzAgXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDMwXHUwNDQyXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTA0NDFcdTA0NDJcdTA0MzBcdTA0MzJcdTA0M0FcdTA0MzhcIiwgdmVyYjogXCJcdTA0MzRcdTA0MzAgXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDMwXHUwNDQyXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDMyXHUwNDNBXHUwNDM4XCIsIHZlcmI6IFwiXHUwNDM0XHUwNDMwIFx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzMFx1MDQ0MlwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUwNDMxXHUwNDQwXHUwNDNFXHUwNDU4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzBcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNDMyXHUwNDNEXHUwNDM1XHUwNDQxXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVx1MDQzMCBcdTA0M0RcdTA0MzAgXHUwNDM1LVx1MDQzRlx1MDQzRVx1MDQ0OFx1MDQ0Mlx1MDQzMFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDQzNVx1MDQzQ1x1MDQzRVx1MDQ1Rlx1MDQzOFwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDQzXHUwNDNDIFx1MDQzOCBcdTA0MzJcdTA0NDBcdTA0MzVcdTA0M0NcdTA0MzVcIixcbiAgICAgICAgZGF0ZTogXCJJU08gXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDQzXHUwNDNDXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIFx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQzNVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDQyXHUwNDQwXHUwNDMwXHUwNDM1XHUwNDVBXHUwNDM1XCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzVcdTA0NDFcdTA0MzBcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVx1MDQzMFwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdTA0M0VcdTA0M0ZcdTA0NDFcdTA0MzVcdTA0MzNcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHUwNDNFXHUwNDNGXHUwNDQxXHUwNDM1XHUwNDMzXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtXHUwNDM1XHUwNDNEXHUwNDNBXHUwNDNFXHUwNDM0XHUwNDM4XHUwNDQwXHUwNDMwXHUwNDNEXHUwNDMwIFx1MDQzRFx1MDQzOFx1MDQzN1x1MDQzMFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLVx1MDQzNVx1MDQzRFx1MDQzQVx1MDQzRVx1MDQzNFx1MDQzOFx1MDQ0MFx1MDQzMFx1MDQzRFx1MDQzMCBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzBcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzBcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBcdTA0MzFcdTA0NDBcdTA0M0VcdTA0NThcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDQzMlx1MDQzRFx1MDQzNVx1MDQ0MVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxM1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzNVx1MDQzRCBcdTA0MzJcdTA0M0RcdTA0MzVcdTA0NDE6IFx1MDQ0MVx1MDQzNSBcdTA0M0VcdTA0NDdcdTA0MzVcdTA0M0FcdTA0NDNcdTA0MzJcdTA0MzAgJHtpc3N1ZS5leHBlY3RlZH0sIFx1MDQzRlx1MDQ0MFx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQzRSAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICAvLyByZXR1cm4gYEludmFsaWQgaW5wdXQ6IGV4cGVjdGVkICR7aXNzdWUuZXhwZWN0ZWR9LCByZWNlaXZlZCAke3V0aWwuZ2V0UGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTNcdTA0NDBcdTA0MzVcdTA0NDhcdTA0MzBcdTA0M0RcdTA0MzAgXHUwNDNFXHUwNDNGXHUwNDQ2XHUwNDM4XHUwNDU4XHUwNDMwOiBcdTA0NDFcdTA0MzUgXHUwNDNFXHUwNDQ3XHUwNDM1XHUwNDNBXHUwNDQzXHUwNDMyXHUwNDMwIFx1MDQzNVx1MDQzNFx1MDQzRFx1MDQzMCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDNEXHUwNDNFXHUwNDMzXHUwNDQzIFx1MDQzM1x1MDQzRVx1MDQzQlx1MDQzNVx1MDQzQzogXHUwNDQxXHUwNDM1IFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQ0M1x1MDQzMlx1MDQzMCAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQzRFx1MDQzRVx1MDQ0MVx1MDQ0Mlx1MDQzMFwifSBcdTA0MzRcdTA0MzAgXHUwNDM4XHUwNDNDXHUwNDMwICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwNDM1XHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDM4XCJ9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQzRFx1MDQzRVx1MDQzM1x1MDQ0MyBcdTA0MzNcdTA0M0VcdTA0M0JcdTA0MzVcdTA0M0M6IFx1MDQ0MVx1MDQzNSBcdTA0M0VcdTA0NDdcdTA0MzVcdTA0M0FcdTA0NDNcdTA0MzJcdTA0MzAgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzJcdTA0NDBcdTA0MzVcdTA0MzRcdTA0M0RcdTA0M0VcdTA0NDFcdTA0NDJcdTA0MzBcIn0gXHUwNDM0XHUwNDMwIFx1MDQzMVx1MDQzOFx1MDQzNFx1MDQzNSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQzRFx1MDQzRVx1MDQzM1x1MDQ0MyBcdTA0M0NcdTA0MzBcdTA0M0I6IFx1MDQ0MVx1MDQzNSBcdTA0M0VcdTA0NDdcdTA0MzVcdTA0M0FcdTA0NDNcdTA0MzJcdTA0MzAgJHtpc3N1ZS5vcmlnaW59IFx1MDQzNFx1MDQzMCBcdTA0MzhcdTA0M0NcdTA0MzAgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MUZcdTA0NDBcdTA0MzVcdTA0M0NcdTA0M0RcdTA0M0VcdTA0MzNcdTA0NDMgXHUwNDNDXHUwNDMwXHUwNDNCOiBcdTA0NDFcdTA0MzUgXHUwNDNFXHUwNDQ3XHUwNDM1XHUwNDNBXHUwNDQzXHUwNDMyXHUwNDMwICR7aXNzdWUub3JpZ2lufSBcdTA0MzRcdTA0MzAgXHUwNDMxXHUwNDM4XHUwNDM0XHUwNDM1ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzBcdTA0MzZcdTA0MzVcdTA0NDdcdTA0M0FcdTA0MzAgXHUwNDNEXHUwNDM4XHUwNDM3XHUwNDMwOiBcdTA0M0NcdTA0M0VcdTA0NDBcdTA0MzAgXHUwNDM0XHUwNDMwIFx1MDQzN1x1MDQzMFx1MDQzRlx1MDQzRVx1MDQ0N1x1MDQzRFx1MDQ0M1x1MDQzMlx1MDQzMCBcdTA0NDFcdTA0M0UgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzBcdTA0MzZcdTA0MzVcdTA0NDdcdTA0M0FcdTA0MzAgXHUwNDNEXHUwNDM4XHUwNDM3XHUwNDMwOiBcdTA0M0NcdTA0M0VcdTA0NDBcdTA0MzAgXHUwNDM0XHUwNDMwIFx1MDQzN1x1MDQzMFx1MDQzMlx1MDQ0MFx1MDQ0OFx1MDQ0M1x1MDQzMlx1MDQzMCBcdTA0NDFcdTA0M0UgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDQ3XHUwNDNBXHUwNDMwIFx1MDQzRFx1MDQzOFx1MDQzN1x1MDQzMDogXHUwNDNDXHUwNDNFXHUwNDQwXHUwNDMwIFx1MDQzNFx1MDQzMCBcdTA0MzJcdTA0M0FcdTA0M0JcdTA0NDNcdTA0NDdcdTA0NDNcdTA0MzJcdTA0MzAgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzBcdTA0MzZcdTA0MzVcdTA0NDdcdTA0M0FcdTA0MzAgXHUwNDNEXHUwNDM4XHUwNDM3XHUwNDMwOiBcdTA0M0NcdTA0M0VcdTA0NDBcdTA0MzAgXHUwNDM0XHUwNDMwIFx1MDQzRVx1MDQzNFx1MDQzM1x1MDQzRVx1MDQzMFx1MDQ0MFx1MDQzMCBcdTA0M0RcdTA0MzAgXHUwNDNGXHUwNDMwXHUwNDQyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDNFXHUwNDQyICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxM1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzNVx1MDQzRCBcdTA0MzFcdTA0NDBcdTA0M0VcdTA0NTg6IFx1MDQzQ1x1MDQzRVx1MDQ0MFx1MDQzMCBcdTA0MzRcdTA0MzAgXHUwNDMxXHUwNDM4XHUwNDM0XHUwNDM1IFx1MDQzNFx1MDQzNVx1MDQzQlx1MDQzOFx1MDQzMiBcdTA0NDFcdTA0M0UgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzVcdTA0M0ZcdTA0M0VcdTA0MzdcdTA0M0RcdTA0MzBcdTA0MzVcdTA0M0RcdTA0MzggXHUwNDNBXHUwNDNCXHUwNDQzXHUwNDQ3XHUwNDM1XHUwNDMyXHUwNDM4XCIgOiBcIlx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzNVx1MDQzRlx1MDQzRVx1MDQzN1x1MDQzRFx1MDQzMFx1MDQzNVx1MDQzRCBcdTA0M0FcdTA0M0JcdTA0NDNcdTA0NDdcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDEzXHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEIFx1MDQzQVx1MDQzQlx1MDQ0M1x1MDQ0NyBcdTA0MzJcdTA0M0UgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNDEzXHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEIFx1MDQzMlx1MDQzRFx1MDQzNVx1MDQ0MVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDEzXHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDNEXHUwNDMwIFx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQzRFx1MDQzRVx1MDQ0MVx1MDQ0MiBcdTA0MzJcdTA0M0UgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTNcdTA0NDBcdTA0MzVcdTA0NDhcdTA0MzVcdTA0M0QgXHUwNDMyXHUwNDNEXHUwNDM1XHUwNDQxYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJha3NhcmFcIiwgdmVyYjogXCJtZW1wdW55YWlcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYmFpdFwiLCB2ZXJiOiBcIm1lbXB1bnlhaVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbWVuXCIsIHZlcmI6IFwibWVtcHVueWFpXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbWVuXCIsIHZlcmI6IFwibWVtcHVueWFpXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJub21ib3JcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImlucHV0XCIsXG4gICAgICAgIGVtYWlsOiBcImFsYW1hdCBlLW1lbFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcInRhcmlraCBtYXNhIElTT1wiLFxuICAgICAgICBkYXRlOiBcInRhcmlraCBJU09cIixcbiAgICAgICAgdGltZTogXCJtYXNhIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJ0ZW1wb2ggSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiYWxhbWF0IElQdjRcIixcbiAgICAgICAgaXB2NjogXCJhbGFtYXQgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwianVsYXQgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwianVsYXQgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwic3RyaW5nIGRpa29ka2FuIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwic3RyaW5nIGRpa29ka2FuIGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJzdHJpbmcgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm5vbWJvciBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnB1dCB0aWRhayBzYWg6IGRpamFuZ2thICR7aXNzdWUuZXhwZWN0ZWR9LCBkaXRlcmltYSAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYElucHV0IHRpZGFrIHNhaDogZGlqYW5na2EgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBQaWxpaGFuIHRpZGFrIHNhaDogZGlqYW5na2Egc2FsYWggc2F0dSBkYXJpcGFkYSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGVybGFsdSBiZXNhcjogZGlqYW5na2EgJHtpc3N1ZS5vcmlnaW4gPz8gXCJuaWxhaVwifSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lblwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUZXJsYWx1IGJlc2FyOiBkaWphbmdrYSAke2lzc3VlLm9yaWdpbiA/PyBcIm5pbGFpXCJ9IGFkYWxhaCAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUga2VjaWw6IGRpamFuZ2thICR7aXNzdWUub3JpZ2lufSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUga2VjaWw6IGRpamFuZ2thICR7aXNzdWUub3JpZ2lufSBhZGFsYWggJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBTdHJpbmcgdGlkYWsgc2FoOiBtZXN0aSBiZXJtdWxhIGRlbmdhbiBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nIHRpZGFrIHNhaDogbWVzdGkgYmVyYWtoaXIgZGVuZ2FuIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFN0cmluZyB0aWRhayBzYWg6IG1lc3RpIG1lbmdhbmR1bmdpIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgU3RyaW5nIHRpZGFrIHNhaDogbWVzdGkgc2VwYWRhbiBkZW5nYW4gY29yYWsgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IHRpZGFrIHNhaGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOb21ib3IgdGlkYWsgc2FoOiBwZXJsdSBnYW5kYWFuICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLdW5jaSB0aWRhayBkaWtlbmFsaTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLdW5jaSB0aWRhayBzYWggZGFsYW0gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiSW5wdXQgdGlkYWsgc2FoXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWxhaSB0aWRhayBzYWggZGFsYW0gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnB1dCB0aWRhayBzYWhgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcInRla2Vuc1wiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlc1wiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbWVudGVuXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbWVudGVuXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJnZXRhbFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiaW52b2VyXCIsXG4gICAgICAgIGVtYWlsOiBcImVtYWlsYWRyZXNcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gZGF0dW0gZW4gdGlqZFwiLFxuICAgICAgICBkYXRlOiBcIklTTyBkYXR1bVwiLFxuICAgICAgICB0aW1lOiBcIklTTyB0aWpkXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBkdXVyXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NC1hZHJlc1wiLFxuICAgICAgICBpcHY2OiBcIklQdjYtYWRyZXNcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQtYmVyZWlrXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2LWJlcmVpa1wiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWdlY29kZWVyZGUgdGVrc3RcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NCBVUkwtZ2Vjb2RlZXJkZSB0ZWtzdFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIHN0cmluZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0LW51bW1lclwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW52b2VyXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIGludm9lcjogdmVyd2FjaHQgJHtpc3N1ZS5leHBlY3RlZH0sIG9udHZpbmcgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZ2UgaW52b2VyOiB2ZXJ3YWNodCAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSBvcHRpZTogdmVyd2FjaHQgXHUwMEU5XHUwMEU5biB2YW4gJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRlIGxhbmc6IHZlcndhY2h0IGRhdCAke2lzc3VlLm9yaWdpbiA/PyBcIndhYXJkZVwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRlblwifSBiZXZhdGA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUZSBsYW5nOiB2ZXJ3YWNodCBkYXQgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ3YWFyZGVcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9IGlzYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZSBrb3J0OiB2ZXJ3YWNodCBkYXQgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fSBiZXZhdGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgVGUga29ydDogdmVyd2FjaHQgZGF0ICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gaXNgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIHRla3N0OiBtb2V0IG1ldCBcIiR7X2lzc3VlLnByZWZpeH1cIiBiZWdpbm5lbmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSB0ZWtzdDogbW9ldCBvcCBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBlaW5kaWdlbmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZ2UgdGVrc3Q6IG1vZXQgXCIke19pc3N1ZS5pbmNsdWRlc31cIiBiZXZhdHRlbmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPbmdlbGRpZ2UgdGVrc3Q6IG1vZXQgb3ZlcmVlbmtvbWVuIG1ldCBwYXRyb29uICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnOiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWcgZ2V0YWw6IG1vZXQgZWVuIHZlZWx2b3VkIHZhbiAke2lzc3VlLmRpdmlzb3J9IHppam5gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPbmJla2VuZGUga2V5JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSBrZXkgaW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiT25nZWxkaWdlIGludm9lclwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIHdhYXJkZSBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSBpbnZvZXJgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcInRlZ25cIiwgdmVyYjogXCJcdTAwRTUgaGFcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZXNcIiwgdmVyYjogXCJcdTAwRTUgaGFcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1lbnRlclwiLCB2ZXJiOiBcIlx1MDBFNSBpbm5laG9sZGVcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtZW50ZXJcIiwgdmVyYjogXCJcdTAwRTUgaW5uZWhvbGRlXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJ0YWxsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsaXN0ZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnB1dFwiLFxuICAgICAgICBlbWFpbDogXCJlLXBvc3RhZHJlc3NlXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGRhdG8tIG9nIGtsb2trZXNsZXR0XCIsXG4gICAgICAgIGRhdGU6IFwiSVNPLWRhdG9cIixcbiAgICAgICAgdGltZTogXCJJU08ta2xva2tlc2xldHRcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPLXZhcmlnaGV0XCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NC1vbXJcdTAwRTVkZVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYtb21yXHUwMEU1ZGVcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQtc3Bla3RlclwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Ni1zcGVrdGVyXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZW5rb2RldCBzdHJlbmdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1lbmtvZGV0IHN0cmVuZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OLXN0cmVuZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0LW51bW1lclwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIGlucHV0OiBmb3J2ZW50ZXQgJHtpc3N1ZS5leHBlY3RlZH0sIGZpa2sgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHZlcmRpOiBmb3J2ZW50ZXQgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHZhbGc6IGZvcnZlbnRldCBlbiBhdiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRm9yIHN0b3IodCk6IGZvcnZlbnRldCAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9IHRpbCBcdTAwRTUgaGEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50ZXJcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgRm9yIHN0b3IodCk6IGZvcnZlbnRldCAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9IHRpbCBcdTAwRTUgaGEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGb3IgbGl0ZShuKTogZm9ydmVudGV0ICR7aXNzdWUub3JpZ2lufSB0aWwgXHUwMEU1IGhhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgRm9yIGxpdGUobik6IGZvcnZlbnRldCAke2lzc3VlLm9yaWdpbn0gdGlsIFx1MDBFNSBoYSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBtXHUwMEU1IHN0YXJ0ZSBtZWQgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBtXHUwMEU1IGVuZGUgbWVkIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBtXHUwMEU1IGlubmVob2xkZSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBtXHUwMEU1IG1hdGNoZSBtXHUwMEY4bnN0ZXJldCAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHRhbGw6IG1cdTAwRTUgdlx1MDBFNnJlIGV0IG11bHRpcGx1bSBhdiAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlVramVudGUgblx1MDBGOGtsZXJcIiA6IFwiVWtqZW50IG5cdTAwRjhra2VsXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgblx1MDBGOGtrZWwgaSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJVZ3lsZGlnIGlucHV0XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIHZlcmRpIGkgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIGlucHV0YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJoYXJmXCIsIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJiYXl0XCIsIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwidW5zdXJcIiwgdmVyYjogXCJvbG1hbFx1MDEzMWRcdTAxMzFyXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwidW5zdXJcIiwgdmVyYjogXCJvbG1hbFx1MDEzMWRcdTAxMzFyXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1hcmFcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInNhZlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJnYXliXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJnaXJlblwiLFxuICAgICAgICBlbWFpbDogXCJlcG9zdGFnXHUwMEUyaFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBoZW5nXHUwMEUybVx1MDEzMVwiLFxuICAgICAgICBkYXRlOiBcIklTTyB0YXJpaGlcIixcbiAgICAgICAgdGltZTogXCJJU08gemFtYW5cdTAxMzFcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIG1cdTAwRkNkZGV0aVwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgbmlcdTAxNUZcdTAwRTJuXHUwMTMxXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBuaVx1MDE1Rlx1MDBFMm5cdTAxMzFcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgbWVuemlsaVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBtZW56aWxpXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtXHUwMTVGaWZyZWxpIG1ldGluXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwtXHUwMTVGaWZyZWxpIG1ldGluXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gbWV0aW5cIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBzYXlcdTAxMzFzXHUwMTMxXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJnaXJlblwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRTJzaXQgZ2lyZW46IHVtdWxhbiAke2lzc3VlLmV4cGVjdGVkfSwgYWxcdTAxMzFuYW4gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBGXHUwMEUyc2l0IGdpcmVuOiB1bXVsYW4gJHtpc3N1ZS5leHBlY3RlZH0sIGFsXHUwMTMxbmFuICR7dXRpbC5nZXRQYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEUyc2l0IGdpcmVuOiB1bXVsYW4gJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEUyc2l0IHRlcmNpaDogbVx1MDBGQnRlYmVybGVyICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGYXpsYSBiXHUwMEZDeVx1MDBGQ2s6ICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0sICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudHNcIn0gc2FoaXAgb2xtYWxcdTAxMzF5ZFx1MDEzMS5gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgRmF6bGEgYlx1MDBGQ3lcdTAwRkNrOiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9LCAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gb2xtYWxcdTAxMzF5ZFx1MDEzMS5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZhemxhIGtcdTAwRkNcdTAwRTdcdTAwRkNrOiAke2lzc3VlLm9yaWdpbn0sICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fSBzYWhpcCBvbG1hbFx1MDEzMXlkXHUwMTMxLmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgRmF6bGEga1x1MDBGQ1x1MDBFN1x1MDBGQ2s6ICR7aXNzdWUub3JpZ2lufSwgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9IG9sbWFsXHUwMTMxeWRcdTAxMzEuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEUyc2l0IG1ldGluOiBcIiR7X2lzc3VlLnByZWZpeH1cIiBpbGUgYmFcdTAxNUZsYW1hbFx1MDEzMS5gO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRTJzaXQgbWV0aW46IFwiJHtfaXNzdWUuc3VmZml4fVwiIGlsZSBiaXRtZWxpLmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEUyc2l0IG1ldGluOiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIGlodGl2XHUwMEUyIGV0bWVsaS5gO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBFMnNpdCBtZXRpbjogJHtfaXNzdWUucGF0dGVybn0gbmFrXHUwMTVGXHUwMTMxbmEgdXltYWxcdTAxMzEuYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRTJzaXQgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRTJzaXQgc2F5XHUwMTMxOiAke2lzc3VlLmRpdmlzb3J9IGthdFx1MDEzMSBvbG1hbFx1MDEzMXlkXHUwMTMxLmA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRhblx1MDEzMW5tYXlhbiBhbmFodGFyICR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gaVx1MDBFN2luIHRhblx1MDEzMW5tYXlhbiBhbmFodGFyIHZhci5gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJHaXJlbiB0YW5cdTAxMzFuYW1hZFx1MDEzMS5cIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBpXHUwMEU3aW4gdGFuXHUwMTMxbm1heWFuIGtcdTAxMzF5bWV0IHZhci5gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEtcdTAxMzF5bWV0IHRhblx1MDEzMW5hbWFkXHUwMTMxLmA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUwNjJBXHUwNjQ4XHUwNkE5XHUwNjRBXCIsIHZlcmI6IFwiXHUwNjQ4XHUwNjQ0XHUwNjMxXHUwNjRBXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcIlx1MDYyOFx1MDYyN1x1MDZDQ1x1MDY3Q1x1MDYzM1wiLCB2ZXJiOiBcIlx1MDY0OFx1MDY0NFx1MDYzMVx1MDY0QVwiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiXHUwNjJBXHUwNjQ4XHUwNkE5XHUwNjRBXCIsIHZlcmI6IFwiXHUwNjQ4XHUwNjQ0XHUwNjMxXHUwNjRBXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwNjJBXHUwNjQ4XHUwNkE5XHUwNjRBXCIsIHZlcmI6IFwiXHUwNjQ4XHUwNjQ0XHUwNjMxXHUwNjRBXCIgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA2MzlcdTA2MkZcdTA2MkZcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDYyN1x1MDYzMVx1MDZEMFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2NEFcIixcbiAgICAgICAgZW1haWw6IFwiXHUwNjI4XHUwNjMxXHUwNkNDXHUwNjlBXHUwNjQ2XHUwNjI3XHUwNjQ0XHUwNkNDXHUwNkE5XCIsXG4gICAgICAgIHVybDogXCJcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjMxIFx1MDYyN1x1MDY0NFwiLFxuICAgICAgICBlbW9qaTogXCJcdTA2MjdcdTA2Q0NcdTA2NDVcdTA2NDhcdTA2MkNcdTA2NEFcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUwNjQ2XHUwNkNDXHUwNjdDXHUwNjQ3IFx1MDYyN1x1MDY0OCBcdTA2NDhcdTA2MkVcdTA2MkFcIixcbiAgICAgICAgZGF0ZTogXCJcdTA2NDZcdTA2RDBcdTA2N0NcdTA2NDdcIixcbiAgICAgICAgdGltZTogXCJcdTA2NDhcdTA2MkVcdTA2MkFcIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUwNjQ1XHUwNjQ4XHUwNjJGXHUwNjQ3XCIsXG4gICAgICAgIGlwdjQ6IFwiXHUwNjJGIElQdjQgXHUwNjdFXHUwNjJBXHUwNjQ3XCIsXG4gICAgICAgIGlwdjY6IFwiXHUwNjJGIElQdjYgXHUwNjdFXHUwNjJBXHUwNjQ3XCIsXG4gICAgICAgIGNpZHJ2NDogXCJcdTA2MkYgSVB2NCBcdTA2MzNcdTA2MjdcdTA2MkRcdTA2NDdcIixcbiAgICAgICAgY2lkcnY2OiBcIlx1MDYyRiBJUHY2IFx1MDYzM1x1MDYyN1x1MDYyRFx1MDY0N1wiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWVuY29kZWQgXHUwNjQ1XHUwNjJBXHUwNjQ2XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwtZW5jb2RlZCBcdTA2NDVcdTA2MkFcdTA2NDZcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBcdTA2NDVcdTA2MkFcdTA2NDZcIixcbiAgICAgICAgZTE2NDogXCJcdTA2MkYgRS4xNjQgXHUwNjM0XHUwNjQ1XHUwNkQwXHUwNjMxXHUwNjQ3XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2NEFcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNjRBOiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHtpc3N1ZS5leHBlY3RlZH0gXHUwNjQ4XHUwNjI3XHUwNkNDLCBcdTA2NDVcdTA2QUJcdTA2MzEgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX0gXHUwNjJBXHUwNjMxXHUwNjQ0XHUwNjI3XHUwNjMzXHUwNjQ3IFx1MDYzNFx1MDY0OGA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDY0QTogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX0gXHUwNjQ4XHUwNjI3XHUwNkNDYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNjI3XHUwNjQ2XHUwNjJBXHUwNjJFXHUwNjI3XHUwNjI4OiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNkNDXHUwNjQ4IFx1MDY0NFx1MDY0NyAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX0gXHUwNjg1XHUwNjJFXHUwNjQ3IFx1MDY0OFx1MDYyN1x1MDZDQ2A7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY4OVx1MDZDQ1x1MDYzMSBcdTA2NDRcdTA2NDhcdTA2Q0M6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNjI3XHUwNjMxXHUwNjMyXHUwNjlBXHUwNjJBXCJ9IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MDYzOVx1MDY0Nlx1MDYzNVx1MDYzMVx1MDY0OFx1MDY0Nlx1MDY0N1wifSBcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY4OVx1MDZDQ1x1MDYzMSBcdTA2NDRcdTA2NDhcdTA2Q0M6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNjI3XHUwNjMxXHUwNjMyXHUwNjlBXHUwNjJBXCJ9IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gXHUwNjQ4XHUwNjRBYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2ODlcdTA2Q0NcdTA2MzEgXHUwNkE5XHUwNjQ4XHUwNjg2XHUwNjQ2XHUwNkNDOiAke2lzc3VlLm9yaWdpbn0gXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fSBcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY4OVx1MDZDQ1x1MDYzMSBcdTA2QTlcdTA2NDhcdTA2ODZcdTA2NDZcdTA2Q0M6ICR7aXNzdWUub3JpZ2lufSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9IFx1MDY0OFx1MDY0QWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNjQ1XHUwNjJBXHUwNjQ2OiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNjJGIFwiJHtfaXNzdWUucHJlZml4fVwiIFx1MDYzM1x1MDYzMVx1MDY0NyBcdTA2N0VcdTA2Q0NcdTA2NDQgXHUwNjM0XHUwNjRBYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNjQ1XHUwNjJBXHUwNjQ2OiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNjJGIFwiJHtfaXNzdWUuc3VmZml4fVwiIFx1MDYzM1x1MDYzMVx1MDY0NyBcdTA2N0VcdTA2MjdcdTA2Q0MgXHUwNjJBXHUwNjQ3IFx1MDY0OFx1MDYzMVx1MDYzM1x1MDY0QVx1MDY5Nlx1MDY0QWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNjQ1XHUwNjJBXHUwNjQ2OiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXCIke19pc3N1ZS5pbmNsdWRlc31cIiBcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDY0NVx1MDYyQVx1MDY0NjogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDYyRiAke19pc3N1ZS5wYXR0ZXJufSBcdTA2MzNcdTA2MzFcdTA2NDcgXHUwNjQ1XHUwNjM3XHUwNjI3XHUwNjI4XHUwNjQyXHUwNjJBIFx1MDY0OFx1MDY0NFx1MDYzMVx1MDY0QWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2MkZcdTA2Q0NgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDYzOVx1MDYyRlx1MDYyRjogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDYyRiAke2lzc3VlLmRpdmlzb3J9IFx1MDY0NVx1MDYzNlx1MDYzMVx1MDYyOCBcdTA2NDhcdTA2NEFgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDZBOVx1MDY0NFx1MDZDQ1x1MDY4OVx1MDY0OFx1MDY0Nlx1MDY0N1wiIDogXCJcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2ODlcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDZBOVx1MDY0NFx1MDZDQ1x1MDY4OSBcdTA2N0VcdTA2NDcgJHtpc3N1ZS5vcmlnaW59IFx1MDZBOVx1MDZEMGA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1XHUwNjQ3IFx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDY0QWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNjM5XHUwNjQ2XHUwNjM1XHUwNjMxIFx1MDY3RVx1MDY0NyAke2lzc3VlLm9yaWdpbn0gXHUwNkE5XHUwNkQwYDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDVcdTA2NDcgXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNjRBYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJ6bmFrXHUwMEYzd1wiLCB2ZXJiOiBcIm1pZVx1MDEwN1wiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJiYWp0XHUwMEYzd1wiLCB2ZXJiOiBcIm1pZVx1MDEwN1wiIH0sXG4gICAgICAgIGFycmF5OiB7IHVuaXQ6IFwiZWxlbWVudFx1MDBGM3dcIiwgdmVyYjogXCJtaWVcdTAxMDdcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJlbGVtZW50XHUwMEYzd1wiLCB2ZXJiOiBcIm1pZVx1MDEwN1wiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibGljemJhXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0YWJsaWNhXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcInd5cmFcdTAxN0NlbmllXCIsXG4gICAgICAgIGVtYWlsOiBcImFkcmVzIGVtYWlsXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZGF0YSBpIGdvZHppbmEgdyBmb3JtYWNpZSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJkYXRhIHcgZm9ybWFjaWUgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiZ29kemluYSB3IGZvcm1hY2llIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJjemFzIHRyd2FuaWEgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiYWRyZXMgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcImFkcmVzIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcInpha3JlcyBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJ6YWtyZXMgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiY2lcdTAxMDVnIHpuYWtcdTAwRjN3IHpha29kb3dhbnkgdyBmb3JtYWNpZSBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImNpXHUwMTA1ZyB6bmFrXHUwMEYzdyB6YWtvZG93YW55IHcgZm9ybWFjaWUgYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcImNpXHUwMTA1ZyB6bmFrXHUwMEYzdyB3IGZvcm1hY2llIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJsaWN6YmEgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIndlalx1MDE1QmNpZVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93ZSBkYW5lIHdlalx1MDE1QmNpb3dlOiBvY3pla2l3YW5vICR7aXNzdWUuZXhwZWN0ZWR9LCBvdHJ6eW1hbm8gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd2UgZGFuZSB3ZWpcdTAxNUJjaW93ZTogb2N6ZWtpd2FubyAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93YSBvcGNqYTogb2N6ZWtpd2FubyBqZWRuZWogeiB3YXJ0b1x1MDE1QmNpICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFphIGR1XHUwMTdDYSB3YXJ0b1x1MDE1Qlx1MDEwNzogb2N6ZWtpd2FubywgXHUwMTdDZSAke2lzc3VlLm9yaWdpbiA/PyBcIndhcnRvXHUwMTVCXHUwMTA3XCJ9IGJcdTAxMTlkemllIG1pZVx1MDEwNyAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRcdTAwRjN3XCJ9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBaYnl0IGR1XHUwMTdDKHkvYS9lKTogb2N6ZWtpd2FubywgXHUwMTdDZSAke2lzc3VlLm9yaWdpbiA/PyBcIndhcnRvXHUwMTVCXHUwMTA3XCJ9IGJcdTAxMTlkemllIHd5bm9zaVx1MDEwNyAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFphIG1hXHUwMTQyYSB3YXJ0b1x1MDE1Qlx1MDEwNzogb2N6ZWtpd2FubywgXHUwMTdDZSAke2lzc3VlLm9yaWdpbiA/PyBcIndhcnRvXHUwMTVCXHUwMTA3XCJ9IGJcdTAxMTlkemllIG1pZVx1MDEwNyAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRcdTAwRjN3XCJ9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBaYnl0IG1hXHUwMTQyKHkvYS9lKTogb2N6ZWtpd2FubywgXHUwMTdDZSAke2lzc3VlLm9yaWdpbiA/PyBcIndhcnRvXHUwMTVCXHUwMTA3XCJ9IGJcdTAxMTlkemllIHd5bm9zaVx1MDEwNyAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93eSBjaVx1MDEwNWcgem5ha1x1MDBGM3c6IG11c2kgemFjenluYVx1MDEwNyBzaVx1MDExOSBvZCBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3d5IGNpXHUwMTA1ZyB6bmFrXHUwMEYzdzogbXVzaSBrb1x1MDE0NGN6eVx1MDEwNyBzaVx1MDExOSBuYSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd3kgY2lcdTAxMDVnIHpuYWtcdTAwRjN3OiBtdXNpIHphd2llcmFcdTAxMDcgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd3kgY2lcdTAxMDVnIHpuYWtcdTAwRjN3OiBtdXNpIG9kcG93aWFkYVx1MDEwNyB3em9yY293aSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvdyh5L2EvZSkgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93YSBsaWN6YmE6IG11c2kgYnlcdTAxMDcgd2llbG9rcm90bm9cdTAxNUJjaVx1MDEwNSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcm96cG96bmFuZSBrbHVjemUke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3d5IGtsdWN6IHcgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTmllcHJhd2lkXHUwMTQyb3dlIGRhbmUgd2VqXHUwMTVCY2lvd2VcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93YSB3YXJ0b1x1MDE1Qlx1MDEwNyB3ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3dlIGRhbmUgd2VqXHUwMTVCY2lvd2VgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImNhcmFjdGVyZXNcIiwgdmVyYjogXCJ0ZXJcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZXNcIiwgdmVyYjogXCJ0ZXJcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIml0ZW5zXCIsIHZlcmI6IFwidGVyXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiaXRlbnNcIiwgdmVyYjogXCJ0ZXJcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm5cdTAwRkFtZXJvXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxvXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJwYWRyXHUwMEUzb1wiLFxuICAgICAgICBlbWFpbDogXCJlbmRlcmVcdTAwRTdvIGRlIGUtbWFpbFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdGEgZSBob3JhIElTT1wiLFxuICAgICAgICBkYXRlOiBcImRhdGEgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiaG9yYSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiZHVyYVx1MDBFN1x1MDBFM28gSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiZW5kZXJlXHUwMEU3byBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiZW5kZXJlXHUwMEU3byBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJmYWl4YSBkZSBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJmYWl4YSBkZSBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJ0ZXh0byBjb2RpZmljYWRvIGVtIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiVVJMIGNvZGlmaWNhZGEgZW0gYmFzZTY0XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcInRleHRvIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJuXHUwMEZBbWVybyBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiZW50cmFkYVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRpcG8gaW52XHUwMEUxbGlkbzogZXNwZXJhZG8gJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2ViaWRvICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRW50cmFkYSBpbnZcdTAwRTFsaWRhOiBlc3BlcmFkbyAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9wXHUwMEU3XHUwMEUzbyBpbnZcdTAwRTFsaWRhOiBlc3BlcmFkYSB1bWEgZGFzICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNdWl0byBncmFuZGU6IGVzcGVyYWRvIHF1ZSAke2lzc3VlLm9yaWdpbiA/PyBcInZhbG9yXCJ9IHRpdmVzc2UgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50b3NcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTXVpdG8gZ3JhbmRlOiBlc3BlcmFkbyBxdWUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWxvclwifSBmb3NzZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE11aXRvIHBlcXVlbm86IGVzcGVyYWRvIHF1ZSAke2lzc3VlLm9yaWdpbn0gdGl2ZXNzZSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYE11aXRvIHBlcXVlbm86IGVzcGVyYWRvIHF1ZSAke2lzc3VlLm9yaWdpbn0gZm9zc2UgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZXh0byBpbnZcdTAwRTFsaWRvOiBkZXZlIGNvbWVcdTAwRTdhciBjb20gXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRleHRvIGludlx1MDBFMWxpZG86IGRldmUgdGVybWluYXIgY29tIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRleHRvIGludlx1MDBFMWxpZG86IGRldmUgaW5jbHVpciBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRleHRvIGludlx1MDBFMWxpZG86IGRldmUgY29ycmVzcG9uZGVyIGFvIHBhZHJcdTAwRTNvICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSBpbnZcdTAwRTFsaWRvYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5cdTAwRkFtZXJvIGludlx1MDBFMWxpZG86IGRldmUgc2VyIG1cdTAwRkFsdGlwbG8gZGUgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENoYXZlJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9IGRlc2NvbmhlY2lkYSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDaGF2ZSBpbnZcdTAwRTFsaWRhIGVtICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkVudHJhZGEgaW52XHUwMEUxbGlkYVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVmFsb3IgaW52XHUwMEUxbGlkbyBlbSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENhbXBvIGludlx1MDBFMWxpZG9gO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmZ1bmN0aW9uIGdldFJ1c3NpYW5QbHVyYWwoY291bnQsIG9uZSwgZmV3LCBtYW55KSB7XG4gICAgY29uc3QgYWJzQ291bnQgPSBNYXRoLmFicyhjb3VudCk7XG4gICAgY29uc3QgbGFzdERpZ2l0ID0gYWJzQ291bnQgJSAxMDtcbiAgICBjb25zdCBsYXN0VHdvRGlnaXRzID0gYWJzQ291bnQgJSAxMDA7XG4gICAgaWYgKGxhc3RUd29EaWdpdHMgPj0gMTEgJiYgbGFzdFR3b0RpZ2l0cyA8PSAxOSkge1xuICAgICAgICByZXR1cm4gbWFueTtcbiAgICB9XG4gICAgaWYgKGxhc3REaWdpdCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gb25lO1xuICAgIH1cbiAgICBpZiAobGFzdERpZ2l0ID49IDIgJiYgbGFzdERpZ2l0IDw9IDQpIHtcbiAgICAgICAgcmV0dXJuIGZldztcbiAgICB9XG4gICAgcmV0dXJuIG1hbnk7XG59XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiXHUwNDQxXHUwNDM4XHUwNDNDXHUwNDMyXHUwNDNFXHUwNDNCXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcIlx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMlx1MDQzRVx1MDQzQlx1MDQzMFwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiXHUwNDQxXHUwNDM4XHUwNDNDXHUwNDMyXHUwNDNFXHUwNDNCXHUwNDNFXHUwNDMyXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0MzhcdTA0M0NcdTA0MzVcdTA0NDJcdTA0NENcIixcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJcdTA0MzFcdTA0MzBcdTA0MzlcdTA0NDJcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiXHUwNDMxXHUwNDMwXHUwNDM5XHUwNDQyXHUwNDMwXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJcdTA0MzFcdTA0MzBcdTA0MzlcdTA0NDJcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0Q1wiLFxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDMwXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0M0VcdTA0MzJcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0Q1wiLFxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzMFwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDNFXHUwNDMyXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0MzhcdTA0M0NcdTA0MzVcdTA0NDJcdTA0NENcIixcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA0NDdcdTA0MzhcdTA0NDFcdTA0M0JcdTA0M0VcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDQzQ1x1MDQzMFx1MDQ0MVx1MDQ0MVx1MDQzOFx1MDQzMlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA0MzJcdTA0MzJcdTA0M0VcdTA0MzRcIixcbiAgICAgICAgZW1haWw6IFwiZW1haWwgXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNDREXHUwNDNDXHUwNDNFXHUwNDM0XHUwNDM3XHUwNDM4XCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBcdTA0MzRcdTA0MzBcdTA0NDJcdTA0MzAgXHUwNDM4IFx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQ0RlwiLFxuICAgICAgICBkYXRlOiBcIklTTyBcdTA0MzRcdTA0MzBcdTA0NDJcdTA0MzBcIixcbiAgICAgICAgdGltZTogXCJJU08gXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDRGXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBcdTA0MzRcdTA0M0JcdTA0MzhcdTA0NDJcdTA0MzVcdTA0M0JcdTA0NENcdTA0M0RcdTA0M0VcdTA0NDFcdTA0NDJcdTA0NENcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IFx1MDQzNFx1MDQzOFx1MDQzMFx1MDQzRlx1MDQzMFx1MDQzN1x1MDQzRVx1MDQzRFwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBcdTA0MzRcdTA0MzhcdTA0MzBcdTA0M0ZcdTA0MzBcdTA0MzdcdTA0M0VcdTA0M0RcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQVx1MDQzMCBcdTA0MzIgXHUwNDQ0XHUwNDNFXHUwNDQwXHUwNDNDXHUwNDMwXHUwNDQyXHUwNDM1IGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNBXHUwNDMwIFx1MDQzMiBcdTA0NDRcdTA0M0VcdTA0NDBcdTA0M0NcdTA0MzBcdTA0NDJcdTA0MzUgYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNBXHUwNDMwXCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwNDNEXHUwNDNFXHUwNDNDXHUwNDM1XHUwNDQwIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTA0MzJcdTA0MzJcdTA0M0VcdTA0MzRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0NEJcdTA0MzkgXHUwNDMyXHUwNDMyXHUwNDNFXHUwNDM0OiBcdTA0M0VcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0M0VcdTA0NDFcdTA0NEMgJHtpc3N1ZS5leHBlY3RlZH0sIFx1MDQzRlx1MDQzRVx1MDQzQlx1MDQ0M1x1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzRSAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0MzJcdTA0MzJcdTA0M0VcdTA0MzQ6IFx1MDQzRVx1MDQzNlx1MDQzOFx1MDQzNFx1MDQzMFx1MDQzQlx1MDQzRVx1MDQ0MVx1MDQ0QyAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0MzJcdTA0MzBcdTA0NDBcdTA0MzhcdTA0MzBcdTA0M0RcdTA0NDI6IFx1MDQzRVx1MDQzNlx1MDQzOFx1MDQzNFx1MDQzMFx1MDQzQlx1MDQzRVx1MDQ0MVx1MDQ0QyBcdTA0M0VcdTA0MzRcdTA0M0RcdTA0M0UgXHUwNDM4XHUwNDM3ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhWYWx1ZSA9IE51bWJlcihpc3N1ZS5tYXhpbXVtKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5pdCA9IGdldFJ1c3NpYW5QbHVyYWwobWF4VmFsdWUsIHNpemluZy51bml0Lm9uZSwgc2l6aW5nLnVuaXQuZmV3LCBzaXppbmcudW5pdC5tYW55KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MjFcdTA0M0JcdTA0MzhcdTA0NDhcdTA0M0FcdTA0M0VcdTA0M0MgXHUwNDMxXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDQ4XHUwNDNFXHUwNDM1IFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNTogXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDNFXHUwNDQxXHUwNDRDLCBcdTA0NDdcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzVcIn0gXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM1XHUwNDQyIFx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0QyAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHt1bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDIxXHUwNDNCXHUwNDM4XHUwNDQ4XHUwNDNBXHUwNDNFXHUwNDNDIFx1MDQzMVx1MDQzRVx1MDQzQlx1MDQ0Q1x1MDQ0OFx1MDQzRVx1MDQzNSBcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzU6IFx1MDQzRVx1MDQzNlx1MDQzOFx1MDQzNFx1MDQzMFx1MDQzQlx1MDQzRVx1MDQ0MVx1MDQ0QywgXHUwNDQ3XHUwNDQyXHUwNDNFICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1XCJ9IFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQzNVx1MDQ0MiAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5WYWx1ZSA9IE51bWJlcihpc3N1ZS5taW5pbXVtKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5pdCA9IGdldFJ1c3NpYW5QbHVyYWwobWluVmFsdWUsIHNpemluZy51bml0Lm9uZSwgc2l6aW5nLnVuaXQuZmV3LCBzaXppbmcudW5pdC5tYW55KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MjFcdTA0M0JcdTA0MzhcdTA0NDhcdTA0M0FcdTA0M0VcdTA0M0MgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDRDXHUwNDNBXHUwNDNFXHUwNDM1IFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNTogXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDNFXHUwNDQxXHUwNDRDLCBcdTA0NDdcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW59IFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQzNVx1MDQ0MiBcdTA0MzhcdTA0M0NcdTA0MzVcdTA0NDJcdTA0NEMgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7dW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQyMVx1MDQzQlx1MDQzOFx1MDQ0OFx1MDQzQVx1MDQzRVx1MDQzQyBcdTA0M0NcdTA0MzBcdTA0M0JcdTA0MzVcdTA0M0RcdTA0NENcdTA0M0FcdTA0M0VcdTA0MzUgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1OiBcdTA0M0VcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0M0VcdTA0NDFcdTA0NEMsIFx1MDQ0N1x1MDQ0Mlx1MDQzRSAke2lzc3VlLm9yaWdpbn0gXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM1XHUwNDQyICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDMwXHUwNDRGIFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQVx1MDQzMDogXHUwNDM0XHUwNDNFXHUwNDNCXHUwNDM2XHUwNDNEXHUwNDMwIFx1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzOFx1MDQzRFx1MDQzMFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiBcdTA0NDEgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQzMFx1MDQ0RiBcdTA0NDFcdTA0NDJcdTA0NDBcdTA0M0VcdTA0M0FcdTA0MzA6IFx1MDQzNFx1MDQzRVx1MDQzQlx1MDQzNlx1MDQzRFx1MDQzMCBcdTA0MzdcdTA0MzBcdTA0M0FcdTA0MzBcdTA0M0RcdTA0NDdcdTA0MzhcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYgXHUwNDNEXHUwNDMwIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQzMFx1MDQ0RiBcdTA0NDFcdTA0NDJcdTA0NDBcdTA0M0VcdTA0M0FcdTA0MzA6IFx1MDQzNFx1MDQzRVx1MDQzQlx1MDQzNlx1MDQzRFx1MDQzMCBcdTA0NDFcdTA0M0VcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzBcdTA0NDJcdTA0NEMgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0MzBcdTA0NEYgXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNBXHUwNDMwOiBcdTA0MzRcdTA0M0VcdTA0M0JcdTA0MzZcdTA0M0RcdTA0MzAgXHUwNDQxXHUwNDNFXHUwNDNFXHUwNDQyXHUwNDMyXHUwNDM1XHUwNDQyXHUwNDQxXHUwNDQyXHUwNDMyXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQ0OFx1MDQzMFx1MDQzMVx1MDQzQlx1MDQzRVx1MDQzRFx1MDQ0MyAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0NEJcdTA0MzkgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQzRVx1MDQzNSBcdTA0NDdcdTA0MzhcdTA0NDFcdTA0M0JcdTA0M0U6IFx1MDQzNFx1MDQzRVx1MDQzQlx1MDQzNlx1MDQzRFx1MDQzRSBcdTA0MzFcdTA0NEJcdTA0NDJcdTA0NEMgXHUwNDNBXHUwNDQwXHUwNDMwXHUwNDQyXHUwNDNEXHUwNDRCXHUwNDNDICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0NDBcdTA0MzBcdTA0NDFcdTA0M0ZcdTA0M0VcdTA0MzdcdTA0M0RcdTA0MzBcdTA0M0RcdTA0M0Qke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNDRCXHUwNDM1XCIgOiBcIlx1MDQ0Qlx1MDQzOVwifSBcdTA0M0FcdTA0M0JcdTA0NEVcdTA0NDcke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNDM4XCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0NEJcdTA0MzkgXHUwNDNBXHUwNDNCXHUwNDRFXHUwNDQ3IFx1MDQzMiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0NEJcdTA0MzUgXHUwNDMyXHUwNDQ1XHUwNDNFXHUwNDM0XHUwNDNEXHUwNDRCXHUwNDM1IFx1MDQzNFx1MDQzMFx1MDQzRFx1MDQzRFx1MDQ0Qlx1MDQzNVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDNFXHUwNDM1IFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNSBcdTA0MzIgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0NEJcdTA0MzUgXHUwNDMyXHUwNDQ1XHUwNDNFXHUwNDM0XHUwNDNEXHUwNDRCXHUwNDM1IFx1MDQzNFx1MDQzMFx1MDQzRFx1MDQzRFx1MDQ0Qlx1MDQzNWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiem5ha292XCIsIHZlcmI6IFwiaW1ldGlcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYmFqdG92XCIsIHZlcmI6IFwiaW1ldGlcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcImVsZW1lbnRvdlwiLCB2ZXJiOiBcImltZXRpXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiZWxlbWVudG92XCIsIHZlcmI6IFwiaW1ldGlcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MDE2MXRldmlsb1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGFiZWxhXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcInZub3NcIixcbiAgICAgICAgZW1haWw6IFwiZS1wb1x1MDE2MXRuaSBuYXNsb3ZcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gZGF0dW0gaW4gXHUwMTBEYXNcIixcbiAgICAgICAgZGF0ZTogXCJJU08gZGF0dW1cIixcbiAgICAgICAgdGltZTogXCJJU08gXHUwMTBEYXNcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIHRyYWphbmplXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBuYXNsb3ZcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IG5hc2xvdlwiLFxuICAgICAgICBjaWRydjQ6IFwib2JzZWcgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwib2JzZWcgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0IGtvZGlyYW4gbml6XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmwga29kaXJhbiBuaXpcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBuaXpcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBcdTAxNjF0ZXZpbGthXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJ2bm9zXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZlbiB2bm9zOiBwcmlcdTAxMERha292YW5vICR7aXNzdWUuZXhwZWN0ZWR9LCBwcmVqZXRvICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZlbiB2bm9zOiBwcmlcdTAxMERha292YW5vICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZuYSBtb1x1MDE3RW5vc3Q6IHByaVx1MDEwRGFrb3Zhbm8gZW5vIGl6bWVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBQcmV2ZWxpa286IHByaVx1MDEwRGFrb3Zhbm8sIGRhIGJvICR7aXNzdWUub3JpZ2luID8/IFwidnJlZG5vc3RcIn0gaW1lbG8gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50b3ZcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgUHJldmVsaWtvOiBwcmlcdTAxMERha292YW5vLCBkYSBibyAke2lzc3VlLm9yaWdpbiA/PyBcInZyZWRub3N0XCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgUHJlbWFqaG5vOiBwcmlcdTAxMERha292YW5vLCBkYSBibyAke2lzc3VlLm9yaWdpbn0gaW1lbG8gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBQcmVtYWpobm86IHByaVx1MDEwRGFrb3Zhbm8sIGRhIGJvICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZlbiBuaXo6IG1vcmEgc2UgemFcdTAxMERldGkgeiBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmVsamF2ZW4gbml6OiBtb3JhIHNlIGtvblx1MDEwRGF0aSB6IFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmVsamF2ZW4gbml6OiBtb3JhIHZzZWJvdmF0aSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmVsamF2ZW4gbml6OiBtb3JhIHVzdHJlemF0aSB2em9yY3UgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZlbiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZubyBcdTAxNjF0ZXZpbG86IG1vcmEgYml0aSB2ZVx1MDEwRGtyYXRuaWsgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lcHJlcG96bmFuJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImkga2xqdVx1MDEwRGlcIiA6IFwiIGtsanVcdTAxMERcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZlbiBrbGp1XHUwMTBEIHYgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTmV2ZWxqYXZlbiB2bm9zXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdm5hIHZyZWRub3N0IHYgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTmV2ZWxqYXZlbiB2bm9zXCI7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwidGVja2VuXCIsIHZlcmI6IFwiYXR0IGhhXCIgfSxcbiAgICAgICAgZmlsZTogeyB1bml0OiBcImJ5dGVzXCIsIHZlcmI6IFwiYXR0IGhhXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJvYmpla3RcIiwgdmVyYjogXCJhdHQgaW5uZWhcdTAwRTVsbGFcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJvYmpla3RcIiwgdmVyYjogXCJhdHQgaW5uZWhcdTAwRTVsbGFcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcImFudGFsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsaXN0YVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJyZWd1bGpcdTAwRTRydCB1dHRyeWNrXCIsXG4gICAgICAgIGVtYWlsOiBcImUtcG9zdGFkcmVzc1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTy1kYXR1bSBvY2ggdGlkXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPLWRhdHVtXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPLXRpZFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08tdmFyYWt0aWdoZXRcIixcbiAgICAgICAgaXB2NDogXCJJUHY0LWludGVydmFsbFwiLFxuICAgICAgICBpcHY2OiBcIklQdjYtaW50ZXJ2YWxsXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0LXNwZWt0cnVtXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2LXNwZWt0cnVtXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQta29kYWQgc3RyXHUwMEU0bmdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1rb2RhZCBzdHJcdTAwRTRuZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OLXN0clx1MDBFNG5nXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQtbnVtbWVyXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJtYWxsLWxpdGVyYWxcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlnIGlubWF0bmluZzogZlx1MDBGNnJ2XHUwMEU0bnRhdCAke2lzc3VlLmV4cGVjdGVkfSwgZmljayAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWcgaW5tYXRuaW5nOiBmXHUwMEY2cnZcdTAwRTRudGF0ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZ3QgdmFsOiBmXHUwMEY2cnZcdTAwRTRudGFkZSBlbiBhdiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEY2ciBzdG9yKHQpOiBmXHUwMEY2cnZcdTAwRTRudGFkZSAke2lzc3VlLm9yaWdpbiA/PyBcInZcdTAwRTRyZGV0XCJ9IGF0dCBoYSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRcIn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRjZyIHN0b3IodCk6IGZcdTAwRjZydlx1MDBFNG50YXQgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2XHUwMEU0cmRldFwifSBhdHQgaGEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEY2ciBsaXRlKHQpOiBmXHUwMEY2cnZcdTAwRTRudGFkZSAke2lzc3VlLm9yaWdpbiA/PyBcInZcdTAwRTRyZGV0XCJ9IGF0dCBoYSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRjZyIGxpdGUodCk6IGZcdTAwRjZydlx1MDBFNG50YWRlICR7aXNzdWUub3JpZ2luID8/IFwidlx1MDBFNHJkZXRcIn0gYXR0IGhhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlnIHN0clx1MDBFNG5nOiBtXHUwMEU1c3RlIGJcdTAwRjZyamEgbWVkIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyBzdHJcdTAwRTRuZzogbVx1MDBFNXN0ZSBzbHV0YSBtZWQgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyBzdHJcdTAwRTRuZzogbVx1MDBFNXN0ZSBpbm5laFx1MDBFNWxsYSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWcgc3RyXHUwMEU0bmc6IG1cdTAwRTVzdGUgbWF0Y2hhIG1cdTAwRjZuc3RyZXQgXCIke19pc3N1ZS5wYXR0ZXJufVwiYDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWcodCkgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWd0IHRhbDogbVx1MDBFNXN0ZSB2YXJhIGVuIG11bHRpcGVsIGF2ICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiT2tcdTAwRTRuZGEgbnlja2xhclwiIDogXCJPa1x1MDBFNG5kIG55Y2tlbFwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlnIG55Y2tlbCBpICR7aXNzdWUub3JpZ2luID8/IFwidlx1MDBFNHJkZXRcIn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJPZ2lsdGlnIGlucHV0XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlndCB2XHUwMEU0cmRlIGkgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2XHUwMEU0cmRldFwifWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyBpbnB1dGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKSxcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7IHVuaXQ6IFwiXHUwQjhFXHUwQkI0XHUwQkMxXHUwQkE0XHUwQkNEXHUwQkE0XHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1XHUwQkIzXHUwQkNEXCIsIHZlcmI6IFwiXHUwQjk1XHUwQkNBXHUwQkEzXHUwQkNEXHUwQjlGXHUwQkJGXHUwQkIwXHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRFwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTBCQUFcdTBCQzhcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCOTVcdTBCQjNcdTBCQ0RcIiwgdmVyYjogXCJcdTBCOTVcdTBCQ0FcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQkZcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTBCODlcdTBCQjFcdTBCQzFcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCQzFcdTBCOTVcdTBCQjNcdTBCQ0RcIiwgdmVyYjogXCJcdTBCOTVcdTBCQ0FcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQkZcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwiXHUwQjg5XHUwQkIxXHUwQkMxXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkMxXHUwQjk1XHUwQkIzXHUwQkNEXCIsIHZlcmI6IFwiXHUwQjk1XHUwQkNBXHUwQkEzXHUwQkNEXHUwQjlGXHUwQkJGXHUwQkIwXHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRFwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJcdTBCOEVcdTBCQTNcdTBCQ0QgXHUwQjg1XHUwQkIyXHUwQkNEXHUwQkIyXHUwQkJFXHUwQkE0XHUwQkE0XHUwQkMxXCIgOiBcIlx1MEI4RVx1MEJBM1x1MEJDRFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwQjg1XHUwQkEzXHUwQkJGXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MEJCNVx1MEJDNlx1MEJCMVx1MEJDMVx1MEJBRVx1MEJDOFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwQjg5XHUwQkIzXHUwQkNEXHUwQkIzXHUwQkMwXHUwQjlGXHUwQkMxXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MEJBRVx1MEJCRlx1MEJBOVx1MEJDRFx1MEJBOVx1MEI5RVx1MEJDRFx1MEI5QVx1MEJCMlx1MEJDRCBcdTBCQUVcdTBCQzFcdTBCOTVcdTBCQjVcdTBCQjBcdTBCQkZcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gXHUwQkE0XHUwQkM3XHUwQkE0XHUwQkJGIFx1MEJBOFx1MEJDN1x1MEJCMFx1MEJBRVx1MEJDRFwiLFxuICAgICAgICBkYXRlOiBcIklTTyBcdTBCQTRcdTBCQzdcdTBCQTRcdTBCQkZcIixcbiAgICAgICAgdGltZTogXCJJU08gXHUwQkE4XHUwQkM3XHUwQkIwXHUwQkFFXHUwQkNEXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBcdTBCOTVcdTBCQkVcdTBCQjIgXHUwQjg1XHUwQkIzXHUwQkI1XHUwQkMxXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdTBCQUVcdTBCQzFcdTBCOTVcdTBCQjVcdTBCQjBcdTBCQkZcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1MEJBRVx1MEJDMVx1MEI5NVx1MEJCNVx1MEJCMFx1MEJCRlwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdTBCQjVcdTBCQjBcdTBCQUVcdTBCQ0RcdTBCQUFcdTBCQzFcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHUwQkI1XHUwQkIwXHUwQkFFXHUwQkNEXHUwQkFBXHUwQkMxXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZW5jb2RlZCBcdTBCOUFcdTBCQjBcdTBCQUVcdTBCQ0RcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1lbmNvZGVkIFx1MEI5QVx1MEJCMFx1MEJBRVx1MEJDRFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1MEI5QVx1MEJCMFx1MEJBRVx1MEJDRFwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IFx1MEI4RVx1MEJBM1x1MEJDRFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjg5XHUwQkIzXHUwQkNEXHUwQkIzXHUwQkMwXHUwQjlGXHUwQkMxOiBcdTBCOEVcdTBCQTRcdTBCQkZcdTBCQjBcdTBCQ0RcdTBCQUFcdTBCQkVcdTBCQjBcdTBCQ0RcdTBCOTVcdTBCQ0RcdTBCOTVcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHtpc3N1ZS5leHBlY3RlZH0sIFx1MEJBQVx1MEJDNlx1MEJCMVx1MEJBQVx1MEJDRFx1MEJBQVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJBNFx1MEJDMSAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCODlcdTBCQjNcdTBCQ0RcdTBCQjNcdTBCQzBcdTBCOUZcdTBCQzE6IFx1MEI4RVx1MEJBNFx1MEJCRlx1MEJCMFx1MEJDRFx1MEJBQVx1MEJCRVx1MEJCMFx1MEJDRFx1MEI5NVx1MEJDRFx1MEI5NVx1MEJBQVx1MEJDRFx1MEJBQVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJBNFx1MEJDMSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCQjVcdTBCQkZcdTBCQjBcdTBCQzFcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCQUVcdTBCQ0Q6IFx1MEI4RVx1MEJBNFx1MEJCRlx1MEJCMFx1MEJDRFx1MEJBQVx1MEJCRVx1MEJCMFx1MEJDRFx1MEI5NVx1MEJDRFx1MEI5NVx1MEJBQVx1MEJDRFx1MEJBQVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJBNFx1MEJDMSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX0gXHUwQjg3XHUwQkIyXHUwQkNEIFx1MEI5Mlx1MEJBOVx1MEJDRFx1MEJCMVx1MEJDMWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBRVx1MEJCRlx1MEI5NSBcdTBCQUFcdTBCQzZcdTBCQjBcdTBCQkZcdTBCQUZcdTBCQTRcdTBCQzE6IFx1MEI4RVx1MEJBNFx1MEJCRlx1MEJCMFx1MEJDRFx1MEJBQVx1MEJCRVx1MEJCMFx1MEJDRFx1MEI5NVx1MEJDRFx1MEI5NVx1MEJBQVx1MEJDRFx1MEJBQVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJBNFx1MEJDMSAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MEJBRVx1MEJBNFx1MEJCRlx1MEJBQVx1MEJDRFx1MEJBQVx1MEJDMVwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MEI4OVx1MEJCMVx1MEJDMVx1MEJBQVx1MEJDRFx1MEJBQVx1MEJDMVx1MEI5NVx1MEJCM1x1MEJDRFwifSBcdTBCODZcdTBCOTUgXHUwQjg3XHUwQkIwXHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkFFXHUwQkJGXHUwQjk1IFx1MEJBQVx1MEJDNlx1MEJCMFx1MEJCRlx1MEJBRlx1MEJBNFx1MEJDMTogXHUwQjhFXHUwQkE0XHUwQkJGXHUwQkIwXHUwQkNEXHUwQkFBXHUwQkJFXHUwQkIwXHUwQkNEXHUwQjk1XHUwQkNEXHUwQjk1XHUwQkFBXHUwQkNEXHUwQkFBXHUwQjlGXHUwQkNEXHUwQjlGXHUwQkE0XHUwQkMxICR7aXNzdWUub3JpZ2luID8/IFwiXHUwQkFFXHUwQkE0XHUwQkJGXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkMxXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSBcdTBCODZcdTBCOTUgXHUwQjg3XHUwQkIwXHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkFFXHUwQkJGXHUwQjk1XHUwQjlBXHUwQkNEIFx1MEI5QVx1MEJCRlx1MEJCMVx1MEJCRlx1MEJBRlx1MEJBNFx1MEJDMTogXHUwQjhFXHUwQkE0XHUwQkJGXHUwQkIwXHUwQkNEXHUwQkFBXHUwQkJFXHUwQkIwXHUwQkNEXHUwQjk1XHUwQkNEXHUwQjk1XHUwQkFBXHUwQkNEXHUwQkFBXHUwQjlGXHUwQkNEXHUwQjlGXHUwQkE0XHUwQkMxICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH0gXHUwQjg2XHUwQjk1IFx1MEI4N1x1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgOyAvL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBRVx1MEJCRlx1MEI5NVx1MEI5QVx1MEJDRCBcdTBCOUFcdTBCQkZcdTBCQjFcdTBCQkZcdTBCQUZcdTBCQTRcdTBCQzE6IFx1MEI4RVx1MEJBNFx1MEJCRlx1MEJCMFx1MEJDRFx1MEJBQVx1MEJCRVx1MEJCMFx1MEJDRFx1MEI5NVx1MEJDRFx1MEI5NVx1MEJBQVx1MEJDRFx1MEJBQVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJBNFx1MEJDMSAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9IFx1MEI4Nlx1MEI5NSBcdTBCODdcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjlBXHUwQkIwXHUwQkFFXHUwQkNEOiBcIiR7X2lzc3VlLnByZWZpeH1cIiBcdTBCODdcdTBCQjJcdTBCQ0QgXHUwQkE0XHUwQkNBXHUwQjlGXHUwQjk5XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRGA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI5QVx1MEJCMFx1MEJBRVx1MEJDRDogXCIke19pc3N1ZS5zdWZmaXh9XCIgXHUwQjg3XHUwQkIyXHUwQkNEIFx1MEJBRVx1MEJDMVx1MEI5Rlx1MEJCRlx1MEJCNVx1MEI5Rlx1MEJDOFx1MEJBRiBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI5QVx1MEJCMFx1MEJBRVx1MEJDRDogXCIke19pc3N1ZS5pbmNsdWRlc31cIiBcdTBCOTAgXHUwQjg5XHUwQkIzXHUwQkNEXHUwQkIzXHUwQjlGXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRGA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjlBXHUwQkIwXHUwQkFFXHUwQkNEOiAke19pc3N1ZS5wYXR0ZXJufSBcdTBCQUVcdTBCQzFcdTBCQjFcdTBCQzhcdTBCQUFcdTBCQkVcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCOUZcdTBCQTlcdTBCQ0QgXHUwQkFBXHUwQkNBXHUwQkIwXHUwQkMxXHUwQkE4XHUwQkNEXHUwQkE0IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRGA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCOEVcdTBCQTNcdTBCQ0Q6ICR7aXNzdWUuZGl2aXNvcn0gXHUwQjg3XHUwQkE5XHUwQkNEIFx1MEJBQVx1MEJCMlx1MEJBRVx1MEJCRVx1MEI5NSBcdTBCODdcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQjg1XHUwQjlGXHUwQkM4XHUwQkFGXHUwQkJFXHUwQkIzXHUwQkFFXHUwQkNEIFx1MEJBNFx1MEJDNlx1MEJCMFx1MEJCRlx1MEJBRlx1MEJCRVx1MEJBNCBcdTBCQjVcdTBCQkZcdTBCOUFcdTBCQzgke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwQjk1XHUwQkIzXHUwQkNEXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gXHUwQjg3XHUwQkIyXHUwQkNEIFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCQjVcdTBCQkZcdTBCOUFcdTBCQzhgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjg5XHUwQkIzXHUwQkNEXHUwQkIzXHUwQkMwXHUwQjlGXHUwQkMxXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gXHUwQjg3XHUwQkIyXHUwQkNEIFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCQUVcdTBCQTRcdTBCQkZcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCQzFgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCODlcdTBCQjNcdTBCQ0RcdTBCQjNcdTBCQzBcdTBCOUZcdTBCQzFgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MEUxNVx1MEUzMVx1MEUyN1x1MEUyRFx1MEUzMVx1MEUwMVx1MEUyOVx1MEUyM1wiLCB2ZXJiOiBcIlx1MEUwNFx1MEUyN1x1MEUyM1x1MEUyMVx1MEUzNVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTBFNDRcdTBFMUFcdTBFMTVcdTBFNENcIiwgdmVyYjogXCJcdTBFMDRcdTBFMjdcdTBFMjNcdTBFMjFcdTBFMzVcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MEUyM1x1MEUzMlx1MEUyMlx1MEUwMVx1MEUzMlx1MEUyM1wiLCB2ZXJiOiBcIlx1MEUwNFx1MEUyN1x1MEUyM1x1MEUyMVx1MEUzNVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MEUyM1x1MEUzMlx1MEUyMlx1MEUwMVx1MEUzMlx1MEUyM1wiLCB2ZXJiOiBcIlx1MEUwNFx1MEUyN1x1MEUyM1x1MEUyMVx1MEUzNVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJcdTBFNDRcdTBFMjFcdTBFNDhcdTBFNDNcdTBFMEFcdTBFNDhcdTBFMTVcdTBFMzFcdTBFMjdcdTBFNDBcdTBFMjVcdTBFMDIgKE5hTilcIiA6IFwiXHUwRTE1XHUwRTMxXHUwRTI3XHUwRTQwXHUwRTI1XHUwRTAyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTBFMkRcdTBFMzJcdTBFMjNcdTBFNENcdTBFNDBcdTBFMjNcdTBFMjJcdTBFNEMgKEFycmF5KVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMjFcdTBFMzVcdTBFMDRcdTBFNDhcdTBFMzIgKG51bGwpXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMjFcdTBFMzlcdTBFMjVcdTBFMTdcdTBFMzVcdTBFNDhcdTBFMUJcdTBFNDlcdTBFMkRcdTBFMTlcIixcbiAgICAgICAgZW1haWw6IFwiXHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTJEXHUwRTIyXHUwRTM5XHUwRTQ4XHUwRTJEXHUwRTM1XHUwRTQwXHUwRTIxXHUwRTI1XCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHUwRTJEXHUwRTM0XHUwRTQyXHUwRTIxXHUwRTA4XHUwRTM0XCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIlx1MEUyN1x1MEUzMVx1MEUxOVx1MEUxN1x1MEUzNVx1MEU0OFx1MEU0MFx1MEUyN1x1MEUyNVx1MEUzMlx1MEU0MVx1MEUxQVx1MEUxQSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJcdTBFMjdcdTBFMzFcdTBFMTlcdTBFMTdcdTBFMzVcdTBFNDhcdTBFNDFcdTBFMUFcdTBFMUEgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiXHUwRTQwXHUwRTI3XHUwRTI1XHUwRTMyXHUwRTQxXHUwRTFBXHUwRTFBIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJcdTBFMEFcdTBFNDhcdTBFMjdcdTBFMDdcdTBFNDBcdTBFMjdcdTBFMjVcdTBFMzJcdTBFNDFcdTBFMUFcdTBFMUEgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiXHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTJEXHUwRTIyXHUwRTM5XHUwRTQ4IElQdjRcIixcbiAgICAgICAgaXB2NjogXCJcdTBFMTdcdTBFMzVcdTBFNDhcdTBFMkRcdTBFMjJcdTBFMzlcdTBFNDggSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiXHUwRTBBXHUwRTQ4XHUwRTI3XHUwRTA3IElQIFx1MEU0MVx1MEUxQVx1MEUxQSBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTBFMEFcdTBFNDhcdTBFMjdcdTBFMDcgSVAgXHUwRTQxXHUwRTFBXHUwRTFBIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MEUwMlx1MEU0OVx1MEUyRFx1MEUwNFx1MEUyN1x1MEUzMlx1MEUyMVx1MEU0MVx1MEUxQVx1MEUxQSBCYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MEUwMlx1MEU0OVx1MEUyRFx1MEUwNFx1MEUyN1x1MEUzMlx1MEUyMVx1MEU0MVx1MEUxQVx1MEUxQSBCYXNlNjQgXHUwRTJBXHUwRTMzXHUwRTJCXHUwRTIzXHUwRTMxXHUwRTFBIFVSTFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMDRcdTBFMjdcdTBFMzJcdTBFMjFcdTBFNDFcdTBFMUFcdTBFMUEgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIlx1MEU0MFx1MEUxQVx1MEUyRFx1MEUyM1x1MEU0Q1x1MEU0Mlx1MEUxN1x1MEUyM1x1MEUyOFx1MEUzMVx1MEUxRVx1MEUxN1x1MEU0Q1x1MEUyM1x1MEUzMFx1MEUyQlx1MEUyN1x1MEU0OFx1MEUzMlx1MEUwN1x1MEUxQlx1MEUyM1x1MEUzMFx1MEU0MFx1MEUxN1x1MEUyOCAoRS4xNjQpXCIsXG4gICAgICAgIGp3dDogXCJcdTBFNDJcdTBFMTdcdTBFNDBcdTBFMDRcdTBFMTkgSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTIxXHUwRTM5XHUwRTI1XHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTFCXHUwRTQ5XHUwRTJEXHUwRTE5XCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTFCXHUwRTIzXHUwRTMwXHUwRTQwXHUwRTIwXHUwRTE3XHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTIxXHUwRTM5XHUwRTI1XHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFMDRcdTBFMjdcdTBFMjNcdTBFNDBcdTBFMUJcdTBFNDdcdTBFMTkgJHtpc3N1ZS5leHBlY3RlZH0gXHUwRTQxXHUwRTE1XHUwRTQ4XHUwRTQ0XHUwRTE0XHUwRTQ5XHUwRTIzXHUwRTMxXHUwRTFBICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTA0XHUwRTQ4XHUwRTMyXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFMDRcdTBFMjdcdTBFMjNcdTBFNDBcdTBFMUJcdTBFNDdcdTBFMTkgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMTVcdTBFMzFcdTBFMjdcdTBFNDBcdTBFMjVcdTBFMzdcdTBFMkRcdTBFMDFcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUwNFx1MEUyN1x1MEUyM1x1MEU0MFx1MEUxQlx1MEU0N1x1MEUxOVx1MEUyQlx1MEUxOVx1MEUzNlx1MEU0OFx1MEUwN1x1MEU0M1x1MEUxOSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTQwXHUwRTAxXHUwRTM0XHUwRTE5XCIgOiBcIlx1MEUxOVx1MEU0OVx1MEUyRFx1MEUyMlx1MEUwMVx1MEUyN1x1MEU0OFx1MEUzMlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTQwXHUwRTAxXHUwRTM0XHUwRTE5XHUwRTAxXHUwRTMzXHUwRTJCXHUwRTE5XHUwRTE0OiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MEUwNFx1MEU0OFx1MEUzMlwifSBcdTBFMDRcdTBFMjdcdTBFMjNcdTBFMjFcdTBFMzUke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTBFMjNcdTBFMzJcdTBFMjJcdTBFMDFcdTBFMzJcdTBFMjNcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTQwXHUwRTAxXHUwRTM0XHUwRTE5XHUwRTAxXHUwRTMzXHUwRTJCXHUwRTE5XHUwRTE0OiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MEUwNFx1MEU0OFx1MEUzMlwifSBcdTBFMDRcdTBFMjdcdTBFMjNcdTBFMjFcdTBFMzUke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHUwRTJEXHUwRTIyXHUwRTQ4XHUwRTMyXHUwRTA3XHUwRTE5XHUwRTQ5XHUwRTJEXHUwRTIyXCIgOiBcIlx1MEUyMVx1MEUzMlx1MEUwMVx1MEUwMVx1MEUyN1x1MEU0OFx1MEUzMlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMTlcdTBFNDlcdTBFMkRcdTBFMjJcdTBFMDFcdTBFMjdcdTBFNDhcdTBFMzJcdTBFMDFcdTBFMzNcdTBFMkJcdTBFMTlcdTBFMTQ6ICR7aXNzdWUub3JpZ2lufSBcdTBFMDRcdTBFMjdcdTBFMjNcdTBFMjFcdTBFMzUke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMTlcdTBFNDlcdTBFMkRcdTBFMjJcdTBFMDFcdTBFMjdcdTBFNDhcdTBFMzJcdTBFMDFcdTBFMzNcdTBFMkJcdTBFMTlcdTBFMTQ6ICR7aXNzdWUub3JpZ2lufSBcdTBFMDRcdTBFMjdcdTBFMjNcdTBFMjFcdTBFMzUke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUyM1x1MEUzOVx1MEUxQlx1MEU0MVx1MEUxQVx1MEUxQVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTA0XHUwRTI3XHUwRTMyXHUwRTIxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3XHUwRTAyXHUwRTM2XHUwRTQ5XHUwRTE5XHUwRTE1XHUwRTQ5XHUwRTE5XHUwRTE0XHUwRTQ5XHUwRTI3XHUwRTIyIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTIzXHUwRTM5XHUwRTFCXHUwRTQxXHUwRTFBXHUwRTFBXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMDRcdTBFMjdcdTBFMzJcdTBFMjFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDdcdTBFMjVcdTBFMDdcdTBFMTdcdTBFNDlcdTBFMzJcdTBFMjJcdTBFMTRcdTBFNDlcdTBFMjdcdTBFMjIgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTIzXHUwRTM5XHUwRTFCXHUwRTQxXHUwRTFBXHUwRTFBXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMDRcdTBFMjdcdTBFMzJcdTBFMjFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDdcdTBFMjFcdTBFMzUgXCIke19pc3N1ZS5pbmNsdWRlc31cIiBcdTBFMkRcdTBFMjJcdTBFMzlcdTBFNDhcdTBFNDNcdTBFMTlcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMDRcdTBFMjdcdTBFMzJcdTBFMjFgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTIzXHUwRTM5XHUwRTFCXHUwRTQxXHUwRTFBXHUwRTFBXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDdcdTBFMTVcdTBFMjNcdTBFMDdcdTBFMDFcdTBFMzFcdTBFMUFcdTBFMjNcdTBFMzlcdTBFMUJcdTBFNDFcdTBFMUFcdTBFMUFcdTBFMTdcdTBFMzVcdTBFNDhcdTBFMDFcdTBFMzNcdTBFMkJcdTBFMTlcdTBFMTQgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTIzXHUwRTM5XHUwRTFCXHUwRTQxXHUwRTFBXHUwRTFBXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTE1XHUwRTMxXHUwRTI3XHUwRTQwXHUwRTI1XHUwRTAyXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDdcdTBFNDBcdTBFMUJcdTBFNDdcdTBFMTlcdTBFMDhcdTBFMzNcdTBFMTlcdTBFMjdcdTBFMTlcdTBFMTdcdTBFMzVcdTBFNDhcdTBFMkJcdTBFMzJcdTBFMjNcdTBFMTRcdTBFNDlcdTBFMjdcdTBFMjIgJHtpc3N1ZS5kaXZpc29yfSBcdTBFNDRcdTBFMTRcdTBFNDlcdTBFMjVcdTBFMDdcdTBFMTVcdTBFMzFcdTBFMjdgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMUVcdTBFMUFcdTBFMDRcdTBFMzVcdTBFMjJcdTBFNENcdTBFMTdcdTBFMzVcdTBFNDhcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMjNcdTBFMzlcdTBFNDlcdTBFMDhcdTBFMzFcdTBFMDE6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTA0XHUwRTM1XHUwRTIyXHUwRTRDXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3XHUwRTQzXHUwRTE5ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MEUwMlx1MEU0OVx1MEUyRFx1MEUyMVx1MEUzOVx1MEUyNVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE1XHUwRTIzXHUwRTA3XHUwRTAxXHUwRTMxXHUwRTFBXHUwRTIzXHUwRTM5XHUwRTFCXHUwRTQxXHUwRTFBXHUwRTFBXHUwRTIyXHUwRTM5XHUwRTQwXHUwRTE5XHUwRTM1XHUwRTIyXHUwRTE5XHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTAxXHUwRTMzXHUwRTJCXHUwRTE5XHUwRTE0XHUwRTQ0XHUwRTI3XHUwRTQ5XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMjFcdTBFMzlcdTBFMjVcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDdcdTBFNDNcdTBFMTkgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMjFcdTBFMzlcdTBFMjVcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDdgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImthcmFrdGVyXCIsIHZlcmI6IFwib2xtYWxcdTAxMzFcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYmF5dFwiLCB2ZXJiOiBcIm9sbWFsXHUwMTMxXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTAwRjZcdTAxMUZlXCIsIHZlcmI6IFwib2xtYWxcdTAxMzFcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTAwRjZcdTAxMUZlXCIsIHZlcmI6IFwib2xtYWxcdTAxMzFcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJnaXJkaVwiLFxuICAgICAgICBlbWFpbDogXCJlLXBvc3RhIGFkcmVzaVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyB0YXJpaCB2ZSBzYWF0XCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIHRhcmloXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIHNhYXRcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIHNcdTAwRkNyZVwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgYWRyZXNpXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBhZHJlc2lcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgYXJhbFx1MDEzMVx1MDExRlx1MDEzMVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBhcmFsXHUwMTMxXHUwMTFGXHUwMTMxXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQgaWxlIFx1MDE1RmlmcmVsZW5taVx1MDE1RiBtZXRpblwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsIGlsZSBcdTAxNUZpZnJlbGVubWlcdTAxNUYgbWV0aW5cIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBkaXplc2lcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBzYXlcdTAxMzFzXHUwMTMxXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTAxNUVhYmxvbiBkaXplc2lcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IGRlXHUwMTFGZXI6IGJla2xlbmVuICR7aXNzdWUuZXhwZWN0ZWR9LCBhbFx1MDEzMW5hbiAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEdlXHUwMEU3ZXJzaXogZGVcdTAxMUZlcjogYmVrbGVuZW4gJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IHNlXHUwMEU3ZW5lazogYVx1MDE1RmFcdTAxMUZcdTAxMzFkYWtpbGVyZGVuIGJpcmkgb2xtYWxcdTAxMzE6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzdvayBiXHUwMEZDeVx1MDBGQ2s6IGJla2xlbmVuICR7aXNzdWUub3JpZ2luID8/IFwiZGVcdTAxMUZlclwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MDBGNlx1MDExRmVcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM3b2sgYlx1MDBGQ3lcdTAwRkNrOiBiZWtsZW5lbiAke2lzc3VlLm9yaWdpbiA/PyBcImRlXHUwMTFGZXJcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM3b2sga1x1MDBGQ1x1MDBFN1x1MDBGQ2s6IGJla2xlbmVuICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM3b2sga1x1MDBGQ1x1MDBFN1x1MDBGQ2s6IGJla2xlbmVuICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEdlXHUwMEU3ZXJzaXogbWV0aW46IFwiJHtfaXNzdWUucHJlZml4fVwiIGlsZSBiYVx1MDE1RmxhbWFsXHUwMTMxYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IG1ldGluOiBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBpbGUgYml0bWVsaWA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IG1ldGluOiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIGlcdTAwRTdlcm1lbGlgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBtZXRpbjogJHtfaXNzdWUucGF0dGVybn0gZGVzZW5pbmUgdXltYWxcdTAxMzFgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBzYXlcdTAxMzE6ICR7aXNzdWUuZGl2aXNvcn0gaWxlIHRhbSBiXHUwMEY2bFx1MDBGQ25lYmlsbWVsaWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRhblx1MDEzMW5tYXlhbiBhbmFodGFyJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImxhclwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IGlcdTAwRTdpbmRlIGdlXHUwMEU3ZXJzaXogYW5haHRhcmA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkdlXHUwMEU3ZXJzaXogZGVcdTAxMUZlclwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IGlcdTAwRTdpbmRlIGdlXHUwMEU3ZXJzaXogZGVcdTAxMUZlcmA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBkZVx1MDExRmVyYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzJcdTA0M0VcdTA0M0JcdTA0NTZcdTA0MzJcIiwgdmVyYjogXCJcdTA0M0NcdTA0MzBcdTA0NDJcdTA0MzhcdTA0M0NcdTA0MzVcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHUwNDMxXHUwNDMwXHUwNDM5XHUwNDQyXHUwNDU2XHUwNDMyXCIsIHZlcmI6IFwiXHUwNDNDXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDNDXHUwNDM1XCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTA0MzVcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0NTZcdTA0MzJcIiwgdmVyYjogXCJcdTA0M0NcdTA0MzBcdTA0NDJcdTA0MzhcdTA0M0NcdTA0MzVcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTA0MzVcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0NTZcdTA0MzJcIiwgdmVyYjogXCJcdTA0M0NcdTA0MzBcdTA0NDJcdTA0MzhcdTA0M0NcdTA0MzVcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MDQ0N1x1MDQzOFx1MDQ0MVx1MDQzQlx1MDQzRVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNDNDXHUwNDMwXHUwNDQxXHUwNDM4XHUwNDMyXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTZcIixcbiAgICAgICAgZW1haWw6IFwiXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXHUwNDMwIFx1MDQzNVx1MDQzQlx1MDQzNVx1MDQzQVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzRFx1MDQzRFx1MDQzRVx1MDQ1NyBcdTA0M0ZcdTA0M0VcdTA0NDhcdTA0NDJcdTA0MzhcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTA0MzVcdTA0M0NcdTA0M0VcdTA0MzRcdTA0MzdcdTA0NTZcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDMwIFx1MDQ0Mlx1MDQzMCBcdTA0NDdcdTA0MzBcdTA0NDEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDMwIElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MDQ0N1x1MDQzMFx1MDQ0MSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUwNDQyXHUwNDQwXHUwNDM4XHUwNDMyXHUwNDMwXHUwNDNCXHUwNDU2XHUwNDQxXHUwNDQyXHUwNDRDIElTT1wiLFxuICAgICAgICBpcHY0OiBcIlx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVx1MDQzMCBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXHUwNDMwIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcIlx1MDQzNFx1MDQ1Nlx1MDQzMFx1MDQzRlx1MDQzMFx1MDQzN1x1MDQzRVx1MDQzRCBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTA0MzRcdTA0NTZcdTA0MzBcdTA0M0ZcdTA0MzBcdTA0MzdcdTA0M0VcdTA0M0QgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwNDQwXHUwNDRGXHUwNDM0XHUwNDNFXHUwNDNBIFx1MDQ0MyBcdTA0M0FcdTA0M0VcdTA0MzRcdTA0NDNcdTA0MzJcdTA0MzBcdTA0M0RcdTA0M0RcdTA0NTYgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTA0NDBcdTA0NEZcdTA0MzRcdTA0M0VcdTA0M0EgXHUwNDQzIFx1MDQzQVx1MDQzRVx1MDQzNFx1MDQ0M1x1MDQzMlx1MDQzMFx1MDQzRFx1MDQzRFx1MDQ1NiBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUwNDQwXHUwNDRGXHUwNDM0XHUwNDNFXHUwNDNBIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJcdTA0M0RcdTA0M0VcdTA0M0NcdTA0MzVcdTA0NDAgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTZcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0NTYgXHUwNDMyXHUwNDQ1XHUwNDU2XHUwNDM0XHUwNDNEXHUwNDU2IFx1MDQzNFx1MDQzMFx1MDQzRFx1MDQ1NjogXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDU0XHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTA0M0VcdTA0NDJcdTA0NDBcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0RcdTA0M0UgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0NTYgXHUwNDMyXHUwNDQ1XHUwNDU2XHUwNDM0XHUwNDNEXHUwNDU2IFx1MDQzNFx1MDQzMFx1MDQzRFx1MDQ1NjogXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDU0XHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTA0M0VcdTA0NDJcdTA0NDBcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0RcdTA0M0UgJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ1NiBcdTA0MzJcdTA0NDVcdTA0NTZcdTA0MzRcdTA0M0RcdTA0NTYgXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDU2OiBcdTA0M0VcdTA0NDdcdTA0NTZcdTA0M0FcdTA0NDNcdTA0NTRcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzAgXHUwNDNFXHUwNDNGXHUwNDQ2XHUwNDU2XHUwNDRGOiBcdTA0M0VcdTA0NDdcdTA0NTZcdTA0M0FcdTA0NDNcdTA0NTRcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYgXHUwNDNFXHUwNDM0XHUwNDNEXHUwNDM1IFx1MDQzNyAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDE3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDNFIFx1MDQzMlx1MDQzNVx1MDQzQlx1MDQzOFx1MDQzQVx1MDQzNTogXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDU0XHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGLCBcdTA0NDlcdTA0M0UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0M0RcdTA0NEZcIn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTA0MzVcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0NTZcdTA0MzJcIn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDE3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDNFIFx1MDQzMlx1MDQzNVx1MDQzQlx1MDQzOFx1MDQzQVx1MDQzNTogXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDU0XHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGLCBcdTA0NDlcdTA0M0UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0M0RcdTA0NEZcIn0gXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM1ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDE3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDNFIFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQzNTogXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDU0XHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGLCBcdTA0NDlcdTA0M0UgJHtpc3N1ZS5vcmlnaW59ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDE3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDNFIFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQzNTogXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDU0XHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGLCBcdTA0NDlcdTA0M0UgJHtpc3N1ZS5vcmlnaW59IFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQzNSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0NDBcdTA0NEZcdTA0MzRcdTA0M0VcdTA0M0E6IFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQzOFx1MDQzRFx1MDQzNVx1MDQzRCBcdTA0M0ZcdTA0M0VcdTA0NDdcdTA0MzhcdTA0M0RcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0NEYgXHUwNDM3IFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDQwXHUwNDRGXHUwNDM0XHUwNDNFXHUwNDNBOiBcdTA0M0ZcdTA0M0VcdTA0MzJcdTA0MzhcdTA0M0RcdTA0MzVcdTA0M0QgXHUwNDM3XHUwNDMwXHUwNDNBXHUwNDU2XHUwNDNEXHUwNDQ3XHUwNDQzXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDRGIFx1MDQzRFx1MDQzMCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDQwXHUwNDRGXHUwNDM0XHUwNDNFXHUwNDNBOiBcdTA0M0ZcdTA0M0VcdTA0MzJcdTA0MzhcdTA0M0RcdTA0MzVcdTA0M0QgXHUwNDNDXHUwNDU2XHUwNDQxXHUwNDQyXHUwNDM4XHUwNDQyXHUwNDM4IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDM5IFx1MDQ0MFx1MDQ0Rlx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDM4XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzMlx1MDQ1Nlx1MDQzNFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQ1Nlx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQzOCBcdTA0NDhcdTA0MzBcdTA0MzFcdTA0M0JcdTA0M0VcdTA0M0RcdTA0NDMgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDM5ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzUgXHUwNDQ3XHUwNDM4XHUwNDQxXHUwNDNCXHUwNDNFOiBcdTA0M0ZcdTA0M0VcdTA0MzJcdTA0MzhcdTA0M0RcdTA0M0RcdTA0M0UgXHUwNDMxXHUwNDQzXHUwNDQyXHUwNDM4IFx1MDQzQVx1MDQ0MFx1MDQzMFx1MDQ0Mlx1MDQzRFx1MDQzOFx1MDQzQyAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDQwXHUwNDNFXHUwNDM3XHUwNDNGXHUwNDU2XHUwNDM3XHUwNDNEXHUwNDMwXHUwNDNEXHUwNDM4XHUwNDM5IFx1MDQzQVx1MDQzQlx1MDQ0RVx1MDQ0NyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA0NTZcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0M0FcdTA0M0JcdTA0NEVcdTA0NDcgXHUwNDQzICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ1NiBcdTA0MzJcdTA0NDVcdTA0NTZcdTA0MzRcdTA0M0RcdTA0NTYgXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDU2XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzUgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGIFx1MDQ0MyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ1NiBcdTA0MzJcdTA0NDVcdTA0NTZcdTA0MzRcdTA0M0RcdTA0NTYgXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDU2YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0IHVrIGZyb20gXCIuL3VrLmpzXCI7XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGB1a2AgaW5zdGVhZC4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdWsoKTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MDYyRFx1MDYzMVx1MDY0OFx1MDY0MVwiLCB2ZXJiOiBcIlx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyN1wiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTA2MjhcdTA2MjdcdTA2MjZcdTA2NzlcdTA2MzNcIiwgdmVyYjogXCJcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjdcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1MDYyMlx1MDYyNlx1MDY3OVx1MDY0NVx1MDYzMlwiLCB2ZXJiOiBcIlx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyN1wiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1MDYyMlx1MDYyNlx1MDY3OVx1MDY0NVx1MDYzMlwiLCB2ZXJiOiBcIlx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyN1wiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUwNjQ2XHUwNjQ1XHUwNjI4XHUwNjMxXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA2MjJcdTA2MzFcdTA2RDJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNjQ2XHUwNjQ0XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA2MjdcdTA2NDYgXHUwNjdFXHUwNjc5XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDYyN1x1MDZDQyBcdTA2NDVcdTA2Q0NcdTA2NDQgXHUwNjI3XHUwNkNDXHUwNjg4XHUwNjMxXHUwNkNDXHUwNjMzXCIsXG4gICAgICAgIHVybDogXCJcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjMxIFx1MDYyN1x1MDZDQ1x1MDY0NFwiLFxuICAgICAgICBlbW9qaTogXCJcdTA2MjdcdTA2Q0NcdTA2NDVcdTA2NDhcdTA2MkNcdTA2Q0NcIixcbiAgICAgICAgdXVpZDogXCJcdTA2Q0NcdTA2NDggXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0NcIixcbiAgICAgICAgdXVpZHY0OiBcIlx1MDZDQ1x1MDY0OCBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQyBcdTA2NDhcdTA2Q0MgNFwiLFxuICAgICAgICB1dWlkdjY6IFwiXHUwNkNDXHUwNjQ4IFx1MDZDQ1x1MDY0OCBcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjg4XHUwNkNDIFx1MDY0OFx1MDZDQyA2XCIsXG4gICAgICAgIG5hbm9pZDogXCJcdTA2NDZcdTA2Q0NcdTA2NDZcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICBndWlkOiBcIlx1MDYyQ1x1MDZDQyBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICBjdWlkOiBcIlx1MDYzM1x1MDZDQyBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICBjdWlkMjogXCJcdTA2MzNcdTA2Q0MgXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0MgMlwiLFxuICAgICAgICB1bGlkOiBcIlx1MDZDQ1x1MDY0OCBcdTA2MjdcdTA2Q0NcdTA2NDQgXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICB4aWQ6IFwiXHUwNjI3XHUwNkNDXHUwNkE5XHUwNjMzIFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0NcIixcbiAgICAgICAga3N1aWQ6IFwiXHUwNkE5XHUwNkQyIFx1MDYyN1x1MDZDQ1x1MDYzMyBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICBkYXRldGltZTogXCJcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjI3XHUwNkNDXHUwNjMzIFx1MDYyN1x1MDY0OCBcdTA2ODhcdTA2Q0NcdTA2NzkgXHUwNjc5XHUwNjI3XHUwNjI2XHUwNjQ1XCIsXG4gICAgICAgIGRhdGU6IFwiXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDYyN1x1MDZDQ1x1MDYzMyBcdTA2MjdcdTA2NDggXHUwNjJBXHUwNjI3XHUwNjMxXHUwNkNDXHUwNjJFXCIsXG4gICAgICAgIHRpbWU6IFwiXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDYyN1x1MDZDQ1x1MDYzMyBcdTA2MjdcdTA2NDggXHUwNjQ4XHUwNjQyXHUwNjJBXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2MjdcdTA2Q0NcdTA2MzMgXHUwNjI3XHUwNjQ4IFx1MDY0NVx1MDYyRlx1MDYyQVwiLFxuICAgICAgICBpcHY0OiBcIlx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2N0VcdTA2Q0MgXHUwNjQ4XHUwNkNDIDQgXHUwNjI3XHUwNkNDXHUwNjg4XHUwNjMxXHUwNkNDXHUwNjMzXCIsXG4gICAgICAgIGlwdjY6IFwiXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY3RVx1MDZDQyBcdTA2NDhcdTA2Q0MgNiBcdTA2MjdcdTA2Q0NcdTA2ODhcdTA2MzFcdTA2Q0NcdTA2MzNcIixcbiAgICAgICAgY2lkcnY0OiBcIlx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2N0VcdTA2Q0MgXHUwNjQ4XHUwNkNDIDQgXHUwNjMxXHUwNkNDXHUwNjQ2XHUwNjJDXCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjdFXHUwNkNDIFx1MDY0OFx1MDZDQyA2IFx1MDYzMVx1MDZDQ1x1MDY0Nlx1MDYyQ1wiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwNjI4XHUwNkNDXHUwNjMzIDY0IFx1MDYyN1x1MDY0NiBcdTA2QTlcdTA2NDhcdTA2ODhcdTA2ODggXHUwNjMzXHUwNjc5XHUwNjMxXHUwNjQ2XHUwNkFGXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTA2MjhcdTA2Q0NcdTA2MzMgNjQgXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYzMSBcdTA2MjdcdTA2Q0NcdTA2NDQgXHUwNjI3XHUwNjQ2IFx1MDZBOVx1MDY0OFx1MDY4OFx1MDY4OCBcdTA2MzNcdTA2NzlcdTA2MzFcdTA2NDZcdTA2QUZcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUwNjJDXHUwNkQyIFx1MDYyN1x1MDZDQ1x1MDYzMyBcdTA2MjdcdTA2NDggXHUwNjI3XHUwNkNDXHUwNjQ2IFx1MDYzM1x1MDY3OVx1MDYzMVx1MDY0Nlx1MDZBRlwiLFxuICAgICAgICBlMTY0OiBcIlx1MDYyN1x1MDZDQyAxNjQgXHUwNjQ2XHUwNjQ1XHUwNjI4XHUwNjMxXCIsXG4gICAgICAgIGp3dDogXCJcdTA2MkNcdTA2RDIgXHUwNjg4XHUwNjI4XHUwNjQ0XHUwNkNDXHUwNjQ4IFx1MDY3OVx1MDZDQ1wiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDYyN1x1MDY0NiBcdTA2N0VcdTA2NzlcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjI3XHUwNjQ2IFx1MDY3RVx1MDY3OTogJHtpc3N1ZS5leHBlY3RlZH0gXHUwNjQ1XHUwNjJBXHUwNjQ4XHUwNjQyXHUwNjM5IFx1MDYyQVx1MDZCRVx1MDYyN1x1MDYwQyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfSBcdTA2NDVcdTA2NDhcdTA2MzVcdTA2NDhcdTA2NDQgXHUwNkMxXHUwNjQ4XHUwNjI3YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYyN1x1MDY0NiBcdTA2N0VcdTA2Nzk6ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX0gXHUwNjQ1XHUwNjJBXHUwNjQ4XHUwNjQyXHUwNjM5IFx1MDYyQVx1MDZCRVx1MDYyN2A7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjIyXHUwNjdFXHUwNjM0XHUwNjQ2OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX0gXHUwNjQ1XHUwNkNDXHUwNkJBIFx1MDYzM1x1MDZEMiBcdTA2MjdcdTA2Q0NcdTA2QTkgXHUwNjQ1XHUwNjJBXHUwNjQ4XHUwNjQyXHUwNjM5IFx1MDYyQVx1MDZCRVx1MDYyN2A7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MjhcdTA2QzFcdTA2MkEgXHUwNjI4XHUwNjkxXHUwNjI3OiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDY0OFx1MDZDQ1x1MDY0NFx1MDZDQ1x1MDY0OFwifSBcdTA2QTlcdTA2RDIgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTA2MzlcdTA2NDZcdTA2MjdcdTA2MzVcdTA2MzFcIn0gXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNkQyIFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2RDJgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjI4XHUwNkMxXHUwNjJBIFx1MDYyOFx1MDY5MVx1MDYyNzogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA2NDhcdTA2Q0NcdTA2NDRcdTA2Q0NcdTA2NDhcIn0gXHUwNkE5XHUwNjI3ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSBcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjcgXHUwNjQ1XHUwNjJBXHUwNjQ4XHUwNjQyXHUwNjM5IFx1MDYyQVx1MDZCRVx1MDYyN2A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjI4XHUwNkMxXHUwNjJBIFx1MDY4Nlx1MDZCRVx1MDY0OFx1MDY3OVx1MDYyNzogJHtpc3N1ZS5vcmlnaW59IFx1MDZBOVx1MDZEMiAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH0gXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNkQyIFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2RDJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyOFx1MDZDMVx1MDYyQSBcdTA2ODZcdTA2QkVcdTA2NDhcdTA2NzlcdTA2Mjc6ICR7aXNzdWUub3JpZ2lufSBcdTA2QTlcdTA2MjcgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9IFx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyNyBcdTA2NDVcdTA2MkFcdTA2NDhcdTA2NDJcdTA2MzkgXHUwNjJBXHUwNkJFXHUwNjI3YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MzNcdTA2NzlcdTA2MzFcdTA2NDZcdTA2QUY6IFwiJHtfaXNzdWUucHJlZml4fVwiIFx1MDYzM1x1MDZEMiBcdTA2MzRcdTA2MzFcdTA2NDhcdTA2MzkgXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3IFx1MDY4Nlx1MDYyN1x1MDZDMVx1MDZDQ1x1MDZEMmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MzNcdTA2NzlcdTA2MzFcdTA2NDZcdTA2QUY6IFwiJHtfaXNzdWUuc3VmZml4fVwiIFx1MDY3RVx1MDYzMSBcdTA2MkVcdTA2MkFcdTA2NDUgXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3IFx1MDY4Nlx1MDYyN1x1MDZDMVx1MDZDQ1x1MDZEMmA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjMzXHUwNjc5XHUwNjMxXHUwNjQ2XHUwNkFGOiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIFx1MDYzNFx1MDYyN1x1MDY0NVx1MDY0NCBcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjcgXHUwNjg2XHUwNjI3XHUwNkMxXHUwNkNDXHUwNkQyYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MzNcdTA2NzlcdTA2MzFcdTA2NDZcdTA2QUY6IFx1MDY3RVx1MDZDQ1x1MDY3OVx1MDYzMVx1MDY0NiAke19pc3N1ZS5wYXR0ZXJufSBcdTA2MzNcdTA2RDIgXHUwNjQ1XHUwNkNDXHUwNjg2IFx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyNyBcdTA2ODZcdTA2MjdcdTA2QzFcdTA2Q0NcdTA2RDJgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjQ2XHUwNjQ1XHUwNjI4XHUwNjMxOiAke2lzc3VlLmRpdmlzb3J9IFx1MDZBOVx1MDYyNyBcdTA2NDVcdTA2MzZcdTA2MjdcdTA2MzlcdTA2NDEgXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3IFx1MDY4Nlx1MDYyN1x1MDZDMVx1MDZDQ1x1MDZEMmA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDZDQ1x1MDYzMSBcdTA2MkFcdTA2MzNcdTA2NDRcdTA2Q0NcdTA2NDUgXHUwNjM0XHUwNjJGXHUwNkMxIFx1MDZBOVx1MDZDQyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA2MzJcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIlx1MDYwQyBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IFx1MDY0NVx1MDZDQ1x1MDZCQSBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNkE5XHUwNkNDYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYyN1x1MDY0NiBcdTA2N0VcdTA2NzlcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBcdTA2NDVcdTA2Q0NcdTA2QkEgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDY0OFx1MDZDQ1x1MDY0NFx1MDZDQ1x1MDY0OGA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYyN1x1MDY0NiBcdTA2N0VcdTA2NzlgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcImtcdTAwRkQgdFx1MUVGMVwiLCB2ZXJiOiBcImNcdTAwRjNcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiYnl0ZVwiLCB2ZXJiOiBcImNcdTAwRjNcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcInBoXHUxRUE3biB0XHUxRUVEXCIsIHZlcmI6IFwiY1x1MDBGM1wiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcInBoXHUxRUE3biB0XHUxRUVEXCIsIHZlcmI6IFwiY1x1MDBGM1wiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwic1x1MUVEMVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibVx1MUVBM25nXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDExMVx1MUVBN3Ugdlx1MDBFMG9cIixcbiAgICAgICAgZW1haWw6IFwiXHUwMTExXHUxRUNCYSBjaFx1MUVDOSBlbWFpbFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIm5nXHUwMEUweSBnaVx1MUVERCBJU09cIixcbiAgICAgICAgZGF0ZTogXCJuZ1x1MDBFMHkgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiZ2lcdTFFREQgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImtob1x1MUVBM25nIHRoXHUxRUREaSBnaWFuIElTT1wiLFxuICAgICAgICBpcHY0OiBcIlx1MDExMVx1MUVDQmEgY2hcdTFFQzkgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcIlx1MDExMVx1MUVDQmEgY2hcdTFFQzkgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiZFx1MUVBM2kgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiZFx1MUVBM2kgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiY2h1XHUxRUQ3aSBtXHUwMEUzIGhcdTAwRjNhIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiY2h1XHUxRUQ3aSBtXHUwMEUzIGhcdTAwRjNhIGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJjaHVcdTFFRDdpIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJzXHUxRUQxIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTAxMTFcdTFFQTd1IHZcdTAwRTBvXCIsXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMTEwXHUxRUE3dSB2XHUwMEUwbyBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzc6IG1vbmcgXHUwMTExXHUxRUUzaSAke2lzc3VlLmV4cGVjdGVkfSwgbmhcdTFFQURuIFx1MDExMVx1MDFCMFx1MUVFM2MgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAxMTBcdTFFQTd1IHZcdTAwRTBvIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNzogbW9uZyBcdTAxMTFcdTFFRTNpICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVFx1MDBGOXkgY2hcdTFFQ0RuIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNzogbW9uZyBcdTAxMTFcdTFFRTNpIG1cdTFFRDl0IHRyb25nIGNcdTAwRTFjIGdpXHUwMEUxIHRyXHUxRUNCICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBRdVx1MDBFMSBsXHUxRURCbjogbW9uZyBcdTAxMTFcdTFFRTNpICR7aXNzdWUub3JpZ2luID8/IFwiZ2lcdTAwRTEgdHJcdTFFQ0JcIn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJwaFx1MUVBN24gdFx1MUVFRFwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBRdVx1MDBFMSBsXHUxRURCbjogbW9uZyBcdTAxMTFcdTFFRTNpICR7aXNzdWUub3JpZ2luID8/IFwiZ2lcdTAwRTEgdHJcdTFFQ0JcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBRdVx1MDBFMSBuaFx1MUVDRjogbW9uZyBcdTAxMTFcdTFFRTNpICR7aXNzdWUub3JpZ2lufSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFF1XHUwMEUxIG5oXHUxRUNGOiBtb25nIFx1MDExMVx1MUVFM2kgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2h1XHUxRUQ3aSBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzc6IHBoXHUxRUEzaSBiXHUxRUFGdCBcdTAxMTFcdTFFQTd1IGJcdTFFQjFuZyBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2h1XHUxRUQ3aSBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzc6IHBoXHUxRUEzaSBrXHUxRUJGdCB0aFx1MDBGQWMgYlx1MUVCMW5nIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYENodVx1MUVEN2kga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBwaFx1MUVBM2kgYmFvIGdcdTFFRDNtIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgQ2h1XHUxRUQ3aSBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzc6IHBoXHUxRUEzaSBraFx1MUVEQnAgdlx1MUVEQmkgbVx1MUVBQnUgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDN2A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBTXHUxRUQxIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNzogcGhcdTFFQTNpIGxcdTAwRTAgYlx1MUVEOWkgc1x1MUVEMSBjXHUxRUU3YSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgS2hcdTAwRjNhIGtoXHUwMEY0bmcgXHUwMTExXHUwMUIwXHUxRUUzYyBuaFx1MUVBRG4gZFx1MUVBMW5nOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEtoXHUwMEYzYSBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzcgdHJvbmcgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwMTEwXHUxRUE3dSB2XHUwMEUwbyBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzdcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEdpXHUwMEUxIHRyXHUxRUNCIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNyB0cm9uZyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDExMFx1MUVBN3Ugdlx1MDBFMG8ga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHsgdW5pdDogXCJcdTVCNTdcdTdCMjZcIiwgdmVyYjogXCJcdTUzMDVcdTU0MkJcIiB9LFxuICAgICAgICBmaWxlOiB7IHVuaXQ6IFwiXHU1QjU3XHU4MjgyXCIsIHZlcmI6IFwiXHU1MzA1XHU1NDJCXCIgfSxcbiAgICAgICAgYXJyYXk6IHsgdW5pdDogXCJcdTk4NzlcIiwgdmVyYjogXCJcdTUzMDVcdTU0MkJcIiB9LFxuICAgICAgICBzZXQ6IHsgdW5pdDogXCJcdTk4NzlcIiwgdmVyYjogXCJcdTUzMDVcdTU0MkJcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiXHU5NzVFXHU2NTcwXHU1QjU3KE5hTilcIiA6IFwiXHU2NTcwXHU1QjU3XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTY1NzBcdTdFQzRcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHU3QTdBXHU1MDNDKG51bGwpXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdThGOTNcdTUxNjVcIixcbiAgICAgICAgZW1haWw6IFwiXHU3NTM1XHU1QjUwXHU5MEFFXHU0RUY2XCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHU4ODY4XHU2MEM1XHU3QjI2XHU1M0Y3XCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTT1x1NjVFNVx1NjcxRlx1NjVGNlx1OTVGNFwiLFxuICAgICAgICBkYXRlOiBcIklTT1x1NjVFNVx1NjcxRlwiLFxuICAgICAgICB0aW1lOiBcIklTT1x1NjVGNlx1OTVGNFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU09cdTY1RjZcdTk1N0ZcIixcbiAgICAgICAgaXB2NDogXCJJUHY0XHU1NzMwXHU1NzQwXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Nlx1NTczMFx1NTc0MFwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NFx1N0Y1MVx1NkJCNVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Nlx1N0Y1MVx1NkJCNVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0XHU3RjE2XHU3ODAxXHU1QjU3XHU3QjI2XHU0RTMyXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmxcdTdGMTZcdTc4MDFcdTVCNTdcdTdCMjZcdTRFMzJcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTlx1NUI1N1x1N0IyNlx1NEUzMlwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0XHU1M0Y3XHU3ODAxXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdThGOTNcdTUxNjVcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1RTBcdTY1NDhcdThGOTNcdTUxNjVcdUZGMUFcdTY3MUZcdTY3MUIgJHtpc3N1ZS5leHBlY3RlZH1cdUZGMENcdTVCOUVcdTk2NDVcdTYzQTVcdTY1MzYgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1RTBcdTY1NDhcdThGOTNcdTUxNjVcdUZGMUFcdTY3MUZcdTY3MUIgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1RTBcdTY1NDhcdTkwMDlcdTk4NzlcdUZGMUFcdTY3MUZcdTY3MUJcdTRFRTVcdTRFMEJcdTRFNEJcdTRFMDAgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjU3MFx1NTAzQ1x1OEZDN1x1NTkyN1x1RkYxQVx1NjcxRlx1NjcxQiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1NTAzQ1wifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1NEUyQVx1NTE0M1x1N0QyMFwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1NzBcdTUwM0NcdThGQzdcdTU5MjdcdUZGMUFcdTY3MUZcdTY3MUIgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTUwM0NcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1NzBcdTUwM0NcdThGQzdcdTVDMEZcdUZGMUFcdTY3MUZcdTY3MUIgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NTcwXHU1MDNDXHU4RkM3XHU1QzBGXHVGRjFBXHU2NzFGXHU2NzFCICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OFx1NUI1N1x1N0IyNlx1NEUzMlx1RkYxQVx1NUZDNVx1OTg3Qlx1NEVFNSBcIiR7X2lzc3VlLnByZWZpeH1cIiBcdTVGMDBcdTU5MzRgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OFx1NUI1N1x1N0IyNlx1NEUzMlx1RkYxQVx1NUZDNVx1OTg3Qlx1NEVFNSBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBcdTdFRDNcdTVDM0VgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU1QjU3XHU3QjI2XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODdCXHU1MzA1XHU1NDJCIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU1QjU3XHU3QjI2XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODdCXHU2RUUxXHU4REIzXHU2QjYzXHU1MjE5XHU4ODY4XHU4RkJFXHU1RjBGICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1RTBcdTY1NDhcdTY1NzBcdTVCNTdcdUZGMUFcdTVGQzVcdTk4N0JcdTY2MkYgJHtpc3N1ZS5kaXZpc29yfSBcdTc2ODRcdTUwMERcdTY1NzBgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTUxRkFcdTczQjBcdTY3MkFcdTc3RTVcdTc2ODRcdTk1MkUoa2V5KTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gXHU0RTJEXHU3Njg0XHU5NTJFKGtleSlcdTY1RTBcdTY1NDhgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTY1RTBcdTY1NDhcdThGOTNcdTUxNjVcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBcdTRFMkRcdTUzMDVcdTU0MkJcdTY1RTBcdTY1NDhcdTUwM0ModmFsdWUpYDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1RTBcdTY1NDhcdThGOTNcdTUxNjVgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1NUI1N1x1NTE0M1wiLCB2ZXJiOiBcIlx1NjRDMVx1NjcwOVwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJcdTRGNERcdTUxNDNcdTdENDRcIiwgdmVyYjogXCJcdTY0QzFcdTY3MDlcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIlx1OTgwNVx1NzZFRVwiLCB2ZXJiOiBcIlx1NjRDMVx1NjcwOVwiIH0sXG4gICAgICAgIHNldDogeyB1bml0OiBcIlx1OTgwNVx1NzZFRVwiLCB2ZXJiOiBcIlx1NjRDMVx1NjcwOVwiIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdThGMzhcdTUxNjVcIixcbiAgICAgICAgZW1haWw6IFwiXHU5MEY1XHU0RUY2XHU1NzMwXHU1NzQwXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIFx1NjVFNVx1NjcxRlx1NjY0Mlx1OTU5M1wiLFxuICAgICAgICBkYXRlOiBcIklTTyBcdTY1RTVcdTY3MUZcIixcbiAgICAgICAgdGltZTogXCJJU08gXHU2NjQyXHU5NTkzXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBcdTY3MUZcdTk1OTNcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IFx1NEY0RFx1NTc0MFwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgXHU0RjREXHU1NzQwXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IFx1N0JDNFx1NTcwRFwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBcdTdCQzRcdTU3MERcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NCBcdTdERThcdTc4QkNcdTVCNTdcdTRFMzJcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybCBcdTdERThcdTc4QkNcdTVCNTdcdTRFMzJcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBcdTVCNTdcdTRFMzJcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBcdTY1NzhcdTUwM0NcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1OEYzOFx1NTE2NVwiLFxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1OEYzOFx1NTE2NVx1NTAzQ1x1RkYxQVx1OTgxMFx1NjcxRlx1NzBCQSAke2lzc3VlLmV4cGVjdGVkfVx1RkYwQ1x1NEY0Nlx1NjUzNlx1NTIzMCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1OEYzOFx1NTE2NVx1NTAzQ1x1RkYxQVx1OTgxMFx1NjcxRlx1NzBCQSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1OTA3OFx1OTgwNVx1RkYxQVx1OTgxMFx1NjcxRlx1NzBCQVx1NEVFNVx1NEUwQlx1NTE3Nlx1NEUyRFx1NEU0Qlx1NEUwMCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgIGlmIChzaXppbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NTc4XHU1MDNDXHU5MDRFXHU1OTI3XHVGRjFBXHU5ODEwXHU2NzFGICR7aXNzdWUub3JpZ2luID8/IFwiXHU1MDNDXCJ9IFx1NjFDOVx1NzBCQSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1NTAwQlx1NTE0M1x1N0QyMFwifWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1NzhcdTUwM0NcdTkwNEVcdTU5MjdcdUZGMUFcdTk4MTBcdTY3MUYgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTUwM0NcIn0gXHU2MUM5XHU3MEJBICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NTc4XHU1MDNDXHU5MDRFXHU1QzBGXHVGRjFBXHU5ODEwXHU2NzFGICR7aXNzdWUub3JpZ2lufSBcdTYxQzlcdTcwQkEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1NzhcdTUwM0NcdTkwNEVcdTVDMEZcdUZGMUFcdTk4MTBcdTY3MUYgJHtpc3N1ZS5vcmlnaW59IFx1NjFDOVx1NzBCQSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU1QjU3XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODA4XHU0RUU1IFwiJHtfaXNzdWUucHJlZml4fVwiIFx1OTU4Qlx1OTgyRGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1NUI1N1x1NEUzMlx1RkYxQVx1NUZDNVx1OTgwOFx1NEVFNSBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBcdTdENTBcdTVDM0VgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU1QjU3XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODA4XHU1MzA1XHU1NDJCIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU1QjU3XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODA4XHU3QjI2XHU1NDA4XHU2ODNDXHU1RjBGICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NCAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU2NTc4XHU1QjU3XHVGRjFBXHU1RkM1XHU5ODA4XHU3MEJBICR7aXNzdWUuZGl2aXNvcn0gXHU3Njg0XHU1MDBEXHU2NTc4YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2Q0Q1XHU4QjU4XHU1MjI1XHU3Njg0XHU5Mzc1XHU1MDNDJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1NTAxMVwiIDogXCJcIn1cdUZGMUEke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIlx1MzAwMVwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gXHU0RTJEXHU2NzA5XHU3MTIxXHU2NTQ4XHU3Njg0XHU5Mzc1XHU1MDNDYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHU3MTIxXHU2NTQ4XHU3Njg0XHU4RjM4XHU1MTY1XHU1MDNDXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gXHU0RTJEXHU2NzA5XHU3MTIxXHU2NTQ4XHU3Njg0XHU1MDNDYDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTY1NDhcdTc2ODRcdThGMzhcdTUxNjVcdTUwM0NgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKCksXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzogeyB1bml0OiBcIlx1MDBFMG1pXCIsIHZlcmI6IFwiblx1MDBFRFwiIH0sXG4gICAgICAgIGZpbGU6IHsgdW5pdDogXCJieXRlc1wiLCB2ZXJiOiBcIm5cdTAwRURcIiB9LFxuICAgICAgICBhcnJheTogeyB1bml0OiBcIm5rYW5cIiwgdmVyYjogXCJuXHUwMEVEXCIgfSxcbiAgICAgICAgc2V0OiB7IHVuaXQ6IFwibmthblwiLCB2ZXJiOiBcIm5cdTAwRURcIiB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm5cdTFFQ0RcdTAzMDFtYlx1MDBFMFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYWtvcFx1MUVDRFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTFFQjlcdTAzMDByXHUxRUNEIFx1MDBFQ2JcdTAwRTF3XHUxRUNEbFx1MDBFOVwiLFxuICAgICAgICBlbWFpbDogXCJcdTAwRTBkXHUwMEVEclx1MUVCOVx1MDMwMXNcdTAwRUMgXHUwMEVDbVx1MUVCOVx1MDMwMWxcdTAwRUNcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTAwRTBrXHUwMEYza1x1MDBGMiBJU09cIixcbiAgICAgICAgZGF0ZTogXCJcdTFFQ0RqXHUxRUNEXHUwMzAxIElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MDBFMGtcdTAwRjNrXHUwMEYyIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJcdTAwRTBrXHUwMEYza1x1MDBGMiB0XHUwMEYzIHBcdTAwRTkgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiXHUwMEUwZFx1MDBFRHJcdTFFQjlcdTAzMDFzXHUwMEVDIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJcdTAwRTBkXHUwMEVEclx1MUVCOVx1MDMwMXNcdTAwRUMgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiXHUwMEUwZ2JcdTAwRThnYlx1MDBFOCBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTAwRTBnYlx1MDBFOGdiXHUwMEU4IElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MUVDRFx1MDMwMHJcdTFFQ0RcdTAzMDAgdFx1MDBFRCBhIGtcdTFFQ0RcdTAzMDEgblx1MDBFRCBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MUVDRFx1MDMwMHJcdTFFQ0RcdTAzMDAgYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIlx1MUVDRFx1MDMwMHJcdTFFQ0RcdTAzMDAgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm5cdTFFQ0RcdTAzMDFtYlx1MDBFMCBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUxRUI5XHUwMzAwclx1MUVDRCBcdTAwRUNiXHUwMEUxd1x1MUVDRGxcdTAwRTlcIixcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpID0+IHtcbiAgICAgICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQ0NiXHUwMEUxd1x1MUVDRGxcdTAwRTkgYVx1MUU2M1x1MDBFQ1x1MUU2M2U6IGEgblx1MDBFRCBsXHUwMEUxdGkgZmkgJHtpc3N1ZS5leHBlY3RlZH0sIFx1MDBFMG1cdTFFQ0RcdTAzMDAgYSByXHUwMEVEICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMENDYlx1MDBFMXdcdTFFQ0RsXHUwMEU5IGFcdTFFNjNcdTAwRUNcdTFFNjNlOiBhIG5cdTAwRUQgbFx1MDBFMXRpIGZpICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEMwXHUxRTYzXHUwMEUweVx1MDBFMG4gYVx1MUU2M1x1MDBFQ1x1MUU2M2U6IHlhbiBcdTFFQ0RcdTAzMDBrYW4gbFx1MDBFMXJhICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUXHUwMEYzIHBcdTFFQ0RcdTAzMDAgalx1MDBGOTogYSBuXHUwMEVEIGxcdTAwRTF0aSBqXHUxRUI5XHUwMzAxIHBcdTAwRTkgJHtpc3N1ZS5vcmlnaW4gPz8gXCJpeWVcIn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUXHUwMEYzIHBcdTFFQ0RcdTAzMDAgalx1MDBGOTogYSBuXHUwMEVEIGxcdTAwRTF0aSBqXHUxRUI5XHUwMzAxICR7YWRqfSR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgaWYgKHNpemluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBLXHUwMEU5clx1MDBFOSBqdTogYSBuXHUwMEVEIGxcdTAwRTF0aSBqXHUxRUI5XHUwMzAxIHBcdTAwRTkgJHtpc3N1ZS5vcmlnaW59ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWluaW11bX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgS1x1MDBFOXJcdTAwRTkganU6IGEgblx1MDBFRCBsXHUwMEUxdGkgalx1MUVCOVx1MDMwMSAke2Fkan0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTFFQ0NcdTAzMDByXHUxRUNEXHUwMzAwIGFcdTFFNjNcdTAwRUNcdTFFNjNlOiBnYlx1MUVDRFx1MDMwMWRcdTFFQ0RcdTAzMDAgYlx1MUVCOVx1MDMwMHJcdTFFQjlcdTAzMDAgcFx1MUVCOVx1MDMwMGxcdTAwRkEgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MUVDQ1x1MDMwMHJcdTFFQ0RcdTAzMDAgYVx1MUU2M1x1MDBFQ1x1MUU2M2U6IGdiXHUxRUNEXHUwMzAxZFx1MUVDRFx1MDMwMCBwYXJcdTAwRUQgcFx1MUVCOVx1MDMwMGxcdTAwRkEgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxRUNDXHUwMzAwclx1MUVDRFx1MDMwMCBhXHUxRTYzXHUwMEVDXHUxRTYzZTogZ2JcdTFFQ0RcdTAzMDFkXHUxRUNEXHUwMzAwIG5cdTAwRUQgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTFFQ0NcdTAzMDByXHUxRUNEXHUwMzAwIGFcdTFFNjNcdTAwRUNcdTFFNjNlOiBnYlx1MUVDRFx1MDMwMWRcdTFFQ0RcdTAzMDAgYlx1MDBFMSBcdTAwRTBwXHUxRUI5XHUxRUI5clx1MUVCOSBtdSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBBXHUxRTYzXHUwMEVDXHUxRTYzZTogJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5cdTFFQ0RcdTAzMDFtYlx1MDBFMCBhXHUxRTYzXHUwMEVDXHUxRTYzZTogZ2JcdTFFQ0RcdTAzMDFkXHUxRUNEXHUwMzAwIGpcdTFFQjlcdTAzMDEgXHUwMEU4eVx1MDBFMCBwXHUwMEVEcFx1MDBFRG4gdGkgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEJcdTFFQ0R0XHUwMEVDblx1MDBFQyBcdTAwRTBcdTAwRUNtXHUxRUNEXHUwMzAwOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEJcdTFFQ0R0XHUwMEVDblx1MDBFQyBhXHUxRTYzXHUwMEVDXHUxRTYzZSBuXHUwMEVEblx1MDBGQSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTAwQ0NiXHUwMEUxd1x1MUVDRGxcdTAwRTkgYVx1MUU2M1x1MDBFQ1x1MUU2M2VcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEl5ZSBhXHUxRTYzXHUwMEVDXHUxRTYzZSBuXHUwMEVEblx1MDBGQSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTAwQ0NiXHUwMEUxd1x1MUVDRGxcdTAwRTkgYVx1MUU2M1x1MDBFQ1x1MUU2M2VcIjtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpLFxuICAgIH07XG59XG4iLCAiZXhwb3J0IGNvbnN0ICRvdXRwdXQgPSBTeW1ib2woXCJab2RPdXRwdXRcIik7XG5leHBvcnQgY29uc3QgJGlucHV0ID0gU3ltYm9sKFwiWm9kSW5wdXRcIik7XG5leHBvcnQgY2xhc3MgJFpvZFJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5faWRtYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGFkZChzY2hlbWEsIC4uLl9tZXRhKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBfbWV0YVswXTtcbiAgICAgICAgdGhpcy5fbWFwLnNldChzY2hlbWEsIG1ldGEpO1xuICAgICAgICBpZiAobWV0YSAmJiB0eXBlb2YgbWV0YSA9PT0gXCJvYmplY3RcIiAmJiBcImlkXCIgaW4gbWV0YSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lkbWFwLmhhcyhtZXRhLmlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSUQgJHttZXRhLmlkfSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgcmVnaXN0cnlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2lkbWFwLnNldChtZXRhLmlkLCBzY2hlbWEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5faWRtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZW1vdmUoc2NoZW1hKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9tYXAuZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmIChtZXRhICYmIHR5cGVvZiBtZXRhID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBtZXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9pZG1hcC5kZWxldGUobWV0YS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwLmRlbGV0ZShzY2hlbWEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0KHNjaGVtYSkge1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5fbWFwLmdldChzY2hlbWEpIGFzIGFueTtcbiAgICAgICAgLy8gaW5oZXJpdCBtZXRhZGF0YVxuICAgICAgICBjb25zdCBwID0gc2NoZW1hLl96b2QucGFyZW50O1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgY29uc3QgcG0gPSB7IC4uLih0aGlzLmdldChwKSA/PyB7fSkgfTtcbiAgICAgICAgICAgIGRlbGV0ZSBwbS5pZDsgLy8gZG8gbm90IGluaGVyaXQgaWRcbiAgICAgICAgICAgIGNvbnN0IGYgPSB7IC4uLnBtLCAuLi50aGlzLl9tYXAuZ2V0KHNjaGVtYSkgfTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhmKS5sZW5ndGggPyBmIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZ2V0KHNjaGVtYSk7XG4gICAgfVxuICAgIGhhcyhzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5oYXMoc2NoZW1hKTtcbiAgICB9XG59XG4vLyByZWdpc3RyaWVzXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0cnkoKSB7XG4gICAgcmV0dXJuIG5ldyAkWm9kUmVnaXN0cnkoKTtcbn1cbmV4cG9ydCBjb25zdCBnbG9iYWxSZWdpc3RyeSA9IC8qQF9fUFVSRV9fKi8gcmVnaXN0cnkoKTtcbiIsICJpbXBvcnQgKiBhcyBjaGVja3MgZnJvbSBcIi4vY2hlY2tzLmpzXCI7XG5pbXBvcnQgKiBhcyBzY2hlbWFzIGZyb20gXCIuL3NjaGVtYXMuanNcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIF9zdHJpbmcoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jb2VyY2VkU3RyaW5nKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9lbWFpbChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJlbWFpbFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZ3VpZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJndWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91dWlkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInV1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3V1aWR2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJ1dWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICB2ZXJzaW9uOiBcInY0XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3V1aWR2NihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJ1dWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICB2ZXJzaW9uOiBcInY2XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3V1aWR2NyhDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJ1dWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICB2ZXJzaW9uOiBcInY3XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3VybChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJ1cmxcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2Vtb2ppKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImVtb2ppXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9uYW5vaWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwibmFub2lkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jdWlkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImN1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2N1aWQyKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImN1aWQyXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91bGlkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInVsaWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3hpZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJ4aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2tzdWlkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImtzdWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pcHY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImlwdjRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2lwdjYoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiaXB2NlwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY2lkcnY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImNpZHJ2NFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY2lkcnY2KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImNpZHJ2NlwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfYmFzZTY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImJhc2U2NFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfYmFzZTY0dXJsKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImJhc2U2NHVybFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZTE2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJlMTY0XCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9qd3QoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiand0XCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFRpbWVQcmVjaXNpb24gPSB7XG4gICAgQW55OiBudWxsLFxuICAgIE1pbnV0ZTogLTEsXG4gICAgU2Vjb25kOiAwLFxuICAgIE1pbGxpc2Vjb25kOiAzLFxuICAgIE1pY3Jvc2Vjb25kOiA2LFxufTtcbmV4cG9ydCBmdW5jdGlvbiBfaXNvRGF0ZVRpbWUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBvZmZzZXQ6IGZhbHNlLFxuICAgICAgICBsb2NhbDogZmFsc2UsXG4gICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaXNvRGF0ZShDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJkYXRlXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaXNvVGltZShDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJ0aW1lXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pc29EdXJhdGlvbihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJkdXJhdGlvblwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX251bWJlcihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NvZXJjZWROdW1iZXIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2ludChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNoZWNrOiBcIm51bWJlcl9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwic2FmZWludFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9mbG9hdDMyKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgY2hlY2s6IFwibnVtYmVyX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogXCJmbG9hdDMyXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2Zsb2F0NjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVjazogXCJudW1iZXJfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcImZsb2F0NjRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaW50MzIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVjazogXCJudW1iZXJfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcImludDMyXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3VpbnQzMihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNoZWNrOiBcIm51bWJlcl9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwidWludDMyXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2Jvb2xlYW4oQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlZEJvb2xlYW4oQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9iaWdpbnQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jb2VyY2VkQmlnaW50KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pbnQ2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgIGNoZWNrOiBcImJpZ2ludF9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwiaW50NjRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdWludDY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgY2hlY2s6IFwiYmlnaW50X2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogXCJ1aW50NjRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc3ltYm9sKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzeW1ib2xcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdW5kZWZpbmVkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ1bmRlZmluZWRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbnVsbChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVsbFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9hbnkoQ2xhc3MpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJhbnlcIixcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdW5rbm93bihDbGFzcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInVua25vd25cIixcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbmV2ZXIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm5ldmVyXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3ZvaWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInZvaWRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZGF0ZShDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jb2VyY2VkRGF0ZShDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX25hbihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibmFuXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2x0KHZhbHVlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tMZXNzVGhhbih7XG4gICAgICAgIGNoZWNrOiBcImxlc3NfdGhhblwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbHRlKHZhbHVlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tMZXNzVGhhbih7XG4gICAgICAgIGNoZWNrOiBcImxlc3NfdGhhblwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgIH0pO1xufVxuZXhwb3J0IHsgXG4vKiogQGRlcHJlY2F0ZWQgVXNlIGB6Lmx0ZSgpYCBpbnN0ZWFkLiAqL1xuX2x0ZSBhcyBfbWF4LCB9O1xuZXhwb3J0IGZ1bmN0aW9uIF9ndCh2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrR3JlYXRlclRoYW4oe1xuICAgICAgICBjaGVjazogXCJncmVhdGVyX3RoYW5cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2d0ZSh2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrR3JlYXRlclRoYW4oe1xuICAgICAgICBjaGVjazogXCJncmVhdGVyX3RoYW5cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICB9KTtcbn1cbmV4cG9ydCB7IFxuLyoqIEBkZXByZWNhdGVkIFVzZSBgei5ndGUoKWAgaW5zdGVhZC4gKi9cbl9ndGUgYXMgX21pbiwgfTtcbmV4cG9ydCBmdW5jdGlvbiBfcG9zaXRpdmUocGFyYW1zKSB7XG4gICAgcmV0dXJuIF9ndCgwLCBwYXJhbXMpO1xufVxuLy8gbmVnYXRpdmVcbmV4cG9ydCBmdW5jdGlvbiBfbmVnYXRpdmUocGFyYW1zKSB7XG4gICAgcmV0dXJuIF9sdCgwLCBwYXJhbXMpO1xufVxuLy8gbm9ucG9zaXRpdmVcbmV4cG9ydCBmdW5jdGlvbiBfbm9ucG9zaXRpdmUocGFyYW1zKSB7XG4gICAgcmV0dXJuIF9sdGUoMCwgcGFyYW1zKTtcbn1cbi8vIG5vbm5lZ2F0aXZlXG5leHBvcnQgZnVuY3Rpb24gX25vbm5lZ2F0aXZlKHBhcmFtcykge1xuICAgIHJldHVybiBfZ3RlKDAsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gX211bHRpcGxlT2YodmFsdWUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja011bHRpcGxlT2Yoe1xuICAgICAgICBjaGVjazogXCJtdWx0aXBsZV9vZlwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB2YWx1ZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbWF4U2l6ZShtYXhpbXVtLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tNYXhTaXplKHtcbiAgICAgICAgY2hlY2s6IFwibWF4X3NpemVcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgbWF4aW11bSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbWluU2l6ZShtaW5pbXVtLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tNaW5TaXplKHtcbiAgICAgICAgY2hlY2s6IFwibWluX3NpemVcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgbWluaW11bSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc2l6ZShzaXplLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tTaXplRXF1YWxzKHtcbiAgICAgICAgY2hlY2s6IFwic2l6ZV9lcXVhbHNcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgc2l6ZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbWF4TGVuZ3RoKG1heGltdW0sIHBhcmFtcykge1xuICAgIGNvbnN0IGNoID0gbmV3IGNoZWNrcy4kWm9kQ2hlY2tNYXhMZW5ndGgoe1xuICAgICAgICBjaGVjazogXCJtYXhfbGVuZ3RoXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIG1heGltdW0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9taW5MZW5ndGgobWluaW11bSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTWluTGVuZ3RoKHtcbiAgICAgICAgY2hlY2s6IFwibWluX2xlbmd0aFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBtaW5pbXVtLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9sZW5ndGgobGVuZ3RoLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tMZW5ndGhFcXVhbHMoe1xuICAgICAgICBjaGVjazogXCJsZW5ndGhfZXF1YWxzXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIGxlbmd0aCxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfcmVnZXgocGF0dGVybiwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrUmVnZXgoe1xuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGZvcm1hdDogXCJyZWdleFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBwYXR0ZXJuLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9sb3dlcmNhc2UocGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTG93ZXJDYXNlKHtcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBmb3JtYXQ6IFwibG93ZXJjYXNlXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3VwcGVyY2FzZShwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tVcHBlckNhc2Uoe1xuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGZvcm1hdDogXCJ1cHBlcmNhc2VcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaW5jbHVkZXMoaW5jbHVkZXMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0luY2x1ZGVzKHtcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBmb3JtYXQ6IFwiaW5jbHVkZXNcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgaW5jbHVkZXMsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3N0YXJ0c1dpdGgocHJlZml4LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tTdGFydHNXaXRoKHtcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBmb3JtYXQ6IFwic3RhcnRzX3dpdGhcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgcHJlZml4LFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9lbmRzV2l0aChzdWZmaXgsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0VuZHNXaXRoKHtcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBmb3JtYXQ6IFwiZW5kc193aXRoXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHN1ZmZpeCxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfcHJvcGVydHkocHJvcGVydHksIHNjaGVtYSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrUHJvcGVydHkoe1xuICAgICAgICBjaGVjazogXCJwcm9wZXJ0eVwiLFxuICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9taW1lKHR5cGVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tNaW1lVHlwZSh7XG4gICAgICAgIGNoZWNrOiBcIm1pbWVfdHlwZVwiLFxuICAgICAgICBtaW1lOiB0eXBlcyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfb3ZlcndyaXRlKHR4KSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrT3ZlcndyaXRlKHtcbiAgICAgICAgY2hlY2s6IFwib3ZlcndyaXRlXCIsXG4gICAgICAgIHR4LFxuICAgIH0pO1xufVxuLy8gbm9ybWFsaXplXG5leHBvcnQgZnVuY3Rpb24gX25vcm1hbGl6ZShmb3JtKSB7XG4gICAgcmV0dXJuIF9vdmVyd3JpdGUoKGlucHV0KSA9PiBpbnB1dC5ub3JtYWxpemUoZm9ybSkpO1xufVxuLy8gdHJpbVxuZXhwb3J0IGZ1bmN0aW9uIF90cmltKCkge1xuICAgIHJldHVybiBfb3ZlcndyaXRlKChpbnB1dCkgPT4gaW5wdXQudHJpbSgpKTtcbn1cbi8vIHRvTG93ZXJDYXNlXG5leHBvcnQgZnVuY3Rpb24gX3RvTG93ZXJDYXNlKCkge1xuICAgIHJldHVybiBfb3ZlcndyaXRlKChpbnB1dCkgPT4gaW5wdXQudG9Mb3dlckNhc2UoKSk7XG59XG4vLyB0b1VwcGVyQ2FzZVxuZXhwb3J0IGZ1bmN0aW9uIF90b1VwcGVyQ2FzZSgpIHtcbiAgICByZXR1cm4gX292ZXJ3cml0ZSgoaW5wdXQpID0+IGlucHV0LnRvVXBwZXJDYXNlKCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9hcnJheShDbGFzcywgZWxlbWVudCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgLy8gZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIC8vICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIC8vIH0sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3VuaW9uKENsYXNzLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ1bmlvblwiLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9kaXNjcmltaW5hdGVkVW5pb24oQ2xhc3MsIGRpc2NyaW1pbmF0b3IsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2ludGVyc2VjdGlvbihDbGFzcywgbGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJpbnRlcnNlY3Rpb25cIixcbiAgICAgICAgbGVmdCxcbiAgICAgICAgcmlnaHQsXG4gICAgfSk7XG59XG4vLyBleHBvcnQgZnVuY3Rpb24gX3R1cGxlKFxuLy8gICBDbGFzczogdXRpbC5TY2hlbWFDbGFzczxzY2hlbWFzLiRab2RUdXBsZT4sXG4vLyAgIGl0ZW1zOiBbXSxcbi8vICAgcGFyYW1zPzogc3RyaW5nIHwgJFpvZFR1cGxlUGFyYW1zXG4vLyApOiBzY2hlbWFzLiRab2RUdXBsZTxbXSwgbnVsbD47XG5leHBvcnQgZnVuY3Rpb24gX3R1cGxlKENsYXNzLCBpdGVtcywgX3BhcmFtc09yUmVzdCwgX3BhcmFtcykge1xuICAgIGNvbnN0IGhhc1Jlc3QgPSBfcGFyYW1zT3JSZXN0IGluc3RhbmNlb2Ygc2NoZW1hcy4kWm9kVHlwZTtcbiAgICBjb25zdCBwYXJhbXMgPSBoYXNSZXN0ID8gX3BhcmFtcyA6IF9wYXJhbXNPclJlc3Q7XG4gICAgY29uc3QgcmVzdCA9IGhhc1Jlc3QgPyBfcGFyYW1zT3JSZXN0IDogbnVsbDtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ0dXBsZVwiLFxuICAgICAgICBpdGVtcyxcbiAgICAgICAgcmVzdCxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfcmVjb3JkKENsYXNzLCBrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgICAgICBrZXlUeXBlLFxuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX21hcChDbGFzcywga2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJtYXBcIixcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9zZXQoQ2xhc3MsIHZhbHVlVHlwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZW51bShDbGFzcywgdmFsdWVzLCBwYXJhbXMpIHtcbiAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuaXNBcnJheSh2YWx1ZXMpID8gT2JqZWN0LmZyb21FbnRyaWVzKHZhbHVlcy5tYXAoKHYpID0+IFt2LCB2XSkpIDogdmFsdWVzO1xuICAgIC8vIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICAvLyAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgLy8gICAgIGVudHJpZXNbdmFsdWVdID0gdmFsdWU7XG4gICAgLy8gICB9XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgIE9iamVjdC5hc3NpZ24oZW50cmllcywgdmFsdWVzKTtcbiAgICAvLyB9XG4gICAgLy8gY29uc3QgZW50cmllczogdXRpbC5FbnVtTGlrZSA9IHt9O1xuICAgIC8vIGZvciAoY29uc3QgdmFsIG9mIHZhbHVlcykge1xuICAgIC8vICAgZW50cmllc1t2YWxdID0gdmFsO1xuICAgIC8vIH1cbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJlbnVtXCIsXG4gICAgICAgIGVudHJpZXMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vKiogQGRlcHJlY2F0ZWQgVGhpcyBBUEkgaGFzIGJlZW4gbWVyZ2VkIGludG8gYHouZW51bSgpYC4gVXNlIGB6LmVudW0oKWAgaW5zdGVhZC5cbiAqXG4gKiBgYGB0c1xuICogZW51bSBDb2xvcnMgeyByZWQsIGdyZWVuLCBibHVlIH1cbiAqIHouZW51bShDb2xvcnMpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfbmF0aXZlRW51bShDbGFzcywgZW50cmllcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiZW51bVwiLFxuICAgICAgICBlbnRyaWVzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9saXRlcmFsKENsYXNzLCB2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibGl0ZXJhbFwiLFxuICAgICAgICB2YWx1ZXM6IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9maWxlKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJmaWxlXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3RyYW5zZm9ybShDbGFzcywgZm4pIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgdHJhbnNmb3JtOiBmbixcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfb3B0aW9uYWwoQ2xhc3MsIGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm9wdGlvbmFsXCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbnVsbGFibGUoQ2xhc3MsIGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bGxhYmxlXCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZGVmYXVsdChDbGFzcywgaW5uZXJUeXBlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJkZWZhdWx0XCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICAgICAgZ2V0IGRlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZGVmYXVsdFZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyBkZWZhdWx0VmFsdWUoKSA6IHV0aWwuc2hhbGxvd0Nsb25lKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX25vbm9wdGlvbmFsKENsYXNzLCBpbm5lclR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm5vbm9wdGlvbmFsXCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc3VjY2VzcyhDbGFzcywgaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NhdGNoKENsYXNzLCBpbm5lclR5cGUsIGNhdGNoVmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJjYXRjaFwiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgICAgIGNhdGNoVmFsdWU6ICh0eXBlb2YgY2F0Y2hWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gY2F0Y2hWYWx1ZSA6ICgpID0+IGNhdGNoVmFsdWUpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9waXBlKENsYXNzLCBpbl8sIG91dCkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInBpcGVcIixcbiAgICAgICAgaW46IGluXyxcbiAgICAgICAgb3V0LFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9yZWFkb25seShDbGFzcywgaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwicmVhZG9ubHlcIixcbiAgICAgICAgaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF90ZW1wbGF0ZUxpdGVyYWwoQ2xhc3MsIHBhcnRzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ0ZW1wbGF0ZV9saXRlcmFsXCIsXG4gICAgICAgIHBhcnRzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9sYXp5KENsYXNzLCBnZXR0ZXIpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJsYXp5XCIsXG4gICAgICAgIGdldHRlcixcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfcHJvbWlzZShDbGFzcywgaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwicHJvbWlzZVwiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2N1c3RvbShDbGFzcywgZm4sIF9wYXJhbXMpIHtcbiAgICBjb25zdCBub3JtID0gdXRpbC5ub3JtYWxpemVQYXJhbXMoX3BhcmFtcyk7XG4gICAgbm9ybS5hYm9ydCA/PyAobm9ybS5hYm9ydCA9IHRydWUpOyAvLyBkZWZhdWx0IHRvIGFib3J0OmZhbHNlXG4gICAgY29uc3Qgc2NoZW1hID0gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJjdXN0b21cIixcbiAgICAgICAgY2hlY2s6IFwiY3VzdG9tXCIsXG4gICAgICAgIGZuOiBmbixcbiAgICAgICAgLi4ubm9ybSxcbiAgICB9KTtcbiAgICByZXR1cm4gc2NoZW1hO1xufVxuLy8gc2FtZSBhcyBfY3VzdG9tIGJ1dCBkZWZhdWx0cyB0byBhYm9ydDpmYWxzZVxuZXhwb3J0IGZ1bmN0aW9uIF9yZWZpbmUoQ2xhc3MsIGZuLCBfcGFyYW1zKSB7XG4gICAgY29uc3Qgc2NoZW1hID0gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJjdXN0b21cIixcbiAgICAgICAgY2hlY2s6IFwiY3VzdG9tXCIsXG4gICAgICAgIGZuOiBmbixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMoX3BhcmFtcyksXG4gICAgfSk7XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc3VwZXJSZWZpbmUoZm4pIHtcbiAgICBjb25zdCBjaCA9IF9jaGVjaygocGF5bG9hZCkgPT4ge1xuICAgICAgICBwYXlsb2FkLmFkZElzc3VlID0gKGlzc3VlKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh1dGlsLmlzc3VlKGlzc3VlLCBwYXlsb2FkLnZhbHVlLCBjaC5fem9kLmRlZikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIFpvZCAzIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mYXRhbClcbiAgICAgICAgICAgICAgICAgICAgX2lzc3VlLmNvbnRpbnVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX2lzc3VlLmNvZGUgPz8gKF9pc3N1ZS5jb2RlID0gXCJjdXN0b21cIik7XG4gICAgICAgICAgICAgICAgX2lzc3VlLmlucHV0ID8/IChfaXNzdWUuaW5wdXQgPSBwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuaW5zdCA/PyAoX2lzc3VlLmluc3QgPSBjaCk7XG4gICAgICAgICAgICAgICAgX2lzc3VlLmNvbnRpbnVlID8/IChfaXNzdWUuY29udGludWUgPSAhY2guX3pvZC5kZWYuYWJvcnQpOyAvLyBhYm9ydCBpcyBhbHdheXMgdW5kZWZpbmVkLCBzbyB0aGlzIGlzIGFsd2F5cyB0cnVlLi4uXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh1dGlsLmlzc3VlKF9pc3N1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZm4ocGF5bG9hZC52YWx1ZSwgcGF5bG9hZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jaGVjayhmbiwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2ggPSBuZXcgY2hlY2tzLiRab2RDaGVjayh7XG4gICAgICAgIGNoZWNrOiBcImN1c3RvbVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xuICAgIGNoLl96b2QuY2hlY2sgPSBmbjtcbiAgICByZXR1cm4gY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gX3N0cmluZ2Jvb2woQ2xhc3NlcywgX3BhcmFtcykge1xuICAgIGNvbnN0IHBhcmFtcyA9IHV0aWwubm9ybWFsaXplUGFyYW1zKF9wYXJhbXMpO1xuICAgIGxldCB0cnV0aHlBcnJheSA9IHBhcmFtcy50cnV0aHkgPz8gW1widHJ1ZVwiLCBcIjFcIiwgXCJ5ZXNcIiwgXCJvblwiLCBcInlcIiwgXCJlbmFibGVkXCJdO1xuICAgIGxldCBmYWxzeUFycmF5ID0gcGFyYW1zLmZhbHN5ID8/IFtcImZhbHNlXCIsIFwiMFwiLCBcIm5vXCIsIFwib2ZmXCIsIFwiblwiLCBcImRpc2FibGVkXCJdO1xuICAgIGlmIChwYXJhbXMuY2FzZSAhPT0gXCJzZW5zaXRpdmVcIikge1xuICAgICAgICB0cnV0aHlBcnJheSA9IHRydXRoeUFycmF5Lm1hcCgodikgPT4gKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiID8gdi50b0xvd2VyQ2FzZSgpIDogdikpO1xuICAgICAgICBmYWxzeUFycmF5ID0gZmFsc3lBcnJheS5tYXAoKHYpID0+ICh0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiA/IHYudG9Mb3dlckNhc2UoKSA6IHYpKTtcbiAgICB9XG4gICAgY29uc3QgdHJ1dGh5U2V0ID0gbmV3IFNldCh0cnV0aHlBcnJheSk7XG4gICAgY29uc3QgZmFsc3lTZXQgPSBuZXcgU2V0KGZhbHN5QXJyYXkpO1xuICAgIGNvbnN0IF9Db2RlYyA9IENsYXNzZXMuQ29kZWMgPz8gc2NoZW1hcy4kWm9kQ29kZWM7XG4gICAgY29uc3QgX0Jvb2xlYW4gPSBDbGFzc2VzLkJvb2xlYW4gPz8gc2NoZW1hcy4kWm9kQm9vbGVhbjtcbiAgICBjb25zdCBfU3RyaW5nID0gQ2xhc3Nlcy5TdHJpbmcgPz8gc2NoZW1hcy4kWm9kU3RyaW5nO1xuICAgIGNvbnN0IHN0cmluZ1NjaGVtYSA9IG5ldyBfU3RyaW5nKHsgdHlwZTogXCJzdHJpbmdcIiwgZXJyb3I6IHBhcmFtcy5lcnJvciB9KTtcbiAgICBjb25zdCBib29sZWFuU2NoZW1hID0gbmV3IF9Cb29sZWFuKHsgdHlwZTogXCJib29sZWFuXCIsIGVycm9yOiBwYXJhbXMuZXJyb3IgfSk7XG4gICAgY29uc3QgY29kZWMgPSBuZXcgX0NvZGVjKHtcbiAgICAgICAgdHlwZTogXCJwaXBlXCIsXG4gICAgICAgIGluOiBzdHJpbmdTY2hlbWEsXG4gICAgICAgIG91dDogYm9vbGVhblNjaGVtYSxcbiAgICAgICAgdHJhbnNmb3JtOiAoKGlucHV0LCBwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IGlucHV0O1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5jYXNlICE9PSBcInNlbnNpdGl2ZVwiKVxuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAodHJ1dGh5U2V0LmhhcyhkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZmFsc3lTZXQuaGFzKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF92YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJzdHJpbmdib29sXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogWy4uLnRydXRoeVNldCwgLi4uZmFsc3lTZXRdLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5zdDogY29kZWMsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICByZXZlcnNlVHJhbnNmb3JtOiAoKGlucHV0LCBfcGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlucHV0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydXRoeUFycmF5WzBdIHx8IFwidHJ1ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHN5QXJyYXlbMF0gfHwgXCJmYWxzZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgZXJyb3I6IHBhcmFtcy5lcnJvcixcbiAgICB9KTtcbiAgICByZXR1cm4gY29kZWM7XG59XG5leHBvcnQgZnVuY3Rpb24gX3N0cmluZ0Zvcm1hdChDbGFzcywgZm9ybWF0LCBmbk9yUmVnZXgsIF9wYXJhbXMgPSB7fSkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHV0aWwubm9ybWFsaXplUGFyYW1zKF9wYXJhbXMpO1xuICAgIGNvbnN0IGRlZiA9IHtcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMoX3BhcmFtcyksXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0LFxuICAgICAgICBmbjogdHlwZW9mIGZuT3JSZWdleCA9PT0gXCJmdW5jdGlvblwiID8gZm5PclJlZ2V4IDogKHZhbCkgPT4gZm5PclJlZ2V4LnRlc3QodmFsKSxcbiAgICAgICAgLi4ucGFyYW1zLFxuICAgIH07XG4gICAgaWYgKGZuT3JSZWdleCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICBkZWYucGF0dGVybiA9IGZuT3JSZWdleDtcbiAgICB9XG4gICAgY29uc3QgaW5zdCA9IG5ldyBDbGFzcyhkZWYpO1xuICAgIHJldHVybiBpbnN0O1xufVxuIiwgImltcG9ydCB7ICRab2RSZWdpc3RyeSwgZ2xvYmFsUmVnaXN0cnkgfSBmcm9tIFwiLi9yZWdpc3RyaWVzLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnVtVmFsdWVzIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IGNsYXNzIEpTT05TY2hlbWFHZW5lcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICB0aGlzLmNvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLm1ldGFkYXRhUmVnaXN0cnkgPSBwYXJhbXM/Lm1ldGFkYXRhID8/IGdsb2JhbFJlZ2lzdHJ5O1xuICAgICAgICB0aGlzLnRhcmdldCA9IHBhcmFtcz8udGFyZ2V0ID8/IFwiZHJhZnQtMjAyMC0xMlwiO1xuICAgICAgICB0aGlzLnVucmVwcmVzZW50YWJsZSA9IHBhcmFtcz8udW5yZXByZXNlbnRhYmxlID8/IFwidGhyb3dcIjtcbiAgICAgICAgdGhpcy5vdmVycmlkZSA9IHBhcmFtcz8ub3ZlcnJpZGUgPz8gKCgpID0+IHsgfSk7XG4gICAgICAgIHRoaXMuaW8gPSBwYXJhbXM/LmlvID8/IFwib3V0cHV0XCI7XG4gICAgICAgIHRoaXMuc2VlbiA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgcHJvY2VzcyhzY2hlbWEsIF9wYXJhbXMgPSB7IHBhdGg6IFtdLCBzY2hlbWFQYXRoOiBbXSB9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgICAgICBjb25zdCBmb3JtYXRNYXAgPSB7XG4gICAgICAgICAgICBndWlkOiBcInV1aWRcIixcbiAgICAgICAgICAgIHVybDogXCJ1cmlcIixcbiAgICAgICAgICAgIGRhdGV0aW1lOiBcImRhdGUtdGltZVwiLFxuICAgICAgICAgICAganNvbl9zdHJpbmc6IFwianNvbi1zdHJpbmdcIixcbiAgICAgICAgICAgIHJlZ2V4OiBcIlwiLCAvLyBkbyBub3Qgc2V0XG4gICAgICAgIH07XG4gICAgICAgIC8vIGNoZWNrIGZvciBzY2hlbWEgaW4gc2VlbnNcbiAgICAgICAgY29uc3Qgc2VlbiA9IHRoaXMuc2Vlbi5nZXQoc2NoZW1hKTtcbiAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICAgIHNlZW4uY291bnQrKztcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIGN5Y2xlXG4gICAgICAgICAgICBjb25zdCBpc0N5Y2xlID0gX3BhcmFtcy5zY2hlbWFQYXRoLmluY2x1ZGVzKHNjaGVtYSk7XG4gICAgICAgICAgICBpZiAoaXNDeWNsZSkge1xuICAgICAgICAgICAgICAgIHNlZW4uY3ljbGUgPSBfcGFyYW1zLnBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2Vlbi5zY2hlbWE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5pdGlhbGl6ZVxuICAgICAgICBjb25zdCByZXN1bHQgPSB7IHNjaGVtYToge30sIGNvdW50OiAxLCBjeWNsZTogdW5kZWZpbmVkLCBwYXRoOiBfcGFyYW1zLnBhdGggfTtcbiAgICAgICAgdGhpcy5zZWVuLnNldChzY2hlbWEsIHJlc3VsdCk7XG4gICAgICAgIC8vIGN1c3RvbSBtZXRob2Qgb3ZlcnJpZGVzIGRlZmF1bHQgYmVoYXZpb3JcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVTY2hlbWEgPSBzY2hlbWEuX3pvZC50b0pTT05TY2hlbWE/LigpO1xuICAgICAgICBpZiAob3ZlcnJpZGVTY2hlbWEpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zY2hlbWEgPSBvdmVycmlkZVNjaGVtYTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5fcGFyYW1zLFxuICAgICAgICAgICAgICAgIHNjaGVtYVBhdGg6IFsuLi5fcGFyYW1zLnNjaGVtYVBhdGgsIHNjaGVtYV0sXG4gICAgICAgICAgICAgICAgcGF0aDogX3BhcmFtcy5wYXRoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHNjaGVtYS5fem9kLnBhcmVudDtcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBzY2hlbWEgd2FzIGNsb25lZCBmcm9tIGFub3RoZXIgc2NoZW1hXG4gICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MocGFyZW50LCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vlbi5nZXQocGFyZW50KS5pc1BhcmVudCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfanNvbiA9IHJlc3VsdC5zY2hlbWE7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChkZWYudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0sIGZvcm1hdCwgcGF0dGVybnMsIGNvbnRlbnRFbmNvZGluZyB9ID0gc2NoZW1hLl96b2RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYmFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtaW5pbXVtID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWluTGVuZ3RoID0gbWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1heExlbmd0aCA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXN0b20gcGF0dGVybiBvdmVycmlkZXMgZm9ybWF0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5mb3JtYXQgPSBmb3JtYXRNYXBbZm9ybWF0XSA/PyBmb3JtYXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24uZm9ybWF0ID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5mb3JtYXQ7IC8vIGVtcHR5IGZvcm1hdCBpcyBub3QgdmFsaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50RW5jb2RpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5jb250ZW50RW5jb2RpbmcgPSBjb250ZW50RW5jb2Rpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybnMgJiYgcGF0dGVybnMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdleGVzID0gWy4uLnBhdHRlcm5zXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVnZXhlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucGF0dGVybiA9IHJlZ2V4ZXNbMF0uc291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlZ2V4ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2NoZW1hLmFsbE9mID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucmVnZXhlcy5tYXAoKHJlZ2V4KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLih0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC03XCIgfHwgdGhpcy50YXJnZXQgPT09IFwiZHJhZnQtNFwiIHx8IHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiByZWdleC5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0sIGZvcm1hdCwgbXVsdGlwbGVPZiwgZXhjbHVzaXZlTWF4aW11bSwgZXhjbHVzaXZlTWluaW11bSB9ID0gc2NoZW1hLl96b2QuYmFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09IFwic3RyaW5nXCIgJiYgZm9ybWF0LmluY2x1ZGVzKFwiaW50XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwiaW50ZWdlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV4Y2x1c2l2ZU1pbmltdW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtNFwiIHx8IHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5taW5pbXVtID0gZXhjbHVzaXZlTWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5leGNsdXNpdmVNaW5pbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZXhjbHVzaXZlTWluaW11bSA9IGV4Y2x1c2l2ZU1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtaW5pbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5taW5pbXVtID0gbWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV4Y2x1c2l2ZU1pbmltdW0gPT09IFwibnVtYmVyXCIgJiYgdGhpcy50YXJnZXQgIT09IFwiZHJhZnQtNFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGNsdXNpdmVNaW5pbXVtID49IG1pbmltdW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5taW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5leGNsdXNpdmVNaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhjbHVzaXZlTWF4aW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC00XCIgfHwgdGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1heGltdW0gPSBleGNsdXNpdmVNYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmV4Y2x1c2l2ZU1heGltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5leGNsdXNpdmVNYXhpbXVtID0gZXhjbHVzaXZlTWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1heGltdW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1heGltdW0gPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhjbHVzaXZlTWF4aW11bSA9PT0gXCJudW1iZXJcIiAmJiB0aGlzLnRhcmdldCAhPT0gXCJkcmFmdC00XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2x1c2l2ZU1heGltdW0gPD0gbWF4aW11bSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBqc29uLm1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBqc29uLmV4Y2x1c2l2ZU1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtdWx0aXBsZU9mID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubXVsdGlwbGVPZiA9IG11bHRpcGxlT2Y7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcImJvb2xlYW5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiaWdpbnRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCaWdJbnQgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bWJvbHMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm51bGxcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5udWxsYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24uZW51bSA9IFtudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanNvbi50eXBlID0gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW55XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmtub3duXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmRlZmluZWQgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInZvaWRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWb2lkIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJuZXZlclwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5ub3QgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF0ZSBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyYXlcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtIH0gPSBzY2hlbWEuX3pvZC5iYWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pbmltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5taW5JdGVtcyA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1heGltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXhJdGVtcyA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLml0ZW1zID0gdGhpcy5wcm9jZXNzKGRlZi5lbGVtZW50LCB7IC4uLnBhcmFtcywgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcIml0ZW1zXCJdIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcIm9iamVjdFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi5wcm9wZXJ0aWVzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGFwZSA9IGRlZi5zaGFwZTsgLy8gcGFyYW1zLnNoYXBlQ2FjaGUuZ2V0KHNjaGVtYSkhO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnByb3BlcnRpZXNba2V5XSA9IHRoaXMucHJvY2VzcyhzaGFwZVtrZXldLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcInByb3BlcnRpZXNcIiwga2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkIGtleXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbEtleXMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKHNoYXBlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBvcHRpb25hbEtleXMgPSBuZXcgU2V0KGRlZi5vcHRpb25hbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1aXJlZEtleXMgPSBuZXcgU2V0KFsuLi5hbGxLZXlzXS5maWx0ZXIoKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBkZWYuc2hhcGVba2V5XS5fem9kO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlvID09PSBcImlucHV0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYub3B0aW4gPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2Lm9wdG91dCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlZEtleXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnJlcXVpcmVkID0gQXJyYXkuZnJvbShyZXF1aXJlZEtleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2F0Y2hhbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWYuY2F0Y2hhbGw/Ll96b2QuZGVmLnR5cGUgPT09IFwibmV2ZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0cmljdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFkZWYuY2F0Y2hhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWd1bGFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW8gPT09IFwib3V0cHV0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlZi5jYXRjaGFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMgPSB0aGlzLnByb2Nlc3MoZGVmLmNhdGNoYWxsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuaW9uXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBkZWYub3B0aW9ucy5tYXAoKHgsIGkpID0+IHRoaXMucHJvY2Vzcyh4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJhbnlPZlwiLCBpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uYW55T2YgPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImludGVyc2VjdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhID0gdGhpcy5wcm9jZXNzKGRlZi5sZWZ0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJhbGxPZlwiLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IHRoaXMucHJvY2VzcyhkZWYucmlnaHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcImFsbE9mXCIsIDFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NpbXBsZUludGVyc2VjdGlvbiA9ICh2YWwpID0+IFwiYWxsT2ZcIiBpbiB2YWwgJiYgT2JqZWN0LmtleXModmFsKS5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxPZiA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oaXNTaW1wbGVJbnRlcnNlY3Rpb24oYSkgPyBhLmFsbE9mIDogW2FdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oaXNTaW1wbGVJbnRlcnNlY3Rpb24oYikgPyBiLmFsbE9mIDogW2JdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFsbE9mID0gYWxsT2Y7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHVwbGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlZml4UGF0aCA9IHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwicHJlZml4SXRlbXNcIiA6IFwiaXRlbXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3RQYXRoID0gdGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiID8gXCJpdGVtc1wiIDogdGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIiA/IFwiaXRlbXNcIiA6IFwiYWRkaXRpb25hbEl0ZW1zXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVmaXhJdGVtcyA9IGRlZi5pdGVtcy5tYXAoKHgsIGkpID0+IHRoaXMucHJvY2Vzcyh4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgcHJlZml4UGF0aCwgaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN0ID0gZGVmLnJlc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMucHJvY2VzcyhkZWYucmVzdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgcmVzdFBhdGgsIC4uLih0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiID8gW2RlZi5pdGVtcy5sZW5ndGhdIDogW10pXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnByZWZpeEl0ZW1zID0gcHJlZml4SXRlbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5pdGVtcyA9IHJlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFueU9mOiBwcmVmaXhJdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMuYW55T2YucHVzaChyZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5taW5JdGVtcyA9IHByZWZpeEl0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXhJdGVtcyA9IHByZWZpeEl0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLml0ZW1zID0gcHJlZml4SXRlbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsSXRlbXMgPSByZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtIH0gPSBzY2hlbWEuX3pvZC5iYWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pbmltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5taW5JdGVtcyA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1heGltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXhJdGVtcyA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVjb3JkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwib2JqZWN0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtN1wiIHx8IHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucHJvcGVydHlOYW1lcyA9IHRoaXMucHJvY2VzcyhkZWYua2V5VHlwZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJwcm9wZXJ0eU5hbWVzXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsUHJvcGVydGllcyA9IHRoaXMucHJvY2VzcyhkZWYudmFsdWVUeXBlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1hcFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1hcCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2V0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2V0IGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGdldEVudW1WYWx1ZXMoZGVmLmVudHJpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTnVtYmVyIGVudW1zIGNhbiBoYXZlIGJvdGggc3RyaW5nIGFuZCBudW1iZXIgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmV2ZXJ5KCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMuZXZlcnkoKHYpID0+IHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi5lbnVtID0gdmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImxpdGVyYWxcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFscyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGl0ZXJhbCBgdW5kZWZpbmVkYCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgYWRkIHRvIHZhbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsID09PSBcImJpZ2ludFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCaWdJbnQgbGl0ZXJhbHMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFscy5wdXNoKE51bWJlcih2YWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFscy5wdXNoKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZyAoYW4gdW5kZWZpbmVkIGxpdGVyYWwgd2FzIHN0cmlwcGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFscy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSB2YWxzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IHZhbCA9PT0gbnVsbCA/IFwibnVsbFwiIDogdHlwZW9mIHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtNFwiIHx8IHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5lbnVtID0gW3ZhbF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmNvbnN0ID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmV2ZXJ5KCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHMuZXZlcnkoKHYpID0+IHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5ldmVyeSgodikgPT4gdHlwZW9mIHYgPT09IFwiYm9vbGVhblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5ldmVyeSgodikgPT4gdiA9PT0gbnVsbCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZW51bSA9IHZhbHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZmlsZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBcImJpbmFyeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRFbmNvZGluZzogXCJiaW5hcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0sIG1pbWUgfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW5pbXVtICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5taW5MZW5ndGggPSBtaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heGltdW0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLm1heExlbmd0aCA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW1lLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLmNvbnRlbnRNZWRpYVR5cGUgPSBtaW1lWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGpzb24sIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hbnlPZiA9IG1pbWUubWFwKChtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtRmlsZSA9IHsgLi4uZmlsZSwgY29udGVudE1lZGlhVHlwZTogbSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1GaWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGpzb24sIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKFwiRmlsZSBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHJhbnNmb3JtXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNmb3JtcyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibnVsbGFibGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24ubnVsbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24uYW55T2YgPSBbaW5uZXIsIHsgdHlwZTogXCJudWxsXCIgfV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9ub3B0aW9uYWxcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdWNjZXNzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLmRlZmF1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlZi5kZWZhdWx0VmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwcmVmYXVsdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW8gPT09IFwiaW5wdXRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5fcHJlZmF1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlZi5kZWZhdWx0VmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjYXRjaFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2UgY29uZGl0aW9uYWxzXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGNoVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoVmFsdWUgPSBkZWYuY2F0Y2hWYWx1ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkR5bmFtaWMgY2F0Y2ggdmFsdWVzIGFyZSBub3Qgc3VwcG9ydGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24uZGVmYXVsdCA9IGNhdGNoVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibmFuXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmFOIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0ZW1wbGF0ZV9saXRlcmFsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBzY2hlbWEuX3pvZC5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXR0ZXJuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhdHRlcm4gbm90IGZvdW5kIGluIHRlbXBsYXRlIGxpdGVyYWxcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi5wYXR0ZXJuID0gcGF0dGVybi5zb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGlwZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbm5lclR5cGUgPSB0aGlzLmlvID09PSBcImlucHV0XCIgPyAoZGVmLmluLl96b2QuZGVmLnR5cGUgPT09IFwidHJhbnNmb3JtXCIgPyBkZWYub3V0IDogZGVmLmluKSA6IGRlZi5vdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZWFkb25seVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24ucmVhZE9ubHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gcGFzc3Rocm91Z2ggdHlwZXNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInByb21pc2VcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJvcHRpb25hbFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImxhenlcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5uZXJUeXBlID0gc2NoZW1hLl96b2QuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBpbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3VzdG9tXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ3VzdG9tIHR5cGVzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZ1bmN0aW9uIHR5cGVzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBtZXRhZGF0YVxuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5tZXRhZGF0YVJlZ2lzdHJ5LmdldChzY2hlbWEpO1xuICAgICAgICBpZiAobWV0YSlcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LnNjaGVtYSwgbWV0YSk7XG4gICAgICAgIGlmICh0aGlzLmlvID09PSBcImlucHV0XCIgJiYgaXNUcmFuc2Zvcm1pbmcoc2NoZW1hKSkge1xuICAgICAgICAgICAgLy8gZXhhbXBsZXMvZGVmYXVsdHMgb25seSBhcHBseSB0byBvdXRwdXQgdHlwZSBvZiBwaXBlXG4gICAgICAgICAgICBkZWxldGUgcmVzdWx0LnNjaGVtYS5leGFtcGxlcztcbiAgICAgICAgICAgIGRlbGV0ZSByZXN1bHQuc2NoZW1hLmRlZmF1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHByZWZhdWx0IGFzIGRlZmF1bHRcbiAgICAgICAgaWYgKHRoaXMuaW8gPT09IFwiaW5wdXRcIiAmJiByZXN1bHQuc2NoZW1hLl9wcmVmYXVsdClcbiAgICAgICAgICAgIChfYSA9IHJlc3VsdC5zY2hlbWEpLmRlZmF1bHQgPz8gKF9hLmRlZmF1bHQgPSByZXN1bHQuc2NoZW1hLl9wcmVmYXVsdCk7XG4gICAgICAgIGRlbGV0ZSByZXN1bHQuc2NoZW1hLl9wcmVmYXVsdDtcbiAgICAgICAgLy8gcHVsbGluZyBmcmVzaCBmcm9tIHRoaXMuc2VlbiBpbiBjYXNlIGl0IHdhcyBvdmVyd3JpdHRlblxuICAgICAgICBjb25zdCBfcmVzdWx0ID0gdGhpcy5zZWVuLmdldChzY2hlbWEpO1xuICAgICAgICByZXR1cm4gX3Jlc3VsdC5zY2hlbWE7XG4gICAgfVxuICAgIGVtaXQoc2NoZW1hLCBfcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIGN5Y2xlczogX3BhcmFtcz8uY3ljbGVzID8/IFwicmVmXCIsXG4gICAgICAgICAgICByZXVzZWQ6IF9wYXJhbXM/LnJldXNlZCA/PyBcImlubGluZVwiLFxuICAgICAgICAgICAgLy8gdW5yZXByZXNlbnRhYmxlOiBfcGFyYW1zPy51bnJlcHJlc2VudGFibGUgPz8gXCJ0aHJvd1wiLFxuICAgICAgICAgICAgLy8gdXJpOiBfcGFyYW1zPy51cmkgPz8gKChpZCkgPT4gYCR7aWR9YCksXG4gICAgICAgICAgICBleHRlcm5hbDogX3BhcmFtcz8uZXh0ZXJuYWwgPz8gdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICAvLyBpdGVyYXRlIG92ZXIgc2VlbiBtYXA7XG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLnNlZW4uZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmICghcm9vdClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucHJvY2Vzc2VkIHNjaGVtYS4gVGhpcyBpcyBhIGJ1ZyBpbiBab2QuXCIpO1xuICAgICAgICAvLyBpbml0aWFsaXplIHJlc3VsdCB3aXRoIHJvb3Qgc2NoZW1hIGZpZWxkc1xuICAgICAgICAvLyBPYmplY3QuYXNzaWduKHJlc3VsdCwgc2Vlbi5jYWNoZWQpO1xuICAgICAgICAvLyByZXR1cm5zIGEgcmVmIHRvIHRoZSBzY2hlbWFcbiAgICAgICAgLy8gZGVmSWQgd2lsbCBiZSBlbXB0eSBpZiB0aGUgcmVmIHBvaW50cyB0byBhbiBleHRlcm5hbCBzY2hlbWEgKG9yICMpXG4gICAgICAgIGNvbnN0IG1ha2VVUkkgPSAoZW50cnkpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbXBhcmluZyB0aGUgc2VlbiBvYmplY3RzIGJlY2F1c2Ugc29tZXRpbWVzXG4gICAgICAgICAgICAvLyBtdWx0aXBsZSBzY2hlbWFzIG1hcCB0byB0aGUgc2FtZSBzZWVuIG9iamVjdC5cbiAgICAgICAgICAgIC8vIGUuZy4gbGF6eVxuICAgICAgICAgICAgLy8gZXh0ZXJuYWwgaXMgY29uZmlndXJlZFxuICAgICAgICAgICAgY29uc3QgZGVmc1NlZ21lbnQgPSB0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIgPyBcIiRkZWZzXCIgOiBcImRlZmluaXRpb25zXCI7XG4gICAgICAgICAgICBpZiAocGFyYW1zLmV4dGVybmFsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZXJuYWxJZCA9IHBhcmFtcy5leHRlcm5hbC5yZWdpc3RyeS5nZXQoZW50cnlbMF0pPy5pZDsgLy8gPz8gXCJfX3NoYXJlZFwiOy8vIGBfX3NjaGVtYSR7dGhpcy5jb3VudGVyKyt9YDtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBzY2hlbWEgaXMgaW4gdGhlIGV4dGVybmFsIHJlZ2lzdHJ5XG4gICAgICAgICAgICAgICAgY29uc3QgdXJpR2VuZXJhdG9yID0gcGFyYW1zLmV4dGVybmFsLnVyaSA/PyAoKGlkKSA9PiBpZCk7XG4gICAgICAgICAgICAgICAgaWYgKGV4dGVybmFsSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVmOiB1cmlHZW5lcmF0b3IoZXh0ZXJuYWxJZCkgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBhZGQgdG8gX19zaGFyZWRcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGVudHJ5WzFdLmRlZklkID8/IGVudHJ5WzFdLnNjaGVtYS5pZCA/PyBgc2NoZW1hJHt0aGlzLmNvdW50ZXIrK31gO1xuICAgICAgICAgICAgICAgIGVudHJ5WzFdLmRlZklkID0gaWQ7IC8vIHNldCBkZWZJZCBzbyBpdCB3aWxsIGJlIHJldXNlZCBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkZWZJZDogaWQsIHJlZjogYCR7dXJpR2VuZXJhdG9yKFwiX19zaGFyZWRcIil9Iy8ke2RlZnNTZWdtZW50fS8ke2lkfWAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbnRyeVsxXSA9PT0gcm9vdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlZjogXCIjXCIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNlbGYtY29udGFpbmVkIHNjaGVtYVxuICAgICAgICAgICAgY29uc3QgdXJpUHJlZml4ID0gYCNgO1xuICAgICAgICAgICAgY29uc3QgZGVmVXJpUHJlZml4ID0gYCR7dXJpUHJlZml4fS8ke2RlZnNTZWdtZW50fS9gO1xuICAgICAgICAgICAgY29uc3QgZGVmSWQgPSBlbnRyeVsxXS5zY2hlbWEuaWQgPz8gYF9fc2NoZW1hJHt0aGlzLmNvdW50ZXIrK31gO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGVmSWQsIHJlZjogZGVmVXJpUHJlZml4ICsgZGVmSWQgfTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gc3RvcmVkIGNhY2hlZCB2ZXJzaW9uIGluIGBkZWZgIHByb3BlcnR5XG4gICAgICAgIC8vIHJlbW92ZSBhbGwgcHJvcGVydGllcywgc2V0ICRyZWZcbiAgICAgICAgY29uc3QgZXh0cmFjdFRvRGVmID0gKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgc2NoZW1hIGlzIGFscmVhZHkgYSByZWZlcmVuY2UsIGRvIG5vdCBleHRyYWN0IGl0XG4gICAgICAgICAgICBpZiAoZW50cnlbMV0uc2NoZW1hLiRyZWYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZWVuID0gZW50cnlbMV07XG4gICAgICAgICAgICBjb25zdCB7IHJlZiwgZGVmSWQgfSA9IG1ha2VVUkkoZW50cnkpO1xuICAgICAgICAgICAgc2Vlbi5kZWYgPSB7IC4uLnNlZW4uc2NoZW1hIH07XG4gICAgICAgICAgICAvLyBkZWZJZCB3b24ndCBiZSBzZXQgaWYgdGhlIHNjaGVtYSBpcyBhIHJlZmVyZW5jZSB0byBhbiBleHRlcm5hbCBzY2hlbWFcbiAgICAgICAgICAgIGlmIChkZWZJZClcbiAgICAgICAgICAgICAgICBzZWVuLmRlZklkID0gZGVmSWQ7XG4gICAgICAgICAgICAvLyB3aXBlIGF3YXkgYWxsIHByb3BlcnRpZXMgZXhjZXB0ICRyZWZcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHNlZW4uc2NoZW1hO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2NoZW1hLiRyZWYgPSByZWY7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHRocm93IG9uIGN5Y2xlc1xuICAgICAgICAvLyBicmVhayBjeWNsZXNcbiAgICAgICAgaWYgKHBhcmFtcy5jeWNsZXMgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLnNlZW4uZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VlbiA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgICAgIGlmIChzZWVuLmN5Y2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkN5Y2xlIGRldGVjdGVkOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBgIy8ke3NlZW4uY3ljbGU/LmpvaW4oXCIvXCIpfS88cm9vdD5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXG5cXG5TZXQgdGhlIGBjeWNsZXNgIHBhcmFtZXRlciB0byBgXCJyZWZcImAgdG8gcmVzb2x2ZSBjeWNsaWNhbCBzY2hlbWFzIHdpdGggZGVmcy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXh0cmFjdCBzY2hlbWFzIGludG8gJGRlZnNcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLnNlZW4uZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBzZWVuID0gZW50cnlbMV07XG4gICAgICAgICAgICAvLyBjb252ZXJ0IHJvb3Qgc2NoZW1hIHRvICMgJHJlZlxuICAgICAgICAgICAgaWYgKHNjaGVtYSA9PT0gZW50cnlbMF0pIHtcbiAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpOyAvLyB0aGlzIGhhcyBzcGVjaWFsIGhhbmRsaW5nIGZvciB0aGUgcm9vdCBzY2hlbWFcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4dHJhY3Qgc2NoZW1hcyB0aGF0IGFyZSBpbiB0aGUgZXh0ZXJuYWwgcmVnaXN0cnlcbiAgICAgICAgICAgIGlmIChwYXJhbXMuZXh0ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleHQgPSBwYXJhbXMuZXh0ZXJuYWwucmVnaXN0cnkuZ2V0KGVudHJ5WzBdKT8uaWQ7XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtYSAhPT0gZW50cnlbMF0gJiYgZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RUb0RlZihlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4dHJhY3Qgc2NoZW1hcyB3aXRoIGBpZGAgbWV0YVxuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLm1ldGFkYXRhUmVnaXN0cnkuZ2V0KGVudHJ5WzBdKT8uaWQ7XG4gICAgICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYnJlYWsgY3ljbGVzXG4gICAgICAgICAgICBpZiAoc2Vlbi5jeWNsZSkge1xuICAgICAgICAgICAgICAgIC8vIGFueVxuICAgICAgICAgICAgICAgIGV4dHJhY3RUb0RlZihlbnRyeSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHRyYWN0IHJldXNlZCBzY2hlbWFzXG4gICAgICAgICAgICBpZiAoc2Vlbi5jb3VudCA+IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLnJldXNlZCA9PT0gXCJyZWZcIikge1xuICAgICAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludDpcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGZsYXR0ZW4gX3JlZnNcbiAgICAgICAgY29uc3QgZmxhdHRlblJlZiA9ICh6b2RTY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IHRoaXMuc2Vlbi5nZXQoem9kU2NoZW1hKTtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHNlZW4uZGVmID8/IHNlZW4uc2NoZW1hO1xuICAgICAgICAgICAgY29uc3QgX2NhY2hlZCA9IHsgLi4uc2NoZW1hIH07XG4gICAgICAgICAgICAvLyBhbHJlYWR5IHNlZW5cbiAgICAgICAgICAgIGlmIChzZWVuLnJlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZsYXR0ZW4gcmVmIGlmIGRlZmluZWRcbiAgICAgICAgICAgIGNvbnN0IHJlZiA9IHNlZW4ucmVmO1xuICAgICAgICAgICAgc2Vlbi5yZWYgPSBudWxsOyAvLyBwcmV2ZW50IHJlY3Vyc2lvblxuICAgICAgICAgICAgaWYgKHJlZikge1xuICAgICAgICAgICAgICAgIGZsYXR0ZW5SZWYocmVmLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIC8vIG1lcmdlIHJlZmVyZW5jZWQgc2NoZW1hIGludG8gY3VycmVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlZlNjaGVtYSA9IHRoaXMuc2Vlbi5nZXQocmVmKS5zY2hlbWE7XG4gICAgICAgICAgICAgICAgaWYgKHJlZlNjaGVtYS4kcmVmICYmXG4gICAgICAgICAgICAgICAgICAgIChwYXJhbXMudGFyZ2V0ID09PSBcImRyYWZ0LTdcIiB8fCBwYXJhbXMudGFyZ2V0ID09PSBcImRyYWZ0LTRcIiB8fCBwYXJhbXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5hbGxPZiA9IHNjaGVtYS5hbGxPZiA/PyBbXTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLmFsbE9mLnB1c2gocmVmU2NoZW1hKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2NoZW1hLCByZWZTY2hlbWEpO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHNjaGVtYSwgX2NhY2hlZCk7IC8vIHByZXZlbnQgb3ZlcndyaXRpbmcgYW55IGZpZWxkcyBpbiB0aGUgb3JpZ2luYWwgc2NoZW1hXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXhlY3V0ZSBvdmVycmlkZXNcbiAgICAgICAgICAgIGlmICghc2Vlbi5pc1BhcmVudClcbiAgICAgICAgICAgICAgICB0aGlzLm92ZXJyaWRlKHtcbiAgICAgICAgICAgICAgICAgICAgem9kU2NoZW1hOiB6b2RTY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIGpzb25TY2hlbWE6IHNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogc2Vlbi5wYXRoID8/IFtdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIFsuLi50aGlzLnNlZW4uZW50cmllcygpXS5yZXZlcnNlKCkpIHtcbiAgICAgICAgICAgIGZsYXR0ZW5SZWYoZW50cnlbMF0sIHsgdGFyZ2V0OiB0aGlzLnRhcmdldCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIikge1xuICAgICAgICAgICAgcmVzdWx0LiRzY2hlbWEgPSBcImh0dHBzOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LzIwMjAtMTIvc2NoZW1hXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtN1wiKSB7XG4gICAgICAgICAgICByZXN1bHQuJHNjaGVtYSA9IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtNFwiKSB7XG4gICAgICAgICAgICByZXN1bHQuJHNjaGVtYSA9IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikge1xuICAgICAgICAgICAgLy8gT3BlbkFQSSAzLjAgc2NoZW1hIG9iamVjdHMgc2hvdWxkIG5vdCBpbmNsdWRlIGEgJHNjaGVtYSBwcm9wZXJ0eVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBJbnZhbGlkIHRhcmdldDogJHt0aGlzLnRhcmdldH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmV4dGVybmFsPy51cmkpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gcGFyYW1zLmV4dGVybmFsLnJlZ2lzdHJ5LmdldChzY2hlbWEpPy5pZDtcbiAgICAgICAgICAgIGlmICghaWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIGlzIG1pc3NpbmcgYW4gYGlkYCBwcm9wZXJ0eVwiKTtcbiAgICAgICAgICAgIHJlc3VsdC4kaWQgPSBwYXJhbXMuZXh0ZXJuYWwudXJpKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuYXNzaWduKHJlc3VsdCwgcm9vdC5kZWYpO1xuICAgICAgICAvLyBidWlsZCBkZWZzIG9iamVjdFxuICAgICAgICBjb25zdCBkZWZzID0gcGFyYW1zLmV4dGVybmFsPy5kZWZzID8/IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMuc2Vlbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBlbnRyeVsxXTtcbiAgICAgICAgICAgIGlmIChzZWVuLmRlZiAmJiBzZWVuLmRlZklkKSB7XG4gICAgICAgICAgICAgICAgZGVmc1tzZWVuLmRlZklkXSA9IHNlZW4uZGVmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBkZWZpbml0aW9ucyBpbiByZXN1bHRcbiAgICAgICAgaWYgKHBhcmFtcy5leHRlcm5hbCkge1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRlZnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC4kZGVmcyA9IGRlZnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVmaW5pdGlvbnMgPSBkZWZzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gdGhpcyBcImZpbmFsaXplc1wiIHRoaXMgc2NoZW1hIGFuZCBlbnN1cmVzIGFsbCBjeWNsZXMgYXJlIHJlbW92ZWRcbiAgICAgICAgICAgIC8vIGVhY2ggY2FsbCB0byAuZW1pdCgpIGlzIGZ1bmN0aW9uYWxseSBpbmRlcGVuZGVudFxuICAgICAgICAgICAgLy8gdGhvdWdoIHRoZSBzZWVuIG1hcCBpcyBzaGFyZWRcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBjb252ZXJ0aW5nIHNjaGVtYSB0byBKU09OLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0pTT05TY2hlbWEoaW5wdXQsIF9wYXJhbXMpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiAkWm9kUmVnaXN0cnkpIHtcbiAgICAgICAgY29uc3QgZ2VuID0gbmV3IEpTT05TY2hlbWFHZW5lcmF0b3IoX3BhcmFtcyk7XG4gICAgICAgIGNvbnN0IGRlZnMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dC5faWRtYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBbXywgc2NoZW1hXSA9IGVudHJ5O1xuICAgICAgICAgICAgZ2VuLnByb2Nlc3Moc2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY2hlbWFzID0ge307XG4gICAgICAgIGNvbnN0IGV4dGVybmFsID0ge1xuICAgICAgICAgICAgcmVnaXN0cnk6IGlucHV0LFxuICAgICAgICAgICAgdXJpOiBfcGFyYW1zPy51cmksXG4gICAgICAgICAgICBkZWZzLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0Ll9pZG1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IFtrZXksIHNjaGVtYV0gPSBlbnRyeTtcbiAgICAgICAgICAgIHNjaGVtYXNba2V5XSA9IGdlbi5lbWl0KHNjaGVtYSwge1xuICAgICAgICAgICAgICAgIC4uLl9wYXJhbXMsXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGVmcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGVmc1NlZ21lbnQgPSBnZW4udGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwiJGRlZnNcIiA6IFwiZGVmaW5pdGlvbnNcIjtcbiAgICAgICAgICAgIHNjaGVtYXMuX19zaGFyZWQgPSB7XG4gICAgICAgICAgICAgICAgW2RlZnNTZWdtZW50XTogZGVmcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc2NoZW1hcyB9O1xuICAgIH1cbiAgICBjb25zdCBnZW4gPSBuZXcgSlNPTlNjaGVtYUdlbmVyYXRvcihfcGFyYW1zKTtcbiAgICBnZW4ucHJvY2VzcyhpbnB1dCk7XG4gICAgcmV0dXJuIGdlbi5lbWl0KGlucHV0LCBfcGFyYW1zKTtcbn1cbmZ1bmN0aW9uIGlzVHJhbnNmb3JtaW5nKF9zY2hlbWEsIF9jdHgpIHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8/IHsgc2VlbjogbmV3IFNldCgpIH07XG4gICAgaWYgKGN0eC5zZWVuLmhhcyhfc2NoZW1hKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGN0eC5zZWVuLmFkZChfc2NoZW1hKTtcbiAgICBjb25zdCBzY2hlbWEgPSBfc2NoZW1hO1xuICAgIGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICBzd2l0Y2ggKGRlZi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGNhc2UgXCJkYXRlXCI6XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICBjYXNlIFwiYW55XCI6XG4gICAgICAgIGNhc2UgXCJ1bmtub3duXCI6XG4gICAgICAgIGNhc2UgXCJuZXZlclwiOlxuICAgICAgICBjYXNlIFwidm9pZFwiOlxuICAgICAgICBjYXNlIFwibGl0ZXJhbFwiOlxuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICBjYXNlIFwibmFuXCI6XG4gICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgIGNhc2UgXCJ0ZW1wbGF0ZV9saXRlcmFsXCI6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgXCJhcnJheVwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmVsZW1lbnQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWYuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNUcmFuc2Zvcm1pbmcoZGVmLnNoYXBlW2tleV0sIGN0eCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ1bmlvblwiOiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBkZWYub3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybWluZyhvcHRpb24sIGN0eCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJpbnRlcnNlY3Rpb25cIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5sZWZ0LCBjdHgpIHx8IGlzVHJhbnNmb3JtaW5nKGRlZi5yaWdodCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidHVwbGVcIjoge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGRlZi5pdGVtcykge1xuICAgICAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybWluZyhpdGVtLCBjdHgpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWYucmVzdCAmJiBpc1RyYW5zZm9ybWluZyhkZWYucmVzdCwgY3R4KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicmVjb3JkXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYua2V5VHlwZSwgY3R4KSB8fCBpc1RyYW5zZm9ybWluZyhkZWYudmFsdWVUeXBlLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJtYXBcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5rZXlUeXBlLCBjdHgpIHx8IGlzVHJhbnNmb3JtaW5nKGRlZi52YWx1ZVR5cGUsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInNldFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLnZhbHVlVHlwZSwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbm5lciB0eXBlc1xuICAgICAgICBjYXNlIFwicHJvbWlzZVwiOlxuICAgICAgICBjYXNlIFwib3B0aW9uYWxcIjpcbiAgICAgICAgY2FzZSBcIm5vbm9wdGlvbmFsXCI6XG4gICAgICAgIGNhc2UgXCJudWxsYWJsZVwiOlxuICAgICAgICBjYXNlIFwicmVhZG9ubHlcIjpcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuaW5uZXJUeXBlLCBjdHgpO1xuICAgICAgICBjYXNlIFwibGF6eVwiOlxuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5nZXR0ZXIoKSwgY3R4KTtcbiAgICAgICAgY2FzZSBcImRlZmF1bHRcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5pbm5lclR5cGUsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInByZWZhdWx0XCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuaW5uZXJUeXBlLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJjdXN0b21cIjoge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjoge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInBpcGVcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5pbiwgY3R4KSB8fCBpc1RyYW5zZm9ybWluZyhkZWYub3V0LCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzdWNjZXNzXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiY2F0Y2hcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOiB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGRlZjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHNjaGVtYSB0eXBlOiAke2RlZi50eXBlfWApO1xufVxuIiwgImV4cG9ydCB7fTtcbiIsICJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgKiBhcyBzY2hlbWFzIGZyb20gXCIuL3NjaGVtYXMuanNcIjtcbmV4cG9ydCBjb25zdCBab2RJU09EYXRlVGltZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RJU09EYXRlVGltZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kSVNPRGF0ZVRpbWUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHNjaGVtYXMuWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGV0aW1lKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pc29EYXRlVGltZShab2RJU09EYXRlVGltZSwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RJU09EYXRlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElTT0RhdGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZElTT0RhdGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHNjaGVtYXMuWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGUocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2lzb0RhdGUoWm9kSVNPRGF0ZSwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RJU09UaW1lID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElTT1RpbWVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZElTT1RpbWUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHNjaGVtYXMuWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWUocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2lzb1RpbWUoWm9kSVNPVGltZSwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RJU09EdXJhdGlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RJU09EdXJhdGlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kSVNPRHVyYXRpb24uaW5pdChpbnN0LCBkZWYpO1xuICAgIHNjaGVtYXMuWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGR1cmF0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pc29EdXJhdGlvbihab2RJU09EdXJhdGlvbiwgcGFyYW1zKTtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyAkWm9kRXJyb3IgfSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBpbml0aWFsaXplciA9IChpbnN0LCBpc3N1ZXMpID0+IHtcbiAgICAkWm9kRXJyb3IuaW5pdChpbnN0LCBpc3N1ZXMpO1xuICAgIGluc3QubmFtZSA9IFwiWm9kRXJyb3JcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhpbnN0LCB7XG4gICAgICAgIGZvcm1hdDoge1xuICAgICAgICAgICAgdmFsdWU6IChtYXBwZXIpID0+IGNvcmUuZm9ybWF0RXJyb3IoaW5zdCwgbWFwcGVyKSxcbiAgICAgICAgICAgIC8vIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBmbGF0dGVuOiB7XG4gICAgICAgICAgICB2YWx1ZTogKG1hcHBlcikgPT4gY29yZS5mbGF0dGVuRXJyb3IoaW5zdCwgbWFwcGVyKSxcbiAgICAgICAgICAgIC8vIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBhZGRJc3N1ZToge1xuICAgICAgICAgICAgdmFsdWU6IChpc3N1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGluc3QuaXNzdWVzLnB1c2goaXNzdWUpO1xuICAgICAgICAgICAgICAgIGluc3QubWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGluc3QuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIGFkZElzc3Vlczoge1xuICAgICAgICAgICAgdmFsdWU6IChpc3N1ZXMpID0+IHtcbiAgICAgICAgICAgICAgICBpbnN0Lmlzc3Vlcy5wdXNoKC4uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgaW5zdC5tZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoaW5zdC5pc3N1ZXMsIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyLCAyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgaXNFbXB0eToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0Lmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwiaXNFbXB0eVwiLCB7XG4gICAgLy8gICBnZXQoKSB7XG4gICAgLy8gICAgIHJldHVybiBpbnN0Lmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgLy8gICB9LFxuICAgIC8vIH0pO1xufTtcbmV4cG9ydCBjb25zdCBab2RFcnJvciA9IGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRXJyb3JcIiwgaW5pdGlhbGl6ZXIpO1xuZXhwb3J0IGNvbnN0IFpvZFJlYWxFcnJvciA9IGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRXJyb3JcIiwgaW5pdGlhbGl6ZXIsIHtcbiAgICBQYXJlbnQ6IEVycm9yLFxufSk7XG4vLyAvKiogQGRlcHJlY2F0ZWQgVXNlIGB6LmNvcmUuJFpvZEVycm9yTWFwQ3R4YCBpbnN0ZWFkLiAqL1xuLy8gZXhwb3J0IHR5cGUgRXJyb3JNYXBDdHggPSBjb3JlLiRab2RFcnJvck1hcEN0eDtcbiIsICJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBab2RSZWFsRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZSA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9wYXJzZShab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IHBhcnNlQXN5bmMgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fcGFyc2VBc3luYyhab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IHNhZmVQYXJzZSA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9zYWZlUGFyc2UoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBzYWZlUGFyc2VBc3luYyA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9zYWZlUGFyc2VBc3luYyhab2RSZWFsRXJyb3IpO1xuLy8gQ29kZWMgZnVuY3Rpb25zXG5leHBvcnQgY29uc3QgZW5jb2RlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX2VuY29kZShab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9kZWNvZGUoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBlbmNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9lbmNvZGVBc3luYyhab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IGRlY29kZUFzeW5jID0gLyogQF9fUFVSRV9fICovIGNvcmUuX2RlY29kZUFzeW5jKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3Qgc2FmZUVuY29kZSA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9zYWZlRW5jb2RlKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3Qgc2FmZURlY29kZSA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9zYWZlRGVjb2RlKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3Qgc2FmZUVuY29kZUFzeW5jID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVFbmNvZGVBc3luYyhab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IHNhZmVEZWNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9zYWZlRGVjb2RlQXN5bmMoWm9kUmVhbEVycm9yKTtcbiIsICJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB1dGlsIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCAqIGFzIGNoZWNrcyBmcm9tIFwiLi9jaGVja3MuanNcIjtcbmltcG9ydCAqIGFzIGlzbyBmcm9tIFwiLi9pc28uanNcIjtcbmltcG9ydCAqIGFzIHBhcnNlIGZyb20gXCIuL3BhcnNlLmpzXCI7XG5leHBvcnQgY29uc3QgWm9kVHlwZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RUeXBlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LmRlZiA9IGRlZjtcbiAgICBpbnN0LnR5cGUgPSBkZWYudHlwZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJfZGVmXCIsIHsgdmFsdWU6IGRlZiB9KTtcbiAgICAvLyBiYXNlIG1ldGhvZHNcbiAgICBpbnN0LmNoZWNrID0gKC4uLmNoZWNrcykgPT4ge1xuICAgICAgICByZXR1cm4gaW5zdC5jbG9uZSh7XG4gICAgICAgICAgICAuLi5kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi4oZGVmLmNoZWNrcyA/PyBbXSksXG4gICAgICAgICAgICAgICAgLi4uY2hlY2tzLm1hcCgoY2gpID0+IHR5cGVvZiBjaCA9PT0gXCJmdW5jdGlvblwiID8geyBfem9kOiB7IGNoZWNrOiBjaCwgZGVmOiB7IGNoZWNrOiBcImN1c3RvbVwiIH0sIG9uYXR0YWNoOiBbXSB9IH0gOiBjaCksXG4gICAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICAgIC8vIHsgcGFyZW50OiB0cnVlIH1cbiAgICAgICAgKTtcbiAgICB9O1xuICAgIGluc3QuY2xvbmUgPSAoZGVmLCBwYXJhbXMpID0+IGNvcmUuY2xvbmUoaW5zdCwgZGVmLCBwYXJhbXMpO1xuICAgIGluc3QuYnJhbmQgPSAoKSA9PiBpbnN0O1xuICAgIGluc3QucmVnaXN0ZXIgPSAoKHJlZywgbWV0YSkgPT4ge1xuICAgICAgICByZWcuYWRkKGluc3QsIG1ldGEpO1xuICAgICAgICByZXR1cm4gaW5zdDtcbiAgICB9KTtcbiAgICAvLyBwYXJzaW5nXG4gICAgaW5zdC5wYXJzZSA9IChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLnBhcnNlKGluc3QsIGRhdGEsIHBhcmFtcywgeyBjYWxsZWU6IGluc3QucGFyc2UgfSk7XG4gICAgaW5zdC5zYWZlUGFyc2UgPSAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5zYWZlUGFyc2UoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LnBhcnNlQXN5bmMgPSBhc3luYyAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5wYXJzZUFzeW5jKGluc3QsIGRhdGEsIHBhcmFtcywgeyBjYWxsZWU6IGluc3QucGFyc2VBc3luYyB9KTtcbiAgICBpbnN0LnNhZmVQYXJzZUFzeW5jID0gYXN5bmMgKGRhdGEsIHBhcmFtcykgPT4gcGFyc2Uuc2FmZVBhcnNlQXN5bmMoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LnNwYSA9IGluc3Quc2FmZVBhcnNlQXN5bmM7XG4gICAgLy8gZW5jb2RpbmcvZGVjb2RpbmdcbiAgICBpbnN0LmVuY29kZSA9IChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLmVuY29kZShpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3QuZGVjb2RlID0gKGRhdGEsIHBhcmFtcykgPT4gcGFyc2UuZGVjb2RlKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5lbmNvZGVBc3luYyA9IGFzeW5jIChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLmVuY29kZUFzeW5jKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5kZWNvZGVBc3luYyA9IGFzeW5jIChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLmRlY29kZUFzeW5jKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5zYWZlRW5jb2RlID0gKGRhdGEsIHBhcmFtcykgPT4gcGFyc2Uuc2FmZUVuY29kZShpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3Quc2FmZURlY29kZSA9IChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLnNhZmVEZWNvZGUoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LnNhZmVFbmNvZGVBc3luYyA9IGFzeW5jIChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLnNhZmVFbmNvZGVBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3Quc2FmZURlY29kZUFzeW5jID0gYXN5bmMgKGRhdGEsIHBhcmFtcykgPT4gcGFyc2Uuc2FmZURlY29kZUFzeW5jKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgLy8gcmVmaW5lbWVudHNcbiAgICBpbnN0LnJlZmluZSA9IChjaGVjaywgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKHJlZmluZShjaGVjaywgcGFyYW1zKSk7XG4gICAgaW5zdC5zdXBlclJlZmluZSA9IChyZWZpbmVtZW50KSA9PiBpbnN0LmNoZWNrKHN1cGVyUmVmaW5lKHJlZmluZW1lbnQpKTtcbiAgICBpbnN0Lm92ZXJ3cml0ZSA9IChmbikgPT4gaW5zdC5jaGVjayhjaGVja3Mub3ZlcndyaXRlKGZuKSk7XG4gICAgLy8gd3JhcHBlcnNcbiAgICBpbnN0Lm9wdGlvbmFsID0gKCkgPT4gb3B0aW9uYWwoaW5zdCk7XG4gICAgaW5zdC5udWxsYWJsZSA9ICgpID0+IG51bGxhYmxlKGluc3QpO1xuICAgIGluc3QubnVsbGlzaCA9ICgpID0+IG9wdGlvbmFsKG51bGxhYmxlKGluc3QpKTtcbiAgICBpbnN0Lm5vbm9wdGlvbmFsID0gKHBhcmFtcykgPT4gbm9ub3B0aW9uYWwoaW5zdCwgcGFyYW1zKTtcbiAgICBpbnN0LmFycmF5ID0gKCkgPT4gYXJyYXkoaW5zdCk7XG4gICAgaW5zdC5vciA9IChhcmcpID0+IHVuaW9uKFtpbnN0LCBhcmddKTtcbiAgICBpbnN0LmFuZCA9IChhcmcpID0+IGludGVyc2VjdGlvbihpbnN0LCBhcmcpO1xuICAgIGluc3QudHJhbnNmb3JtID0gKHR4KSA9PiBwaXBlKGluc3QsIHRyYW5zZm9ybSh0eCkpO1xuICAgIGluc3QuZGVmYXVsdCA9IChkZWYpID0+IF9kZWZhdWx0KGluc3QsIGRlZik7XG4gICAgaW5zdC5wcmVmYXVsdCA9IChkZWYpID0+IHByZWZhdWx0KGluc3QsIGRlZik7XG4gICAgLy8gaW5zdC5jb2FsZXNjZSA9IChkZWYsIHBhcmFtcykgPT4gY29hbGVzY2UoaW5zdCwgZGVmLCBwYXJhbXMpO1xuICAgIGluc3QuY2F0Y2ggPSAocGFyYW1zKSA9PiBfY2F0Y2goaW5zdCwgcGFyYW1zKTtcbiAgICBpbnN0LnBpcGUgPSAodGFyZ2V0KSA9PiBwaXBlKGluc3QsIHRhcmdldCk7XG4gICAgaW5zdC5yZWFkb25seSA9ICgpID0+IHJlYWRvbmx5KGluc3QpO1xuICAgIC8vIG1ldGFcbiAgICBpbnN0LmRlc2NyaWJlID0gKGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsID0gaW5zdC5jbG9uZSgpO1xuICAgICAgICBjb3JlLmdsb2JhbFJlZ2lzdHJ5LmFkZChjbCwgeyBkZXNjcmlwdGlvbiB9KTtcbiAgICAgICAgcmV0dXJuIGNsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwiZGVzY3JpcHRpb25cIiwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29yZS5nbG9iYWxSZWdpc3RyeS5nZXQoaW5zdCk/LmRlc2NyaXB0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSk7XG4gICAgaW5zdC5tZXRhID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gY29yZS5nbG9iYWxSZWdpc3RyeS5nZXQoaW5zdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2wgPSBpbnN0LmNsb25lKCk7XG4gICAgICAgIGNvcmUuZ2xvYmFsUmVnaXN0cnkuYWRkKGNsLCBhcmdzWzBdKTtcbiAgICAgICAgcmV0dXJuIGNsO1xuICAgIH07XG4gICAgLy8gaGVscGVyc1xuICAgIGluc3QuaXNPcHRpb25hbCA9ICgpID0+IGluc3Quc2FmZVBhcnNlKHVuZGVmaW5lZCkuc3VjY2VzcztcbiAgICBpbnN0LmlzTnVsbGFibGUgPSAoKSA9PiBpbnN0LnNhZmVQYXJzZShudWxsKS5zdWNjZXNzO1xuICAgIHJldHVybiBpbnN0O1xufSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX1pvZFN0cmluZyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJfWm9kU3RyaW5nXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RTdHJpbmcuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgaW5zdC5mb3JtYXQgPSBiYWcuZm9ybWF0ID8/IG51bGw7XG4gICAgaW5zdC5taW5MZW5ndGggPSBiYWcubWluaW11bSA/PyBudWxsO1xuICAgIGluc3QubWF4TGVuZ3RoID0gYmFnLm1heGltdW0gPz8gbnVsbDtcbiAgICAvLyB2YWxpZGF0aW9uc1xuICAgIGluc3QucmVnZXggPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3MucmVnZXgoLi4uYXJncykpO1xuICAgIGluc3QuaW5jbHVkZXMgPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3MuaW5jbHVkZXMoLi4uYXJncykpO1xuICAgIGluc3Quc3RhcnRzV2l0aCA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5zdGFydHNXaXRoKC4uLmFyZ3MpKTtcbiAgICBpbnN0LmVuZHNXaXRoID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLmVuZHNXaXRoKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lm1pbiA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5taW5MZW5ndGgoLi4uYXJncykpO1xuICAgIGluc3QubWF4ID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLm1heExlbmd0aCguLi5hcmdzKSk7XG4gICAgaW5zdC5sZW5ndGggPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3MubGVuZ3RoKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lm5vbmVtcHR5ID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLm1pbkxlbmd0aCgxLCAuLi5hcmdzKSk7XG4gICAgaW5zdC5sb3dlcmNhc2UgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sb3dlcmNhc2UocGFyYW1zKSk7XG4gICAgaW5zdC51cHBlcmNhc2UgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy51cHBlcmNhc2UocGFyYW1zKSk7XG4gICAgLy8gdHJhbnNmb3Jtc1xuICAgIGluc3QudHJpbSA9ICgpID0+IGluc3QuY2hlY2soY2hlY2tzLnRyaW0oKSk7XG4gICAgaW5zdC5ub3JtYWxpemUgPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3Mubm9ybWFsaXplKC4uLmFyZ3MpKTtcbiAgICBpbnN0LnRvTG93ZXJDYXNlID0gKCkgPT4gaW5zdC5jaGVjayhjaGVja3MudG9Mb3dlckNhc2UoKSk7XG4gICAgaW5zdC50b1VwcGVyQ2FzZSA9ICgpID0+IGluc3QuY2hlY2soY2hlY2tzLnRvVXBwZXJDYXNlKCkpO1xufSk7XG5leHBvcnQgY29uc3QgWm9kU3RyaW5nID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFN0cmluZ1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kU3RyaW5nLmluaXQoaW5zdCwgZGVmKTtcbiAgICBfWm9kU3RyaW5nLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LmVtYWlsID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9lbWFpbChab2RFbWFpbCwgcGFyYW1zKSk7XG4gICAgaW5zdC51cmwgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX3VybChab2RVUkwsIHBhcmFtcykpO1xuICAgIGluc3Quand0ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9qd3QoWm9kSldULCBwYXJhbXMpKTtcbiAgICBpbnN0LmVtb2ppID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9lbW9qaShab2RFbW9qaSwgcGFyYW1zKSk7XG4gICAgaW5zdC5ndWlkID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9ndWlkKFpvZEdVSUQsIHBhcmFtcykpO1xuICAgIGluc3QudXVpZCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fdXVpZChab2RVVUlELCBwYXJhbXMpKTtcbiAgICBpbnN0LnV1aWR2NCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fdXVpZHY0KFpvZFVVSUQsIHBhcmFtcykpO1xuICAgIGluc3QudXVpZHY2ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl91dWlkdjYoWm9kVVVJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC51dWlkdjcgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX3V1aWR2Nyhab2RVVUlELCBwYXJhbXMpKTtcbiAgICBpbnN0Lm5hbm9pZCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fbmFub2lkKFpvZE5hbm9JRCwgcGFyYW1zKSk7XG4gICAgaW5zdC5ndWlkID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9ndWlkKFpvZEdVSUQsIHBhcmFtcykpO1xuICAgIGluc3QuY3VpZCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fY3VpZChab2RDVUlELCBwYXJhbXMpKTtcbiAgICBpbnN0LmN1aWQyID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9jdWlkMihab2RDVUlEMiwgcGFyYW1zKSk7XG4gICAgaW5zdC51bGlkID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl91bGlkKFpvZFVMSUQsIHBhcmFtcykpO1xuICAgIGluc3QuYmFzZTY0ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9iYXNlNjQoWm9kQmFzZTY0LCBwYXJhbXMpKTtcbiAgICBpbnN0LmJhc2U2NHVybCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fYmFzZTY0dXJsKFpvZEJhc2U2NFVSTCwgcGFyYW1zKSk7XG4gICAgaW5zdC54aWQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX3hpZChab2RYSUQsIHBhcmFtcykpO1xuICAgIGluc3Qua3N1aWQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2tzdWlkKFpvZEtTVUlELCBwYXJhbXMpKTtcbiAgICBpbnN0LmlwdjQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2lwdjQoWm9kSVB2NCwgcGFyYW1zKSk7XG4gICAgaW5zdC5pcHY2ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9pcHY2KFpvZElQdjYsIHBhcmFtcykpO1xuICAgIGluc3QuY2lkcnY0ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9jaWRydjQoWm9kQ0lEUnY0LCBwYXJhbXMpKTtcbiAgICBpbnN0LmNpZHJ2NiA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fY2lkcnY2KFpvZENJRFJ2NiwgcGFyYW1zKSk7XG4gICAgaW5zdC5lMTY0ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9lMTY0KFpvZEUxNjQsIHBhcmFtcykpO1xuICAgIC8vIGlzb1xuICAgIGluc3QuZGF0ZXRpbWUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGlzby5kYXRldGltZShwYXJhbXMpKTtcbiAgICBpbnN0LmRhdGUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGlzby5kYXRlKHBhcmFtcykpO1xuICAgIGluc3QudGltZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soaXNvLnRpbWUocGFyYW1zKSk7XG4gICAgaW5zdC5kdXJhdGlvbiA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soaXNvLmR1cmF0aW9uKHBhcmFtcykpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9zdHJpbmcoWm9kU3RyaW5nLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFN0cmluZ0Zvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RTdHJpbmdGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgX1pvZFN0cmluZy5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCBab2RFbWFpbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RFbWFpbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RFbWFpbC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGVtYWlsKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9lbWFpbChab2RFbWFpbCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RHVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEdVSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kR1VJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGd1aWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2d1aWQoWm9kR1VJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RVVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFVVSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kVVVJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3V1aWQoWm9kVVVJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1dWlkdjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3V1aWR2NChab2RVVUlELCBwYXJhbXMpO1xufVxuLy8gWm9kVVVJRHY2XG5leHBvcnQgZnVuY3Rpb24gdXVpZHY2KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91dWlkdjYoWm9kVVVJRCwgcGFyYW1zKTtcbn1cbi8vIFpvZFVVSUR2N1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NyhwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdXVpZHY3KFpvZFVVSUQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kVVJMID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFVSTFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RVUkwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB1cmwocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3VybChab2RVUkwsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaHR0cFVybChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdXJsKFpvZFVSTCwge1xuICAgICAgICBwcm90b2NvbDogL15odHRwcz8kLyxcbiAgICAgICAgaG9zdG5hbWU6IGNvcmUucmVnZXhlcy5kb21haW4sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kRW1vamkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRW1vamlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kRW1vamkuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBlbW9qaShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZW1vamkoWm9kRW1vamksIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kTmFub0lEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE5hbm9JRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2ROYW5vSUQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBuYW5vaWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX25hbm9pZChab2ROYW5vSUQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQ1VJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RDVUlEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZENVSUQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBjdWlkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jdWlkKFpvZENVSUQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQ1VJRDIgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ1VJRDJcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kQ1VJRDIuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBjdWlkMihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY3VpZDIoWm9kQ1VJRDIsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kVUxJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RVTElEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZFVMSUQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB1bGlkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91bGlkKFpvZFVMSUQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kWElEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFhJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RYSUQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB4aWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3hpZChab2RYSUQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kS1NVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kS1NVSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kS1NVSUQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBrc3VpZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fa3N1aWQoWm9kS1NVSUQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kSVB2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RJUHY0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZElQdjQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBpcHY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pcHY0KFpvZElQdjQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kSVB2NiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RJUHY2XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZElQdjYuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBpcHY2KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pcHY2KFpvZElQdjYsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQ0lEUnY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZENJRFJ2NFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQ0lEUnY0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gY2lkcnY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jaWRydjQoWm9kQ0lEUnY0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZENJRFJ2NiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RDSURSdjZcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZENJRFJ2Ni5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGNpZHJ2NihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY2lkcnY2KFpvZENJRFJ2NiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RCYXNlNjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQmFzZTY0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEJhc2U2NC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fYmFzZTY0KFpvZEJhc2U2NCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RCYXNlNjRVUkwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQmFzZTY0VVJMXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEJhc2U2NFVSTC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NHVybChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fYmFzZTY0dXJsKFpvZEJhc2U2NFVSTCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RFMTY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEUxNjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kRTE2NC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGUxNjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2UxNjQoWm9kRTE2NCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RKV1QgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kSldUXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEpXVC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGp3dChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fand0KFpvZEpXVCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RDdXN0b21TdHJpbmdGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ3VzdG9tU3RyaW5nRm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEN1c3RvbVN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ0Zvcm1hdChmb3JtYXQsIGZuT3JSZWdleCwgX3BhcmFtcyA9IHt9KSB7XG4gICAgcmV0dXJuIGNvcmUuX3N0cmluZ0Zvcm1hdChab2RDdXN0b21TdHJpbmdGb3JtYXQsIGZvcm1hdCwgZm5PclJlZ2V4LCBfcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBob3N0bmFtZShfcGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3N0cmluZ0Zvcm1hdChab2RDdXN0b21TdHJpbmdGb3JtYXQsIFwiaG9zdG5hbWVcIiwgY29yZS5yZWdleGVzLmhvc3RuYW1lLCBfcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoZXgoX3BhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9zdHJpbmdGb3JtYXQoWm9kQ3VzdG9tU3RyaW5nRm9ybWF0LCBcImhleFwiLCBjb3JlLnJlZ2V4ZXMuaGV4LCBfcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNoKGFsZywgcGFyYW1zKSB7XG4gICAgY29uc3QgZW5jID0gcGFyYW1zPy5lbmMgPz8gXCJoZXhcIjtcbiAgICBjb25zdCBmb3JtYXQgPSBgJHthbGd9XyR7ZW5jfWA7XG4gICAgY29uc3QgcmVnZXggPSBjb3JlLnJlZ2V4ZXNbZm9ybWF0XTtcbiAgICBpZiAoIXJlZ2V4KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBoYXNoIGZvcm1hdDogJHtmb3JtYXR9YCk7XG4gICAgcmV0dXJuIGNvcmUuX3N0cmluZ0Zvcm1hdChab2RDdXN0b21TdHJpbmdGb3JtYXQsIGZvcm1hdCwgcmVnZXgsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kTnVtYmVyID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE51bWJlclwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTnVtYmVyLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Lmd0ID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0KHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmd0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubWluID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5sdCA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdCh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5sdGUgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHRlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1heCA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QuaW50ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhpbnQocGFyYW1zKSk7XG4gICAgaW5zdC5zYWZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhpbnQocGFyYW1zKSk7XG4gICAgaW5zdC5wb3NpdGl2ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0KDAsIHBhcmFtcykpO1xuICAgIGluc3Qubm9ubmVnYXRpdmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndGUoMCwgcGFyYW1zKSk7XG4gICAgaW5zdC5uZWdhdGl2ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0KDAsIHBhcmFtcykpO1xuICAgIGluc3Qubm9ucG9zaXRpdmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdGUoMCwgcGFyYW1zKSk7XG4gICAgaW5zdC5tdWx0aXBsZU9mID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLm11bHRpcGxlT2YodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3Quc3RlcCA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5tdWx0aXBsZU9mKHZhbHVlLCBwYXJhbXMpKTtcbiAgICAvLyBpbnN0LmZpbml0ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5maW5pdGUocGFyYW1zKSk7XG4gICAgaW5zdC5maW5pdGUgPSAoKSA9PiBpbnN0O1xuICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgaW5zdC5taW5WYWx1ZSA9XG4gICAgICAgIE1hdGgubWF4KGJhZy5taW5pbXVtID8/IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgYmFnLmV4Y2x1c2l2ZU1pbmltdW0gPz8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSA/PyBudWxsO1xuICAgIGluc3QubWF4VmFsdWUgPVxuICAgICAgICBNYXRoLm1pbihiYWcubWF4aW11bSA/PyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIGJhZy5leGNsdXNpdmVNYXhpbXVtID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkgPz8gbnVsbDtcbiAgICBpbnN0LmlzSW50ID0gKGJhZy5mb3JtYXQgPz8gXCJcIikuaW5jbHVkZXMoXCJpbnRcIikgfHwgTnVtYmVyLmlzU2FmZUludGVnZXIoYmFnLm11bHRpcGxlT2YgPz8gMC41KTtcbiAgICBpbnN0LmlzRmluaXRlID0gdHJ1ZTtcbiAgICBpbnN0LmZvcm1hdCA9IGJhZy5mb3JtYXQgPz8gbnVsbDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG51bWJlcihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fbnVtYmVyKFpvZE51bWJlciwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2ROdW1iZXJGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTnVtYmVyRm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2ROdW1iZXJGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZE51bWJlci5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBpbnQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2ludChab2ROdW1iZXJGb3JtYXQsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmxvYXQzMihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZmxvYXQzMihab2ROdW1iZXJGb3JtYXQsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmxvYXQ2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZmxvYXQ2NChab2ROdW1iZXJGb3JtYXQsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW50MzIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2ludDMyKFpvZE51bWJlckZvcm1hdCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1aW50MzIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3VpbnQzMihab2ROdW1iZXJGb3JtYXQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQm9vbGVhbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RCb29sZWFuXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RCb29sZWFuLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGJvb2xlYW4ocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2Jvb2xlYW4oWm9kQm9vbGVhbiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RCaWdJbnQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQmlnSW50XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RCaWdJbnQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuZ3RlID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5taW4gPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmd0ID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0KHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmd0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubWluID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5sdCA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdCh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5sdGUgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHRlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1heCA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QucG9zaXRpdmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndChCaWdJbnQoMCksIHBhcmFtcykpO1xuICAgIGluc3QubmVnYXRpdmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdChCaWdJbnQoMCksIHBhcmFtcykpO1xuICAgIGluc3Qubm9ucG9zaXRpdmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdGUoQmlnSW50KDApLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm5vbm5lZ2F0aXZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKEJpZ0ludCgwKSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tdWx0aXBsZU9mID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLm11bHRpcGxlT2YodmFsdWUsIHBhcmFtcykpO1xuICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgaW5zdC5taW5WYWx1ZSA9IGJhZy5taW5pbXVtID8/IG51bGw7XG4gICAgaW5zdC5tYXhWYWx1ZSA9IGJhZy5tYXhpbXVtID8/IG51bGw7XG4gICAgaW5zdC5mb3JtYXQgPSBiYWcuZm9ybWF0ID8/IG51bGw7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBiaWdpbnQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2JpZ2ludChab2RCaWdJbnQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQmlnSW50Rm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEJpZ0ludEZvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQmlnSW50Rm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RCaWdJbnQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG4vLyBpbnQ2NFxuZXhwb3J0IGZ1bmN0aW9uIGludDY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pbnQ2NChab2RCaWdJbnRGb3JtYXQsIHBhcmFtcyk7XG59XG4vLyB1aW50NjRcbmV4cG9ydCBmdW5jdGlvbiB1aW50NjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3VpbnQ2NChab2RCaWdJbnRGb3JtYXQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kU3ltYm9sID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFN5bWJvbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kU3ltYm9sLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHN5bWJvbChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fc3ltYm9sKFpvZFN5bWJvbCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RVbmRlZmluZWQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVW5kZWZpbmVkXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RVbmRlZmluZWQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5mdW5jdGlvbiBfdW5kZWZpbmVkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91bmRlZmluZWQoWm9kVW5kZWZpbmVkLCBwYXJhbXMpO1xufVxuZXhwb3J0IHsgX3VuZGVmaW5lZCBhcyB1bmRlZmluZWQgfTtcbmV4cG9ydCBjb25zdCBab2ROdWxsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE51bGxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE51bGwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5mdW5jdGlvbiBfbnVsbChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fbnVsbChab2ROdWxsLCBwYXJhbXMpO1xufVxuZXhwb3J0IHsgX251bGwgYXMgbnVsbCB9O1xuZXhwb3J0IGNvbnN0IFpvZEFueSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RBbnlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEFueS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBhbnkoKSB7XG4gICAgcmV0dXJuIGNvcmUuX2FueShab2RBbnkpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFVua25vd24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVW5rbm93blwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kVW5rbm93bi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB1bmtub3duKCkge1xuICAgIHJldHVybiBjb3JlLl91bmtub3duKFpvZFVua25vd24pO1xufVxuZXhwb3J0IGNvbnN0IFpvZE5ldmVyID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE5ldmVyXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2ROZXZlci5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBuZXZlcihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fbmV2ZXIoWm9kTmV2ZXIsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kVm9pZCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RWb2lkXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RWb2lkLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZnVuY3Rpb24gX3ZvaWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3ZvaWQoWm9kVm9pZCwgcGFyYW1zKTtcbn1cbmV4cG9ydCB7IF92b2lkIGFzIHZvaWQgfTtcbmV4cG9ydCBjb25zdCBab2REYXRlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZERhdGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZERhdGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QubWluID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tYXggPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHRlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBjb25zdCBjID0gaW5zdC5fem9kLmJhZztcbiAgICBpbnN0Lm1pbkRhdGUgPSBjLm1pbmltdW0gPyBuZXcgRGF0ZShjLm1pbmltdW0pIDogbnVsbDtcbiAgICBpbnN0Lm1heERhdGUgPSBjLm1heGltdW0gPyBuZXcgRGF0ZShjLm1heGltdW0pIDogbnVsbDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGUocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2RhdGUoWm9kRGF0ZSwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RBcnJheSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RBcnJheVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQXJyYXkuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuZWxlbWVudCA9IGRlZi5lbGVtZW50O1xuICAgIGluc3QubWluID0gKG1pbkxlbmd0aCwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5taW5MZW5ndGgobWluTGVuZ3RoLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm5vbmVtcHR5ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubWluTGVuZ3RoKDEsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKG1heExlbmd0aCwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5tYXhMZW5ndGgobWF4TGVuZ3RoLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmxlbmd0aCA9IChsZW4sIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubGVuZ3RoKGxlbiwgcGFyYW1zKSk7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0LmVsZW1lbnQ7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBhcnJheShlbGVtZW50LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fYXJyYXkoWm9kQXJyYXksIGVsZW1lbnQsIHBhcmFtcyk7XG59XG4vLyAua2V5b2ZcbmV4cG9ydCBmdW5jdGlvbiBrZXlvZihzY2hlbWEpIHtcbiAgICBjb25zdCBzaGFwZSA9IHNjaGVtYS5fem9kLmRlZi5zaGFwZTtcbiAgICByZXR1cm4gX2VudW0oT2JqZWN0LmtleXMoc2hhcGUpKTtcbn1cbmV4cG9ydCBjb25zdCBab2RPYmplY3QgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kT2JqZWN0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RPYmplY3RKSVQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0LCBcInNoYXBlXCIsICgpID0+IGRlZi5zaGFwZSk7XG4gICAgaW5zdC5rZXlvZiA9ICgpID0+IF9lbnVtKE9iamVjdC5rZXlzKGluc3QuX3pvZC5kZWYuc2hhcGUpKTtcbiAgICBpbnN0LmNhdGNoYWxsID0gKGNhdGNoYWxsKSA9PiBpbnN0LmNsb25lKHsgLi4uaW5zdC5fem9kLmRlZiwgY2F0Y2hhbGw6IGNhdGNoYWxsIH0pO1xuICAgIGluc3QucGFzc3Rocm91Z2ggPSAoKSA9PiBpbnN0LmNsb25lKHsgLi4uaW5zdC5fem9kLmRlZiwgY2F0Y2hhbGw6IHVua25vd24oKSB9KTtcbiAgICBpbnN0Lmxvb3NlID0gKCkgPT4gaW5zdC5jbG9uZSh7IC4uLmluc3QuX3pvZC5kZWYsIGNhdGNoYWxsOiB1bmtub3duKCkgfSk7XG4gICAgaW5zdC5zdHJpY3QgPSAoKSA9PiBpbnN0LmNsb25lKHsgLi4uaW5zdC5fem9kLmRlZiwgY2F0Y2hhbGw6IG5ldmVyKCkgfSk7XG4gICAgaW5zdC5zdHJpcCA9ICgpID0+IGluc3QuY2xvbmUoeyAuLi5pbnN0Ll96b2QuZGVmLCBjYXRjaGFsbDogdW5kZWZpbmVkIH0pO1xuICAgIGluc3QuZXh0ZW5kID0gKGluY29taW5nKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLmV4dGVuZChpbnN0LCBpbmNvbWluZyk7XG4gICAgfTtcbiAgICBpbnN0LnNhZmVFeHRlbmQgPSAoaW5jb21pbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIHV0aWwuc2FmZUV4dGVuZChpbnN0LCBpbmNvbWluZyk7XG4gICAgfTtcbiAgICBpbnN0Lm1lcmdlID0gKG90aGVyKSA9PiB1dGlsLm1lcmdlKGluc3QsIG90aGVyKTtcbiAgICBpbnN0LnBpY2sgPSAobWFzaykgPT4gdXRpbC5waWNrKGluc3QsIG1hc2spO1xuICAgIGluc3Qub21pdCA9IChtYXNrKSA9PiB1dGlsLm9taXQoaW5zdCwgbWFzayk7XG4gICAgaW5zdC5wYXJ0aWFsID0gKC4uLmFyZ3MpID0+IHV0aWwucGFydGlhbChab2RPcHRpb25hbCwgaW5zdCwgYXJnc1swXSk7XG4gICAgaW5zdC5yZXF1aXJlZCA9ICguLi5hcmdzKSA9PiB1dGlsLnJlcXVpcmVkKFpvZE5vbk9wdGlvbmFsLCBpbnN0LCBhcmdzWzBdKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdChzaGFwZSwgcGFyYW1zKSB7XG4gICAgY29uc3QgZGVmID0ge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICB1dGlsLmFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBzaGFwZSA/IHV0aWwub2JqZWN0Q2xvbmUoc2hhcGUpIDoge30pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdChkZWYpO1xufVxuLy8gc3RyaWN0T2JqZWN0XG5leHBvcnQgZnVuY3Rpb24gc3RyaWN0T2JqZWN0KHNoYXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIHV0aWwuYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIHV0aWwub2JqZWN0Q2xvbmUoc2hhcGUpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjYXRjaGFsbDogbmV2ZXIoKSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIGxvb3NlT2JqZWN0XG5leHBvcnQgZnVuY3Rpb24gbG9vc2VPYmplY3Qoc2hhcGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgdXRpbC5hc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgdXRpbC5vYmplY3RDbG9uZShzaGFwZSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNhdGNoYWxsOiB1bmtub3duKCksXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kVW5pb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVW5pb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFVuaW9uLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Lm9wdGlvbnMgPSBkZWYub3B0aW9ucztcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHVuaW9uKG9wdGlvbnMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgICAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kRGlzY3JpbWluYXRlZFVuaW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgWm9kVW5pb24uaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZERpc2NyaW1pbmF0ZWRVbmlvbi5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBkaXNjcmltaW5hdGVkVW5pb24oZGlzY3JpbWluYXRvciwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgLy8gY29uc3QgW29wdGlvbnMsIHBhcmFtc10gPSBhcmdzO1xuICAgIHJldHVybiBuZXcgWm9kRGlzY3JpbWluYXRlZFVuaW9uKHtcbiAgICAgICAgdHlwZTogXCJ1bmlvblwiLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBkaXNjcmltaW5hdG9yLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZEludGVyc2VjdGlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RJbnRlcnNlY3Rpb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEludGVyc2VjdGlvbi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgICAgIHR5cGU6IFwiaW50ZXJzZWN0aW9uXCIsXG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RUdXBsZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RUdXBsZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kVHVwbGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QucmVzdCA9IChyZXN0KSA9PiBpbnN0LmNsb25lKHtcbiAgICAgICAgLi4uaW5zdC5fem9kLmRlZixcbiAgICAgICAgcmVzdDogcmVzdCxcbiAgICB9KTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHR1cGxlKGl0ZW1zLCBfcGFyYW1zT3JSZXN0LCBfcGFyYW1zKSB7XG4gICAgY29uc3QgaGFzUmVzdCA9IF9wYXJhbXNPclJlc3QgaW5zdGFuY2VvZiBjb3JlLiRab2RUeXBlO1xuICAgIGNvbnN0IHBhcmFtcyA9IGhhc1Jlc3QgPyBfcGFyYW1zIDogX3BhcmFtc09yUmVzdDtcbiAgICBjb25zdCByZXN0ID0gaGFzUmVzdCA/IF9wYXJhbXNPclJlc3QgOiBudWxsO1xuICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICB0eXBlOiBcInR1cGxlXCIsXG4gICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgcmVzdCxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RSZWNvcmQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kUmVjb3JkXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RSZWNvcmQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3Qua2V5VHlwZSA9IGRlZi5rZXlUeXBlO1xuICAgIGluc3QudmFsdWVUeXBlID0gZGVmLnZhbHVlVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZChrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgdHlwZTogXCJyZWNvcmRcIixcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdmFsdWVUeXBlOiB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyB0eXBlIGFsa3NqZiA9IGNvcmUub3V0cHV0PGNvcmUuJFpvZFJlY29yZEtleT47XG5leHBvcnQgZnVuY3Rpb24gcGFydGlhbFJlY29yZChrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIGNvbnN0IGsgPSBjb3JlLmNsb25lKGtleVR5cGUpO1xuICAgIGsuX3pvZC52YWx1ZXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgICAgICBrZXlUeXBlOiBrLFxuICAgICAgICB2YWx1ZVR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RNYXAgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTWFwXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RNYXAuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3Qua2V5VHlwZSA9IGRlZi5rZXlUeXBlO1xuICAgIGluc3QudmFsdWVUeXBlID0gZGVmLnZhbHVlVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG1hcChrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kTWFwKHtcbiAgICAgICAgdHlwZTogXCJtYXBcIixcbiAgICAgICAga2V5VHlwZToga2V5VHlwZSxcbiAgICAgICAgdmFsdWVUeXBlOiB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kU2V0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFNldFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kU2V0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Lm1pbiA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNvcmUuX21pblNpemUoLi4uYXJncykpO1xuICAgIGluc3Qubm9uZW1wdHkgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX21pblNpemUoMSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tYXggPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjb3JlLl9tYXhTaXplKC4uLmFyZ3MpKTtcbiAgICBpbnN0LnNpemUgPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjb3JlLl9zaXplKC4uLmFyZ3MpKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHNldCh2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgdmFsdWVUeXBlOiB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kRW51bSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RFbnVtXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RFbnVtLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LmVudW0gPSBkZWYuZW50cmllcztcbiAgICBpbnN0Lm9wdGlvbnMgPSBPYmplY3QudmFsdWVzKGRlZi5lbnRyaWVzKTtcbiAgICBjb25zdCBrZXlzID0gbmV3IFNldChPYmplY3Qua2V5cyhkZWYuZW50cmllcykpO1xuICAgIGluc3QuZXh0cmFjdCA9ICh2YWx1ZXMsIHBhcmFtcykgPT4ge1xuICAgICAgICBjb25zdCBuZXdFbnRyaWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICBpZiAoa2V5cy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbmV3RW50cmllc1t2YWx1ZV0gPSBkZWYuZW50cmllc1t2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBLZXkgJHt2YWx1ZX0gbm90IGZvdW5kIGluIGVudW1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICAgICAgLi4uZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgICAgICBlbnRyaWVzOiBuZXdFbnRyaWVzLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGluc3QuZXhjbHVkZSA9ICh2YWx1ZXMsIHBhcmFtcykgPT4ge1xuICAgICAgICBjb25zdCBuZXdFbnRyaWVzID0geyAuLi5kZWYuZW50cmllcyB9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICAgICAgaWYgKGtleXMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdFbnRyaWVzW3ZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEtleSAke3ZhbHVlfSBub3QgZm91bmQgaW4gZW51bWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICAgICAgICAuLi5kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgICAgIGVudHJpZXM6IG5ld0VudHJpZXMsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIF9lbnVtKHZhbHVlcywgcGFyYW1zKSB7XG4gICAgY29uc3QgZW50cmllcyA9IEFycmF5LmlzQXJyYXkodmFsdWVzKSA/IE9iamVjdC5mcm9tRW50cmllcyh2YWx1ZXMubWFwKCh2KSA9PiBbdiwgdl0pKSA6IHZhbHVlcztcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB0eXBlOiBcImVudW1cIixcbiAgICAgICAgZW50cmllcyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCB7IF9lbnVtIGFzIGVudW0gfTtcbi8qKiBAZGVwcmVjYXRlZCBUaGlzIEFQSSBoYXMgYmVlbiBtZXJnZWQgaW50byBgei5lbnVtKClgLiBVc2UgYHouZW51bSgpYCBpbnN0ZWFkLlxuICpcbiAqIGBgYHRzXG4gKiBlbnVtIENvbG9ycyB7IHJlZCwgZ3JlZW4sIGJsdWUgfVxuICogei5lbnVtKENvbG9ycyk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5hdGl2ZUVudW0oZW50cmllcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgdHlwZTogXCJlbnVtXCIsXG4gICAgICAgIGVudHJpZXMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kTGl0ZXJhbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RMaXRlcmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RMaXRlcmFsLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnZhbHVlcyA9IG5ldyBTZXQoZGVmLnZhbHVlcyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICBpZiAoZGVmLnZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzY2hlbWEgY29udGFpbnMgbXVsdGlwbGUgdmFsaWQgbGl0ZXJhbCB2YWx1ZXMuIFVzZSBgLnZhbHVlc2AgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVmLnZhbHVlc1swXTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGxpdGVyYWwodmFsdWUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kTGl0ZXJhbCh7XG4gICAgICAgIHR5cGU6IFwibGl0ZXJhbFwiLFxuICAgICAgICB2YWx1ZXM6IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZEZpbGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRmlsZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kRmlsZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5taW4gPSAoc2l6ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX21pblNpemUoc2l6ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tYXggPSAoc2l6ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX21heFNpemUoc2l6ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5taW1lID0gKHR5cGVzLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fbWltZShBcnJheS5pc0FycmF5KHR5cGVzKSA/IHR5cGVzIDogW3R5cGVzXSwgcGFyYW1zKSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBmaWxlKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9maWxlKFpvZEZpbGUsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kVHJhbnNmb3JtID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFRyYW5zZm9ybVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kVHJhbnNmb3JtLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBpZiAoX2N0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEVuY29kZUVycm9yKGluc3QuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC5hZGRJc3N1ZSA9IChpc3N1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpc3N1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2godXRpbC5pc3N1ZShpc3N1ZSwgcGF5bG9hZC52YWx1ZSwgZGVmKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgWm9kIDMgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZhdGFsKVxuICAgICAgICAgICAgICAgICAgICBfaXNzdWUuY29udGludWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuY29kZSA/PyAoX2lzc3VlLmNvZGUgPSBcImN1c3RvbVwiKTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuaW5wdXQgPz8gKF9pc3N1ZS5pbnB1dCA9IHBheWxvYWQudmFsdWUpO1xuICAgICAgICAgICAgICAgIF9pc3N1ZS5pbnN0ID8/IChfaXNzdWUuaW5zdCA9IGluc3QpO1xuICAgICAgICAgICAgICAgIC8vIF9pc3N1ZS5jb250aW51ZSA/Pz0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHV0aWwuaXNzdWUoX2lzc3VlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IGRlZi50cmFuc2Zvcm0ocGF5bG9hZC52YWx1ZSwgcGF5bG9hZCk7XG4gICAgICAgIGlmIChvdXRwdXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0LnRoZW4oKG91dHB1dCkgPT4ge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0gb3V0cHV0O1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgcmV0dXJuIG5ldyBab2RUcmFuc2Zvcm0oe1xuICAgICAgICB0eXBlOiBcInRyYW5zZm9ybVwiLFxuICAgICAgICB0cmFuc2Zvcm06IGZuLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZE9wdGlvbmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE9wdGlvbmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RPcHRpb25hbC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG9wdGlvbmFsKGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgWm9kT3B0aW9uYWwoe1xuICAgICAgICB0eXBlOiBcIm9wdGlvbmFsXCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZE51bGxhYmxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE51bGxhYmxlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2ROdWxsYWJsZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG51bGxhYmxlKGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbGFibGUoe1xuICAgICAgICB0eXBlOiBcIm51bGxhYmxlXCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuLy8gbnVsbGlzaFxuZXhwb3J0IGZ1bmN0aW9uIG51bGxpc2goaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG9wdGlvbmFsKG51bGxhYmxlKGlubmVyVHlwZSkpO1xufVxuZXhwb3J0IGNvbnN0IFpvZERlZmF1bHQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRGVmYXVsdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kRGVmYXVsdC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbiAgICBpbnN0LnJlbW92ZURlZmF1bHQgPSBpbnN0LnVud3JhcDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIF9kZWZhdWx0KGlubmVyVHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgICAgdHlwZTogXCJkZWZhdWx0XCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgICAgICBnZXQgZGVmYXVsdFZhbHVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09IFwiZnVuY3Rpb25cIiA/IGRlZmF1bHRWYWx1ZSgpIDogdXRpbC5zaGFsbG93Q2xvbmUoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RQcmVmYXVsdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RQcmVmYXVsdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kUHJlZmF1bHQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBwcmVmYXVsdChpbm5lclR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBuZXcgWm9kUHJlZmF1bHQoe1xuICAgICAgICB0eXBlOiBcInByZWZhdWx0XCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgICAgICBnZXQgZGVmYXVsdFZhbHVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09IFwiZnVuY3Rpb25cIiA/IGRlZmF1bHRWYWx1ZSgpIDogdXRpbC5zaGFsbG93Q2xvbmUoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2ROb25PcHRpb25hbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROb25PcHRpb25hbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTm9uT3B0aW9uYWwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBub25vcHRpb25hbChpbm5lclR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kTm9uT3B0aW9uYWwoe1xuICAgICAgICB0eXBlOiBcIm5vbm9wdGlvbmFsXCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFN1Y2Nlc3MgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kU3VjY2Vzc1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kU3VjY2Vzcy5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHN1Y2Nlc3MoaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RTdWNjZXNzKHtcbiAgICAgICAgdHlwZTogXCJzdWNjZXNzXCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZENhdGNoID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZENhdGNoXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RDYXRjaC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbiAgICBpbnN0LnJlbW92ZUNhdGNoID0gaW5zdC51bndyYXA7XG59KTtcbmZ1bmN0aW9uIF9jYXRjaChpbm5lclR5cGUsIGNhdGNoVmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgdHlwZTogXCJjYXRjaFwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICAgICAgY2F0Y2hWYWx1ZTogKHR5cGVvZiBjYXRjaFZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyBjYXRjaFZhbHVlIDogKCkgPT4gY2F0Y2hWYWx1ZSksXG4gICAgfSk7XG59XG5leHBvcnQgeyBfY2F0Y2ggYXMgY2F0Y2ggfTtcbmV4cG9ydCBjb25zdCBab2ROYU4gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTmFOXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2ROYU4uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbmFuKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9uYW4oWm9kTmFOLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFBpcGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kUGlwZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kUGlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5pbiA9IGRlZi5pbjtcbiAgICBpbnN0Lm91dCA9IGRlZi5vdXQ7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlKGluXywgb3V0KSB7XG4gICAgcmV0dXJuIG5ldyBab2RQaXBlKHtcbiAgICAgICAgdHlwZTogXCJwaXBlXCIsXG4gICAgICAgIGluOiBpbl8sXG4gICAgICAgIG91dDogb3V0LFxuICAgICAgICAvLyAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZENvZGVjID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZENvZGVjXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBab2RQaXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RDb2RlYy5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBjb2RlYyhpbl8sIG91dCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RDb2RlYyh7XG4gICAgICAgIHR5cGU6IFwicGlwZVwiLFxuICAgICAgICBpbjogaW5fLFxuICAgICAgICBvdXQ6IG91dCxcbiAgICAgICAgdHJhbnNmb3JtOiBwYXJhbXMuZGVjb2RlLFxuICAgICAgICByZXZlcnNlVHJhbnNmb3JtOiBwYXJhbXMuZW5jb2RlLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFJlYWRvbmx5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFJlYWRvbmx5XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RSZWFkb25seS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRvbmx5KGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgWm9kUmVhZG9ubHkoe1xuICAgICAgICB0eXBlOiBcInJlYWRvbmx5XCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFRlbXBsYXRlTGl0ZXJhbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RUZW1wbGF0ZUxpdGVyYWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFRlbXBsYXRlTGl0ZXJhbC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUxpdGVyYWwocGFydHMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kVGVtcGxhdGVMaXRlcmFsKHtcbiAgICAgICAgdHlwZTogXCJ0ZW1wbGF0ZV9saXRlcmFsXCIsXG4gICAgICAgIHBhcnRzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZExhenkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTGF6eVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTGF6eS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmdldHRlcigpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbGF6eShnZXR0ZXIpIHtcbiAgICByZXR1cm4gbmV3IFpvZExhenkoe1xuICAgICAgICB0eXBlOiBcImxhenlcIixcbiAgICAgICAgZ2V0dGVyOiBnZXR0ZXIsXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kUHJvbWlzZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RQcm9taXNlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RQcm9taXNlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gcHJvbWlzZShpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFpvZFByb21pc2Uoe1xuICAgICAgICB0eXBlOiBcInByb21pc2VcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kRnVuY3Rpb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRnVuY3Rpb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEZ1bmN0aW9uLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIF9mdW5jdGlvbihwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICBpbnB1dDogQXJyYXkuaXNBcnJheShwYXJhbXM/LmlucHV0KSA/IHR1cGxlKHBhcmFtcz8uaW5wdXQpIDogKHBhcmFtcz8uaW5wdXQgPz8gYXJyYXkodW5rbm93bigpKSksXG4gICAgICAgIG91dHB1dDogcGFyYW1zPy5vdXRwdXQgPz8gdW5rbm93bigpLFxuICAgIH0pO1xufVxuZXhwb3J0IHsgX2Z1bmN0aW9uIGFzIGZ1bmN0aW9uIH07XG5leHBvcnQgY29uc3QgWm9kQ3VzdG9tID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEN1c3RvbVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQ3VzdG9tLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuLy8gY3VzdG9tIGNoZWNrc1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrKGZuKSB7XG4gICAgY29uc3QgY2ggPSBuZXcgY29yZS4kWm9kQ2hlY2soe1xuICAgICAgICBjaGVjazogXCJjdXN0b21cIixcbiAgICAgICAgLy8gLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbiAgICBjaC5fem9kLmNoZWNrID0gZm47XG4gICAgcmV0dXJuIGNoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGN1c3RvbShmbiwgX3BhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jdXN0b20oWm9kQ3VzdG9tLCBmbiA/PyAoKCkgPT4gdHJ1ZSksIF9wYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlZmluZShmbiwgX3BhcmFtcyA9IHt9KSB7XG4gICAgcmV0dXJuIGNvcmUuX3JlZmluZShab2RDdXN0b20sIGZuLCBfcGFyYW1zKTtcbn1cbi8vIHN1cGVyUmVmaW5lXG5leHBvcnQgZnVuY3Rpb24gc3VwZXJSZWZpbmUoZm4pIHtcbiAgICByZXR1cm4gY29yZS5fc3VwZXJSZWZpbmUoZm4pO1xufVxuZnVuY3Rpb24gX2luc3RhbmNlb2YoY2xzLCBwYXJhbXMgPSB7XG4gICAgZXJyb3I6IGBJbnB1dCBub3QgaW5zdGFuY2Ugb2YgJHtjbHMubmFtZX1gLFxufSkge1xuICAgIGNvbnN0IGluc3QgPSBuZXcgWm9kQ3VzdG9tKHtcbiAgICAgICAgdHlwZTogXCJjdXN0b21cIixcbiAgICAgICAgY2hlY2s6IFwiY3VzdG9tXCIsXG4gICAgICAgIGZuOiAoZGF0YSkgPT4gZGF0YSBpbnN0YW5jZW9mIGNscyxcbiAgICAgICAgYWJvcnQ6IHRydWUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmJhZy5DbGFzcyA9IGNscztcbiAgICByZXR1cm4gaW5zdDtcbn1cbmV4cG9ydCB7IF9pbnN0YW5jZW9mIGFzIGluc3RhbmNlb2YgfTtcbi8vIHN0cmluZ2Jvb2xcbmV4cG9ydCBjb25zdCBzdHJpbmdib29sID0gKC4uLmFyZ3MpID0+IGNvcmUuX3N0cmluZ2Jvb2woe1xuICAgIENvZGVjOiBab2RDb2RlYyxcbiAgICBCb29sZWFuOiBab2RCb29sZWFuLFxuICAgIFN0cmluZzogWm9kU3RyaW5nLFxufSwgLi4uYXJncyk7XG5leHBvcnQgZnVuY3Rpb24ganNvbihwYXJhbXMpIHtcbiAgICBjb25zdCBqc29uU2NoZW1hID0gbGF6eSgoKSA9PiB7XG4gICAgICAgIHJldHVybiB1bmlvbihbc3RyaW5nKHBhcmFtcyksIG51bWJlcigpLCBib29sZWFuKCksIF9udWxsKCksIGFycmF5KGpzb25TY2hlbWEpLCByZWNvcmQoc3RyaW5nKCksIGpzb25TY2hlbWEpXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGpzb25TY2hlbWE7XG59XG4vLyBwcmVwcm9jZXNzXG4vLyAvKiogQGRlcHJlY2F0ZWQgVXNlIGB6LnBpcGUoKWAgYW5kIGB6LnRyYW5zZm9ybSgpYCBpbnN0ZWFkLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXByb2Nlc3MoZm4sIHNjaGVtYSkge1xuICAgIHJldHVybiBwaXBlKHRyYW5zZm9ybShmbiksIHNjaGVtYSk7XG59XG4iLCAiLy8gWm9kIDMgY29tcGF0IGxheWVyXG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG4vKiogQGRlcHJlY2F0ZWQgVXNlIHRoZSByYXcgc3RyaW5nIGxpdGVyYWwgY29kZXMgaW5zdGVhZCwgZS5nLiBcImludmFsaWRfdHlwZVwiLiAqL1xuZXhwb3J0IGNvbnN0IFpvZElzc3VlQ29kZSA9IHtcbiAgICBpbnZhbGlkX3R5cGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgdG9vX2JpZzogXCJ0b29fYmlnXCIsXG4gICAgdG9vX3NtYWxsOiBcInRvb19zbWFsbFwiLFxuICAgIGludmFsaWRfZm9ybWF0OiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgbm90X211bHRpcGxlX29mOiBcIm5vdF9tdWx0aXBsZV9vZlwiLFxuICAgIHVucmVjb2duaXplZF9rZXlzOiBcInVucmVjb2duaXplZF9rZXlzXCIsXG4gICAgaW52YWxpZF91bmlvbjogXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgaW52YWxpZF9rZXk6IFwiaW52YWxpZF9rZXlcIixcbiAgICBpbnZhbGlkX2VsZW1lbnQ6IFwiaW52YWxpZF9lbGVtZW50XCIsXG4gICAgaW52YWxpZF92YWx1ZTogXCJpbnZhbGlkX3ZhbHVlXCIsXG4gICAgY3VzdG9tOiBcImN1c3RvbVwiLFxufTtcbmV4cG9ydCB7ICRicmFuZCwgY29uZmlnIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbi8qKiBAZGVwcmVjYXRlZCBVc2UgYHouY29uZmlnKHBhcmFtcylgIGluc3RlYWQuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RXJyb3JNYXAobWFwKSB7XG4gICAgY29yZS5jb25maWcoe1xuICAgICAgICBjdXN0b21FcnJvcjogbWFwLFxuICAgIH0pO1xufVxuLyoqIEBkZXByZWNhdGVkIFVzZSBgei5jb25maWcoKWAgaW5zdGVhZC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvck1hcCgpIHtcbiAgICByZXR1cm4gY29yZS5jb25maWcoKS5jdXN0b21FcnJvcjtcbn1cbi8qKiBAZGVwcmVjYXRlZCBEbyBub3QgdXNlLiBTdHViIGRlZmluaXRpb24sIG9ubHkgaW5jbHVkZWQgZm9yIHpvZC10by1qc29uLXNjaGVtYSBjb21wYXRpYmlsaXR5LiAqL1xuZXhwb3J0IHZhciBab2RGaXJzdFBhcnR5VHlwZUtpbmQ7XG4oZnVuY3Rpb24gKFpvZEZpcnN0UGFydHlUeXBlS2luZCkge1xufSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuIiwgImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCAqIGFzIHNjaGVtYXMgZnJvbSBcIi4vc2NoZW1hcy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZyhwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY29lcmNlZFN0cmluZyhzY2hlbWFzLlpvZFN0cmluZywgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NvZXJjZWROdW1iZXIoc2NoZW1hcy5ab2ROdW1iZXIsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYm9vbGVhbihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY29lcmNlZEJvb2xlYW4oc2NoZW1hcy5ab2RCb29sZWFuLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJpZ2ludChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY29lcmNlZEJpZ2ludChzY2hlbWFzLlpvZEJpZ0ludCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkYXRlKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jb2VyY2VkRGF0ZShzY2hlbWFzLlpvZERhdGUsIHBhcmFtcyk7XG59XG4iLCAiZXhwb3J0IHZhciB1dGlsO1xuKGZ1bmN0aW9uICh1dGlsKSB7XG4gICAgdXRpbC5hc3NlcnRFcXVhbCA9IChfKSA9PiB7IH07XG4gICAgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG4gICAgdXRpbC5hc3NlcnRJcyA9IGFzc2VydElzO1xuICAgIGZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICB1dGlsLmFzc2VydE5ldmVyID0gYXNzZXJ0TmV2ZXI7XG4gICAgdXRpbC5hcnJheVRvRW51bSA9IChpdGVtcykgPT4ge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBvYmpbaXRlbV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKG9iaikuZmlsdGVyKChrKSA9PiB0eXBlb2Ygb2JqW29ialtrXV0gIT09IFwibnVtYmVyXCIpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgdmFsaWRLZXlzKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXMoZmlsdGVyZWQpO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdEtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfTtcbiAgICB1dGlsLmZpbmQgPSAoYXJyLCBjaGVja2VyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2VyKGl0ZW0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICB1dGlsLmlzSW50ZWdlciA9IHR5cGVvZiBOdW1iZXIuaXNJbnRlZ2VyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyAodmFsKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUodmFsKSAmJiBNYXRoLmZsb29yKHZhbCkgPT09IHZhbDtcbiAgICBmdW5jdGlvbiBqb2luVmFsdWVzKGFycmF5LCBzZXBhcmF0b3IgPSBcIiB8IFwiKSB7XG4gICAgICAgIHJldHVybiBhcnJheS5tYXAoKHZhbCkgPT4gKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgPyBgJyR7dmFsfSdgIDogdmFsKSkuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB1dGlsLmpvaW5WYWx1ZXMgPSBqb2luVmFsdWVzO1xuICAgIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyID0gKF8sIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufSkodXRpbCB8fCAodXRpbCA9IHt9KSk7XG5leHBvcnQgdmFyIG9iamVjdFV0aWw7XG4oZnVuY3Rpb24gKG9iamVjdFV0aWwpIHtcbiAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzID0gKGZpcnN0LCBzZWNvbmQpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmZpcnN0LFxuICAgICAgICAgICAgLi4uc2Vjb25kLCAvLyBzZWNvbmQgb3ZlcndyaXRlcyBmaXJzdFxuICAgICAgICB9O1xuICAgIH07XG59KShvYmplY3RVdGlsIHx8IChvYmplY3RVdGlsID0ge30pKTtcbmV4cG9ydCBjb25zdCBab2RQYXJzZWRUeXBlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJzdHJpbmdcIixcbiAgICBcIm5hblwiLFxuICAgIFwibnVtYmVyXCIsXG4gICAgXCJpbnRlZ2VyXCIsXG4gICAgXCJmbG9hdFwiLFxuICAgIFwiYm9vbGVhblwiLFxuICAgIFwiZGF0ZVwiLFxuICAgIFwiYmlnaW50XCIsXG4gICAgXCJzeW1ib2xcIixcbiAgICBcImZ1bmN0aW9uXCIsXG4gICAgXCJ1bmRlZmluZWRcIixcbiAgICBcIm51bGxcIixcbiAgICBcImFycmF5XCIsXG4gICAgXCJvYmplY3RcIixcbiAgICBcInVua25vd25cIixcbiAgICBcInByb21pc2VcIixcbiAgICBcInZvaWRcIixcbiAgICBcIm5ldmVyXCIsXG4gICAgXCJtYXBcIixcbiAgICBcInNldFwiLFxuXSk7XG5leHBvcnQgY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN0cmluZztcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFpvZFBhcnNlZFR5cGUubmFuIDogWm9kUGFyc2VkVHlwZS5udW1iZXI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5ib29sZWFuO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uO1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5iaWdpbnQ7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN5bWJvbDtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5hcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5vYmplY3Q7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmtub3duO1xuICAgIH1cbn07XG4iLCAiaW1wb3J0IHsgdXRpbCB9IGZyb20gXCIuL2hlbHBlcnMvdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0IFpvZElzc3VlQ29kZSA9IHV0aWwuYXJyYXlUb0VudW0oW1xuICAgIFwiaW52YWxpZF90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2xpdGVyYWxcIixcbiAgICBcImN1c3RvbVwiLFxuICAgIFwiaW52YWxpZF91bmlvblwiLFxuICAgIFwiaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yXCIsXG4gICAgXCJpbnZhbGlkX2VudW1fdmFsdWVcIixcbiAgICBcInVucmVjb2duaXplZF9rZXlzXCIsXG4gICAgXCJpbnZhbGlkX2FyZ3VtZW50c1wiLFxuICAgIFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiLFxuICAgIFwiaW52YWxpZF9kYXRlXCIsXG4gICAgXCJpbnZhbGlkX3N0cmluZ1wiLFxuICAgIFwidG9vX3NtYWxsXCIsXG4gICAgXCJ0b29fYmlnXCIsXG4gICAgXCJpbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlc1wiLFxuICAgIFwibm90X211bHRpcGxlX29mXCIsXG4gICAgXCJub3RfZmluaXRlXCIsXG5dKTtcbmV4cG9ydCBjb25zdCBxdW90ZWxlc3NKc29uID0gKG9iaikgPT4ge1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpO1xuICAgIHJldHVybiBqc29uLnJlcGxhY2UoL1wiKFteXCJdKylcIjovZywgXCIkMTpcIik7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGdldCBlcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzc3VlcztcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaXNzdWVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gW107XG4gICAgICAgIHRoaXMuYWRkSXNzdWUgPSAoc3ViKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3Vlcywgc3ViXTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZXMgPSAoc3VicyA9IFtdKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3VlcywgLi4uc3Vic107XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFjdHVhbFByb3RvID0gbmV3LnRhcmdldC5wcm90b3R5cGU7XG4gICAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgYWN0dWFsUHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fX3Byb3RvX18gPSBhY3R1YWxQcm90bztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSBcIlpvZEVycm9yXCI7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gaXNzdWVzO1xuICAgIH1cbiAgICBmb3JtYXQoX21hcHBlcikge1xuICAgICAgICBjb25zdCBtYXBwZXIgPSBfbWFwcGVyIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoaXNzdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNzdWUubWVzc2FnZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0geyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXNzdWUgb2YgZXJyb3IuaXNzdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlLnVuaW9uRXJyb3JzLm1hcChwcm9jZXNzRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfcmV0dXJuX3R5cGVcIikge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUucmV0dXJuVHlwZUVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2FyZ3VtZW50c1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5hcmd1bWVudHNFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyID0gZmllbGRFcnJvcnM7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBpc3N1ZS5wYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBpc3N1ZS5wYXRoW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBpID09PSBpc3N1ZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiBlbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIGlmICh0eXBlb2YgZWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGNvbnN0IGVycm9yQXJyYXk6IGFueSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZXJyb3JBcnJheS5fZXJyb3JzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IGVycm9yQXJyYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0uX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnJbZWxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwcm9jZXNzRXJyb3IodGhpcyk7XG4gICAgICAgIHJldHVybiBmaWVsZEVycm9ycztcbiAgICB9XG4gICAgc3RhdGljIGFzc2VydCh2YWx1ZSkge1xuICAgICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIFpvZEVycm9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb3QgYSBab2RFcnJvcjogJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZTtcbiAgICB9XG4gICAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmlzc3VlcywgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgIH1cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgZmxhdHRlbihtYXBwZXIgPSAoaXNzdWUpID0+IGlzc3VlLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7fTtcbiAgICAgICAgY29uc3QgZm9ybUVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLmlzc3Vlcykge1xuICAgICAgICAgICAgaWYgKHN1Yi5wYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEVsID0gc3ViLnBhdGhbMF07XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbZmlyc3RFbF0gPSBmaWVsZEVycm9yc1tmaXJzdEVsXSB8fCBbXTtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tmaXJzdEVsXS5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvcm1FcnJvcnMucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZm9ybUVycm9ycywgZmllbGRFcnJvcnMgfTtcbiAgICB9XG4gICAgZ2V0IGZvcm1FcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYXR0ZW4oKTtcbiAgICB9XG59XG5ab2RFcnJvci5jcmVhdGUgPSAoaXNzdWVzKSA9PiB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoaXNzdWVzKTtcbiAgICByZXR1cm4gZXJyb3I7XG59O1xuIiwgImltcG9ydCB7IFpvZElzc3VlQ29kZSB9IGZyb20gXCIuLi9ab2RFcnJvci5qc1wiO1xuaW1wb3J0IHsgdXRpbCwgWm9kUGFyc2VkVHlwZSB9IGZyb20gXCIuLi9oZWxwZXJzL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yTWFwID0gKGlzc3VlLCBfY3R4KSA9PiB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZTpcbiAgICAgICAgICAgIGlmIChpc3N1ZS5yZWNlaXZlZCA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJSZXF1aXJlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBFeHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHtpc3N1ZS5yZWNlaXZlZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBsaXRlcmFsIHZhbHVlLCBleHBlY3RlZCAke0pTT04uc3RyaW5naWZ5KGlzc3VlLmV4cGVjdGVkLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlcil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgVW5yZWNvZ25pemVkIGtleShzKSBpbiBvYmplY3Q6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3I6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZW51bSB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9LCByZWNlaXZlZCAnJHtpc3N1ZS5yZWNlaXZlZH0nYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBmdW5jdGlvbiBhcmd1bWVudHNgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gcmV0dXJuIHR5cGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkYXRlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZzpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChcImluY2x1ZGVzXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3QgaW5jbHVkZSBcIiR7aXNzdWUudmFsaWRhdGlvbi5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IGF0IG9uZSBvciBtb3JlIHBvc2l0aW9ucyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJHtpc3N1ZS52YWxpZGF0aW9uLnBvc2l0aW9ufWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJzdGFydHNXaXRoXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3Qgc3RhcnQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5zdGFydHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJlbmRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGVuZCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmVuZHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUudmFsaWRhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudmFsaWRhdGlvbiAhPT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkICR7aXNzdWUudmFsaWRhdGlvbn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnRvb19zbWFsbDpcbiAgICAgICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBBcnJheSBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBtb3JlIHRoYW5gfSAke2lzc3VlLm1pbmltdW19IGVsZW1lbnQocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFN0cmluZyBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBvdmVyYH0gJHtpc3N1ZS5taW5pbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5IGVxdWFsIHRvIGAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGAgOiBgZ3JlYXRlciB0aGFuIGB9JHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWluaW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnRvb19iaWc6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgdW5kZXJgfSAke2lzc3VlLm1heGltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBsZXNzIHRoYW4gb3IgZXF1YWwgdG9gIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEJpZ0ludCBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvYCA6IGBzbWFsbGVyIHRoYW5gfSAke25ldyBEYXRlKE51bWJlcihpc3N1ZS5tYXhpbXVtKSl9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuY3VzdG9tOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlczpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW50ZXJzZWN0aW9uIHJlc3VsdHMgY291bGQgbm90IGJlIG1lcmdlZGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSBhIG11bHRpcGxlIG9mICR7aXNzdWUubXVsdGlwbGVPZn1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9maW5pdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJOdW1iZXIgbXVzdCBiZSBmaW5pdGVcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWVzc2FnZSA9IF9jdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihpc3N1ZSk7XG4gICAgfVxuICAgIHJldHVybiB7IG1lc3NhZ2UgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBlcnJvck1hcDtcbiIsICJpbXBvcnQgZGVmYXVsdEVycm9yTWFwIGZyb20gXCIuL2xvY2FsZXMvZW4uanNcIjtcbmxldCBvdmVycmlkZUVycm9yTWFwID0gZGVmYXVsdEVycm9yTWFwO1xuZXhwb3J0IHsgZGVmYXVsdEVycm9yTWFwIH07XG5leHBvcnQgZnVuY3Rpb24gc2V0RXJyb3JNYXAobWFwKSB7XG4gICAgb3ZlcnJpZGVFcnJvck1hcCA9IG1hcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvck1hcCgpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGVFcnJvck1hcDtcbn1cbiIsICJpbXBvcnQgeyBnZXRFcnJvck1hcCB9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCBkZWZhdWx0RXJyb3JNYXAgZnJvbSBcIi4uL2xvY2FsZXMvZW4uanNcIjtcbmV4cG9ydCBjb25zdCBtYWtlSXNzdWUgPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBwYXRoLCBlcnJvck1hcHMsIGlzc3VlRGF0YSB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGZ1bGxQYXRoID0gWy4uLnBhdGgsIC4uLihpc3N1ZURhdGEucGF0aCB8fCBbXSldO1xuICAgIGNvbnN0IGZ1bGxJc3N1ZSA9IHtcbiAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICB9O1xuICAgIGlmIChpc3N1ZURhdGEubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGlzc3VlRGF0YS5tZXNzYWdlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICBjb25zdCBtYXBzID0gZXJyb3JNYXBzXG4gICAgICAgIC5maWx0ZXIoKG0pID0+ICEhbSlcbiAgICAgICAgLnNsaWNlKClcbiAgICAgICAgLnJldmVyc2UoKTtcbiAgICBmb3IgKGNvbnN0IG1hcCBvZiBtYXBzKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IG1hcChmdWxsSXNzdWUsIHsgZGF0YSwgZGVmYXVsdEVycm9yOiBlcnJvck1lc3NhZ2UgfSkubWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IEVNUFRZX1BBVEggPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIGlzc3VlRGF0YSkge1xuICAgIGNvbnN0IG92ZXJyaWRlTWFwID0gZ2V0RXJyb3JNYXAoKTtcbiAgICBjb25zdCBpc3N1ZSA9IG1ha2VJc3N1ZSh7XG4gICAgICAgIGlzc3VlRGF0YTogaXNzdWVEYXRhLFxuICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsIC8vIGNvbnRleHR1YWwgZXJyb3IgbWFwIGlzIGZpcnN0IHByaW9yaXR5XG4gICAgICAgICAgICBjdHguc2NoZW1hRXJyb3JNYXAsIC8vIHRoZW4gc2NoZW1hLWJvdW5kIG1hcCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgIG92ZXJyaWRlTWFwLCAvLyB0aGVuIGdsb2JhbCBvdmVycmlkZSBtYXBcbiAgICAgICAgICAgIG92ZXJyaWRlTWFwID09PSBkZWZhdWx0RXJyb3JNYXAgPyB1bmRlZmluZWQgOiBkZWZhdWx0RXJyb3JNYXAsIC8vIHRoZW4gZ2xvYmFsIGRlZmF1bHQgbWFwXG4gICAgICAgIF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgIH0pO1xuICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goaXNzdWUpO1xufVxuZXhwb3J0IGNsYXNzIFBhcnNlU3RhdHVzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IFwidmFsaWRcIjtcbiAgICB9XG4gICAgZGlydHkoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09PSBcInZhbGlkXCIpXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJkaXJ0eVwiO1xuICAgIH1cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiYWJvcnRlZFwiO1xuICAgIH1cbiAgICBzdGF0aWMgbWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpIHtcbiAgICAgICAgY29uc3QgYXJyYXlWYWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHMgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgYXJyYXlWYWx1ZS5wdXNoKHMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogYXJyYXlWYWx1ZSB9O1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgbWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgc3luY1BhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBzeW5jUGFpcnMpO1xuICAgIH1cbiAgICBzdGF0aWMgbWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpIHtcbiAgICAgICAgY29uc3QgZmluYWxPYmplY3QgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICBjb25zdCB7IGtleSwgdmFsdWUgfSA9IHBhaXI7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAodmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBpZiAodmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBpZiAoa2V5LnZhbHVlICE9PSBcIl9fcHJvdG9fX1wiICYmICh0eXBlb2YgdmFsdWUudmFsdWUgIT09IFwidW5kZWZpbmVkXCIgfHwgcGFpci5hbHdheXNTZXQpKSB7XG4gICAgICAgICAgICAgICAgZmluYWxPYmplY3Rba2V5LnZhbHVlXSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxPYmplY3QgfTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgSU5WQUxJRCA9IE9iamVjdC5mcmVlemUoe1xuICAgIHN0YXR1czogXCJhYm9ydGVkXCIsXG59KTtcbmV4cG9ydCBjb25zdCBESVJUWSA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcImRpcnR5XCIsIHZhbHVlIH0pO1xuZXhwb3J0IGNvbnN0IE9LID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWUgfSk7XG5leHBvcnQgY29uc3QgaXNBYm9ydGVkID0gKHgpID0+IHguc3RhdHVzID09PSBcImFib3J0ZWRcIjtcbmV4cG9ydCBjb25zdCBpc0RpcnR5ID0gKHgpID0+IHguc3RhdHVzID09PSBcImRpcnR5XCI7XG5leHBvcnQgY29uc3QgaXNWYWxpZCA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJ2YWxpZFwiO1xuZXhwb3J0IGNvbnN0IGlzQXN5bmMgPSAoeCkgPT4gdHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIgJiYgeCBpbnN0YW5jZW9mIFByb21pc2U7XG4iLCAiZXhwb3J0IHZhciBlcnJvclV0aWw7XG4oZnVuY3Rpb24gKGVycm9yVXRpbCkge1xuICAgIGVycm9yVXRpbC5lcnJUb09iaiA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZSB9IDogbWVzc2FnZSB8fCB7fTtcbiAgICAvLyBiaW9tZS1pZ25vcmUgbGludDpcbiAgICBlcnJvclV0aWwudG9TdHJpbmcgPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogbWVzc2FnZT8ubWVzc2FnZTtcbn0pKGVycm9yVXRpbCB8fCAoZXJyb3JVdGlsID0ge30pKTtcbiIsICJpbXBvcnQgeyBab2RFcnJvciwgWm9kSXNzdWVDb2RlLCB9IGZyb20gXCIuL1pvZEVycm9yLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0RXJyb3JNYXAsIGdldEVycm9yTWFwIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBlcnJvclV0aWwgfSBmcm9tIFwiLi9oZWxwZXJzL2Vycm9yVXRpbC5qc1wiO1xuaW1wb3J0IHsgRElSVFksIElOVkFMSUQsIE9LLCBQYXJzZVN0YXR1cywgYWRkSXNzdWVUb0NvbnRleHQsIGlzQWJvcnRlZCwgaXNBc3luYywgaXNEaXJ0eSwgaXNWYWxpZCwgbWFrZUlzc3VlLCB9IGZyb20gXCIuL2hlbHBlcnMvcGFyc2VVdGlsLmpzXCI7XG5pbXBvcnQgeyB1dGlsLCBab2RQYXJzZWRUeXBlLCBnZXRQYXJzZWRUeXBlIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX2tleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgLi4udGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCB0aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRQYXRoO1xuICAgIH1cbn1cbmNvbnN0IGhhbmRsZVJlc3VsdCA9IChjdHgsIHJlc3VsdCkgPT4ge1xuICAgIGlmIChpc1ZhbGlkKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnZhbHVlIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsaWRhdGlvbiBmYWlsZWQgYnV0IG5vIGlzc3VlcyBkZXRlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBjb25zdCB7IGVycm9yTWFwLCBpbnZhbGlkX3R5cGVfZXJyb3IsIHJlcXVpcmVkX2Vycm9yLCBkZXNjcmlwdGlvbiB9ID0gcGFyYW1zO1xuICAgIGlmIChlcnJvck1hcCAmJiAoaW52YWxpZF90eXBlX2Vycm9yIHx8IHJlcXVpcmVkX2Vycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBcImludmFsaWRfdHlwZV9lcnJvclwiIG9yIFwicmVxdWlyZWRfZXJyb3JcIiBpbiBjb25qdW5jdGlvbiB3aXRoIGN1c3RvbSBlcnJvciBtYXAuYCk7XG4gICAgfVxuICAgIGlmIChlcnJvck1hcClcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JNYXA6IGVycm9yTWFwLCBkZXNjcmlwdGlvbiB9O1xuICAgIGNvbnN0IGN1c3RvbU1hcCA9IChpc3MsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHBhcmFtcztcbiAgICAgICAgaWYgKGlzcy5jb2RlID09PSBcImludmFsaWRfZW51bV92YWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGN0eC5kYXRhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IHJlcXVpcmVkX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNzLmNvZGUgIT09IFwiaW52YWxpZF90eXBlXCIpXG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gaW52YWxpZF90eXBlX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGVycm9yTWFwOiBjdXN0b21NYXAsIGRlc2NyaXB0aW9uIH07XG59XG5leHBvcnQgY2xhc3MgWm9kVHlwZSB7XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBfZ2V0VHlwZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIChjdHggfHwge1xuICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBuZXcgUGFyc2VTdGF0dXMoKSxcbiAgICAgICAgICAgIGN0eDoge1xuICAgICAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3BhcnNlU3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogcGFyYW1zPy5hc3luYyA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBcIn52YWxpZGF0ZVwiKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogISF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyPy5tZXNzYWdlPy50b0xvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImVuY291bnRlcmVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguY29tbW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJzZUFzeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pLnRoZW4oKHJlc3VsdCkgPT4gaXNWYWxpZChyZXN1bHQpXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChpc0FzeW5jKG1heWJlQXN5bmNSZXN1bHQpID8gbWF5YmVBc3luY1Jlc3VsdCA6IFByb21pc2UucmVzb2x2ZShtYXliZUFzeW5jUmVzdWx0KSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICByZWZpbmUoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZ2V0SXNzdWVQcm9wZXJ0aWVzID0gKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBtZXNzYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjaGVjayh2YWwpO1xuICAgICAgICAgICAgY29uc3Qgc2V0RXJyb3IgPSAoKSA9PiBjdHguYWRkSXNzdWUoe1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5jdXN0b20sXG4gICAgICAgICAgICAgICAgLi4uZ2V0SXNzdWVQcm9wZXJ0aWVzKHZhbCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWZpbmVtZW50KGNoZWNrLCByZWZpbmVtZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGlmICghY2hlY2sodmFsKSkge1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh0eXBlb2YgcmVmaW5lbWVudERhdGEgPT09IFwiZnVuY3Rpb25cIiA/IHJlZmluZW1lbnREYXRhKHZhbCwgY3R4KSA6IHJlZmluZW1lbnREYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZWZpbmVtZW50KHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInJlZmluZW1lbnRcIiwgcmVmaW5lbWVudCB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3VwZXJSZWZpbmUocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudChyZWZpbmVtZW50KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZGVmKSB7XG4gICAgICAgIC8qKiBBbGlhcyBvZiBzYWZlUGFyc2VBc3luYyAqL1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc2FmZVBhcnNlQXN5bmM7XG4gICAgICAgIHRoaXMuX2RlZiA9IGRlZjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHRoaXMucGFyc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2UgPSB0aGlzLnNhZmVQYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBhcnNlQXN5bmMgPSB0aGlzLnBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2VBc3luYyA9IHRoaXMuc2FmZVBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zcGEgPSB0aGlzLnNwYS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZmluZSA9IHRoaXMucmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lbWVudCA9IHRoaXMucmVmaW5lbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnN1cGVyUmVmaW5lID0gdGhpcy5zdXBlclJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gdGhpcy5vcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxhYmxlID0gdGhpcy5udWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxpc2ggPSB0aGlzLm51bGxpc2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hcnJheSA9IHRoaXMuYXJyYXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3IgPSB0aGlzLm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYW5kID0gdGhpcy5hbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJyYW5kID0gdGhpcy5icmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSB0aGlzLmRlZmF1bHQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYXRjaCA9IHRoaXMuY2F0Y2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXNjcmliZSA9IHRoaXMuZGVzY3JpYmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5waXBlID0gdGhpcy5waXBlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVhZG9ubHkgPSB0aGlzLnJlYWRvbmx5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNOdWxsYWJsZSA9IHRoaXMuaXNOdWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSB0aGlzLmlzT3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXSA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgICAgICB2ZW5kb3I6IFwiem9kXCIsXG4gICAgICAgICAgICB2YWxpZGF0ZTogKGRhdGEpID0+IHRoaXNbXCJ+dmFsaWRhdGVcIl0oZGF0YSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIG9wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxpc2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bGxhYmxlKCkub3B0aW9uYWwoKTtcbiAgICB9XG4gICAgYXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBab2RBcnJheS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBab2RQcm9taXNlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBvcihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIFpvZFVuaW9uLmNyZWF0ZShbdGhpcywgb3B0aW9uXSwgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgYW5kKGluY29taW5nKSB7XG4gICAgICAgIHJldHVybiBab2RJbnRlcnNlY3Rpb24uY3JlYXRlKHRoaXMsIGluY29taW5nLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWZhdWx0KGRlZikge1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYnJhbmQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQnJhbmRlZCh7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZGVmKSB7XG4gICAgICAgIGNvbnN0IGNhdGNoVmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICAgIGNhdGNoVmFsdWU6IGNhdGNoVmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlc2NyaWJlKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IFRoaXMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IFRoaXMoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaXBlKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gWm9kUGlwZWxpbmUuY3JlYXRlKHRoaXMsIHRhcmdldCk7XG4gICAgfVxuICAgIHJlYWRvbmx5KCkge1xuICAgICAgICByZXR1cm4gWm9kUmVhZG9ubHkuY3JlYXRlKHRoaXMpO1xuICAgIH1cbiAgICBpc09wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UodW5kZWZpbmVkKS5zdWNjZXNzO1xuICAgIH1cbiAgICBpc051bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICB9XG59XG5jb25zdCBjdWlkUmVnZXggPSAvXmNbXlxccy1dezgsfSQvaTtcbmNvbnN0IGN1aWQyUmVnZXggPSAvXlswLTlhLXpdKyQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC9pO1xuLy8gY29uc3QgdXVpZFJlZ2V4ID1cbi8vICAgL14oW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tWzEtNV1bYS1mMC05XXszfS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtcbmNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC9pO1xuY29uc3QgbmFub2lkUmVnZXggPSAvXlthLXowLTlfLV17MjF9JC9pO1xuY29uc3Qgand0UmVnZXggPSAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvO1xuY29uc3QgZHVyYXRpb25SZWdleCA9IC9eWy0rXT9QKD8hJCkoPzooPzpbLStdP1xcZCtZKXwoPzpbLStdP1xcZCtbLixdXFxkK1kkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/Oig/OlstK10/XFxkK1cpfCg/OlstK10/XFxkK1suLF1cXGQrVyQpKT8oPzooPzpbLStdP1xcZCtEKXwoPzpbLStdP1xcZCtbLixdXFxkK0QkKSk/KD86VCg/PVtcXGQrLV0pKD86KD86Wy0rXT9cXGQrSCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtIJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzpbLStdP1xcZCsoPzpbLixdXFxkKyk/Uyk/KT8/JC87XG4vLyBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NjE4MS8xNTUwMTU1XG4vLyBvbGQgdmVyc2lvbjogdG9vIHNsb3csIGRpZG4ndCBzdXBwb3J0IHVuaWNvZGVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPSAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2k7XG4vL29sZCBlbWFpbCByZWdleFxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKChbXjw+KClbXFxdLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF0uLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoPyEtKShbXjw+KClbXFxdLiw7Olxcc0BcIl0rXFwuKStbXjw+KClbXFxdLiw7Olxcc0BcIl17MSx9KVteLTw+KClbXFxdLiw7Olxcc0BcIl0kL2k7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFsoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXF0pfChcXFtJUHY2OigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSlcXF0pfChbQS1aYS16MC05XShbQS1aYS16MC05LV0qW0EtWmEtejAtOV0pKihcXC5bQS1aYS16XXsyLH0pKykpJC87XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16QS1aMC05XFwuXFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwvXFw9XFw/XFxeXFxfXFxgXFx7XFx8XFx9XFx+XFwtXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXig/OlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSp8XCIoPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMVxceDIzLVxceDViXFx4NWQtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSpcIilAKD86KD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP3xcXFsoPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldP3xbYS16MC05LV0qW2EtejAtOV06KD86W1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4MjEtXFx4NWFcXHg1My1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKylcXF0pJC9pO1xuY29uc3QgZW1haWxSZWdleCA9IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbQS1aMC05XycrXFwtXFwuXSopW0EtWjAtOV8rLV1AKFtBLVowLTldW0EtWjAtOVxcLV0qXFwuKStbQS1aXXsyLH0kL2k7XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16MC05LiEjJCUmXHUyMDE5KisvPT9eX2B7fH1+LV0rQFthLXowLTktXSsoPzpcXC5bYS16MC05XFwtXSspKiQvaTtcbi8vIGZyb20gaHR0cHM6Ly90aGVrZXZpbnNjb3R0LmNvbS9lbW9qaXMtaW4tamF2YXNjcmlwdC8jd3JpdGluZy1hLXJlZ3VsYXItZXhwcmVzc2lvblxuY29uc3QgX2Vtb2ppUmVnZXggPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xubGV0IGVtb2ppUmVnZXg7XG4vLyBmYXN0ZXIsIHNpbXBsZXIsIHNhZmVyXG5jb25zdCBpcHY0UmVnZXggPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuY29uc3QgaXB2NENpZHJSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvO1xuLy8gY29uc3QgaXB2NlJlZ2V4ID1cbi8vIC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvO1xuY29uc3QgaXB2NlJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpJC87XG5jb25zdCBpcHY2Q2lkclJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLztcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NjAzOTIvZGV0ZXJtaW5lLWlmLXN0cmluZy1pcy1pbi1iYXNlNjQtdXNpbmctamF2YXNjcmlwdFxuY29uc3QgYmFzZTY0UmVnZXggPSAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC87XG4vLyBodHRwczovL2Jhc2U2NC5ndXJ1L3N0YW5kYXJkcy9iYXNlNjR1cmxcbmNvbnN0IGJhc2U2NHVybFJlZ2V4ID0gL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvO1xuLy8gc2ltcGxlXG4vLyBjb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1gO1xuLy8gbm8gbGVhcCB5ZWFyIHZhbGlkYXRpb25cbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS0oKDBbMTM1NzhdfDEwfDEyKS0zMXwoMFsxMy05XXwxWzAtMl0pLTMwfCgwWzEtOV18MVswLTJdKS0oMFsxLTldfDFcXFxcZHwyXFxcXGQpKWA7XG4vLyB3aXRoIGxlYXAgeWVhciB2YWxpZGF0aW9uXG5jb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgKChcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oKDBbMTM1NzhdfDFbMDJdKS0oMFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KDBbNDY5XXwxMSktKDBbMS05XXxbMTJdXFxcXGR8MzApfCgwMiktKDBbMS05XXwxXFxcXGR8MlswLThdKSkpYDtcbmNvbnN0IGRhdGVSZWdleCA9IG5ldyBSZWdFeHAoYF4ke2RhdGVSZWdleFNvdXJjZX0kYCk7XG5mdW5jdGlvbiB0aW1lUmVnZXhTb3VyY2UoYXJncykge1xuICAgIGxldCBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgWzAtNV1cXFxcZGA7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIHNlY29uZHNSZWdleFNvdXJjZSA9IGAke3NlY29uZHNSZWdleFNvdXJjZX1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3MucHJlY2lzaW9uID09IG51bGwpIHtcbiAgICAgICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfShcXFxcLlxcXFxkKyk/YDtcbiAgICB9XG4gICAgY29uc3Qgc2Vjb25kc1F1YW50aWZpZXIgPSBhcmdzLnByZWNpc2lvbiA/IFwiK1wiIDogXCI/XCI7IC8vIHJlcXVpcmUgc2Vjb25kcyBpZiBwcmVjaXNpb24gaXMgbm9uemVyb1xuICAgIHJldHVybiBgKFswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGQoOiR7c2Vjb25kc1JlZ2V4U291cmNlfSkke3NlY29uZHNRdWFudGlmaWVyfWA7XG59XG5mdW5jdGlvbiB0aW1lUmVnZXgoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9JGApO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5leHBvcnQgZnVuY3Rpb24gZGF0ZXRpbWVSZWdleChhcmdzKSB7XG4gICAgbGV0IHJlZ2V4ID0gYCR7ZGF0ZVJlZ2V4U291cmNlfVQke3RpbWVSZWdleFNvdXJjZShhcmdzKX1gO1xuICAgIGNvbnN0IG9wdHMgPSBbXTtcbiAgICBvcHRzLnB1c2goYXJncy5sb2NhbCA/IGBaP2AgOiBgWmApO1xuICAgIGlmIChhcmdzLm9mZnNldClcbiAgICAgICAgb3B0cy5wdXNoKGAoWystXVxcXFxkezJ9Oj9cXFxcZHsyfSlgKTtcbiAgICByZWdleCA9IGAke3JlZ2V4fSgke29wdHMuam9pbihcInxcIil9KWA7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3JlZ2V4fSRgKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRJUChpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRKV1Qoand0LCBhbGcpIHtcbiAgICBpZiAoIWp3dFJlZ2V4LnRlc3Qoand0KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFtoZWFkZXJdID0gand0LnNwbGl0KFwiLlwiKTtcbiAgICAgICAgaWYgKCFoZWFkZXIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIENvbnZlcnQgYmFzZTY0dXJsIHRvIGJhc2U2NFxuICAgICAgICBjb25zdCBiYXNlNjQgPSBoZWFkZXJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8tL2csIFwiK1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL18vZywgXCIvXCIpXG4gICAgICAgICAgICAucGFkRW5kKGhlYWRlci5sZW5ndGggKyAoKDQgLSAoaGVhZGVyLmxlbmd0aCAlIDQpKSAlIDQpLCBcIj1cIik7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IEpTT04ucGFyc2UoYXRvYihiYXNlNjQpKTtcbiAgICAgICAgaWYgKHR5cGVvZiBkZWNvZGVkICE9PSBcIm9iamVjdFwiIHx8IGRlY29kZWQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChcInR5cFwiIGluIGRlY29kZWQgJiYgZGVjb2RlZD8udHlwICE9PSBcIkpXVFwiKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWRlY29kZWQuYWxnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoYWxnICYmIGRlY29kZWQuYWxnICE9PSBhbGcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1ZhbGlkQ2lkcihpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0Q2lkclJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NkNpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGNsYXNzIFpvZFN0cmluZyBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IFN0cmluZyhpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtb2ppXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1vamlSZWdleCA9IG5ldyBSZWdFeHAoX2Vtb2ppUmVnZXgsIFwidVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbW9qaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXVpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInV1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm5hbm9pZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW5vaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwibmFub2lkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZDJcIikge1xuICAgICAgICAgICAgICAgIGlmICghY3VpZDJSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVsaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdWxpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1bGlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgbmV3IFVSTChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIGNoZWNrLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFJlc3VsdCA9IGNoZWNrLnJlZ2V4LnRlc3QoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0ZXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwicmVnZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRyaW1cIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW5jbHVkZXNcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5pbmNsdWRlcyhjaGVjay52YWx1ZSwgY2hlY2sucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgaW5jbHVkZXM6IGNoZWNrLnZhbHVlLCBwb3NpdGlvbjogY2hlY2sucG9zaXRpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvTG93ZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b1VwcGVyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwic3RhcnRzV2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLnN0YXJ0c1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgc3RhcnRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVuZHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuZW5kc1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgZW5kc1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRldGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRldGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRlUmVnZXg7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSB0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImR1cmF0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWR1cmF0aW9uUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImR1cmF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpcFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkSVAoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJpcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiand0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRKV1QoaW5wdXQuZGF0YSwgY2hlY2suYWxnKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImp3dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY2lkclwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkQ2lkcihpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImNpZHJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlNjRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjR1cmxcIikge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZTY0dXJsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfcmVnZXgocmVnZXgsIHZhbGlkYXRpb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmaW5lbWVudCgoZGF0YSkgPT4gcmVnZXgudGVzdChkYXRhKSwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbWFpbChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1haWxcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1cmwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVybFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGVtb2ppKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbW9qaVwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHV1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInV1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBuYW5vaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcIm5hbm9pZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkMihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZDJcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1bGlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1bGlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJiYXNlNjRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBiYXNlNjR1cmwobWVzc2FnZSkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGp3dChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiand0XCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgaXAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImlwXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgY2lkcihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY2lkclwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGRhdGV0aW1lKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsb2NhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiBvcHRpb25zPy5wcmVjaXNpb24gPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucz8ucHJlY2lzaW9uLFxuICAgICAgICAgICAgb2Zmc2V0OiBvcHRpb25zPy5vZmZzZXQgPz8gZmFsc2UsXG4gICAgICAgICAgICBsb2NhbDogb3B0aW9ucz8ubG9jYWwgPz8gZmFsc2UsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucz8ubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJkYXRlXCIsIG1lc3NhZ2UgfSk7XG4gICAgfVxuICAgIHRpbWUob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiBvcHRpb25zPy5wcmVjaXNpb24gPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucz8ucHJlY2lzaW9uLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZHVyYXRpb24obWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImR1cmF0aW9uXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgcmVnZXgocmVnZXgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwicmVnZXhcIixcbiAgICAgICAgICAgIHJlZ2V4OiByZWdleCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGluY2x1ZGVzKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImluY2x1ZGVzXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwb3NpdGlvbjogb3B0aW9ucz8ucG9zaXRpb24sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucz8ubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGFydHNXaXRoKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInN0YXJ0c1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVuZHNXaXRoKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImVuZHNXaXRoXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IG1pbkxlbmd0aCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogbWF4TGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJsZW5ndGhcIixcbiAgICAgICAgICAgIHZhbHVlOiBsZW4sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIGAubWluKDEpYFxuICAgICAqL1xuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIGVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSk7XG4gICAgfVxuICAgIHRyaW0oKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0cmltXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0b0xvd2VyQ2FzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvTG93ZXJDYXNlXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0b1VwcGVyQ2FzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvVXBwZXJDYXNlXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgaXNEYXRldGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkYXRldGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkYXRlXCIpO1xuICAgIH1cbiAgICBnZXQgaXNUaW1lKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInRpbWVcIik7XG4gICAgfVxuICAgIGdldCBpc0R1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImR1cmF0aW9uXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbWFpbCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbWFpbFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVVJMKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVybFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1vamkoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1vamlcIik7XG4gICAgfVxuICAgIGdldCBpc1VVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXVpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzTkFOT0lEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcIm5hbm9pZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEMigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkMlwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVUxJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1bGlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNJUCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpcFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ0lEUigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjaWRyXCIpO1xuICAgIH1cbiAgICBnZXQgaXNCYXNlNjQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiYmFzZTY0XCIpO1xuICAgIH1cbiAgICBnZXQgaXNCYXNlNjR1cmwoKSB7XG4gICAgICAgIC8vIGJhc2U2NHVybCBlbmNvZGluZyBpcyBhIG1vZGlmaWNhdGlvbiBvZiBiYXNlNjQgdGhhdCBjYW4gc2FmZWx5IGJlIHVzZWQgaW4gVVJMcyBhbmQgZmlsZW5hbWVzXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiYmFzZTY0dXJsXCIpO1xuICAgIH1cbiAgICBnZXQgbWluTGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhMZW5ndGgoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG59XG5ab2RTdHJpbmcuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcsXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgPz8gZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zOTY2NDg0L3doeS1kb2VzLW1vZHVsdXMtb3BlcmF0b3ItcmV0dXJuLWZyYWN0aW9uYWwtbnVtYmVyLWluLWphdmFzY3JpcHQvMzE3MTEwMzQjMzE3MTEwMzRcbmZ1bmN0aW9uIGZsb2F0U2FmZVJlbWFpbmRlcih2YWwsIHN0ZXApIHtcbiAgICBjb25zdCB2YWxEZWNDb3VudCA9ICh2YWwudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IHN0ZXBEZWNDb3VudCA9IChzdGVwLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBkZWNDb3VudCA9IHZhbERlY0NvdW50ID4gc3RlcERlY0NvdW50ID8gdmFsRGVjQ291bnQgOiBzdGVwRGVjQ291bnQ7XG4gICAgY29uc3QgdmFsSW50ID0gTnVtYmVyLnBhcnNlSW50KHZhbC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgY29uc3Qgc3RlcEludCA9IE51bWJlci5wYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICByZXR1cm4gKHZhbEludCAlIHN0ZXBJbnQpIC8gMTAgKiogZGVjQ291bnQ7XG59XG5leHBvcnQgY2xhc3MgWm9kTnVtYmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgICAgIHRoaXMuc3RlcCA9IHRoaXMubXVsdGlwbGVPZjtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gTnVtYmVyKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm51bWJlcixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcImludFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dGlsLmlzSW50ZWdlcihpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiaW50ZWdlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IFwiZmxvYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZsb2F0U2FmZVJlbWFpbmRlcihpbnB1dC5kYXRhLCBjaGVjay52YWx1ZSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZmluaXRlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X2Zpbml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW50KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW50XCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZmluaXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZmluaXRlXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzYWZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbiAgICBnZXQgaXNJbnQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaW50XCIgfHwgKGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiICYmIHV0aWwuaXNJbnRlZ2VyKGNoLnZhbHVlKSkpO1xuICAgIH1cbiAgICBnZXQgaXNGaW5pdGUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJmaW5pdGVcIiB8fCBjaC5raW5kID09PSBcImludFwiIHx8IGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShtaW4pICYmIE51bWJlci5pc0Zpbml0ZShtYXgpO1xuICAgIH1cbn1cblpvZE51bWJlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcixcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RCaWdJbnQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCaWdJbnQoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEludmFsaWRJbnB1dChpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5iaWdpbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEgJSBjaGVjay52YWx1ZSAhPT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgX2dldEludmFsaWRJbnB1dChpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmJpZ2ludCxcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG59XG5ab2RCaWdJbnQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCaWdJbnQsXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgPz8gZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQm9vbGVhbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJvb2xlYW4oaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5ib29sZWFuKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmJvb2xlYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kQm9vbGVhbi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RCb29sZWFuKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCb29sZWFuLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlIHx8IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZERhdGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBuZXcgRGF0ZShpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmRhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZGF0ZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oaW5wdXQuZGF0YS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKGlucHV0LmRhdGEuZ2V0VGltZSgpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtaW4obWluRGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5EYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhEYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heERhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pbkRhdGUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbiAhPSBudWxsID8gbmV3IERhdGUobWluKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBtYXhEYXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXggIT0gbnVsbCA/IG5ldyBEYXRlKG1heCkgOiBudWxsO1xuICAgIH1cbn1cblpvZERhdGUuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgfHwgZmFsc2UsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGF0ZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RTeW1ib2wgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zeW1ib2wpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3ltYm9sLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFN5bWJvbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTeW1ib2woe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmRlZmluZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFVuZGVmaW5lZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmRlZmluZWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROdWxsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udWxsLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZE51bGwuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RBbnkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gdG8gcHJldmVudCBpbnN0YW5jZXMgb2Ygb3RoZXIgY2xhc3NlcyBmcm9tIGV4dGVuZGluZyBab2RBbnkuIHRoaXMgY2F1c2VzIGlzc3VlcyB3aXRoIGNhdGNoYWxsIGluIFpvZE9iamVjdC5cbiAgICAgICAgdGhpcy5fYW55ID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RBbnkuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQW55KHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVW5rbm93biBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyByZXF1aXJlZFxuICAgICAgICB0aGlzLl91bmtub3duID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RVbmtub3duLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVua25vd24oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTmV2ZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5uZXZlcixcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbn1cblpvZE5ldmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5ldmVyKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROZXZlcixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RWb2lkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnZvaWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVm9pZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RWb2lkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEFycmF5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4LCBzdGF0dXMgfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5leGFjdExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY3R4LmRhdGEubGVuZ3RoID4gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjdHguZGF0YS5sZW5ndGggPCBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IHRvb0JpZyA/IFpvZElzc3VlQ29kZS50b29fYmlnIDogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogKHRvb1NtYWxsID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogKHRvb0JpZyA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5taW5MZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCBkZWYubWluTGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5MZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5MZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5tYXhMZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhMZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZUFzeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICAgICAgfSkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlU3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0KTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pbkxlbmd0aDogeyB2YWx1ZTogbWluTGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IHsgdmFsdWU6IG1heExlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZXhhY3RMZW5ndGg6IHsgdmFsdWU6IGxlbiwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG59XG5ab2RBcnJheS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICBtaW5MZW5ndGg6IG51bGwsXG4gICAgICAgIG1heExlbmd0aDogbnVsbCxcbiAgICAgICAgZXhhY3RMZW5ndGg6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBkZWVwUGFydGlhbGlmeShzY2hlbWEpIHtcbiAgICBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYS5zaGFwZSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSBzY2hlbWEuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoZmllbGRTY2hlbWEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZEFycmF5KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICAgICAgICB0eXBlOiBkZWVwUGFydGlhbGlmeShzY2hlbWEuZWxlbWVudCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RUdXBsZSkge1xuICAgICAgICByZXR1cm4gWm9kVHVwbGUuY3JlYXRlKHNjaGVtYS5pdGVtcy5tYXAoKGl0ZW0pID0+IGRlZXBQYXJ0aWFsaWZ5KGl0ZW0pKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RPYmplY3QgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIEluIG1vc3QgY2FzZXMsIHRoaXMgaXMgbm8gbG9uZ2VyIG5lZWRlZCAtIHVua25vd24gcHJvcGVydGllcyBhcmUgbm93IHNpbGVudGx5IHN0cmlwcGVkLlxuICAgICAgICAgKiBJZiB5b3Ugd2FudCB0byBwYXNzIHRocm91Z2ggdW5rbm93biBwcm9wZXJ0aWVzLCB1c2UgYC5wYXNzdGhyb3VnaCgpYCBpbnN0ZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub25zdHJpY3QgPSB0aGlzLnBhc3N0aHJvdWdoO1xuICAgICAgICAvLyBleHRlbmQ8XG4gICAgICAgIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGUsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMgdXRpbC5mbGF0dGVuPHtcbiAgICAgICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIE91dHB1dFxuICAgICAgICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+LFxuICAgICAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMgdXRpbC5mbGF0dGVuPHtcbiAgICAgICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIElucHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBJbnB1dFxuICAgICAgICAvLyAgICAgICA/IElucHV0W2tdXG4gICAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8vICAgfT5cbiAgICAgICAgLy8gPihcbiAgICAgICAgLy8gICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAgICAgICAvLyApOiBab2RPYmplY3Q8XG4gICAgICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgQXVnbWVudGF0aW9uPixcbiAgICAgICAgLy8gICBVbmtub3duS2V5cyxcbiAgICAgICAgLy8gICBDYXRjaGFsbCxcbiAgICAgICAgLy8gICBOZXdPdXRwdXQsXG4gICAgICAgIC8vICAgTmV3SW5wdXRcbiAgICAgICAgLy8gPiB7XG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAvLyAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAvLyAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgIC8vICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAvLyAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgIC8vICAgICB9KSxcbiAgICAgICAgLy8gICB9KSBhcyBhbnk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFVzZSBgLmV4dGVuZGAgaW5zdGVhZFxuICAgICAgICAgKiAgKi9cbiAgICAgICAgdGhpcy5hdWdtZW50ID0gdGhpcy5leHRlbmQ7XG4gICAgfVxuICAgIF9nZXRDYWNoZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZWQgIT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkO1xuICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgICAgICBjb25zdCBrZXlzID0gdXRpbC5vYmplY3RLZXlzKHNoYXBlKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkID0geyBzaGFwZSwga2V5cyB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgeyBzaGFwZSwga2V5czogc2hhcGVLZXlzIH0gPSB0aGlzLl9nZXRDYWNoZWQoKTtcbiAgICAgICAgY29uc3QgZXh0cmFLZXlzID0gW107XG4gICAgICAgIGlmICghKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyICYmIHRoaXMuX2RlZi51bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY3R4LmRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNoYXBlS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhS2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXBlS2V5cykge1xuICAgICAgICAgICAgY29uc3Qga2V5VmFsaWRhdG9yID0gc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlWYWxpZGF0b3IuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyKSB7XG4gICAgICAgICAgICBjb25zdCB1bmtub3duS2V5cyA9IHRoaXMuX2RlZi51bmtub3duS2V5cztcbiAgICAgICAgICAgIGlmICh1bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGN0eC5kYXRhW2tleV0gfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXh0cmFLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBleHRyYUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIFpvZE9iamVjdCBlcnJvcjogaW52YWxpZCB1bmtub3duS2V5cyB2YWx1ZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJ1biBjYXRjaGFsbCB2YWxpZGF0aW9uXG4gICAgICAgICAgICBjb25zdCBjYXRjaGFsbCA9IHRoaXMuX2RlZi5jYXRjaGFsbDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYXRjaGFsbC5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSAvLywgY3R4LmNoaWxkKGtleSksIHZhbHVlLCBnZXRQYXJzZWRUeXBlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDogcGFpci5hbHdheXNTZXQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3luY1BhaXJzO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoc3luY1BhaXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNoYXBlKCk7XG4gICAgfVxuICAgIHN0cmljdChtZXNzYWdlKSB7XG4gICAgICAgIGVycm9yVXRpbC5lcnJUb09iajtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgICAgICAuLi4obWVzc2FnZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWFwOiAoaXNzdWUsIGN0eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEVycm9yID0gdGhpcy5fZGVmLmVycm9yTWFwPy4oaXNzdWUsIGN0eCkubWVzc2FnZSA/PyBjdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwidW5yZWNvZ25pemVkX2tleXNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkubWVzc2FnZSA/PyBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmYXVsdEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdHJpcCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhc3N0aHJvdWdoKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJwYXNzdGhyb3VnaFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gY29uc3QgQXVnbWVudEZhY3RvcnkgPVxuICAgIC8vICAgPERlZiBleHRlbmRzIFpvZE9iamVjdERlZj4oZGVmOiBEZWYpID0+XG4gICAgLy8gICA8QXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGU+KFxuICAgIC8vICAgICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAgIC8vICAgKTogWm9kT2JqZWN0PFxuICAgIC8vICAgICBleHRlbmRTaGFwZTxSZXR1cm5UeXBlPERlZltcInNoYXBlXCJdPiwgQXVnbWVudGF0aW9uPixcbiAgICAvLyAgICAgRGVmW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICAgIERlZltcImNhdGNoYWxsXCJdXG4gICAgLy8gICA+ID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICAgIC4uLmRlZixcbiAgICAvLyAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAvLyAgICAgICAgIC4uLmRlZi5zaGFwZSgpLFxuICAgIC8vICAgICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgIC8vICAgICAgIH0pLFxuICAgIC8vICAgICB9KSBhcyBhbnk7XG4gICAgLy8gICB9O1xuICAgIGV4dGVuZChhdWdtZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmlvciB0byB6b2RAMS4wLjEyIHRoZXJlIHdhcyBhIGJ1ZyBpbiB0aGVcbiAgICAgKiBpbmZlcnJlZCB0eXBlIG9mIG1lcmdlZCBvYmplY3RzLiBQbGVhc2VcbiAgICAgKiB1cGdyYWRlIGlmIHlvdSBhcmUgZXhwZXJpZW5jaW5nIGlzc3Vlcy5cbiAgICAgKi9cbiAgICBtZXJnZShtZXJnaW5nKSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAgICAgICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5tZXJnaW5nLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH1cbiAgICAvLyBtZXJnZTxcbiAgICAvLyAgIEluY29taW5nIGV4dGVuZHMgQW55Wm9kT2JqZWN0LFxuICAgIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgSW5jb21pbmdbXCJzaGFwZVwiXSxcbiAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHtcbiAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgT3V0cHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIE91dHB1dFxuICAgIC8vICAgICAgID8gT3V0cHV0W2tdXG4gICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAvLyAgIH0sXG4gICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHtcbiAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBJbnB1dFxuICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfVxuICAgIC8vID4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IFpvZE9iamVjdDxcbiAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl0sXG4gICAgLy8gICBOZXdPdXRwdXQsXG4gICAgLy8gICBOZXdJbnB1dFxuICAgIC8vID4ge1xuICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgLy8gfVxuICAgIHNldEtleShrZXksIHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdWdtZW50KHsgW2tleV06IHNjaGVtYSB9KTtcbiAgICB9XG4gICAgLy8gbWVyZ2U8SW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3Q+KFxuICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAvLyApOiAvL1pvZE9iamVjdDxUICYgSW5jb21pbmdbXCJfc2hhcGVcIl0sIFVua25vd25LZXlzLCBDYXRjaGFsbD4gPSAobWVyZ2luZykgPT4ge1xuICAgIC8vIFpvZE9iamVjdDxcbiAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyA+IHtcbiAgICAvLyAgIC8vIGNvbnN0IG1lcmdlZFNoYXBlID0gb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyhcbiAgICAvLyAgIC8vICAgdGhpcy5fZGVmLnNoYXBlKCksXG4gICAgLy8gICAvLyAgIG1lcmdpbmcuX2RlZi5zaGFwZSgpXG4gICAgLy8gICAvLyApO1xuICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgLy8gfVxuICAgIGNhdGNoYWxsKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNhdGNoYWxsOiBpbmRleCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpY2sobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXMobWFzaykpIHtcbiAgICAgICAgICAgIGlmIChtYXNrW2tleV0gJiYgdGhpcy5zaGFwZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbWl0KG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKSB7XG4gICAgICAgICAgICBpZiAoIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBkZWVwUGFydGlhbCgpIHtcbiAgICAgICAgcmV0dXJuIGRlZXBQYXJ0aWFsaWZ5KHRoaXMpO1xuICAgIH1cbiAgICBwYXJ0aWFsKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWEub3B0aW9uYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXF1aXJlZChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSkge1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3RmllbGQgPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV3RmllbGQgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdGaWVsZCA9IG5ld0ZpZWxkLl9kZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gbmV3RmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAga2V5b2YoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVab2RFbnVtKHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSk7XG4gICAgfVxufVxuWm9kT2JqZWN0LmNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3Quc3RyaWN0Q3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3QubGF6eWNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX2RlZi5vcHRpb25zO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZXN1bHRzKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIC8vIHJldHVybiBmaXJzdCBpc3N1ZS1mcmVlIHZhbGlkYXRpb24gaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBpc3N1ZXMgZnJvbSBkaXJ0eSBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5yZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXR1cm4gaW52YWxpZFxuICAgICAgICAgICAgY29uc3QgdW5pb25FcnJvcnMgPSByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiBuZXcgWm9kRXJyb3IocmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKSk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9ycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChvcHRpb25zLm1hcChhc3luYyAob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBhd2FpdCBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBjdHg6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSkudGhlbihoYW5kbGVSZXN1bHRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkaXJ0eSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IGlzc3VlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiICYmICFkaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IHsgcmVzdWx0LCBjdHg6IGNoaWxkQ3R4IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXMucHVzaChjaGlsZEN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlydHkpIHtcbiAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLmRpcnR5LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlydHkucmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdW5pb25FcnJvcnMgPSBpc3N1ZXMubWFwKChpc3N1ZXMpID0+IG5ldyBab2RFcnJvcihpc3N1ZXMpKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbn1cblpvZFVuaW9uLmNyZWF0ZSA9ICh0eXBlcywgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmlvbih7XG4gICAgICAgIG9wdGlvbnM6IHR5cGVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuaW9uLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmNvbnN0IGdldERpc2NyaW1pbmF0b3IgPSAodHlwZSkgPT4ge1xuICAgIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGF6eSkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNjaGVtYSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFZmZlY3RzKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuaW5uZXJUeXBlKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGl0ZXJhbCkge1xuICAgICAgICByZXR1cm4gW3R5cGUudmFsdWVdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRW51bSkge1xuICAgICAgICByZXR1cm4gdHlwZS5vcHRpb25zO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTmF0aXZlRW51bSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYmFuL2JhblxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXModHlwZS5lbnVtKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZERlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RVbmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWRdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbCkge1xuICAgICAgICByZXR1cm4gW251bGxdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCAuLi5nZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEJyYW5kZWQpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RSZWFkb25seSkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZENhdGNoKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn07XG5leHBvcnQgY2xhc3MgWm9kRGlzY3JpbWluYXRlZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3IgPSB0aGlzLmRpc2NyaW1pbmF0b3I7XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZSA9IGN0eC5kYXRhW2Rpc2NyaW1pbmF0b3JdO1xuICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNNYXAuZ2V0KGRpc2NyaW1pbmF0b3JWYWx1ZSk7XG4gICAgICAgIGlmICghb3B0aW9uKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFycmF5LmZyb20odGhpcy5vcHRpb25zTWFwLmtleXMoKSksXG4gICAgICAgICAgICAgICAgcGF0aDogW2Rpc2NyaW1pbmF0b3JdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZGlzY3JpbWluYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kaXNjcmltaW5hdG9yO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbiAgICBnZXQgb3B0aW9uc01hcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zTWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGRpc2NyaW1pbmF0ZWQgdW5pb24gc2NoZW1hLiBJdHMgYmVoYXZpb3VyIGlzIHZlcnkgc2ltaWxhciB0byB0aGF0IG9mIHRoZSBub3JtYWwgei51bmlvbigpIGNvbnN0cnVjdG9yLlxuICAgICAqIEhvd2V2ZXIsIGl0IG9ubHkgYWxsb3dzIGEgdW5pb24gb2Ygb2JqZWN0cywgYWxsIG9mIHdoaWNoIG5lZWQgdG8gc2hhcmUgYSBkaXNjcmltaW5hdG9yIHByb3BlcnR5LiBUaGlzIHByb3BlcnR5IG11c3RcbiAgICAgKiBoYXZlIGEgZGlmZmVyZW50IHZhbHVlIGZvciBlYWNoIG9iamVjdCBpbiB0aGUgdW5pb24uXG4gICAgICogQHBhcmFtIGRpc2NyaW1pbmF0b3IgdGhlIG5hbWUgb2YgdGhlIGRpc2NyaW1pbmF0b3IgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gdHlwZXMgYW4gYXJyYXkgb2Ygb2JqZWN0IHNjaGVtYXNcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShkaXNjcmltaW5hdG9yLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAgICAgLy8gR2V0IGFsbCB0aGUgdmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZXNcbiAgICAgICAgY29uc3Qgb3B0aW9uc01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gdHJ5IHtcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZXMgPSBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2hhcGVbZGlzY3JpbWluYXRvcl0pO1xuICAgICAgICAgICAgaWYgKCFkaXNjcmltaW5hdG9yVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBkaXNjcmltaW5hdG9yIHZhbHVlIGZvciBrZXkgXFxgJHtkaXNjcmltaW5hdG9yfVxcYCBjb3VsZCBub3QgYmUgZXh0cmFjdGVkIGZyb20gYWxsIHNjaGVtYSBvcHRpb25zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGlzY3JpbWluYXRvciBwcm9wZXJ0eSAke1N0cmluZyhkaXNjcmltaW5hdG9yKX0gaGFzIGR1cGxpY2F0ZSB2YWx1ZSAke1N0cmluZyh2YWx1ZSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnNNYXAuc2V0KHZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZERpc2NyaW1pbmF0ZWRVbmlvbih7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgICAgICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9uc01hcCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWVyZ2VWYWx1ZXMoYSwgYikge1xuICAgIGNvbnN0IGFUeXBlID0gZ2V0UGFyc2VkVHlwZShhKTtcbiAgICBjb25zdCBiVHlwZSA9IGdldFBhcnNlZFR5cGUoYik7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUub2JqZWN0ICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICBjb25zdCBiS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhiKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhhKS5maWx0ZXIoKGtleSkgPT4gYktleXMuaW5kZXhPZihrZXkpICE9PSAtMSk7XG4gICAgICAgIGNvbnN0IG5ld09iaiA9IHsgLi4uYSwgLi4uYiB9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFyZWRLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGFba2V5XSwgYltrZXldKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld09ialtrZXldID0gc2hhcmVkVmFsdWUuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3T2JqIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmFycmF5ICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0FycmF5ID0gW107XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbUEgPSBhW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1CID0gYltpbmRleF07XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGl0ZW1BLCBpdGVtQik7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcnJheS5wdXNoKHNoYXJlZFZhbHVlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdBcnJheSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5kYXRlICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLmRhdGUgJiYgK2EgPT09ICtiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kSW50ZXJzZWN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGhhbmRsZVBhcnNlZCA9IChwYXJzZWRMZWZ0LCBwYXJzZWRSaWdodCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzQWJvcnRlZChwYXJzZWRMZWZ0KSB8fCBpc0Fib3J0ZWQocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBtZXJnZVZhbHVlcyhwYXJzZWRMZWZ0LnZhbHVlLCBwYXJzZWRSaWdodC52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIW1lcmdlZC52YWxpZCkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEaXJ0eShwYXJzZWRMZWZ0KSB8fCBpc0RpcnR5KHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBtZXJnZWQuZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYubGVmdC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0pLnRoZW4oKFtsZWZ0LCByaWdodF0pID0+IGhhbmRsZVBhcnNlZChsZWZ0LCByaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVBhcnNlZCh0aGlzLl9kZWYubGVmdC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pLCB0aGlzLl9kZWYucmlnaHQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5ab2RJbnRlcnNlY3Rpb24uY3JlYXRlID0gKGxlZnQsIHJpZ2h0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLyB0eXBlIFpvZFR1cGxlSXRlbXMgPSBbWm9kVHlwZUFueSwgLi4uWm9kVHlwZUFueVtdXTtcbmV4cG9ydCBjbGFzcyBab2RUdXBsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN0ID0gdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgIGlmICghcmVzdCAmJiBjdHguZGF0YS5sZW5ndGggPiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICBtYXhpbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IFsuLi5jdHguZGF0YV1cbiAgICAgICAgICAgIC5tYXAoKGl0ZW0sIGl0ZW1JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5fZGVmLml0ZW1zW2l0ZW1JbmRleF0gfHwgdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgICAgICBpZiAoIXNjaGVtYSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWEuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaXRlbUluZGV4KSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKCh4KSA9PiAhIXgpOyAvLyBmaWx0ZXIgbnVsbHNcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChpdGVtcykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgaXRlbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pdGVtcztcbiAgICB9XG4gICAgcmVzdChyZXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuWm9kVHVwbGUuY3JlYXRlID0gKHNjaGVtYXMsIHBhcmFtcykgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWFzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gei50dXBsZShbIC4uLiBdKVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgIGl0ZW1zOiBzY2hlbWFzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlLFxuICAgICAgICByZXN0OiBudWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFJlY29yZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGN0eC5kYXRhW2tleV0sIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGZpcnN0LCBzZWNvbmQsIHRoaXJkKSB7XG4gICAgICAgIGlmIChzZWNvbmQgaW5zdGFuY2VvZiBab2RUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICAgICAga2V5VHlwZTogZmlyc3QsXG4gICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBzZWNvbmQsXG4gICAgICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlyZCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICBrZXlUeXBlOiBab2RTdHJpbmcuY3JlYXRlKCksXG4gICAgICAgICAgICB2YWx1ZVR5cGU6IGZpcnN0LFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHNlY29uZCksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RNYXAgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQga2V5U2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgfVxuICAgIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubWFwKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm1hcCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgY29uc3QgcGFpcnMgPSBbLi4uY3R4LmRhdGEuZW50cmllcygpXS5tYXAoKFtrZXksIHZhbHVlXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwgW2luZGV4LCBcImtleVwiXSkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIFtpbmRleCwgXCJ2YWx1ZVwiXSkpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBmaW5hbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsTWFwLnNldChrZXkudmFsdWUsIHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmaW5hbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgICB9XG4gICAgfVxufVxuWm9kTWFwLmNyZWF0ZSA9IChrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTWFwKHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBrZXlUeXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RTZXQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnNldCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zZXQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChkZWYubWluU2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPCBkZWYubWluU2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluU2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5TaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhTaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA+IGRlZi5tYXhTaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4U2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhTaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZnVuY3Rpb24gZmluYWxpemVTZXQoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICBwYXJzZWRTZXQuYWRkKGVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBwYXJzZWRTZXQgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFsuLi5jdHguZGF0YS52YWx1ZXMoKV0ubWFwKChpdGVtLCBpKSA9PiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpKTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChlbGVtZW50cykudGhlbigoZWxlbWVudHMpID0+IGZpbmFsaXplU2V0KGVsZW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmluYWxpemVTZXQoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1pbihtaW5TaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pblNpemU6IHsgdmFsdWU6IG1pblNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heFNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4U2l6ZTogeyB2YWx1ZTogbWF4U2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaXplKHNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKHNpemUsIG1lc3NhZ2UpLm1heChzaXplLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuWm9kU2V0LmNyZWF0ZSA9ICh2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBtaW5TaXplOiBudWxsLFxuICAgICAgICBtYXhTaXplOiBudWxsLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RGdW5jdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlID0gdGhpcy5pbXBsZW1lbnQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZUFyZ3NJc3N1ZShhcmdzLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgY3R4LnNjaGVtYUVycm9yTWFwLCBnZXRFcnJvck1hcCgpLCBkZWZhdWx0RXJyb3JNYXBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VSZXR1cm5zSXNzdWUocmV0dXJucywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlSXNzdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJldHVybnMsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXBzOiBbY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsIGN0eC5zY2hlbWFFcnJvck1hcCwgZ2V0RXJyb3JNYXAoKSwgZGVmYXVsdEVycm9yTWFwXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgICAgICAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlLFxuICAgICAgICAgICAgICAgICAgICByZXR1cm5UeXBlRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCB9O1xuICAgICAgICBjb25zdCBmbiA9IGN0eC5kYXRhO1xuICAgICAgICBpZiAodGhpcy5fZGVmLnJldHVybnMgaW5zdGFuY2VvZiBab2RQcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBXb3VsZCBsb3ZlIGEgd2F5IHRvIGF2b2lkIGRpc2FibGluZyB0aGlzIHJ1bGUsIGJ1dCB3ZSBuZWVkXG4gICAgICAgICAgICAvLyBhbiBhbGlhcyAodXNpbmcgYW4gYXJyb3cgZnVuY3Rpb24gd2FzIHdoYXQgY2F1c2VkIDI2NTEpLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gT0soYXN5bmMgZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihbXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IGF3YWl0IG1lLl9kZWYuYXJncy5wYXJzZUFzeW5jKGFyZ3MsIHBhcmFtcykuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZUFyZ3NJc3N1ZShhcmdzLCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBhd2FpdCBtZS5fZGVmLnJldHVybnMuX2RlZi50eXBlXG4gICAgICAgICAgICAgICAgICAgIC5wYXJzZUFzeW5jKHJlc3VsdCwgcGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPSyhmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBtZS5fZGVmLmFyZ3Muc2FmZVBhcnNlKGFyZ3MsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRBcmdzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yKFttYWtlQXJnc0lzc3VlKGFyZ3MsIHBhcnNlZEFyZ3MuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IG1lLl9kZWYucmV0dXJucy5zYWZlUGFyc2UocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkUmV0dXJucy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbbWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIHBhcnNlZFJldHVybnMuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJhbWV0ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmFyZ3M7XG4gICAgfVxuICAgIHJldHVyblR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYucmV0dXJucztcbiAgICB9XG4gICAgYXJncyguLi5pdGVtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGFyZ3M6IFpvZFR1cGxlLmNyZWF0ZShpdGVtcykucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybnMocmV0dXJuVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVyblR5cGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0cmljdEltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhcmdzLCByZXR1cm5zLCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICBhcmdzOiAoYXJncyA/IGFyZ3MgOiBab2RUdXBsZS5jcmVhdGUoW10pLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSkpLFxuICAgICAgICAgICAgcmV0dXJuczogcmV0dXJucyB8fCBab2RVbmtub3duLmNyZWF0ZSgpLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbixcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZExhenkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGxhenlTY2hlbWEgPSB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgICAgIHJldHVybiBsYXp5U2NoZW1hLl9wYXJzZSh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgfVxufVxuWm9kTGF6eS5jcmVhdGUgPSAoZ2V0dGVyLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExhenkoe1xuICAgICAgICBnZXR0ZXI6IGdldHRlcixcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZExpdGVyYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0LmRhdGEgIT09IHRoaXMuX2RlZi52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWwsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHRoaXMuX2RlZi52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZTtcbiAgICB9XG59XG5ab2RMaXRlcmFsLmNyZWF0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMaXRlcmFsKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBjcmVhdGVab2RFbnVtKHZhbHVlcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjbGFzcyBab2RFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IFNldCh0aGlzLl9kZWYudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlLmhhcyhpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBWYWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgRW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGV4dHJhY3QodmFsdWVzLCBuZXdEZWYgPSB0aGlzLl9kZWYpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHZhbHVlcywge1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgLi4ubmV3RGVmLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZXhjbHVkZSh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodGhpcy5vcHRpb25zLmZpbHRlcigob3B0KSA9PiAhdmFsdWVzLmluY2x1ZGVzKG9wdCkpLCB7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICAuLi5uZXdEZWYsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblpvZEVudW0uY3JlYXRlID0gY3JlYXRlWm9kRW51bTtcbmV4cG9ydCBjbGFzcyBab2ROYXRpdmVFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVudW1WYWx1ZXMgPSB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3RyaW5nICYmIGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZSA9IG5ldyBTZXQodXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbn1cblpvZE5hdGl2ZUVudW0uY3JlYXRlID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYXRpdmVFbnVtKHtcbiAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RQcm9taXNlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnByb21pc2UgJiYgY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUucHJvbWlzZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21pc2lmaWVkID0gY3R4LnBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZSA/IGN0eC5kYXRhIDogUHJvbWlzZS5yZXNvbHZlKGN0eC5kYXRhKTtcbiAgICAgICAgcmV0dXJuIE9LKHByb21pc2lmaWVkLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5wYXJzZUFzeW5jKGRhdGEsIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblpvZFByb21pc2UuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RQcm9taXNlKHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRWZmZWN0cyBleHRlbmRzIFpvZFR5cGUge1xuICAgIGlubmVyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWE7XG4gICAgfVxuICAgIHNvdXJjZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzXG4gICAgICAgICAgICA/IHRoaXMuX2RlZi5zY2hlbWEuc291cmNlVHlwZSgpXG4gICAgICAgICAgICA6IHRoaXMuX2RlZi5zY2hlbWE7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBlZmZlY3QgPSB0aGlzLl9kZWYuZWZmZWN0IHx8IG51bGw7XG4gICAgICAgIGNvbnN0IGNoZWNrQ3R4ID0ge1xuICAgICAgICAgICAgYWRkSXNzdWU6IChhcmcpID0+IHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIGFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKGFyZy5mYXRhbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnBhdGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjaGVja0N0eC5hZGRJc3N1ZSA9IGNoZWNrQ3R4LmFkZElzc3VlLmJpbmQoY2hlY2tDdHgpO1xuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicHJlcHJvY2Vzc1wiKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZWQgPSBlZmZlY3QudHJhbnNmb3JtKGN0eC5kYXRhLCBjaGVja0N0eCk7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocHJvY2Vzc2VkKS50aGVuKGFzeW5jIChwcm9jZXNzZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm9jZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInJlZmluZW1lbnRcIikge1xuICAgICAgICAgICAgY29uc3QgZXhlY3V0ZVJlZmluZW1lbnQgPSAoYWNjKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnJlZmluZW1lbnQoYWNjLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3luYyByZWZpbmVtZW50IGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWRcbiAgICAgICAgICAgICAgICBleGVjdXRlUmVmaW5lbWVudChpbm5lci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lci52YWx1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pLnRoZW4oKGlubmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lci52YWx1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3luY2hyb25vdXMgdHJhbnNmb3JtIGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHJlc3VsdCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pLnRoZW4oKGJhc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCkpLnRoZW4oKHJlc3VsdCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoZWZmZWN0KTtcbiAgICB9XG59XG5ab2RFZmZlY3RzLmNyZWF0ZSA9IChzY2hlbWEsIGVmZmVjdCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIGVmZmVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3MgPSAocHJlcHJvY2Vzcywgc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInByZXByb2Nlc3NcIiwgdHJhbnNmb3JtOiBwcmVwcm9jZXNzIH0sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCB7IFpvZEVmZmVjdHMgYXMgWm9kVHJhbnNmb3JtZXIgfTtcbmV4cG9ydCBjbGFzcyBab2RPcHRpb25hbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIE9LKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RPcHRpb25hbC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPcHRpb25hbCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROdWxsYWJsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBPSyhudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZE51bGxhYmxlLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGxhYmxlKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZERlZmF1bHQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGxldCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9kZWYuZGVmYXVsdFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlRGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kRGVmYXVsdC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdHlwZW9mIHBhcmFtcy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuZGVmYXVsdCA6ICgpID0+IHBhcmFtcy5kZWZhdWx0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZENhdGNoIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICAvLyBuZXdDdHggaXMgdXNlZCB0byBub3QgY29sbGVjdCBpc3N1ZXMgZnJvbSBpbm5lciB0eXBlcyBpbiBjdHhcbiAgICAgICAgY29uc3QgbmV3Q3R4ID0ge1xuICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YTogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICBwYXRoOiBuZXdDdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgIC4uLm5ld0N0eCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXNBc3luYyhyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIlxuICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVDYXRjaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kQ2F0Y2guY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICAgIGNhdGNoVmFsdWU6IHR5cGVvZiBwYXJhbXMuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5jYXRjaCA6ICgpID0+IHBhcmFtcy5jYXRjaCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROYU4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5uYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubmFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxufVxuWm9kTmFOLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5hTih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IEJSQU5EID0gU3ltYm9sKFwiem9kX2JyYW5kXCIpO1xuZXhwb3J0IGNsYXNzIFpvZEJyYW5kZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RQaXBlbGluZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlQXN5bmMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuaW4uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShpblJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQXN5bmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluUmVzdWx0ID0gdGhpcy5fZGVmLmluLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJkaXJ0eVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFBpcGVsaW5lKHtcbiAgICAgICAgICAgIGluOiBhLFxuICAgICAgICAgICAgb3V0OiBiLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZFJlYWRvbmx5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgY29uc3QgZnJlZXplID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgZGF0YS52YWx1ZSA9IE9iamVjdC5mcmVlemUoZGF0YS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGlzQXN5bmMocmVzdWx0KSA/IHJlc3VsdC50aGVuKChkYXRhKSA9PiBmcmVlemUoZGF0YSkpIDogZnJlZXplKHJlc3VsdCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kUmVhZG9ubHkuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUmVhZG9ubHkoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgei5jdXN0b20gICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBjbGVhblBhcmFtcyhwYXJhbXMsIGRhdGEpIHtcbiAgICBjb25zdCBwID0gdHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zKGRhdGEpIDogdHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcGFyYW1zIH0gOiBwYXJhbXM7XG4gICAgY29uc3QgcDIgPSB0eXBlb2YgcCA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcCB9IDogcDtcbiAgICByZXR1cm4gcDI7XG59XG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tKGNoZWNrLCBfcGFyYW1zID0ge30sIFxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICpcbiAqIFBhc3MgYGZhdGFsYCBpbnRvIHRoZSBwYXJhbXMgb2JqZWN0IGluc3RlYWQ6XG4gKlxuICogYGBgdHNcbiAqIHouc3RyaW5nKCkuY3VzdG9tKCh2YWwpID0+IHZhbC5sZW5ndGggPiA1LCB7IGZhdGFsOiBmYWxzZSB9KVxuICogYGBgXG4gKlxuICovXG5mYXRhbCkge1xuICAgIGlmIChjaGVjaylcbiAgICAgICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKS5zdXBlclJlZmluZSgoZGF0YSwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gY2hlY2soZGF0YSk7XG4gICAgICAgICAgICBpZiAociBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gci50aGVuKChyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSBwYXJhbXMuZmF0YWwgPz8gZmF0YWwgPz8gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnBhcmFtcywgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgX2ZhdGFsID0gcGFyYW1zLmZhdGFsID8/IGZhdGFsID8/IHRydWU7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHsgY29kZTogXCJjdXN0b21cIiwgLi4ucGFyYW1zLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpO1xufVxuZXhwb3J0IHsgWm9kVHlwZSBhcyBTY2hlbWEsIFpvZFR5cGUgYXMgWm9kU2NoZW1hIH07XG5leHBvcnQgY29uc3QgbGF0ZSA9IHtcbiAgICBvYmplY3Q6IFpvZE9iamVjdC5sYXp5Y3JlYXRlLFxufTtcbmV4cG9ydCB2YXIgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kO1xuKGZ1bmN0aW9uIChab2RGaXJzdFBhcnR5VHlwZUtpbmQpIHtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTdHJpbmdcIl0gPSBcIlpvZFN0cmluZ1wiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bWJlclwiXSA9IFwiWm9kTnVtYmVyXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmFOXCJdID0gXCJab2ROYU5cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCaWdJbnRcIl0gPSBcIlpvZEJpZ0ludFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJvb2xlYW5cIl0gPSBcIlpvZEJvb2xlYW5cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REYXRlXCJdID0gXCJab2REYXRlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU3ltYm9sXCJdID0gXCJab2RTeW1ib2xcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmRlZmluZWRcIl0gPSBcIlpvZFVuZGVmaW5lZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxcIl0gPSBcIlpvZE51bGxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBbnlcIl0gPSBcIlpvZEFueVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVua25vd25cIl0gPSBcIlpvZFVua25vd25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROZXZlclwiXSA9IFwiWm9kTmV2ZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RWb2lkXCJdID0gXCJab2RWb2lkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQXJyYXlcIl0gPSBcIlpvZEFycmF5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kT2JqZWN0XCJdID0gXCJab2RPYmplY3RcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmlvblwiXSA9IFwiWm9kVW5pb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REaXNjcmltaW5hdGVkVW5pb25cIl0gPSBcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEludGVyc2VjdGlvblwiXSA9IFwiWm9kSW50ZXJzZWN0aW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVHVwbGVcIl0gPSBcIlpvZFR1cGxlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUmVjb3JkXCJdID0gXCJab2RSZWNvcmRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RNYXBcIl0gPSBcIlpvZE1hcFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFNldFwiXSA9IFwiWm9kU2V0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRnVuY3Rpb25cIl0gPSBcIlpvZEZ1bmN0aW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGF6eVwiXSA9IFwiWm9kTGF6eVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZExpdGVyYWxcIl0gPSBcIlpvZExpdGVyYWxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFbnVtXCJdID0gXCJab2RFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRWZmZWN0c1wiXSA9IFwiWm9kRWZmZWN0c1wiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5hdGl2ZUVudW1cIl0gPSBcIlpvZE5hdGl2ZUVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPcHRpb25hbFwiXSA9IFwiWm9kT3B0aW9uYWxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdWxsYWJsZVwiXSA9IFwiWm9kTnVsbGFibGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REZWZhdWx0XCJdID0gXCJab2REZWZhdWx0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQ2F0Y2hcIl0gPSBcIlpvZENhdGNoXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUHJvbWlzZVwiXSA9IFwiWm9kUHJvbWlzZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJyYW5kZWRcIl0gPSBcIlpvZEJyYW5kZWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQaXBlbGluZVwiXSA9IFwiWm9kUGlwZWxpbmVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWFkb25seVwiXSA9IFwiWm9kUmVhZG9ubHlcIjtcbn0pKFpvZEZpcnN0UGFydHlUeXBlS2luZCB8fCAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kID0ge30pKTtcbi8vIHJlcXVpcmVzIFRTIDQuNCtcbmNsYXNzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5fKSB7IH1cbn1cbmNvbnN0IGluc3RhbmNlT2ZUeXBlID0gKFxuLy8gY29uc3QgaW5zdGFuY2VPZlR5cGUgPSA8VCBleHRlbmRzIG5ldyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG5jbHMsIHBhcmFtcyA9IHtcbiAgICBtZXNzYWdlOiBgSW5wdXQgbm90IGluc3RhbmNlIG9mICR7Y2xzLm5hbWV9YCxcbn0pID0+IGN1c3RvbSgoZGF0YSkgPT4gZGF0YSBpbnN0YW5jZW9mIGNscywgcGFyYW1zKTtcbmNvbnN0IHN0cmluZ1R5cGUgPSBab2RTdHJpbmcuY3JlYXRlO1xuY29uc3QgbnVtYmVyVHlwZSA9IFpvZE51bWJlci5jcmVhdGU7XG5jb25zdCBuYW5UeXBlID0gWm9kTmFOLmNyZWF0ZTtcbmNvbnN0IGJpZ0ludFR5cGUgPSBab2RCaWdJbnQuY3JlYXRlO1xuY29uc3QgYm9vbGVhblR5cGUgPSBab2RCb29sZWFuLmNyZWF0ZTtcbmNvbnN0IGRhdGVUeXBlID0gWm9kRGF0ZS5jcmVhdGU7XG5jb25zdCBzeW1ib2xUeXBlID0gWm9kU3ltYm9sLmNyZWF0ZTtcbmNvbnN0IHVuZGVmaW5lZFR5cGUgPSBab2RVbmRlZmluZWQuY3JlYXRlO1xuY29uc3QgbnVsbFR5cGUgPSBab2ROdWxsLmNyZWF0ZTtcbmNvbnN0IGFueVR5cGUgPSBab2RBbnkuY3JlYXRlO1xuY29uc3QgdW5rbm93blR5cGUgPSBab2RVbmtub3duLmNyZWF0ZTtcbmNvbnN0IG5ldmVyVHlwZSA9IFpvZE5ldmVyLmNyZWF0ZTtcbmNvbnN0IHZvaWRUeXBlID0gWm9kVm9pZC5jcmVhdGU7XG5jb25zdCBhcnJheVR5cGUgPSBab2RBcnJheS5jcmVhdGU7XG5jb25zdCBvYmplY3RUeXBlID0gWm9kT2JqZWN0LmNyZWF0ZTtcbmNvbnN0IHN0cmljdE9iamVjdFR5cGUgPSBab2RPYmplY3Quc3RyaWN0Q3JlYXRlO1xuY29uc3QgdW5pb25UeXBlID0gWm9kVW5pb24uY3JlYXRlO1xuY29uc3QgZGlzY3JpbWluYXRlZFVuaW9uVHlwZSA9IFpvZERpc2NyaW1pbmF0ZWRVbmlvbi5jcmVhdGU7XG5jb25zdCBpbnRlcnNlY3Rpb25UeXBlID0gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZTtcbmNvbnN0IHR1cGxlVHlwZSA9IFpvZFR1cGxlLmNyZWF0ZTtcbmNvbnN0IHJlY29yZFR5cGUgPSBab2RSZWNvcmQuY3JlYXRlO1xuY29uc3QgbWFwVHlwZSA9IFpvZE1hcC5jcmVhdGU7XG5jb25zdCBzZXRUeXBlID0gWm9kU2V0LmNyZWF0ZTtcbmNvbnN0IGZ1bmN0aW9uVHlwZSA9IFpvZEZ1bmN0aW9uLmNyZWF0ZTtcbmNvbnN0IGxhenlUeXBlID0gWm9kTGF6eS5jcmVhdGU7XG5jb25zdCBsaXRlcmFsVHlwZSA9IFpvZExpdGVyYWwuY3JlYXRlO1xuY29uc3QgZW51bVR5cGUgPSBab2RFbnVtLmNyZWF0ZTtcbmNvbnN0IG5hdGl2ZUVudW1UeXBlID0gWm9kTmF0aXZlRW51bS5jcmVhdGU7XG5jb25zdCBwcm9taXNlVHlwZSA9IFpvZFByb21pc2UuY3JlYXRlO1xuY29uc3QgZWZmZWN0c1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZTtcbmNvbnN0IG9wdGlvbmFsVHlwZSA9IFpvZE9wdGlvbmFsLmNyZWF0ZTtcbmNvbnN0IG51bGxhYmxlVHlwZSA9IFpvZE51bGxhYmxlLmNyZWF0ZTtcbmNvbnN0IHByZXByb2Nlc3NUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcztcbmNvbnN0IHBpcGVsaW5lVHlwZSA9IFpvZFBpcGVsaW5lLmNyZWF0ZTtcbmNvbnN0IG9zdHJpbmcgPSAoKSA9PiBzdHJpbmdUeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IG9udW1iZXIgPSAoKSA9PiBudW1iZXJUeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IG9ib29sZWFuID0gKCkgPT4gYm9vbGVhblR5cGUoKS5vcHRpb25hbCgpO1xuZXhwb3J0IGNvbnN0IGNvZXJjZSA9IHtcbiAgICBzdHJpbmc6ICgoYXJnKSA9PiBab2RTdHJpbmcuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIG51bWJlcjogKChhcmcpID0+IFpvZE51bWJlci5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgYm9vbGVhbjogKChhcmcpID0+IFpvZEJvb2xlYW4uY3JlYXRlKHtcbiAgICAgICAgLi4uYXJnLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgfSkpLFxuICAgIGJpZ2ludDogKChhcmcpID0+IFpvZEJpZ0ludC5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgZGF0ZTogKChhcmcpID0+IFpvZERhdGUuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxufTtcbmV4cG9ydCB7IGFueVR5cGUgYXMgYW55LCBhcnJheVR5cGUgYXMgYXJyYXksIGJpZ0ludFR5cGUgYXMgYmlnaW50LCBib29sZWFuVHlwZSBhcyBib29sZWFuLCBkYXRlVHlwZSBhcyBkYXRlLCBkaXNjcmltaW5hdGVkVW5pb25UeXBlIGFzIGRpc2NyaW1pbmF0ZWRVbmlvbiwgZWZmZWN0c1R5cGUgYXMgZWZmZWN0LCBlbnVtVHlwZSBhcyBlbnVtLCBmdW5jdGlvblR5cGUgYXMgZnVuY3Rpb24sIGluc3RhbmNlT2ZUeXBlIGFzIGluc3RhbmNlb2YsIGludGVyc2VjdGlvblR5cGUgYXMgaW50ZXJzZWN0aW9uLCBsYXp5VHlwZSBhcyBsYXp5LCBsaXRlcmFsVHlwZSBhcyBsaXRlcmFsLCBtYXBUeXBlIGFzIG1hcCwgbmFuVHlwZSBhcyBuYW4sIG5hdGl2ZUVudW1UeXBlIGFzIG5hdGl2ZUVudW0sIG5ldmVyVHlwZSBhcyBuZXZlciwgbnVsbFR5cGUgYXMgbnVsbCwgbnVsbGFibGVUeXBlIGFzIG51bGxhYmxlLCBudW1iZXJUeXBlIGFzIG51bWJlciwgb2JqZWN0VHlwZSBhcyBvYmplY3QsIG9ib29sZWFuLCBvbnVtYmVyLCBvcHRpb25hbFR5cGUgYXMgb3B0aW9uYWwsIG9zdHJpbmcsIHBpcGVsaW5lVHlwZSBhcyBwaXBlbGluZSwgcHJlcHJvY2Vzc1R5cGUgYXMgcHJlcHJvY2VzcywgcHJvbWlzZVR5cGUgYXMgcHJvbWlzZSwgcmVjb3JkVHlwZSBhcyByZWNvcmQsIHNldFR5cGUgYXMgc2V0LCBzdHJpY3RPYmplY3RUeXBlIGFzIHN0cmljdE9iamVjdCwgc3RyaW5nVHlwZSBhcyBzdHJpbmcsIHN5bWJvbFR5cGUgYXMgc3ltYm9sLCBlZmZlY3RzVHlwZSBhcyB0cmFuc2Zvcm1lciwgdHVwbGVUeXBlIGFzIHR1cGxlLCB1bmRlZmluZWRUeXBlIGFzIHVuZGVmaW5lZCwgdW5pb25UeXBlIGFzIHVuaW9uLCB1bmtub3duVHlwZSBhcyB1bmtub3duLCB2b2lkVHlwZSBhcyB2b2lkLCB9O1xuZXhwb3J0IGNvbnN0IE5FVkVSID0gSU5WQUxJRDtcbiIsICJleHBvcnQgZnVuY3Rpb24gY29tYmluZUhlYWRlcnMoXG4gIC4uLmhlYWRlcnM6IEFycmF5PFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQ+XG4pOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgcmV0dXJuIGhlYWRlcnMucmVkdWNlKFxuICAgIChjb21iaW5lZEhlYWRlcnMsIGN1cnJlbnRIZWFkZXJzKSA9PiAoe1xuICAgICAgLi4uY29tYmluZWRIZWFkZXJzLFxuICAgICAgLi4uKGN1cnJlbnRIZWFkZXJzID8/IHt9KSxcbiAgICB9KSxcbiAgICB7fSxcbiAgKSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+O1xufVxuIiwgIi8qKlxuICogQ29udmVydHMgYW4gQXN5bmNJdGVyYXRvciB0byBhIFJlYWRhYmxlU3RyZWFtLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgZWxlbWVudHMgcHJvZHVjZWQgYnkgdGhlIEFzeW5jSXRlcmF0b3IuXG4gKiBAcGFyYW0geyA8VD59IGl0ZXJhdG9yIC0gVGhlIEFzeW5jSXRlcmF0b3IgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtSZWFkYWJsZVN0cmVhbTxUPn0gLSBBIFJlYWRhYmxlU3RyZWFtIHRoYXQgcHJvdmlkZXMgdGhlIHNhbWUgZGF0YSBhcyB0aGUgQXN5bmNJdGVyYXRvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRBc3luY0l0ZXJhdG9yVG9SZWFkYWJsZVN0cmVhbTxUPihcbiAgaXRlcmF0b3I6IEFzeW5jSXRlcmF0b3I8VD4sXG4pOiBSZWFkYWJsZVN0cmVhbTxUPiB7XG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW08VD4oe1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb25zdW1lciB3YW50cyB0byBwdWxsIG1vcmUgZGF0YSBmcm9tIHRoZSBzdHJlYW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8VD59IGNvbnRyb2xsZXIgLSBUaGUgY29udHJvbGxlciB0byBlbnF1ZXVlIGRhdGEgaW50byB0aGUgc3RyZWFtLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb25zdW1lciBjYW5jZWxzIHRoZSBzdHJlYW0uXG4gICAgICovXG4gICAgY2FuY2VsKCkge30sXG4gIH0pO1xufVxuIiwgIi8qKlxuICogQ3JlYXRlcyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciBhIHNwZWNpZmllZCBkZWxheVxuICogQHBhcmFtIGRlbGF5SW5NcyAtIFRoZSBkZWxheSBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuIElmIG51bGwgb3IgdW5kZWZpbmVkLCByZXNvbHZlcyBpbW1lZGlhdGVseS5cbiAqIEBwYXJhbSBzaWduYWwgLSBPcHRpb25hbCBBYm9ydFNpZ25hbCB0byBjYW5jZWwgdGhlIGRlbGF5XG4gKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5XG4gKiBAdGhyb3dzIHtET01FeGNlcHRpb259IFdoZW4gdGhlIHNpZ25hbCBpcyBhYm9ydGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxheShcbiAgZGVsYXlJbk1zPzogbnVtYmVyIHwgbnVsbCxcbiAgb3B0aW9ucz86IHtcbiAgICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICB9LFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChkZWxheUluTXMgPT0gbnVsbCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LmFib3J0U2lnbmFsO1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKHNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgcmVqZWN0KGNyZWF0ZUFib3J0RXJyb3IoKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSwgZGVsYXlJbk1zKTtcblxuICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIHNpZ25hbD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkFib3J0KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25BYm9ydCA9ICgpID0+IHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICAgIHJlamVjdChjcmVhdGVBYm9ydEVycm9yKCkpO1xuICAgIH07XG5cbiAgICBzaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25BYm9ydCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBYm9ydEVycm9yKCk6IERPTUV4Y2VwdGlvbiB7XG4gIHJldHVybiBuZXcgRE9NRXhjZXB0aW9uKCdEZWxheSB3YXMgYWJvcnRlZCcsICdBYm9ydEVycm9yJyk7XG59XG4iLCAiLyoqXG5FeHRyYWN0cyB0aGUgaGVhZGVycyBmcm9tIGEgcmVzcG9uc2Ugb2JqZWN0IGFuZCByZXR1cm5zIHRoZW0gYXMgYSBrZXktdmFsdWUgb2JqZWN0LlxuXG5AcGFyYW0gcmVzcG9uc2UgLSBUaGUgcmVzcG9uc2Ugb2JqZWN0IHRvIGV4dHJhY3QgaGVhZGVycyBmcm9tLlxuQHJldHVybnMgVGhlIGhlYWRlcnMgYXMgYSBrZXktdmFsdWUgb2JqZWN0LlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlOiBSZXNwb25zZSkge1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzPHN0cmluZz4oWy4uLnJlc3BvbnNlLmhlYWRlcnNdKTtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gZ2V0UnVudGltZUVudmlyb25tZW50VXNlckFnZW50KFxuICBnbG9iYWxUaGlzQW55OiBhbnkgPSBnbG9iYWxUaGlzIGFzIGFueSxcbik6IHN0cmluZyB7XG4gIC8vIEJyb3dzZXJzXG4gIGlmIChnbG9iYWxUaGlzQW55LndpbmRvdykge1xuICAgIHJldHVybiBgcnVudGltZS9icm93c2VyYDtcbiAgfVxuXG4gIC8vIENsb3VkZmxhcmUgV29ya2VycyAvIERlbm8gLyBCdW4gLyBOb2RlLmpzID49IDIxLjFcbiAgaWYgKGdsb2JhbFRoaXNBbnkubmF2aWdhdG9yPy51c2VyQWdlbnQpIHtcbiAgICByZXR1cm4gYHJ1bnRpbWUvJHtnbG9iYWxUaGlzQW55Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKX1gO1xuICB9XG5cbiAgLy8gTm9kZXMuanMgPCAyMS4xXG4gIGlmIChnbG9iYWxUaGlzQW55LnByb2Nlc3M/LnZlcnNpb25zPy5ub2RlKSB7XG4gICAgcmV0dXJuIGBydW50aW1lL25vZGUuanMvJHtnbG9iYWxUaGlzQW55LnByb2Nlc3MudmVyc2lvbi5zdWJzdHJpbmcoMCl9YDtcbiAgfVxuXG4gIGlmIChnbG9iYWxUaGlzQW55LkVkZ2VSdW50aW1lKSB7XG4gICAgcmV0dXJuIGBydW50aW1lL3ZlcmNlbC1lZGdlYDtcbiAgfVxuXG4gIHJldHVybiAncnVudGltZS91bmtub3duJztcbn1cbiIsICIvKipcbiAqIFJlbW92ZXMgZW50cmllcyBmcm9tIGEgcmVjb3JkIHdoZXJlIHRoZSB2YWx1ZSBpcyBudWxsIG9yIHVuZGVmaW5lZC5cbiAqIEBwYXJhbSByZWNvcmQgLSBUaGUgaW5wdXQgb2JqZWN0IHdob3NlIGVudHJpZXMgbWF5IGJlIG51bGwgb3IgdW5kZWZpbmVkLlxuICogQHJldHVybnMgQSBuZXcgb2JqZWN0IGNvbnRhaW5pbmcgb25seSBlbnRyaWVzIHdpdGggbm9uLW51bGwgYW5kIG5vbi11bmRlZmluZWQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVW5kZWZpbmVkRW50cmllczxUPihcbiAgcmVjb3JkOiBSZWNvcmQ8c3RyaW5nLCBUIHwgdW5kZWZpbmVkPixcbik6IFJlY29yZDxzdHJpbmcsIFQ+IHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyhyZWNvcmQpLmZpbHRlcigoW19rZXksIHZhbHVlXSkgPT4gdmFsdWUgIT0gbnVsbCksXG4gICkgYXMgUmVjb3JkPHN0cmluZywgVD47XG59XG4iLCAiaW1wb3J0IHsgcmVtb3ZlVW5kZWZpbmVkRW50cmllcyB9IGZyb20gJy4vcmVtb3ZlLXVuZGVmaW5lZC1lbnRyaWVzJztcblxuLyoqXG4gKiBBcHBlbmRzIHN1ZmZpeCBwYXJ0cyB0byB0aGUgYHVzZXItYWdlbnRgIGhlYWRlci5cbiAqIElmIGEgYHVzZXItYWdlbnRgIGhlYWRlciBhbHJlYWR5IGV4aXN0cywgdGhlIHN1ZmZpeCBwYXJ0cyBhcmUgYXBwZW5kZWQgdG8gaXQuXG4gKiBJZiBubyBgdXNlci1hZ2VudGAgaGVhZGVyIGV4aXN0cywgYSBuZXcgb25lIGlzIGNyZWF0ZWQgd2l0aCB0aGUgc3VmZml4IHBhcnRzLlxuICogQXV0b21hdGljYWxseSByZW1vdmVzIHVuZGVmaW5lZCBlbnRyaWVzIGZyb20gdGhlIGhlYWRlcnMuXG4gKlxuICogQHBhcmFtIGhlYWRlcnMgLSBUaGUgb3JpZ2luYWwgaGVhZGVycy5cbiAqIEBwYXJhbSB1c2VyQWdlbnRTdWZmaXhQYXJ0cyAtIFRoZSBwYXJ0cyB0byBhcHBlbmQgdG8gdGhlIGB1c2VyLWFnZW50YCBoZWFkZXIuXG4gKiBAcmV0dXJucyBUaGUgbmV3IGhlYWRlcnMgd2l0aCB0aGUgYHVzZXItYWdlbnRgIGhlYWRlciBzZXQgb3IgdXBkYXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gIGhlYWRlcnM6IEhlYWRlcnNJbml0IHwgUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiB8IHVuZGVmaW5lZCxcbiAgLi4udXNlckFnZW50U3VmZml4UGFydHM6IHN0cmluZ1tdXG4pOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgY29uc3QgY2xlYW5lZEhlYWRlcnMgPSByZW1vdmVVbmRlZmluZWRFbnRyaWVzKFxuICAgIChoZWFkZXJzIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4pID8/IHt9LFxuICApO1xuICBjb25zdCBub3JtYWxpemVkSGVhZGVycyA9IG5ldyBIZWFkZXJzKGNsZWFuZWRIZWFkZXJzKTtcblxuICBjb25zdCBjdXJyZW50VXNlckFnZW50SGVhZGVyID0gbm9ybWFsaXplZEhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JykgfHwgJyc7XG5cbiAgbm9ybWFsaXplZEhlYWRlcnMuc2V0KFxuICAgICd1c2VyLWFnZW50JyxcbiAgICBbY3VycmVudFVzZXJBZ2VudEhlYWRlciwgLi4udXNlckFnZW50U3VmZml4UGFydHNdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyksXG4gICk7XG5cbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhub3JtYWxpemVkSGVhZGVycyk7XG59XG4iLCAiaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuLyoqXG5DcmVhdGVzIGFuIElEIGdlbmVyYXRvci5cblRoZSB0b3RhbCBsZW5ndGggb2YgdGhlIElEIGlzIHRoZSBzdW0gb2YgdGhlIHByZWZpeCwgc2VwYXJhdG9yLCBhbmQgcmFuZG9tIHBhcnQgbGVuZ3RoLlxuTm90IGNyeXB0b2dyYXBoaWNhbGx5IHNlY3VyZS5cblxuQHBhcmFtIGFscGhhYmV0IC0gVGhlIGFscGhhYmV0IHRvIHVzZSBmb3IgdGhlIElELiBEZWZhdWx0OiAnMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonLlxuQHBhcmFtIHByZWZpeCAtIFRoZSBwcmVmaXggb2YgdGhlIElEIHRvIGdlbmVyYXRlLiBPcHRpb25hbC5cbkBwYXJhbSBzZXBhcmF0b3IgLSBUaGUgc2VwYXJhdG9yIGJldHdlZW4gdGhlIHByZWZpeCBhbmQgdGhlIHJhbmRvbSBwYXJ0IG9mIHRoZSBJRC4gRGVmYXVsdDogJy0nLlxuQHBhcmFtIHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgcmFuZG9tIHBhcnQgb2YgdGhlIElEIHRvIGdlbmVyYXRlLiBEZWZhdWx0OiAxNi5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUlkR2VuZXJhdG9yID0gKHtcbiAgcHJlZml4LFxuICBzaXplID0gMTYsXG4gIGFscGhhYmV0ID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JyxcbiAgc2VwYXJhdG9yID0gJy0nLFxufToge1xuICBwcmVmaXg/OiBzdHJpbmc7XG4gIHNlcGFyYXRvcj86IHN0cmluZztcbiAgc2l6ZT86IG51bWJlcjtcbiAgYWxwaGFiZXQ/OiBzdHJpbmc7XG59ID0ge30pOiBJZEdlbmVyYXRvciA9PiB7XG4gIGNvbnN0IGdlbmVyYXRvciA9ICgpID0+IHtcbiAgICBjb25zdCBhbHBoYWJldExlbmd0aCA9IGFscGhhYmV0Lmxlbmd0aDtcbiAgICBjb25zdCBjaGFycyA9IG5ldyBBcnJheShzaXplKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgY2hhcnNbaV0gPSBhbHBoYWJldFsoTWF0aC5yYW5kb20oKSAqIGFscGhhYmV0TGVuZ3RoKSB8IDBdO1xuICAgIH1cbiAgICByZXR1cm4gY2hhcnMuam9pbignJyk7XG4gIH07XG5cbiAgaWYgKHByZWZpeCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuXG4gIC8vIGNoZWNrIHRoYXQgdGhlIHByZWZpeCBpcyBub3QgcGFydCBvZiB0aGUgYWxwaGFiZXQgKG90aGVyd2lzZSBwcmVmaXggY2hlY2tpbmcgY2FuIGZhaWwgcmFuZG9tbHkpXG4gIGlmIChhbHBoYWJldC5pbmNsdWRlcyhzZXBhcmF0b3IpKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIGFyZ3VtZW50OiAnc2VwYXJhdG9yJyxcbiAgICAgIG1lc3NhZ2U6IGBUaGUgc2VwYXJhdG9yIFwiJHtzZXBhcmF0b3J9XCIgbXVzdCBub3QgYmUgcGFydCBvZiB0aGUgYWxwaGFiZXQgXCIke2FscGhhYmV0fVwiLmAsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gKCkgPT4gYCR7cHJlZml4fSR7c2VwYXJhdG9yfSR7Z2VuZXJhdG9yKCl9YDtcbn07XG5cbi8qKlxuQSBmdW5jdGlvbiB0aGF0IGdlbmVyYXRlcyBhbiBJRC5cbiAqL1xuZXhwb3J0IHR5cGUgSWRHZW5lcmF0b3IgPSAoKSA9PiBzdHJpbmc7XG5cbi8qKlxuR2VuZXJhdGVzIGEgMTYtY2hhcmFjdGVyIHJhbmRvbSBzdHJpbmcgdG8gdXNlIGZvciBJRHMuXG5Ob3QgY3J5cHRvZ3JhcGhpY2FsbHkgc2VjdXJlLlxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVJZCA9IGNyZWF0ZUlkR2VuZXJhdG9yKCk7XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvcjogdW5rbm93biB8IHVuZGVmaW5lZCkge1xuICBpZiAoZXJyb3IgPT0gbnVsbCkge1xuICAgIHJldHVybiAndW5rbm93biBlcnJvcic7XG4gIH1cblxuICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xufVxuIiwgImltcG9ydCB7IEFQSUNhbGxFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgZXh0cmFjdFJlc3BvbnNlSGVhZGVycyB9IGZyb20gJy4vZXh0cmFjdC1yZXNwb25zZS1oZWFkZXJzJztcbmltcG9ydCB7IEZldGNoRnVuY3Rpb24gfSBmcm9tICcuL2ZldGNoLWZ1bmN0aW9uJztcbmltcG9ydCB7IGhhbmRsZUZldGNoRXJyb3IgfSBmcm9tICcuL2hhbmRsZS1mZXRjaC1lcnJvcic7XG5pbXBvcnQgeyBpc0Fib3J0RXJyb3IgfSBmcm9tICcuL2lzLWFib3J0LWVycm9yJztcbmltcG9ydCB7IFJlc3BvbnNlSGFuZGxlciB9IGZyb20gJy4vcmVzcG9uc2UtaGFuZGxlcic7XG5pbXBvcnQgeyBnZXRSdW50aW1lRW52aXJvbm1lbnRVc2VyQWdlbnQgfSBmcm9tICcuL2dldC1ydW50aW1lLWVudmlyb25tZW50LXVzZXItYWdlbnQnO1xuaW1wb3J0IHsgd2l0aFVzZXJBZ2VudFN1ZmZpeCB9IGZyb20gJy4vd2l0aC11c2VyLWFnZW50LXN1ZmZpeCc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi92ZXJzaW9uJztcblxuLy8gdXNlIGZ1bmN0aW9uIHRvIGFsbG93IGZvciBtb2NraW5nIGluIHRlc3RzOlxuY29uc3QgZ2V0T3JpZ2luYWxGZXRjaCA9ICgpID0+IGdsb2JhbFRoaXMuZmV0Y2g7XG5cbmV4cG9ydCBjb25zdCBnZXRGcm9tQXBpID0gYXN5bmMgPFQ+KHtcbiAgdXJsLFxuICBoZWFkZXJzID0ge30sXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoID0gZ2V0T3JpZ2luYWxGZXRjaCgpLFxufToge1xuICB1cmw6IHN0cmluZztcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyPEVycm9yPjtcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyPFQ+O1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICBmZXRjaD86IEZldGNoRnVuY3Rpb247XG59KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBgYWktc2RrL3Byb3ZpZGVyLXV0aWxzLyR7VkVSU0lPTn1gLFxuICAgICAgICBnZXRSdW50aW1lRW52aXJvbm1lbnRVc2VyQWdlbnQoKSxcbiAgICAgICksXG4gICAgICBzaWduYWw6IGFib3J0U2lnbmFsLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBsZXQgZXJyb3JJbmZvcm1hdGlvbjoge1xuICAgICAgICB2YWx1ZTogRXJyb3I7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfCB1bmRlZmluZWQ7XG4gICAgICB9O1xuXG4gICAgICB0cnkge1xuICAgICAgICBlcnJvckluZm9ybWF0aW9uID0gYXdhaXQgZmFpbGVkUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHt9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpIHx8IEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBwcm9jZXNzIGVycm9yIHJlc3BvbnNlJyxcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHt9LFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3JJbmZvcm1hdGlvbi52YWx1ZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczoge30sXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgfHwgQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gcHJvY2VzcyBzdWNjZXNzZnVsIHJlc3BvbnNlJyxcbiAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczoge30sXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgaGFuZGxlRmV0Y2hFcnJvcih7IGVycm9yLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzOiB7fSB9KTtcbiAgfVxufTtcbiIsICJpbXBvcnQgeyBBUElDYWxsRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IGlzQWJvcnRFcnJvciB9IGZyb20gJy4vaXMtYWJvcnQtZXJyb3InO1xuXG5jb25zdCBGRVRDSF9GQUlMRURfRVJST1JfTUVTU0FHRVMgPSBbJ2ZldGNoIGZhaWxlZCcsICdmYWlsZWQgdG8gZmV0Y2gnXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUZldGNoRXJyb3Ioe1xuICBlcnJvcixcbiAgdXJsLFxuICByZXF1ZXN0Qm9keVZhbHVlcyxcbn06IHtcbiAgZXJyb3I6IHVua25vd247XG4gIHVybDogc3RyaW5nO1xuICByZXF1ZXN0Qm9keVZhbHVlczogdW5rbm93bjtcbn0pIHtcbiAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICAvLyB1bndyYXAgb3JpZ2luYWwgZXJyb3Igd2hlbiBmZXRjaCBmYWlsZWQgKGZvciBlYXNpZXIgZGVidWdnaW5nKTpcbiAgaWYgKFxuICAgIGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yICYmXG4gICAgRkVUQ0hfRkFJTEVEX0VSUk9SX01FU1NBR0VTLmluY2x1ZGVzKGVycm9yLm1lc3NhZ2UudG9Mb3dlckNhc2UoKSlcbiAgKSB7XG4gICAgY29uc3QgY2F1c2UgPSAoZXJyb3IgYXMgYW55KS5jYXVzZTtcblxuICAgIGlmIChjYXVzZSAhPSBudWxsKSB7XG4gICAgICAvLyBGYWlsZWQgdG8gY29ubmVjdCB0byBzZXJ2ZXI6XG4gICAgICByZXR1cm4gbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IGBDYW5ub3QgY29ubmVjdCB0byBBUEk6ICR7Y2F1c2UubWVzc2FnZX1gLFxuICAgICAgICBjYXVzZSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgaXNSZXRyeWFibGU6IHRydWUsIC8vIHJldHJ5IHdoZW4gbmV0d29yayBlcnJvclxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVycm9yO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBpc0Fib3J0RXJyb3IoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBFcnJvciB7XG4gIHJldHVybiAoXG4gICAgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBET01FeGNlcHRpb24pICYmXG4gICAgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJyB8fFxuICAgICAgZXJyb3IubmFtZSA9PT0gJ1Jlc3BvbnNlQWJvcnRlZCcgfHwgLy8gTmV4dC5qc1xuICAgICAgZXJyb3IubmFtZSA9PT0gJ1RpbWVvdXRFcnJvcicpXG4gICk7XG59XG4iLCAiLy8gVmVyc2lvbiBzdHJpbmcgb2YgdGhpcyBwYWNrYWdlIGluamVjdGVkIGF0IGJ1aWxkIHRpbWUuXG5kZWNsYXJlIGNvbnN0IF9fUEFDS0FHRV9WRVJTSU9OX186IHN0cmluZyB8IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBWRVJTSU9OOiBzdHJpbmcgPVxuICB0eXBlb2YgX19QQUNLQUdFX1ZFUlNJT05fXyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IF9fUEFDS0FHRV9WRVJTSU9OX19cbiAgICA6ICcwLjAuMC10ZXN0JztcbiIsICJpbXBvcnQge1xuICBKU09OU2NoZW1hNyxcbiAgTGFuZ3VhZ2VNb2RlbFYyTWVzc2FnZSxcbiAgTGFuZ3VhZ2VNb2RlbFYyUHJvbXB0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgREVGQVVMVF9TQ0hFTUFfUFJFRklYID0gJ0pTT04gc2NoZW1hOic7XG5jb25zdCBERUZBVUxUX1NDSEVNQV9TVUZGSVggPVxuICAnWW91IE1VU1QgYW5zd2VyIHdpdGggYSBKU09OIG9iamVjdCB0aGF0IG1hdGNoZXMgdGhlIEpTT04gc2NoZW1hIGFib3ZlLic7XG5jb25zdCBERUZBVUxUX0dFTkVSSUNfU1VGRklYID0gJ1lvdSBNVVNUIGFuc3dlciB3aXRoIEpTT04uJztcblxuZXhwb3J0IGZ1bmN0aW9uIGluamVjdEpzb25JbnN0cnVjdGlvbih7XG4gIHByb21wdCxcbiAgc2NoZW1hLFxuICBzY2hlbWFQcmVmaXggPSBzY2hlbWEgIT0gbnVsbCA/IERFRkFVTFRfU0NIRU1BX1BSRUZJWCA6IHVuZGVmaW5lZCxcbiAgc2NoZW1hU3VmZml4ID0gc2NoZW1hICE9IG51bGxcbiAgICA/IERFRkFVTFRfU0NIRU1BX1NVRkZJWFxuICAgIDogREVGQVVMVF9HRU5FUklDX1NVRkZJWCxcbn06IHtcbiAgcHJvbXB0Pzogc3RyaW5nO1xuICBzY2hlbWE/OiBKU09OU2NoZW1hNztcbiAgc2NoZW1hUHJlZml4Pzogc3RyaW5nO1xuICBzY2hlbWFTdWZmaXg/OiBzdHJpbmc7XG59KTogc3RyaW5nIHtcbiAgcmV0dXJuIFtcbiAgICBwcm9tcHQgIT0gbnVsbCAmJiBwcm9tcHQubGVuZ3RoID4gMCA/IHByb21wdCA6IHVuZGVmaW5lZCxcbiAgICBwcm9tcHQgIT0gbnVsbCAmJiBwcm9tcHQubGVuZ3RoID4gMCA/ICcnIDogdW5kZWZpbmVkLCAvLyBhZGQgYSBuZXdsaW5lIGlmIHByb21wdCBpcyBub3QgbnVsbFxuICAgIHNjaGVtYVByZWZpeCxcbiAgICBzY2hlbWEgIT0gbnVsbCA/IEpTT04uc3RyaW5naWZ5KHNjaGVtYSkgOiB1bmRlZmluZWQsXG4gICAgc2NoZW1hU3VmZml4LFxuICBdXG4gICAgLmZpbHRlcihsaW5lID0+IGxpbmUgIT0gbnVsbClcbiAgICAuam9pbignXFxuJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RKc29uSW5zdHJ1Y3Rpb25JbnRvTWVzc2FnZXMoe1xuICBtZXNzYWdlcyxcbiAgc2NoZW1hLFxuICBzY2hlbWFQcmVmaXgsXG4gIHNjaGVtYVN1ZmZpeCxcbn06IHtcbiAgbWVzc2FnZXM6IExhbmd1YWdlTW9kZWxWMlByb21wdDtcbiAgc2NoZW1hPzogSlNPTlNjaGVtYTc7XG4gIHNjaGVtYVByZWZpeD86IHN0cmluZztcbiAgc2NoZW1hU3VmZml4Pzogc3RyaW5nO1xufSk6IExhbmd1YWdlTW9kZWxWMlByb21wdCB7XG4gIGNvbnN0IHN5c3RlbU1lc3NhZ2U6IExhbmd1YWdlTW9kZWxWMk1lc3NhZ2UgPVxuICAgIG1lc3NhZ2VzWzBdPy5yb2xlID09PSAnc3lzdGVtJ1xuICAgICAgPyB7IC4uLm1lc3NhZ2VzWzBdIH1cbiAgICAgIDogeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogJycgfTtcblxuICBzeXN0ZW1NZXNzYWdlLmNvbnRlbnQgPSBpbmplY3RKc29uSW5zdHJ1Y3Rpb24oe1xuICAgIHByb21wdDogc3lzdGVtTWVzc2FnZS5jb250ZW50LFxuICAgIHNjaGVtYSxcbiAgICBzY2hlbWFQcmVmaXgsXG4gICAgc2NoZW1hU3VmZml4LFxuICB9KTtcblxuICByZXR1cm4gW1xuICAgIHN5c3RlbU1lc3NhZ2UsXG4gICAgLi4uKG1lc3NhZ2VzWzBdPy5yb2xlID09PSAnc3lzdGVtJyA/IG1lc3NhZ2VzLnNsaWNlKDEpIDogbWVzc2FnZXMpLFxuICBdO1xufVxuIiwgIi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBVUkwgaXMgc3VwcG9ydGVkIG5hdGl2ZWx5IGJ5IHRoZSBtb2RlbC5cbiAqXG4gKiBAcGFyYW0gbWVkaWFUeXBlIC0gVGhlIG1lZGlhIHR5cGUgb2YgdGhlIFVSTC4gQ2FzZS1zZW5zaXRpdmUuXG4gKiBAcGFyYW0gdXJsIC0gVGhlIFVSTCB0byBjaGVjay5cbiAqIEBwYXJhbSBzdXBwb3J0ZWRVcmxzIC0gQSByZWNvcmQgd2hlcmUga2V5cyBhcmUgY2FzZS1zZW5zaXRpdmUgbWVkaWEgdHlwZXMgKG9yICcqJylcbiAqICAgICAgICAgICAgICAgICAgICAgICAgYW5kIHZhbHVlcyBhcmUgYXJyYXlzIG9mIFJlZ0V4cCBwYXR0ZXJucyBmb3IgVVJMcy5cbiAqXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIFVSTCBtYXRjaGVzIGEgcGF0dGVybiB1bmRlciB0aGUgc3BlY2lmaWMgbWVkaWEgdHlwZVxuICogICAgICAgICAgb3IgdGhlIHdpbGRjYXJkICcqJywgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1VybFN1cHBvcnRlZCh7XG4gIG1lZGlhVHlwZSxcbiAgdXJsLFxuICBzdXBwb3J0ZWRVcmxzLFxufToge1xuICBtZWRpYVR5cGU6IHN0cmluZztcbiAgdXJsOiBzdHJpbmc7XG4gIHN1cHBvcnRlZFVybHM6IFJlY29yZDxzdHJpbmcsIFJlZ0V4cFtdPjtcbn0pOiBib29sZWFuIHtcbiAgLy8gc3RhbmRhcmRpemUgbWVkaWEgdHlwZSBhbmQgdXJsIHRvIGxvd2VyIGNhc2VcbiAgdXJsID0gdXJsLnRvTG93ZXJDYXNlKCk7XG4gIG1lZGlhVHlwZSA9IG1lZGlhVHlwZS50b0xvd2VyQ2FzZSgpO1xuXG4gIHJldHVybiAoXG4gICAgT2JqZWN0LmVudHJpZXMoc3VwcG9ydGVkVXJscylcbiAgICAgIC8vIHN0YW5kYXJkaXplIHN1cHBvcnRlZCB1cmwgbWFwIGludG8gbG93ZXJjYXNlIHByZWZpeGVzOlxuICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lZGlhVHlwZSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gbWVkaWFUeXBlID09PSAnKicgfHwgbWVkaWFUeXBlID09PSAnKi8qJ1xuICAgICAgICAgID8geyBtZWRpYVR5cGVQcmVmaXg6ICcnLCByZWdleGVzOiB2YWx1ZSB9XG4gICAgICAgICAgOiB7IG1lZGlhVHlwZVByZWZpeDogbWVkaWFUeXBlLnJlcGxhY2UoL1xcKi8sICcnKSwgcmVnZXhlczogdmFsdWUgfTtcbiAgICAgIH0pXG4gICAgICAvLyBnYXRoZXIgYWxsIHJlZ2V4cCBwYXR0ZXJuIGZyb20gbWF0Y2hlZCBtZWRpYSB0eXBlIHByZWZpeGVzOlxuICAgICAgLmZpbHRlcigoeyBtZWRpYVR5cGVQcmVmaXggfSkgPT4gbWVkaWFUeXBlLnN0YXJ0c1dpdGgobWVkaWFUeXBlUHJlZml4KSlcbiAgICAgIC5mbGF0TWFwKCh7IHJlZ2V4ZXMgfSkgPT4gcmVnZXhlcylcbiAgICAgIC8vIGNoZWNrIGlmIGFueSBwYXR0ZXJuIG1hdGNoZXMgdGhlIHVybDpcbiAgICAgIC5zb21lKHBhdHRlcm4gPT4gcGF0dGVybi50ZXN0KHVybCkpXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgTG9hZEFQSUtleUVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQXBpS2V5KHtcbiAgYXBpS2V5LFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSxcbiAgYXBpS2V5UGFyYW1ldGVyTmFtZSA9ICdhcGlLZXknLFxuICBkZXNjcmlwdGlvbixcbn06IHtcbiAgYXBpS2V5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiBzdHJpbmc7XG4gIGFwaUtleVBhcmFtZXRlck5hbWU/OiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG59KTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiBhcGlLZXkgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGFwaUtleTtcbiAgfVxuXG4gIGlmIChhcGlLZXkgIT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBMb2FkQVBJS2V5RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IEFQSSBrZXkgbXVzdCBiZSBhIHN0cmluZy5gLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBMb2FkQVBJS2V5RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IEFQSSBrZXkgaXMgbWlzc2luZy4gUGFzcyBpdCB1c2luZyB0aGUgJyR7YXBpS2V5UGFyYW1ldGVyTmFtZX0nIHBhcmFtZXRlci4gRW52aXJvbm1lbnQgdmFyaWFibGVzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC5gLFxuICAgIH0pO1xuICB9XG5cbiAgYXBpS2V5ID0gcHJvY2Vzcy5lbnZbZW52aXJvbm1lbnRWYXJpYWJsZU5hbWVdO1xuXG4gIGlmIChhcGlLZXkgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBMb2FkQVBJS2V5RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IEFQSSBrZXkgaXMgbWlzc2luZy4gUGFzcyBpdCB1c2luZyB0aGUgJyR7YXBpS2V5UGFyYW1ldGVyTmFtZX0nIHBhcmFtZXRlciBvciB0aGUgJHtlbnZpcm9ubWVudFZhcmlhYmxlTmFtZX0gZW52aXJvbm1lbnQgdmFyaWFibGUuYCxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYXBpS2V5ICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBMb2FkQVBJS2V5RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IEFQSSBrZXkgbXVzdCBiZSBhIHN0cmluZy4gVGhlIHZhbHVlIG9mIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3QgYSBzdHJpbmcuYCxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBhcGlLZXk7XG59XG4iLCAiLyoqXG4gKiBMb2FkcyBhbiBvcHRpb25hbCBgc3RyaW5nYCBzZXR0aW5nIGZyb20gdGhlIGVudmlyb25tZW50IG9yIGEgcGFyYW1ldGVyLlxuICpcbiAqIEBwYXJhbSBzZXR0aW5nVmFsdWUgLSBUaGUgc2V0dGluZyB2YWx1ZS5cbiAqIEBwYXJhbSBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSAtIFRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBuYW1lLlxuICogQHJldHVybnMgVGhlIHNldHRpbmcgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkT3B0aW9uYWxTZXR0aW5nKHtcbiAgc2V0dGluZ1ZhbHVlLFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSxcbn06IHtcbiAgc2V0dGluZ1ZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiBzdHJpbmc7XG59KTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgaWYgKHR5cGVvZiBzZXR0aW5nVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHNldHRpbmdWYWx1ZTtcbiAgfVxuXG4gIGlmIChzZXR0aW5nVmFsdWUgIT0gbnVsbCB8fCB0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgc2V0dGluZ1ZhbHVlID0gcHJvY2Vzcy5lbnZbZW52aXJvbm1lbnRWYXJpYWJsZU5hbWVdO1xuXG4gIGlmIChzZXR0aW5nVmFsdWUgPT0gbnVsbCB8fCB0eXBlb2Ygc2V0dGluZ1ZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xufVxuIiwgImltcG9ydCB7IExvYWRTZXR0aW5nRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuLyoqXG4gKiBMb2FkcyBhIGBzdHJpbmdgIHNldHRpbmcgZnJvbSB0aGUgZW52aXJvbm1lbnQgb3IgYSBwYXJhbWV0ZXIuXG4gKlxuICogQHBhcmFtIHNldHRpbmdWYWx1ZSAtIFRoZSBzZXR0aW5nIHZhbHVlLlxuICogQHBhcmFtIGVudmlyb25tZW50VmFyaWFibGVOYW1lIC0gVGhlIGVudmlyb25tZW50IHZhcmlhYmxlIG5hbWUuXG4gKiBAcGFyYW0gc2V0dGluZ05hbWUgLSBUaGUgc2V0dGluZyBuYW1lLlxuICogQHBhcmFtIGRlc2NyaXB0aW9uIC0gVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBzZXR0aW5nLlxuICogQHJldHVybnMgVGhlIHNldHRpbmcgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkU2V0dGluZyh7XG4gIHNldHRpbmdWYWx1ZSxcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUsXG4gIHNldHRpbmdOYW1lLFxuICBkZXNjcmlwdGlvbixcbn06IHtcbiAgc2V0dGluZ1ZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiBzdHJpbmc7XG4gIHNldHRpbmdOYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG59KTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiBzZXR0aW5nVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHNldHRpbmdWYWx1ZTtcbiAgfVxuXG4gIGlmIChzZXR0aW5nVmFsdWUgIT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIG11c3QgYmUgYSBzdHJpbmcuYCxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOlxuICAgICAgICBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBpcyBtaXNzaW5nLiBgICtcbiAgICAgICAgYFBhc3MgaXQgdXNpbmcgdGhlICcke3NldHRpbmdOYW1lfScgcGFyYW1ldGVyLiBgICtcbiAgICAgICAgYEVudmlyb25tZW50IHZhcmlhYmxlcyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuYCxcbiAgICB9KTtcbiAgfVxuXG4gIHNldHRpbmdWYWx1ZSA9IHByb2Nlc3MuZW52W2Vudmlyb25tZW50VmFyaWFibGVOYW1lXTtcblxuICBpZiAoc2V0dGluZ1ZhbHVlID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOlxuICAgICAgICBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBpcyBtaXNzaW5nLiBgICtcbiAgICAgICAgYFBhc3MgaXQgdXNpbmcgdGhlICcke3NldHRpbmdOYW1lfScgcGFyYW1ldGVyIGAgK1xuICAgICAgICBgb3IgdGhlICR7ZW52aXJvbm1lbnRWYXJpYWJsZU5hbWV9IGVudmlyb25tZW50IHZhcmlhYmxlLmAsXG4gICAgfSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHNldHRpbmdWYWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOlxuICAgICAgICBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBtdXN0IGJlIGEgc3RyaW5nLiBgICtcbiAgICAgICAgYFRoZSB2YWx1ZSBvZiB0aGUgJHtlbnZpcm9ubWVudFZhcmlhYmxlTmFtZX0gZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IGEgc3RyaW5nLmAsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xufVxuIiwgIi8qKlxuICogTWFwcyBhIG1lZGlhIHR5cGUgdG8gaXRzIGNvcnJlc3BvbmRpbmcgZmlsZSBleHRlbnNpb24uXG4gKiBJdCB3YXMgb3JpZ2luYWxseSBpbnRyb2R1Y2VkIHRvIHNldCBhIGZpbGVuYW1lIGZvciBhdWRpbyBmaWxlIHVwbG9hZHNcbiAqIGluIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvYWkvcHVsbC84MTU5LlxuICpcbiAqIEBwYXJhbSBtZWRpYVR5cGUgVGhlIG1lZGlhIHR5cGUgdG8gbWFwLlxuICogQHJldHVybnMgVGhlIGNvcnJlc3BvbmRpbmcgZmlsZSBleHRlbnNpb25cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9HdWlkZXMvTUlNRV90eXBlcy9Db21tb25fdHlwZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lZGlhVHlwZVRvRXh0ZW5zaW9uKG1lZGlhVHlwZTogc3RyaW5nKSB7XG4gIGNvbnN0IFtfdHlwZSwgc3VidHlwZSA9ICcnXSA9IG1lZGlhVHlwZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcvJyk7XG5cbiAgcmV0dXJuIChcbiAgICB7XG4gICAgICBtcGVnOiAnbXAzJyxcbiAgICAgICd4LXdhdic6ICd3YXYnLFxuICAgICAgb3B1czogJ29nZycsXG4gICAgICBtcDQ6ICdtNGEnLFxuICAgICAgJ3gtbTRhJzogJ200YScsXG4gICAgfVtzdWJ0eXBlXSA/PyBzdWJ0eXBlXG4gICk7XG59XG4iLCAiaW1wb3J0IHtcbiAgSlNPTlBhcnNlRXJyb3IsXG4gIEpTT05WYWx1ZSxcbiAgVHlwZVZhbGlkYXRpb25FcnJvcixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgKiBhcyB6MyBmcm9tICd6b2QvdjMnO1xuaW1wb3J0ICogYXMgejQgZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IHNlY3VyZUpzb25QYXJzZSB9IGZyb20gJy4vc2VjdXJlLWpzb24tcGFyc2UnO1xuaW1wb3J0IHsgc2FmZVZhbGlkYXRlVHlwZXMsIHZhbGlkYXRlVHlwZXMgfSBmcm9tICcuL3ZhbGlkYXRlLXR5cGVzJztcbmltcG9ydCB7IFZhbGlkYXRvciB9IGZyb20gJy4vdmFsaWRhdG9yJztcblxuLyoqXG4gKiBQYXJzZXMgYSBKU09OIHN0cmluZyBpbnRvIGFuIHVua25vd24gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gVGhlIEpTT04gc3RyaW5nIHRvIHBhcnNlLlxuICogQHJldHVybnMge0pTT05WYWx1ZX0gLSBUaGUgcGFyc2VkIEpTT04gb2JqZWN0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VKU09OKG9wdGlvbnM6IHtcbiAgdGV4dDogc3RyaW5nO1xuICBzY2hlbWE/OiB1bmRlZmluZWQ7XG59KTogUHJvbWlzZTxKU09OVmFsdWU+O1xuLyoqXG4gKiBQYXJzZXMgYSBKU09OIHN0cmluZyBpbnRvIGEgc3Ryb25nbHktdHlwZWQgb2JqZWN0IHVzaW5nIHRoZSBwcm92aWRlZCBzY2hlbWEuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0IHRvIHBhcnNlIHRoZSBKU09OIGludG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBKU09OIHN0cmluZyB0byBwYXJzZS5cbiAqIEBwYXJhbSB7VmFsaWRhdG9yPFQ+fSBzY2hlbWEgLSBUaGUgc2NoZW1hIHRvIHVzZSBmb3IgcGFyc2luZyB0aGUgSlNPTi5cbiAqIEByZXR1cm5zIHtQcm9taXNlPFQ+fSAtIFRoZSBwYXJzZWQgb2JqZWN0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VKU09OPFQ+KG9wdGlvbnM6IHtcbiAgdGV4dDogc3RyaW5nO1xuICBzY2hlbWE6IHo0LmNvcmUuJFpvZFR5cGU8VD4gfCB6My5TY2hlbWE8VD4gfCBWYWxpZGF0b3I8VD47XG59KTogUHJvbWlzZTxUPjtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUpTT048VD4oe1xuICB0ZXh0LFxuICBzY2hlbWEsXG59OiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2NoZW1hPzogejQuY29yZS4kWm9kVHlwZTxUPiB8IHozLlNjaGVtYTxUPiB8IFZhbGlkYXRvcjxUPjtcbn0pOiBQcm9taXNlPFQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWx1ZSA9IHNlY3VyZUpzb25QYXJzZSh0ZXh0KTtcblxuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0ZVR5cGVzPFQ+KHsgdmFsdWUsIHNjaGVtYSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoXG4gICAgICBKU09OUGFyc2VFcnJvci5pc0luc3RhbmNlKGVycm9yKSB8fFxuICAgICAgVHlwZVZhbGlkYXRpb25FcnJvci5pc0luc3RhbmNlKGVycm9yKVxuICAgICkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEpTT05QYXJzZUVycm9yKHsgdGV4dCwgY2F1c2U6IGVycm9yIH0pO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFBhcnNlUmVzdWx0PFQ+ID1cbiAgfCB7IHN1Y2Nlc3M6IHRydWU7IHZhbHVlOiBUOyByYXdWYWx1ZTogdW5rbm93biB9XG4gIHwge1xuICAgICAgc3VjY2VzczogZmFsc2U7XG4gICAgICBlcnJvcjogSlNPTlBhcnNlRXJyb3IgfCBUeXBlVmFsaWRhdGlvbkVycm9yO1xuICAgICAgcmF3VmFsdWU6IHVua25vd247XG4gICAgfTtcblxuLyoqXG4gKiBTYWZlbHkgcGFyc2VzIGEgSlNPTiBzdHJpbmcgYW5kIHJldHVybnMgdGhlIHJlc3VsdCBhcyBhbiBvYmplY3Qgb2YgdHlwZSBgdW5rbm93bmAuXG4gKlxuICogQHBhcmFtIHRleHQgLSBUaGUgSlNPTiBzdHJpbmcgdG8gcGFyc2UuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSBFaXRoZXIgYW4gb2JqZWN0IHdpdGggYHN1Y2Nlc3M6IHRydWVgIGFuZCB0aGUgcGFyc2VkIGRhdGEsIG9yIGFuIG9iamVjdCB3aXRoIGBzdWNjZXNzOiBmYWxzZWAgYW5kIHRoZSBlcnJvciB0aGF0IG9jY3VycmVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FmZVBhcnNlSlNPTihvcHRpb25zOiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2NoZW1hPzogdW5kZWZpbmVkO1xufSk6IFByb21pc2U8UGFyc2VSZXN1bHQ8SlNPTlZhbHVlPj47XG4vKipcbiAqIFNhZmVseSBwYXJzZXMgYSBKU09OIHN0cmluZyBpbnRvIGEgc3Ryb25nbHktdHlwZWQgb2JqZWN0LCB1c2luZyBhIHByb3ZpZGVkIHNjaGVtYSB0byB2YWxpZGF0ZSB0aGUgb2JqZWN0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdCB0byBwYXJzZSB0aGUgSlNPTiBpbnRvLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgSlNPTiBzdHJpbmcgdG8gcGFyc2UuXG4gKiBAcGFyYW0ge1ZhbGlkYXRvcjxUPn0gc2NoZW1hIC0gVGhlIHNjaGVtYSB0byB1c2UgZm9yIHBhcnNpbmcgdGhlIEpTT04uXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCBlaXRoZXIgYSBgc3VjY2Vzc2AgZmxhZyBhbmQgdGhlIHBhcnNlZCBhbmQgdHlwZWQgZGF0YSwgb3IgYSBgc3VjY2Vzc2AgZmxhZyBhbmQgYW4gZXJyb3Igb2JqZWN0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FmZVBhcnNlSlNPTjxUPihvcHRpb25zOiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2NoZW1hOiB6NC5jb3JlLiRab2RUeXBlPFQ+IHwgejMuU2NoZW1hPFQ+IHwgVmFsaWRhdG9yPFQ+O1xufSk6IFByb21pc2U8UGFyc2VSZXN1bHQ8VD4+O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhZmVQYXJzZUpTT048VD4oe1xuICB0ZXh0LFxuICBzY2hlbWEsXG59OiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2NoZW1hPzogejQuY29yZS4kWm9kVHlwZTxUPiB8IHozLlNjaGVtYTxUPiB8IFZhbGlkYXRvcjxUPjtcbn0pOiBQcm9taXNlPFBhcnNlUmVzdWx0PFQ+PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsdWUgPSBzZWN1cmVKc29uUGFyc2UodGV4dCk7XG5cbiAgICBpZiAoc2NoZW1hID09IG51bGwpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiB2YWx1ZSBhcyBULCByYXdWYWx1ZTogdmFsdWUgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXM8VD4oeyB2YWx1ZSwgc2NoZW1hIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBKU09OUGFyc2VFcnJvci5pc0luc3RhbmNlKGVycm9yKVxuICAgICAgICA/IGVycm9yXG4gICAgICAgIDogbmV3IEpTT05QYXJzZUVycm9yKHsgdGV4dCwgY2F1c2U6IGVycm9yIH0pLFxuICAgICAgcmF3VmFsdWU6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1BhcnNhYmxlSnNvbihpbnB1dDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHRyeSB7XG4gICAgc2VjdXJlSnNvblBhcnNlKGlucHV0KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCAiLy8gTGljZW5zZWQgdW5kZXIgQlNELTMtQ2xhdXNlICh0aGlzIGZpbGUgb25seSlcbi8vIENvZGUgYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYXN0aWZ5L3NlY3VyZS1qc29uLXBhcnNlL2Jsb2IvNzgzZmNiMWI1NDM0NzA5NDY2NzU5ODQ3Y2VjOTc0MzgxOTM5NjczYS9pbmRleC5qc1xuLy9cbi8vIENvcHlyaWdodCAoYykgVmVyY2VsLCBJbmMuIChodHRwczovL3ZlcmNlbC5jb20pXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTkgVGhlIEZhc3RpZnkgVGVhbVxuLy8gQ29weXJpZ2h0IChjKSAyMDE5LCBTaWRld2F5IEluYywgYW5kIHByb2plY3QgY29udHJpYnV0b3JzXG4vLyBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy9cbi8vIFRoZSBjb21wbGV0ZSBsaXN0IG9mIGNvbnRyaWJ1dG9ycyBjYW4gYmUgZm91bmQgYXQ6XG4vLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9oYXBpanMvYm91cm5lL2dyYXBocy9jb250cmlidXRvcnNcbi8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2Zhc3RpZnkvc2VjdXJlLWpzb24tcGFyc2UvZ3JhcGhzL2NvbnRyaWJ1dG9yc1xuLy8gLSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL2FpL2NvbW1pdHMvbWFpbi9wYWNrYWdlcy9wcm92aWRlci11dGlscy9zcmMvc2VjdXJlLXBhcnNlLWpzb24udHNcbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4vL1xuLy8gMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuLy9cbi8vIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbi8vXG4vLyAzLiBOZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBjb3B5cmlnaHQgaG9sZGVyIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuXG5jb25zdCBzdXNwZWN0UHJvdG9SeCA9IC9cIl9fcHJvdG9fX1wiXFxzKjovO1xuY29uc3Qgc3VzcGVjdENvbnN0cnVjdG9yUnggPSAvXCJjb25zdHJ1Y3RvclwiXFxzKjovO1xuXG5mdW5jdGlvbiBfcGFyc2UodGV4dDogc3RyaW5nKSB7XG4gIC8vIFBhcnNlIG5vcm1hbGx5XG4gIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UodGV4dCk7XG5cbiAgLy8gSWdub3JlIG51bGwgYW5kIG5vbi1vYmplY3RzXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgaWYgKFxuICAgIHN1c3BlY3RQcm90b1J4LnRlc3QodGV4dCkgPT09IGZhbHNlICYmXG4gICAgc3VzcGVjdENvbnN0cnVjdG9yUngudGVzdCh0ZXh0KSA9PT0gZmFsc2VcbiAgKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIC8vIFNjYW4gcmVzdWx0IGZvciBwcm90byBrZXlzXG4gIHJldHVybiBmaWx0ZXIob2JqKTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyKG9iajogYW55KSB7XG4gIGxldCBuZXh0ID0gW29ial07XG5cbiAgd2hpbGUgKG5leHQubGVuZ3RoKSB7XG4gICAgY29uc3Qgbm9kZXMgPSBuZXh0O1xuICAgIG5leHQgPSBbXTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlcykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChub2RlLCAnX19wcm90b19fJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdPYmplY3QgY29udGFpbnMgZm9yYmlkZGVuIHByb3RvdHlwZSBwcm9wZXJ0eScpO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChub2RlLCAnY29uc3RydWN0b3InKSAmJlxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobm9kZS5jb25zdHJ1Y3RvciwgJ3Byb3RvdHlwZScpXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdPYmplY3QgY29udGFpbnMgZm9yYmlkZGVuIHByb3RvdHlwZSBwcm9wZXJ0eScpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBub2RlKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbm9kZVtrZXldO1xuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIG5leHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlY3VyZUpzb25QYXJzZSh0ZXh0OiBzdHJpbmcpIHtcbiAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Zhc3RpZnkvc2VjdXJlLWpzb24tcGFyc2UvcHVsbC85MFxuICBjb25zdCB7IHN0YWNrVHJhY2VMaW1pdCB9ID0gRXJyb3I7XG4gIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IDA7XG4gIHRyeSB7XG4gICAgcmV0dXJuIF9wYXJzZSh0ZXh0KTtcbiAgfSBmaW5hbGx5IHtcbiAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBzdGFja1RyYWNlTGltaXQ7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBUeXBlVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgdHlwZSB7IFN0YW5kYXJkU2NoZW1hVjEgfSBmcm9tICdAc3RhbmRhcmQtc2NoZW1hL3NwZWMnO1xuaW1wb3J0IHsgVmFsaWRhdG9yLCBhc1ZhbGlkYXRvciB9IGZyb20gJy4vdmFsaWRhdG9yJztcblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIHR5cGVzIG9mIGFuIHVua25vd24gb2JqZWN0IHVzaW5nIGEgc2NoZW1hIGFuZFxuICogcmV0dXJuIGEgc3Ryb25nbHktdHlwZWQgb2JqZWN0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdCB0byB2YWxpZGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnZhbHVlIC0gVGhlIG9iamVjdCB0byB2YWxpZGF0ZS5cbiAqIEBwYXJhbSB7VmFsaWRhdG9yPFQ+fSBvcHRpb25zLnNjaGVtYSAtIFRoZSBzY2hlbWEgdG8gdXNlIGZvciB2YWxpZGF0aW5nIHRoZSBKU09OLlxuICogQHJldHVybnMge1Byb21pc2U8VD59IC0gVGhlIHR5cGVkIG9iamVjdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlVHlwZXM8T0JKRUNUPih7XG4gIHZhbHVlLFxuICBzY2hlbWEsXG59OiB7XG4gIHZhbHVlOiB1bmtub3duO1xuICBzY2hlbWE6IFN0YW5kYXJkU2NoZW1hVjE8dW5rbm93biwgT0JKRUNUPiB8IFZhbGlkYXRvcjxPQkpFQ1Q+O1xufSk6IFByb21pc2U8T0JKRUNUPiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhZmVWYWxpZGF0ZVR5cGVzKHsgdmFsdWUsIHNjaGVtYSB9KTtcblxuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgVHlwZVZhbGlkYXRpb25FcnJvci53cmFwKHsgdmFsdWUsIGNhdXNlOiByZXN1bHQuZXJyb3IgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0LnZhbHVlO1xufVxuXG4vKipcbiAqIFNhZmVseSB2YWxpZGF0ZXMgdGhlIHR5cGVzIG9mIGFuIHVua25vd24gb2JqZWN0IHVzaW5nIGEgc2NoZW1hIGFuZFxuICogcmV0dXJuIGEgc3Ryb25nbHktdHlwZWQgb2JqZWN0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdCB0byB2YWxpZGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnZhbHVlIC0gVGhlIEpTT04gb2JqZWN0IHRvIHZhbGlkYXRlLlxuICogQHBhcmFtIHtWYWxpZGF0b3I8VD59IG9wdGlvbnMuc2NoZW1hIC0gVGhlIHNjaGVtYSB0byB1c2UgZm9yIHZhbGlkYXRpbmcgdGhlIEpTT04uXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCBlaXRoZXIgYSBgc3VjY2Vzc2AgZmxhZyBhbmQgdGhlIHBhcnNlZCBhbmQgdHlwZWQgZGF0YSwgb3IgYSBgc3VjY2Vzc2AgZmxhZyBhbmQgYW4gZXJyb3Igb2JqZWN0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FmZVZhbGlkYXRlVHlwZXM8T0JKRUNUPih7XG4gIHZhbHVlLFxuICBzY2hlbWEsXG59OiB7XG4gIHZhbHVlOiB1bmtub3duO1xuICBzY2hlbWE6IFN0YW5kYXJkU2NoZW1hVjE8dW5rbm93biwgT0JKRUNUPiB8IFZhbGlkYXRvcjxPQkpFQ1Q+O1xufSk6IFByb21pc2U8XG4gIHwge1xuICAgICAgc3VjY2VzczogdHJ1ZTtcbiAgICAgIHZhbHVlOiBPQkpFQ1Q7XG4gICAgICByYXdWYWx1ZTogdW5rbm93bjtcbiAgICB9XG4gIHwge1xuICAgICAgc3VjY2VzczogZmFsc2U7XG4gICAgICBlcnJvcjogVHlwZVZhbGlkYXRpb25FcnJvcjtcbiAgICAgIHJhd1ZhbHVlOiB1bmtub3duO1xuICAgIH1cbj4ge1xuICBjb25zdCB2YWxpZGF0b3IgPSBhc1ZhbGlkYXRvcihzY2hlbWEpO1xuXG4gIHRyeSB7XG4gICAgaWYgKHZhbGlkYXRvci52YWxpZGF0ZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogdmFsdWUgYXMgT0JKRUNULCByYXdWYWx1ZTogdmFsdWUgfTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2YWxpZGF0b3IudmFsaWRhdGUodmFsdWUpO1xuXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0LnZhbHVlLCByYXdWYWx1ZTogdmFsdWUgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogVHlwZVZhbGlkYXRpb25FcnJvci53cmFwKHsgdmFsdWUsIGNhdXNlOiByZXN1bHQuZXJyb3IgfSksXG4gICAgICByYXdWYWx1ZTogdmFsdWUsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogVHlwZVZhbGlkYXRpb25FcnJvci53cmFwKHsgdmFsdWUsIGNhdXNlOiBlcnJvciB9KSxcbiAgICAgIHJhd1ZhbHVlOiB2YWx1ZSxcbiAgICB9O1xuICB9XG59XG4iLCAiaW1wb3J0IHsgVHlwZVZhbGlkYXRpb25FcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgU3RhbmRhcmRTY2hlbWFWMSB9IGZyb20gJ0BzdGFuZGFyZC1zY2hlbWEvc3BlYyc7XG5cbi8qKlxuICogVXNlZCB0byBtYXJrIHZhbGlkYXRvciBmdW5jdGlvbnMgc28gd2UgY2FuIHN1cHBvcnQgYm90aCBab2QgYW5kIGN1c3RvbSBzY2hlbWFzLlxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdG9yU3ltYm9sID0gU3ltYm9sLmZvcigndmVyY2VsLmFpLnZhbGlkYXRvcicpO1xuXG5leHBvcnQgdHlwZSBWYWxpZGF0aW9uUmVzdWx0PE9CSkVDVD4gPVxuICB8IHsgc3VjY2VzczogdHJ1ZTsgdmFsdWU6IE9CSkVDVCB9XG4gIHwgeyBzdWNjZXNzOiBmYWxzZTsgZXJyb3I6IEVycm9yIH07XG5cbmV4cG9ydCB0eXBlIFZhbGlkYXRvcjxPQkpFQ1QgPSB1bmtub3duPiA9IHtcbiAgLyoqXG4gICAqIFVzZWQgdG8gbWFyayB2YWxpZGF0b3IgZnVuY3Rpb25zIHNvIHdlIGNhbiBzdXBwb3J0IGJvdGggWm9kIGFuZCBjdXN0b20gc2NoZW1hcy5cbiAgICovXG4gIFt2YWxpZGF0b3JTeW1ib2xdOiB0cnVlO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbC4gVmFsaWRhdGVzIHRoYXQgdGhlIHN0cnVjdHVyZSBvZiBhIHZhbHVlIG1hdGNoZXMgdGhpcyBzY2hlbWEsXG4gICAqIGFuZCByZXR1cm5zIGEgdHlwZWQgdmVyc2lvbiBvZiB0aGUgdmFsdWUgaWYgaXQgZG9lcy5cbiAgICovXG4gIHJlYWRvbmx5IHZhbGlkYXRlPzogKFxuICAgIHZhbHVlOiB1bmtub3duLFxuICApID0+IFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPiB8IFByb21pc2VMaWtlPFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPj47XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIHZhbGlkYXRvci5cbiAqXG4gKiBAcGFyYW0gdmFsaWRhdGUgQSB2YWxpZGF0aW9uIGZ1bmN0aW9uIGZvciB0aGUgc2NoZW1hLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdG9yPE9CSkVDVD4oXG4gIHZhbGlkYXRlPzpcbiAgICB8IHVuZGVmaW5lZFxuICAgIHwgKChcbiAgICAgICAgdmFsdWU6IHVua25vd24sXG4gICAgICApID0+IFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPiB8IFByb21pc2VMaWtlPFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPj4pLFxuKTogVmFsaWRhdG9yPE9CSkVDVD4ge1xuICByZXR1cm4geyBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZSwgdmFsaWRhdGUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRhdG9yKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgVmFsaWRhdG9yIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICB2YWxpZGF0b3JTeW1ib2wgaW4gdmFsdWUgJiZcbiAgICB2YWx1ZVt2YWxpZGF0b3JTeW1ib2xdID09PSB0cnVlICYmXG4gICAgJ3ZhbGlkYXRlJyBpbiB2YWx1ZVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNWYWxpZGF0b3I8T0JKRUNUPihcbiAgdmFsdWU6IFZhbGlkYXRvcjxPQkpFQ1Q+IHwgU3RhbmRhcmRTY2hlbWFWMTx1bmtub3duLCBPQkpFQ1Q+LFxuKTogVmFsaWRhdG9yPE9CSkVDVD4ge1xuICByZXR1cm4gaXNWYWxpZGF0b3IodmFsdWUpID8gdmFsdWUgOiBzdGFuZGFyZFNjaGVtYVZhbGlkYXRvcih2YWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFuZGFyZFNjaGVtYVZhbGlkYXRvcjxPQkpFQ1Q+KFxuICBzdGFuZGFyZFNjaGVtYTogU3RhbmRhcmRTY2hlbWFWMTx1bmtub3duLCBPQkpFQ1Q+LFxuKTogVmFsaWRhdG9yPE9CSkVDVD4ge1xuICByZXR1cm4gdmFsaWRhdG9yKGFzeW5jIHZhbHVlID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGFuZGFyZFNjaGVtYVsnfnN0YW5kYXJkJ10udmFsaWRhdGUodmFsdWUpO1xuXG4gICAgcmV0dXJuIHJlc3VsdC5pc3N1ZXMgPT0gbnVsbFxuICAgICAgPyB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiByZXN1bHQudmFsdWUgfVxuICAgICAgOiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2F1c2U6IHJlc3VsdC5pc3N1ZXMsXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gIH0pO1xufVxuIiwgImltcG9ydCB7XG4gIEV2ZW50U291cmNlTWVzc2FnZSxcbiAgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0sXG59IGZyb20gJ2V2ZW50c291cmNlLXBhcnNlci9zdHJlYW0nO1xuaW1wb3J0IHsgWm9kVHlwZSB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBQYXJzZVJlc3VsdCwgc2FmZVBhcnNlSlNPTiB9IGZyb20gJy4vcGFyc2UtanNvbic7XG5cbi8qKlxuICogUGFyc2VzIGEgSlNPTiBldmVudCBzdHJlYW0gaW50byBhIHN0cmVhbSBvZiBwYXJzZWQgSlNPTiBvYmplY3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VKc29uRXZlbnRTdHJlYW08VD4oe1xuICBzdHJlYW0sXG4gIHNjaGVtYSxcbn06IHtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PjtcbiAgc2NoZW1hOiBab2RUeXBlPFQ+O1xufSk6IFJlYWRhYmxlU3RyZWFtPFBhcnNlUmVzdWx0PFQ+PiB7XG4gIHJldHVybiBzdHJlYW1cbiAgICAucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpXG4gICAgLnBpcGVUaHJvdWdoKG5ldyBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSgpKVxuICAgIC5waXBlVGhyb3VnaChcbiAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08RXZlbnRTb3VyY2VNZXNzYWdlLCBQYXJzZVJlc3VsdDxUPj4oe1xuICAgICAgICBhc3luYyB0cmFuc2Zvcm0oeyBkYXRhIH0sIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAvLyBpZ25vcmUgdGhlICdET05FJyBldmVudCB0aGF0IGUuZy4gT3BlbkFJIHNlbmRzOlxuICAgICAgICAgIGlmIChkYXRhID09PSAnW0RPTkVdJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShhd2FpdCBzYWZlUGFyc2VKU09OKHsgdGV4dDogZGF0YSwgc2NoZW1hIH0pKTtcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICk7XG59XG4iLCAiaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IHNhZmVWYWxpZGF0ZVR5cGVzIH0gZnJvbSAnLi92YWxpZGF0ZS10eXBlcyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlUHJvdmlkZXJPcHRpb25zPFQ+KHtcbiAgcHJvdmlkZXIsXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgc2NoZW1hLFxufToge1xuICBwcm92aWRlcjogc3RyaW5nO1xuICBwcm92aWRlck9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgdW5kZWZpbmVkO1xuICBzY2hlbWE6IHouY29yZS4kWm9kVHlwZTxULCBhbnk+O1xufSk6IFByb21pc2U8VCB8IHVuZGVmaW5lZD4ge1xuICBpZiAocHJvdmlkZXJPcHRpb25zPy5bcHJvdmlkZXJdID09IG51bGwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29uc3QgcGFyc2VkUHJvdmlkZXJPcHRpb25zID0gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXM8VCB8IHVuZGVmaW5lZD4oe1xuICAgIHZhbHVlOiBwcm92aWRlck9wdGlvbnNbcHJvdmlkZXJdLFxuICAgIHNjaGVtYSxcbiAgfSk7XG5cbiAgaWYgKCFwYXJzZWRQcm92aWRlck9wdGlvbnMuc3VjY2Vzcykge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICBhcmd1bWVudDogJ3Byb3ZpZGVyT3B0aW9ucycsXG4gICAgICBtZXNzYWdlOiBgaW52YWxpZCAke3Byb3ZpZGVyfSBwcm92aWRlciBvcHRpb25zYCxcbiAgICAgIGNhdXNlOiBwYXJzZWRQcm92aWRlck9wdGlvbnMuZXJyb3IsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VkUHJvdmlkZXJPcHRpb25zLnZhbHVlO1xufVxuIiwgImltcG9ydCB7IEFQSUNhbGxFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgZXh0cmFjdFJlc3BvbnNlSGVhZGVycyB9IGZyb20gJy4vZXh0cmFjdC1yZXNwb25zZS1oZWFkZXJzJztcbmltcG9ydCB7IEZldGNoRnVuY3Rpb24gfSBmcm9tICcuL2ZldGNoLWZ1bmN0aW9uJztcbmltcG9ydCB7IGhhbmRsZUZldGNoRXJyb3IgfSBmcm9tICcuL2hhbmRsZS1mZXRjaC1lcnJvcic7XG5pbXBvcnQgeyBpc0Fib3J0RXJyb3IgfSBmcm9tICcuL2lzLWFib3J0LWVycm9yJztcbmltcG9ydCB7IFJlc3BvbnNlSGFuZGxlciB9IGZyb20gJy4vcmVzcG9uc2UtaGFuZGxlcic7XG5pbXBvcnQgeyBnZXRSdW50aW1lRW52aXJvbm1lbnRVc2VyQWdlbnQgfSBmcm9tICcuL2dldC1ydW50aW1lLWVudmlyb25tZW50LXVzZXItYWdlbnQnO1xuaW1wb3J0IHsgd2l0aFVzZXJBZ2VudFN1ZmZpeCB9IGZyb20gJy4vd2l0aC11c2VyLWFnZW50LXN1ZmZpeCc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi92ZXJzaW9uJztcblxuLy8gdXNlIGZ1bmN0aW9uIHRvIGFsbG93IGZvciBtb2NraW5nIGluIHRlc3RzOlxuY29uc3QgZ2V0T3JpZ2luYWxGZXRjaCA9ICgpID0+IGdsb2JhbFRoaXMuZmV0Y2g7XG5cbmV4cG9ydCBjb25zdCBwb3N0SnNvblRvQXBpID0gYXN5bmMgPFQ+KHtcbiAgdXJsLFxuICBoZWFkZXJzLFxuICBib2R5LFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaCxcbn06IHtcbiAgdXJsOiBzdHJpbmc7XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+O1xuICBib2R5OiB1bmtub3duO1xuICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxBUElDYWxsRXJyb3I+O1xuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBSZXNwb25zZUhhbmRsZXI8VD47XG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIGZldGNoPzogRmV0Y2hGdW5jdGlvbjtcbn0pID0+XG4gIHBvc3RUb0FwaSh7XG4gICAgdXJsLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAuLi5oZWFkZXJzLFxuICAgIH0sXG4gICAgYm9keToge1xuICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICB2YWx1ZXM6IGJvZHksXG4gICAgfSxcbiAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBmZXRjaCxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBwb3N0Rm9ybURhdGFUb0FwaSA9IGFzeW5jIDxUPih7XG4gIHVybCxcbiAgaGVhZGVycyxcbiAgZm9ybURhdGEsXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoLFxufToge1xuICB1cmw6IHN0cmluZztcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG4gIGZvcm1EYXRhOiBGb3JtRGF0YTtcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBSZXNwb25zZUhhbmRsZXI8QVBJQ2FsbEVycm9yPjtcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyPFQ+O1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICBmZXRjaD86IEZldGNoRnVuY3Rpb247XG59KSA9PlxuICBwb3N0VG9BcGkoe1xuICAgIHVybCxcbiAgICBoZWFkZXJzLFxuICAgIGJvZHk6IHtcbiAgICAgIGNvbnRlbnQ6IGZvcm1EYXRhLFxuICAgICAgdmFsdWVzOiBPYmplY3QuZnJvbUVudHJpZXMoKGZvcm1EYXRhIGFzIGFueSkuZW50cmllcygpKSxcbiAgICB9LFxuICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIGZldGNoLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHBvc3RUb0FwaSA9IGFzeW5jIDxUPih7XG4gIHVybCxcbiAgaGVhZGVycyA9IHt9LFxuICBib2R5LFxuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaCA9IGdldE9yaWdpbmFsRmV0Y2goKSxcbn06IHtcbiAgdXJsOiBzdHJpbmc7XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+O1xuICBib2R5OiB7XG4gICAgY29udGVudDogc3RyaW5nIHwgRm9ybURhdGEgfCBVaW50OEFycmF5O1xuICAgIHZhbHVlczogdW5rbm93bjtcbiAgfTtcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBSZXNwb25zZUhhbmRsZXI8RXJyb3I+O1xuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBSZXNwb25zZUhhbmRsZXI8VD47XG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIGZldGNoPzogRmV0Y2hGdW5jdGlvbjtcbn0pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBgYWktc2RrL3Byb3ZpZGVyLXV0aWxzLyR7VkVSU0lPTn1gLFxuICAgICAgICBnZXRSdW50aW1lRW52aXJvbm1lbnRVc2VyQWdlbnQoKSxcbiAgICAgICksXG4gICAgICBib2R5OiBib2R5LmNvbnRlbnQsXG4gICAgICBzaWduYWw6IGFib3J0U2lnbmFsLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBsZXQgZXJyb3JJbmZvcm1hdGlvbjoge1xuICAgICAgICB2YWx1ZTogRXJyb3I7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfCB1bmRlZmluZWQ7XG4gICAgICB9O1xuXG4gICAgICB0cnkge1xuICAgICAgICBlcnJvckluZm9ybWF0aW9uID0gYXdhaXQgZmFpbGVkUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpIHx8IEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBwcm9jZXNzIGVycm9yIHJlc3BvbnNlJyxcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3JJbmZvcm1hdGlvbi52YWx1ZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXMsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgfHwgQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gcHJvY2VzcyBzdWNjZXNzZnVsIHJlc3BvbnNlJyxcbiAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXMsXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgaGFuZGxlRmV0Y2hFcnJvcih7IGVycm9yLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlcyB9KTtcbiAgfVxufTtcbiIsICJpbXBvcnQgeyBKU09OVmFsdWUsIExhbmd1YWdlTW9kZWxWMlRvb2xSZXN1bHRQYXJ0IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBGbGV4aWJsZVNjaGVtYSB9IGZyb20gJy4uL3NjaGVtYSc7XG5pbXBvcnQgeyBNb2RlbE1lc3NhZ2UgfSBmcm9tICcuL21vZGVsLW1lc3NhZ2UnO1xuaW1wb3J0IHsgUHJvdmlkZXJPcHRpb25zIH0gZnJvbSAnLi9wcm92aWRlci1vcHRpb25zJztcblxuLyoqXG4gKiBBZGRpdGlvbmFsIG9wdGlvbnMgdGhhdCBhcmUgc2VudCBpbnRvIGVhY2ggdG9vbCBjYWxsLlxuICovXG4vLyBUT0RPIEFJIFNESyA2OiByZW5hbWUgdG8gVG9vbEV4ZWN1dGlvbk9wdGlvbnNcbmV4cG9ydCBpbnRlcmZhY2UgVG9vbENhbGxPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsLiBZb3UgY2FuIHVzZSBpdCBlLmcuIHdoZW4gc2VuZGluZyB0b29sLWNhbGwgcmVsYXRlZCBpbmZvcm1hdGlvbiB3aXRoIHN0cmVhbSBkYXRhLlxuICAgKi9cbiAgdG9vbENhbGxJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBNZXNzYWdlcyB0aGF0IHdlcmUgc2VudCB0byB0aGUgbGFuZ3VhZ2UgbW9kZWwgdG8gaW5pdGlhdGUgdGhlIHJlc3BvbnNlIHRoYXQgY29udGFpbmVkIHRoZSB0b29sIGNhbGwuXG4gICAqIFRoZSBtZXNzYWdlcyAqKmRvIG5vdCoqIGluY2x1ZGUgdGhlIHN5c3RlbSBwcm9tcHQgbm9yIHRoZSBhc3Npc3RhbnQgcmVzcG9uc2UgdGhhdCBjb250YWluZWQgdGhlIHRvb2wgY2FsbC5cbiAgICovXG4gIG1lc3NhZ2VzOiBNb2RlbE1lc3NhZ2VbXTtcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIG92ZXJhbGwgb3BlcmF0aW9uIHNob3VsZCBiZSBhYm9ydGVkLlxuICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcblxuICAvKipcbiAgICogQWRkaXRpb25hbCBjb250ZXh0LlxuICAgKlxuICAgKiBFeHBlcmltZW50YWwgKGNhbiBicmVhayBpbiBwYXRjaCByZWxlYXNlcykuXG4gICAqL1xuICBleHBlcmltZW50YWxfY29udGV4dD86IHVua25vd247XG59XG5cbmV4cG9ydCB0eXBlIFRvb2xFeGVjdXRlRnVuY3Rpb248SU5QVVQsIE9VVFBVVD4gPSAoXG4gIGlucHV0OiBJTlBVVCxcbiAgb3B0aW9uczogVG9vbENhbGxPcHRpb25zLFxuKSA9PiBBc3luY0l0ZXJhYmxlPE9VVFBVVD4gfCBQcm9taXNlTGlrZTxPVVRQVVQ+IHwgT1VUUFVUO1xuXG4vLyAwIGV4dGVuZHMgMSAmIE4gY2hlY2tzIGZvciBhbnlcbi8vIFtOXSBleHRlbmRzIFtuZXZlcl0gY2hlY2tzIGZvciBuZXZlclxudHlwZSBOZXZlck9wdGlvbmFsPE4sIFQ+ID0gMCBleHRlbmRzIDEgJiBOXG4gID8gUGFydGlhbDxUPlxuICA6IFtOXSBleHRlbmRzIFtuZXZlcl1cbiAgICA/IFBhcnRpYWw8UmVjb3JkPGtleW9mIFQsIHVuZGVmaW5lZD4+XG4gICAgOiBUO1xuXG50eXBlIFRvb2xPdXRwdXRQcm9wZXJ0aWVzPElOUFVULCBPVVRQVVQ+ID0gTmV2ZXJPcHRpb25hbDxcbiAgT1VUUFVULFxuICB8IHtcbiAgICAgIC8qKlxuQW4gYXN5bmMgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCB0aGUgYXJndW1lbnRzIGZyb20gdGhlIHRvb2wgY2FsbCBhbmQgcHJvZHVjZXMgYSByZXN1bHQuXG5JZiBub3QgcHJvdmlkZWQsIHRoZSB0b29sIHdpbGwgbm90IGJlIGV4ZWN1dGVkIGF1dG9tYXRpY2FsbHkuXG5cbkBhcmdzIGlzIHRoZSBpbnB1dCBvZiB0aGUgdG9vbCBjYWxsLlxuQG9wdGlvbnMuYWJvcnRTaWduYWwgaXMgYSBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBhYm9ydCB0aGUgdG9vbCBjYWxsLlxuICAgICovXG4gICAgICBleGVjdXRlOiBUb29sRXhlY3V0ZUZ1bmN0aW9uPElOUFVULCBPVVRQVVQ+O1xuXG4gICAgICBvdXRwdXRTY2hlbWE/OiBGbGV4aWJsZVNjaGVtYTxPVVRQVVQ+O1xuICAgIH1cbiAgfCB7XG4gICAgICBvdXRwdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPE9VVFBVVD47XG5cbiAgICAgIGV4ZWN1dGU/OiBuZXZlcjtcbiAgICB9XG4+O1xuXG4vKipcbkEgdG9vbCBjb250YWlucyB0aGUgZGVzY3JpcHRpb24gYW5kIHRoZSBzY2hlbWEgb2YgdGhlIGlucHV0IHRoYXQgdGhlIHRvb2wgZXhwZWN0cy5cblRoaXMgZW5hYmxlcyB0aGUgbGFuZ3VhZ2UgbW9kZWwgdG8gZ2VuZXJhdGUgdGhlIGlucHV0LlxuXG5UaGUgdG9vbCBjYW4gYWxzbyBjb250YWluIGFuIG9wdGlvbmFsIGV4ZWN1dGUgZnVuY3Rpb24gZm9yIHRoZSBhY3R1YWwgZXhlY3V0aW9uIGZ1bmN0aW9uIG9mIHRoZSB0b29sLlxuICovXG5leHBvcnQgdHlwZSBUb29sPFxuICBJTlBVVCBleHRlbmRzIEpTT05WYWx1ZSB8IHVua25vd24gfCBuZXZlciA9IGFueSxcbiAgT1VUUFVUIGV4dGVuZHMgSlNPTlZhbHVlIHwgdW5rbm93biB8IG5ldmVyID0gYW55LFxuPiA9IHtcbiAgLyoqXG5BbiBvcHRpb25hbCBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoZSB0b29sIGRvZXMuXG5XaWxsIGJlIHVzZWQgYnkgdGhlIGxhbmd1YWdlIG1vZGVsIHRvIGRlY2lkZSB3aGV0aGVyIHRvIHVzZSB0aGUgdG9vbC5cbk5vdCB1c2VkIGZvciBwcm92aWRlci1kZWZpbmVkIHRvb2xzLlxuICAgKi9cbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxudG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5mdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICAqL1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgLyoqXG5UaGUgc2NoZW1hIG9mIHRoZSBpbnB1dCB0aGF0IHRoZSB0b29sIGV4cGVjdHMuIFRoZSBsYW5ndWFnZSBtb2RlbCB3aWxsIHVzZSB0aGlzIHRvIGdlbmVyYXRlIHRoZSBpbnB1dC5cbkl0IGlzIGFsc28gdXNlZCB0byB2YWxpZGF0ZSB0aGUgb3V0cHV0IG9mIHRoZSBsYW5ndWFnZSBtb2RlbC5cblVzZSBkZXNjcmlwdGlvbnMgdG8gbWFrZSB0aGUgaW5wdXQgdW5kZXJzdGFuZGFibGUgZm9yIHRoZSBsYW5ndWFnZSBtb2RlbC5cbiAgICovXG4gIGlucHV0U2NoZW1hOiBGbGV4aWJsZVNjaGVtYTxJTlBVVD47XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGFyZ3VtZW50IHN0cmVhbWluZyBzdGFydHMuXG4gICAqIE9ubHkgY2FsbGVkIHdoZW4gdGhlIHRvb2wgaXMgdXNlZCBpbiBhIHN0cmVhbWluZyBjb250ZXh0LlxuICAgKi9cbiAgb25JbnB1dFN0YXJ0PzogKG9wdGlvbnM6IFRvb2xDYWxsT3B0aW9ucykgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGFuIGFyZ3VtZW50IHN0cmVhbWluZyBkZWx0YSBpcyBhdmFpbGFibGUuXG4gICAqIE9ubHkgY2FsbGVkIHdoZW4gdGhlIHRvb2wgaXMgdXNlZCBpbiBhIHN0cmVhbWluZyBjb250ZXh0LlxuICAgKi9cbiAgb25JbnB1dERlbHRhPzogKFxuICAgIG9wdGlvbnM6IHsgaW5wdXRUZXh0RGVsdGE6IHN0cmluZyB9ICYgVG9vbENhbGxPcHRpb25zLFxuICApID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPjtcblxuICAvKipcbiAgICogT3B0aW9uYWwgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiBhIHRvb2wgY2FsbCBjYW4gYmUgc3RhcnRlZCxcbiAgICogZXZlbiBpZiB0aGUgZXhlY3V0ZSBmdW5jdGlvbiBpcyBub3QgcHJvdmlkZWQuXG4gICAqL1xuICBvbklucHV0QXZhaWxhYmxlPzogKFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGlucHV0OiBbSU5QVVRdIGV4dGVuZHMgW25ldmVyXSA/IHVuZGVmaW5lZCA6IElOUFVUO1xuICAgIH0gJiBUb29sQ2FsbE9wdGlvbnMsXG4gICkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+O1xufSAmIFRvb2xPdXRwdXRQcm9wZXJ0aWVzPElOUFVULCBPVVRQVVQ+ICYge1xuICAgIC8qKlxuT3B0aW9uYWwgY29udmVyc2lvbiBmdW5jdGlvbiB0aGF0IG1hcHMgdGhlIHRvb2wgcmVzdWx0IHRvIGFuIG91dHB1dCB0aGF0IGNhbiBiZSB1c2VkIGJ5IHRoZSBsYW5ndWFnZSBtb2RlbC5cblxuSWYgbm90IHByb3ZpZGVkLCB0aGUgdG9vbCByZXN1bHQgd2lsbCBiZSBzZW50IGFzIGEgSlNPTiBvYmplY3QuXG4gICovXG4gICAgdG9Nb2RlbE91dHB1dD86IChcbiAgICAgIG91dHB1dDogMCBleHRlbmRzIDEgJiBPVVRQVVRcbiAgICAgICAgPyBhbnlcbiAgICAgICAgOiBbT1VUUFVUXSBleHRlbmRzIFtuZXZlcl1cbiAgICAgICAgICA/IGFueVxuICAgICAgICAgIDogTm9JbmZlcjxPVVRQVVQ+LFxuICAgICkgPT4gTGFuZ3VhZ2VNb2RlbFYyVG9vbFJlc3VsdFBhcnRbJ291dHB1dCddO1xuICB9ICYgKFxuICAgIHwge1xuICAgICAgICAvKipcblRvb2wgd2l0aCB1c2VyLWRlZmluZWQgaW5wdXQgYW5kIG91dHB1dCBzY2hlbWFzLlxuICAgICAqL1xuICAgICAgICB0eXBlPzogdW5kZWZpbmVkIHwgJ2Z1bmN0aW9uJztcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgLyoqXG5Ub29sIHRoYXQgaXMgZGVmaW5lZCBhdCBydW50aW1lIChlLmcuIGFuIE1DUCB0b29sKS5cblRoZSB0eXBlcyBvZiBpbnB1dCBhbmQgb3V0cHV0IGFyZSBub3Qga25vd24gYXQgZGV2ZWxvcG1lbnQgdGltZS5cbiAgICAgICAqL1xuICAgICAgICB0eXBlOiAnZHluYW1pYyc7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIC8qKlxuVG9vbCB3aXRoIHByb3ZpZGVyLWRlZmluZWQgaW5wdXQgYW5kIG91dHB1dCBzY2hlbWFzLlxuICAgICAqL1xuICAgICAgICB0eXBlOiAncHJvdmlkZXItZGVmaW5lZCc7XG5cbiAgICAgICAgLyoqXG5UaGUgSUQgb2YgdGhlIHRvb2wuIFNob3VsZCBmb2xsb3cgdGhlIGZvcm1hdCBgPHByb3ZpZGVyLW5hbWU+Ljx1bmlxdWUtdG9vbC1uYW1lPmAuXG4gICAqL1xuICAgICAgICBpZDogYCR7c3RyaW5nfS4ke3N0cmluZ31gO1xuXG4gICAgICAgIC8qKlxuVGhlIG5hbWUgb2YgdGhlIHRvb2wgdGhhdCB0aGUgdXNlciBtdXN0IHVzZSBpbiB0aGUgdG9vbCBzZXQuXG4gKi9cbiAgICAgICAgbmFtZTogc3RyaW5nO1xuXG4gICAgICAgIC8qKlxuVGhlIGFyZ3VtZW50cyBmb3IgY29uZmlndXJpbmcgdGhlIHRvb2wuIE11c3QgbWF0Y2ggdGhlIGV4cGVjdGVkIGFyZ3VtZW50cyBkZWZpbmVkIGJ5IHRoZSBwcm92aWRlciBmb3IgdGhpcyB0b29sLlxuICAgICAqL1xuICAgICAgICBhcmdzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgIH1cbiAgKTtcblxuLyoqXG4gKiBJbmZlciB0aGUgaW5wdXQgdHlwZSBvZiBhIHRvb2wuXG4gKi9cbmV4cG9ydCB0eXBlIEluZmVyVG9vbElucHV0PFRPT0wgZXh0ZW5kcyBUb29sPiA9XG4gIFRPT0wgZXh0ZW5kcyBUb29sPGluZmVyIElOUFVULCBhbnk+ID8gSU5QVVQgOiBuZXZlcjtcblxuLyoqXG4gKiBJbmZlciB0aGUgb3V0cHV0IHR5cGUgb2YgYSB0b29sLlxuICovXG5leHBvcnQgdHlwZSBJbmZlclRvb2xPdXRwdXQ8VE9PTCBleHRlbmRzIFRvb2w+ID1cbiAgVE9PTCBleHRlbmRzIFRvb2w8YW55LCBpbmZlciBPVVRQVVQ+ID8gT1VUUFVUIDogbmV2ZXI7XG5cbi8qKlxuSGVscGVyIGZ1bmN0aW9uIGZvciBpbmZlcnJpbmcgdGhlIGV4ZWN1dGUgYXJncyBvZiBhIHRvb2wuXG4gKi9cbi8vIE5vdGU6IG92ZXJsb2FkIG9yZGVyIGlzIGltcG9ydGFudCBmb3IgYXV0by1jb21wbGV0aW9uXG5leHBvcnQgZnVuY3Rpb24gdG9vbDxJTlBVVCwgT1VUUFVUPihcbiAgdG9vbDogVG9vbDxJTlBVVCwgT1VUUFVUPixcbik6IFRvb2w8SU5QVVQsIE9VVFBVVD47XG5leHBvcnQgZnVuY3Rpb24gdG9vbDxJTlBVVD4odG9vbDogVG9vbDxJTlBVVCwgbmV2ZXI+KTogVG9vbDxJTlBVVCwgbmV2ZXI+O1xuZXhwb3J0IGZ1bmN0aW9uIHRvb2w8T1VUUFVUPih0b29sOiBUb29sPG5ldmVyLCBPVVRQVVQ+KTogVG9vbDxuZXZlciwgT1VUUFVUPjtcbmV4cG9ydCBmdW5jdGlvbiB0b29sKHRvb2w6IFRvb2w8bmV2ZXIsIG5ldmVyPik6IFRvb2w8bmV2ZXIsIG5ldmVyPjtcbmV4cG9ydCBmdW5jdGlvbiB0b29sKHRvb2w6IGFueSk6IGFueSB7XG4gIHJldHVybiB0b29sO1xufVxuXG4vKipcbkhlbHBlciBmdW5jdGlvbiBmb3IgZGVmaW5pbmcgYSBkeW5hbWljIHRvb2wuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkeW5hbWljVG9vbCh0b29sOiB7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG4gIGlucHV0U2NoZW1hOiBGbGV4aWJsZVNjaGVtYTx1bmtub3duPjtcbiAgZXhlY3V0ZTogVG9vbEV4ZWN1dGVGdW5jdGlvbjx1bmtub3duLCB1bmtub3duPjtcbiAgdG9Nb2RlbE91dHB1dD86IChvdXRwdXQ6IHVua25vd24pID0+IExhbmd1YWdlTW9kZWxWMlRvb2xSZXN1bHRQYXJ0WydvdXRwdXQnXTtcbn0pOiBUb29sPHVua25vd24sIHVua25vd24+ICYge1xuICB0eXBlOiAnZHluYW1pYyc7XG59IHtcbiAgcmV0dXJuIHsgLi4udG9vbCwgdHlwZTogJ2R5bmFtaWMnIH07XG59XG4iLCAiaW1wb3J0IHsgdG9vbCwgVG9vbCwgVG9vbEV4ZWN1dGVGdW5jdGlvbiB9IGZyb20gJy4vdHlwZXMvdG9vbCc7XG5pbXBvcnQgeyBGbGV4aWJsZVNjaGVtYSB9IGZyb20gJy4vc2NoZW1hJztcblxuZXhwb3J0IHR5cGUgUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3Rvcnk8SU5QVVQsIEFSR1MgZXh0ZW5kcyBvYmplY3Q+ID0gPE9VVFBVVD4oXG4gIG9wdGlvbnM6IEFSR1MgJiB7XG4gICAgZXhlY3V0ZT86IFRvb2xFeGVjdXRlRnVuY3Rpb248SU5QVVQsIE9VVFBVVD47XG4gICAgdG9Nb2RlbE91dHB1dD86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ3RvTW9kZWxPdXRwdXQnXTtcbiAgICBvbklucHV0U3RhcnQ/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0U3RhcnQnXTtcbiAgICBvbklucHV0RGVsdGE/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0RGVsdGEnXTtcbiAgICBvbklucHV0QXZhaWxhYmxlPzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dEF2YWlsYWJsZSddO1xuICB9LFxuKSA9PiBUb29sPElOUFVULCBPVVRQVVQ+O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3Rvcnk8SU5QVVQsIEFSR1MgZXh0ZW5kcyBvYmplY3Q+KHtcbiAgaWQsXG4gIG5hbWUsXG4gIGlucHV0U2NoZW1hLFxufToge1xuICBpZDogYCR7c3RyaW5nfS4ke3N0cmluZ31gO1xuICBuYW1lOiBzdHJpbmc7XG4gIGlucHV0U2NoZW1hOiBGbGV4aWJsZVNjaGVtYTxJTlBVVD47XG59KTogUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3Rvcnk8SU5QVVQsIEFSR1M+IHtcbiAgcmV0dXJuIDxPVVRQVVQ+KHtcbiAgICBleGVjdXRlLFxuICAgIG91dHB1dFNjaGVtYSxcbiAgICB0b01vZGVsT3V0cHV0LFxuICAgIG9uSW5wdXRTdGFydCxcbiAgICBvbklucHV0RGVsdGEsXG4gICAgb25JbnB1dEF2YWlsYWJsZSxcbiAgICAuLi5hcmdzXG4gIH06IEFSR1MgJiB7XG4gICAgZXhlY3V0ZT86IFRvb2xFeGVjdXRlRnVuY3Rpb248SU5QVVQsIE9VVFBVVD47XG4gICAgb3V0cHV0U2NoZW1hPzogRmxleGlibGVTY2hlbWE8T1VUUFVUPjtcbiAgICB0b01vZGVsT3V0cHV0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsndG9Nb2RlbE91dHB1dCddO1xuICAgIG9uSW5wdXRTdGFydD86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRTdGFydCddO1xuICAgIG9uSW5wdXREZWx0YT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXREZWx0YSddO1xuICAgIG9uSW5wdXRBdmFpbGFibGU/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0QXZhaWxhYmxlJ107XG4gIH0pOiBUb29sPElOUFVULCBPVVRQVVQ+ID0+XG4gICAgdG9vbCh7XG4gICAgICB0eXBlOiAncHJvdmlkZXItZGVmaW5lZCcsXG4gICAgICBpZCxcbiAgICAgIG5hbWUsXG4gICAgICBhcmdzLFxuICAgICAgaW5wdXRTY2hlbWEsXG4gICAgICBvdXRwdXRTY2hlbWEsXG4gICAgICBleGVjdXRlLFxuICAgICAgdG9Nb2RlbE91dHB1dCxcbiAgICAgIG9uSW5wdXRTdGFydCxcbiAgICAgIG9uSW5wdXREZWx0YSxcbiAgICAgIG9uSW5wdXRBdmFpbGFibGUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCB0eXBlIFByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5V2l0aE91dHB1dFNjaGVtYTxcbiAgSU5QVVQsXG4gIE9VVFBVVCxcbiAgQVJHUyBleHRlbmRzIG9iamVjdCxcbj4gPSAoXG4gIG9wdGlvbnM6IEFSR1MgJiB7XG4gICAgZXhlY3V0ZT86IFRvb2xFeGVjdXRlRnVuY3Rpb248SU5QVVQsIE9VVFBVVD47XG4gICAgdG9Nb2RlbE91dHB1dD86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ3RvTW9kZWxPdXRwdXQnXTtcbiAgICBvbklucHV0U3RhcnQ/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0U3RhcnQnXTtcbiAgICBvbklucHV0RGVsdGE/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0RGVsdGEnXTtcbiAgICBvbklucHV0QXZhaWxhYmxlPzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dEF2YWlsYWJsZSddO1xuICB9LFxuKSA9PiBUb29sPElOUFVULCBPVVRQVVQ+O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3RvcnlXaXRoT3V0cHV0U2NoZW1hPFxuICBJTlBVVCxcbiAgT1VUUFVULFxuICBBUkdTIGV4dGVuZHMgb2JqZWN0LFxuPih7XG4gIGlkLFxuICBuYW1lLFxuICBpbnB1dFNjaGVtYSxcbiAgb3V0cHV0U2NoZW1hLFxufToge1xuICBpZDogYCR7c3RyaW5nfS4ke3N0cmluZ31gO1xuICBuYW1lOiBzdHJpbmc7XG4gIGlucHV0U2NoZW1hOiBGbGV4aWJsZVNjaGVtYTxJTlBVVD47XG4gIG91dHB1dFNjaGVtYTogRmxleGlibGVTY2hlbWE8T1VUUFVUPjtcbn0pOiBQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeVdpdGhPdXRwdXRTY2hlbWE8SU5QVVQsIE9VVFBVVCwgQVJHUz4ge1xuICByZXR1cm4gKHtcbiAgICBleGVjdXRlLFxuICAgIHRvTW9kZWxPdXRwdXQsXG4gICAgb25JbnB1dFN0YXJ0LFxuICAgIG9uSW5wdXREZWx0YSxcbiAgICBvbklucHV0QXZhaWxhYmxlLFxuICAgIC4uLmFyZ3NcbiAgfTogQVJHUyAmIHtcbiAgICBleGVjdXRlPzogVG9vbEV4ZWN1dGVGdW5jdGlvbjxJTlBVVCwgT1VUUFVUPjtcbiAgICB0b01vZGVsT3V0cHV0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsndG9Nb2RlbE91dHB1dCddO1xuICAgIG9uSW5wdXRTdGFydD86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRTdGFydCddO1xuICAgIG9uSW5wdXREZWx0YT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXREZWx0YSddO1xuICAgIG9uSW5wdXRBdmFpbGFibGU/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0QXZhaWxhYmxlJ107XG4gIH0pOiBUb29sPElOUFVULCBPVVRQVVQ+ID0+XG4gICAgdG9vbCh7XG4gICAgICB0eXBlOiAncHJvdmlkZXItZGVmaW5lZCcsXG4gICAgICBpZCxcbiAgICAgIG5hbWUsXG4gICAgICBhcmdzLFxuICAgICAgaW5wdXRTY2hlbWEsXG4gICAgICBvdXRwdXRTY2hlbWEsXG4gICAgICBleGVjdXRlLFxuICAgICAgdG9Nb2RlbE91dHB1dCxcbiAgICAgIG9uSW5wdXRTdGFydCxcbiAgICAgIG9uSW5wdXREZWx0YSxcbiAgICAgIG9uSW5wdXRBdmFpbGFibGUsXG4gICAgfSk7XG59XG4iLCAiZXhwb3J0IHR5cGUgUmVzb2x2YWJsZTxUPiA9XG4gIHwgVCAvLyBSYXcgdmFsdWVcbiAgfCBQcm9taXNlPFQ+IC8vIFByb21pc2Ugb2YgdmFsdWVcbiAgfCAoKCkgPT4gVCkgLy8gRnVuY3Rpb24gcmV0dXJuaW5nIHZhbHVlXG4gIHwgKCgpID0+IFByb21pc2U8VD4pOyAvLyBGdW5jdGlvbiByZXR1cm5pbmcgcHJvbWlzZSBvZiB2YWx1ZVxuXG4vKipcbiAqIFJlc29sdmVzIGEgdmFsdWUgdGhhdCBjb3VsZCBiZSBhIHJhdyB2YWx1ZSwgYSBQcm9taXNlLCBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHZhbHVlLFxuICogb3IgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBQcm9taXNlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZTxUPih2YWx1ZTogUmVzb2x2YWJsZTxUPik6IFByb21pc2U8VD4ge1xuICAvLyBJZiBpdCdzIGEgZnVuY3Rpb24sIGNhbGwgaXQgdG8gZ2V0IHRoZSB2YWx1ZS9wcm9taXNlXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YWx1ZSA9ICh2YWx1ZSBhcyBGdW5jdGlvbikoKTtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSBqdXN0IHJlc29sdmUgd2hhdGV2ZXIgd2UgZ290ICh2YWx1ZSBvciBwcm9taXNlKVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlIGFzIFQpO1xufVxuIiwgImltcG9ydCB7IEFQSUNhbGxFcnJvciwgRW1wdHlSZXNwb25zZUJvZHlFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgWm9kVHlwZSB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBleHRyYWN0UmVzcG9uc2VIZWFkZXJzIH0gZnJvbSAnLi9leHRyYWN0LXJlc3BvbnNlLWhlYWRlcnMnO1xuaW1wb3J0IHsgcGFyc2VKU09OLCBQYXJzZVJlc3VsdCwgc2FmZVBhcnNlSlNPTiB9IGZyb20gJy4vcGFyc2UtanNvbic7XG5pbXBvcnQgeyBwYXJzZUpzb25FdmVudFN0cmVhbSB9IGZyb20gJy4vcGFyc2UtanNvbi1ldmVudC1zdHJlYW0nO1xuXG5leHBvcnQgdHlwZSBSZXNwb25zZUhhbmRsZXI8UkVUVVJOX1RZUEU+ID0gKG9wdGlvbnM6IHtcbiAgdXJsOiBzdHJpbmc7XG4gIHJlcXVlc3RCb2R5VmFsdWVzOiB1bmtub3duO1xuICByZXNwb25zZTogUmVzcG9uc2U7XG59KSA9PiBQcm9taXNlTGlrZTx7XG4gIHZhbHVlOiBSRVRVUk5fVFlQRTtcbiAgcmF3VmFsdWU/OiB1bmtub3duO1xuICByZXNwb25zZUhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufT47XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIgPVxuICA8VD4oe1xuICAgIGVycm9yU2NoZW1hLFxuICAgIGVycm9yVG9NZXNzYWdlLFxuICAgIGlzUmV0cnlhYmxlLFxuICB9OiB7XG4gICAgZXJyb3JTY2hlbWE6IFpvZFR5cGU8VD47XG4gICAgZXJyb3JUb01lc3NhZ2U6IChlcnJvcjogVCkgPT4gc3RyaW5nO1xuICAgIGlzUmV0cnlhYmxlPzogKHJlc3BvbnNlOiBSZXNwb25zZSwgZXJyb3I/OiBUKSA9PiBib29sZWFuO1xuICB9KTogUmVzcG9uc2VIYW5kbGVyPEFQSUNhbGxFcnJvcj4gPT5cbiAgYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcblxuICAgIC8vIFNvbWUgcHJvdmlkZXJzIHJldHVybiBhbiBlbXB0eSByZXNwb25zZSBib2R5IGZvciBzb21lIGVycm9yczpcbiAgICBpZiAocmVzcG9uc2VCb2R5LnRyaW0oKSA9PT0gJycpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgdmFsdWU6IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZT8uKHJlc3BvbnNlKSxcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHJlc2lsaWVudCBwYXJzaW5nIGluIGNhc2UgdGhlIHJlc3BvbnNlIGlzIG5vdCBKU09OIG9yIGRvZXMgbm90IG1hdGNoIHRoZSBzY2hlbWE6XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcnNlZEVycm9yID0gYXdhaXQgcGFyc2VKU09OKHtcbiAgICAgICAgdGV4dDogcmVzcG9uc2VCb2R5LFxuICAgICAgICBzY2hlbWE6IGVycm9yU2NoZW1hLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgdmFsdWU6IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVG9NZXNzYWdlKHBhcnNlZEVycm9yKSxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgICAgZGF0YTogcGFyc2VkRXJyb3IsXG4gICAgICAgICAgaXNSZXRyeWFibGU6IGlzUmV0cnlhYmxlPy4ocmVzcG9uc2UsIHBhcnNlZEVycm9yKSxcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgdmFsdWU6IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZT8uKHJlc3BvbnNlKSxcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyID1cbiAgPFQ+KFxuICAgIGNodW5rU2NoZW1hOiBab2RUeXBlPFQ+LFxuICApOiBSZXNwb25zZUhhbmRsZXI8UmVhZGFibGVTdHJlYW08UGFyc2VSZXN1bHQ8VD4+PiA9PlxuICBhc3luYyAoeyByZXNwb25zZSB9OiB7IHJlc3BvbnNlOiBSZXNwb25zZSB9KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG5cbiAgICBpZiAocmVzcG9uc2UuYm9keSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRW1wdHlSZXNwb25zZUJvZHlFcnJvcih7fSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBwYXJzZUpzb25FdmVudFN0cmVhbSh7XG4gICAgICAgIHN0cmVhbTogcmVzcG9uc2UuYm9keSxcbiAgICAgICAgc2NoZW1hOiBjaHVua1NjaGVtYSxcbiAgICAgIH0pLFxuICAgIH07XG4gIH07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVKc29uU3RyZWFtUmVzcG9uc2VIYW5kbGVyID1cbiAgPFQ+KFxuICAgIGNodW5rU2NoZW1hOiBab2RUeXBlPFQ+LFxuICApOiBSZXNwb25zZUhhbmRsZXI8UmVhZGFibGVTdHJlYW08UGFyc2VSZXN1bHQ8VD4+PiA9PlxuICBhc3luYyAoeyByZXNwb25zZSB9OiB7IHJlc3BvbnNlOiBSZXNwb25zZSB9KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG5cbiAgICBpZiAocmVzcG9uc2UuYm9keSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRW1wdHlSZXNwb25zZUJvZHlFcnJvcih7fSk7XG4gICAgfVxuXG4gICAgbGV0IGJ1ZmZlciA9ICcnO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiByZXNwb25zZS5ib2R5LnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxzdHJpbmcsIFBhcnNlUmVzdWx0PFQ+Pih7XG4gICAgICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rVGV4dCwgY29udHJvbGxlcikge1xuICAgICAgICAgICAgaWYgKGNodW5rVGV4dC5lbmRzV2l0aCgnXFxuJykpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICAgIGF3YWl0IHNhZmVQYXJzZUpTT04oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogYnVmZmVyICsgY2h1bmtUZXh0LFxuICAgICAgICAgICAgICAgICAgc2NoZW1hOiBjaHVua1NjaGVtYSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnVmZmVyID0gJyc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBidWZmZXIgKz0gY2h1bmtUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKSxcbiAgICB9O1xuICB9O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlciA9XG4gIDxUPihyZXNwb25zZVNjaGVtYTogWm9kVHlwZTxUPik6IFJlc3BvbnNlSGFuZGxlcjxUPiA9PlxuICBhc3luYyAoeyByZXNwb25zZSwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlcyB9KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2VCb2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuXG4gICAgY29uc3QgcGFyc2VkUmVzdWx0ID0gYXdhaXQgc2FmZVBhcnNlSlNPTih7XG4gICAgICB0ZXh0OiByZXNwb25zZUJvZHksXG4gICAgICBzY2hlbWE6IHJlc3BvbnNlU2NoZW1hLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG5cbiAgICBpZiAoIXBhcnNlZFJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgSlNPTiByZXNwb25zZScsXG4gICAgICAgIGNhdXNlOiBwYXJzZWRSZXN1bHQuZXJyb3IsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgdmFsdWU6IHBhcnNlZFJlc3VsdC52YWx1ZSxcbiAgICAgIHJhd1ZhbHVlOiBwYXJzZWRSZXN1bHQucmF3VmFsdWUsXG4gICAgfTtcbiAgfTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUJpbmFyeVJlc3BvbnNlSGFuZGxlciA9XG4gICgpOiBSZXNwb25zZUhhbmRsZXI8VWludDhBcnJheT4gPT5cbiAgYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuXG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogJ1Jlc3BvbnNlIGJvZHkgaXMgZW1wdHknLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVzcG9uc2VCb2R5OiB1bmRlZmluZWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgYnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgdmFsdWU6IG5ldyBVaW50OEFycmF5KGJ1ZmZlciksXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byByZWFkIHJlc3BvbnNlIGFzIGFycmF5IGJ1ZmZlcicsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHk6IHVuZGVmaW5lZCxcbiAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlU3RhdHVzQ29kZUVycm9yUmVzcG9uc2VIYW5kbGVyID1cbiAgKCk6IFJlc3BvbnNlSGFuZGxlcjxBUElDYWxsRXJyb3I+ID0+XG4gIGFzeW5jICh7IHJlc3BvbnNlLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzIH0pID0+IHtcbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICBjb25zdCByZXNwb25zZUJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgdmFsdWU6IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiByZXF1ZXN0Qm9keVZhbHVlcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgIH0pLFxuICAgIH07XG4gIH07XG4iLCAiaW1wb3J0IHsgSlNPTlNjaGVtYTcgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCAqIGFzIHozIGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgKiBhcyB6NCBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHpvZFRvSnNvblNjaGVtYSBmcm9tICcuL3pvZC10by1qc29uLXNjaGVtYSc7XG5pbXBvcnQgeyBqc29uU2NoZW1hLCBTY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5cbmV4cG9ydCBmdW5jdGlvbiB6b2QzU2NoZW1hPE9CSkVDVD4oXG4gIHpvZFNjaGVtYTogejMuU2NoZW1hPE9CSkVDVCwgejMuWm9kVHlwZURlZiwgYW55PixcbiAgb3B0aW9ucz86IHtcbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHN1cHBvcnQgZm9yIHJlZmVyZW5jZXMgaW4gdGhlIHNjaGVtYS5cbiAgICAgKiBUaGlzIGlzIHJlcXVpcmVkIGZvciByZWN1cnNpdmUgc2NoZW1hcywgZS5nLiB3aXRoIGB6LmxhenlgLlxuICAgICAqIEhvd2V2ZXIsIG5vdCBhbGwgbGFuZ3VhZ2UgbW9kZWxzIGFuZCBwcm92aWRlcnMgc3VwcG9ydCBzdWNoIHJlZmVyZW5jZXMuXG4gICAgICogRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAgICAgKi9cbiAgICB1c2VSZWZlcmVuY2VzPzogYm9vbGVhbjtcbiAgfSxcbik6IFNjaGVtYTxPQkpFQ1Q+IHtcbiAgLy8gZGVmYXVsdCB0byBubyByZWZlcmVuY2VzICh0byBzdXBwb3J0IG9wZW5hcGkgY29udmVyc2lvbiBmb3IgZ29vZ2xlKVxuICBjb25zdCB1c2VSZWZlcmVuY2VzID0gb3B0aW9ucz8udXNlUmVmZXJlbmNlcyA/PyBmYWxzZTtcblxuICByZXR1cm4ganNvblNjaGVtYShcbiAgICB6b2RUb0pzb25TY2hlbWEoem9kU2NoZW1hLCB7XG4gICAgICAkcmVmU3RyYXRlZ3k6IHVzZVJlZmVyZW5jZXMgPyAncm9vdCcgOiAnbm9uZScsXG4gICAgfSkgYXMgSlNPTlNjaGVtYTcsXG4gICAge1xuICAgICAgdmFsaWRhdGU6IGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgem9kU2NoZW1hLnNhZmVQYXJzZUFzeW5jKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzXG4gICAgICAgICAgPyB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiByZXN1bHQuZGF0YSB9XG4gICAgICAgICAgOiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVzdWx0LmVycm9yIH07XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB6b2Q0U2NoZW1hPE9CSkVDVD4oXG4gIHpvZFNjaGVtYTogejQuY29yZS4kWm9kVHlwZTxPQkpFQ1QsIGFueT4sXG4gIG9wdGlvbnM/OiB7XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBzdXBwb3J0IGZvciByZWZlcmVuY2VzIGluIHRoZSBzY2hlbWEuXG4gICAgICogVGhpcyBpcyByZXF1aXJlZCBmb3IgcmVjdXJzaXZlIHNjaGVtYXMsIGUuZy4gd2l0aCBgei5sYXp5YC5cbiAgICAgKiBIb3dldmVyLCBub3QgYWxsIGxhbmd1YWdlIG1vZGVscyBhbmQgcHJvdmlkZXJzIHN1cHBvcnQgc3VjaCByZWZlcmVuY2VzLlxuICAgICAqIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gICAgICovXG4gICAgdXNlUmVmZXJlbmNlcz86IGJvb2xlYW47XG4gIH0sXG4pOiBTY2hlbWE8T0JKRUNUPiB7XG4gIC8vIGRlZmF1bHQgdG8gbm8gcmVmZXJlbmNlcyAodG8gc3VwcG9ydCBvcGVuYXBpIGNvbnZlcnNpb24gZm9yIGdvb2dsZSlcbiAgY29uc3QgdXNlUmVmZXJlbmNlcyA9IG9wdGlvbnM/LnVzZVJlZmVyZW5jZXMgPz8gZmFsc2U7XG5cbiAgY29uc3QgejRKU09OU2NoZW1hID0gejQudG9KU09OU2NoZW1hKHpvZFNjaGVtYSwge1xuICAgIHRhcmdldDogJ2RyYWZ0LTcnLFxuICAgIGlvOiAnb3V0cHV0JyxcbiAgICByZXVzZWQ6IHVzZVJlZmVyZW5jZXMgPyAncmVmJyA6ICdpbmxpbmUnLFxuICB9KSBhcyBKU09OU2NoZW1hNztcblxuICByZXR1cm4ganNvblNjaGVtYSh6NEpTT05TY2hlbWEsIHtcbiAgICB2YWxpZGF0ZTogYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgejQuc2FmZVBhcnNlQXN5bmMoem9kU2NoZW1hLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gcmVzdWx0LnN1Y2Nlc3NcbiAgICAgICAgPyB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiByZXN1bHQuZGF0YSB9XG4gICAgICAgIDogeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlc3VsdC5lcnJvciB9O1xuICAgIH0sXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNab2Q0U2NoZW1hKFxuICB6b2RTY2hlbWE6IHo0LmNvcmUuJFpvZFR5cGU8YW55LCBhbnk+IHwgejMuU2NoZW1hPGFueSwgejMuWm9kVHlwZURlZiwgYW55Pixcbik6IHpvZFNjaGVtYSBpcyB6NC5jb3JlLiRab2RUeXBlPGFueSwgYW55PiB7XG4gIC8vIGh0dHBzOi8vem9kLmRldi9saWJyYXJ5LWF1dGhvcnM/aWQ9aG93LXRvLXN1cHBvcnQtem9kLTMtYW5kLXpvZC00LXNpbXVsdGFuZW91c2x5XG4gIHJldHVybiAnX3pvZCcgaW4gem9kU2NoZW1hO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gem9kU2NoZW1hPE9CSkVDVD4oXG4gIHpvZFNjaGVtYTpcbiAgICB8IHo0LmNvcmUuJFpvZFR5cGU8T0JKRUNULCBhbnk+XG4gICAgfCB6My5TY2hlbWE8T0JKRUNULCB6My5ab2RUeXBlRGVmLCBhbnk+LFxuICBvcHRpb25zPzoge1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgc3VwcG9ydCBmb3IgcmVmZXJlbmNlcyBpbiB0aGUgc2NoZW1hLlxuICAgICAqIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHJlY3Vyc2l2ZSBzY2hlbWFzLCBlLmcuIHdpdGggYHoubGF6eWAuXG4gICAgICogSG93ZXZlciwgbm90IGFsbCBsYW5ndWFnZSBtb2RlbHMgYW5kIHByb3ZpZGVycyBzdXBwb3J0IHN1Y2ggcmVmZXJlbmNlcy5cbiAgICAgKiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICAgICAqL1xuICAgIHVzZVJlZmVyZW5jZXM/OiBib29sZWFuO1xuICB9LFxuKTogU2NoZW1hPE9CSkVDVD4ge1xuICBpZiAoaXNab2Q0U2NoZW1hKHpvZFNjaGVtYSkpIHtcbiAgICByZXR1cm4gem9kNFNjaGVtYSh6b2RTY2hlbWEsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB6b2QzU2NoZW1hKHpvZFNjaGVtYSwgb3B0aW9ucyk7XG4gIH1cbn1cbiIsICJleHBvcnQgY29uc3QgZ2V0UmVsYXRpdmVQYXRoID0gKHBhdGhBOiBzdHJpbmdbXSwgcGF0aEI6IHN0cmluZ1tdKSA9PiB7XG4gIGxldCBpID0gMDtcbiAgZm9yICg7IGkgPCBwYXRoQS5sZW5ndGggJiYgaSA8IHBhdGhCLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHBhdGhBW2ldICE9PSBwYXRoQltpXSkgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIFsocGF0aEEubGVuZ3RoIC0gaSkudG9TdHJpbmcoKSwgLi4ucGF0aEIuc2xpY2UoaSldLmpvaW4oJy8nKTtcbn07XG4iLCAiaW1wb3J0IHsgWm9kU2NoZW1hLCBab2RUeXBlRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IFJlZnMsIFNlZW4gfSBmcm9tICcuL3JlZnMnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi9wYXJzZS10eXBlcyc7XG5cbmV4cG9ydCB0eXBlIERhdGVTdHJhdGVneSA9XG4gIHwgJ2Zvcm1hdDpkYXRlLXRpbWUnXG4gIHwgJ2Zvcm1hdDpkYXRlJ1xuICB8ICdzdHJpbmcnXG4gIHwgJ2ludGVnZXInO1xuXG5leHBvcnQgY29uc3QgaWdub3JlT3ZlcnJpZGUgPSBTeW1ib2woXG4gICdMZXQgem9kVG9Kc29uU2NoZW1hIGRlY2lkZSBvbiB3aGljaCBwYXJzZXIgdG8gdXNlJyxcbik7XG5cbmV4cG9ydCB0eXBlIE92ZXJyaWRlQ2FsbGJhY2sgPSAoXG4gIGRlZjogWm9kVHlwZURlZixcbiAgcmVmczogUmVmcyxcbiAgc2VlbjogU2VlbiB8IHVuZGVmaW5lZCxcbiAgZm9yY2VSZXNvbHV0aW9uPzogYm9vbGVhbixcbikgPT4gSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkIHwgdHlwZW9mIGlnbm9yZU92ZXJyaWRlO1xuXG5leHBvcnQgdHlwZSBQb3N0UHJvY2Vzc0NhbGxiYWNrID0gKFxuICBqc29uU2NoZW1hOiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQsXG4gIGRlZjogWm9kVHlwZURlZixcbiAgcmVmczogUmVmcyxcbikgPT4gSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3QganNvbkRlc2NyaXB0aW9uOiBQb3N0UHJvY2Vzc0NhbGxiYWNrID0gKGpzb25TY2hlbWEsIGRlZikgPT4ge1xuICBpZiAoZGVmLmRlc2NyaXB0aW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmpzb25TY2hlbWEsXG4gICAgICAgIC4uLkpTT04ucGFyc2UoZGVmLmRlc2NyaXB0aW9uKSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCB7fVxuICB9XG5cbiAgcmV0dXJuIGpzb25TY2hlbWE7XG59O1xuXG5leHBvcnQgdHlwZSBPcHRpb25zID0ge1xuICBuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICRyZWZTdHJhdGVneTogJ3Jvb3QnIHwgJ3JlbGF0aXZlJyB8ICdub25lJyB8ICdzZWVuJztcbiAgYmFzZVBhdGg6IHN0cmluZ1tdO1xuICBlZmZlY3RTdHJhdGVneTogJ2lucHV0JyB8ICdhbnknO1xuICBwaXBlU3RyYXRlZ3k6ICdpbnB1dCcgfCAnb3V0cHV0JyB8ICdhbGwnO1xuICBkYXRlU3RyYXRlZ3k6IERhdGVTdHJhdGVneSB8IERhdGVTdHJhdGVneVtdO1xuICBtYXBTdHJhdGVneTogJ2VudHJpZXMnIHwgJ3JlY29yZCc7XG4gIHJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneTogJ3Bhc3N0aHJvdWdoJyB8ICdzdHJpY3QnO1xuICBhbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXM6IHRydWUgfCB1bmRlZmluZWQ7XG4gIHJlamVjdGVkQWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlIHwgdW5kZWZpbmVkO1xuICBzdHJpY3RVbmlvbnM6IGJvb2xlYW47XG4gIGRlZmluaXRpb25QYXRoOiBzdHJpbmc7XG4gIGRlZmluaXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBab2RTY2hlbWE+O1xuICBlcnJvck1lc3NhZ2VzOiBib29sZWFuO1xuICBwYXR0ZXJuU3RyYXRlZ3k6ICdlc2NhcGUnIHwgJ3ByZXNlcnZlJztcbiAgYXBwbHlSZWdleEZsYWdzOiBib29sZWFuO1xuICBlbWFpbFN0cmF0ZWd5OiAnZm9ybWF0OmVtYWlsJyB8ICdmb3JtYXQ6aWRuLWVtYWlsJyB8ICdwYXR0ZXJuOnpvZCc7XG4gIGJhc2U2NFN0cmF0ZWd5OiAnZm9ybWF0OmJpbmFyeScgfCAnY29udGVudEVuY29kaW5nOmJhc2U2NCcgfCAncGF0dGVybjp6b2QnO1xuICBuYW1lU3RyYXRlZ3k6ICdyZWYnIHwgJ3RpdGxlJztcbiAgb3ZlcnJpZGU/OiBPdmVycmlkZUNhbGxiYWNrO1xuICBwb3N0UHJvY2Vzcz86IFBvc3RQcm9jZXNzQ2FsbGJhY2s7XG59O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdE9wdGlvbnM6IE9wdGlvbnMgPSB7XG4gIG5hbWU6IHVuZGVmaW5lZCxcbiAgJHJlZlN0cmF0ZWd5OiAncm9vdCcsXG4gIGJhc2VQYXRoOiBbJyMnXSxcbiAgZWZmZWN0U3RyYXRlZ3k6ICdpbnB1dCcsXG4gIHBpcGVTdHJhdGVneTogJ2FsbCcsXG4gIGRhdGVTdHJhdGVneTogJ2Zvcm1hdDpkYXRlLXRpbWUnLFxuICBtYXBTdHJhdGVneTogJ2VudHJpZXMnLFxuICByZW1vdmVBZGRpdGlvbmFsU3RyYXRlZ3k6ICdwYXNzdGhyb3VnaCcsXG4gIGFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllczogdHJ1ZSxcbiAgcmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gIGRlZmluaXRpb25QYXRoOiAnZGVmaW5pdGlvbnMnLFxuICBzdHJpY3RVbmlvbnM6IGZhbHNlLFxuICBkZWZpbml0aW9uczoge30sXG4gIGVycm9yTWVzc2FnZXM6IGZhbHNlLFxuICBwYXR0ZXJuU3RyYXRlZ3k6ICdlc2NhcGUnLFxuICBhcHBseVJlZ2V4RmxhZ3M6IGZhbHNlLFxuICBlbWFpbFN0cmF0ZWd5OiAnZm9ybWF0OmVtYWlsJyxcbiAgYmFzZTY0U3RyYXRlZ3k6ICdjb250ZW50RW5jb2Rpbmc6YmFzZTY0JyxcbiAgbmFtZVN0cmF0ZWd5OiAncmVmJyxcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0T3B0aW9ucyA9IChcbiAgb3B0aW9uczogUGFydGlhbDxPcHRpb25zPiB8IHN0cmluZyB8IHVuZGVmaW5lZCxcbikgPT5cbiAgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJ1xuICAgID8ge1xuICAgICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgICAgbmFtZTogb3B0aW9ucyxcbiAgICAgIH1cbiAgICA6IHtcbiAgICAgICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICB9KSBhcyBPcHRpb25zO1xuIiwgImltcG9ydCB7IFpvZEZpcnN0UGFydHlUeXBlS2luZCB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gJy4vcGFyc2Vycy9hbnknO1xuaW1wb3J0IHsgcGFyc2VBcnJheURlZiB9IGZyb20gJy4vcGFyc2Vycy9hcnJheSc7XG5pbXBvcnQgeyBwYXJzZUJpZ2ludERlZiB9IGZyb20gJy4vcGFyc2Vycy9iaWdpbnQnO1xuaW1wb3J0IHsgcGFyc2VCb29sZWFuRGVmIH0gZnJvbSAnLi9wYXJzZXJzL2Jvb2xlYW4nO1xuaW1wb3J0IHsgcGFyc2VCcmFuZGVkRGVmIH0gZnJvbSAnLi9wYXJzZXJzL2JyYW5kZWQnO1xuaW1wb3J0IHsgcGFyc2VDYXRjaERlZiB9IGZyb20gJy4vcGFyc2Vycy9jYXRjaCc7XG5pbXBvcnQgeyBwYXJzZURhdGVEZWYgfSBmcm9tICcuL3BhcnNlcnMvZGF0ZSc7XG5pbXBvcnQgeyBwYXJzZURlZmF1bHREZWYgfSBmcm9tICcuL3BhcnNlcnMvZGVmYXVsdCc7XG5pbXBvcnQgeyBwYXJzZUVmZmVjdHNEZWYgfSBmcm9tICcuL3BhcnNlcnMvZWZmZWN0cyc7XG5pbXBvcnQgeyBwYXJzZUVudW1EZWYgfSBmcm9tICcuL3BhcnNlcnMvZW51bSc7XG5pbXBvcnQgeyBwYXJzZUludGVyc2VjdGlvbkRlZiB9IGZyb20gJy4vcGFyc2Vycy9pbnRlcnNlY3Rpb24nO1xuaW1wb3J0IHsgcGFyc2VMaXRlcmFsRGVmIH0gZnJvbSAnLi9wYXJzZXJzL2xpdGVyYWwnO1xuaW1wb3J0IHsgcGFyc2VNYXBEZWYgfSBmcm9tICcuL3BhcnNlcnMvbWFwJztcbmltcG9ydCB7IHBhcnNlTmF0aXZlRW51bURlZiB9IGZyb20gJy4vcGFyc2Vycy9uYXRpdmUtZW51bSc7XG5pbXBvcnQgeyBwYXJzZU5ldmVyRGVmIH0gZnJvbSAnLi9wYXJzZXJzL25ldmVyJztcbmltcG9ydCB7IHBhcnNlTnVsbERlZiB9IGZyb20gJy4vcGFyc2Vycy9udWxsJztcbmltcG9ydCB7IHBhcnNlTnVsbGFibGVEZWYgfSBmcm9tICcuL3BhcnNlcnMvbnVsbGFibGUnO1xuaW1wb3J0IHsgcGFyc2VOdW1iZXJEZWYgfSBmcm9tICcuL3BhcnNlcnMvbnVtYmVyJztcbmltcG9ydCB7IHBhcnNlT2JqZWN0RGVmIH0gZnJvbSAnLi9wYXJzZXJzL29iamVjdCc7XG5pbXBvcnQgeyBwYXJzZU9wdGlvbmFsRGVmIH0gZnJvbSAnLi9wYXJzZXJzL29wdGlvbmFsJztcbmltcG9ydCB7IHBhcnNlUGlwZWxpbmVEZWYgfSBmcm9tICcuL3BhcnNlcnMvcGlwZWxpbmUnO1xuaW1wb3J0IHsgcGFyc2VQcm9taXNlRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3Byb21pc2UnO1xuaW1wb3J0IHsgcGFyc2VSZWNvcmREZWYgfSBmcm9tICcuL3BhcnNlcnMvcmVjb3JkJztcbmltcG9ydCB7IHBhcnNlU2V0RGVmIH0gZnJvbSAnLi9wYXJzZXJzL3NldCc7XG5pbXBvcnQgeyBwYXJzZVN0cmluZ0RlZiB9IGZyb20gJy4vcGFyc2Vycy9zdHJpbmcnO1xuaW1wb3J0IHsgcGFyc2VUdXBsZURlZiB9IGZyb20gJy4vcGFyc2Vycy90dXBsZSc7XG5pbXBvcnQgeyBwYXJzZVVuZGVmaW5lZERlZiB9IGZyb20gJy4vcGFyc2Vycy91bmRlZmluZWQnO1xuaW1wb3J0IHsgcGFyc2VVbmlvbkRlZiB9IGZyb20gJy4vcGFyc2Vycy91bmlvbic7XG5pbXBvcnQgeyBwYXJzZVVua25vd25EZWYgfSBmcm9tICcuL3BhcnNlcnMvdW5rbm93bic7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi9yZWZzJztcbmltcG9ydCB7IHBhcnNlUmVhZG9ubHlEZWYgfSBmcm9tICcuL3BhcnNlcnMvcmVhZG9ubHknO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi9wYXJzZS10eXBlcyc7XG5cbmV4cG9ydCB0eXBlIElubmVyRGVmR2V0dGVyID0gKCkgPT4gYW55O1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0UGFyc2VyID0gKFxuICBkZWY6IGFueSxcbiAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZCxcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCB8IElubmVyRGVmR2V0dGVyID0+IHtcbiAgc3dpdGNoICh0eXBlTmFtZSkge1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZzpcbiAgICAgIHJldHVybiBwYXJzZVN0cmluZ0RlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcjpcbiAgICAgIHJldHVybiBwYXJzZU51bWJlckRlZihkZWYpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdDpcbiAgICAgIHJldHVybiBwYXJzZU9iamVjdERlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludDpcbiAgICAgIHJldHVybiBwYXJzZUJpZ2ludERlZihkZWYpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW46XG4gICAgICByZXR1cm4gcGFyc2VCb29sZWFuRGVmKCk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGF0ZTpcbiAgICAgIHJldHVybiBwYXJzZURhdGVEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmRlZmluZWQ6XG4gICAgICByZXR1cm4gcGFyc2VVbmRlZmluZWREZWYoKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsOlxuICAgICAgcmV0dXJuIHBhcnNlTnVsbERlZigpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFycmF5OlxuICAgICAgcmV0dXJuIHBhcnNlQXJyYXlEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbjpcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REaXNjcmltaW5hdGVkVW5pb246XG4gICAgICByZXR1cm4gcGFyc2VVbmlvbkRlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbjpcbiAgICAgIHJldHVybiBwYXJzZUludGVyc2VjdGlvbkRlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlOlxuICAgICAgcmV0dXJuIHBhcnNlVHVwbGVEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQ6XG4gICAgICByZXR1cm4gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsOlxuICAgICAgcmV0dXJuIHBhcnNlTGl0ZXJhbERlZihkZWYpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW06XG4gICAgICByZXR1cm4gcGFyc2VFbnVtRGVmKGRlZik7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bTpcbiAgICAgIHJldHVybiBwYXJzZU5hdGl2ZUVudW1EZWYoZGVmKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZTpcbiAgICAgIHJldHVybiBwYXJzZU51bGxhYmxlRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT3B0aW9uYWw6XG4gICAgICByZXR1cm4gcGFyc2VPcHRpb25hbERlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcDpcbiAgICAgIHJldHVybiBwYXJzZU1hcERlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldDpcbiAgICAgIHJldHVybiBwYXJzZVNldERlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExhenk6XG4gICAgICByZXR1cm4gKCkgPT4gKGRlZiBhcyBhbnkpLmdldHRlcigpLl9kZWY7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZTpcbiAgICAgIHJldHVybiBwYXJzZVByb21pc2VEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU46XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXI6XG4gICAgICByZXR1cm4gcGFyc2VOZXZlckRlZigpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHM6XG4gICAgICByZXR1cm4gcGFyc2VFZmZlY3RzRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55OlxuICAgICAgcmV0dXJuIHBhcnNlQW55RGVmKCk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bjpcbiAgICAgIHJldHVybiBwYXJzZVVua25vd25EZWYoKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0OlxuICAgICAgcmV0dXJuIHBhcnNlRGVmYXVsdERlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQ6XG4gICAgICByZXR1cm4gcGFyc2VCcmFuZGVkRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHk6XG4gICAgICByZXR1cm4gcGFyc2VSZWFkb25seURlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoOlxuICAgICAgcmV0dXJuIHBhcnNlQ2F0Y2hEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZTpcbiAgICAgIHJldHVybiBwYXJzZVBpcGVsaW5lRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb246XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZDpcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTeW1ib2w6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGRlZmF1bHQ6XG4gICAgICAvKiBjOCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuICgoXzogbmV2ZXIpID0+IHVuZGVmaW5lZCkodHlwZU5hbWUpO1xuICB9XG59O1xuIiwgImV4cG9ydCB0eXBlIEpzb25TY2hlbWE3QW55VHlwZSA9IHsgJHJlZj86IHN0cmluZyB9O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBbnlEZWYoKTogSnNvblNjaGVtYTdBbnlUeXBlIHtcbiAgcmV0dXJuIHt9O1xufVxuIiwgImltcG9ydCB7IFpvZEFycmF5RGVmLCBab2RGaXJzdFBhcnR5VHlwZUtpbmQgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN0FycmF5VHlwZSA9IHtcbiAgdHlwZTogJ2FycmF5JztcbiAgaXRlbXM/OiBKc29uU2NoZW1hN1R5cGU7XG4gIG1pbkl0ZW1zPzogbnVtYmVyO1xuICBtYXhJdGVtcz86IG51bWJlcjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFycmF5RGVmKGRlZjogWm9kQXJyYXlEZWYsIHJlZnM6IFJlZnMpIHtcbiAgY29uc3QgcmVzOiBKc29uU2NoZW1hN0FycmF5VHlwZSA9IHtcbiAgICB0eXBlOiAnYXJyYXknLFxuICB9O1xuICBpZiAoXG4gICAgZGVmLnR5cGU/Ll9kZWYgJiZcbiAgICBkZWYudHlwZT8uX2RlZj8udHlwZU5hbWUgIT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnlcbiAgKSB7XG4gICAgcmVzLml0ZW1zID0gcGFyc2VEZWYoZGVmLnR5cGUuX2RlZiwge1xuICAgICAgLi4ucmVmcyxcbiAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJ10sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoZGVmLm1pbkxlbmd0aCkge1xuICAgIHJlcy5taW5JdGVtcyA9IGRlZi5taW5MZW5ndGgudmFsdWU7XG4gIH1cbiAgaWYgKGRlZi5tYXhMZW5ndGgpIHtcbiAgICByZXMubWF4SXRlbXMgPSBkZWYubWF4TGVuZ3RoLnZhbHVlO1xuICB9XG4gIGlmIChkZWYuZXhhY3RMZW5ndGgpIHtcbiAgICByZXMubWluSXRlbXMgPSBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgcmVzLm1heEl0ZW1zID0gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICB9XG4gIHJldHVybiByZXM7XG59XG4iLCAiaW1wb3J0IHsgWm9kQmlnSW50RGVmIH0gZnJvbSAnem9kL3YzJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdCaWdpbnRUeXBlID0ge1xuICB0eXBlOiAnaW50ZWdlcic7XG4gIGZvcm1hdDogJ2ludDY0JztcbiAgbWluaW11bT86IEJpZ0ludDtcbiAgZXhjbHVzaXZlTWluaW11bT86IEJpZ0ludDtcbiAgbWF4aW11bT86IEJpZ0ludDtcbiAgZXhjbHVzaXZlTWF4aW11bT86IEJpZ0ludDtcbiAgbXVsdGlwbGVPZj86IEJpZ0ludDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUJpZ2ludERlZihkZWY6IFpvZEJpZ0ludERlZik6IEpzb25TY2hlbWE3QmlnaW50VHlwZSB7XG4gIGNvbnN0IHJlczogSnNvblNjaGVtYTdCaWdpbnRUeXBlID0ge1xuICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICBmb3JtYXQ6ICdpbnQ2NCcsXG4gIH07XG5cbiAgaWYgKCFkZWYuY2hlY2tzKSByZXR1cm4gcmVzO1xuXG4gIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgY2FzZSAnbWluJzpcbiAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgIHJlcy5taW5pbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1pbmltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICByZXMubWF4aW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ211bHRpcGxlT2YnOlxuICAgICAgICByZXMubXVsdGlwbGVPZiA9IGNoZWNrLnZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbiIsICJleHBvcnQgdHlwZSBKc29uU2NoZW1hN0Jvb2xlYW5UeXBlID0ge1xuICB0eXBlOiAnYm9vbGVhbic7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VCb29sZWFuRGVmKCk6IEpzb25TY2hlbWE3Qm9vbGVhblR5cGUge1xuICByZXR1cm4geyB0eXBlOiAnYm9vbGVhbicgfTtcbn1cbiIsICJpbXBvcnQgeyBab2RCcmFuZGVkRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQnJhbmRlZERlZihfZGVmOiBab2RCcmFuZGVkRGVmPGFueT4sIHJlZnM6IFJlZnMpIHtcbiAgcmV0dXJuIHBhcnNlRGVmKF9kZWYudHlwZS5fZGVmLCByZWZzKTtcbn1cbiIsICJpbXBvcnQgeyBab2RDYXRjaERlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCBjb25zdCBwYXJzZUNhdGNoRGVmID0gKGRlZjogWm9kQ2F0Y2hEZWY8YW55PiwgcmVmczogUmVmcykgPT4ge1xuICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbn07XG4iLCAiaW1wb3J0IHsgWm9kRGF0ZURlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5pbXBvcnQgeyBEYXRlU3RyYXRlZ3kgfSBmcm9tICcuLi9vcHRpb25zJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdEYXRlVHlwZSA9XG4gIHwge1xuICAgICAgdHlwZTogJ2ludGVnZXInIHwgJ3N0cmluZyc7XG4gICAgICBmb3JtYXQ6ICd1bml4LXRpbWUnIHwgJ2RhdGUtdGltZScgfCAnZGF0ZSc7XG4gICAgICBtaW5pbXVtPzogbnVtYmVyO1xuICAgICAgbWF4aW11bT86IG51bWJlcjtcbiAgICB9XG4gIHwge1xuICAgICAgYW55T2Y6IEpzb25TY2hlbWE3RGF0ZVR5cGVbXTtcbiAgICB9O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEYXRlRGVmKFxuICBkZWY6IFpvZERhdGVEZWYsXG4gIHJlZnM6IFJlZnMsXG4gIG92ZXJyaWRlRGF0ZVN0cmF0ZWd5PzogRGF0ZVN0cmF0ZWd5LFxuKTogSnNvblNjaGVtYTdEYXRlVHlwZSB7XG4gIGNvbnN0IHN0cmF0ZWd5ID0gb3ZlcnJpZGVEYXRlU3RyYXRlZ3kgPz8gcmVmcy5kYXRlU3RyYXRlZ3k7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoc3RyYXRlZ3kpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFueU9mOiBzdHJhdGVneS5tYXAoKGl0ZW0sIGkpID0+IHBhcnNlRGF0ZURlZihkZWYsIHJlZnMsIGl0ZW0pKSxcbiAgICB9O1xuICB9XG5cbiAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAnZm9ybWF0OmRhdGUtdGltZSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgZm9ybWF0OiAnZGF0ZS10aW1lJyxcbiAgICAgIH07XG4gICAgY2FzZSAnZm9ybWF0OmRhdGUnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGZvcm1hdDogJ2RhdGUnLFxuICAgICAgfTtcbiAgICBjYXNlICdpbnRlZ2VyJzpcbiAgICAgIHJldHVybiBpbnRlZ2VyRGF0ZVBhcnNlcihkZWYpO1xuICB9XG59XG5cbmNvbnN0IGludGVnZXJEYXRlUGFyc2VyID0gKGRlZjogWm9kRGF0ZURlZikgPT4ge1xuICBjb25zdCByZXM6IEpzb25TY2hlbWE3RGF0ZVR5cGUgPSB7XG4gICAgdHlwZTogJ2ludGVnZXInLFxuICAgIGZvcm1hdDogJ3VuaXgtdGltZScsXG4gIH07XG5cbiAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICBjYXNlICdtaW4nOlxuICAgICAgICByZXMubWluaW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgIHJlcy5tYXhpbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuIiwgImltcG9ydCB7IFpvZERlZmF1bHREZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEZWZhdWx0RGVmKFxuICBfZGVmOiBab2REZWZhdWx0RGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdUeXBlICYgeyBkZWZhdWx0OiBhbnkgfSB7XG4gIHJldHVybiB7XG4gICAgLi4ucGFyc2VEZWYoX2RlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyksXG4gICAgZGVmYXVsdDogX2RlZi5kZWZhdWx0VmFsdWUoKSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBab2RFZmZlY3RzRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSAnLi9hbnknO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VFZmZlY3RzRGVmKFxuICBfZGVmOiBab2RFZmZlY3RzRGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHJlZnMuZWZmZWN0U3RyYXRlZ3kgPT09ICdpbnB1dCdcbiAgICA/IHBhcnNlRGVmKF9kZWYuc2NoZW1hLl9kZWYsIHJlZnMpXG4gICAgOiBwYXJzZUFueURlZigpO1xufVxuIiwgImltcG9ydCB7IFpvZEVudW1EZWYgfSBmcm9tICd6b2QvdjMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN0VudW1UeXBlID0ge1xuICB0eXBlOiAnc3RyaW5nJztcbiAgZW51bTogc3RyaW5nW107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VFbnVtRGVmKGRlZjogWm9kRW51bURlZik6IEpzb25TY2hlbWE3RW51bVR5cGUge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGVudW06IEFycmF5LmZyb20oZGVmLnZhbHVlcyksXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgWm9kSW50ZXJzZWN0aW9uRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcbmltcG9ydCB7IEpzb25TY2hlbWE3U3RyaW5nVHlwZSB9IGZyb20gJy4vc3RyaW5nJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdBbGxPZlR5cGUgPSB7XG4gIGFsbE9mOiBKc29uU2NoZW1hN1R5cGVbXTtcbiAgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzPzogYm9vbGVhbjtcbn07XG5cbmNvbnN0IGlzSnNvblNjaGVtYTdBbGxPZlR5cGUgPSAoXG4gIHR5cGU6IEpzb25TY2hlbWE3VHlwZSB8IEpzb25TY2hlbWE3U3RyaW5nVHlwZSxcbik6IHR5cGUgaXMgSnNvblNjaGVtYTdBbGxPZlR5cGUgPT4ge1xuICBpZiAoJ3R5cGUnIGluIHR5cGUgJiYgdHlwZS50eXBlID09PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gJ2FsbE9mJyBpbiB0eXBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSW50ZXJzZWN0aW9uRGVmKFxuICBkZWY6IFpvZEludGVyc2VjdGlvbkRlZixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3QWxsT2ZUeXBlIHwgSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgYWxsT2YgPSBbXG4gICAgcGFyc2VEZWYoZGVmLmxlZnQuX2RlZiwge1xuICAgICAgLi4ucmVmcyxcbiAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FsbE9mJywgJzAnXSxcbiAgICB9KSxcbiAgICBwYXJzZURlZihkZWYucmlnaHQuX2RlZiwge1xuICAgICAgLi4ucmVmcyxcbiAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FsbE9mJywgJzEnXSxcbiAgICB9KSxcbiAgXS5maWx0ZXIoKHgpOiB4IGlzIEpzb25TY2hlbWE3VHlwZSA9PiAhIXgpO1xuXG4gIGNvbnN0IG1lcmdlZEFsbE9mOiBKc29uU2NoZW1hN1R5cGVbXSA9IFtdO1xuICAvLyBJZiBlaXRoZXIgb2YgdGhlIHNjaGVtYXMgaXMgYW4gYWxsT2YsIG1lcmdlIHRoZW0gaW50byBhIHNpbmdsZSBhbGxPZlxuICBhbGxPZi5mb3JFYWNoKHNjaGVtYSA9PiB7XG4gICAgaWYgKGlzSnNvblNjaGVtYTdBbGxPZlR5cGUoc2NoZW1hKSkge1xuICAgICAgbWVyZ2VkQWxsT2YucHVzaCguLi5zY2hlbWEuYWxsT2YpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbmVzdGVkU2NoZW1hOiBKc29uU2NoZW1hN1R5cGUgPSBzY2hlbWE7XG4gICAgICBpZiAoXG4gICAgICAgICdhZGRpdGlvbmFsUHJvcGVydGllcycgaW4gc2NoZW1hICYmXG4gICAgICAgIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2VcbiAgICAgICkge1xuICAgICAgICBjb25zdCB7IGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCAuLi5yZXN0IH0gPSBzY2hlbWE7XG4gICAgICAgIG5lc3RlZFNjaGVtYSA9IHJlc3Q7XG4gICAgICB9XG4gICAgICBtZXJnZWRBbGxPZi5wdXNoKG5lc3RlZFNjaGVtYSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG1lcmdlZEFsbE9mLmxlbmd0aCA/IHsgYWxsT2Y6IG1lcmdlZEFsbE9mIH0gOiB1bmRlZmluZWQ7XG59XG4iLCAiaW1wb3J0IHsgWm9kTGl0ZXJhbERlZiB9IGZyb20gJ3pvZC92Myc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3TGl0ZXJhbFR5cGUgPVxuICB8IHtcbiAgICAgIHR5cGU6ICdzdHJpbmcnIHwgJ251bWJlcicgfCAnaW50ZWdlcicgfCAnYm9vbGVhbic7XG4gICAgICBjb25zdDogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ29iamVjdCcgfCAnYXJyYXknO1xuICAgIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUxpdGVyYWxEZWYoZGVmOiBab2RMaXRlcmFsRGVmKTogSnNvblNjaGVtYTdMaXRlcmFsVHlwZSB7XG4gIGNvbnN0IHBhcnNlZFR5cGUgPSB0eXBlb2YgZGVmLnZhbHVlO1xuICBpZiAoXG4gICAgcGFyc2VkVHlwZSAhPT0gJ2JpZ2ludCcgJiZcbiAgICBwYXJzZWRUeXBlICE9PSAnbnVtYmVyJyAmJlxuICAgIHBhcnNlZFR5cGUgIT09ICdib29sZWFuJyAmJlxuICAgIHBhcnNlZFR5cGUgIT09ICdzdHJpbmcnXG4gICkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBBcnJheS5pc0FycmF5KGRlZi52YWx1ZSkgPyAnYXJyYXknIDogJ29iamVjdCcsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogcGFyc2VkVHlwZSA9PT0gJ2JpZ2ludCcgPyAnaW50ZWdlcicgOiBwYXJzZWRUeXBlLFxuICAgIGNvbnN0OiBkZWYudmFsdWUsXG4gIH07XG59XG4iLCAiaW1wb3J0IHtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLFxuICBab2RNYXBEZWYsXG4gIFpvZFJlY29yZERlZixcbiAgWm9kVHlwZUFueSxcbn0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcbmltcG9ydCB7IHBhcnNlQnJhbmRlZERlZiB9IGZyb20gJy4vYnJhbmRlZCc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN0VudW1UeXBlIH0gZnJvbSAnLi9lbnVtJztcbmltcG9ydCB7IEpzb25TY2hlbWE3U3RyaW5nVHlwZSwgcGFyc2VTdHJpbmdEZWYgfSBmcm9tICcuL3N0cmluZyc7XG5cbnR5cGUgSnNvblNjaGVtYTdSZWNvcmRQcm9wZXJ0eU5hbWVzVHlwZSA9XG4gIHwgT21pdDxKc29uU2NoZW1hN1N0cmluZ1R5cGUsICd0eXBlJz5cbiAgfCBPbWl0PEpzb25TY2hlbWE3RW51bVR5cGUsICd0eXBlJz47XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3UmVjb3JkVHlwZSA9IHtcbiAgdHlwZTogJ29iamVjdCc7XG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzPzogSnNvblNjaGVtYTdUeXBlIHwgdHJ1ZTtcbiAgcHJvcGVydHlOYW1lcz86IEpzb25TY2hlbWE3UmVjb3JkUHJvcGVydHlOYW1lc1R5cGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZWNvcmREZWYoXG4gIGRlZjogWm9kUmVjb3JkRGVmPFpvZFR5cGVBbnksIFpvZFR5cGVBbnk+IHwgWm9kTWFwRGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdSZWNvcmRUeXBlIHtcbiAgY29uc3Qgc2NoZW1hOiBKc29uU2NoZW1hN1JlY29yZFR5cGUgPSB7XG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgYWRkaXRpb25hbFByb3BlcnRpZXM6XG4gICAgICBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWRkaXRpb25hbFByb3BlcnRpZXMnXSxcbiAgICAgIH0pID8/IHJlZnMuYWxsb3dlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzLFxuICB9O1xuXG4gIGlmIChcbiAgICBkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyAmJlxuICAgIGRlZi5rZXlUeXBlLl9kZWYuY2hlY2tzPy5sZW5ndGhcbiAgKSB7XG4gICAgY29uc3QgeyB0eXBlLCAuLi5rZXlUeXBlIH0gPSBwYXJzZVN0cmluZ0RlZihkZWYua2V5VHlwZS5fZGVmLCByZWZzKTtcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zY2hlbWEsXG4gICAgICBwcm9wZXJ0eU5hbWVzOiBrZXlUeXBlLFxuICAgIH07XG4gIH0gZWxzZSBpZiAoZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnNjaGVtYSxcbiAgICAgIHByb3BlcnR5TmFtZXM6IHtcbiAgICAgICAgZW51bTogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMsXG4gICAgICB9LFxuICAgIH07XG4gIH0gZWxzZSBpZiAoXG4gICAgZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkICYmXG4gICAgZGVmLmtleVR5cGUuX2RlZi50eXBlLl9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcgJiZcbiAgICBkZWYua2V5VHlwZS5fZGVmLnR5cGUuX2RlZi5jaGVja3M/Lmxlbmd0aFxuICApIHtcbiAgICBjb25zdCB7IHR5cGUsIC4uLmtleVR5cGUgfSA9IHBhcnNlQnJhbmRlZERlZihcbiAgICAgIGRlZi5rZXlUeXBlLl9kZWYsXG4gICAgICByZWZzLFxuICAgICkgYXMgSnNvblNjaGVtYTdTdHJpbmdUeXBlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnNjaGVtYSxcbiAgICAgIHByb3BlcnR5TmFtZXM6IGtleVR5cGUsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBzY2hlbWE7XG59XG4iLCAiaW1wb3J0IHsgWm9kU3RyaW5nRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxubGV0IGVtb2ppUmVnZXg6IFJlZ0V4cCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBHZW5lcmF0ZWQgZnJvbSB0aGUgcmVndWxhciBleHByZXNzaW9ucyBmb3VuZCBoZXJlIGFzIG9mIDIwMjQtMDUtMjI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvYmxvYi9tYXN0ZXIvc3JjL3R5cGVzLnRzLlxuICpcbiAqIEV4cHJlc3Npb25zIHdpdGggL2kgZmxhZyBoYXZlIGJlZW4gY2hhbmdlZCBhY2NvcmRpbmdseS5cbiAqL1xuZXhwb3J0IGNvbnN0IHpvZFBhdHRlcm5zID0ge1xuICAvKipcbiAgICogYGNgIHdhcyBjaGFuZ2VkIHRvIGBbY0NdYCB0byByZXBsaWNhdGUgL2kgZmxhZ1xuICAgKi9cbiAgY3VpZDogL15bY0NdW15cXHMtXXs4LH0kLyxcbiAgY3VpZDI6IC9eWzAtOWEtel0rJC8sXG4gIHVsaWQ6IC9eWzAtOUEtSEpLTU5QLVRWLVpdezI2fSQvLFxuICAvKipcbiAgICogYGEtemAgd2FzIGFkZGVkIHRvIHJlcGxpY2F0ZSAvaSBmbGFnXG4gICAqL1xuICBlbWFpbDpcbiAgICAvXig/IVxcLikoPyEuKlxcLlxcLikoW2EtekEtWjAtOV8nK1xcLVxcLl0qKVthLXpBLVowLTlfKy1dQChbYS16QS1aMC05XVthLXpBLVowLTlcXC1dKlxcLikrW2EtekEtWl17Mix9JC8sXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RlZCBhIHZhbGlkIFVuaWNvZGUgUmVnRXhwXG4gICAqXG4gICAqIExhemlseSBpbnN0YW50aWF0ZSBzaW5jZSB0aGlzIHR5cGUgb2YgcmVnZXggaXNuJ3Qgc3VwcG9ydGVkXG4gICAqIGluIGFsbCBlbnZzIChlLmcuIFJlYWN0IE5hdGl2ZSkuXG4gICAqXG4gICAqIFNlZTpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2lzc3Vlcy8yNDMzXG4gICAqIEZpeCBpbiBab2Q6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9jb21taXQvOTM0MGZkNTFlNDg1NzZhNzVhZGM5MTliZmY2NWRiYzRhNWQ0Yzk5YlxuICAgKi9cbiAgZW1vamk6ICgpID0+IHtcbiAgICBpZiAoZW1vamlSZWdleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbW9qaVJlZ2V4ID0gUmVnRXhwKFxuICAgICAgICAnXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyQnLFxuICAgICAgICAndScsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZW1vamlSZWdleDtcbiAgfSxcbiAgLyoqXG4gICAqIFVudXNlZFxuICAgKi9cbiAgdXVpZDogL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kLyxcbiAgLyoqXG4gICAqIFVudXNlZFxuICAgKi9cbiAgaXB2NDogL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSkkLyxcbiAgaXB2NENpZHI6XG4gICAgL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC8oM1swLTJdfFsxMl0/WzAtOV0pJC8sXG4gIC8qKlxuICAgKiBVbnVzZWRcbiAgICovXG4gIGlwdjY6IC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvLFxuICBpcHY2Q2lkcjpcbiAgICAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSlcXC8oMTJbMC04XXwxWzAxXVswLTldfFsxLTldP1swLTldKSQvLFxuICBiYXNlNjQ6IC9eKFswLTlhLXpBLVorL117NH0pKigoWzAtOWEtekEtWisvXXsyfT09KXwoWzAtOWEtekEtWisvXXszfT0pKT8kLyxcbiAgYmFzZTY0dXJsOlxuICAgIC9eKFswLTlhLXpBLVotX117NH0pKigoWzAtOWEtekEtWi1fXXsyfSg9PSk/KXwoWzAtOWEtekEtWi1fXXszfSg9KT8pKT8kLyxcbiAgbmFub2lkOiAvXlthLXpBLVowLTlfLV17MjF9JC8sXG4gIGp3dDogL15bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXSokLyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3U3RyaW5nVHlwZSA9IHtcbiAgdHlwZTogJ3N0cmluZyc7XG4gIG1pbkxlbmd0aD86IG51bWJlcjtcbiAgbWF4TGVuZ3RoPzogbnVtYmVyO1xuICBmb3JtYXQ/OlxuICAgIHwgJ2VtYWlsJ1xuICAgIHwgJ2lkbi1lbWFpbCdcbiAgICB8ICd1cmknXG4gICAgfCAndXVpZCdcbiAgICB8ICdkYXRlLXRpbWUnXG4gICAgfCAnaXB2NCdcbiAgICB8ICdpcHY2J1xuICAgIHwgJ2RhdGUnXG4gICAgfCAndGltZSdcbiAgICB8ICdkdXJhdGlvbic7XG4gIHBhdHRlcm4/OiBzdHJpbmc7XG4gIGFsbE9mPzoge1xuICAgIHBhdHRlcm46IHN0cmluZztcbiAgfVtdO1xuICBhbnlPZj86IHtcbiAgICBmb3JtYXQ6IHN0cmluZztcbiAgfVtdO1xuICBjb250ZW50RW5jb2Rpbmc/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTdHJpbmdEZWYoXG4gIGRlZjogWm9kU3RyaW5nRGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdTdHJpbmdUeXBlIHtcbiAgY29uc3QgcmVzOiBKc29uU2NoZW1hN1N0cmluZ1R5cGUgPSB7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gIH07XG5cbiAgaWYgKGRlZi5jaGVja3MpIHtcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICBjYXNlICdtaW4nOlxuICAgICAgICAgIHJlcy5taW5MZW5ndGggPVxuICAgICAgICAgICAgdHlwZW9mIHJlcy5taW5MZW5ndGggPT09ICdudW1iZXInXG4gICAgICAgICAgICAgID8gTWF0aC5tYXgocmVzLm1pbkxlbmd0aCwgY2hlY2sudmFsdWUpXG4gICAgICAgICAgICAgIDogY2hlY2sudmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgICAgcmVzLm1heExlbmd0aCA9XG4gICAgICAgICAgICB0eXBlb2YgcmVzLm1heExlbmd0aCA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZTtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlbWFpbCc6XG4gICAgICAgICAgc3dpdGNoIChyZWZzLmVtYWlsU3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Zvcm1hdDplbWFpbCc6XG4gICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdlbWFpbCcsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Zvcm1hdDppZG4tZW1haWwnOlxuICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnaWRuLWVtYWlsJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncGF0dGVybjp6b2QnOlxuICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuZW1haWwsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndXJsJzpcbiAgICAgICAgICBhZGRGb3JtYXQocmVzLCAndXJpJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3V1aWQnOlxuICAgICAgICAgIGFkZEZvcm1hdChyZXMsICd1dWlkJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JlZ2V4JzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgY2hlY2sucmVnZXgsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjdWlkJzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuY3VpZCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2N1aWQyJzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuY3VpZDIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzdGFydHNXaXRoJzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKFxuICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgUmVnRXhwKGBeJHtlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShjaGVjay52YWx1ZSwgcmVmcyl9YCksXG4gICAgICAgICAgICBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlbmRzV2l0aCc6XG4gICAgICAgICAgYWRkUGF0dGVybihcbiAgICAgICAgICAgIHJlcyxcbiAgICAgICAgICAgIFJlZ0V4cChgJHtlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShjaGVjay52YWx1ZSwgcmVmcyl9JGApLFxuICAgICAgICAgICAgY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgIHJlZnMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGF0ZXRpbWUnOlxuICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdkYXRlLXRpbWUnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2RhdGUnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ3RpbWUnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZHVyYXRpb24nOlxuICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdkdXJhdGlvbicsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsZW5ndGgnOlxuICAgICAgICAgIHJlcy5taW5MZW5ndGggPVxuICAgICAgICAgICAgdHlwZW9mIHJlcy5taW5MZW5ndGggPT09ICdudW1iZXInXG4gICAgICAgICAgICAgID8gTWF0aC5tYXgocmVzLm1pbkxlbmd0aCwgY2hlY2sudmFsdWUpXG4gICAgICAgICAgICAgIDogY2hlY2sudmFsdWU7XG4gICAgICAgICAgcmVzLm1heExlbmd0aCA9XG4gICAgICAgICAgICB0eXBlb2YgcmVzLm1heExlbmd0aCA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaW5jbHVkZXMnOiB7XG4gICAgICAgICAgYWRkUGF0dGVybihcbiAgICAgICAgICAgIHJlcyxcbiAgICAgICAgICAgIFJlZ0V4cChlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShjaGVjay52YWx1ZSwgcmVmcykpLFxuICAgICAgICAgICAgY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgIHJlZnMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdpcCc6IHtcbiAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gJ3Y2Jykge1xuICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2lwdjQnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09ICd2NCcpIHtcbiAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdpcHY2JywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Jhc2U2NHVybCc6XG4gICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmJhc2U2NHVybCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2p3dCc6XG4gICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmp3dCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NpZHInOiB7XG4gICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09ICd2NicpIHtcbiAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5pcHY0Q2lkciwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSAndjQnKSB7XG4gICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuaXB2NkNpZHIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdlbW9qaSc6XG4gICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmVtb2ppKCksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd1bGlkJzoge1xuICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy51bGlkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdiYXNlNjQnOiB7XG4gICAgICAgICAgc3dpdGNoIChyZWZzLmJhc2U2NFN0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlICdmb3JtYXQ6YmluYXJ5Jzoge1xuICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnYmluYXJ5JyBhcyBhbnksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnY29udGVudEVuY29kaW5nOmJhc2U2NCc6IHtcbiAgICAgICAgICAgICAgcmVzLmNvbnRlbnRFbmNvZGluZyA9ICdiYXNlNjQnO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncGF0dGVybjp6b2QnOiB7XG4gICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5iYXNlNjQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnbmFub2lkJzoge1xuICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5uYW5vaWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3RvTG93ZXJDYXNlJzpcbiAgICAgICAgY2FzZSAndG9VcHBlckNhc2UnOlxuICAgICAgICBjYXNlICd0cmltJzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvKiBjOCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICgoXzogbmV2ZXIpID0+IHt9KShjaGVjayk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gZXNjYXBlTGl0ZXJhbENoZWNrVmFsdWUobGl0ZXJhbDogc3RyaW5nLCByZWZzOiBSZWZzKTogc3RyaW5nIHtcbiAgcmV0dXJuIHJlZnMucGF0dGVyblN0cmF0ZWd5ID09PSAnZXNjYXBlJ1xuICAgID8gZXNjYXBlTm9uQWxwaGFOdW1lcmljKGxpdGVyYWwpXG4gICAgOiBsaXRlcmFsO1xufVxuXG5jb25zdCBBTFBIQV9OVU1FUklDID0gbmV3IFNldChcbiAgJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2eHl6MDEyMzQ1Njc4OScsXG4pO1xuXG5mdW5jdGlvbiBlc2NhcGVOb25BbHBoYU51bWVyaWMoc291cmNlOiBzdHJpbmcpIHtcbiAgbGV0IHJlc3VsdCA9ICcnO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFBTFBIQV9OVU1FUklDLmhhcyhzb3VyY2VbaV0pKSB7XG4gICAgICByZXN1bHQgKz0gJ1xcXFwnO1xuICAgIH1cblxuICAgIHJlc3VsdCArPSBzb3VyY2VbaV07XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBBZGRzIGEgXCJmb3JtYXRcIiBrZXl3b3JkIHRvIHRoZSBzY2hlbWEuIElmIGEgZm9ybWF0IGV4aXN0cywgYm90aCBmb3JtYXRzIHdpbGwgYmUgam9pbmVkIGluIGFuIGFsbE9mLW5vZGUsIGFsb25nIHdpdGggc3Vic2VxdWVudCBvbmVzLlxuZnVuY3Rpb24gYWRkRm9ybWF0KFxuICBzY2hlbWE6IEpzb25TY2hlbWE3U3RyaW5nVHlwZSxcbiAgdmFsdWU6IFJlcXVpcmVkPEpzb25TY2hlbWE3U3RyaW5nVHlwZT5bJ2Zvcm1hdCddLFxuICBtZXNzYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIHJlZnM6IFJlZnMsXG4pIHtcbiAgaWYgKHNjaGVtYS5mb3JtYXQgfHwgc2NoZW1hLmFueU9mPy5zb21lKHggPT4geC5mb3JtYXQpKSB7XG4gICAgaWYgKCFzY2hlbWEuYW55T2YpIHtcbiAgICAgIHNjaGVtYS5hbnlPZiA9IFtdO1xuICAgIH1cblxuICAgIGlmIChzY2hlbWEuZm9ybWF0KSB7XG4gICAgICBzY2hlbWEuYW55T2YhLnB1c2goe1xuICAgICAgICBmb3JtYXQ6IHNjaGVtYS5mb3JtYXQsXG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZSBzY2hlbWEuZm9ybWF0O1xuICAgIH1cblxuICAgIHNjaGVtYS5hbnlPZiEucHVzaCh7XG4gICAgICBmb3JtYXQ6IHZhbHVlLFxuICAgICAgLi4uKG1lc3NhZ2UgJiZcbiAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogbWVzc2FnZSB9IH0pLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNjaGVtYS5mb3JtYXQgPSB2YWx1ZTtcbiAgfVxufVxuXG4vLyBBZGRzIGEgXCJwYXR0ZXJuXCIga2V5d29yZCB0byB0aGUgc2NoZW1hLiBJZiBhIHBhdHRlcm4gZXhpc3RzLCBib3RoIHBhdHRlcm5zIHdpbGwgYmUgam9pbmVkIGluIGFuIGFsbE9mLW5vZGUsIGFsb25nIHdpdGggc3Vic2VxdWVudCBvbmVzLlxuZnVuY3Rpb24gYWRkUGF0dGVybihcbiAgc2NoZW1hOiBKc29uU2NoZW1hN1N0cmluZ1R5cGUsXG4gIHJlZ2V4OiBSZWdFeHAsXG4gIG1lc3NhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgcmVmczogUmVmcyxcbikge1xuICBpZiAoc2NoZW1hLnBhdHRlcm4gfHwgc2NoZW1hLmFsbE9mPy5zb21lKHggPT4geC5wYXR0ZXJuKSkge1xuICAgIGlmICghc2NoZW1hLmFsbE9mKSB7XG4gICAgICBzY2hlbWEuYWxsT2YgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAoc2NoZW1hLnBhdHRlcm4pIHtcbiAgICAgIHNjaGVtYS5hbGxPZiEucHVzaCh7XG4gICAgICAgIHBhdHRlcm46IHNjaGVtYS5wYXR0ZXJuLFxuICAgICAgfSk7XG4gICAgICBkZWxldGUgc2NoZW1hLnBhdHRlcm47XG4gICAgfVxuXG4gICAgc2NoZW1hLmFsbE9mIS5wdXNoKHtcbiAgICAgIHBhdHRlcm46IHN0cmluZ2lmeVJlZ0V4cFdpdGhGbGFncyhyZWdleCwgcmVmcyksXG4gICAgICAuLi4obWVzc2FnZSAmJlxuICAgICAgICByZWZzLmVycm9yTWVzc2FnZXMgJiYgeyBlcnJvck1lc3NhZ2U6IHsgcGF0dGVybjogbWVzc2FnZSB9IH0pLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNjaGVtYS5wYXR0ZXJuID0gc3RyaW5naWZ5UmVnRXhwV2l0aEZsYWdzKHJlZ2V4LCByZWZzKTtcbiAgfVxufVxuXG4vLyBNdXRhdGUgei5zdHJpbmcucmVnZXgoKSBpbiBhIGJlc3QgYXR0ZW1wdCB0byBhY2NvbW1vZGF0ZSBmb3IgcmVnZXggZmxhZ3Mgd2hlbiBhcHBseVJlZ2V4RmxhZ3MgaXMgdHJ1ZVxuZnVuY3Rpb24gc3RyaW5naWZ5UmVnRXhwV2l0aEZsYWdzKHJlZ2V4OiBSZWdFeHAsIHJlZnM6IFJlZnMpOiBzdHJpbmcge1xuICBpZiAoIXJlZnMuYXBwbHlSZWdleEZsYWdzIHx8ICFyZWdleC5mbGFncykge1xuICAgIHJldHVybiByZWdleC5zb3VyY2U7XG4gIH1cblxuICAvLyBDdXJyZW50bHkgaGFuZGxlZCBmbGFnc1xuICBjb25zdCBmbGFncyA9IHtcbiAgICBpOiByZWdleC5mbGFncy5pbmNsdWRlcygnaScpLCAvLyBDYXNlLWluc2Vuc2l0aXZlXG4gICAgbTogcmVnZXguZmxhZ3MuaW5jbHVkZXMoJ20nKSwgLy8gYF5gIGFuZCBgJGAgbWF0Y2hlcyBhZGphY2VudCB0byBuZXdsaW5lIGNoYXJhY3RlcnNcbiAgICBzOiByZWdleC5mbGFncy5pbmNsdWRlcygncycpLCAvLyBgLmAgbWF0Y2hlcyBuZXdsaW5lc1xuICB9O1xuXG4gIC8vIFRoZSBnZW5lcmFsIHByaW5jaXBsZSBoZXJlIGlzIHRvIHN0ZXAgdGhyb3VnaCBlYWNoIGNoYXJhY3Rlciwgb25lIGF0IGEgdGltZSwgYXBwbHlpbmcgbXV0YXRpb25zIGFzIGZsYWdzIHJlcXVpcmUuIFdlIGtlZXAgdHJhY2sgd2hlbiB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaXMgZXNjYXBlZCwgYW5kIHdoZW4gaXQncyBpbnNpZGUgYSBncm91cCAvbGlrZSBbdGhpc10vIG9yIChhbHNvKSBhIHJhbmdlIGxpa2UgL1thLXpdLy4gVGhlIGZvbGxvd2luZyBpcyBmYWlybHkgYnJpdHRsZSBpbXBlcmF0aXZlIGNvZGU7IGVkaXQgYXQgeW91ciBwZXJpbCFcbiAgY29uc3Qgc291cmNlID0gZmxhZ3MuaSA/IHJlZ2V4LnNvdXJjZS50b0xvd2VyQ2FzZSgpIDogcmVnZXguc291cmNlO1xuICBsZXQgcGF0dGVybiA9ICcnO1xuICBsZXQgaXNFc2NhcGVkID0gZmFsc2U7XG4gIGxldCBpbkNoYXJHcm91cCA9IGZhbHNlO1xuICBsZXQgaW5DaGFyUmFuZ2UgPSBmYWxzZTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpc0VzY2FwZWQpIHtcbiAgICAgIHBhdHRlcm4gKz0gc291cmNlW2ldO1xuICAgICAgaXNFc2NhcGVkID0gZmFsc2U7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoZmxhZ3MuaSkge1xuICAgICAgaWYgKGluQ2hhckdyb3VwKSB7XG4gICAgICAgIGlmIChzb3VyY2VbaV0ubWF0Y2goL1thLXpdLykpIHtcbiAgICAgICAgICBpZiAoaW5DaGFyUmFuZ2UpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gc291cmNlW2ldO1xuICAgICAgICAgICAgcGF0dGVybiArPSBgJHtzb3VyY2VbaSAtIDJdfS0ke3NvdXJjZVtpXX1gLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBpbkNoYXJSYW5nZSA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc291cmNlW2kgKyAxXSA9PT0gJy0nICYmIHNvdXJjZVtpICsgMl0/Lm1hdGNoKC9bYS16XS8pKSB7XG4gICAgICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgIGluQ2hhclJhbmdlID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGF0dGVybiArPSBgJHtzb3VyY2VbaV19JHtzb3VyY2VbaV0udG9VcHBlckNhc2UoKX1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzb3VyY2VbaV0ubWF0Y2goL1thLXpdLykpIHtcbiAgICAgICAgcGF0dGVybiArPSBgWyR7c291cmNlW2ldfSR7c291cmNlW2ldLnRvVXBwZXJDYXNlKCl9XWA7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmbGFncy5tKSB7XG4gICAgICBpZiAoc291cmNlW2ldID09PSAnXicpIHtcbiAgICAgICAgcGF0dGVybiArPSBgKF58KD88PVtcXHJcXG5dKSlgO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAoc291cmNlW2ldID09PSAnJCcpIHtcbiAgICAgICAgcGF0dGVybiArPSBgKCR8KD89W1xcclxcbl0pKWA7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmbGFncy5zICYmIHNvdXJjZVtpXSA9PT0gJy4nKSB7XG4gICAgICBwYXR0ZXJuICs9IGluQ2hhckdyb3VwID8gYCR7c291cmNlW2ldfVxcclxcbmAgOiBgWyR7c291cmNlW2ldfVxcclxcbl1gO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgaWYgKHNvdXJjZVtpXSA9PT0gJ1xcXFwnKSB7XG4gICAgICBpc0VzY2FwZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaW5DaGFyR3JvdXAgJiYgc291cmNlW2ldID09PSAnXScpIHtcbiAgICAgIGluQ2hhckdyb3VwID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICghaW5DaGFyR3JvdXAgJiYgc291cmNlW2ldID09PSAnWycpIHtcbiAgICAgIGluQ2hhckdyb3VwID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIG5ldyBSZWdFeHAocGF0dGVybik7XG4gIH0gY2F0Y2gge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBDb3VsZCBub3QgY29udmVydCByZWdleCBwYXR0ZXJuIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKFxuICAgICAgICAnLycsXG4gICAgICApfSB0byBhIGZsYWctaW5kZXBlbmRlbnQgZm9ybSEgRmFsbGluZyBiYWNrIHRvIHRoZSBmbGFnLWlnbm9yYW50IHNvdXJjZWAsXG4gICAgKTtcbiAgICByZXR1cm4gcmVnZXguc291cmNlO1xuICB9XG5cbiAgcmV0dXJuIHBhdHRlcm47XG59XG4iLCAiaW1wb3J0IHsgWm9kTWFwRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSAnLi9hbnknO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdSZWNvcmRUeXBlLCBwYXJzZVJlY29yZERlZiB9IGZyb20gJy4vcmVjb3JkJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdNYXBUeXBlID0ge1xuICB0eXBlOiAnYXJyYXknO1xuICBtYXhJdGVtczogMTI1O1xuICBpdGVtczoge1xuICAgIHR5cGU6ICdhcnJheSc7XG4gICAgaXRlbXM6IFtKc29uU2NoZW1hN1R5cGUsIEpzb25TY2hlbWE3VHlwZV07XG4gICAgbWluSXRlbXM6IDI7XG4gICAgbWF4SXRlbXM6IDI7XG4gIH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNYXBEZWYoXG4gIGRlZjogWm9kTWFwRGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdNYXBUeXBlIHwgSnNvblNjaGVtYTdSZWNvcmRUeXBlIHtcbiAgaWYgKHJlZnMubWFwU3RyYXRlZ3kgPT09ICdyZWNvcmQnKSB7XG4gICAgcmV0dXJuIHBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcyk7XG4gIH1cblxuICBjb25zdCBrZXlzID1cbiAgICBwYXJzZURlZihkZWYua2V5VHlwZS5fZGVmLCB7XG4gICAgICAuLi5yZWZzLFxuICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnLCAnaXRlbXMnLCAnMCddLFxuICAgIH0pIHx8IHBhcnNlQW55RGVmKCk7XG4gIGNvbnN0IHZhbHVlcyA9XG4gICAgcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAuLi5yZWZzLFxuICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnLCAnaXRlbXMnLCAnMSddLFxuICAgIH0pIHx8IHBhcnNlQW55RGVmKCk7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ2FycmF5JyxcbiAgICBtYXhJdGVtczogMTI1LFxuICAgIGl0ZW1zOiB7XG4gICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgaXRlbXM6IFtrZXlzLCB2YWx1ZXNdLFxuICAgICAgbWluSXRlbXM6IDIsXG4gICAgICBtYXhJdGVtczogMixcbiAgICB9LFxuICB9O1xufVxuIiwgImltcG9ydCB7IFpvZE5hdGl2ZUVudW1EZWYgfSBmcm9tICd6b2QvdjMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN05hdGl2ZUVudW1UeXBlID0ge1xuICB0eXBlOiAnc3RyaW5nJyB8ICdudW1iZXInIHwgWydzdHJpbmcnLCAnbnVtYmVyJ107XG4gIGVudW06IChzdHJpbmcgfCBudW1iZXIpW107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOYXRpdmVFbnVtRGVmKFxuICBkZWY6IFpvZE5hdGl2ZUVudW1EZWYsXG4pOiBKc29uU2NoZW1hN05hdGl2ZUVudW1UeXBlIHtcbiAgY29uc3Qgb2JqZWN0ID0gZGVmLnZhbHVlcztcbiAgY29uc3QgYWN0dWFsS2V5cyA9IE9iamVjdC5rZXlzKGRlZi52YWx1ZXMpLmZpbHRlcigoa2V5OiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdFtvYmplY3Rba2V5XV0gIT09ICdudW1iZXInO1xuICB9KTtcblxuICBjb25zdCBhY3R1YWxWYWx1ZXMgPSBhY3R1YWxLZXlzLm1hcCgoa2V5OiBzdHJpbmcpID0+IG9iamVjdFtrZXldKTtcblxuICBjb25zdCBwYXJzZWRUeXBlcyA9IEFycmF5LmZyb20oXG4gICAgbmV3IFNldChhY3R1YWxWYWx1ZXMubWFwKCh2YWx1ZXM6IHN0cmluZyB8IG51bWJlcikgPT4gdHlwZW9mIHZhbHVlcykpLFxuICApO1xuXG4gIHJldHVybiB7XG4gICAgdHlwZTpcbiAgICAgIHBhcnNlZFR5cGVzLmxlbmd0aCA9PT0gMVxuICAgICAgICA/IHBhcnNlZFR5cGVzWzBdID09PSAnc3RyaW5nJ1xuICAgICAgICAgID8gJ3N0cmluZydcbiAgICAgICAgICA6ICdudW1iZXInXG4gICAgICAgIDogWydzdHJpbmcnLCAnbnVtYmVyJ10sXG4gICAgZW51bTogYWN0dWFsVmFsdWVzLFxuICB9O1xufVxuIiwgImltcG9ydCB7IEpzb25TY2hlbWE3QW55VHlwZSwgcGFyc2VBbnlEZWYgfSBmcm9tICcuL2FueSc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3TmV2ZXJUeXBlID0ge1xuICBub3Q6IEpzb25TY2hlbWE3QW55VHlwZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU5ldmVyRGVmKCk6IEpzb25TY2hlbWE3TmV2ZXJUeXBlIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHsgbm90OiBwYXJzZUFueURlZigpIH07XG59XG4iLCAiZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdOdWxsVHlwZSA9IHtcbiAgdHlwZTogJ251bGwnO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTnVsbERlZigpOiBKc29uU2NoZW1hN051bGxUeXBlIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnbnVsbCcsXG4gIH07XG59XG4iLCAiaW1wb3J0IHtcbiAgWm9kRGlzY3JpbWluYXRlZFVuaW9uRGVmLFxuICBab2RMaXRlcmFsRGVmLFxuICBab2RUeXBlQW55LFxuICBab2RVbmlvbkRlZixcbn0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IGNvbnN0IHByaW1pdGl2ZU1hcHBpbmdzID0ge1xuICBab2RTdHJpbmc6ICdzdHJpbmcnLFxuICBab2ROdW1iZXI6ICdudW1iZXInLFxuICBab2RCaWdJbnQ6ICdpbnRlZ2VyJyxcbiAgWm9kQm9vbGVhbjogJ2Jvb2xlYW4nLFxuICBab2ROdWxsOiAnbnVsbCcsXG59IGFzIGNvbnN0O1xudHlwZSBab2RQcmltaXRpdmUgPSBrZXlvZiB0eXBlb2YgcHJpbWl0aXZlTWFwcGluZ3M7XG50eXBlIEpzb25TY2hlbWE3UHJpbWl0aXZlID1cbiAgKHR5cGVvZiBwcmltaXRpdmVNYXBwaW5ncylba2V5b2YgdHlwZW9mIHByaW1pdGl2ZU1hcHBpbmdzXTtcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdVbmlvblR5cGUgPVxuICB8IEpzb25TY2hlbWE3UHJpbWl0aXZlVW5pb25UeXBlXG4gIHwgSnNvblNjaGVtYTdBbnlPZlR5cGU7XG5cbnR5cGUgSnNvblNjaGVtYTdQcmltaXRpdmVVbmlvblR5cGUgPVxuICB8IHtcbiAgICAgIHR5cGU6IEpzb25TY2hlbWE3UHJpbWl0aXZlIHwgSnNvblNjaGVtYTdQcmltaXRpdmVbXTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogSnNvblNjaGVtYTdQcmltaXRpdmUgfCBKc29uU2NoZW1hN1ByaW1pdGl2ZVtdO1xuICAgICAgZW51bTogKHN0cmluZyB8IG51bWJlciB8IGJpZ2ludCB8IGJvb2xlYW4gfCBudWxsKVtdO1xuICAgIH07XG5cbnR5cGUgSnNvblNjaGVtYTdBbnlPZlR5cGUgPSB7XG4gIGFueU9mOiBKc29uU2NoZW1hN1R5cGVbXTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVuaW9uRGVmKFxuICBkZWY6IFpvZFVuaW9uRGVmIHwgWm9kRGlzY3JpbWluYXRlZFVuaW9uRGVmPGFueSwgYW55PixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3UHJpbWl0aXZlVW5pb25UeXBlIHwgSnNvblNjaGVtYTdBbnlPZlR5cGUgfCB1bmRlZmluZWQge1xuICBjb25zdCBvcHRpb25zOiByZWFkb25seSBab2RUeXBlQW55W10gPVxuICAgIGRlZi5vcHRpb25zIGluc3RhbmNlb2YgTWFwID8gQXJyYXkuZnJvbShkZWYub3B0aW9ucy52YWx1ZXMoKSkgOiBkZWYub3B0aW9ucztcblxuICAvLyBUaGlzIGJsb2NrcyB0cmllcyB0byBsb29rIGFoZWFkIGEgYml0IHRvIHByb2R1Y2UgbmljZXIgbG9va2luZyBzY2hlbWFzIHdpdGggdHlwZSBhcnJheSBpbnN0ZWFkIG9mIGFueU9mLlxuICBpZiAoXG4gICAgb3B0aW9ucy5ldmVyeShcbiAgICAgIHggPT5cbiAgICAgICAgeC5fZGVmLnR5cGVOYW1lIGluIHByaW1pdGl2ZU1hcHBpbmdzICYmXG4gICAgICAgICgheC5fZGVmLmNoZWNrcyB8fCAheC5fZGVmLmNoZWNrcy5sZW5ndGgpLFxuICAgIClcbiAgKSB7XG4gICAgLy8gYWxsIHR5cGVzIGluIHVuaW9uIGFyZSBwcmltaXRpdmUgYW5kIGxhY2sgY2hlY2tzLCBzbyBtaWdodCBhcyB3ZWxsIHNxdWFzaCBpbnRvIHt0eXBlOiBbLi4uXX1cblxuICAgIGNvbnN0IHR5cGVzID0gb3B0aW9ucy5yZWR1Y2UoKHR5cGVzOiBKc29uU2NoZW1hN1ByaW1pdGl2ZVtdLCB4KSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gcHJpbWl0aXZlTWFwcGluZ3NbeC5fZGVmLnR5cGVOYW1lIGFzIFpvZFByaW1pdGl2ZV07IC8vQ2FuIGJlIHNhZmVseSBjYXN0ZWQgZHVlIHRvIHJvdyA0M1xuICAgICAgcmV0dXJuIHR5cGUgJiYgIXR5cGVzLmluY2x1ZGVzKHR5cGUpID8gWy4uLnR5cGVzLCB0eXBlXSA6IHR5cGVzO1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiB0eXBlcy5sZW5ndGggPiAxID8gdHlwZXMgOiB0eXBlc1swXSxcbiAgICB9O1xuICB9IGVsc2UgaWYgKFxuICAgIG9wdGlvbnMuZXZlcnkoeCA9PiB4Ll9kZWYudHlwZU5hbWUgPT09ICdab2RMaXRlcmFsJyAmJiAheC5kZXNjcmlwdGlvbilcbiAgKSB7XG4gICAgLy8gYWxsIG9wdGlvbnMgbGl0ZXJhbHNcblxuICAgIGNvbnN0IHR5cGVzID0gb3B0aW9ucy5yZWR1Y2UoXG4gICAgICAoYWNjOiBKc29uU2NoZW1hN1ByaW1pdGl2ZVtdLCB4OiB7IF9kZWY6IFpvZExpdGVyYWxEZWYgfSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIHguX2RlZi52YWx1ZTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIHR5cGVdO1xuICAgICAgICAgIGNhc2UgJ2JpZ2ludCc6XG4gICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgJ2ludGVnZXInIGFzIGNvbnN0XTtcbiAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgaWYgKHguX2RlZi52YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIFsuLi5hY2MsICdudWxsJyBhcyBjb25zdF07XG4gICAgICAgICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtdLFxuICAgICk7XG5cbiAgICBpZiAodHlwZXMubGVuZ3RoID09PSBvcHRpb25zLmxlbmd0aCkge1xuICAgICAgLy8gYWxsIHRoZSBsaXRlcmFscyBhcmUgcHJpbWl0aXZlLCBhcyBmYXIgYXMgbnVsbCBjYW4gYmUgY29uc2lkZXJlZCBwcmltaXRpdmVcblxuICAgICAgY29uc3QgdW5pcXVlVHlwZXMgPSB0eXBlcy5maWx0ZXIoKHgsIGksIGEpID0+IGEuaW5kZXhPZih4KSA9PT0gaSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiB1bmlxdWVUeXBlcy5sZW5ndGggPiAxID8gdW5pcXVlVHlwZXMgOiB1bmlxdWVUeXBlc1swXSxcbiAgICAgICAgZW51bTogb3B0aW9ucy5yZWR1Y2UoXG4gICAgICAgICAgKGFjYywgeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGFjYy5pbmNsdWRlcyh4Ll9kZWYudmFsdWUpID8gYWNjIDogWy4uLmFjYywgeC5fZGVmLnZhbHVlXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFtdIGFzIChzdHJpbmcgfCBudW1iZXIgfCBiaWdpbnQgfCBib29sZWFuIHwgbnVsbClbXSxcbiAgICAgICAgKSxcbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKG9wdGlvbnMuZXZlcnkoeCA9PiB4Ll9kZWYudHlwZU5hbWUgPT09ICdab2RFbnVtJykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICBlbnVtOiBvcHRpb25zLnJlZHVjZShcbiAgICAgICAgKGFjYzogc3RyaW5nW10sIHgpID0+IFtcbiAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgLi4ueC5fZGVmLnZhbHVlcy5maWx0ZXIoKHg6IHN0cmluZykgPT4gIWFjYy5pbmNsdWRlcyh4KSksXG4gICAgICAgIF0sXG4gICAgICAgIFtdLFxuICAgICAgKSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcbn1cblxuY29uc3QgYXNBbnlPZiA9IChcbiAgZGVmOiBab2RVbmlvbkRlZiB8IFpvZERpc2NyaW1pbmF0ZWRVbmlvbkRlZjxhbnksIGFueT4sXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1ByaW1pdGl2ZVVuaW9uVHlwZSB8IEpzb25TY2hlbWE3QW55T2ZUeXBlIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgYW55T2YgPSAoXG4gICAgKGRlZi5vcHRpb25zIGluc3RhbmNlb2YgTWFwXG4gICAgICA/IEFycmF5LmZyb20oZGVmLm9wdGlvbnMudmFsdWVzKCkpXG4gICAgICA6IGRlZi5vcHRpb25zKSBhcyBhbnlbXVxuICApXG4gICAgLm1hcCgoeCwgaSkgPT5cbiAgICAgIHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbnlPZicsIGAke2l9YF0sXG4gICAgICB9KSxcbiAgICApXG4gICAgLmZpbHRlcihcbiAgICAgICh4KTogeCBpcyBKc29uU2NoZW1hN1R5cGUgPT5cbiAgICAgICAgISF4ICYmXG4gICAgICAgICghcmVmcy5zdHJpY3RVbmlvbnMgfHxcbiAgICAgICAgICAodHlwZW9mIHggPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHgpLmxlbmd0aCA+IDApKSxcbiAgICApO1xuXG4gIHJldHVybiBhbnlPZi5sZW5ndGggPyB7IGFueU9mIH0gOiB1bmRlZmluZWQ7XG59O1xuIiwgImltcG9ydCB7IFpvZE51bGxhYmxlRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcbmltcG9ydCB7IEpzb25TY2hlbWE3TnVsbFR5cGUgfSBmcm9tICcuL251bGwnO1xuaW1wb3J0IHsgcHJpbWl0aXZlTWFwcGluZ3MgfSBmcm9tICcuL3VuaW9uJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdOdWxsYWJsZVR5cGUgPVxuICB8IHtcbiAgICAgIGFueU9mOiBbSnNvblNjaGVtYTdUeXBlLCBKc29uU2NoZW1hN051bGxUeXBlXTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogW3N0cmluZywgJ251bGwnXTtcbiAgICB9O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdWxsYWJsZURlZihcbiAgZGVmOiBab2ROdWxsYWJsZURlZixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3TnVsbGFibGVUeXBlIHwgdW5kZWZpbmVkIHtcbiAgaWYgKFxuICAgIFsnWm9kU3RyaW5nJywgJ1pvZE51bWJlcicsICdab2RCaWdJbnQnLCAnWm9kQm9vbGVhbicsICdab2ROdWxsJ10uaW5jbHVkZXMoXG4gICAgICBkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWUsXG4gICAgKSAmJlxuICAgICghZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcyB8fCAhZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcy5sZW5ndGgpXG4gICkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBbXG4gICAgICAgIHByaW1pdGl2ZU1hcHBpbmdzW1xuICAgICAgICAgIGRlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZSBhcyBrZXlvZiB0eXBlb2YgcHJpbWl0aXZlTWFwcGluZ3NcbiAgICAgICAgXSxcbiAgICAgICAgJ251bGwnLFxuICAgICAgXSxcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgYmFzZSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuICAgIC4uLnJlZnMsXG4gICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYW55T2YnLCAnMCddLFxuICB9KTtcblxuICByZXR1cm4gYmFzZSAmJiB7IGFueU9mOiBbYmFzZSwgeyB0eXBlOiAnbnVsbCcgfV0gfTtcbn1cbiIsICJpbXBvcnQgeyBab2ROdW1iZXJEZWYgfSBmcm9tICd6b2QvdjMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN051bWJlclR5cGUgPSB7XG4gIHR5cGU6ICdudW1iZXInIHwgJ2ludGVnZXInO1xuICBtaW5pbXVtPzogbnVtYmVyO1xuICBleGNsdXNpdmVNaW5pbXVtPzogbnVtYmVyO1xuICBtYXhpbXVtPzogbnVtYmVyO1xuICBleGNsdXNpdmVNYXhpbXVtPzogbnVtYmVyO1xuICBtdWx0aXBsZU9mPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTnVtYmVyRGVmKGRlZjogWm9kTnVtYmVyRGVmKTogSnNvblNjaGVtYTdOdW1iZXJUeXBlIHtcbiAgY29uc3QgcmVzOiBKc29uU2NoZW1hN051bWJlclR5cGUgPSB7XG4gICAgdHlwZTogJ251bWJlcicsXG4gIH07XG5cbiAgaWYgKCFkZWYuY2hlY2tzKSByZXR1cm4gcmVzO1xuXG4gIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgcmVzLnR5cGUgPSAnaW50ZWdlcic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWluJzpcbiAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgIHJlcy5taW5pbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1pbmltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICByZXMubWF4aW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtdWx0aXBsZU9mJzpcbiAgICAgICAgcmVzLm11bHRpcGxlT2YgPSBjaGVjay52YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59XG4iLCAiaW1wb3J0IHsgWm9kT2JqZWN0RGVmLCBab2RUeXBlQW55IH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdPYmplY3RUeXBlID0ge1xuICB0eXBlOiAnb2JqZWN0JztcbiAgcHJvcGVydGllczogUmVjb3JkPHN0cmluZywgSnNvblNjaGVtYTdUeXBlPjtcbiAgYWRkaXRpb25hbFByb3BlcnRpZXM/OiBib29sZWFuIHwgSnNvblNjaGVtYTdUeXBlO1xuICByZXF1aXJlZD86IHN0cmluZ1tdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlT2JqZWN0RGVmKGRlZjogWm9kT2JqZWN0RGVmLCByZWZzOiBSZWZzKSB7XG4gIGNvbnN0IHJlc3VsdDogSnNvblNjaGVtYTdPYmplY3RUeXBlID0ge1xuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIHByb3BlcnRpZXM6IHt9LFxuICB9O1xuXG4gIGNvbnN0IHJlcXVpcmVkOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGNvbnN0IHNoYXBlID0gZGVmLnNoYXBlKCk7XG5cbiAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBzaGFwZSkge1xuICAgIGxldCBwcm9wRGVmID0gc2hhcGVbcHJvcE5hbWVdO1xuXG4gICAgaWYgKHByb3BEZWYgPT09IHVuZGVmaW5lZCB8fCBwcm9wRGVmLl9kZWYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvcE9wdGlvbmFsID0gc2FmZUlzT3B0aW9uYWwocHJvcERlZik7XG5cbiAgICBjb25zdCBwYXJzZWREZWYgPSBwYXJzZURlZihwcm9wRGVmLl9kZWYsIHtcbiAgICAgIC4uLnJlZnMsXG4gICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdwcm9wZXJ0aWVzJywgcHJvcE5hbWVdLFxuICAgICAgcHJvcGVydHlQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ3Byb3BlcnRpZXMnLCBwcm9wTmFtZV0sXG4gICAgfSk7XG5cbiAgICBpZiAocGFyc2VkRGVmID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm9wZXJ0aWVzW3Byb3BOYW1lXSA9IHBhcnNlZERlZjtcblxuICAgIGlmICghcHJvcE9wdGlvbmFsKSB7XG4gICAgICByZXF1aXJlZC5wdXNoKHByb3BOYW1lKTtcbiAgICB9XG4gIH1cblxuICBpZiAocmVxdWlyZWQubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnJlcXVpcmVkID0gcmVxdWlyZWQ7XG4gIH1cblxuICBjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IGRlY2lkZUFkZGl0aW9uYWxQcm9wZXJ0aWVzKGRlZiwgcmVmcyk7XG5cbiAgaWYgKGFkZGl0aW9uYWxQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXN1bHQuYWRkaXRpb25hbFByb3BlcnRpZXMgPSBhZGRpdGlvbmFsUHJvcGVydGllcztcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGRlY2lkZUFkZGl0aW9uYWxQcm9wZXJ0aWVzKGRlZjogWm9kT2JqZWN0RGVmLCByZWZzOiBSZWZzKSB7XG4gIGlmIChkZWYuY2F0Y2hhbGwuX2RlZi50eXBlTmFtZSAhPT0gJ1pvZE5ldmVyJykge1xuICAgIHJldHVybiBwYXJzZURlZihkZWYuY2F0Y2hhbGwuX2RlZiwge1xuICAgICAgLi4ucmVmcyxcbiAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJ10sXG4gICAgfSk7XG4gIH1cblxuICBzd2l0Y2ggKGRlZi51bmtub3duS2V5cykge1xuICAgIGNhc2UgJ3Bhc3N0aHJvdWdoJzpcbiAgICAgIHJldHVybiByZWZzLmFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBjYXNlICdzdHJpY3QnOlxuICAgICAgcmV0dXJuIHJlZnMucmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBjYXNlICdzdHJpcCc6XG4gICAgICByZXR1cm4gcmVmcy5yZW1vdmVBZGRpdGlvbmFsU3RyYXRlZ3kgPT09ICdzdHJpY3QnXG4gICAgICAgID8gcmVmcy5hbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXNcbiAgICAgICAgOiByZWZzLnJlamVjdGVkQWRkaXRpb25hbFByb3BlcnRpZXM7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2FmZUlzT3B0aW9uYWwoc2NoZW1hOiBab2RUeXBlQW55KTogYm9vbGVhbiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHNjaGVtYS5pc09wdGlvbmFsKCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgWm9kT3B0aW9uYWxEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tICcuL2FueSc7XG5cbmV4cG9ydCBjb25zdCBwYXJzZU9wdGlvbmFsRGVmID0gKFxuICBkZWY6IFpvZE9wdGlvbmFsRGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHJlZnMuY3VycmVudFBhdGgudG9TdHJpbmcoKSA9PT0gcmVmcy5wcm9wZXJ0eVBhdGg/LnRvU3RyaW5nKCkpIHtcbiAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbiAgfVxuXG4gIGNvbnN0IGlubmVyU2NoZW1hID0gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCB7XG4gICAgLi4ucmVmcyxcbiAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbnlPZicsICcxJ10sXG4gIH0pO1xuXG4gIHJldHVybiBpbm5lclNjaGVtYVxuICAgID8geyBhbnlPZjogW3sgbm90OiBwYXJzZUFueURlZigpIH0sIGlubmVyU2NoZW1hXSB9XG4gICAgOiBwYXJzZUFueURlZigpO1xufTtcbiIsICJpbXBvcnQgeyBab2RQaXBlbGluZURlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN0FsbE9mVHlwZSB9IGZyb20gJy4vaW50ZXJzZWN0aW9uJztcblxuZXhwb3J0IGNvbnN0IHBhcnNlUGlwZWxpbmVEZWYgPSAoXG4gIGRlZjogWm9kUGlwZWxpbmVEZWY8YW55LCBhbnk+LFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdBbGxPZlR5cGUgfCBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09ICdpbnB1dCcpIHtcbiAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmluLl9kZWYsIHJlZnMpO1xuICB9IGVsc2UgaWYgKHJlZnMucGlwZVN0cmF0ZWd5ID09PSAnb3V0cHV0Jykge1xuICAgIHJldHVybiBwYXJzZURlZihkZWYub3V0Ll9kZWYsIHJlZnMpO1xuICB9XG5cbiAgY29uc3QgYSA9IHBhcnNlRGVmKGRlZi5pbi5fZGVmLCB7XG4gICAgLi4ucmVmcyxcbiAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbGxPZicsICcwJ10sXG4gIH0pO1xuICBjb25zdCBiID0gcGFyc2VEZWYoZGVmLm91dC5fZGVmLCB7XG4gICAgLi4ucmVmcyxcbiAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbGxPZicsIGEgPyAnMScgOiAnMCddLFxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGFsbE9mOiBbYSwgYl0uZmlsdGVyKCh4KTogeCBpcyBKc29uU2NoZW1hN1R5cGUgPT4geCAhPT0gdW5kZWZpbmVkKSxcbiAgfTtcbn07XG4iLCAiaW1wb3J0IHsgWm9kUHJvbWlzZURlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVByb21pc2VEZWYoXG4gIGRlZjogWm9kUHJvbWlzZURlZixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBwYXJzZURlZihkZWYudHlwZS5fZGVmLCByZWZzKTtcbn1cbiIsICJpbXBvcnQgeyBab2RTZXREZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN1NldFR5cGUgPSB7XG4gIHR5cGU6ICdhcnJheSc7XG4gIHVuaXF1ZUl0ZW1zOiB0cnVlO1xuICBpdGVtcz86IEpzb25TY2hlbWE3VHlwZTtcbiAgbWluSXRlbXM/OiBudW1iZXI7XG4gIG1heEl0ZW1zPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2V0RGVmKGRlZjogWm9kU2V0RGVmLCByZWZzOiBSZWZzKTogSnNvblNjaGVtYTdTZXRUeXBlIHtcbiAgY29uc3QgaXRlbXMgPSBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcbiAgICAuLi5yZWZzLFxuICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJ10sXG4gIH0pO1xuXG4gIGNvbnN0IHNjaGVtYTogSnNvblNjaGVtYTdTZXRUeXBlID0ge1xuICAgIHR5cGU6ICdhcnJheScsXG4gICAgdW5pcXVlSXRlbXM6IHRydWUsXG4gICAgaXRlbXMsXG4gIH07XG5cbiAgaWYgKGRlZi5taW5TaXplKSB7XG4gICAgc2NoZW1hLm1pbkl0ZW1zID0gZGVmLm1pblNpemUudmFsdWU7XG4gIH1cblxuICBpZiAoZGVmLm1heFNpemUpIHtcbiAgICBzY2hlbWEubWF4SXRlbXMgPSBkZWYubWF4U2l6ZS52YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBzY2hlbWE7XG59XG4iLCAiaW1wb3J0IHsgWm9kVHVwbGVEZWYsIFpvZFR1cGxlSXRlbXMsIFpvZFR5cGVBbnkgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN1R1cGxlVHlwZSA9IHtcbiAgdHlwZTogJ2FycmF5JztcbiAgbWluSXRlbXM6IG51bWJlcjtcbiAgaXRlbXM6IEpzb25TY2hlbWE3VHlwZVtdO1xufSAmIChcbiAgfCB7XG4gICAgICBtYXhJdGVtczogbnVtYmVyO1xuICAgIH1cbiAgfCB7XG4gICAgICBhZGRpdGlvbmFsSXRlbXM/OiBKc29uU2NoZW1hN1R5cGU7XG4gICAgfVxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVHVwbGVEZWYoXG4gIGRlZjogWm9kVHVwbGVEZWY8Wm9kVHVwbGVJdGVtcyB8IFtdLCBab2RUeXBlQW55IHwgbnVsbD4sXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1R1cGxlVHlwZSB7XG4gIGlmIChkZWYucmVzdCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgbWluSXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG4gICAgICBpdGVtczogZGVmLml0ZW1zXG4gICAgICAgIC5tYXAoKHgsIGkpID0+XG4gICAgICAgICAgcGFyc2VEZWYoeC5fZGVmLCB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnLCBgJHtpfWBdLFxuICAgICAgICAgIH0pLFxuICAgICAgICApXG4gICAgICAgIC5yZWR1Y2UoXG4gICAgICAgICAgKGFjYzogSnNvblNjaGVtYTdUeXBlW10sIHgpID0+ICh4ID09PSB1bmRlZmluZWQgPyBhY2MgOiBbLi4uYWNjLCB4XSksXG4gICAgICAgICAgW10sXG4gICAgICAgICksXG4gICAgICBhZGRpdGlvbmFsSXRlbXM6IHBhcnNlRGVmKGRlZi5yZXN0Ll9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWRkaXRpb25hbEl0ZW1zJ10sXG4gICAgICB9KSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgbWluSXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG4gICAgICBtYXhJdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgIGl0ZW1zOiBkZWYuaXRlbXNcbiAgICAgICAgLm1hcCgoeCwgaSkgPT5cbiAgICAgICAgICBwYXJzZURlZih4Ll9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsIGAke2l9YF0sXG4gICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgICAgLnJlZHVjZShcbiAgICAgICAgICAoYWNjOiBKc29uU2NoZW1hN1R5cGVbXSwgeCkgPT4gKHggPT09IHVuZGVmaW5lZCA/IGFjYyA6IFsuLi5hY2MsIHhdKSxcbiAgICAgICAgICBbXSxcbiAgICAgICAgKSxcbiAgICB9O1xuICB9XG59XG4iLCAiaW1wb3J0IHsgSnNvblNjaGVtYTdBbnlUeXBlLCBwYXJzZUFueURlZiB9IGZyb20gJy4vYW55JztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdVbmRlZmluZWRUeXBlID0ge1xuICBub3Q6IEpzb25TY2hlbWE3QW55VHlwZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVuZGVmaW5lZERlZigpOiBKc29uU2NoZW1hN1VuZGVmaW5lZFR5cGUge1xuICByZXR1cm4ge1xuICAgIG5vdDogcGFyc2VBbnlEZWYoKSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBKc29uU2NoZW1hN0FueVR5cGUsIHBhcnNlQW55RGVmIH0gZnJvbSAnLi9hbnknO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN1Vua25vd25UeXBlID0gSnNvblNjaGVtYTdBbnlUeXBlO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVbmtub3duRGVmKCk6IEpzb25TY2hlbWE3VW5rbm93blR5cGUge1xuICByZXR1cm4gcGFyc2VBbnlEZWYoKTtcbn1cbiIsICJpbXBvcnQgeyBab2RSZWFkb25seURlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCBjb25zdCBwYXJzZVJlYWRvbmx5RGVmID0gKGRlZjogWm9kUmVhZG9ubHlEZWY8YW55PiwgcmVmczogUmVmcykgPT4ge1xuICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbn07XG4iLCAiaW1wb3J0IHsgWm9kVHlwZURlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBSZWZzLCBTZWVuIH0gZnJvbSAnLi9yZWZzJztcbmltcG9ydCB7IGlnbm9yZU92ZXJyaWRlIH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgc2VsZWN0UGFyc2VyIH0gZnJvbSAnLi9zZWxlY3QtcGFyc2VyJztcbmltcG9ydCB7IGdldFJlbGF0aXZlUGF0aCB9IGZyb20gJy4vZ2V0LXJlbGF0aXZlLXBhdGgnO1xuaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tICcuL3BhcnNlcnMvYW55JztcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGVmKFxuICBkZWY6IFpvZFR5cGVEZWYsXG4gIHJlZnM6IFJlZnMsXG4gIGZvcmNlUmVzb2x1dGlvbiA9IGZhbHNlLCAvLyBGb3JjZXMgYSBuZXcgc2NoZW1hIHRvIGJlIGluc3RhbnRpYXRlZCBldmVuIHRob3VnaCBpdHMgZGVmIGhhcyBiZWVuIHNlZW4uIFVzZWQgZm9yIGltcHJvdmluZyByZWZzIGluIGRlZmluaXRpb25zLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1N0ZWZhblRlcmRlbGwvem9kLXRvLWpzb24tc2NoZW1hL3B1bGwvNjEuXG4pOiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQge1xuICBjb25zdCBzZWVuSXRlbSA9IHJlZnMuc2Vlbi5nZXQoZGVmKTtcblxuICBpZiAocmVmcy5vdmVycmlkZSkge1xuICAgIGNvbnN0IG92ZXJyaWRlUmVzdWx0ID0gcmVmcy5vdmVycmlkZT8uKFxuICAgICAgZGVmLFxuICAgICAgcmVmcyxcbiAgICAgIHNlZW5JdGVtLFxuICAgICAgZm9yY2VSZXNvbHV0aW9uLFxuICAgICk7XG5cbiAgICBpZiAob3ZlcnJpZGVSZXN1bHQgIT09IGlnbm9yZU92ZXJyaWRlKSB7XG4gICAgICByZXR1cm4gb3ZlcnJpZGVSZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNlZW5JdGVtICYmICFmb3JjZVJlc29sdXRpb24pIHtcbiAgICBjb25zdCBzZWVuU2NoZW1hID0gZ2V0JHJlZihzZWVuSXRlbSwgcmVmcyk7XG5cbiAgICBpZiAoc2VlblNjaGVtYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gc2VlblNjaGVtYTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBuZXdJdGVtOiBTZWVuID0geyBkZWYsIHBhdGg6IHJlZnMuY3VycmVudFBhdGgsIGpzb25TY2hlbWE6IHVuZGVmaW5lZCB9O1xuXG4gIHJlZnMuc2Vlbi5zZXQoZGVmLCBuZXdJdGVtKTtcblxuICBjb25zdCBqc29uU2NoZW1hT3JHZXR0ZXIgPSBzZWxlY3RQYXJzZXIoZGVmLCAoZGVmIGFzIGFueSkudHlwZU5hbWUsIHJlZnMpO1xuXG4gIC8vIElmIHRoZSByZXR1cm4gd2FzIGEgZnVuY3Rpb24sIHRoZW4gdGhlIGlubmVyIGRlZmluaXRpb24gbmVlZHMgdG8gYmUgZXh0cmFjdGVkIGJlZm9yZSBhIGNhbGwgdG8gcGFyc2VEZWYgKHJlY3Vyc2l2ZSlcbiAgY29uc3QganNvblNjaGVtYSA9XG4gICAgdHlwZW9mIGpzb25TY2hlbWFPckdldHRlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyBwYXJzZURlZihqc29uU2NoZW1hT3JHZXR0ZXIoKSwgcmVmcylcbiAgICAgIDoganNvblNjaGVtYU9yR2V0dGVyO1xuXG4gIGlmIChqc29uU2NoZW1hKSB7XG4gICAgYWRkTWV0YShkZWYsIHJlZnMsIGpzb25TY2hlbWEpO1xuICB9XG5cbiAgaWYgKHJlZnMucG9zdFByb2Nlc3MpIHtcbiAgICBjb25zdCBwb3N0UHJvY2Vzc1Jlc3VsdCA9IHJlZnMucG9zdFByb2Nlc3MoanNvblNjaGVtYSwgZGVmLCByZWZzKTtcblxuICAgIG5ld0l0ZW0uanNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG5cbiAgICByZXR1cm4gcG9zdFByb2Nlc3NSZXN1bHQ7XG4gIH1cblxuICBuZXdJdGVtLmpzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuXG4gIHJldHVybiBqc29uU2NoZW1hO1xufVxuXG5jb25zdCBnZXQkcmVmID0gKFxuICBpdGVtOiBTZWVuLFxuICByZWZzOiBSZWZzLFxuKTpcbiAgfCB7XG4gICAgICAkcmVmOiBzdHJpbmc7XG4gICAgfVxuICB8IHt9XG4gIHwgdW5kZWZpbmVkID0+IHtcbiAgc3dpdGNoIChyZWZzLiRyZWZTdHJhdGVneSkge1xuICAgIGNhc2UgJ3Jvb3QnOlxuICAgICAgcmV0dXJuIHsgJHJlZjogaXRlbS5wYXRoLmpvaW4oJy8nKSB9O1xuICAgIGNhc2UgJ3JlbGF0aXZlJzpcbiAgICAgIHJldHVybiB7ICRyZWY6IGdldFJlbGF0aXZlUGF0aChyZWZzLmN1cnJlbnRQYXRoLCBpdGVtLnBhdGgpIH07XG4gICAgY2FzZSAnbm9uZSc6XG4gICAgY2FzZSAnc2Vlbic6IHtcbiAgICAgIGlmIChcbiAgICAgICAgaXRlbS5wYXRoLmxlbmd0aCA8IHJlZnMuY3VycmVudFBhdGgubGVuZ3RoICYmXG4gICAgICAgIGl0ZW0ucGF0aC5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiByZWZzLmN1cnJlbnRQYXRoW2luZGV4XSA9PT0gdmFsdWUpXG4gICAgICApIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBSZWN1cnNpdmUgcmVmZXJlbmNlIGRldGVjdGVkIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKFxuICAgICAgICAgICAgJy8nLFxuICAgICAgICAgICl9ISBEZWZhdWx0aW5nIHRvIGFueWAsXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlQW55RGVmKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWZzLiRyZWZTdHJhdGVneSA9PT0gJ3NlZW4nID8gcGFyc2VBbnlEZWYoKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGFkZE1ldGEgPSAoXG4gIGRlZjogWm9kVHlwZURlZixcbiAgcmVmczogUmVmcyxcbiAganNvblNjaGVtYTogSnNvblNjaGVtYTdUeXBlLFxuKTogSnNvblNjaGVtYTdUeXBlID0+IHtcbiAgaWYgKGRlZi5kZXNjcmlwdGlvbikge1xuICAgIGpzb25TY2hlbWEuZGVzY3JpcHRpb24gPSBkZWYuZGVzY3JpcHRpb247XG4gIH1cbiAgcmV0dXJuIGpzb25TY2hlbWE7XG59O1xuIiwgImltcG9ydCB7IFpvZFR5cGVEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMsIE9wdGlvbnMgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi9wYXJzZS10eXBlcyc7XG5cbmV4cG9ydCB0eXBlIFJlZnMgPSB7XG4gIHNlZW46IE1hcDxab2RUeXBlRGVmLCBTZWVuPjtcbiAgY3VycmVudFBhdGg6IHN0cmluZ1tdO1xuICBwcm9wZXJ0eVBhdGg6IHN0cmluZ1tdIHwgdW5kZWZpbmVkO1xufSAmIE9wdGlvbnM7XG5cbmV4cG9ydCB0eXBlIFNlZW4gPSB7XG4gIGRlZjogWm9kVHlwZURlZjtcbiAgcGF0aDogc3RyaW5nW107XG4gIGpzb25TY2hlbWE6IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRSZWZzID0gKG9wdGlvbnM/OiBzdHJpbmcgfCBQYXJ0aWFsPE9wdGlvbnM+KTogUmVmcyA9PiB7XG4gIGNvbnN0IF9vcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMob3B0aW9ucyk7XG4gIGNvbnN0IGN1cnJlbnRQYXRoID1cbiAgICBfb3B0aW9ucy5uYW1lICE9PSB1bmRlZmluZWRcbiAgICAgID8gWy4uLl9vcHRpb25zLmJhc2VQYXRoLCBfb3B0aW9ucy5kZWZpbml0aW9uUGF0aCwgX29wdGlvbnMubmFtZV1cbiAgICAgIDogX29wdGlvbnMuYmFzZVBhdGg7XG4gIHJldHVybiB7XG4gICAgLi4uX29wdGlvbnMsXG4gICAgY3VycmVudFBhdGg6IGN1cnJlbnRQYXRoLFxuICAgIHByb3BlcnR5UGF0aDogdW5kZWZpbmVkLFxuICAgIHNlZW46IG5ldyBNYXAoXG4gICAgICBPYmplY3QuZW50cmllcyhfb3B0aW9ucy5kZWZpbml0aW9ucykubWFwKChbbmFtZSwgZGVmXSkgPT4gW1xuICAgICAgICBkZWYuX2RlZixcbiAgICAgICAge1xuICAgICAgICAgIGRlZjogZGVmLl9kZWYsXG4gICAgICAgICAgcGF0aDogWy4uLl9vcHRpb25zLmJhc2VQYXRoLCBfb3B0aW9ucy5kZWZpbml0aW9uUGF0aCwgbmFtZV0sXG4gICAgICAgICAgLy8gUmVzb2x1dGlvbiBvZiByZWZlcmVuY2VzIHdpbGwgYmUgZm9yY2VkIGV2ZW4gdGhvdWdoIHNlZW4sIHNvIGl0J3Mgb2sgdGhhdCB0aGUgc2NoZW1hIGlzIHVuZGVmaW5lZCBoZXJlIGZvciBub3cuXG4gICAgICAgICAganNvblNjaGVtYTogdW5kZWZpbmVkLFxuICAgICAgICB9LFxuICAgICAgXSksXG4gICAgKSxcbiAgfTtcbn07XG4iLCAiaW1wb3J0IHsgWm9kU2NoZW1hIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IE9wdGlvbnMgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IGdldFJlZnMgfSBmcm9tICcuL3JlZnMnO1xuaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tICcuL3BhcnNlcnMvYW55JztcblxuY29uc3Qgem9kVG9Kc29uU2NoZW1hID0gKFxuICBzY2hlbWE6IFpvZFNjaGVtYTxhbnk+LFxuICBvcHRpb25zPzogUGFydGlhbDxPcHRpb25zPiB8IHN0cmluZyxcbik6IEpzb25TY2hlbWE3VHlwZSAmIHtcbiAgJHNjaGVtYT86IHN0cmluZztcbiAgZGVmaW5pdGlvbnM/OiB7XG4gICAgW2tleTogc3RyaW5nXTogSnNvblNjaGVtYTdUeXBlO1xuICB9O1xufSA9PiB7XG4gIGNvbnN0IHJlZnMgPSBnZXRSZWZzKG9wdGlvbnMpO1xuXG4gIGxldCBkZWZpbml0aW9ucyA9XG4gICAgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMuZGVmaW5pdGlvbnNcbiAgICAgID8gT2JqZWN0LmVudHJpZXMob3B0aW9ucy5kZWZpbml0aW9ucykucmVkdWNlKFxuICAgICAgICAgIChhY2M6IHsgW2tleTogc3RyaW5nXTogSnNvblNjaGVtYTdUeXBlIH0sIFtuYW1lLCBzY2hlbWFdKSA9PiAoe1xuICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgW25hbWVdOlxuICAgICAgICAgICAgICBwYXJzZURlZihcbiAgICAgICAgICAgICAgICBzY2hlbWEuX2RlZixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmJhc2VQYXRoLCByZWZzLmRlZmluaXRpb25QYXRoLCBuYW1lXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICkgPz8gcGFyc2VBbnlEZWYoKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB7fSxcbiAgICAgICAgKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgY29uc3QgbmFtZSA9XG4gICAgdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnXG4gICAgICA/IG9wdGlvbnNcbiAgICAgIDogb3B0aW9ucz8ubmFtZVN0cmF0ZWd5ID09PSAndGl0bGUnXG4gICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgIDogb3B0aW9ucz8ubmFtZTtcblxuICBjb25zdCBtYWluID1cbiAgICBwYXJzZURlZihcbiAgICAgIHNjaGVtYS5fZGVmLFxuICAgICAgbmFtZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gcmVmc1xuICAgICAgICA6IHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuYmFzZVBhdGgsIHJlZnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLFxuICAgICAgICAgIH0sXG4gICAgICBmYWxzZSxcbiAgICApID8/IChwYXJzZUFueURlZigpIGFzIEpzb25TY2hlbWE3VHlwZSk7XG5cbiAgY29uc3QgdGl0bGUgPVxuICAgIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JyAmJlxuICAgIG9wdGlvbnMubmFtZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgb3B0aW9ucy5uYW1lU3RyYXRlZ3kgPT09ICd0aXRsZSdcbiAgICAgID8gb3B0aW9ucy5uYW1lXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICBpZiAodGl0bGUgIT09IHVuZGVmaW5lZCkge1xuICAgIG1haW4udGl0bGUgPSB0aXRsZTtcbiAgfVxuXG4gIGNvbnN0IGNvbWJpbmVkOiBSZXR1cm5UeXBlPHR5cGVvZiB6b2RUb0pzb25TY2hlbWE+ID1cbiAgICBuYW1lID09PSB1bmRlZmluZWRcbiAgICAgID8gZGVmaW5pdGlvbnNcbiAgICAgICAgPyB7XG4gICAgICAgICAgICAuLi5tYWluLFxuICAgICAgICAgICAgW3JlZnMuZGVmaW5pdGlvblBhdGhdOiBkZWZpbml0aW9ucyxcbiAgICAgICAgICB9XG4gICAgICAgIDogbWFpblxuICAgICAgOiB7XG4gICAgICAgICAgJHJlZjogW1xuICAgICAgICAgICAgLi4uKHJlZnMuJHJlZlN0cmF0ZWd5ID09PSAncmVsYXRpdmUnID8gW10gOiByZWZzLmJhc2VQYXRoKSxcbiAgICAgICAgICAgIHJlZnMuZGVmaW5pdGlvblBhdGgsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgIF0uam9pbignLycpLFxuICAgICAgICAgIFtyZWZzLmRlZmluaXRpb25QYXRoXToge1xuICAgICAgICAgICAgLi4uZGVmaW5pdGlvbnMsXG4gICAgICAgICAgICBbbmFtZV06IG1haW4sXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICBjb21iaW5lZC4kc2NoZW1hID0gJ2h0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIyc7XG5cbiAgcmV0dXJuIGNvbWJpbmVkO1xufTtcblxuZXhwb3J0IHsgem9kVG9Kc29uU2NoZW1hIH07XG4iLCAiZXhwb3J0ICogZnJvbSAnLi9nZXQtcmVsYXRpdmUtcGF0aCc7XG5leHBvcnQgKiBmcm9tICcuL29wdGlvbnMnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZS1kZWYnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZS10eXBlcyc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvYW55JztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9hcnJheSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvYmlnaW50JztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9ib29sZWFuJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9icmFuZGVkJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9jYXRjaCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvZGF0ZSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvZGVmYXVsdCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvZWZmZWN0cyc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvZW51bSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvaW50ZXJzZWN0aW9uJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9saXRlcmFsJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9tYXAnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL25hdGl2ZS1lbnVtJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9uZXZlcic7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvbnVsbCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvbnVsbGFibGUnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL251bWJlcic7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvb2JqZWN0JztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9vcHRpb25hbCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvcGlwZWxpbmUnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3Byb21pc2UnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3JlYWRvbmx5JztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9yZWNvcmQnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3NldCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvc3RyaW5nJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy90dXBsZSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvdW5kZWZpbmVkJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy91bmlvbic7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvdW5rbm93bic7XG5leHBvcnQgKiBmcm9tICcuL3JlZnMnO1xuZXhwb3J0ICogZnJvbSAnLi9zZWxlY3QtcGFyc2VyJztcbmV4cG9ydCAqIGZyb20gJy4vem9kLXRvLWpzb24tc2NoZW1hJztcbmltcG9ydCB7IHpvZFRvSnNvblNjaGVtYSB9IGZyb20gJy4vem9kLXRvLWpzb24tc2NoZW1hJztcbmV4cG9ydCBkZWZhdWx0IHpvZFRvSnNvblNjaGVtYTtcbiIsICJpbXBvcnQgeyBWYWxpZGF0b3IsIHZhbGlkYXRvclN5bWJvbCwgdHlwZSBWYWxpZGF0aW9uUmVzdWx0IH0gZnJvbSAnLi92YWxpZGF0b3InO1xuaW1wb3J0IHsgSlNPTlNjaGVtYTcgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCAqIGFzIHozIGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgKiBhcyB6NCBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgem9kU2NoZW1hIH0gZnJvbSAnLi96b2Qtc2NoZW1hJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hcmsgc2NoZW1hcyBzbyB3ZSBjYW4gc3VwcG9ydCBib3RoIFpvZCBhbmQgY3VzdG9tIHNjaGVtYXMuXG4gKi9cbmNvbnN0IHNjaGVtYVN5bWJvbCA9IFN5bWJvbC5mb3IoJ3ZlcmNlbC5haS5zY2hlbWEnKTtcblxuZXhwb3J0IHR5cGUgU2NoZW1hPE9CSkVDVCA9IHVua25vd24+ID0gVmFsaWRhdG9yPE9CSkVDVD4gJiB7XG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hcmsgc2NoZW1hcyBzbyB3ZSBjYW4gc3VwcG9ydCBib3RoIFpvZCBhbmQgY3VzdG9tIHNjaGVtYXMuXG4gICAqL1xuICBbc2NoZW1hU3ltYm9sXTogdHJ1ZTtcblxuICAvKipcbiAgICogU2NoZW1hIHR5cGUgZm9yIGluZmVyZW5jZS5cbiAgICovXG4gIF90eXBlOiBPQkpFQ1Q7XG5cbiAgLyoqXG4gICAqIFRoZSBKU09OIFNjaGVtYSBmb3IgdGhlIHNjaGVtYS4gSXQgaXMgcGFzc2VkIHRvIHRoZSBwcm92aWRlcnMuXG4gICAqL1xuICByZWFkb25seSBqc29uU2NoZW1hOiBKU09OU2NoZW1hNztcbn07XG5cbi8vIE5vdGU6IFpvZCB0eXBlcyBoZXJlIGV4YWN0bHkgbWF0Y2ggdGhlIHR5cGVzIGluIHpvZC1zY2hlbWEudHNcbi8vIHRvIHByZXZlbnQgdHlwZSBlcnJvcnMgd2hlbiB1c2luZyB6b2Qgc2NoZW1hcyB3aXRoIGZsZXhpYmxlIHNjaGVtYXMuXG5leHBvcnQgdHlwZSBGbGV4aWJsZVNjaGVtYTxUPiA9XG4gIHwgejQuY29yZS4kWm9kVHlwZTxULCBhbnk+XG4gIHwgejMuU2NoZW1hPFQsIHozLlpvZFR5cGVEZWYsIGFueT5cbiAgfCBTY2hlbWE8VD47XG5cbmV4cG9ydCB0eXBlIEluZmVyU2NoZW1hPFNDSEVNQT4gPSBTQ0hFTUEgZXh0ZW5kcyB6My5TY2hlbWFcbiAgPyB6My5pbmZlcjxTQ0hFTUE+XG4gIDogU0NIRU1BIGV4dGVuZHMgejQuY29yZS4kWm9kVHlwZVxuICAgID8gejQuaW5mZXI8U0NIRU1BPlxuICAgIDogU0NIRU1BIGV4dGVuZHMgU2NoZW1hPGluZmVyIFQ+XG4gICAgICA/IFRcbiAgICAgIDogbmV2ZXI7XG5cbi8qKlxuICogQ3JlYXRlIGEgc2NoZW1hIHVzaW5nIGEgSlNPTiBTY2hlbWEuXG4gKlxuICogQHBhcmFtIGpzb25TY2hlbWEgVGhlIEpTT04gU2NoZW1hIGZvciB0aGUgc2NoZW1hLlxuICogQHBhcmFtIG9wdGlvbnMudmFsaWRhdGUgT3B0aW9uYWwuIEEgdmFsaWRhdGlvbiBmdW5jdGlvbiBmb3IgdGhlIHNjaGVtYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGpzb25TY2hlbWE8T0JKRUNUID0gdW5rbm93bj4oXG4gIGpzb25TY2hlbWE6IEpTT05TY2hlbWE3LFxuICB7XG4gICAgdmFsaWRhdGUsXG4gIH06IHtcbiAgICB2YWxpZGF0ZT86IChcbiAgICAgIHZhbHVlOiB1bmtub3duLFxuICAgICkgPT4gVmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+IHwgUHJvbWlzZUxpa2U8VmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+PjtcbiAgfSA9IHt9LFxuKTogU2NoZW1hPE9CSkVDVD4ge1xuICByZXR1cm4ge1xuICAgIFtzY2hlbWFTeW1ib2xdOiB0cnVlLFxuICAgIF90eXBlOiB1bmRlZmluZWQgYXMgT0JKRUNULCAvLyBzaG91bGQgbmV2ZXIgYmUgdXNlZCBkaXJlY3RseVxuICAgIFt2YWxpZGF0b3JTeW1ib2xdOiB0cnVlLFxuICAgIGpzb25TY2hlbWEsXG4gICAgdmFsaWRhdGUsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzU2NoZW1hKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgU2NoZW1hIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICBzY2hlbWFTeW1ib2wgaW4gdmFsdWUgJiZcbiAgICB2YWx1ZVtzY2hlbWFTeW1ib2xdID09PSB0cnVlICYmXG4gICAgJ2pzb25TY2hlbWEnIGluIHZhbHVlICYmXG4gICAgJ3ZhbGlkYXRlJyBpbiB2YWx1ZVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNTY2hlbWE8T0JKRUNUPihcbiAgc2NoZW1hOlxuICAgIHwgejQuY29yZS4kWm9kVHlwZTxPQkpFQ1QsIGFueT5cbiAgICB8IHozLlNjaGVtYTxPQkpFQ1QsIHozLlpvZFR5cGVEZWYsIGFueT5cbiAgICB8IFNjaGVtYTxPQkpFQ1Q+XG4gICAgfCB1bmRlZmluZWQsXG4pOiBTY2hlbWE8T0JKRUNUPiB7XG4gIHJldHVybiBzY2hlbWEgPT0gbnVsbFxuICAgID8ganNvblNjaGVtYSh7XG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICB9KVxuICAgIDogaXNTY2hlbWEoc2NoZW1hKVxuICAgICAgPyBzY2hlbWFcbiAgICAgIDogem9kU2NoZW1hKHNjaGVtYSk7XG59XG4iLCAiLy8gYnRvYSBhbmQgYXRvYiBuZWVkIHRvIGJlIGludm9rZWQgYXMgYSBmdW5jdGlvbiBjYWxsLCBub3QgYXMgYSBtZXRob2QgY2FsbC5cbi8vIE90aGVyd2lzZSBDbG91ZEZsYXJlIHdpbGwgdGhyb3cgYVxuLy8gXCJUeXBlRXJyb3I6IElsbGVnYWwgaW52b2NhdGlvbjogZnVuY3Rpb24gY2FsbGVkIHdpdGggaW5jb3JyZWN0IHRoaXMgcmVmZXJlbmNlXCJcbmNvbnN0IHsgYnRvYSwgYXRvYiB9ID0gZ2xvYmFsVGhpcztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0U3RyaW5nOiBzdHJpbmcpIHtcbiAgY29uc3QgYmFzZTY0VXJsID0gYmFzZTY0U3RyaW5nLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gIGNvbnN0IGxhdGluMXN0cmluZyA9IGF0b2IoYmFzZTY0VXJsKTtcbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShsYXRpbjFzdHJpbmcsIGJ5dGUgPT4gYnl0ZS5jb2RlUG9pbnRBdCgwKSEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChhcnJheTogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGxldCBsYXRpbjFzdHJpbmcgPSAnJztcblxuICAvLyBOb3RlOiByZWd1bGFyIGZvciBsb29wIHRvIHN1cHBvcnQgb2xkZXIgSmF2YVNjcmlwdCB2ZXJzaW9ucyB0aGF0XG4gIC8vIGRvIG5vdCBzdXBwb3J0IGZvci4ub2Ygb24gVWludDhBcnJheVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgbGF0aW4xc3RyaW5nICs9IFN0cmluZy5mcm9tQ29kZVBvaW50KGFycmF5W2ldKTtcbiAgfVxuXG4gIHJldHVybiBidG9hKGxhdGluMXN0cmluZyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9CYXNlNjQodmFsdWU6IHN0cmluZyB8IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCh2YWx1ZSkgOiB2YWx1ZTtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gd2l0aG91dFRyYWlsaW5nU2xhc2godXJsOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgcmV0dXJuIHVybD8ucmVwbGFjZSgvXFwvJC8sICcnKTtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlPFQgPSBhbnk+KG9iajogYW55KTogb2JqIGlzIEFzeW5jSXRlcmFibGU8VD4ge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgdHlwZW9mIG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG59XG4iLCAiaW1wb3J0IHsgVG9vbCwgVG9vbENhbGxPcHRpb25zLCBUb29sRXhlY3V0ZUZ1bmN0aW9uIH0gZnJvbSAnLi90b29sJztcbmltcG9ydCB7IGlzQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4uL2lzLWFzeW5jLWl0ZXJhYmxlJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiBleGVjdXRlVG9vbDxJTlBVVCwgT1VUUFVUPih7XG4gIGV4ZWN1dGUsXG4gIGlucHV0LFxuICBvcHRpb25zLFxufToge1xuICBleGVjdXRlOiBUb29sRXhlY3V0ZUZ1bmN0aW9uPElOUFVULCBPVVRQVVQ+O1xuICBpbnB1dDogSU5QVVQ7XG4gIG9wdGlvbnM6IFRvb2xDYWxsT3B0aW9ucztcbn0pOiBBc3luY0dlbmVyYXRvcjxcbiAgeyB0eXBlOiAncHJlbGltaW5hcnknOyBvdXRwdXQ6IE9VVFBVVCB9IHwgeyB0eXBlOiAnZmluYWwnOyBvdXRwdXQ6IE9VVFBVVCB9XG4+IHtcbiAgY29uc3QgcmVzdWx0ID0gZXhlY3V0ZShpbnB1dCwgb3B0aW9ucyk7XG5cbiAgaWYgKGlzQXN5bmNJdGVyYWJsZShyZXN1bHQpKSB7XG4gICAgbGV0IGxhc3RPdXRwdXQ6IE9VVFBVVCB8IHVuZGVmaW5lZDtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IG91dHB1dCBvZiByZXN1bHQpIHtcbiAgICAgIGxhc3RPdXRwdXQgPSBvdXRwdXQ7XG4gICAgICB5aWVsZCB7IHR5cGU6ICdwcmVsaW1pbmFyeScsIG91dHB1dCB9O1xuICAgIH1cbiAgICB5aWVsZCB7IHR5cGU6ICdmaW5hbCcsIG91dHB1dDogbGFzdE91dHB1dCEgfTtcbiAgfSBlbHNlIHtcbiAgICB5aWVsZCB7IHR5cGU6ICdmaW5hbCcsIG91dHB1dDogYXdhaXQgcmVzdWx0IH07XG4gIH1cbn1cbiIsICJleHBvcnQgKiBmcm9tICcuL2NvbWJpbmUtaGVhZGVycyc7XG5leHBvcnQgeyBjb252ZXJ0QXN5bmNJdGVyYXRvclRvUmVhZGFibGVTdHJlYW0gfSBmcm9tICcuL2NvbnZlcnQtYXN5bmMtaXRlcmF0b3ItdG8tcmVhZGFibGUtc3RyZWFtJztcbmV4cG9ydCAqIGZyb20gJy4vZGVsYXknO1xuZXhwb3J0ICogZnJvbSAnLi9leHRyYWN0LXJlc3BvbnNlLWhlYWRlcnMnO1xuZXhwb3J0ICogZnJvbSAnLi9mZXRjaC1mdW5jdGlvbic7XG5leHBvcnQgeyBnZXRSdW50aW1lRW52aXJvbm1lbnRVc2VyQWdlbnQgfSBmcm9tICcuL2dldC1ydW50aW1lLWVudmlyb25tZW50LXVzZXItYWdlbnQnO1xuZXhwb3J0IHsgd2l0aFVzZXJBZ2VudFN1ZmZpeCB9IGZyb20gJy4vd2l0aC11c2VyLWFnZW50LXN1ZmZpeCc7XG5leHBvcnQgeyBjcmVhdGVJZEdlbmVyYXRvciwgZ2VuZXJhdGVJZCwgdHlwZSBJZEdlbmVyYXRvciB9IGZyb20gJy4vZ2VuZXJhdGUtaWQnO1xuZXhwb3J0ICogZnJvbSAnLi9nZXQtZXJyb3ItbWVzc2FnZSc7XG5leHBvcnQgKiBmcm9tICcuL2dldC1mcm9tLWFwaSc7XG5leHBvcnQgeyBpbmplY3RKc29uSW5zdHJ1Y3Rpb25JbnRvTWVzc2FnZXMgfSBmcm9tICcuL2luamVjdC1qc29uLWluc3RydWN0aW9uJztcbmV4cG9ydCAqIGZyb20gJy4vaXMtYWJvcnQtZXJyb3InO1xuZXhwb3J0IHsgaXNVcmxTdXBwb3J0ZWQgfSBmcm9tICcuL2lzLXVybC1zdXBwb3J0ZWQnO1xuZXhwb3J0ICogZnJvbSAnLi9sb2FkLWFwaS1rZXknO1xuZXhwb3J0IHsgbG9hZE9wdGlvbmFsU2V0dGluZyB9IGZyb20gJy4vbG9hZC1vcHRpb25hbC1zZXR0aW5nJztcbmV4cG9ydCB7IGxvYWRTZXR0aW5nIH0gZnJvbSAnLi9sb2FkLXNldHRpbmcnO1xuZXhwb3J0IHsgbWVkaWFUeXBlVG9FeHRlbnNpb24gfSBmcm9tICcuL21lZGlhLXR5cGUtdG8tZXh0ZW5zaW9uJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2UtanNvbic7XG5leHBvcnQgeyBwYXJzZUpzb25FdmVudFN0cmVhbSB9IGZyb20gJy4vcGFyc2UtanNvbi1ldmVudC1zdHJlYW0nO1xuZXhwb3J0IHsgcGFyc2VQcm92aWRlck9wdGlvbnMgfSBmcm9tICcuL3BhcnNlLXByb3ZpZGVyLW9wdGlvbnMnO1xuZXhwb3J0ICogZnJvbSAnLi9wb3N0LXRvLWFwaSc7XG5leHBvcnQge1xuICBjcmVhdGVQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeSxcbiAgY3JlYXRlUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3RvcnlXaXRoT3V0cHV0U2NoZW1hLFxuICB0eXBlIFByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5LFxuICB0eXBlIFByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5V2l0aE91dHB1dFNjaGVtYSxcbn0gZnJvbSAnLi9wcm92aWRlci1kZWZpbmVkLXRvb2wtZmFjdG9yeSc7XG5leHBvcnQgKiBmcm9tICcuL3JlbW92ZS11bmRlZmluZWQtZW50cmllcyc7XG5leHBvcnQgKiBmcm9tICcuL3Jlc29sdmUnO1xuZXhwb3J0ICogZnJvbSAnLi9yZXNwb25zZS1oYW5kbGVyJztcbmV4cG9ydCB7XG4gIGFzU2NoZW1hLFxuICBqc29uU2NoZW1hLFxuICB0eXBlIEZsZXhpYmxlU2NoZW1hLFxuICB0eXBlIEluZmVyU2NoZW1hLFxuICB0eXBlIFNjaGVtYSxcbn0gZnJvbSAnLi9zY2hlbWEnO1xuZXhwb3J0ICogZnJvbSAnLi91aW50OC11dGlscyc7XG5leHBvcnQgKiBmcm9tICcuL3ZhbGlkYXRlLXR5cGVzJztcbmV4cG9ydCAqIGZyb20gJy4vdmFsaWRhdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vd2l0aG91dC10cmFpbGluZy1zbGFzaCc7XG5leHBvcnQgeyB6b2RTY2hlbWEgfSBmcm9tICcuL3pvZC1zY2hlbWEnO1xuXG4vLyBmb2xkZXIgcmUtZXhwb3J0c1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5cbi8vIGV4dGVybmFsIHJlLWV4cG9ydHNcbmV4cG9ydCAqIGZyb20gJ0BzdGFuZGFyZC1zY2hlbWEvc3BlYyc7XG5leHBvcnQge1xuICBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSxcbiAgdHlwZSBFdmVudFNvdXJjZU1lc3NhZ2UsXG59IGZyb20gJ2V2ZW50c291cmNlLXBhcnNlci9zdHJlYW0nO1xuXG4vLyB1c2VyLWFnZW50IGV4cG9ydHNcbmV4cG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL3ZlcnNpb24nO1xuIiwgImltcG9ydCB7IE5vU3VjaE1vZGVsRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGxvYWRPcHRpb25hbFNldHRpbmcsXG4gIHdpdGhvdXRUcmFpbGluZ1NsYXNoLFxuICB0eXBlIEZldGNoRnVuY3Rpb24sXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgYXNHYXRld2F5RXJyb3IsIEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHtcbiAgR0FURVdBWV9BVVRIX01FVEhPRF9IRUFERVIsXG4gIHBhcnNlQXV0aE1ldGhvZCxcbn0gZnJvbSAnLi9lcnJvcnMvcGFyc2UtYXV0aC1tZXRob2QnO1xuaW1wb3J0IHtcbiAgR2F0ZXdheUZldGNoTWV0YWRhdGEsXG4gIHR5cGUgR2F0ZXdheUZldGNoTWV0YWRhdGFSZXNwb25zZSxcbn0gZnJvbSAnLi9nYXRld2F5LWZldGNoLW1ldGFkYXRhJztcbmltcG9ydCB7IEdhdGV3YXlMYW5ndWFnZU1vZGVsIH0gZnJvbSAnLi9nYXRld2F5LWxhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IEdhdGV3YXlFbWJlZGRpbmdNb2RlbCB9IGZyb20gJy4vZ2F0ZXdheS1lbWJlZGRpbmctbW9kZWwnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5RW1iZWRkaW5nTW9kZWxJZCB9IGZyb20gJy4vZ2F0ZXdheS1lbWJlZGRpbmctbW9kZWwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgZ2V0VmVyY2VsT2lkY1Rva2VuLCBnZXRWZXJjZWxSZXF1ZXN0SWQgfSBmcm9tICcuL3ZlcmNlbC1lbnZpcm9ubWVudCc7XG5pbXBvcnQgdHlwZSB7IEdhdGV3YXlNb2RlbElkIH0gZnJvbSAnLi9nYXRld2F5LWxhbmd1YWdlLW1vZGVsLXNldHRpbmdzJztcbmltcG9ydCB0eXBlIHtcbiAgTGFuZ3VhZ2VNb2RlbFYyLFxuICBFbWJlZGRpbmdNb2RlbFYyLFxuICBQcm92aWRlclYyLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuZXhwb3J0IGludGVyZmFjZSBHYXRld2F5UHJvdmlkZXIgZXh0ZW5kcyBQcm92aWRlclYyIHtcbiAgKG1vZGVsSWQ6IEdhdGV3YXlNb2RlbElkKTogTGFuZ3VhZ2VNb2RlbFYyO1xuXG4gIC8qKlxuQ3JlYXRlcyBhIG1vZGVsIGZvciB0ZXh0IGdlbmVyYXRpb24uXG4qL1xuICBsYW5ndWFnZU1vZGVsKG1vZGVsSWQ6IEdhdGV3YXlNb2RlbElkKTogTGFuZ3VhZ2VNb2RlbFYyO1xuXG4gIC8qKlxuUmV0dXJucyBhdmFpbGFibGUgcHJvdmlkZXJzIGFuZCBtb2RlbHMgZm9yIHVzZSB3aXRoIHRoZSByZW1vdGUgcHJvdmlkZXIuXG4gKi9cbiAgZ2V0QXZhaWxhYmxlTW9kZWxzKCk6IFByb21pc2U8R2F0ZXdheUZldGNoTWV0YWRhdGFSZXNwb25zZT47XG5cbiAgLyoqXG5DcmVhdGVzIGEgbW9kZWwgZm9yIGdlbmVyYXRpbmcgdGV4dCBlbWJlZGRpbmdzLlxuKi9cbiAgdGV4dEVtYmVkZGluZ01vZGVsKFxuICAgIG1vZGVsSWQ6IEdhdGV3YXlFbWJlZGRpbmdNb2RlbElkLFxuICApOiBFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2F0ZXdheVByb3ZpZGVyU2V0dGluZ3Mge1xuICAvKipcblRoZSBiYXNlIFVSTCBwcmVmaXggZm9yIEFQSSBjYWxscy4gRGVmYXVsdHMgdG8gYGh0dHBzOi8vYWktZ2F0ZXdheS52ZXJjZWwuc2gvdjEvYWlgLlxuICAgKi9cbiAgYmFzZVVSTD86IHN0cmluZztcblxuICAvKipcbkFQSSBrZXkgdGhhdCBpcyBiZWluZyBzZW50IHVzaW5nIHRoZSBgQXV0aG9yaXphdGlvbmAgaGVhZGVyLlxuICAgKi9cbiAgYXBpS2V5Pzogc3RyaW5nO1xuXG4gIC8qKlxuQ3VzdG9tIGhlYWRlcnMgdG8gaW5jbHVkZSBpbiB0aGUgcmVxdWVzdHMuXG4gICAgICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG4gIC8qKlxuQ3VzdG9tIGZldGNoIGltcGxlbWVudGF0aW9uLiBZb3UgY2FuIHVzZSBpdCBhcyBhIG1pZGRsZXdhcmUgdG8gaW50ZXJjZXB0IHJlcXVlc3RzLFxub3IgdG8gcHJvdmlkZSBhIGN1c3RvbSBmZXRjaCBpbXBsZW1lbnRhdGlvbiBmb3IgZS5nLiB0ZXN0aW5nLlxuICAgICovXG4gIGZldGNoPzogRmV0Y2hGdW5jdGlvbjtcblxuICAvKipcbkhvdyBmcmVxdWVudGx5IHRvIHJlZnJlc2ggdGhlIG1ldGFkYXRhIGNhY2hlIGluIG1pbGxpc2Vjb25kcy5cbiAgICovXG4gIG1ldGFkYXRhQ2FjaGVSZWZyZXNoTWlsbGlzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWwgRm9yIHRlc3RpbmcgcHVycG9zZXMgb25seVxuICAgKi9cbiAgX2ludGVybmFsPzoge1xuICAgIGN1cnJlbnREYXRlPzogKCkgPT4gRGF0ZTtcbiAgfTtcbn1cblxuY29uc3QgQUlfR0FURVdBWV9QUk9UT0NPTF9WRVJTSU9OID0gJzAuMC4xJztcblxuLyoqXG5DcmVhdGUgYSByZW1vdGUgcHJvdmlkZXIgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHYXRld2F5UHJvdmlkZXIoXG4gIG9wdGlvbnM6IEdhdGV3YXlQcm92aWRlclNldHRpbmdzID0ge30sXG4pOiBHYXRld2F5UHJvdmlkZXIge1xuICBsZXQgcGVuZGluZ01ldGFkYXRhOiBQcm9taXNlPEdhdGV3YXlGZXRjaE1ldGFkYXRhUmVzcG9uc2U+IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtZXRhZGF0YUNhY2hlOiBHYXRld2F5RmV0Y2hNZXRhZGF0YVJlc3BvbnNlIHwgbnVsbCA9IG51bGw7XG4gIGNvbnN0IGNhY2hlUmVmcmVzaE1pbGxpcyA9XG4gICAgb3B0aW9ucy5tZXRhZGF0YUNhY2hlUmVmcmVzaE1pbGxpcyA/PyAxMDAwICogNjAgKiA1O1xuICBsZXQgbGFzdEZldGNoVGltZSA9IDA7XG5cbiAgY29uc3QgYmFzZVVSTCA9XG4gICAgd2l0aG91dFRyYWlsaW5nU2xhc2gob3B0aW9ucy5iYXNlVVJMKSA/P1xuICAgICdodHRwczovL2FpLWdhdGV3YXkudmVyY2VsLnNoL3YxL2FpJztcblxuICBjb25zdCBnZXRIZWFkZXJzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGF1dGggPSBhd2FpdCBnZXRHYXRld2F5QXV0aFRva2VuKG9wdGlvbnMpO1xuICAgIGlmIChhdXRoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXV0aC50b2tlbn1gLFxuICAgICAgICAnYWktZ2F0ZXdheS1wcm90b2NvbC12ZXJzaW9uJzogQUlfR0FURVdBWV9QUk9UT0NPTF9WRVJTSU9OLFxuICAgICAgICBbR0FURVdBWV9BVVRIX01FVEhPRF9IRUFERVJdOiBhdXRoLmF1dGhNZXRob2QsXG4gICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhyb3cgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3IuY3JlYXRlQ29udGV4dHVhbEVycm9yKHtcbiAgICAgIGFwaUtleVByb3ZpZGVkOiBmYWxzZSxcbiAgICAgIG9pZGNUb2tlblByb3ZpZGVkOiBmYWxzZSxcbiAgICAgIHN0YXR1c0NvZGU6IDQwMSxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVPMTF5SGVhZGVycyA9ICgpID0+IHtcbiAgICBjb25zdCBkZXBsb3ltZW50SWQgPSBsb2FkT3B0aW9uYWxTZXR0aW5nKHtcbiAgICAgIHNldHRpbmdWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWU6ICdWRVJDRUxfREVQTE9ZTUVOVF9JRCcsXG4gICAgfSk7XG4gICAgY29uc3QgZW52aXJvbm1lbnQgPSBsb2FkT3B0aW9uYWxTZXR0aW5nKHtcbiAgICAgIHNldHRpbmdWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWU6ICdWRVJDRUxfRU5WJyxcbiAgICB9KTtcbiAgICBjb25zdCByZWdpb24gPSBsb2FkT3B0aW9uYWxTZXR0aW5nKHtcbiAgICAgIHNldHRpbmdWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWU6ICdWRVJDRUxfUkVHSU9OJyxcbiAgICB9KTtcblxuICAgIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0SWQgPSBhd2FpdCBnZXRWZXJjZWxSZXF1ZXN0SWQoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLihkZXBsb3ltZW50SWQgJiYgeyAnYWktbzExeS1kZXBsb3ltZW50LWlkJzogZGVwbG95bWVudElkIH0pLFxuICAgICAgICAuLi4oZW52aXJvbm1lbnQgJiYgeyAnYWktbzExeS1lbnZpcm9ubWVudCc6IGVudmlyb25tZW50IH0pLFxuICAgICAgICAuLi4ocmVnaW9uICYmIHsgJ2FpLW8xMXktcmVnaW9uJzogcmVnaW9uIH0pLFxuICAgICAgICAuLi4ocmVxdWVzdElkICYmIHsgJ2FpLW8xMXktcmVxdWVzdC1pZCc6IHJlcXVlc3RJZCB9KSxcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVMYW5ndWFnZU1vZGVsID0gKG1vZGVsSWQ6IEdhdGV3YXlNb2RlbElkKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBHYXRld2F5TGFuZ3VhZ2VNb2RlbChtb2RlbElkLCB7XG4gICAgICBwcm92aWRlcjogJ2dhdGV3YXknLFxuICAgICAgYmFzZVVSTCxcbiAgICAgIGhlYWRlcnM6IGdldEhlYWRlcnMsXG4gICAgICBmZXRjaDogb3B0aW9ucy5mZXRjaCxcbiAgICAgIG8xMXlIZWFkZXJzOiBjcmVhdGVPMTF5SGVhZGVycygpLFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGdldEF2YWlsYWJsZU1vZGVscyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBub3cgPSBvcHRpb25zLl9pbnRlcm5hbD8uY3VycmVudERhdGU/LigpLmdldFRpbWUoKSA/PyBEYXRlLm5vdygpO1xuICAgIGlmICghcGVuZGluZ01ldGFkYXRhIHx8IG5vdyAtIGxhc3RGZXRjaFRpbWUgPiBjYWNoZVJlZnJlc2hNaWxsaXMpIHtcbiAgICAgIGxhc3RGZXRjaFRpbWUgPSBub3c7XG5cbiAgICAgIHBlbmRpbmdNZXRhZGF0YSA9IG5ldyBHYXRld2F5RmV0Y2hNZXRhZGF0YSh7XG4gICAgICAgIGJhc2VVUkwsXG4gICAgICAgIGhlYWRlcnM6IGdldEhlYWRlcnMsXG4gICAgICAgIGZldGNoOiBvcHRpb25zLmZldGNoLFxuICAgICAgfSlcbiAgICAgICAgLmdldEF2YWlsYWJsZU1vZGVscygpXG4gICAgICAgIC50aGVuKG1ldGFkYXRhID0+IHtcbiAgICAgICAgICBtZXRhZGF0YUNhY2hlID0gbWV0YWRhdGE7XG4gICAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goYXN5bmMgKGVycm9yOiB1bmtub3duKSA9PiB7XG4gICAgICAgICAgdGhyb3cgYXNHYXRld2F5RXJyb3IoZXJyb3IsIHBhcnNlQXV0aE1ldGhvZChhd2FpdCBnZXRIZWFkZXJzKCkpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1ldGFkYXRhQ2FjaGUgPyBQcm9taXNlLnJlc29sdmUobWV0YWRhdGFDYWNoZSkgOiBwZW5kaW5nTWV0YWRhdGE7XG4gIH07XG5cbiAgY29uc3QgcHJvdmlkZXIgPSBmdW5jdGlvbiAobW9kZWxJZDogR2F0ZXdheU1vZGVsSWQpIHtcbiAgICBpZiAobmV3LnRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIEdhdGV3YXkgUHJvdmlkZXIgbW9kZWwgZnVuY3Rpb24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcga2V5d29yZC4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlTGFuZ3VhZ2VNb2RlbChtb2RlbElkKTtcbiAgfTtcblxuICBwcm92aWRlci5nZXRBdmFpbGFibGVNb2RlbHMgPSBnZXRBdmFpbGFibGVNb2RlbHM7XG4gIHByb3ZpZGVyLmltYWdlTW9kZWwgPSAobW9kZWxJZDogc3RyaW5nKSA9PiB7XG4gICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IoeyBtb2RlbElkLCBtb2RlbFR5cGU6ICdpbWFnZU1vZGVsJyB9KTtcbiAgfTtcbiAgcHJvdmlkZXIubGFuZ3VhZ2VNb2RlbCA9IGNyZWF0ZUxhbmd1YWdlTW9kZWw7XG4gIHByb3ZpZGVyLnRleHRFbWJlZGRpbmdNb2RlbCA9IChtb2RlbElkOiBHYXRld2F5RW1iZWRkaW5nTW9kZWxJZCkgPT4ge1xuICAgIHJldHVybiBuZXcgR2F0ZXdheUVtYmVkZGluZ01vZGVsKG1vZGVsSWQsIHtcbiAgICAgIHByb3ZpZGVyOiAnZ2F0ZXdheScsXG4gICAgICBiYXNlVVJMLFxuICAgICAgaGVhZGVyczogZ2V0SGVhZGVycyxcbiAgICAgIGZldGNoOiBvcHRpb25zLmZldGNoLFxuICAgICAgbzExeUhlYWRlcnM6IGNyZWF0ZU8xMXlIZWFkZXJzKCksXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHByb3ZpZGVyO1xufVxuXG5leHBvcnQgY29uc3QgZ2F0ZXdheSA9IGNyZWF0ZUdhdGV3YXlQcm92aWRlcigpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0R2F0ZXdheUF1dGhUb2tlbihcbiAgb3B0aW9uczogR2F0ZXdheVByb3ZpZGVyU2V0dGluZ3MsXG4pOiBQcm9taXNlPHtcbiAgdG9rZW46IHN0cmluZztcbiAgYXV0aE1ldGhvZDogJ2FwaS1rZXknIHwgJ29pZGMnO1xufSB8IG51bGw+IHtcbiAgY29uc3QgYXBpS2V5ID0gbG9hZE9wdGlvbmFsU2V0dGluZyh7XG4gICAgc2V0dGluZ1ZhbHVlOiBvcHRpb25zLmFwaUtleSxcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZTogJ0FJX0dBVEVXQVlfQVBJX0tFWScsXG4gIH0pO1xuXG4gIGlmIChhcGlLZXkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW46IGFwaUtleSxcbiAgICAgIGF1dGhNZXRob2Q6ICdhcGkta2V5JyxcbiAgICB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBvaWRjVG9rZW4gPSBhd2FpdCBnZXRWZXJjZWxPaWRjVG9rZW4oKTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW46IG9pZGNUb2tlbixcbiAgICAgIGF1dGhNZXRob2Q6ICdvaWRjJyxcbiAgICB9O1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFQSUNhbGxFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgZXh0cmFjdEFwaUNhbGxSZXNwb25zZSwgR2F0ZXdheUVycm9yIH0gZnJvbSAnLic7XG5pbXBvcnQgeyBjcmVhdGVHYXRld2F5RXJyb3JGcm9tUmVzcG9uc2UgfSBmcm9tICcuL2NyZWF0ZS1nYXRld2F5LWVycm9yJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFzR2F0ZXdheUVycm9yKFxuICBlcnJvcjogdW5rbm93bixcbiAgYXV0aE1ldGhvZD86ICdhcGkta2V5JyB8ICdvaWRjJyxcbikge1xuICBpZiAoR2F0ZXdheUVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgaWYgKEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgIHJldHVybiBjcmVhdGVHYXRld2F5RXJyb3JGcm9tUmVzcG9uc2Uoe1xuICAgICAgcmVzcG9uc2U6IGV4dHJhY3RBcGlDYWxsUmVzcG9uc2UoZXJyb3IpLFxuICAgICAgc3RhdHVzQ29kZTogZXJyb3Iuc3RhdHVzQ29kZSA/PyA1MDAsXG4gICAgICBkZWZhdWx0TWVzc2FnZTogJ0dhdGV3YXkgcmVxdWVzdCBmYWlsZWQnLFxuICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgYXV0aE1ldGhvZCxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVHYXRld2F5RXJyb3JGcm9tUmVzcG9uc2Uoe1xuICAgIHJlc3BvbnNlOiB7fSxcbiAgICBzdGF0dXNDb2RlOiA1MDAsXG4gICAgZGVmYXVsdE1lc3NhZ2U6XG4gICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgID8gYEdhdGV3YXkgcmVxdWVzdCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gXG4gICAgICAgIDogJ1Vua25vd24gR2F0ZXdheSBlcnJvcicsXG4gICAgY2F1c2U6IGVycm9yLFxuICAgIGF1dGhNZXRob2QsXG4gIH0pO1xufVxuIiwgImltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5RXJyb3IgfSBmcm9tICcuL2dhdGV3YXktZXJyb3InO1xuaW1wb3J0IHsgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3IgfSBmcm9tICcuL2dhdGV3YXktYXV0aGVudGljYXRpb24tZXJyb3InO1xuaW1wb3J0IHsgR2F0ZXdheUludmFsaWRSZXF1ZXN0RXJyb3IgfSBmcm9tICcuL2dhdGV3YXktaW52YWxpZC1yZXF1ZXN0LWVycm9yJztcbmltcG9ydCB7IEdhdGV3YXlSYXRlTGltaXRFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1yYXRlLWxpbWl0LWVycm9yJztcbmltcG9ydCB7XG4gIEdhdGV3YXlNb2RlbE5vdEZvdW5kRXJyb3IsXG4gIG1vZGVsTm90Rm91bmRQYXJhbVNjaGVtYSxcbn0gZnJvbSAnLi9nYXRld2F5LW1vZGVsLW5vdC1mb3VuZC1lcnJvcic7XG5pbXBvcnQgeyBHYXRld2F5SW50ZXJuYWxTZXJ2ZXJFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1pbnRlcm5hbC1zZXJ2ZXItZXJyb3InO1xuaW1wb3J0IHsgR2F0ZXdheVJlc3BvbnNlRXJyb3IgfSBmcm9tICcuL2dhdGV3YXktcmVzcG9uc2UtZXJyb3InO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR2F0ZXdheUVycm9yRnJvbVJlc3BvbnNlKHtcbiAgcmVzcG9uc2UsXG4gIHN0YXR1c0NvZGUsXG4gIGRlZmF1bHRNZXNzYWdlID0gJ0dhdGV3YXkgcmVxdWVzdCBmYWlsZWQnLFxuICBjYXVzZSxcbiAgYXV0aE1ldGhvZCxcbn06IHtcbiAgcmVzcG9uc2U6IHVua25vd247XG4gIHN0YXR1c0NvZGU6IG51bWJlcjtcbiAgZGVmYXVsdE1lc3NhZ2U/OiBzdHJpbmc7XG4gIGNhdXNlPzogdW5rbm93bjtcbiAgYXV0aE1ldGhvZD86ICdhcGkta2V5JyB8ICdvaWRjJztcbn0pOiBHYXRld2F5RXJyb3Ige1xuICBjb25zdCBwYXJzZVJlc3VsdCA9IGdhdGV3YXlFcnJvclJlc3BvbnNlU2NoZW1hLnNhZmVQYXJzZShyZXNwb25zZSk7XG4gIGlmICghcGFyc2VSZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiBuZXcgR2F0ZXdheVJlc3BvbnNlRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYEludmFsaWQgZXJyb3IgcmVzcG9uc2UgZm9ybWF0OiAke2RlZmF1bHRNZXNzYWdlfWAsXG4gICAgICBzdGF0dXNDb2RlLFxuICAgICAgcmVzcG9uc2UsXG4gICAgICB2YWxpZGF0aW9uRXJyb3I6IHBhcnNlUmVzdWx0LmVycm9yLFxuICAgICAgY2F1c2UsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCB2YWxpZGF0ZWRSZXNwb25zZTogR2F0ZXdheUVycm9yUmVzcG9uc2UgPSBwYXJzZVJlc3VsdC5kYXRhO1xuICBjb25zdCBlcnJvclR5cGUgPSB2YWxpZGF0ZWRSZXNwb25zZS5lcnJvci50eXBlO1xuICBjb25zdCBtZXNzYWdlID0gdmFsaWRhdGVkUmVzcG9uc2UuZXJyb3IubWVzc2FnZTtcblxuICBzd2l0Y2ggKGVycm9yVHlwZSkge1xuICAgIGNhc2UgJ2F1dGhlbnRpY2F0aW9uX2Vycm9yJzpcbiAgICAgIHJldHVybiBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvci5jcmVhdGVDb250ZXh0dWFsRXJyb3Ioe1xuICAgICAgICBhcGlLZXlQcm92aWRlZDogYXV0aE1ldGhvZCA9PT0gJ2FwaS1rZXknLFxuICAgICAgICBvaWRjVG9rZW5Qcm92aWRlZDogYXV0aE1ldGhvZCA9PT0gJ29pZGMnLFxuICAgICAgICBzdGF0dXNDb2RlLFxuICAgICAgICBjYXVzZSxcbiAgICAgIH0pO1xuICAgIGNhc2UgJ2ludmFsaWRfcmVxdWVzdF9lcnJvcic6XG4gICAgICByZXR1cm4gbmV3IEdhdGV3YXlJbnZhbGlkUmVxdWVzdEVycm9yKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gICAgY2FzZSAncmF0ZV9saW1pdF9leGNlZWRlZCc6XG4gICAgICByZXR1cm4gbmV3IEdhdGV3YXlSYXRlTGltaXRFcnJvcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICAgIGNhc2UgJ21vZGVsX25vdF9mb3VuZCc6IHtcbiAgICAgIGNvbnN0IG1vZGVsUmVzdWx0ID0gbW9kZWxOb3RGb3VuZFBhcmFtU2NoZW1hLnNhZmVQYXJzZShcbiAgICAgICAgdmFsaWRhdGVkUmVzcG9uc2UuZXJyb3IucGFyYW0sXG4gICAgICApO1xuICAgICAgcmV0dXJuIG5ldyBHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yKHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgbW9kZWxJZDogbW9kZWxSZXN1bHQuc3VjY2VzcyA/IG1vZGVsUmVzdWx0LmRhdGEubW9kZWxJZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgY2F1c2UsXG4gICAgICB9KTtcbiAgICB9XG4gICAgY2FzZSAnaW50ZXJuYWxfc2VydmVyX2Vycm9yJzpcbiAgICAgIHJldHVybiBuZXcgR2F0ZXdheUludGVybmFsU2VydmVyRXJyb3IoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG5ldyBHYXRld2F5SW50ZXJuYWxTZXJ2ZXJFcnJvcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICB9XG59XG5cbmNvbnN0IGdhdGV3YXlFcnJvclJlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICBlcnJvcjogei5vYmplY3Qoe1xuICAgIG1lc3NhZ2U6IHouc3RyaW5nKCksXG4gICAgdHlwZTogei5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgcGFyYW06IHoudW5rbm93bigpLm51bGxpc2goKSxcbiAgICBjb2RlOiB6LnVuaW9uKFt6LnN0cmluZygpLCB6Lm51bWJlcigpXSkubnVsbGlzaCgpLFxuICB9KSxcbn0pO1xuXG5leHBvcnQgdHlwZSBHYXRld2F5RXJyb3JSZXNwb25zZSA9IHouaW5mZXI8dHlwZW9mIGdhdGV3YXlFcnJvclJlc3BvbnNlU2NoZW1hPjtcbiIsICJjb25zdCBtYXJrZXIgPSAndmVyY2VsLmFpLmdhdGV3YXkuZXJyb3InO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgR2F0ZXdheUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgYWJzdHJhY3QgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICBhYnN0cmFjdCByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHN0YXR1c0NvZGU6IG51bWJlcjtcbiAgcmVhZG9ubHkgY2F1c2U/OiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlLFxuICAgIHN0YXR1c0NvZGUgPSA1MDAsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0pIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVycm9yIGlzIGEgR2F0ZXdheSBFcnJvci5cbiAgICogQHBhcmFtIHt1bmtub3dufSBlcnJvciAtIFRoZSBlcnJvciB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVycm9yIGlzIGEgR2F0ZXdheSBFcnJvciwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBHYXRld2F5RXJyb3Ige1xuICAgIHJldHVybiBHYXRld2F5RXJyb3IuaGFzTWFya2VyKGVycm9yKTtcbiAgfVxuXG4gIHN0YXRpYyBoYXNNYXJrZXIoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBHYXRld2F5RXJyb3Ige1xuICAgIHJldHVybiAoXG4gICAgICB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmXG4gICAgICBlcnJvciAhPT0gbnVsbCAmJlxuICAgICAgc3ltYm9sIGluIGVycm9yICYmXG4gICAgICAoZXJyb3IgYXMgYW55KVtzeW1ib2xdID09PSB0cnVlXG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEdhdGV3YXlFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5nYXRld2F5LmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIEF1dGhlbnRpY2F0aW9uIGZhaWxlZCAtIGludmFsaWQgQVBJIGtleSBvciBPSURDIHRva2VuXG4gKi9cbmV4cG9ydCBjbGFzcyBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvciBleHRlbmRzIEdhdGV3YXlFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBuYW1lID0gbmFtZTtcbiAgcmVhZG9ubHkgdHlwZSA9ICdhdXRoZW50aWNhdGlvbl9lcnJvcic7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnQXV0aGVudGljYXRpb24gZmFpbGVkJyxcbiAgICBzdGF0dXNDb2RlID0gNDAxLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3Ige1xuICAgIHJldHVybiBHYXRld2F5RXJyb3IuaGFzTWFya2VyKGVycm9yKSAmJiBzeW1ib2wgaW4gZXJyb3I7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNvbnRleHR1YWwgZXJyb3IgbWVzc2FnZSB3aGVuIGF1dGhlbnRpY2F0aW9uIGZhaWxzXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlQ29udGV4dHVhbEVycm9yKHtcbiAgICBhcGlLZXlQcm92aWRlZCxcbiAgICBvaWRjVG9rZW5Qcm92aWRlZCxcbiAgICBtZXNzYWdlID0gJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcsXG4gICAgc3RhdHVzQ29kZSA9IDQwMSxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIGFwaUtleVByb3ZpZGVkOiBib29sZWFuO1xuICAgIG9pZGNUb2tlblByb3ZpZGVkOiBib29sZWFuO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0pOiBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvciB7XG4gICAgbGV0IGNvbnRleHR1YWxNZXNzYWdlOiBzdHJpbmc7XG5cbiAgICBpZiAoYXBpS2V5UHJvdmlkZWQpIHtcbiAgICAgIGNvbnRleHR1YWxNZXNzYWdlID0gYEFJIEdhdGV3YXkgYXV0aGVudGljYXRpb24gZmFpbGVkOiBJbnZhbGlkIEFQSSBrZXkgcHJvdmlkZWQuXG5cblRoZSB0b2tlbiBpcyBleHBlY3RlZCB0byBiZSBwcm92aWRlZCB2aWEgdGhlICdhcGlLZXknIG9wdGlvbiBvciAnQUlfR0FURVdBWV9BUElfS0VZJyBlbnZpcm9ubWVudCB2YXJpYWJsZS5gO1xuICAgIH0gZWxzZSBpZiAob2lkY1Rva2VuUHJvdmlkZWQpIHtcbiAgICAgIGNvbnRleHR1YWxNZXNzYWdlID0gYEFJIEdhdGV3YXkgYXV0aGVudGljYXRpb24gZmFpbGVkOiBJbnZhbGlkIE9JREMgdG9rZW4gcHJvdmlkZWQuXG5cblRoZSB0b2tlbiBpcyBleHBlY3RlZCB0byBiZSBwcm92aWRlZCB2aWEgdGhlICdWRVJDRUxfT0lEQ19UT0tFTicgZW52aXJvbm1lbnQgdmFyaWFibGUuIEl0IGV4cGlyZXMgZXZlcnkgMTIgaG91cnMuXG4tIG1ha2Ugc3VyZSB5b3VyIFZlcmNlbCBwcm9qZWN0IHNldHRpbmdzIGhhdmUgT0lEQyBlbmFibGVkXG4tIGlmIHJ1bm5pbmcgbG9jYWxseSB3aXRoICd2ZXJjZWwgZGV2JywgdGhlIHRva2VuIGlzIGF1dG9tYXRpY2FsbHkgb2J0YWluZWQgYW5kIHJlZnJlc2hlZFxuLSBpZiBydW5uaW5nIGxvY2FsbHkgd2l0aCB5b3VyIG93biBkZXYgc2VydmVyLCBydW4gJ3ZlcmNlbCBlbnYgcHVsbCcgdG8gZmV0Y2ggdGhlIHRva2VuXG4tIGluIHByb2R1Y3Rpb24vcHJldmlldywgdGhlIHRva2VuIGlzIGF1dG9tYXRpY2FsbHkgb2J0YWluZWQgYW5kIHJlZnJlc2hlZFxuXG5BbHRlcm5hdGl2ZTogUHJvdmlkZSBhbiBBUEkga2V5IHZpYSAnYXBpS2V5JyBvcHRpb24gb3IgJ0FJX0dBVEVXQVlfQVBJX0tFWScgZW52aXJvbm1lbnQgdmFyaWFibGUuYDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGV4dHVhbE1lc3NhZ2UgPSBgQUkgR2F0ZXdheSBhdXRoZW50aWNhdGlvbiBmYWlsZWQ6IE5vIGF1dGhlbnRpY2F0aW9uIHByb3ZpZGVkLlxuXG5Qcm92aWRlIGVpdGhlciBhbiBBUEkga2V5IG9yIE9JREMgdG9rZW4uXG5cbkFQSSBrZXkgaW5zdHJ1Y3Rpb25zOlxuXG5UaGUgdG9rZW4gaXMgZXhwZWN0ZWQgdG8gYmUgcHJvdmlkZWQgdmlhIHRoZSAnYXBpS2V5JyBvcHRpb24gb3IgJ0FJX0dBVEVXQVlfQVBJX0tFWScgZW52aXJvbm1lbnQgdmFyaWFibGUuXG5cbk9JREMgdG9rZW4gaW5zdHJ1Y3Rpb25zOlxuXG5UaGUgdG9rZW4gaXMgZXhwZWN0ZWQgdG8gYmUgcHJvdmlkZWQgdmlhIHRoZSAnVkVSQ0VMX09JRENfVE9LRU4nIGVudmlyb25tZW50IHZhcmlhYmxlLiBJdCBleHBpcmVzIGV2ZXJ5IDEyIGhvdXJzLlxuLSBtYWtlIHN1cmUgeW91ciBWZXJjZWwgcHJvamVjdCBzZXR0aW5ncyBoYXZlIE9JREMgZW5hYmxlZFxuLSBpZiBydW5uaW5nIGxvY2FsbHkgd2l0aCAndmVyY2VsIGRldicsIHRoZSB0b2tlbiBpcyBhdXRvbWF0aWNhbGx5IG9idGFpbmVkIGFuZCByZWZyZXNoZWRcbi0gaWYgcnVubmluZyBsb2NhbGx5IHdpdGggeW91ciBvd24gZGV2IHNlcnZlciwgcnVuICd2ZXJjZWwgZW52IHB1bGwnIHRvIGZldGNoIHRoZSB0b2tlblxuLSBpbiBwcm9kdWN0aW9uL3ByZXZpZXcsIHRoZSB0b2tlbiBpcyBhdXRvbWF0aWNhbGx5IG9idGFpbmVkIGFuZCByZWZyZXNoZWRgO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogY29udGV4dHVhbE1lc3NhZ2UsXG4gICAgICBzdGF0dXNDb2RlLFxuICAgICAgY2F1c2UsXG4gICAgfSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBHYXRld2F5RXJyb3IgfSBmcm9tICcuL2dhdGV3YXktZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0dhdGV3YXlJbnZhbGlkUmVxdWVzdEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZ2F0ZXdheS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBJbnZhbGlkIHJlcXVlc3QgLSBtaXNzaW5nIGhlYWRlcnMsIG1hbGZvcm1lZCBkYXRhLCBldGMuXG4gKi9cbmV4cG9ydCBjbGFzcyBHYXRld2F5SW52YWxpZFJlcXVlc3RFcnJvciBleHRlbmRzIEdhdGV3YXlFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBuYW1lID0gbmFtZTtcbiAgcmVhZG9ubHkgdHlwZSA9ICdpbnZhbGlkX3JlcXVlc3RfZXJyb3InO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ0ludmFsaWQgcmVxdWVzdCcsXG4gICAgc3RhdHVzQ29kZSA9IDQwMCxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEdhdGV3YXlJbnZhbGlkUmVxdWVzdEVycm9yIHtcbiAgICByZXR1cm4gR2F0ZXdheUVycm9yLmhhc01hcmtlcihlcnJvcikgJiYgc3ltYm9sIGluIGVycm9yO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdHYXRld2F5UmF0ZUxpbWl0RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5nYXRld2F5LmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIFJhdGUgbGltaXQgZXhjZWVkZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBHYXRld2F5UmF0ZUxpbWl0RXJyb3IgZXh0ZW5kcyBHYXRld2F5RXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgbmFtZSA9IG5hbWU7XG4gIHJlYWRvbmx5IHR5cGUgPSAncmF0ZV9saW1pdF9leGNlZWRlZCc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnUmF0ZSBsaW1pdCBleGNlZWRlZCcsXG4gICAgc3RhdHVzQ29kZSA9IDQyOSxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEdhdGV3YXlSYXRlTGltaXRFcnJvciB7XG4gICAgcmV0dXJuIEdhdGV3YXlFcnJvci5oYXNNYXJrZXIoZXJyb3IpICYmIHN5bWJvbCBpbiBlcnJvcjtcbiAgfVxufVxuIiwgImltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZ2F0ZXdheS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNvbnN0IG1vZGVsTm90Rm91bmRQYXJhbVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbW9kZWxJZDogei5zdHJpbmcoKSxcbn0pO1xuXG4vKipcbiAqIE1vZGVsIG5vdCBmb3VuZCBvciBub3QgYXZhaWxhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yIGV4dGVuZHMgR2F0ZXdheUVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IG5hbWUgPSBuYW1lO1xuICByZWFkb25seSB0eXBlID0gJ21vZGVsX25vdF9mb3VuZCc7XG4gIHJlYWRvbmx5IG1vZGVsSWQ/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnTW9kZWwgbm90IGZvdW5kJyxcbiAgICBzdGF0dXNDb2RlID0gNDA0LFxuICAgIG1vZGVsSWQsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgbW9kZWxJZD86IHN0cmluZztcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheU1vZGVsTm90Rm91bmRFcnJvciB7XG4gICAgcmV0dXJuIEdhdGV3YXlFcnJvci5oYXNNYXJrZXIoZXJyb3IpICYmIHN5bWJvbCBpbiBlcnJvcjtcbiAgfVxufVxuIiwgImltcG9ydCB7IEdhdGV3YXlFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnR2F0ZXdheUludGVybmFsU2VydmVyRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5nYXRld2F5LmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIEludGVybmFsIHNlcnZlciBlcnJvciBmcm9tIHRoZSBHYXRld2F5XG4gKi9cbmV4cG9ydCBjbGFzcyBHYXRld2F5SW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEdhdGV3YXlFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBuYW1lID0gbmFtZTtcbiAgcmVhZG9ubHkgdHlwZSA9ICdpbnRlcm5hbF9zZXJ2ZXJfZXJyb3InO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXG4gICAgc3RhdHVzQ29kZSA9IDUwMCxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEdhdGV3YXlJbnRlcm5hbFNlcnZlckVycm9yIHtcbiAgICByZXR1cm4gR2F0ZXdheUVycm9yLmhhc01hcmtlcihlcnJvcikgJiYgc3ltYm9sIGluIGVycm9yO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWVycm9yJztcbmltcG9ydCB0eXBlIHsgWm9kRXJyb3IgfSBmcm9tICd6b2QvdjQnO1xuXG5jb25zdCBuYW1lID0gJ0dhdGV3YXlSZXNwb25zZUVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZ2F0ZXdheS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBHYXRld2F5IHJlc3BvbnNlIHBhcnNpbmcgZXJyb3JcbiAqL1xuZXhwb3J0IGNsYXNzIEdhdGV3YXlSZXNwb25zZUVycm9yIGV4dGVuZHMgR2F0ZXdheUVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IG5hbWUgPSBuYW1lO1xuICByZWFkb25seSB0eXBlID0gJ3Jlc3BvbnNlX2Vycm9yJztcbiAgcmVhZG9ubHkgcmVzcG9uc2U/OiB1bmtub3duO1xuICByZWFkb25seSB2YWxpZGF0aW9uRXJyb3I/OiBab2RFcnJvcjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdJbnZhbGlkIHJlc3BvbnNlIGZyb20gR2F0ZXdheScsXG4gICAgc3RhdHVzQ29kZSA9IDUwMixcbiAgICByZXNwb25zZSxcbiAgICB2YWxpZGF0aW9uRXJyb3IsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgcmVzcG9uc2U/OiB1bmtub3duO1xuICAgIHZhbGlkYXRpb25FcnJvcj86IFpvZEVycm9yO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy52YWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0aW9uRXJyb3I7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEdhdGV3YXlSZXNwb25zZUVycm9yIHtcbiAgICByZXR1cm4gR2F0ZXdheUVycm9yLmhhc01hcmtlcihlcnJvcikgJiYgc3ltYm9sIGluIGVycm9yO1xuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBBUElDYWxsRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RBcGlDYWxsUmVzcG9uc2UoZXJyb3I6IEFQSUNhbGxFcnJvcik6IHVua25vd24ge1xuICBpZiAoZXJyb3IuZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGVycm9yLmRhdGE7XG4gIH1cbiAgaWYgKGVycm9yLnJlc3BvbnNlQm9keSAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGVycm9yLnJlc3BvbnNlQm9keSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gZXJyb3IucmVzcG9uc2VCb2R5O1xuICAgIH1cbiAgfVxuICByZXR1cm4ge307XG59XG4iLCAiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5cbmV4cG9ydCBjb25zdCBHQVRFV0FZX0FVVEhfTUVUSE9EX0hFQURFUiA9ICdhaS1nYXRld2F5LWF1dGgtbWV0aG9kJyBhcyBjb25zdDtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQXV0aE1ldGhvZChoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+KSB7XG4gIGNvbnN0IHJlc3VsdCA9IGdhdGV3YXlBdXRoTWV0aG9kU2NoZW1hLnNhZmVQYXJzZShcbiAgICBoZWFkZXJzW0dBVEVXQVlfQVVUSF9NRVRIT0RfSEVBREVSXSxcbiAgKTtcbiAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzID8gcmVzdWx0LmRhdGEgOiB1bmRlZmluZWQ7XG59XG5cbmNvbnN0IGdhdGV3YXlBdXRoTWV0aG9kU2NoZW1hID0gei51bmlvbihbXG4gIHoubGl0ZXJhbCgnYXBpLWtleScpLFxuICB6LmxpdGVyYWwoJ29pZGMnKSxcbl0pO1xuIiwgImltcG9ydCB7XG4gIGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcixcbiAgZ2V0RnJvbUFwaSxcbiAgcmVzb2x2ZSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBhc0dhdGV3YXlFcnJvciB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB0eXBlIHsgR2F0ZXdheUNvbmZpZyB9IGZyb20gJy4vZ2F0ZXdheS1jb25maWcnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5TGFuZ3VhZ2VNb2RlbEVudHJ5IH0gZnJvbSAnLi9nYXRld2F5LW1vZGVsLWVudHJ5JztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuXG50eXBlIEdhdGV3YXlGZXRjaE1ldGFkYXRhQ29uZmlnID0gR2F0ZXdheUNvbmZpZztcblxuZXhwb3J0IGludGVyZmFjZSBHYXRld2F5RmV0Y2hNZXRhZGF0YVJlc3BvbnNlIHtcbiAgbW9kZWxzOiBHYXRld2F5TGFuZ3VhZ2VNb2RlbEVudHJ5W107XG59XG5cbmV4cG9ydCBjbGFzcyBHYXRld2F5RmV0Y2hNZXRhZGF0YSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgY29uZmlnOiBHYXRld2F5RmV0Y2hNZXRhZGF0YUNvbmZpZykge31cblxuICBhc3luYyBnZXRBdmFpbGFibGVNb2RlbHMoKTogUHJvbWlzZTxHYXRld2F5RmV0Y2hNZXRhZGF0YVJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGF3YWl0IGdldEZyb21BcGkoe1xuICAgICAgICB1cmw6IGAke3RoaXMuY29uZmlnLmJhc2VVUkx9L2NvbmZpZ2AsXG4gICAgICAgIGhlYWRlcnM6IGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcuaGVhZGVycygpKSxcbiAgICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcihcbiAgICAgICAgICBnYXRld2F5RmV0Y2hNZXRhZGF0YVNjaGVtYSxcbiAgICAgICAgKSxcbiAgICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICAgIGVycm9yU2NoZW1hOiB6LmFueSgpLFxuICAgICAgICAgIGVycm9yVG9NZXNzYWdlOiBkYXRhID0+IGRhdGEsXG4gICAgICAgIH0pLFxuICAgICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2gsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBhc0dhdGV3YXlFcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGdhdGV3YXlMYW5ndWFnZU1vZGVsU3BlY2lmaWNhdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgc3BlY2lmaWNhdGlvblZlcnNpb246IHoubGl0ZXJhbCgndjInKSxcbiAgcHJvdmlkZXI6IHouc3RyaW5nKCksXG4gIG1vZGVsSWQ6IHouc3RyaW5nKCksXG59KTtcblxuY29uc3QgZ2F0ZXdheUxhbmd1YWdlTW9kZWxQcmljaW5nU2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICBpbnB1dDogei5zdHJpbmcoKSxcbiAgICBvdXRwdXQ6IHouc3RyaW5nKCksXG4gICAgaW5wdXRfY2FjaGVfcmVhZDogei5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgaW5wdXRfY2FjaGVfd3JpdGU6IHouc3RyaW5nKCkubnVsbGlzaCgpLFxuICB9KVxuICAudHJhbnNmb3JtKCh7IGlucHV0LCBvdXRwdXQsIGlucHV0X2NhY2hlX3JlYWQsIGlucHV0X2NhY2hlX3dyaXRlIH0pID0+ICh7XG4gICAgaW5wdXQsXG4gICAgb3V0cHV0LFxuICAgIC4uLihpbnB1dF9jYWNoZV9yZWFkID8geyBjYWNoZWRJbnB1dFRva2VuczogaW5wdXRfY2FjaGVfcmVhZCB9IDoge30pLFxuICAgIC4uLihpbnB1dF9jYWNoZV93cml0ZVxuICAgICAgPyB7IGNhY2hlQ3JlYXRpb25JbnB1dFRva2VuczogaW5wdXRfY2FjaGVfd3JpdGUgfVxuICAgICAgOiB7fSksXG4gIH0pKTtcblxuY29uc3QgZ2F0ZXdheUxhbmd1YWdlTW9kZWxFbnRyeVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgaWQ6IHouc3RyaW5nKCksXG4gIG5hbWU6IHouc3RyaW5nKCksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm51bGxpc2goKSxcbiAgcHJpY2luZzogZ2F0ZXdheUxhbmd1YWdlTW9kZWxQcmljaW5nU2NoZW1hLm51bGxpc2goKSxcbiAgc3BlY2lmaWNhdGlvbjogZ2F0ZXdheUxhbmd1YWdlTW9kZWxTcGVjaWZpY2F0aW9uU2NoZW1hLFxuICBtb2RlbFR5cGU6IHouZW51bShbJ2xhbmd1YWdlJywgJ2VtYmVkZGluZycsICdpbWFnZSddKS5udWxsaXNoKCksXG59KTtcblxuY29uc3QgZ2F0ZXdheUZldGNoTWV0YWRhdGFTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG1vZGVsczogei5hcnJheShnYXRld2F5TGFuZ3VhZ2VNb2RlbEVudHJ5U2NoZW1hKSxcbn0pO1xuIiwgImltcG9ydCB0eXBlIHtcbiAgTGFuZ3VhZ2VNb2RlbFYyLFxuICBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucyxcbiAgTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmcsXG4gIExhbmd1YWdlTW9kZWxWMkZpbGVQYXJ0LFxuICBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGNvbWJpbmVIZWFkZXJzLFxuICBjcmVhdGVFdmVudFNvdXJjZVJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyLFxuICBwb3N0SnNvblRvQXBpLFxuICByZXNvbHZlLFxuICB0eXBlIFBhcnNlUmVzdWx0LFxuICB0eXBlIFJlc29sdmFibGUsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgdHlwZSB7IEdhdGV3YXlDb25maWcgfSBmcm9tICcuL2dhdGV3YXktY29uZmlnJztcbmltcG9ydCB0eXBlIHsgR2F0ZXdheU1vZGVsSWQgfSBmcm9tICcuL2dhdGV3YXktbGFuZ3VhZ2UtbW9kZWwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgYXNHYXRld2F5RXJyb3IgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQgeyBwYXJzZUF1dGhNZXRob2QgfSBmcm9tICcuL2Vycm9ycy9wYXJzZS1hdXRoLW1ldGhvZCc7XG5cbnR5cGUgR2F0ZXdheUNoYXRDb25maWcgPSBHYXRld2F5Q29uZmlnICYge1xuICBwcm92aWRlcjogc3RyaW5nO1xuICBvMTF5SGVhZGVyczogUmVzb2x2YWJsZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+Pjtcbn07XG5cbmV4cG9ydCBjbGFzcyBHYXRld2F5TGFuZ3VhZ2VNb2RlbCBpbXBsZW1lbnRzIExhbmd1YWdlTW9kZWxWMiB7XG4gIHJlYWRvbmx5IHNwZWNpZmljYXRpb25WZXJzaW9uID0gJ3YyJztcbiAgcmVhZG9ubHkgc3VwcG9ydGVkVXJscyA9IHsgJyovKic6IFsvLiovXSB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IG1vZGVsSWQ6IEdhdGV3YXlNb2RlbElkLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29uZmlnOiBHYXRld2F5Q2hhdENvbmZpZyxcbiAgKSB7fVxuXG4gIGdldCBwcm92aWRlcigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5wcm92aWRlcjtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2V0QXJncyhvcHRpb25zOiBQYXJhbWV0ZXJzPExhbmd1YWdlTW9kZWxWMlsnZG9HZW5lcmF0ZSddPlswXSkge1xuICAgIGNvbnN0IHsgYWJvcnRTaWduYWw6IF9hYm9ydFNpZ25hbCwgLi4ub3B0aW9uc1dpdGhvdXRTaWduYWwgfSA9IG9wdGlvbnM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYXJnczogdGhpcy5tYXliZUVuY29kZUZpbGVQYXJ0cyhvcHRpb25zV2l0aG91dFNpZ25hbCksXG4gICAgICB3YXJuaW5nczogW10sXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGRvR2VuZXJhdGUoXG4gICAgb3B0aW9uczogUGFyYW1ldGVyczxMYW5ndWFnZU1vZGVsVjJbJ2RvR2VuZXJhdGUnXT5bMF0sXG4gICk6IFByb21pc2U8QXdhaXRlZDxSZXR1cm5UeXBlPExhbmd1YWdlTW9kZWxWMlsnZG9HZW5lcmF0ZSddPj4+IHtcbiAgICBjb25zdCB7IGFyZ3MsIHdhcm5pbmdzIH0gPSBhd2FpdCB0aGlzLmdldEFyZ3Mob3B0aW9ucyk7XG4gICAgY29uc3QgeyBhYm9ydFNpZ25hbCB9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IHJlc29sdmVkSGVhZGVycyA9IGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcuaGVhZGVycygpKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgdmFsdWU6IHJlc3BvbnNlQm9keSxcbiAgICAgICAgcmF3VmFsdWU6IHJhd1Jlc3BvbnNlLFxuICAgICAgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkoe1xuICAgICAgICB1cmw6IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzKFxuICAgICAgICAgIHJlc29sdmVkSGVhZGVycyxcbiAgICAgICAgICBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgdGhpcy5nZXRNb2RlbENvbmZpZ0hlYWRlcnModGhpcy5tb2RlbElkLCBmYWxzZSksXG4gICAgICAgICAgYXdhaXQgcmVzb2x2ZSh0aGlzLmNvbmZpZy5vMTF5SGVhZGVycyksXG4gICAgICAgICksXG4gICAgICAgIGJvZHk6IGFyZ3MsXG4gICAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIoei5hbnkoKSksXG4gICAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgICBlcnJvclNjaGVtYTogei5hbnkoKSxcbiAgICAgICAgICBlcnJvclRvTWVzc2FnZTogZGF0YSA9PiBkYXRhLFxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKGFib3J0U2lnbmFsICYmIHsgYWJvcnRTaWduYWwgfSksXG4gICAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaCxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5yZXNwb25zZUJvZHksXG4gICAgICAgIHJlcXVlc3Q6IHsgYm9keTogYXJncyB9LFxuICAgICAgICByZXNwb25zZTogeyBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsIGJvZHk6IHJhd1Jlc3BvbnNlIH0sXG4gICAgICAgIHdhcm5pbmdzLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgYXNHYXRld2F5RXJyb3IoZXJyb3IsIHBhcnNlQXV0aE1ldGhvZChyZXNvbHZlZEhlYWRlcnMpKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBkb1N0cmVhbShcbiAgICBvcHRpb25zOiBQYXJhbWV0ZXJzPExhbmd1YWdlTW9kZWxWMlsnZG9TdHJlYW0nXT5bMF0sXG4gICk6IFByb21pc2U8QXdhaXRlZDxSZXR1cm5UeXBlPExhbmd1YWdlTW9kZWxWMlsnZG9TdHJlYW0nXT4+PiB7XG4gICAgY29uc3QgeyBhcmdzLCB3YXJuaW5ncyB9ID0gYXdhaXQgdGhpcy5nZXRBcmdzKG9wdGlvbnMpO1xuICAgIGNvbnN0IHsgYWJvcnRTaWduYWwgfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCByZXNvbHZlZEhlYWRlcnMgPSBhd2FpdCByZXNvbHZlKHRoaXMuY29uZmlnLmhlYWRlcnMoKSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyB2YWx1ZTogcmVzcG9uc2UsIHJlc3BvbnNlSGVhZGVycyB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaSh7XG4gICAgICAgIHVybDogdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgaGVhZGVyczogY29tYmluZUhlYWRlcnMoXG4gICAgICAgICAgcmVzb2x2ZWRIZWFkZXJzLFxuICAgICAgICAgIG9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICB0aGlzLmdldE1vZGVsQ29uZmlnSGVhZGVycyh0aGlzLm1vZGVsSWQsIHRydWUpLFxuICAgICAgICAgIGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcubzExeUhlYWRlcnMpLFxuICAgICAgICApLFxuICAgICAgICBib2R5OiBhcmdzLFxuICAgICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVFdmVudFNvdXJjZVJlc3BvbnNlSGFuZGxlcih6LmFueSgpKSxcbiAgICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICAgIGVycm9yU2NoZW1hOiB6LmFueSgpLFxuICAgICAgICAgIGVycm9yVG9NZXNzYWdlOiBkYXRhID0+IGRhdGEsXG4gICAgICAgIH0pLFxuICAgICAgICAuLi4oYWJvcnRTaWduYWwgJiYgeyBhYm9ydFNpZ25hbCB9KSxcbiAgICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0cmVhbTogcmVzcG9uc2UucGlwZVRocm91Z2goXG4gICAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgICAgICAgIFBhcnNlUmVzdWx0PExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQ+LFxuICAgICAgICAgICAgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydFxuICAgICAgICAgID4oe1xuICAgICAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICBpZiAod2FybmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdzdHJlYW0tc3RhcnQnLCB3YXJuaW5ncyB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbVBhcnQgPSBjaHVuay52YWx1ZTtcblxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSByYXcgY2h1bmtzOiBpZiB0aGlzIGlzIGEgcmF3IGNodW5rIGZyb20gdGhlIGdhdGV3YXkgQVBJLFxuICAgICAgICAgICAgICAgIC8vIG9ubHkgZW1pdCBpdCBpZiBpbmNsdWRlUmF3Q2h1bmtzIGlzIHRydWVcbiAgICAgICAgICAgICAgICBpZiAoc3RyZWFtUGFydC50eXBlID09PSAncmF3JyAmJiAhb3B0aW9ucy5pbmNsdWRlUmF3Q2h1bmtzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47IC8vIFNraXAgcmF3IGNodW5rcyBpZiBub3QgcmVxdWVzdGVkXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgc3RyZWFtUGFydC50eXBlID09PSAncmVzcG9uc2UtbWV0YWRhdGEnICYmXG4gICAgICAgICAgICAgICAgICBzdHJlYW1QYXJ0LnRpbWVzdGFtcCAmJlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIHN0cmVhbVBhcnQudGltZXN0YW1wID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgc3RyZWFtUGFydC50aW1lc3RhbXAgPSBuZXcgRGF0ZShzdHJlYW1QYXJ0LnRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHN0cmVhbVBhcnQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAoY2h1bmsgYXMgeyBzdWNjZXNzOiBmYWxzZTsgZXJyb3I6IHVua25vd24gfSkuZXJyb3IsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICAgcmVxdWVzdDogeyBib2R5OiBhcmdzIH0sXG4gICAgICAgIHJlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9LFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgYXNHYXRld2F5RXJyb3IoZXJyb3IsIHBhcnNlQXV0aE1ldGhvZChyZXNvbHZlZEhlYWRlcnMpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzRmlsZVBhcnQocGFydDogdW5rbm93bikge1xuICAgIHJldHVybiAoXG4gICAgICBwYXJ0ICYmIHR5cGVvZiBwYXJ0ID09PSAnb2JqZWN0JyAmJiAndHlwZScgaW4gcGFydCAmJiBwYXJ0LnR5cGUgPT09ICdmaWxlJ1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRW5jb2RlcyBmaWxlIHBhcnRzIGluIHRoZSBwcm9tcHQgdG8gYmFzZTY0LiBNdXRhdGVzIHRoZSBwYXNzZWQgb3B0aW9uc1xuICAgKiBpbnN0YW5jZSBkaXJlY3RseSB0byBhdm9pZCBjb3B5aW5nIHRoZSBmaWxlIGRhdGEuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgdG8gZW5jb2RlLlxuICAgKiBAcmV0dXJucyBUaGUgb3B0aW9ucyB3aXRoIHRoZSBmaWxlIHBhcnRzIGVuY29kZWQuXG4gICAqL1xuICBwcml2YXRlIG1heWJlRW5jb2RlRmlsZVBhcnRzKG9wdGlvbnM6IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG9wdGlvbnMucHJvbXB0KSB7XG4gICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlzRmlsZVBhcnQocGFydCkpIHtcbiAgICAgICAgICBjb25zdCBmaWxlUGFydCA9IHBhcnQgYXMgTGFuZ3VhZ2VNb2RlbFYyRmlsZVBhcnQ7XG4gICAgICAgICAgLy8gSWYgdGhlIGZpbGUgcGFydCBpcyBhIFVSTCBpdCB3aWxsIGdldCBjbGVhbmx5IGNvbnZlcnRlZCB0byBhIHN0cmluZy5cbiAgICAgICAgICAvLyBJZiBpdCdzIGEgYmluYXJ5IGZpbGUgYXR0YWNobWVudCB3ZSBjb252ZXJ0IGl0IHRvIGEgZGF0YSB1cmwuXG4gICAgICAgICAgLy8gSW4gZWl0aGVyIGNhc2UsIHNlcnZlci1zaWRlIHdlIHNob3VsZCBvbmx5IGV2ZXIgc2VlIFVSTHMgYXMgc3RyaW5ncy5cbiAgICAgICAgICBpZiAoZmlsZVBhcnQuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IFVpbnQ4QXJyYXkuZnJvbShmaWxlUGFydC5kYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2U2NERhdGEgPSBCdWZmZXIuZnJvbShidWZmZXIpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICAgICAgICAgIGZpbGVQYXJ0LmRhdGEgPSBuZXcgVVJMKFxuICAgICAgICAgICAgICBgZGF0YToke2ZpbGVQYXJ0Lm1lZGlhVHlwZSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJ307YmFzZTY0LCR7YmFzZTY0RGF0YX1gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cblxuICBwcml2YXRlIGdldFVybCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5jb25maWcuYmFzZVVSTH0vbGFuZ3VhZ2UtbW9kZWxgO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRNb2RlbENvbmZpZ0hlYWRlcnMobW9kZWxJZDogc3RyaW5nLCBzdHJlYW1pbmc6IGJvb2xlYW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2FpLWxhbmd1YWdlLW1vZGVsLXNwZWNpZmljYXRpb24tdmVyc2lvbic6ICcyJyxcbiAgICAgICdhaS1sYW5ndWFnZS1tb2RlbC1pZCc6IG1vZGVsSWQsXG4gICAgICAnYWktbGFuZ3VhZ2UtbW9kZWwtc3RyZWFtaW5nJzogU3RyaW5nKHN0cmVhbWluZyksXG4gICAgfTtcbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgRW1iZWRkaW5nTW9kZWxWMiB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgY29tYmluZUhlYWRlcnMsXG4gIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcixcbiAgcG9zdEpzb25Ub0FwaSxcbiAgcmVzb2x2ZSxcbiAgdHlwZSBSZXNvbHZhYmxlLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5Q29uZmlnIH0gZnJvbSAnLi9nYXRld2F5LWNvbmZpZyc7XG5pbXBvcnQgeyBhc0dhdGV3YXlFcnJvciB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7IHBhcnNlQXV0aE1ldGhvZCB9IGZyb20gJy4vZXJyb3JzL3BhcnNlLWF1dGgtbWV0aG9kJztcbmltcG9ydCB0eXBlIHsgU2hhcmVkVjJQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmV4cG9ydCBjbGFzcyBHYXRld2F5RW1iZWRkaW5nTW9kZWwgaW1wbGVtZW50cyBFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz4ge1xuICByZWFkb25seSBzcGVjaWZpY2F0aW9uVmVyc2lvbiA9ICd2Mic7XG4gIHJlYWRvbmx5IG1heEVtYmVkZGluZ3NQZXJDYWxsID0gMjA0ODtcbiAgcmVhZG9ubHkgc3VwcG9ydHNQYXJhbGxlbENhbGxzID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSBtb2RlbElkOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb25maWc6IEdhdGV3YXlDb25maWcgJiB7XG4gICAgICBwcm92aWRlcjogc3RyaW5nO1xuICAgICAgbzExeUhlYWRlcnM6IFJlc29sdmFibGU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj47XG4gICAgfSxcbiAgKSB7fVxuXG4gIGdldCBwcm92aWRlcigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5wcm92aWRlcjtcbiAgfVxuXG4gIGFzeW5jIGRvRW1iZWQoe1xuICAgIHZhbHVlcyxcbiAgICBoZWFkZXJzLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgfTogUGFyYW1ldGVyczxFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz5bJ2RvRW1iZWQnXT5bMF0pOiBQcm9taXNlPFxuICAgIEF3YWl0ZWQ8UmV0dXJuVHlwZTxFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz5bJ2RvRW1iZWQnXT4+XG4gID4ge1xuICAgIGNvbnN0IHJlc29sdmVkSGVhZGVycyA9IGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcuaGVhZGVycygpKTtcbiAgICB0cnkge1xuICAgICAgY29uc3Qge1xuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHZhbHVlOiByZXNwb25zZUJvZHksXG4gICAgICAgIHJhd1ZhbHVlLFxuICAgICAgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkoe1xuICAgICAgICB1cmw6IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzKFxuICAgICAgICAgIHJlc29sdmVkSGVhZGVycyxcbiAgICAgICAgICBoZWFkZXJzID8/IHt9LFxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWxDb25maWdIZWFkZXJzKCksXG4gICAgICAgICAgYXdhaXQgcmVzb2x2ZSh0aGlzLmNvbmZpZy5vMTF5SGVhZGVycyksXG4gICAgICAgICksXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBpbnB1dDogdmFsdWVzLmxlbmd0aCA9PT0gMSA/IHZhbHVlc1swXSA6IHZhbHVlcyxcbiAgICAgICAgICAuLi4ocHJvdmlkZXJPcHRpb25zID8geyBwcm92aWRlck9wdGlvbnMgfSA6IHt9KSxcbiAgICAgICAgfSxcbiAgICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcihcbiAgICAgICAgICBnYXRld2F5RW1iZWRkaW5nUmVzcG9uc2VTY2hlbWEsXG4gICAgICAgICksXG4gICAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgICBlcnJvclNjaGVtYTogei5hbnkoKSxcbiAgICAgICAgICBlcnJvclRvTWVzc2FnZTogZGF0YSA9PiBkYXRhLFxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKGFib3J0U2lnbmFsICYmIHsgYWJvcnRTaWduYWwgfSksXG4gICAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaCxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbWJlZGRpbmdzOiByZXNwb25zZUJvZHkuZW1iZWRkaW5ncyxcbiAgICAgICAgdXNhZ2U6IHJlc3BvbnNlQm9keS51c2FnZSA/PyB1bmRlZmluZWQsXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6XG4gICAgICAgICAgcmVzcG9uc2VCb2R5LnByb3ZpZGVyTWV0YWRhdGEgYXMgdW5rbm93biBhcyBTaGFyZWRWMlByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgIHJlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycywgYm9keTogcmF3VmFsdWUgfSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGFzR2F0ZXdheUVycm9yKGVycm9yLCBwYXJzZUF1dGhNZXRob2QocmVzb2x2ZWRIZWFkZXJzKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRVcmwoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuY29uZmlnLmJhc2VVUkx9L2VtYmVkZGluZy1tb2RlbGA7XG4gIH1cblxuICBwcml2YXRlIGdldE1vZGVsQ29uZmlnSGVhZGVycygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2FpLWVtYmVkZGluZy1tb2RlbC1zcGVjaWZpY2F0aW9uLXZlcnNpb24nOiAnMicsXG4gICAgICAnYWktbW9kZWwtaWQnOiB0aGlzLm1vZGVsSWQsXG4gICAgfTtcbiAgfVxufVxuXG5jb25zdCBnYXRld2F5RW1iZWRkaW5nUmVzcG9uc2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYmVkZGluZ3M6IHouYXJyYXkoei5hcnJheSh6Lm51bWJlcigpKSksXG4gIHVzYWdlOiB6Lm9iamVjdCh7IHRva2Vuczogei5udW1iZXIoKSB9KS5udWxsaXNoKCksXG4gIHByb3ZpZGVyTWV0YWRhdGE6IHpcbiAgICAucmVjb3JkKHouc3RyaW5nKCksIHoucmVjb3JkKHouc3RyaW5nKCksIHoudW5rbm93bigpKSlcbiAgICAub3B0aW9uYWwoKSxcbn0pO1xuIiwgImltcG9ydCB7IEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VmVyY2VsT2lkY1Rva2VuKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHRva2VuID1cbiAgICBnZXRDb250ZXh0KCkuaGVhZGVycz8uWyd4LXZlcmNlbC1vaWRjLXRva2VuJ10gPz9cbiAgICBwcm9jZXNzLmVudi5WRVJDRUxfT0lEQ19UT0tFTjtcblxuICBpZiAoIXRva2VuKSB7XG4gICAgdGhyb3cgbmV3IEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yKHtcbiAgICAgIG1lc3NhZ2U6ICdPSURDIHRva2VuIG5vdCBhdmFpbGFibGUnLFxuICAgICAgc3RhdHVzQ29kZTogNDAxLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHRva2VuO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VmVyY2VsUmVxdWVzdElkKCk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gIHJldHVybiBnZXRDb250ZXh0KCkuaGVhZGVycz8uWyd4LXZlcmNlbC1pZCddO1xufVxuXG50eXBlIENvbnRleHQgPSB7XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufTtcblxuY29uc3QgU1lNQk9MX0ZPUl9SRVFfQ09OVEVYVCA9IFN5bWJvbC5mb3IoJ0B2ZXJjZWwvcmVxdWVzdC1jb250ZXh0Jyk7XG5cbmZ1bmN0aW9uIGdldENvbnRleHQoKTogQ29udGV4dCB7XG4gIGNvbnN0IGZyb21TeW1ib2w6IHR5cGVvZiBnbG9iYWxUaGlzICYge1xuICAgIFtTWU1CT0xfRk9SX1JFUV9DT05URVhUXT86IHsgZ2V0PzogKCkgPT4gQ29udGV4dCB9O1xuICB9ID0gZ2xvYmFsVGhpcztcbiAgcmV0dXJuIGZyb21TeW1ib2xbU1lNQk9MX0ZPUl9SRVFfQ09OVEVYVF0/LmdldD8uKCkgPz8ge307XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqIG9ubHkgZ2xvYmFscyB0aGF0IGNvbW1vbiB0byBub2RlIGFuZCBicm93c2VycyBhcmUgYWxsb3dlZCAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vZGUvbm8tdW5zdXBwb3J0ZWQtZmVhdHVyZXMvZXMtYnVpbHRpbnNcbmV4cG9ydCBjb25zdCBfZ2xvYmFsVGhpcyA9IHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JyA/IGdsb2JhbFRoaXMgOiBnbG9iYWw7XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gdGhpcyBpcyBhdXRvZ2VuZXJhdGVkIGZpbGUsIHNlZSBzY3JpcHRzL3ZlcnNpb24tdXBkYXRlLmpzXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICcxLjkuMCc7XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuXG5jb25zdCByZSA9IC9eKFxcZCspXFwuKFxcZCspXFwuKFxcZCspKC0oLispKT8kLztcblxuLyoqXG4gKiBDcmVhdGUgYSBmdW5jdGlvbiB0byB0ZXN0IGFuIEFQSSB2ZXJzaW9uIHRvIHNlZSBpZiBpdCBpcyBjb21wYXRpYmxlIHdpdGggdGhlIHByb3ZpZGVkIG93blZlcnNpb24uXG4gKlxuICogVGhlIHJldHVybmVkIGZ1bmN0aW9uIGhhcyB0aGUgZm9sbG93aW5nIHNlbWFudGljczpcbiAqIC0gRXhhY3QgbWF0Y2ggaXMgYWx3YXlzIGNvbXBhdGlibGVcbiAqIC0gTWFqb3IgdmVyc2lvbnMgbXVzdCBtYXRjaCBleGFjdGx5XG4gKiAgICAtIDEueCBwYWNrYWdlIGNhbm5vdCB1c2UgZ2xvYmFsIDIueCBwYWNrYWdlXG4gKiAgICAtIDIueCBwYWNrYWdlIGNhbm5vdCB1c2UgZ2xvYmFsIDEueCBwYWNrYWdlXG4gKiAtIFRoZSBtaW5vciB2ZXJzaW9uIG9mIHRoZSBBUEkgbW9kdWxlIHJlcXVlc3RpbmcgYWNjZXNzIHRvIHRoZSBnbG9iYWwgQVBJIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBtaW5vciB2ZXJzaW9uIG9mIHRoaXMgQVBJXG4gKiAgICAtIDEuMyBwYWNrYWdlIG1heSB1c2UgMS40IGdsb2JhbCBiZWNhdXNlIHRoZSBsYXRlciBnbG9iYWwgY29udGFpbnMgYWxsIGZ1bmN0aW9ucyAxLjMgZXhwZWN0c1xuICogICAgLSAxLjQgcGFja2FnZSBtYXkgTk9UIHVzZSAxLjMgZ2xvYmFsIGJlY2F1c2UgaXQgbWF5IHRyeSB0byBjYWxsIGZ1bmN0aW9ucyB3aGljaCBkb24ndCBleGlzdCBvbiAxLjNcbiAqIC0gSWYgdGhlIG1ham9yIHZlcnNpb24gaXMgMCwgdGhlIG1pbm9yIHZlcnNpb24gaXMgdHJlYXRlZCBhcyB0aGUgbWFqb3IgYW5kIHRoZSBwYXRjaCBpcyB0cmVhdGVkIGFzIHRoZSBtaW5vclxuICogLSBQYXRjaCBhbmQgYnVpbGQgdGFnIGRpZmZlcmVuY2VzIGFyZSBub3QgY29uc2lkZXJlZCBhdCB0aGlzIHRpbWVcbiAqXG4gKiBAcGFyYW0gb3duVmVyc2lvbiB2ZXJzaW9uIHdoaWNoIHNob3VsZCBiZSBjaGVja2VkIGFnYWluc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9tYWtlQ29tcGF0aWJpbGl0eUNoZWNrKFxuICBvd25WZXJzaW9uOiBzdHJpbmdcbik6IChnbG9iYWxWZXJzaW9uOiBzdHJpbmcpID0+IGJvb2xlYW4ge1xuICBjb25zdCBhY2NlcHRlZFZlcnNpb25zID0gbmV3IFNldDxzdHJpbmc+KFtvd25WZXJzaW9uXSk7XG4gIGNvbnN0IHJlamVjdGVkVmVyc2lvbnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICBjb25zdCBteVZlcnNpb25NYXRjaCA9IG93blZlcnNpb24ubWF0Y2gocmUpO1xuICBpZiAoIW15VmVyc2lvbk1hdGNoKSB7XG4gICAgLy8gd2UgY2Fubm90IGd1YXJhbnRlZSBjb21wYXRpYmlsaXR5IHNvIHdlIGFsd2F5cyByZXR1cm4gbm9vcFxuICAgIHJldHVybiAoKSA9PiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IG93blZlcnNpb25QYXJzZWQgPSB7XG4gICAgbWFqb3I6ICtteVZlcnNpb25NYXRjaFsxXSxcbiAgICBtaW5vcjogK215VmVyc2lvbk1hdGNoWzJdLFxuICAgIHBhdGNoOiArbXlWZXJzaW9uTWF0Y2hbM10sXG4gICAgcHJlcmVsZWFzZTogbXlWZXJzaW9uTWF0Y2hbNF0sXG4gIH07XG5cbiAgLy8gaWYgb3duVmVyc2lvbiBoYXMgYSBwcmVyZWxlYXNlIHRhZywgdmVyc2lvbnMgbXVzdCBtYXRjaCBleGFjdGx5XG4gIGlmIChvd25WZXJzaW9uUGFyc2VkLnByZXJlbGVhc2UgIT0gbnVsbCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBpc0V4YWN0bWF0Y2goZ2xvYmFsVmVyc2lvbjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gZ2xvYmFsVmVyc2lvbiA9PT0gb3duVmVyc2lvbjtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX3JlamVjdCh2OiBzdHJpbmcpIHtcbiAgICByZWplY3RlZFZlcnNpb25zLmFkZCh2KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBfYWNjZXB0KHY6IHN0cmluZykge1xuICAgIGFjY2VwdGVkVmVyc2lvbnMuYWRkKHYpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGlzQ29tcGF0aWJsZShnbG9iYWxWZXJzaW9uOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAoYWNjZXB0ZWRWZXJzaW9ucy5oYXMoZ2xvYmFsVmVyc2lvbikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChyZWplY3RlZFZlcnNpb25zLmhhcyhnbG9iYWxWZXJzaW9uKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGdsb2JhbFZlcnNpb25NYXRjaCA9IGdsb2JhbFZlcnNpb24ubWF0Y2gocmUpO1xuICAgIGlmICghZ2xvYmFsVmVyc2lvbk1hdGNoKSB7XG4gICAgICAvLyBjYW5ub3QgcGFyc2Ugb3RoZXIgdmVyc2lvblxuICAgICAgLy8gd2UgY2Fubm90IGd1YXJhbnRlZSBjb21wYXRpYmlsaXR5IHNvIHdlIGFsd2F5cyBub29wXG4gICAgICByZXR1cm4gX3JlamVjdChnbG9iYWxWZXJzaW9uKTtcbiAgICB9XG5cbiAgICBjb25zdCBnbG9iYWxWZXJzaW9uUGFyc2VkID0ge1xuICAgICAgbWFqb3I6ICtnbG9iYWxWZXJzaW9uTWF0Y2hbMV0sXG4gICAgICBtaW5vcjogK2dsb2JhbFZlcnNpb25NYXRjaFsyXSxcbiAgICAgIHBhdGNoOiArZ2xvYmFsVmVyc2lvbk1hdGNoWzNdLFxuICAgICAgcHJlcmVsZWFzZTogZ2xvYmFsVmVyc2lvbk1hdGNoWzRdLFxuICAgIH07XG5cbiAgICAvLyBpZiBnbG9iYWxWZXJzaW9uIGhhcyBhIHByZXJlbGVhc2UgdGFnLCB2ZXJzaW9ucyBtdXN0IG1hdGNoIGV4YWN0bHlcbiAgICBpZiAoZ2xvYmFsVmVyc2lvblBhcnNlZC5wcmVyZWxlYXNlICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBfcmVqZWN0KGdsb2JhbFZlcnNpb24pO1xuICAgIH1cblxuICAgIC8vIG1ham9yIHZlcnNpb25zIG11c3QgbWF0Y2hcbiAgICBpZiAob3duVmVyc2lvblBhcnNlZC5tYWpvciAhPT0gZ2xvYmFsVmVyc2lvblBhcnNlZC5tYWpvcikge1xuICAgICAgcmV0dXJuIF9yZWplY3QoZ2xvYmFsVmVyc2lvbik7XG4gICAgfVxuXG4gICAgaWYgKG93blZlcnNpb25QYXJzZWQubWFqb3IgPT09IDApIHtcbiAgICAgIGlmIChcbiAgICAgICAgb3duVmVyc2lvblBhcnNlZC5taW5vciA9PT0gZ2xvYmFsVmVyc2lvblBhcnNlZC5taW5vciAmJlxuICAgICAgICBvd25WZXJzaW9uUGFyc2VkLnBhdGNoIDw9IGdsb2JhbFZlcnNpb25QYXJzZWQucGF0Y2hcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gX2FjY2VwdChnbG9iYWxWZXJzaW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWplY3QoZ2xvYmFsVmVyc2lvbik7XG4gICAgfVxuXG4gICAgaWYgKG93blZlcnNpb25QYXJzZWQubWlub3IgPD0gZ2xvYmFsVmVyc2lvblBhcnNlZC5taW5vcikge1xuICAgICAgcmV0dXJuIF9hY2NlcHQoZ2xvYmFsVmVyc2lvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZWplY3QoZ2xvYmFsVmVyc2lvbik7XG4gIH07XG59XG5cbi8qKlxuICogVGVzdCBhbiBBUEkgdmVyc2lvbiB0byBzZWUgaWYgaXQgaXMgY29tcGF0aWJsZSB3aXRoIHRoaXMgQVBJLlxuICpcbiAqIC0gRXhhY3QgbWF0Y2ggaXMgYWx3YXlzIGNvbXBhdGlibGVcbiAqIC0gTWFqb3IgdmVyc2lvbnMgbXVzdCBtYXRjaCBleGFjdGx5XG4gKiAgICAtIDEueCBwYWNrYWdlIGNhbm5vdCB1c2UgZ2xvYmFsIDIueCBwYWNrYWdlXG4gKiAgICAtIDIueCBwYWNrYWdlIGNhbm5vdCB1c2UgZ2xvYmFsIDEueCBwYWNrYWdlXG4gKiAtIFRoZSBtaW5vciB2ZXJzaW9uIG9mIHRoZSBBUEkgbW9kdWxlIHJlcXVlc3RpbmcgYWNjZXNzIHRvIHRoZSBnbG9iYWwgQVBJIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBtaW5vciB2ZXJzaW9uIG9mIHRoaXMgQVBJXG4gKiAgICAtIDEuMyBwYWNrYWdlIG1heSB1c2UgMS40IGdsb2JhbCBiZWNhdXNlIHRoZSBsYXRlciBnbG9iYWwgY29udGFpbnMgYWxsIGZ1bmN0aW9ucyAxLjMgZXhwZWN0c1xuICogICAgLSAxLjQgcGFja2FnZSBtYXkgTk9UIHVzZSAxLjMgZ2xvYmFsIGJlY2F1c2UgaXQgbWF5IHRyeSB0byBjYWxsIGZ1bmN0aW9ucyB3aGljaCBkb24ndCBleGlzdCBvbiAxLjNcbiAqIC0gSWYgdGhlIG1ham9yIHZlcnNpb24gaXMgMCwgdGhlIG1pbm9yIHZlcnNpb24gaXMgdHJlYXRlZCBhcyB0aGUgbWFqb3IgYW5kIHRoZSBwYXRjaCBpcyB0cmVhdGVkIGFzIHRoZSBtaW5vclxuICogLSBQYXRjaCBhbmQgYnVpbGQgdGFnIGRpZmZlcmVuY2VzIGFyZSBub3QgY29uc2lkZXJlZCBhdCB0aGlzIHRpbWVcbiAqXG4gKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIG9mIHRoZSBBUEkgcmVxdWVzdGluZyBhbiBpbnN0YW5jZSBvZiB0aGUgZ2xvYmFsIEFQSVxuICovXG5leHBvcnQgY29uc3QgaXNDb21wYXRpYmxlID0gX21ha2VDb21wYXRpYmlsaXR5Q2hlY2soVkVSU0lPTik7XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgTWV0ZXJQcm92aWRlciB9IGZyb20gJy4uL21ldHJpY3MvTWV0ZXJQcm92aWRlcic7XG5pbXBvcnQgeyBDb250ZXh0TWFuYWdlciB9IGZyb20gJy4uL2NvbnRleHQvdHlwZXMnO1xuaW1wb3J0IHsgRGlhZ0xvZ2dlciB9IGZyb20gJy4uL2RpYWcvdHlwZXMnO1xuaW1wb3J0IHsgX2dsb2JhbFRoaXMgfSBmcm9tICcuLi9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBUZXh0TWFwUHJvcGFnYXRvciB9IGZyb20gJy4uL3Byb3BhZ2F0aW9uL1RleHRNYXBQcm9wYWdhdG9yJztcbmltcG9ydCB0eXBlIHsgVHJhY2VyUHJvdmlkZXIgfSBmcm9tICcuLi90cmFjZS90cmFjZXJfcHJvdmlkZXInO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuaW1wb3J0IHsgaXNDb21wYXRpYmxlIH0gZnJvbSAnLi9zZW12ZXInO1xuXG5jb25zdCBtYWpvciA9IFZFUlNJT04uc3BsaXQoJy4nKVswXTtcbmNvbnN0IEdMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVkgPSBTeW1ib2wuZm9yKFxuICBgb3BlbnRlbGVtZXRyeS5qcy5hcGkuJHttYWpvcn1gXG4pO1xuXG5jb25zdCBfZ2xvYmFsID0gX2dsb2JhbFRoaXMgYXMgT1RlbEdsb2JhbDtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyR2xvYmFsPFR5cGUgZXh0ZW5kcyBrZXlvZiBPVGVsR2xvYmFsQVBJPihcbiAgdHlwZTogVHlwZSxcbiAgaW5zdGFuY2U6IE9UZWxHbG9iYWxBUElbVHlwZV0sXG4gIGRpYWc6IERpYWdMb2dnZXIsXG4gIGFsbG93T3ZlcnJpZGUgPSBmYWxzZVxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IGFwaSA9IChfZ2xvYmFsW0dMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVldID0gX2dsb2JhbFtcbiAgICBHTE9CQUxfT1BFTlRFTEVNRVRSWV9BUElfS0VZXG4gIF0gPz8ge1xuICAgIHZlcnNpb246IFZFUlNJT04sXG4gIH0pO1xuXG4gIGlmICghYWxsb3dPdmVycmlkZSAmJiBhcGlbdHlwZV0pIHtcbiAgICAvLyBhbHJlYWR5IHJlZ2lzdGVyZWQgYW4gQVBJIG9mIHRoaXMgdHlwZVxuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAgIGBAb3BlbnRlbGVtZXRyeS9hcGk6IEF0dGVtcHRlZCBkdXBsaWNhdGUgcmVnaXN0cmF0aW9uIG9mIEFQSTogJHt0eXBlfWBcbiAgICApO1xuICAgIGRpYWcuZXJyb3IoZXJyLnN0YWNrIHx8IGVyci5tZXNzYWdlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoYXBpLnZlcnNpb24gIT09IFZFUlNJT04pIHtcbiAgICAvLyBBbGwgcmVnaXN0ZXJlZCBBUElzIG11c3QgYmUgb2YgdGhlIHNhbWUgdmVyc2lvbiBleGFjdGx5XG4gICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgYEBvcGVudGVsZW1ldHJ5L2FwaTogUmVnaXN0cmF0aW9uIG9mIHZlcnNpb24gdiR7YXBpLnZlcnNpb259IGZvciAke3R5cGV9IGRvZXMgbm90IG1hdGNoIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBBUEkgdiR7VkVSU0lPTn1gXG4gICAgKTtcbiAgICBkaWFnLmVycm9yKGVyci5zdGFjayB8fCBlcnIubWVzc2FnZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgYXBpW3R5cGVdID0gaW5zdGFuY2U7XG4gIGRpYWcuZGVidWcoXG4gICAgYEBvcGVudGVsZW1ldHJ5L2FwaTogUmVnaXN0ZXJlZCBhIGdsb2JhbCBmb3IgJHt0eXBlfSB2JHtWRVJTSU9OfS5gXG4gICk7XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRHbG9iYWw8VHlwZSBleHRlbmRzIGtleW9mIE9UZWxHbG9iYWxBUEk+KFxuICB0eXBlOiBUeXBlXG4pOiBPVGVsR2xvYmFsQVBJW1R5cGVdIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgZ2xvYmFsVmVyc2lvbiA9IF9nbG9iYWxbR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWV0/LnZlcnNpb247XG4gIGlmICghZ2xvYmFsVmVyc2lvbiB8fCAhaXNDb21wYXRpYmxlKGdsb2JhbFZlcnNpb24pKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiBfZ2xvYmFsW0dMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVldPy5bdHlwZV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnJlZ2lzdGVyR2xvYmFsKHR5cGU6IGtleW9mIE9UZWxHbG9iYWxBUEksIGRpYWc6IERpYWdMb2dnZXIpIHtcbiAgZGlhZy5kZWJ1ZyhcbiAgICBgQG9wZW50ZWxlbWV0cnkvYXBpOiBVbnJlZ2lzdGVyaW5nIGEgZ2xvYmFsIGZvciAke3R5cGV9IHYke1ZFUlNJT059LmBcbiAgKTtcbiAgY29uc3QgYXBpID0gX2dsb2JhbFtHTE9CQUxfT1BFTlRFTEVNRVRSWV9BUElfS0VZXTtcblxuICBpZiAoYXBpKSB7XG4gICAgZGVsZXRlIGFwaVt0eXBlXTtcbiAgfVxufVxuXG50eXBlIE9UZWxHbG9iYWwgPSB7XG4gIFtHTE9CQUxfT1BFTlRFTEVNRVRSWV9BUElfS0VZXT86IE9UZWxHbG9iYWxBUEk7XG59O1xuXG50eXBlIE9UZWxHbG9iYWxBUEkgPSB7XG4gIHZlcnNpb246IHN0cmluZztcblxuICBkaWFnPzogRGlhZ0xvZ2dlcjtcbiAgdHJhY2U/OiBUcmFjZXJQcm92aWRlcjtcbiAgY29udGV4dD86IENvbnRleHRNYW5hZ2VyO1xuICBtZXRyaWNzPzogTWV0ZXJQcm92aWRlcjtcbiAgcHJvcGFnYXRpb24/OiBUZXh0TWFwUHJvcGFnYXRvcjtcbn07XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgZ2V0R2xvYmFsIH0gZnJvbSAnLi4vaW50ZXJuYWwvZ2xvYmFsLXV0aWxzJztcbmltcG9ydCB7IENvbXBvbmVudExvZ2dlck9wdGlvbnMsIERpYWdMb2dnZXIsIERpYWdMb2dGdW5jdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIENvbXBvbmVudCBMb2dnZXIgd2hpY2ggaXMgbWVhbnQgdG8gYmUgdXNlZCBhcyBwYXJ0IG9mIGFueSBjb21wb25lbnQgd2hpY2hcbiAqIHdpbGwgYWRkIGF1dG9tYXRpY2FsbHkgYWRkaXRpb25hbCBuYW1lc3BhY2UgaW4gZnJvbnQgb2YgdGhlIGxvZyBtZXNzYWdlLlxuICogSXQgd2lsbCB0aGVuIGZvcndhcmQgYWxsIG1lc3NhZ2UgdG8gZ2xvYmFsIGRpYWcgbG9nZ2VyXG4gKiBAZXhhbXBsZVxuICogY29uc3QgY0xvZ2dlciA9IGRpYWcuY3JlYXRlQ29tcG9uZW50TG9nZ2VyKHsgbmFtZXNwYWNlOiAnQG9wZW50ZWxlbWV0cnkvaW5zdHJ1bWVudGF0aW9uLWh0dHAnIH0pO1xuICogY0xvZ2dlci5kZWJ1ZygndGVzdCcpO1xuICogLy8gQG9wZW50ZWxlbWV0cnkvaW5zdHJ1bWVudGF0aW9uLWh0dHAgdGVzdFxuICovXG5leHBvcnQgY2xhc3MgRGlhZ0NvbXBvbmVudExvZ2dlciBpbXBsZW1lbnRzIERpYWdMb2dnZXIge1xuICBwcml2YXRlIF9uYW1lc3BhY2U6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogQ29tcG9uZW50TG9nZ2VyT3B0aW9ucykge1xuICAgIHRoaXMuX25hbWVzcGFjZSA9IHByb3BzLm5hbWVzcGFjZSB8fCAnRGlhZ0NvbXBvbmVudExvZ2dlcic7XG4gIH1cblxuICBwdWJsaWMgZGVidWcoLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICByZXR1cm4gbG9nUHJveHkoJ2RlYnVnJywgdGhpcy5fbmFtZXNwYWNlLCBhcmdzKTtcbiAgfVxuXG4gIHB1YmxpYyBlcnJvciguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIHJldHVybiBsb2dQcm94eSgnZXJyb3InLCB0aGlzLl9uYW1lc3BhY2UsIGFyZ3MpO1xuICB9XG5cbiAgcHVibGljIGluZm8oLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICByZXR1cm4gbG9nUHJveHkoJ2luZm8nLCB0aGlzLl9uYW1lc3BhY2UsIGFyZ3MpO1xuICB9XG5cbiAgcHVibGljIHdhcm4oLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICByZXR1cm4gbG9nUHJveHkoJ3dhcm4nLCB0aGlzLl9uYW1lc3BhY2UsIGFyZ3MpO1xuICB9XG5cbiAgcHVibGljIHZlcmJvc2UoLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICByZXR1cm4gbG9nUHJveHkoJ3ZlcmJvc2UnLCB0aGlzLl9uYW1lc3BhY2UsIGFyZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGxvZ1Byb3h5KFxuICBmdW5jTmFtZToga2V5b2YgRGlhZ0xvZ2dlcixcbiAgbmFtZXNwYWNlOiBzdHJpbmcsXG4gIGFyZ3M6IGFueVxuKTogdm9pZCB7XG4gIGNvbnN0IGxvZ2dlciA9IGdldEdsb2JhbCgnZGlhZycpO1xuICAvLyBzaG9ydGN1dCBpZiBsb2dnZXIgbm90IHNldFxuICBpZiAoIWxvZ2dlcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGFyZ3MudW5zaGlmdChuYW1lc3BhY2UpO1xuICByZXR1cm4gbG9nZ2VyW2Z1bmNOYW1lXSguLi4oYXJncyBhcyBQYXJhbWV0ZXJzPERpYWdMb2dGdW5jdGlvbj4pKTtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgdHlwZSBEaWFnTG9nRnVuY3Rpb24gPSAobWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiB1bmtub3duW10pID0+IHZvaWQ7XG5cbi8qKlxuICogRGVmaW5lcyBhbiBpbnRlcm5hbCBkaWFnbm9zdGljIGxvZ2dlciBpbnRlcmZhY2Ugd2hpY2ggaXMgdXNlZCB0byBsb2cgaW50ZXJuYWwgZGlhZ25vc3RpY1xuICogbWVzc2FnZXMsIHlvdSBjYW4gc2V0IHRoZSBkZWZhdWx0IGRpYWdub3N0aWMgbG9nZ2VyIHZpYSB0aGUge0BsaW5rIERpYWdBUEl9IHNldExvZ2dlciBmdW5jdGlvbi5cbiAqIEFQSSBwcm92aWRlZCBpbXBsZW1lbnRhdGlvbnMgaW5jbHVkZSA6LVxuICogLSBhIE5vLU9wIHtAbGluayBjcmVhdGVOb29wRGlhZ0xvZ2dlcn1cbiAqIC0gYSB7QGxpbmsgRGlhZ0xvZ0xldmVsfSBmaWx0ZXJpbmcgd3JhcHBlciB7QGxpbmsgY3JlYXRlTG9nTGV2ZWxEaWFnTG9nZ2VyfVxuICogLSBhIGdlbmVyYWwgQ29uc29sZSB7QGxpbmsgRGlhZ0NvbnNvbGVMb2dnZXJ9IHZlcnNpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGlhZ0xvZ2dlciB7XG4gIC8qKiBMb2cgYW4gZXJyb3Igc2NlbmFyaW8gdGhhdCB3YXMgbm90IGV4cGVjdGVkIGFuZCBjYXVzZWQgdGhlIHJlcXVlc3RlZCBvcGVyYXRpb24gdG8gZmFpbC4gKi9cbiAgZXJyb3I6IERpYWdMb2dGdW5jdGlvbjtcblxuICAvKipcbiAgICogTG9nIGEgd2FybmluZyBzY2VuYXJpbyB0byBpbmZvcm0gdGhlIGRldmVsb3BlciBvZiBhbiBpc3N1ZXMgdGhhdCBzaG91bGQgYmUgaW52ZXN0aWdhdGVkLlxuICAgKiBUaGUgcmVxdWVzdGVkIG9wZXJhdGlvbiBtYXkgb3IgbWF5IG5vdCBoYXZlIHN1Y2NlZWRlZCBvciBjb21wbGV0ZWQuXG4gICAqL1xuICB3YXJuOiBEaWFnTG9nRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIExvZyBhIGdlbmVyYWwgaW5mb3JtYXRpb25hbCBtZXNzYWdlLCB0aGlzIHNob3VsZCBub3QgYWZmZWN0IGZ1bmN0aW9uYWxpdHkuXG4gICAqIFRoaXMgaXMgYWxzbyB0aGUgZGVmYXVsdCBsb2dnaW5nIGxldmVsIHNvIHRoaXMgc2hvdWxkIE5PVCBiZSB1c2VkIGZvciBsb2dnaW5nXG4gICAqIGRlYnVnZ2luZyBsZXZlbCBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGluZm86IERpYWdMb2dGdW5jdGlvbjtcblxuICAvKipcbiAgICogTG9nIGEgZ2VuZXJhbCBkZWJ1ZyBtZXNzYWdlIHRoYXQgY2FuIGJlIHVzZWZ1bCBmb3IgaWRlbnRpZnlpbmcgYSBmYWlsdXJlLlxuICAgKiBJbmZvcm1hdGlvbiBsb2dnZWQgYXQgdGhpcyBsZXZlbCBtYXkgaW5jbHVkZSBkaWFnbm9zdGljIGRldGFpbHMgdGhhdCB3b3VsZFxuICAgKiBoZWxwIGlkZW50aWZ5IGEgZmFpbHVyZSBzY2VuYXJpby5cbiAgICogRm9yIGV4YW1wbGU6IExvZ2dpbmcgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiBvZiBhc3luYyBvcGVyYXRpb25zLlxuICAgKi9cbiAgZGVidWc6IERpYWdMb2dGdW5jdGlvbjtcblxuICAvKipcbiAgICogTG9nIGEgZGV0YWlsZWQgKHZlcmJvc2UpIHRyYWNlIGxldmVsIGxvZ2dpbmcgdGhhdCBjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBmYWlsdXJlc1xuICAgKiB3aGVyZSBkZWJ1ZyBsZXZlbCBsb2dnaW5nIHdvdWxkIGJlIGluc3VmZmljaWVudCwgdGhpcyBsZXZlbCBvZiB0cmFjaW5nIGNhbiBpbmNsdWRlXG4gICAqIGlucHV0IGFuZCBvdXRwdXQgcGFyYW1ldGVycyBhbmQgYXMgc3VjaCBtYXkgaW5jbHVkZSBQSUkgaW5mb3JtYXRpb24gcGFzc2luZyB0aHJvdWdoXG4gICAqIHRoZSBBUEkuIEFzIHN1Y2ggaXQgaXMgcmVjb21tZW5kZWQgdGhhdCB0aGlzIGxldmVsIG9mIHRyYWNpbmcgc2hvdWxkIG5vdCBiZSBlbmFibGVkXG4gICAqIGluIGEgcHJvZHVjdGlvbiBlbnZpcm9ubWVudC5cbiAgICovXG4gIHZlcmJvc2U6IERpYWdMb2dGdW5jdGlvbjtcbn1cblxuLyoqXG4gKiBEZWZpbmVzIHRoZSBhdmFpbGFibGUgaW50ZXJuYWwgbG9nZ2luZyBsZXZlbHMgZm9yIHRoZSBkaWFnbm9zdGljIGxvZ2dlciwgdGhlIG51bWVyaWMgdmFsdWVzXG4gKiBvZiB0aGUgbGV2ZWxzIGFyZSBkZWZpbmVkIHRvIG1hdGNoIHRoZSBvcmlnaW5hbCB2YWx1ZXMgZnJvbSB0aGUgaW5pdGlhbCBMb2dMZXZlbCB0byBhdm9pZFxuICogY29tcGF0aWJpbGl0eS9taWdyYXRpb24gaXNzdWVzIGZvciBhbnkgaW1wbGVtZW50YXRpb24gdGhhdCBhc3N1bWUgdGhlIG51bWVyaWMgb3JkZXJpbmcuXG4gKi9cbmV4cG9ydCBlbnVtIERpYWdMb2dMZXZlbCB7XG4gIC8qKiBEaWFnbm9zdGljIExvZ2dpbmcgbGV2ZWwgc2V0dGluZyB0byBkaXNhYmxlIGFsbCBsb2dnaW5nIChleGNlcHQgYW5kIGZvcmNlZCBsb2dzKSAqL1xuICBOT05FID0gMCxcblxuICAvKiogSWRlbnRpZmllcyBhbiBlcnJvciBzY2VuYXJpbyAqL1xuICBFUlJPUiA9IDMwLFxuXG4gIC8qKiBJZGVudGlmaWVzIGEgd2FybmluZyBzY2VuYXJpbyAqL1xuICBXQVJOID0gNTAsXG5cbiAgLyoqIEdlbmVyYWwgaW5mb3JtYXRpb25hbCBsb2cgbWVzc2FnZSAqL1xuICBJTkZPID0gNjAsXG5cbiAgLyoqIEdlbmVyYWwgZGVidWcgbG9nIG1lc3NhZ2UgKi9cbiAgREVCVUcgPSA3MCxcblxuICAvKipcbiAgICogRGV0YWlsZWQgdHJhY2UgbGV2ZWwgbG9nZ2luZyBzaG91bGQgb25seSBiZSB1c2VkIGZvciBkZXZlbG9wbWVudCwgc2hvdWxkIG9ubHkgYmUgc2V0XG4gICAqIGluIGEgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnQuXG4gICAqL1xuICBWRVJCT1NFID0gODAsXG5cbiAgLyoqIFVzZWQgdG8gc2V0IHRoZSBsb2dnaW5nIGxldmVsIHRvIGluY2x1ZGUgYWxsIGxvZ2dpbmcgKi9cbiAgQUxMID0gOTk5OSxcbn1cblxuLyoqXG4gKiBEZWZpbmVzIG9wdGlvbnMgZm9yIENvbXBvbmVudExvZ2dlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudExvZ2dlck9wdGlvbnMge1xuICBuYW1lc3BhY2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFnTG9nZ2VyT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUge0BsaW5rIERpYWdMb2dMZXZlbH0gdXNlZCB0byBmaWx0ZXIgbG9ncyBzZW50IHRvIHRoZSBsb2dnZXIuXG4gICAqXG4gICAqIEBkZWZhdWx0VmFsdWUgRGlhZ0xvZ0xldmVsLklORk9cbiAgICovXG4gIGxvZ0xldmVsPzogRGlhZ0xvZ0xldmVsO1xuXG4gIC8qKlxuICAgKiBTZXR0aW5nIHRoaXMgdmFsdWUgdG8gYHRydWVgIHdpbGwgc3VwcHJlc3MgdGhlIHdhcm5pbmcgbWVzc2FnZSBub3JtYWxseSBlbWl0dGVkIHdoZW4gcmVnaXN0ZXJpbmcgYSBsb2dnZXIgd2hlbiBhbm90aGVyIGxvZ2dlciBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuXG4gICAqL1xuICBzdXBwcmVzc092ZXJyaWRlTWVzc2FnZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlhZ0xvZ2dlckFwaSB7XG4gIC8qKlxuICAgKiBTZXQgdGhlIGdsb2JhbCBEaWFnTG9nZ2VyIGFuZCBEaWFnTG9nTGV2ZWwuXG4gICAqIElmIGEgZ2xvYmFsIGRpYWcgbG9nZ2VyIGlzIGFscmVhZHkgc2V0LCB0aGlzIHdpbGwgb3ZlcnJpZGUgaXQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2dnZXIgLSBUaGUge0BsaW5rIERpYWdMb2dnZXJ9IGluc3RhbmNlIHRvIHNldCBhcyB0aGUgZGVmYXVsdCBsb2dnZXIuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQSB7QGxpbmsgRGlhZ0xvZ2dlck9wdGlvbnN9IG9iamVjdC4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0IHZhbHVlcyB3aWxsIGJlIHNldC5cbiAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBsb2dnZXIgd2FzIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCBlbHNlIGBmYWxzZWBcbiAgICovXG4gIHNldExvZ2dlcihsb2dnZXI6IERpYWdMb2dnZXIsIG9wdGlvbnM/OiBEaWFnTG9nZ2VyT3B0aW9ucyk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBsb2dnZXIgLSBUaGUge0BsaW5rIERpYWdMb2dnZXJ9IGluc3RhbmNlIHRvIHNldCBhcyB0aGUgZGVmYXVsdCBsb2dnZXIuXG4gICAqIEBwYXJhbSBsb2dMZXZlbCAtIFRoZSB7QGxpbmsgRGlhZ0xvZ0xldmVsfSB1c2VkIHRvIGZpbHRlciBsb2dzIHNlbnQgdG8gdGhlIGxvZ2dlci4gSWYgbm90IHByb3ZpZGVkIGl0IHdpbGwgZGVmYXVsdCB0byB7QGxpbmsgRGlhZ0xvZ0xldmVsLklORk99LlxuICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGxvZ2dlciB3YXMgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQsIGVsc2UgYGZhbHNlYFxuICAgKi9cbiAgc2V0TG9nZ2VyKGxvZ2dlcjogRGlhZ0xvZ2dlciwgbG9nTGV2ZWw/OiBEaWFnTG9nTGV2ZWwpOiBib29sZWFuO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IERpYWdMb2dGdW5jdGlvbiwgRGlhZ0xvZ2dlciwgRGlhZ0xvZ0xldmVsIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9nTGV2ZWxEaWFnTG9nZ2VyKFxuICBtYXhMZXZlbDogRGlhZ0xvZ0xldmVsLFxuICBsb2dnZXI6IERpYWdMb2dnZXJcbik6IERpYWdMb2dnZXIge1xuICBpZiAobWF4TGV2ZWwgPCBEaWFnTG9nTGV2ZWwuTk9ORSkge1xuICAgIG1heExldmVsID0gRGlhZ0xvZ0xldmVsLk5PTkU7XG4gIH0gZWxzZSBpZiAobWF4TGV2ZWwgPiBEaWFnTG9nTGV2ZWwuQUxMKSB7XG4gICAgbWF4TGV2ZWwgPSBEaWFnTG9nTGV2ZWwuQUxMO1xuICB9XG5cbiAgLy8gSW4gY2FzZSB0aGUgbG9nZ2VyIGlzIG51bGwgb3IgdW5kZWZpbmVkXG4gIGxvZ2dlciA9IGxvZ2dlciB8fCB7fTtcblxuICBmdW5jdGlvbiBfZmlsdGVyRnVuYyhcbiAgICBmdW5jTmFtZToga2V5b2YgRGlhZ0xvZ2dlcixcbiAgICB0aGVMZXZlbDogRGlhZ0xvZ0xldmVsXG4gICk6IERpYWdMb2dGdW5jdGlvbiB7XG4gICAgY29uc3QgdGhlRnVuYyA9IGxvZ2dlcltmdW5jTmFtZV07XG5cbiAgICBpZiAodHlwZW9mIHRoZUZ1bmMgPT09ICdmdW5jdGlvbicgJiYgbWF4TGV2ZWwgPj0gdGhlTGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGVGdW5jLmJpbmQobG9nZ2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHt9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBlcnJvcjogX2ZpbHRlckZ1bmMoJ2Vycm9yJywgRGlhZ0xvZ0xldmVsLkVSUk9SKSxcbiAgICB3YXJuOiBfZmlsdGVyRnVuYygnd2FybicsIERpYWdMb2dMZXZlbC5XQVJOKSxcbiAgICBpbmZvOiBfZmlsdGVyRnVuYygnaW5mbycsIERpYWdMb2dMZXZlbC5JTkZPKSxcbiAgICBkZWJ1ZzogX2ZpbHRlckZ1bmMoJ2RlYnVnJywgRGlhZ0xvZ0xldmVsLkRFQlVHKSxcbiAgICB2ZXJib3NlOiBfZmlsdGVyRnVuYygndmVyYm9zZScsIERpYWdMb2dMZXZlbC5WRVJCT1NFKSxcbiAgfTtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBEaWFnQ29tcG9uZW50TG9nZ2VyIH0gZnJvbSAnLi4vZGlhZy9Db21wb25lbnRMb2dnZXInO1xuaW1wb3J0IHsgY3JlYXRlTG9nTGV2ZWxEaWFnTG9nZ2VyIH0gZnJvbSAnLi4vZGlhZy9pbnRlcm5hbC9sb2dMZXZlbExvZ2dlcic7XG5pbXBvcnQge1xuICBDb21wb25lbnRMb2dnZXJPcHRpb25zLFxuICBEaWFnTG9nRnVuY3Rpb24sXG4gIERpYWdMb2dnZXIsXG4gIERpYWdMb2dnZXJBcGksXG4gIERpYWdMb2dMZXZlbCxcbn0gZnJvbSAnLi4vZGlhZy90eXBlcyc7XG5pbXBvcnQge1xuICBnZXRHbG9iYWwsXG4gIHJlZ2lzdGVyR2xvYmFsLFxuICB1bnJlZ2lzdGVyR2xvYmFsLFxufSBmcm9tICcuLi9pbnRlcm5hbC9nbG9iYWwtdXRpbHMnO1xuXG5jb25zdCBBUElfTkFNRSA9ICdkaWFnJztcblxuLyoqXG4gKiBTaW5nbGV0b24gb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgdGhlIGVudHJ5IHBvaW50IHRvIHRoZSBPcGVuVGVsZW1ldHJ5IGludGVybmFsXG4gKiBkaWFnbm9zdGljIEFQSVxuICovXG5leHBvcnQgY2xhc3MgRGlhZ0FQSSBpbXBsZW1lbnRzIERpYWdMb2dnZXIsIERpYWdMb2dnZXJBcGkge1xuICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U/OiBEaWFnQVBJO1xuXG4gIC8qKiBHZXQgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGUgRGlhZ0FQSSBBUEkgKi9cbiAgcHVibGljIHN0YXRpYyBpbnN0YW5jZSgpOiBEaWFnQVBJIHtcbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBEaWFnQVBJKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFByaXZhdGUgaW50ZXJuYWwgY29uc3RydWN0b3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgZnVuY3Rpb24gX2xvZ1Byb3h5KGZ1bmNOYW1lOiBrZXlvZiBEaWFnTG9nZ2VyKTogRGlhZ0xvZ0Z1bmN0aW9uIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBnZXRHbG9iYWwoJ2RpYWcnKTtcbiAgICAgICAgLy8gc2hvcnRjdXQgaWYgbG9nZ2VyIG5vdCBzZXRcbiAgICAgICAgaWYgKCFsb2dnZXIpIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGxvZ2dlcltmdW5jTmFtZV0oLi4uYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFVzaW5nIHNlbGYgbG9jYWwgdmFyaWFibGUgZm9yIG1pbmlmaWNhdGlvbiBwdXJwb3NlcyBhcyAndGhpcycgY2Fubm90IGJlIG1pbmlmaWVkXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBEaWFnQVBJIHNwZWNpZmljIGZ1bmN0aW9uc1xuXG4gICAgY29uc3Qgc2V0TG9nZ2VyOiBEaWFnTG9nZ2VyQXBpWydzZXRMb2dnZXInXSA9IChcbiAgICAgIGxvZ2dlcixcbiAgICAgIG9wdGlvbnNPckxvZ0xldmVsID0geyBsb2dMZXZlbDogRGlhZ0xvZ0xldmVsLklORk8gfVxuICAgICkgPT4ge1xuICAgICAgaWYgKGxvZ2dlciA9PT0gc2VsZikge1xuICAgICAgICAvLyBUaGVyZSBpc24ndCBtdWNoIHdlIGNhbiBkbyBoZXJlLlxuICAgICAgICAvLyBMb2dnaW5nIHRvIHRoZSBjb25zb2xlIG1pZ2h0IGJyZWFrIHRoZSB1c2VyIGFwcGxpY2F0aW9uLlxuICAgICAgICAvLyBUcnkgdG8gbG9nIHRvIHNlbGYuIElmIGEgbG9nZ2VyIHdhcyBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgaXQgd2lsbCByZWNlaXZlIHRoZSBsb2cuXG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAnQ2Fubm90IHVzZSBkaWFnIGFzIHRoZSBsb2dnZXIgZm9yIGl0c2VsZi4gUGxlYXNlIHVzZSBhIERpYWdMb2dnZXIgaW1wbGVtZW50YXRpb24gbGlrZSBDb25zb2xlRGlhZ0xvZ2dlciBvciBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbidcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5lcnJvcihlcnIuc3RhY2sgPz8gZXJyLm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc09yTG9nTGV2ZWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgIG9wdGlvbnNPckxvZ0xldmVsID0ge1xuICAgICAgICAgIGxvZ0xldmVsOiBvcHRpb25zT3JMb2dMZXZlbCxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2xkTG9nZ2VyID0gZ2V0R2xvYmFsKCdkaWFnJyk7XG4gICAgICBjb25zdCBuZXdMb2dnZXIgPSBjcmVhdGVMb2dMZXZlbERpYWdMb2dnZXIoXG4gICAgICAgIG9wdGlvbnNPckxvZ0xldmVsLmxvZ0xldmVsID8/IERpYWdMb2dMZXZlbC5JTkZPLFxuICAgICAgICBsb2dnZXJcbiAgICAgICk7XG4gICAgICAvLyBUaGVyZSBhbHJlYWR5IGlzIGFuIGxvZ2dlciByZWdpc3RlcmVkLiBXZSdsbCBsZXQgaXQga25vdyBiZWZvcmUgb3ZlcndyaXRpbmcgaXQuXG4gICAgICBpZiAob2xkTG9nZ2VyICYmICFvcHRpb25zT3JMb2dMZXZlbC5zdXBwcmVzc092ZXJyaWRlTWVzc2FnZSkge1xuICAgICAgICBjb25zdCBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrID8/ICc8ZmFpbGVkIHRvIGdlbmVyYXRlIHN0YWNrdHJhY2U+JztcbiAgICAgICAgb2xkTG9nZ2VyLndhcm4oYEN1cnJlbnQgbG9nZ2VyIHdpbGwgYmUgb3ZlcndyaXR0ZW4gZnJvbSAke3N0YWNrfWApO1xuICAgICAgICBuZXdMb2dnZXIud2FybihcbiAgICAgICAgICBgQ3VycmVudCBsb2dnZXIgd2lsbCBvdmVyd3JpdGUgb25lIGFscmVhZHkgcmVnaXN0ZXJlZCBmcm9tICR7c3RhY2t9YFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVnaXN0ZXJHbG9iYWwoJ2RpYWcnLCBuZXdMb2dnZXIsIHNlbGYsIHRydWUpO1xuICAgIH07XG5cbiAgICBzZWxmLnNldExvZ2dlciA9IHNldExvZ2dlcjtcblxuICAgIHNlbGYuZGlzYWJsZSA9ICgpID0+IHtcbiAgICAgIHVucmVnaXN0ZXJHbG9iYWwoQVBJX05BTUUsIHNlbGYpO1xuICAgIH07XG5cbiAgICBzZWxmLmNyZWF0ZUNvbXBvbmVudExvZ2dlciA9IChvcHRpb25zOiBDb21wb25lbnRMb2dnZXJPcHRpb25zKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IERpYWdDb21wb25lbnRMb2dnZXIob3B0aW9ucyk7XG4gICAgfTtcblxuICAgIHNlbGYudmVyYm9zZSA9IF9sb2dQcm94eSgndmVyYm9zZScpO1xuICAgIHNlbGYuZGVidWcgPSBfbG9nUHJveHkoJ2RlYnVnJyk7XG4gICAgc2VsZi5pbmZvID0gX2xvZ1Byb3h5KCdpbmZvJyk7XG4gICAgc2VsZi53YXJuID0gX2xvZ1Byb3h5KCd3YXJuJyk7XG4gICAgc2VsZi5lcnJvciA9IF9sb2dQcm94eSgnZXJyb3InKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRMb2dnZXIhOiBEaWFnTG9nZ2VyQXBpWydzZXRMb2dnZXInXTtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBwdWJsaWMgY3JlYXRlQ29tcG9uZW50TG9nZ2VyITogKFxuICAgIG9wdGlvbnM6IENvbXBvbmVudExvZ2dlck9wdGlvbnNcbiAgKSA9PiBEaWFnTG9nZ2VyO1xuXG4gIC8vIERpYWdMb2dnZXIgaW1wbGVtZW50YXRpb25cbiAgcHVibGljIHZlcmJvc2UhOiBEaWFnTG9nRnVuY3Rpb247XG4gIHB1YmxpYyBkZWJ1ZyE6IERpYWdMb2dGdW5jdGlvbjtcbiAgcHVibGljIGluZm8hOiBEaWFnTG9nRnVuY3Rpb247XG4gIHB1YmxpYyB3YXJuITogRGlhZ0xvZ0Z1bmN0aW9uO1xuICBwdWJsaWMgZXJyb3IhOiBEaWFnTG9nRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXIgdGhlIGdsb2JhbCBsb2dnZXIgYW5kIHJldHVybiB0byBOb29wXG4gICAqL1xuICBwdWJsaWMgZGlzYWJsZSE6ICgpID0+IHZvaWQ7XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKiogR2V0IGEga2V5IHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGEgY29udGV4dCB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHRLZXkoZGVzY3JpcHRpb246IHN0cmluZykge1xuICAvLyBUaGUgc3BlY2lmaWNhdGlvbiBzdGF0ZXMgdGhhdCBmb3IgdGhlIHNhbWUgaW5wdXQsIG11bHRpcGxlIGNhbGxzIHNob3VsZFxuICAvLyByZXR1cm4gZGlmZmVyZW50IGtleXMuIER1ZSB0byB0aGUgbmF0dXJlIG9mIHRoZSBKUyBkZXBlbmRlbmN5IG1hbmFnZW1lbnRcbiAgLy8gc3lzdGVtLCB0aGlzIGNyZWF0ZXMgcHJvYmxlbXMgd2hlcmUgbXVsdGlwbGUgdmVyc2lvbnMgb2Ygc29tZSBwYWNrYWdlXG4gIC8vIGNvdWxkIGhvbGQgZGlmZmVyZW50IGtleXMgZm9yIHRoZSBzYW1lIHByb3BlcnR5LlxuICAvL1xuICAvLyBUaGVyZWZvcmUsIHdlIHVzZSBTeW1ib2wuZm9yIHdoaWNoIHJldHVybnMgdGhlIHNhbWUga2V5IGZvciB0aGUgc2FtZSBpbnB1dC5cbiAgcmV0dXJuIFN5bWJvbC5mb3IoZGVzY3JpcHRpb24pO1xufVxuXG5jbGFzcyBCYXNlQ29udGV4dCBpbXBsZW1lbnRzIENvbnRleHQge1xuICBwcml2YXRlIF9jdXJyZW50Q29udGV4dCE6IE1hcDxzeW1ib2wsIHVua25vd24+O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBuZXcgY29udGV4dCB3aGljaCBpbmhlcml0cyB2YWx1ZXMgZnJvbSBhbiBvcHRpb25hbCBwYXJlbnQgY29udGV4dC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmVudENvbnRleHQgYSBjb250ZXh0IGZyb20gd2hpY2ggdG8gaW5oZXJpdCB2YWx1ZXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHBhcmVudENvbnRleHQ/OiBNYXA8c3ltYm9sLCB1bmtub3duPikge1xuICAgIC8vIGZvciBtaW5pZmljYXRpb25cbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuX2N1cnJlbnRDb250ZXh0ID0gcGFyZW50Q29udGV4dCA/IG5ldyBNYXAocGFyZW50Q29udGV4dCkgOiBuZXcgTWFwKCk7XG5cbiAgICBzZWxmLmdldFZhbHVlID0gKGtleTogc3ltYm9sKSA9PiBzZWxmLl9jdXJyZW50Q29udGV4dC5nZXQoa2V5KTtcblxuICAgIHNlbGYuc2V0VmFsdWUgPSAoa2V5OiBzeW1ib2wsIHZhbHVlOiB1bmtub3duKTogQ29udGV4dCA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gbmV3IEJhc2VDb250ZXh0KHNlbGYuX2N1cnJlbnRDb250ZXh0KTtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRDb250ZXh0LnNldChrZXksIHZhbHVlKTtcbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH07XG5cbiAgICBzZWxmLmRlbGV0ZVZhbHVlID0gKGtleTogc3ltYm9sKTogQ29udGV4dCA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gbmV3IEJhc2VDb250ZXh0KHNlbGYuX2N1cnJlbnRDb250ZXh0KTtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRDb250ZXh0LmRlbGV0ZShrZXkpO1xuICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSB2YWx1ZSBmcm9tIHRoZSBjb250ZXh0LlxuICAgKlxuICAgKiBAcGFyYW0ga2V5IGtleSB3aGljaCBpZGVudGlmaWVzIGEgY29udGV4dCB2YWx1ZVxuICAgKi9cbiAgcHVibGljIGdldFZhbHVlITogKGtleTogc3ltYm9sKSA9PiB1bmtub3duO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgY29udGV4dCB3aGljaCBpbmhlcml0cyBmcm9tIHRoaXMgY29udGV4dCBhbmQgaGFzXG4gICAqIHRoZSBnaXZlbiBrZXkgc2V0IHRvIHRoZSBnaXZlbiB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIGtleSBjb250ZXh0IGtleSBmb3Igd2hpY2ggdG8gc2V0IHRoZSB2YWx1ZVxuICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgdG8gc2V0IGZvciB0aGUgZ2l2ZW4ga2V5XG4gICAqL1xuICBwdWJsaWMgc2V0VmFsdWUhOiAoa2V5OiBzeW1ib2wsIHZhbHVlOiB1bmtub3duKSA9PiBDb250ZXh0O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBuZXcgY29udGV4dCB3aGljaCBpbmhlcml0cyBmcm9tIHRoaXMgY29udGV4dCBidXQgZG9lc1xuICAgKiBub3QgY29udGFpbiBhIHZhbHVlIGZvciB0aGUgZ2l2ZW4ga2V5LlxuICAgKlxuICAgKiBAcGFyYW0ga2V5IGNvbnRleHQga2V5IGZvciB3aGljaCB0byBjbGVhciBhIHZhbHVlXG4gICAqL1xuICBwdWJsaWMgZGVsZXRlVmFsdWUhOiAoa2V5OiBzeW1ib2wpID0+IENvbnRleHQ7XG59XG5cbi8qKiBUaGUgcm9vdCBjb250ZXh0IGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgcGFyZW50IGNvbnRleHQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29udGV4dCAqL1xuZXhwb3J0IGNvbnN0IFJPT1RfQ09OVEVYVDogQ29udGV4dCA9IG5ldyBCYXNlQ29udGV4dCgpO1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFJPT1RfQ09OVEVYVCB9IGZyb20gJy4vY29udGV4dCc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIE5vb3BDb250ZXh0TWFuYWdlciBpbXBsZW1lbnRzIHR5cGVzLkNvbnRleHRNYW5hZ2VyIHtcbiAgYWN0aXZlKCk6IHR5cGVzLkNvbnRleHQge1xuICAgIHJldHVybiBST09UX0NPTlRFWFQ7XG4gIH1cblxuICB3aXRoPEEgZXh0ZW5kcyB1bmtub3duW10sIEYgZXh0ZW5kcyAoLi4uYXJnczogQSkgPT4gUmV0dXJuVHlwZTxGPj4oXG4gICAgX2NvbnRleHQ6IHR5cGVzLkNvbnRleHQsXG4gICAgZm46IEYsXG4gICAgdGhpc0FyZz86IFRoaXNQYXJhbWV0ZXJUeXBlPEY+LFxuICAgIC4uLmFyZ3M6IEFcbiAgKTogUmV0dXJuVHlwZTxGPiB7XG4gICAgcmV0dXJuIGZuLmNhbGwodGhpc0FyZywgLi4uYXJncyk7XG4gIH1cblxuICBiaW5kPFQ+KF9jb250ZXh0OiB0eXBlcy5Db250ZXh0LCB0YXJnZXQ6IFQpOiBUIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZW5hYmxlKCk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZGlzYWJsZSgpOiB0aGlzIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IE5vb3BDb250ZXh0TWFuYWdlciB9IGZyb20gJy4uL2NvbnRleHQvTm9vcENvbnRleHRNYW5hZ2VyJztcbmltcG9ydCB7IENvbnRleHQsIENvbnRleHRNYW5hZ2VyIH0gZnJvbSAnLi4vY29udGV4dC90eXBlcyc7XG5pbXBvcnQge1xuICBnZXRHbG9iYWwsXG4gIHJlZ2lzdGVyR2xvYmFsLFxuICB1bnJlZ2lzdGVyR2xvYmFsLFxufSBmcm9tICcuLi9pbnRlcm5hbC9nbG9iYWwtdXRpbHMnO1xuaW1wb3J0IHsgRGlhZ0FQSSB9IGZyb20gJy4vZGlhZyc7XG5cbmNvbnN0IEFQSV9OQU1FID0gJ2NvbnRleHQnO1xuY29uc3QgTk9PUF9DT05URVhUX01BTkFHRVIgPSBuZXcgTm9vcENvbnRleHRNYW5hZ2VyKCk7XG5cbi8qKlxuICogU2luZ2xldG9uIG9iamVjdCB3aGljaCByZXByZXNlbnRzIHRoZSBlbnRyeSBwb2ludCB0byB0aGUgT3BlblRlbGVtZXRyeSBDb250ZXh0IEFQSVxuICovXG5leHBvcnQgY2xhc3MgQ29udGV4dEFQSSB7XG4gIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZT86IENvbnRleHRBUEk7XG5cbiAgLyoqIEVtcHR5IHByaXZhdGUgY29uc3RydWN0b3IgcHJldmVudHMgZW5kIHVzZXJzIGZyb20gY29uc3RydWN0aW5nIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBBUEkgKi9cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgLyoqIEdldCB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBDb250ZXh0IEFQSSAqL1xuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IENvbnRleHRBUEkge1xuICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IENvbnRleHRBUEkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IGNvbnRleHQgbWFuYWdlci5cbiAgICpcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgY29udGV4dCBtYW5hZ2VyIHdhcyBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCwgZWxzZSBmYWxzZVxuICAgKi9cbiAgcHVibGljIHNldEdsb2JhbENvbnRleHRNYW5hZ2VyKGNvbnRleHRNYW5hZ2VyOiBDb250ZXh0TWFuYWdlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiByZWdpc3Rlckdsb2JhbChBUElfTkFNRSwgY29udGV4dE1hbmFnZXIsIERpYWdBUEkuaW5zdGFuY2UoKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIGNvbnRleHRcbiAgICovXG4gIHB1YmxpYyBhY3RpdmUoKTogQ29udGV4dCB7XG4gICAgcmV0dXJuIHRoaXMuX2dldENvbnRleHRNYW5hZ2VyKCkuYWN0aXZlKCk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBhIGZ1bmN0aW9uIHdpdGggYW4gYWN0aXZlIGNvbnRleHRcbiAgICpcbiAgICogQHBhcmFtIGNvbnRleHQgY29udGV4dCB0byBiZSBhY3RpdmUgZHVyaW5nIGZ1bmN0aW9uIGV4ZWN1dGlvblxuICAgKiBAcGFyYW0gZm4gZnVuY3Rpb24gdG8gZXhlY3V0ZSBpbiBhIGNvbnRleHRcbiAgICogQHBhcmFtIHRoaXNBcmcgb3B0aW9uYWwgcmVjZWl2ZXIgdG8gYmUgdXNlZCBmb3IgY2FsbGluZyBmblxuICAgKiBAcGFyYW0gYXJncyBvcHRpb25hbCBhcmd1bWVudHMgZm9yd2FyZGVkIHRvIGZuXG4gICAqL1xuICBwdWJsaWMgd2l0aDxBIGV4dGVuZHMgdW5rbm93bltdLCBGIGV4dGVuZHMgKC4uLmFyZ3M6IEEpID0+IFJldHVyblR5cGU8Rj4+KFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZm46IEYsXG4gICAgdGhpc0FyZz86IFRoaXNQYXJhbWV0ZXJUeXBlPEY+LFxuICAgIC4uLmFyZ3M6IEFcbiAgKTogUmV0dXJuVHlwZTxGPiB7XG4gICAgcmV0dXJuIHRoaXMuX2dldENvbnRleHRNYW5hZ2VyKCkud2l0aChjb250ZXh0LCBmbiwgdGhpc0FyZywgLi4uYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQmluZCBhIGNvbnRleHQgdG8gYSB0YXJnZXQgZnVuY3Rpb24gb3IgZXZlbnQgZW1pdHRlclxuICAgKlxuICAgKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIGJpbmQgdG8gdGhlIGV2ZW50IGVtaXR0ZXIgb3IgZnVuY3Rpb24uIERlZmF1bHRzIHRvIHRoZSBjdXJyZW50bHkgYWN0aXZlIGNvbnRleHRcbiAgICogQHBhcmFtIHRhcmdldCBmdW5jdGlvbiBvciBldmVudCBlbWl0dGVyIHRvIGJpbmRcbiAgICovXG4gIHB1YmxpYyBiaW5kPFQ+KGNvbnRleHQ6IENvbnRleHQsIHRhcmdldDogVCk6IFQge1xuICAgIHJldHVybiB0aGlzLl9nZXRDb250ZXh0TWFuYWdlcigpLmJpbmQoY29udGV4dCwgdGFyZ2V0KTtcbiAgfVxuXG4gIHByaXZhdGUgX2dldENvbnRleHRNYW5hZ2VyKCk6IENvbnRleHRNYW5hZ2VyIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsKEFQSV9OQU1FKSB8fCBOT09QX0NPTlRFWFRfTUFOQUdFUjtcbiAgfVxuXG4gIC8qKiBEaXNhYmxlIGFuZCByZW1vdmUgdGhlIGdsb2JhbCBjb250ZXh0IG1hbmFnZXIgKi9cbiAgcHVibGljIGRpc2FibGUoKSB7XG4gICAgdGhpcy5fZ2V0Q29udGV4dE1hbmFnZXIoKS5kaXNhYmxlKCk7XG4gICAgdW5yZWdpc3Rlckdsb2JhbChBUElfTkFNRSwgRGlhZ0FQSS5pbnN0YW5jZSgpKTtcbiAgfVxufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5leHBvcnQgZW51bSBUcmFjZUZsYWdzIHtcbiAgLyoqIFJlcHJlc2VudHMgbm8gZmxhZyBzZXQuICovXG4gIE5PTkUgPSAweDAsXG4gIC8qKiBCaXQgdG8gcmVwcmVzZW50IHdoZXRoZXIgdHJhY2UgaXMgc2FtcGxlZCBpbiB0cmFjZSBmbGFncy4gKi9cbiAgU0FNUExFRCA9IDB4MSA8PCAwLFxufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFNwYW5Db250ZXh0IH0gZnJvbSAnLi9zcGFuX2NvbnRleHQnO1xuaW1wb3J0IHsgVHJhY2VGbGFncyB9IGZyb20gJy4vdHJhY2VfZmxhZ3MnO1xuXG5leHBvcnQgY29uc3QgSU5WQUxJRF9TUEFOSUQgPSAnMDAwMDAwMDAwMDAwMDAwMCc7XG5leHBvcnQgY29uc3QgSU5WQUxJRF9UUkFDRUlEID0gJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJztcbmV4cG9ydCBjb25zdCBJTlZBTElEX1NQQU5fQ09OVEVYVDogU3BhbkNvbnRleHQgPSB7XG4gIHRyYWNlSWQ6IElOVkFMSURfVFJBQ0VJRCxcbiAgc3BhbklkOiBJTlZBTElEX1NQQU5JRCxcbiAgdHJhY2VGbGFnczogVHJhY2VGbGFncy5OT05FLFxufTtcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBFeGNlcHRpb24gfSBmcm9tICcuLi9jb21tb24vRXhjZXB0aW9uJztcbmltcG9ydCB7IFRpbWVJbnB1dCB9IGZyb20gJy4uL2NvbW1vbi9UaW1lJztcbmltcG9ydCB7IFNwYW5BdHRyaWJ1dGVzIH0gZnJvbSAnLi9hdHRyaWJ1dGVzJztcbmltcG9ydCB7IElOVkFMSURfU1BBTl9DT05URVhUIH0gZnJvbSAnLi9pbnZhbGlkLXNwYW4tY29uc3RhbnRzJztcbmltcG9ydCB7IFNwYW4gfSBmcm9tICcuL3NwYW4nO1xuaW1wb3J0IHsgU3BhbkNvbnRleHQgfSBmcm9tICcuL3NwYW5fY29udGV4dCc7XG5pbXBvcnQgeyBTcGFuU3RhdHVzIH0gZnJvbSAnLi9zdGF0dXMnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJy4vbGluayc7XG5cbi8qKlxuICogVGhlIE5vblJlY29yZGluZ1NwYW4gaXMgdGhlIGRlZmF1bHQge0BsaW5rIFNwYW59IHRoYXQgaXMgdXNlZCB3aGVuIG5vIFNwYW5cbiAqIGltcGxlbWVudGF0aW9uIGlzIGF2YWlsYWJsZS4gQWxsIG9wZXJhdGlvbnMgYXJlIG5vLW9wIGluY2x1ZGluZyBjb250ZXh0XG4gKiBwcm9wYWdhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vblJlY29yZGluZ1NwYW4gaW1wbGVtZW50cyBTcGFuIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBfc3BhbkNvbnRleHQ6IFNwYW5Db250ZXh0ID0gSU5WQUxJRF9TUEFOX0NPTlRFWFRcbiAgKSB7fVxuXG4gIC8vIFJldHVybnMgYSBTcGFuQ29udGV4dC5cbiAgc3BhbkNvbnRleHQoKTogU3BhbkNvbnRleHQge1xuICAgIHJldHVybiB0aGlzLl9zcGFuQ29udGV4dDtcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gIHNldEF0dHJpYnV0ZShfa2V5OiBzdHJpbmcsIF92YWx1ZTogdW5rbm93bik6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCBkb2VzIG5vdGhpbmdcbiAgc2V0QXR0cmlidXRlcyhfYXR0cmlidXRlczogU3BhbkF0dHJpYnV0ZXMpOiB0aGlzIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gIGFkZEV2ZW50KF9uYW1lOiBzdHJpbmcsIF9hdHRyaWJ1dGVzPzogU3BhbkF0dHJpYnV0ZXMpOiB0aGlzIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZExpbmsoX2xpbms6IExpbmspOiB0aGlzIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZExpbmtzKF9saW5rczogTGlua1tdKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICBzZXRTdGF0dXMoX3N0YXR1czogU3BhblN0YXR1cyk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCBkb2VzIG5vdGhpbmdcbiAgdXBkYXRlTmFtZShfbmFtZTogc3RyaW5nKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICBlbmQoX2VuZFRpbWU/OiBUaW1lSW5wdXQpOiB2b2lkIHt9XG5cbiAgLy8gaXNSZWNvcmRpbmcgYWx3YXlzIHJldHVybnMgZmFsc2UgZm9yIE5vblJlY29yZGluZ1NwYW4uXG4gIGlzUmVjb3JkaW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gIHJlY29yZEV4Y2VwdGlvbihfZXhjZXB0aW9uOiBFeGNlcHRpb24sIF90aW1lPzogVGltZUlucHV0KTogdm9pZCB7fVxufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGNyZWF0ZUNvbnRleHRLZXkgfSBmcm9tICcuLi9jb250ZXh0L2NvbnRleHQnO1xuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvdHlwZXMnO1xuaW1wb3J0IHsgU3BhbiB9IGZyb20gJy4vc3Bhbic7XG5pbXBvcnQgeyBTcGFuQ29udGV4dCB9IGZyb20gJy4vc3Bhbl9jb250ZXh0JztcbmltcG9ydCB7IE5vblJlY29yZGluZ1NwYW4gfSBmcm9tICcuL05vblJlY29yZGluZ1NwYW4nO1xuaW1wb3J0IHsgQ29udGV4dEFQSSB9IGZyb20gJy4uL2FwaS9jb250ZXh0JztcblxuLyoqXG4gKiBzcGFuIGtleVxuICovXG5jb25zdCBTUEFOX0tFWSA9IGNyZWF0ZUNvbnRleHRLZXkoJ09wZW5UZWxlbWV0cnkgQ29udGV4dCBLZXkgU1BBTicpO1xuXG4vKipcbiAqIFJldHVybiB0aGUgc3BhbiBpZiBvbmUgZXhpc3RzXG4gKlxuICogQHBhcmFtIGNvbnRleHQgY29udGV4dCB0byBnZXQgc3BhbiBmcm9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcGFuKGNvbnRleHQ6IENvbnRleHQpOiBTcGFuIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIChjb250ZXh0LmdldFZhbHVlKFNQQU5fS0VZKSBhcyBTcGFuKSB8fCB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3BhbiBmcm9tIHRoZSBjdXJyZW50IGNvbnRleHQsIGlmIG9uZSBleGlzdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3RpdmVTcGFuKCk6IFNwYW4gfCB1bmRlZmluZWQge1xuICByZXR1cm4gZ2V0U3BhbihDb250ZXh0QVBJLmdldEluc3RhbmNlKCkuYWN0aXZlKCkpO1xufVxuXG4vKipcbiAqIFNldCB0aGUgc3BhbiBvbiBhIGNvbnRleHRcbiAqXG4gKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIHVzZSBhcyBwYXJlbnRcbiAqIEBwYXJhbSBzcGFuIHNwYW4gdG8gc2V0IGFjdGl2ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3Bhbihjb250ZXh0OiBDb250ZXh0LCBzcGFuOiBTcGFuKTogQ29udGV4dCB7XG4gIHJldHVybiBjb250ZXh0LnNldFZhbHVlKFNQQU5fS0VZLCBzcGFuKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgY3VycmVudCBzcGFuIHN0b3JlZCBpbiB0aGUgY29udGV4dFxuICpcbiAqIEBwYXJhbSBjb250ZXh0IGNvbnRleHQgdG8gZGVsZXRlIHNwYW4gZnJvbVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlU3Bhbihjb250ZXh0OiBDb250ZXh0KTogQ29udGV4dCB7XG4gIHJldHVybiBjb250ZXh0LmRlbGV0ZVZhbHVlKFNQQU5fS0VZKTtcbn1cblxuLyoqXG4gKiBXcmFwIHNwYW4gY29udGV4dCBpbiBhIE5vb3BTcGFuIGFuZCBzZXQgYXMgc3BhbiBpbiBhIG5ld1xuICogY29udGV4dFxuICpcbiAqIEBwYXJhbSBjb250ZXh0IGNvbnRleHQgdG8gc2V0IGFjdGl2ZSBzcGFuIG9uXG4gKiBAcGFyYW0gc3BhbkNvbnRleHQgc3BhbiBjb250ZXh0IHRvIGJlIHdyYXBwZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNwYW5Db250ZXh0KFxuICBjb250ZXh0OiBDb250ZXh0LFxuICBzcGFuQ29udGV4dDogU3BhbkNvbnRleHRcbik6IENvbnRleHQge1xuICByZXR1cm4gc2V0U3Bhbihjb250ZXh0LCBuZXcgTm9uUmVjb3JkaW5nU3BhbihzcGFuQ29udGV4dCkpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgc3BhbiBjb250ZXh0IG9mIHRoZSBzcGFuIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIGdldCB2YWx1ZXMgZnJvbVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3BhbkNvbnRleHQoY29udGV4dDogQ29udGV4dCk6IFNwYW5Db250ZXh0IHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGdldFNwYW4oY29udGV4dCk/LnNwYW5Db250ZXh0KCk7XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IElOVkFMSURfU1BBTklELCBJTlZBTElEX1RSQUNFSUQgfSBmcm9tICcuL2ludmFsaWQtc3Bhbi1jb25zdGFudHMnO1xuaW1wb3J0IHsgTm9uUmVjb3JkaW5nU3BhbiB9IGZyb20gJy4vTm9uUmVjb3JkaW5nU3Bhbic7XG5pbXBvcnQgeyBTcGFuIH0gZnJvbSAnLi9zcGFuJztcbmltcG9ydCB7IFNwYW5Db250ZXh0IH0gZnJvbSAnLi9zcGFuX2NvbnRleHQnO1xuXG5jb25zdCBWQUxJRF9UUkFDRUlEX1JFR0VYID0gL14oWzAtOWEtZl17MzJ9KSQvaTtcbmNvbnN0IFZBTElEX1NQQU5JRF9SRUdFWCA9IC9eWzAtOWEtZl17MTZ9JC9pO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFRyYWNlSWQodHJhY2VJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBWQUxJRF9UUkFDRUlEX1JFR0VYLnRlc3QodHJhY2VJZCkgJiYgdHJhY2VJZCAhPT0gSU5WQUxJRF9UUkFDRUlEO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFNwYW5JZChzcGFuSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gVkFMSURfU1BBTklEX1JFR0VYLnRlc3Qoc3BhbklkKSAmJiBzcGFuSWQgIT09IElOVkFMSURfU1BBTklEO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHtAbGluayBTcGFuQ29udGV4dH0gaXMgdmFsaWQuXG4gKiBAcmV0dXJuIHRydWUgaWYgdGhpcyB7QGxpbmsgU3BhbkNvbnRleHR9IGlzIHZhbGlkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTcGFuQ29udGV4dFZhbGlkKHNwYW5Db250ZXh0OiBTcGFuQ29udGV4dCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIGlzVmFsaWRUcmFjZUlkKHNwYW5Db250ZXh0LnRyYWNlSWQpICYmIGlzVmFsaWRTcGFuSWQoc3BhbkNvbnRleHQuc3BhbklkKVxuICApO1xufVxuXG4vKipcbiAqIFdyYXAgdGhlIGdpdmVuIHtAbGluayBTcGFuQ29udGV4dH0gaW4gYSBuZXcgbm9uLXJlY29yZGluZyB7QGxpbmsgU3Bhbn1cbiAqXG4gKiBAcGFyYW0gc3BhbkNvbnRleHQgc3BhbiBjb250ZXh0IHRvIGJlIHdyYXBwZWRcbiAqIEByZXR1cm5zIGEgbmV3IG5vbi1yZWNvcmRpbmcge0BsaW5rIFNwYW59IHdpdGggdGhlIHByb3ZpZGVkIGNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBTcGFuQ29udGV4dChzcGFuQ29udGV4dDogU3BhbkNvbnRleHQpOiBTcGFuIHtcbiAgcmV0dXJuIG5ldyBOb25SZWNvcmRpbmdTcGFuKHNwYW5Db250ZXh0KTtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb250ZXh0QVBJIH0gZnJvbSAnLi4vYXBpL2NvbnRleHQnO1xuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0U3BhbkNvbnRleHQsIHNldFNwYW4gfSBmcm9tICcuLi90cmFjZS9jb250ZXh0LXV0aWxzJztcbmltcG9ydCB7IE5vblJlY29yZGluZ1NwYW4gfSBmcm9tICcuL05vblJlY29yZGluZ1NwYW4nO1xuaW1wb3J0IHsgU3BhbiB9IGZyb20gJy4vc3Bhbic7XG5pbXBvcnQgeyBpc1NwYW5Db250ZXh0VmFsaWQgfSBmcm9tICcuL3NwYW5jb250ZXh0LXV0aWxzJztcbmltcG9ydCB7IFNwYW5PcHRpb25zIH0gZnJvbSAnLi9TcGFuT3B0aW9ucyc7XG5pbXBvcnQgeyBTcGFuQ29udGV4dCB9IGZyb20gJy4vc3Bhbl9jb250ZXh0JztcbmltcG9ydCB7IFRyYWNlciB9IGZyb20gJy4vdHJhY2VyJztcblxuY29uc3QgY29udGV4dEFwaSA9IENvbnRleHRBUEkuZ2V0SW5zdGFuY2UoKTtcblxuLyoqXG4gKiBOby1vcCBpbXBsZW1lbnRhdGlvbnMgb2Yge0BsaW5rIFRyYWNlcn0uXG4gKi9cbmV4cG9ydCBjbGFzcyBOb29wVHJhY2VyIGltcGxlbWVudHMgVHJhY2VyIHtcbiAgLy8gc3RhcnRTcGFuIHN0YXJ0cyBhIG5vb3Agc3Bhbi5cbiAgc3RhcnRTcGFuKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zPzogU3Bhbk9wdGlvbnMsXG4gICAgY29udGV4dCA9IGNvbnRleHRBcGkuYWN0aXZlKClcbiAgKTogU3BhbiB7XG4gICAgY29uc3Qgcm9vdCA9IEJvb2xlYW4ob3B0aW9ucz8ucm9vdCk7XG4gICAgaWYgKHJvb3QpIHtcbiAgICAgIHJldHVybiBuZXcgTm9uUmVjb3JkaW5nU3BhbigpO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmVudEZyb21Db250ZXh0ID0gY29udGV4dCAmJiBnZXRTcGFuQ29udGV4dChjb250ZXh0KTtcblxuICAgIGlmIChcbiAgICAgIGlzU3BhbkNvbnRleHQocGFyZW50RnJvbUNvbnRleHQpICYmXG4gICAgICBpc1NwYW5Db250ZXh0VmFsaWQocGFyZW50RnJvbUNvbnRleHQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gbmV3IE5vblJlY29yZGluZ1NwYW4ocGFyZW50RnJvbUNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IE5vblJlY29yZGluZ1NwYW4oKTtcbiAgICB9XG4gIH1cblxuICBzdGFydEFjdGl2ZVNwYW48RiBleHRlbmRzIChzcGFuOiBTcGFuKSA9PiBSZXR1cm5UeXBlPEY+PihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZm46IEZcbiAgKTogUmV0dXJuVHlwZTxGPjtcbiAgc3RhcnRBY3RpdmVTcGFuPEYgZXh0ZW5kcyAoc3BhbjogU3BhbikgPT4gUmV0dXJuVHlwZTxGPj4oXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wdHM6IFNwYW5PcHRpb25zIHwgdW5kZWZpbmVkLFxuICAgIGZuOiBGXG4gICk6IFJldHVyblR5cGU8Rj47XG4gIHN0YXJ0QWN0aXZlU3BhbjxGIGV4dGVuZHMgKHNwYW46IFNwYW4pID0+IFJldHVyblR5cGU8Rj4+KFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBvcHRzOiBTcGFuT3B0aW9ucyB8IHVuZGVmaW5lZCxcbiAgICBjdHg6IENvbnRleHQgfCB1bmRlZmluZWQsXG4gICAgZm46IEZcbiAgKTogUmV0dXJuVHlwZTxGPjtcbiAgc3RhcnRBY3RpdmVTcGFuPEYgZXh0ZW5kcyAoc3BhbjogU3BhbikgPT4gUmV0dXJuVHlwZTxGPj4oXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGFyZzI/OiBGIHwgU3Bhbk9wdGlvbnMsXG4gICAgYXJnMz86IEYgfCBDb250ZXh0LFxuICAgIGFyZzQ/OiBGXG4gICk6IFJldHVyblR5cGU8Rj4gfCB1bmRlZmluZWQge1xuICAgIGxldCBvcHRzOiBTcGFuT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICBsZXQgY3R4OiBDb250ZXh0IHwgdW5kZWZpbmVkO1xuICAgIGxldCBmbjogRjtcblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgZm4gPSBhcmcyIGFzIEY7XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzKSB7XG4gICAgICBvcHRzID0gYXJnMiBhcyBTcGFuT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICAgIGZuID0gYXJnMyBhcyBGO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRzID0gYXJnMiBhcyBTcGFuT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICAgIGN0eCA9IGFyZzMgYXMgQ29udGV4dCB8IHVuZGVmaW5lZDtcbiAgICAgIGZuID0gYXJnNCBhcyBGO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmVudENvbnRleHQgPSBjdHggPz8gY29udGV4dEFwaS5hY3RpdmUoKTtcbiAgICBjb25zdCBzcGFuID0gdGhpcy5zdGFydFNwYW4obmFtZSwgb3B0cywgcGFyZW50Q29udGV4dCk7XG4gICAgY29uc3QgY29udGV4dFdpdGhTcGFuU2V0ID0gc2V0U3BhbihwYXJlbnRDb250ZXh0LCBzcGFuKTtcblxuICAgIHJldHVybiBjb250ZXh0QXBpLndpdGgoY29udGV4dFdpdGhTcGFuU2V0LCBmbiwgdW5kZWZpbmVkLCBzcGFuKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1NwYW5Db250ZXh0KHNwYW5Db250ZXh0OiBhbnkpOiBzcGFuQ29udGV4dCBpcyBTcGFuQ29udGV4dCB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHNwYW5Db250ZXh0ID09PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiBzcGFuQ29udGV4dFsnc3BhbklkJ10gPT09ICdzdHJpbmcnICYmXG4gICAgdHlwZW9mIHNwYW5Db250ZXh0Wyd0cmFjZUlkJ10gPT09ICdzdHJpbmcnICYmXG4gICAgdHlwZW9mIHNwYW5Db250ZXh0Wyd0cmFjZUZsYWdzJ10gPT09ICdudW1iZXInXG4gICk7XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvdHlwZXMnO1xuaW1wb3J0IHsgTm9vcFRyYWNlciB9IGZyb20gJy4vTm9vcFRyYWNlcic7XG5pbXBvcnQgeyBTcGFuIH0gZnJvbSAnLi9zcGFuJztcbmltcG9ydCB7IFNwYW5PcHRpb25zIH0gZnJvbSAnLi9TcGFuT3B0aW9ucyc7XG5pbXBvcnQgeyBUcmFjZXIgfSBmcm9tICcuL3RyYWNlcic7XG5pbXBvcnQgeyBUcmFjZXJPcHRpb25zIH0gZnJvbSAnLi90cmFjZXJfb3B0aW9ucyc7XG5cbmNvbnN0IE5PT1BfVFJBQ0VSID0gbmV3IE5vb3BUcmFjZXIoKTtcblxuLyoqXG4gKiBQcm94eSB0cmFjZXIgcHJvdmlkZWQgYnkgdGhlIHByb3h5IHRyYWNlciBwcm92aWRlclxuICovXG5leHBvcnQgY2xhc3MgUHJveHlUcmFjZXIgaW1wbGVtZW50cyBUcmFjZXIge1xuICAvLyBXaGVuIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiBpcyBwcm92aWRlZCwgdGhpcyB3aWxsIGJlIGl0XG4gIHByaXZhdGUgX2RlbGVnYXRlPzogVHJhY2VyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgX3Byb3ZpZGVyOiBUcmFjZXJEZWxlZ2F0b3IsXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmVyc2lvbj86IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3B0aW9ucz86IFRyYWNlck9wdGlvbnNcbiAgKSB7fVxuXG4gIHN0YXJ0U3BhbihuYW1lOiBzdHJpbmcsIG9wdGlvbnM/OiBTcGFuT3B0aW9ucywgY29udGV4dD86IENvbnRleHQpOiBTcGFuIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0VHJhY2VyKCkuc3RhcnRTcGFuKG5hbWUsIG9wdGlvbnMsIGNvbnRleHQpO1xuICB9XG5cbiAgc3RhcnRBY3RpdmVTcGFuPEYgZXh0ZW5kcyAoc3BhbjogU3BhbikgPT4gdW5rbm93bj4oXG4gICAgX25hbWU6IHN0cmluZyxcbiAgICBfb3B0aW9uczogRiB8IFNwYW5PcHRpb25zLFxuICAgIF9jb250ZXh0PzogRiB8IENvbnRleHQsXG4gICAgX2ZuPzogRlxuICApOiBSZXR1cm5UeXBlPEY+IHtcbiAgICBjb25zdCB0cmFjZXIgPSB0aGlzLl9nZXRUcmFjZXIoKTtcbiAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0cmFjZXIuc3RhcnRBY3RpdmVTcGFuLCB0cmFjZXIsIGFyZ3VtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogVHJ5IHRvIGdldCBhIHRyYWNlciBmcm9tIHRoZSBwcm94eSB0cmFjZXIgcHJvdmlkZXIuXG4gICAqIElmIHRoZSBwcm94eSB0cmFjZXIgcHJvdmlkZXIgaGFzIG5vIGRlbGVnYXRlLCByZXR1cm4gYSBub29wIHRyYWNlci5cbiAgICovXG4gIHByaXZhdGUgX2dldFRyYWNlcigpIHtcbiAgICBpZiAodGhpcy5fZGVsZWdhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZTtcbiAgICB9XG5cbiAgICBjb25zdCB0cmFjZXIgPSB0aGlzLl9wcm92aWRlci5nZXREZWxlZ2F0ZVRyYWNlcihcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIHRoaXMudmVyc2lvbixcbiAgICAgIHRoaXMub3B0aW9uc1xuICAgICk7XG5cbiAgICBpZiAoIXRyYWNlcikge1xuICAgICAgcmV0dXJuIE5PT1BfVFJBQ0VSO1xuICAgIH1cblxuICAgIHRoaXMuX2RlbGVnYXRlID0gdHJhY2VyO1xuICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNlckRlbGVnYXRvciB7XG4gIGdldERlbGVnYXRlVHJhY2VyKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB2ZXJzaW9uPzogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBUcmFjZXJPcHRpb25zXG4gICk6IFRyYWNlciB8IHVuZGVmaW5lZDtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBOb29wVHJhY2VyIH0gZnJvbSAnLi9Ob29wVHJhY2VyJztcbmltcG9ydCB7IFRyYWNlciB9IGZyb20gJy4vdHJhY2VyJztcbmltcG9ydCB7IFRyYWNlck9wdGlvbnMgfSBmcm9tICcuL3RyYWNlcl9vcHRpb25zJztcbmltcG9ydCB7IFRyYWNlclByb3ZpZGVyIH0gZnJvbSAnLi90cmFjZXJfcHJvdmlkZXInO1xuXG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSB7QGxpbmsgVHJhY2VyUHJvdmlkZXJ9IHdoaWNoIHJldHVybnMgYW4gaW1wb3RlbnRcbiAqIFRyYWNlciBmb3IgYWxsIGNhbGxzIHRvIGBnZXRUcmFjZXJgLlxuICpcbiAqIEFsbCBvcGVyYXRpb25zIGFyZSBuby1vcC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vb3BUcmFjZXJQcm92aWRlciBpbXBsZW1lbnRzIFRyYWNlclByb3ZpZGVyIHtcbiAgZ2V0VHJhY2VyKFxuICAgIF9uYW1lPzogc3RyaW5nLFxuICAgIF92ZXJzaW9uPzogc3RyaW5nLFxuICAgIF9vcHRpb25zPzogVHJhY2VyT3B0aW9uc1xuICApOiBUcmFjZXIge1xuICAgIHJldHVybiBuZXcgTm9vcFRyYWNlcigpO1xuICB9XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnLi90cmFjZXInO1xuaW1wb3J0IHsgVHJhY2VyUHJvdmlkZXIgfSBmcm9tICcuL3RyYWNlcl9wcm92aWRlcic7XG5pbXBvcnQgeyBQcm94eVRyYWNlciB9IGZyb20gJy4vUHJveHlUcmFjZXInO1xuaW1wb3J0IHsgTm9vcFRyYWNlclByb3ZpZGVyIH0gZnJvbSAnLi9Ob29wVHJhY2VyUHJvdmlkZXInO1xuaW1wb3J0IHsgVHJhY2VyT3B0aW9ucyB9IGZyb20gJy4vdHJhY2VyX29wdGlvbnMnO1xuXG5jb25zdCBOT09QX1RSQUNFUl9QUk9WSURFUiA9IG5ldyBOb29wVHJhY2VyUHJvdmlkZXIoKTtcblxuLyoqXG4gKiBUcmFjZXIgcHJvdmlkZXIgd2hpY2ggcHJvdmlkZXMge0BsaW5rIFByb3h5VHJhY2VyfXMuXG4gKlxuICogQmVmb3JlIGEgZGVsZWdhdGUgaXMgc2V0LCB0cmFjZXJzIHByb3ZpZGVkIGFyZSBOb09wLlxuICogICBXaGVuIGEgZGVsZWdhdGUgaXMgc2V0LCB0cmFjZXMgYXJlIHByb3ZpZGVkIGZyb20gdGhlIGRlbGVnYXRlLlxuICogICBXaGVuIGEgZGVsZWdhdGUgaXMgc2V0IGFmdGVyIHRyYWNlcnMgaGF2ZSBhbHJlYWR5IGJlZW4gcHJvdmlkZWQsXG4gKiAgIGFsbCB0cmFjZXJzIGFscmVhZHkgcHJvdmlkZWQgd2lsbCB1c2UgdGhlIHByb3ZpZGVkIGRlbGVnYXRlIGltcGxlbWVudGF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgUHJveHlUcmFjZXJQcm92aWRlciBpbXBsZW1lbnRzIFRyYWNlclByb3ZpZGVyIHtcbiAgcHJpdmF0ZSBfZGVsZWdhdGU/OiBUcmFjZXJQcm92aWRlcjtcblxuICAvKipcbiAgICogR2V0IGEge0BsaW5rIFByb3h5VHJhY2VyfVxuICAgKi9cbiAgZ2V0VHJhY2VyKG5hbWU6IHN0cmluZywgdmVyc2lvbj86IHN0cmluZywgb3B0aW9ucz86IFRyYWNlck9wdGlvbnMpOiBUcmFjZXIge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmdldERlbGVnYXRlVHJhY2VyKG5hbWUsIHZlcnNpb24sIG9wdGlvbnMpID8/XG4gICAgICBuZXcgUHJveHlUcmFjZXIodGhpcywgbmFtZSwgdmVyc2lvbiwgb3B0aW9ucylcbiAgICApO1xuICB9XG5cbiAgZ2V0RGVsZWdhdGUoKTogVHJhY2VyUHJvdmlkZXIge1xuICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZSA/PyBOT09QX1RSQUNFUl9QUk9WSURFUjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGRlbGVnYXRlIHRyYWNlciBwcm92aWRlclxuICAgKi9cbiAgc2V0RGVsZWdhdGUoZGVsZWdhdGU6IFRyYWNlclByb3ZpZGVyKSB7XG4gICAgdGhpcy5fZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgfVxuXG4gIGdldERlbGVnYXRlVHJhY2VyKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB2ZXJzaW9uPzogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBUcmFjZXJPcHRpb25zXG4gICk6IFRyYWNlciB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlPy5nZXRUcmFjZXIobmFtZSwgdmVyc2lvbiwgb3B0aW9ucyk7XG4gIH1cbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTcGFuU3RhdHVzIHtcbiAgLyoqIFRoZSBzdGF0dXMgY29kZSBvZiB0aGlzIG1lc3NhZ2UuICovXG4gIGNvZGU6IFNwYW5TdGF0dXNDb2RlO1xuICAvKiogQSBkZXZlbG9wZXItZmFjaW5nIGVycm9yIG1lc3NhZ2UuICovXG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQW4gZW51bWVyYXRpb24gb2Ygc3RhdHVzIGNvZGVzLlxuICovXG5leHBvcnQgZW51bSBTcGFuU3RhdHVzQ29kZSB7XG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBzdGF0dXMuXG4gICAqL1xuICBVTlNFVCA9IDAsXG4gIC8qKlxuICAgKiBUaGUgb3BlcmF0aW9uIGhhcyBiZWVuIHZhbGlkYXRlZCBieSBhbiBBcHBsaWNhdGlvbiBkZXZlbG9wZXIgb3JcbiAgICogT3BlcmF0b3IgdG8gaGF2ZSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LlxuICAgKi9cbiAgT0sgPSAxLFxuICAvKipcbiAgICogVGhlIG9wZXJhdGlvbiBjb250YWlucyBhbiBlcnJvci5cbiAgICovXG4gIEVSUk9SID0gMixcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBnZXRHbG9iYWwsXG4gIHJlZ2lzdGVyR2xvYmFsLFxuICB1bnJlZ2lzdGVyR2xvYmFsLFxufSBmcm9tICcuLi9pbnRlcm5hbC9nbG9iYWwtdXRpbHMnO1xuaW1wb3J0IHsgUHJveHlUcmFjZXJQcm92aWRlciB9IGZyb20gJy4uL3RyYWNlL1Byb3h5VHJhY2VyUHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgaXNTcGFuQ29udGV4dFZhbGlkLFxuICB3cmFwU3BhbkNvbnRleHQsXG59IGZyb20gJy4uL3RyYWNlL3NwYW5jb250ZXh0LXV0aWxzJztcbmltcG9ydCB7IFRyYWNlciB9IGZyb20gJy4uL3RyYWNlL3RyYWNlcic7XG5pbXBvcnQgeyBUcmFjZXJQcm92aWRlciB9IGZyb20gJy4uL3RyYWNlL3RyYWNlcl9wcm92aWRlcic7XG5pbXBvcnQge1xuICBkZWxldGVTcGFuLFxuICBnZXRBY3RpdmVTcGFuLFxuICBnZXRTcGFuLFxuICBnZXRTcGFuQ29udGV4dCxcbiAgc2V0U3BhbixcbiAgc2V0U3BhbkNvbnRleHQsXG59IGZyb20gJy4uL3RyYWNlL2NvbnRleHQtdXRpbHMnO1xuaW1wb3J0IHsgRGlhZ0FQSSB9IGZyb20gJy4vZGlhZyc7XG5cbmNvbnN0IEFQSV9OQU1FID0gJ3RyYWNlJztcblxuLyoqXG4gKiBTaW5nbGV0b24gb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgdGhlIGVudHJ5IHBvaW50IHRvIHRoZSBPcGVuVGVsZW1ldHJ5IFRyYWNpbmcgQVBJXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFjZUFQSSB7XG4gIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZT86IFRyYWNlQVBJO1xuXG4gIHByaXZhdGUgX3Byb3h5VHJhY2VyUHJvdmlkZXIgPSBuZXcgUHJveHlUcmFjZXJQcm92aWRlcigpO1xuXG4gIC8qKiBFbXB0eSBwcml2YXRlIGNvbnN0cnVjdG9yIHByZXZlbnRzIGVuZCB1c2VycyBmcm9tIGNvbnN0cnVjdGluZyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgQVBJICovXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuXG4gIC8qKiBHZXQgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGUgVHJhY2UgQVBJICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogVHJhY2VBUEkge1xuICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IFRyYWNlQVBJKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY3VycmVudCBnbG9iYWwgdHJhY2VyLlxuICAgKlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSB0cmFjZXIgcHJvdmlkZXIgd2FzIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCBlbHNlIGZhbHNlXG4gICAqL1xuICBwdWJsaWMgc2V0R2xvYmFsVHJhY2VyUHJvdmlkZXIocHJvdmlkZXI6IFRyYWNlclByb3ZpZGVyKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc3VjY2VzcyA9IHJlZ2lzdGVyR2xvYmFsKFxuICAgICAgQVBJX05BTUUsXG4gICAgICB0aGlzLl9wcm94eVRyYWNlclByb3ZpZGVyLFxuICAgICAgRGlhZ0FQSS5pbnN0YW5jZSgpXG4gICAgKTtcbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgdGhpcy5fcHJveHlUcmFjZXJQcm92aWRlci5zZXREZWxlZ2F0ZShwcm92aWRlcik7XG4gICAgfVxuICAgIHJldHVybiBzdWNjZXNzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGdsb2JhbCB0cmFjZXIgcHJvdmlkZXIuXG4gICAqL1xuICBwdWJsaWMgZ2V0VHJhY2VyUHJvdmlkZXIoKTogVHJhY2VyUHJvdmlkZXIge1xuICAgIHJldHVybiBnZXRHbG9iYWwoQVBJX05BTUUpIHx8IHRoaXMuX3Byb3h5VHJhY2VyUHJvdmlkZXI7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHRyYWNlciBmcm9tIHRoZSBnbG9iYWwgdHJhY2VyIHByb3ZpZGVyLlxuICAgKi9cbiAgcHVibGljIGdldFRyYWNlcihuYW1lOiBzdHJpbmcsIHZlcnNpb24/OiBzdHJpbmcpOiBUcmFjZXIge1xuICAgIHJldHVybiB0aGlzLmdldFRyYWNlclByb3ZpZGVyKCkuZ2V0VHJhY2VyKG5hbWUsIHZlcnNpb24pO1xuICB9XG5cbiAgLyoqIFJlbW92ZSB0aGUgZ2xvYmFsIHRyYWNlciBwcm92aWRlciAqL1xuICBwdWJsaWMgZGlzYWJsZSgpIHtcbiAgICB1bnJlZ2lzdGVyR2xvYmFsKEFQSV9OQU1FLCBEaWFnQVBJLmluc3RhbmNlKCkpO1xuICAgIHRoaXMuX3Byb3h5VHJhY2VyUHJvdmlkZXIgPSBuZXcgUHJveHlUcmFjZXJQcm92aWRlcigpO1xuICB9XG5cbiAgcHVibGljIHdyYXBTcGFuQ29udGV4dCA9IHdyYXBTcGFuQ29udGV4dDtcblxuICBwdWJsaWMgaXNTcGFuQ29udGV4dFZhbGlkID0gaXNTcGFuQ29udGV4dFZhbGlkO1xuXG4gIHB1YmxpYyBkZWxldGVTcGFuID0gZGVsZXRlU3BhbjtcblxuICBwdWJsaWMgZ2V0U3BhbiA9IGdldFNwYW47XG5cbiAgcHVibGljIGdldEFjdGl2ZVNwYW4gPSBnZXRBY3RpdmVTcGFuO1xuXG4gIHB1YmxpYyBnZXRTcGFuQ29udGV4dCA9IGdldFNwYW5Db250ZXh0O1xuXG4gIHB1YmxpYyBzZXRTcGFuID0gc2V0U3BhbjtcblxuICBwdWJsaWMgc2V0U3BhbkNvbnRleHQgPSBzZXRTcGFuQ29udGV4dDtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyBTcGxpdCBtb2R1bGUtbGV2ZWwgdmFyaWFibGUgZGVmaW5pdGlvbiBpbnRvIHNlcGFyYXRlIGZpbGVzIHRvIGFsbG93XG4vLyB0cmVlLXNoYWtpbmcgb24gZWFjaCBhcGkgaW5zdGFuY2UuXG5pbXBvcnQgeyBUcmFjZUFQSSB9IGZyb20gJy4vYXBpL3RyYWNlJztcbi8qKiBFbnRyeXBvaW50IGZvciB0cmFjZSBBUEkgKi9cbmV4cG9ydCBjb25zdCB0cmFjZSA9IFRyYWNlQVBJLmdldEluc3RhbmNlKCk7XG4iLCAiLy8gcmUtZXhwb3J0czpcbmV4cG9ydCB7IGdhdGV3YXksIGNyZWF0ZUdhdGV3YXkgfSBmcm9tICdAYWktc2RrL2dhdGV3YXknO1xuZXhwb3J0IHtcbiAgYXNTY2hlbWEsXG4gIGNyZWF0ZUlkR2VuZXJhdG9yLFxuICBkeW5hbWljVG9vbCxcbiAgZ2VuZXJhdGVJZCxcbiAganNvblNjaGVtYSxcbiAgdG9vbCxcbiAgem9kU2NoZW1hLFxuICB0eXBlIElkR2VuZXJhdG9yLFxuICB0eXBlIEluZmVyVG9vbElucHV0LFxuICB0eXBlIEluZmVyVG9vbE91dHB1dCxcbiAgdHlwZSBTY2hlbWEsXG4gIHR5cGUgVG9vbCxcbiAgdHlwZSBUb29sQ2FsbE9wdGlvbnMsXG4gIHR5cGUgVG9vbEV4ZWN1dGVGdW5jdGlvbixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5cbi8vIGRpcmVjdG9yeSBleHBvcnRzXG5leHBvcnQgKiBmcm9tICcuL2FnZW50JztcbmV4cG9ydCAqIGZyb20gJy4vZW1iZWQnO1xuZXhwb3J0ICogZnJvbSAnLi9lcnJvcic7XG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlLWltYWdlJztcbmV4cG9ydCAqIGZyb20gJy4vZ2VuZXJhdGUtb2JqZWN0JztcbmV4cG9ydCAqIGZyb20gJy4vZ2VuZXJhdGUtc3BlZWNoJztcbmV4cG9ydCAqIGZyb20gJy4vZ2VuZXJhdGUtdGV4dCc7XG5leHBvcnQgKiBmcm9tICcuL2xvZ2dlcic7XG5leHBvcnQgKiBmcm9tICcuL21pZGRsZXdhcmUnO1xuZXhwb3J0ICogZnJvbSAnLi9wcm9tcHQnO1xuZXhwb3J0ICogZnJvbSAnLi9yZWdpc3RyeSc7XG5leHBvcnQgKiBmcm9tICcuL3RleHQtc3RyZWFtJztcbmV4cG9ydCAqIGZyb20gJy4vdG9vbCc7XG5leHBvcnQgKiBmcm9tICcuL3RyYW5zY3JpYmUnO1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgKiBmcm9tICcuL3VpJztcbmV4cG9ydCAqIGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0nO1xuZXhwb3J0ICogZnJvbSAnLi91dGlsJztcblxuLy8gdGVsZW1ldHJ5IHR5cGVzOlxuZXhwb3J0IHR5cGUgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5cbi8vIGltcG9ydCBnbG9iYWxzXG5pbXBvcnQgJy4vZ2xvYmFsJztcbiIsICJpbXBvcnQge1xuICBMYW5ndWFnZU1vZGVsVjIsXG4gIExhbmd1YWdlTW9kZWxWMkNvbnRlbnQsXG4gIExhbmd1YWdlTW9kZWxWMlRvb2xDYWxsLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZUlkR2VuZXJhdG9yLFxuICBleGVjdXRlVG9vbCxcbiAgZ2V0RXJyb3JNZXNzYWdlLFxuICBJZEdlbmVyYXRvcixcbiAgUHJvdmlkZXJPcHRpb25zLFxuICB3aXRoVXNlckFnZW50U3VmZml4LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFRyYWNlciB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5pbXBvcnQgeyBOb091dHB1dFNwZWNpZmllZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tb3V0cHV0LXNwZWNpZmllZC1lcnJvcic7XG5pbXBvcnQgeyBsb2dXYXJuaW5ncyB9IGZyb20gJy4uL2xvZ2dlci9sb2ctd2FybmluZ3MnO1xuaW1wb3J0IHsgcmVzb2x2ZUxhbmd1YWdlTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9yZXNvbHZlLW1vZGVsJztcbmltcG9ydCB7IE1vZGVsTWVzc2FnZSB9IGZyb20gJy4uL3Byb21wdCc7XG5pbXBvcnQgeyBDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L2NvbnZlcnQtdG8tbGFuZ3VhZ2UtbW9kZWwtcHJvbXB0JztcbmltcG9ydCB7IHByZXBhcmVDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvcHJlcGFyZS1jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IHByZXBhcmVUb29sc0FuZFRvb2xDaG9pY2UgfSBmcm9tICcuLi9wcm9tcHQvcHJlcGFyZS10b29scy1hbmQtdG9vbC1jaG9pY2UnO1xuaW1wb3J0IHsgUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3Byb21wdCc7XG5pbXBvcnQgeyBzdGFuZGFyZGl6ZVByb21wdCB9IGZyb20gJy4uL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQnO1xuaW1wb3J0IHsgd3JhcEdhdGV3YXlFcnJvciB9IGZyb20gJy4uL3Byb21wdC93cmFwLWdhdGV3YXktZXJyb3InO1xuaW1wb3J0IHsgYXNzZW1ibGVPcGVyYXRpb25OYW1lIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lJztcbmltcG9ydCB7IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC1iYXNlLXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IGdldFRyYWNlciB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtdHJhY2VyJztcbmltcG9ydCB7IHJlY29yZEVycm9yT25TcGFuLCByZWNvcmRTcGFuIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3JlY29yZC1zcGFuJztcbmltcG9ydCB7IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvc2VsZWN0LXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IHN0cmluZ2lmeUZvclRlbGVtZXRyeSB9IGZyb20gJy4uL3RlbGVtZXRyeS9zdHJpbmdpZnktZm9yLXRlbGVtZXRyeSc7XG5pbXBvcnQgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4uL3RlbGVtZXRyeS90ZWxlbWV0cnktc2V0dGluZ3MnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbCwgVG9vbENob2ljZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGFkZExhbmd1YWdlTW9kZWxVc2FnZSwgTGFuZ3VhZ2VNb2RlbFVzYWdlIH0gZnJvbSAnLi4vdHlwZXMvdXNhZ2UnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJy4uL3V0aWwvYXMtYXJyYXknO1xuaW1wb3J0IHsgRG93bmxvYWRGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZnVuY3Rpb24nO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBDb250ZW50UGFydCB9IGZyb20gJy4vY29udGVudC1wYXJ0JztcbmltcG9ydCB7IGV4dHJhY3RUZXh0Q29udGVudCB9IGZyb20gJy4vZXh0cmFjdC10ZXh0LWNvbnRlbnQnO1xuaW1wb3J0IHsgR2VuZXJhdGVUZXh0UmVzdWx0IH0gZnJvbSAnLi9nZW5lcmF0ZS10ZXh0LXJlc3VsdCc7XG5pbXBvcnQgeyBEZWZhdWx0R2VuZXJhdGVkRmlsZSB9IGZyb20gJy4vZ2VuZXJhdGVkLWZpbGUnO1xuaW1wb3J0IHsgT3V0cHV0IH0gZnJvbSAnLi9vdXRwdXQnO1xuaW1wb3J0IHsgcGFyc2VUb29sQ2FsbCB9IGZyb20gJy4vcGFyc2UtdG9vbC1jYWxsJztcbmltcG9ydCB7IFByZXBhcmVTdGVwRnVuY3Rpb24gfSBmcm9tICcuL3ByZXBhcmUtc3RlcCc7XG5pbXBvcnQgeyBSZXNwb25zZU1lc3NhZ2UgfSBmcm9tICcuL3Jlc3BvbnNlLW1lc3NhZ2UnO1xuaW1wb3J0IHsgRGVmYXVsdFN0ZXBSZXN1bHQsIFN0ZXBSZXN1bHQgfSBmcm9tICcuL3N0ZXAtcmVzdWx0JztcbmltcG9ydCB7XG4gIGlzU3RvcENvbmRpdGlvbk1ldCxcbiAgc3RlcENvdW50SXMsXG4gIFN0b3BDb25kaXRpb24sXG59IGZyb20gJy4vc3RvcC1jb25kaXRpb24nO1xuaW1wb3J0IHsgdG9SZXNwb25zZU1lc3NhZ2VzIH0gZnJvbSAnLi90by1yZXNwb25zZS1tZXNzYWdlcyc7XG5pbXBvcnQgeyBUeXBlZFRvb2xDYWxsIH0gZnJvbSAnLi90b29sLWNhbGwnO1xuaW1wb3J0IHsgVG9vbENhbGxSZXBhaXJGdW5jdGlvbiB9IGZyb20gJy4vdG9vbC1jYWxsLXJlcGFpci1mdW5jdGlvbic7XG5pbXBvcnQgeyBUeXBlZFRvb2xFcnJvciB9IGZyb20gJy4vdG9vbC1lcnJvcic7XG5pbXBvcnQgeyBUb29sT3V0cHV0IH0gZnJvbSAnLi90b29sLW91dHB1dCc7XG5pbXBvcnQgeyBUeXBlZFRvb2xSZXN1bHQgfSBmcm9tICcuL3Rvb2wtcmVzdWx0JztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcblxuY29uc3Qgb3JpZ2luYWxHZW5lcmF0ZUlkID0gY3JlYXRlSWRHZW5lcmF0b3Ioe1xuICBwcmVmaXg6ICdhaXR4dCcsXG4gIHNpemU6IDI0LFxufSk7XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvblN0ZXBGaW5pc2hgIG9wdGlvbi5cblxuQHBhcmFtIHN0ZXBSZXN1bHQgLSBUaGUgcmVzdWx0IG9mIHRoZSBzdGVwLlxuICovXG5leHBvcnQgdHlwZSBHZW5lcmF0ZVRleHRPblN0ZXBGaW5pc2hDYWxsYmFjazxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID0gKFxuICBzdGVwUmVzdWx0OiBTdGVwUmVzdWx0PFRPT0xTPixcbikgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuR2VuZXJhdGUgYSB0ZXh0IGFuZCBjYWxsIHRvb2xzIGZvciBhIGdpdmVuIHByb21wdCB1c2luZyBhIGxhbmd1YWdlIG1vZGVsLlxuXG5UaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN0cmVhbSB0aGUgb3V0cHV0LiBJZiB5b3Ugd2FudCB0byBzdHJlYW0gdGhlIG91dHB1dCwgdXNlIGBzdHJlYW1UZXh0YCBpbnN0ZWFkLlxuXG5AcGFyYW0gbW9kZWwgLSBUaGUgbGFuZ3VhZ2UgbW9kZWwgdG8gdXNlLlxuXG5AcGFyYW0gdG9vbHMgLSBUb29scyB0aGF0IGFyZSBhY2Nlc3NpYmxlIHRvIGFuZCBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cbkBwYXJhbSB0b29sQ2hvaWNlIC0gVGhlIHRvb2wgY2hvaWNlIHN0cmF0ZWd5LiBEZWZhdWx0OiAnYXV0bycuXG5cbkBwYXJhbSBzeXN0ZW0gLSBBIHN5c3RlbSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBwYXJ0IG9mIHRoZSBwcm9tcHQuXG5AcGFyYW0gcHJvbXB0IC0gQSBzaW1wbGUgdGV4dCBwcm9tcHQuIFlvdSBjYW4gZWl0aGVyIHVzZSBgcHJvbXB0YCBvciBgbWVzc2FnZXNgIGJ1dCBub3QgYm90aC5cbkBwYXJhbSBtZXNzYWdlcyAtIEEgbGlzdCBvZiBtZXNzYWdlcy4gWW91IGNhbiBlaXRoZXIgdXNlIGBwcm9tcHRgIG9yIGBtZXNzYWdlc2AgYnV0IG5vdCBib3RoLlxuXG5AcGFyYW0gbWF4T3V0cHV0VG9rZW5zIC0gTWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIHRvIGdlbmVyYXRlLlxuQHBhcmFtIHRlbXBlcmF0dXJlIC0gVGVtcGVyYXR1cmUgc2V0dGluZy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5JdCBpcyByZWNvbW1lbmRlZCB0byBzZXQgZWl0aGVyIGB0ZW1wZXJhdHVyZWAgb3IgYHRvcFBgLCBidXQgbm90IGJvdGguXG5AcGFyYW0gdG9wUCAtIE51Y2xldXMgc2FtcGxpbmcuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGVpdGhlciBgdGVtcGVyYXR1cmVgIG9yIGB0b3BQYCwgYnV0IG5vdCBib3RoLlxuQHBhcmFtIHRvcEsgLSBPbmx5IHNhbXBsZSBmcm9tIHRoZSB0b3AgSyBvcHRpb25zIGZvciBlYWNoIHN1YnNlcXVlbnQgdG9rZW4uXG5Vc2VkIHRvIHJlbW92ZSBcImxvbmcgdGFpbFwiIGxvdyBwcm9iYWJpbGl0eSByZXNwb25zZXMuXG5SZWNvbW1lbmRlZCBmb3IgYWR2YW5jZWQgdXNlIGNhc2VzIG9ubHkuIFlvdSB1c3VhbGx5IG9ubHkgbmVlZCB0byB1c2UgdGVtcGVyYXR1cmUuXG5AcGFyYW0gcHJlc2VuY2VQZW5hbHR5IC0gUHJlc2VuY2UgcGVuYWx0eSBzZXR0aW5nLlxuSXQgYWZmZWN0cyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgdG8gcmVwZWF0IGluZm9ybWF0aW9uIHRoYXQgaXMgYWxyZWFkeSBpbiB0aGUgcHJvbXB0LlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkBwYXJhbSBmcmVxdWVuY3lQZW5hbHR5IC0gRnJlcXVlbmN5IHBlbmFsdHkgc2V0dGluZy5cbkl0IGFmZmVjdHMgdGhlIGxpa2VsaWhvb2Qgb2YgdGhlIG1vZGVsIHRvIHJlcGVhdGVkbHkgdXNlIHRoZSBzYW1lIHdvcmRzIG9yIHBocmFzZXMuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuQHBhcmFtIHN0b3BTZXF1ZW5jZXMgLSBTdG9wIHNlcXVlbmNlcy5cbklmIHNldCwgdGhlIG1vZGVsIHdpbGwgc3RvcCBnZW5lcmF0aW5nIHRleHQgd2hlbiBvbmUgb2YgdGhlIHN0b3Agc2VxdWVuY2VzIGlzIGdlbmVyYXRlZC5cbkBwYXJhbSBzZWVkIC0gVGhlIHNlZWQgKGludGVnZXIpIHRvIHVzZSBmb3IgcmFuZG9tIHNhbXBsaW5nLlxuSWYgc2V0IGFuZCBzdXBwb3J0ZWQgYnkgdGhlIG1vZGVsLCBjYWxscyB3aWxsIGdlbmVyYXRlIGRldGVybWluaXN0aWMgcmVzdWx0cy5cblxuQHBhcmFtIG1heFJldHJpZXMgLSBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuIERlZmF1bHQ6IDIuXG5AcGFyYW0gYWJvcnRTaWduYWwgLSBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGwuXG5AcGFyYW0gaGVhZGVycyAtIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cblxuQHBhcmFtIGV4cGVyaW1lbnRhbF9nZW5lcmF0ZU1lc3NhZ2VJZCAtIEdlbmVyYXRlIGEgdW5pcXVlIElEIGZvciBlYWNoIG1lc3NhZ2UuXG5cbkBwYXJhbSBvblN0ZXBGaW5pc2ggLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVhY2ggc3RlcCAoTExNIGNhbGwpIGlzIGZpbmlzaGVkLCBpbmNsdWRpbmcgaW50ZXJtZWRpYXRlIHN0ZXBzLlxuXG5AcmV0dXJuc1xuQSByZXN1bHQgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGdlbmVyYXRlZCB0ZXh0LCB0aGUgcmVzdWx0cyBvZiB0aGUgdG9vbCBjYWxscywgYW5kIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVRleHQ8XG4gIFRPT0xTIGV4dGVuZHMgVG9vbFNldCxcbiAgT1VUUFVUID0gbmV2ZXIsXG4gIE9VVFBVVF9QQVJUSUFMID0gbmV2ZXIsXG4+KHtcbiAgbW9kZWw6IG1vZGVsQXJnLFxuICB0b29scyxcbiAgdG9vbENob2ljZSxcbiAgc3lzdGVtLFxuICBwcm9tcHQsXG4gIG1lc3NhZ2VzLFxuICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICBhYm9ydFNpZ25hbCxcbiAgaGVhZGVycyxcbiAgc3RvcFdoZW4gPSBzdGVwQ291bnRJcygxKSxcbiAgZXhwZXJpbWVudGFsX291dHB1dDogb3V0cHV0LFxuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgZXhwZXJpbWVudGFsX2FjdGl2ZVRvb2xzLFxuICBhY3RpdmVUb29scyA9IGV4cGVyaW1lbnRhbF9hY3RpdmVUb29scyxcbiAgZXhwZXJpbWVudGFsX3ByZXBhcmVTdGVwLFxuICBwcmVwYXJlU3RlcCA9IGV4cGVyaW1lbnRhbF9wcmVwYXJlU3RlcCxcbiAgZXhwZXJpbWVudGFsX3JlcGFpclRvb2xDYWxsOiByZXBhaXJUb29sQ2FsbCxcbiAgZXhwZXJpbWVudGFsX2Rvd25sb2FkOiBkb3dubG9hZCxcbiAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gIF9pbnRlcm5hbDoge1xuICAgIGdlbmVyYXRlSWQgPSBvcmlnaW5hbEdlbmVyYXRlSWQsXG4gICAgY3VycmVudERhdGUgPSAoKSA9PiBuZXcgRGF0ZSgpLFxuICB9ID0ge30sXG4gIG9uU3RlcEZpbmlzaCxcbiAgLi4uc2V0dGluZ3Ncbn06IENhbGxTZXR0aW5ncyAmXG4gIFByb21wdCAmIHtcbiAgICAvKipcblRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG4gICAgICovXG4gICAgbW9kZWw6IExhbmd1YWdlTW9kZWw7XG5cbiAgICAvKipcblRoZSB0b29scyB0aGF0IHRoZSBtb2RlbCBjYW4gY2FsbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cbiovXG4gICAgdG9vbHM/OiBUT09MUztcblxuICAgIC8qKlxuVGhlIHRvb2wgY2hvaWNlIHN0cmF0ZWd5LiBEZWZhdWx0OiAnYXV0bycuXG4gICAgICovXG4gICAgdG9vbENob2ljZT86IFRvb2xDaG9pY2U8Tm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG5Db25kaXRpb24gZm9yIHN0b3BwaW5nIHRoZSBnZW5lcmF0aW9uIHdoZW4gdGhlcmUgYXJlIHRvb2wgcmVzdWx0cyBpbiB0aGUgbGFzdCBzdGVwLlxuV2hlbiB0aGUgY29uZGl0aW9uIGlzIGFuIGFycmF5LCBhbnkgb2YgdGhlIGNvbmRpdGlvbnMgY2FuIGJlIG1ldCB0byBzdG9wIHRoZSBnZW5lcmF0aW9uLlxuXG5AZGVmYXVsdCBzdGVwQ291bnRJcygxKVxuICAgICAqL1xuICAgIHN0b3BXaGVuPzpcbiAgICAgIHwgU3RvcENvbmRpdGlvbjxOb0luZmVyPFRPT0xTPj5cbiAgICAgIHwgQXJyYXk8U3RvcENvbmRpdGlvbjxOb0luZmVyPFRPT0xTPj4+O1xuXG4gICAgLyoqXG5PcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG5cbiAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICovXG4gICAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGBhY3RpdmVUb29sc2AgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfYWN0aXZlVG9vbHM/OiBBcnJheTxrZXlvZiBOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbkxpbWl0cyB0aGUgdG9vbHMgdGhhdCBhcmUgYXZhaWxhYmxlIGZvciB0aGUgbW9kZWwgdG8gY2FsbCB3aXRob3V0XG5jaGFuZ2luZyB0aGUgdG9vbCBjYWxsIGFuZCByZXN1bHQgdHlwZXMgaW4gdGhlIHJlc3VsdC5cbiAgICAgKi9cbiAgICBhY3RpdmVUb29scz86IEFycmF5PGtleW9mIE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuT3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBmb3IgcGFyc2luZyBzdHJ1Y3R1cmVkIG91dHB1dHMgZnJvbSB0aGUgTExNIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9vdXRwdXQ/OiBPdXRwdXQ8T1VUUFVULCBPVVRQVVRfUEFSVElBTD47XG5cbiAgICAvKipcbkN1c3RvbSBkb3dubG9hZCBmdW5jdGlvbiB0byB1c2UgZm9yIFVSTHMuXG5cbkJ5IGRlZmF1bHQsIGZpbGVzIGFyZSBkb3dubG9hZGVkIGlmIHRoZSBtb2RlbCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBVUkwgZm9yIHRoZSBnaXZlbiBtZWRpYSB0eXBlLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9kb3dubG9hZD86IERvd25sb2FkRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYHByZXBhcmVTdGVwYCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9wcmVwYXJlU3RlcD86IFByZXBhcmVTdGVwRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG5PcHRpb25hbCBmdW5jdGlvbiB0aGF0IHlvdSBjYW4gdXNlIHRvIHByb3ZpZGUgZGlmZmVyZW50IHNldHRpbmdzIGZvciBhIHN0ZXAuXG4gICAgKi9cbiAgICBwcmVwYXJlU3RlcD86IFByZXBhcmVTdGVwRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG5BIGZ1bmN0aW9uIHRoYXQgYXR0ZW1wdHMgdG8gcmVwYWlyIGEgdG9vbCBjYWxsIHRoYXQgZmFpbGVkIHRvIHBhcnNlLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9yZXBhaXJUb29sQ2FsbD86IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG4gICAgQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBlYWNoIHN0ZXAgKExMTSBjYWxsKSBpcyBmaW5pc2hlZCwgaW5jbHVkaW5nIGludGVybWVkaWF0ZSBzdGVwcy5cbiAgICAqL1xuICAgIG9uU3RlcEZpbmlzaD86IEdlbmVyYXRlVGV4dE9uU3RlcEZpbmlzaENhbGxiYWNrPE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuICAgICAqIENvbnRleHQgdGhhdCBpcyBwYXNzZWQgaW50byB0b29sIGV4ZWN1dGlvbi5cbiAgICAgKlxuICAgICAqIEV4cGVyaW1lbnRhbCAoY2FuIGJyZWFrIGluIHBhdGNoIHJlbGVhc2VzKS5cbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0PzogdW5rbm93bjtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsLiBGb3IgdGVzdCB1c2Ugb25seS4gTWF5IGNoYW5nZSB3aXRob3V0IG5vdGljZS5cbiAgICAgKi9cbiAgICBfaW50ZXJuYWw/OiB7XG4gICAgICBnZW5lcmF0ZUlkPzogSWRHZW5lcmF0b3I7XG4gICAgICBjdXJyZW50RGF0ZT86ICgpID0+IERhdGU7XG4gICAgfTtcbiAgfSk6IFByb21pc2U8R2VuZXJhdGVUZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQ+PiB7XG4gIGNvbnN0IG1vZGVsID0gcmVzb2x2ZUxhbmd1YWdlTW9kZWwobW9kZWxBcmcpO1xuICBjb25zdCBzdG9wQ29uZGl0aW9ucyA9IGFzQXJyYXkoc3RvcFdoZW4pO1xuICBjb25zdCB7IG1heFJldHJpZXMsIHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgfSk7XG5cbiAgY29uc3QgY2FsbFNldHRpbmdzID0gcHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyk7XG5cbiAgY29uc3QgaGVhZGVyc1dpdGhVc2VyQWdlbnQgPSB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgIGhlYWRlcnMgPz8ge30sXG4gICAgYGFpLyR7VkVSU0lPTn1gLFxuICApO1xuXG4gIGNvbnN0IGJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzID0gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgIG1vZGVsLFxuICAgIHRlbGVtZXRyeSxcbiAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICBzZXR0aW5nczogeyAuLi5jYWxsU2V0dGluZ3MsIG1heFJldHJpZXMgfSxcbiAgfSk7XG5cbiAgY29uc3QgaW5pdGlhbFByb21wdCA9IGF3YWl0IHN0YW5kYXJkaXplUHJvbXB0KHtcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICB9IGFzIFByb21wdCk7XG5cbiAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKHRlbGVtZXRyeSk7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgcmVjb3JkU3Bhbih7XG4gICAgICBuYW1lOiAnYWkuZ2VuZXJhdGVUZXh0JyxcbiAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5nZW5lcmF0ZVRleHQnLFxuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgIC8vIG1vZGVsOlxuICAgICAgICAgICdhaS5tb2RlbC5wcm92aWRlcic6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICdhaS5tb2RlbC5pZCc6IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICAgICdhaS5wcm9tcHQnOiB7XG4gICAgICAgICAgICBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoeyBzeXN0ZW0sIHByb21wdCwgbWVzc2FnZXMgfSksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgdHJhY2VyLFxuICAgICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSBwcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKTtcblxuICAgICAgICBsZXQgY3VycmVudE1vZGVsUmVzcG9uc2U6IEF3YWl0ZWQ8XG4gICAgICAgICAgUmV0dXJuVHlwZTxMYW5ndWFnZU1vZGVsVjJbJ2RvR2VuZXJhdGUnXT5cbiAgICAgICAgPiAmIHsgcmVzcG9uc2U6IHsgaWQ6IHN0cmluZzsgdGltZXN0YW1wOiBEYXRlOyBtb2RlbElkOiBzdHJpbmcgfSB9O1xuICAgICAgICBsZXQgY2xpZW50VG9vbENhbGxzOiBBcnJheTxUeXBlZFRvb2xDYWxsPFRPT0xTPj4gPSBbXTtcbiAgICAgICAgbGV0IGNsaWVudFRvb2xPdXRwdXRzOiBBcnJheTxUb29sT3V0cHV0PFRPT0xTPj4gPSBbXTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VNZXNzYWdlczogQXJyYXk8UmVzcG9uc2VNZXNzYWdlPiA9IFtdO1xuICAgICAgICBjb25zdCBzdGVwczogR2VuZXJhdGVUZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQ+WydzdGVwcyddID0gW107XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIGNvbnN0IHN0ZXBJbnB1dE1lc3NhZ2VzID0gW1xuICAgICAgICAgICAgLi4uaW5pdGlhbFByb21wdC5tZXNzYWdlcyxcbiAgICAgICAgICAgIC4uLnJlc3BvbnNlTWVzc2FnZXMsXG4gICAgICAgICAgXTtcblxuICAgICAgICAgIGNvbnN0IHByZXBhcmVTdGVwUmVzdWx0ID0gYXdhaXQgcHJlcGFyZVN0ZXA/Lih7XG4gICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgIHN0ZXBzLFxuICAgICAgICAgICAgc3RlcE51bWJlcjogc3RlcHMubGVuZ3RoLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3QgcHJvbXB0TWVzc2FnZXMgPSBhd2FpdCBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgICAgICAgICAgIHByb21wdDoge1xuICAgICAgICAgICAgICBzeXN0ZW06IHByZXBhcmVTdGVwUmVzdWx0Py5zeXN0ZW0gPz8gaW5pdGlhbFByb21wdC5zeXN0ZW0sXG4gICAgICAgICAgICAgIG1lc3NhZ2VzOiBwcmVwYXJlU3RlcFJlc3VsdD8ubWVzc2FnZXMgPz8gc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydGVkVXJsczogYXdhaXQgbW9kZWwuc3VwcG9ydGVkVXJscyxcbiAgICAgICAgICAgIGRvd25sb2FkLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3Qgc3RlcE1vZGVsID0gcmVzb2x2ZUxhbmd1YWdlTW9kZWwoXG4gICAgICAgICAgICBwcmVwYXJlU3RlcFJlc3VsdD8ubW9kZWwgPz8gbW9kZWwsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IHsgdG9vbENob2ljZTogc3RlcFRvb2xDaG9pY2UsIHRvb2xzOiBzdGVwVG9vbHMgfSA9XG4gICAgICAgICAgICBwcmVwYXJlVG9vbHNBbmRUb29sQ2hvaWNlKHtcbiAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgIHRvb2xDaG9pY2U6IHByZXBhcmVTdGVwUmVzdWx0Py50b29sQ2hvaWNlID8/IHRvb2xDaG9pY2UsXG4gICAgICAgICAgICAgIGFjdGl2ZVRvb2xzOiBwcmVwYXJlU3RlcFJlc3VsdD8uYWN0aXZlVG9vbHMgPz8gYWN0aXZlVG9vbHMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGN1cnJlbnRNb2RlbFJlc3BvbnNlID0gYXdhaXQgcmV0cnkoKCkgPT5cbiAgICAgICAgICAgIHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgICBuYW1lOiAnYWkuZ2VuZXJhdGVUZXh0LmRvR2VuZXJhdGUnLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5nZW5lcmF0ZVRleHQuZG9HZW5lcmF0ZScsXG4gICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAvLyBtb2RlbDpcbiAgICAgICAgICAgICAgICAgICdhaS5tb2RlbC5wcm92aWRlcic6IHN0ZXBNb2RlbC5wcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICdhaS5tb2RlbC5pZCc6IHN0ZXBNb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgLy8gcHJvbXB0OlxuICAgICAgICAgICAgICAgICAgJ2FpLnByb21wdC5tZXNzYWdlcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHN0cmluZ2lmeUZvclRlbGVtZXRyeShwcm9tcHRNZXNzYWdlcyksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJ2FpLnByb21wdC50b29scyc6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCB0aGUgbGFuZ3VhZ2UgbW9kZWwgbGV2ZWwgdG9vbHM6XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBzdGVwVG9vbHM/Lm1hcCh0b29sID0+IEpTT04uc3RyaW5naWZ5KHRvb2wpKSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAnYWkucHJvbXB0LnRvb2xDaG9pY2UnOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBUb29sQ2hvaWNlICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkoc3RlcFRvb2xDaG9pY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkuc3lzdGVtJzogc3RlcE1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1vZGVsJzogc3RlcE1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QuZnJlcXVlbmN5X3BlbmFsdHknOiBzZXR0aW5ncy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnMnOiBzZXR0aW5ncy5tYXhPdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QucHJlc2VuY2VfcGVuYWx0eSc6IHNldHRpbmdzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5zdG9wX3NlcXVlbmNlcyc6IHNldHRpbmdzLnN0b3BTZXF1ZW5jZXMsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmUnOlxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy50ZW1wZXJhdHVyZSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudG9wX2snOiBzZXR0aW5ncy50b3BLLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9wJzogc2V0dGluZ3MudG9wUCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgICBmbjogYXN5bmMgc3BhbiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RlcE1vZGVsLmRvR2VuZXJhdGUoe1xuICAgICAgICAgICAgICAgICAgLi4uY2FsbFNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgdG9vbHM6IHN0ZXBUb29scyxcbiAgICAgICAgICAgICAgICAgIHRvb2xDaG9pY2U6IHN0ZXBUb29sQ2hvaWNlLFxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2VGb3JtYXQ6IG91dHB1dD8ucmVzcG9uc2VGb3JtYXQsXG4gICAgICAgICAgICAgICAgICBwcm9tcHQ6IHByb21wdE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIEZpbGwgaW4gZGVmYXVsdCB2YWx1ZXM6XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgaWQ6IHJlc3VsdC5yZXNwb25zZT8uaWQgPz8gZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiByZXN1bHQucmVzcG9uc2U/LnRpbWVzdGFtcCA/PyBjdXJyZW50RGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgbW9kZWxJZDogcmVzdWx0LnJlc3BvbnNlPy5tb2RlbElkID8/IHN0ZXBNb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVzdWx0LnJlc3BvbnNlPy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgYm9keTogcmVzdWx0LnJlc3BvbnNlPy5ib2R5LFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgcmVzcG9uc2UgaW5mb3JtYXRpb24gdG8gdGhlIHNwYW46XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5maW5pc2hSZWFzb24nOiByZXN1bHQuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50ZXh0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBleHRyYWN0VGV4dENvbnRlbnQocmVzdWx0LmNvbnRlbnQpLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRvb2xDYWxscyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sQ2FsbHMgPSBhc1Rvb2xDYWxscyhyZXN1bHQuY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sQ2FsbHMgPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBKU09OLnN0cmluZ2lmeSh0b29sQ2FsbHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5pZCc6IHJlc3BvbnNlRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UubW9kZWwnOiByZXNwb25zZURhdGEubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudGltZXN0YW1wJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS50aW1lc3RhbXAudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gcmVuYW1lIHRlbGVtZXRyeSBhdHRyaWJ1dGVzIHRvIGlucHV0VG9rZW5zIGFuZCBvdXRwdXRUb2tlbnNcbiAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UucHJvbXB0VG9rZW5zJzogcmVzdWx0LnVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zJzogcmVzdWx0LnVzYWdlLm91dHB1dFRva2VucyxcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLmZpbmlzaF9yZWFzb25zJzogW3Jlc3VsdC5maW5pc2hSZWFzb25dLFxuICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuaWQnOiByZXNwb25zZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5tb2RlbCc6IHJlc3BvbnNlRGF0YS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkudXNhZ2UuaW5wdXRfdG9rZW5zJzogcmVzdWx0LnVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkudXNhZ2Uub3V0cHV0X3Rva2Vucyc6IHJlc3VsdC51c2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzdWx0LCByZXNwb25zZTogcmVzcG9uc2VEYXRhIH07XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gcGFyc2UgdG9vbCBjYWxsczpcbiAgICAgICAgICBjb25zdCBzdGVwVG9vbENhbGxzOiBUeXBlZFRvb2xDYWxsPFRPT0xTPltdID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICBjdXJyZW50TW9kZWxSZXNwb25zZS5jb250ZW50XG4gICAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgKHBhcnQpOiBwYXJ0IGlzIExhbmd1YWdlTW9kZWxWMlRvb2xDYWxsID0+XG4gICAgICAgICAgICAgICAgICBwYXJ0LnR5cGUgPT09ICd0b29sLWNhbGwnLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC5tYXAodG9vbENhbGwgPT5cbiAgICAgICAgICAgICAgICBwYXJzZVRvb2xDYWxsKHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgICAgICByZXBhaXJUb29sQ2FsbCxcbiAgICAgICAgICAgICAgICAgIHN5c3RlbSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gbm90aWZ5IHRoZSB0b29scyB0aGF0IHRoZSB0b29sIGNhbGxzIGFyZSBhdmFpbGFibGU6XG4gICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiBzdGVwVG9vbENhbGxzKSB7XG4gICAgICAgICAgICBpZiAodG9vbENhbGwuaW52YWxpZCkge1xuICAgICAgICAgICAgICBjb250aW51ZTsgLy8gaWdub3JlIGludmFsaWQgdG9vbCBjYWxsc1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0b29sID0gdG9vbHMhW3Rvb2xDYWxsLnRvb2xOYW1lXTtcbiAgICAgICAgICAgIGlmICh0b29sPy5vbklucHV0QXZhaWxhYmxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdG9vbC5vbklucHV0QXZhaWxhYmxlKHtcbiAgICAgICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGluc2VydCBlcnJvciB0b29sIG91dHB1dHMgZm9yIGludmFsaWQgdG9vbCBjYWxsczpcbiAgICAgICAgICAvLyBUT0RPIEFJIFNESyA2OiBpbnZhbGlkIGlucHV0cyBzaG91bGQgbm90IHJlcXVpcmUgb3V0cHV0IHBhcnRzXG4gICAgICAgICAgY29uc3QgaW52YWxpZFRvb2xDYWxscyA9IHN0ZXBUb29sQ2FsbHMuZmlsdGVyKFxuICAgICAgICAgICAgdG9vbENhbGwgPT4gdG9vbENhbGwuaW52YWxpZCAmJiB0b29sQ2FsbC5keW5hbWljLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjbGllbnRUb29sT3V0cHV0cyA9IFtdO1xuXG4gICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiBpbnZhbGlkVG9vbENhbGxzKSB7XG4gICAgICAgICAgICBjbGllbnRUb29sT3V0cHV0cy5wdXNoKHtcbiAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtZXJyb3InLFxuICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgICAgICAgIGlucHV0OiB0b29sQ2FsbC5pbnB1dCxcbiAgICAgICAgICAgICAgZXJyb3I6IGdldEVycm9yTWVzc2FnZSh0b29sQ2FsbC5lcnJvciEpLFxuICAgICAgICAgICAgICBkeW5hbWljOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZXhlY3V0ZSBjbGllbnQgdG9vbCBjYWxsczpcbiAgICAgICAgICBjbGllbnRUb29sQ2FsbHMgPSBzdGVwVG9vbENhbGxzLmZpbHRlcihcbiAgICAgICAgICAgIHRvb2xDYWxsID0+ICF0b29sQ2FsbC5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAodG9vbHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2xpZW50VG9vbE91dHB1dHMucHVzaChcbiAgICAgICAgICAgICAgLi4uKGF3YWl0IGV4ZWN1dGVUb29scyh7XG4gICAgICAgICAgICAgICAgdG9vbENhbGxzOiBjbGllbnRUb29sQ2FsbHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGwgPT4gIXRvb2xDYWxsLmludmFsaWQsXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBjb250ZW50OlxuICAgICAgICAgIGNvbnN0IHN0ZXBDb250ZW50ID0gYXNDb250ZW50KHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLmNvbnRlbnQsXG4gICAgICAgICAgICB0b29sQ2FsbHM6IHN0ZXBUb29sQ2FsbHMsXG4gICAgICAgICAgICB0b29sT3V0cHV0czogY2xpZW50VG9vbE91dHB1dHMsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBhcHBlbmQgdG8gbWVzc2FnZXMgZm9yIHBvdGVudGlhbCBuZXh0IHN0ZXA6XG4gICAgICAgICAgcmVzcG9uc2VNZXNzYWdlcy5wdXNoKFxuICAgICAgICAgICAgLi4udG9SZXNwb25zZU1lc3NhZ2VzKHtcbiAgICAgICAgICAgICAgY29udGVudDogc3RlcENvbnRlbnQsXG4gICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIEFkZCBzdGVwIGluZm9ybWF0aW9uIChhZnRlciByZXNwb25zZSBtZXNzYWdlcyBhcmUgdXBkYXRlZCk6XG4gICAgICAgICAgY29uc3QgY3VycmVudFN0ZXBSZXN1bHQ6IFN0ZXBSZXN1bHQ8VE9PTFM+ID0gbmV3IERlZmF1bHRTdGVwUmVzdWx0KHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHN0ZXBDb250ZW50LFxuICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjdXJyZW50TW9kZWxSZXNwb25zZS5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICB1c2FnZTogY3VycmVudE1vZGVsUmVzcG9uc2UudXNhZ2UsXG4gICAgICAgICAgICB3YXJuaW5nczogY3VycmVudE1vZGVsUmVzcG9uc2Uud2FybmluZ3MsXG4gICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjdXJyZW50TW9kZWxSZXNwb25zZS5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgcmVxdWVzdDogY3VycmVudE1vZGVsUmVzcG9uc2UucmVxdWVzdCA/PyB7fSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgIC4uLmN1cnJlbnRNb2RlbFJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgICAvLyBkZWVwIGNsb25lIG1zZ3MgdG8gYXZvaWQgbXV0YXRpbmcgcGFzdCBtZXNzYWdlcyBpbiBtdWx0aS1zdGVwOlxuICAgICAgICAgICAgICBtZXNzYWdlczogc3RydWN0dXJlZENsb25lKHJlc3BvbnNlTWVzc2FnZXMpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGxvZ1dhcm5pbmdzKGN1cnJlbnRNb2RlbFJlc3BvbnNlLndhcm5pbmdzID8/IFtdKTtcblxuICAgICAgICAgIHN0ZXBzLnB1c2goY3VycmVudFN0ZXBSZXN1bHQpO1xuICAgICAgICAgIGF3YWl0IG9uU3RlcEZpbmlzaD8uKGN1cnJlbnRTdGVwUmVzdWx0KTtcbiAgICAgICAgfSB3aGlsZSAoXG4gICAgICAgICAgLy8gdGhlcmUgYXJlIHRvb2wgY2FsbHM6XG4gICAgICAgICAgY2xpZW50VG9vbENhbGxzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAvLyBhbGwgY3VycmVudCB0b29sIGNhbGxzIGhhdmUgb3V0cHV0cyAoaW5jbC4gZXhlY3V0aW9uIGVycm9ycyk6XG4gICAgICAgICAgY2xpZW50VG9vbE91dHB1dHMubGVuZ3RoID09PSBjbGllbnRUb29sQ2FsbHMubGVuZ3RoICYmXG4gICAgICAgICAgLy8gY29udGludWUgdW50aWwgYSBzdG9wIGNvbmRpdGlvbiBpcyBtZXQ6XG4gICAgICAgICAgIShhd2FpdCBpc1N0b3BDb25kaXRpb25NZXQoeyBzdG9wQ29uZGl0aW9ucywgc3RlcHMgfSkpXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGluZm9ybWF0aW9uIHRvIHRoZSBzcGFuOlxuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICdhaS5yZXNwb25zZS5maW5pc2hSZWFzb24nOiBjdXJyZW50TW9kZWxSZXNwb25zZS5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICdhaS5yZXNwb25zZS50ZXh0Jzoge1xuICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gZXh0cmFjdFRleHRDb250ZW50KGN1cnJlbnRNb2RlbFJlc3BvbnNlLmNvbnRlbnQpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudG9vbENhbGxzJzoge1xuICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbENhbGxzID0gYXNUb29sQ2FsbHMoY3VycmVudE1vZGVsUmVzcG9uc2UuY29udGVudCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbENhbGxzID09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgOiBKU09OLnN0cmluZ2lmeSh0b29sQ2FsbHMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhaS5yZXNwb25zZS5wcm92aWRlck1ldGFkYXRhJzogSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgY3VycmVudE1vZGVsUmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAvLyBUT0RPIHJlbmFtZSB0ZWxlbWV0cnkgYXR0cmlidXRlcyB0byBpbnB1dFRva2VucyBhbmQgb3V0cHV0VG9rZW5zXG4gICAgICAgICAgICAgICdhaS51c2FnZS5wcm9tcHRUb2tlbnMnOiBjdXJyZW50TW9kZWxSZXNwb25zZS51c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgJ2FpLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMnOlxuICAgICAgICAgICAgICAgIGN1cnJlbnRNb2RlbFJlc3BvbnNlLnVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgbGFzdFN0ZXAgPSBzdGVwc1tzdGVwcy5sZW5ndGggLSAxXTtcblxuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRHZW5lcmF0ZVRleHRSZXN1bHQoe1xuICAgICAgICAgIHN0ZXBzLFxuICAgICAgICAgIHJlc29sdmVkT3V0cHV0OiBhd2FpdCBvdXRwdXQ/LnBhcnNlT3V0cHV0KFxuICAgICAgICAgICAgeyB0ZXh0OiBsYXN0U3RlcC50ZXh0IH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlOiBsYXN0U3RlcC5yZXNwb25zZSxcbiAgICAgICAgICAgICAgdXNhZ2U6IGxhc3RTdGVwLnVzYWdlLFxuICAgICAgICAgICAgICBmaW5pc2hSZWFzb246IGxhc3RTdGVwLmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IHdyYXBHYXRld2F5RXJyb3IoZXJyb3IpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVUb29sczxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgdG9vbENhbGxzLFxuICB0b29scyxcbiAgdHJhY2VyLFxuICB0ZWxlbWV0cnksXG4gIG1lc3NhZ2VzLFxuICBhYm9ydFNpZ25hbCxcbiAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG59OiB7XG4gIHRvb2xDYWxsczogQXJyYXk8VHlwZWRUb29sQ2FsbDxUT09MUz4+O1xuICB0b29sczogVE9PTFM7XG4gIHRyYWNlcjogVHJhY2VyO1xuICB0ZWxlbWV0cnk6IFRlbGVtZXRyeVNldHRpbmdzIHwgdW5kZWZpbmVkO1xuICBtZXNzYWdlczogTW9kZWxNZXNzYWdlW107XG4gIGFib3J0U2lnbmFsOiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZDtcbiAgZXhwZXJpbWVudGFsX2NvbnRleHQ6IHVua25vd247XG59KTogUHJvbWlzZTxBcnJheTxUb29sT3V0cHV0PFRPT0xTPj4+IHtcbiAgY29uc3QgdG9vbE91dHB1dHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICB0b29sQ2FsbHMubWFwKGFzeW5jICh7IHRvb2xDYWxsSWQsIHRvb2xOYW1lLCBpbnB1dCB9KSA9PiB7XG4gICAgICBjb25zdCB0b29sID0gdG9vbHNbdG9vbE5hbWVdO1xuXG4gICAgICBpZiAodG9vbD8uZXhlY3V0ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWNvcmRTcGFuKHtcbiAgICAgICAgbmFtZTogJ2FpLnRvb2xDYWxsJyxcbiAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkudG9vbENhbGwnLFxuICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICdhaS50b29sQ2FsbC5uYW1lJzogdG9vbE5hbWUsXG4gICAgICAgICAgICAnYWkudG9vbENhbGwuaWQnOiB0b29sQ2FsbElkLFxuICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLmFyZ3MnOiB7XG4gICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoaW5wdXQpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICAgdHJhY2VyLFxuICAgICAgICBmbjogYXN5bmMgc3BhbiA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGV4ZWN1dGVUb29sKHtcbiAgICAgICAgICAgICAgZXhlY3V0ZTogdG9vbC5leGVjdXRlIS5iaW5kKHRvb2wpLFxuICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IG91dHB1dDogdW5rbm93bjtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgcGFydCBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ2ZpbmFsJykge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IHBhcnQub3V0cHV0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICdhaS50b29sQ2FsbC5yZXN1bHQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvdXRwdXQpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgLy8gSlNPTiBzdHJpbmdpZnkgbWlnaHQgZmFpbCBpZiB0aGUgcmVzdWx0IGlzIG5vdCBzZXJpYWxpemFibGUsXG4gICAgICAgICAgICAgIC8vIGluIHdoaWNoIGNhc2Ugd2UganVzdCBpZ25vcmUgaXQuIEluIHRoZSBmdXR1cmUgd2UgbWlnaHQgd2FudCB0b1xuICAgICAgICAgICAgICAvLyBhZGQgYW4gb3B0aW9uYWwgc2VyaWFsaXplIG1ldGhvZCB0byB0aGUgdG9vbCBpbnRlcmZhY2UgYW5kIHdhcm5cbiAgICAgICAgICAgICAgLy8gaWYgdGhlIHJlc3VsdCBpcyBub3Qgc2VyaWFsaXphYmxlLlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgZHluYW1pYzogdG9vbC50eXBlID09PSAnZHluYW1pYycsXG4gICAgICAgICAgICB9IGFzIFR5cGVkVG9vbFJlc3VsdDxUT09MUz47XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlY29yZEVycm9yT25TcGFuKHNwYW4sIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHR5cGU6ICd0b29sLWVycm9yJyxcbiAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgZHluYW1pYzogdG9vbC50eXBlID09PSAnZHluYW1pYycsXG4gICAgICAgICAgICB9IGFzIFR5cGVkVG9vbEVycm9yPFRPT0xTPjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KSxcbiAgKTtcblxuICByZXR1cm4gdG9vbE91dHB1dHMuZmlsdGVyKFxuICAgIChvdXRwdXQpOiBvdXRwdXQgaXMgTm9uTnVsbGFibGU8dHlwZW9mIG91dHB1dD4gPT4gb3V0cHV0ICE9IG51bGwsXG4gICk7XG59XG5cbmNsYXNzIERlZmF1bHRHZW5lcmF0ZVRleHRSZXN1bHQ8VE9PTFMgZXh0ZW5kcyBUb29sU2V0LCBPVVRQVVQ+XG4gIGltcGxlbWVudHMgR2VuZXJhdGVUZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQ+XG57XG4gIHJlYWRvbmx5IHN0ZXBzOiBHZW5lcmF0ZVRleHRSZXN1bHQ8VE9PTFMsIE9VVFBVVD5bJ3N0ZXBzJ107XG5cbiAgcHJpdmF0ZSByZWFkb25seSByZXNvbHZlZE91dHB1dDogT1VUUFVUO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICBzdGVwczogR2VuZXJhdGVUZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQ+WydzdGVwcyddO1xuICAgIHJlc29sdmVkT3V0cHV0OiBPVVRQVVQ7XG4gIH0pIHtcbiAgICB0aGlzLnN0ZXBzID0gb3B0aW9ucy5zdGVwcztcbiAgICB0aGlzLnJlc29sdmVkT3V0cHV0ID0gb3B0aW9ucy5yZXNvbHZlZE91dHB1dDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IGZpbmFsU3RlcCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwc1t0aGlzLnN0ZXBzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgZ2V0IGNvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLmNvbnRlbnQ7XG4gIH1cblxuICBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGV4dDtcbiAgfVxuXG4gIGdldCBmaWxlcygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAuZmlsZXM7XG4gIH1cblxuICBnZXQgcmVhc29uaW5nVGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAucmVhc29uaW5nVGV4dDtcbiAgfVxuXG4gIGdldCByZWFzb25pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnJlYXNvbmluZztcbiAgfVxuXG4gIGdldCB0b29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRvb2xDYWxscztcbiAgfVxuXG4gIGdldCBzdGF0aWNUb29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnN0YXRpY1Rvb2xDYWxscztcbiAgfVxuXG4gIGdldCBkeW5hbWljVG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5keW5hbWljVG9vbENhbGxzO1xuICB9XG5cbiAgZ2V0IHRvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50b29sUmVzdWx0cztcbiAgfVxuXG4gIGdldCBzdGF0aWNUb29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAuc3RhdGljVG9vbFJlc3VsdHM7XG4gIH1cblxuICBnZXQgZHluYW1pY1Rvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5keW5hbWljVG9vbFJlc3VsdHM7XG4gIH1cblxuICBnZXQgc291cmNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAuc291cmNlcztcbiAgfVxuXG4gIGdldCBmaW5pc2hSZWFzb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLmZpbmlzaFJlYXNvbjtcbiAgfVxuXG4gIGdldCB3YXJuaW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAud2FybmluZ3M7XG4gIH1cblxuICBnZXQgcHJvdmlkZXJNZXRhZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAucHJvdmlkZXJNZXRhZGF0YTtcbiAgfVxuXG4gIGdldCByZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAucmVzcG9uc2U7XG4gIH1cblxuICBnZXQgcmVxdWVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAucmVxdWVzdDtcbiAgfVxuXG4gIGdldCB1c2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudXNhZ2U7XG4gIH1cblxuICBnZXQgdG90YWxVc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwcy5yZWR1Y2UoXG4gICAgICAodG90YWxVc2FnZSwgc3RlcCkgPT4ge1xuICAgICAgICByZXR1cm4gYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlKHRvdGFsVXNhZ2UsIHN0ZXAudXNhZ2UpO1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW5wdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgb3V0cHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgIHRvdGFsVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgIHJlYXNvbmluZ1Rva2VuczogdW5kZWZpbmVkLFxuICAgICAgICBjYWNoZWRJbnB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgfSBhcyBMYW5ndWFnZU1vZGVsVXNhZ2UsXG4gICAgKTtcbiAgfVxuXG4gIGdldCBleHBlcmltZW50YWxfb3V0cHV0KCkge1xuICAgIGlmICh0aGlzLnJlc29sdmVkT3V0cHV0ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb091dHB1dFNwZWNpZmllZEVycm9yKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZWRPdXRwdXQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNUb29sQ2FsbHMoY29udGVudDogQXJyYXk8TGFuZ3VhZ2VNb2RlbFYyQ29udGVudD4pIHtcbiAgY29uc3QgcGFydHMgPSBjb250ZW50LmZpbHRlcihcbiAgICAocGFydCk6IHBhcnQgaXMgTGFuZ3VhZ2VNb2RlbFYyVG9vbENhbGwgPT4gcGFydC50eXBlID09PSAndG9vbC1jYWxsJyxcbiAgKTtcblxuICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5tYXAodG9vbENhbGwgPT4gKHtcbiAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gYXNDb250ZW50PFRPT0xTIGV4dGVuZHMgVG9vbFNldD4oe1xuICBjb250ZW50LFxuICB0b29sQ2FsbHMsXG4gIHRvb2xPdXRwdXRzLFxufToge1xuICBjb250ZW50OiBBcnJheTxMYW5ndWFnZU1vZGVsVjJDb250ZW50PjtcbiAgdG9vbENhbGxzOiBBcnJheTxUeXBlZFRvb2xDYWxsPFRPT0xTPj47XG4gIHRvb2xPdXRwdXRzOiBBcnJheTxUb29sT3V0cHV0PFRPT0xTPj47XG59KTogQXJyYXk8Q29udGVudFBhcnQ8VE9PTFM+PiB7XG4gIHJldHVybiBbXG4gICAgLi4uY29udGVudC5tYXAocGFydCA9PiB7XG4gICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgY2FzZSAncmVhc29uaW5nJzpcbiAgICAgICAgY2FzZSAnc291cmNlJzpcbiAgICAgICAgICByZXR1cm4gcGFydDtcblxuICAgICAgICBjYXNlICdmaWxlJzoge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZmlsZScgYXMgY29uc3QsXG4gICAgICAgICAgICBmaWxlOiBuZXcgRGVmYXVsdEdlbmVyYXRlZEZpbGUocGFydCksXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3Rvb2wtY2FsbCc6IHtcbiAgICAgICAgICByZXR1cm4gdG9vbENhbGxzLmZpbmQoXG4gICAgICAgICAgICB0b29sQ2FsbCA9PiB0b29sQ2FsbC50b29sQ2FsbElkID09PSBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgKSE7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICd0b29sLXJlc3VsdCc6IHtcbiAgICAgICAgICBjb25zdCB0b29sQ2FsbCA9IHRvb2xDYWxscy5maW5kKFxuICAgICAgICAgICAgdG9vbENhbGwgPT4gdG9vbENhbGwudG9vbENhbGxJZCA9PT0gcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICkhO1xuXG4gICAgICAgICAgaWYgKHRvb2xDYWxsID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVG9vbCBjYWxsICR7cGFydC50b29sQ2FsbElkfSBub3QgZm91bmQuYCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhcnQuaXNFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtZXJyb3InIGFzIGNvbnN0LFxuICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lIGFzIGtleW9mIFRPT0xTICYgc3RyaW5nLFxuICAgICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICAgIGVycm9yOiBwYXJ0LnJlc3VsdCxcbiAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgZHluYW1pYzogdG9vbENhbGwuZHluYW1pYyxcbiAgICAgICAgICAgIH0gYXMgVHlwZWRUb29sRXJyb3I8VE9PTFM+O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUgYXMga2V5b2YgVE9PTFMgJiBzdHJpbmcsXG4gICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICBvdXRwdXQ6IHBhcnQucmVzdWx0LFxuICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGR5bmFtaWM6IHRvb2xDYWxsLmR5bmFtaWMsXG4gICAgICAgICAgfSBhcyBUeXBlZFRvb2xSZXN1bHQ8VE9PTFM+O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksXG4gICAgLi4udG9vbE91dHB1dHMsXG4gIF07XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX05vT3V0cHV0U3BlY2lmaWVkRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG5UaHJvd24gd2hlbiBubyBvdXRwdXQgdHlwZSBpcyBzcGVjaWZpZWQgYW5kIG91dHB1dC1yZWxhdGVkIG1ldGhvZHMgYXJlIGNhbGxlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSA9ICdObyBvdXRwdXQgc3BlY2lmaWVkLicgfTogeyBtZXNzYWdlPzogc3RyaW5nIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTm9PdXRwdXRTcGVjaWZpZWRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgSW1hZ2VNb2RlbFYyQ2FsbFdhcm5pbmcsXG4gIExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nLFxuICBTcGVlY2hNb2RlbFYyQ2FsbFdhcm5pbmcsXG4gIFRyYW5zY3JpcHRpb25Nb2RlbFYyQ2FsbFdhcm5pbmcsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgdHlwZSBXYXJuaW5nID1cbiAgfCBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZ1xuICB8IEltYWdlTW9kZWxWMkNhbGxXYXJuaW5nXG4gIHwgU3BlZWNoTW9kZWxWMkNhbGxXYXJuaW5nXG4gIHwgVHJhbnNjcmlwdGlvbk1vZGVsVjJDYWxsV2FybmluZztcblxuZXhwb3J0IHR5cGUgTG9nV2FybmluZ3NGdW5jdGlvbiA9ICh3YXJuaW5nczogV2FybmluZ1tdKSA9PiB2b2lkO1xuXG4vKipcbiAqIEZvcm1hdHMgYSB3YXJuaW5nIG9iamVjdCBpbnRvIGEgaHVtYW4tcmVhZGFibGUgc3RyaW5nIHdpdGggY2xlYXIgQUkgU0RLIGJyYW5kaW5nXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFdhcm5pbmcod2FybmluZzogV2FybmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHByZWZpeCA9ICdBSSBTREsgV2FybmluZzonO1xuXG4gIHN3aXRjaCAod2FybmluZy50eXBlKSB7XG4gICAgY2FzZSAndW5zdXBwb3J0ZWQtc2V0dGluZyc6IHtcbiAgICAgIGxldCBtZXNzYWdlID0gYCR7cHJlZml4fSBUaGUgXCIke3dhcm5pbmcuc2V0dGluZ31cIiBzZXR0aW5nIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBtb2RlbGA7XG4gICAgICBpZiAod2FybmluZy5kZXRhaWxzKSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gYCAtICR7d2FybmluZy5kZXRhaWxzfWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBjYXNlICd1bnN1cHBvcnRlZC10b29sJzoge1xuICAgICAgY29uc3QgdG9vbE5hbWUgPVxuICAgICAgICAnbmFtZScgaW4gd2FybmluZy50b29sID8gd2FybmluZy50b29sLm5hbWUgOiAndW5rbm93biB0b29sJztcbiAgICAgIGxldCBtZXNzYWdlID0gYCR7cHJlZml4fSBUaGUgdG9vbCBcIiR7dG9vbE5hbWV9XCIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIG1vZGVsYDtcbiAgICAgIGlmICh3YXJuaW5nLmRldGFpbHMpIHtcbiAgICAgICAgbWVzc2FnZSArPSBgIC0gJHt3YXJuaW5nLmRldGFpbHN9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cblxuICAgIGNhc2UgJ290aGVyJzoge1xuICAgICAgcmV0dXJuIGAke3ByZWZpeH0gJHt3YXJuaW5nLm1lc3NhZ2V9YDtcbiAgICB9XG5cbiAgICBkZWZhdWx0OiB7XG4gICAgICAvLyBGYWxsYmFjayBmb3IgYW55IHVua25vd24gd2FybmluZyB0eXBlc1xuICAgICAgcmV0dXJuIGAke3ByZWZpeH0gJHtKU09OLnN0cmluZ2lmeSh3YXJuaW5nLCBudWxsLCAyKX1gO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRklSU1RfV0FSTklOR19JTkZPX01FU1NBR0UgPVxuICAnQUkgU0RLIFdhcm5pbmcgU3lzdGVtOiBUbyB0dXJuIG9mZiB3YXJuaW5nIGxvZ2dpbmcsIHNldCB0aGUgQUlfU0RLX0xPR19XQVJOSU5HUyBnbG9iYWwgdG8gZmFsc2UuJztcblxubGV0IGhhc0xvZ2dlZEJlZm9yZSA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgbG9nV2FybmluZ3M6IExvZ1dhcm5pbmdzRnVuY3Rpb24gPSB3YXJuaW5ncyA9PiB7XG4gIC8vIGlmIHRoZSB3YXJuaW5ncyBhcnJheSBpcyBlbXB0eSwgZG8gbm90aGluZ1xuICBpZiAod2FybmluZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgbG9nZ2VyID0gZ2xvYmFsVGhpcy5BSV9TREtfTE9HX1dBUk5JTkdTO1xuXG4gIC8vIGlmIHRoZSBsb2dnZXIgaXMgc2V0IHRvIGZhbHNlLCBkbyBub3RoaW5nXG4gIGlmIChsb2dnZXIgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gdXNlIHRoZSBwcm92aWRlZCBsb2dnZXIgaWYgaXQgaXMgYSBmdW5jdGlvblxuICBpZiAodHlwZW9mIGxvZ2dlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGxvZ2dlcih3YXJuaW5ncyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gZGlzcGxheSBpbmZvcm1hdGlvbiBub3RlIG9uIGZpcnN0IGNhbGxcbiAgaWYgKCFoYXNMb2dnZWRCZWZvcmUpIHtcbiAgICBoYXNMb2dnZWRCZWZvcmUgPSB0cnVlO1xuICAgIGNvbnNvbGUuaW5mbyhGSVJTVF9XQVJOSU5HX0lORk9fTUVTU0FHRSk7XG4gIH1cblxuICAvLyBkZWZhdWx0IGJlaGF2aW9yOiBsb2cgd2FybmluZ3MgdG8gdGhlIGNvbnNvbGVcbiAgZm9yIChjb25zdCB3YXJuaW5nIG9mIHdhcm5pbmdzKSB7XG4gICAgY29uc29sZS53YXJuKGZvcm1hdFdhcm5pbmcod2FybmluZykpO1xuICB9XG59O1xuXG4vLyBSZXNldCBmdW5jdGlvbiBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuZXhwb3J0IGNvbnN0IHJlc2V0TG9nV2FybmluZ3NTdGF0ZSA9ICgpID0+IHtcbiAgaGFzTG9nZ2VkQmVmb3JlID0gZmFsc2U7XG59O1xuIiwgImltcG9ydCB7IGdhdGV3YXkgfSBmcm9tICdAYWktc2RrL2dhdGV3YXknO1xuaW1wb3J0IHtcbiAgRW1iZWRkaW5nTW9kZWxWMixcbiAgTGFuZ3VhZ2VNb2RlbFYyLFxuICBQcm92aWRlclYyLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvcic7XG5pbXBvcnQgeyBFbWJlZGRpbmdNb2RlbCB9IGZyb20gJy4uL3R5cGVzL2VtYmVkZGluZy1tb2RlbCc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUxhbmd1YWdlTW9kZWwobW9kZWw6IExhbmd1YWdlTW9kZWwpOiBMYW5ndWFnZU1vZGVsVjIge1xuICBpZiAodHlwZW9mIG1vZGVsICE9PSAnc3RyaW5nJykge1xuICAgIGlmIChtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbiAhPT0gJ3YyJykge1xuICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3Ioe1xuICAgICAgICB2ZXJzaW9uOiBtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbixcbiAgICAgICAgcHJvdmlkZXI6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgcmV0dXJuIGdldEdsb2JhbFByb3ZpZGVyKCkubGFuZ3VhZ2VNb2RlbChtb2RlbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlRW1iZWRkaW5nTW9kZWw8VkFMVUUgPSBzdHJpbmc+KFxuICBtb2RlbDogRW1iZWRkaW5nTW9kZWw8VkFMVUU+LFxuKTogRW1iZWRkaW5nTW9kZWxWMjxWQUxVRT4ge1xuICBpZiAodHlwZW9mIG1vZGVsICE9PSAnc3RyaW5nJykge1xuICAgIGlmIChtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbiAhPT0gJ3YyJykge1xuICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3Ioe1xuICAgICAgICB2ZXJzaW9uOiBtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbixcbiAgICAgICAgcHJvdmlkZXI6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgLy8gVE9ETyBBSSBTREsgNjogZmlndXJlIG91dCBob3cgdG8gY2xlYW5seSBzdXBwb3J0IGRpZmZlcmVudCBnZW5lcmljIHR5cGVzXG4gIHJldHVybiBnZXRHbG9iYWxQcm92aWRlcigpLnRleHRFbWJlZGRpbmdNb2RlbChcbiAgICBtb2RlbCxcbiAgKSBhcyBFbWJlZGRpbmdNb2RlbFYyPFZBTFVFPjtcbn1cblxuZnVuY3Rpb24gZ2V0R2xvYmFsUHJvdmlkZXIoKTogUHJvdmlkZXJWMiB7XG4gIHJldHVybiBnbG9iYWxUaGlzLkFJX1NES19ERUZBVUxUX1BST1ZJREVSID8/IGdhdGV3YXk7XG59XG4iLCAiZXhwb3J0IHtcbiAgQUlTREtFcnJvcixcbiAgQVBJQ2FsbEVycm9yLFxuICBFbXB0eVJlc3BvbnNlQm9keUVycm9yLFxuICBJbnZhbGlkUHJvbXB0RXJyb3IsXG4gIEludmFsaWRSZXNwb25zZURhdGFFcnJvcixcbiAgSlNPTlBhcnNlRXJyb3IsXG4gIExvYWRBUElLZXlFcnJvcixcbiAgTm9Db250ZW50R2VuZXJhdGVkRXJyb3IsXG4gIE5vU3VjaE1vZGVsRXJyb3IsXG4gIFRvb01hbnlFbWJlZGRpbmdWYWx1ZXNGb3JDYWxsRXJyb3IsXG4gIFR5cGVWYWxpZGF0aW9uRXJyb3IsXG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuZXhwb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICcuL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuZXhwb3J0IHsgSW52YWxpZFN0cmVhbVBhcnRFcnJvciB9IGZyb20gJy4vaW52YWxpZC1zdHJlYW0tcGFydC1lcnJvcic7XG5leHBvcnQgeyBJbnZhbGlkVG9vbElucHV0RXJyb3IgfSBmcm9tICcuL2ludmFsaWQtdG9vbC1pbnB1dC1lcnJvcic7XG5leHBvcnQgeyBNQ1BDbGllbnRFcnJvciB9IGZyb20gJy4vbWNwLWNsaWVudC1lcnJvcic7XG5leHBvcnQgeyBOb0ltYWdlR2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuL25vLWltYWdlLWdlbmVyYXRlZC1lcnJvcic7XG5leHBvcnQgeyBOb09iamVjdEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi9uby1vYmplY3QtZ2VuZXJhdGVkLWVycm9yJztcbmV4cG9ydCB7IE5vT3V0cHV0R2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuL25vLW91dHB1dC1nZW5lcmF0ZWQtZXJyb3InO1xuZXhwb3J0IHsgTm9PdXRwdXRTcGVjaWZpZWRFcnJvciB9IGZyb20gJy4vbm8tb3V0cHV0LXNwZWNpZmllZC1lcnJvcic7XG5leHBvcnQgeyBOb1N1Y2hUb29sRXJyb3IgfSBmcm9tICcuL25vLXN1Y2gtdG9vbC1lcnJvcic7XG5leHBvcnQgeyBUb29sQ2FsbFJlcGFpckVycm9yIH0gZnJvbSAnLi90b29sLWNhbGwtcmVwYWlyLWVycm9yJztcbmV4cG9ydCB7IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3IgfSBmcm9tICcuL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3InO1xuXG5leHBvcnQgeyBJbnZhbGlkRGF0YUNvbnRlbnRFcnJvciB9IGZyb20gJy4uL3Byb21wdC9pbnZhbGlkLWRhdGEtY29udGVudC1lcnJvcic7XG5leHBvcnQgeyBJbnZhbGlkTWVzc2FnZVJvbGVFcnJvciB9IGZyb20gJy4uL3Byb21wdC9pbnZhbGlkLW1lc3NhZ2Utcm9sZS1lcnJvcic7XG5leHBvcnQgeyBNZXNzYWdlQ29udmVyc2lvbkVycm9yIH0gZnJvbSAnLi4vcHJvbXB0L21lc3NhZ2UtY29udmVyc2lvbi1lcnJvcic7XG5leHBvcnQgeyBEb3dubG9hZEVycm9yIH0gZnJvbSAnLi4vdXRpbC9kb3dubG9hZC9kb3dubG9hZC1lcnJvcic7XG5leHBvcnQgeyBSZXRyeUVycm9yIH0gZnJvbSAnLi4vdXRpbC9yZXRyeS1lcnJvcic7XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWRBcmd1bWVudEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQXJndW1lbnRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgcGFyYW1ldGVyOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHZhbHVlOiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBwYXJhbWV0ZXIsXG4gICAgdmFsdWUsXG4gICAgbWVzc2FnZSxcbiAgfToge1xuICAgIHBhcmFtZXRlcjogc3RyaW5nO1xuICAgIHZhbHVlOiB1bmtub3duO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWUsXG4gICAgICBtZXNzYWdlOiBgSW52YWxpZCBhcmd1bWVudCBmb3IgcGFyYW1ldGVyICR7cGFyYW1ldGVyfTogJHttZXNzYWdlfWAsXG4gICAgfSk7XG5cbiAgICB0aGlzLnBhcmFtZXRlciA9IHBhcmFtZXRlcjtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEludmFsaWRBcmd1bWVudEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3J1bi10b29scy10cmFuc2Zvcm1hdGlvbic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSW52YWxpZFN0cmVhbVBhcnRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgSW52YWxpZFN0cmVhbVBhcnRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgY2h1bms6IFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxhbnk+O1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjaHVuayxcbiAgICBtZXNzYWdlLFxuICB9OiB7XG4gICAgY2h1bms6IFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxhbnk+O1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcblxuICAgIHRoaXMuY2h1bmsgPSBjaHVuaztcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSW52YWxpZFN0cmVhbVBhcnRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciwgZ2V0RXJyb3JNZXNzYWdlIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSW52YWxpZFRvb2xJbnB1dEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBJbnZhbGlkVG9vbElucHV0RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHRvb2xOYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHRvb2xJbnB1dDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICB0b29sSW5wdXQsXG4gICAgdG9vbE5hbWUsXG4gICAgY2F1c2UsXG4gICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0IGZvciB0b29sICR7dG9vbE5hbWV9OiAke2dldEVycm9yTWVzc2FnZShjYXVzZSl9YCxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgdG9vbElucHV0OiBzdHJpbmc7XG4gICAgdG9vbE5hbWU6IHN0cmluZztcbiAgICBjYXVzZTogdW5rbm93bjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG5cbiAgICB0aGlzLnRvb2xJbnB1dCA9IHRvb2xJbnB1dDtcbiAgICB0aGlzLnRvb2xOYW1lID0gdG9vbE5hbWU7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEludmFsaWRUb29sSW5wdXRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX01DUENsaWVudEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogQW4gZXJyb3Igb2NjdXJyZWQgd2l0aCB0aGUgTUNQIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1DUENsaWVudEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBuYW1lID0gJ01DUENsaWVudEVycm9yJyxcbiAgICBtZXNzYWdlLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbmFtZT86IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlLCBjYXVzZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTUNQQ2xpZW50RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IEltYWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvaW1hZ2UtbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuXG5jb25zdCBuYW1lID0gJ0FJX05vSW1hZ2VHZW5lcmF0ZWRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcblRocm93biB3aGVuIG5vIGltYWdlIGNvdWxkIGJlIGdlbmVyYXRlZC4gVGhpcyBjYW4gaGF2ZSBtdWx0aXBsZSBjYXVzZXM6XG5cbi0gVGhlIG1vZGVsIGZhaWxlZCB0byBnZW5lcmF0ZSBhIHJlc3BvbnNlLlxuLSBUaGUgbW9kZWwgZ2VuZXJhdGVkIGEgcmVzcG9uc2UgdGhhdCBjb3VsZCBub3QgYmUgcGFyc2VkLlxuICovXG5leHBvcnQgY2xhc3MgTm9JbWFnZUdlbmVyYXRlZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICAvKipcblRoZSByZXNwb25zZSBtZXRhZGF0YSBmb3IgZWFjaCBjYWxsLlxuICAgKi9cbiAgcmVhZG9ubHkgcmVzcG9uc2VzOiBBcnJheTxJbWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YT4gfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnTm8gaW1hZ2UgZ2VuZXJhdGVkLicsXG4gICAgY2F1c2UsXG4gICAgcmVzcG9uc2VzLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBjYXVzZT86IEVycm9yO1xuICAgIHJlc3BvbnNlcz86IEFycmF5PEltYWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG5cbiAgICB0aGlzLnJlc3BvbnNlcyA9IHJlc3BvbnNlcztcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTm9JbWFnZUdlbmVyYXRlZEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBGaW5pc2hSZWFzb24gfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxVc2FnZSB9IGZyb20gJy4uL3R5cGVzL3VzYWdlJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob09iamVjdEdlbmVyYXRlZEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuVGhyb3duIHdoZW4gbm8gb2JqZWN0IGNvdWxkIGJlIGdlbmVyYXRlZC4gVGhpcyBjYW4gaGF2ZSBzZXZlcmFsIGNhdXNlczpcblxuLSBUaGUgbW9kZWwgZmFpbGVkIHRvIGdlbmVyYXRlIGEgcmVzcG9uc2UuXG4tIFRoZSBtb2RlbCBnZW5lcmF0ZWQgYSByZXNwb25zZSB0aGF0IGNvdWxkIG5vdCBiZSBwYXJzZWQuXG4tIFRoZSBtb2RlbCBnZW5lcmF0ZWQgYSByZXNwb25zZSB0aGF0IGNvdWxkIG5vdCBiZSB2YWxpZGF0ZWQgYWdhaW5zdCB0aGUgc2NoZW1hLlxuXG5UaGUgZXJyb3IgY29udGFpbnMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXG4tIGB0ZXh0YDogVGhlIHRleHQgdGhhdCB3YXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC4gVGhpcyBjYW4gYmUgdGhlIHJhdyB0ZXh0IG9yIHRoZSB0b29sIGNhbGwgdGV4dCwgZGVwZW5kaW5nIG9uIHRoZSBtb2RlbC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIC8qKlxuICBUaGUgdGV4dCB0aGF0IHdhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLiBUaGlzIGNhbiBiZSB0aGUgcmF3IHRleHQgb3IgdGhlIHRvb2wgY2FsbCB0ZXh0LCBkZXBlbmRpbmcgb24gdGhlIG1vZGVsLlxuICAgKi9cbiAgcmVhZG9ubHkgdGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICBUaGUgcmVzcG9uc2UgbWV0YWRhdGEuXG4gICAqL1xuICByZWFkb25seSByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gIFRoZSB1c2FnZSBvZiB0aGUgbW9kZWwuXG4gICAqL1xuICByZWFkb25seSB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICBSZWFzb24gd2h5IHRoZSBtb2RlbCBmaW5pc2hlZCBnZW5lcmF0aW5nIGEgcmVzcG9uc2UuXG4gICAqL1xuICByZWFkb25seSBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbiB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdObyBvYmplY3QgZ2VuZXJhdGVkLicsXG4gICAgY2F1c2UsXG4gICAgdGV4dCxcbiAgICByZXNwb25zZSxcbiAgICB1c2FnZSxcbiAgICBmaW5pc2hSZWFzb24sXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIGNhdXNlPzogRXJyb3I7XG4gICAgdGV4dD86IHN0cmluZztcbiAgICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG5cbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnVzYWdlID0gdXNhZ2U7XG4gICAgdGhpcy5maW5pc2hSZWFzb24gPSBmaW5pc2hSZWFzb247XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob091dHB1dEdlbmVyYXRlZEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuVGhyb3duIHdoZW4gbm8gTExNIG91dHB1dCB3YXMgZ2VuZXJhdGVkLCBlLmcuIGJlY2F1c2Ugb2YgZXJyb3JzLlxuICovXG5leHBvcnQgY2xhc3MgTm9PdXRwdXRHZW5lcmF0ZWRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnTm8gb3V0cHV0IGdlbmVyYXRlZC4nLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBjYXVzZT86IEVycm9yO1xuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBOb091dHB1dEdlbmVyYXRlZEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTm9TdWNoVG9vbEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBOb1N1Y2hUb29sRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHRvb2xOYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGF2YWlsYWJsZVRvb2xzOiBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgdG9vbE5hbWUsXG4gICAgYXZhaWxhYmxlVG9vbHMgPSB1bmRlZmluZWQsXG4gICAgbWVzc2FnZSA9IGBNb2RlbCB0cmllZCB0byBjYWxsIHVuYXZhaWxhYmxlIHRvb2wgJyR7dG9vbE5hbWV9Jy4gJHtcbiAgICAgIGF2YWlsYWJsZVRvb2xzID09PSB1bmRlZmluZWRcbiAgICAgICAgPyAnTm8gdG9vbHMgYXJlIGF2YWlsYWJsZS4nXG4gICAgICAgIDogYEF2YWlsYWJsZSB0b29sczogJHthdmFpbGFibGVUb29scy5qb2luKCcsICcpfS5gXG4gICAgfWAsXG4gIH06IHtcbiAgICB0b29sTmFtZTogc3RyaW5nO1xuICAgIGF2YWlsYWJsZVRvb2xzPzogc3RyaW5nW10gfCB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcblxuICAgIHRoaXMudG9vbE5hbWUgPSB0b29sTmFtZTtcbiAgICB0aGlzLmF2YWlsYWJsZVRvb2xzID0gYXZhaWxhYmxlVG9vbHM7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE5vU3VjaFRvb2xFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciwgZ2V0RXJyb3JNZXNzYWdlIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBJbnZhbGlkVG9vbElucHV0RXJyb3IgfSBmcm9tICcuL2ludmFsaWQtdG9vbC1pbnB1dC1lcnJvcic7XG5pbXBvcnQgeyBOb1N1Y2hUb29sRXJyb3IgfSBmcm9tICcuL25vLXN1Y2gtdG9vbC1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfVG9vbENhbGxSZXBhaXJFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgVG9vbENhbGxSZXBhaXJFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgb3JpZ2luYWxFcnJvcjogTm9TdWNoVG9vbEVycm9yIHwgSW52YWxpZFRvb2xJbnB1dEVycm9yO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjYXVzZSxcbiAgICBvcmlnaW5hbEVycm9yLFxuICAgIG1lc3NhZ2UgPSBgRXJyb3IgcmVwYWlyaW5nIHRvb2wgY2FsbDogJHtnZXRFcnJvck1lc3NhZ2UoY2F1c2UpfWAsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIGNhdXNlOiB1bmtub3duO1xuICAgIG9yaWdpbmFsRXJyb3I6IE5vU3VjaFRvb2xFcnJvciB8IEludmFsaWRUb29sSW5wdXRFcnJvcjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpcy5vcmlnaW5hbEVycm9yID0gb3JpZ2luYWxFcnJvcjtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgVG9vbENhbGxSZXBhaXJFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG4vKipcbkVycm9yIHRoYXQgaXMgdGhyb3duIHdoZW4gYSBtb2RlbCB3aXRoIGFuIHVuc3VwcG9ydGVkIHZlcnNpb24gaXMgdXNlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcmVhZG9ubHkgdmVyc2lvbjogc3RyaW5nO1xuICByZWFkb25seSBwcm92aWRlcjogc3RyaW5nO1xuICByZWFkb25seSBtb2RlbElkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogeyB2ZXJzaW9uOiBzdHJpbmc7IHByb3ZpZGVyOiBzdHJpbmc7IG1vZGVsSWQ6IHN0cmluZyB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZTogJ0FJX1Vuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3InLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgYFVuc3VwcG9ydGVkIG1vZGVsIHZlcnNpb24gJHtvcHRpb25zLnZlcnNpb259IGZvciBwcm92aWRlciBcIiR7b3B0aW9ucy5wcm92aWRlcn1cIiBhbmQgbW9kZWwgXCIke29wdGlvbnMubW9kZWxJZH1cIi4gYCArXG4gICAgICAgIGBBSSBTREsgNSBvbmx5IHN1cHBvcnRzIG1vZGVscyB0aGF0IGltcGxlbWVudCBzcGVjaWZpY2F0aW9uIHZlcnNpb24gXCJ2MlwiLmAsXG4gICAgfSk7XG5cbiAgICB0aGlzLnZlcnNpb24gPSBvcHRpb25zLnZlcnNpb247XG4gICAgdGhpcy5wcm92aWRlciA9IG9wdGlvbnMucHJvdmlkZXI7XG4gICAgdGhpcy5tb2RlbElkID0gb3B0aW9ucy5tb2RlbElkO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWREYXRhQ29udGVudEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRGF0YUNvbnRlbnRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgY29udGVudDogdW5rbm93bjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgY29udGVudCxcbiAgICBjYXVzZSxcbiAgICBtZXNzYWdlID0gYEludmFsaWQgZGF0YSBjb250ZW50LiBFeHBlY3RlZCBhIGJhc2U2NCBzdHJpbmcsIFVpbnQ4QXJyYXksIEFycmF5QnVmZmVyLCBvciBCdWZmZXIsIGJ1dCBnb3QgJHt0eXBlb2YgY29udGVudH0uYCxcbiAgfToge1xuICAgIGNvbnRlbnQ6IHVua25vd247XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSW52YWxpZERhdGFDb250ZW50RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9JbnZhbGlkTWVzc2FnZVJvbGVFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHJvbGU6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgcm9sZSxcbiAgICBtZXNzYWdlID0gYEludmFsaWQgbWVzc2FnZSByb2xlOiAnJHtyb2xlfScuIE11c3QgYmUgb25lIG9mOiBcInN5c3RlbVwiLCBcInVzZXJcIiwgXCJhc3Npc3RhbnRcIiwgXCJ0b29sXCIuYCxcbiAgfToge1xuICAgIHJvbGU6IHN0cmluZztcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuXG4gICAgdGhpcy5yb2xlID0gcm9sZTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcblxuY29uc3QgbmFtZSA9ICdBSV9NZXNzYWdlQ29udmVyc2lvbkVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlQ29udmVyc2lvbkVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBvcmlnaW5hbE1lc3NhZ2U6IE9taXQ8VUlNZXNzYWdlLCAnaWQnPjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgb3JpZ2luYWxNZXNzYWdlLFxuICAgIG1lc3NhZ2UsXG4gIH06IHtcbiAgICBvcmlnaW5hbE1lc3NhZ2U6IE9taXQ8VUlNZXNzYWdlLCAnaWQnPjtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG5cbiAgICB0aGlzLm9yaWdpbmFsTWVzc2FnZSA9IG9yaWdpbmFsTWVzc2FnZTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTWVzc2FnZUNvbnZlcnNpb25FcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX0Rvd25sb2FkRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIERvd25sb2FkRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHVybDogc3RyaW5nO1xuICByZWFkb25seSBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICByZWFkb25seSBzdGF0dXNUZXh0Pzogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICB1cmwsXG4gICAgc3RhdHVzQ29kZSxcbiAgICBzdGF0dXNUZXh0LFxuICAgIGNhdXNlLFxuICAgIG1lc3NhZ2UgPSBjYXVzZSA9PSBudWxsXG4gICAgICA/IGBGYWlsZWQgdG8gZG93bmxvYWQgJHt1cmx9OiAke3N0YXR1c0NvZGV9ICR7c3RhdHVzVGV4dH1gXG4gICAgICA6IGBGYWlsZWQgdG8gZG93bmxvYWQgJHt1cmx9OiAke2NhdXNlfWAsXG4gIH06IHtcbiAgICB1cmw6IHN0cmluZztcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIHN0YXR1c1RleHQ/OiBzdHJpbmc7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLnN0YXR1c1RleHQgPSBzdGF0dXNUZXh0O1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBEb3dubG9hZEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfUmV0cnlFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgdHlwZSBSZXRyeUVycm9yUmVhc29uID1cbiAgfCAnbWF4UmV0cmllc0V4Y2VlZGVkJ1xuICB8ICdlcnJvck5vdFJldHJ5YWJsZSdcbiAgfCAnYWJvcnQnO1xuXG5leHBvcnQgY2xhc3MgUmV0cnlFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgLy8gbm90ZTogcHJvcGVydHkgb3JkZXIgZGV0ZXJtaW5lcyBkZWJ1Z2dpbmcgb3V0cHV0XG4gIHJlYWRvbmx5IHJlYXNvbjogUmV0cnlFcnJvclJlYXNvbjtcbiAgcmVhZG9ubHkgbGFzdEVycm9yOiB1bmtub3duO1xuICByZWFkb25seSBlcnJvcnM6IEFycmF5PHVua25vd24+O1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlLFxuICAgIHJlYXNvbixcbiAgICBlcnJvcnMsXG4gIH06IHtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgcmVhc29uOiBSZXRyeUVycm9yUmVhc29uO1xuICAgIGVycm9yczogQXJyYXk8dW5rbm93bj47XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG5cbiAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcblxuICAgIC8vIHNlcGFyYXRlIG91ciBsYXN0IGVycm9yIHRvIG1ha2UgZGVidWdnaW5nIHZpYSBsb2cgZWFzaWVyOlxuICAgIHRoaXMubGFzdEVycm9yID0gZXJyb3JzW2Vycm9ycy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgUmV0cnlFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgTGFuZ3VhZ2VNb2RlbFYyRmlsZVBhcnQsXG4gIExhbmd1YWdlTW9kZWxWMk1lc3NhZ2UsXG4gIExhbmd1YWdlTW9kZWxWMlByb21wdCxcbiAgTGFuZ3VhZ2VNb2RlbFYyVGV4dFBhcnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgRGF0YUNvbnRlbnQsXG4gIEZpbGVQYXJ0LFxuICBJbWFnZVBhcnQsXG4gIGlzVXJsU3VwcG9ydGVkLFxuICBNb2RlbE1lc3NhZ2UsXG4gIFRleHRQYXJ0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7XG4gIGRldGVjdE1lZGlhVHlwZSxcbiAgaW1hZ2VNZWRpYVR5cGVTaWduYXR1cmVzLFxufSBmcm9tICcuLi91dGlsL2RldGVjdC1tZWRpYS10eXBlJztcbmltcG9ydCB7XG4gIGNyZWF0ZURlZmF1bHREb3dubG9hZEZ1bmN0aW9uLFxuICBEb3dubG9hZEZ1bmN0aW9uLFxufSBmcm9tICcuLi91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWZ1bmN0aW9uJztcbmltcG9ydCB7IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxWMkRhdGFDb250ZW50IH0gZnJvbSAnLi9kYXRhLWNvbnRlbnQnO1xuaW1wb3J0IHsgSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3IgfSBmcm9tICcuL2ludmFsaWQtbWVzc2FnZS1yb2xlLWVycm9yJztcbmltcG9ydCB7IFN0YW5kYXJkaXplZFByb21wdCB9IGZyb20gJy4vc3RhbmRhcmRpemUtcHJvbXB0JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQoe1xuICBwcm9tcHQsXG4gIHN1cHBvcnRlZFVybHMsXG4gIGRvd25sb2FkID0gY3JlYXRlRGVmYXVsdERvd25sb2FkRnVuY3Rpb24oKSxcbn06IHtcbiAgcHJvbXB0OiBTdGFuZGFyZGl6ZWRQcm9tcHQ7XG4gIHN1cHBvcnRlZFVybHM6IFJlY29yZDxzdHJpbmcsIFJlZ0V4cFtdPjtcbiAgZG93bmxvYWQ6IERvd25sb2FkRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG59KTogUHJvbWlzZTxMYW5ndWFnZU1vZGVsVjJQcm9tcHQ+IHtcbiAgY29uc3QgZG93bmxvYWRlZEFzc2V0cyA9IGF3YWl0IGRvd25sb2FkQXNzZXRzKFxuICAgIHByb21wdC5tZXNzYWdlcyxcbiAgICBkb3dubG9hZCxcbiAgICBzdXBwb3J0ZWRVcmxzLFxuICApO1xuXG4gIHJldHVybiBbXG4gICAgLi4uKHByb21wdC5zeXN0ZW0gIT0gbnVsbFxuICAgICAgPyBbeyByb2xlOiAnc3lzdGVtJyBhcyBjb25zdCwgY29udGVudDogcHJvbXB0LnN5c3RlbSB9XVxuICAgICAgOiBbXSksXG4gICAgLi4ucHJvbXB0Lm1lc3NhZ2VzLm1hcChtZXNzYWdlID0+XG4gICAgICBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsTWVzc2FnZSh7IG1lc3NhZ2UsIGRvd25sb2FkZWRBc3NldHMgfSksXG4gICAgKSxcbiAgXTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgTW9kZWxNZXNzYWdlIHRvIGEgTGFuZ3VhZ2VNb2RlbFYyTWVzc2FnZS5cbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSBUaGUgTW9kZWxNZXNzYWdlIHRvIGNvbnZlcnQuXG4gKiBAcGFyYW0gZG93bmxvYWRlZEFzc2V0cyBBIG1hcCBvZiBVUkxzIHRvIHRoZWlyIGRvd25sb2FkZWQgZGF0YS4gT25seVxuICogICBhdmFpbGFibGUgaWYgdGhlIG1vZGVsIGRvZXMgbm90IHN1cHBvcnQgVVJMcywgbnVsbCBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsTWVzc2FnZSh7XG4gIG1lc3NhZ2UsXG4gIGRvd25sb2FkZWRBc3NldHMsXG59OiB7XG4gIG1lc3NhZ2U6IE1vZGVsTWVzc2FnZTtcbiAgZG93bmxvYWRlZEFzc2V0czogUmVjb3JkPFxuICAgIHN0cmluZyxcbiAgICB7IG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkOyBkYXRhOiBVaW50OEFycmF5IH1cbiAgPjtcbn0pOiBMYW5ndWFnZU1vZGVsVjJNZXNzYWdlIHtcbiAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZTtcbiAgc3dpdGNoIChyb2xlKSB7XG4gICAgY2FzZSAnc3lzdGVtJzoge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY2FzZSAndXNlcic6IHtcbiAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICBjb250ZW50OiBbeyB0eXBlOiAndGV4dCcsIHRleHQ6IG1lc3NhZ2UuY29udGVudCB9XSxcbiAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IG1lc3NhZ2UucHJvdmlkZXJPcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudFxuICAgICAgICAgIC5tYXAocGFydCA9PiBjb252ZXJ0UGFydFRvTGFuZ3VhZ2VNb2RlbFBhcnQocGFydCwgZG93bmxvYWRlZEFzc2V0cykpXG4gICAgICAgICAgLy8gcmVtb3ZlIGVtcHR5IHRleHQgcGFydHM6XG4gICAgICAgICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSAhPT0gJ3RleHQnIHx8IHBhcnQudGV4dCAhPT0gJycpLFxuICAgICAgICBwcm92aWRlck9wdGlvbnM6IG1lc3NhZ2UucHJvdmlkZXJPcHRpb25zLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjYXNlICdhc3Npc3RhbnQnOiB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICBjb250ZW50OiBbeyB0eXBlOiAndGV4dCcsIHRleHQ6IG1lc3NhZ2UuY29udGVudCB9XSxcbiAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IG1lc3NhZ2UucHJvdmlkZXJPcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50XG4gICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgIC8vIHJlbW92ZSBlbXB0eSB0ZXh0IHBhcnRzOlxuICAgICAgICAgICAgcGFydCA9PiBwYXJ0LnR5cGUgIT09ICd0ZXh0JyB8fCBwYXJ0LnRleHQgIT09ICcnLFxuICAgICAgICAgIClcbiAgICAgICAgICAubWFwKHBhcnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJPcHRpb25zID0gcGFydC5wcm92aWRlck9wdGlvbnM7XG5cbiAgICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ2ZpbGUnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBtZWRpYVR5cGUgfSA9IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxWMkRhdGFDb250ZW50KFxuICAgICAgICAgICAgICAgICAgcGFydC5kYXRhLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICBmaWxlbmFtZTogcGFydC5maWxlbmFtZSxcbiAgICAgICAgICAgICAgICAgIG1lZGlhVHlwZTogbWVkaWFUeXBlID8/IHBhcnQubWVkaWFUeXBlLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nJzoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nJyxcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJ3RleHQnOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJ3Rvb2wtY2FsbCc6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtY2FsbCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXJ0LmlucHV0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSAndG9vbC1yZXN1bHQnOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIG91dHB1dDogcGFydC5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLFxuICAgICAgICBwcm92aWRlck9wdGlvbnM6IG1lc3NhZ2UucHJvdmlkZXJPcHRpb25zLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjYXNlICd0b29sJzoge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZTogJ3Rvb2wnLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQubWFwKHBhcnQgPT4gKHtcbiAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnIGFzIGNvbnN0LFxuICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICBvdXRwdXQ6IHBhcnQub3V0cHV0LFxuICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck9wdGlvbnMsXG4gICAgICAgIH0pKSxcbiAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSByb2xlO1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRNZXNzYWdlUm9sZUVycm9yKHsgcm9sZTogX2V4aGF1c3RpdmVDaGVjayB9KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEb3dubG9hZHMgaW1hZ2VzIGFuZCBmaWxlcyBmcm9tIFVSTHMgaW4gdGhlIG1lc3NhZ2VzLlxuICovXG5hc3luYyBmdW5jdGlvbiBkb3dubG9hZEFzc2V0cyhcbiAgbWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdLFxuICBkb3dubG9hZDogRG93bmxvYWRGdW5jdGlvbixcbiAgc3VwcG9ydGVkVXJsczogUmVjb3JkPHN0cmluZywgUmVnRXhwW10+LFxuKTogUHJvbWlzZTxcbiAgUmVjb3JkPHN0cmluZywgeyBtZWRpYVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZDsgZGF0YTogVWludDhBcnJheSB9PlxuPiB7XG4gIGNvbnN0IHBsYW5uZWREb3dubG9hZHMgPSBtZXNzYWdlc1xuICAgIC5maWx0ZXIobWVzc2FnZSA9PiBtZXNzYWdlLnJvbGUgPT09ICd1c2VyJylcbiAgICAubWFwKG1lc3NhZ2UgPT4gbWVzc2FnZS5jb250ZW50KVxuICAgIC5maWx0ZXIoKGNvbnRlbnQpOiBjb250ZW50IGlzIEFycmF5PFRleHRQYXJ0IHwgSW1hZ2VQYXJ0IHwgRmlsZVBhcnQ+ID0+XG4gICAgICBBcnJheS5pc0FycmF5KGNvbnRlbnQpLFxuICAgIClcbiAgICAuZmxhdCgpXG4gICAgLmZpbHRlcihcbiAgICAgIChwYXJ0KTogcGFydCBpcyBJbWFnZVBhcnQgfCBGaWxlUGFydCA9PlxuICAgICAgICBwYXJ0LnR5cGUgPT09ICdpbWFnZScgfHwgcGFydC50eXBlID09PSAnZmlsZScsXG4gICAgKVxuICAgIC5tYXAocGFydCA9PiB7XG4gICAgICBjb25zdCBtZWRpYVR5cGUgPVxuICAgICAgICBwYXJ0Lm1lZGlhVHlwZSA/PyAocGFydC50eXBlID09PSAnaW1hZ2UnID8gJ2ltYWdlLyonIDogdW5kZWZpbmVkKTtcblxuICAgICAgbGV0IGRhdGEgPSBwYXJ0LnR5cGUgPT09ICdpbWFnZScgPyBwYXJ0LmltYWdlIDogcGFydC5kYXRhO1xuICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgVVJMKGRhdGEpO1xuICAgICAgICB9IGNhdGNoIChpZ25vcmVkKSB7fVxuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBtZWRpYVR5cGUsIGRhdGEgfTtcbiAgICB9KVxuXG4gICAgLmZpbHRlcihcbiAgICAgIChwYXJ0KTogcGFydCBpcyB7IG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkOyBkYXRhOiBVUkwgfSA9PlxuICAgICAgICBwYXJ0LmRhdGEgaW5zdGFuY2VvZiBVUkwsXG4gICAgKVxuICAgIC5tYXAocGFydCA9PiAoe1xuICAgICAgdXJsOiBwYXJ0LmRhdGEsXG4gICAgICBpc1VybFN1cHBvcnRlZEJ5TW9kZWw6XG4gICAgICAgIHBhcnQubWVkaWFUeXBlICE9IG51bGwgJiZcbiAgICAgICAgaXNVcmxTdXBwb3J0ZWQoe1xuICAgICAgICAgIHVybDogcGFydC5kYXRhLnRvU3RyaW5nKCksXG4gICAgICAgICAgbWVkaWFUeXBlOiBwYXJ0Lm1lZGlhVHlwZSxcbiAgICAgICAgICBzdXBwb3J0ZWRVcmxzLFxuICAgICAgICB9KSxcbiAgICB9KSk7XG5cbiAgLy8gZG93bmxvYWQgaW4gcGFyYWxsZWw6XG4gIGNvbnN0IGRvd25sb2FkZWRGaWxlcyA9IGF3YWl0IGRvd25sb2FkKHBsYW5uZWREb3dubG9hZHMpO1xuXG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgZG93bmxvYWRlZEZpbGVzXG4gICAgICAuZmlsdGVyKFxuICAgICAgICAoXG4gICAgICAgICAgZG93bmxvYWRlZEZpbGUsXG4gICAgICAgICk6IGRvd25sb2FkZWRGaWxlIGlzIHtcbiAgICAgICAgICBtZWRpYVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBkYXRhOiBVaW50OEFycmF5O1xuICAgICAgICB9ID0+IGRvd25sb2FkZWRGaWxlPy5kYXRhICE9IG51bGwsXG4gICAgICApXG4gICAgICAubWFwKCh7IGRhdGEsIG1lZGlhVHlwZSB9LCBpbmRleCkgPT4gW1xuICAgICAgICBwbGFubmVkRG93bmxvYWRzW2luZGV4XS51cmwudG9TdHJpbmcoKSxcbiAgICAgICAgeyBkYXRhLCBtZWRpYVR5cGUgfSxcbiAgICAgIF0pLFxuICApO1xufVxuXG4vKipcbiAqIENvbnZlcnQgcGFydCBvZiBhIG1lc3NhZ2UgdG8gYSBMYW5ndWFnZU1vZGVsVjJQYXJ0LlxuICogQHBhcmFtIHBhcnQgVGhlIHBhcnQgdG8gY29udmVydC5cbiAqIEBwYXJhbSBkb3dubG9hZGVkQXNzZXRzIEEgbWFwIG9mIFVSTHMgdG8gdGhlaXIgZG93bmxvYWRlZCBkYXRhLiBPbmx5XG4gKiAgYXZhaWxhYmxlIGlmIHRoZSBtb2RlbCBkb2VzIG5vdCBzdXBwb3J0IFVSTHMsIG51bGwgb3RoZXJ3aXNlLlxuICpcbiAqIEByZXR1cm5zIFRoZSBjb252ZXJ0ZWQgcGFydC5cbiAqL1xuZnVuY3Rpb24gY29udmVydFBhcnRUb0xhbmd1YWdlTW9kZWxQYXJ0KFxuICBwYXJ0OiBUZXh0UGFydCB8IEltYWdlUGFydCB8IEZpbGVQYXJ0LFxuICBkb3dubG9hZGVkQXNzZXRzOiBSZWNvcmQ8XG4gICAgc3RyaW5nLFxuICAgIHsgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7IGRhdGE6IFVpbnQ4QXJyYXkgfVxuICA+LFxuKTogTGFuZ3VhZ2VNb2RlbFYyVGV4dFBhcnQgfCBMYW5ndWFnZU1vZGVsVjJGaWxlUGFydCB7XG4gIGlmIChwYXJ0LnR5cGUgPT09ICd0ZXh0Jykge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJPcHRpb25zLFxuICAgIH07XG4gIH1cblxuICBsZXQgb3JpZ2luYWxEYXRhOiBEYXRhQ29udGVudCB8IFVSTDtcbiAgY29uc3QgdHlwZSA9IHBhcnQudHlwZTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnaW1hZ2UnOlxuICAgICAgb3JpZ2luYWxEYXRhID0gcGFydC5pbWFnZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2ZpbGUnOlxuICAgICAgb3JpZ2luYWxEYXRhID0gcGFydC5kYXRhO1xuXG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwYXJ0IHR5cGU6ICR7dHlwZX1gKTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogY29udmVydGVkRGF0YSwgbWVkaWFUeXBlOiBjb252ZXJ0ZWRNZWRpYVR5cGUgfSA9XG4gICAgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFYyRGF0YUNvbnRlbnQob3JpZ2luYWxEYXRhKTtcblxuICBsZXQgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBjb252ZXJ0ZWRNZWRpYVR5cGUgPz8gcGFydC5tZWRpYVR5cGU7XG4gIGxldCBkYXRhOiBVaW50OEFycmF5IHwgc3RyaW5nIHwgVVJMID0gY29udmVydGVkRGF0YTsgLy8gYmluYXJ5IHwgYmFzZTY0IHwgdXJsXG5cbiAgLy8gSWYgdGhlIGNvbnRlbnQgaXMgYSBVUkwsIHdlIGNoZWNrIGlmIGl0IHdhcyBkb3dubG9hZGVkOlxuICBpZiAoZGF0YSBpbnN0YW5jZW9mIFVSTCkge1xuICAgIGNvbnN0IGRvd25sb2FkZWRGaWxlID0gZG93bmxvYWRlZEFzc2V0c1tkYXRhLnRvU3RyaW5nKCldO1xuICAgIGlmIChkb3dubG9hZGVkRmlsZSkge1xuICAgICAgZGF0YSA9IGRvd25sb2FkZWRGaWxlLmRhdGE7XG4gICAgICBtZWRpYVR5cGUgPz89IGRvd25sb2FkZWRGaWxlLm1lZGlhVHlwZTtcbiAgICB9XG4gIH1cblxuICAvLyBOb3cgdGhhdCB3ZSBoYXZlIHRoZSBub3JtYWxpemVkIGRhdGEgZWl0aGVyIGFzIGEgVVJMIG9yIGEgVWludDhBcnJheSxcbiAgLy8gd2UgY2FuIGNyZWF0ZSB0aGUgTGFuZ3VhZ2VNb2RlbFYyUGFydC5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnaW1hZ2UnOiB7XG4gICAgICAvLyBXaGVuIHBvc3NpYmxlLCB0cnkgdG8gZGV0ZWN0IHRoZSBtZWRpYSB0eXBlIGF1dG9tYXRpY2FsbHlcbiAgICAgIC8vIHRvIGRlYWwgd2l0aCBpbmNvcnJlY3QgbWVkaWEgdHlwZSBpbnB1dHMuXG4gICAgICAvLyBXaGVuIGRldGVjdGlvbiBmYWlscywgdXNlIHByb3ZpZGVkIG1lZGlhIHR5cGUuXG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG1lZGlhVHlwZSA9XG4gICAgICAgICAgZGV0ZWN0TWVkaWFUeXBlKHsgZGF0YSwgc2lnbmF0dXJlczogaW1hZ2VNZWRpYVR5cGVTaWduYXR1cmVzIH0pID8/XG4gICAgICAgICAgbWVkaWFUeXBlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgIG1lZGlhVHlwZTogbWVkaWFUeXBlID8/ICdpbWFnZS8qJywgLy8gYW55IGltYWdlXG4gICAgICAgIGZpbGVuYW1lOiB1bmRlZmluZWQsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck9wdGlvbnMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNhc2UgJ2ZpbGUnOiB7XG4gICAgICAvLyBXZSBtdXN0IGhhdmUgYSBtZWRpYVR5cGUgZm9yIGZpbGVzLCBpZiBub3QsIHRocm93IGFuIGVycm9yLlxuICAgICAgaWYgKG1lZGlhVHlwZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWVkaWEgdHlwZSBpcyBtaXNzaW5nIGZvciBmaWxlIHBhcnRgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICBtZWRpYVR5cGUsXG4gICAgICAgIGZpbGVuYW1lOiBwYXJ0LmZpbGVuYW1lLFxuICAgICAgICBkYXRhLFxuICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJPcHRpb25zLFxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5cbmV4cG9ydCBjb25zdCBpbWFnZU1lZGlhVHlwZVNpZ25hdHVyZXMgPSBbXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS9naWYnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg0NywgMHg0OSwgMHg0Nl0sXG4gICAgYmFzZTY0UHJlZml4OiAnUjBsRycsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS9wbmcnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg4OSwgMHg1MCwgMHg0ZSwgMHg0N10sXG4gICAgYmFzZTY0UHJlZml4OiAnaVZCT1J3JyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2ltYWdlL2pwZWcnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHhmZiwgMHhkOF0sXG4gICAgYmFzZTY0UHJlZml4OiAnLzlqLycsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS93ZWJwJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NTIsIDB4NDksIDB4NDYsIDB4NDZdLFxuICAgIGJhc2U2NFByZWZpeDogJ1VrbEdSZycsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS9ibXAnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg0MiwgMHg0ZF0sXG4gICAgYmFzZTY0UHJlZml4OiAnUWsnLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnaW1hZ2UvdGlmZicgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDQ5LCAweDQ5LCAweDJhLCAweDAwXSxcbiAgICBiYXNlNjRQcmVmaXg6ICdTVWtxQUEnLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnaW1hZ2UvdGlmZicgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDRkLCAweDRkLCAweDAwLCAweDJhXSxcbiAgICBiYXNlNjRQcmVmaXg6ICdUVTBBS2cnLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnaW1hZ2UvYXZpZicgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFtcbiAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MjAsIDB4NjYsIDB4NzQsIDB4NzksIDB4NzAsIDB4NjEsIDB4NzYsIDB4NjksIDB4NjYsXG4gICAgXSxcbiAgICBiYXNlNjRQcmVmaXg6ICdBQUFBSUdaMGVYQmhkbWxtJyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2ltYWdlL2hlaWMnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDIwLCAweDY2LCAweDc0LCAweDc5LCAweDcwLCAweDY4LCAweDY1LCAweDY5LCAweDYzLFxuICAgIF0sXG4gICAgYmFzZTY0UHJlZml4OiAnQUFBQUlHWjBlWEJvWldsaicsXG4gIH0sXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgYXVkaW9NZWRpYVR5cGVTaWduYXR1cmVzID0gW1xuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vbXBlZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweGZmLCAweGZiXSxcbiAgICBiYXNlNjRQcmVmaXg6ICcvL3M9JyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL21wZWcnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHhmZiwgMHhmYV0sXG4gICAgYmFzZTY0UHJlZml4OiAnLy9vPScsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9tcGVnJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4ZmYsIDB4ZjNdLFxuICAgIGJhc2U2NFByZWZpeDogJy8vTT0nLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vbXBlZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweGZmLCAweGYyXSxcbiAgICBiYXNlNjRQcmVmaXg6ICcvL0k9JyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL21wZWcnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHhmZiwgMHhlM10sXG4gICAgYmFzZTY0UHJlZml4OiAnLytNPScsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9tcGVnJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4ZmYsIDB4ZTJdLFxuICAgIGJhc2U2NFByZWZpeDogJy8rST0nLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vd2F2JyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NTIsIDB4NDksIDB4NDYsIDB4NDZdLFxuICAgIGJhc2U2NFByZWZpeDogJ1VrbEdSJyxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL29nZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDRmLCAweDY3LCAweDY3LCAweDUzXSxcbiAgICBiYXNlNjRQcmVmaXg6ICdUMmRuVXcnLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vZmxhYycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDY2LCAweDRjLCAweDYxLCAweDQzXSxcbiAgICBiYXNlNjRQcmVmaXg6ICdaa3hoUXcnLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vYWFjJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NDAsIDB4MTUsIDB4MDAsIDB4MDBdLFxuICAgIGJhc2U2NFByZWZpeDogJ1FCVUEnLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vbXA0JyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NjYsIDB4NzQsIDB4NzksIDB4NzBdLFxuICAgIGJhc2U2NFByZWZpeDogJ1puUjVjQScsXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby93ZWJtJyxcbiAgICBieXRlc1ByZWZpeDogWzB4MWEsIDB4NDUsIDB4ZGYsIDB4YTNdLFxuICAgIGJhc2U2NFByZWZpeDogJ0drWGYnLFxuICB9LFxuXSBhcyBjb25zdDtcblxuY29uc3Qgc3RyaXBJRDMgPSAoZGF0YTogVWludDhBcnJheSB8IHN0cmluZykgPT4ge1xuICBjb25zdCBieXRlcyA9XG4gICAgdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnID8gY29udmVydEJhc2U2NFRvVWludDhBcnJheShkYXRhKSA6IGRhdGE7XG4gIGNvbnN0IGlkM1NpemUgPVxuICAgICgoYnl0ZXNbNl0gJiAweDdmKSA8PCAyMSkgfFxuICAgICgoYnl0ZXNbN10gJiAweDdmKSA8PCAxNCkgfFxuICAgICgoYnl0ZXNbOF0gJiAweDdmKSA8PCA3KSB8XG4gICAgKGJ5dGVzWzldICYgMHg3Zik7XG5cbiAgLy8gVGhlIHJhdyBNUDMgc3RhcnRzIGhlcmVcbiAgcmV0dXJuIGJ5dGVzLnNsaWNlKGlkM1NpemUgKyAxMCk7XG59O1xuXG5mdW5jdGlvbiBzdHJpcElEM1RhZ3NJZlByZXNlbnQoZGF0YTogVWludDhBcnJheSB8IHN0cmluZyk6IFVpbnQ4QXJyYXkgfCBzdHJpbmcge1xuICBjb25zdCBoYXNJZDMgPVxuICAgICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgJiYgZGF0YS5zdGFydHNXaXRoKCdTVVF6JykpIHx8XG4gICAgKHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJyAmJlxuICAgICAgZGF0YS5sZW5ndGggPiAxMCAmJlxuICAgICAgZGF0YVswXSA9PT0gMHg0OSAmJiAvLyAnSSdcbiAgICAgIGRhdGFbMV0gPT09IDB4NDQgJiYgLy8gJ0QnXG4gICAgICBkYXRhWzJdID09PSAweDMzKTsgLy8gJzMnXG5cbiAgcmV0dXJuIGhhc0lkMyA/IHN0cmlwSUQzKGRhdGEpIDogZGF0YTtcbn1cblxuLyoqXG4gKiBEZXRlY3QgdGhlIG1lZGlhIElBTkEgbWVkaWEgdHlwZSBvZiBhIGZpbGUgdXNpbmcgYSBsaXN0IG9mIHNpZ25hdHVyZXMuXG4gKlxuICogQHBhcmFtIGRhdGEgLSBUaGUgZmlsZSBkYXRhLlxuICogQHBhcmFtIHNpZ25hdHVyZXMgLSBUaGUgc2lnbmF0dXJlcyB0byB1c2UgZm9yIGRldGVjdGlvbi5cbiAqIEByZXR1cm5zIFRoZSBtZWRpYSB0eXBlIG9mIHRoZSBmaWxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0TWVkaWFUeXBlKHtcbiAgZGF0YSxcbiAgc2lnbmF0dXJlcyxcbn06IHtcbiAgZGF0YTogVWludDhBcnJheSB8IHN0cmluZztcbiAgc2lnbmF0dXJlczogdHlwZW9mIGF1ZGlvTWVkaWFUeXBlU2lnbmF0dXJlcyB8IHR5cGVvZiBpbWFnZU1lZGlhVHlwZVNpZ25hdHVyZXM7XG59KTogKHR5cGVvZiBzaWduYXR1cmVzKVtudW1iZXJdWydtZWRpYVR5cGUnXSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IHByb2Nlc3NlZERhdGEgPSBzdHJpcElEM1RhZ3NJZlByZXNlbnQoZGF0YSk7XG5cbiAgZm9yIChjb25zdCBzaWduYXR1cmUgb2Ygc2lnbmF0dXJlcykge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBwcm9jZXNzZWREYXRhID09PSAnc3RyaW5nJ1xuICAgICAgICA/IHByb2Nlc3NlZERhdGEuc3RhcnRzV2l0aChzaWduYXR1cmUuYmFzZTY0UHJlZml4KVxuICAgICAgICA6IHByb2Nlc3NlZERhdGEubGVuZ3RoID49IHNpZ25hdHVyZS5ieXRlc1ByZWZpeC5sZW5ndGggJiZcbiAgICAgICAgICBzaWduYXR1cmUuYnl0ZXNQcmVmaXguZXZlcnkoXG4gICAgICAgICAgICAoYnl0ZSwgaW5kZXgpID0+IHByb2Nlc3NlZERhdGFbaW5kZXhdID09PSBieXRlLFxuICAgICAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybiBzaWduYXR1cmUubWVkaWFUeXBlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG4iLCAiaW1wb3J0IHsgRG93bmxvYWRFcnJvciB9IGZyb20gJy4vZG93bmxvYWQtZXJyb3InO1xuXG4vKipcbiAqIERvd25sb2FkIGEgZmlsZSBmcm9tIGEgVVJMLlxuICpcbiAqIEBwYXJhbSB1cmwgLSBUaGUgVVJMIHRvIGRvd25sb2FkIGZyb20uXG4gKiBAcmV0dXJucyBUaGUgZG93bmxvYWRlZCBkYXRhIGFuZCBtZWRpYSB0eXBlLlxuICpcbiAqIEB0aHJvd3MgRG93bmxvYWRFcnJvciBpZiB0aGUgZG93bmxvYWQgZmFpbHMuXG4gKi9cbmV4cG9ydCBjb25zdCBkb3dubG9hZCA9IGFzeW5jICh7IHVybCB9OiB7IHVybDogVVJMIH0pID0+IHtcbiAgY29uc3QgdXJsVGV4dCA9IHVybC50b1N0cmluZygpO1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsVGV4dCk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRG93bmxvYWRFcnJvcih7XG4gICAgICAgIHVybDogdXJsVGV4dCxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpLFxuICAgICAgbWVkaWFUeXBlOiByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykgPz8gdW5kZWZpbmVkLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKERvd25sb2FkRXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBEb3dubG9hZEVycm9yKHsgdXJsOiB1cmxUZXh0LCBjYXVzZTogZXJyb3IgfSk7XG4gIH1cbn07XG4iLCAiaW1wb3J0IHsgZG93bmxvYWQgYXMgb3JpZ2luYWxEb3dubG9hZCB9IGZyb20gJy4vZG93bmxvYWQnO1xuXG4vKipcbiAqIEV4cGVyaW1lbnRhbC4gQ2FuIGNoYW5nZSBpbiBwYXRjaCB2ZXJzaW9ucyB3aXRob3V0IHdhcm5pbmcuXG4gKlxuICogRG93bmxvYWQgZnVuY3Rpb24uIENhbGxlZCB3aXRoIHRoZSBhcnJheSBvZiBVUkxzIGFuZCBhIGJvb2xlYW4gaW5kaWNhdGluZ1xuICogd2hldGhlciB0aGUgVVJMIGlzIHN1cHBvcnRlZCBieSB0aGUgbW9kZWwuXG4gKlxuICogVGhlIGRvd25sb2FkIGZ1bmN0aW9uIGNhbiBkZWNpZGUgZm9yIGVhY2ggVVJMOlxuICogLSB0byByZXR1cm4gbnVsbCAod2hpY2ggbWVhbnMgdGhhdCB0aGUgVVJMIHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIG1vZGVsKVxuICogLSB0byBkb3dubG9hZCB0aGUgYXNzZXQgYW5kIHJldHVybiB0aGUgZGF0YSAoaW5jbC4gcmV0cmllcywgYXV0aGVudGljYXRpb24sIGV0Yy4pXG4gKlxuICogU2hvdWxkIHRocm93IERvd25sb2FkRXJyb3IgaWYgdGhlIGRvd25sb2FkIGZhaWxzLlxuICpcbiAqIFNob3VsZCByZXR1cm4gYW4gYXJyYXkgb2Ygb2JqZWN0cyBzb3J0ZWQgYnkgdGhlIG9yZGVyIG9mIHRoZSByZXF1ZXN0ZWQgZG93bmxvYWRzLlxuICogRm9yIGVhY2ggb2JqZWN0LCB0aGUgZGF0YSBzaG91bGQgYmUgYSBVaW50OEFycmF5IGlmIHRoZSBVUkwgd2FzIGRvd25sb2FkZWQuXG4gKiBGb3IgZWFjaCBvYmplY3QsIHRoZSBtZWRpYVR5cGUgc2hvdWxkIGJlIHRoZSBtZWRpYSB0eXBlIG9mIHRoZSBkb3dubG9hZGVkIGFzc2V0LlxuICogRm9yIGVhY2ggb2JqZWN0LCB0aGUgZGF0YSBzaG91bGQgYmUgbnVsbCBpZiB0aGUgVVJMIHNob3VsZCBiZSBwYXNzZWQgdGhyb3VnaCBhcyBpcy5cbiAqL1xuZXhwb3J0IHR5cGUgRG93bmxvYWRGdW5jdGlvbiA9IChcbiAgb3B0aW9uczogQXJyYXk8e1xuICAgIHVybDogVVJMO1xuICAgIGlzVXJsU3VwcG9ydGVkQnlNb2RlbDogYm9vbGVhbjtcbiAgfT4sXG4pID0+IFByb21pc2VMaWtlPFxuICBBcnJheTx7XG4gICAgZGF0YTogVWludDhBcnJheTtcbiAgICBtZWRpYVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgfSB8IG51bGw+XG4+O1xuXG4vKipcbiAqIERlZmF1bHQgZG93bmxvYWQgZnVuY3Rpb24uXG4gKiBEb3dubG9hZHMgdGhlIGZpbGUgaWYgaXQgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVEZWZhdWx0RG93bmxvYWRGdW5jdGlvbiA9XG4gIChkb3dubG9hZDogdHlwZW9mIG9yaWdpbmFsRG93bmxvYWQgPSBvcmlnaW5hbERvd25sb2FkKTogRG93bmxvYWRGdW5jdGlvbiA9PlxuICByZXF1ZXN0ZWREb3dubG9hZHMgPT5cbiAgICBQcm9taXNlLmFsbChcbiAgICAgIHJlcXVlc3RlZERvd25sb2Fkcy5tYXAoYXN5bmMgcmVxdWVzdGVkRG93bmxvYWQgPT5cbiAgICAgICAgcmVxdWVzdGVkRG93bmxvYWQuaXNVcmxTdXBwb3J0ZWRCeU1vZGVsXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiBkb3dubG9hZChyZXF1ZXN0ZWREb3dubG9hZCksXG4gICAgICApLFxuICAgICk7XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciwgTGFuZ3VhZ2VNb2RlbFYyRGF0YUNvbnRlbnQgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXksXG4gIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQsXG4gIERhdGFDb250ZW50LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgSW52YWxpZERhdGFDb250ZW50RXJyb3IgfSBmcm9tICcuL2ludmFsaWQtZGF0YS1jb250ZW50LWVycm9yJztcbmltcG9ydCB7IHNwbGl0RGF0YVVybCB9IGZyb20gJy4vc3BsaXQtZGF0YS11cmwnO1xuXG4vKipcbkBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgZGF0YUNvbnRlbnRTY2hlbWE6IHouWm9kVHlwZTxEYXRhQ29udGVudD4gPSB6LnVuaW9uKFtcbiAgei5zdHJpbmcoKSxcbiAgei5pbnN0YW5jZW9mKFVpbnQ4QXJyYXkpLFxuICB6Lmluc3RhbmNlb2YoQXJyYXlCdWZmZXIpLFxuICB6LmN1c3RvbTxCdWZmZXI+KFxuICAgIC8vIEJ1ZmZlciBtaWdodCBub3QgYmUgYXZhaWxhYmxlIGluIHNvbWUgZW52aXJvbm1lbnRzIHN1Y2ggYXMgQ2xvdWRGbGFyZTpcbiAgICAodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBCdWZmZXIgPT5cbiAgICAgIGdsb2JhbFRoaXMuQnVmZmVyPy5pc0J1ZmZlcih2YWx1ZSkgPz8gZmFsc2UsXG4gICAgeyBtZXNzYWdlOiAnTXVzdCBiZSBhIEJ1ZmZlcicgfSxcbiAgKSxcbl0pO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvTGFuZ3VhZ2VNb2RlbFYyRGF0YUNvbnRlbnQoXG4gIGNvbnRlbnQ6IERhdGFDb250ZW50IHwgVVJMLFxuKToge1xuICBkYXRhOiBMYW5ndWFnZU1vZGVsVjJEYXRhQ29udGVudDtcbiAgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59IHtcbiAgLy8gQnVmZmVyICYgVWludDhBcnJheTpcbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgcmV0dXJuIHsgZGF0YTogY29udGVudCwgbWVkaWFUeXBlOiB1bmRlZmluZWQgfTtcbiAgfVxuXG4gIC8vIEFycmF5QnVmZmVyIG5lZWRzIGNvbnZlcnNpb24gdG8gVWludDhBcnJheSAobGlnaHR3ZWlnaHQpOlxuICBpZiAoY29udGVudCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIHsgZGF0YTogbmV3IFVpbnQ4QXJyYXkoY29udGVudCksIG1lZGlhVHlwZTogdW5kZWZpbmVkIH07XG4gIH1cblxuICAvLyBBdHRlbXB0IHRvIGNyZWF0ZSBhIFVSTCBmcm9tIHRoZSBkYXRhLiBJZiBpdCBmYWlscywgd2UgY2FuIGFzc3VtZSB0aGUgZGF0YVxuICAvLyBpcyBub3QgYSBVUkwgYW5kIGxpa2VseSBzb21lIG90aGVyIHNvcnQgb2YgZGF0YS5cbiAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgIHRyeSB7XG4gICAgICBjb250ZW50ID0gbmV3IFVSTChjb250ZW50KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gaWdub3JlZFxuICAgIH1cbiAgfVxuXG4gIC8vIEV4dHJhY3QgZGF0YSBmcm9tIGRhdGEgVVJMOlxuICBpZiAoY29udGVudCBpbnN0YW5jZW9mIFVSTCAmJiBjb250ZW50LnByb3RvY29sID09PSAnZGF0YTonKSB7XG4gICAgY29uc3QgeyBtZWRpYVR5cGU6IGRhdGFVcmxNZWRpYVR5cGUsIGJhc2U2NENvbnRlbnQgfSA9IHNwbGl0RGF0YVVybChcbiAgICAgIGNvbnRlbnQudG9TdHJpbmcoKSxcbiAgICApO1xuXG4gICAgaWYgKGRhdGFVcmxNZWRpYVR5cGUgPT0gbnVsbCB8fCBiYXNlNjRDb250ZW50ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBBSVNES0Vycm9yKHtcbiAgICAgICAgbmFtZTogJ0ludmFsaWREYXRhQ29udGVudEVycm9yJyxcbiAgICAgICAgbWVzc2FnZTogYEludmFsaWQgZGF0YSBVUkwgZm9ybWF0IGluIGNvbnRlbnQgJHtjb250ZW50LnRvU3RyaW5nKCl9YCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7IGRhdGE6IGJhc2U2NENvbnRlbnQsIG1lZGlhVHlwZTogZGF0YVVybE1lZGlhVHlwZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgZGF0YTogY29udGVudCwgbWVkaWFUeXBlOiB1bmRlZmluZWQgfTtcbn1cblxuLyoqXG5Db252ZXJ0cyBkYXRhIGNvbnRlbnQgdG8gYSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcuXG5cbkBwYXJhbSBjb250ZW50IC0gRGF0YSBjb250ZW50IHRvIGNvbnZlcnQuXG5AcmV0dXJucyBCYXNlNjQtZW5jb2RlZCBzdHJpbmcuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnREYXRhQ29udGVudFRvQmFzZTY0U3RyaW5nKGNvbnRlbnQ6IERhdGFDb250ZW50KTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0KG5ldyBVaW50OEFycmF5KGNvbnRlbnQpKTtcbiAgfVxuXG4gIHJldHVybiBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0KGNvbnRlbnQpO1xufVxuXG4vKipcbkNvbnZlcnRzIGRhdGEgY29udGVudCB0byBhIFVpbnQ4QXJyYXkuXG5cbkBwYXJhbSBjb250ZW50IC0gRGF0YSBjb250ZW50IHRvIGNvbnZlcnQuXG5AcmV0dXJucyBVaW50OEFycmF5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydERhdGFDb250ZW50VG9VaW50OEFycmF5KFxuICBjb250ZW50OiBEYXRhQ29udGVudCxcbik6IFVpbnQ4QXJyYXkge1xuICBpZiAoY29udGVudCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkoY29udGVudCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkRGF0YUNvbnRlbnRFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgJ0ludmFsaWQgZGF0YSBjb250ZW50LiBDb250ZW50IHN0cmluZyBpcyBub3QgYSBiYXNlNjQtZW5jb2RlZCBtZWRpYS4nLFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoY29udGVudCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGNvbnRlbnQpO1xuICB9XG5cbiAgdGhyb3cgbmV3IEludmFsaWREYXRhQ29udGVudEVycm9yKHsgY29udGVudCB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIFVpbnQ4QXJyYXkgdG8gYSBzdHJpbmcgb2YgdGV4dC5cbiAqXG4gKiBAcGFyYW0gdWludDhBcnJheSAtIFRoZSBVaW50OEFycmF5IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyBUaGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRVaW50OEFycmF5VG9UZXh0KHVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodWludDhBcnJheSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBkZWNvZGluZyBVaW50OEFycmF5IHRvIHRleHQnKTtcbiAgfVxufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBzcGxpdERhdGFVcmwoZGF0YVVybDogc3RyaW5nKToge1xuICBtZWRpYVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgYmFzZTY0Q29udGVudDogc3RyaW5nIHwgdW5kZWZpbmVkO1xufSB7XG4gIHRyeSB7XG4gICAgY29uc3QgW2hlYWRlciwgYmFzZTY0Q29udGVudF0gPSBkYXRhVXJsLnNwbGl0KCcsJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lZGlhVHlwZTogaGVhZGVyLnNwbGl0KCc7JylbMF0uc3BsaXQoJzonKVsxXSxcbiAgICAgIGJhc2U2NENvbnRlbnQsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVkaWFUeXBlOiB1bmRlZmluZWQsXG4gICAgICBiYXNlNjRDb250ZW50OiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5pbXBvcnQgeyBDYWxsU2V0dGluZ3MgfSBmcm9tICcuL2NhbGwtc2V0dGluZ3MnO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBjYWxsIHNldHRpbmdzIGFuZCByZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGxpbWl0ZWQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUNhbGxTZXR0aW5ncyh7XG4gIG1heE91dHB1dFRva2VucyxcbiAgdGVtcGVyYXR1cmUsXG4gIHRvcFAsXG4gIHRvcEssXG4gIHByZXNlbmNlUGVuYWx0eSxcbiAgZnJlcXVlbmN5UGVuYWx0eSxcbiAgc2VlZCxcbiAgc3RvcFNlcXVlbmNlcyxcbn06IE9taXQ8Q2FsbFNldHRpbmdzLCAnYWJvcnRTaWduYWwnIHwgJ2hlYWRlcnMnIHwgJ21heFJldHJpZXMnPik6IE9taXQ8XG4gIENhbGxTZXR0aW5ncyxcbiAgJ2Fib3J0U2lnbmFsJyB8ICdoZWFkZXJzJyB8ICdtYXhSZXRyaWVzJ1xuPiB7XG4gIGlmIChtYXhPdXRwdXRUb2tlbnMgIT0gbnVsbCkge1xuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihtYXhPdXRwdXRUb2tlbnMpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdtYXhPdXRwdXRUb2tlbnMnLFxuICAgICAgICB2YWx1ZTogbWF4T3V0cHV0VG9rZW5zLFxuICAgICAgICBtZXNzYWdlOiAnbWF4T3V0cHV0VG9rZW5zIG11c3QgYmUgYW4gaW50ZWdlcicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobWF4T3V0cHV0VG9rZW5zIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnbWF4T3V0cHV0VG9rZW5zJyxcbiAgICAgICAgdmFsdWU6IG1heE91dHB1dFRva2VucyxcbiAgICAgICAgbWVzc2FnZTogJ21heE91dHB1dFRva2VucyBtdXN0IGJlID49IDEnLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRlbXBlcmF0dXJlICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIHRlbXBlcmF0dXJlICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAndGVtcGVyYXR1cmUnLFxuICAgICAgICB2YWx1ZTogdGVtcGVyYXR1cmUsXG4gICAgICAgIG1lc3NhZ2U6ICd0ZW1wZXJhdHVyZSBtdXN0IGJlIGEgbnVtYmVyJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0b3BQICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIHRvcFAgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICd0b3BQJyxcbiAgICAgICAgdmFsdWU6IHRvcFAsXG4gICAgICAgIG1lc3NhZ2U6ICd0b3BQIG11c3QgYmUgYSBudW1iZXInLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRvcEsgIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgdG9wSyAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3RvcEsnLFxuICAgICAgICB2YWx1ZTogdG9wSyxcbiAgICAgICAgbWVzc2FnZTogJ3RvcEsgbXVzdCBiZSBhIG51bWJlcicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAocHJlc2VuY2VQZW5hbHR5ICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIHByZXNlbmNlUGVuYWx0eSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3ByZXNlbmNlUGVuYWx0eScsXG4gICAgICAgIHZhbHVlOiBwcmVzZW5jZVBlbmFsdHksXG4gICAgICAgIG1lc3NhZ2U6ICdwcmVzZW5jZVBlbmFsdHkgbXVzdCBiZSBhIG51bWJlcicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoZnJlcXVlbmN5UGVuYWx0eSAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiBmcmVxdWVuY3lQZW5hbHR5ICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnZnJlcXVlbmN5UGVuYWx0eScsXG4gICAgICAgIHZhbHVlOiBmcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICBtZXNzYWdlOiAnZnJlcXVlbmN5UGVuYWx0eSBtdXN0IGJlIGEgbnVtYmVyJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzZWVkICE9IG51bGwpIHtcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoc2VlZCkpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3NlZWQnLFxuICAgICAgICB2YWx1ZTogc2VlZCxcbiAgICAgICAgbWVzc2FnZTogJ3NlZWQgbXVzdCBiZSBhbiBpbnRlZ2VyJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWF4T3V0cHV0VG9rZW5zLFxuICAgIHRlbXBlcmF0dXJlLFxuICAgIHRvcFAsXG4gICAgdG9wSyxcbiAgICBwcmVzZW5jZVBlbmFsdHksXG4gICAgZnJlcXVlbmN5UGVuYWx0eSxcbiAgICBzdG9wU2VxdWVuY2VzLFxuICAgIHNlZWQsXG4gIH07XG59XG4iLCAiaW1wb3J0IHtcbiAgTGFuZ3VhZ2VNb2RlbFYyRnVuY3Rpb25Ub29sLFxuICBMYW5ndWFnZU1vZGVsVjJQcm92aWRlckRlZmluZWRUb29sLFxuICBMYW5ndWFnZU1vZGVsVjJUb29sQ2hvaWNlLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IGFzU2NoZW1hIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBpc05vbkVtcHR5T2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9pcy1ub24tZW1wdHktb2JqZWN0JztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0JztcbmltcG9ydCB7IFRvb2xDaG9pY2UgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlVG9vbHNBbmRUb29sQ2hvaWNlPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4oe1xuICB0b29scyxcbiAgdG9vbENob2ljZSxcbiAgYWN0aXZlVG9vbHMsXG59OiB7XG4gIHRvb2xzOiBUT09MUyB8IHVuZGVmaW5lZDtcbiAgdG9vbENob2ljZTogVG9vbENob2ljZTxUT09MUz4gfCB1bmRlZmluZWQ7XG4gIGFjdGl2ZVRvb2xzOiBBcnJheTxrZXlvZiBUT09MUz4gfCB1bmRlZmluZWQ7XG59KToge1xuICB0b29sczpcbiAgICB8IEFycmF5PExhbmd1YWdlTW9kZWxWMkZ1bmN0aW9uVG9vbCB8IExhbmd1YWdlTW9kZWxWMlByb3ZpZGVyRGVmaW5lZFRvb2w+XG4gICAgfCB1bmRlZmluZWQ7XG4gIHRvb2xDaG9pY2U6IExhbmd1YWdlTW9kZWxWMlRvb2xDaG9pY2UgfCB1bmRlZmluZWQ7XG59IHtcbiAgaWYgKCFpc05vbkVtcHR5T2JqZWN0KHRvb2xzKSkge1xuICAgIHJldHVybiB7XG4gICAgICB0b29sczogdW5kZWZpbmVkLFxuICAgICAgdG9vbENob2ljZTogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cblxuICAvLyB3aGVuIGFjdGl2ZVRvb2xzIGlzIHByb3ZpZGVkLCB3ZSBvbmx5IGluY2x1ZGUgdGhlIHRvb2xzIHRoYXQgYXJlIGluIHRoZSBsaXN0OlxuICBjb25zdCBmaWx0ZXJlZFRvb2xzID1cbiAgICBhY3RpdmVUb29scyAhPSBudWxsXG4gICAgICA/IE9iamVjdC5lbnRyaWVzKHRvb2xzKS5maWx0ZXIoKFtuYW1lXSkgPT5cbiAgICAgICAgICBhY3RpdmVUb29scy5pbmNsdWRlcyhuYW1lIGFzIGtleW9mIFRPT0xTKSxcbiAgICAgICAgKVxuICAgICAgOiBPYmplY3QuZW50cmllcyh0b29scyk7XG5cbiAgcmV0dXJuIHtcbiAgICB0b29sczogZmlsdGVyZWRUb29scy5tYXAoKFtuYW1lLCB0b29sXSkgPT4ge1xuICAgICAgY29uc3QgdG9vbFR5cGUgPSB0b29sLnR5cGU7XG4gICAgICBzd2l0Y2ggKHRvb2xUeXBlKSB7XG4gICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICBjYXNlICdkeW5hbWljJzpcbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nIGFzIGNvbnN0LFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0b29sLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgaW5wdXRTY2hlbWE6IGFzU2NoZW1hKHRvb2wuaW5wdXRTY2hlbWEpLmpzb25TY2hlbWEsXG4gICAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHRvb2wucHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ3Byb3ZpZGVyLWRlZmluZWQnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAncHJvdmlkZXItZGVmaW5lZCcgYXMgY29uc3QsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgaWQ6IHRvb2wuaWQsXG4gICAgICAgICAgICBhcmdzOiB0b29sLmFyZ3MsXG4gICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSB0b29sVHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHRvb2wgdHlwZTogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgICB0b29sQ2hvaWNlOlxuICAgICAgdG9vbENob2ljZSA9PSBudWxsXG4gICAgICAgID8geyB0eXBlOiAnYXV0bycgfVxuICAgICAgICA6IHR5cGVvZiB0b29sQ2hvaWNlID09PSAnc3RyaW5nJ1xuICAgICAgICAgID8geyB0eXBlOiB0b29sQ2hvaWNlIH1cbiAgICAgICAgICA6IHsgdHlwZTogJ3Rvb2wnIGFzIGNvbnN0LCB0b29sTmFtZTogdG9vbENob2ljZS50b29sTmFtZSBhcyBzdHJpbmcgfSxcbiAgfTtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gaXNOb25FbXB0eU9iamVjdChcbiAgb2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZCB8IG51bGwsXG4pOiBvYmplY3QgaXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgT2JqZWN0LmtleXMob2JqZWN0KS5sZW5ndGggPiAwO1xufVxuIiwgImltcG9ydCB7IEludmFsaWRQcm9tcHRFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgTW9kZWxNZXNzYWdlLCBzYWZlVmFsaWRhdGVUeXBlcyB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBtb2RlbE1lc3NhZ2VTY2hlbWEgfSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IHsgUHJvbXB0IH0gZnJvbSAnLi9wcm9tcHQnO1xuXG5leHBvcnQgdHlwZSBTdGFuZGFyZGl6ZWRQcm9tcHQgPSB7XG4gIC8qKlxuICAgKiBTeXN0ZW0gbWVzc2FnZS5cbiAgICovXG4gIHN5c3RlbT86IHN0cmluZztcblxuICAvKipcbiAgICogTWVzc2FnZXMuXG4gICAqL1xuICBtZXNzYWdlczogTW9kZWxNZXNzYWdlW107XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhbmRhcmRpemVQcm9tcHQoXG4gIHByb21wdDogUHJvbXB0LFxuKTogUHJvbWlzZTxTdGFuZGFyZGl6ZWRQcm9tcHQ+IHtcbiAgaWYgKHByb21wdC5wcm9tcHQgPT0gbnVsbCAmJiBwcm9tcHQubWVzc2FnZXMgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkUHJvbXB0RXJyb3Ioe1xuICAgICAgcHJvbXB0LFxuICAgICAgbWVzc2FnZTogJ3Byb21wdCBvciBtZXNzYWdlcyBtdXN0IGJlIGRlZmluZWQnLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHByb21wdC5wcm9tcHQgIT0gbnVsbCAmJiBwcm9tcHQubWVzc2FnZXMgIT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkUHJvbXB0RXJyb3Ioe1xuICAgICAgcHJvbXB0LFxuICAgICAgbWVzc2FnZTogJ3Byb21wdCBhbmQgbWVzc2FnZXMgY2Fubm90IGJlIGRlZmluZWQgYXQgdGhlIHNhbWUgdGltZScsXG4gICAgfSk7XG4gIH1cblxuICAvLyB2YWxpZGF0ZSB0aGF0IHN5c3RlbSBpcyBhIHN0cmluZ1xuICBpZiAocHJvbXB0LnN5c3RlbSAhPSBudWxsICYmIHR5cGVvZiBwcm9tcHQuc3lzdGVtICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBJbnZhbGlkUHJvbXB0RXJyb3Ioe1xuICAgICAgcHJvbXB0LFxuICAgICAgbWVzc2FnZTogJ3N5c3RlbSBtdXN0IGJlIGEgc3RyaW5nJyxcbiAgICB9KTtcbiAgfVxuXG4gIGxldCBtZXNzYWdlczogTW9kZWxNZXNzYWdlW107XG5cbiAgaWYgKHByb21wdC5wcm9tcHQgIT0gbnVsbCAmJiB0eXBlb2YgcHJvbXB0LnByb21wdCA9PT0gJ3N0cmluZycpIHtcbiAgICBtZXNzYWdlcyA9IFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogcHJvbXB0LnByb21wdCB9XTtcbiAgfSBlbHNlIGlmIChwcm9tcHQucHJvbXB0ICE9IG51bGwgJiYgQXJyYXkuaXNBcnJheShwcm9tcHQucHJvbXB0KSkge1xuICAgIG1lc3NhZ2VzID0gcHJvbXB0LnByb21wdDtcbiAgfSBlbHNlIGlmIChwcm9tcHQubWVzc2FnZXMgIT0gbnVsbCkge1xuICAgIG1lc3NhZ2VzID0gcHJvbXB0Lm1lc3NhZ2VzO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBJbnZhbGlkUHJvbXB0RXJyb3Ioe1xuICAgICAgcHJvbXB0LFxuICAgICAgbWVzc2FnZTogJ3Byb21wdCBvciBtZXNzYWdlcyBtdXN0IGJlIGRlZmluZWQnLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkUHJvbXB0RXJyb3Ioe1xuICAgICAgcHJvbXB0LFxuICAgICAgbWVzc2FnZTogJ21lc3NhZ2VzIG11c3Qgbm90IGJlIGVtcHR5JyxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlcyh7XG4gICAgdmFsdWU6IG1lc3NhZ2VzLFxuICAgIHNjaGVtYTogei5hcnJheShtb2RlbE1lc3NhZ2VTY2hlbWEpLFxuICB9KTtcblxuICBpZiAoIXZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuICAgIHRocm93IG5ldyBJbnZhbGlkUHJvbXB0RXJyb3Ioe1xuICAgICAgcHJvbXB0LFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ1RoZSBtZXNzYWdlcyBtdXN0IGJlIGEgTW9kZWxNZXNzYWdlW10uICcgK1xuICAgICAgICAnSWYgeW91IGhhdmUgcGFzc2VkIGEgVUlNZXNzYWdlW10sIHlvdSBjYW4gdXNlIGNvbnZlcnRUb01vZGVsTWVzc2FnZXMgdG8gY29udmVydCB0aGVtLicsXG4gICAgICBjYXVzZTogdmFsaWRhdGlvblJlc3VsdC5lcnJvcixcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWVzc2FnZXMsXG4gICAgc3lzdGVtOiBwcm9tcHQuc3lzdGVtLFxuICB9O1xufVxuIiwgImltcG9ydCB7XG4gIEFzc2lzdGFudE1vZGVsTWVzc2FnZSxcbiAgTW9kZWxNZXNzYWdlLFxuICBTeXN0ZW1Nb2RlbE1lc3NhZ2UsXG4gIFRvb2xNb2RlbE1lc3NhZ2UsXG4gIFVzZXJNb2RlbE1lc3NhZ2UsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBwcm92aWRlck1ldGFkYXRhU2NoZW1hIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHtcbiAgZmlsZVBhcnRTY2hlbWEsXG4gIGltYWdlUGFydFNjaGVtYSxcbiAgcmVhc29uaW5nUGFydFNjaGVtYSxcbiAgdGV4dFBhcnRTY2hlbWEsXG4gIHRvb2xDYWxsUGFydFNjaGVtYSxcbiAgdG9vbFJlc3VsdFBhcnRTY2hlbWEsXG59IGZyb20gJy4vY29udGVudC1wYXJ0JztcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYFN5c3RlbU1vZGVsTWVzc2FnZWAgaW5zdGVhZC5cbiAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCB0eXBlIENvcmVTeXN0ZW1NZXNzYWdlID0gU3lzdGVtTW9kZWxNZXNzYWdlO1xuXG5leHBvcnQgY29uc3Qgc3lzdGVtTW9kZWxNZXNzYWdlU2NoZW1hOiB6LlpvZFR5cGU8U3lzdGVtTW9kZWxNZXNzYWdlPiA9IHoub2JqZWN0KFxuICB7XG4gICAgcm9sZTogei5saXRlcmFsKCdzeXN0ZW0nKSxcbiAgICBjb250ZW50OiB6LnN0cmluZygpLFxuICAgIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9LFxuKTtcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYHN5c3RlbU1vZGVsTWVzc2FnZVNjaGVtYWAgaW5zdGVhZC5cbiAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCBjb25zdCBjb3JlU3lzdGVtTWVzc2FnZVNjaGVtYSA9IHN5c3RlbU1vZGVsTWVzc2FnZVNjaGVtYTtcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYFVzZXJNb2RlbE1lc3NhZ2VgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgdHlwZSBDb3JlVXNlck1lc3NhZ2UgPSBVc2VyTW9kZWxNZXNzYWdlO1xuXG5leHBvcnQgY29uc3QgdXNlck1vZGVsTWVzc2FnZVNjaGVtYTogei5ab2RUeXBlPFVzZXJNb2RlbE1lc3NhZ2U+ID0gei5vYmplY3Qoe1xuICByb2xlOiB6LmxpdGVyYWwoJ3VzZXInKSxcbiAgY29udGVudDogei51bmlvbihbXG4gICAgei5zdHJpbmcoKSxcbiAgICB6LmFycmF5KHoudW5pb24oW3RleHRQYXJ0U2NoZW1hLCBpbWFnZVBhcnRTY2hlbWEsIGZpbGVQYXJ0U2NoZW1hXSkpLFxuICBdKSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KTtcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYHVzZXJNb2RlbE1lc3NhZ2VTY2hlbWFgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgY29uc3QgY29yZVVzZXJNZXNzYWdlU2NoZW1hID0gdXNlck1vZGVsTWVzc2FnZVNjaGVtYTtcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYEFzc2lzdGFudE1vZGVsTWVzc2FnZWAgaW5zdGVhZC5cbiAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCB0eXBlIENvcmVBc3Npc3RhbnRNZXNzYWdlID0gQXNzaXN0YW50TW9kZWxNZXNzYWdlO1xuXG5leHBvcnQgY29uc3QgYXNzaXN0YW50TW9kZWxNZXNzYWdlU2NoZW1hOiB6LlpvZFR5cGU8QXNzaXN0YW50TW9kZWxNZXNzYWdlPiA9XG4gIHoub2JqZWN0KHtcbiAgICByb2xlOiB6LmxpdGVyYWwoJ2Fzc2lzdGFudCcpLFxuICAgIGNvbnRlbnQ6IHoudW5pb24oW1xuICAgICAgei5zdHJpbmcoKSxcbiAgICAgIHouYXJyYXkoXG4gICAgICAgIHoudW5pb24oW1xuICAgICAgICAgIHRleHRQYXJ0U2NoZW1hLFxuICAgICAgICAgIGZpbGVQYXJ0U2NoZW1hLFxuICAgICAgICAgIHJlYXNvbmluZ1BhcnRTY2hlbWEsXG4gICAgICAgICAgdG9vbENhbGxQYXJ0U2NoZW1hLFxuICAgICAgICAgIHRvb2xSZXN1bHRQYXJ0U2NoZW1hLFxuICAgICAgICBdKSxcbiAgICAgICksXG4gICAgXSksXG4gICAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pO1xuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgYXNzaXN0YW50TW9kZWxNZXNzYWdlU2NoZW1hYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IGNvbnN0IGNvcmVBc3Npc3RhbnRNZXNzYWdlU2NoZW1hID0gYXNzaXN0YW50TW9kZWxNZXNzYWdlU2NoZW1hO1xuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgVG9vbE1vZGVsTWVzc2FnZWAgaW5zdGVhZC5cbiAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCB0eXBlIENvcmVUb29sTWVzc2FnZSA9IFRvb2xNb2RlbE1lc3NhZ2U7XG5cbmV4cG9ydCBjb25zdCB0b29sTW9kZWxNZXNzYWdlU2NoZW1hOiB6LlpvZFR5cGU8VG9vbE1vZGVsTWVzc2FnZT4gPSB6Lm9iamVjdCh7XG4gIHJvbGU6IHoubGl0ZXJhbCgndG9vbCcpLFxuICBjb250ZW50OiB6LmFycmF5KHRvb2xSZXN1bHRQYXJ0U2NoZW1hKSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KTtcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYHRvb2xNb2RlbE1lc3NhZ2VTY2hlbWFgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgY29uc3QgY29yZVRvb2xNZXNzYWdlU2NoZW1hID0gdG9vbE1vZGVsTWVzc2FnZVNjaGVtYTtcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYE1vZGVsTWVzc2FnZWAgaW5zdGVhZC5cbiAgICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IHR5cGUgQ29yZU1lc3NhZ2UgPSBNb2RlbE1lc3NhZ2U7XG5cbmV4cG9ydCBjb25zdCBtb2RlbE1lc3NhZ2VTY2hlbWE6IHouWm9kVHlwZTxNb2RlbE1lc3NhZ2U+ID0gei51bmlvbihbXG4gIHN5c3RlbU1vZGVsTWVzc2FnZVNjaGVtYSxcbiAgdXNlck1vZGVsTWVzc2FnZVNjaGVtYSxcbiAgYXNzaXN0YW50TW9kZWxNZXNzYWdlU2NoZW1hLFxuICB0b29sTW9kZWxNZXNzYWdlU2NoZW1hLFxuXSk7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBtb2RlbE1lc3NhZ2VTY2hlbWFgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgY29uc3QgY29yZU1lc3NhZ2VTY2hlbWE6IHouWm9kVHlwZTxDb3JlTWVzc2FnZT4gPSBtb2RlbE1lc3NhZ2VTY2hlbWE7XG4iLCAiaW1wb3J0IHsgU2hhcmVkVjJQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IGpzb25WYWx1ZVNjaGVtYSB9IGZyb20gJy4vanNvbi12YWx1ZSc7XG5cbi8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YSB0aGF0IGlzIHJldHVybmVkIGZyb20gdGhlIHByb3ZpZGVyLlxuXG5UaGlzIGlzIG5lZWRlZCB0byBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWMgZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZVxuZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAqL1xuZXhwb3J0IHR5cGUgUHJvdmlkZXJNZXRhZGF0YSA9IFNoYXJlZFYyUHJvdmlkZXJNZXRhZGF0YTtcblxuZXhwb3J0IGNvbnN0IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWE6IHouWm9kVHlwZTxQcm92aWRlck1ldGFkYXRhPiA9IHoucmVjb3JkKFxuICB6LnN0cmluZygpLFxuICB6LnJlY29yZCh6LnN0cmluZygpLCBqc29uVmFsdWVTY2hlbWEpLFxuKTtcbiIsICJpbXBvcnQgeyBKU09OVmFsdWUgYXMgT3JpZ2luYWxKU09OVmFsdWUgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuXG5leHBvcnQgY29uc3QganNvblZhbHVlU2NoZW1hOiB6LlpvZFR5cGU8SlNPTlZhbHVlPiA9IHoubGF6eSgoKSA9PlxuICB6LnVuaW9uKFtcbiAgICB6Lm51bGwoKSxcbiAgICB6LnN0cmluZygpLFxuICAgIHoubnVtYmVyKCksXG4gICAgei5ib29sZWFuKCksXG4gICAgei5yZWNvcmQoei5zdHJpbmcoKSwganNvblZhbHVlU2NoZW1hKSxcbiAgICB6LmFycmF5KGpzb25WYWx1ZVNjaGVtYSksXG4gIF0pLFxuKTtcblxuZXhwb3J0IHR5cGUgSlNPTlZhbHVlID0gT3JpZ2luYWxKU09OVmFsdWU7XG4iLCAiaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFYyVG9vbFJlc3VsdE91dHB1dCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgRmlsZVBhcnQsXG4gIEltYWdlUGFydCxcbiAgUHJvdmlkZXJPcHRpb25zLFxuICBSZWFzb25pbmdQYXJ0LFxuICBUZXh0UGFydCxcbiAgVG9vbFJlc3VsdFBhcnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBqc29uVmFsdWVTY2hlbWEgfSBmcm9tICcuLi90eXBlcy9qc29uLXZhbHVlJztcbmltcG9ydCB7IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEgfSBmcm9tICcuLi90eXBlcy9wcm92aWRlci1tZXRhZGF0YSc7XG5pbXBvcnQgeyBkYXRhQ29udGVudFNjaGVtYSB9IGZyb20gJy4vZGF0YS1jb250ZW50JztcblxuLyoqXG5AaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IHRleHRQYXJ0U2NoZW1hOiB6LlpvZFR5cGU8VGV4dFBhcnQ+ID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ3RleHQnKSxcbiAgdGV4dDogei5zdHJpbmcoKSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KTtcblxuLyoqXG5AaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IGltYWdlUGFydFNjaGVtYTogei5ab2RUeXBlPEltYWdlUGFydD4gPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgnaW1hZ2UnKSxcbiAgaW1hZ2U6IHoudW5pb24oW2RhdGFDb250ZW50U2NoZW1hLCB6Lmluc3RhbmNlb2YoVVJMKV0pLFxuICBtZWRpYVR5cGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KTtcblxuLyoqXG5AaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IGZpbGVQYXJ0U2NoZW1hOiB6LlpvZFR5cGU8RmlsZVBhcnQ+ID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ2ZpbGUnKSxcbiAgZGF0YTogei51bmlvbihbZGF0YUNvbnRlbnRTY2hlbWEsIHouaW5zdGFuY2VvZihVUkwpXSksXG4gIGZpbGVuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIG1lZGlhVHlwZTogei5zdHJpbmcoKSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KTtcblxuLyoqXG5AaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IHJlYXNvbmluZ1BhcnRTY2hlbWE6IHouWm9kVHlwZTxSZWFzb25pbmdQYXJ0PiA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCdyZWFzb25pbmcnKSxcbiAgdGV4dDogei5zdHJpbmcoKSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KTtcblxuLyoqXG5Ub29sIGNhbGwgY29udGVudCBwYXJ0IG9mIGEgcHJvbXB0LiBJdCBjb250YWlucyBhIHRvb2wgY2FsbCAodXN1YWxseSBnZW5lcmF0ZWQgYnkgdGhlIEFJIG1vZGVsKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUb29sQ2FsbFBhcnQge1xuICB0eXBlOiAndG9vbC1jYWxsJztcblxuICAvKipcbklEIG9mIHRoZSB0b29sIGNhbGwuIFRoaXMgSUQgaXMgdXNlZCB0byBtYXRjaCB0aGUgdG9vbCBjYWxsIHdpdGggdGhlIHRvb2wgcmVzdWx0LlxuICovXG4gIHRvb2xDYWxsSWQ6IHN0cmluZztcblxuICAvKipcbk5hbWUgb2YgdGhlIHRvb2wgdGhhdCBpcyBiZWluZyBjYWxsZWQuXG4gKi9cbiAgdG9vbE5hbWU6IHN0cmluZztcblxuICAvKipcbkFyZ3VtZW50cyBvZiB0aGUgdG9vbCBjYWxsLiBUaGlzIGlzIGEgSlNPTi1zZXJpYWxpemFibGUgb2JqZWN0IHRoYXQgbWF0Y2hlcyB0aGUgdG9vbCdzIGlucHV0IHNjaGVtYS5cbiAgICovXG4gIGlucHV0OiB1bmtub3duO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YS4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICovXG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcbn1cblxuLyoqXG5AaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IHRvb2xDYWxsUGFydFNjaGVtYTogei5ab2RUeXBlPFRvb2xDYWxsUGFydD4gPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgndG9vbC1jYWxsJyksXG4gIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICBpbnB1dDogei51bmtub3duKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxufSkgYXMgei5ab2RUeXBlPFRvb2xDYWxsUGFydD47IC8vIG5lY2Vzc2FyeSBiYyBpbnB1dCBpcyBvcHRpb25hbCBvbiBab2QgdHlwZVxuXG4vKipcbkBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3Qgb3V0cHV0U2NoZW1hOiB6LlpvZFR5cGU8TGFuZ3VhZ2VNb2RlbFYyVG9vbFJlc3VsdE91dHB1dD4gPVxuICB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICB6Lm9iamVjdCh7XG4gICAgICB0eXBlOiB6LmxpdGVyYWwoJ3RleHQnKSxcbiAgICAgIHZhbHVlOiB6LnN0cmluZygpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgIHR5cGU6IHoubGl0ZXJhbCgnanNvbicpLFxuICAgICAgdmFsdWU6IGpzb25WYWx1ZVNjaGVtYSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICB0eXBlOiB6LmxpdGVyYWwoJ2Vycm9yLXRleHQnKSxcbiAgICAgIHZhbHVlOiB6LnN0cmluZygpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgIHR5cGU6IHoubGl0ZXJhbCgnZXJyb3ItanNvbicpLFxuICAgICAgdmFsdWU6IGpzb25WYWx1ZVNjaGVtYSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnRlbnQnKSxcbiAgICAgIHZhbHVlOiB6LmFycmF5KFxuICAgICAgICB6LnVuaW9uKFtcbiAgICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3RleHQnKSxcbiAgICAgICAgICAgIHRleHQ6IHouc3RyaW5nKCksXG4gICAgICAgICAgfSksXG4gICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCdtZWRpYScpLFxuICAgICAgICAgICAgZGF0YTogei5zdHJpbmcoKSxcbiAgICAgICAgICAgIG1lZGlhVHlwZTogei5zdHJpbmcoKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgXSksXG4gICAgICApLFxuICAgIH0pLFxuICBdKTtcblxuLyoqXG5AaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IHRvb2xSZXN1bHRQYXJ0U2NoZW1hOiB6LlpvZFR5cGU8VG9vbFJlc3VsdFBhcnQ+ID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtcmVzdWx0JyksXG4gIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICBvdXRwdXQ6IG91dHB1dFNjaGVtYSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KSBhcyB6LlpvZFR5cGU8VG9vbFJlc3VsdFBhcnQ+OyAvLyBuZWNlc3NhcnkgYmMgcmVzdWx0IGlzIG9wdGlvbmFsIG9uIFpvZCB0eXBlXG4iLCAiaW1wb3J0IHtcbiAgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3IsXG4gIEdhdGV3YXlNb2RlbE5vdEZvdW5kRXJyb3IsXG59IGZyb20gJ0BhaS1zZGsvZ2F0ZXdheSc7XG5pbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwR2F0ZXdheUVycm9yKGVycm9yOiB1bmtub3duKTogdW5rbm93biB7XG4gIGlmIChcbiAgICBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvci5pc0luc3RhbmNlKGVycm9yKSB8fFxuICAgIEdhdGV3YXlNb2RlbE5vdEZvdW5kRXJyb3IuaXNJbnN0YW5jZShlcnJvcilcbiAgKSB7XG4gICAgcmV0dXJuIG5ldyBBSVNES0Vycm9yKHtcbiAgICAgIG5hbWU6ICdHYXRld2F5RXJyb3InLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ1ZlcmNlbCBBSSBHYXRld2F5IGFjY2VzcyBmYWlsZWQuICcgK1xuICAgICAgICAnSWYgeW91IHdhbnQgdG8gdXNlIEFJIFNESyBwcm92aWRlcnMgZGlyZWN0bHksIHVzZSB0aGUgcHJvdmlkZXJzLCBlLmcuIEBhaS1zZGsvb3BlbmFpLCAnICtcbiAgICAgICAgJ29yIHJlZ2lzdGVyIGEgZGlmZmVyZW50IGdsb2JhbCBkZWZhdWx0IHByb3ZpZGVyLicsXG4gICAgICBjYXVzZTogZXJyb3IsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZXJyb3I7XG59XG4iLCAiaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuL3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICBvcGVyYXRpb25JZCxcbiAgdGVsZW1ldHJ5LFxufToge1xuICBvcGVyYXRpb25JZDogc3RyaW5nO1xuICB0ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcbn0pIHtcbiAgcmV0dXJuIHtcbiAgICAvLyBzdGFuZGFyZGl6ZWQgb3BlcmF0aW9uIGFuZCByZXNvdXJjZSBuYW1lOlxuICAgICdvcGVyYXRpb24ubmFtZSc6IGAke29wZXJhdGlvbklkfSR7XG4gICAgICB0ZWxlbWV0cnk/LmZ1bmN0aW9uSWQgIT0gbnVsbCA/IGAgJHt0ZWxlbWV0cnkuZnVuY3Rpb25JZH1gIDogJydcbiAgICB9YCxcbiAgICAncmVzb3VyY2UubmFtZSc6IHRlbGVtZXRyeT8uZnVuY3Rpb25JZCxcblxuICAgIC8vIGRldGFpbGVkLCBBSSBTREsgc3BlY2lmaWMgZGF0YTpcbiAgICAnYWkub3BlcmF0aW9uSWQnOiBvcGVyYXRpb25JZCxcbiAgICAnYWkudGVsZW1ldHJ5LmZ1bmN0aW9uSWQnOiB0ZWxlbWV0cnk/LmZ1bmN0aW9uSWQsXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgQXR0cmlidXRlcyB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5pbXBvcnQgeyBDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4vdGVsZW1ldHJ5LXNldHRpbmdzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgbW9kZWwsXG4gIHNldHRpbmdzLFxuICB0ZWxlbWV0cnksXG4gIGhlYWRlcnMsXG59OiB7XG4gIG1vZGVsOiB7IG1vZGVsSWQ6IHN0cmluZzsgcHJvdmlkZXI6IHN0cmluZyB9O1xuICBzZXR0aW5nczogT21pdDxDYWxsU2V0dGluZ3MsICdhYm9ydFNpZ25hbCcgfCAnaGVhZGVycycgfCAndGVtcGVyYXR1cmUnPjtcbiAgdGVsZW1ldHJ5OiBUZWxlbWV0cnlTZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiB8IHVuZGVmaW5lZDtcbn0pOiBBdHRyaWJ1dGVzIHtcbiAgcmV0dXJuIHtcbiAgICAnYWkubW9kZWwucHJvdmlkZXInOiBtb2RlbC5wcm92aWRlcixcbiAgICAnYWkubW9kZWwuaWQnOiBtb2RlbC5tb2RlbElkLFxuXG4gICAgLy8gc2V0dGluZ3M6XG4gICAgLi4uT2JqZWN0LmVudHJpZXMoc2V0dGluZ3MpLnJlZHVjZSgoYXR0cmlidXRlcywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBhdHRyaWJ1dGVzW2BhaS5zZXR0aW5ncy4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfSwge30gYXMgQXR0cmlidXRlcyksXG5cbiAgICAvLyBhZGQgbWV0YWRhdGEgYXMgYXR0cmlidXRlczpcbiAgICAuLi5PYmplY3QuZW50cmllcyh0ZWxlbWV0cnk/Lm1ldGFkYXRhID8/IHt9KS5yZWR1Y2UoXG4gICAgICAoYXR0cmlidXRlcywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGF0dHJpYnV0ZXNbYGFpLnRlbGVtZXRyeS5tZXRhZGF0YS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICAgIH0sXG4gICAgICB7fSBhcyBBdHRyaWJ1dGVzLFxuICAgICksXG5cbiAgICAvLyByZXF1ZXN0IGhlYWRlcnNcbiAgICAuLi5PYmplY3QuZW50cmllcyhoZWFkZXJzID8/IHt9KS5yZWR1Y2UoKGF0dHJpYnV0ZXMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXR0cmlidXRlc1tgYWkucmVxdWVzdC5oZWFkZXJzLiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9LCB7fSBhcyBBdHRyaWJ1dGVzKSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBUcmFjZXIsIHRyYWNlIH0gZnJvbSAnQG9wZW50ZWxlbWV0cnkvYXBpJztcbmltcG9ydCB7IG5vb3BUcmFjZXIgfSBmcm9tICcuL25vb3AtdHJhY2VyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYWNlcih7XG4gIGlzRW5hYmxlZCA9IGZhbHNlLFxuICB0cmFjZXIsXG59OiB7XG4gIGlzRW5hYmxlZD86IGJvb2xlYW47XG4gIHRyYWNlcj86IFRyYWNlcjtcbn0gPSB7fSk6IFRyYWNlciB7XG4gIGlmICghaXNFbmFibGVkKSB7XG4gICAgcmV0dXJuIG5vb3BUcmFjZXI7XG4gIH1cblxuICBpZiAodHJhY2VyKSB7XG4gICAgcmV0dXJuIHRyYWNlcjtcbiAgfVxuXG4gIHJldHVybiB0cmFjZS5nZXRUcmFjZXIoJ2FpJyk7XG59XG4iLCAiaW1wb3J0IHsgU3BhbiwgU3BhbkNvbnRleHQsIFRyYWNlciB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5cbi8qKlxuICogVHJhY2VyIGltcGxlbWVudGF0aW9uIHRoYXQgZG9lcyBub3RoaW5nIChudWxsIG9iamVjdCkuXG4gKi9cbmV4cG9ydCBjb25zdCBub29wVHJhY2VyOiBUcmFjZXIgPSB7XG4gIHN0YXJ0U3BhbigpOiBTcGFuIHtcbiAgICByZXR1cm4gbm9vcFNwYW47XG4gIH0sXG5cbiAgc3RhcnRBY3RpdmVTcGFuPEYgZXh0ZW5kcyAoc3BhbjogU3BhbikgPT4gdW5rbm93bj4oXG4gICAgbmFtZTogdW5rbm93bixcbiAgICBhcmcxOiB1bmtub3duLFxuICAgIGFyZzI/OiB1bmtub3duLFxuICAgIGFyZzM/OiBGLFxuICApOiBSZXR1cm5UeXBlPGFueT4ge1xuICAgIGlmICh0eXBlb2YgYXJnMSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGFyZzEobm9vcFNwYW4pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFyZzIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBhcmcyKG5vb3BTcGFuKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcmczID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gYXJnMyhub29wU3Bhbik7XG4gICAgfVxuICB9LFxufTtcblxuY29uc3Qgbm9vcFNwYW46IFNwYW4gPSB7XG4gIHNwYW5Db250ZXh0KCkge1xuICAgIHJldHVybiBub29wU3BhbkNvbnRleHQ7XG4gIH0sXG4gIHNldEF0dHJpYnV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgc2V0QXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgYWRkRXZlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGFkZExpbmsoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGFkZExpbmtzKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBzZXRTdGF0dXMoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHVwZGF0ZU5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGVuZCgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgaXNSZWNvcmRpbmcoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICByZWNvcmRFeGNlcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG59O1xuXG5jb25zdCBub29wU3BhbkNvbnRleHQ6IFNwYW5Db250ZXh0ID0ge1xuICB0cmFjZUlkOiAnJyxcbiAgc3BhbklkOiAnJyxcbiAgdHJhY2VGbGFnczogMCxcbn07XG4iLCAiaW1wb3J0IHsgQXR0cmlidXRlcywgU3BhbiwgVHJhY2VyLCBTcGFuU3RhdHVzQ29kZSB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWNvcmRTcGFuPFQ+KHtcbiAgbmFtZSxcbiAgdHJhY2VyLFxuICBhdHRyaWJ1dGVzLFxuICBmbixcbiAgZW5kV2hlbkRvbmUgPSB0cnVlLFxufToge1xuICBuYW1lOiBzdHJpbmc7XG4gIHRyYWNlcjogVHJhY2VyO1xuICBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzO1xuICBmbjogKHNwYW46IFNwYW4pID0+IFByb21pc2U8VD47XG4gIGVuZFdoZW5Eb25lPzogYm9vbGVhbjtcbn0pIHtcbiAgcmV0dXJuIHRyYWNlci5zdGFydEFjdGl2ZVNwYW4obmFtZSwgeyBhdHRyaWJ1dGVzIH0sIGFzeW5jIHNwYW4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmbihzcGFuKTtcblxuICAgICAgaWYgKGVuZFdoZW5Eb25lKSB7XG4gICAgICAgIHNwYW4uZW5kKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlY29yZEVycm9yT25TcGFuKHNwYW4sIGVycm9yKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIC8vIGFsd2F5cyBzdG9wIHRoZSBzcGFuIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3I6XG4gICAgICAgIHNwYW4uZW5kKCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogUmVjb3JkIGFuIGVycm9yIG9uIGEgc3Bhbi4gSWYgdGhlIGVycm9yIGlzIGFuIGluc3RhbmNlIG9mIEVycm9yLCBhbiBleGNlcHRpb24gZXZlbnQgd2lsbCBiZSByZWNvcmRlZCBvbiB0aGUgc3Bhbiwgb3RoZXJ3aXNlXG4gKiB0aGUgc3BhbiB3aWxsIGJlIHNldCB0byBhbiBlcnJvciBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHNwYW4gLSBUaGUgc3BhbiB0byByZWNvcmQgdGhlIGVycm9yIG9uLlxuICogQHBhcmFtIGVycm9yIC0gVGhlIGVycm9yIHRvIHJlY29yZCBvbiB0aGUgc3Bhbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZEVycm9yT25TcGFuKHNwYW46IFNwYW4sIGVycm9yOiB1bmtub3duKSB7XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgc3Bhbi5yZWNvcmRFeGNlcHRpb24oe1xuICAgICAgbmFtZTogZXJyb3IubmFtZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgfSk7XG4gICAgc3Bhbi5zZXRTdGF0dXMoe1xuICAgICAgY29kZTogU3BhblN0YXR1c0NvZGUuRVJST1IsXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNwYW4uc2V0U3RhdHVzKHsgY29kZTogU3BhblN0YXR1c0NvZGUuRVJST1IgfSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEF0dHJpYnV0ZXMsIEF0dHJpYnV0ZVZhbHVlIH0gZnJvbSAnQG9wZW50ZWxlbWV0cnkvYXBpJztcbmltcG9ydCB0eXBlIHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuL3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgdGVsZW1ldHJ5LFxuICBhdHRyaWJ1dGVzLFxufToge1xuICB0ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcbiAgYXR0cmlidXRlczoge1xuICAgIFthdHRyaWJ1dGVLZXk6IHN0cmluZ106XG4gICAgICB8IEF0dHJpYnV0ZVZhbHVlXG4gICAgICB8IHsgaW5wdXQ6ICgpID0+IEF0dHJpYnV0ZVZhbHVlIHwgdW5kZWZpbmVkIH1cbiAgICAgIHwgeyBvdXRwdXQ6ICgpID0+IEF0dHJpYnV0ZVZhbHVlIHwgdW5kZWZpbmVkIH1cbiAgICAgIHwgdW5kZWZpbmVkO1xuICB9O1xufSk6IEF0dHJpYnV0ZXMge1xuICAvLyB3aGVuIHRlbGVtZXRyeSBpcyBkaXNhYmxlZCwgcmV0dXJuIGFuIGVtcHR5IG9iamVjdCB0byBhdm9pZCBzZXJpYWxpemF0aW9uIG92ZXJoZWFkOlxuICBpZiAodGVsZW1ldHJ5Py5pc0VuYWJsZWQgIT09IHRydWUpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykucmVkdWNlKChhdHRyaWJ1dGVzLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfVxuXG4gICAgLy8gaW5wdXQgdmFsdWUsIGNoZWNrIGlmIGl0IHNob3VsZCBiZSByZWNvcmRlZDpcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAnaW5wdXQnIGluIHZhbHVlICYmXG4gICAgICB0eXBlb2YgdmFsdWUuaW5wdXQgPT09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZTpcbiAgICAgIGlmICh0ZWxlbWV0cnk/LnJlY29yZElucHV0cyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlLmlucHV0KCk7XG5cbiAgICAgIHJldHVybiByZXN1bHQgPT0gbnVsbCA/IGF0dHJpYnV0ZXMgOiB7IC4uLmF0dHJpYnV0ZXMsIFtrZXldOiByZXN1bHQgfTtcbiAgICB9XG5cbiAgICAvLyBvdXRwdXQgdmFsdWUsIGNoZWNrIGlmIGl0IHNob3VsZCBiZSByZWNvcmRlZDpcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAnb3V0cHV0JyBpbiB2YWx1ZSAmJlxuICAgICAgdHlwZW9mIHZhbHVlLm91dHB1dCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICkge1xuICAgICAgLy8gZGVmYXVsdCB0byB0cnVlOlxuICAgICAgaWYgKHRlbGVtZXRyeT8ucmVjb3JkT3V0cHV0cyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlLm91dHB1dCgpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09IG51bGwgPyBhdHRyaWJ1dGVzIDogeyAuLi5hdHRyaWJ1dGVzLCBba2V5XTogcmVzdWx0IH07XG4gICAgfVxuXG4gICAgLy8gdmFsdWUgaXMgYW4gYXR0cmlidXRlIHZhbHVlIGFscmVhZHk6XG4gICAgcmV0dXJuIHsgLi4uYXR0cmlidXRlcywgW2tleV06IHZhbHVlIH07XG4gIH0sIHt9KTtcbn1cbiIsICJpbXBvcnQge1xuICBMYW5ndWFnZU1vZGVsVjJNZXNzYWdlLFxuICBMYW5ndWFnZU1vZGVsVjJQcm9tcHQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgY29udmVydERhdGFDb250ZW50VG9CYXNlNjRTdHJpbmcgfSBmcm9tICcuLi9wcm9tcHQvZGF0YS1jb250ZW50JztcblxuLyoqXG4gKiBIZWxwZXIgdXRpbGl0eSB0byBzZXJpYWxpemUgcHJvbXB0IGNvbnRlbnQgZm9yIE9wZW5UZWxlbWV0cnkgdHJhY2luZy5cbiAqIEl0IGlzIGluaXRpYWxseSBjcmVhdGVkIGJlY2F1c2Ugbm9ybWFsaXplZCBMYW5ndWFnZU1vZGVsVjFQcm9tcHQgY2Fycmllc1xuICogaW1hZ2VzIGFzIFVpbnQ4QXJyYXlzLCBvbiB3aGljaCBKU09OLnN0cmluZ2lmeSBhY3RzIHdlaXJkbHksIGNvbnZlcnRpbmdcbiAqIHRoZW0gdG8gb2JqZWN0cyB3aXRoIHN0cmluZ2lmaWVkIGluZGljZXMgYXMga2V5cywgZS5nLiB7XCIwXCI6IDQyLCBcIjFcIjogNjkgfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeUZvclRlbGVtZXRyeShwcm9tcHQ6IExhbmd1YWdlTW9kZWxWMlByb21wdCk6IHN0cmluZyB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShcbiAgICBwcm9tcHQubWFwKChtZXNzYWdlOiBMYW5ndWFnZU1vZGVsVjJNZXNzYWdlKSA9PiAoe1xuICAgICAgLi4ubWVzc2FnZSxcbiAgICAgIGNvbnRlbnQ6XG4gICAgICAgIHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgPyBtZXNzYWdlLmNvbnRlbnRcbiAgICAgICAgICA6IG1lc3NhZ2UuY29udGVudC5tYXAocGFydCA9PlxuICAgICAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdmaWxlJ1xuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAuLi5wYXJ0LFxuICAgICAgICAgICAgICAgICAgICBkYXRhOlxuICAgICAgICAgICAgICAgICAgICAgIHBhcnQuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY29udmVydERhdGFDb250ZW50VG9CYXNlNjRTdHJpbmcocGFydC5kYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwYXJ0LmRhdGEsXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBwYXJ0LFxuICAgICAgICAgICAgKSxcbiAgICB9KSksXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFYyVXNhZ2UgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuLyoqXG5SZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgdG9rZW5zIHVzZWQgaW4gYSBwcm9tcHQgYW5kIGNvbXBsZXRpb24uXG4gKi9cbmV4cG9ydCB0eXBlIExhbmd1YWdlTW9kZWxVc2FnZSA9IExhbmd1YWdlTW9kZWxWMlVzYWdlO1xuXG4vKipcblJlcHJlc2VudHMgdGhlIG51bWJlciBvZiB0b2tlbnMgdXNlZCBpbiBhbiBlbWJlZGRpbmcuXG4gKi9cbi8vIFRPRE8gcmVwbGFjZSB3aXRoIEVtYmVkZGluZ01vZGVsVjJVc2FnZVxuZXhwb3J0IHR5cGUgRW1iZWRkaW5nTW9kZWxVc2FnZSA9IHtcbiAgLyoqXG5UaGUgbnVtYmVyIG9mIHRva2VucyB1c2VkIGluIHRoZSBlbWJlZGRpbmcuXG4gICAqL1xuICB0b2tlbnM6IG51bWJlcjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRMYW5ndWFnZU1vZGVsVXNhZ2UoXG4gIHVzYWdlMTogTGFuZ3VhZ2VNb2RlbFVzYWdlLFxuICB1c2FnZTI6IExhbmd1YWdlTW9kZWxVc2FnZSxcbik6IExhbmd1YWdlTW9kZWxVc2FnZSB7XG4gIHJldHVybiB7XG4gICAgaW5wdXRUb2tlbnM6IGFkZFRva2VuQ291bnRzKHVzYWdlMS5pbnB1dFRva2VucywgdXNhZ2UyLmlucHV0VG9rZW5zKSxcbiAgICBvdXRwdXRUb2tlbnM6IGFkZFRva2VuQ291bnRzKHVzYWdlMS5vdXRwdXRUb2tlbnMsIHVzYWdlMi5vdXRwdXRUb2tlbnMpLFxuICAgIHRvdGFsVG9rZW5zOiBhZGRUb2tlbkNvdW50cyh1c2FnZTEudG90YWxUb2tlbnMsIHVzYWdlMi50b3RhbFRva2VucyksXG4gICAgcmVhc29uaW5nVG9rZW5zOiBhZGRUb2tlbkNvdW50cyhcbiAgICAgIHVzYWdlMS5yZWFzb25pbmdUb2tlbnMsXG4gICAgICB1c2FnZTIucmVhc29uaW5nVG9rZW5zLFxuICAgICksXG4gICAgY2FjaGVkSW5wdXRUb2tlbnM6IGFkZFRva2VuQ291bnRzKFxuICAgICAgdXNhZ2UxLmNhY2hlZElucHV0VG9rZW5zLFxuICAgICAgdXNhZ2UyLmNhY2hlZElucHV0VG9rZW5zLFxuICAgICksXG4gIH07XG59XG5cbmZ1bmN0aW9uIGFkZFRva2VuQ291bnRzKFxuICB0b2tlbkNvdW50MTogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICB0b2tlbkNvdW50MjogbnVtYmVyIHwgdW5kZWZpbmVkLFxuKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHRva2VuQ291bnQxID09IG51bGwgJiYgdG9rZW5Db3VudDIgPT0gbnVsbFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiAodG9rZW5Db3VudDEgPz8gMCkgKyAodG9rZW5Db3VudDIgPz8gMCk7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGFzQXJyYXk8VD4odmFsdWU6IFQgfCBUW10gfCB1bmRlZmluZWQpOiBUW10ge1xuICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IFtdIDogQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG59XG4iLCAiaW1wb3J0IHsgQVBJQ2FsbEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBkZWxheSwgZ2V0RXJyb3JNZXNzYWdlLCBpc0Fib3J0RXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFJldHJ5RXJyb3IgfSBmcm9tICcuL3JldHJ5LWVycm9yJztcblxuZXhwb3J0IHR5cGUgUmV0cnlGdW5jdGlvbiA9IDxPVVRQVVQ+KFxuICBmbjogKCkgPT4gUHJvbWlzZUxpa2U8T1VUUFVUPixcbikgPT4gUHJvbWlzZUxpa2U8T1VUUFVUPjtcblxuZnVuY3Rpb24gZ2V0UmV0cnlEZWxheUluTXMoe1xuICBlcnJvcixcbiAgZXhwb25lbnRpYWxCYWNrb2ZmRGVsYXksXG59OiB7XG4gIGVycm9yOiBBUElDYWxsRXJyb3I7XG4gIGV4cG9uZW50aWFsQmFja29mZkRlbGF5OiBudW1iZXI7XG59KTogbnVtYmVyIHtcbiAgY29uc3QgaGVhZGVycyA9IGVycm9yLnJlc3BvbnNlSGVhZGVycztcblxuICBpZiAoIWhlYWRlcnMpIHJldHVybiBleHBvbmVudGlhbEJhY2tvZmZEZWxheTtcblxuICBsZXQgbXM6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAvLyByZXRyeS1tcyBpcyBtb3JlIHByZWNpc2UgdGhhbiByZXRyeS1hZnRlciBhbmQgdXNlZCBieSBlLmcuIE9wZW5BSVxuICBjb25zdCByZXRyeUFmdGVyTXMgPSBoZWFkZXJzWydyZXRyeS1hZnRlci1tcyddO1xuICBpZiAocmV0cnlBZnRlck1zKSB7XG4gICAgY29uc3QgdGltZW91dE1zID0gcGFyc2VGbG9hdChyZXRyeUFmdGVyTXMpO1xuICAgIGlmICghTnVtYmVyLmlzTmFOKHRpbWVvdXRNcykpIHtcbiAgICAgIG1zID0gdGltZW91dE1zO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFib3V0IHRoZSBSZXRyeS1BZnRlciBoZWFkZXI6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9SZXRyeS1BZnRlclxuICBjb25zdCByZXRyeUFmdGVyID0gaGVhZGVyc1sncmV0cnktYWZ0ZXInXTtcbiAgaWYgKHJldHJ5QWZ0ZXIgJiYgbXMgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHRpbWVvdXRTZWNvbmRzID0gcGFyc2VGbG9hdChyZXRyeUFmdGVyKTtcbiAgICBpZiAoIU51bWJlci5pc05hTih0aW1lb3V0U2Vjb25kcykpIHtcbiAgICAgIG1zID0gdGltZW91dFNlY29uZHMgKiAxMDAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBtcyA9IERhdGUucGFyc2UocmV0cnlBZnRlcikgLSBEYXRlLm5vdygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNoZWNrIHRoYXQgdGhlIGRlbGF5IGlzIHJlYXNvbmFibGU6XG4gIGlmIChcbiAgICBtcyAhPSBudWxsICYmXG4gICAgIU51bWJlci5pc05hTihtcykgJiZcbiAgICAwIDw9IG1zICYmXG4gICAgKG1zIDwgNjAgKiAxMDAwIHx8IG1zIDwgZXhwb25lbnRpYWxCYWNrb2ZmRGVsYXkpXG4gICkge1xuICAgIHJldHVybiBtcztcbiAgfVxuXG4gIHJldHVybiBleHBvbmVudGlhbEJhY2tvZmZEZWxheTtcbn1cblxuLyoqXG5UaGUgYHJldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZlJlc3BlY3RpbmdSZXRyeUhlYWRlcnNgIHN0cmF0ZWd5IHJldHJpZXMgYSBmYWlsZWQgQVBJIGNhbGwgd2l0aCBhbiBleHBvbmVudGlhbCBiYWNrb2ZmLFxud2hpbGUgcmVzcGVjdGluZyByYXRlIGxpbWl0IGhlYWRlcnMgKHJldHJ5LWFmdGVyLW1zIGFuZCByZXRyeS1hZnRlcikgaWYgdGhleSBhcmUgcHJvdmlkZWQgYW5kIHJlYXNvbmFibGUgKDAtNjAgc2Vjb25kcykuXG5Zb3UgY2FuIGNvbmZpZ3VyZSB0aGUgbWF4aW11bSBudW1iZXIgb2YgcmV0cmllcywgdGhlIGluaXRpYWwgZGVsYXksIGFuZCB0aGUgYmFja29mZiBmYWN0b3IuXG4gKi9cbmV4cG9ydCBjb25zdCByZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmZSZXNwZWN0aW5nUmV0cnlIZWFkZXJzID1cbiAgKHtcbiAgICBtYXhSZXRyaWVzID0gMixcbiAgICBpbml0aWFsRGVsYXlJbk1zID0gMjAwMCxcbiAgICBiYWNrb2ZmRmFjdG9yID0gMixcbiAgICBhYm9ydFNpZ25hbCxcbiAgfToge1xuICAgIG1heFJldHJpZXM/OiBudW1iZXI7XG4gICAgaW5pdGlhbERlbGF5SW5Ncz86IG51bWJlcjtcbiAgICBiYWNrb2ZmRmFjdG9yPzogbnVtYmVyO1xuICAgIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIH0gPSB7fSk6IFJldHJ5RnVuY3Rpb24gPT5cbiAgYXN5bmMgPE9VVFBVVD4oZjogKCkgPT4gUHJvbWlzZUxpa2U8T1VUUFVUPikgPT5cbiAgICBfcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmKGYsIHtcbiAgICAgIG1heFJldHJpZXMsXG4gICAgICBkZWxheUluTXM6IGluaXRpYWxEZWxheUluTXMsXG4gICAgICBiYWNrb2ZmRmFjdG9yLFxuICAgICAgYWJvcnRTaWduYWwsXG4gICAgfSk7XG5cbmFzeW5jIGZ1bmN0aW9uIF9yZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmY8T1VUUFVUPihcbiAgZjogKCkgPT4gUHJvbWlzZUxpa2U8T1VUUFVUPixcbiAge1xuICAgIG1heFJldHJpZXMsXG4gICAgZGVsYXlJbk1zLFxuICAgIGJhY2tvZmZGYWN0b3IsXG4gICAgYWJvcnRTaWduYWwsXG4gIH06IHtcbiAgICBtYXhSZXRyaWVzOiBudW1iZXI7XG4gICAgZGVsYXlJbk1zOiBudW1iZXI7XG4gICAgYmFja29mZkZhY3RvcjogbnVtYmVyO1xuICAgIGFib3J0U2lnbmFsOiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZDtcbiAgfSxcbiAgZXJyb3JzOiB1bmtub3duW10gPSBbXSxcbik6IFByb21pc2U8T1VUUFVUPiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IGYoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSkge1xuICAgICAgdGhyb3cgZXJyb3I7IC8vIGRvbid0IHJldHJ5IHdoZW4gdGhlIHJlcXVlc3Qgd2FzIGFib3J0ZWRcbiAgICB9XG5cbiAgICBpZiAobWF4UmV0cmllcyA9PT0gMCkge1xuICAgICAgdGhyb3cgZXJyb3I7IC8vIGRvbid0IHdyYXAgdGhlIGVycm9yIHdoZW4gcmV0cmllcyBhcmUgZGlzYWJsZWRcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBnZXRFcnJvck1lc3NhZ2UoZXJyb3IpO1xuICAgIGNvbnN0IG5ld0Vycm9ycyA9IFsuLi5lcnJvcnMsIGVycm9yXTtcbiAgICBjb25zdCB0cnlOdW1iZXIgPSBuZXdFcnJvcnMubGVuZ3RoO1xuXG4gICAgaWYgKHRyeU51bWJlciA+IG1heFJldHJpZXMpIHtcbiAgICAgIHRocm93IG5ldyBSZXRyeUVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogYEZhaWxlZCBhZnRlciAke3RyeU51bWJlcn0gYXR0ZW1wdHMuIExhc3QgZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWAsXG4gICAgICAgIHJlYXNvbjogJ21heFJldHJpZXNFeGNlZWRlZCcsXG4gICAgICAgIGVycm9yczogbmV3RXJyb3JzLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxuICAgICAgQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpICYmXG4gICAgICBlcnJvci5pc1JldHJ5YWJsZSA9PT0gdHJ1ZSAmJlxuICAgICAgdHJ5TnVtYmVyIDw9IG1heFJldHJpZXNcbiAgICApIHtcbiAgICAgIGF3YWl0IGRlbGF5KFxuICAgICAgICBnZXRSZXRyeURlbGF5SW5Ncyh7XG4gICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgZXhwb25lbnRpYWxCYWNrb2ZmRGVsYXk6IGRlbGF5SW5NcyxcbiAgICAgICAgfSksXG4gICAgICAgIHsgYWJvcnRTaWduYWwgfSxcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBfcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmKFxuICAgICAgICBmLFxuICAgICAgICB7XG4gICAgICAgICAgbWF4UmV0cmllcyxcbiAgICAgICAgICBkZWxheUluTXM6IGJhY2tvZmZGYWN0b3IgKiBkZWxheUluTXMsXG4gICAgICAgICAgYmFja29mZkZhY3RvcixcbiAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgfSxcbiAgICAgICAgbmV3RXJyb3JzLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodHJ5TnVtYmVyID09PSAxKSB7XG4gICAgICB0aHJvdyBlcnJvcjsgLy8gZG9uJ3Qgd3JhcCB0aGUgZXJyb3Igd2hlbiBhIG5vbi1yZXRyeWFibGUgZXJyb3Igb2NjdXJzIG9uIHRoZSBmaXJzdCB0cnlcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgUmV0cnlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgRmFpbGVkIGFmdGVyICR7dHJ5TnVtYmVyfSBhdHRlbXB0cyB3aXRoIG5vbi1yZXRyeWFibGUgZXJyb3I6ICcke2Vycm9yTWVzc2FnZX0nYCxcbiAgICAgIHJlYXNvbjogJ2Vycm9yTm90UmV0cnlhYmxlJyxcbiAgICAgIGVycm9yczogbmV3RXJyb3JzLFxuICAgIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcbmltcG9ydCB7XG4gIFJldHJ5RnVuY3Rpb24sXG4gIHJldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZlJlc3BlY3RpbmdSZXRyeUhlYWRlcnMsXG59IGZyb20gJy4uL3V0aWwvcmV0cnktd2l0aC1leHBvbmVudGlhbC1iYWNrb2ZmJztcblxuLyoqXG4gKiBWYWxpZGF0ZSBhbmQgcHJlcGFyZSByZXRyaWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVJldHJpZXMoe1xuICBtYXhSZXRyaWVzLFxuICBhYm9ydFNpZ25hbCxcbn06IHtcbiAgbWF4UmV0cmllczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICBhYm9ydFNpZ25hbDogQWJvcnRTaWduYWwgfCB1bmRlZmluZWQ7XG59KToge1xuICBtYXhSZXRyaWVzOiBudW1iZXI7XG4gIHJldHJ5OiBSZXRyeUZ1bmN0aW9uO1xufSB7XG4gIGlmIChtYXhSZXRyaWVzICE9IG51bGwpIHtcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIobWF4UmV0cmllcykpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ21heFJldHJpZXMnLFxuICAgICAgICB2YWx1ZTogbWF4UmV0cmllcyxcbiAgICAgICAgbWVzc2FnZTogJ21heFJldHJpZXMgbXVzdCBiZSBhbiBpbnRlZ2VyJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChtYXhSZXRyaWVzIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnbWF4UmV0cmllcycsXG4gICAgICAgIHZhbHVlOiBtYXhSZXRyaWVzLFxuICAgICAgICBtZXNzYWdlOiAnbWF4UmV0cmllcyBtdXN0IGJlID49IDAnLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbWF4UmV0cmllc1Jlc3VsdCA9IG1heFJldHJpZXMgPz8gMjtcblxuICByZXR1cm4ge1xuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNSZXN1bHQsXG4gICAgcmV0cnk6IHJldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZlJlc3BlY3RpbmdSZXRyeUhlYWRlcnMoe1xuICAgICAgbWF4UmV0cmllczogbWF4UmV0cmllc1Jlc3VsdCxcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgIH0pLFxuICB9O1xufVxuIiwgImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMkNvbnRlbnQsIExhbmd1YWdlTW9kZWxWMlRleHQgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RUZXh0Q29udGVudChcbiAgY29udGVudDogTGFuZ3VhZ2VNb2RlbFYyQ29udGVudFtdLFxuKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgcGFydHMgPSBjb250ZW50LmZpbHRlcihcbiAgICAoY29udGVudCk6IGNvbnRlbnQgaXMgTGFuZ3VhZ2VNb2RlbFYyVGV4dCA9PiBjb250ZW50LnR5cGUgPT09ICd0ZXh0JyxcbiAgKTtcblxuICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5tYXAoY29udGVudCA9PiBjb250ZW50LnRleHQpLmpvaW4oJycpO1xufVxuIiwgImltcG9ydCB7XG4gIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXksXG4gIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuXG4vKipcbiAqIEEgZ2VuZXJhdGVkIGZpbGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2VuZXJhdGVkRmlsZSB7XG4gIC8qKlxuRmlsZSBhcyBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cbiAgICAgKi9cbiAgcmVhZG9ubHkgYmFzZTY0OiBzdHJpbmc7XG5cbiAgLyoqXG5GaWxlIGFzIGEgVWludDhBcnJheS5cbiAgICAgKi9cbiAgcmVhZG9ubHkgdWludDhBcnJheTogVWludDhBcnJheTtcblxuICAvKipcblRoZSBJQU5BIG1lZGlhIHR5cGUgb2YgdGhlIGZpbGUuXG5cbkBzZWUgaHR0cHM6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvbWVkaWEtdHlwZXMvbWVkaWEtdHlwZXMueGh0bWxcbiAgICovXG4gIHJlYWRvbmx5IG1lZGlhVHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdEdlbmVyYXRlZEZpbGUgaW1wbGVtZW50cyBHZW5lcmF0ZWRGaWxlIHtcbiAgcHJpdmF0ZSBiYXNlNjREYXRhOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgdWludDhBcnJheURhdGE6IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQ7XG5cbiAgcmVhZG9ubHkgbWVkaWFUeXBlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGRhdGEsXG4gICAgbWVkaWFUeXBlLFxuICB9OiB7XG4gICAgZGF0YTogc3RyaW5nIHwgVWludDhBcnJheTtcbiAgICBtZWRpYVR5cGU6IHN0cmluZztcbiAgfSkge1xuICAgIGNvbnN0IGlzVWludDhBcnJheSA9IGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5O1xuICAgIHRoaXMuYmFzZTY0RGF0YSA9IGlzVWludDhBcnJheSA/IHVuZGVmaW5lZCA6IGRhdGE7XG4gICAgdGhpcy51aW50OEFycmF5RGF0YSA9IGlzVWludDhBcnJheSA/IGRhdGEgOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5tZWRpYVR5cGUgPSBtZWRpYVR5cGU7XG4gIH1cblxuICAvLyBsYXp5IGNvbnZlcnNpb24gd2l0aCBjYWNoaW5nIHRvIGF2b2lkIHVubmVjZXNzYXJ5IGNvbnZlcnNpb24gb3ZlcmhlYWQ6XG4gIGdldCBiYXNlNjQoKSB7XG4gICAgaWYgKHRoaXMuYmFzZTY0RGF0YSA9PSBudWxsKSB7XG4gICAgICB0aGlzLmJhc2U2NERhdGEgPSBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0KHRoaXMudWludDhBcnJheURhdGEhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYmFzZTY0RGF0YTtcbiAgfVxuXG4gIC8vIGxhenkgY29udmVyc2lvbiB3aXRoIGNhY2hpbmcgdG8gYXZvaWQgdW5uZWNlc3NhcnkgY29udmVyc2lvbiBvdmVyaGVhZDpcbiAgZ2V0IHVpbnQ4QXJyYXkoKSB7XG4gICAgaWYgKHRoaXMudWludDhBcnJheURhdGEgPT0gbnVsbCkge1xuICAgICAgdGhpcy51aW50OEFycmF5RGF0YSA9IGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkodGhpcy5iYXNlNjREYXRhISk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnVpbnQ4QXJyYXlEYXRhO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0R2VuZXJhdGVkRmlsZVdpdGhUeXBlIGV4dGVuZHMgRGVmYXVsdEdlbmVyYXRlZEZpbGUge1xuICByZWFkb25seSB0eXBlID0gJ2ZpbGUnO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHsgZGF0YTogc3RyaW5nIHwgVWludDhBcnJheTsgbWVkaWFUeXBlOiBzdHJpbmcgfSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFYyVG9vbENhbGwgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGFzU2NoZW1hLFxuICBNb2RlbE1lc3NhZ2UsXG4gIHNhZmVQYXJzZUpTT04sXG4gIHNhZmVWYWxpZGF0ZVR5cGVzLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IEludmFsaWRUb29sSW5wdXRFcnJvciB9IGZyb20gJy4uL2Vycm9yL2ludmFsaWQtdG9vbC1pbnB1dC1lcnJvcic7XG5pbXBvcnQgeyBOb1N1Y2hUb29sRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby1zdWNoLXRvb2wtZXJyb3InO1xuaW1wb3J0IHsgVG9vbENhbGxSZXBhaXJFcnJvciB9IGZyb20gJy4uL2Vycm9yL3Rvb2wtY2FsbC1yZXBhaXItZXJyb3InO1xuaW1wb3J0IHsgVHlwZWRUb29sQ2FsbCB9IGZyb20gJy4vdG9vbC1jYWxsJztcbmltcG9ydCB7IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb24gfSBmcm9tICcuL3Rvb2wtY2FsbC1yZXBhaXItZnVuY3Rpb24nO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4vdG9vbC1zZXQnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VUb29sQ2FsbDxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgdG9vbENhbGwsXG4gIHRvb2xzLFxuICByZXBhaXJUb29sQ2FsbCxcbiAgc3lzdGVtLFxuICBtZXNzYWdlcyxcbn06IHtcbiAgdG9vbENhbGw6IExhbmd1YWdlTW9kZWxWMlRvb2xDYWxsO1xuICB0b29sczogVE9PTFMgfCB1bmRlZmluZWQ7XG4gIHJlcGFpclRvb2xDYWxsOiBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uPFRPT0xTPiB8IHVuZGVmaW5lZDtcbiAgc3lzdGVtOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIG1lc3NhZ2VzOiBNb2RlbE1lc3NhZ2VbXTtcbn0pOiBQcm9taXNlPFR5cGVkVG9vbENhbGw8VE9PTFM+PiB7XG4gIHRyeSB7XG4gICAgaWYgKHRvb2xzID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hUb29sRXJyb3IoeyB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBkb1BhcnNlVG9vbENhbGwoeyB0b29sQ2FsbCwgdG9vbHMgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChcbiAgICAgICAgcmVwYWlyVG9vbENhbGwgPT0gbnVsbCB8fFxuICAgICAgICAhKFxuICAgICAgICAgIE5vU3VjaFRvb2xFcnJvci5pc0luc3RhbmNlKGVycm9yKSB8fFxuICAgICAgICAgIEludmFsaWRUb29sSW5wdXRFcnJvci5pc0luc3RhbmNlKGVycm9yKVxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIGxldCByZXBhaXJlZFRvb2xDYWxsOiBMYW5ndWFnZU1vZGVsVjJUb29sQ2FsbCB8IG51bGwgPSBudWxsO1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXBhaXJlZFRvb2xDYWxsID0gYXdhaXQgcmVwYWlyVG9vbENhbGwoe1xuICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgIGlucHV0U2NoZW1hOiAoeyB0b29sTmFtZSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGlucHV0U2NoZW1hIH0gPSB0b29sc1t0b29sTmFtZV07XG4gICAgICAgICAgICByZXR1cm4gYXNTY2hlbWEoaW5wdXRTY2hlbWEpLmpzb25TY2hlbWE7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgZXJyb3IsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAocmVwYWlyRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRvb2xDYWxsUmVwYWlyRXJyb3Ioe1xuICAgICAgICAgIGNhdXNlOiByZXBhaXJFcnJvcixcbiAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvcixcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIG5vIHJlcGFpcmVkIHRvb2wgY2FsbCByZXR1cm5lZFxuICAgICAgaWYgKHJlcGFpcmVkVG9vbENhbGwgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IGRvUGFyc2VUb29sQ2FsbCh7IHRvb2xDYWxsOiByZXBhaXJlZFRvb2xDYWxsLCB0b29scyB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gdXNlIHBhcnNlZCBpbnB1dCB3aGVuIHBvc3NpYmxlXG4gICAgY29uc3QgcGFyc2VkSW5wdXQgPSBhd2FpdCBzYWZlUGFyc2VKU09OKHsgdGV4dDogdG9vbENhbGwuaW5wdXQgfSk7XG4gICAgY29uc3QgaW5wdXQgPSBwYXJzZWRJbnB1dC5zdWNjZXNzID8gcGFyc2VkSW5wdXQudmFsdWUgOiB0b29sQ2FsbC5pbnB1dDtcblxuICAgIC8vIFRPRE8gQUkgU0RLIDY6IHNwZWNpYWwgaW52YWxpZCB0b29sIGNhbGwgcGFydHNcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3Rvb2wtY2FsbCcsXG4gICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgaW5wdXQsXG4gICAgICBkeW5hbWljOiB0cnVlLFxuICAgICAgaW52YWxpZDogdHJ1ZSxcbiAgICAgIGVycm9yLFxuICAgIH07XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZG9QYXJzZVRvb2xDYWxsPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4oe1xuICB0b29sQ2FsbCxcbiAgdG9vbHMsXG59OiB7XG4gIHRvb2xDYWxsOiBMYW5ndWFnZU1vZGVsVjJUb29sQ2FsbDtcbiAgdG9vbHM6IFRPT0xTO1xufSk6IFByb21pc2U8VHlwZWRUb29sQ2FsbDxUT09MUz4+IHtcbiAgY29uc3QgdG9vbE5hbWUgPSB0b29sQ2FsbC50b29sTmFtZSBhcyBrZXlvZiBUT09MUyAmIHN0cmluZztcblxuICBjb25zdCB0b29sID0gdG9vbHNbdG9vbE5hbWVdO1xuXG4gIGlmICh0b29sID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTm9TdWNoVG9vbEVycm9yKHtcbiAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgIGF2YWlsYWJsZVRvb2xzOiBPYmplY3Qua2V5cyh0b29scyksXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBzY2hlbWEgPSBhc1NjaGVtYSh0b29sLmlucHV0U2NoZW1hKTtcblxuICAvLyB3aGVuIHRoZSB0b29sIGNhbGwgaGFzIG5vIGFyZ3VtZW50cywgd2UgdHJ5IHBhc3NpbmcgYW4gZW1wdHkgb2JqZWN0IHRvIHRoZSBzY2hlbWFcbiAgLy8gKG1hbnkgTExNcyBnZW5lcmF0ZSBlbXB0eSBzdHJpbmdzIGZvciB0b29sIGNhbGxzIHdpdGggbm8gYXJndW1lbnRzKVxuICBjb25zdCBwYXJzZVJlc3VsdCA9XG4gICAgdG9vbENhbGwuaW5wdXQudHJpbSgpID09PSAnJ1xuICAgICAgPyBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlcyh7IHZhbHVlOiB7fSwgc2NoZW1hIH0pXG4gICAgICA6IGF3YWl0IHNhZmVQYXJzZUpTT04oeyB0ZXh0OiB0b29sQ2FsbC5pbnB1dCwgc2NoZW1hIH0pO1xuXG4gIGlmIChwYXJzZVJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkVG9vbElucHV0RXJyb3Ioe1xuICAgICAgdG9vbE5hbWUsXG4gICAgICB0b29sSW5wdXQ6IHRvb2xDYWxsLmlucHV0LFxuICAgICAgY2F1c2U6IHBhcnNlUmVzdWx0LmVycm9yLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHRvb2wudHlwZSA9PT0gJ2R5bmFtaWMnXG4gICAgPyB7XG4gICAgICAgIHR5cGU6ICd0b29sLWNhbGwnLFxuICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgIGlucHV0OiBwYXJzZVJlc3VsdC52YWx1ZSxcbiAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogdG9vbENhbGwucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogdG9vbENhbGwucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgZHluYW1pYzogdHJ1ZSxcbiAgICAgIH1cbiAgICA6IHtcbiAgICAgICAgdHlwZTogJ3Rvb2wtY2FsbCcsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgIHRvb2xOYW1lLFxuICAgICAgICBpbnB1dDogcGFyc2VSZXN1bHQudmFsdWUsXG4gICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHRvb2xDYWxsLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHRvb2xDYWxsLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICB9O1xufVxuIiwgImltcG9ydCB7IFJlYXNvbmluZ1BhcnQgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7XG4gIENhbGxXYXJuaW5nLFxuICBGaW5pc2hSZWFzb24sXG4gIExhbmd1YWdlTW9kZWxSZXF1ZXN0TWV0YWRhdGEsXG4gIExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhLFxuICBQcm92aWRlck1ldGFkYXRhLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBTb3VyY2UgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsVXNhZ2UgfSBmcm9tICcuLi90eXBlcy91c2FnZSc7XG5pbXBvcnQgeyBDb250ZW50UGFydCB9IGZyb20gJy4vY29udGVudC1wYXJ0JztcbmltcG9ydCB7IEdlbmVyYXRlZEZpbGUgfSBmcm9tICcuL2dlbmVyYXRlZC1maWxlJztcbmltcG9ydCB7IFJlc3BvbnNlTWVzc2FnZSB9IGZyb20gJy4vcmVzcG9uc2UtbWVzc2FnZSc7XG5pbXBvcnQgeyBEeW5hbWljVG9vbENhbGwsIFN0YXRpY1Rvb2xDYWxsLCBUeXBlZFRvb2xDYWxsIH0gZnJvbSAnLi90b29sLWNhbGwnO1xuaW1wb3J0IHtcbiAgRHluYW1pY1Rvb2xSZXN1bHQsXG4gIFN0YXRpY1Rvb2xSZXN1bHQsXG4gIFR5cGVkVG9vbFJlc3VsdCxcbn0gZnJvbSAnLi90b29sLXJlc3VsdCc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi90b29sLXNldCc7XG5cbi8qKlxuICogVGhlIHJlc3VsdCBvZiBhIHNpbmdsZSBzdGVwIGluIHRoZSBnZW5lcmF0aW9uIHByb2Nlc3MuXG4gKi9cbmV4cG9ydCB0eXBlIFN0ZXBSZXN1bHQ8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IHtcbiAgLyoqXG5UaGUgY29udGVudCB0aGF0IHdhcyBnZW5lcmF0ZWQgaW4gdGhlIGxhc3Qgc3RlcC5cbiAgICovXG4gIHJlYWRvbmx5IGNvbnRlbnQ6IEFycmF5PENvbnRlbnRQYXJ0PFRPT0xTPj47XG5cbiAgLyoqXG5UaGUgZ2VuZXJhdGVkIHRleHQuXG4qL1xuICByZWFkb25seSB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG5UaGUgcmVhc29uaW5nIHRoYXQgd2FzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGdlbmVyYXRpb24uXG4qL1xuICByZWFkb25seSByZWFzb25pbmc6IEFycmF5PFJlYXNvbmluZ1BhcnQ+O1xuXG4gIC8qKlxuVGhlIHJlYXNvbmluZyB0ZXh0IHRoYXQgd2FzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGdlbmVyYXRpb24uXG4qL1xuICByZWFkb25seSByZWFzb25pbmdUZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG5UaGUgZmlsZXMgdGhhdCB3ZXJlIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGdlbmVyYXRpb24uXG4qL1xuICByZWFkb25seSBmaWxlczogQXJyYXk8R2VuZXJhdGVkRmlsZT47XG5cbiAgLyoqXG5UaGUgc291cmNlcyB0aGF0IHdlcmUgdXNlZCB0byBnZW5lcmF0ZSB0aGUgdGV4dC5cbiovXG4gIHJlYWRvbmx5IHNvdXJjZXM6IEFycmF5PFNvdXJjZT47XG5cbiAgLyoqXG5UaGUgdG9vbCBjYWxscyB0aGF0IHdlcmUgbWFkZSBkdXJpbmcgdGhlIGdlbmVyYXRpb24uXG4qL1xuICByZWFkb25seSB0b29sQ2FsbHM6IEFycmF5PFR5cGVkVG9vbENhbGw8VE9PTFM+PjtcblxuICAvKipcblRoZSBzdGF0aWMgdG9vbCBjYWxscyB0aGF0IHdlcmUgbWFkZSBpbiB0aGUgbGFzdCBzdGVwLlxuKi9cbiAgcmVhZG9ubHkgc3RhdGljVG9vbENhbGxzOiBBcnJheTxTdGF0aWNUb29sQ2FsbDxUT09MUz4+O1xuXG4gIC8qKlxuVGhlIGR5bmFtaWMgdG9vbCBjYWxscyB0aGF0IHdlcmUgbWFkZSBpbiB0aGUgbGFzdCBzdGVwLlxuKi9cbiAgcmVhZG9ubHkgZHluYW1pY1Rvb2xDYWxsczogQXJyYXk8RHluYW1pY1Rvb2xDYWxsPjtcblxuICAvKipcblRoZSByZXN1bHRzIG9mIHRoZSB0b29sIGNhbGxzLlxuKi9cbiAgcmVhZG9ubHkgdG9vbFJlc3VsdHM6IEFycmF5PFR5cGVkVG9vbFJlc3VsdDxUT09MUz4+O1xuXG4gIC8qKlxuVGhlIHN0YXRpYyB0b29sIHJlc3VsdHMgdGhhdCB3ZXJlIG1hZGUgaW4gdGhlIGxhc3Qgc3RlcC5cbiovXG4gIHJlYWRvbmx5IHN0YXRpY1Rvb2xSZXN1bHRzOiBBcnJheTxTdGF0aWNUb29sUmVzdWx0PFRPT0xTPj47XG5cbiAgLyoqXG5UaGUgZHluYW1pYyB0b29sIHJlc3VsdHMgdGhhdCB3ZXJlIG1hZGUgaW4gdGhlIGxhc3Qgc3RlcC5cbiovXG4gIHJlYWRvbmx5IGR5bmFtaWNUb29sUmVzdWx0czogQXJyYXk8RHluYW1pY1Rvb2xSZXN1bHQ+O1xuXG4gIC8qKlxuVGhlIHJlYXNvbiB3aHkgdGhlIGdlbmVyYXRpb24gZmluaXNoZWQuXG4qL1xuICByZWFkb25seSBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcblxuICAvKipcblRoZSB0b2tlbiB1c2FnZSBvZiB0aGUgZ2VuZXJhdGVkIHRleHQuXG4qL1xuICByZWFkb25seSB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuXG4gIC8qKlxuV2FybmluZ3MgZnJvbSB0aGUgbW9kZWwgcHJvdmlkZXIgKGUuZy4gdW5zdXBwb3J0ZWQgc2V0dGluZ3MpLlxuKi9cbiAgcmVhZG9ubHkgd2FybmluZ3M6IENhbGxXYXJuaW5nW10gfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIHJlcXVlc3QgaW5mb3JtYXRpb24uXG4gICAqL1xuICByZWFkb25seSByZXF1ZXN0OiBMYW5ndWFnZU1vZGVsUmVxdWVzdE1ldGFkYXRhO1xuXG4gIC8qKlxuQWRkaXRpb25hbCByZXNwb25zZSBpbmZvcm1hdGlvbi5cbiovXG4gIHJlYWRvbmx5IHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSAmIHtcbiAgICAvKipcblRoZSByZXNwb25zZSBtZXNzYWdlcyB0aGF0IHdlcmUgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY2FsbC5cblJlc3BvbnNlIG1lc3NhZ2VzIGNhbiBiZSBlaXRoZXIgYXNzaXN0YW50IG1lc3NhZ2VzIG9yIHRvb2wgbWVzc2FnZXMuXG5UaGV5IGNvbnRhaW4gYSBnZW5lcmF0ZWQgaWQuXG4qL1xuICAgIHJlYWRvbmx5IG1lc3NhZ2VzOiBBcnJheTxSZXNwb25zZU1lc3NhZ2U+O1xuXG4gICAgLyoqXG5SZXNwb25zZSBib2R5IChhdmFpbGFibGUgb25seSBmb3IgcHJvdmlkZXJzIHRoYXQgdXNlIEhUVFAgcmVxdWVzdHMpLlxuICAgICAqL1xuICAgIGJvZHk/OiB1bmtub3duO1xuICB9O1xuXG4gIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YS4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbmZyb20gdGhlIHByb3ZpZGVyIHRvIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xucmVzdWx0cyB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICAgKi9cbiAgcmVhZG9ubHkgcHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0U3RlcFJlc3VsdDxUT09MUyBleHRlbmRzIFRvb2xTZXQ+XG4gIGltcGxlbWVudHMgU3RlcFJlc3VsdDxUT09MUz5cbntcbiAgcmVhZG9ubHkgY29udGVudDogU3RlcFJlc3VsdDxUT09MUz5bJ2NvbnRlbnQnXTtcbiAgcmVhZG9ubHkgZmluaXNoUmVhc29uOiBTdGVwUmVzdWx0PFRPT0xTPlsnZmluaXNoUmVhc29uJ107XG4gIHJlYWRvbmx5IHVzYWdlOiBTdGVwUmVzdWx0PFRPT0xTPlsndXNhZ2UnXTtcbiAgcmVhZG9ubHkgd2FybmluZ3M6IFN0ZXBSZXN1bHQ8VE9PTFM+Wyd3YXJuaW5ncyddO1xuICByZWFkb25seSByZXF1ZXN0OiBTdGVwUmVzdWx0PFRPT0xTPlsncmVxdWVzdCddO1xuICByZWFkb25seSByZXNwb25zZTogU3RlcFJlc3VsdDxUT09MUz5bJ3Jlc3BvbnNlJ107XG4gIHJlYWRvbmx5IHByb3ZpZGVyTWV0YWRhdGE6IFN0ZXBSZXN1bHQ8VE9PTFM+Wydwcm92aWRlck1ldGFkYXRhJ107XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGNvbnRlbnQsXG4gICAgZmluaXNoUmVhc29uLFxuICAgIHVzYWdlLFxuICAgIHdhcm5pbmdzLFxuICAgIHJlcXVlc3QsXG4gICAgcmVzcG9uc2UsXG4gICAgcHJvdmlkZXJNZXRhZGF0YSxcbiAgfToge1xuICAgIGNvbnRlbnQ6IFN0ZXBSZXN1bHQ8VE9PTFM+Wydjb250ZW50J107XG4gICAgZmluaXNoUmVhc29uOiBTdGVwUmVzdWx0PFRPT0xTPlsnZmluaXNoUmVhc29uJ107XG4gICAgdXNhZ2U6IFN0ZXBSZXN1bHQ8VE9PTFM+Wyd1c2FnZSddO1xuICAgIHdhcm5pbmdzOiBTdGVwUmVzdWx0PFRPT0xTPlsnd2FybmluZ3MnXTtcbiAgICByZXF1ZXN0OiBTdGVwUmVzdWx0PFRPT0xTPlsncmVxdWVzdCddO1xuICAgIHJlc3BvbnNlOiBTdGVwUmVzdWx0PFRPT0xTPlsncmVzcG9uc2UnXTtcbiAgICBwcm92aWRlck1ldGFkYXRhOiBTdGVwUmVzdWx0PFRPT0xTPlsncHJvdmlkZXJNZXRhZGF0YSddO1xuICB9KSB7XG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgICB0aGlzLmZpbmlzaFJlYXNvbiA9IGZpbmlzaFJlYXNvbjtcbiAgICB0aGlzLnVzYWdlID0gdXNhZ2U7XG4gICAgdGhpcy53YXJuaW5ncyA9IHdhcm5pbmdzO1xuICAgIHRoaXMucmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IHByb3ZpZGVyTWV0YWRhdGE7XG4gIH1cblxuICBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50XG4gICAgICAuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlID09PSAndGV4dCcpXG4gICAgICAubWFwKHBhcnQgPT4gcGFydC50ZXh0KVxuICAgICAgLmpvaW4oJycpO1xuICB9XG5cbiAgZ2V0IHJlYXNvbmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ3JlYXNvbmluZycpO1xuICB9XG5cbiAgZ2V0IHJlYXNvbmluZ1RleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhc29uaW5nLmxlbmd0aCA9PT0gMFxuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDogdGhpcy5yZWFzb25pbmcubWFwKHBhcnQgPT4gcGFydC50ZXh0KS5qb2luKCcnKTtcbiAgfVxuXG4gIGdldCBmaWxlcygpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50XG4gICAgICAuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlID09PSAnZmlsZScpXG4gICAgICAubWFwKHBhcnQgPT4gcGFydC5maWxlKTtcbiAgfVxuXG4gIGdldCBzb3VyY2VzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlID09PSAnc291cmNlJyk7XG4gIH1cblxuICBnZXQgdG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlID09PSAndG9vbC1jYWxsJyk7XG4gIH1cblxuICBnZXQgc3RhdGljVG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xDYWxscy5maWx0ZXIoXG4gICAgICAodG9vbENhbGwpOiB0b29sQ2FsbCBpcyBTdGF0aWNUb29sQ2FsbDxUT09MUz4gPT5cbiAgICAgICAgdG9vbENhbGwuZHluYW1pYyA9PT0gZmFsc2UsXG4gICAgKTtcbiAgfVxuXG4gIGdldCBkeW5hbWljVG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xDYWxscy5maWx0ZXIoXG4gICAgICAodG9vbENhbGwpOiB0b29sQ2FsbCBpcyBEeW5hbWljVG9vbENhbGwgPT4gdG9vbENhbGwuZHluYW1pYyA9PT0gdHJ1ZSxcbiAgICApO1xuICB9XG5cbiAgZ2V0IHRvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlID09PSAndG9vbC1yZXN1bHQnKTtcbiAgfVxuXG4gIGdldCBzdGF0aWNUb29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy50b29sUmVzdWx0cy5maWx0ZXIoXG4gICAgICAodG9vbFJlc3VsdCk6IHRvb2xSZXN1bHQgaXMgU3RhdGljVG9vbFJlc3VsdDxUT09MUz4gPT5cbiAgICAgICAgdG9vbFJlc3VsdC5keW5hbWljID09PSBmYWxzZSxcbiAgICApO1xuICB9XG5cbiAgZ2V0IGR5bmFtaWNUb29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy50b29sUmVzdWx0cy5maWx0ZXIoXG4gICAgICAodG9vbFJlc3VsdCk6IHRvb2xSZXN1bHQgaXMgRHluYW1pY1Rvb2xSZXN1bHQgPT5cbiAgICAgICAgdG9vbFJlc3VsdC5keW5hbWljID09PSB0cnVlLFxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBTdGVwUmVzdWx0IH0gZnJvbSAnLi9zdGVwLXJlc3VsdCc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi90b29sLXNldCc7XG5cbmV4cG9ydCB0eXBlIFN0b3BDb25kaXRpb248VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IChvcHRpb25zOiB7XG4gIHN0ZXBzOiBBcnJheTxTdGVwUmVzdWx0PFRPT0xTPj47XG59KSA9PiBQcm9taXNlTGlrZTxib29sZWFuPiB8IGJvb2xlYW47XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGVwQ291bnRJcyhzdGVwQ291bnQ6IG51bWJlcik6IFN0b3BDb25kaXRpb248YW55PiB7XG4gIHJldHVybiAoeyBzdGVwcyB9KSA9PiBzdGVwcy5sZW5ndGggPT09IHN0ZXBDb3VudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1Rvb2xDYWxsKHRvb2xOYW1lOiBzdHJpbmcpOiBTdG9wQ29uZGl0aW9uPGFueT4ge1xuICByZXR1cm4gKHsgc3RlcHMgfSkgPT5cbiAgICBzdGVwc1tzdGVwcy5sZW5ndGggLSAxXT8udG9vbENhbGxzPy5zb21lKFxuICAgICAgdG9vbENhbGwgPT4gdG9vbENhbGwudG9vbE5hbWUgPT09IHRvb2xOYW1lLFxuICAgICkgPz8gZmFsc2U7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpc1N0b3BDb25kaXRpb25NZXQ8VE9PTFMgZXh0ZW5kcyBUb29sU2V0Pih7XG4gIHN0b3BDb25kaXRpb25zLFxuICBzdGVwcyxcbn06IHtcbiAgc3RvcENvbmRpdGlvbnM6IEFycmF5PFN0b3BDb25kaXRpb248VE9PTFM+PjtcbiAgc3RlcHM6IEFycmF5PFN0ZXBSZXN1bHQ8VE9PTFM+Pjtcbn0pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIChcbiAgICBhd2FpdCBQcm9taXNlLmFsbChzdG9wQ29uZGl0aW9ucy5tYXAoY29uZGl0aW9uID0+IGNvbmRpdGlvbih7IHN0ZXBzIH0pKSlcbiAgKS5zb21lKHJlc3VsdCA9PiByZXN1bHQpO1xufVxuIiwgImltcG9ydCB7XG4gIGdldEVycm9yTWVzc2FnZSxcbiAgSlNPTlZhbHVlLFxuICBMYW5ndWFnZU1vZGVsVjJUb29sUmVzdWx0T3V0cHV0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFRvb2wgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRvb2xNb2RlbE91dHB1dCh7XG4gIG91dHB1dCxcbiAgdG9vbCxcbiAgZXJyb3JNb2RlLFxufToge1xuICBvdXRwdXQ6IHVua25vd247XG4gIHRvb2w6IFRvb2wgfCB1bmRlZmluZWQ7XG4gIGVycm9yTW9kZTogJ25vbmUnIHwgJ3RleHQnIHwgJ2pzb24nO1xufSk6IExhbmd1YWdlTW9kZWxWMlRvb2xSZXN1bHRPdXRwdXQge1xuICBpZiAoZXJyb3JNb2RlID09PSAndGV4dCcpIHtcbiAgICByZXR1cm4geyB0eXBlOiAnZXJyb3ItdGV4dCcsIHZhbHVlOiBnZXRFcnJvck1lc3NhZ2Uob3V0cHV0KSB9O1xuICB9IGVsc2UgaWYgKGVycm9yTW9kZSA9PT0gJ2pzb24nKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogJ2Vycm9yLWpzb24nLCB2YWx1ZTogdG9KU09OVmFsdWUob3V0cHV0KSB9O1xuICB9XG5cbiAgaWYgKHRvb2w/LnRvTW9kZWxPdXRwdXQpIHtcbiAgICByZXR1cm4gdG9vbC50b01vZGVsT3V0cHV0KG91dHB1dCk7XG4gIH1cblxuICByZXR1cm4gdHlwZW9mIG91dHB1dCA9PT0gJ3N0cmluZydcbiAgICA/IHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogb3V0cHV0IH1cbiAgICA6IHsgdHlwZTogJ2pzb24nLCB2YWx1ZTogdG9KU09OVmFsdWUob3V0cHV0KSB9O1xufVxuXG5mdW5jdGlvbiB0b0pTT05WYWx1ZSh2YWx1ZTogdW5rbm93bik6IEpTT05WYWx1ZSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6ICh2YWx1ZSBhcyBKU09OVmFsdWUpO1xufVxuIiwgImltcG9ydCB7XG4gIEFzc2lzdGFudENvbnRlbnQsXG4gIEFzc2lzdGFudE1vZGVsTWVzc2FnZSxcbiAgVG9vbENvbnRlbnQsXG4gIFRvb2xNb2RlbE1lc3NhZ2UsXG59IGZyb20gJy4uL3Byb21wdCc7XG5pbXBvcnQgeyBjcmVhdGVUb29sTW9kZWxPdXRwdXQgfSBmcm9tICcuLi9wcm9tcHQvY3JlYXRlLXRvb2wtbW9kZWwtb3V0cHV0JztcbmltcG9ydCB7IENvbnRlbnRQYXJ0IH0gZnJvbSAnLi9jb250ZW50LXBhcnQnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4vdG9vbC1zZXQnO1xuXG4vKipcbkNvbnZlcnRzIHRoZSByZXN1bHQgb2YgYSBgZ2VuZXJhdGVUZXh0YCBvciBgc3RyZWFtVGV4dGAgY2FsbCB0byBhIGxpc3Qgb2YgcmVzcG9uc2UgbWVzc2FnZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1Jlc3BvbnNlTWVzc2FnZXM8VE9PTFMgZXh0ZW5kcyBUb29sU2V0Pih7XG4gIGNvbnRlbnQ6IGlucHV0Q29udGVudCxcbiAgdG9vbHMsXG59OiB7XG4gIGNvbnRlbnQ6IEFycmF5PENvbnRlbnRQYXJ0PFRPT0xTPj47XG4gIHRvb2xzOiBUT09MUyB8IHVuZGVmaW5lZDtcbn0pOiBBcnJheTxBc3Npc3RhbnRNb2RlbE1lc3NhZ2UgfCBUb29sTW9kZWxNZXNzYWdlPiB7XG4gIGNvbnN0IHJlc3BvbnNlTWVzc2FnZXM6IEFycmF5PEFzc2lzdGFudE1vZGVsTWVzc2FnZSB8IFRvb2xNb2RlbE1lc3NhZ2U+ID0gW107XG5cbiAgY29uc3QgY29udGVudDogQXNzaXN0YW50Q29udGVudCA9IGlucHV0Q29udGVudFxuICAgIC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgIT09ICdzb3VyY2UnKVxuICAgIC5maWx0ZXIoXG4gICAgICBwYXJ0ID0+XG4gICAgICAgIChwYXJ0LnR5cGUgIT09ICd0b29sLXJlc3VsdCcgfHwgcGFydC5wcm92aWRlckV4ZWN1dGVkKSAmJlxuICAgICAgICAocGFydC50eXBlICE9PSAndG9vbC1lcnJvcicgfHwgcGFydC5wcm92aWRlckV4ZWN1dGVkKSxcbiAgICApXG4gICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSAhPT0gJ3RleHQnIHx8IHBhcnQudGV4dC5sZW5ndGggPiAwKVxuICAgIC5tYXAocGFydCA9PiB7XG4gICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgdGV4dDogcGFydC50ZXh0LFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAncmVhc29uaW5nJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZycsXG4gICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdmaWxlJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICAgICAgZGF0YTogcGFydC5maWxlLmJhc2U2NCxcbiAgICAgICAgICAgIG1lZGlhVHlwZTogcGFydC5maWxlLm1lZGlhVHlwZSxcbiAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ3Rvb2wtY2FsbCc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICd0b29sLWNhbGwnLFxuICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICBpbnB1dDogcGFydC5pbnB1dCxcbiAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHBhcnQucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ3Rvb2wtcmVzdWx0JzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyxcbiAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgb3V0cHV0OiBjcmVhdGVUb29sTW9kZWxPdXRwdXQoe1xuICAgICAgICAgICAgICB0b29sOiB0b29scz8uW3BhcnQudG9vbE5hbWVdLFxuICAgICAgICAgICAgICBvdXRwdXQ6IHBhcnQub3V0cHV0LFxuICAgICAgICAgICAgICBlcnJvck1vZGU6ICdub25lJyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ3Rvb2wtZXJyb3InOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICBvdXRwdXQ6IGNyZWF0ZVRvb2xNb2RlbE91dHB1dCh7XG4gICAgICAgICAgICAgIHRvb2w6IHRvb2xzPy5bcGFydC50b29sTmFtZV0sXG4gICAgICAgICAgICAgIG91dHB1dDogcGFydC5lcnJvcixcbiAgICAgICAgICAgICAgZXJyb3JNb2RlOiAnanNvbicsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgIHJlc3BvbnNlTWVzc2FnZXMucHVzaCh7XG4gICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgIGNvbnRlbnQsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCB0b29sUmVzdWx0Q29udGVudDogVG9vbENvbnRlbnQgPSBpbnB1dENvbnRlbnRcbiAgICAuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlID09PSAndG9vbC1yZXN1bHQnIHx8IHBhcnQudHlwZSA9PT0gJ3Rvb2wtZXJyb3InKVxuICAgIC5maWx0ZXIocGFydCA9PiAhcGFydC5wcm92aWRlckV4ZWN1dGVkKVxuICAgIC5tYXAodG9vbFJlc3VsdCA9PiAoe1xuICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyxcbiAgICAgIHRvb2xDYWxsSWQ6IHRvb2xSZXN1bHQudG9vbENhbGxJZCxcbiAgICAgIHRvb2xOYW1lOiB0b29sUmVzdWx0LnRvb2xOYW1lLFxuICAgICAgb3V0cHV0OiBjcmVhdGVUb29sTW9kZWxPdXRwdXQoe1xuICAgICAgICB0b29sOiB0b29scz8uW3Rvb2xSZXN1bHQudG9vbE5hbWVdLFxuICAgICAgICBvdXRwdXQ6XG4gICAgICAgICAgdG9vbFJlc3VsdC50eXBlID09PSAndG9vbC1yZXN1bHQnXG4gICAgICAgICAgICA/IHRvb2xSZXN1bHQub3V0cHV0XG4gICAgICAgICAgICA6IHRvb2xSZXN1bHQuZXJyb3IsXG4gICAgICAgIGVycm9yTW9kZTogdG9vbFJlc3VsdC50eXBlID09PSAndG9vbC1lcnJvcicgPyAndGV4dCcgOiAnbm9uZScsXG4gICAgICB9KSxcbiAgICB9KSk7XG5cbiAgaWYgKHRvb2xSZXN1bHRDb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICByZXNwb25zZU1lc3NhZ2VzLnB1c2goe1xuICAgICAgcm9sZTogJ3Rvb2wnLFxuICAgICAgY29udGVudDogdG9vbFJlc3VsdENvbnRlbnQsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2VNZXNzYWdlcztcbn1cbiIsICJkZWNsYXJlIGNvbnN0IF9fUEFDS0FHRV9WRVJTSU9OX186IHN0cmluZyB8IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBWRVJTSU9OOiBzdHJpbmcgPVxuICB0eXBlb2YgX19QQUNLQUdFX1ZFUlNJT05fXyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IF9fUEFDS0FHRV9WRVJTSU9OX19cbiAgICA6ICcwLjAuMC10ZXN0JztcbiIsICJpbXBvcnQge1xuICBnZXRFcnJvck1lc3NhZ2UsXG4gIExhbmd1YWdlTW9kZWxWMixcbiAgTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmcsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgY3JlYXRlSWRHZW5lcmF0b3IsXG4gIElkR2VuZXJhdG9yLFxuICBpc0Fib3J0RXJyb3IsXG4gIFByb3ZpZGVyT3B0aW9ucyxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBTcGFuIH0gZnJvbSAnQG9wZW50ZWxlbWV0cnkvYXBpJztcbmltcG9ydCB7IFNlcnZlclJlc3BvbnNlIH0gZnJvbSAnbm9kZTpodHRwJztcbmltcG9ydCB7IE5vT3V0cHV0R2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvcic7XG5pbXBvcnQgeyBOb091dHB1dFNwZWNpZmllZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tb3V0cHV0LXNwZWNpZmllZC1lcnJvcic7XG5pbXBvcnQgeyBsb2dXYXJuaW5ncyB9IGZyb20gJy4uL2xvZ2dlci9sb2ctd2FybmluZ3MnO1xuaW1wb3J0IHsgcmVzb2x2ZUxhbmd1YWdlTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9yZXNvbHZlLW1vZGVsJztcbmltcG9ydCB7IENhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvY29udmVydC10by1sYW5ndWFnZS1tb2RlbC1wcm9tcHQnO1xuaW1wb3J0IHsgcHJlcGFyZUNhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9wcmVwYXJlLWNhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgcHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZSB9IGZyb20gJy4uL3Byb21wdC9wcmVwYXJlLXRvb2xzLWFuZC10b29sLWNob2ljZSc7XG5pbXBvcnQgeyBQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvcHJvbXB0JztcbmltcG9ydCB7IHN0YW5kYXJkaXplUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3N0YW5kYXJkaXplLXByb21wdCc7XG5pbXBvcnQgeyB3cmFwR2F0ZXdheUVycm9yIH0gZnJvbSAnLi4vcHJvbXB0L3dyYXAtZ2F0ZXdheS1lcnJvcic7XG5pbXBvcnQgeyBhc3NlbWJsZU9wZXJhdGlvbk5hbWUgfSBmcm9tICcuLi90ZWxlbWV0cnkvYXNzZW1ibGUtb3BlcmF0aW9uLW5hbWUnO1xuaW1wb3J0IHsgZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgZ2V0VHJhY2VyIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC10cmFjZXInO1xuaW1wb3J0IHsgcmVjb3JkU3BhbiB9IGZyb20gJy4uL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbic7XG5pbXBvcnQgeyBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBzdHJpbmdpZnlGb3JUZWxlbWV0cnkgfSBmcm9tICcuLi90ZWxlbWV0cnkvc3RyaW5naWZ5LWZvci10ZWxlbWV0cnknO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7IGNyZWF0ZVRleHRTdHJlYW1SZXNwb25zZSB9IGZyb20gJy4uL3RleHQtc3RyZWFtL2NyZWF0ZS10ZXh0LXN0cmVhbS1yZXNwb25zZSc7XG5pbXBvcnQgeyBwaXBlVGV4dFN0cmVhbVRvUmVzcG9uc2UgfSBmcm9tICcuLi90ZXh0LXN0cmVhbS9waXBlLXRleHQtc3RyZWFtLXRvLXJlc3BvbnNlJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxSZXF1ZXN0TWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge1xuICBDYWxsV2FybmluZyxcbiAgRmluaXNoUmVhc29uLFxuICBMYW5ndWFnZU1vZGVsLFxuICBUb29sQ2hvaWNlLFxufSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHsgYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlLCBMYW5ndWFnZU1vZGVsVXNhZ2UgfSBmcm9tICcuLi90eXBlcy91c2FnZSc7XG5pbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuLi91aSc7XG5pbXBvcnQgeyBjcmVhdGVVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZSB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL2NyZWF0ZS11aS1tZXNzYWdlLXN0cmVhbS1yZXNwb25zZSc7XG5pbXBvcnQgeyBnZXRSZXNwb25zZVVJTWVzc2FnZUlkIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vZ2V0LXJlc3BvbnNlLXVpLW1lc3NhZ2UtaWQnO1xuaW1wb3J0IHsgaGFuZGxlVUlNZXNzYWdlU3RyZWFtRmluaXNoIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vaGFuZGxlLXVpLW1lc3NhZ2Utc3RyZWFtLWZpbmlzaCc7XG5pbXBvcnQgeyBwaXBlVUlNZXNzYWdlU3RyZWFtVG9SZXNwb25zZSB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3BpcGUtdWktbWVzc2FnZS1zdHJlYW0tdG8tcmVzcG9uc2UnO1xuaW1wb3J0IHtcbiAgSW5mZXJVSU1lc3NhZ2VDaHVuayxcbiAgVUlNZXNzYWdlQ2h1bmssXG59IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IFVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlSW5pdCB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2Utc3RyZWFtLXJlc3BvbnNlLWluaXQnO1xuaW1wb3J0IHsgSW5mZXJVSU1lc3NhZ2VEYXRhLCBJbmZlclVJTWVzc2FnZU1ldGFkYXRhIH0gZnJvbSAnLi4vdWkvdWktbWVzc2FnZXMnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJy4uL3V0aWwvYXMtYXJyYXknO1xuaW1wb3J0IHtcbiAgQXN5bmNJdGVyYWJsZVN0cmVhbSxcbiAgY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbSxcbn0gZnJvbSAnLi4vdXRpbC9hc3luYy1pdGVyYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgY29uc3VtZVN0cmVhbSB9IGZyb20gJy4uL3V0aWwvY29uc3VtZS1zdHJlYW0nO1xuaW1wb3J0IHsgY3JlYXRlU3RpdGNoYWJsZVN0cmVhbSB9IGZyb20gJy4uL3V0aWwvY3JlYXRlLXN0aXRjaGFibGUtc3RyZWFtJztcbmltcG9ydCB7IERlbGF5ZWRQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9kZWxheWVkLXByb21pc2UnO1xuaW1wb3J0IHsgRG93bmxvYWRGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZnVuY3Rpb24nO1xuaW1wb3J0IHsgbm93IGFzIG9yaWdpbmFsTm93IH0gZnJvbSAnLi4vdXRpbC9ub3cnO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBDb250ZW50UGFydCB9IGZyb20gJy4vY29udGVudC1wYXJ0JztcbmltcG9ydCB7IE91dHB1dCB9IGZyb20gJy4vb3V0cHV0JztcbmltcG9ydCB7IFByZXBhcmVTdGVwRnVuY3Rpb24gfSBmcm9tICcuL3ByZXBhcmUtc3RlcCc7XG5pbXBvcnQgeyBSZXNwb25zZU1lc3NhZ2UgfSBmcm9tICcuL3Jlc3BvbnNlLW1lc3NhZ2UnO1xuaW1wb3J0IHtcbiAgcnVuVG9vbHNUcmFuc2Zvcm1hdGlvbixcbiAgU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0LFxufSBmcm9tICcuL3J1bi10b29scy10cmFuc2Zvcm1hdGlvbic7XG5pbXBvcnQgeyBEZWZhdWx0U3RlcFJlc3VsdCwgU3RlcFJlc3VsdCB9IGZyb20gJy4vc3RlcC1yZXN1bHQnO1xuaW1wb3J0IHtcbiAgaXNTdG9wQ29uZGl0aW9uTWV0LFxuICBzdGVwQ291bnRJcyxcbiAgU3RvcENvbmRpdGlvbixcbn0gZnJvbSAnLi9zdG9wLWNvbmRpdGlvbic7XG5pbXBvcnQge1xuICBDb25zdW1lU3RyZWFtT3B0aW9ucyxcbiAgU3RyZWFtVGV4dFJlc3VsdCxcbiAgVGV4dFN0cmVhbVBhcnQsXG4gIFVJTWVzc2FnZVN0cmVhbU9wdGlvbnMsXG59IGZyb20gJy4vc3RyZWFtLXRleHQtcmVzdWx0JztcbmltcG9ydCB7IHRvUmVzcG9uc2VNZXNzYWdlcyB9IGZyb20gJy4vdG8tcmVzcG9uc2UtbWVzc2FnZXMnO1xuaW1wb3J0IHsgVHlwZWRUb29sQ2FsbCB9IGZyb20gJy4vdG9vbC1jYWxsJztcbmltcG9ydCB7IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb24gfSBmcm9tICcuL3Rvb2wtY2FsbC1yZXBhaXItZnVuY3Rpb24nO1xuaW1wb3J0IHsgVG9vbE91dHB1dCB9IGZyb20gJy4vdG9vbC1vdXRwdXQnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4vdG9vbC1zZXQnO1xuXG5jb25zdCBvcmlnaW5hbEdlbmVyYXRlSWQgPSBjcmVhdGVJZEdlbmVyYXRvcih7XG4gIHByZWZpeDogJ2FpdHh0JyxcbiAgc2l6ZTogMjQsXG59KTtcblxuLyoqXG5BIHRyYW5zZm9ybWF0aW9uIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgc3RyZWFtLlxuXG5AcGFyYW0gc3RvcFN0cmVhbSAtIEEgZnVuY3Rpb24gdGhhdCBzdG9wcyB0aGUgc291cmNlIHN0cmVhbS5cbkBwYXJhbSB0b29scyAtIFRoZSB0b29scyB0aGF0IGFyZSBhY2Nlc3NpYmxlIHRvIGFuZCBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVGV4dFRyYW5zZm9ybTxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID0gKG9wdGlvbnM6IHtcbiAgdG9vbHM6IFRPT0xTOyAvLyBmb3IgdHlwZSBpbmZlcmVuY2VcbiAgc3RvcFN0cmVhbTogKCkgPT4gdm9pZDtcbn0pID0+IFRyYW5zZm9ybVN0cmVhbTxUZXh0U3RyZWFtUGFydDxUT09MUz4sIFRleHRTdHJlYW1QYXJ0PFRPT0xTPj47XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvbkVycm9yYCBvcHRpb24uXG5cbkBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVRleHRPbkVycm9yQ2FsbGJhY2sgPSAoZXZlbnQ6IHtcbiAgZXJyb3I6IHVua25vd247XG59KSA9PiBQcm9taXNlTGlrZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvblN0ZXBGaW5pc2hgIG9wdGlvbi5cblxuQHBhcmFtIHN0ZXBSZXN1bHQgLSBUaGUgcmVzdWx0IG9mIHRoZSBzdGVwLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1UZXh0T25TdGVwRmluaXNoQ2FsbGJhY2s8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IChcbiAgc3RlcFJlc3VsdDogU3RlcFJlc3VsdDxUT09MUz4sXG4pID0+IFByb21pc2VMaWtlPHZvaWQ+IHwgdm9pZDtcblxuLyoqXG5DYWxsYmFjayB0aGF0IGlzIHNldCB1c2luZyB0aGUgYG9uQ2h1bmtgIG9wdGlvbi5cblxuQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVGV4dE9uQ2h1bmtDYWxsYmFjazxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID0gKGV2ZW50OiB7XG4gIGNodW5rOiBFeHRyYWN0PFxuICAgIFRleHRTdHJlYW1QYXJ0PFRPT0xTPixcbiAgICB7XG4gICAgICB0eXBlOlxuICAgICAgICB8ICd0ZXh0LWRlbHRhJ1xuICAgICAgICB8ICdyZWFzb25pbmctZGVsdGEnXG4gICAgICAgIHwgJ3NvdXJjZSdcbiAgICAgICAgfCAndG9vbC1jYWxsJ1xuICAgICAgICB8ICd0b29sLWlucHV0LXN0YXJ0J1xuICAgICAgICB8ICd0b29sLWlucHV0LWRlbHRhJ1xuICAgICAgICB8ICd0b29sLXJlc3VsdCdcbiAgICAgICAgfCAncmF3JztcbiAgICB9XG4gID47XG59KSA9PiBQcm9taXNlTGlrZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvbkZpbmlzaGAgb3B0aW9uLlxuXG5AcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1UZXh0T25GaW5pc2hDYWxsYmFjazxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID0gKFxuICBldmVudDogU3RlcFJlc3VsdDxUT09MUz4gJiB7XG4gICAgLyoqXG5EZXRhaWxzIGZvciBhbGwgc3RlcHMuXG4gICAqL1xuICAgIHJlYWRvbmx5IHN0ZXBzOiBTdGVwUmVzdWx0PFRPT0xTPltdO1xuXG4gICAgLyoqXG5Ub3RhbCB1c2FnZSBmb3IgYWxsIHN0ZXBzLiBUaGlzIGlzIHRoZSBzdW0gb2YgdGhlIHVzYWdlIG9mIGFsbCBzdGVwcy5cbiAgICAgKi9cbiAgICByZWFkb25seSB0b3RhbFVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gIH0sXG4pID0+IFByb21pc2VMaWtlPHZvaWQ+IHwgdm9pZDtcblxuLyoqXG5DYWxsYmFjayB0aGF0IGlzIHNldCB1c2luZyB0aGUgYG9uQWJvcnRgIG9wdGlvbi5cblxuQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVGV4dE9uQWJvcnRDYWxsYmFjazxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID0gKGV2ZW50OiB7XG4gIC8qKlxuRGV0YWlscyBmb3IgYWxsIHByZXZpb3VzbHkgZmluaXNoZWQgc3RlcHMuXG4gICAqL1xuICByZWFkb25seSBzdGVwczogU3RlcFJlc3VsdDxUT09MUz5bXTtcbn0pID0+IFByb21pc2VMaWtlPHZvaWQ+IHwgdm9pZDtcblxuLyoqXG5HZW5lcmF0ZSBhIHRleHQgYW5kIGNhbGwgdG9vbHMgZm9yIGEgZ2l2ZW4gcHJvbXB0IHVzaW5nIGEgbGFuZ3VhZ2UgbW9kZWwuXG5cblRoaXMgZnVuY3Rpb24gc3RyZWFtcyB0aGUgb3V0cHV0LiBJZiB5b3UgZG8gbm90IHdhbnQgdG8gc3RyZWFtIHRoZSBvdXRwdXQsIHVzZSBgZ2VuZXJhdGVUZXh0YCBpbnN0ZWFkLlxuXG5AcGFyYW0gbW9kZWwgLSBUaGUgbGFuZ3VhZ2UgbW9kZWwgdG8gdXNlLlxuQHBhcmFtIHRvb2xzIC0gVG9vbHMgdGhhdCBhcmUgYWNjZXNzaWJsZSB0byBhbmQgY2FuIGJlIGNhbGxlZCBieSB0aGUgbW9kZWwuIFRoZSBtb2RlbCBuZWVkcyB0byBzdXBwb3J0IGNhbGxpbmcgdG9vbHMuXG5cbkBwYXJhbSBzeXN0ZW0gLSBBIHN5c3RlbSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBwYXJ0IG9mIHRoZSBwcm9tcHQuXG5AcGFyYW0gcHJvbXB0IC0gQSBzaW1wbGUgdGV4dCBwcm9tcHQuIFlvdSBjYW4gZWl0aGVyIHVzZSBgcHJvbXB0YCBvciBgbWVzc2FnZXNgIGJ1dCBub3QgYm90aC5cbkBwYXJhbSBtZXNzYWdlcyAtIEEgbGlzdCBvZiBtZXNzYWdlcy4gWW91IGNhbiBlaXRoZXIgdXNlIGBwcm9tcHRgIG9yIGBtZXNzYWdlc2AgYnV0IG5vdCBib3RoLlxuXG5AcGFyYW0gbWF4T3V0cHV0VG9rZW5zIC0gTWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIHRvIGdlbmVyYXRlLlxuQHBhcmFtIHRlbXBlcmF0dXJlIC0gVGVtcGVyYXR1cmUgc2V0dGluZy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5JdCBpcyByZWNvbW1lbmRlZCB0byBzZXQgZWl0aGVyIGB0ZW1wZXJhdHVyZWAgb3IgYHRvcFBgLCBidXQgbm90IGJvdGguXG5AcGFyYW0gdG9wUCAtIE51Y2xldXMgc2FtcGxpbmcuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGVpdGhlciBgdGVtcGVyYXR1cmVgIG9yIGB0b3BQYCwgYnV0IG5vdCBib3RoLlxuQHBhcmFtIHRvcEsgLSBPbmx5IHNhbXBsZSBmcm9tIHRoZSB0b3AgSyBvcHRpb25zIGZvciBlYWNoIHN1YnNlcXVlbnQgdG9rZW4uXG5Vc2VkIHRvIHJlbW92ZSBcImxvbmcgdGFpbFwiIGxvdyBwcm9iYWJpbGl0eSByZXNwb25zZXMuXG5SZWNvbW1lbmRlZCBmb3IgYWR2YW5jZWQgdXNlIGNhc2VzIG9ubHkuIFlvdSB1c3VhbGx5IG9ubHkgbmVlZCB0byB1c2UgdGVtcGVyYXR1cmUuXG5AcGFyYW0gcHJlc2VuY2VQZW5hbHR5IC0gUHJlc2VuY2UgcGVuYWx0eSBzZXR0aW5nLlxuSXQgYWZmZWN0cyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgdG8gcmVwZWF0IGluZm9ybWF0aW9uIHRoYXQgaXMgYWxyZWFkeSBpbiB0aGUgcHJvbXB0LlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkBwYXJhbSBmcmVxdWVuY3lQZW5hbHR5IC0gRnJlcXVlbmN5IHBlbmFsdHkgc2V0dGluZy5cbkl0IGFmZmVjdHMgdGhlIGxpa2VsaWhvb2Qgb2YgdGhlIG1vZGVsIHRvIHJlcGVhdGVkbHkgdXNlIHRoZSBzYW1lIHdvcmRzIG9yIHBocmFzZXMuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuQHBhcmFtIHN0b3BTZXF1ZW5jZXMgLSBTdG9wIHNlcXVlbmNlcy5cbklmIHNldCwgdGhlIG1vZGVsIHdpbGwgc3RvcCBnZW5lcmF0aW5nIHRleHQgd2hlbiBvbmUgb2YgdGhlIHN0b3Agc2VxdWVuY2VzIGlzIGdlbmVyYXRlZC5cbkBwYXJhbSBzZWVkIC0gVGhlIHNlZWQgKGludGVnZXIpIHRvIHVzZSBmb3IgcmFuZG9tIHNhbXBsaW5nLlxuSWYgc2V0IGFuZCBzdXBwb3J0ZWQgYnkgdGhlIG1vZGVsLCBjYWxscyB3aWxsIGdlbmVyYXRlIGRldGVybWluaXN0aWMgcmVzdWx0cy5cblxuQHBhcmFtIG1heFJldHJpZXMgLSBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuIERlZmF1bHQ6IDIuXG5AcGFyYW0gYWJvcnRTaWduYWwgLSBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGwuXG5AcGFyYW0gaGVhZGVycyAtIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cblxuQHBhcmFtIG1heFN0ZXBzIC0gTWF4aW11bSBudW1iZXIgb2Ygc2VxdWVudGlhbCBMTE0gY2FsbHMgKHN0ZXBzKSwgZS5nLiB3aGVuIHlvdSB1c2UgdG9vbCBjYWxscy5cblxuQHBhcmFtIG9uQ2h1bmsgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBmb3IgZWFjaCBjaHVuayBvZiB0aGUgc3RyZWFtLiBUaGUgc3RyZWFtIHByb2Nlc3Npbmcgd2lsbCBwYXVzZSB1bnRpbCB0aGUgY2FsbGJhY2sgcHJvbWlzZSBpcyByZXNvbHZlZC5cbkBwYXJhbSBvbkVycm9yIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIHN0cmVhbWluZy4gWW91IGNhbiB1c2UgaXQgdG8gbG9nIGVycm9ycy5cbkBwYXJhbSBvblN0ZXBGaW5pc2ggLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVhY2ggc3RlcCAoTExNIGNhbGwpIGlzIGZpbmlzaGVkLCBpbmNsdWRpbmcgaW50ZXJtZWRpYXRlIHN0ZXBzLlxuQHBhcmFtIG9uRmluaXNoIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgTExNIHJlc3BvbnNlIGFuZCBhbGwgcmVxdWVzdCB0b29sIGV4ZWN1dGlvbnNcbihmb3IgdG9vbHMgdGhhdCBoYXZlIGFuIGBleGVjdXRlYCBmdW5jdGlvbikgYXJlIGZpbmlzaGVkLlxuXG5AcmV0dXJuXG5BIHJlc3VsdCBvYmplY3QgZm9yIGFjY2Vzc2luZyBkaWZmZXJlbnQgc3RyZWFtIHR5cGVzIGFuZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyZWFtVGV4dDxcbiAgVE9PTFMgZXh0ZW5kcyBUb29sU2V0LFxuICBPVVRQVVQgPSBuZXZlcixcbiAgUEFSVElBTF9PVVRQVVQgPSBuZXZlcixcbj4oe1xuICBtb2RlbCxcbiAgdG9vbHMsXG4gIHRvb2xDaG9pY2UsXG4gIHN5c3RlbSxcbiAgcHJvbXB0LFxuICBtZXNzYWdlcyxcbiAgbWF4UmV0cmllcyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG4gIHN0b3BXaGVuID0gc3RlcENvdW50SXMoMSksXG4gIGV4cGVyaW1lbnRhbF9vdXRwdXQ6IG91dHB1dCxcbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxuICBwcmVwYXJlU3RlcCxcbiAgcHJvdmlkZXJPcHRpb25zLFxuICBleHBlcmltZW50YWxfYWN0aXZlVG9vbHMsXG4gIGFjdGl2ZVRvb2xzID0gZXhwZXJpbWVudGFsX2FjdGl2ZVRvb2xzLFxuICBleHBlcmltZW50YWxfcmVwYWlyVG9vbENhbGw6IHJlcGFpclRvb2xDYWxsLFxuICBleHBlcmltZW50YWxfdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gIGV4cGVyaW1lbnRhbF9kb3dubG9hZDogZG93bmxvYWQsXG4gIGluY2x1ZGVSYXdDaHVua3MgPSBmYWxzZSxcbiAgb25DaHVuayxcbiAgb25FcnJvciA9ICh7IGVycm9yIH0pID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgfSxcbiAgb25GaW5pc2gsXG4gIG9uQWJvcnQsXG4gIG9uU3RlcEZpbmlzaCxcbiAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gIF9pbnRlcm5hbDoge1xuICAgIG5vdyA9IG9yaWdpbmFsTm93LFxuICAgIGdlbmVyYXRlSWQgPSBvcmlnaW5hbEdlbmVyYXRlSWQsXG4gICAgY3VycmVudERhdGUgPSAoKSA9PiBuZXcgRGF0ZSgpLFxuICB9ID0ge30sXG4gIC4uLnNldHRpbmdzXG59OiBDYWxsU2V0dGluZ3MgJlxuICBQcm9tcHQgJiB7XG4gICAgLyoqXG5UaGUgbGFuZ3VhZ2UgbW9kZWwgdG8gdXNlLlxuICAgICAqL1xuICAgIG1vZGVsOiBMYW5ndWFnZU1vZGVsO1xuXG4gICAgLyoqXG5UaGUgdG9vbHMgdGhhdCB0aGUgbW9kZWwgY2FuIGNhbGwuIFRoZSBtb2RlbCBuZWVkcyB0byBzdXBwb3J0IGNhbGxpbmcgdG9vbHMuXG4gICAgKi9cbiAgICB0b29scz86IFRPT0xTO1xuXG4gICAgLyoqXG5UaGUgdG9vbCBjaG9pY2Ugc3RyYXRlZ3kuIERlZmF1bHQ6ICdhdXRvJy5cbiAgICAgKi9cbiAgICB0b29sQ2hvaWNlPzogVG9vbENob2ljZTxUT09MUz47XG5cbiAgICAvKipcbkNvbmRpdGlvbiBmb3Igc3RvcHBpbmcgdGhlIGdlbmVyYXRpb24gd2hlbiB0aGVyZSBhcmUgdG9vbCByZXN1bHRzIGluIHRoZSBsYXN0IHN0ZXAuXG5XaGVuIHRoZSBjb25kaXRpb24gaXMgYW4gYXJyYXksIGFueSBvZiB0aGUgY29uZGl0aW9ucyBjYW4gYmUgbWV0IHRvIHN0b3AgdGhlIGdlbmVyYXRpb24uXG5cbkBkZWZhdWx0IHN0ZXBDb3VudElzKDEpXG4gICAgICovXG4gICAgc3RvcFdoZW4/OlxuICAgICAgfCBTdG9wQ29uZGl0aW9uPE5vSW5mZXI8VE9PTFM+PlxuICAgICAgfCBBcnJheTxTdG9wQ29uZGl0aW9uPE5vSW5mZXI8VE9PTFM+Pj47XG5cbiAgICAvKipcbk9wdGlvbmFsIHRlbGVtZXRyeSBjb25maWd1cmF0aW9uIChleHBlcmltZW50YWwpLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcblxuICAgIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxudG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5mdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gKi9cbiAgICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYGFjdGl2ZVRvb2xzYCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9hY3RpdmVUb29scz86IEFycmF5PGtleW9mIE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuICAgTGltaXRzIHRoZSB0b29scyB0aGF0IGFyZSBhdmFpbGFibGUgZm9yIHRoZSBtb2RlbCB0byBjYWxsIHdpdGhvdXRcbiAgIGNoYW5naW5nIHRoZSB0b29sIGNhbGwgYW5kIHJlc3VsdCB0eXBlcyBpbiB0aGUgcmVzdWx0LlxuICAgICAgICAqL1xuICAgIGFjdGl2ZVRvb2xzPzogQXJyYXk8a2V5b2YgTm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG5PcHRpb25hbCBzcGVjaWZpY2F0aW9uIGZvciBwYXJzaW5nIHN0cnVjdHVyZWQgb3V0cHV0cyBmcm9tIHRoZSBMTE0gcmVzcG9uc2UuXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX291dHB1dD86IE91dHB1dDxPVVRQVVQsIFBBUlRJQUxfT1VUUFVUPjtcblxuICAgIC8qKlxuT3B0aW9uYWwgZnVuY3Rpb24gdGhhdCB5b3UgY2FuIHVzZSB0byBwcm92aWRlIGRpZmZlcmVudCBzZXR0aW5ncyBmb3IgYSBzdGVwLlxuXG5AcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciB0aGUgc3RlcC5cbkBwYXJhbSBvcHRpb25zLnN0ZXBzIC0gVGhlIHN0ZXBzIHRoYXQgaGF2ZSBiZWVuIGV4ZWN1dGVkIHNvIGZhci5cbkBwYXJhbSBvcHRpb25zLnN0ZXBOdW1iZXIgLSBUaGUgbnVtYmVyIG9mIHRoZSBzdGVwIHRoYXQgaXMgYmVpbmcgZXhlY3V0ZWQuXG5AcGFyYW0gb3B0aW9ucy5tb2RlbCAtIFRoZSBtb2RlbCB0aGF0IGlzIGJlaW5nIHVzZWQuXG5cbkByZXR1cm5zIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBzZXR0aW5ncyBmb3IgdGhlIHN0ZXAuXG5JZiB5b3UgcmV0dXJuIHVuZGVmaW5lZCAob3IgZm9yIHVuZGVmaW5lZCBzZXR0aW5ncyksIHRoZSBzZXR0aW5ncyBmcm9tIHRoZSBvdXRlciBsZXZlbCB3aWxsIGJlIHVzZWQuXG4gICAgKi9cbiAgICBwcmVwYXJlU3RlcD86IFByZXBhcmVTdGVwRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG5BIGZ1bmN0aW9uIHRoYXQgYXR0ZW1wdHMgdG8gcmVwYWlyIGEgdG9vbCBjYWxsIHRoYXQgZmFpbGVkIHRvIHBhcnNlLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9yZXBhaXJUb29sQ2FsbD86IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb248VE9PTFM+O1xuXG4gICAgLyoqXG5PcHRpb25hbCBzdHJlYW0gdHJhbnNmb3JtYXRpb25zLlxuVGhleSBhcmUgYXBwbGllZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgcHJvdmlkZWQuXG5UaGUgc3RyZWFtIHRyYW5zZm9ybWF0aW9ucyBtdXN0IG1haW50YWluIHRoZSBzdHJlYW0gc3RydWN0dXJlIGZvciBzdHJlYW1UZXh0IHRvIHdvcmsgY29ycmVjdGx5LlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF90cmFuc2Zvcm0/OlxuICAgICAgfCBTdHJlYW1UZXh0VHJhbnNmb3JtPFRPT0xTPlxuICAgICAgfCBBcnJheTxTdHJlYW1UZXh0VHJhbnNmb3JtPFRPT0xTPj47XG5cbiAgICAvKipcbkN1c3RvbSBkb3dubG9hZCBmdW5jdGlvbiB0byB1c2UgZm9yIFVSTHMuXG5cbkJ5IGRlZmF1bHQsIGZpbGVzIGFyZSBkb3dubG9hZGVkIGlmIHRoZSBtb2RlbCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBVUkwgZm9yIHRoZSBnaXZlbiBtZWRpYSB0eXBlLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9kb3dubG9hZD86IERvd25sb2FkRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbldoZXRoZXIgdG8gaW5jbHVkZSByYXcgY2h1bmtzIGZyb20gdGhlIHByb3ZpZGVyIGluIHRoZSBzdHJlYW0uXG5XaGVuIGVuYWJsZWQsIHlvdSB3aWxsIHJlY2VpdmUgcmF3IGNodW5rcyB3aXRoIHR5cGUgJ3JhdycgdGhhdCBjb250YWluIHRoZSB1bnByb2Nlc3NlZCBkYXRhIGZyb20gdGhlIHByb3ZpZGVyLlxuVGhpcyBhbGxvd3MgYWNjZXNzIHRvIGN1dHRpbmctZWRnZSBwcm92aWRlciBmZWF0dXJlcyBub3QgeWV0IHdyYXBwZWQgYnkgdGhlIEFJIFNESy5cbkRlZmF1bHRzIHRvIGZhbHNlLlxuICAgICAqL1xuICAgIGluY2x1ZGVSYXdDaHVua3M/OiBib29sZWFuO1xuXG4gICAgLyoqXG5DYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBmb3IgZWFjaCBjaHVuayBvZiB0aGUgc3RyZWFtLlxuVGhlIHN0cmVhbSBwcm9jZXNzaW5nIHdpbGwgcGF1c2UgdW50aWwgdGhlIGNhbGxiYWNrIHByb21pc2UgaXMgcmVzb2x2ZWQuXG4gICAgICovXG4gICAgb25DaHVuaz86IFN0cmVhbVRleHRPbkNodW5rQ2FsbGJhY2s8VE9PTFM+O1xuXG4gICAgLyoqXG5DYWxsYmFjayB0aGF0IGlzIGludm9rZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIHN0cmVhbWluZy5cbllvdSBjYW4gdXNlIGl0IHRvIGxvZyBlcnJvcnMuXG5UaGUgc3RyZWFtIHByb2Nlc3Npbmcgd2lsbCBwYXVzZSB1bnRpbCB0aGUgY2FsbGJhY2sgcHJvbWlzZSBpcyByZXNvbHZlZC5cbiAgICAgKi9cbiAgICBvbkVycm9yPzogU3RyZWFtVGV4dE9uRXJyb3JDYWxsYmFjaztcblxuICAgIC8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgTExNIHJlc3BvbnNlIGFuZCBhbGwgcmVxdWVzdCB0b29sIGV4ZWN1dGlvbnNcbihmb3IgdG9vbHMgdGhhdCBoYXZlIGFuIGBleGVjdXRlYCBmdW5jdGlvbikgYXJlIGZpbmlzaGVkLlxuXG5UaGUgdXNhZ2UgaXMgdGhlIGNvbWJpbmVkIHVzYWdlIG9mIGFsbCBzdGVwcy5cbiAgICAgKi9cbiAgICBvbkZpbmlzaD86IFN0cmVhbVRleHRPbkZpbmlzaENhbGxiYWNrPFRPT0xTPjtcblxuICAgIG9uQWJvcnQ/OiBTdHJlYW1UZXh0T25BYm9ydENhbGxiYWNrPFRPT0xTPjtcblxuICAgIC8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBlYWNoIHN0ZXAgKExMTSBjYWxsKSBpcyBmaW5pc2hlZCwgaW5jbHVkaW5nIGludGVybWVkaWF0ZSBzdGVwcy5cbiAgICAqL1xuICAgIG9uU3RlcEZpbmlzaD86IFN0cmVhbVRleHRPblN0ZXBGaW5pc2hDYWxsYmFjazxUT09MUz47XG5cbiAgICAvKipcbiAgICAgKiBDb250ZXh0IHRoYXQgaXMgcGFzc2VkIGludG8gdG9vbCBleGVjdXRpb24uXG4gICAgICpcbiAgICAgKiBFeHBlcmltZW50YWwgKGNhbiBicmVhayBpbiBwYXRjaCByZWxlYXNlcykuXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfY29udGV4dD86IHVua25vd247XG5cbiAgICAvKipcbkludGVybmFsLiBGb3IgdGVzdCB1c2Ugb25seS4gTWF5IGNoYW5nZSB3aXRob3V0IG5vdGljZS5cbiAgICAgKi9cbiAgICBfaW50ZXJuYWw/OiB7XG4gICAgICBub3c/OiAoKSA9PiBudW1iZXI7XG4gICAgICBnZW5lcmF0ZUlkPzogSWRHZW5lcmF0b3I7XG4gICAgICBjdXJyZW50RGF0ZT86ICgpID0+IERhdGU7XG4gICAgfTtcbiAgfSk6IFN0cmVhbVRleHRSZXN1bHQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPiB7XG4gIHJldHVybiBuZXcgRGVmYXVsdFN0cmVhbVRleHRSZXN1bHQ8VE9PTFMsIE9VVFBVVCwgUEFSVElBTF9PVVRQVVQ+KHtcbiAgICBtb2RlbDogcmVzb2x2ZUxhbmd1YWdlTW9kZWwobW9kZWwpLFxuICAgIHRlbGVtZXRyeSxcbiAgICBoZWFkZXJzLFxuICAgIHNldHRpbmdzLFxuICAgIG1heFJldHJpZXMsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgc3lzdGVtLFxuICAgIHByb21wdCxcbiAgICBtZXNzYWdlcyxcbiAgICB0b29scyxcbiAgICB0b29sQ2hvaWNlLFxuICAgIHRyYW5zZm9ybXM6IGFzQXJyYXkodHJhbnNmb3JtKSxcbiAgICBhY3RpdmVUb29scyxcbiAgICByZXBhaXJUb29sQ2FsbCxcbiAgICBzdG9wQ29uZGl0aW9uczogYXNBcnJheShzdG9wV2hlbiksXG4gICAgb3V0cHV0LFxuICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICBwcmVwYXJlU3RlcCxcbiAgICBpbmNsdWRlUmF3Q2h1bmtzLFxuICAgIG9uQ2h1bmssXG4gICAgb25FcnJvcixcbiAgICBvbkZpbmlzaCxcbiAgICBvbkFib3J0LFxuICAgIG9uU3RlcEZpbmlzaCxcbiAgICBub3csXG4gICAgY3VycmVudERhdGUsXG4gICAgZ2VuZXJhdGVJZCxcbiAgICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgICBkb3dubG9hZCxcbiAgfSk7XG59XG5cbnR5cGUgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTIGV4dGVuZHMgVG9vbFNldCwgUEFSVElBTF9PVVRQVVQ+ID0ge1xuICBwYXJ0OiBUZXh0U3RyZWFtUGFydDxUT09MUz47XG4gIHBhcnRpYWxPdXRwdXQ6IFBBUlRJQUxfT1VUUFVUIHwgdW5kZWZpbmVkO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlT3V0cHV0VHJhbnNmb3JtU3RyZWFtPFxuICBUT09MUyBleHRlbmRzIFRvb2xTZXQsXG4gIE9VVFBVVCxcbiAgUEFSVElBTF9PVVRQVVQsXG4+KFxuICBvdXRwdXQ6IE91dHB1dDxPVVRQVVQsIFBBUlRJQUxfT1VUUFVUPiB8IHVuZGVmaW5lZCxcbik6IFRyYW5zZm9ybVN0cmVhbTxcbiAgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+LFxuICBFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPlxuPiB7XG4gIGlmICghb3V0cHV0KSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICBUZXh0U3RyZWFtUGFydDxUT09MUz4sXG4gICAgICBFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPlxuICAgID4oe1xuICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHBhcnQ6IGNodW5rLCBwYXJ0aWFsT3V0cHV0OiB1bmRlZmluZWQgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgbGV0IGZpcnN0VGV4dENodW5rSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgbGV0IHRleHQgPSAnJztcbiAgbGV0IHRleHRDaHVuayA9ICcnO1xuICBsZXQgbGFzdFB1Ymxpc2hlZEpzb24gPSAnJztcblxuICBmdW5jdGlvbiBwdWJsaXNoVGV4dENodW5rKHtcbiAgICBjb250cm9sbGVyLFxuICAgIHBhcnRpYWxPdXRwdXQgPSB1bmRlZmluZWQsXG4gIH06IHtcbiAgICBjb250cm9sbGVyOiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxcbiAgICAgIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+XG4gICAgPjtcbiAgICBwYXJ0aWFsT3V0cHV0PzogUEFSVElBTF9PVVRQVVQ7XG4gIH0pIHtcbiAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgcGFydDoge1xuICAgICAgICB0eXBlOiAndGV4dC1kZWx0YScsXG4gICAgICAgIGlkOiBmaXJzdFRleHRDaHVua0lkISxcbiAgICAgICAgdGV4dDogdGV4dENodW5rLFxuICAgICAgfSxcbiAgICAgIHBhcnRpYWxPdXRwdXQsXG4gICAgfSk7XG4gICAgdGV4dENodW5rID0gJyc7XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICBUZXh0U3RyZWFtUGFydDxUT09MUz4sXG4gICAgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5cbiAgPih7XG4gICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAvLyBlbnN1cmUgdGhhdCB3ZSBwdWJsaXNoIHRoZSBsYXN0IHRleHQgY2h1bmsgYmVmb3JlIHRoZSBzdGVwIGZpbmlzaDpcbiAgICAgIGlmIChjaHVuay50eXBlID09PSAnZmluaXNoLXN0ZXAnICYmIHRleHRDaHVuay5sZW5ndGggPiAwKSB7XG4gICAgICAgIHB1Ymxpc2hUZXh0Q2h1bmsoeyBjb250cm9sbGVyIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIGNodW5rLnR5cGUgIT09ICd0ZXh0LWRlbHRhJyAmJlxuICAgICAgICBjaHVuay50eXBlICE9PSAndGV4dC1zdGFydCcgJiZcbiAgICAgICAgY2h1bmsudHlwZSAhPT0gJ3RleHQtZW5kJ1xuICAgICAgKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHBhcnQ6IGNodW5rLCBwYXJ0aWFsT3V0cHV0OiB1bmRlZmluZWQgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gd2UgaGF2ZSB0byBwaWNrIGEgdGV4dCBjaHVuayB3aGljaCBjb250YWlucyB0aGUganNvbiB0ZXh0XG4gICAgICAvLyBzaW5jZSB3ZSBhcmUgc3RyZWFtaW5nLCB3ZSBoYXZlIHRvIHBpY2sgdGhlIGZpcnN0IHRleHQgY2h1bmtcbiAgICAgIGlmIChmaXJzdFRleHRDaHVua0lkID09IG51bGwpIHtcbiAgICAgICAgZmlyc3RUZXh0Q2h1bmtJZCA9IGNodW5rLmlkO1xuICAgICAgfSBlbHNlIGlmIChjaHVuay5pZCAhPT0gZmlyc3RUZXh0Q2h1bmtJZCkge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyBwYXJ0OiBjaHVuaywgcGFydGlhbE91dHB1dDogdW5kZWZpbmVkIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjaHVuay50eXBlID09PSAndGV4dC1zdGFydCcpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgcGFydDogY2h1bmssIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2h1bmsudHlwZSA9PT0gJ3RleHQtZW5kJykge1xuICAgICAgICBpZiAodGV4dENodW5rLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwdWJsaXNoVGV4dENodW5rKHsgY29udHJvbGxlciB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyBwYXJ0OiBjaHVuaywgcGFydGlhbE91dHB1dDogdW5kZWZpbmVkIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRleHQgKz0gY2h1bmsudGV4dDtcbiAgICAgIHRleHRDaHVuayArPSBjaHVuay50ZXh0O1xuXG4gICAgICAvLyBvbmx5IHB1Ymxpc2ggaWYgcGFydGlhbCBqc29uIGNhbiBiZSBwYXJzZWQ6XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvdXRwdXQucGFyc2VQYXJ0aWFsKHsgdGV4dCB9KTtcbiAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAvLyBvbmx5IHNlbmQgbmV3IGpzb24gaWYgaXQgaGFzIGNoYW5nZWQ6XG4gICAgICAgIGNvbnN0IGN1cnJlbnRKc29uID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0LnBhcnRpYWwpO1xuICAgICAgICBpZiAoY3VycmVudEpzb24gIT09IGxhc3RQdWJsaXNoZWRKc29uKSB7XG4gICAgICAgICAgcHVibGlzaFRleHRDaHVuayh7IGNvbnRyb2xsZXIsIHBhcnRpYWxPdXRwdXQ6IHJlc3VsdC5wYXJ0aWFsIH0pO1xuICAgICAgICAgIGxhc3RQdWJsaXNoZWRKc29uID0gY3VycmVudEpzb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn1cblxuY2xhc3MgRGVmYXVsdFN0cmVhbVRleHRSZXN1bHQ8VE9PTFMgZXh0ZW5kcyBUb29sU2V0LCBPVVRQVVQsIFBBUlRJQUxfT1VUUFVUPlxuICBpbXBsZW1lbnRzIFN0cmVhbVRleHRSZXN1bHQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPlxue1xuICBwcml2YXRlIHJlYWRvbmx5IF90b3RhbFVzYWdlID0gbmV3IERlbGF5ZWRQcm9taXNlPFxuICAgIEF3YWl0ZWQ8U3RyZWFtVGV4dFJlc3VsdDxUT09MUywgUEFSVElBTF9PVVRQVVQ+Wyd1c2FnZSddPlxuICA+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX2ZpbmlzaFJlYXNvbiA9IG5ldyBEZWxheWVkUHJvbWlzZTxcbiAgICBBd2FpdGVkPFN0cmVhbVRleHRSZXN1bHQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPlsnZmluaXNoUmVhc29uJ10+XG4gID4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfc3RlcHMgPSBuZXcgRGVsYXllZFByb21pc2U8XG4gICAgQXdhaXRlZDxTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5bJ3N0ZXBzJ10+XG4gID4oKTtcblxuICBwcml2YXRlIHJlYWRvbmx5IGFkZFN0cmVhbTogKFxuICAgIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VGV4dFN0cmVhbVBhcnQ8VE9PTFM+PixcbiAgKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY2xvc2VTdHJlYW06ICgpID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSBiYXNlU3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPj47XG5cbiAgcHJpdmF0ZSBvdXRwdXQ6IE91dHB1dDxPVVRQVVQsIFBBUlRJQUxfT1VUUFVUPiB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIGluY2x1ZGVSYXdDaHVua3M6IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSB0b29sczogVE9PTFMgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1vZGVsLFxuICAgIHRlbGVtZXRyeSxcbiAgICBoZWFkZXJzLFxuICAgIHNldHRpbmdzLFxuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgc3lzdGVtLFxuICAgIHByb21wdCxcbiAgICBtZXNzYWdlcyxcbiAgICB0b29scyxcbiAgICB0b29sQ2hvaWNlLFxuICAgIHRyYW5zZm9ybXMsXG4gICAgYWN0aXZlVG9vbHMsXG4gICAgcmVwYWlyVG9vbENhbGwsXG4gICAgc3RvcENvbmRpdGlvbnMsXG4gICAgb3V0cHV0LFxuICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICBwcmVwYXJlU3RlcCxcbiAgICBpbmNsdWRlUmF3Q2h1bmtzLFxuICAgIG5vdyxcbiAgICBjdXJyZW50RGF0ZSxcbiAgICBnZW5lcmF0ZUlkLFxuICAgIG9uQ2h1bmssXG4gICAgb25FcnJvcixcbiAgICBvbkZpbmlzaCxcbiAgICBvbkFib3J0LFxuICAgIG9uU3RlcEZpbmlzaCxcbiAgICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgICBkb3dubG9hZCxcbiAgfToge1xuICAgIG1vZGVsOiBMYW5ndWFnZU1vZGVsVjI7XG4gICAgdGVsZW1ldHJ5OiBUZWxlbWV0cnlTZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgICBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+IHwgdW5kZWZpbmVkO1xuICAgIHNldHRpbmdzOiBPbWl0PENhbGxTZXR0aW5ncywgJ2Fib3J0U2lnbmFsJyB8ICdoZWFkZXJzJz47XG4gICAgbWF4UmV0cmllczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIGFib3J0U2lnbmFsOiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZDtcbiAgICBzeXN0ZW06IFByb21wdFsnc3lzdGVtJ107XG4gICAgcHJvbXB0OiBQcm9tcHRbJ3Byb21wdCddO1xuICAgIG1lc3NhZ2VzOiBQcm9tcHRbJ21lc3NhZ2VzJ107XG4gICAgdG9vbHM6IFRPT0xTIHwgdW5kZWZpbmVkO1xuICAgIHRvb2xDaG9pY2U6IFRvb2xDaG9pY2U8VE9PTFM+IHwgdW5kZWZpbmVkO1xuICAgIHRyYW5zZm9ybXM6IEFycmF5PFN0cmVhbVRleHRUcmFuc2Zvcm08VE9PTFM+PjtcbiAgICBhY3RpdmVUb29sczogQXJyYXk8a2V5b2YgVE9PTFM+IHwgdW5kZWZpbmVkO1xuICAgIHJlcGFpclRvb2xDYWxsOiBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uPFRPT0xTPiB8IHVuZGVmaW5lZDtcbiAgICBzdG9wQ29uZGl0aW9uczogQXJyYXk8U3RvcENvbmRpdGlvbjxOb0luZmVyPFRPT0xTPj4+O1xuICAgIG91dHB1dDogT3V0cHV0PE9VVFBVVCwgUEFSVElBTF9PVVRQVVQ+IHwgdW5kZWZpbmVkO1xuICAgIHByb3ZpZGVyT3B0aW9uczogUHJvdmlkZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIHByZXBhcmVTdGVwOiBQcmVwYXJlU3RlcEZ1bmN0aW9uPE5vSW5mZXI8VE9PTFM+PiB8IHVuZGVmaW5lZDtcbiAgICBpbmNsdWRlUmF3Q2h1bmtzOiBib29sZWFuO1xuICAgIG5vdzogKCkgPT4gbnVtYmVyO1xuICAgIGN1cnJlbnREYXRlOiAoKSA9PiBEYXRlO1xuICAgIGdlbmVyYXRlSWQ6ICgpID0+IHN0cmluZztcbiAgICBleHBlcmltZW50YWxfY29udGV4dDogdW5rbm93bjtcbiAgICBkb3dubG9hZDogRG93bmxvYWRGdW5jdGlvbiB8IHVuZGVmaW5lZDtcblxuICAgIC8vIGNhbGxiYWNrczpcbiAgICBvbkNodW5rOiB1bmRlZmluZWQgfCBTdHJlYW1UZXh0T25DaHVua0NhbGxiYWNrPFRPT0xTPjtcbiAgICBvbkVycm9yOiBTdHJlYW1UZXh0T25FcnJvckNhbGxiYWNrO1xuICAgIG9uRmluaXNoOiB1bmRlZmluZWQgfCBTdHJlYW1UZXh0T25GaW5pc2hDYWxsYmFjazxUT09MUz47XG4gICAgb25BYm9ydDogdW5kZWZpbmVkIHwgU3RyZWFtVGV4dE9uQWJvcnRDYWxsYmFjazxUT09MUz47XG4gICAgb25TdGVwRmluaXNoOiB1bmRlZmluZWQgfCBTdHJlYW1UZXh0T25TdGVwRmluaXNoQ2FsbGJhY2s8VE9PTFM+O1xuICB9KSB7XG4gICAgdGhpcy5vdXRwdXQgPSBvdXRwdXQ7XG4gICAgdGhpcy5pbmNsdWRlUmF3Q2h1bmtzID0gaW5jbHVkZVJhd0NodW5rcztcbiAgICB0aGlzLnRvb2xzID0gdG9vbHM7XG5cbiAgICAvLyBwcm9taXNlIHRvIGVuc3VyZSB0aGF0IHRoZSBzdGVwIGhhcyBiZWVuIGZ1bGx5IHByb2Nlc3NlZCBieSB0aGUgZXZlbnQgcHJvY2Vzc29yXG4gICAgLy8gYmVmb3JlIGEgbmV3IHN0ZXAgaXMgc3RhcnRlZC4gVGhpcyBpcyByZXF1aXJlZCBiZWNhdXNlIHRoZSBjb250aW51YXRpb24gY29uZGl0aW9uXG4gICAgLy8gbmVlZHMgdGhlIHVwZGF0ZWQgc3RlcHMgdG8gZGV0ZXJtaW5lIGlmIGFub3RoZXIgc3RlcCBpcyBuZWVkZWQuXG4gICAgbGV0IHN0ZXBGaW5pc2ghOiBEZWxheWVkUHJvbWlzZTx2b2lkPjtcblxuICAgIGxldCByZWNvcmRlZENvbnRlbnQ6IEFycmF5PENvbnRlbnRQYXJ0PFRPT0xTPj4gPSBbXTtcbiAgICBjb25zdCByZWNvcmRlZFJlc3BvbnNlTWVzc2FnZXM6IEFycmF5PFJlc3BvbnNlTWVzc2FnZT4gPSBbXTtcbiAgICBsZXQgcmVjb3JkZWRGaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICBsZXQgcmVjb3JkZWRUb3RhbFVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2UgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgbGV0IHJlY29yZGVkUmVxdWVzdDogTGFuZ3VhZ2VNb2RlbFJlcXVlc3RNZXRhZGF0YSA9IHt9O1xuICAgIGxldCByZWNvcmRlZFdhcm5pbmdzOiBBcnJheTxDYWxsV2FybmluZz4gPSBbXTtcbiAgICBjb25zdCByZWNvcmRlZFN0ZXBzOiBTdGVwUmVzdWx0PFRPT0xTPltdID0gW107XG5cbiAgICBsZXQgcm9vdFNwYW4hOiBTcGFuO1xuXG4gICAgbGV0IGFjdGl2ZVRleHRDb250ZW50OiBSZWNvcmQ8XG4gICAgICBzdHJpbmcsXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICd0ZXh0JztcbiAgICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBQcm92aWRlck1ldGFkYXRhIHwgdW5kZWZpbmVkO1xuICAgICAgfVxuICAgID4gPSB7fTtcblxuICAgIGxldCBhY3RpdmVSZWFzb25pbmdDb250ZW50OiBSZWNvcmQ8XG4gICAgICBzdHJpbmcsXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdyZWFzb25pbmcnO1xuICAgICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgPiA9IHt9O1xuXG4gICAgY29uc3QgZXZlbnRQcm9jZXNzb3IgPSBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD4sXG4gICAgICBFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPlxuICAgID4oe1xuICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7IC8vIGZvcndhcmQgdGhlIGNodW5rIHRvIHRoZSBuZXh0IHN0cmVhbVxuXG4gICAgICAgIGNvbnN0IHsgcGFydCB9ID0gY2h1bms7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3RleHQtZGVsdGEnIHx8XG4gICAgICAgICAgcGFydC50eXBlID09PSAncmVhc29uaW5nLWRlbHRhJyB8fFxuICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3NvdXJjZScgfHxcbiAgICAgICAgICBwYXJ0LnR5cGUgPT09ICd0b29sLWNhbGwnIHx8XG4gICAgICAgICAgcGFydC50eXBlID09PSAndG9vbC1yZXN1bHQnIHx8XG4gICAgICAgICAgcGFydC50eXBlID09PSAndG9vbC1pbnB1dC1zdGFydCcgfHxcbiAgICAgICAgICBwYXJ0LnR5cGUgPT09ICd0b29sLWlucHV0LWRlbHRhJyB8fFxuICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3JhdydcbiAgICAgICAgKSB7XG4gICAgICAgICAgYXdhaXQgb25DaHVuaz8uKHsgY2h1bms6IHBhcnQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgYXdhaXQgb25FcnJvcih7IGVycm9yOiB3cmFwR2F0ZXdheUVycm9yKHBhcnQuZXJyb3IpIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3RleHQtc3RhcnQnKSB7XG4gICAgICAgICAgYWN0aXZlVGV4dENvbnRlbnRbcGFydC5pZF0gPSB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50LnB1c2goYWN0aXZlVGV4dENvbnRlbnRbcGFydC5pZF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3RleHQtZGVsdGEnKSB7XG4gICAgICAgICAgY29uc3QgYWN0aXZlVGV4dCA9IGFjdGl2ZVRleHRDb250ZW50W3BhcnQuaWRdO1xuXG4gICAgICAgICAgaWYgKGFjdGl2ZVRleHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgcGFydDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGB0ZXh0IHBhcnQgJHtwYXJ0LmlkfSBub3QgZm91bmRgLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwYXJ0aWFsT3V0cHV0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhY3RpdmVUZXh0LnRleHQgKz0gcGFydC50ZXh0O1xuICAgICAgICAgIGFjdGl2ZVRleHQucHJvdmlkZXJNZXRhZGF0YSA9XG4gICAgICAgICAgICBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgPz8gYWN0aXZlVGV4dC5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3RleHQtZW5kJykge1xuICAgICAgICAgIGRlbGV0ZSBhY3RpdmVUZXh0Q29udGVudFtwYXJ0LmlkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdyZWFzb25pbmctc3RhcnQnKSB7XG4gICAgICAgICAgYWN0aXZlUmVhc29uaW5nQ29udGVudFtwYXJ0LmlkXSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmcnLFxuICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJlY29yZGVkQ29udGVudC5wdXNoKGFjdGl2ZVJlYXNvbmluZ0NvbnRlbnRbcGFydC5pZF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3JlYXNvbmluZy1kZWx0YScpIHtcbiAgICAgICAgICBjb25zdCBhY3RpdmVSZWFzb25pbmcgPSBhY3RpdmVSZWFzb25pbmdDb250ZW50W3BhcnQuaWRdO1xuXG4gICAgICAgICAgaWYgKGFjdGl2ZVJlYXNvbmluZyA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICBwYXJ0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogYHJlYXNvbmluZyBwYXJ0ICR7cGFydC5pZH0gbm90IGZvdW5kYCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcGFydGlhbE91dHB1dDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWN0aXZlUmVhc29uaW5nLnRleHQgKz0gcGFydC50ZXh0O1xuICAgICAgICAgIGFjdGl2ZVJlYXNvbmluZy5wcm92aWRlck1ldGFkYXRhID1cbiAgICAgICAgICAgIHBhcnQucHJvdmlkZXJNZXRhZGF0YSA/PyBhY3RpdmVSZWFzb25pbmcucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdyZWFzb25pbmctZW5kJykge1xuICAgICAgICAgIGNvbnN0IGFjdGl2ZVJlYXNvbmluZyA9IGFjdGl2ZVJlYXNvbmluZ0NvbnRlbnRbcGFydC5pZF07XG5cbiAgICAgICAgICBpZiAoYWN0aXZlUmVhc29uaW5nID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHBhcnQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGVycm9yOiBgcmVhc29uaW5nIHBhcnQgJHtwYXJ0LmlkfSBub3QgZm91bmRgLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwYXJ0aWFsT3V0cHV0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhY3RpdmVSZWFzb25pbmcucHJvdmlkZXJNZXRhZGF0YSA9XG4gICAgICAgICAgICBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgPz8gYWN0aXZlUmVhc29uaW5nLnByb3ZpZGVyTWV0YWRhdGE7XG5cbiAgICAgICAgICBkZWxldGUgYWN0aXZlUmVhc29uaW5nQ29udGVudFtwYXJ0LmlkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgICAgIHJlY29yZGVkQ29udGVudC5wdXNoKHsgdHlwZTogJ2ZpbGUnLCBmaWxlOiBwYXJ0LmZpbGUgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAnc291cmNlJykge1xuICAgICAgICAgIHJlY29yZGVkQ29udGVudC5wdXNoKHBhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3Rvb2wtY2FsbCcpIHtcbiAgICAgICAgICByZWNvcmRlZENvbnRlbnQucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0b29sLXJlc3VsdCcgJiYgIXBhcnQucHJlbGltaW5hcnkpIHtcbiAgICAgICAgICByZWNvcmRlZENvbnRlbnQucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0b29sLWVycm9yJykge1xuICAgICAgICAgIHJlY29yZGVkQ29udGVudC5wdXNoKHBhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3N0YXJ0LXN0ZXAnKSB7XG4gICAgICAgICAgcmVjb3JkZWRSZXF1ZXN0ID0gcGFydC5yZXF1ZXN0O1xuICAgICAgICAgIHJlY29yZGVkV2FybmluZ3MgPSBwYXJ0Lndhcm5pbmdzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ2ZpbmlzaC1zdGVwJykge1xuICAgICAgICAgIGNvbnN0IHN0ZXBNZXNzYWdlcyA9IHRvUmVzcG9uc2VNZXNzYWdlcyh7XG4gICAgICAgICAgICBjb250ZW50OiByZWNvcmRlZENvbnRlbnQsXG4gICAgICAgICAgICB0b29scyxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEFkZCBzdGVwIGluZm9ybWF0aW9uIChhZnRlciByZXNwb25zZSBtZXNzYWdlcyBhcmUgdXBkYXRlZCk6XG4gICAgICAgICAgY29uc3QgY3VycmVudFN0ZXBSZXN1bHQ6IFN0ZXBSZXN1bHQ8VE9PTFM+ID0gbmV3IERlZmF1bHRTdGVwUmVzdWx0KHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlY29yZGVkQ29udGVudCxcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogcGFydC5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICB1c2FnZTogcGFydC51c2FnZSxcbiAgICAgICAgICAgIHdhcm5pbmdzOiByZWNvcmRlZFdhcm5pbmdzLFxuICAgICAgICAgICAgcmVxdWVzdDogcmVjb3JkZWRSZXF1ZXN0LFxuICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgLi4ucGFydC5yZXNwb25zZSxcbiAgICAgICAgICAgICAgbWVzc2FnZXM6IFsuLi5yZWNvcmRlZFJlc3BvbnNlTWVzc2FnZXMsIC4uLnN0ZXBNZXNzYWdlc10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgYXdhaXQgb25TdGVwRmluaXNoPy4oY3VycmVudFN0ZXBSZXN1bHQpO1xuXG4gICAgICAgICAgbG9nV2FybmluZ3MocmVjb3JkZWRXYXJuaW5ncyk7XG5cbiAgICAgICAgICByZWNvcmRlZFN0ZXBzLnB1c2goY3VycmVudFN0ZXBSZXN1bHQpO1xuXG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50ID0gW107XG4gICAgICAgICAgYWN0aXZlUmVhc29uaW5nQ29udGVudCA9IHt9O1xuICAgICAgICAgIGFjdGl2ZVRleHRDb250ZW50ID0ge307XG5cbiAgICAgICAgICByZWNvcmRlZFJlc3BvbnNlTWVzc2FnZXMucHVzaCguLi5zdGVwTWVzc2FnZXMpO1xuXG4gICAgICAgICAgLy8gcmVzb2x2ZSB0aGUgcHJvbWlzZSB0byBzaWduYWwgdGhhdCB0aGUgc3RlcCBoYXMgYmVlbiBmdWxseSBwcm9jZXNzZWRcbiAgICAgICAgICAvLyBieSB0aGUgZXZlbnQgcHJvY2Vzc29yOlxuICAgICAgICAgIHN0ZXBGaW5pc2gucmVzb2x2ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ2ZpbmlzaCcpIHtcbiAgICAgICAgICByZWNvcmRlZFRvdGFsVXNhZ2UgPSBwYXJ0LnRvdGFsVXNhZ2U7XG4gICAgICAgICAgcmVjb3JkZWRGaW5pc2hSZWFzb24gPSBwYXJ0LmZpbmlzaFJlYXNvbjtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgYXN5bmMgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChyZWNvcmRlZFN0ZXBzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgTm9PdXRwdXRHZW5lcmF0ZWRFcnJvcih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdObyBvdXRwdXQgZ2VuZXJhdGVkLiBDaGVjayB0aGUgc3RyZWFtIGZvciBlcnJvcnMuJyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZWxmLl9maW5pc2hSZWFzb24ucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIHNlbGYuX3RvdGFsVXNhZ2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIHNlbGYuX3N0ZXBzLnJlamVjdChlcnJvcik7XG5cbiAgICAgICAgICAgIHJldHVybjsgLy8gbm8gc3RlcHMgcmVjb3JkZWQgKGUuZy4gaW4gZXJyb3Igc2NlbmFyaW8pXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZGVyaXZlZDpcbiAgICAgICAgICBjb25zdCBmaW5pc2hSZWFzb24gPSByZWNvcmRlZEZpbmlzaFJlYXNvbiA/PyAndW5rbm93bic7XG4gICAgICAgICAgY29uc3QgdG90YWxVc2FnZSA9IHJlY29yZGVkVG90YWxVc2FnZSA/PyB7XG4gICAgICAgICAgICBpbnB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3V0cHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0b3RhbFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBmcm9tIGZpbmlzaDpcbiAgICAgICAgICBzZWxmLl9maW5pc2hSZWFzb24ucmVzb2x2ZShmaW5pc2hSZWFzb24pO1xuICAgICAgICAgIHNlbGYuX3RvdGFsVXNhZ2UucmVzb2x2ZSh0b3RhbFVzYWdlKTtcblxuICAgICAgICAgIC8vIGFnZ3JlZ2F0ZSByZXN1bHRzOlxuICAgICAgICAgIHNlbGYuX3N0ZXBzLnJlc29sdmUocmVjb3JkZWRTdGVwcyk7XG5cbiAgICAgICAgICAvLyBjYWxsIG9uRmluaXNoIGNhbGxiYWNrOlxuICAgICAgICAgIGNvbnN0IGZpbmFsU3RlcCA9IHJlY29yZGVkU3RlcHNbcmVjb3JkZWRTdGVwcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBhd2FpdCBvbkZpbmlzaD8uKHtcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIHRvdGFsVXNhZ2UsXG4gICAgICAgICAgICB1c2FnZTogZmluYWxTdGVwLnVzYWdlLFxuICAgICAgICAgICAgY29udGVudDogZmluYWxTdGVwLmNvbnRlbnQsXG4gICAgICAgICAgICB0ZXh0OiBmaW5hbFN0ZXAudGV4dCxcbiAgICAgICAgICAgIHJlYXNvbmluZ1RleHQ6IGZpbmFsU3RlcC5yZWFzb25pbmdUZXh0LFxuICAgICAgICAgICAgcmVhc29uaW5nOiBmaW5hbFN0ZXAucmVhc29uaW5nLFxuICAgICAgICAgICAgZmlsZXM6IGZpbmFsU3RlcC5maWxlcyxcbiAgICAgICAgICAgIHNvdXJjZXM6IGZpbmFsU3RlcC5zb3VyY2VzLFxuICAgICAgICAgICAgdG9vbENhbGxzOiBmaW5hbFN0ZXAudG9vbENhbGxzLFxuICAgICAgICAgICAgc3RhdGljVG9vbENhbGxzOiBmaW5hbFN0ZXAuc3RhdGljVG9vbENhbGxzLFxuICAgICAgICAgICAgZHluYW1pY1Rvb2xDYWxsczogZmluYWxTdGVwLmR5bmFtaWNUb29sQ2FsbHMsXG4gICAgICAgICAgICB0b29sUmVzdWx0czogZmluYWxTdGVwLnRvb2xSZXN1bHRzLFxuICAgICAgICAgICAgc3RhdGljVG9vbFJlc3VsdHM6IGZpbmFsU3RlcC5zdGF0aWNUb29sUmVzdWx0cyxcbiAgICAgICAgICAgIGR5bmFtaWNUb29sUmVzdWx0czogZmluYWxTdGVwLmR5bmFtaWNUb29sUmVzdWx0cyxcbiAgICAgICAgICAgIHJlcXVlc3Q6IGZpbmFsU3RlcC5yZXF1ZXN0LFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZpbmFsU3RlcC5yZXNwb25zZSxcbiAgICAgICAgICAgIHdhcm5pbmdzOiBmaW5hbFN0ZXAud2FybmluZ3MsXG4gICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBmaW5hbFN0ZXAucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgIHN0ZXBzOiByZWNvcmRlZFN0ZXBzLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGluZm9ybWF0aW9uIHRvIHRoZSByb290IHNwYW46XG4gICAgICAgICAgcm9vdFNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuZmluaXNoUmVhc29uJzogZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50ZXh0JzogeyBvdXRwdXQ6ICgpID0+IGZpbmFsU3RlcC50ZXh0IH0sXG4gICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRvb2xDYWxscyc6IHtcbiAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgZmluYWxTdGVwLnRvb2xDYWxscz8ubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShmaW5hbFN0ZXAudG9vbENhbGxzKVxuICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICAgIGZpbmFsU3RlcC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgICAnYWkudXNhZ2UuaW5wdXRUb2tlbnMnOiB0b3RhbFVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICdhaS51c2FnZS5vdXRwdXRUb2tlbnMnOiB0b3RhbFVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAnYWkudXNhZ2UudG90YWxUb2tlbnMnOiB0b3RhbFVzYWdlLnRvdGFsVG9rZW5zLFxuICAgICAgICAgICAgICAgICdhaS51c2FnZS5yZWFzb25pbmdUb2tlbnMnOiB0b3RhbFVzYWdlLnJlYXNvbmluZ1Rva2VucyxcbiAgICAgICAgICAgICAgICAnYWkudXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMnOiB0b3RhbFVzYWdlLmNhY2hlZElucHV0VG9rZW5zLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICByb290U3Bhbi5lbmQoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIGluaXRpYWxpemUgdGhlIHN0aXRjaGFibGUgc3RyZWFtIGFuZCB0aGUgdHJhbnNmb3JtZWQgc3RyZWFtOlxuICAgIGNvbnN0IHN0aXRjaGFibGVTdHJlYW0gPSBjcmVhdGVTdGl0Y2hhYmxlU3RyZWFtPFRleHRTdHJlYW1QYXJ0PFRPT0xTPj4oKTtcbiAgICB0aGlzLmFkZFN0cmVhbSA9IHN0aXRjaGFibGVTdHJlYW0uYWRkU3RyZWFtO1xuICAgIHRoaXMuY2xvc2VTdHJlYW0gPSBzdGl0Y2hhYmxlU3RyZWFtLmNsb3NlO1xuXG4gICAgLy8gcmVzaWxpZW50IHN0cmVhbSB0aGF0IGhhbmRsZXMgYWJvcnQgc2lnbmFscyBhbmQgZXJyb3JzOlxuICAgIGNvbnN0IHJlYWRlciA9IHN0aXRjaGFibGVTdHJlYW0uc3RyZWFtLmdldFJlYWRlcigpO1xuICAgIGxldCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW08VGV4dFN0cmVhbVBhcnQ8VE9PTFM+Pih7XG4gICAgICBhc3luYyBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgIC8vIHNlbmQgc3RhcnQgZXZlbnQ6XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdzdGFydCcgfSk7XG4gICAgICB9LFxuXG4gICAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgLy8gYWJvcnQgaGFuZGxpbmc6XG4gICAgICAgIGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgICAgIG9uQWJvcnQ/Lih7IHN0ZXBzOiByZWNvcmRlZFN0ZXBzIH0pO1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdhYm9ydCcgfSk7XG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuXG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYWJvcnRTaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSAmJiBhYm9ydFNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBjYW5jZWwocmVhc29uKSB7XG4gICAgICAgIHJldHVybiBzdGl0Y2hhYmxlU3RyZWFtLnN0cmVhbS5jYW5jZWwocmVhc29uKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyB0cmFuc2Zvcm0gdGhlIHN0cmVhbSBiZWZvcmUgb3V0cHV0IHBhcnNpbmdcbiAgICAvLyB0byBlbmFibGUgcmVwbGFjZW1lbnQgb2Ygc3RyZWFtIHNlZ21lbnRzOlxuICAgIGZvciAoY29uc3QgdHJhbnNmb3JtIG9mIHRyYW5zZm9ybXMpIHtcbiAgICAgIHN0cmVhbSA9IHN0cmVhbS5waXBlVGhyb3VnaChcbiAgICAgICAgdHJhbnNmb3JtKHtcbiAgICAgICAgICB0b29sczogdG9vbHMgYXMgVE9PTFMsXG4gICAgICAgICAgc3RvcFN0cmVhbSgpIHtcbiAgICAgICAgICAgIHN0aXRjaGFibGVTdHJlYW0udGVybWluYXRlKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuYmFzZVN0cmVhbSA9IHN0cmVhbVxuICAgICAgLnBpcGVUaHJvdWdoKGNyZWF0ZU91dHB1dFRyYW5zZm9ybVN0cmVhbShvdXRwdXQpKVxuICAgICAgLnBpcGVUaHJvdWdoKGV2ZW50UHJvY2Vzc29yKTtcblxuICAgIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuXG4gICAgY29uc3QgY2FsbFNldHRpbmdzID0gcHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyk7XG5cbiAgICBjb25zdCBiYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyA9IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgIG1vZGVsLFxuICAgICAgdGVsZW1ldHJ5LFxuICAgICAgaGVhZGVycyxcbiAgICAgIHNldHRpbmdzOiB7IC4uLmNhbGxTZXR0aW5ncywgbWF4UmV0cmllcyB9LFxuICAgIH0pO1xuXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICByZWNvcmRTcGFuKHtcbiAgICAgIG5hbWU6ICdhaS5zdHJlYW1UZXh0JyxcbiAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoeyBvcGVyYXRpb25JZDogJ2FpLnN0cmVhbVRleHQnLCB0ZWxlbWV0cnkgfSksXG4gICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICAgICdhaS5wcm9tcHQnOiB7XG4gICAgICAgICAgICBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoeyBzeXN0ZW0sIHByb21wdCwgbWVzc2FnZXMgfSksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgdHJhY2VyLFxuICAgICAgZW5kV2hlbkRvbmU6IGZhbHNlLFxuICAgICAgZm46IGFzeW5jIHJvb3RTcGFuQXJnID0+IHtcbiAgICAgICAgcm9vdFNwYW4gPSByb290U3BhbkFyZztcblxuICAgICAgICBhc3luYyBmdW5jdGlvbiBzdHJlYW1TdGVwKHtcbiAgICAgICAgICBjdXJyZW50U3RlcCxcbiAgICAgICAgICByZXNwb25zZU1lc3NhZ2VzLFxuICAgICAgICAgIHVzYWdlLFxuICAgICAgICB9OiB7XG4gICAgICAgICAgY3VycmVudFN0ZXA6IG51bWJlcjtcbiAgICAgICAgICByZXNwb25zZU1lc3NhZ2VzOiBBcnJheTxSZXNwb25zZU1lc3NhZ2U+O1xuICAgICAgICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgICAgIH0pIHtcbiAgICAgICAgICBjb25zdCBpbmNsdWRlUmF3Q2h1bmtzID0gc2VsZi5pbmNsdWRlUmF3Q2h1bmtzO1xuXG4gICAgICAgICAgc3RlcEZpbmlzaCA9IG5ldyBEZWxheWVkUHJvbWlzZTx2b2lkPigpO1xuXG4gICAgICAgICAgY29uc3QgaW5pdGlhbFByb21wdCA9IGF3YWl0IHN0YW5kYXJkaXplUHJvbXB0KHtcbiAgICAgICAgICAgIHN5c3RlbSxcbiAgICAgICAgICAgIHByb21wdCxcbiAgICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgIH0gYXMgUHJvbXB0KTtcblxuICAgICAgICAgIGNvbnN0IHN0ZXBJbnB1dE1lc3NhZ2VzID0gW1xuICAgICAgICAgICAgLi4uaW5pdGlhbFByb21wdC5tZXNzYWdlcyxcbiAgICAgICAgICAgIC4uLnJlc3BvbnNlTWVzc2FnZXMsXG4gICAgICAgICAgXTtcblxuICAgICAgICAgIGNvbnN0IHByZXBhcmVTdGVwUmVzdWx0ID0gYXdhaXQgcHJlcGFyZVN0ZXA/Lih7XG4gICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgIHN0ZXBzOiByZWNvcmRlZFN0ZXBzLFxuICAgICAgICAgICAgc3RlcE51bWJlcjogcmVjb3JkZWRTdGVwcy5sZW5ndGgsXG4gICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCBwcm9tcHRNZXNzYWdlcyA9IGF3YWl0IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQoe1xuICAgICAgICAgICAgcHJvbXB0OiB7XG4gICAgICAgICAgICAgIHN5c3RlbTogcHJlcGFyZVN0ZXBSZXN1bHQ/LnN5c3RlbSA/PyBpbml0aWFsUHJvbXB0LnN5c3RlbSxcbiAgICAgICAgICAgICAgbWVzc2FnZXM6IHByZXBhcmVTdGVwUmVzdWx0Py5tZXNzYWdlcyA/PyBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBwb3J0ZWRVcmxzOiBhd2FpdCBtb2RlbC5zdXBwb3J0ZWRVcmxzLFxuICAgICAgICAgICAgZG93bmxvYWQsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCBzdGVwTW9kZWwgPSByZXNvbHZlTGFuZ3VhZ2VNb2RlbChcbiAgICAgICAgICAgIHByZXBhcmVTdGVwUmVzdWx0Py5tb2RlbCA/PyBtb2RlbCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgeyB0b29sQ2hvaWNlOiBzdGVwVG9vbENob2ljZSwgdG9vbHM6IHN0ZXBUb29scyB9ID1cbiAgICAgICAgICAgIHByZXBhcmVUb29sc0FuZFRvb2xDaG9pY2Uoe1xuICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgICAgdG9vbENob2ljZTogcHJlcGFyZVN0ZXBSZXN1bHQ/LnRvb2xDaG9pY2UgPz8gdG9vbENob2ljZSxcbiAgICAgICAgICAgICAgYWN0aXZlVG9vbHM6IHByZXBhcmVTdGVwUmVzdWx0Py5hY3RpdmVUb29scyA/PyBhY3RpdmVUb29scyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcmVzdWx0OiB7IHN0cmVhbSwgcmVzcG9uc2UsIHJlcXVlc3QgfSxcbiAgICAgICAgICAgIGRvU3RyZWFtU3BhbixcbiAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wTXMsXG4gICAgICAgICAgfSA9IGF3YWl0IHJldHJ5KCgpID0+XG4gICAgICAgICAgICByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgICAgbmFtZTogJ2FpLnN0cmVhbVRleHQuZG9TdHJlYW0nLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5zdHJlYW1UZXh0LmRvU3RyZWFtJyxcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgIC8vIG1vZGVsOlxuICAgICAgICAgICAgICAgICAgJ2FpLm1vZGVsLnByb3ZpZGVyJzogc3RlcE1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgJ2FpLm1vZGVsLmlkJzogc3RlcE1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAvLyBwcm9tcHQ6XG4gICAgICAgICAgICAgICAgICAnYWkucHJvbXB0Lm1lc3NhZ2VzJzoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5KHByb21wdE1lc3NhZ2VzKSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAnYWkucHJvbXB0LnRvb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRoZSBsYW5ndWFnZSBtb2RlbCBsZXZlbCB0b29sczpcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHN0ZXBUb29scz8ubWFwKHRvb2wgPT4gSlNPTi5zdHJpbmdpZnkodG9vbCkpLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICdhaS5wcm9tcHQudG9vbENob2ljZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xDaG9pY2UgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShzdGVwVG9vbENob2ljZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5zeXN0ZW0nOiBzdGVwTW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QubW9kZWwnOiBzdGVwTW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5mcmVxdWVuY3lfcGVuYWx0eSc6XG4gICAgICAgICAgICAgICAgICAgIGNhbGxTZXR0aW5ncy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnMnOiBjYWxsU2V0dGluZ3MubWF4T3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnByZXNlbmNlX3BlbmFsdHknOlxuICAgICAgICAgICAgICAgICAgICBjYWxsU2V0dGluZ3MucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnN0b3Bfc2VxdWVuY2VzJzogY2FsbFNldHRpbmdzLnN0b3BTZXF1ZW5jZXMsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmUnOiBjYWxsU2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudG9wX2snOiBjYWxsU2V0dGluZ3MudG9wSyxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50b3BfcCc6IGNhbGxTZXR0aW5ncy50b3BQLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgIGVuZFdoZW5Eb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgZm46IGFzeW5jIGRvU3RyZWFtU3BhbiA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wTXM6IG5vdygpLCAvLyBnZXQgYmVmb3JlIHRoZSBjYWxsXG4gICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4sXG4gICAgICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IHN0ZXBNb2RlbC5kb1N0cmVhbSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNhbGxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHM6IHN0ZXBUb29scyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbENob2ljZTogc3RlcFRvb2xDaG9pY2UsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRm9ybWF0OiBvdXRwdXQ/LnJlc3BvbnNlRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IHByb21wdE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlUmF3Q2h1bmtzLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCBzdHJlYW1XaXRoVG9vbFJlc3VsdHMgPSBydW5Ub29sc1RyYW5zZm9ybWF0aW9uKHtcbiAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgZ2VuZXJhdG9yU3RyZWFtOiBzdHJlYW0sXG4gICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgICByZXBhaXJUb29sQ2FsbCxcbiAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCBzdGVwUmVxdWVzdCA9IHJlcXVlc3QgPz8ge307XG4gICAgICAgICAgY29uc3Qgc3RlcFRvb2xDYWxsczogVHlwZWRUb29sQ2FsbDxUT09MUz5bXSA9IFtdO1xuICAgICAgICAgIGNvbnN0IHN0ZXBUb29sT3V0cHV0czogVG9vbE91dHB1dDxUT09MUz5bXSA9IFtdO1xuICAgICAgICAgIGxldCB3YXJuaW5nczogTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmdbXSB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGNvbnN0IGFjdGl2ZVRvb2xDYWxsVG9vbE5hbWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cbiAgICAgICAgICBsZXQgc3RlcEZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uID0gJ3Vua25vd24nO1xuICAgICAgICAgIGxldCBzdGVwVXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZSA9IHtcbiAgICAgICAgICAgIGlucHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdXRwdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRvdGFsVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBsZXQgc3RlcFByb3ZpZGVyTWV0YWRhdGE6IFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgbGV0IHN0ZXBGaXJzdENodW5rID0gdHJ1ZTtcbiAgICAgICAgICBsZXQgc3RlcFJlc3BvbnNlOiB7IGlkOiBzdHJpbmc7IHRpbWVzdGFtcDogRGF0ZTsgbW9kZWxJZDogc3RyaW5nIH0gPSB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBjdXJyZW50RGF0ZSgpLFxuICAgICAgICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gcmF3IHRleHQgYXMgaXQgY29tZXMgZnJvbSB0aGUgcHJvdmlkZXIuIHJlY29yZGVkIGZvciB0ZWxlbWV0cnkuXG4gICAgICAgICAgbGV0IGFjdGl2ZVRleHQgPSAnJztcblxuICAgICAgICAgIHNlbGYuYWRkU3RyZWFtKFxuICAgICAgICAgICAgc3RyZWFtV2l0aFRvb2xSZXN1bHRzLnBpcGVUaHJvdWdoKFxuICAgICAgICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICAgICAgICAgIFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUz4sXG4gICAgICAgICAgICAgICAgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+XG4gICAgICAgICAgICAgID4oe1xuICAgICAgICAgICAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICdzdHJlYW0tc3RhcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzID0gY2h1bmsud2FybmluZ3M7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc3RyZWFtIHN0YXJ0IGNodW5rcyBhcmUgc2VudCBpbW1lZGlhdGVseSBhbmQgZG8gbm90IGNvdW50IGFzIGZpcnN0IGNodW5rXG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmIChzdGVwRmlyc3RDaHVuaykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUZWxlbWV0cnkgZm9yIGZpcnN0IGNodW5rOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtc1RvRmlyc3RDaHVuayA9IG5vdygpIC0gc3RhcnRUaW1lc3RhbXBNcztcblxuICAgICAgICAgICAgICAgICAgICBzdGVwRmlyc3RDaHVuayA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5hZGRFdmVudCgnYWkuc3RyZWFtLmZpcnN0Q2h1bmsnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm1zVG9GaXJzdENodW5rJzogbXNUb0ZpcnN0Q2h1bmssXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UubXNUb0ZpcnN0Q2h1bmsnOiBtc1RvRmlyc3RDaHVuayxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RlcCBzdGFydDpcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RhcnQtc3RlcCcsXG4gICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogc3RlcFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgd2FybmluZ3M6IHdhcm5pbmdzID8/IFtdLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmtUeXBlID0gY2h1bmsudHlwZTtcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2h1bmtUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQtc3RhcnQnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0LWVuZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dC1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsuZGVsdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQtZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY2h1bmsuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNodW5rLmRlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUZXh0ICs9IGNodW5rLmRlbHRhO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1zdGFydCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1lbmQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZy1kZWx0YScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogY2h1bmsuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjaHVuay5kZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b29sLWNhbGwnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSB0b29sIGNhbGxzIGZvciBvbkZpbmlzaCBjYWxsYmFjayBhbmQgdG9vbENhbGxzIHByb21pc2U6XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xDYWxscy5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Rvb2wtcmVzdWx0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNodW5rLnByZWxpbWluYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwVG9vbE91dHB1dHMucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b29sLWVycm9yJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xPdXRwdXRzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVzcG9uc2UtbWV0YWRhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNodW5rLmlkID8/IHN0ZXBSZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogY2h1bmsudGltZXN0YW1wID8/IHN0ZXBSZXNwb25zZS50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbElkOiBjaHVuay5tb2RlbElkID8/IHN0ZXBSZXNwb25zZS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmaW5pc2gnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdG9vbCBleGVjdXRpb25zIG1pZ2h0IG5vdCBiZSBmaW5pc2hlZCB5ZXQgd2hlbiB0aGUgZmluaXNoIGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgdXNhZ2UgYW5kIGZpbmlzaCByZWFzb24gZm9yIHByb21pc2VzIGFuZCBvbkZpbmlzaCBjYWxsYmFjazpcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwVXNhZ2UgPSBjaHVuay51c2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwRmluaXNoUmVhc29uID0gY2h1bmsuZmluaXNoUmVhc29uO1xuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBQcm92aWRlck1ldGFkYXRhID0gY2h1bmsucHJvdmlkZXJNZXRhZGF0YTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIFRlbGVtZXRyeSBmb3IgZmluaXNoIGV2ZW50IHRpbWluZ1xuICAgICAgICAgICAgICAgICAgICAgIC8vIChzaW5jZSB0b29sIGV4ZWN1dGlvbnMgY2FuIHRha2UgbG9uZ2VyIGFuZCBkaXN0b3J0IGNhbGN1bGF0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtc1RvRmluaXNoID0gbm93KCkgLSBzdGFydFRpbWVzdGFtcE1zO1xuICAgICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5hZGRFdmVudCgnYWkuc3RyZWFtLmZpbmlzaCcpO1xuICAgICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5tc1RvRmluaXNoJzogbXNUb0ZpbmlzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5hdmdPdXRwdXRUb2tlbnNQZXJTZWNvbmQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoMTAwMCAqIChzdGVwVXNhZ2Uub3V0cHV0VG9rZW5zID8/IDApKSAvIG1zVG9GaW5pc2gsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGUnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NvdXJjZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1zdGFydCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUb29sQ2FsbFRvb2xOYW1lc1tjaHVuay5pZF0gPSBjaHVuay50b29sTmFtZTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2wgPSB0b29scz8uW2NodW5rLnRvb2xOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodG9vbD8ub25JbnB1dFN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRvb2wub25JbnB1dFN0YXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNodW5rLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHluYW1pYzogdG9vbD8udHlwZSA9PT0gJ2R5bmFtaWMnLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1lbmQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFjdGl2ZVRvb2xDYWxsVG9vbE5hbWVzW2NodW5rLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IGFjdGl2ZVRvb2xDYWxsVG9vbE5hbWVzW2NodW5rLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sID0gdG9vbHM/Llt0b29sTmFtZV07XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAodG9vbD8ub25JbnB1dERlbHRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRvb2wub25JbnB1dERlbHRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0RGVsdGE6IGNodW5rLmRlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwRmluaXNoUmVhc29uID0gJ2Vycm9yJztcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Jhdyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVJhd0NodW5rcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IGNodW5rVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY2h1bmsgdHlwZTogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLy8gaW52b2tlIG9uRmluaXNoIGNhbGxiYWNrIGFuZCByZXNvbHZlIHRvb2xSZXN1bHRzIHByb21pc2Ugd2hlbiB0aGUgc3RyZWFtIGlzIGFib3V0IHRvIGNsb3NlOlxuICAgICAgICAgICAgICAgIGFzeW5jIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXBUb29sQ2FsbHNKc29uID1cbiAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xDYWxscy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShzdGVwVG9vbENhbGxzKVxuICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAvLyByZWNvcmQgdGVsZW1ldHJ5IGluZm9ybWF0aW9uIGZpcnN0IHRvIGVuc3VyZSBiZXN0IGVmZm9ydCB0aW1pbmdcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuZmluaXNoUmVhc29uJzogc3RlcEZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRleHQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBhY3RpdmVUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudG9vbENhbGxzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gc3RlcFRvb2xDYWxsc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5pZCc6IHN0ZXBSZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm1vZGVsJzogc3RlcFJlc3BvbnNlLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50aW1lc3RhbXAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBSZXNwb25zZS50aW1lc3RhbXAudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHN0ZXBQcm92aWRlck1ldGFkYXRhKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuaW5wdXRUb2tlbnMnOiBzdGVwVXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5vdXRwdXRUb2tlbnMnOiBzdGVwVXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UudG90YWxUb2tlbnMnOiBzdGVwVXNhZ2UudG90YWxUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5yZWFzb25pbmdUb2tlbnMnOiBzdGVwVXNhZ2UucmVhc29uaW5nVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBVc2FnZS5jYWNoZWRJbnB1dFRva2VucyxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnMnOiBbc3RlcEZpbmlzaFJlYXNvbl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuaWQnOiBzdGVwUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UubW9kZWwnOiBzdGVwUmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS51c2FnZS5pbnB1dF90b2tlbnMnOiBzdGVwVXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkudXNhZ2Uub3V0cHV0X3Rva2Vucyc6IHN0ZXBVc2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGVycm9yIHNldHRpbmcgdGVsZW1ldHJ5IGF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaCBkb1N0cmVhbVNwYW4gYmVmb3JlIG90aGVyIG9wZXJhdGlvbnMgZm9yIGNvcnJlY3QgdGltaW5nOlxuICAgICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaW5pc2gtc3RlcCcsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogc3RlcEZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IHN0ZXBVc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogc3RlcFByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uc3RlcFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlPy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJpbmVkVXNhZ2UgPSBhZGRMYW5ndWFnZU1vZGVsVXNhZ2UodXNhZ2UsIHN0ZXBVc2FnZSk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSBzdGVwIHRvIGJlIGZ1bGx5IHByb2Nlc3NlZCBieSB0aGUgZXZlbnQgcHJvY2Vzc29yXG4gICAgICAgICAgICAgICAgICAvLyB0byBlbnN1cmUgdGhhdCB0aGUgcmVjb3JkZWQgc3RlcHMgYXJlIGNvbXBsZXRlOlxuICAgICAgICAgICAgICAgICAgYXdhaXQgc3RlcEZpbmlzaC5wcm9taXNlO1xuXG4gICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRUb29sQ2FsbHMgPSBzdGVwVG9vbENhbGxzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGwgPT4gdG9vbENhbGwucHJvdmlkZXJFeGVjdXRlZCAhPT0gdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRUb29sT3V0cHV0cyA9IHN0ZXBUb29sT3V0cHV0cy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgIHRvb2xPdXRwdXQgPT4gdG9vbE91dHB1dC5wcm92aWRlckV4ZWN1dGVkICE9PSB0cnVlLFxuICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjbGllbnRUb29sQ2FsbHMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBhbGwgY3VycmVudCB0b29sIGNhbGxzIGhhdmUgb3V0cHV0cyAoaW5jbC4gZXhlY3V0aW9uIGVycm9ycyk6XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFRvb2xPdXRwdXRzLmxlbmd0aCA9PT0gY2xpZW50VG9vbENhbGxzLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBjb250aW51ZSB1bnRpbCBhIHN0b3AgY29uZGl0aW9uIGlzIG1ldDpcbiAgICAgICAgICAgICAgICAgICAgIShhd2FpdCBpc1N0b3BDb25kaXRpb25NZXQoe1xuICAgICAgICAgICAgICAgICAgICAgIHN0b3BDb25kaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBzOiByZWNvcmRlZFN0ZXBzLFxuICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhcHBlbmQgdG8gbWVzc2FnZXMgZm9yIHRoZSBuZXh0IHN0ZXA6XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAuLi50b1Jlc3BvbnNlTWVzc2FnZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlIHRyYW5zZm9ybWVkIGNvbnRlbnQgdG8gY3JlYXRlIHRoZSBtZXNzYWdlcyBmb3IgdGhlIG5leHQgc3RlcDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkZWRTdGVwc1tyZWNvcmRlZFN0ZXBzLmxlbmd0aCAtIDFdLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0cmVhbVN0ZXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0ZXA6IGN1cnJlbnRTdGVwICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2FnZTogY29tYmluZWRVc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi5jbG9zZVN0cmVhbSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaW5pc2gnLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogc3RlcEZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICB0b3RhbFVzYWdlOiBjb21iaW5lZFVzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNsb3NlU3RyZWFtKCk7IC8vIGNsb3NlIHRoZSBzdGl0Y2hhYmxlIHN0cmVhbVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoZSBpbml0aWFsIHN0cmVhbSB0byB0aGUgc3RpdGNoYWJsZSBzdHJlYW1cbiAgICAgICAgYXdhaXQgc3RyZWFtU3RlcCh7XG4gICAgICAgICAgY3VycmVudFN0ZXA6IDAsXG4gICAgICAgICAgcmVzcG9uc2VNZXNzYWdlczogW10sXG4gICAgICAgICAgdXNhZ2U6IHtcbiAgICAgICAgICAgIGlucHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdXRwdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRvdGFsVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIC8vIGFkZCBhbiBlcnJvciBzdHJlYW0gcGFydCBhbmQgY2xvc2UgdGhlIHN0cmVhbXM6XG4gICAgICBzZWxmLmFkZFN0cmVhbShcbiAgICAgICAgbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnZXJyb3InLCBlcnJvciB9KTtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgICBzZWxmLmNsb3NlU3RyZWFtKCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgc3RlcHMoKSB7XG4gICAgLy8gd2hlbiBhbnkgb2YgdGhlIHByb21pc2VzIGFyZSBhY2Nlc3NlZCwgdGhlIHN0cmVhbSBpcyBjb25zdW1lZFxuICAgIC8vIHNvIGl0IHJlc29sdmVzIHdpdGhvdXQgbmVlZGluZyB0byBjb25zdW1lIHRoZSBzdHJlYW0gc2VwYXJhdGVseVxuICAgIHRoaXMuY29uc3VtZVN0cmVhbSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX3N0ZXBzLnByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIGdldCBmaW5hbFN0ZXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcHMudGhlbihzdGVwcyA9PiBzdGVwc1tzdGVwcy5sZW5ndGggLSAxXSk7XG4gIH1cblxuICBnZXQgY29udGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAuY29udGVudCk7XG4gIH1cblxuICBnZXQgd2FybmluZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLndhcm5pbmdzKTtcbiAgfVxuXG4gIGdldCBwcm92aWRlck1ldGFkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5wcm92aWRlck1ldGFkYXRhKTtcbiAgfVxuXG4gIGdldCB0ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC50ZXh0KTtcbiAgfVxuXG4gIGdldCByZWFzb25pbmdUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5yZWFzb25pbmdUZXh0KTtcbiAgfVxuXG4gIGdldCByZWFzb25pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnJlYXNvbmluZyk7XG4gIH1cblxuICBnZXQgc291cmNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAuc291cmNlcyk7XG4gIH1cblxuICBnZXQgZmlsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLmZpbGVzKTtcbiAgfVxuXG4gIGdldCB0b29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnRvb2xDYWxscyk7XG4gIH1cblxuICBnZXQgc3RhdGljVG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5zdGF0aWNUb29sQ2FsbHMpO1xuICB9XG5cbiAgZ2V0IGR5bmFtaWNUb29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLmR5bmFtaWNUb29sQ2FsbHMpO1xuICB9XG5cbiAgZ2V0IHRvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC50b29sUmVzdWx0cyk7XG4gIH1cblxuICBnZXQgc3RhdGljVG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnN0YXRpY1Rvb2xSZXN1bHRzKTtcbiAgfVxuXG4gIGdldCBkeW5hbWljVG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLmR5bmFtaWNUb29sUmVzdWx0cyk7XG4gIH1cblxuICBnZXQgdXNhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnVzYWdlKTtcbiAgfVxuXG4gIGdldCByZXF1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5yZXF1ZXN0KTtcbiAgfVxuXG4gIGdldCByZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAucmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0IHRvdGFsVXNhZ2UoKSB7XG4gICAgLy8gd2hlbiBhbnkgb2YgdGhlIHByb21pc2VzIGFyZSBhY2Nlc3NlZCwgdGhlIHN0cmVhbSBpcyBjb25zdW1lZFxuICAgIC8vIHNvIGl0IHJlc29sdmVzIHdpdGhvdXQgbmVlZGluZyB0byBjb25zdW1lIHRoZSBzdHJlYW0gc2VwYXJhdGVseVxuICAgIHRoaXMuY29uc3VtZVN0cmVhbSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX3RvdGFsVXNhZ2UucHJvbWlzZTtcbiAgfVxuXG4gIGdldCBmaW5pc2hSZWFzb24oKSB7XG4gICAgLy8gd2hlbiBhbnkgb2YgdGhlIHByb21pc2VzIGFyZSBhY2Nlc3NlZCwgdGhlIHN0cmVhbSBpcyBjb25zdW1lZFxuICAgIC8vIHNvIGl0IHJlc29sdmVzIHdpdGhvdXQgbmVlZGluZyB0byBjb25zdW1lIHRoZSBzdHJlYW0gc2VwYXJhdGVseVxuICAgIHRoaXMuY29uc3VtZVN0cmVhbSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2ZpbmlzaFJlYXNvbi5wcm9taXNlO1xuICB9XG5cbiAgLyoqXG5TcGxpdCBvdXQgYSBuZXcgc3RyZWFtIGZyb20gdGhlIG9yaWdpbmFsIHN0cmVhbS5cblRoZSBvcmlnaW5hbCBzdHJlYW0gaXMgcmVwbGFjZWQgdG8gYWxsb3cgZm9yIGZ1cnRoZXIgc3BsaXR0aW5nLFxuc2luY2Ugd2UgZG8gbm90IGtub3cgaG93IG1hbnkgdGltZXMgdGhlIHN0cmVhbSB3aWxsIGJlIHNwbGl0LlxuXG5Ob3RlOiB0aGlzIGxlYWRzIHRvIGJ1ZmZlcmluZyB0aGUgc3RyZWFtIGNvbnRlbnQgb24gdGhlIHNlcnZlci5cbkhvd2V2ZXIsIHRoZSBMTE0gcmVzdWx0cyBhcmUgZXhwZWN0ZWQgdG8gYmUgc21hbGwgZW5vdWdoIHRvIG5vdCBjYXVzZSBpc3N1ZXMuXG4gICAqL1xuICBwcml2YXRlIHRlZVN0cmVhbSgpIHtcbiAgICBjb25zdCBbc3RyZWFtMSwgc3RyZWFtMl0gPSB0aGlzLmJhc2VTdHJlYW0udGVlKCk7XG4gICAgdGhpcy5iYXNlU3RyZWFtID0gc3RyZWFtMjtcbiAgICByZXR1cm4gc3RyZWFtMTtcbiAgfVxuXG4gIGdldCB0ZXh0U3RyZWFtKCk6IEFzeW5jSXRlcmFibGVTdHJlYW08c3RyaW5nPiB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLnRlZVN0cmVhbSgpLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+LCBzdHJpbmc+KHtcbiAgICAgICAgICB0cmFuc2Zvcm0oeyBwYXJ0IH0sIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0ZXh0LWRlbHRhJykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocGFydC50ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGdldCBmdWxsU3RyZWFtKCk6IEFzeW5jSXRlcmFibGVTdHJlYW08VGV4dFN0cmVhbVBhcnQ8VE9PTFM+PiB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLnRlZVN0cmVhbSgpLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICAgIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+LFxuICAgICAgICAgIFRleHRTdHJlYW1QYXJ0PFRPT0xTPlxuICAgICAgICA+KHtcbiAgICAgICAgICB0cmFuc2Zvcm0oeyBwYXJ0IH0sIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShwYXJ0KTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIGNvbnN1bWVTdHJlYW0ob3B0aW9ucz86IENvbnN1bWVTdHJlYW1PcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGNvbnN1bWVTdHJlYW0oe1xuICAgICAgICBzdHJlYW06IHRoaXMuZnVsbFN0cmVhbSxcbiAgICAgICAgb25FcnJvcjogb3B0aW9ucz8ub25FcnJvcixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBvcHRpb25zPy5vbkVycm9yPy4oZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBleHBlcmltZW50YWxfcGFydGlhbE91dHB1dFN0cmVhbSgpOiBBc3luY0l0ZXJhYmxlU3RyZWFtPFBBUlRJQUxfT1VUUFVUPiB7XG4gICAgaWYgKHRoaXMub3V0cHV0ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb091dHB1dFNwZWNpZmllZEVycm9yKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLnRlZVN0cmVhbSgpLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICAgIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+LFxuICAgICAgICAgIFBBUlRJQUxfT1VUUFVUXG4gICAgICAgID4oe1xuICAgICAgICAgIHRyYW5zZm9ybSh7IHBhcnRpYWxPdXRwdXQgfSwgY29udHJvbGxlcikge1xuICAgICAgICAgICAgaWYgKHBhcnRpYWxPdXRwdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocGFydGlhbE91dHB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICB0b1VJTWVzc2FnZVN0cmVhbTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPih7XG4gICAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgICBnZW5lcmF0ZU1lc3NhZ2VJZCxcbiAgICBvbkZpbmlzaCxcbiAgICBtZXNzYWdlTWV0YWRhdGEsXG4gICAgc2VuZFJlYXNvbmluZyA9IHRydWUsXG4gICAgc2VuZFNvdXJjZXMgPSBmYWxzZSxcbiAgICBzZW5kU3RhcnQgPSB0cnVlLFxuICAgIHNlbmRGaW5pc2ggPSB0cnVlLFxuICAgIG9uRXJyb3IgPSBnZXRFcnJvck1lc3NhZ2UsXG4gIH06IFVJTWVzc2FnZVN0cmVhbU9wdGlvbnM8VUlfTUVTU0FHRT4gPSB7fSk6IEFzeW5jSXRlcmFibGVTdHJlYW08XG4gICAgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPlxuICA+IHtcbiAgICBjb25zdCByZXNwb25zZU1lc3NhZ2VJZCA9XG4gICAgICBnZW5lcmF0ZU1lc3NhZ2VJZCAhPSBudWxsXG4gICAgICAgID8gZ2V0UmVzcG9uc2VVSU1lc3NhZ2VJZCh7XG4gICAgICAgICAgICBvcmlnaW5hbE1lc3NhZ2VzLFxuICAgICAgICAgICAgcmVzcG9uc2VNZXNzYWdlSWQ6IGdlbmVyYXRlTWVzc2FnZUlkLFxuICAgICAgICAgIH0pXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgdG9vbE5hbWVzQnlDYWxsSWQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgIGNvbnN0IGlzRHluYW1pYyA9ICh0b29sQ2FsbElkOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IHRvb2xOYW1lID0gdG9vbE5hbWVzQnlDYWxsSWRbdG9vbENhbGxJZF07XG4gICAgICBjb25zdCBkeW5hbWljID0gdGhpcy50b29scz8uW3Rvb2xOYW1lXT8udHlwZSA9PT0gJ2R5bmFtaWMnO1xuICAgICAgcmV0dXJuIGR5bmFtaWMgPyB0cnVlIDogdW5kZWZpbmVkOyAvLyBvbmx5IHNlbmQgd2hlbiBkeW5hbWljIHRvIHJlZHVjZSBkYXRhIHRyYW5zZmVyXG4gICAgfTtcblxuICAgIGNvbnN0IGJhc2VTdHJlYW0gPSB0aGlzLmZ1bGxTdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICBUZXh0U3RyZWFtUGFydDxUT09MUz4sXG4gICAgICAgIFVJTWVzc2FnZUNodW5rPFxuICAgICAgICAgIEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT4sXG4gICAgICAgICAgSW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+XG4gICAgICAgID5cbiAgICAgID4oe1xuICAgICAgICB0cmFuc2Zvcm06IGFzeW5jIChwYXJ0LCBjb250cm9sbGVyKSA9PiB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZU1ldGFkYXRhVmFsdWUgPSBtZXNzYWdlTWV0YWRhdGE/Lih7IHBhcnQgfSk7XG5cbiAgICAgICAgICBjb25zdCBwYXJ0VHlwZSA9IHBhcnQudHlwZTtcbiAgICAgICAgICBzd2l0Y2ggKHBhcnRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICd0ZXh0LXN0YXJ0Jzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0LXN0YXJ0JyxcbiAgICAgICAgICAgICAgICBpZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndGV4dC1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dC1kZWx0YScsXG4gICAgICAgICAgICAgICAgaWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgZGVsdGE6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndGV4dC1lbmQnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQtZW5kJyxcbiAgICAgICAgICAgICAgICBpZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLXN0YXJ0Jzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctc3RhcnQnLFxuICAgICAgICAgICAgICAgIGlkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyZWFzb25pbmctZGVsdGEnOiB7XG4gICAgICAgICAgICAgIGlmIChzZW5kUmVhc29uaW5nKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgaWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgICBkZWx0YTogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLWVuZCc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nLWVuZCcsXG4gICAgICAgICAgICAgICAgaWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZpbGUnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICAgICAgICAgIG1lZGlhVHlwZTogcGFydC5maWxlLm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICB1cmw6IGBkYXRhOiR7cGFydC5maWxlLm1lZGlhVHlwZX07YmFzZTY0LCR7cGFydC5maWxlLmJhc2U2NH1gLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3NvdXJjZSc6IHtcbiAgICAgICAgICAgICAgaWYgKHNlbmRTb3VyY2VzICYmIHBhcnQuc291cmNlVHlwZSA9PT0gJ3VybCcpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3NvdXJjZS11cmwnLFxuICAgICAgICAgICAgICAgICAgc291cmNlSWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgICB1cmw6IHBhcnQudXJsLFxuICAgICAgICAgICAgICAgICAgdGl0bGU6IHBhcnQudGl0bGUsXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHNlbmRTb3VyY2VzICYmIHBhcnQuc291cmNlVHlwZSA9PT0gJ2RvY3VtZW50Jykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnc291cmNlLWRvY3VtZW50JyxcbiAgICAgICAgICAgICAgICAgIHNvdXJjZUlkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgICAgbWVkaWFUeXBlOiBwYXJ0Lm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiBwYXJ0LnRpdGxlLFxuICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IHBhcnQuZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LXN0YXJ0Jzoge1xuICAgICAgICAgICAgICB0b29sTmFtZXNCeUNhbGxJZFtwYXJ0LmlkXSA9IHBhcnQudG9vbE5hbWU7XG4gICAgICAgICAgICAgIGNvbnN0IGR5bmFtaWMgPSBpc0R5bmFtaWMocGFydC5pZCk7XG5cbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1pbnB1dC1zdGFydCcsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlckV4ZWN1dGVkICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlckV4ZWN1dGVkOiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgLi4uKGR5bmFtaWMgIT0gbnVsbCA/IHsgZHluYW1pYyB9IDoge30pLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtZGVsdGEnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtZGVsdGEnLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgaW5wdXRUZXh0RGVsdGE6IHBhcnQuZGVsdGEsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1jYWxsJzoge1xuICAgICAgICAgICAgICB0b29sTmFtZXNCeUNhbGxJZFtwYXJ0LnRvb2xDYWxsSWRdID0gcGFydC50b29sTmFtZTtcbiAgICAgICAgICAgICAgY29uc3QgZHluYW1pYyA9IGlzRHluYW1pYyhwYXJ0LnRvb2xDYWxsSWQpO1xuXG4gICAgICAgICAgICAgIGlmIChwYXJ0LmludmFsaWQpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtZXJyb3InLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogcGFydC5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgLi4uKGR5bmFtaWMgIT0gbnVsbCA/IHsgZHluYW1pYyB9IDoge30pLFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBvbkVycm9yKHBhcnQuZXJyb3IpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1pbnB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogcGFydC5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgLi4uKGR5bmFtaWMgIT0gbnVsbCA/IHsgZHluYW1pYyB9IDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtcmVzdWx0Jzoge1xuICAgICAgICAgICAgICBjb25zdCBkeW5hbWljID0gaXNEeW5hbWljKHBhcnQudG9vbENhbGxJZCk7XG5cbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1vdXRwdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBwYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlckV4ZWN1dGVkICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlckV4ZWN1dGVkOiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJlbGltaW5hcnkgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IHByZWxpbWluYXJ5OiBwYXJ0LnByZWxpbWluYXJ5IH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIC4uLihkeW5hbWljICE9IG51bGwgPyB7IGR5bmFtaWMgfSA6IHt9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWVycm9yJzoge1xuICAgICAgICAgICAgICBjb25zdCBkeW5hbWljID0gaXNEeW5hbWljKHBhcnQudG9vbENhbGxJZCk7XG5cbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1vdXRwdXQtZXJyb3InLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBlcnJvclRleHQ6IG9uRXJyb3IocGFydC5lcnJvciksXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJFeGVjdXRlZCAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIC4uLihkeW5hbWljICE9IG51bGwgPyB7IGR5bmFtaWMgfSA6IHt9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGVycm9yVGV4dDogb25FcnJvcihwYXJ0LmVycm9yKSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzdGFydC1zdGVwJzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnc3RhcnQtc3RlcCcgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaW5pc2gtc3RlcCc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ2ZpbmlzaC1zdGVwJyB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0Jzoge1xuICAgICAgICAgICAgICBpZiAoc2VuZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdGFydCcsXG4gICAgICAgICAgICAgICAgICAuLi4obWVzc2FnZU1ldGFkYXRhVmFsdWUgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgbWVzc2FnZU1ldGFkYXRhOiBtZXNzYWdlTWV0YWRhdGFWYWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgLi4uKHJlc3BvbnNlTWVzc2FnZUlkICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IG1lc3NhZ2VJZDogcmVzcG9uc2VNZXNzYWdlSWQgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNoJzoge1xuICAgICAgICAgICAgICBpZiAoc2VuZEZpbmlzaCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZmluaXNoJyxcbiAgICAgICAgICAgICAgICAgIC4uLihtZXNzYWdlTWV0YWRhdGFWYWx1ZSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBtZXNzYWdlTWV0YWRhdGE6IG1lc3NhZ2VNZXRhZGF0YVZhbHVlIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2Fib3J0Jzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocGFydCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LWVuZCc6IHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Jhdyc6IHtcbiAgICAgICAgICAgICAgLy8gUmF3IGNodW5rcyBhcmUgbm90IGluY2x1ZGVkIGluIFVJIG1lc3NhZ2Ugc3RyZWFtc1xuICAgICAgICAgICAgICAvLyBhcyB0aGV5IGNvbnRhaW4gcHJvdmlkZXItc3BlY2lmaWMgZGF0YSBmb3IgZGV2ZWxvcGVyIHVzZVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gcGFydFR5cGU7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBjaHVuayB0eXBlOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzdGFydCBhbmQgZmluaXNoIGV2ZW50cyBhbHJlYWR5IGhhdmUgbWV0YWRhdGFcbiAgICAgICAgICAvLyBzbyB3ZSBvbmx5IG5lZWQgdG8gc2VuZCBtZXRhZGF0YSBmb3Igb3RoZXIgcGFydHNcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBtZXNzYWdlTWV0YWRhdGFWYWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgICBwYXJ0VHlwZSAhPT0gJ3N0YXJ0JyAmJlxuICAgICAgICAgICAgcGFydFR5cGUgIT09ICdmaW5pc2gnXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICB0eXBlOiAnbWVzc2FnZS1tZXRhZGF0YScsXG4gICAgICAgICAgICAgIG1lc3NhZ2VNZXRhZGF0YTogbWVzc2FnZU1ldGFkYXRhVmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICBoYW5kbGVVSU1lc3NhZ2VTdHJlYW1GaW5pc2g8VUlfTUVTU0FHRT4oe1xuICAgICAgICBzdHJlYW06IGJhc2VTdHJlYW0sXG4gICAgICAgIG1lc3NhZ2VJZDogcmVzcG9uc2VNZXNzYWdlSWQgPz8gZ2VuZXJhdGVNZXNzYWdlSWQ/LigpLFxuICAgICAgICBvcmlnaW5hbE1lc3NhZ2VzLFxuICAgICAgICBvbkZpbmlzaCxcbiAgICAgICAgb25FcnJvcixcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBwaXBlVUlNZXNzYWdlU3RyZWFtVG9SZXNwb25zZTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPihcbiAgICByZXNwb25zZTogU2VydmVyUmVzcG9uc2UsXG4gICAge1xuICAgICAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgICAgIGdlbmVyYXRlTWVzc2FnZUlkLFxuICAgICAgb25GaW5pc2gsXG4gICAgICBtZXNzYWdlTWV0YWRhdGEsXG4gICAgICBzZW5kUmVhc29uaW5nLFxuICAgICAgc2VuZFNvdXJjZXMsXG4gICAgICBzZW5kRmluaXNoLFxuICAgICAgc2VuZFN0YXJ0LFxuICAgICAgb25FcnJvcixcbiAgICAgIC4uLmluaXRcbiAgICB9OiBVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZUluaXQgJiBVSU1lc3NhZ2VTdHJlYW1PcHRpb25zPFVJX01FU1NBR0U+ID0ge30sXG4gICkge1xuICAgIHBpcGVVSU1lc3NhZ2VTdHJlYW1Ub1Jlc3BvbnNlKHtcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgc3RyZWFtOiB0aGlzLnRvVUlNZXNzYWdlU3RyZWFtKHtcbiAgICAgICAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgICAgICAgZ2VuZXJhdGVNZXNzYWdlSWQsXG4gICAgICAgIG9uRmluaXNoLFxuICAgICAgICBtZXNzYWdlTWV0YWRhdGEsXG4gICAgICAgIHNlbmRSZWFzb25pbmcsXG4gICAgICAgIHNlbmRTb3VyY2VzLFxuICAgICAgICBzZW5kRmluaXNoLFxuICAgICAgICBzZW5kU3RhcnQsXG4gICAgICAgIG9uRXJyb3IsXG4gICAgICB9KSxcbiAgICAgIC4uLmluaXQsXG4gICAgfSk7XG4gIH1cblxuICBwaXBlVGV4dFN0cmVhbVRvUmVzcG9uc2UocmVzcG9uc2U6IFNlcnZlclJlc3BvbnNlLCBpbml0PzogUmVzcG9uc2VJbml0KSB7XG4gICAgcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlKHtcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgdGV4dFN0cmVhbTogdGhpcy50ZXh0U3RyZWFtLFxuICAgICAgLi4uaW5pdCxcbiAgICB9KTtcbiAgfVxuXG4gIHRvVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2U8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oe1xuICAgIG9yaWdpbmFsTWVzc2FnZXMsXG4gICAgZ2VuZXJhdGVNZXNzYWdlSWQsXG4gICAgb25GaW5pc2gsXG4gICAgbWVzc2FnZU1ldGFkYXRhLFxuICAgIHNlbmRSZWFzb25pbmcsXG4gICAgc2VuZFNvdXJjZXMsXG4gICAgc2VuZEZpbmlzaCxcbiAgICBzZW5kU3RhcnQsXG4gICAgb25FcnJvcixcbiAgICAuLi5pbml0XG4gIH06IFVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlSW5pdCAmXG4gICAgVUlNZXNzYWdlU3RyZWFtT3B0aW9uczxVSV9NRVNTQUdFPiA9IHt9KTogUmVzcG9uc2Uge1xuICAgIHJldHVybiBjcmVhdGVVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZSh7XG4gICAgICBzdHJlYW06IHRoaXMudG9VSU1lc3NhZ2VTdHJlYW0oe1xuICAgICAgICBvcmlnaW5hbE1lc3NhZ2VzLFxuICAgICAgICBnZW5lcmF0ZU1lc3NhZ2VJZCxcbiAgICAgICAgb25GaW5pc2gsXG4gICAgICAgIG1lc3NhZ2VNZXRhZGF0YSxcbiAgICAgICAgc2VuZFJlYXNvbmluZyxcbiAgICAgICAgc2VuZFNvdXJjZXMsXG4gICAgICAgIHNlbmRGaW5pc2gsXG4gICAgICAgIHNlbmRTdGFydCxcbiAgICAgICAgb25FcnJvcixcbiAgICAgIH0pLFxuICAgICAgLi4uaW5pdCxcbiAgICB9KTtcbiAgfVxuXG4gIHRvVGV4dFN0cmVhbVJlc3BvbnNlKGluaXQ/OiBSZXNwb25zZUluaXQpOiBSZXNwb25zZSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRleHRTdHJlYW1SZXNwb25zZSh7XG4gICAgICB0ZXh0U3RyZWFtOiB0aGlzLnRleHRTdHJlYW0sXG4gICAgICAuLi5pbml0LFxuICAgIH0pO1xuICB9XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVIZWFkZXJzKFxuICBoZWFkZXJzOiBIZWFkZXJzSW5pdCB8IHVuZGVmaW5lZCxcbiAgZGVmYXVsdEhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4pOiBIZWFkZXJzIHtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gbmV3IEhlYWRlcnMoaGVhZGVycyA/PyB7fSk7XG5cbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGVmYXVsdEhlYWRlcnMpKSB7XG4gICAgaWYgKCFyZXNwb25zZUhlYWRlcnMuaGFzKGtleSkpIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3BvbnNlSGVhZGVycztcbn1cbiIsICJpbXBvcnQgeyBwcmVwYXJlSGVhZGVycyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1oZWFkZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRleHRTdHJlYW1SZXNwb25zZSh7XG4gIHN0YXR1cyxcbiAgc3RhdHVzVGV4dCxcbiAgaGVhZGVycyxcbiAgdGV4dFN0cmVhbSxcbn06IFJlc3BvbnNlSW5pdCAmIHtcbiAgdGV4dFN0cmVhbTogUmVhZGFibGVTdHJlYW08c3RyaW5nPjtcbn0pOiBSZXNwb25zZSB7XG4gIHJldHVybiBuZXcgUmVzcG9uc2UodGV4dFN0cmVhbS5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSksIHtcbiAgICBzdGF0dXM6IHN0YXR1cyA/PyAyMDAsXG4gICAgc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBwcmVwYXJlSGVhZGVycyhoZWFkZXJzLCB7XG4gICAgICAnY29udGVudC10eXBlJzogJ3RleHQvcGxhaW47IGNoYXJzZXQ9dXRmLTgnLFxuICAgIH0pLFxuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ25vZGU6aHR0cCc7XG5cbi8qKlxuICogV3JpdGVzIHRoZSBjb250ZW50IG9mIGEgc3RyZWFtIHRvIGEgc2VydmVyIHJlc3BvbnNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVUb1NlcnZlclJlc3BvbnNlKHtcbiAgcmVzcG9uc2UsXG4gIHN0YXR1cyxcbiAgc3RhdHVzVGV4dCxcbiAgaGVhZGVycyxcbiAgc3RyZWFtLFxufToge1xuICByZXNwb25zZTogU2VydmVyUmVzcG9uc2U7XG4gIHN0YXR1cz86IG51bWJlcjtcbiAgc3RhdHVzVGV4dD86IHN0cmluZztcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlciB8IHN0cmluZ1tdPjtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5Pjtcbn0pOiB2b2lkIHtcbiAgcmVzcG9uc2Uud3JpdGVIZWFkKHN0YXR1cyA/PyAyMDAsIHN0YXR1c1RleHQsIGhlYWRlcnMpO1xuXG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgY29uc3QgcmVhZCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKGRvbmUpIGJyZWFrO1xuICAgICAgICByZXNwb25zZS53cml0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0gZmluYWxseSB7XG4gICAgICByZXNwb25zZS5lbmQoKTtcbiAgICB9XG4gIH07XG5cbiAgcmVhZCgpO1xufVxuIiwgImltcG9ydCB7IFNlcnZlclJlc3BvbnNlIH0gZnJvbSAnbm9kZTpodHRwJztcbmltcG9ydCB7IHByZXBhcmVIZWFkZXJzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLWhlYWRlcnMnO1xuaW1wb3J0IHsgd3JpdGVUb1NlcnZlclJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbC93cml0ZS10by1zZXJ2ZXItcmVzcG9uc2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlKHtcbiAgcmVzcG9uc2UsXG4gIHN0YXR1cyxcbiAgc3RhdHVzVGV4dCxcbiAgaGVhZGVycyxcbiAgdGV4dFN0cmVhbSxcbn06IHtcbiAgcmVzcG9uc2U6IFNlcnZlclJlc3BvbnNlO1xuICB0ZXh0U3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxzdHJpbmc+O1xufSAmIFJlc3BvbnNlSW5pdCk6IHZvaWQge1xuICB3cml0ZVRvU2VydmVyUmVzcG9uc2Uoe1xuICAgIHJlc3BvbnNlLFxuICAgIHN0YXR1cyxcbiAgICBzdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIHByZXBhcmVIZWFkZXJzKGhlYWRlcnMsIHtcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICd0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgIH0pLmVudHJpZXMoKSxcbiAgICApLFxuICAgIHN0cmVhbTogdGV4dFN0cmVhbS5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSksXG4gIH0pO1xufVxuIiwgImV4cG9ydCBjbGFzcyBKc29uVG9Tc2VUcmFuc2Zvcm1TdHJlYW0gZXh0ZW5kcyBUcmFuc2Zvcm1TdHJlYW08dW5rbm93biwgc3RyaW5nPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHRyYW5zZm9ybShwYXJ0LCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeShwYXJ0KX1cXG5cXG5gKTtcbiAgICAgIH0sXG4gICAgICBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSgnZGF0YTogW0RPTkVdXFxuXFxuJyk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG4iLCAiZXhwb3J0IGNvbnN0IFVJX01FU1NBR0VfU1RSRUFNX0hFQURFUlMgPSB7XG4gICdjb250ZW50LXR5cGUnOiAndGV4dC9ldmVudC1zdHJlYW0nLFxuICAnY2FjaGUtY29udHJvbCc6ICduby1jYWNoZScsXG4gIGNvbm5lY3Rpb246ICdrZWVwLWFsaXZlJyxcbiAgJ3gtdmVyY2VsLWFpLXVpLW1lc3NhZ2Utc3RyZWFtJzogJ3YxJyxcbiAgJ3gtYWNjZWwtYnVmZmVyaW5nJzogJ25vJywgLy8gZGlzYWJsZSBuZ2lueCBidWZmZXJpbmdcbn07XG4iLCAiaW1wb3J0IHsgcHJlcGFyZUhlYWRlcnMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtaGVhZGVycyc7XG5pbXBvcnQgeyBKc29uVG9Tc2VUcmFuc2Zvcm1TdHJlYW0gfSBmcm9tICcuL2pzb24tdG8tc3NlLXRyYW5zZm9ybS1zdHJlYW0nO1xuaW1wb3J0IHsgVUlfTUVTU0FHRV9TVFJFQU1fSEVBREVSUyB9IGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0taGVhZGVycyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2VJbml0IH0gZnJvbSAnLi91aS1tZXNzYWdlLXN0cmVhbS1yZXNwb25zZS1pbml0JztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlKHtcbiAgc3RhdHVzLFxuICBzdGF0dXNUZXh0LFxuICBoZWFkZXJzLFxuICBzdHJlYW0sXG4gIGNvbnN1bWVTc2VTdHJlYW0sXG59OiBVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZUluaXQgJiB7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VUlNZXNzYWdlQ2h1bms+O1xufSk6IFJlc3BvbnNlIHtcbiAgbGV0IHNzZVN0cmVhbSA9IHN0cmVhbS5waXBlVGhyb3VnaChuZXcgSnNvblRvU3NlVHJhbnNmb3JtU3RyZWFtKCkpO1xuXG4gIC8vIHdoZW4gdGhlIGNvbnN1bWVTc2VTdHJlYW0gaXMgcHJvdmlkZWQsIHdlIG5lZWQgdG8gdGVlIHRoZSBzdHJlYW1cbiAgLy8gYW5kIHNlbmQgdGhlIHNlY29uZCBwYXJ0IHRvIHRoZSBjb25zdW1lU3NlU3RyZWFtIGZ1bmN0aW9uXG4gIC8vIHNvIHRoYXQgaXQgY2FuIGJlIGNvbnN1bWVkIGJ5IHRoZSBjbGllbnQgaW5kZXBlbmRlbnRseVxuICBpZiAoY29uc3VtZVNzZVN0cmVhbSkge1xuICAgIGNvbnN0IFtzdHJlYW0xLCBzdHJlYW0yXSA9IHNzZVN0cmVhbS50ZWUoKTtcbiAgICBzc2VTdHJlYW0gPSBzdHJlYW0xO1xuICAgIGNvbnN1bWVTc2VTdHJlYW0oeyBzdHJlYW06IHN0cmVhbTIgfSk7IC8vIG5vIGF3YWl0IChkbyBub3QgYmxvY2sgdGhlIHJlc3BvbnNlKVxuICB9XG5cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShzc2VTdHJlYW0ucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpLCB7XG4gICAgc3RhdHVzLFxuICAgIHN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogcHJlcGFyZUhlYWRlcnMoaGVhZGVycywgVUlfTUVTU0FHRV9TVFJFQU1fSEVBREVSUyksXG4gIH0pO1xufVxuIiwgImltcG9ydCB7IElkR2VuZXJhdG9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuLi91aS91aS1tZXNzYWdlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXNwb25zZVVJTWVzc2FnZUlkKHtcbiAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgcmVzcG9uc2VNZXNzYWdlSWQsXG59OiB7XG4gIG9yaWdpbmFsTWVzc2FnZXM6IFVJTWVzc2FnZVtdIHwgdW5kZWZpbmVkO1xuICByZXNwb25zZU1lc3NhZ2VJZDogc3RyaW5nIHwgSWRHZW5lcmF0b3I7XG59KSB7XG4gIC8vIHdoZW4gdGhlcmUgYXJlIG5vIG9yaWdpbmFsIG1lc3NhZ2VzIChpLmUuIG5vIHBlcnNpc3RlbmNlKSxcbiAgLy8gdGhlIGFzc2lzdGFudCBtZXNzYWdlIGlkIGdlbmVyYXRpb24gaXMgaGFuZGxlZCBvbiB0aGUgY2xpZW50IHNpZGUuXG4gIGlmIChvcmlnaW5hbE1lc3NhZ2VzID09IG51bGwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29uc3QgbGFzdE1lc3NhZ2UgPSBvcmlnaW5hbE1lc3NhZ2VzW29yaWdpbmFsTWVzc2FnZXMubGVuZ3RoIC0gMV07XG5cbiAgcmV0dXJuIGxhc3RNZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50J1xuICAgID8gbGFzdE1lc3NhZ2UuaWRcbiAgICA6IHR5cGVvZiByZXNwb25zZU1lc3NhZ2VJZCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyByZXNwb25zZU1lc3NhZ2VJZCgpXG4gICAgICA6IHJlc3BvbnNlTWVzc2FnZUlkO1xufVxuIiwgImltcG9ydCB7XG4gIFN0YW5kYXJkU2NoZW1hVjEsXG4gIHZhbGlkYXRlVHlwZXMsXG4gIFZhbGlkYXRvcixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgRGF0YVVJTWVzc2FnZUNodW5rLFxuICBJbmZlclVJTWVzc2FnZUNodW5rLFxuICBpc0RhdGFVSU1lc3NhZ2VDaHVuayxcbiAgVUlNZXNzYWdlQ2h1bmssXG59IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gJy4uL3V0aWwvZXJyb3ItaGFuZGxlcic7XG5pbXBvcnQgeyBtZXJnZU9iamVjdHMgfSBmcm9tICcuLi91dGlsL21lcmdlLW9iamVjdHMnO1xuaW1wb3J0IHsgcGFyc2VQYXJ0aWFsSnNvbiB9IGZyb20gJy4uL3V0aWwvcGFyc2UtcGFydGlhbC1qc29uJztcbmltcG9ydCB7IFVJRGF0YVR5cGVzVG9TY2hlbWFzIH0gZnJvbSAnLi9jaGF0JztcbmltcG9ydCB7XG4gIERhdGFVSVBhcnQsXG4gIER5bmFtaWNUb29sVUlQYXJ0LFxuICBnZXRUb29sTmFtZSxcbiAgSW5mZXJVSU1lc3NhZ2VEYXRhLFxuICBJbmZlclVJTWVzc2FnZU1ldGFkYXRhLFxuICBJbmZlclVJTWVzc2FnZVRvb2xDYWxsLFxuICBJbmZlclVJTWVzc2FnZVRvb2xzLFxuICBpc1Rvb2xVSVBhcnQsXG4gIFJlYXNvbmluZ1VJUGFydCxcbiAgVGV4dFVJUGFydCxcbiAgVG9vbFVJUGFydCxcbiAgVUlNZXNzYWdlLFxuICBVSU1lc3NhZ2VQYXJ0LFxufSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcblxuZXhwb3J0IHR5cGUgU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPSB7XG4gIG1lc3NhZ2U6IFVJX01FU1NBR0U7XG4gIGFjdGl2ZVRleHRQYXJ0czogUmVjb3JkPHN0cmluZywgVGV4dFVJUGFydD47XG4gIGFjdGl2ZVJlYXNvbmluZ1BhcnRzOiBSZWNvcmQ8c3RyaW5nLCBSZWFzb25pbmdVSVBhcnQ+O1xuICBwYXJ0aWFsVG9vbENhbGxzOiBSZWNvcmQ8XG4gICAgc3RyaW5nLFxuICAgIHsgdGV4dDogc3RyaW5nOyBpbmRleDogbnVtYmVyOyB0b29sTmFtZTogc3RyaW5nOyBkeW5hbWljPzogYm9vbGVhbiB9XG4gID47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oe1xuICBsYXN0TWVzc2FnZSxcbiAgbWVzc2FnZUlkLFxufToge1xuICBsYXN0TWVzc2FnZTogVUlfTUVTU0FHRSB8IHVuZGVmaW5lZDtcbiAgbWVzc2FnZUlkOiBzdHJpbmc7XG59KTogU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT4ge1xuICByZXR1cm4ge1xuICAgIG1lc3NhZ2U6XG4gICAgICBsYXN0TWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCdcbiAgICAgICAgPyBsYXN0TWVzc2FnZVxuICAgICAgICA6ICh7XG4gICAgICAgICAgICBpZDogbWVzc2FnZUlkLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgcGFydHM6IFtdIGFzIFVJTWVzc2FnZVBhcnQ8XG4gICAgICAgICAgICAgIEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPixcbiAgICAgICAgICAgICAgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPlxuICAgICAgICAgICAgPltdLFxuICAgICAgICAgIH0gYXMgVUlfTUVTU0FHRSksXG4gICAgYWN0aXZlVGV4dFBhcnRzOiB7fSxcbiAgICBhY3RpdmVSZWFzb25pbmdQYXJ0czoge30sXG4gICAgcGFydGlhbFRvb2xDYWxsczoge30sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzVUlNZXNzYWdlU3RyZWFtPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgc3RyZWFtLFxuICBtZXNzYWdlTWV0YWRhdGFTY2hlbWEsXG4gIGRhdGFQYXJ0U2NoZW1hcyxcbiAgcnVuVXBkYXRlTWVzc2FnZUpvYixcbiAgb25FcnJvcixcbiAgb25Ub29sQ2FsbCxcbiAgb25EYXRhLFxufToge1xuICAvLyBpbnB1dCBzdHJlYW0gaXMgbm90IGZ1bGx5IHR5cGVkIHlldDpcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz47XG4gIG1lc3NhZ2VNZXRhZGF0YVNjaGVtYT86XG4gICAgfCBWYWxpZGF0b3I8SW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPj5cbiAgICB8IFN0YW5kYXJkU2NoZW1hVjE8SW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPj47XG4gIGRhdGFQYXJ0U2NoZW1hcz86IFVJRGF0YVR5cGVzVG9TY2hlbWFzPEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPj47XG4gIG9uVG9vbENhbGw/OiAob3B0aW9uczoge1xuICAgIHRvb2xDYWxsOiBJbmZlclVJTWVzc2FnZVRvb2xDYWxsPFVJX01FU1NBR0U+O1xuICB9KSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD47XG4gIG9uRGF0YT86IChkYXRhUGFydDogRGF0YVVJUGFydDxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4+KSA9PiB2b2lkO1xuICBydW5VcGRhdGVNZXNzYWdlSm9iOiAoXG4gICAgam9iOiAob3B0aW9uczoge1xuICAgICAgc3RhdGU6IFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0U+O1xuICAgICAgd3JpdGU6ICgpID0+IHZvaWQ7XG4gICAgfSkgPT4gUHJvbWlzZTx2b2lkPixcbiAgKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBvbkVycm9yOiBFcnJvckhhbmRsZXI7XG59KTogUmVhZGFibGVTdHJlYW08SW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPj4ge1xuICByZXR1cm4gc3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08VUlNZXNzYWdlQ2h1bmssIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4+KHtcbiAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBhd2FpdCBydW5VcGRhdGVNZXNzYWdlSm9iKGFzeW5jICh7IHN0YXRlLCB3cml0ZSB9KSA9PiB7XG4gICAgICAgICAgZnVuY3Rpb24gZ2V0VG9vbEludm9jYXRpb24odG9vbENhbGxJZDogc3RyaW5nKSB7XG4gICAgICAgICAgICBjb25zdCB0b29sSW52b2NhdGlvbnMgPSBzdGF0ZS5tZXNzYWdlLnBhcnRzLmZpbHRlcihpc1Rvb2xVSVBhcnQpO1xuXG4gICAgICAgICAgICBjb25zdCB0b29sSW52b2NhdGlvbiA9IHRvb2xJbnZvY2F0aW9ucy5maW5kKFxuICAgICAgICAgICAgICBpbnZvY2F0aW9uID0+IGludm9jYXRpb24udG9vbENhbGxJZCA9PT0gdG9vbENhbGxJZCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmICh0b29sSW52b2NhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAndG9vbC1vdXRwdXQtZXJyb3IgbXVzdCBiZSBwcmVjZWRlZCBieSBhIHRvb2wtaW5wdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRvb2xJbnZvY2F0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGdldER5bmFtaWNUb29sSW52b2NhdGlvbih0b29sQ2FsbElkOiBzdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9ucyA9IHN0YXRlLm1lc3NhZ2UucGFydHMuZmlsdGVyKFxuICAgICAgICAgICAgICBwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ2R5bmFtaWMtdG9vbCcsXG4gICAgICAgICAgICApIGFzIER5bmFtaWNUb29sVUlQYXJ0W107XG5cbiAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9uID0gdG9vbEludm9jYXRpb25zLmZpbmQoXG4gICAgICAgICAgICAgIGludm9jYXRpb24gPT4gaW52b2NhdGlvbi50b29sQ2FsbElkID09PSB0b29sQ2FsbElkLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKHRvb2xJbnZvY2F0aW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICd0b29sLW91dHB1dC1lcnJvciBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbC1pbnB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdG9vbEludm9jYXRpb247XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gdXBkYXRlVG9vbFBhcnQoXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgIHRvb2xOYW1lOiBrZXlvZiBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+ICYgc3RyaW5nO1xuICAgICAgICAgICAgICB0b29sQ2FsbElkOiBzdHJpbmc7XG4gICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgICAgICAgfSAmIChcbiAgICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ2lucHV0LXN0cmVhbWluZyc7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ2lucHV0LWF2YWlsYWJsZSc7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWF2YWlsYWJsZSc7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgICAgICAgICAgICAgIG91dHB1dDogdW5rbm93bjtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgICAgICAgICAgICAgcHJlbGltaW5hcnk/OiBib29sZWFuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1lcnJvcic7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgICAgICAgICAgICAgIHJhd0lucHV0PzogdW5rbm93bjtcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgcGFydCA9IHN0YXRlLm1lc3NhZ2UucGFydHMuZmluZChcbiAgICAgICAgICAgICAgcGFydCA9PlxuICAgICAgICAgICAgICAgIGlzVG9vbFVJUGFydChwYXJ0KSAmJiBwYXJ0LnRvb2xDYWxsSWQgPT09IG9wdGlvbnMudG9vbENhbGxJZCxcbiAgICAgICAgICAgICkgYXMgVG9vbFVJUGFydDxJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+PiB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgY29uc3QgYW55T3B0aW9ucyA9IG9wdGlvbnMgYXMgYW55O1xuICAgICAgICAgICAgY29uc3QgYW55UGFydCA9IHBhcnQgYXMgYW55O1xuXG4gICAgICAgICAgICBpZiAocGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIHBhcnQuc3RhdGUgPSBvcHRpb25zLnN0YXRlO1xuICAgICAgICAgICAgICBhbnlQYXJ0LmlucHV0ID0gYW55T3B0aW9ucy5pbnB1dDtcbiAgICAgICAgICAgICAgYW55UGFydC5vdXRwdXQgPSBhbnlPcHRpb25zLm91dHB1dDtcbiAgICAgICAgICAgICAgYW55UGFydC5lcnJvclRleHQgPSBhbnlPcHRpb25zLmVycm9yVGV4dDtcbiAgICAgICAgICAgICAgYW55UGFydC5yYXdJbnB1dCA9IGFueU9wdGlvbnMucmF3SW5wdXQ7XG4gICAgICAgICAgICAgIGFueVBhcnQucHJlbGltaW5hcnkgPSBhbnlPcHRpb25zLnByZWxpbWluYXJ5O1xuXG4gICAgICAgICAgICAgIC8vIG9uY2UgcHJvdmlkZXJFeGVjdXRlZCBpcyBzZXQsIGl0IHN0YXlzIGZvciBzdHJlYW1pbmdcbiAgICAgICAgICAgICAgYW55UGFydC5wcm92aWRlckV4ZWN1dGVkID1cbiAgICAgICAgICAgICAgICBhbnlPcHRpb25zLnByb3ZpZGVyRXhlY3V0ZWQgPz8gcGFydC5wcm92aWRlckV4ZWN1dGVkO1xuXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBhbnlPcHRpb25zLnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHBhcnQuc3RhdGUgPT09ICdpbnB1dC1hdmFpbGFibGUnXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHBhcnQuY2FsbFByb3ZpZGVyTWV0YWRhdGEgPSBhbnlPcHRpb25zLnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogYHRvb2wtJHtvcHRpb25zLnRvb2xOYW1lfWAsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogb3B0aW9ucy50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgICAgICAgICAgIGlucHV0OiBhbnlPcHRpb25zLmlucHV0LFxuICAgICAgICAgICAgICAgIG91dHB1dDogYW55T3B0aW9ucy5vdXRwdXQsXG4gICAgICAgICAgICAgICAgcmF3SW5wdXQ6IGFueU9wdGlvbnMucmF3SW5wdXQsXG4gICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBhbnlPcHRpb25zLmVycm9yVGV4dCxcbiAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBhbnlPcHRpb25zLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgcHJlbGltaW5hcnk6IGFueU9wdGlvbnMucHJlbGltaW5hcnksXG4gICAgICAgICAgICAgICAgLi4uKGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSBhcyBUb29sVUlQYXJ0PEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4+KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVEeW5hbWljVG9vbFBhcnQoXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgIHRvb2xOYW1lOiBrZXlvZiBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+ICYgc3RyaW5nO1xuICAgICAgICAgICAgICB0b29sQ2FsbElkOiBzdHJpbmc7XG4gICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgICAgICAgfSAmIChcbiAgICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ2lucHV0LXN0cmVhbWluZyc7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHwge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1hdmFpbGFibGUnO1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHwge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtYXZhaWxhYmxlJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgb3V0cHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgcHJlbGltaW5hcnk6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWVycm9yJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgcGFydCA9IHN0YXRlLm1lc3NhZ2UucGFydHMuZmluZChcbiAgICAgICAgICAgICAgcGFydCA9PlxuICAgICAgICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ2R5bmFtaWMtdG9vbCcgJiZcbiAgICAgICAgICAgICAgICBwYXJ0LnRvb2xDYWxsSWQgPT09IG9wdGlvbnMudG9vbENhbGxJZCxcbiAgICAgICAgICAgICkgYXMgRHluYW1pY1Rvb2xVSVBhcnQgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IGFueU9wdGlvbnMgPSBvcHRpb25zIGFzIGFueTtcbiAgICAgICAgICAgIGNvbnN0IGFueVBhcnQgPSBwYXJ0IGFzIGFueTtcblxuICAgICAgICAgICAgaWYgKHBhcnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBwYXJ0LnN0YXRlID0gb3B0aW9ucy5zdGF0ZTtcbiAgICAgICAgICAgICAgYW55UGFydC50b29sTmFtZSA9IG9wdGlvbnMudG9vbE5hbWU7XG4gICAgICAgICAgICAgIGFueVBhcnQuaW5wdXQgPSBhbnlPcHRpb25zLmlucHV0O1xuICAgICAgICAgICAgICBhbnlQYXJ0Lm91dHB1dCA9IGFueU9wdGlvbnMub3V0cHV0O1xuICAgICAgICAgICAgICBhbnlQYXJ0LmVycm9yVGV4dCA9IGFueU9wdGlvbnMuZXJyb3JUZXh0O1xuICAgICAgICAgICAgICBhbnlQYXJ0LnJhd0lucHV0ID0gYW55T3B0aW9ucy5yYXdJbnB1dCA/PyBhbnlQYXJ0LnJhd0lucHV0O1xuICAgICAgICAgICAgICBhbnlQYXJ0LnByZWxpbWluYXJ5ID0gYW55T3B0aW9ucy5wcmVsaW1pbmFyeTtcblxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgYW55T3B0aW9ucy5wcm92aWRlck1ldGFkYXRhICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBwYXJ0LnN0YXRlID09PSAnaW5wdXQtYXZhaWxhYmxlJ1xuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwYXJ0LmNhbGxQcm92aWRlck1ldGFkYXRhID0gYW55T3B0aW9ucy5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLnBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdkeW5hbWljLXRvb2wnLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBvcHRpb25zLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IG9wdGlvbnMudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBzdGF0ZTogb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgICAgICAgICBpbnB1dDogYW55T3B0aW9ucy5pbnB1dCxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IGFueU9wdGlvbnMub3V0cHV0LFxuICAgICAgICAgICAgICAgIGVycm9yVGV4dDogYW55T3B0aW9ucy5lcnJvclRleHQsXG4gICAgICAgICAgICAgICAgcHJlbGltaW5hcnk6IGFueU9wdGlvbnMucHJlbGltaW5hcnksXG4gICAgICAgICAgICAgICAgLi4uKGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSBhcyBEeW5hbWljVG9vbFVJUGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVzc2FnZU1ldGFkYXRhKG1ldGFkYXRhOiB1bmtub3duKSB7XG4gICAgICAgICAgICBpZiAobWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb25zdCBtZXJnZWRNZXRhZGF0YSA9XG4gICAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5tZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IG1lcmdlT2JqZWN0cyhzdGF0ZS5tZXNzYWdlLm1ldGFkYXRhLCBtZXRhZGF0YSlcbiAgICAgICAgICAgICAgICAgIDogbWV0YWRhdGE7XG5cbiAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VNZXRhZGF0YVNjaGVtYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdmFsaWRhdGVUeXBlcyh7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogbWVyZ2VkTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICBzY2hlbWE6IG1lc3NhZ2VNZXRhZGF0YVNjaGVtYSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UubWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgIG1lcmdlZE1ldGFkYXRhIGFzIEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3dpdGNoIChjaHVuay50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICd0ZXh0LXN0YXJ0Jzoge1xuICAgICAgICAgICAgICBjb25zdCB0ZXh0UGFydDogVGV4dFVJUGFydCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ3N0cmVhbWluZycsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVRleHRQYXJ0c1tjaHVuay5pZF0gPSB0ZXh0UGFydDtcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHRleHRQYXJ0KTtcbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3RleHQtZGVsdGEnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHRleHRQYXJ0ID0gc3RhdGUuYWN0aXZlVGV4dFBhcnRzW2NodW5rLmlkXTtcbiAgICAgICAgICAgICAgdGV4dFBhcnQudGV4dCArPSBjaHVuay5kZWx0YTtcbiAgICAgICAgICAgICAgdGV4dFBhcnQucHJvdmlkZXJNZXRhZGF0YSA9XG4gICAgICAgICAgICAgICAgY2h1bmsucHJvdmlkZXJNZXRhZGF0YSA/PyB0ZXh0UGFydC5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndGV4dC1lbmQnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHRleHRQYXJ0ID0gc3RhdGUuYWN0aXZlVGV4dFBhcnRzW2NodW5rLmlkXTtcbiAgICAgICAgICAgICAgdGV4dFBhcnQuc3RhdGUgPSAnZG9uZSc7XG4gICAgICAgICAgICAgIHRleHRQYXJ0LnByb3ZpZGVyTWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgIGNodW5rLnByb3ZpZGVyTWV0YWRhdGEgPz8gdGV4dFBhcnQucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgZGVsZXRlIHN0YXRlLmFjdGl2ZVRleHRQYXJ0c1tjaHVuay5pZF07XG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyZWFzb25pbmctc3RhcnQnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYXNvbmluZ1BhcnQ6IFJlYXNvbmluZ1VJUGFydCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nJyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnc3RyZWFtaW5nJyxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlUmVhc29uaW5nUGFydHNbY2h1bmsuaWRdID0gcmVhc29uaW5nUGFydDtcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHJlYXNvbmluZ1BhcnQpO1xuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLWRlbHRhJzoge1xuICAgICAgICAgICAgICBjb25zdCByZWFzb25pbmdQYXJ0ID0gc3RhdGUuYWN0aXZlUmVhc29uaW5nUGFydHNbY2h1bmsuaWRdO1xuICAgICAgICAgICAgICByZWFzb25pbmdQYXJ0LnRleHQgKz0gY2h1bmsuZGVsdGE7XG4gICAgICAgICAgICAgIHJlYXNvbmluZ1BhcnQucHJvdmlkZXJNZXRhZGF0YSA9XG4gICAgICAgICAgICAgICAgY2h1bmsucHJvdmlkZXJNZXRhZGF0YSA/PyByZWFzb25pbmdQYXJ0LnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyZWFzb25pbmctZW5kJzoge1xuICAgICAgICAgICAgICBjb25zdCByZWFzb25pbmdQYXJ0ID0gc3RhdGUuYWN0aXZlUmVhc29uaW5nUGFydHNbY2h1bmsuaWRdO1xuICAgICAgICAgICAgICByZWFzb25pbmdQYXJ0LnByb3ZpZGVyTWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgIGNodW5rLnByb3ZpZGVyTWV0YWRhdGEgPz8gcmVhc29uaW5nUGFydC5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICByZWFzb25pbmdQYXJ0LnN0YXRlID0gJ2RvbmUnO1xuICAgICAgICAgICAgICBkZWxldGUgc3RhdGUuYWN0aXZlUmVhc29uaW5nUGFydHNbY2h1bmsuaWRdO1xuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaWxlJzoge1xuICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLnBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IGNodW5rLm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICB1cmw6IGNodW5rLnVybCxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3NvdXJjZS11cmwnOiB7XG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3NvdXJjZS11cmwnLFxuICAgICAgICAgICAgICAgIHNvdXJjZUlkOiBjaHVuay5zb3VyY2VJZCxcbiAgICAgICAgICAgICAgICB1cmw6IGNodW5rLnVybCxcbiAgICAgICAgICAgICAgICB0aXRsZTogY2h1bmsudGl0bGUsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3NvdXJjZS1kb2N1bWVudCc6IHtcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc291cmNlLWRvY3VtZW50JyxcbiAgICAgICAgICAgICAgICBzb3VyY2VJZDogY2h1bmsuc291cmNlSWQsXG4gICAgICAgICAgICAgICAgbWVkaWFUeXBlOiBjaHVuay5tZWRpYVR5cGUsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGNodW5rLnRpdGxlLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBjaHVuay5maWxlbmFtZSxcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1zdGFydCc6IHtcbiAgICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb25zID0gc3RhdGUubWVzc2FnZS5wYXJ0cy5maWx0ZXIoaXNUb29sVUlQYXJ0KTtcblxuICAgICAgICAgICAgICAvLyBhZGQgdGhlIHBhcnRpYWwgdG9vbCBjYWxsIHRvIHRoZSBtYXBcbiAgICAgICAgICAgICAgc3RhdGUucGFydGlhbFRvb2xDYWxsc1tjaHVuay50b29sQ2FsbElkXSA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogY2h1bmsudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgaW5kZXg6IHRvb2xJbnZvY2F0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgZHluYW1pYzogY2h1bmsuZHluYW1pYyxcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBpZiAoY2h1bmsuZHluYW1pYykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUR5bmFtaWNUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1zdHJlYW1pbmcnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1zdHJlYW1pbmcnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IGNodW5rLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgY29uc3QgcGFydGlhbFRvb2xDYWxsID0gc3RhdGUucGFydGlhbFRvb2xDYWxsc1tjaHVuay50b29sQ2FsbElkXTtcblxuICAgICAgICAgICAgICBwYXJ0aWFsVG9vbENhbGwudGV4dCArPSBjaHVuay5pbnB1dFRleHREZWx0YTtcblxuICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBwYXJ0aWFsQXJncyB9ID0gYXdhaXQgcGFyc2VQYXJ0aWFsSnNvbihcbiAgICAgICAgICAgICAgICBwYXJ0aWFsVG9vbENhbGwudGV4dCxcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBpZiAocGFydGlhbFRvb2xDYWxsLmR5bmFtaWMpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEeW5hbWljVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0aWFsVG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ2lucHV0LXN0cmVhbWluZycsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogcGFydGlhbEFyZ3MsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0aWFsVG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ2lucHV0LXN0cmVhbWluZycsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogcGFydGlhbEFyZ3MsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1hdmFpbGFibGUnOiB7XG4gICAgICAgICAgICAgIGlmIChjaHVuay5keW5hbWljKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlRHluYW1pY1Rvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogY2h1bmsudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ2lucHV0LWF2YWlsYWJsZScsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogY2h1bmsuaW5wdXQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogY2h1bmsudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ2lucHV0LWF2YWlsYWJsZScsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogY2h1bmsuaW5wdXQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBjaHVuay5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG5cbiAgICAgICAgICAgICAgLy8gaW52b2tlIHRoZSBvblRvb2xDYWxsIGNhbGxiYWNrIGlmIGl0IGV4aXN0cy4gVGhpcyBpcyBibG9ja2luZy5cbiAgICAgICAgICAgICAgLy8gSW4gdGhlIGZ1dHVyZSB3ZSBzaG91bGQgbWFrZSB0aGlzIG5vbi1ibG9ja2luZywgd2hpY2hcbiAgICAgICAgICAgICAgLy8gcmVxdWlyZXMgYWRkaXRpb25hbCBzdGF0ZSBtYW5hZ2VtZW50IGZvciBlcnJvciBoYW5kbGluZyBldGMuXG4gICAgICAgICAgICAgIC8vIFNraXAgY2FsbGluZyBvblRvb2xDYWxsIGZvciBwcm92aWRlci1leGVjdXRlZCB0b29scyBzaW5jZSB0aGV5IGFyZSBhbHJlYWR5IGV4ZWN1dGVkXG4gICAgICAgICAgICAgIGlmIChvblRvb2xDYWxsICYmICFjaHVuay5wcm92aWRlckV4ZWN1dGVkKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgb25Ub29sQ2FsbCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbDogY2h1bmsgYXMgSW5mZXJVSU1lc3NhZ2VUb29sQ2FsbDxVSV9NRVNTQUdFPixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1lcnJvcic6IHtcbiAgICAgICAgICAgICAgaWYgKGNodW5rLmR5bmFtaWMpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVEeW5hbWljVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWVycm9yJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiBjaHVuay5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogY2h1bmsuZXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgIHJhd0lucHV0OiBjaHVuay5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogY2h1bmsuZXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogY2h1bmsucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1vdXRwdXQtYXZhaWxhYmxlJzoge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsuZHluYW1pYykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9uID0gZ2V0RHluYW1pY1Rvb2xJbnZvY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgdXBkYXRlRHluYW1pY1Rvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbEludm9jYXRpb24udG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6ICh0b29sSW52b2NhdGlvbiBhcyBhbnkpLmlucHV0LFxuICAgICAgICAgICAgICAgICAgb3V0cHV0OiBjaHVuay5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogY2h1bmsucHJlbGltaW5hcnksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb24gPSBnZXRUb29sSW52b2NhdGlvbihjaHVuay50b29sQ2FsbElkKTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogZ2V0VG9vbE5hbWUodG9vbEludm9jYXRpb24pLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAodG9vbEludm9jYXRpb24gYXMgYW55KS5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIG91dHB1dDogY2h1bmsub3V0cHV0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogY2h1bmsucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICAgIHByZWxpbWluYXJ5OiBjaHVuay5wcmVsaW1pbmFyeSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLW91dHB1dC1lcnJvcic6IHtcbiAgICAgICAgICAgICAgaWYgKGNodW5rLmR5bmFtaWMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sSW52b2NhdGlvbiA9IGdldER5bmFtaWNUb29sSW52b2NhdGlvbihcbiAgICAgICAgICAgICAgICAgIGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZUR5bmFtaWNUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xJbnZvY2F0aW9uLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6ICh0b29sSW52b2NhdGlvbiBhcyBhbnkpLmlucHV0LFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBjaHVuay5lcnJvclRleHQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb24gPSBnZXRUb29sSW52b2NhdGlvbihjaHVuay50b29sQ2FsbElkKTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogZ2V0VG9vbE5hbWUodG9vbEludm9jYXRpb24pLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6ICh0b29sSW52b2NhdGlvbiBhcyBhbnkpLmlucHV0LFxuICAgICAgICAgICAgICAgICAgcmF3SW5wdXQ6ICh0b29sSW52b2NhdGlvbiBhcyBhbnkpLnJhd0lucHV0LFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBjaHVuay5lcnJvclRleHQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnc3RhcnQtc3RlcCc6IHtcbiAgICAgICAgICAgICAgLy8gYWRkIGEgc3RlcCBib3VuZGFyeSBwYXJ0IHRvIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaCh7IHR5cGU6ICdzdGVwLXN0YXJ0JyB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaC1zdGVwJzoge1xuICAgICAgICAgICAgICAvLyByZXNldCB0aGUgY3VycmVudCB0ZXh0IGFuZCByZWFzb25pbmcgcGFydHNcbiAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlVGV4dFBhcnRzID0ge307XG4gICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVJlYXNvbmluZ1BhcnRzID0ge307XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzdGFydCc6IHtcbiAgICAgICAgICAgICAgaWYgKGNodW5rLm1lc3NhZ2VJZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5pZCA9IGNodW5rLm1lc3NhZ2VJZDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZU1lc3NhZ2VNZXRhZGF0YShjaHVuay5tZXNzYWdlTWV0YWRhdGEpO1xuXG4gICAgICAgICAgICAgIGlmIChjaHVuay5tZXNzYWdlSWQgIT0gbnVsbCB8fCBjaHVuay5tZXNzYWdlTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaCc6IHtcbiAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlTWVzc2FnZU1ldGFkYXRhKGNodW5rLm1lc3NhZ2VNZXRhZGF0YSk7XG4gICAgICAgICAgICAgIGlmIChjaHVuay5tZXNzYWdlTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ21lc3NhZ2UtbWV0YWRhdGEnOiB7XG4gICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZU1lc3NhZ2VNZXRhZGF0YShjaHVuay5tZXNzYWdlTWV0YWRhdGEpO1xuICAgICAgICAgICAgICBpZiAoY2h1bmsubWVzc2FnZU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgICAgICAgb25FcnJvcj8uKG5ldyBFcnJvcihjaHVuay5lcnJvclRleHQpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgaWYgKGlzRGF0YVVJTWVzc2FnZUNodW5rKGNodW5rKSkge1xuICAgICAgICAgICAgICAgIC8vIHZhbGlkYXRlIGRhdGEgY2h1bmsgaWYgZGF0YVBhcnRTY2hlbWFzIGlzIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFQYXJ0U2NoZW1hcz8uW2NodW5rLnR5cGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHZhbGlkYXRlVHlwZXMoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2h1bmsuZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBkYXRhUGFydFNjaGVtYXNbY2h1bmsudHlwZV0sXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjYXN0LCB2YWxpZGF0aW9uIGlzIGRvbmUgYWJvdmVcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhQ2h1bmsgPSBjaHVuayBhcyBEYXRhVUlNZXNzYWdlQ2h1bms8XG4gICAgICAgICAgICAgICAgICBJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT5cbiAgICAgICAgICAgICAgICA+O1xuXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNpZW50IHBhcnRzIGFyZSBub3QgYWRkZWQgdG8gdGhlIG1lc3NhZ2Ugc3RhdGVcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUNodW5rLnRyYW5zaWVudCkge1xuICAgICAgICAgICAgICAgICAgb25EYXRhPy4oZGF0YUNodW5rKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVUlQYXJ0ID1cbiAgICAgICAgICAgICAgICAgIGRhdGFDaHVuay5pZCAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gKHN0YXRlLm1lc3NhZ2UucGFydHMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rQXJnID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFDaHVuay50eXBlID09PSBjaHVua0FyZy50eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFDaHVuay5pZCA9PT0gY2h1bmtBcmcuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgKSBhc1xuICAgICAgICAgICAgICAgICAgICAgICAgfCBEYXRhVUlQYXJ0PEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHwgdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1VJUGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBleGlzdGluZ1VJUGFydC5kYXRhID0gZGF0YUNodW5rLmRhdGE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaChkYXRhQ2h1bmspO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG9uRGF0YT8uKGRhdGFDaHVuayk7XG5cbiAgICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rIGFzIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSksXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQge1xuICBQcm92aWRlck1ldGFkYXRhLFxuICBwcm92aWRlck1ldGFkYXRhU2NoZW1hLFxufSBmcm9tICcuLi90eXBlcy9wcm92aWRlci1tZXRhZGF0YSc7XG5pbXBvcnQge1xuICBJbmZlclVJTWVzc2FnZURhdGEsXG4gIEluZmVyVUlNZXNzYWdlTWV0YWRhdGEsXG4gIFVJRGF0YVR5cGVzLFxuICBVSU1lc3NhZ2UsXG59IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcbmltcG9ydCB7IFZhbHVlT2YgfSBmcm9tICcuLi91dGlsL3ZhbHVlLW9mJztcblxuZXhwb3J0IGNvbnN0IHVpTWVzc2FnZUNodW5rU2NoZW1hID0gei51bmlvbihbXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3RleHQtc3RhcnQnKSxcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0ZXh0LWRlbHRhJyksXG4gICAgaWQ6IHouc3RyaW5nKCksXG4gICAgZGVsdGE6IHouc3RyaW5nKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndGV4dC1lbmQnKSxcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdlcnJvcicpLFxuICAgIGVycm9yVGV4dDogei5zdHJpbmcoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtaW5wdXQtc3RhcnQnKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgZHluYW1pYzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtaW5wdXQtZGVsdGEnKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIGlucHV0VGV4dERlbHRhOiB6LnN0cmluZygpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbC1pbnB1dC1hdmFpbGFibGUnKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICAgIGlucHV0OiB6LnVua25vd24oKSxcbiAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBkeW5hbWljOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbC1pbnB1dC1lcnJvcicpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgIGR5bmFtaWM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgZXJyb3JUZXh0OiB6LnN0cmluZygpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbC1vdXRwdXQtYXZhaWxhYmxlJyksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICBvdXRwdXQ6IHoudW5rbm93bigpLFxuICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgZHluYW1pYzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBwcmVsaW1pbmFyeTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtb3V0cHV0LWVycm9yJyksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICBlcnJvclRleHQ6IHouc3RyaW5nKCksXG4gICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBkeW5hbWljOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nJyksXG4gICAgdGV4dDogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZWFzb25pbmctc3RhcnQnKSxcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZWFzb25pbmctZGVsdGEnKSxcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZWFzb25pbmctZW5kJyksXG4gICAgaWQ6IHouc3RyaW5nKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nLXBhcnQtZmluaXNoJyksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdzb3VyY2UtdXJsJyksXG4gICAgc291cmNlSWQ6IHouc3RyaW5nKCksXG4gICAgdXJsOiB6LnN0cmluZygpLFxuICAgIHRpdGxlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc291cmNlLWRvY3VtZW50JyksXG4gICAgc291cmNlSWQ6IHouc3RyaW5nKCksXG4gICAgbWVkaWFUeXBlOiB6LnN0cmluZygpLFxuICAgIHRpdGxlOiB6LnN0cmluZygpLFxuICAgIGZpbGVuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZmlsZScpLFxuICAgIHVybDogei5zdHJpbmcoKSxcbiAgICBtZWRpYVR5cGU6IHouc3RyaW5nKCksXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KSxcbiAgei5zdHJpY3RPYmplY3Qoe1xuICAgIHR5cGU6IHouc3RyaW5nKCkuc3RhcnRzV2l0aCgnZGF0YS0nKSxcbiAgICBpZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGRhdGE6IHoudW5rbm93bigpLFxuICAgIHRyYW5zaWVudDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3N0YXJ0LXN0ZXAnKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2ZpbmlzaC1zdGVwJyksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdzdGFydCcpLFxuICAgIG1lc3NhZ2VJZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIG1lc3NhZ2VNZXRhZGF0YTogei51bmtub3duKCkub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2ZpbmlzaCcpLFxuICAgIG1lc3NhZ2VNZXRhZGF0YTogei51bmtub3duKCkub3B0aW9uYWwoKSxcbiAgfSksXG4gIHouc3RyaWN0T2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2Fib3J0JyksXG4gIH0pLFxuICB6LnN0cmljdE9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdtZXNzYWdlLW1ldGFkYXRhJyksXG4gICAgbWVzc2FnZU1ldGFkYXRhOiB6LnVua25vd24oKSxcbiAgfSksXG5dKTtcblxuZXhwb3J0IHR5cGUgRGF0YVVJTWVzc2FnZUNodW5rPERBVEFfVFlQRVMgZXh0ZW5kcyBVSURhdGFUeXBlcz4gPSBWYWx1ZU9mPHtcbiAgW05BTUUgaW4ga2V5b2YgREFUQV9UWVBFUyAmIHN0cmluZ106IHtcbiAgICB0eXBlOiBgZGF0YS0ke05BTUV9YDtcbiAgICBpZD86IHN0cmluZztcbiAgICBkYXRhOiBEQVRBX1RZUEVTW05BTUVdO1xuICAgIHRyYW5zaWVudD86IGJvb2xlYW47XG4gIH07XG59PjtcblxuZXhwb3J0IHR5cGUgVUlNZXNzYWdlQ2h1bms8XG4gIE1FVEFEQVRBID0gdW5rbm93bixcbiAgREFUQV9UWVBFUyBleHRlbmRzIFVJRGF0YVR5cGVzID0gVUlEYXRhVHlwZXMsXG4+ID1cbiAgfCB7XG4gICAgICB0eXBlOiAndGV4dC1zdGFydCc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0ZXh0LWRlbHRhJztcbiAgICAgIGRlbHRhOiBzdHJpbmc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0ZXh0LWVuZCc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdyZWFzb25pbmctc3RhcnQnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAncmVhc29uaW5nLWRlbHRhJztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBkZWx0YTogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdyZWFzb25pbmctZW5kJztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ2Vycm9yJztcbiAgICAgIGVycm9yVGV4dDogc3RyaW5nO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndG9vbC1pbnB1dC1hdmFpbGFibGUnO1xuICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgdG9vbE5hbWU6IHN0cmluZztcbiAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIGR5bmFtaWM/OiBib29sZWFuO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndG9vbC1pbnB1dC1lcnJvcic7XG4gICAgICB0b29sQ2FsbElkOiBzdHJpbmc7XG4gICAgICB0b29sTmFtZTogc3RyaW5nO1xuICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgZHluYW1pYz86IGJvb2xlYW47XG4gICAgICBlcnJvclRleHQ6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtb3V0cHV0LWF2YWlsYWJsZSc7XG4gICAgICB0b29sQ2FsbElkOiBzdHJpbmc7XG4gICAgICBvdXRwdXQ6IHVua25vd247XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIGR5bmFtaWM/OiBib29sZWFuO1xuICAgICAgcHJlbGltaW5hcnk/OiBib29sZWFuO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndG9vbC1vdXRwdXQtZXJyb3InO1xuICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgZXJyb3JUZXh0OiBzdHJpbmc7XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIGR5bmFtaWM/OiBib29sZWFuO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndG9vbC1pbnB1dC1zdGFydCc7XG4gICAgICB0b29sQ2FsbElkOiBzdHJpbmc7XG4gICAgICB0b29sTmFtZTogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBkeW5hbWljPzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtZGVsdGEnO1xuICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgaW5wdXRUZXh0RGVsdGE6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3NvdXJjZS11cmwnO1xuICAgICAgc291cmNlSWQ6IHN0cmluZztcbiAgICAgIHVybDogc3RyaW5nO1xuICAgICAgdGl0bGU/OiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3NvdXJjZS1kb2N1bWVudCc7XG4gICAgICBzb3VyY2VJZDogc3RyaW5nO1xuICAgICAgbWVkaWFUeXBlOiBzdHJpbmc7XG4gICAgICB0aXRsZTogc3RyaW5nO1xuICAgICAgZmlsZW5hbWU/OiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ2ZpbGUnO1xuICAgICAgdXJsOiBzdHJpbmc7XG4gICAgICBtZWRpYVR5cGU6IHN0cmluZztcbiAgICB9XG4gIHwgRGF0YVVJTWVzc2FnZUNodW5rPERBVEFfVFlQRVM+XG4gIHwge1xuICAgICAgdHlwZTogJ3N0YXJ0LXN0ZXAnO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnZmluaXNoLXN0ZXAnO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnc3RhcnQnO1xuICAgICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICAgICAgbWVzc2FnZU1ldGFkYXRhPzogTUVUQURBVEE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdmaW5pc2gnO1xuICAgICAgbWVzc2FnZU1ldGFkYXRhPzogTUVUQURBVEE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdhYm9ydCc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdtZXNzYWdlLW1ldGFkYXRhJztcbiAgICAgIG1lc3NhZ2VNZXRhZGF0YTogTUVUQURBVEE7XG4gICAgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0YVVJTWVzc2FnZUNodW5rKFxuICBjaHVuazogVUlNZXNzYWdlQ2h1bmssXG4pOiBjaHVuayBpcyBEYXRhVUlNZXNzYWdlQ2h1bms8VUlEYXRhVHlwZXM+IHtcbiAgcmV0dXJuIGNodW5rLnR5cGUuc3RhcnRzV2l0aCgnZGF0YS0nKTtcbn1cblxuZXhwb3J0IHR5cGUgSW5mZXJVSU1lc3NhZ2VDaHVuazxUIGV4dGVuZHMgVUlNZXNzYWdlPiA9IFVJTWVzc2FnZUNodW5rPFxuICBJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFQ+LFxuICBJbmZlclVJTWVzc2FnZURhdGE8VD5cbj47XG4iLCAiLyoqXG4gKiBEZWVwbHkgbWVyZ2VzIHR3byBvYmplY3RzIHRvZ2V0aGVyLlxuICogLSBQcm9wZXJ0aWVzIGZyb20gdGhlIGBvdmVycmlkZXNgIG9iamVjdCBvdmVycmlkZSB0aG9zZSBpbiB0aGUgYGJhc2VgIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleS5cbiAqIC0gRm9yIG5lc3RlZCBvYmplY3RzLCB0aGUgbWVyZ2UgaXMgcGVyZm9ybWVkIHJlY3Vyc2l2ZWx5IChkZWVwIG1lcmdlKS5cbiAqIC0gQXJyYXlzIGFyZSByZXBsYWNlZCwgbm90IG1lcmdlZC5cbiAqIC0gUHJpbWl0aXZlIHZhbHVlcyBhcmUgcmVwbGFjZWQuXG4gKiAtIElmIGJvdGggYGJhc2VgIGFuZCBgb3ZlcnJpZGVzYCBhcmUgdW5kZWZpbmVkLCByZXR1cm5zIHVuZGVmaW5lZC5cbiAqIC0gSWYgb25lIG9mIGBiYXNlYCBvciBgb3ZlcnJpZGVzYCBpcyB1bmRlZmluZWQsIHJldHVybnMgdGhlIG90aGVyLlxuICpcbiAqIEBwYXJhbSBiYXNlIFRoZSB0YXJnZXQgb2JqZWN0IHRvIG1lcmdlIGludG9cbiAqIEBwYXJhbSBvdmVycmlkZXMgVGhlIHNvdXJjZSBvYmplY3QgdG8gbWVyZ2UgZnJvbVxuICogQHJldHVybnMgQSBuZXcgb2JqZWN0IHdpdGggdGhlIG1lcmdlZCBwcm9wZXJ0aWVzLCBvciB1bmRlZmluZWQgaWYgYm90aCBpbnB1dHMgYXJlIHVuZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VPYmplY3RzPFQgZXh0ZW5kcyBvYmplY3QsIFUgZXh0ZW5kcyBvYmplY3Q+KFxuICBiYXNlOiBUIHwgdW5kZWZpbmVkLFxuICBvdmVycmlkZXM6IFUgfCB1bmRlZmluZWQsXG4pOiAoVCAmIFUpIHwgVCB8IFUgfCB1bmRlZmluZWQge1xuICAvLyBJZiBib3RoIGlucHV0cyBhcmUgdW5kZWZpbmVkLCByZXR1cm4gdW5kZWZpbmVkXG4gIGlmIChiYXNlID09PSB1bmRlZmluZWQgJiYgb3ZlcnJpZGVzID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLy8gSWYgdGFyZ2V0IGlzIHVuZGVmaW5lZCwgcmV0dXJuIHNvdXJjZVxuICBpZiAoYmFzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG92ZXJyaWRlcztcbiAgfVxuXG4gIC8vIElmIHNvdXJjZSBpcyB1bmRlZmluZWQsIHJldHVybiB0YXJnZXRcbiAgaWYgKG92ZXJyaWRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGJhc2U7XG4gIH1cblxuICAvLyBDcmVhdGUgYSBuZXcgb2JqZWN0IHRvIGF2b2lkIG11dGF0aW5nIHRoZSBpbnB1dHNcbiAgY29uc3QgcmVzdWx0ID0geyAuLi5iYXNlIH0gYXMgVCAmIFU7XG5cbiAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBrZXlzIGluIHRoZSBzb3VyY2Ugb2JqZWN0XG4gIGZvciAoY29uc3Qga2V5IGluIG92ZXJyaWRlcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3ZlcnJpZGVzLCBrZXkpKSB7XG4gICAgICBjb25zdCBvdmVycmlkZXNWYWx1ZSA9IG92ZXJyaWRlc1trZXldO1xuXG4gICAgICAvLyBTa2lwIGlmIHRoZSBvdmVycmlkZXMgdmFsdWUgaXMgdW5kZWZpbmVkXG4gICAgICBpZiAob3ZlcnJpZGVzVmFsdWUgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgIC8vIEdldCB0aGUgYmFzZSB2YWx1ZSBpZiBpdCBleGlzdHNcbiAgICAgIGNvbnN0IGJhc2VWYWx1ZSA9XG4gICAgICAgIGtleSBpbiBiYXNlID8gYmFzZVtrZXkgYXMgdW5rbm93biBhcyBrZXlvZiBUXSA6IHVuZGVmaW5lZDtcblxuICAgICAgLy8gQ2hlY2sgaWYgYm90aCB2YWx1ZXMgYXJlIG9iamVjdHMgdGhhdCBjYW4gYmUgZGVlcGx5IG1lcmdlZFxuICAgICAgY29uc3QgaXNTb3VyY2VPYmplY3QgPVxuICAgICAgICBvdmVycmlkZXNWYWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgICB0eXBlb2Ygb3ZlcnJpZGVzVmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICFBcnJheS5pc0FycmF5KG92ZXJyaWRlc1ZhbHVlKSAmJlxuICAgICAgICAhKG92ZXJyaWRlc1ZhbHVlIGluc3RhbmNlb2YgRGF0ZSkgJiZcbiAgICAgICAgIShvdmVycmlkZXNWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCk7XG5cbiAgICAgIGNvbnN0IGlzVGFyZ2V0T2JqZWN0ID1cbiAgICAgICAgYmFzZVZhbHVlICE9PSBudWxsICYmXG4gICAgICAgIGJhc2VWYWx1ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIHR5cGVvZiBiYXNlVmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICFBcnJheS5pc0FycmF5KGJhc2VWYWx1ZSkgJiZcbiAgICAgICAgIShiYXNlVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSAmJlxuICAgICAgICAhKGJhc2VWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCk7XG5cbiAgICAgIC8vIElmIGJvdGggdmFsdWVzIGFyZSBtZXJnZWFibGUgb2JqZWN0cywgbWVyZ2UgdGhlbSByZWN1cnNpdmVseVxuICAgICAgaWYgKGlzU291cmNlT2JqZWN0ICYmIGlzVGFyZ2V0T2JqZWN0KSB7XG4gICAgICAgIHJlc3VsdFtrZXkgYXMga2V5b2YgKFQgJiBVKV0gPSBtZXJnZU9iamVjdHMoXG4gICAgICAgICAgYmFzZVZhbHVlIGFzIG9iamVjdCxcbiAgICAgICAgICBvdmVycmlkZXNWYWx1ZSBhcyBvYmplY3QsXG4gICAgICAgICkgYXMgYW55O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIHByaW1pdGl2ZXMsIGFycmF5cywgb3Igd2hlbiBvbmUgdmFsdWUgaXMgbm90IGEgbWVyZ2VhYmxlIG9iamVjdCxcbiAgICAgICAgLy8gc2ltcGx5IG92ZXJyaWRlIHdpdGggdGhlIHNvdXJjZSB2YWx1ZVxuICAgICAgICByZXN1bHRba2V5IGFzIGtleW9mIChUICYgVSldID0gb3ZlcnJpZGVzVmFsdWUgYXMgYW55O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCAiaW1wb3J0IHsgSlNPTlZhbHVlIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBzYWZlUGFyc2VKU09OIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBmaXhKc29uIH0gZnJvbSAnLi9maXgtanNvbic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVBhcnRpYWxKc29uKGpzb25UZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQpOiBQcm9taXNlPHtcbiAgdmFsdWU6IEpTT05WYWx1ZSB8IHVuZGVmaW5lZDtcbiAgc3RhdGU6XG4gICAgfCAndW5kZWZpbmVkLWlucHV0J1xuICAgIHwgJ3N1Y2Nlc3NmdWwtcGFyc2UnXG4gICAgfCAncmVwYWlyZWQtcGFyc2UnXG4gICAgfCAnZmFpbGVkLXBhcnNlJztcbn0+IHtcbiAgaWYgKGpzb25UZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBzdGF0ZTogJ3VuZGVmaW5lZC1pbnB1dCcgfTtcbiAgfVxuXG4gIGxldCByZXN1bHQgPSBhd2FpdCBzYWZlUGFyc2VKU09OKHsgdGV4dDoganNvblRleHQgfSk7XG5cbiAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHJlc3VsdC52YWx1ZSwgc3RhdGU6ICdzdWNjZXNzZnVsLXBhcnNlJyB9O1xuICB9XG5cbiAgcmVzdWx0ID0gYXdhaXQgc2FmZVBhcnNlSlNPTih7IHRleHQ6IGZpeEpzb24oanNvblRleHQpIH0pO1xuXG4gIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHZhbHVlOiByZXN1bHQudmFsdWUsIHN0YXRlOiAncmVwYWlyZWQtcGFyc2UnIH07XG4gIH1cblxuICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBzdGF0ZTogJ2ZhaWxlZC1wYXJzZScgfTtcbn1cbiIsICJ0eXBlIFN0YXRlID1cbiAgfCAnUk9PVCdcbiAgfCAnRklOSVNIJ1xuICB8ICdJTlNJREVfU1RSSU5HJ1xuICB8ICdJTlNJREVfU1RSSU5HX0VTQ0FQRSdcbiAgfCAnSU5TSURFX0xJVEVSQUwnXG4gIHwgJ0lOU0lERV9OVU1CRVInXG4gIHwgJ0lOU0lERV9PQkpFQ1RfU1RBUlQnXG4gIHwgJ0lOU0lERV9PQkpFQ1RfS0VZJ1xuICB8ICdJTlNJREVfT0JKRUNUX0FGVEVSX0tFWSdcbiAgfCAnSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUUnXG4gIHwgJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnXG4gIHwgJ0lOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUEnXG4gIHwgJ0lOU0lERV9BUlJBWV9TVEFSVCdcbiAgfCAnSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFJ1xuICB8ICdJTlNJREVfQVJSQVlfQUZURVJfQ09NTUEnO1xuXG4vLyBJbXBsZW1lbnRlZCBhcyBhIHNjYW5uZXIgd2l0aCBhZGRpdGlvbmFsIGZpeGluZ1xuLy8gdGhhdCBwZXJmb3JtcyBhIHNpbmdsZSBsaW5lYXIgdGltZSBzY2FuIHBhc3Mgb3ZlciB0aGUgcGFydGlhbCBKU09OLlxuLy9cbi8vIFRoZSBzdGF0ZXMgc2hvdWxkIGlkZWFsbHkgbWF0Y2ggcmVsZXZhbnQgc3RhdGVzIGZyb20gdGhlIEpTT04gc3BlYzpcbi8vIGh0dHBzOi8vd3d3Lmpzb24ub3JnL2pzb24tZW4uaHRtbFxuLy9cbi8vIFBsZWFzZSBub3RlIHRoYXQgaW52YWxpZCBKU09OIGlzIG5vdCBjb25zaWRlcmVkL2NvdmVyZWQsIGJlY2F1c2UgaXRcbi8vIGlzIGFzc3VtZWQgdGhhdCB0aGUgcmVzdWx0aW5nIEpTT04gd2lsbCBiZSBwcm9jZXNzZWQgYnkgYSBzdGFuZGFyZFxuLy8gSlNPTiBwYXJzZXIgdGhhdCB3aWxsIGRldGVjdCBhbnkgaW52YWxpZCBKU09OLlxuZXhwb3J0IGZ1bmN0aW9uIGZpeEpzb24oaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHN0YWNrOiBTdGF0ZVtdID0gWydST09UJ107XG4gIGxldCBsYXN0VmFsaWRJbmRleCA9IC0xO1xuICBsZXQgbGl0ZXJhbFN0YXJ0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBwcm9jZXNzVmFsdWVTdGFydChjaGFyOiBzdHJpbmcsIGk6IG51bWJlciwgc3dhcFN0YXRlOiBTdGF0ZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9TVFJJTkcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICBjYXNlICd0JzpcbiAgICAgICAgY2FzZSAnbic6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgbGl0ZXJhbFN0YXJ0ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX0xJVEVSQUwnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJy0nOiB7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9OVU1CRVInKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICcwJzpcbiAgICAgICAgY2FzZSAnMSc6XG4gICAgICAgIGNhc2UgJzInOlxuICAgICAgICBjYXNlICczJzpcbiAgICAgICAgY2FzZSAnNCc6XG4gICAgICAgIGNhc2UgJzUnOlxuICAgICAgICBjYXNlICc2JzpcbiAgICAgICAgY2FzZSAnNyc6XG4gICAgICAgIGNhc2UgJzgnOlxuICAgICAgICBjYXNlICc5Jzoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX05VTUJFUicpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAneyc6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9PQkpFQ1RfU1RBUlQnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ1snOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfQVJSQVlfU1RBUlQnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXI6IHN0cmluZywgaTogbnVtYmVyKSB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlICcsJzoge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQScpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ30nOiB7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhcjogc3RyaW5nLCBpOiBudW1iZXIpIHtcbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgJywnOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfQVJSQVlfQUZURVJfQ09NTUEnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICddJzoge1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hhciA9IGlucHV0W2ldO1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuXG4gICAgc3dpdGNoIChjdXJyZW50U3RhdGUpIHtcbiAgICAgIGNhc2UgJ1JPT1QnOlxuICAgICAgICBwcm9jZXNzVmFsdWVTdGFydChjaGFyLCBpLCAnRklOSVNIJyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX1NUQVJUJzoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX09CSkVDVF9LRVknKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICd9Jzoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUEnOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfT0JKRUNUX0tFWScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX0tFWSc6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9PQkpFQ1RfQUZURVJfS0VZJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQUZURVJfS0VZJzoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICc6Jzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfT0JKRUNUX0JFRk9SRV9WQUxVRScpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFJzoge1xuICAgICAgICBwcm9jZXNzVmFsdWVTdGFydChjaGFyLCBpLCAnSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRScpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRSc6IHtcbiAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfU1RSSU5HJzoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnXFxcXCc6IHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9TVFJJTkdfRVNDQVBFJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9BUlJBWV9TVEFSVCc6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXSc6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfQVJSQVlfQUZURVJfVkFMVUUnOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJywnOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9BUlJBWV9BRlRFUl9DT01NQScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnXSc6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9BUlJBWV9BRlRFUl9DT01NQSc6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRScpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX1NUUklOR19FU0NBUEUnOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9OVU1CRVInOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJzAnOlxuICAgICAgICAgIGNhc2UgJzEnOlxuICAgICAgICAgIGNhc2UgJzInOlxuICAgICAgICAgIGNhc2UgJzMnOlxuICAgICAgICAgIGNhc2UgJzQnOlxuICAgICAgICAgIGNhc2UgJzUnOlxuICAgICAgICAgIGNhc2UgJzYnOlxuICAgICAgICAgIGNhc2UgJzcnOlxuICAgICAgICAgIGNhc2UgJzgnOlxuICAgICAgICAgIGNhc2UgJzknOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdlJzpcbiAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICBjYXNlICcuJzoge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnLCc6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09ICdJTlNJREVfQVJSQVlfQUZURVJfVkFMVUUnKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICd9Jzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICddJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRScpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX0xJVEVSQUwnOiB7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxMaXRlcmFsID0gaW5wdXQuc3Vic3RyaW5nKGxpdGVyYWxTdGFydCEsIGkgKyAxKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgISdmYWxzZScuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkgJiZcbiAgICAgICAgICAhJ3RydWUnLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmXG4gICAgICAgICAgISdudWxsJy5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKVxuICAgICAgICApIHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcblxuICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnKSB7XG4gICAgICAgICAgICBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSAnSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFJykge1xuICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IHJlc3VsdCA9IGlucHV0LnNsaWNlKDAsIGxhc3RWYWxpZEluZGV4ICsgMSk7XG5cbiAgZm9yIChsZXQgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBzdGFja1tpXTtcblxuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgJ0lOU0lERV9TVFJJTkcnOiB7XG4gICAgICAgIHJlc3VsdCArPSAnXCInO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9LRVknOlxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9BRlRFUl9LRVknOlxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQSc6XG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX1NUQVJUJzpcbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFJzpcbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnOiB7XG4gICAgICAgIHJlc3VsdCArPSAnfSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfQVJSQVlfU1RBUlQnOlxuICAgICAgY2FzZSAnSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BJzpcbiAgICAgIGNhc2UgJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRSc6IHtcbiAgICAgICAgcmVzdWx0ICs9ICddJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9MSVRFUkFMJzoge1xuICAgICAgICBjb25zdCBwYXJ0aWFsTGl0ZXJhbCA9IGlucHV0LnN1YnN0cmluZyhsaXRlcmFsU3RhcnQhLCBpbnB1dC5sZW5ndGgpO1xuXG4gICAgICAgIGlmICgndHJ1ZScuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gJ3RydWUnLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoJ2ZhbHNlJy5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHJlc3VsdCArPSAnZmFsc2UnLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoJ251bGwnLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9ICdudWxsJy5zbGljZShwYXJ0aWFsTGl0ZXJhbC5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsICJpbXBvcnQge1xuICBJbmZlclRvb2xJbnB1dCxcbiAgSW5mZXJUb29sT3V0cHV0LFxuICBUb29sLFxuICBUb29sQ2FsbCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dCc7XG5pbXBvcnQgeyBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHsgRGVlcFBhcnRpYWwgfSBmcm9tICcuLi91dGlsL2RlZXAtcGFydGlhbCc7XG5pbXBvcnQgeyBWYWx1ZU9mIH0gZnJvbSAnLi4vdXRpbC92YWx1ZS1vZic7XG5cbi8qKlxuVGhlIGRhdGEgdHlwZXMgdGhhdCBjYW4gYmUgdXNlZCBpbiB0aGUgVUkgbWVzc2FnZSBmb3IgdGhlIFVJIG1lc3NhZ2UgZGF0YSBwYXJ0cy5cbiAqL1xuZXhwb3J0IHR5cGUgVUlEYXRhVHlwZXMgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuZXhwb3J0IHR5cGUgVUlUb29sID0ge1xuICBpbnB1dDogdW5rbm93bjtcbiAgb3V0cHV0OiB1bmtub3duIHwgdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBJbmZlciB0aGUgaW5wdXQgYW5kIG91dHB1dCB0eXBlcyBvZiBhIHRvb2wgc28gaXQgY2FuIGJlIHVzZWQgYXMgYSBVSSB0b29sLlxuICovXG5leHBvcnQgdHlwZSBJbmZlclVJVG9vbDxUT09MIGV4dGVuZHMgVG9vbD4gPSB7XG4gIGlucHV0OiBJbmZlclRvb2xJbnB1dDxUT09MPjtcbiAgb3V0cHV0OiBJbmZlclRvb2xPdXRwdXQ8VE9PTD47XG59O1xuXG4vKipcbiAqIEluZmVyIHRoZSBpbnB1dCBhbmQgb3V0cHV0IHR5cGVzIG9mIGEgdG9vbCBzZXQgc28gaXQgY2FuIGJlIHVzZWQgYXMgYSBVSSB0b29sIHNldC5cbiAqL1xuZXhwb3J0IHR5cGUgSW5mZXJVSVRvb2xzPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSB7XG4gIFtOQU1FIGluIGtleW9mIFRPT0xTICYgc3RyaW5nXTogSW5mZXJVSVRvb2w8VE9PTFNbTkFNRV0+O1xufTtcblxuZXhwb3J0IHR5cGUgVUlUb29scyA9IFJlY29yZDxzdHJpbmcsIFVJVG9vbD47XG5cbi8qKlxuQUkgU0RLIFVJIE1lc3NhZ2VzLiBUaGV5IGFyZSB1c2VkIGluIHRoZSBjbGllbnQgYW5kIHRvIGNvbW11bmljYXRlIGJldHdlZW4gdGhlIGZyb250ZW5kIGFuZCB0aGUgQVBJIHJvdXRlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVSU1lc3NhZ2U8XG4gIE1FVEFEQVRBID0gdW5rbm93bixcbiAgREFUQV9QQVJUUyBleHRlbmRzIFVJRGF0YVR5cGVzID0gVUlEYXRhVHlwZXMsXG4gIFRPT0xTIGV4dGVuZHMgVUlUb29scyA9IFVJVG9vbHMsXG4+IHtcbiAgLyoqXG5BIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgbWVzc2FnZS5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG5UaGUgcm9sZSBvZiB0aGUgbWVzc2FnZS5cbiAgICovXG4gIHJvbGU6ICdzeXN0ZW0nIHwgJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG5cbiAgLyoqXG5UaGUgbWV0YWRhdGEgb2YgdGhlIG1lc3NhZ2UuXG4gICAqL1xuICBtZXRhZGF0YT86IE1FVEFEQVRBO1xuXG4gIC8qKlxuVGhlIHBhcnRzIG9mIHRoZSBtZXNzYWdlLiBVc2UgdGhpcyBmb3IgcmVuZGVyaW5nIHRoZSBtZXNzYWdlIGluIHRoZSBVSS5cblxuU3lzdGVtIG1lc3NhZ2VzIHNob3VsZCBiZSBhdm9pZGVkIChzZXQgdGhlIHN5c3RlbSBwcm9tcHQgb24gdGhlIHNlcnZlciBpbnN0ZWFkKS5cblRoZXkgY2FuIGhhdmUgdGV4dCBwYXJ0cy5cblxuVXNlciBtZXNzYWdlcyBjYW4gaGF2ZSB0ZXh0IHBhcnRzIGFuZCBmaWxlIHBhcnRzLlxuXG5Bc3Npc3RhbnQgbWVzc2FnZXMgY2FuIGhhdmUgdGV4dCwgcmVhc29uaW5nLCB0b29sIGludm9jYXRpb24sIGFuZCBmaWxlIHBhcnRzLlxuICAgKi9cbiAgcGFydHM6IEFycmF5PFVJTWVzc2FnZVBhcnQ8REFUQV9QQVJUUywgVE9PTFM+Pjtcbn1cblxuZXhwb3J0IHR5cGUgVUlNZXNzYWdlUGFydDxcbiAgREFUQV9UWVBFUyBleHRlbmRzIFVJRGF0YVR5cGVzLFxuICBUT09MUyBleHRlbmRzIFVJVG9vbHMsXG4+ID1cbiAgfCBUZXh0VUlQYXJ0XG4gIHwgUmVhc29uaW5nVUlQYXJ0XG4gIHwgVG9vbFVJUGFydDxUT09MUz5cbiAgfCBEeW5hbWljVG9vbFVJUGFydFxuICB8IFNvdXJjZVVybFVJUGFydFxuICB8IFNvdXJjZURvY3VtZW50VUlQYXJ0XG4gIHwgRmlsZVVJUGFydFxuICB8IERhdGFVSVBhcnQ8REFUQV9UWVBFUz5cbiAgfCBTdGVwU3RhcnRVSVBhcnQ7XG5cbi8qKlxuICogQSB0ZXh0IHBhcnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgdHlwZSBUZXh0VUlQYXJ0ID0ge1xuICB0eXBlOiAndGV4dCc7XG5cbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGNvbnRlbnQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0ZSBvZiB0aGUgdGV4dCBwYXJ0LlxuICAgKi9cbiAgc3RhdGU/OiAnc3RyZWFtaW5nJyB8ICdkb25lJztcblxuICAvKipcbiAgICogVGhlIHByb3ZpZGVyIG1ldGFkYXRhLlxuICAgKi9cbiAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG59O1xuXG4vKipcbiAqIEEgcmVhc29uaW5nIHBhcnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgdHlwZSBSZWFzb25pbmdVSVBhcnQgPSB7XG4gIHR5cGU6ICdyZWFzb25pbmcnO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVhc29uaW5nIHRleHQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0ZSBvZiB0aGUgcmVhc29uaW5nIHBhcnQuXG4gICAqL1xuICBzdGF0ZT86ICdzdHJlYW1pbmcnIHwgJ2RvbmUnO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJvdmlkZXIgbWV0YWRhdGEuXG4gICAqL1xuICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbn07XG5cbi8qKlxuICogQSBzb3VyY2UgcGFydCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIFNvdXJjZVVybFVJUGFydCA9IHtcbiAgdHlwZTogJ3NvdXJjZS11cmwnO1xuICBzb3VyY2VJZDogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xufTtcblxuLyoqXG4gKiBBIGRvY3VtZW50IHNvdXJjZSBwYXJ0IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IHR5cGUgU291cmNlRG9jdW1lbnRVSVBhcnQgPSB7XG4gIHR5cGU6ICdzb3VyY2UtZG9jdW1lbnQnO1xuICBzb3VyY2VJZDogc3RyaW5nO1xuICBtZWRpYVR5cGU6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgZmlsZW5hbWU/OiBzdHJpbmc7XG4gIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xufTtcblxuLyoqXG4gKiBBIGZpbGUgcGFydCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIEZpbGVVSVBhcnQgPSB7XG4gIHR5cGU6ICdmaWxlJztcblxuICAvKipcbiAgICogSUFOQSBtZWRpYSB0eXBlIG9mIHRoZSBmaWxlLlxuICAgKlxuICAgKiBAc2VlIGh0dHBzOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL21lZGlhLXR5cGVzL21lZGlhLXR5cGVzLnhodG1sXG4gICAqL1xuICBtZWRpYVR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogT3B0aW9uYWwgZmlsZW5hbWUgb2YgdGhlIGZpbGUuXG4gICAqL1xuICBmaWxlbmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgZmlsZS5cbiAgICogSXQgY2FuIGVpdGhlciBiZSBhIFVSTCB0byBhIGhvc3RlZCBmaWxlIG9yIGEgW0RhdGEgVVJMXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0Jhc2ljc19vZl9IVFRQL0RhdGFfVVJMcykuXG4gICAqL1xuICB1cmw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHByb3ZpZGVyIG1ldGFkYXRhLlxuICAgKi9cbiAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG59O1xuXG4vKipcbiAqIEEgc3RlcCBib3VuZGFyeSBwYXJ0IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IHR5cGUgU3RlcFN0YXJ0VUlQYXJ0ID0ge1xuICB0eXBlOiAnc3RlcC1zdGFydCc7XG59O1xuXG5leHBvcnQgdHlwZSBEYXRhVUlQYXJ0PERBVEFfVFlQRVMgZXh0ZW5kcyBVSURhdGFUeXBlcz4gPSBWYWx1ZU9mPHtcbiAgW05BTUUgaW4ga2V5b2YgREFUQV9UWVBFUyAmIHN0cmluZ106IHtcbiAgICB0eXBlOiBgZGF0YS0ke05BTUV9YDtcbiAgICBpZD86IHN0cmluZztcbiAgICBkYXRhOiBEQVRBX1RZUEVTW05BTUVdO1xuICB9O1xufT47XG5cbnR5cGUgYXNVSVRvb2w8VE9PTCBleHRlbmRzIFVJVG9vbCB8IFRvb2w+ID0gVE9PTCBleHRlbmRzIFRvb2xcbiAgPyBJbmZlclVJVG9vbDxUT09MPlxuICA6IFRPT0w7XG5cbi8qKlxuICogQSBVSSB0b29sIGludm9jYXRpb24gY29udGFpbnMgYWxsIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWQgdG8gcmVuZGVyIGEgdG9vbCBpbnZvY2F0aW9uIGluIHRoZSBVSS5cbiAqIEl0IGNhbiBiZSBkZXJpdmVkIGZyb20gYSB0b29sIHdpdGhvdXQga25vd2luZyB0aGUgdG9vbCBuYW1lLCBhbmQgY2FuIGJlIHVzZWQgdG8gZGVmaW5lXG4gKiBVSSBjb21wb25lbnRzIGZvciB0aGUgdG9vbC5cbiAqL1xuZXhwb3J0IHR5cGUgVUlUb29sSW52b2NhdGlvbjxUT09MIGV4dGVuZHMgVUlUb29sIHwgVG9vbD4gPSB7XG4gIHRvb2xDYWxsSWQ6IHN0cmluZztcbn0gJiAoXG4gIHwge1xuICAgICAgc3RhdGU6ICdpbnB1dC1zdHJlYW1pbmcnO1xuICAgICAgaW5wdXQ6IERlZXBQYXJ0aWFsPGFzVUlUb29sPFRPT0w+WydpbnB1dCddPiB8IHVuZGVmaW5lZDtcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgb3V0cHV0PzogbmV2ZXI7XG4gICAgICBlcnJvclRleHQ/OiBuZXZlcjtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6ICdpbnB1dC1hdmFpbGFibGUnO1xuICAgICAgaW5wdXQ6IGFzVUlUb29sPFRPT0w+WydpbnB1dCddO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBvdXRwdXQ/OiBuZXZlcjtcbiAgICAgIGVycm9yVGV4dD86IG5ldmVyO1xuICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0ZTogJ291dHB1dC1hdmFpbGFibGUnO1xuICAgICAgaW5wdXQ6IGFzVUlUb29sPFRPT0w+WydpbnB1dCddO1xuICAgICAgb3V0cHV0OiBhc1VJVG9vbDxUT09MPlsnb3V0cHV0J107XG4gICAgICBlcnJvclRleHQ/OiBuZXZlcjtcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgcHJlbGltaW5hcnk/OiBib29sZWFuO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0ZTogJ291dHB1dC1lcnJvcic7IC8vIFRPRE8gQUkgU0RLIDY6IGNoYW5nZSB0byAnZXJyb3InIHN0YXRlXG4gICAgICBpbnB1dDogYXNVSVRvb2w8VE9PTD5bJ2lucHV0J10gfCB1bmRlZmluZWQ7XG4gICAgICByYXdJbnB1dD86IHVua25vd247IC8vIFRPRE8gQUkgU0RLIDY6IHJlbW92ZSB0aGlzIGZpZWxkLCBpbnB1dCBzaG91bGQgYmUgdW5rbm93blxuICAgICAgb3V0cHV0PzogbmV2ZXI7XG4gICAgICBlcnJvclRleHQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbik7XG5cbmV4cG9ydCB0eXBlIFRvb2xVSVBhcnQ8VE9PTFMgZXh0ZW5kcyBVSVRvb2xzID0gVUlUb29scz4gPSBWYWx1ZU9mPHtcbiAgW05BTUUgaW4ga2V5b2YgVE9PTFMgJiBzdHJpbmddOiB7XG4gICAgdHlwZTogYHRvb2wtJHtOQU1FfWA7XG4gIH0gJiBVSVRvb2xJbnZvY2F0aW9uPFRPT0xTW05BTUVdPjtcbn0+O1xuXG5leHBvcnQgdHlwZSBEeW5hbWljVG9vbFVJUGFydCA9IHtcbiAgdHlwZTogJ2R5bmFtaWMtdG9vbCc7XG4gIHRvb2xOYW1lOiBzdHJpbmc7XG4gIHRvb2xDYWxsSWQ6IHN0cmluZztcbn0gJiAoXG4gIHwge1xuICAgICAgc3RhdGU6ICdpbnB1dC1zdHJlYW1pbmcnO1xuICAgICAgaW5wdXQ6IHVua25vd24gfCB1bmRlZmluZWQ7XG4gICAgICBvdXRwdXQ/OiBuZXZlcjtcbiAgICAgIGVycm9yVGV4dD86IG5ldmVyO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0ZTogJ2lucHV0LWF2YWlsYWJsZSc7XG4gICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgIG91dHB1dD86IG5ldmVyO1xuICAgICAgZXJyb3JUZXh0PzogbmV2ZXI7XG4gICAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXRlOiAnb3V0cHV0LWF2YWlsYWJsZSc7XG4gICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgIG91dHB1dDogdW5rbm93bjtcbiAgICAgIGVycm9yVGV4dD86IG5ldmVyO1xuICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgcHJlbGltaW5hcnk/OiBib29sZWFuO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0ZTogJ291dHB1dC1lcnJvcic7IC8vIFRPRE8gQUkgU0RLIDY6IGNoYW5nZSB0byAnZXJyb3InIHN0YXRlXG4gICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgIG91dHB1dD86IG5ldmVyO1xuICAgICAgZXJyb3JUZXh0OiBzdHJpbmc7XG4gICAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzVG9vbFVJUGFydDxUT09MUyBleHRlbmRzIFVJVG9vbHM+KFxuICBwYXJ0OiBVSU1lc3NhZ2VQYXJ0PFVJRGF0YVR5cGVzLCBUT09MUz4sXG4pOiBwYXJ0IGlzIFRvb2xVSVBhcnQ8VE9PTFM+IHtcbiAgcmV0dXJuIHBhcnQudHlwZS5zdGFydHNXaXRoKCd0b29sLScpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEeW5hbWljVG9vbFVJUGFydChcbiAgcGFydDogVUlNZXNzYWdlUGFydDxVSURhdGFUeXBlcywgVUlUb29scz4sXG4pOiBwYXJ0IGlzIER5bmFtaWNUb29sVUlQYXJ0IHtcbiAgcmV0dXJuIHBhcnQudHlwZSA9PT0gJ2R5bmFtaWMtdG9vbCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0PFRPT0xTIGV4dGVuZHMgVUlUb29scz4oXG4gIHBhcnQ6IFVJTWVzc2FnZVBhcnQ8VUlEYXRhVHlwZXMsIFRPT0xTPixcbik6IHBhcnQgaXMgVG9vbFVJUGFydDxUT09MUz4gfCBEeW5hbWljVG9vbFVJUGFydCB7XG4gIHJldHVybiBpc1Rvb2xVSVBhcnQocGFydCkgfHwgaXNEeW5hbWljVG9vbFVJUGFydChwYXJ0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvb2xOYW1lPFRPT0xTIGV4dGVuZHMgVUlUb29scz4oXG4gIHBhcnQ6IFRvb2xVSVBhcnQ8VE9PTFM+LFxuKToga2V5b2YgVE9PTFMge1xuICByZXR1cm4gcGFydC50eXBlLnNwbGl0KCctJykuc2xpY2UoMSkuam9pbignLScpIGFzIGtleW9mIFRPT0xTO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9vbE9yRHluYW1pY1Rvb2xOYW1lKFxuICBwYXJ0OiBUb29sVUlQYXJ0PFVJVG9vbHM+IHwgRHluYW1pY1Rvb2xVSVBhcnQsXG4pOiBzdHJpbmcge1xuICByZXR1cm4gaXNEeW5hbWljVG9vbFVJUGFydChwYXJ0KSA/IHBhcnQudG9vbE5hbWUgOiBnZXRUb29sTmFtZShwYXJ0KTtcbn1cblxuZXhwb3J0IHR5cGUgSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxUIGV4dGVuZHMgVUlNZXNzYWdlPiA9XG4gIFQgZXh0ZW5kcyBVSU1lc3NhZ2U8aW5mZXIgTUVUQURBVEE+ID8gTUVUQURBVEEgOiB1bmtub3duO1xuXG5leHBvcnQgdHlwZSBJbmZlclVJTWVzc2FnZURhdGE8VCBleHRlbmRzIFVJTWVzc2FnZT4gPVxuICBUIGV4dGVuZHMgVUlNZXNzYWdlPHVua25vd24sIGluZmVyIERBVEFfVFlQRVM+ID8gREFUQV9UWVBFUyA6IFVJRGF0YVR5cGVzO1xuXG5leHBvcnQgdHlwZSBJbmZlclVJTWVzc2FnZVRvb2xzPFQgZXh0ZW5kcyBVSU1lc3NhZ2U+ID1cbiAgVCBleHRlbmRzIFVJTWVzc2FnZTx1bmtub3duLCBVSURhdGFUeXBlcywgaW5mZXIgVE9PTFM+ID8gVE9PTFMgOiBVSVRvb2xzO1xuXG5leHBvcnQgdHlwZSBJbmZlclVJTWVzc2FnZVRvb2xPdXRwdXRzPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID1cbiAgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPltrZXlvZiBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+XVsnb3V0cHV0J107XG5cbmV4cG9ydCB0eXBlIEluZmVyVUlNZXNzYWdlVG9vbENhbGw8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPVxuICB8IFZhbHVlT2Y8e1xuICAgICAgW05BTUUgaW4ga2V5b2YgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPl06IFRvb2xDYWxsPFxuICAgICAgICBOQU1FICYgc3RyaW5nLFxuICAgICAgICBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+W05BTUVdIGV4dGVuZHMgeyBpbnB1dDogaW5mZXIgSU5QVVQgfVxuICAgICAgICAgID8gSU5QVVRcbiAgICAgICAgICA6IG5ldmVyXG4gICAgICA+ICYgeyBkeW5hbWljPzogZmFsc2UgfTtcbiAgICB9PlxuICB8IChUb29sQ2FsbDxzdHJpbmcsIHVua25vd24+ICYgeyBkeW5hbWljOiB0cnVlIH0pO1xuIiwgImltcG9ydCB7XG4gIGNyZWF0ZVN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlLFxuICBwcm9jZXNzVUlNZXNzYWdlU3RyZWFtLFxuICBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZSxcbn0gZnJvbSAnLi4vdWkvcHJvY2Vzcy11aS1tZXNzYWdlLXN0cmVhbSc7XG5pbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuLi91aS91aS1tZXNzYWdlcyc7XG5pbXBvcnQgeyBFcnJvckhhbmRsZXIgfSBmcm9tICcuLi91dGlsL2Vycm9yLWhhbmRsZXInO1xuaW1wb3J0IHsgSW5mZXJVSU1lc3NhZ2VDaHVuaywgVUlNZXNzYWdlQ2h1bmsgfSBmcm9tICcuL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IFVJTWVzc2FnZVN0cmVhbU9uRmluaXNoQ2FsbGJhY2sgfSBmcm9tICcuL3VpLW1lc3NhZ2Utc3RyZWFtLW9uLWZpbmlzaC1jYWxsYmFjayc7XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVVSU1lc3NhZ2VTdHJlYW1GaW5pc2g8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oe1xuICBtZXNzYWdlSWQsXG4gIG9yaWdpbmFsTWVzc2FnZXMgPSBbXSxcbiAgb25GaW5pc2gsXG4gIG9uRXJyb3IsXG4gIHN0cmVhbSxcbn06IHtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+PjtcblxuICAvKipcbiAgICogVGhlIG1lc3NhZ2UgSUQgdG8gdXNlIGZvciB0aGUgcmVzcG9uc2UgbWVzc2FnZS5cbiAgICogSWYgbm90IHByb3ZpZGVkLCBubyBpZCB3aWxsIGJlIHNldCBmb3IgdGhlIHJlc3BvbnNlIG1lc3NhZ2UuXG4gICAqL1xuICBtZXNzYWdlSWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvcmlnaW5hbCBtZXNzYWdlcy5cbiAgICovXG4gIG9yaWdpbmFsTWVzc2FnZXM/OiBVSV9NRVNTQUdFW107XG5cbiAgb25FcnJvcjogRXJyb3JIYW5kbGVyO1xuXG4gIG9uRmluaXNoPzogVUlNZXNzYWdlU3RyZWFtT25GaW5pc2hDYWxsYmFjazxVSV9NRVNTQUdFPjtcbn0pOiBSZWFkYWJsZVN0cmVhbTxJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+PiB7XG4gIC8vIGxhc3QgbWVzc2FnZSBpcyBvbmx5IHJlbGV2YW50IGZvciBhc3Npc3RhbnQgbWVzc2FnZXNcbiAgbGV0IGxhc3RNZXNzYWdlOiBVSV9NRVNTQUdFIHwgdW5kZWZpbmVkID1cbiAgICBvcmlnaW5hbE1lc3NhZ2VzPy5bb3JpZ2luYWxNZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgaWYgKGxhc3RNZXNzYWdlPy5yb2xlICE9PSAnYXNzaXN0YW50Jykge1xuICAgIGxhc3RNZXNzYWdlID0gdW5kZWZpbmVkO1xuICB9IGVsc2Uge1xuICAgIC8vIGFwcGVuZGluZyB0byB0aGUgbGFzdCBtZXNzYWdlLCBzbyB3ZSBuZWVkIHRvIHVzZSB0aGUgc2FtZSBpZFxuICAgIG1lc3NhZ2VJZCA9IGxhc3RNZXNzYWdlLmlkO1xuICB9XG5cbiAgbGV0IGlzQWJvcnRlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGlkSW5qZWN0ZWRTdHJlYW0gPSBzdHJlYW0ucGlwZVRocm91Z2goXG4gICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4sXG4gICAgICBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+XG4gICAgPih7XG4gICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgLy8gd2hlbiB0aGVyZSBpcyBubyBtZXNzYWdlSWQgaW4gdGhlIHN0YXJ0IGNodW5rLFxuICAgICAgICAvLyBidXQgdGhlIHVzZXIgY2hlY2tlZCBmb3IgcGVyc2lzdGVuY2UsXG4gICAgICAgIC8vIGluamVjdCB0aGUgbWVzc2FnZUlkIGludG8gdGhlIGNodW5rXG4gICAgICAgIGlmIChjaHVuay50eXBlID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgY29uc3Qgc3RhcnRDaHVuayA9IGNodW5rIGFzIFVJTWVzc2FnZUNodW5rICYgeyB0eXBlOiAnc3RhcnQnIH07XG4gICAgICAgICAgaWYgKHN0YXJ0Q2h1bmsubWVzc2FnZUlkID09IG51bGwgJiYgbWVzc2FnZUlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXJ0Q2h1bmsubWVzc2FnZUlkID0gbWVzc2FnZUlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaHVuay50eXBlID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgaXNBYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICB9LFxuICAgIH0pLFxuICApO1xuXG4gIGlmIChvbkZpbmlzaCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGlkSW5qZWN0ZWRTdHJlYW07XG4gIH1cblxuICBjb25zdCBzdGF0ZSA9IGNyZWF0ZVN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0U+KHtcbiAgICBsYXN0TWVzc2FnZTogbGFzdE1lc3NhZ2VcbiAgICAgID8gKHN0cnVjdHVyZWRDbG9uZShsYXN0TWVzc2FnZSkgYXMgVUlfTUVTU0FHRSlcbiAgICAgIDogdW5kZWZpbmVkLFxuICAgIG1lc3NhZ2VJZDogbWVzc2FnZUlkID8/ICcnLCAvLyB3aWxsIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN0cmVhbVxuICB9KTtcblxuICBjb25zdCBydW5VcGRhdGVNZXNzYWdlSm9iID0gYXN5bmMgKFxuICAgIGpvYjogKG9wdGlvbnM6IHtcbiAgICAgIHN0YXRlOiBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFPjtcbiAgICAgIHdyaXRlOiAoKSA9PiB2b2lkO1xuICAgIH0pID0+IFByb21pc2U8dm9pZD4sXG4gICkgPT4ge1xuICAgIGF3YWl0IGpvYih7IHN0YXRlLCB3cml0ZTogKCkgPT4ge30gfSk7XG4gIH07XG5cbiAgbGV0IGZpbmlzaENhbGxlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGNhbGxPbkZpbmlzaCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoZmluaXNoQ2FsbGVkIHx8ICFvbkZpbmlzaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaW5pc2hDYWxsZWQgPSB0cnVlO1xuXG4gICAgY29uc3QgaXNDb250aW51YXRpb24gPSBzdGF0ZS5tZXNzYWdlLmlkID09PSBsYXN0TWVzc2FnZT8uaWQ7XG4gICAgYXdhaXQgb25GaW5pc2goe1xuICAgICAgaXNBYm9ydGVkLFxuICAgICAgaXNDb250aW51YXRpb24sXG4gICAgICByZXNwb25zZU1lc3NhZ2U6IHN0YXRlLm1lc3NhZ2UgYXMgVUlfTUVTU0FHRSxcbiAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgIC4uLihpc0NvbnRpbnVhdGlvbiA/IG9yaWdpbmFsTWVzc2FnZXMuc2xpY2UoMCwgLTEpIDogb3JpZ2luYWxNZXNzYWdlcyksXG4gICAgICAgIHN0YXRlLm1lc3NhZ2UsXG4gICAgICBdIGFzIFVJX01FU1NBR0VbXSxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gcHJvY2Vzc1VJTWVzc2FnZVN0cmVhbTxVSV9NRVNTQUdFPih7XG4gICAgc3RyZWFtOiBpZEluamVjdGVkU3RyZWFtLFxuICAgIHJ1blVwZGF0ZU1lc3NhZ2VKb2IsXG4gICAgb25FcnJvcixcbiAgfSkucGlwZVRocm91Z2goXG4gICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4sXG4gICAgICBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+XG4gICAgPih7XG4gICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgIH0sXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNhbmNlbCBpcyBzdGlsbCBuZXcgYW5kIG1pc3NpbmcgZnJvbSB0eXBlcyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVHJhbnNmb3JtU3RyZWFtI2Jyb3dzZXJfY29tcGF0aWJpbGl0eVxuICAgICAgYXN5bmMgY2FuY2VsKCkge1xuICAgICAgICBhd2FpdCBjYWxsT25GaW5pc2goKTtcbiAgICAgIH0sXG5cbiAgICAgIGFzeW5jIGZsdXNoKCkge1xuICAgICAgICBhd2FpdCBjYWxsT25GaW5pc2goKTtcbiAgICAgIH0sXG4gICAgfSksXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgU2VydmVyUmVzcG9uc2UgfSBmcm9tICdub2RlOmh0dHAnO1xuaW1wb3J0IHsgcHJlcGFyZUhlYWRlcnMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtaGVhZGVycyc7XG5pbXBvcnQgeyB3cml0ZVRvU2VydmVyUmVzcG9uc2UgfSBmcm9tICcuLi91dGlsL3dyaXRlLXRvLXNlcnZlci1yZXNwb25zZSc7XG5pbXBvcnQgeyBKc29uVG9Tc2VUcmFuc2Zvcm1TdHJlYW0gfSBmcm9tICcuL2pzb24tdG8tc3NlLXRyYW5zZm9ybS1zdHJlYW0nO1xuaW1wb3J0IHsgVUlfTUVTU0FHRV9TVFJFQU1fSEVBREVSUyB9IGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0taGVhZGVycyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2VJbml0IH0gZnJvbSAnLi91aS1tZXNzYWdlLXN0cmVhbS1yZXNwb25zZS1pbml0JztcblxuZXhwb3J0IGZ1bmN0aW9uIHBpcGVVSU1lc3NhZ2VTdHJlYW1Ub1Jlc3BvbnNlKHtcbiAgcmVzcG9uc2UsXG4gIHN0YXR1cyxcbiAgc3RhdHVzVGV4dCxcbiAgaGVhZGVycyxcbiAgc3RyZWFtLFxuICBjb25zdW1lU3NlU3RyZWFtLFxufToge1xuICByZXNwb25zZTogU2VydmVyUmVzcG9uc2U7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VUlNZXNzYWdlQ2h1bms+O1xufSAmIFVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlSW5pdCk6IHZvaWQge1xuICBsZXQgc3NlU3RyZWFtID0gc3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBKc29uVG9Tc2VUcmFuc2Zvcm1TdHJlYW0oKSk7XG5cbiAgLy8gd2hlbiB0aGUgY29uc3VtZVNzZVN0cmVhbSBpcyBwcm92aWRlZCwgd2UgbmVlZCB0byB0ZWUgdGhlIHN0cmVhbVxuICAvLyBhbmQgc2VuZCB0aGUgc2Vjb25kIHBhcnQgdG8gdGhlIGNvbnN1bWVTc2VTdHJlYW0gZnVuY3Rpb25cbiAgLy8gc28gdGhhdCBpdCBjYW4gYmUgY29uc3VtZWQgYnkgdGhlIGNsaWVudCBpbmRlcGVuZGVudGx5XG4gIGlmIChjb25zdW1lU3NlU3RyZWFtKSB7XG4gICAgY29uc3QgW3N0cmVhbTEsIHN0cmVhbTJdID0gc3NlU3RyZWFtLnRlZSgpO1xuICAgIHNzZVN0cmVhbSA9IHN0cmVhbTE7XG4gICAgY29uc3VtZVNzZVN0cmVhbSh7IHN0cmVhbTogc3RyZWFtMiB9KTsgLy8gbm8gYXdhaXQgKGRvIG5vdCBibG9jayB0aGUgcmVzcG9uc2UpXG4gIH1cblxuICB3cml0ZVRvU2VydmVyUmVzcG9uc2Uoe1xuICAgIHJlc3BvbnNlLFxuICAgIHN0YXR1cyxcbiAgICBzdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIHByZXBhcmVIZWFkZXJzKGhlYWRlcnMsIFVJX01FU1NBR0VfU1RSRUFNX0hFQURFUlMpLmVudHJpZXMoKSxcbiAgICApLFxuICAgIHN0cmVhbTogc3NlU3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKSxcbiAgfSk7XG59XG4iLCAiLyoqXG4gKiBBIHR5cGUgdGhhdCBjb21iaW5lcyBBc3luY0l0ZXJhYmxlIGFuZCBSZWFkYWJsZVN0cmVhbS5cbiAqIFRoaXMgYWxsb3dzIGEgUmVhZGFibGVTdHJlYW0gdG8gYmUgY29uc3VtZWQgdXNpbmcgZm9yLWF3YWl0LW9mIHN5bnRheC5cbiAqL1xuZXhwb3J0IHR5cGUgQXN5bmNJdGVyYWJsZVN0cmVhbTxUPiA9IEFzeW5jSXRlcmFibGU8VD4gJiBSZWFkYWJsZVN0cmVhbTxUPjtcblxuLyoqXG4gKiBXcmFwcyBhIFJlYWRhYmxlU3RyZWFtIGFuZCByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGlzIGJvdGggYSBSZWFkYWJsZVN0cmVhbSBhbmQgYW4gQXN5bmNJdGVyYWJsZS5cbiAqIFRoaXMgZW5hYmxlcyBjb25zdW1wdGlvbiBvZiB0aGUgc3RyZWFtIHVzaW5nIGZvci1hd2FpdC1vZiwgd2l0aCBwcm9wZXIgcmVzb3VyY2UgY2xlYW51cCBvbiBlYXJseSBleGl0IG9yIGVycm9yLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIFRoZSB0eXBlIG9mIHRoZSBzdHJlYW0ncyBjaHVua3MuXG4gKiBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2UgUmVhZGFibGVTdHJlYW0gdG8gd3JhcC5cbiAqIEByZXR1cm5zIEFuIEFzeW5jSXRlcmFibGVTdHJlYW0gdGhhdCBjYW4gYmUgdXNlZCBhcyBib3RoIGEgUmVhZGFibGVTdHJlYW0gYW5kIGFuIEFzeW5jSXRlcmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtPFQ+KFxuICBzb3VyY2U6IFJlYWRhYmxlU3RyZWFtPFQ+LFxuKTogQXN5bmNJdGVyYWJsZVN0cmVhbTxUPiB7XG4gIC8vIFBpcGUgdGhyb3VnaCBhIFRyYW5zZm9ybVN0cmVhbSB0byBlbnN1cmUgYSBmcmVzaCwgdW5sb2NrZWQgc3RyZWFtLlxuICBjb25zdCBzdHJlYW0gPSBzb3VyY2UucGlwZVRocm91Z2gobmV3IFRyYW5zZm9ybVN0cmVhbTxULCBUPigpKTtcblxuICAvKipcbiAgICogSW1wbGVtZW50cyB0aGUgYXN5bmMgaXRlcmF0b3IgcHJvdG9jb2wgZm9yIHRoZSBzdHJlYW0uXG4gICAqIEVuc3VyZXMgcHJvcGVyIGNsZWFudXAgKGNhbmNlbGxpbmcgYW5kIHJlbGVhc2luZyB0aGUgcmVhZGVyKSBvbiBjb21wbGV0aW9uLCBlYXJseSBleGl0LCBvciBlcnJvci5cbiAgICovXG4gIChzdHJlYW0gYXMgQXN5bmNJdGVyYWJsZVN0cmVhbTxUPilbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKFxuICAgIHRoaXM6IFJlYWRhYmxlU3RyZWFtPFQ+LFxuICApOiBBc3luY0l0ZXJhdG9yPFQ+IHtcbiAgICBjb25zdCByZWFkZXIgPSB0aGlzLmdldFJlYWRlcigpO1xuXG4gICAgbGV0IGZpbmlzaGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDbGVhbnMgdXAgdGhlIHJlYWRlciBieSBjYW5jZWxsaW5nIGFuZCByZWxlYXNpbmcgdGhlIGxvY2suXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gY2xlYW51cChjYW5jZWxTdHJlYW06IGJvb2xlYW4pIHtcbiAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChjYW5jZWxTdHJlYW0pIHtcbiAgICAgICAgICBhd2FpdCByZWFkZXIuY2FuY2VsPy4oKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFJlYWRzIHRoZSBuZXh0IGNodW5rIGZyb20gdGhlIHN0cmVhbS5cbiAgICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIG5leHQgSXRlcmF0b3JSZXN1bHQuXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIG5leHQoKTogUHJvbWlzZTxJdGVyYXRvclJlc3VsdDxUPj4ge1xuICAgICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuXG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgYXdhaXQgY2xlYW51cCh0cnVlKTtcbiAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWUgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsbGVkIG9uIGVhcmx5IGV4aXQgKGUuZy4sIGJyZWFrIGZyb20gZm9yLWF3YWl0KS5cbiAgICAgICAqIEVuc3VyZXMgdGhlIHN0cmVhbSBpcyBjYW5jZWxsZWQgYW5kIHJlc291cmNlcyBhcmUgcmVsZWFzZWQuXG4gICAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIGEgY29tcGxldGVkIEl0ZXJhdG9yUmVzdWx0LlxuICAgICAgICovXG4gICAgICBhc3luYyByZXR1cm4oKTogUHJvbWlzZTxJdGVyYXRvclJlc3VsdDxUPj4ge1xuICAgICAgICBhd2FpdCBjbGVhbnVwKHRydWUpO1xuICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGxlZCBvbiBlYXJseSBleGl0IHdpdGggZXJyb3IuXG4gICAgICAgKiBFbnN1cmVzIHRoZSBzdHJlYW0gaXMgY2FuY2VsbGVkIGFuZCByZXNvdXJjZXMgYXJlIHJlbGVhc2VkLCB0aGVuIHJldGhyb3dzIHRoZSBlcnJvci5cbiAgICAgICAqIEBwYXJhbSBlcnIgVGhlIGVycm9yIHRvIHRocm93LlxuICAgICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVqZWN0cyB3aXRoIHRoZSBwcm92aWRlZCBlcnJvci5cbiAgICAgICAqL1xuICAgICAgYXN5bmMgdGhyb3coZXJyOiB1bmtub3duKTogUHJvbWlzZTxJdGVyYXRvclJlc3VsdDxUPj4ge1xuICAgICAgICBhd2FpdCBjbGVhbnVwKHRydWUpO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9LFxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIHN0cmVhbSBhcyBBc3luY0l0ZXJhYmxlU3RyZWFtPFQ+O1xufVxuIiwgIi8qKlxuICogQ29uc3VtZXMgYSBSZWFkYWJsZVN0cmVhbSB1bnRpbCBpdCdzIGZ1bGx5IHJlYWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiByZWFkcyB0aGUgc3RyZWFtIGNodW5rIGJ5IGNodW5rIHVudGlsIHRoZSBzdHJlYW0gaXMgZXhoYXVzdGVkLlxuICogSXQgZG9lc24ndCBwcm9jZXNzIG9yIHJldHVybiB0aGUgZGF0YSBmcm9tIHRoZSBzdHJlYW07IGl0IHNpbXBseSBlbnN1cmVzXG4gKiB0aGF0IHRoZSBlbnRpcmUgc3RyZWFtIGlzIHJlYWQuXG4gKlxuICogQHBhcmFtIHtSZWFkYWJsZVN0cmVhbX0gc3RyZWFtIC0gVGhlIFJlYWRhYmxlU3RyZWFtIHRvIGJlIGNvbnN1bWVkLlxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHN0cmVhbSBpcyBmdWxseSBjb25zdW1lZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnN1bWVTdHJlYW0oe1xuICBzdHJlYW0sXG4gIG9uRXJyb3IsXG59OiB7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW07XG4gIG9uRXJyb3I/OiAoZXJyb3I6IHVua25vd24pID0+IHZvaWQ7XG59KTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgdHJ5IHtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgeyBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgaWYgKGRvbmUpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBvbkVycm9yPy4oZXJyb3IpO1xuICB9IGZpbmFsbHkge1xuICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi9lcnJvci1oYW5kbGVyJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgUHJvbWlzZSB3aXRoIGV4dGVybmFsbHkgYWNjZXNzaWJsZSByZXNvbHZlIGFuZCByZWplY3QgZnVuY3Rpb25zLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIHZhbHVlIHRoYXQgdGhlIFByb21pc2Ugd2lsbCByZXNvbHZlIHRvLlxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmc6XG4gKiAgIC0gcHJvbWlzZTogQSBQcm9taXNlIHRoYXQgY2FuIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIGV4dGVybmFsbHkuXG4gKiAgIC0gcmVzb2x2ZTogQSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBQcm9taXNlIHdpdGggYSB2YWx1ZSBvZiB0eXBlIFQuXG4gKiAgIC0gcmVqZWN0OiBBIGZ1bmN0aW9uIHRvIHJlamVjdCB0aGUgUHJvbWlzZSB3aXRoIGFuIGVycm9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVzb2x2YWJsZVByb21pc2U8VCA9IGFueT4oKToge1xuICBwcm9taXNlOiBQcm9taXNlPFQ+O1xuICByZXNvbHZlOiAodmFsdWU6IFQpID0+IHZvaWQ7XG4gIHJlamVjdDogRXJyb3JIYW5kbGVyO1xufSB7XG4gIGxldCByZXNvbHZlOiAodmFsdWU6IFQpID0+IHZvaWQ7XG4gIGxldCByZWplY3Q6IEVycm9ySGFuZGxlcjtcblxuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2U8VD4oKHJlcywgcmVqKSA9PiB7XG4gICAgcmVzb2x2ZSA9IHJlcztcbiAgICByZWplY3QgPSByZWo7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgcHJvbWlzZSxcbiAgICByZXNvbHZlOiByZXNvbHZlISxcbiAgICByZWplY3Q6IHJlamVjdCEsXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgY3JlYXRlUmVzb2x2YWJsZVByb21pc2UgfSBmcm9tICcuL2NyZWF0ZS1yZXNvbHZhYmxlLXByb21pc2UnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGl0Y2hhYmxlIHN0cmVhbSB0aGF0IGNhbiBwaXBlIG9uZSBzdHJlYW0gYXQgYSB0aW1lLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHN0cmVhbXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RpdGNoYWJsZSBzdHJlYW0gYW5kIGNvbnRyb2wgbWV0aG9kcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0aXRjaGFibGVTdHJlYW08VD4oKToge1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFQ+O1xuICBhZGRTdHJlYW06IChpbm5lclN0cmVhbTogUmVhZGFibGVTdHJlYW08VD4pID0+IHZvaWQ7XG4gIGNsb3NlOiAoKSA9PiB2b2lkO1xuICB0ZXJtaW5hdGU6ICgpID0+IHZvaWQ7XG59IHtcbiAgbGV0IGlubmVyU3RyZWFtUmVhZGVyczogUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFQ+W10gPSBbXTtcbiAgbGV0IGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8VD4gfCBudWxsID0gbnVsbDtcbiAgbGV0IGlzQ2xvc2VkID0gZmFsc2U7XG4gIGxldCB3YWl0Rm9yTmV3U3RyZWFtID0gY3JlYXRlUmVzb2x2YWJsZVByb21pc2U8dm9pZD4oKTtcblxuICBjb25zdCB0ZXJtaW5hdGUgPSAoKSA9PiB7XG4gICAgaXNDbG9zZWQgPSB0cnVlO1xuICAgIHdhaXRGb3JOZXdTdHJlYW0ucmVzb2x2ZSgpO1xuXG4gICAgaW5uZXJTdHJlYW1SZWFkZXJzLmZvckVhY2gocmVhZGVyID0+IHJlYWRlci5jYW5jZWwoKSk7XG4gICAgaW5uZXJTdHJlYW1SZWFkZXJzID0gW107XG4gICAgY29udHJvbGxlcj8uY2xvc2UoKTtcbiAgfTtcblxuICBjb25zdCBwcm9jZXNzUHVsbCA9IGFzeW5jICgpID0+IHtcbiAgICAvLyBDYXNlIDE6IE91dGVyIHN0cmVhbSBpcyBjbG9zZWQgYW5kIG5vIG1vcmUgaW5uZXIgc3RyZWFtc1xuICAgIGlmIChpc0Nsb3NlZCAmJiBpbm5lclN0cmVhbVJlYWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb250cm9sbGVyPy5jbG9zZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENhc2UgMjogTm8gaW5uZXIgc3RyZWFtcyBhdmFpbGFibGUsIGJ1dCBvdXRlciBzdHJlYW0gaXMgb3BlblxuICAgIC8vIHdhaXQgZm9yIGEgbmV3IGlubmVyIHN0cmVhbSB0byBiZSBhZGRlZCBvciB0aGUgb3V0ZXIgc3RyZWFtIHRvIGNsb3NlXG4gICAgaWYgKGlubmVyU3RyZWFtUmVhZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHdhaXRGb3JOZXdTdHJlYW0gPSBjcmVhdGVSZXNvbHZhYmxlUHJvbWlzZTx2b2lkPigpO1xuICAgICAgYXdhaXQgd2FpdEZvck5ld1N0cmVhbS5wcm9taXNlO1xuICAgICAgcmV0dXJuIHByb2Nlc3NQdWxsKCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGlubmVyU3RyZWFtUmVhZGVyc1swXS5yZWFkKCk7XG5cbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIC8vIENhc2UgMzogQ3VycmVudCBpbm5lciBzdHJlYW0gaXMgZG9uZVxuICAgICAgICBpbm5lclN0cmVhbVJlYWRlcnMuc2hpZnQoKTsgLy8gUmVtb3ZlIHRoZSBmaW5pc2hlZCBzdHJlYW1cblxuICAgICAgICAvLyBDb250aW51ZSBwdWxsaW5nIGZyb20gdGhlIG5leHQgc3RyZWFtIGlmIGF2YWlsYWJsZVxuICAgICAgICBpZiAoaW5uZXJTdHJlYW1SZWFkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBhd2FpdCBwcm9jZXNzUHVsbCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQ2xvc2VkKSB7XG4gICAgICAgICAgY29udHJvbGxlcj8uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2FzZSA0OiBDdXJyZW50IGlubmVyIHN0cmVhbSByZXR1cm5zIGFuIGl0ZW1cbiAgICAgICAgY29udHJvbGxlcj8uZW5xdWV1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIENhc2UgNTogQ3VycmVudCBpbm5lciBzdHJlYW0gdGhyb3dzIGFuIGVycm9yXG4gICAgICBjb250cm9sbGVyPy5lcnJvcihlcnJvcik7XG4gICAgICBpbm5lclN0cmVhbVJlYWRlcnMuc2hpZnQoKTsgLy8gUmVtb3ZlIHRoZSBlcnJvcmVkIHN0cmVhbVxuICAgICAgdGVybWluYXRlKCk7IC8vIHdlIGhhdmUgZXJyb3JlZCwgdGVybWluYXRlIGFsbCBzdHJlYW1zXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc3RyZWFtOiBuZXcgUmVhZGFibGVTdHJlYW08VD4oe1xuICAgICAgc3RhcnQoY29udHJvbGxlclBhcmFtKSB7XG4gICAgICAgIGNvbnRyb2xsZXIgPSBjb250cm9sbGVyUGFyYW07XG4gICAgICB9LFxuICAgICAgcHVsbDogcHJvY2Vzc1B1bGwsXG4gICAgICBhc3luYyBjYW5jZWwoKSB7XG4gICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIGlubmVyU3RyZWFtUmVhZGVycykge1xuICAgICAgICAgIGF3YWl0IHJlYWRlci5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICBpbm5lclN0cmVhbVJlYWRlcnMgPSBbXTtcbiAgICAgICAgaXNDbG9zZWQgPSB0cnVlO1xuICAgICAgfSxcbiAgICB9KSxcbiAgICBhZGRTdHJlYW06IChpbm5lclN0cmVhbTogUmVhZGFibGVTdHJlYW08VD4pID0+IHtcbiAgICAgIGlmIChpc0Nsb3NlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgaW5uZXIgc3RyZWFtOiBvdXRlciBzdHJlYW0gaXMgY2xvc2VkJyk7XG4gICAgICB9XG5cbiAgICAgIGlubmVyU3RyZWFtUmVhZGVycy5wdXNoKGlubmVyU3RyZWFtLmdldFJlYWRlcigpKTtcbiAgICAgIHdhaXRGb3JOZXdTdHJlYW0ucmVzb2x2ZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHcmFjZWZ1bGx5IGNsb3NlIHRoZSBvdXRlciBzdHJlYW0uIFRoaXMgd2lsbCBsZXQgdGhlIGlubmVyIHN0cmVhbXNcbiAgICAgKiBmaW5pc2ggcHJvY2Vzc2luZyBhbmQgdGhlbiBjbG9zZSB0aGUgb3V0ZXIgc3RyZWFtLlxuICAgICAqL1xuICAgIGNsb3NlOiAoKSA9PiB7XG4gICAgICBpc0Nsb3NlZCA9IHRydWU7XG4gICAgICB3YWl0Rm9yTmV3U3RyZWFtLnJlc29sdmUoKTtcblxuICAgICAgaWYgKGlubmVyU3RyZWFtUmVhZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29udHJvbGxlcj8uY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW1tZWRpYXRlbHkgY2xvc2UgdGhlIG91dGVyIHN0cmVhbS4gVGhpcyB3aWxsIGNhbmNlbCBhbGwgaW5uZXIgc3RyZWFtc1xuICAgICAqIGFuZCBjbG9zZSB0aGUgb3V0ZXIgc3RyZWFtLlxuICAgICAqL1xuICAgIHRlcm1pbmF0ZSxcbiAgfTtcbn1cbiIsICIvKipcbiAqIERlbGF5ZWQgcHJvbWlzZS4gSXQgaXMgb25seSBjb25zdHJ1Y3RlZCBvbmNlIHRoZSB2YWx1ZSBpcyBhY2Nlc3NlZC5cbiAqIFRoaXMgaXMgdXNlZnVsIHRvIGF2b2lkIHVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbnMgd2hlbiB0aGUgcHJvbWlzZSBpcyBjcmVhdGVkXG4gKiBidXQgbm90IGFjY2Vzc2VkLlxuICovXG5leHBvcnQgY2xhc3MgRGVsYXllZFByb21pc2U8VD4ge1xuICBwcml2YXRlIHN0YXR1czpcbiAgICB8IHsgdHlwZTogJ3BlbmRpbmcnIH1cbiAgICB8IHsgdHlwZTogJ3Jlc29sdmVkJzsgdmFsdWU6IFQgfVxuICAgIHwgeyB0eXBlOiAncmVqZWN0ZWQnOyBlcnJvcjogdW5rbm93biB9ID0geyB0eXBlOiAncGVuZGluZycgfTtcbiAgcHJpdmF0ZSBfcHJvbWlzZTogUHJvbWlzZTxUPiB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfcmVzb2x2ZTogdW5kZWZpbmVkIHwgKCh2YWx1ZTogVCkgPT4gdm9pZCkgPSB1bmRlZmluZWQ7XG4gIHByaXZhdGUgX3JlamVjdDogdW5kZWZpbmVkIHwgKChlcnJvcjogdW5rbm93bikgPT4gdm9pZCkgPSB1bmRlZmluZWQ7XG5cbiAgZ2V0IHByb21pc2UoKTogUHJvbWlzZTxUPiB7XG4gICAgaWYgKHRoaXMuX3Byb21pc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuICAgIH1cblxuICAgIHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZTxUPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5zdGF0dXMudHlwZSA9PT0gJ3Jlc29sdmVkJykge1xuICAgICAgICByZXNvbHZlKHRoaXMuc3RhdHVzLnZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMudHlwZSA9PT0gJ3JlamVjdGVkJykge1xuICAgICAgICByZWplY3QodGhpcy5zdGF0dXMuZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIHRoaXMuX3JlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuICB9XG5cbiAgcmVzb2x2ZSh2YWx1ZTogVCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdHVzID0geyB0eXBlOiAncmVzb2x2ZWQnLCB2YWx1ZSB9O1xuXG4gICAgaWYgKHRoaXMuX3Byb21pc2UpIHtcbiAgICAgIHRoaXMuX3Jlc29sdmU/Lih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmVqZWN0KGVycm9yOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0dXMgPSB7IHR5cGU6ICdyZWplY3RlZCcsIGVycm9yIH07XG5cbiAgICBpZiAodGhpcy5fcHJvbWlzZSkge1xuICAgICAgdGhpcy5fcmVqZWN0Py4oZXJyb3IpO1xuICAgIH1cbiAgfVxufVxuIiwgIi8vIFNoaW0gZm9yIHBlcmZvcm1hbmNlLm5vdygpIHRvIHN1cHBvcnQgZW52aXJvbm1lbnRzIHRoYXQgZG9uJ3QgaGF2ZSBpdDpcbmV4cG9ydCBmdW5jdGlvbiBub3coKTogbnVtYmVyIHtcbiAgcmV0dXJuIGdsb2JhbFRoaXM/LnBlcmZvcm1hbmNlPy5ub3coKSA/PyBEYXRlLm5vdygpO1xufVxuIiwgImltcG9ydCB7XG4gIExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nLFxuICBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGV4ZWN1dGVUb29sLFxuICBnZW5lcmF0ZUlkLFxuICBnZXRFcnJvck1lc3NhZ2UsXG4gIE1vZGVsTWVzc2FnZSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBUcmFjZXIgfSBmcm9tICdAb3BlbnRlbGVtZXRyeS9hcGknO1xuaW1wb3J0IHsgYXNzZW1ibGVPcGVyYXRpb25OYW1lIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lJztcbmltcG9ydCB7IHJlY29yZEVycm9yT25TcGFuLCByZWNvcmRTcGFuIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3JlY29yZC1zcGFuJztcbmltcG9ydCB7IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvc2VsZWN0LXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5pbXBvcnQgeyBGaW5pc2hSZWFzb24sIExhbmd1YWdlTW9kZWxVc2FnZSwgUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFNvdXJjZSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IERlZmF1bHRHZW5lcmF0ZWRGaWxlV2l0aFR5cGUsIEdlbmVyYXRlZEZpbGUgfSBmcm9tICcuL2dlbmVyYXRlZC1maWxlJztcbmltcG9ydCB7IHBhcnNlVG9vbENhbGwgfSBmcm9tICcuL3BhcnNlLXRvb2wtY2FsbCc7XG5pbXBvcnQgeyBUeXBlZFRvb2xDYWxsIH0gZnJvbSAnLi90b29sLWNhbGwnO1xuaW1wb3J0IHsgVG9vbENhbGxSZXBhaXJGdW5jdGlvbiB9IGZyb20gJy4vdG9vbC1jYWxsLXJlcGFpci1mdW5jdGlvbic7XG5pbXBvcnQgeyBUeXBlZFRvb2xFcnJvciB9IGZyb20gJy4vdG9vbC1lcnJvcic7XG5pbXBvcnQgeyBUeXBlZFRvb2xSZXN1bHQgfSBmcm9tICcuL3Rvb2wtcmVzdWx0JztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcblxuZXhwb3J0IHR5cGUgU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPVxuICAvLyBUZXh0IGJsb2NrczpcbiAgfCB7XG4gICAgICB0eXBlOiAndGV4dC1zdGFydCc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0ZXh0LWRlbHRhJztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIGRlbHRhOiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0ZXh0LWVuZCc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgfVxuXG4gIC8vIFJlYXNvbmluZyBibG9ja3M6XG4gIHwge1xuICAgICAgdHlwZTogJ3JlYXNvbmluZy1zdGFydCc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdyZWFzb25pbmctZGVsdGEnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgZGVsdGE6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3JlYXNvbmluZy1lbmQnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cblxuICAvLyBUb29sIGNhbGxzOlxuICB8IHtcbiAgICAgIHR5cGU6ICd0b29sLWlucHV0LXN0YXJ0JztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICB0b29sTmFtZTogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0b29sLWlucHV0LWRlbHRhJztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBkZWx0YTogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0b29sLWlucHV0LWVuZCc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8ICh7IHR5cGU6ICdzb3VyY2UnIH0gJiBTb3VyY2UpXG4gIHwgeyB0eXBlOiAnZmlsZSc7IGZpbGU6IEdlbmVyYXRlZEZpbGUgfSAvLyBkaWZmZXJlbnQgYmVjYXVzZSBvZiBHZW5lcmF0ZWRGaWxlIG9iamVjdFxuICB8ICh7IHR5cGU6ICd0b29sLWNhbGwnIH0gJiBUeXBlZFRvb2xDYWxsPFRPT0xTPilcbiAgfCAoeyB0eXBlOiAndG9vbC1yZXN1bHQnIH0gJiBUeXBlZFRvb2xSZXN1bHQ8VE9PTFM+KVxuICB8ICh7IHR5cGU6ICd0b29sLWVycm9yJyB9ICYgVHlwZWRUb29sRXJyb3I8VE9PTFM+KVxuICB8IHsgdHlwZTogJ2ZpbGUnOyBmaWxlOiBHZW5lcmF0ZWRGaWxlIH0gLy8gZGlmZmVyZW50IGJlY2F1c2Ugb2YgR2VuZXJhdGVkRmlsZSBvYmplY3RcbiAgfCB7IHR5cGU6ICdzdHJlYW0tc3RhcnQnOyB3YXJuaW5nczogTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmdbXSB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Jlc3BvbnNlLW1ldGFkYXRhJztcbiAgICAgIGlkPzogc3RyaW5nO1xuICAgICAgdGltZXN0YW1wPzogRGF0ZTtcbiAgICAgIG1vZGVsSWQ/OiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdmaW5pc2gnO1xuICAgICAgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb247XG4gICAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHsgdHlwZTogJ2Vycm9yJzsgZXJyb3I6IHVua25vd24gfVxuICB8IHsgdHlwZTogJ3Jhdyc7IHJhd1ZhbHVlOiB1bmtub3duIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBydW5Ub29sc1RyYW5zZm9ybWF0aW9uPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4oe1xuICB0b29scyxcbiAgZ2VuZXJhdG9yU3RyZWFtLFxuICB0cmFjZXIsXG4gIHRlbGVtZXRyeSxcbiAgc3lzdGVtLFxuICBtZXNzYWdlcyxcbiAgYWJvcnRTaWduYWwsXG4gIHJlcGFpclRvb2xDYWxsLFxuICBleHBlcmltZW50YWxfY29udGV4dCxcbn06IHtcbiAgdG9vbHM6IFRPT0xTIHwgdW5kZWZpbmVkO1xuICBnZW5lcmF0b3JTdHJlYW06IFJlYWRhYmxlU3RyZWFtPExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQ+O1xuICB0cmFjZXI6IFRyYWNlcjtcbiAgdGVsZW1ldHJ5OiBUZWxlbWV0cnlTZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgc3lzdGVtOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIG1lc3NhZ2VzOiBNb2RlbE1lc3NhZ2VbXTtcbiAgYWJvcnRTaWduYWw6IEFib3J0U2lnbmFsIHwgdW5kZWZpbmVkO1xuICByZXBhaXJUb29sQ2FsbDogVG9vbENhbGxSZXBhaXJGdW5jdGlvbjxUT09MUz4gfCB1bmRlZmluZWQ7XG4gIGV4cGVyaW1lbnRhbF9jb250ZXh0OiB1bmtub3duO1xufSk6IFJlYWRhYmxlU3RyZWFtPFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUz4+IHtcbiAgLy8gdG9vbCByZXN1bHRzIHN0cmVhbVxuICBsZXQgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFxuICAgIFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUz5cbiAgPiB8IG51bGwgPSBudWxsO1xuICBjb25zdCB0b29sUmVzdWx0c1N0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbTxcbiAgICBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFM+XG4gID4oe1xuICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgfSxcbiAgfSk7XG5cbiAgLy8ga2VlcCB0cmFjayBvZiBvdXRzdGFuZGluZyB0b29sIHJlc3VsdHMgZm9yIHN0cmVhbSBjbG9zaW5nOlxuICBjb25zdCBvdXRzdGFuZGluZ1Rvb2xSZXN1bHRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgLy8ga2VlcCB0cmFjayBvZiB0b29sIGlucHV0cyBmb3IgcHJvdmlkZXItc2lkZSB0b29sIHJlc3VsdHNcbiAgY29uc3QgdG9vbElucHV0cyA9IG5ldyBNYXA8c3RyaW5nLCB1bmtub3duPigpO1xuXG4gIGxldCBjYW5DbG9zZSA9IGZhbHNlO1xuICBsZXQgZmluaXNoQ2h1bms6XG4gICAgfCAoU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTPiAmIHsgdHlwZTogJ2ZpbmlzaCcgfSlcbiAgICB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICBmdW5jdGlvbiBhdHRlbXB0Q2xvc2UoKSB7XG4gICAgLy8gY2xvc2UgdGhlIHRvb2wgcmVzdWx0cyBjb250cm9sbGVyIGlmIG5vIG1vcmUgb3V0c3RhbmRpbmcgdG9vbCBjYWxsc1xuICAgIGlmIChjYW5DbG9zZSAmJiBvdXRzdGFuZGluZ1Rvb2xSZXN1bHRzLnNpemUgPT09IDApIHtcbiAgICAgIC8vIHdlIGRlbGF5IHNlbmRpbmcgdGhlIGZpbmlzaCBjaHVuayB1bnRpbCBhbGwgdG9vbCByZXN1bHRzIChpbmNsLiBkZWxheWVkIG9uZXMpXG4gICAgICAvLyBhcmUgcmVjZWl2ZWQgdG8gZW5zdXJlIHRoYXQgdGhlIGZyb250ZW5kIHJlY2VpdmVzIHRvb2wgcmVzdWx0cyBiZWZvcmUgYSBtZXNzYWdlXG4gICAgICAvLyBmaW5pc2ggZXZlbnQgYXJyaXZlcy5cbiAgICAgIGlmIChmaW5pc2hDaHVuayAhPSBudWxsKSB7XG4gICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlciEuZW5xdWV1ZShmaW5pc2hDaHVuayk7XG4gICAgICB9XG5cbiAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlciEuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICAvLyBmb3J3YXJkIHN0cmVhbVxuICBjb25zdCBmb3J3YXJkU3RyZWFtID0gbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0LFxuICAgIFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUz5cbiAgPih7XG4gICAgYXN5bmMgdHJhbnNmb3JtKFxuICAgICAgY2h1bms6IExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG4gICAgICBjb250cm9sbGVyOiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxcbiAgICAgICAgU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTPlxuICAgICAgPixcbiAgICApIHtcbiAgICAgIGNvbnN0IGNodW5rVHlwZSA9IGNodW5rLnR5cGU7XG5cbiAgICAgIHN3aXRjaCAoY2h1bmtUeXBlKSB7XG4gICAgICAgIC8vIGZvcndhcmQ6XG4gICAgICAgIGNhc2UgJ3N0cmVhbS1zdGFydCc6XG4gICAgICAgIGNhc2UgJ3RleHQtc3RhcnQnOlxuICAgICAgICBjYXNlICd0ZXh0LWRlbHRhJzpcbiAgICAgICAgY2FzZSAndGV4dC1lbmQnOlxuICAgICAgICBjYXNlICdyZWFzb25pbmctc3RhcnQnOlxuICAgICAgICBjYXNlICdyZWFzb25pbmctZGVsdGEnOlxuICAgICAgICBjYXNlICdyZWFzb25pbmctZW5kJzpcbiAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1zdGFydCc6XG4gICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtZGVsdGEnOlxuICAgICAgICBjYXNlICd0b29sLWlucHV0LWVuZCc6XG4gICAgICAgIGNhc2UgJ3NvdXJjZSc6XG4gICAgICAgIGNhc2UgJ3Jlc3BvbnNlLW1ldGFkYXRhJzpcbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICBjYXNlICdyYXcnOiB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2ZpbGUnOiB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgICAgIGZpbGU6IG5ldyBEZWZhdWx0R2VuZXJhdGVkRmlsZVdpdGhUeXBlKHtcbiAgICAgICAgICAgICAgZGF0YTogY2h1bmsuZGF0YSxcbiAgICAgICAgICAgICAgbWVkaWFUeXBlOiBjaHVuay5tZWRpYVR5cGUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2ZpbmlzaCc6IHtcbiAgICAgICAgICBmaW5pc2hDaHVuayA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdmaW5pc2gnLFxuICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjaHVuay5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICB1c2FnZTogY2h1bmsudXNhZ2UsXG4gICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwcm9jZXNzIHRvb2wgY2FsbDpcbiAgICAgICAgY2FzZSAndG9vbC1jYWxsJzoge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0b29sQ2FsbCA9IGF3YWl0IHBhcnNlVG9vbENhbGwoe1xuICAgICAgICAgICAgICB0b29sQ2FsbDogY2h1bmssXG4gICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICByZXBhaXJUb29sQ2FsbCxcbiAgICAgICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodG9vbENhbGwpO1xuXG4gICAgICAgICAgICAvLyBoYW5kbGUgaW52YWxpZCB0b29sIGNhbGxzOlxuICAgICAgICAgICAgaWYgKHRvb2xDYWxsLmludmFsaWQpIHtcbiAgICAgICAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyIS5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1lcnJvcicsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHRvb2xDYWxsLmlucHV0LFxuICAgICAgICAgICAgICAgIGVycm9yOiBnZXRFcnJvck1lc3NhZ2UodG9vbENhbGwuZXJyb3IhKSxcbiAgICAgICAgICAgICAgICBkeW5hbWljOiB0cnVlLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdG9vbCA9IHRvb2xzIVt0b29sQ2FsbC50b29sTmFtZV07XG5cbiAgICAgICAgICAgIHRvb2xJbnB1dHMuc2V0KHRvb2xDYWxsLnRvb2xDYWxsSWQsIHRvb2xDYWxsLmlucHV0KTtcblxuICAgICAgICAgICAgaWYgKHRvb2wub25JbnB1dEF2YWlsYWJsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRvb2wub25JbnB1dEF2YWlsYWJsZSh7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IHRvb2xDYWxsLmlucHV0LFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPbmx5IGV4ZWN1dGUgdG9vbHMgdGhhdCBhcmUgbm90IHByb3ZpZGVyLWV4ZWN1dGVkOlxuICAgICAgICAgICAgaWYgKHRvb2wuZXhlY3V0ZSAhPSBudWxsICYmIHRvb2xDYWxsLnByb3ZpZGVyRXhlY3V0ZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgY29uc3QgdG9vbEV4ZWN1dGlvbklkID0gZ2VuZXJhdGVJZCgpOyAvLyB1c2Ugb3VyIG93biBpZCB0byBndWFyYW50ZWUgdW5pcXVlbmVzc1xuICAgICAgICAgICAgICBvdXRzdGFuZGluZ1Rvb2xSZXN1bHRzLmFkZCh0b29sRXhlY3V0aW9uSWQpO1xuXG4gICAgICAgICAgICAgIC8vIE5vdGU6IHdlIGRvbid0IGF3YWl0IHRoZSB0b29sIGV4ZWN1dGlvbiBoZXJlIChieSBsZWF2aW5nIG91dCAnYXdhaXQnIG9uIHJlY29yZFNwYW4pLFxuICAgICAgICAgICAgICAvLyBiZWNhdXNlIHdlIHdhbnQgdG8gcHJvY2VzcyB0aGUgbmV4dCBjaHVuayBhcyBzb29uIGFzIHBvc3NpYmxlLlxuICAgICAgICAgICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBmb3IgdGhlIGNhc2Ugd2hlcmUgdGhlIHRvb2wgZXhlY3V0aW9uIHRha2VzIGEgbG9uZyB0aW1lLlxuICAgICAgICAgICAgICByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnYWkudG9vbENhbGwnLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkudG9vbENhbGwnLFxuICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICdhaS50b29sQ2FsbC5uYW1lJzogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICdhaS50b29sQ2FsbC5pZCc6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgICdhaS50b29sQ2FsbC5hcmdzJzoge1xuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkodG9vbENhbGwuaW5wdXQpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgICAgICAgICAgICAgbGV0IG91dHB1dDogdW5rbm93bjtcblxuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gZXhlY3V0ZVRvb2woe1xuICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGU6IHRvb2wuZXhlY3V0ZSEuYmluZCh0b29sKSxcbiAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHBhcnQgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyIS5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogcGFydC5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4ocGFydC50eXBlID09PSAncHJlbGltaW5hcnknICYmIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlbGltaW5hcnk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdmaW5hbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IHBhcnQub3V0cHV0O1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkRXJyb3JPblNwYW4oc3BhbiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIhLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLWVycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgfSBzYXRpc2ZpZXMgVHlwZWRUb29sRXJyb3I8VE9PTFM+KTtcblxuICAgICAgICAgICAgICAgICAgICBvdXRzdGFuZGluZ1Rvb2xSZXN1bHRzLmRlbGV0ZSh0b29sRXhlY3V0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICBhdHRlbXB0Q2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBvdXRzdGFuZGluZ1Rvb2xSZXN1bHRzLmRlbGV0ZSh0b29sRXhlY3V0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgYXR0ZW1wdENsb3NlKCk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIHJlY29yZCB0ZWxlbWV0cnlcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLnJlc3VsdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KG91dHB1dCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBKU09OIHN0cmluZ2lmeSBtaWdodCBmYWlsIGlmIHRoZSByZXN1bHQgaXMgbm90IHNlcmlhbGl6YWJsZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gd2hpY2ggY2FzZSB3ZSBqdXN0IGlnbm9yZSBpdC4gSW4gdGhlIGZ1dHVyZSB3ZSBtaWdodCB3YW50IHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhbiBvcHRpb25hbCBzZXJpYWxpemUgbWV0aG9kIHRvIHRoZSB0b29sIGludGVyZmFjZSBhbmQgd2FyblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcmVzdWx0IGlzIG5vdCBzZXJpYWxpemFibGUuXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlciEuZW5xdWV1ZSh7IHR5cGU6ICdlcnJvcicsIGVycm9yIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAndG9vbC1yZXN1bHQnOiB7XG4gICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBjaHVuay50b29sTmFtZSBhcyBrZXlvZiBUT09MUyAmIHN0cmluZztcblxuICAgICAgICAgIGlmIChjaHVuay5pc0Vycm9yKSB7XG4gICAgICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIhLmVucXVldWUoe1xuICAgICAgICAgICAgICB0eXBlOiAndG9vbC1lcnJvcicsXG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICBpbnB1dDogdG9vbElucHV0cy5nZXQoY2h1bmsudG9vbENhbGxJZCksXG4gICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IGNodW5rLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgIGVycm9yOiBjaHVuay5yZXN1bHQsXG4gICAgICAgICAgICB9IGFzIFR5cGVkVG9vbEVycm9yPFRPT0xTPik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcsXG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICBpbnB1dDogdG9vbElucHV0cy5nZXQoY2h1bmsudG9vbENhbGxJZCksXG4gICAgICAgICAgICAgIG91dHB1dDogY2h1bmsucmVzdWx0LFxuICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBjaHVuay5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgfSBhcyBUeXBlZFRvb2xSZXN1bHQ8VE9PTFM+KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSBjaHVua1R5cGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgY2h1bmsgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGZsdXNoKCkge1xuICAgICAgY2FuQ2xvc2UgPSB0cnVlO1xuICAgICAgYXR0ZW1wdENsb3NlKCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gY29tYmluZSB0aGUgZ2VuZXJhdG9yIHN0cmVhbSBhbmQgdGhlIHRvb2wgcmVzdWx0cyBzdHJlYW1cbiAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbTxTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFM+Pih7XG4gICAgYXN5bmMgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgLy8gbmVlZCB0byB3YWl0IGZvciBib3RoIHBpcGVzIHNvIHRoZXJlIGFyZSBubyBkYW5nbGluZyBwcm9taXNlcyB0aGF0XG4gICAgICAvLyBjYW4gY2F1c2UgdW5jYXVnaHQgcHJvbWlzZSByZWplY3Rpb25zIHdoZW4gdGhlIHN0cmVhbSBpcyBhYm9ydGVkXG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICBnZW5lcmF0b3JTdHJlYW0ucGlwZVRocm91Z2goZm9yd2FyZFN0cmVhbSkucGlwZVRvKFxuICAgICAgICAgIG5ldyBXcml0YWJsZVN0cmVhbSh7XG4gICAgICAgICAgICB3cml0ZShjaHVuaykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3NlKCkge1xuICAgICAgICAgICAgICAvLyB0aGUgZ2VuZXJhdG9yIHN0cmVhbSBjb250cm9sbGVyIGlzIGF1dG9tYXRpY2FsbHkgY2xvc2VkIHdoZW4gaXQncyBjb25zdW1lZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW0ucGlwZVRvKFxuICAgICAgICAgIG5ldyBXcml0YWJsZVN0cmVhbSh7XG4gICAgICAgICAgICB3cml0ZShjaHVuaykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3NlKCkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgXSk7XG4gICAgfSxcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHtcbiAgQXNzaXN0YW50Q29udGVudCxcbiAgTW9kZWxNZXNzYWdlLFxuICBUb29sUmVzdWx0UGFydCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC90b29sLXNldCc7XG5pbXBvcnQgeyBjcmVhdGVUb29sTW9kZWxPdXRwdXQgfSBmcm9tICcuLi9wcm9tcHQvY3JlYXRlLXRvb2wtbW9kZWwtb3V0cHV0JztcbmltcG9ydCB7IE1lc3NhZ2VDb252ZXJzaW9uRXJyb3IgfSBmcm9tICcuLi9wcm9tcHQvbWVzc2FnZS1jb252ZXJzaW9uLWVycm9yJztcbmltcG9ydCB7XG4gIER5bmFtaWNUb29sVUlQYXJ0LFxuICBGaWxlVUlQYXJ0LFxuICBnZXRUb29sTmFtZSxcbiAgaXNUb29sT3JEeW5hbWljVG9vbFVJUGFydCxcbiAgaXNUb29sVUlQYXJ0LFxuICBSZWFzb25pbmdVSVBhcnQsXG4gIFRleHRVSVBhcnQsXG4gIFRvb2xVSVBhcnQsXG4gIFVJTWVzc2FnZSxcbiAgVUlUb29scyxcbn0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5cbi8qKlxuQ29udmVydHMgYW4gYXJyYXkgb2YgbWVzc2FnZXMgZnJvbSB1c2VDaGF0IGludG8gYW4gYXJyYXkgb2YgQ29yZU1lc3NhZ2VzIHRoYXQgY2FuIGJlIHVzZWRcbndpdGggdGhlIEFJIGNvcmUgZnVuY3Rpb25zIChlLmcuIGBzdHJlYW1UZXh0YCkuXG5cbkBwYXJhbSBtZXNzYWdlcyAtIFRoZSBtZXNzYWdlcyB0byBjb252ZXJ0LlxuQHBhcmFtIG9wdGlvbnMudG9vbHMgLSBUaGUgdG9vbHMgdG8gdXNlLlxuQHBhcmFtIG9wdGlvbnMuaWdub3JlSW5jb21wbGV0ZVRvb2xDYWxscyAtIFdoZXRoZXIgdG8gaWdub3JlIGluY29tcGxldGUgdG9vbCBjYWxscy4gRGVmYXVsdCBpcyBgZmFsc2VgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvTW9kZWxNZXNzYWdlcyhcbiAgbWVzc2FnZXM6IEFycmF5PE9taXQ8VUlNZXNzYWdlLCAnaWQnPj4sXG4gIG9wdGlvbnM/OiB7XG4gICAgdG9vbHM/OiBUb29sU2V0O1xuICAgIGlnbm9yZUluY29tcGxldGVUb29sQ2FsbHM/OiBib29sZWFuO1xuICB9LFxuKTogTW9kZWxNZXNzYWdlW10ge1xuICBjb25zdCBtb2RlbE1lc3NhZ2VzOiBNb2RlbE1lc3NhZ2VbXSA9IFtdO1xuXG4gIGlmIChvcHRpb25zPy5pZ25vcmVJbmNvbXBsZXRlVG9vbENhbGxzKSB7XG4gICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAobWVzc2FnZSA9PiAoe1xuICAgICAgLi4ubWVzc2FnZSxcbiAgICAgIHBhcnRzOiBtZXNzYWdlLnBhcnRzLmZpbHRlcihcbiAgICAgICAgcGFydCA9PlxuICAgICAgICAgICFpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0KHBhcnQpIHx8XG4gICAgICAgICAgKHBhcnQuc3RhdGUgIT09ICdpbnB1dC1zdHJlYW1pbmcnICYmXG4gICAgICAgICAgICBwYXJ0LnN0YXRlICE9PSAnaW5wdXQtYXZhaWxhYmxlJyksXG4gICAgICApLFxuICAgIH0pKTtcbiAgfVxuXG4gIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgIHN3aXRjaCAobWVzc2FnZS5yb2xlKSB7XG4gICAgICBjYXNlICdzeXN0ZW0nOiB7XG4gICAgICAgIGNvbnN0IHRleHRQYXJ0cyA9IG1lc3NhZ2UucGFydHMuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlID09PSAndGV4dCcpO1xuXG4gICAgICAgIGNvbnN0IHByb3ZpZGVyTWV0YWRhdGEgPSB0ZXh0UGFydHMucmVkdWNlKChhY2MsIHBhcnQpID0+IHtcbiAgICAgICAgICBpZiAocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmFjYywgLi4ucGFydC5wcm92aWRlck1ldGFkYXRhIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcblxuICAgICAgICBtb2RlbE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICAgIGNvbnRlbnQ6IHRleHRQYXJ0cy5tYXAocGFydCA9PiBwYXJ0LnRleHQpLmpvaW4oJycpLFxuICAgICAgICAgIC4uLihPYmplY3Qua2V5cyhwcm92aWRlck1ldGFkYXRhKS5sZW5ndGggPiAwXG4gICAgICAgICAgICA/IHsgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgIDoge30pLFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3VzZXInOiB7XG4gICAgICAgIG1vZGVsTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UucGFydHNcbiAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgIChwYXJ0KTogcGFydCBpcyBUZXh0VUlQYXJ0IHwgRmlsZVVJUGFydCA9PlxuICAgICAgICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3RleHQnIHx8IHBhcnQudHlwZSA9PT0gJ2ZpbGUnLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLm1hcChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgc3dpdGNoIChwYXJ0LnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYXNlICdmaWxlJzpcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFUeXBlOiBwYXJ0Lm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IHBhcnQuZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHBhcnQudXJsLFxuICAgICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnYXNzaXN0YW50Jzoge1xuICAgICAgICBpZiAobWVzc2FnZS5wYXJ0cyAhPSBudWxsKSB7XG4gICAgICAgICAgbGV0IGJsb2NrOiBBcnJheTxcbiAgICAgICAgICAgIHwgVGV4dFVJUGFydFxuICAgICAgICAgICAgfCBUb29sVUlQYXJ0PFVJVG9vbHM+XG4gICAgICAgICAgICB8IFJlYXNvbmluZ1VJUGFydFxuICAgICAgICAgICAgfCBGaWxlVUlQYXJ0XG4gICAgICAgICAgICB8IER5bmFtaWNUb29sVUlQYXJ0XG4gICAgICAgICAgPiA9IFtdO1xuXG4gICAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc0Jsb2NrKCkge1xuICAgICAgICAgICAgaWYgKGJsb2NrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQ6IEFzc2lzdGFudENvbnRlbnQgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGJsb2NrKSB7XG4gICAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC50eXBlID09PSAnZmlsZScpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGUnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgbWVkaWFUeXBlOiBwYXJ0Lm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBwYXJ0LmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgZGF0YTogcGFydC51cmwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC50eXBlID09PSAncmVhc29uaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnQudHlwZSA9PT0gJ2R5bmFtaWMtdG9vbCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IHBhcnQudG9vbE5hbWU7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFydC5zdGF0ZSAhPT0gJ2lucHV0LXN0cmVhbWluZycpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLWNhbGwnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dDogcGFydC5pbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgLi4uKHBhcnQuY2FsbFByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck9wdGlvbnM6IHBhcnQuY2FsbFByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzVG9vbFVJUGFydChwYXJ0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xOYW1lID0gZ2V0VG9vbE5hbWUocGFydCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFydC5zdGF0ZSAhPT0gJ2lucHV0LXN0cmVhbWluZycpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLWNhbGwnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dDpcbiAgICAgICAgICAgICAgICAgICAgICBwYXJ0LnN0YXRlID09PSAnb3V0cHV0LWVycm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAocGFydC5pbnB1dCA/PyBwYXJ0LnJhd0lucHV0KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwYXJ0LmlucHV0LFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LmNhbGxQcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LmNhbGxQcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHBhcnQucHJvdmlkZXJFeGVjdXRlZCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAocGFydC5zdGF0ZSA9PT0gJ291dHB1dC1hdmFpbGFibGUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9PT0gJ291dHB1dC1lcnJvcicpXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IGNyZWF0ZVRvb2xNb2RlbE91dHB1dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuc3RhdGUgPT09ICdvdXRwdXQtZXJyb3InXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJ0LmVycm9yVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcGFydC5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sOiBvcHRpb25zPy50b29scz8uW3Rvb2xOYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTW9kZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9PT0gJ291dHB1dC1lcnJvcicgPyAnanNvbicgOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwYXJ0OiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbW9kZWxNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgYXJlIHRvb2wgaW52b2NhdGlvbnMgd2l0aCByZXN1bHRzIGluIHRoZSBibG9ja1xuICAgICAgICAgICAgY29uc3QgdG9vbFBhcnRzID0gYmxvY2suZmlsdGVyKFxuICAgICAgICAgICAgICBwYXJ0ID0+XG4gICAgICAgICAgICAgICAgKGlzVG9vbFVJUGFydChwYXJ0KSAmJiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgIT09IHRydWUpIHx8XG4gICAgICAgICAgICAgICAgcGFydC50eXBlID09PSAnZHluYW1pYy10b29sJyxcbiAgICAgICAgICAgICkgYXMgKFRvb2xVSVBhcnQ8VUlUb29scz4gfCBEeW5hbWljVG9vbFVJUGFydClbXTtcblxuICAgICAgICAgICAgLy8gdG9vbCBtZXNzYWdlIHdpdGggdG9vbCByZXN1bHRzXG4gICAgICAgICAgICBpZiAodG9vbFBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgbW9kZWxNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICByb2xlOiAndG9vbCcsXG4gICAgICAgICAgICAgICAgY29udGVudDogdG9vbFBhcnRzXG4gICAgICAgICAgICAgICAgICAubWFwKCh0b29sUGFydCk6IFRvb2xSZXN1bHRQYXJ0IHwgbnVsbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9vbFBhcnQuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlICdvdXRwdXQtZXJyb3InOlxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ291dHB1dC1hdmFpbGFibGUnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xQYXJ0LnR5cGUgPT09ICdkeW5hbWljLXRvb2wnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0b29sUGFydC50b29sTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0VG9vbE5hbWUodG9vbFBhcnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sUGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBjcmVhdGVUb29sTW9kZWxPdXRwdXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xQYXJ0LnN0YXRlID09PSAnb3V0cHV0LWVycm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRvb2xQYXJ0LmVycm9yVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRvb2xQYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sOiBvcHRpb25zPy50b29scz8uW3Rvb2xOYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1vZGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sUGFydC5zdGF0ZSA9PT0gJ291dHB1dC1lcnJvcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgKG91dHB1dCk6IG91dHB1dCBpcyBOb25OdWxsYWJsZTx0eXBlb2Ygb3V0cHV0PiA9PlxuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCAhPSBudWxsLFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZXMgZm9yIG5leHQgYmxvY2tcbiAgICAgICAgICAgIGJsb2NrID0gW107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIG1lc3NhZ2UucGFydHMpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgcGFydC50eXBlID09PSAndGV4dCcgfHxcbiAgICAgICAgICAgICAgcGFydC50eXBlID09PSAncmVhc29uaW5nJyB8fFxuICAgICAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdmaWxlJyB8fFxuICAgICAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdkeW5hbWljLXRvb2wnIHx8XG4gICAgICAgICAgICAgIGlzVG9vbFVJUGFydChwYXJ0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGJsb2NrLnB1c2gocGFydCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnQudHlwZSA9PT0gJ3N0ZXAtc3RhcnQnKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NCbG9jaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHByb2Nlc3NCbG9jaygpO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IG1lc3NhZ2Uucm9sZTtcbiAgICAgICAgdGhyb3cgbmV3IE1lc3NhZ2VDb252ZXJzaW9uRXJyb3Ioe1xuICAgICAgICAgIG9yaWdpbmFsTWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICBtZXNzYWdlOiBgVW5zdXBwb3J0ZWQgcm9sZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWAsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtb2RlbE1lc3NhZ2VzO1xufVxuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgY29udmVydFRvTW9kZWxNZXNzYWdlc2AgaW5zdGVhZC5cbiAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCBjb25zdCBjb252ZXJ0VG9Db3JlTWVzc2FnZXMgPSBjb252ZXJ0VG9Nb2RlbE1lc3NhZ2VzO1xuIiwgImltcG9ydCB7IElkR2VuZXJhdG9yLCBQcm92aWRlck9wdGlvbnMgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7XG4gIGdlbmVyYXRlVGV4dCxcbiAgR2VuZXJhdGVUZXh0T25TdGVwRmluaXNoQ2FsbGJhY2ssXG59IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvZ2VuZXJhdGUtdGV4dCc7XG5pbXBvcnQgeyBHZW5lcmF0ZVRleHRSZXN1bHQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlLXRleHQtcmVzdWx0JztcbmltcG9ydCB7IE91dHB1dCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvb3V0cHV0JztcbmltcG9ydCB7IFByZXBhcmVTdGVwRnVuY3Rpb24gfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3ByZXBhcmUtc3RlcCc7XG5pbXBvcnQgeyBTdG9wQ29uZGl0aW9uIH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9zdG9wLWNvbmRpdGlvbic7XG5pbXBvcnQgeyBzdHJlYW1UZXh0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9zdHJlYW0tdGV4dCc7XG5pbXBvcnQgeyBTdHJlYW1UZXh0UmVzdWx0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9zdHJlYW0tdGV4dC1yZXN1bHQnO1xuaW1wb3J0IHsgVG9vbENhbGxSZXBhaXJGdW5jdGlvbiB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvdG9vbC1jYWxsLXJlcGFpci1mdW5jdGlvbic7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC90b29sLXNldCc7XG5pbXBvcnQgeyBDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvcHJvbXB0JztcbmltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsLCBUb29sQ2hvaWNlIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhJztcbmltcG9ydCB7IGNvbnZlcnRUb01vZGVsTWVzc2FnZXMgfSBmcm9tICcuLi91aS9jb252ZXJ0LXRvLW1vZGVsLW1lc3NhZ2VzJztcbmltcG9ydCB7IEluZmVyVUlUb29scywgVUlNZXNzYWdlIH0gZnJvbSAnLi4vdWkvdWktbWVzc2FnZXMnO1xuXG5leHBvcnQgdHlwZSBBZ2VudFNldHRpbmdzPFxuICBUT09MUyBleHRlbmRzIFRvb2xTZXQsXG4gIE9VVFBVVCA9IG5ldmVyLFxuICBPVVRQVVRfUEFSVElBTCA9IG5ldmVyLFxuPiA9IENhbGxTZXR0aW5ncyAmIHtcbiAgLyoqXG4gICAqIFRoZSBzeXN0ZW0gcHJvbXB0IHRvIHVzZS5cbiAgICovXG4gIHN5c3RlbT86IHN0cmluZztcblxuICAvKipcblRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG4gICAqL1xuICBtb2RlbDogTGFuZ3VhZ2VNb2RlbDtcblxuICAvKipcblRoZSB0b29scyB0aGF0IHRoZSBtb2RlbCBjYW4gY2FsbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cbiovXG4gIHRvb2xzPzogVE9PTFM7XG5cbiAgLyoqXG5UaGUgdG9vbCBjaG9pY2Ugc3RyYXRlZ3kuIERlZmF1bHQ6ICdhdXRvJy5cbiAgICovXG4gIHRvb2xDaG9pY2U/OiBUb29sQ2hvaWNlPE5vSW5mZXI8VE9PTFM+PjtcblxuICAvKipcbkNvbmRpdGlvbiBmb3Igc3RvcHBpbmcgdGhlIGdlbmVyYXRpb24gd2hlbiB0aGVyZSBhcmUgdG9vbCByZXN1bHRzIGluIHRoZSBsYXN0IHN0ZXAuXG5XaGVuIHRoZSBjb25kaXRpb24gaXMgYW4gYXJyYXksIGFueSBvZiB0aGUgY29uZGl0aW9ucyBjYW4gYmUgbWV0IHRvIHN0b3AgdGhlIGdlbmVyYXRpb24uXG5cbkBkZWZhdWx0IHN0ZXBDb3VudElzKDEpXG4gICAqL1xuICBzdG9wV2hlbj86XG4gICAgfCBTdG9wQ29uZGl0aW9uPE5vSW5mZXI8VE9PTFM+PlxuICAgIHwgQXJyYXk8U3RvcENvbmRpdGlvbjxOb0luZmVyPFRPT0xTPj4+O1xuXG4gIC8qKlxuT3B0aW9uYWwgdGVsZW1ldHJ5IGNvbmZpZ3VyYXRpb24gKGV4cGVyaW1lbnRhbCkuXG4gICAqL1xuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG5cbiAgLyoqXG5MaW1pdHMgdGhlIHRvb2xzIHRoYXQgYXJlIGF2YWlsYWJsZSBmb3IgdGhlIG1vZGVsIHRvIGNhbGwgd2l0aG91dFxuY2hhbmdpbmcgdGhlIHRvb2wgY2FsbCBhbmQgcmVzdWx0IHR5cGVzIGluIHRoZSByZXN1bHQuXG4gICAqL1xuICBhY3RpdmVUb29scz86IEFycmF5PGtleW9mIE5vSW5mZXI8VE9PTFM+PjtcblxuICAvKipcbk9wdGlvbmFsIHNwZWNpZmljYXRpb24gZm9yIHBhcnNpbmcgc3RydWN0dXJlZCBvdXRwdXRzIGZyb20gdGhlIExMTSByZXNwb25zZS5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF9vdXRwdXQ/OiBPdXRwdXQ8T1VUUFVULCBPVVRQVVRfUEFSVElBTD47XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgcHJlcGFyZVN0ZXBgIGluc3RlYWQuXG4gICAqL1xuICBleHBlcmltZW50YWxfcHJlcGFyZVN0ZXA/OiBQcmVwYXJlU3RlcEZ1bmN0aW9uPE5vSW5mZXI8VE9PTFM+PjtcblxuICAvKipcbk9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgeW91IGNhbiB1c2UgdG8gcHJvdmlkZSBkaWZmZXJlbnQgc2V0dGluZ3MgZm9yIGEgc3RlcC5cbiAgKi9cbiAgcHJlcGFyZVN0ZXA/OiBQcmVwYXJlU3RlcEZ1bmN0aW9uPE5vSW5mZXI8VE9PTFM+PjtcblxuICAvKipcbkEgZnVuY3Rpb24gdGhhdCBhdHRlbXB0cyB0byByZXBhaXIgYSB0b29sIGNhbGwgdGhhdCBmYWlsZWQgdG8gcGFyc2UuXG4gICAqL1xuICBleHBlcmltZW50YWxfcmVwYWlyVG9vbENhbGw/OiBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uPE5vSW5mZXI8VE9PTFM+PjtcblxuICAvKipcbiAgQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBlYWNoIHN0ZXAgKExMTSBjYWxsKSBpcyBmaW5pc2hlZCwgaW5jbHVkaW5nIGludGVybWVkaWF0ZSBzdGVwcy5cbiAgKi9cbiAgb25TdGVwRmluaXNoPzogR2VuZXJhdGVUZXh0T25TdGVwRmluaXNoQ2FsbGJhY2s8Tm9JbmZlcjxUT09MUz4+O1xuXG4gIC8qKlxuICAgKiBDb250ZXh0IHRoYXQgaXMgcGFzc2VkIGludG8gdG9vbCBjYWxscy5cbiAgICpcbiAgICogRXhwZXJpbWVudGFsIChjYW4gYnJlYWsgaW4gcGF0Y2ggcmVsZWFzZXMpLlxuICAgKlxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIGV4cGVyaW1lbnRhbF9jb250ZXh0PzogdW5rbm93bjtcblxuICAvKipcbiAgICogSW50ZXJuYWwuIEZvciB0ZXN0IHVzZSBvbmx5LiBNYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICAgKi9cbiAgX2ludGVybmFsPzoge1xuICAgIGdlbmVyYXRlSWQ/OiBJZEdlbmVyYXRvcjtcbiAgICBjdXJyZW50RGF0ZT86ICgpID0+IERhdGU7XG4gIH07XG59O1xuXG5leHBvcnQgY2xhc3MgQWdlbnQ8XG4gIFRPT0xTIGV4dGVuZHMgVG9vbFNldCxcbiAgT1VUUFVUID0gbmV2ZXIsXG4gIE9VVFBVVF9QQVJUSUFMID0gbmV2ZXIsXG4+IHtcbiAgcHJpdmF0ZSByZWFkb25seSBzZXR0aW5nczogQWdlbnRTZXR0aW5nczxUT09MUywgT1VUUFVULCBPVVRQVVRfUEFSVElBTD47XG5cbiAgY29uc3RydWN0b3Ioc2V0dGluZ3M6IEFnZW50U2V0dGluZ3M8VE9PTFMsIE9VVFBVVCwgT1VUUFVUX1BBUlRJQUw+KSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICB9XG5cbiAgZ2V0IHRvb2xzKCk6IFRPT0xTIHtcbiAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy50b29scyBhcyBUT09MUztcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlKFxuICAgIG9wdGlvbnM6IFByb21wdCAmIHtcbiAgICAgIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YS4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbmZyb20gdGhlIHByb3ZpZGVyIHRvIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xucmVzdWx0cyB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICAgKi9cbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxudG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5mdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICAgICAgICAqL1xuICAgICAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuICAgIH0sXG4gICk6IFByb21pc2U8R2VuZXJhdGVUZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQ+PiB7XG4gICAgcmV0dXJuIGdlbmVyYXRlVGV4dCh7IC4uLnRoaXMuc2V0dGluZ3MsIC4uLm9wdGlvbnMgfSk7XG4gIH1cblxuICBzdHJlYW0oXG4gICAgb3B0aW9uczogUHJvbXB0ICYge1xuICAgICAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxuZnJvbSB0aGUgcHJvdmlkZXIgdG8gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5yZXN1bHRzIHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICAqL1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgICAgICAgICovXG4gICAgICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG4gICAgfSxcbiAgKTogU3RyZWFtVGV4dFJlc3VsdDxUT09MUywgT1VUUFVUX1BBUlRJQUw+IHtcbiAgICByZXR1cm4gc3RyZWFtVGV4dCh7IC4uLnRoaXMuc2V0dGluZ3MsIC4uLm9wdGlvbnMgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHJlc3BvbnNlIG9iamVjdCB0aGF0IHN0cmVhbXMgVUkgbWVzc2FnZXMgdG8gdGhlIGNsaWVudC5cbiAgICovXG4gIHJlc3BvbmQob3B0aW9uczoge1xuICAgIG1lc3NhZ2VzOiBVSU1lc3NhZ2U8bmV2ZXIsIG5ldmVyLCBJbmZlclVJVG9vbHM8VE9PTFM+PltdO1xuICB9KTogUmVzcG9uc2Uge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbSh7XG4gICAgICBwcm9tcHQ6IGNvbnZlcnRUb01vZGVsTWVzc2FnZXMob3B0aW9ucy5tZXNzYWdlcyksXG4gICAgfSkudG9VSU1lc3NhZ2VTdHJlYW1SZXNwb25zZTxcbiAgICAgIFVJTWVzc2FnZTxuZXZlciwgbmV2ZXIsIEluZmVyVUlUb29sczxUT09MUz4+XG4gICAgPigpO1xuICB9XG59XG5cbnR5cGUgSW5mZXJBZ2VudFRvb2xzPEFHRU5UPiA9XG4gIEFHRU5UIGV4dGVuZHMgQWdlbnQ8aW5mZXIgVE9PTFMsIGFueSwgYW55PiA/IFRPT0xTIDogbmV2ZXI7XG5cbi8qKlxuICogSW5mZXIgdGhlIFVJIG1lc3NhZ2UgdHlwZSBvZiBhbiBhZ2VudC5cbiAqL1xuZXhwb3J0IHR5cGUgSW5mZXJBZ2VudFVJTWVzc2FnZTxBR0VOVD4gPSBVSU1lc3NhZ2U8XG4gIG5ldmVyLFxuICBuZXZlcixcbiAgSW5mZXJVSVRvb2xzPEluZmVyQWdlbnRUb29sczxBR0VOVD4+XG4+O1xuIiwgImltcG9ydCB7IFByb3ZpZGVyT3B0aW9ucywgd2l0aFVzZXJBZ2VudFN1ZmZpeCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgcmVzb2x2ZUVtYmVkZGluZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWwvcmVzb2x2ZS1tb2RlbCc7XG5pbXBvcnQgeyBhc3NlbWJsZU9wZXJhdGlvbk5hbWUgfSBmcm9tICcuLi90ZWxlbWV0cnkvYXNzZW1ibGUtb3BlcmF0aW9uLW5hbWUnO1xuaW1wb3J0IHsgZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgZ2V0VHJhY2VyIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC10cmFjZXInO1xuaW1wb3J0IHsgcmVjb3JkU3BhbiB9IGZyb20gJy4uL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbic7XG5pbXBvcnQgeyBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4uL3RlbGVtZXRyeS90ZWxlbWV0cnktc2V0dGluZ3MnO1xuaW1wb3J0IHsgRW1iZWRkaW5nTW9kZWwgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBwcmVwYXJlUmV0cmllcyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1yZXRyaWVzJztcbmltcG9ydCB7IEVtYmVkUmVzdWx0IH0gZnJvbSAnLi9lbWJlZC1yZXN1bHQnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuXG4vKipcbkVtYmVkIGEgdmFsdWUgdXNpbmcgYW4gZW1iZWRkaW5nIG1vZGVsLiBUaGUgdHlwZSBvZiB0aGUgdmFsdWUgaXMgZGVmaW5lZCBieSB0aGUgZW1iZWRkaW5nIG1vZGVsLlxuXG5AcGFyYW0gbW9kZWwgLSBUaGUgZW1iZWRkaW5nIG1vZGVsIHRvIHVzZS5cbkBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0aGF0IHNob3VsZCBiZSBlbWJlZGRlZC5cblxuQHBhcmFtIG1heFJldHJpZXMgLSBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuIERlZmF1bHQ6IDIuXG5AcGFyYW0gYWJvcnRTaWduYWwgLSBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGwuXG5AcGFyYW0gaGVhZGVycyAtIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cblxuQHJldHVybnMgQSByZXN1bHQgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGVtYmVkZGluZywgdGhlIHZhbHVlLCBhbmQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVtYmVkPFZBTFVFID0gc3RyaW5nPih7XG4gIG1vZGVsOiBtb2RlbEFyZyxcbiAgdmFsdWUsXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk6IHRlbGVtZXRyeSxcbn06IHtcbiAgLyoqXG5UaGUgZW1iZWRkaW5nIG1vZGVsIHRvIHVzZS5cbiAgICAgKi9cbiAgbW9kZWw6IEVtYmVkZGluZ01vZGVsPFZBTFVFPjtcblxuICAvKipcblRoZSB2YWx1ZSB0aGF0IHNob3VsZCBiZSBlbWJlZGRlZC5cbiAgICovXG4gIHZhbHVlOiBWQUxVRTtcblxuICAvKipcbk1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgcGVyIGVtYmVkZGluZyBtb2RlbCBjYWxsLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuXG5cbkBkZWZhdWx0IDJcbiAgICovXG4gIG1heFJldHJpZXM/OiBudW1iZXI7XG5cbiAgLyoqXG5BYm9ydCBzaWduYWwuXG4gKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcblxuICAvKipcbkFkZGl0aW9uYWwgaGVhZGVycyB0byBpbmNsdWRlIGluIHRoZSByZXF1ZXN0LlxuT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cbiAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuICAvKipcbiAgQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxuICB0byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbiAgZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICAqL1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIHRlbGVtZXRyeSBjb25maWd1cmF0aW9uIChleHBlcmltZW50YWwpLlxuICAgKi9cbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeT86IFRlbGVtZXRyeVNldHRpbmdzO1xufSk6IFByb21pc2U8RW1iZWRSZXN1bHQ8VkFMVUU+PiB7XG4gIGNvbnN0IG1vZGVsID0gcmVzb2x2ZUVtYmVkZGluZ01vZGVsPFZBTFVFPihtb2RlbEFyZyk7XG5cbiAgY29uc3QgeyBtYXhSZXRyaWVzLCByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoe1xuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gIH0pO1xuXG4gIGNvbnN0IGhlYWRlcnNXaXRoVXNlckFnZW50ID0gd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICBoZWFkZXJzID8/IHt9LFxuICAgIGBhaS8ke1ZFUlNJT059YCxcbiAgKTtcblxuICBjb25zdCBiYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyA9IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICBtb2RlbDogbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgIHNldHRpbmdzOiB7IG1heFJldHJpZXMgfSxcbiAgfSk7XG5cbiAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKHRlbGVtZXRyeSk7XG5cbiAgcmV0dXJuIHJlY29yZFNwYW4oe1xuICAgIG5hbWU6ICdhaS5lbWJlZCcsXG4gICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICB0ZWxlbWV0cnksXG4gICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7IG9wZXJhdGlvbklkOiAnYWkuZW1iZWQnLCB0ZWxlbWV0cnkgfSksXG4gICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAnYWkudmFsdWUnOiB7IGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgfSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgdHJhY2VyLFxuICAgIGZuOiBhc3luYyBzcGFuID0+IHtcbiAgICAgIGNvbnN0IHsgZW1iZWRkaW5nLCB1c2FnZSwgcmVzcG9uc2UsIHByb3ZpZGVyTWV0YWRhdGEgfSA9IGF3YWl0IHJldHJ5KCgpID0+XG4gICAgICAgIC8vIG5lc3RlZCBzcGFucyB0byBhbGlnbiB3aXRoIHRoZSBlbWJlZE1hbnkgdGVsZW1ldHJ5IGRhdGE6XG4gICAgICAgIHJlY29yZFNwYW4oe1xuICAgICAgICAgIG5hbWU6ICdhaS5lbWJlZC5kb0VtYmVkJyxcbiAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLmVtYmVkLmRvRW1iZWQnLFxuICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgICAgICdhaS52YWx1ZXMnOiB7IGlucHV0OiAoKSA9PiBbSlNPTi5zdHJpbmdpZnkodmFsdWUpXSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgZm46IGFzeW5jIGRvRW1iZWRTcGFuID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsUmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5kb0VtYmVkKHtcbiAgICAgICAgICAgICAgdmFsdWVzOiBbdmFsdWVdLFxuICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBlbWJlZGRpbmcgPSBtb2RlbFJlc3BvbnNlLmVtYmVkZGluZ3NbMF07XG4gICAgICAgICAgICBjb25zdCB1c2FnZSA9IG1vZGVsUmVzcG9uc2UudXNhZ2UgPz8geyB0b2tlbnM6IE5hTiB9O1xuXG4gICAgICAgICAgICBkb0VtYmVkU3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgJ2FpLmVtYmVkZGluZ3MnOiB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbFJlc3BvbnNlLmVtYmVkZGluZ3MubWFwKGVtYmVkZGluZyA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICdhaS51c2FnZS50b2tlbnMnOiB1c2FnZS50b2tlbnMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBlbWJlZGRpbmcsXG4gICAgICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBtb2RlbFJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgIHJlc3BvbnNlOiBtb2RlbFJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICdhaS5lbWJlZGRpbmcnOiB7IG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nKSB9LFxuICAgICAgICAgICAgJ2FpLnVzYWdlLnRva2Vucyc6IHVzYWdlLnRva2VucyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBuZXcgRGVmYXVsdEVtYmVkUmVzdWx0KHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGVtYmVkZGluZyxcbiAgICAgICAgdXNhZ2UsXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG59XG5cbmNsYXNzIERlZmF1bHRFbWJlZFJlc3VsdDxWQUxVRT4gaW1wbGVtZW50cyBFbWJlZFJlc3VsdDxWQUxVRT4ge1xuICByZWFkb25seSB2YWx1ZTogRW1iZWRSZXN1bHQ8VkFMVUU+Wyd2YWx1ZSddO1xuICByZWFkb25seSBlbWJlZGRpbmc6IEVtYmVkUmVzdWx0PFZBTFVFPlsnZW1iZWRkaW5nJ107XG4gIHJlYWRvbmx5IHVzYWdlOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3VzYWdlJ107XG4gIHJlYWRvbmx5IHByb3ZpZGVyTWV0YWRhdGE6IEVtYmVkUmVzdWx0PFZBTFVFPlsncHJvdmlkZXJNZXRhZGF0YSddO1xuICByZWFkb25seSByZXNwb25zZTogRW1iZWRSZXN1bHQ8VkFMVUU+WydyZXNwb25zZSddO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICB2YWx1ZTogRW1iZWRSZXN1bHQ8VkFMVUU+Wyd2YWx1ZSddO1xuICAgIGVtYmVkZGluZzogRW1iZWRSZXN1bHQ8VkFMVUU+WydlbWJlZGRpbmcnXTtcbiAgICB1c2FnZTogRW1iZWRSZXN1bHQ8VkFMVUU+Wyd1c2FnZSddO1xuICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcbiAgICByZXNwb25zZT86IEVtYmVkUmVzdWx0PFZBTFVFPlsncmVzcG9uc2UnXTtcbiAgfSkge1xuICAgIHRoaXMudmFsdWUgPSBvcHRpb25zLnZhbHVlO1xuICAgIHRoaXMuZW1iZWRkaW5nID0gb3B0aW9ucy5lbWJlZGRpbmc7XG4gICAgdGhpcy51c2FnZSA9IG9wdGlvbnMudXNhZ2U7XG4gICAgdGhpcy5wcm92aWRlck1ldGFkYXRhID0gb3B0aW9ucy5wcm92aWRlck1ldGFkYXRhO1xuICAgIHRoaXMucmVzcG9uc2UgPSBvcHRpb25zLnJlc3BvbnNlO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgUHJvdmlkZXJPcHRpb25zLCB3aXRoVXNlckFnZW50U3VmZml4IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBwcmVwYXJlUmV0cmllcyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1yZXRyaWVzJztcbmltcG9ydCB7IHNwbGl0QXJyYXkgfSBmcm9tICcuLi91dGlsL3NwbGl0LWFycmF5JztcbmltcG9ydCB7IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci91bnN1cHBvcnRlZC1tb2RlbC12ZXJzaW9uLWVycm9yJztcbmltcG9ydCB7IGFzc2VtYmxlT3BlcmF0aW9uTmFtZSB9IGZyb20gJy4uL3RlbGVtZXRyeS9hc3NlbWJsZS1vcGVyYXRpb24tbmFtZSc7XG5pbXBvcnQgeyBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtYmFzZS10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBnZXRUcmFjZXIgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LXRyYWNlcic7XG5pbXBvcnQgeyByZWNvcmRTcGFuIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3JlY29yZC1zcGFuJztcbmltcG9ydCB7IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvc2VsZWN0LXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5pbXBvcnQgeyBFbWJlZGRpbmcsIEVtYmVkZGluZ01vZGVsLCBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgcmVzb2x2ZUVtYmVkZGluZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWwvcmVzb2x2ZS1tb2RlbCc7XG5pbXBvcnQgeyBFbWJlZE1hbnlSZXN1bHQgfSBmcm9tICcuL2VtYmVkLW1hbnktcmVzdWx0JztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcblxuLyoqXG5FbWJlZCBzZXZlcmFsIHZhbHVlcyB1c2luZyBhbiBlbWJlZGRpbmcgbW9kZWwuIFRoZSB0eXBlIG9mIHRoZSB2YWx1ZSBpcyBkZWZpbmVkXG5ieSB0aGUgZW1iZWRkaW5nIG1vZGVsLlxuXG5gZW1iZWRNYW55YCBhdXRvbWF0aWNhbGx5IHNwbGl0cyBsYXJnZSByZXF1ZXN0cyBpbnRvIHNtYWxsZXIgY2h1bmtzIGlmIHRoZSBtb2RlbFxuaGFzIGEgbGltaXQgb24gaG93IG1hbnkgZW1iZWRkaW5ncyBjYW4gYmUgZ2VuZXJhdGVkIGluIGEgc2luZ2xlIGNhbGwuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSBlbWJlZGRpbmcgbW9kZWwgdG8gdXNlLlxuQHBhcmFtIHZhbHVlcyAtIFRoZSB2YWx1ZXMgdGhhdCBzaG91bGQgYmUgZW1iZWRkZWQuXG5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkByZXR1cm5zIEEgcmVzdWx0IG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBlbWJlZGRpbmdzLCB0aGUgdmFsdWUsIGFuZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW1iZWRNYW55PFZBTFVFID0gc3RyaW5nPih7XG4gIG1vZGVsOiBtb2RlbEFyZyxcbiAgdmFsdWVzLFxuICBtYXhQYXJhbGxlbENhbGxzID0gSW5maW5pdHksXG4gIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxuICBwcm92aWRlck9wdGlvbnMsXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk6IHRlbGVtZXRyeSxcbn06IHtcbiAgLyoqXG5UaGUgZW1iZWRkaW5nIG1vZGVsIHRvIHVzZS5cbiAgICAgKi9cbiAgbW9kZWw6IEVtYmVkZGluZ01vZGVsPFZBTFVFPjtcblxuICAvKipcblRoZSB2YWx1ZXMgdGhhdCBzaG91bGQgYmUgZW1iZWRkZWQuXG4gICAqL1xuICB2YWx1ZXM6IEFycmF5PFZBTFVFPjtcblxuICAvKipcbk1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgcGVyIGVtYmVkZGluZyBtb2RlbCBjYWxsLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuXG5cbkBkZWZhdWx0IDJcbiAgICovXG4gIG1heFJldHJpZXM/OiBudW1iZXI7XG5cbiAgLyoqXG5BYm9ydCBzaWduYWwuXG4gKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcblxuICAvKipcbkFkZGl0aW9uYWwgaGVhZGVycyB0byBpbmNsdWRlIGluIHRoZSByZXF1ZXN0LlxuT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cbiAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuICAvKipcbiAgICogT3B0aW9uYWwgdGVsZW1ldHJ5IGNvbmZpZ3VyYXRpb24gKGV4cGVyaW1lbnRhbCkuXG4gICAqL1xuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG5cbiAgLyoqXG4gIEFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbiAgdG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG4gIGZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgKi9cbiAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gIC8qKlxuICAgKiBNYXhpbXVtIG51bWJlciBvZiBjb25jdXJyZW50IHJlcXVlc3RzLlxuICAgKlxuICAgKiBAZGVmYXVsdCBJbmZpbml0eVxuICAgKi9cbiAgbWF4UGFyYWxsZWxDYWxscz86IG51bWJlcjtcbn0pOiBQcm9taXNlPEVtYmVkTWFueVJlc3VsdDxWQUxVRT4+IHtcbiAgY29uc3QgbW9kZWwgPSByZXNvbHZlRW1iZWRkaW5nTW9kZWw8VkFMVUU+KG1vZGVsQXJnKTtcblxuICBjb25zdCB7IG1heFJldHJpZXMsIHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgfSk7XG5cbiAgY29uc3QgaGVhZGVyc1dpdGhVc2VyQWdlbnQgPSB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgIGhlYWRlcnMgPz8ge30sXG4gICAgYGFpLyR7VkVSU0lPTn1gLFxuICApO1xuXG4gIGNvbnN0IGJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzID0gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgIG1vZGVsLFxuICAgIHRlbGVtZXRyeSxcbiAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICBzZXR0aW5nczogeyBtYXhSZXRyaWVzIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuXG4gIHJldHVybiByZWNvcmRTcGFuKHtcbiAgICBuYW1lOiAnYWkuZW1iZWRNYW55JyxcbiAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgIHRlbGVtZXRyeSxcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHsgb3BlcmF0aW9uSWQ6ICdhaS5lbWJlZE1hbnknLCB0ZWxlbWV0cnkgfSksXG4gICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICdhaS52YWx1ZXMnOiB7XG4gICAgICAgICAgaW5wdXQ6ICgpID0+IHZhbHVlcy5tYXAodmFsdWUgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUpKSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgdHJhY2VyLFxuICAgIGZuOiBhc3luYyBzcGFuID0+IHtcbiAgICAgIGNvbnN0IFttYXhFbWJlZGRpbmdzUGVyQ2FsbCwgc3VwcG9ydHNQYXJhbGxlbENhbGxzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgbW9kZWwubWF4RW1iZWRkaW5nc1BlckNhbGwsXG4gICAgICAgIG1vZGVsLnN1cHBvcnRzUGFyYWxsZWxDYWxscyxcbiAgICAgIF0pO1xuXG4gICAgICAvLyB0aGUgbW9kZWwgaGFzIG5vdCBzcGVjaWZpZWQgbGltaXRzIG9uXG4gICAgICAvLyBob3cgbWFueSBlbWJlZGRpbmdzIGNhbiBiZSBnZW5lcmF0ZWQgaW4gYSBzaW5nbGUgY2FsbFxuICAgICAgaWYgKG1heEVtYmVkZGluZ3NQZXJDYWxsID09IG51bGwgfHwgbWF4RW1iZWRkaW5nc1BlckNhbGwgPT09IEluZmluaXR5KSB7XG4gICAgICAgIGNvbnN0IHsgZW1iZWRkaW5ncywgdXNhZ2UsIHJlc3BvbnNlLCBwcm92aWRlck1ldGFkYXRhIH0gPSBhd2FpdCByZXRyeShcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAvLyBuZXN0ZWQgc3BhbnMgdG8gYWxpZ24gd2l0aCB0aGUgZW1iZWRNYW55IHRlbGVtZXRyeSBkYXRhOlxuICAgICAgICAgICAgcmV0dXJuIHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgICBuYW1lOiAnYWkuZW1iZWRNYW55LmRvRW1iZWQnLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5lbWJlZE1hbnkuZG9FbWJlZCcsXG4gICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgICAgICAgICAnYWkudmFsdWVzJzoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gdmFsdWVzLm1hcCh2YWx1ZSA9PiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgICBmbjogYXN5bmMgZG9FbWJlZFNwYW4gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsUmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5kb0VtYmVkKHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBlbWJlZGRpbmdzID0gbW9kZWxSZXNwb25zZS5lbWJlZGRpbmdzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzYWdlID0gbW9kZWxSZXNwb25zZS51c2FnZSA/PyB7IHRva2VuczogTmFOIH07XG5cbiAgICAgICAgICAgICAgICBkb0VtYmVkU3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICdhaS5lbWJlZGRpbmdzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbWJlZGRpbmdzLm1hcChlbWJlZGRpbmcgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRva2Vucyc6IHVzYWdlLnRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgZW1iZWRkaW5ncyxcbiAgICAgICAgICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogbW9kZWxSZXNwb25zZS5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IG1vZGVsUmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAnYWkuZW1iZWRkaW5ncyc6IHtcbiAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICBlbWJlZGRpbmdzLm1hcChlbWJlZGRpbmcgPT4gSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nKSksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICdhaS51c2FnZS50b2tlbnMnOiB1c2FnZS50b2tlbnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBuZXcgRGVmYXVsdEVtYmVkTWFueVJlc3VsdCh7XG4gICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgIGVtYmVkZGluZ3MsXG4gICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICByZXNwb25zZXM6IFtyZXNwb25zZV0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBzcGxpdCB0aGUgdmFsdWVzIGludG8gY2h1bmtzIHRoYXQgYXJlIHNtYWxsIGVub3VnaCBmb3IgdGhlIG1vZGVsOlxuICAgICAgY29uc3QgdmFsdWVDaHVua3MgPSBzcGxpdEFycmF5KHZhbHVlcywgbWF4RW1iZWRkaW5nc1BlckNhbGwpO1xuXG4gICAgICAvLyBzZXJpYWxseSBlbWJlZCB0aGUgY2h1bmtzOlxuICAgICAgY29uc3QgZW1iZWRkaW5nczogQXJyYXk8RW1iZWRkaW5nPiA9IFtdO1xuICAgICAgY29uc3QgcmVzcG9uc2VzOiBBcnJheTxcbiAgICAgICAgfCB7XG4gICAgICAgICAgICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgICAgICAgIGJvZHk/OiB1bmtub3duO1xuICAgICAgICAgIH1cbiAgICAgICAgfCB1bmRlZmluZWRcbiAgICAgID4gPSBbXTtcbiAgICAgIGxldCB0b2tlbnMgPSAwO1xuICAgICAgbGV0IHByb3ZpZGVyTWV0YWRhdGE6IFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG5cbiAgICAgIGNvbnN0IHBhcmFsbGVsQ2h1bmtzID0gc3BsaXRBcnJheShcbiAgICAgICAgdmFsdWVDaHVua3MsXG4gICAgICAgIHN1cHBvcnRzUGFyYWxsZWxDYWxscyA/IG1heFBhcmFsbGVsQ2FsbHMgOiAxLFxuICAgICAgKTtcblxuICAgICAgZm9yIChjb25zdCBwYXJhbGxlbENodW5rIG9mIHBhcmFsbGVsQ2h1bmtzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBwYXJhbGxlbENodW5rLm1hcChjaHVuayA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmV0cnkoKCkgPT4ge1xuICAgICAgICAgICAgICAvLyBuZXN0ZWQgc3BhbnMgdG8gYWxpZ24gd2l0aCB0aGUgZW1iZWRNYW55IHRlbGVtZXRyeSBkYXRhOlxuICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2FpLmVtYmVkTWFueS5kb0VtYmVkJyxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLmVtYmVkTWFueS5kb0VtYmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICAgICAgICAgICAgICAnYWkudmFsdWVzJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBjaHVuay5tYXAodmFsdWUgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUpKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgICAgIGZuOiBhc3luYyBkb0VtYmVkU3BhbiA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBtb2RlbFJlc3BvbnNlID0gYXdhaXQgbW9kZWwuZG9FbWJlZCh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogY2h1bmssXG4gICAgICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGluZ3MgPSBtb2RlbFJlc3BvbnNlLmVtYmVkZGluZ3M7XG4gICAgICAgICAgICAgICAgICBjb25zdCB1c2FnZSA9IG1vZGVsUmVzcG9uc2UudXNhZ2UgPz8geyB0b2tlbnM6IE5hTiB9O1xuXG4gICAgICAgICAgICAgICAgICBkb0VtYmVkU3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLmVtYmVkZGluZ3MnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWJlZGRpbmdzLm1hcChlbWJlZGRpbmcgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGVtYmVkZGluZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UudG9rZW5zJzogdXNhZ2UudG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZW1iZWRkaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IG1vZGVsUmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IG1vZGVsUmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgIGVtYmVkZGluZ3MucHVzaCguLi5yZXN1bHQuZW1iZWRkaW5ncyk7XG4gICAgICAgICAgcmVzcG9uc2VzLnB1c2gocmVzdWx0LnJlc3BvbnNlKTtcbiAgICAgICAgICB0b2tlbnMgKz0gcmVzdWx0LnVzYWdlLnRva2VucztcbiAgICAgICAgICBpZiAocmVzdWx0LnByb3ZpZGVyTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIGlmICghcHJvdmlkZXJNZXRhZGF0YSkge1xuICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhID0geyAuLi5yZXN1bHQucHJvdmlkZXJNZXRhZGF0YSB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBbcHJvdmlkZXJOYW1lLCBtZXRhZGF0YV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgICAgICAgcmVzdWx0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhW3Byb3ZpZGVyTmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAuLi4ocHJvdmlkZXJNZXRhZGF0YVtwcm92aWRlck5hbWVdID8/IHt9KSxcbiAgICAgICAgICAgICAgICAgIC4uLm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgJ2FpLmVtYmVkZGluZ3MnOiB7XG4gICAgICAgICAgICAgIG91dHB1dDogKCkgPT5cbiAgICAgICAgICAgICAgICBlbWJlZGRpbmdzLm1hcChlbWJlZGRpbmcgPT4gSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nKSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2FpLnVzYWdlLnRva2Vucyc6IHRva2VucyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBuZXcgRGVmYXVsdEVtYmVkTWFueVJlc3VsdCh7XG4gICAgICAgIHZhbHVlcyxcbiAgICAgICAgZW1iZWRkaW5ncyxcbiAgICAgICAgdXNhZ2U6IHsgdG9rZW5zIH0sXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgIHJlc3BvbnNlcyxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xufVxuXG5jbGFzcyBEZWZhdWx0RW1iZWRNYW55UmVzdWx0PFZBTFVFPiBpbXBsZW1lbnRzIEVtYmVkTWFueVJlc3VsdDxWQUxVRT4ge1xuICByZWFkb25seSB2YWx1ZXM6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3ZhbHVlcyddO1xuICByZWFkb25seSBlbWJlZGRpbmdzOiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+WydlbWJlZGRpbmdzJ107XG4gIHJlYWRvbmx5IHVzYWdlOiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+Wyd1c2FnZSddO1xuICByZWFkb25seSBwcm92aWRlck1ldGFkYXRhOiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+Wydwcm92aWRlck1ldGFkYXRhJ107XG4gIHJlYWRvbmx5IHJlc3BvbnNlczogRW1iZWRNYW55UmVzdWx0PFZBTFVFPlsncmVzcG9uc2VzJ107XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIHZhbHVlczogRW1iZWRNYW55UmVzdWx0PFZBTFVFPlsndmFsdWVzJ107XG4gICAgZW1iZWRkaW5nczogRW1iZWRNYW55UmVzdWx0PFZBTFVFPlsnZW1iZWRkaW5ncyddO1xuICAgIHVzYWdlOiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+Wyd1c2FnZSddO1xuICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+Wydwcm92aWRlck1ldGFkYXRhJ107XG4gICAgcmVzcG9uc2VzPzogRW1iZWRNYW55UmVzdWx0PFZBTFVFPlsncmVzcG9uc2VzJ107XG4gIH0pIHtcbiAgICB0aGlzLnZhbHVlcyA9IG9wdGlvbnMudmFsdWVzO1xuICAgIHRoaXMuZW1iZWRkaW5ncyA9IG9wdGlvbnMuZW1iZWRkaW5ncztcbiAgICB0aGlzLnVzYWdlID0gb3B0aW9ucy51c2FnZTtcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGEgPSBvcHRpb25zLnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgdGhpcy5yZXNwb25zZXMgPSBvcHRpb25zLnJlc3BvbnNlcztcbiAgfVxufVxuIiwgIi8qKlxuICogU3BsaXRzIGFuIGFycmF5IGludG8gY2h1bmtzIG9mIGEgc3BlY2lmaWVkIHNpemUuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXkuXG4gKiBAcGFyYW0ge1RbXX0gYXJyYXkgLSBUaGUgYXJyYXkgdG8gc3BsaXQuXG4gKiBAcGFyYW0ge251bWJlcn0gY2h1bmtTaXplIC0gVGhlIHNpemUgb2YgZWFjaCBjaHVuay5cbiAqIEByZXR1cm5zIHtUW11bXX0gLSBBIG5ldyBhcnJheSBjb250YWluaW5nIHRoZSBjaHVua3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdEFycmF5PFQ+KGFycmF5OiBUW10sIGNodW5rU2l6ZTogbnVtYmVyKTogVFtdW10ge1xuICBpZiAoY2h1bmtTaXplIDw9IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NodW5rU2l6ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XG4gIH1cblxuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gY2h1bmtTaXplKSB7XG4gICAgcmVzdWx0LnB1c2goYXJyYXkuc2xpY2UoaSwgaSArIGNodW5rU2l6ZSkpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsICJpbXBvcnQgeyBJbWFnZU1vZGVsVjIsIEltYWdlTW9kZWxWMlByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFByb3ZpZGVyT3B0aW9ucywgd2l0aFVzZXJBZ2VudFN1ZmZpeCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgTm9JbWFnZUdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8taW1hZ2UtZ2VuZXJhdGVkLWVycm9yJztcbmltcG9ydCB7XG4gIGRldGVjdE1lZGlhVHlwZSxcbiAgaW1hZ2VNZWRpYVR5cGVTaWduYXR1cmVzLFxufSBmcm9tICcuLi91dGlsL2RldGVjdC1tZWRpYS10eXBlJztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvciB9IGZyb20gJy4uL2Vycm9yL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3InO1xuaW1wb3J0IHtcbiAgRGVmYXVsdEdlbmVyYXRlZEZpbGUsXG4gIEdlbmVyYXRlZEZpbGUsXG59IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvZ2VuZXJhdGVkLWZpbGUnO1xuaW1wb3J0IHsgSW1hZ2VHZW5lcmF0aW9uV2FybmluZyB9IGZyb20gJy4uL3R5cGVzL2ltYWdlLW1vZGVsJztcbmltcG9ydCB7IEltYWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvaW1hZ2UtbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuaW1wb3J0IHsgR2VuZXJhdGVJbWFnZVJlc3VsdCB9IGZyb20gJy4vZ2VuZXJhdGUtaW1hZ2UtcmVzdWx0JztcbmltcG9ydCB7IGxvZ1dhcm5pbmdzIH0gZnJvbSAnLi4vbG9nZ2VyL2xvZy13YXJuaW5ncyc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5cbi8qKlxuR2VuZXJhdGVzIGltYWdlcyB1c2luZyBhbiBpbWFnZSBtb2RlbC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIGltYWdlIG1vZGVsIHRvIHVzZS5cbkBwYXJhbSBwcm9tcHQgLSBUaGUgcHJvbXB0IHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGltYWdlLlxuQHBhcmFtIG4gLSBOdW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLiBEZWZhdWx0OiAxLlxuQHBhcmFtIHNpemUgLSBTaXplIG9mIHRoZSBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgaGF2ZSB0aGUgZm9ybWF0IGB7d2lkdGh9eHtoZWlnaHR9YC5cbkBwYXJhbSBhc3BlY3RSYXRpbyAtIEFzcGVjdCByYXRpbyBvZiB0aGUgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGhhdmUgdGhlIGZvcm1hdCBge3dpZHRofTp7aGVpZ2h0fWAuXG5AcGFyYW0gc2VlZCAtIFNlZWQgZm9yIHRoZSBpbWFnZSBnZW5lcmF0aW9uLlxuQHBhcmFtIHByb3ZpZGVyT3B0aW9ucyAtIEFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucyB0aGF0IGFyZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXJcbmFzIGJvZHkgcGFyYW1ldGVycy5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkByZXR1cm5zIEEgcmVzdWx0IG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVJbWFnZSh7XG4gIG1vZGVsLFxuICBwcm9tcHQsXG4gIG4gPSAxLFxuICBtYXhJbWFnZXNQZXJDYWxsLFxuICBzaXplLFxuICBhc3BlY3RSYXRpbyxcbiAgc2VlZCxcbiAgcHJvdmlkZXJPcHRpb25zLFxuICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICBhYm9ydFNpZ25hbCxcbiAgaGVhZGVycyxcbn06IHtcbiAgLyoqXG5UaGUgaW1hZ2UgbW9kZWwgdG8gdXNlLlxuICAgICAqL1xuICBtb2RlbDogSW1hZ2VNb2RlbFYyO1xuXG4gIC8qKlxuVGhlIHByb21wdCB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIGdlbmVyYXRlIHRoZSBpbWFnZS5cbiAgICovXG4gIHByb21wdDogc3RyaW5nO1xuXG4gIC8qKlxuTnVtYmVyIG9mIGltYWdlcyB0byBnZW5lcmF0ZS5cbiAgICovXG4gIG4/OiBudW1iZXI7XG5cbiAgLyoqXG5OdW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLlxuICAgKi9cbiAgbWF4SW1hZ2VzUGVyQ2FsbD86IG51bWJlcjtcblxuICAvKipcblNpemUgb2YgdGhlIGltYWdlcyB0byBnZW5lcmF0ZS4gTXVzdCBoYXZlIHRoZSBmb3JtYXQgYHt3aWR0aH14e2hlaWdodH1gLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IHNpemUgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgc2l6ZT86IGAke251bWJlcn14JHtudW1iZXJ9YDtcblxuICAvKipcbkFzcGVjdCByYXRpbyBvZiB0aGUgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGhhdmUgdGhlIGZvcm1hdCBge3dpZHRofTp7aGVpZ2h0fWAuIElmIG5vdCBwcm92aWRlZCwgdGhlIGRlZmF1bHQgYXNwZWN0IHJhdGlvIHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIGFzcGVjdFJhdGlvPzogYCR7bnVtYmVyfToke251bWJlcn1gO1xuXG4gIC8qKlxuU2VlZCBmb3IgdGhlIGltYWdlIGdlbmVyYXRpb24uIElmIG5vdCBwcm92aWRlZCwgdGhlIGRlZmF1bHQgc2VlZCB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBzZWVkPzogbnVtYmVyO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlclxuYXMgYm9keSBwYXJhbWV0ZXJzLlxuXG5UaGUgb3V0ZXIgcmVjb3JkIGlzIGtleWVkIGJ5IHRoZSBwcm92aWRlciBuYW1lLCBhbmQgdGhlIGlubmVyXG5yZWNvcmQgaXMga2V5ZWQgYnkgdGhlIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhIGtleS5cbmBgYHRzXG57XG4gIFwib3BlbmFpXCI6IHtcbiAgICBcInN0eWxlXCI6IFwidml2aWRcIlxuICB9XG59XG5gYGBcbiAgICAgKi9cbiAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gIC8qKlxuTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcyBwZXIgZW1iZWRkaW5nIG1vZGVsIGNhbGwuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy5cblxuQGRlZmF1bHQgMlxuICAgKi9cbiAgbWF4UmV0cmllcz86IG51bWJlcjtcblxuICAvKipcbkFib3J0IHNpZ25hbC5cbiAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBoZWFkZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHJlcXVlc3QuXG5Pbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufSk6IFByb21pc2U8R2VuZXJhdGVJbWFnZVJlc3VsdD4ge1xuICBpZiAobW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24gIT09ICd2MicpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcih7XG4gICAgICB2ZXJzaW9uOiBtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbixcbiAgICAgIHByb3ZpZGVyOiBtb2RlbC5wcm92aWRlcixcbiAgICAgIG1vZGVsSWQ6IG1vZGVsLm1vZGVsSWQsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBoZWFkZXJzV2l0aFVzZXJBZ2VudCA9IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgaGVhZGVycyA/PyB7fSxcbiAgICBgYWkvJHtWRVJTSU9OfWAsXG4gICk7XG5cbiAgY29uc3QgeyByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoe1xuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gIH0pO1xuXG4gIC8vIGRlZmF1bHQgdG8gMSBpZiB0aGUgbW9kZWwgaGFzIG5vdCBzcGVjaWZpZWQgbGltaXRzIG9uXG4gIC8vIGhvdyBtYW55IGltYWdlcyBjYW4gYmUgZ2VuZXJhdGVkIGluIGEgc2luZ2xlIGNhbGxcbiAgY29uc3QgbWF4SW1hZ2VzUGVyQ2FsbFdpdGhEZWZhdWx0ID1cbiAgICBtYXhJbWFnZXNQZXJDYWxsID8/IChhd2FpdCBpbnZva2VNb2RlbE1heEltYWdlc1BlckNhbGwobW9kZWwpKSA/PyAxO1xuXG4gIC8vIHBhcmFsbGVsaXplIGNhbGxzIHRvIHRoZSBtb2RlbDpcbiAgY29uc3QgY2FsbENvdW50ID0gTWF0aC5jZWlsKG4gLyBtYXhJbWFnZXNQZXJDYWxsV2l0aERlZmF1bHQpO1xuICBjb25zdCBjYWxsSW1hZ2VDb3VudHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjYWxsQ291bnQgfSwgKF8sIGkpID0+IHtcbiAgICBpZiAoaSA8IGNhbGxDb3VudCAtIDEpIHtcbiAgICAgIHJldHVybiBtYXhJbWFnZXNQZXJDYWxsV2l0aERlZmF1bHQ7XG4gICAgfVxuXG4gICAgY29uc3QgcmVtYWluZGVyID0gbiAlIG1heEltYWdlc1BlckNhbGxXaXRoRGVmYXVsdDtcbiAgICByZXR1cm4gcmVtYWluZGVyID09PSAwID8gbWF4SW1hZ2VzUGVyQ2FsbFdpdGhEZWZhdWx0IDogcmVtYWluZGVyO1xuICB9KTtcblxuICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgY2FsbEltYWdlQ291bnRzLm1hcChhc3luYyBjYWxsSW1hZ2VDb3VudCA9PlxuICAgICAgcmV0cnkoKCkgPT5cbiAgICAgICAgbW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgIG46IGNhbGxJbWFnZUNvdW50LFxuICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgICAgICAgIHNpemUsXG4gICAgICAgICAgYXNwZWN0UmF0aW8sXG4gICAgICAgICAgc2VlZCxcbiAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyT3B0aW9ucyA/PyB7fSxcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICksXG4gICk7XG5cbiAgLy8gY29sbGVjdCByZXN1bHQgaW1hZ2VzLCB3YXJuaW5ncywgYW5kIHJlc3BvbnNlIG1ldGFkYXRhXG4gIGNvbnN0IGltYWdlczogQXJyYXk8RGVmYXVsdEdlbmVyYXRlZEZpbGU+ID0gW107XG4gIGNvbnN0IHdhcm5pbmdzOiBBcnJheTxJbWFnZUdlbmVyYXRpb25XYXJuaW5nPiA9IFtdO1xuICBjb25zdCByZXNwb25zZXM6IEFycmF5PEltYWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhPiA9IFtdO1xuICBjb25zdCBwcm92aWRlck1ldGFkYXRhOiBJbWFnZU1vZGVsVjJQcm92aWRlck1ldGFkYXRhID0ge307XG4gIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICBpbWFnZXMucHVzaChcbiAgICAgIC4uLnJlc3VsdC5pbWFnZXMubWFwKFxuICAgICAgICBpbWFnZSA9PlxuICAgICAgICAgIG5ldyBEZWZhdWx0R2VuZXJhdGVkRmlsZSh7XG4gICAgICAgICAgICBkYXRhOiBpbWFnZSxcbiAgICAgICAgICAgIG1lZGlhVHlwZTpcbiAgICAgICAgICAgICAgZGV0ZWN0TWVkaWFUeXBlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBpbWFnZSxcbiAgICAgICAgICAgICAgICBzaWduYXR1cmVzOiBpbWFnZU1lZGlhVHlwZVNpZ25hdHVyZXMsXG4gICAgICAgICAgICAgIH0pID8/ICdpbWFnZS9wbmcnLFxuICAgICAgICAgIH0pLFxuICAgICAgKSxcbiAgICApO1xuICAgIHdhcm5pbmdzLnB1c2goLi4ucmVzdWx0Lndhcm5pbmdzKTtcblxuICAgIGlmIChyZXN1bHQucHJvdmlkZXJNZXRhZGF0YSkge1xuICAgICAgZm9yIChjb25zdCBbcHJvdmlkZXJOYW1lLCBtZXRhZGF0YV0gb2YgT2JqZWN0LmVudHJpZXM8e1xuICAgICAgICBpbWFnZXM6IHVua25vd247XG4gICAgICB9PihyZXN1bHQucHJvdmlkZXJNZXRhZGF0YSkpIHtcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YVtwcm92aWRlck5hbWVdID8/PSB7IGltYWdlczogW10gfTtcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YVtwcm92aWRlck5hbWVdLmltYWdlcy5wdXNoKFxuICAgICAgICAgIC4uLnJlc3VsdC5wcm92aWRlck1ldGFkYXRhW3Byb3ZpZGVyTmFtZV0uaW1hZ2VzLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJlc3BvbnNlcy5wdXNoKHJlc3VsdC5yZXNwb25zZSk7XG4gIH1cblxuICBsb2dXYXJuaW5ncyh3YXJuaW5ncyk7XG5cbiAgaWYgKCFpbWFnZXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IE5vSW1hZ2VHZW5lcmF0ZWRFcnJvcih7IHJlc3BvbnNlcyB9KTtcbiAgfVxuXG4gIHJldHVybiBuZXcgRGVmYXVsdEdlbmVyYXRlSW1hZ2VSZXN1bHQoe1xuICAgIGltYWdlcyxcbiAgICB3YXJuaW5ncyxcbiAgICByZXNwb25zZXMsXG4gICAgcHJvdmlkZXJNZXRhZGF0YSxcbiAgfSk7XG59XG5cbmNsYXNzIERlZmF1bHRHZW5lcmF0ZUltYWdlUmVzdWx0IGltcGxlbWVudHMgR2VuZXJhdGVJbWFnZVJlc3VsdCB7XG4gIHJlYWRvbmx5IGltYWdlczogQXJyYXk8R2VuZXJhdGVkRmlsZT47XG4gIHJlYWRvbmx5IHdhcm5pbmdzOiBBcnJheTxJbWFnZUdlbmVyYXRpb25XYXJuaW5nPjtcbiAgcmVhZG9ubHkgcmVzcG9uc2VzOiBBcnJheTxJbWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG4gIHJlYWRvbmx5IHByb3ZpZGVyTWV0YWRhdGE6IEltYWdlTW9kZWxWMlByb3ZpZGVyTWV0YWRhdGE7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIGltYWdlczogQXJyYXk8R2VuZXJhdGVkRmlsZT47XG4gICAgd2FybmluZ3M6IEFycmF5PEltYWdlR2VuZXJhdGlvbldhcm5pbmc+O1xuICAgIHJlc3BvbnNlczogQXJyYXk8SW1hZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuICAgIHByb3ZpZGVyTWV0YWRhdGE6IEltYWdlTW9kZWxWMlByb3ZpZGVyTWV0YWRhdGE7XG4gIH0pIHtcbiAgICB0aGlzLmltYWdlcyA9IG9wdGlvbnMuaW1hZ2VzO1xuICAgIHRoaXMud2FybmluZ3MgPSBvcHRpb25zLndhcm5pbmdzO1xuICAgIHRoaXMucmVzcG9uc2VzID0gb3B0aW9ucy5yZXNwb25zZXM7XG4gICAgdGhpcy5wcm92aWRlck1ldGFkYXRhID0gb3B0aW9ucy5wcm92aWRlck1ldGFkYXRhO1xuICB9XG5cbiAgZ2V0IGltYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmltYWdlc1swXTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBpbnZva2VNb2RlbE1heEltYWdlc1BlckNhbGwobW9kZWw6IEltYWdlTW9kZWxWMikge1xuICBjb25zdCBpc0Z1bmN0aW9uID0gbW9kZWwubWF4SW1hZ2VzUGVyQ2FsbCBpbnN0YW5jZW9mIEZ1bmN0aW9uO1xuXG4gIGlmICghaXNGdW5jdGlvbikge1xuICAgIHJldHVybiBtb2RlbC5tYXhJbWFnZXNQZXJDYWxsO1xuICB9XG5cbiAgcmV0dXJuIG1vZGVsLm1heEltYWdlc1BlckNhbGwoe1xuICAgIG1vZGVsSWQ6IG1vZGVsLm1vZGVsSWQsXG4gIH0pO1xufVxuIiwgImltcG9ydCB7IEpTT05WYWx1ZSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgY3JlYXRlSWRHZW5lcmF0b3IsXG4gIEluZmVyU2NoZW1hLFxuICBQcm92aWRlck9wdGlvbnMsXG4gIFNjaGVtYSxcbiAgd2l0aFVzZXJBZ2VudFN1ZmZpeCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgKiBhcyB6MyBmcm9tICd6b2QvdjMnO1xuaW1wb3J0ICogYXMgejQgZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby1vYmplY3QtZ2VuZXJhdGVkLWVycm9yJztcbmltcG9ydCB7IGV4dHJhY3RSZWFzb25pbmdDb250ZW50IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9leHRyYWN0LXJlYXNvbmluZy1jb250ZW50JztcbmltcG9ydCB7IGV4dHJhY3RUZXh0Q29udGVudCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvZXh0cmFjdC10ZXh0LWNvbnRlbnQnO1xuaW1wb3J0IHsgbG9nV2FybmluZ3MgfSBmcm9tICcuLi9sb2dnZXIvbG9nLXdhcm5pbmdzJztcbmltcG9ydCB7IHJlc29sdmVMYW5ndWFnZU1vZGVsIH0gZnJvbSAnLi4vbW9kZWwvcmVzb2x2ZS1tb2RlbCc7XG5pbXBvcnQgeyBDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L2NvbnZlcnQtdG8tbGFuZ3VhZ2UtbW9kZWwtcHJvbXB0JztcbmltcG9ydCB7IHByZXBhcmVDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvcHJlcGFyZS1jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IFByb21wdCB9IGZyb20gJy4uL3Byb21wdC9wcm9tcHQnO1xuaW1wb3J0IHsgc3RhbmRhcmRpemVQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvc3RhbmRhcmRpemUtcHJvbXB0JztcbmltcG9ydCB7IHdyYXBHYXRld2F5RXJyb3IgfSBmcm9tICcuLi9wcm9tcHQvd3JhcC1nYXRld2F5LWVycm9yJztcbmltcG9ydCB7IGFzc2VtYmxlT3BlcmF0aW9uTmFtZSB9IGZyb20gJy4uL3RlbGVtZXRyeS9hc3NlbWJsZS1vcGVyYXRpb24tbmFtZSc7XG5pbXBvcnQgeyBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtYmFzZS10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBnZXRUcmFjZXIgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LXRyYWNlcic7XG5pbXBvcnQgeyByZWNvcmRTcGFuIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3JlY29yZC1zcGFuJztcbmltcG9ydCB7IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvc2VsZWN0LXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IHN0cmluZ2lmeUZvclRlbGVtZXRyeSB9IGZyb20gJy4uL3RlbGVtZXRyeS9zdHJpbmdpZnktZm9yLXRlbGVtZXRyeSc7XG5pbXBvcnQgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4uL3RlbGVtZXRyeS90ZWxlbWV0cnktc2V0dGluZ3MnO1xuaW1wb3J0IHtcbiAgQ2FsbFdhcm5pbmcsXG4gIEZpbmlzaFJlYXNvbixcbiAgTGFuZ3VhZ2VNb2RlbCxcbn0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFJlcXVlc3RNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsLXJlcXVlc3QtbWV0YWRhdGEnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5pbXBvcnQgeyBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFVzYWdlIH0gZnJvbSAnLi4vdHlwZXMvdXNhZ2UnO1xuaW1wb3J0IHsgRG93bmxvYWRGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZnVuY3Rpb24nO1xuaW1wb3J0IHsgcHJlcGFyZUhlYWRlcnMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtaGVhZGVycyc7XG5pbXBvcnQgeyBwcmVwYXJlUmV0cmllcyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1yZXRyaWVzJztcbmltcG9ydCB7IEdlbmVyYXRlT2JqZWN0UmVzdWx0IH0gZnJvbSAnLi9nZW5lcmF0ZS1vYmplY3QtcmVzdWx0JztcbmltcG9ydCB7IGdldE91dHB1dFN0cmF0ZWd5IH0gZnJvbSAnLi9vdXRwdXQtc3RyYXRlZ3knO1xuaW1wb3J0IHsgcGFyc2VBbmRWYWxpZGF0ZU9iamVjdFJlc3VsdFdpdGhSZXBhaXIgfSBmcm9tICcuL3BhcnNlLWFuZC12YWxpZGF0ZS1vYmplY3QtcmVzdWx0JztcbmltcG9ydCB7IFJlcGFpclRleHRGdW5jdGlvbiB9IGZyb20gJy4vcmVwYWlyLXRleHQnO1xuaW1wb3J0IHsgdmFsaWRhdGVPYmplY3RHZW5lcmF0aW9uSW5wdXQgfSBmcm9tICcuL3ZhbGlkYXRlLW9iamVjdC1nZW5lcmF0aW9uLWlucHV0JztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcblxuY29uc3Qgb3JpZ2luYWxHZW5lcmF0ZUlkID0gY3JlYXRlSWRHZW5lcmF0b3IoeyBwcmVmaXg6ICdhaW9iaicsIHNpemU6IDI0IH0pO1xuXG4vKipcbkdlbmVyYXRlIGEgc3RydWN0dXJlZCwgdHlwZWQgb2JqZWN0IGZvciBhIGdpdmVuIHByb21wdCBhbmQgc2NoZW1hIHVzaW5nIGEgbGFuZ3VhZ2UgbW9kZWwuXG5cblRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgc3RyZWFtIHRoZSBvdXRwdXQuIElmIHlvdSB3YW50IHRvIHN0cmVhbSB0aGUgb3V0cHV0LCB1c2UgYHN0cmVhbU9iamVjdGAgaW5zdGVhZC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbkBwYXJhbSB0b29scyAtIFRvb2xzIHRoYXQgYXJlIGFjY2Vzc2libGUgdG8gYW5kIGNhbiBiZSBjYWxsZWQgYnkgdGhlIG1vZGVsLiBUaGUgbW9kZWwgbmVlZHMgdG8gc3VwcG9ydCBjYWxsaW5nIHRvb2xzLlxuXG5AcGFyYW0gc3lzdGVtIC0gQSBzeXN0ZW0gbWVzc2FnZSB0aGF0IHdpbGwgYmUgcGFydCBvZiB0aGUgcHJvbXB0LlxuQHBhcmFtIHByb21wdCAtIEEgc2ltcGxlIHRleHQgcHJvbXB0LiBZb3UgY2FuIGVpdGhlciB1c2UgYHByb21wdGAgb3IgYG1lc3NhZ2VzYCBidXQgbm90IGJvdGguXG5AcGFyYW0gbWVzc2FnZXMgLSBBIGxpc3Qgb2YgbWVzc2FnZXMuIFlvdSBjYW4gZWl0aGVyIHVzZSBgcHJvbXB0YCBvciBgbWVzc2FnZXNgIGJ1dCBub3QgYm90aC5cblxuQHBhcmFtIG1heE91dHB1dFRva2VucyAtIE1heGltdW0gbnVtYmVyIG9mIHRva2VucyB0byBnZW5lcmF0ZS5cbkBwYXJhbSB0ZW1wZXJhdHVyZSAtIFRlbXBlcmF0dXJlIHNldHRpbmcuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGVpdGhlciBgdGVtcGVyYXR1cmVgIG9yIGB0b3BQYCwgYnV0IG5vdCBib3RoLlxuQHBhcmFtIHRvcFAgLSBOdWNsZXVzIHNhbXBsaW5nLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkl0IGlzIHJlY29tbWVuZGVkIHRvIHNldCBlaXRoZXIgYHRlbXBlcmF0dXJlYCBvciBgdG9wUGAsIGJ1dCBub3QgYm90aC5cbkBwYXJhbSB0b3BLIC0gT25seSBzYW1wbGUgZnJvbSB0aGUgdG9wIEsgb3B0aW9ucyBmb3IgZWFjaCBzdWJzZXF1ZW50IHRva2VuLlxuVXNlZCB0byByZW1vdmUgXCJsb25nIHRhaWxcIiBsb3cgcHJvYmFiaWxpdHkgcmVzcG9uc2VzLlxuUmVjb21tZW5kZWQgZm9yIGFkdmFuY2VkIHVzZSBjYXNlcyBvbmx5LiBZb3UgdXN1YWxseSBvbmx5IG5lZWQgdG8gdXNlIHRlbXBlcmF0dXJlLlxuQHBhcmFtIHByZXNlbmNlUGVuYWx0eSAtIFByZXNlbmNlIHBlbmFsdHkgc2V0dGluZy5cbkl0IGFmZmVjdHMgdGhlIGxpa2VsaWhvb2Qgb2YgdGhlIG1vZGVsIHRvIHJlcGVhdCBpbmZvcm1hdGlvbiB0aGF0IGlzIGFscmVhZHkgaW4gdGhlIHByb21wdC5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5AcGFyYW0gZnJlcXVlbmN5UGVuYWx0eSAtIEZyZXF1ZW5jeSBwZW5hbHR5IHNldHRpbmcuXG5JdCBhZmZlY3RzIHRoZSBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCB0byByZXBlYXRlZGx5IHVzZSB0aGUgc2FtZSB3b3JkcyBvciBwaHJhc2VzLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkBwYXJhbSBzdG9wU2VxdWVuY2VzIC0gU3RvcCBzZXF1ZW5jZXMuXG5JZiBzZXQsIHRoZSBtb2RlbCB3aWxsIHN0b3AgZ2VuZXJhdGluZyB0ZXh0IHdoZW4gb25lIG9mIHRoZSBzdG9wIHNlcXVlbmNlcyBpcyBnZW5lcmF0ZWQuXG5AcGFyYW0gc2VlZCAtIFRoZSBzZWVkIChpbnRlZ2VyKSB0byB1c2UgZm9yIHJhbmRvbSBzYW1wbGluZy5cbklmIHNldCBhbmQgc3VwcG9ydGVkIGJ5IHRoZSBtb2RlbCwgY2FsbHMgd2lsbCBnZW5lcmF0ZSBkZXRlcm1pbmlzdGljIHJlc3VsdHMuXG5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkBwYXJhbSBzY2hlbWEgLSBUaGUgc2NoZW1hIG9mIHRoZSBvYmplY3QgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIGdlbmVyYXRlLlxuQHBhcmFtIHNjaGVtYU5hbWUgLSBPcHRpb25hbCBuYW1lIG9mIHRoZSBvdXRwdXQgdGhhdCBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuVXNlZCBieSBzb21lIHByb3ZpZGVycyBmb3IgYWRkaXRpb25hbCBMTE0gZ3VpZGFuY2UsIGUuZy5cbnZpYSB0b29sIG9yIHNjaGVtYSBuYW1lLlxuQHBhcmFtIHNjaGVtYURlc2NyaXB0aW9uIC0gT3B0aW9uYWwgZGVzY3JpcHRpb24gb2YgdGhlIG91dHB1dCB0aGF0IHNob3VsZCBiZSBnZW5lcmF0ZWQuXG5Vc2VkIGJ5IHNvbWUgcHJvdmlkZXJzIGZvciBhZGRpdGlvbmFsIExMTSBndWlkYW5jZSwgZS5nLlxudmlhIHRvb2wgb3Igc2NoZW1hIGRlc2NyaXB0aW9uLlxuXG5AcGFyYW0gb3V0cHV0IC0gVGhlIHR5cGUgb2YgdGhlIG91dHB1dC5cblxuLSAnb2JqZWN0JzogVGhlIG91dHB1dCBpcyBhbiBvYmplY3QuXG4tICdhcnJheSc6IFRoZSBvdXRwdXQgaXMgYW4gYXJyYXkuXG4tICdlbnVtJzogVGhlIG91dHB1dCBpcyBhbiBlbnVtLlxuLSAnbm8tc2NoZW1hJzogVGhlIG91dHB1dCBpcyBub3QgYSBzY2hlbWEuXG5cbkBwYXJhbSBleHBlcmltZW50YWxfcmVwYWlyVGV4dCAtIEEgZnVuY3Rpb24gdGhhdCBhdHRlbXB0cyB0byByZXBhaXIgdGhlIHJhdyBvdXRwdXQgb2YgdGhlIG1vZGVsXG50byBlbmFibGUgSlNPTiBwYXJzaW5nLlxuXG5AcGFyYW0gZXhwZXJpbWVudGFsX3RlbGVtZXRyeSAtIE9wdGlvbmFsIHRlbGVtZXRyeSBjb25maWd1cmF0aW9uIChleHBlcmltZW50YWwpLlxuXG5AcGFyYW0gcHJvdmlkZXJPcHRpb25zIC0gQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxudG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5mdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG5cbkByZXR1cm5zXG5BIHJlc3VsdCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZ2VuZXJhdGVkIG9iamVjdCwgdGhlIGZpbmlzaCByZWFzb24sIHRoZSB0b2tlbiB1c2FnZSwgYW5kIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZU9iamVjdDxcbiAgU0NIRU1BIGV4dGVuZHNcbiAgICB8IHozLlNjaGVtYVxuICAgIHwgejQuY29yZS4kWm9kVHlwZVxuICAgIHwgU2NoZW1hID0gejQuY29yZS4kWm9kVHlwZTxKU09OVmFsdWU+LFxuICBPVVRQVVQgZXh0ZW5kc1xuICAgIHwgJ29iamVjdCdcbiAgICB8ICdhcnJheSdcbiAgICB8ICdlbnVtJ1xuICAgIHwgJ25vLXNjaGVtYScgPSBJbmZlclNjaGVtYTxTQ0hFTUE+IGV4dGVuZHMgc3RyaW5nID8gJ2VudW0nIDogJ29iamVjdCcsXG4gIFJFU1VMVCA9IE9VVFBVVCBleHRlbmRzICdhcnJheSdcbiAgICA/IEFycmF5PEluZmVyU2NoZW1hPFNDSEVNQT4+XG4gICAgOiBJbmZlclNjaGVtYTxTQ0hFTUE+LFxuPihcbiAgb3B0aW9uczogT21pdDxDYWxsU2V0dGluZ3MsICdzdG9wU2VxdWVuY2VzJz4gJlxuICAgIFByb21wdCAmXG4gICAgKE9VVFBVVCBleHRlbmRzICdlbnVtJ1xuICAgICAgPyB7XG4gICAgICAgICAgLyoqXG5UaGUgZW51bSB2YWx1ZXMgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIHVzZS5cbiAgICAgICAgKi9cbiAgICAgICAgICBlbnVtOiBBcnJheTxSRVNVTFQ+O1xuICAgICAgICAgIG1vZGU/OiAnanNvbic7XG4gICAgICAgICAgb3V0cHV0OiAnZW51bSc7XG4gICAgICAgIH1cbiAgICAgIDogT1VUUFVUIGV4dGVuZHMgJ25vLXNjaGVtYSdcbiAgICAgICAgPyB7fVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIC8qKlxuVGhlIHNjaGVtYSBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlIG1vZGVsIHNob3VsZCBnZW5lcmF0ZS5cbiAgICAgICAgKi9cbiAgICAgICAgICAgIHNjaGVtYTogU0NIRU1BO1xuXG4gICAgICAgICAgICAvKipcbk9wdGlvbmFsIG5hbWUgb2YgdGhlIG91dHB1dCB0aGF0IHNob3VsZCBiZSBnZW5lcmF0ZWQuXG5Vc2VkIGJ5IHNvbWUgcHJvdmlkZXJzIGZvciBhZGRpdGlvbmFsIExMTSBndWlkYW5jZSwgZS5nLlxudmlhIHRvb2wgb3Igc2NoZW1hIG5hbWUuXG4gICAgICAgICovXG4gICAgICAgICAgICBzY2hlbWFOYW1lPzogc3RyaW5nO1xuXG4gICAgICAgICAgICAvKipcbk9wdGlvbmFsIGRlc2NyaXB0aW9uIG9mIHRoZSBvdXRwdXQgdGhhdCBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuVXNlZCBieSBzb21lIHByb3ZpZGVycyBmb3IgYWRkaXRpb25hbCBMTE0gZ3VpZGFuY2UsIGUuZy5cbnZpYSB0b29sIG9yIHNjaGVtYSBkZXNjcmlwdGlvbi5cbiAgICAgICAgKi9cbiAgICAgICAgICAgIHNjaGVtYURlc2NyaXB0aW9uPzogc3RyaW5nO1xuXG4gICAgICAgICAgICAvKipcblRoZSBtb2RlIHRvIHVzZSBmb3Igb2JqZWN0IGdlbmVyYXRpb24uXG5cblRoZSBzY2hlbWEgaXMgY29udmVydGVkIGludG8gYSBKU09OIHNjaGVtYSBhbmQgdXNlZCBpbiBvbmUgb2YgdGhlIGZvbGxvd2luZyB3YXlzXG5cbi0gJ2F1dG8nOiBUaGUgcHJvdmlkZXIgd2lsbCBjaG9vc2UgdGhlIGJlc3QgbW9kZSBmb3IgdGhlIG1vZGVsLlxuLSAndG9vbCc6IEEgdG9vbCB3aXRoIHRoZSBKU09OIHNjaGVtYSBhcyBwYXJhbWV0ZXJzIGlzIHByb3ZpZGVkIGFuZCB0aGUgcHJvdmlkZXIgaXMgaW5zdHJ1Y3RlZCB0byB1c2UgaXQuXG4tICdqc29uJzogVGhlIEpTT04gc2NoZW1hIGFuZCBhbiBpbnN0cnVjdGlvbiBhcmUgaW5qZWN0ZWQgaW50byB0aGUgcHJvbXB0LiBJZiB0aGUgcHJvdmlkZXIgc3VwcG9ydHMgSlNPTiBtb2RlLCBpdCBpcyBlbmFibGVkLiBJZiB0aGUgcHJvdmlkZXIgc3VwcG9ydHMgSlNPTiBncmFtbWFycywgdGhlIGdyYW1tYXIgaXMgdXNlZC5cblxuUGxlYXNlIG5vdGUgdGhhdCBtb3N0IHByb3ZpZGVycyBkbyBub3Qgc3VwcG9ydCBhbGwgbW9kZXMuXG5cbkRlZmF1bHQgYW5kIHJlY29tbWVuZGVkOiAnYXV0bycgKGJlc3QgbW9kZSBmb3IgdGhlIG1vZGVsKS5cbiAgICAgICAgKi9cbiAgICAgICAgICAgIG1vZGU/OiAnYXV0bycgfCAnanNvbicgfCAndG9vbCc7XG4gICAgICAgICAgfSkgJiB7XG4gICAgICBvdXRwdXQ/OiBPVVRQVVQ7XG5cbiAgICAgIC8qKlxuICBUaGUgbGFuZ3VhZ2UgbW9kZWwgdG8gdXNlLlxuICAgICAgICovXG4gICAgICBtb2RlbDogTGFuZ3VhZ2VNb2RlbDtcbiAgICAgIC8qKlxuICBBIGZ1bmN0aW9uIHRoYXQgYXR0ZW1wdHMgdG8gcmVwYWlyIHRoZSByYXcgb3V0cHV0IG9mIHRoZSBtb2RlbFxuICB0byBlbmFibGUgSlNPTiBwYXJzaW5nLlxuICAgICAgICovXG4gICAgICBleHBlcmltZW50YWxfcmVwYWlyVGV4dD86IFJlcGFpclRleHRGdW5jdGlvbjtcblxuICAgICAgLyoqXG4gIE9wdGlvbmFsIHRlbGVtZXRyeSBjb25maWd1cmF0aW9uIChleHBlcmltZW50YWwpLlxuICAgICAgICAgKi9cblxuICAgICAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeT86IFRlbGVtZXRyeVNldHRpbmdzO1xuXG4gICAgICAvKipcbiAgQ3VzdG9tIGRvd25sb2FkIGZ1bmN0aW9uIHRvIHVzZSBmb3IgVVJMcy5cblxuICBCeSBkZWZhdWx0LCBmaWxlcyBhcmUgZG93bmxvYWRlZCBpZiB0aGUgbW9kZWwgZG9lcyBub3Qgc3VwcG9ydCB0aGUgVVJMIGZvciB0aGUgZ2l2ZW4gbWVkaWEgdHlwZS5cbiAgICAgICAqL1xuICAgICAgZXhwZXJpbWVudGFsX2Rvd25sb2FkPzogRG93bmxvYWRGdW5jdGlvbiB8IHVuZGVmaW5lZDtcblxuICAgICAgLyoqXG4gIEFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbiAgdG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG4gIGZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgICovXG4gICAgICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgICAgIC8qKlxuICAgICAgICogSW50ZXJuYWwuIEZvciB0ZXN0IHVzZSBvbmx5LiBNYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICAgICAgICovXG4gICAgICBfaW50ZXJuYWw/OiB7XG4gICAgICAgIGdlbmVyYXRlSWQ/OiAoKSA9PiBzdHJpbmc7XG4gICAgICAgIGN1cnJlbnREYXRlPzogKCkgPT4gRGF0ZTtcbiAgICAgIH07XG4gICAgfSxcbik6IFByb21pc2U8R2VuZXJhdGVPYmplY3RSZXN1bHQ8UkVTVUxUPj4ge1xuICBjb25zdCB7XG4gICAgbW9kZWw6IG1vZGVsQXJnLFxuICAgIG91dHB1dCA9ICdvYmplY3QnLFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBoZWFkZXJzLFxuICAgIGV4cGVyaW1lbnRhbF9yZXBhaXJUZXh0OiByZXBhaXJUZXh0LFxuICAgIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk6IHRlbGVtZXRyeSxcbiAgICBleHBlcmltZW50YWxfZG93bmxvYWQ6IGRvd25sb2FkLFxuICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICBfaW50ZXJuYWw6IHtcbiAgICAgIGdlbmVyYXRlSWQgPSBvcmlnaW5hbEdlbmVyYXRlSWQsXG4gICAgICBjdXJyZW50RGF0ZSA9ICgpID0+IG5ldyBEYXRlKCksXG4gICAgfSA9IHt9LFxuICAgIC4uLnNldHRpbmdzXG4gIH0gPSBvcHRpb25zO1xuXG4gIGNvbnN0IG1vZGVsID0gcmVzb2x2ZUxhbmd1YWdlTW9kZWwobW9kZWxBcmcpO1xuXG4gIGNvbnN0IGVudW1WYWx1ZXMgPSAnZW51bScgaW4gb3B0aW9ucyA/IG9wdGlvbnMuZW51bSA6IHVuZGVmaW5lZDtcbiAgY29uc3Qge1xuICAgIHNjaGVtYTogaW5wdXRTY2hlbWEsXG4gICAgc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgc2NoZW1hTmFtZSxcbiAgfSA9ICdzY2hlbWEnIGluIG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgdmFsaWRhdGVPYmplY3RHZW5lcmF0aW9uSW5wdXQoe1xuICAgIG91dHB1dCxcbiAgICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICAgIHNjaGVtYU5hbWUsXG4gICAgc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgZW51bVZhbHVlcyxcbiAgfSk7XG5cbiAgY29uc3QgeyBtYXhSZXRyaWVzLCByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoe1xuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gIH0pO1xuXG4gIGNvbnN0IG91dHB1dFN0cmF0ZWd5ID0gZ2V0T3V0cHV0U3RyYXRlZ3koe1xuICAgIG91dHB1dCxcbiAgICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICAgIGVudW1WYWx1ZXMsXG4gIH0pO1xuXG4gIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpO1xuXG4gIGNvbnN0IGhlYWRlcnNXaXRoVXNlckFnZW50ID0gd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICBoZWFkZXJzID8/IHt9LFxuICAgIGBhaS8ke1ZFUlNJT059YCxcbiAgKTtcblxuICBjb25zdCBiYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyA9IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICBtb2RlbCxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgc2V0dGluZ3M6IHsgLi4uY2FsbFNldHRpbmdzLCBtYXhSZXRyaWVzIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHJlY29yZFNwYW4oe1xuICAgICAgbmFtZTogJ2FpLmdlbmVyYXRlT2JqZWN0JyxcbiAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5nZW5lcmF0ZU9iamVjdCcsXG4gICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgfSksXG4gICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICAgICdhaS5wcm9tcHQnOiB7XG4gICAgICAgICAgICBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoeyBzeXN0ZW0sIHByb21wdCwgbWVzc2FnZXMgfSksXG4gICAgICAgICAgfSxcbiAgICAgICAgICAnYWkuc2NoZW1hJzpcbiAgICAgICAgICAgIG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWEgIT0gbnVsbFxuICAgICAgICAgICAgICA/IHsgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWEpIH1cbiAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgJ2FpLnNjaGVtYS5uYW1lJzogc2NoZW1hTmFtZSxcbiAgICAgICAgICAnYWkuc2NoZW1hLmRlc2NyaXB0aW9uJzogc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgICAgICAgJ2FpLnNldHRpbmdzLm91dHB1dCc6IG91dHB1dFN0cmF0ZWd5LnR5cGUsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIHRyYWNlcixcbiAgICAgIGZuOiBhc3luYyBzcGFuID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdDogc3RyaW5nO1xuICAgICAgICBsZXQgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb247XG4gICAgICAgIGxldCB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICAgICAgICBsZXQgd2FybmluZ3M6IENhbGxXYXJuaW5nW10gfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgICAgIGxldCByZXF1ZXN0OiBMYW5ndWFnZU1vZGVsUmVxdWVzdE1ldGFkYXRhO1xuICAgICAgICBsZXQgcmVzdWx0UHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHJlYXNvbmluZzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IHN0YW5kYXJkaXplZFByb21wdCA9IGF3YWl0IHN0YW5kYXJkaXplUHJvbXB0KHtcbiAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICB9IGFzIFByb21wdCk7XG5cbiAgICAgICAgY29uc3QgcHJvbXB0TWVzc2FnZXMgPSBhd2FpdCBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgICAgICAgICBwcm9tcHQ6IHN0YW5kYXJkaXplZFByb21wdCxcbiAgICAgICAgICBzdXBwb3J0ZWRVcmxzOiBhd2FpdCBtb2RlbC5zdXBwb3J0ZWRVcmxzLFxuICAgICAgICAgIGRvd25sb2FkLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBnZW5lcmF0ZVJlc3VsdCA9IGF3YWl0IHJldHJ5KCgpID0+XG4gICAgICAgICAgcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICBuYW1lOiAnYWkuZ2VuZXJhdGVPYmplY3QuZG9HZW5lcmF0ZScsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuZ2VuZXJhdGVPYmplY3QuZG9HZW5lcmF0ZScsXG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgJ2FpLnByb21wdC5tZXNzYWdlcyc6IHtcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBzdHJpbmdpZnlGb3JUZWxlbWV0cnkocHJvbXB0TWVzc2FnZXMpLFxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgJ2dlbl9haS5zeXN0ZW0nOiBtb2RlbC5wcm92aWRlcixcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QubW9kZWwnOiBtb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5mcmVxdWVuY3lfcGVuYWx0eSc6XG4gICAgICAgICAgICAgICAgICBjYWxsU2V0dGluZ3MuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QubWF4X3Rva2Vucyc6IGNhbGxTZXR0aW5ncy5tYXhPdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnByZXNlbmNlX3BlbmFsdHknOiBjYWxsU2V0dGluZ3MucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50ZW1wZXJhdHVyZSc6IGNhbGxTZXR0aW5ncy50ZW1wZXJhdHVyZSxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudG9wX2snOiBjYWxsU2V0dGluZ3MudG9wSyxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudG9wX3AnOiBjYWxsU2V0dGluZ3MudG9wUCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgICAgICAgICAgICByZXNwb25zZUZvcm1hdDoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgc2NoZW1hOiBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hLFxuICAgICAgICAgICAgICAgICAgbmFtZTogc2NoZW1hTmFtZSxcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC4uLnByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpLFxuICAgICAgICAgICAgICAgIHByb21wdDogcHJvbXB0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlc3VsdC5yZXNwb25zZT8uaWQgPz8gZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogcmVzdWx0LnJlc3BvbnNlPy50aW1lc3RhbXAgPz8gY3VycmVudERhdGUoKSxcbiAgICAgICAgICAgICAgICBtb2RlbElkOiByZXN1bHQucmVzcG9uc2U/Lm1vZGVsSWQgPz8gbW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXN1bHQucmVzcG9uc2U/LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogcmVzdWx0LnJlc3BvbnNlPy5ib2R5LFxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBleHRyYWN0VGV4dENvbnRlbnQocmVzdWx0LmNvbnRlbnQpO1xuICAgICAgICAgICAgICBjb25zdCByZWFzb25pbmcgPSBleHRyYWN0UmVhc29uaW5nQ29udGVudChyZXN1bHQuY29udGVudCk7XG5cbiAgICAgICAgICAgICAgaWYgKHRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgICAgICAgICAgICdObyBvYmplY3QgZ2VuZXJhdGVkOiB0aGUgbW9kZWwgZGlkIG5vdCByZXR1cm4gYSByZXNwb25zZS4nLFxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgIHVzYWdlOiByZXN1bHQudXNhZ2UsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hSZWFzb246IHJlc3VsdC5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBBZGQgcmVzcG9uc2UgaW5mb3JtYXRpb24gdG8gdGhlIHNwYW46XG4gICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmZpbmlzaFJlYXNvbic6IHJlc3VsdC5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5vYmplY3QnOiB7IG91dHB1dDogKCkgPT4gdGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuaWQnOiByZXNwb25zZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5tb2RlbCc6IHJlc3BvbnNlRGF0YS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudGltZXN0YW1wJzpcbiAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5wcm92aWRlck1ldGFkYXRhJzogSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyByZW5hbWUgdGVsZW1ldHJ5IGF0dHJpYnV0ZXMgdG8gaW5wdXRUb2tlbnMgYW5kIG91dHB1dFRva2Vuc1xuICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UucHJvbXB0VG9rZW5zJzogcmVzdWx0LnVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuY29tcGxldGlvblRva2Vucyc6IHJlc3VsdC51c2FnZS5vdXRwdXRUb2tlbnMsXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLmZpbmlzaF9yZWFzb25zJzogW3Jlc3VsdC5maW5pc2hSZWFzb25dLFxuICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLmlkJzogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLm1vZGVsJzogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICdnZW5fYWkudXNhZ2UuaW5wdXRfdG9rZW5zJzogcmVzdWx0LnVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLm91dHB1dF90b2tlbnMnOiByZXN1bHQudXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICBvYmplY3RUZXh0OiB0ZXh0LFxuICAgICAgICAgICAgICAgIHJlYXNvbmluZyxcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICAgIHJlc3VsdCA9IGdlbmVyYXRlUmVzdWx0Lm9iamVjdFRleHQ7XG4gICAgICAgIGZpbmlzaFJlYXNvbiA9IGdlbmVyYXRlUmVzdWx0LmZpbmlzaFJlYXNvbjtcbiAgICAgICAgdXNhZ2UgPSBnZW5lcmF0ZVJlc3VsdC51c2FnZTtcbiAgICAgICAgd2FybmluZ3MgPSBnZW5lcmF0ZVJlc3VsdC53YXJuaW5ncztcbiAgICAgICAgcmVzdWx0UHJvdmlkZXJNZXRhZGF0YSA9IGdlbmVyYXRlUmVzdWx0LnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgIHJlcXVlc3QgPSBnZW5lcmF0ZVJlc3VsdC5yZXF1ZXN0ID8/IHt9O1xuICAgICAgICByZXNwb25zZSA9IGdlbmVyYXRlUmVzdWx0LnJlc3BvbnNlRGF0YTtcbiAgICAgICAgcmVhc29uaW5nID0gZ2VuZXJhdGVSZXN1bHQucmVhc29uaW5nO1xuXG4gICAgICAgIGxvZ1dhcm5pbmdzKHdhcm5pbmdzKTtcblxuICAgICAgICBjb25zdCBvYmplY3QgPSBhd2FpdCBwYXJzZUFuZFZhbGlkYXRlT2JqZWN0UmVzdWx0V2l0aFJlcGFpcihcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgb3V0cHV0U3RyYXRlZ3ksXG4gICAgICAgICAgcmVwYWlyVGV4dCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgICAgZmluaXNoUmVhc29uLFxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGluZm9ybWF0aW9uIHRvIHRoZSBzcGFuOlxuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICdhaS5yZXNwb25zZS5maW5pc2hSZWFzb24nOiBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICdhaS5yZXNwb25zZS5vYmplY3QnOiB7XG4gICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvYmplY3QpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgIHJlc3VsdFByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgLy8gVE9ETyByZW5hbWUgdGVsZW1ldHJ5IGF0dHJpYnV0ZXMgdG8gaW5wdXRUb2tlbnMgYW5kIG91dHB1dFRva2Vuc1xuICAgICAgICAgICAgICAnYWkudXNhZ2UucHJvbXB0VG9rZW5zJzogdXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICdhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zJzogdXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRHZW5lcmF0ZU9iamVjdFJlc3VsdCh7XG4gICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgIHJlYXNvbmluZyxcbiAgICAgICAgICBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgd2FybmluZ3MsXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiByZXN1bHRQcm92aWRlck1ldGFkYXRhLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgd3JhcEdhdGV3YXlFcnJvcihlcnJvcik7XG4gIH1cbn1cblxuY2xhc3MgRGVmYXVsdEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+IGltcGxlbWVudHMgR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD4ge1xuICByZWFkb25seSBvYmplY3Q6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydvYmplY3QnXTtcbiAgcmVhZG9ubHkgZmluaXNoUmVhc29uOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsnZmluaXNoUmVhc29uJ107XG4gIHJlYWRvbmx5IHVzYWdlOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsndXNhZ2UnXTtcbiAgcmVhZG9ubHkgd2FybmluZ3M6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+Wyd3YXJuaW5ncyddO1xuICByZWFkb25seSBwcm92aWRlck1ldGFkYXRhOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncHJvdmlkZXJNZXRhZGF0YSddO1xuICByZWFkb25seSByZXNwb25zZTogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3Jlc3BvbnNlJ107XG4gIHJlYWRvbmx5IHJlcXVlc3Q6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydyZXF1ZXN0J107XG4gIHJlYWRvbmx5IHJlYXNvbmluZzogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3JlYXNvbmluZyddO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICBvYmplY3Q6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydvYmplY3QnXTtcbiAgICBmaW5pc2hSZWFzb246IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydmaW5pc2hSZWFzb24nXTtcbiAgICB1c2FnZTogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3VzYWdlJ107XG4gICAgd2FybmluZ3M6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+Wyd3YXJuaW5ncyddO1xuICAgIHByb3ZpZGVyTWV0YWRhdGE6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+Wydwcm92aWRlck1ldGFkYXRhJ107XG4gICAgcmVzcG9uc2U6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydyZXNwb25zZSddO1xuICAgIHJlcXVlc3Q6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydyZXF1ZXN0J107XG4gICAgcmVhc29uaW5nOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncmVhc29uaW5nJ107XG4gIH0pIHtcbiAgICB0aGlzLm9iamVjdCA9IG9wdGlvbnMub2JqZWN0O1xuICAgIHRoaXMuZmluaXNoUmVhc29uID0gb3B0aW9ucy5maW5pc2hSZWFzb247XG4gICAgdGhpcy51c2FnZSA9IG9wdGlvbnMudXNhZ2U7XG4gICAgdGhpcy53YXJuaW5ncyA9IG9wdGlvbnMud2FybmluZ3M7XG4gICAgdGhpcy5wcm92aWRlck1ldGFkYXRhID0gb3B0aW9ucy5wcm92aWRlck1ldGFkYXRhO1xuICAgIHRoaXMucmVzcG9uc2UgPSBvcHRpb25zLnJlc3BvbnNlO1xuICAgIHRoaXMucmVxdWVzdCA9IG9wdGlvbnMucmVxdWVzdDtcbiAgICB0aGlzLnJlYXNvbmluZyA9IG9wdGlvbnMucmVhc29uaW5nO1xuICB9XG5cbiAgdG9Kc29uUmVzcG9uc2UoaW5pdD86IFJlc3BvbnNlSW5pdCk6IFJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHRoaXMub2JqZWN0KSwge1xuICAgICAgc3RhdHVzOiBpbml0Py5zdGF0dXMgPz8gMjAwLFxuICAgICAgaGVhZGVyczogcHJlcGFyZUhlYWRlcnMoaW5pdD8uaGVhZGVycywge1xuICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBMYW5ndWFnZU1vZGVsVjJDb250ZW50LFxuICBMYW5ndWFnZU1vZGVsVjJSZWFzb25pbmcsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFJlYXNvbmluZ0NvbnRlbnQoXG4gIGNvbnRlbnQ6IExhbmd1YWdlTW9kZWxWMkNvbnRlbnRbXSxcbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IHBhcnRzID0gY29udGVudC5maWx0ZXIoXG4gICAgKGNvbnRlbnQpOiBjb250ZW50IGlzIExhbmd1YWdlTW9kZWxWMlJlYXNvbmluZyA9PlxuICAgICAgY29udGVudC50eXBlID09PSAncmVhc29uaW5nJyxcbiAgKTtcblxuICByZXR1cm4gcGFydHMubGVuZ3RoID09PSAwXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IHBhcnRzLm1hcChjb250ZW50ID0+IGNvbnRlbnQudGV4dCkuam9pbignXFxuJyk7XG59XG4iLCAiaW1wb3J0IHtcbiAgaXNKU09OQXJyYXksXG4gIGlzSlNPTk9iamVjdCxcbiAgSlNPTk9iamVjdCxcbiAgSlNPTlNjaGVtYTcsXG4gIEpTT05WYWx1ZSxcbiAgVHlwZVZhbGlkYXRpb25FcnJvcixcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgYXNTY2hlbWEsXG4gIHNhZmVWYWxpZGF0ZVR5cGVzLFxuICBTY2hlbWEsXG4gIFZhbGlkYXRpb25SZXN1bHQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0ICogYXMgejMgZnJvbSAnem9kL3YzJztcbmltcG9ydCAqIGFzIHo0IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBOb09iamVjdEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tb2JqZWN0LWdlbmVyYXRlZC1lcnJvcic7XG5pbXBvcnQge1xuICBBc3luY0l0ZXJhYmxlU3RyZWFtLFxuICBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtLFxufSBmcm9tICcuLi91dGlsL2FzeW5jLWl0ZXJhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBEZWVwUGFydGlhbCB9IGZyb20gJy4uL3V0aWwvZGVlcC1wYXJ0aWFsJztcbmltcG9ydCB7XG4gIEZpbmlzaFJlYXNvbixcbiAgTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEsXG4gIExhbmd1YWdlTW9kZWxVc2FnZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgT2JqZWN0U3RyZWFtUGFydCB9IGZyb20gJy4vc3RyZWFtLW9iamVjdC1yZXN1bHQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dFN0cmF0ZWd5PFBBUlRJQUwsIFJFU1VMVCwgRUxFTUVOVF9TVFJFQU0+IHtcbiAgcmVhZG9ubHkgdHlwZTogJ29iamVjdCcgfCAnYXJyYXknIHwgJ2VudW0nIHwgJ25vLXNjaGVtYSc7XG4gIHJlYWRvbmx5IGpzb25TY2hlbWE6IEpTT05TY2hlbWE3IHwgdW5kZWZpbmVkO1xuXG4gIHZhbGlkYXRlUGFydGlhbFJlc3VsdCh7XG4gICAgdmFsdWUsXG4gICAgdGV4dERlbHRhLFxuICAgIGlzRmluYWxEZWx0YSxcbiAgfToge1xuICAgIHZhbHVlOiBKU09OVmFsdWU7XG4gICAgdGV4dERlbHRhOiBzdHJpbmc7XG4gICAgaXNGaXJzdERlbHRhOiBib29sZWFuO1xuICAgIGlzRmluYWxEZWx0YTogYm9vbGVhbjtcbiAgICBsYXRlc3RPYmplY3Q6IFBBUlRJQUwgfCB1bmRlZmluZWQ7XG4gIH0pOiBQcm9taXNlPFxuICAgIFZhbGlkYXRpb25SZXN1bHQ8e1xuICAgICAgcGFydGlhbDogUEFSVElBTDtcbiAgICAgIHRleHREZWx0YTogc3RyaW5nO1xuICAgIH0+XG4gID47XG4gIHZhbGlkYXRlRmluYWxSZXN1bHQoXG4gICAgdmFsdWU6IEpTT05WYWx1ZSB8IHVuZGVmaW5lZCxcbiAgICBjb250ZXh0OiB7XG4gICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICAgIH0sXG4gICk6IFByb21pc2U8VmFsaWRhdGlvblJlc3VsdDxSRVNVTFQ+PjtcblxuICBjcmVhdGVFbGVtZW50U3RyZWFtKFxuICAgIG9yaWdpbmFsU3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+PixcbiAgKTogRUxFTUVOVF9TVFJFQU07XG59XG5cbmNvbnN0IG5vU2NoZW1hT3V0cHV0U3RyYXRlZ3k6IE91dHB1dFN0cmF0ZWd5PEpTT05WYWx1ZSwgSlNPTlZhbHVlLCBuZXZlcj4gPSB7XG4gIHR5cGU6ICduby1zY2hlbWEnLFxuICBqc29uU2NoZW1hOiB1bmRlZmluZWQsXG5cbiAgYXN5bmMgdmFsaWRhdGVQYXJ0aWFsUmVzdWx0KHsgdmFsdWUsIHRleHREZWx0YSB9KSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHsgcGFydGlhbDogdmFsdWUsIHRleHREZWx0YSB9IH07XG4gIH0sXG5cbiAgYXN5bmMgdmFsaWRhdGVGaW5hbFJlc3VsdChcbiAgICB2YWx1ZTogSlNPTlZhbHVlIHwgdW5kZWZpbmVkLFxuICAgIGNvbnRleHQ6IHtcbiAgICAgIHRleHQ6IHN0cmluZztcbiAgICAgIHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YTtcbiAgICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgICB9LFxuICApOiBQcm9taXNlPFZhbGlkYXRpb25SZXN1bHQ8SlNPTlZhbHVlPj4ge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgICAgICAgbWVzc2FnZTogJ05vIG9iamVjdCBnZW5lcmF0ZWQ6IHJlc3BvbnNlIGRpZCBub3QgbWF0Y2ggc2NoZW1hLicsXG4gICAgICAgICAgICB0ZXh0OiBjb250ZXh0LnRleHQsXG4gICAgICAgICAgICByZXNwb25zZTogY29udGV4dC5yZXNwb25zZSxcbiAgICAgICAgICAgIHVzYWdlOiBjb250ZXh0LnVzYWdlLFxuICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjb250ZXh0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICB9KSxcbiAgICAgICAgfVxuICAgICAgOiB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlIH07XG4gIH0sXG5cbiAgY3JlYXRlRWxlbWVudFN0cmVhbSgpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Ioe1xuICAgICAgZnVuY3Rpb25hbGl0eTogJ2VsZW1lbnQgc3RyZWFtcyBpbiBuby1zY2hlbWEgbW9kZScsXG4gICAgfSk7XG4gIH0sXG59O1xuXG5jb25zdCBvYmplY3RPdXRwdXRTdHJhdGVneSA9IDxPQkpFQ1Q+KFxuICBzY2hlbWE6IFNjaGVtYTxPQkpFQ1Q+LFxuKTogT3V0cHV0U3RyYXRlZ3k8RGVlcFBhcnRpYWw8T0JKRUNUPiwgT0JKRUNULCBuZXZlcj4gPT4gKHtcbiAgdHlwZTogJ29iamVjdCcsXG4gIGpzb25TY2hlbWE6IHNjaGVtYS5qc29uU2NoZW1hLFxuXG4gIGFzeW5jIHZhbGlkYXRlUGFydGlhbFJlc3VsdCh7IHZhbHVlLCB0ZXh0RGVsdGEgfSkge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgdmFsdWU6IHtcbiAgICAgICAgLy8gTm90ZTogY3VycmVudGx5IG5vIHZhbGlkYXRpb24gb2YgcGFydGlhbCByZXN1bHRzOlxuICAgICAgICBwYXJ0aWFsOiB2YWx1ZSBhcyBEZWVwUGFydGlhbDxPQkpFQ1Q+LFxuICAgICAgICB0ZXh0RGVsdGEsXG4gICAgICB9LFxuICAgIH07XG4gIH0sXG5cbiAgYXN5bmMgdmFsaWRhdGVGaW5hbFJlc3VsdChcbiAgICB2YWx1ZTogSlNPTlZhbHVlIHwgdW5kZWZpbmVkLFxuICApOiBQcm9taXNlPFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPj4ge1xuICAgIHJldHVybiBzYWZlVmFsaWRhdGVUeXBlcyh7IHZhbHVlLCBzY2hlbWEgfSk7XG4gIH0sXG5cbiAgY3JlYXRlRWxlbWVudFN0cmVhbSgpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Ioe1xuICAgICAgZnVuY3Rpb25hbGl0eTogJ2VsZW1lbnQgc3RyZWFtcyBpbiBvYmplY3QgbW9kZScsXG4gICAgfSk7XG4gIH0sXG59KTtcblxuY29uc3QgYXJyYXlPdXRwdXRTdHJhdGVneSA9IDxFTEVNRU5UPihcbiAgc2NoZW1hOiBTY2hlbWE8RUxFTUVOVD4sXG4pOiBPdXRwdXRTdHJhdGVneTxFTEVNRU5UW10sIEVMRU1FTlRbXSwgQXN5bmNJdGVyYWJsZVN0cmVhbTxFTEVNRU5UPj4gPT4ge1xuICAvLyByZW1vdmUgJHNjaGVtYSBmcm9tIHNjaGVtYS5qc29uU2NoZW1hOlxuICBjb25zdCB7ICRzY2hlbWEsIC4uLml0ZW1TY2hlbWEgfSA9IHNjaGVtYS5qc29uU2NoZW1hO1xuXG4gIHJldHVybiB7XG4gICAgdHlwZTogJ2VudW0nLFxuXG4gICAgLy8gd3JhcCBpbiBvYmplY3QgdGhhdCBjb250YWlucyBhcnJheSBvZiBlbGVtZW50cywgc2luY2UgbW9zdCBMTE1zIHdpbGwgbm90XG4gICAgLy8gYmUgYWJsZSB0byBnZW5lcmF0ZSBhbiBhcnJheSBkaXJlY3RseTpcbiAgICAvLyBwb3NzaWJsZSBmdXR1cmUgb3B0aW1pemF0aW9uOiB1c2UgYXJyYXlzIGRpcmVjdGx5IHdoZW4gbW9kZWwgc3VwcG9ydHMgZ3JhbW1hci1ndWlkZWQgZ2VuZXJhdGlvblxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICRzY2hlbWE6ICdodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSMnLFxuICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIGVsZW1lbnRzOiB7IHR5cGU6ICdhcnJheScsIGl0ZW1zOiBpdGVtU2NoZW1hIH0sXG4gICAgICB9LFxuICAgICAgcmVxdWlyZWQ6IFsnZWxlbWVudHMnXSxcbiAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICB9LFxuXG4gICAgYXN5bmMgdmFsaWRhdGVQYXJ0aWFsUmVzdWx0KHtcbiAgICAgIHZhbHVlLFxuICAgICAgbGF0ZXN0T2JqZWN0LFxuICAgICAgaXNGaXJzdERlbHRhLFxuICAgICAgaXNGaW5hbERlbHRhLFxuICAgIH0pIHtcbiAgICAgIC8vIGNoZWNrIHRoYXQgdGhlIHZhbHVlIGlzIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFuIGFycmF5IG9mIGVsZW1lbnRzOlxuICAgICAgaWYgKCFpc0pTT05PYmplY3QodmFsdWUpIHx8ICFpc0pTT05BcnJheSh2YWx1ZS5lbGVtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBjYXVzZTogJ3ZhbHVlIG11c3QgYmUgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYW4gYXJyYXkgb2YgZWxlbWVudHMnLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpbnB1dEFycmF5ID0gdmFsdWUuZWxlbWVudHMgYXMgQXJyYXk8SlNPTk9iamVjdD47XG4gICAgICBjb25zdCByZXN1bHRBcnJheTogQXJyYXk8RUxFTUVOVD4gPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBpbnB1dEFycmF5W2ldO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlcyh7IHZhbHVlOiBlbGVtZW50LCBzY2hlbWEgfSk7XG5cbiAgICAgICAgLy8gc3BlY2lhbCB0cmVhdG1lbnQgZm9yIGxhc3QgcHJvY2Vzc2VkIGVsZW1lbnQ6XG4gICAgICAgIC8vIGlnbm9yZSBwYXJzZSBvciB2YWxpZGF0aW9uIGZhaWx1cmVzLCBzaW5jZSB0aGV5IGluZGljYXRlIHRoYXQgdGhlXG4gICAgICAgIC8vIGxhc3QgZWxlbWVudCBpcyBpbmNvbXBsZXRlIGFuZCBzaG91bGQgbm90IGJlIGluY2x1ZGVkIGluIHRoZSByZXN1bHQsXG4gICAgICAgIC8vIHVubGVzcyBpdCBpcyB0aGUgZmluYWwgZGVsdGFcbiAgICAgICAgaWYgKGkgPT09IGlucHV0QXJyYXkubGVuZ3RoIC0gMSAmJiAhaXNGaW5hbERlbHRhKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdEFycmF5LnB1c2gocmVzdWx0LnZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgLy8gY2FsY3VsYXRlIGRlbHRhOlxuICAgICAgY29uc3QgcHVibGlzaGVkRWxlbWVudENvdW50ID0gbGF0ZXN0T2JqZWN0Py5sZW5ndGggPz8gMDtcblxuICAgICAgbGV0IHRleHREZWx0YSA9ICcnO1xuXG4gICAgICBpZiAoaXNGaXJzdERlbHRhKSB7XG4gICAgICAgIHRleHREZWx0YSArPSAnWyc7XG4gICAgICB9XG5cbiAgICAgIGlmIChwdWJsaXNoZWRFbGVtZW50Q291bnQgPiAwKSB7XG4gICAgICAgIHRleHREZWx0YSArPSAnLCc7XG4gICAgICB9XG5cbiAgICAgIHRleHREZWx0YSArPSByZXN1bHRBcnJheVxuICAgICAgICAuc2xpY2UocHVibGlzaGVkRWxlbWVudENvdW50KSAvLyBvbmx5IG5ldyBlbGVtZW50c1xuICAgICAgICAubWFwKGVsZW1lbnQgPT4gSlNPTi5zdHJpbmdpZnkoZWxlbWVudCkpXG4gICAgICAgIC5qb2luKCcsJyk7XG5cbiAgICAgIGlmIChpc0ZpbmFsRGVsdGEpIHtcbiAgICAgICAgdGV4dERlbHRhICs9ICddJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBwYXJ0aWFsOiByZXN1bHRBcnJheSxcbiAgICAgICAgICB0ZXh0RGVsdGEsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBhc3luYyB2YWxpZGF0ZUZpbmFsUmVzdWx0KFxuICAgICAgdmFsdWU6IEpTT05WYWx1ZSB8IHVuZGVmaW5lZCxcbiAgICApOiBQcm9taXNlPFZhbGlkYXRpb25SZXN1bHQ8QXJyYXk8RUxFTUVOVD4+PiB7XG4gICAgICAvLyBjaGVjayB0aGF0IHRoZSB2YWx1ZSBpcyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhbiBhcnJheSBvZiBlbGVtZW50czpcbiAgICAgIGlmICghaXNKU09OT2JqZWN0KHZhbHVlKSB8fCAhaXNKU09OQXJyYXkodmFsdWUuZWxlbWVudHMpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2F1c2U6ICd2YWx1ZSBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFuIGFycmF5IG9mIGVsZW1lbnRzJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5wdXRBcnJheSA9IHZhbHVlLmVsZW1lbnRzIGFzIEFycmF5PEpTT05PYmplY3Q+O1xuXG4gICAgICAvLyBjaGVjayB0aGF0IGVhY2ggZWxlbWVudCBpbiB0aGUgYXJyYXkgaXMgb2YgdGhlIGNvcnJlY3QgdHlwZTpcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBpbnB1dEFycmF5KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhZmVWYWxpZGF0ZVR5cGVzKHsgdmFsdWU6IGVsZW1lbnQsIHNjaGVtYSB9KTtcbiAgICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IGlucHV0QXJyYXkgYXMgQXJyYXk8RUxFTUVOVD4gfTtcbiAgICB9LFxuXG4gICAgY3JlYXRlRWxlbWVudFN0cmVhbShcbiAgICAgIG9yaWdpbmFsU3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxPYmplY3RTdHJlYW1QYXJ0PEVMRU1FTlRbXT4+LFxuICAgICkge1xuICAgICAgbGV0IHB1Ymxpc2hlZEVsZW1lbnRzID0gMDtcblxuICAgICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICAgIG9yaWdpbmFsU3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08T2JqZWN0U3RyZWFtUGFydDxFTEVNRU5UW10+LCBFTEVNRU5UPih7XG4gICAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChjaHVuay50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0Jzoge1xuICAgICAgICAgICAgICAgICAgY29uc3QgYXJyYXkgPSBjaHVuay5vYmplY3Q7XG5cbiAgICAgICAgICAgICAgICAgIC8vIHB1Ymxpc2ggbmV3IGVsZW1lbnRzIG9uZSBieSBvbmU6XG4gICAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlZEVsZW1lbnRzIDwgYXJyYXkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBwdWJsaXNoZWRFbGVtZW50cysrXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGFycmF5W3B1Ymxpc2hlZEVsZW1lbnRzXSk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQtZGVsdGEnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOiAvLyBzdXBwcmVzcyBlcnJvciAodXNlIG9uRXJyb3IgaW5zdGVhZClcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSBjaHVuaztcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYFVuc3VwcG9ydGVkIGNodW5rIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gLFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0sXG4gIH07XG59O1xuXG5jb25zdCBlbnVtT3V0cHV0U3RyYXRlZ3kgPSA8RU5VTSBleHRlbmRzIHN0cmluZz4oXG4gIGVudW1WYWx1ZXM6IEFycmF5PEVOVU0+LFxuKTogT3V0cHV0U3RyYXRlZ3k8c3RyaW5nLCBFTlVNLCBuZXZlcj4gPT4ge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdlbnVtJyxcblxuICAgIC8vIHdyYXAgaW4gb2JqZWN0IHRoYXQgY29udGFpbnMgcmVzdWx0LCBzaW5jZSBtb3N0IExMTXMgd2lsbCBub3RcbiAgICAvLyBiZSBhYmxlIHRvIGdlbmVyYXRlIGFuIGVudW0gdmFsdWUgZGlyZWN0bHk6XG4gICAgLy8gcG9zc2libGUgZnV0dXJlIG9wdGltaXphdGlvbjogdXNlIGVudW1zIGRpcmVjdGx5IHdoZW4gbW9kZWwgc3VwcG9ydHMgdG9wLWxldmVsIGVudW1zXG4gICAganNvblNjaGVtYToge1xuICAgICAgJHNjaGVtYTogJ2h0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIycsXG4gICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgcmVzdWx0OiB7IHR5cGU6ICdzdHJpbmcnLCBlbnVtOiBlbnVtVmFsdWVzIH0sXG4gICAgICB9LFxuICAgICAgcmVxdWlyZWQ6IFsncmVzdWx0J10sXG4gICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgfSxcblxuICAgIGFzeW5jIHZhbGlkYXRlRmluYWxSZXN1bHQoXG4gICAgICB2YWx1ZTogSlNPTlZhbHVlIHwgdW5kZWZpbmVkLFxuICAgICk6IFByb21pc2U8VmFsaWRhdGlvblJlc3VsdDxFTlVNPj4ge1xuICAgICAgLy8gY2hlY2sgdGhhdCB0aGUgdmFsdWUgaXMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYW4gYXJyYXkgb2YgZWxlbWVudHM6XG4gICAgICBpZiAoIWlzSlNPTk9iamVjdCh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnJlc3VsdCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBjYXVzZTpcbiAgICAgICAgICAgICAgJ3ZhbHVlIG11c3QgYmUgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBzdHJpbmcgaW4gdGhlIFwicmVzdWx0XCIgcHJvcGVydHkuJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUucmVzdWx0IGFzIHN0cmluZztcblxuICAgICAgcmV0dXJuIGVudW1WYWx1ZXMuaW5jbHVkZXMocmVzdWx0IGFzIEVOVU0pXG4gICAgICAgID8geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0IGFzIEVOVU0gfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIGNhdXNlOiAndmFsdWUgbXVzdCBiZSBhIHN0cmluZyBpbiB0aGUgZW51bScsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9O1xuICAgIH0sXG5cbiAgICBhc3luYyB2YWxpZGF0ZVBhcnRpYWxSZXN1bHQoeyB2YWx1ZSwgdGV4dERlbHRhIH0pIHtcbiAgICAgIGlmICghaXNKU09OT2JqZWN0KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUucmVzdWx0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNhdXNlOlxuICAgICAgICAgICAgICAndmFsdWUgbXVzdCBiZSBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIHN0cmluZyBpbiB0aGUgXCJyZXN1bHRcIiBwcm9wZXJ0eS4nLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZS5yZXN1bHQgYXMgc3RyaW5nO1xuICAgICAgY29uc3QgcG9zc2libGVFbnVtVmFsdWVzID0gZW51bVZhbHVlcy5maWx0ZXIoZW51bVZhbHVlID0+XG4gICAgICAgIGVudW1WYWx1ZS5zdGFydHNXaXRoKHJlc3VsdCksXG4gICAgICApO1xuXG4gICAgICBpZiAodmFsdWUucmVzdWx0Lmxlbmd0aCA9PT0gMCB8fCBwb3NzaWJsZUVudW1WYWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2F1c2U6ICd2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIGluIHRoZSBlbnVtJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBwYXJ0aWFsOlxuICAgICAgICAgICAgcG9zc2libGVFbnVtVmFsdWVzLmxlbmd0aCA+IDEgPyByZXN1bHQgOiBwb3NzaWJsZUVudW1WYWx1ZXNbMF0sXG4gICAgICAgICAgdGV4dERlbHRhLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgY3JlYXRlRWxlbWVudFN0cmVhbSgpIHtcbiAgICAgIC8vIG5vIHN0cmVhbWluZyBpbiBlbnVtIG1vZGVcbiAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICAgIGZ1bmN0aW9uYWxpdHk6ICdlbGVtZW50IHN0cmVhbXMgaW4gZW51bSBtb2RlJyxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3V0cHV0U3RyYXRlZ3k8U0NIRU1BPih7XG4gIG91dHB1dCxcbiAgc2NoZW1hLFxuICBlbnVtVmFsdWVzLFxufToge1xuICBvdXRwdXQ6ICdvYmplY3QnIHwgJ2FycmF5JyB8ICdlbnVtJyB8ICduby1zY2hlbWEnO1xuICBzY2hlbWE/OlxuICAgIHwgejQuY29yZS4kWm9kVHlwZTxTQ0hFTUEsIGFueT5cbiAgICB8IHozLlNjaGVtYTxTQ0hFTUEsIHozLlpvZFR5cGVEZWYsIGFueT5cbiAgICB8IFNjaGVtYTxTQ0hFTUE+O1xuICBlbnVtVmFsdWVzPzogQXJyYXk8U0NIRU1BPjtcbn0pOiBPdXRwdXRTdHJhdGVneTxhbnksIGFueSwgYW55PiB7XG4gIHN3aXRjaCAob3V0cHV0KSB7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHJldHVybiBvYmplY3RPdXRwdXRTdHJhdGVneShhc1NjaGVtYShzY2hlbWEhKSk7XG4gICAgY2FzZSAnYXJyYXknOlxuICAgICAgcmV0dXJuIGFycmF5T3V0cHV0U3RyYXRlZ3koYXNTY2hlbWEoc2NoZW1hISkpO1xuICAgIGNhc2UgJ2VudW0nOlxuICAgICAgcmV0dXJuIGVudW1PdXRwdXRTdHJhdGVneShlbnVtVmFsdWVzISBhcyBBcnJheTxzdHJpbmc+KTtcbiAgICBjYXNlICduby1zY2hlbWEnOlxuICAgICAgcmV0dXJuIG5vU2NoZW1hT3V0cHV0U3RyYXRlZ3k7XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSBvdXRwdXQ7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIG91dHB1dDogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IEpTT05QYXJzZUVycm9yLCBUeXBlVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBzYWZlUGFyc2VKU09OIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBOb09iamVjdEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tb2JqZWN0LWdlbmVyYXRlZC1lcnJvcic7XG5pbXBvcnQgdHlwZSB7XG4gIEZpbmlzaFJlYXNvbixcbiAgTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEsXG4gIExhbmd1YWdlTW9kZWxVc2FnZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBPdXRwdXRTdHJhdGVneSB9IGZyb20gJy4vb3V0cHV0LXN0cmF0ZWd5JztcbmltcG9ydCB7IFJlcGFpclRleHRGdW5jdGlvbiB9IGZyb20gJy4vcmVwYWlyLXRleHQnO1xuXG4vKipcbiAqIFBhcnNlcyBhbmQgdmFsaWRhdGVzIGEgcmVzdWx0IHN0cmluZyBieSBwYXJzaW5nIGl0IGFzIEpTT04gYW5kIHZhbGlkYXRpbmcgYWdhaW5zdCB0aGUgb3V0cHV0IHN0cmF0ZWd5LlxuICpcbiAqIEBwYXJhbSByZXN1bHQgLSBUaGUgcmVzdWx0IHN0cmluZyB0byBwYXJzZSBhbmQgdmFsaWRhdGVcbiAqIEBwYXJhbSBvdXRwdXRTdHJhdGVneSAtIFRoZSBvdXRwdXQgc3RyYXRlZ3kgY29udGFpbmluZyB2YWxpZGF0aW9uIGxvZ2ljXG4gKiBAcGFyYW0gY29udGV4dCAtIEFkZGl0aW9uYWwgY29udGV4dCBmb3IgZXJyb3IgcmVwb3J0aW5nXG4gKiBAcmV0dXJucyBUaGUgdmFsaWRhdGVkIHJlc3VsdFxuICogQHRocm93cyBOb09iamVjdEdlbmVyYXRlZEVycm9yIGlmIHBhcnNpbmcgb3IgdmFsaWRhdGlvbiBmYWlsc1xuICovXG5hc3luYyBmdW5jdGlvbiBwYXJzZUFuZFZhbGlkYXRlT2JqZWN0UmVzdWx0PFJFU1VMVD4oXG4gIHJlc3VsdDogc3RyaW5nLFxuICBvdXRwdXRTdHJhdGVneTogT3V0cHV0U3RyYXRlZ3k8YW55LCBSRVNVTFQsIGFueT4sXG4gIGNvbnRleHQ6IHtcbiAgICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgfSxcbik6IFByb21pc2U8UkVTVUxUPiB7XG4gIGNvbnN0IHBhcnNlUmVzdWx0ID0gYXdhaXQgc2FmZVBhcnNlSlNPTih7IHRleHQ6IHJlc3VsdCB9KTtcblxuICBpZiAoIXBhcnNlUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICB0aHJvdyBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICBtZXNzYWdlOiAnTm8gb2JqZWN0IGdlbmVyYXRlZDogY291bGQgbm90IHBhcnNlIHRoZSByZXNwb25zZS4nLFxuICAgICAgY2F1c2U6IHBhcnNlUmVzdWx0LmVycm9yLFxuICAgICAgdGV4dDogcmVzdWx0LFxuICAgICAgcmVzcG9uc2U6IGNvbnRleHQucmVzcG9uc2UsXG4gICAgICB1c2FnZTogY29udGV4dC51c2FnZSxcbiAgICAgIGZpbmlzaFJlYXNvbjogY29udGV4dC5maW5pc2hSZWFzb24sXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gYXdhaXQgb3V0cHV0U3RyYXRlZ3kudmFsaWRhdGVGaW5hbFJlc3VsdChcbiAgICBwYXJzZVJlc3VsdC52YWx1ZSxcbiAgICB7XG4gICAgICB0ZXh0OiByZXN1bHQsXG4gICAgICByZXNwb25zZTogY29udGV4dC5yZXNwb25zZSxcbiAgICAgIHVzYWdlOiBjb250ZXh0LnVzYWdlLFxuICAgIH0sXG4gICk7XG5cbiAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICB0aHJvdyBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICBtZXNzYWdlOiAnTm8gb2JqZWN0IGdlbmVyYXRlZDogcmVzcG9uc2UgZGlkIG5vdCBtYXRjaCBzY2hlbWEuJyxcbiAgICAgIGNhdXNlOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9yLFxuICAgICAgdGV4dDogcmVzdWx0LFxuICAgICAgcmVzcG9uc2U6IGNvbnRleHQucmVzcG9uc2UsXG4gICAgICB1c2FnZTogY29udGV4dC51c2FnZSxcbiAgICAgIGZpbmlzaFJlYXNvbjogY29udGV4dC5maW5pc2hSZWFzb24sXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdmFsaWRhdGlvblJlc3VsdC52YWx1ZTtcbn1cblxuLyoqXG4gKiBQYXJzZXMgYW5kIHZhbGlkYXRlcyBhIHJlc3VsdCBzdHJpbmcgYnkgcGFyc2luZyBpdCBhcyBKU09OIGFuZCB2YWxpZGF0aW5nIGFnYWluc3QgdGhlIG91dHB1dCBzdHJhdGVneS5cbiAqIElmIHRoZSByZXN1bHQgY2Fubm90IGJlIHBhcnNlZCwgaXQgYXR0ZW1wdHMgdG8gcmVwYWlyIHRoZSByZXN1bHQgdXNpbmcgdGhlIHJlcGFpclRleHQgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHJlc3VsdCAtIFRoZSByZXN1bHQgc3RyaW5nIHRvIHBhcnNlIGFuZCB2YWxpZGF0ZVxuICogQHBhcmFtIG91dHB1dFN0cmF0ZWd5IC0gVGhlIG91dHB1dCBzdHJhdGVneSBjb250YWluaW5nIHZhbGlkYXRpb24gbG9naWNcbiAqIEBwYXJhbSByZXBhaXJUZXh0IC0gQSBmdW5jdGlvbiB0aGF0IGF0dGVtcHRzIHRvIHJlcGFpciB0aGUgcmVzdWx0IHN0cmluZ1xuICogQHBhcmFtIGNvbnRleHQgLSBBZGRpdGlvbmFsIGNvbnRleHQgZm9yIGVycm9yIHJlcG9ydGluZ1xuICogQHJldHVybnMgVGhlIHZhbGlkYXRlZCByZXN1bHRcbiAqIEB0aHJvd3MgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciBpZiBwYXJzaW5nIG9yIHZhbGlkYXRpb24gZmFpbHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlQW5kVmFsaWRhdGVPYmplY3RSZXN1bHRXaXRoUmVwYWlyPFJFU1VMVD4oXG4gIHJlc3VsdDogc3RyaW5nLFxuICBvdXRwdXRTdHJhdGVneTogT3V0cHV0U3RyYXRlZ3k8YW55LCBSRVNVTFQsIGFueT4sXG4gIHJlcGFpclRleHQ6IFJlcGFpclRleHRGdW5jdGlvbiB8IHVuZGVmaW5lZCxcbiAgY29udGV4dDoge1xuICAgIHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YTtcbiAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICAgIGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uO1xuICB9LFxuKTogUHJvbWlzZTxSRVNVTFQ+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgcGFyc2VBbmRWYWxpZGF0ZU9iamVjdFJlc3VsdChyZXN1bHQsIG91dHB1dFN0cmF0ZWd5LCBjb250ZXh0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoXG4gICAgICByZXBhaXJUZXh0ICE9IG51bGwgJiZcbiAgICAgIE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgJiZcbiAgICAgIChKU09OUGFyc2VFcnJvci5pc0luc3RhbmNlKGVycm9yLmNhdXNlKSB8fFxuICAgICAgICBUeXBlVmFsaWRhdGlvbkVycm9yLmlzSW5zdGFuY2UoZXJyb3IuY2F1c2UpKVxuICAgICkge1xuICAgICAgY29uc3QgcmVwYWlyZWRUZXh0ID0gYXdhaXQgcmVwYWlyVGV4dCh7XG4gICAgICAgIHRleHQ6IHJlc3VsdCxcbiAgICAgICAgZXJyb3I6IGVycm9yLmNhdXNlLFxuICAgICAgfSk7XG4gICAgICBpZiAocmVwYWlyZWRUZXh0ID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF3YWl0IHBhcnNlQW5kVmFsaWRhdGVPYmplY3RSZXN1bHQoXG4gICAgICAgIHJlcGFpcmVkVGV4dCxcbiAgICAgICAgb3V0cHV0U3RyYXRlZ3ksXG4gICAgICAgIGNvbnRleHQsXG4gICAgICApO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuIiwgImltcG9ydCB7IFNjaGVtYSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0ICogYXMgejMgZnJvbSAnem9kL3YzJztcbmltcG9ydCAqIGFzIHo0IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJy4uL2Vycm9yL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVPYmplY3RHZW5lcmF0aW9uSW5wdXQoe1xuICBvdXRwdXQsXG4gIHNjaGVtYSxcbiAgc2NoZW1hTmFtZSxcbiAgc2NoZW1hRGVzY3JpcHRpb24sXG4gIGVudW1WYWx1ZXMsXG59OiB7XG4gIG91dHB1dD86ICdvYmplY3QnIHwgJ2FycmF5JyB8ICdlbnVtJyB8ICduby1zY2hlbWEnO1xuICBzY2hlbWE/OiB6NC5jb3JlLiRab2RUeXBlIHwgejMuU2NoZW1hPGFueSwgejMuWm9kVHlwZURlZiwgYW55PiB8IFNjaGVtYTxhbnk+O1xuICBzY2hlbWFOYW1lPzogc3RyaW5nO1xuICBzY2hlbWFEZXNjcmlwdGlvbj86IHN0cmluZztcbiAgZW51bVZhbHVlcz86IEFycmF5PHVua25vd24+O1xufSkge1xuICBpZiAoXG4gICAgb3V0cHV0ICE9IG51bGwgJiZcbiAgICBvdXRwdXQgIT09ICdvYmplY3QnICYmXG4gICAgb3V0cHV0ICE9PSAnYXJyYXknICYmXG4gICAgb3V0cHV0ICE9PSAnZW51bScgJiZcbiAgICBvdXRwdXQgIT09ICduby1zY2hlbWEnXG4gICkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICBwYXJhbWV0ZXI6ICdvdXRwdXQnLFxuICAgICAgdmFsdWU6IG91dHB1dCxcbiAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIG91dHB1dCB0eXBlLicsXG4gICAgfSk7XG4gIH1cblxuICBpZiAob3V0cHV0ID09PSAnbm8tc2NoZW1hJykge1xuICAgIGlmIChzY2hlbWEgIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnc2NoZW1hJyxcbiAgICAgICAgdmFsdWU6IHNjaGVtYSxcbiAgICAgICAgbWVzc2FnZTogJ1NjaGVtYSBpcyBub3Qgc3VwcG9ydGVkIGZvciBuby1zY2hlbWEgb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2NoZW1hRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnc2NoZW1hRGVzY3JpcHRpb24nLFxuICAgICAgICB2YWx1ZTogc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgICAgIG1lc3NhZ2U6ICdTY2hlbWEgZGVzY3JpcHRpb24gaXMgbm90IHN1cHBvcnRlZCBmb3Igbm8tc2NoZW1hIG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYU5hbWUgIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnc2NoZW1hTmFtZScsXG4gICAgICAgIHZhbHVlOiBzY2hlbWFOYW1lLFxuICAgICAgICBtZXNzYWdlOiAnU2NoZW1hIG5hbWUgaXMgbm90IHN1cHBvcnRlZCBmb3Igbm8tc2NoZW1hIG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGVudW1WYWx1ZXMgIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnZW51bVZhbHVlcycsXG4gICAgICAgIHZhbHVlOiBlbnVtVmFsdWVzLFxuICAgICAgICBtZXNzYWdlOiAnRW51bSB2YWx1ZXMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIG5vLXNjaGVtYSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChvdXRwdXQgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKHNjaGVtYSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWEnLFxuICAgICAgICB2YWx1ZTogc2NoZW1hLFxuICAgICAgICBtZXNzYWdlOiAnU2NoZW1hIGlzIHJlcXVpcmVkIGZvciBvYmplY3Qgb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZW51bVZhbHVlcyAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdlbnVtVmFsdWVzJyxcbiAgICAgICAgdmFsdWU6IGVudW1WYWx1ZXMsXG4gICAgICAgIG1lc3NhZ2U6ICdFbnVtIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBmb3Igb2JqZWN0IG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG91dHB1dCA9PT0gJ2FycmF5Jykge1xuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnc2NoZW1hJyxcbiAgICAgICAgdmFsdWU6IHNjaGVtYSxcbiAgICAgICAgbWVzc2FnZTogJ0VsZW1lbnQgc2NoZW1hIGlzIHJlcXVpcmVkIGZvciBhcnJheSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbnVtVmFsdWVzICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ2VudW1WYWx1ZXMnLFxuICAgICAgICB2YWx1ZTogZW51bVZhbHVlcyxcbiAgICAgICAgbWVzc2FnZTogJ0VudW0gdmFsdWVzIGFyZSBub3Qgc3VwcG9ydGVkIGZvciBhcnJheSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChvdXRwdXQgPT09ICdlbnVtJykge1xuICAgIGlmIChzY2hlbWEgIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnc2NoZW1hJyxcbiAgICAgICAgdmFsdWU6IHNjaGVtYSxcbiAgICAgICAgbWVzc2FnZTogJ1NjaGVtYSBpcyBub3Qgc3VwcG9ydGVkIGZvciBlbnVtIG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3NjaGVtYURlc2NyaXB0aW9uJyxcbiAgICAgICAgdmFsdWU6IHNjaGVtYURlc2NyaXB0aW9uLFxuICAgICAgICBtZXNzYWdlOiAnU2NoZW1hIGRlc2NyaXB0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIGVudW0gb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2NoZW1hTmFtZSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWFOYW1lJyxcbiAgICAgICAgdmFsdWU6IHNjaGVtYU5hbWUsXG4gICAgICAgIG1lc3NhZ2U6ICdTY2hlbWEgbmFtZSBpcyBub3Qgc3VwcG9ydGVkIGZvciBlbnVtIG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGVudW1WYWx1ZXMgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnZW51bVZhbHVlcycsXG4gICAgICAgIHZhbHVlOiBlbnVtVmFsdWVzLFxuICAgICAgICBtZXNzYWdlOiAnRW51bSB2YWx1ZXMgYXJlIHJlcXVpcmVkIGZvciBlbnVtIG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiBlbnVtVmFsdWVzKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICAgIHBhcmFtZXRlcjogJ2VudW1WYWx1ZXMnLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG1lc3NhZ2U6ICdFbnVtIHZhbHVlcyBtdXN0IGJlIHN0cmluZ3MuJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgSlNPTlZhbHVlLFxuICBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZyxcbiAgTGFuZ3VhZ2VNb2RlbFYyRmluaXNoUmVhc29uLFxuICBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0LFxuICBMYW5ndWFnZU1vZGVsVjJVc2FnZSxcbiAgU2hhcmVkVjJQcm92aWRlck1ldGFkYXRhLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZUlkR2VuZXJhdG9yLFxuICBQcm92aWRlck9wdGlvbnMsXG4gIHR5cGUgSW5mZXJTY2hlbWEsXG4gIHR5cGUgU2NoZW1hLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFNlcnZlclJlc3BvbnNlIH0gZnJvbSAnaHR0cCc7XG5pbXBvcnQgKiBhcyB6MyBmcm9tICd6b2QvdjMnO1xuaW1wb3J0ICogYXMgejQgZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IGxvZ1dhcm5pbmdzIH0gZnJvbSAnLi4vbG9nZ2VyL2xvZy13YXJuaW5ncyc7XG5pbXBvcnQgeyByZXNvbHZlTGFuZ3VhZ2VNb2RlbCB9IGZyb20gJy4uL21vZGVsL3Jlc29sdmUtbW9kZWwnO1xuaW1wb3J0IHsgQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L2NhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCB9IGZyb20gJy4uL3Byb21wdC9jb252ZXJ0LXRvLWxhbmd1YWdlLW1vZGVsLXByb21wdCc7XG5pbXBvcnQgeyBwcmVwYXJlQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L3ByZXBhcmUtY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvcHJvbXB0JztcbmltcG9ydCB7IHN0YW5kYXJkaXplUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3N0YW5kYXJkaXplLXByb21wdCc7XG5pbXBvcnQgeyB3cmFwR2F0ZXdheUVycm9yIH0gZnJvbSAnLi4vcHJvbXB0L3dyYXAtZ2F0ZXdheS1lcnJvcic7XG5pbXBvcnQgeyBhc3NlbWJsZU9wZXJhdGlvbk5hbWUgfSBmcm9tICcuLi90ZWxlbWV0cnkvYXNzZW1ibGUtb3BlcmF0aW9uLW5hbWUnO1xuaW1wb3J0IHsgZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgZ2V0VHJhY2VyIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC10cmFjZXInO1xuaW1wb3J0IHsgcmVjb3JkU3BhbiB9IGZyb20gJy4uL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbic7XG5pbXBvcnQgeyBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBzdHJpbmdpZnlGb3JUZWxlbWV0cnkgfSBmcm9tICcuLi90ZWxlbWV0cnkvc3RyaW5naWZ5LWZvci10ZWxlbWV0cnknO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7IGNyZWF0ZVRleHRTdHJlYW1SZXNwb25zZSB9IGZyb20gJy4uL3RleHQtc3RyZWFtL2NyZWF0ZS10ZXh0LXN0cmVhbS1yZXNwb25zZSc7XG5pbXBvcnQgeyBwaXBlVGV4dFN0cmVhbVRvUmVzcG9uc2UgfSBmcm9tICcuLi90ZXh0LXN0cmVhbS9waXBlLXRleHQtc3RyZWFtLXRvLXJlc3BvbnNlJztcbmltcG9ydCB7XG4gIENhbGxXYXJuaW5nLFxuICBGaW5pc2hSZWFzb24sXG4gIExhbmd1YWdlTW9kZWwsXG59IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxSZXF1ZXN0TWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbC1yZXF1ZXN0LW1ldGFkYXRhJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuaW1wb3J0IHsgUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxVc2FnZSB9IGZyb20gJy4uL3R5cGVzL3VzYWdlJztcbmltcG9ydCB7IERlZXBQYXJ0aWFsLCBpc0RlZXBFcXVhbERhdGEsIHBhcnNlUGFydGlhbEpzb24gfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7XG4gIEFzeW5jSXRlcmFibGVTdHJlYW0sXG4gIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0sXG59IGZyb20gJy4uL3V0aWwvYXN5bmMtaXRlcmFibGUtc3RyZWFtJztcbmltcG9ydCB7IGNyZWF0ZVN0aXRjaGFibGVTdHJlYW0gfSBmcm9tICcuLi91dGlsL2NyZWF0ZS1zdGl0Y2hhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBEZWxheWVkUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvZGVsYXllZC1wcm9taXNlJztcbmltcG9ydCB7IERvd25sb2FkRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWZ1bmN0aW9uJztcbmltcG9ydCB7IG5vdyBhcyBvcmlnaW5hbE5vdyB9IGZyb20gJy4uL3V0aWwvbm93JztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgZ2V0T3V0cHV0U3RyYXRlZ3ksIE91dHB1dFN0cmF0ZWd5IH0gZnJvbSAnLi9vdXRwdXQtc3RyYXRlZ3knO1xuaW1wb3J0IHsgcGFyc2VBbmRWYWxpZGF0ZU9iamVjdFJlc3VsdFdpdGhSZXBhaXIgfSBmcm9tICcuL3BhcnNlLWFuZC12YWxpZGF0ZS1vYmplY3QtcmVzdWx0JztcbmltcG9ydCB7IFJlcGFpclRleHRGdW5jdGlvbiB9IGZyb20gJy4vcmVwYWlyLXRleHQnO1xuaW1wb3J0IHsgT2JqZWN0U3RyZWFtUGFydCwgU3RyZWFtT2JqZWN0UmVzdWx0IH0gZnJvbSAnLi9zdHJlYW0tb2JqZWN0LXJlc3VsdCc7XG5pbXBvcnQgeyB2YWxpZGF0ZU9iamVjdEdlbmVyYXRpb25JbnB1dCB9IGZyb20gJy4vdmFsaWRhdGUtb2JqZWN0LWdlbmVyYXRpb24taW5wdXQnO1xuXG5jb25zdCBvcmlnaW5hbEdlbmVyYXRlSWQgPSBjcmVhdGVJZEdlbmVyYXRvcih7IHByZWZpeDogJ2Fpb2JqJywgc2l6ZTogMjQgfSk7XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvbkVycm9yYCBvcHRpb24uXG5cbkBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbU9iamVjdE9uRXJyb3JDYWxsYmFjayA9IChldmVudDoge1xuICBlcnJvcjogdW5rbm93bjtcbn0pID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xuXG4vKipcbkNhbGxiYWNrIHRoYXQgaXMgc2V0IHVzaW5nIHRoZSBgb25GaW5pc2hgIG9wdGlvbi5cblxuQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtT2JqZWN0T25GaW5pc2hDYWxsYmFjazxSRVNVTFQ+ID0gKGV2ZW50OiB7XG4gIC8qKlxuVGhlIHRva2VuIHVzYWdlIG9mIHRoZSBnZW5lcmF0ZWQgcmVzcG9uc2UuXG4qL1xuICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuXG4gIC8qKlxuVGhlIGdlbmVyYXRlZCBvYmplY3QuIENhbiBiZSB1bmRlZmluZWQgaWYgdGhlIGZpbmFsIG9iamVjdCBkb2VzIG5vdCBtYXRjaCB0aGUgc2NoZW1hLlxuKi9cbiAgb2JqZWN0OiBSRVNVTFQgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG5PcHRpb25hbCBlcnJvciBvYmplY3QuIFRoaXMgaXMgZS5nLiBhIFR5cGVWYWxpZGF0aW9uRXJyb3Igd2hlbiB0aGUgZmluYWwgb2JqZWN0IGRvZXMgbm90IG1hdGNoIHRoZSBzY2hlbWEuXG4qL1xuICBlcnJvcjogdW5rbm93biB8IHVuZGVmaW5lZDtcblxuICAvKipcblJlc3BvbnNlIG1ldGFkYXRhLlxuICovXG4gIHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YTtcblxuICAvKipcbldhcm5pbmdzIGZyb20gdGhlIG1vZGVsIHByb3ZpZGVyIChlLmcuIHVuc3VwcG9ydGVkIHNldHRpbmdzKS5cbiovXG4gIHdhcm5pbmdzPzogQ2FsbFdhcm5pbmdbXTtcblxuICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiovXG4gIHByb3ZpZGVyTWV0YWRhdGE6IFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG59KSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcblxuLyoqXG5HZW5lcmF0ZSBhIHN0cnVjdHVyZWQsIHR5cGVkIG9iamVjdCBmb3IgYSBnaXZlbiBwcm9tcHQgYW5kIHNjaGVtYSB1c2luZyBhIGxhbmd1YWdlIG1vZGVsLlxuXG5UaGlzIGZ1bmN0aW9uIHN0cmVhbXMgdGhlIG91dHB1dC4gSWYgeW91IGRvIG5vdCB3YW50IHRvIHN0cmVhbSB0aGUgb3V0cHV0LCB1c2UgYGdlbmVyYXRlT2JqZWN0YCBpbnN0ZWFkLlxuXG5AcGFyYW0gbW9kZWwgLSBUaGUgbGFuZ3VhZ2UgbW9kZWwgdG8gdXNlLlxuQHBhcmFtIHRvb2xzIC0gVG9vbHMgdGhhdCBhcmUgYWNjZXNzaWJsZSB0byBhbmQgY2FuIGJlIGNhbGxlZCBieSB0aGUgbW9kZWwuIFRoZSBtb2RlbCBuZWVkcyB0byBzdXBwb3J0IGNhbGxpbmcgdG9vbHMuXG5cbkBwYXJhbSBzeXN0ZW0gLSBBIHN5c3RlbSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBwYXJ0IG9mIHRoZSBwcm9tcHQuXG5AcGFyYW0gcHJvbXB0IC0gQSBzaW1wbGUgdGV4dCBwcm9tcHQuIFlvdSBjYW4gZWl0aGVyIHVzZSBgcHJvbXB0YCBvciBgbWVzc2FnZXNgIGJ1dCBub3QgYm90aC5cbkBwYXJhbSBtZXNzYWdlcyAtIEEgbGlzdCBvZiBtZXNzYWdlcy4gWW91IGNhbiBlaXRoZXIgdXNlIGBwcm9tcHRgIG9yIGBtZXNzYWdlc2AgYnV0IG5vdCBib3RoLlxuXG5AcGFyYW0gbWF4T3V0cHV0VG9rZW5zIC0gTWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIHRvIGdlbmVyYXRlLlxuQHBhcmFtIHRlbXBlcmF0dXJlIC0gVGVtcGVyYXR1cmUgc2V0dGluZy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5JdCBpcyByZWNvbW1lbmRlZCB0byBzZXQgZWl0aGVyIGB0ZW1wZXJhdHVyZWAgb3IgYHRvcFBgLCBidXQgbm90IGJvdGguXG5AcGFyYW0gdG9wUCAtIE51Y2xldXMgc2FtcGxpbmcuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGVpdGhlciBgdGVtcGVyYXR1cmVgIG9yIGB0b3BQYCwgYnV0IG5vdCBib3RoLlxuQHBhcmFtIHRvcEsgLSBPbmx5IHNhbXBsZSBmcm9tIHRoZSB0b3AgSyBvcHRpb25zIGZvciBlYWNoIHN1YnNlcXVlbnQgdG9rZW4uXG5Vc2VkIHRvIHJlbW92ZSBcImxvbmcgdGFpbFwiIGxvdyBwcm9iYWJpbGl0eSByZXNwb25zZXMuXG5SZWNvbW1lbmRlZCBmb3IgYWR2YW5jZWQgdXNlIGNhc2VzIG9ubHkuIFlvdSB1c3VhbGx5IG9ubHkgbmVlZCB0byB1c2UgdGVtcGVyYXR1cmUuXG5AcGFyYW0gcHJlc2VuY2VQZW5hbHR5IC0gUHJlc2VuY2UgcGVuYWx0eSBzZXR0aW5nLlxuSXQgYWZmZWN0cyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgdG8gcmVwZWF0IGluZm9ybWF0aW9uIHRoYXQgaXMgYWxyZWFkeSBpbiB0aGUgcHJvbXB0LlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkBwYXJhbSBmcmVxdWVuY3lQZW5hbHR5IC0gRnJlcXVlbmN5IHBlbmFsdHkgc2V0dGluZy5cbkl0IGFmZmVjdHMgdGhlIGxpa2VsaWhvb2Qgb2YgdGhlIG1vZGVsIHRvIHJlcGVhdGVkbHkgdXNlIHRoZSBzYW1lIHdvcmRzIG9yIHBocmFzZXMuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuQHBhcmFtIHN0b3BTZXF1ZW5jZXMgLSBTdG9wIHNlcXVlbmNlcy5cbklmIHNldCwgdGhlIG1vZGVsIHdpbGwgc3RvcCBnZW5lcmF0aW5nIHRleHQgd2hlbiBvbmUgb2YgdGhlIHN0b3Agc2VxdWVuY2VzIGlzIGdlbmVyYXRlZC5cbkBwYXJhbSBzZWVkIC0gVGhlIHNlZWQgKGludGVnZXIpIHRvIHVzZSBmb3IgcmFuZG9tIHNhbXBsaW5nLlxuSWYgc2V0IGFuZCBzdXBwb3J0ZWQgYnkgdGhlIG1vZGVsLCBjYWxscyB3aWxsIGdlbmVyYXRlIGRldGVybWluaXN0aWMgcmVzdWx0cy5cblxuQHBhcmFtIG1heFJldHJpZXMgLSBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuIERlZmF1bHQ6IDIuXG5AcGFyYW0gYWJvcnRTaWduYWwgLSBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGwuXG5AcGFyYW0gaGVhZGVycyAtIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cblxuQHBhcmFtIHNjaGVtYSAtIFRoZSBzY2hlbWEgb2YgdGhlIG9iamVjdCB0aGF0IHRoZSBtb2RlbCBzaG91bGQgZ2VuZXJhdGUuXG5AcGFyYW0gc2NoZW1hTmFtZSAtIE9wdGlvbmFsIG5hbWUgb2YgdGhlIG91dHB1dCB0aGF0IHNob3VsZCBiZSBnZW5lcmF0ZWQuXG5Vc2VkIGJ5IHNvbWUgcHJvdmlkZXJzIGZvciBhZGRpdGlvbmFsIExMTSBndWlkYW5jZSwgZS5nLlxudmlhIHRvb2wgb3Igc2NoZW1hIG5hbWUuXG5AcGFyYW0gc2NoZW1hRGVzY3JpcHRpb24gLSBPcHRpb25hbCBkZXNjcmlwdGlvbiBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgZGVzY3JpcHRpb24uXG5cbkBwYXJhbSBvdXRwdXQgLSBUaGUgdHlwZSBvZiB0aGUgb3V0cHV0LlxuXG4tICdvYmplY3QnOiBUaGUgb3V0cHV0IGlzIGFuIG9iamVjdC5cbi0gJ2FycmF5JzogVGhlIG91dHB1dCBpcyBhbiBhcnJheS5cbi0gJ2VudW0nOiBUaGUgb3V0cHV0IGlzIGFuIGVudW0uXG4tICduby1zY2hlbWEnOiBUaGUgb3V0cHV0IGlzIG5vdCBhIHNjaGVtYS5cblxuQHBhcmFtIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnkgLSBPcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cblxuQHBhcmFtIHByb3ZpZGVyT3B0aW9ucyAtIEFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuXG5AcmV0dXJuc1xuQSByZXN1bHQgb2JqZWN0IGZvciBhY2Nlc3NpbmcgdGhlIHBhcnRpYWwgb2JqZWN0IHN0cmVhbSBhbmQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmVhbU9iamVjdDxcbiAgU0NIRU1BIGV4dGVuZHNcbiAgICB8IHozLlNjaGVtYVxuICAgIHwgejQuY29yZS4kWm9kVHlwZVxuICAgIHwgU2NoZW1hID0gejQuY29yZS4kWm9kVHlwZTxKU09OVmFsdWU+LFxuICBPVVRQVVQgZXh0ZW5kc1xuICAgIHwgJ29iamVjdCdcbiAgICB8ICdhcnJheSdcbiAgICB8ICdlbnVtJ1xuICAgIHwgJ25vLXNjaGVtYScgPSBJbmZlclNjaGVtYTxTQ0hFTUE+IGV4dGVuZHMgc3RyaW5nID8gJ2VudW0nIDogJ29iamVjdCcsXG4gIFJFU1VMVCA9IE9VVFBVVCBleHRlbmRzICdhcnJheSdcbiAgICA/IEFycmF5PEluZmVyU2NoZW1hPFNDSEVNQT4+XG4gICAgOiBJbmZlclNjaGVtYTxTQ0hFTUE+LFxuPihcbiAgb3B0aW9uczogT21pdDxDYWxsU2V0dGluZ3MsICdzdG9wU2VxdWVuY2VzJz4gJlxuICAgIFByb21wdCAmXG4gICAgKE9VVFBVVCBleHRlbmRzICdlbnVtJ1xuICAgICAgPyB7XG4gICAgICAgICAgLyoqXG5UaGUgZW51bSB2YWx1ZXMgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIHVzZS5cbiAgICAgICAgKi9cbiAgICAgICAgICBlbnVtOiBBcnJheTxSRVNVTFQ+O1xuICAgICAgICAgIG1vZGU/OiAnanNvbic7XG4gICAgICAgICAgb3V0cHV0OiAnZW51bSc7XG4gICAgICAgIH1cbiAgICAgIDogT1VUUFVUIGV4dGVuZHMgJ25vLXNjaGVtYSdcbiAgICAgICAgPyB7fVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIC8qKlxuVGhlIHNjaGVtYSBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlIG1vZGVsIHNob3VsZCBnZW5lcmF0ZS5cbiAgICAgICovXG4gICAgICAgICAgICBzY2hlbWE6IFNDSEVNQTtcblxuICAgICAgICAgICAgLyoqXG5PcHRpb25hbCBuYW1lIG9mIHRoZSBvdXRwdXQgdGhhdCBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuVXNlZCBieSBzb21lIHByb3ZpZGVycyBmb3IgYWRkaXRpb25hbCBMTE0gZ3VpZGFuY2UsIGUuZy5cbnZpYSB0b29sIG9yIHNjaGVtYSBuYW1lLlxuICAgICAgKi9cbiAgICAgICAgICAgIHNjaGVtYU5hbWU/OiBzdHJpbmc7XG5cbiAgICAgICAgICAgIC8qKlxuT3B0aW9uYWwgZGVzY3JpcHRpb24gb2YgdGhlIG91dHB1dCB0aGF0IHNob3VsZCBiZSBnZW5lcmF0ZWQuXG5Vc2VkIGJ5IHNvbWUgcHJvdmlkZXJzIGZvciBhZGRpdGlvbmFsIExMTSBndWlkYW5jZSwgZS5nLlxudmlhIHRvb2wgb3Igc2NoZW1hIGRlc2NyaXB0aW9uLlxuICAgICAgKi9cbiAgICAgICAgICAgIHNjaGVtYURlc2NyaXB0aW9uPzogc3RyaW5nO1xuXG4gICAgICAgICAgICAvKipcblRoZSBtb2RlIHRvIHVzZSBmb3Igb2JqZWN0IGdlbmVyYXRpb24uXG5cblRoZSBzY2hlbWEgaXMgY29udmVydGVkIGludG8gYSBKU09OIHNjaGVtYSBhbmQgdXNlZCBpbiBvbmUgb2YgdGhlIGZvbGxvd2luZyB3YXlzXG5cbi0gJ2F1dG8nOiBUaGUgcHJvdmlkZXIgd2lsbCBjaG9vc2UgdGhlIGJlc3QgbW9kZSBmb3IgdGhlIG1vZGVsLlxuLSAndG9vbCc6IEEgdG9vbCB3aXRoIHRoZSBKU09OIHNjaGVtYSBhcyBwYXJhbWV0ZXJzIGlzIHByb3ZpZGVkIGFuZCB0aGUgcHJvdmlkZXIgaXMgaW5zdHJ1Y3RlZCB0byB1c2UgaXQuXG4tICdqc29uJzogVGhlIEpTT04gc2NoZW1hIGFuZCBhbiBpbnN0cnVjdGlvbiBhcmUgaW5qZWN0ZWQgaW50byB0aGUgcHJvbXB0LiBJZiB0aGUgcHJvdmlkZXIgc3VwcG9ydHMgSlNPTiBtb2RlLCBpdCBpcyBlbmFibGVkLiBJZiB0aGUgcHJvdmlkZXIgc3VwcG9ydHMgSlNPTiBncmFtbWFycywgdGhlIGdyYW1tYXIgaXMgdXNlZC5cblxuUGxlYXNlIG5vdGUgdGhhdCBtb3N0IHByb3ZpZGVycyBkbyBub3Qgc3VwcG9ydCBhbGwgbW9kZXMuXG5cbkRlZmF1bHQgYW5kIHJlY29tbWVuZGVkOiAnYXV0bycgKGJlc3QgbW9kZSBmb3IgdGhlIG1vZGVsKS5cbiAgICAgICovXG4gICAgICAgICAgICBtb2RlPzogJ2F1dG8nIHwgJ2pzb24nIHwgJ3Rvb2wnO1xuICAgICAgICAgIH0pICYge1xuICAgICAgb3V0cHV0PzogT1VUUFVUO1xuXG4gICAgICAvKipcblRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG4gICAgICovXG4gICAgICBtb2RlbDogTGFuZ3VhZ2VNb2RlbDtcblxuICAgICAgLyoqXG5BIGZ1bmN0aW9uIHRoYXQgYXR0ZW1wdHMgdG8gcmVwYWlyIHRoZSByYXcgb3V0cHV0IG9mIHRoZSBtb2RlbFxudG8gZW5hYmxlIEpTT04gcGFyc2luZy5cbiAgICAgICAqL1xuICAgICAgZXhwZXJpbWVudGFsX3JlcGFpclRleHQ/OiBSZXBhaXJUZXh0RnVuY3Rpb247XG5cbiAgICAgIC8qKlxuT3B0aW9uYWwgdGVsZW1ldHJ5IGNvbmZpZ3VyYXRpb24gKGV4cGVyaW1lbnRhbCkuXG4gICAgICAgKi9cblxuICAgICAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeT86IFRlbGVtZXRyeVNldHRpbmdzO1xuXG4gICAgICAvKipcbiAgQ3VzdG9tIGRvd25sb2FkIGZ1bmN0aW9uIHRvIHVzZSBmb3IgVVJMcy5cblxuICBCeSBkZWZhdWx0LCBmaWxlcyBhcmUgZG93bmxvYWRlZCBpZiB0aGUgbW9kZWwgZG9lcyBub3Qgc3VwcG9ydCB0aGUgVVJMIGZvciB0aGUgZ2l2ZW4gbWVkaWEgdHlwZS5cbiAgICAgICAqL1xuICAgICAgZXhwZXJpbWVudGFsX2Rvd25sb2FkPzogRG93bmxvYWRGdW5jdGlvbiB8IHVuZGVmaW5lZDtcblxuICAgICAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAqL1xuICAgICAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gICAgICAvKipcbkNhbGxiYWNrIHRoYXQgaXMgaW52b2tlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgc3RyZWFtaW5nLlxuWW91IGNhbiB1c2UgaXQgdG8gbG9nIGVycm9ycy5cblRoZSBzdHJlYW0gcHJvY2Vzc2luZyB3aWxsIHBhdXNlIHVudGlsIHRoZSBjYWxsYmFjayBwcm9taXNlIGlzIHJlc29sdmVkLlxuICAgICAqL1xuICAgICAgb25FcnJvcj86IFN0cmVhbU9iamVjdE9uRXJyb3JDYWxsYmFjaztcblxuICAgICAgLyoqXG5DYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBMTE0gcmVzcG9uc2UgYW5kIHRoZSBmaW5hbCBvYmplY3QgdmFsaWRhdGlvbiBhcmUgZmluaXNoZWQuXG4qL1xuICAgICAgb25GaW5pc2g/OiBTdHJlYW1PYmplY3RPbkZpbmlzaENhbGxiYWNrPFJFU1VMVD47XG5cbiAgICAgIC8qKlxuICAgICAgICogSW50ZXJuYWwuIEZvciB0ZXN0IHVzZSBvbmx5LiBNYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICAgICAgICovXG4gICAgICBfaW50ZXJuYWw/OiB7XG4gICAgICAgIGdlbmVyYXRlSWQ/OiAoKSA9PiBzdHJpbmc7XG4gICAgICAgIGN1cnJlbnREYXRlPzogKCkgPT4gRGF0ZTtcbiAgICAgICAgbm93PzogKCkgPT4gbnVtYmVyO1xuICAgICAgfTtcbiAgICB9LFxuKTogU3RyZWFtT2JqZWN0UmVzdWx0PFxuICBPVVRQVVQgZXh0ZW5kcyAnZW51bSdcbiAgICA/IHN0cmluZ1xuICAgIDogT1VUUFVUIGV4dGVuZHMgJ2FycmF5J1xuICAgICAgPyBSRVNVTFRcbiAgICAgIDogRGVlcFBhcnRpYWw8UkVTVUxUPixcbiAgT1VUUFVUIGV4dGVuZHMgJ2FycmF5JyA/IFJFU1VMVCA6IFJFU1VMVCxcbiAgT1VUUFVUIGV4dGVuZHMgJ2FycmF5J1xuICAgID8gUkVTVUxUIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT5cbiAgICAgID8gQXN5bmNJdGVyYWJsZVN0cmVhbTxVPlxuICAgICAgOiBuZXZlclxuICAgIDogbmV2ZXJcbj4ge1xuICBjb25zdCB7XG4gICAgbW9kZWwsXG4gICAgb3V0cHV0ID0gJ29iamVjdCcsXG4gICAgc3lzdGVtLFxuICAgIHByb21wdCxcbiAgICBtZXNzYWdlcyxcbiAgICBtYXhSZXRyaWVzLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIGhlYWRlcnMsXG4gICAgZXhwZXJpbWVudGFsX3JlcGFpclRleHQ6IHJlcGFpclRleHQsXG4gICAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxuICAgIGV4cGVyaW1lbnRhbF9kb3dubG9hZDogZG93bmxvYWQsXG4gICAgcHJvdmlkZXJPcHRpb25zLFxuICAgIG9uRXJyb3IgPSAoeyBlcnJvciB9OiB7IGVycm9yOiB1bmtub3duIH0pID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0sXG4gICAgb25GaW5pc2gsXG4gICAgX2ludGVybmFsOiB7XG4gICAgICBnZW5lcmF0ZUlkID0gb3JpZ2luYWxHZW5lcmF0ZUlkLFxuICAgICAgY3VycmVudERhdGUgPSAoKSA9PiBuZXcgRGF0ZSgpLFxuICAgICAgbm93ID0gb3JpZ2luYWxOb3csXG4gICAgfSA9IHt9LFxuICAgIC4uLnNldHRpbmdzXG4gIH0gPSBvcHRpb25zO1xuXG4gIGNvbnN0IGVudW1WYWx1ZXMgPVxuICAgICdlbnVtJyBpbiBvcHRpb25zICYmIG9wdGlvbnMuZW51bSA/IG9wdGlvbnMuZW51bSA6IHVuZGVmaW5lZDtcblxuICBjb25zdCB7XG4gICAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICBzY2hlbWFOYW1lLFxuICB9ID0gJ3NjaGVtYScgaW4gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICB2YWxpZGF0ZU9iamVjdEdlbmVyYXRpb25JbnB1dCh7XG4gICAgb3V0cHV0LFxuICAgIHNjaGVtYTogaW5wdXRTY2hlbWEsXG4gICAgc2NoZW1hTmFtZSxcbiAgICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICBlbnVtVmFsdWVzLFxuICB9KTtcblxuICBjb25zdCBvdXRwdXRTdHJhdGVneSA9IGdldE91dHB1dFN0cmF0ZWd5KHtcbiAgICBvdXRwdXQsXG4gICAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgICBlbnVtVmFsdWVzLFxuICB9KTtcblxuICByZXR1cm4gbmV3IERlZmF1bHRTdHJlYW1PYmplY3RSZXN1bHQoe1xuICAgIG1vZGVsLFxuICAgIHRlbGVtZXRyeSxcbiAgICBoZWFkZXJzLFxuICAgIHNldHRpbmdzLFxuICAgIG1heFJldHJpZXMsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgb3V0cHV0U3RyYXRlZ3ksXG4gICAgc3lzdGVtLFxuICAgIHByb21wdCxcbiAgICBtZXNzYWdlcyxcbiAgICBzY2hlbWFOYW1lLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICByZXBhaXJUZXh0LFxuICAgIG9uRXJyb3IsXG4gICAgb25GaW5pc2gsXG4gICAgZG93bmxvYWQsXG4gICAgZ2VuZXJhdGVJZCxcbiAgICBjdXJyZW50RGF0ZSxcbiAgICBub3csXG4gIH0pO1xufVxuXG5jbGFzcyBEZWZhdWx0U3RyZWFtT2JqZWN0UmVzdWx0PFBBUlRJQUwsIFJFU1VMVCwgRUxFTUVOVF9TVFJFQU0+XG4gIGltcGxlbWVudHMgU3RyZWFtT2JqZWN0UmVzdWx0PFBBUlRJQUwsIFJFU1VMVCwgRUxFTUVOVF9TVFJFQU0+XG57XG4gIHByaXZhdGUgcmVhZG9ubHkgX29iamVjdCA9IG5ldyBEZWxheWVkUHJvbWlzZTxSRVNVTFQ+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3VzYWdlID0gbmV3IERlbGF5ZWRQcm9taXNlPExhbmd1YWdlTW9kZWxVc2FnZT4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfcHJvdmlkZXJNZXRhZGF0YSA9IG5ldyBEZWxheWVkUHJvbWlzZTxcbiAgICBQcm92aWRlck1ldGFkYXRhIHwgdW5kZWZpbmVkXG4gID4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfd2FybmluZ3MgPSBuZXcgRGVsYXllZFByb21pc2U8Q2FsbFdhcm5pbmdbXSB8IHVuZGVmaW5lZD4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfcmVxdWVzdCA9XG4gICAgbmV3IERlbGF5ZWRQcm9taXNlPExhbmd1YWdlTW9kZWxSZXF1ZXN0TWV0YWRhdGE+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3Jlc3BvbnNlID1cbiAgICBuZXcgRGVsYXllZFByb21pc2U8TGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX2ZpbmlzaFJlYXNvbiA9IG5ldyBEZWxheWVkUHJvbWlzZTxGaW5pc2hSZWFzb24+KCk7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBiYXNlU3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+PjtcblxuICBwcml2YXRlIHJlYWRvbmx5IG91dHB1dFN0cmF0ZWd5OiBPdXRwdXRTdHJhdGVneTxcbiAgICBQQVJUSUFMLFxuICAgIFJFU1VMVCxcbiAgICBFTEVNRU5UX1NUUkVBTVxuICA+O1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtb2RlbDogbW9kZWxBcmcsXG4gICAgaGVhZGVycyxcbiAgICB0ZWxlbWV0cnksXG4gICAgc2V0dGluZ3MsXG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBvdXRwdXRTdHJhdGVneSxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIHNjaGVtYU5hbWUsXG4gICAgc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgcHJvdmlkZXJPcHRpb25zLFxuICAgIHJlcGFpclRleHQsXG4gICAgb25FcnJvcixcbiAgICBvbkZpbmlzaCxcbiAgICBkb3dubG9hZCxcbiAgICBnZW5lcmF0ZUlkLFxuICAgIGN1cnJlbnREYXRlLFxuICAgIG5vdyxcbiAgfToge1xuICAgIG1vZGVsOiBMYW5ndWFnZU1vZGVsO1xuICAgIHRlbGVtZXRyeTogVGVsZW1ldHJ5U2V0dGluZ3MgfCB1bmRlZmluZWQ7XG4gICAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiB8IHVuZGVmaW5lZDtcbiAgICBzZXR0aW5nczogT21pdDxDYWxsU2V0dGluZ3MsICdhYm9ydFNpZ25hbCcgfCAnaGVhZGVycyc+O1xuICAgIG1heFJldHJpZXM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBhYm9ydFNpZ25hbDogQWJvcnRTaWduYWwgfCB1bmRlZmluZWQ7XG4gICAgb3V0cHV0U3RyYXRlZ3k6IE91dHB1dFN0cmF0ZWd5PFBBUlRJQUwsIFJFU1VMVCwgRUxFTUVOVF9TVFJFQU0+O1xuICAgIHN5c3RlbTogUHJvbXB0WydzeXN0ZW0nXTtcbiAgICBwcm9tcHQ6IFByb21wdFsncHJvbXB0J107XG4gICAgbWVzc2FnZXM6IFByb21wdFsnbWVzc2FnZXMnXTtcbiAgICBzY2hlbWFOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgc2NoZW1hRGVzY3JpcHRpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBwcm92aWRlck9wdGlvbnM6IFByb3ZpZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICByZXBhaXJUZXh0OiBSZXBhaXJUZXh0RnVuY3Rpb24gfCB1bmRlZmluZWQ7XG4gICAgb25FcnJvcjogU3RyZWFtT2JqZWN0T25FcnJvckNhbGxiYWNrO1xuICAgIG9uRmluaXNoOiBTdHJlYW1PYmplY3RPbkZpbmlzaENhbGxiYWNrPFJFU1VMVD4gfCB1bmRlZmluZWQ7XG4gICAgZG93bmxvYWQ6IERvd25sb2FkRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG4gICAgZ2VuZXJhdGVJZDogKCkgPT4gc3RyaW5nO1xuICAgIGN1cnJlbnREYXRlOiAoKSA9PiBEYXRlO1xuICAgIG5vdzogKCkgPT4gbnVtYmVyO1xuICB9KSB7XG4gICAgY29uc3QgbW9kZWwgPSByZXNvbHZlTGFuZ3VhZ2VNb2RlbChtb2RlbEFyZyk7XG5cbiAgICBjb25zdCB7IG1heFJldHJpZXMsIHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgICAgYWJvcnRTaWduYWwsXG4gICAgfSk7XG5cbiAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSBwcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKTtcblxuICAgIGNvbnN0IGJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzID0gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgbW9kZWwsXG4gICAgICB0ZWxlbWV0cnksXG4gICAgICBoZWFkZXJzLFxuICAgICAgc2V0dGluZ3M6IHsgLi4uY2FsbFNldHRpbmdzLCBtYXhSZXRyaWVzIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIGNvbnN0IHN0aXRjaGFibGVTdHJlYW0gPVxuICAgICAgY3JlYXRlU3RpdGNoYWJsZVN0cmVhbTxPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+PigpO1xuXG4gICAgY29uc3QgZXZlbnRQcm9jZXNzb3IgPSBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgT2JqZWN0U3RyZWFtUGFydDxQQVJUSUFMPixcbiAgICAgIE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD5cbiAgICA+KHtcbiAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuXG4gICAgICAgIGlmIChjaHVuay50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgb25FcnJvcih7IGVycm9yOiB3cmFwR2F0ZXdheUVycm9yKGNodW5rLmVycm9yKSB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYmFzZVN0cmVhbSA9IHN0aXRjaGFibGVTdHJlYW0uc3RyZWFtLnBpcGVUaHJvdWdoKGV2ZW50UHJvY2Vzc29yKTtcblxuICAgIHJlY29yZFNwYW4oe1xuICAgICAgbmFtZTogJ2FpLnN0cmVhbU9iamVjdCcsXG4gICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuc3RyZWFtT2JqZWN0JyxcbiAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgJ2FpLnByb21wdCc6IHtcbiAgICAgICAgICAgIGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh7IHN5c3RlbSwgcHJvbXB0LCBtZXNzYWdlcyB9KSxcbiAgICAgICAgICB9LFxuICAgICAgICAgICdhaS5zY2hlbWEnOlxuICAgICAgICAgICAgb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSAhPSBudWxsXG4gICAgICAgICAgICAgID8geyBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSkgfVxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAnYWkuc2NoZW1hLm5hbWUnOiBzY2hlbWFOYW1lLFxuICAgICAgICAgICdhaS5zY2hlbWEuZGVzY3JpcHRpb24nOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgICAnYWkuc2V0dGluZ3Mub3V0cHV0Jzogb3V0cHV0U3RyYXRlZ3kudHlwZSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgdHJhY2VyLFxuICAgICAgZW5kV2hlbkRvbmU6IGZhbHNlLFxuICAgICAgZm46IGFzeW5jIHJvb3RTcGFuID0+IHtcbiAgICAgICAgY29uc3Qgc3RhbmRhcmRpemVkUHJvbXB0ID0gYXdhaXQgc3RhbmRhcmRpemVQcm9tcHQoe1xuICAgICAgICAgIHN5c3RlbSxcbiAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIH0gYXMgUHJvbXB0KTtcblxuICAgICAgICBjb25zdCBjYWxsT3B0aW9ucyA9IHtcbiAgICAgICAgICByZXNwb25zZUZvcm1hdDoge1xuICAgICAgICAgICAgdHlwZTogJ2pzb24nIGFzIGNvbnN0LFxuICAgICAgICAgICAgc2NoZW1hOiBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hLFxuICAgICAgICAgICAgbmFtZTogc2NoZW1hTmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgICB9LFxuICAgICAgICAgIC4uLnByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpLFxuICAgICAgICAgIHByb21wdDogYXdhaXQgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCh7XG4gICAgICAgICAgICBwcm9tcHQ6IHN0YW5kYXJkaXplZFByb21wdCxcbiAgICAgICAgICAgIHN1cHBvcnRlZFVybHM6IGF3YWl0IG1vZGVsLnN1cHBvcnRlZFVybHMsXG4gICAgICAgICAgICBkb3dubG9hZCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBpbmNsdWRlUmF3Q2h1bmtzOiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lcjogVHJhbnNmb3JtZXI8XG4gICAgICAgICAgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCxcbiAgICAgICAgICBPYmplY3RTdHJlYW1JbnB1dFBhcnRcbiAgICAgICAgPiA9IHtcbiAgICAgICAgICB0cmFuc2Zvcm06IChjaHVuaywgY29udHJvbGxlcikgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChjaHVuay50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ3RleHQtZGVsdGEnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuay5kZWx0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ3Jlc3BvbnNlLW1ldGFkYXRhJzpcbiAgICAgICAgICAgICAgY2FzZSAnZmluaXNoJzpcbiAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICBjYXNlICdzdHJlYW0tc3RhcnQnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgcmVzdWx0OiB7IHN0cmVhbSwgcmVzcG9uc2UsIHJlcXVlc3QgfSxcbiAgICAgICAgICBkb1N0cmVhbVNwYW4sXG4gICAgICAgICAgc3RhcnRUaW1lc3RhbXBNcyxcbiAgICAgICAgfSA9IGF3YWl0IHJldHJ5KCgpID0+XG4gICAgICAgICAgcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICBuYW1lOiAnYWkuc3RyZWFtT2JqZWN0LmRvU3RyZWFtJyxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5zdHJlYW1PYmplY3QuZG9TdHJlYW0nLFxuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICdhaS5wcm9tcHQubWVzc2FnZXMnOiB7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5KGNhbGxPcHRpb25zLnByb21wdCksXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnN5c3RlbSc6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5tb2RlbCc6IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LmZyZXF1ZW5jeV9wZW5hbHR5JzpcbiAgICAgICAgICAgICAgICAgIGNhbGxTZXR0aW5ncy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5tYXhfdG9rZW5zJzogY2FsbFNldHRpbmdzLm1heE91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QucHJlc2VuY2VfcGVuYWx0eSc6IGNhbGxTZXR0aW5ncy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRlbXBlcmF0dXJlJzogY2FsbFNldHRpbmdzLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50b3Bfayc6IGNhbGxTZXR0aW5ncy50b3BLLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50b3BfcCc6IGNhbGxTZXR0aW5ncy50b3BQLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICBlbmRXaGVuRG9uZTogZmFsc2UsXG4gICAgICAgICAgICBmbjogYXN5bmMgZG9TdHJlYW1TcGFuID0+ICh7XG4gICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wTXM6IG5vdygpLFxuICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4sXG4gICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgbW9kZWwuZG9TdHJlYW0oY2FsbE9wdGlvbnMpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgc2VsZi5fcmVxdWVzdC5yZXNvbHZlKHJlcXVlc3QgPz8ge30pO1xuXG4gICAgICAgIC8vIHN0b3JlIGluZm9ybWF0aW9uIGZvciBvbkZpbmlzaCBjYWxsYmFjazpcbiAgICAgICAgbGV0IHdhcm5pbmdzOiBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZ1tdIHwgdW5kZWZpbmVkO1xuICAgICAgICBsZXQgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZSA9IHtcbiAgICAgICAgICBpbnB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgIG91dHB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgICAgIHRvdGFsVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBmaW5pc2hSZWFzb246IExhbmd1YWdlTW9kZWxWMkZpbmlzaFJlYXNvbiB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHByb3ZpZGVyTWV0YWRhdGE6IFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBvYmplY3Q6IFJFU1VMVCB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGVycm9yOiB1bmtub3duIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIHBpcGUgY2h1bmtzIHRocm91Z2ggYSB0cmFuc2Zvcm1hdGlvbiBzdHJlYW0gdGhhdCBleHRyYWN0cyBtZXRhZGF0YTpcbiAgICAgICAgbGV0IGFjY3VtdWxhdGVkVGV4dCA9ICcnO1xuICAgICAgICBsZXQgdGV4dERlbHRhID0gJyc7XG4gICAgICAgIGxldCBmdWxsUmVzcG9uc2U6IHtcbiAgICAgICAgICBpZDogc3RyaW5nO1xuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZTtcbiAgICAgICAgICBtb2RlbElkOiBzdHJpbmc7XG4gICAgICAgIH0gPSB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICB0aW1lc3RhbXA6IGN1cnJlbnREYXRlKCksXG4gICAgICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIHJhdyBwYXJzZSByZXN1bHQgYmVmb3JlIHR5cGUgdmFsaWRhdGlvbiwgc2luY2UgZS5nLiBab2QgbWlnaHRcbiAgICAgICAgLy8gY2hhbmdlIHRoZSBvYmplY3QgYnkgbWFwcGluZyBwcm9wZXJ0aWVzLlxuICAgICAgICBsZXQgbGF0ZXN0T2JqZWN0SnNvbjogSlNPTlZhbHVlIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgbGF0ZXN0T2JqZWN0OiBQQVJUSUFMIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgaXNGaXJzdENodW5rID0gdHJ1ZTtcbiAgICAgICAgbGV0IGlzRmlyc3REZWx0YSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRTdHJlYW0gPSBzdHJlYW1cbiAgICAgICAgICAucGlwZVRocm91Z2gobmV3IFRyYW5zZm9ybVN0cmVhbSh0cmFuc2Zvcm1lcikpXG4gICAgICAgICAgLnBpcGVUaHJvdWdoKFxuICAgICAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgICAgICAgICAgc3RyaW5nIHwgT2JqZWN0U3RyZWFtSW5wdXRQYXJ0LFxuICAgICAgICAgICAgICBPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+XG4gICAgICAgICAgICA+KHtcbiAgICAgICAgICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgdHlwZW9mIGNodW5rID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAgY2h1bmsudHlwZSA9PT0gJ3N0cmVhbS1zdGFydCdcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHdhcm5pbmdzID0gY2h1bmsud2FybmluZ3M7XG4gICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHN0cmVhbSBzdGFydCBjaHVua3MgYXJlIHNlbnQgaW1tZWRpYXRlbHkgYW5kIGRvIG5vdCBjb3VudCBhcyBmaXJzdCBjaHVua1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRlbGVtZXRyeSBldmVudCBmb3IgZmlyc3QgY2h1bms6XG4gICAgICAgICAgICAgICAgaWYgKGlzRmlyc3RDaHVuaykge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbXNUb0ZpcnN0Q2h1bmsgPSBub3coKSAtIHN0YXJ0VGltZXN0YW1wTXM7XG5cbiAgICAgICAgICAgICAgICAgIGlzRmlyc3RDaHVuayA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uYWRkRXZlbnQoJ2FpLnN0cmVhbS5maXJzdENodW5rJywge1xuICAgICAgICAgICAgICAgICAgICAnYWkuc3RyZWFtLm1zVG9GaXJzdENodW5rJzogbXNUb0ZpcnN0Q2h1bmssXG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnYWkuc3RyZWFtLm1zVG9GaXJzdENodW5rJzogbXNUb0ZpcnN0Q2h1bmssXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBwcm9jZXNzIHBhcnRpYWwgdGV4dCBjaHVua3NcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNodW5rID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRUZXh0ICs9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgdGV4dERlbHRhICs9IGNodW5rO1xuXG4gICAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBjdXJyZW50T2JqZWN0SnNvbiwgc3RhdGU6IHBhcnNlU3RhdGUgfSA9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBhcnNlUGFydGlhbEpzb24oYWNjdW11bGF0ZWRUZXh0KTtcblxuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0SnNvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgICFpc0RlZXBFcXVhbERhdGEobGF0ZXN0T2JqZWN0SnNvbiwgY3VycmVudE9iamVjdEpzb24pXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9XG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgb3V0cHV0U3RyYXRlZ3kudmFsaWRhdGVQYXJ0aWFsUmVzdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdXJyZW50T2JqZWN0SnNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHREZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdE9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmlyc3REZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmluYWxEZWx0YTogcGFyc2VTdGF0ZSA9PT0gJ3N1Y2Nlc3NmdWwtcGFyc2UnLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAhaXNEZWVwRXF1YWxEYXRhKFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0T2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC52YWx1ZS5wYXJ0aWFsLFxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gaW5zaWRlIGlubmVyIGNoZWNrIHRvIGNvcnJlY3RseSBwYXJzZSB0aGUgZmluYWwgZWxlbWVudCBpbiBhcnJheSBtb2RlOlxuICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdE9iamVjdEpzb24gPSBjdXJyZW50T2JqZWN0SnNvbjtcbiAgICAgICAgICAgICAgICAgICAgICBsYXRlc3RPYmplY3QgPSB2YWxpZGF0aW9uUmVzdWx0LnZhbHVlLnBhcnRpYWw7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IGxhdGVzdE9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dC1kZWx0YScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0RGVsdGE6IHZhbGlkYXRpb25SZXN1bHQudmFsdWUudGV4dERlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dERlbHRhID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdERlbHRhID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSAncmVzcG9uc2UtbWV0YWRhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGxSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogY2h1bmsuaWQgPz8gZnVsbFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogY2h1bmsudGltZXN0YW1wID8/IGZ1bGxSZXNwb25zZS50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWxJZDogY2h1bmsubW9kZWxJZCA/PyBmdWxsUmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbmlzaCc6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCBmaW5hbCB0ZXh0IGRlbHRhOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dERlbHRhICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LWRlbHRhJywgdGV4dERlbHRhIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgZmluaXNoIHJlYXNvbiBmb3IgdGVsZW1ldHJ5OlxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBjaHVuay5maW5pc2hSZWFzb247XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgdXNhZ2UgYW5kIG1ldGFkYXRhIGZvciBwcm9taXNlcyBhbmQgb25GaW5pc2ggY2FsbGJhY2s6XG4gICAgICAgICAgICAgICAgICAgIHVzYWdlID0gY2h1bmsudXNhZ2U7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEgPSBjaHVuay5wcm92aWRlck1ldGFkYXRhO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uY2h1bmssXG4gICAgICAgICAgICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bGxSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nIHdhcm5pbmdzOlxuICAgICAgICAgICAgICAgICAgICBsb2dXYXJuaW5ncyh3YXJuaW5ncyA/PyBbXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzb2x2ZSBwcm9taXNlcyB0aGF0IGNhbiBiZSByZXNvbHZlZCBub3c6XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3VzYWdlLnJlc29sdmUodXNhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9wcm92aWRlck1ldGFkYXRhLnJlc29sdmUocHJvdmlkZXJNZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3dhcm5pbmdzLnJlc29sdmUod2FybmluZ3MpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZXNwb25zZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5mdWxsUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVzcG9uc2U/LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9maW5pc2hSZWFzb24ucmVzb2x2ZShmaW5pc2hSZWFzb24gPz8gJ3Vua25vd24nKTtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IGF3YWl0IHBhcnNlQW5kVmFsaWRhdGVPYmplY3RSZXN1bHRXaXRoUmVwYWlyKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBhaXJUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogZnVsbFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX29iamVjdC5yZXNvbHZlKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IGU7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi5fb2JqZWN0LnJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgLy8gaW52b2tlIG9uRmluaXNoIGNhbGxiYWNrIGFuZCByZXNvbHZlIHRvb2xSZXN1bHRzIHByb21pc2Ugd2hlbiB0aGUgc3RyZWFtIGlzIGFib3V0IHRvIGNsb3NlOlxuICAgICAgICAgICAgICBhc3luYyBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVXNhZ2UgPSB1c2FnZSA/PyB7XG4gICAgICAgICAgICAgICAgICAgIHByb21wdFRva2VuczogTmFOLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiBOYU4sXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zOiBOYU4sXG4gICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5maW5pc2hSZWFzb24nOiBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2Uub2JqZWN0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KG9iamVjdCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmlkJzogZnVsbFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm1vZGVsJzogZnVsbFJlc3BvbnNlLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudGltZXN0YW1wJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFJlc3BvbnNlLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm92aWRlck1ldGFkYXRhKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLmlucHV0VG9rZW5zJzogZmluYWxVc2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5vdXRwdXRUb2tlbnMnOiBmaW5hbFVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS50b3RhbFRva2Vucyc6IGZpbmFsVXNhZ2UudG90YWxUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UucmVhc29uaW5nVG9rZW5zJzogZmluYWxVc2FnZS5yZWFzb25pbmdUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFVzYWdlLmNhY2hlZElucHV0VG9rZW5zLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLmZpbmlzaF9yZWFzb25zJzogW2ZpbmlzaFJlYXNvbl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLmlkJzogZnVsbFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5tb2RlbCc6IGZ1bGxSZXNwb25zZS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS51c2FnZS5pbnB1dF90b2tlbnMnOiBmaW5hbFVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS51c2FnZS5vdXRwdXRfdG9rZW5zJzogZmluYWxVc2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggZG9TdHJlYW1TcGFuIGJlZm9yZSBvdGhlciBvcGVyYXRpb25zIGZvciBjb3JyZWN0IHRpbWluZzpcbiAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5lbmQoKTtcblxuICAgICAgICAgICAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGluZm9ybWF0aW9uIHRvIHRoZSByb290IHNwYW46XG4gICAgICAgICAgICAgICAgICByb290U3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLmlucHV0VG9rZW5zJzogZmluYWxVc2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5vdXRwdXRUb2tlbnMnOiBmaW5hbFVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS50b3RhbFRva2Vucyc6IGZpbmFsVXNhZ2UudG90YWxUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UucmVhc29uaW5nVG9rZW5zJzogZmluYWxVc2FnZS5yZWFzb25pbmdUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFVzYWdlLmNhY2hlZElucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm9iamVjdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvYmplY3QpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5wcm92aWRlck1ldGFkYXRhJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJvdmlkZXJNZXRhZGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAvLyBjYWxsIG9uRmluaXNoIGNhbGxiYWNrOlxuICAgICAgICAgICAgICAgICAgYXdhaXQgb25GaW5pc2g/Lih7XG4gICAgICAgICAgICAgICAgICAgIHVzYWdlOiBmaW5hbFVzYWdlLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmZ1bGxSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZT8uaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZ3MsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ2Vycm9yJywgZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgIHJvb3RTcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgc3RpdGNoYWJsZVN0cmVhbS5hZGRTdHJlYW0odHJhbnNmb3JtZWRTdHJlYW0pO1xuICAgICAgfSxcbiAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgLy8gYWRkIGFuIGVtcHR5IHN0cmVhbSB3aXRoIGFuIGVycm9yIHRvIGJyZWFrIHRoZSBzdHJlYW06XG4gICAgICAgIHN0aXRjaGFibGVTdHJlYW0uYWRkU3RyZWFtKFxuICAgICAgICAgIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdlcnJvcicsIGVycm9yIH0pO1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgc3RpdGNoYWJsZVN0cmVhbS5jbG9zZSgpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLm91dHB1dFN0cmF0ZWd5ID0gb3V0cHV0U3RyYXRlZ3k7XG4gIH1cblxuICBnZXQgb2JqZWN0KCkge1xuICAgIHJldHVybiB0aGlzLl9vYmplY3QucHJvbWlzZTtcbiAgfVxuXG4gIGdldCB1c2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXNhZ2UucHJvbWlzZTtcbiAgfVxuXG4gIGdldCBwcm92aWRlck1ldGFkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm92aWRlck1ldGFkYXRhLnByb21pc2U7XG4gIH1cblxuICBnZXQgd2FybmluZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dhcm5pbmdzLnByb21pc2U7XG4gIH1cblxuICBnZXQgcmVxdWVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdC5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IHJlc3BvbnNlKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXNwb25zZS5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IGZpbmlzaFJlYXNvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fZmluaXNoUmVhc29uLnByb21pc2U7XG4gIH1cblxuICBnZXQgcGFydGlhbE9iamVjdFN0cmVhbSgpOiBBc3luY0l0ZXJhYmxlU3RyZWFtPFBBUlRJQUw+IHtcbiAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbShcbiAgICAgIHRoaXMuYmFzZVN0cmVhbS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+LCBQQVJUSUFMPih7XG4gICAgICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNodW5rLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmsub2JqZWN0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlICd0ZXh0LWRlbHRhJzpcbiAgICAgICAgICAgICAgY2FzZSAnZmluaXNoJzpcbiAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOiAvLyBzdXBwcmVzcyBlcnJvciAodXNlIG9uRXJyb3IgaW5zdGVhZClcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSBjaHVuaztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNodW5rIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgZ2V0IGVsZW1lbnRTdHJlYW0oKTogRUxFTUVOVF9TVFJFQU0ge1xuICAgIHJldHVybiB0aGlzLm91dHB1dFN0cmF0ZWd5LmNyZWF0ZUVsZW1lbnRTdHJlYW0odGhpcy5iYXNlU3RyZWFtKTtcbiAgfVxuXG4gIGdldCB0ZXh0U3RyZWFtKCk6IEFzeW5jSXRlcmFibGVTdHJlYW08c3RyaW5nPiB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLmJhc2VTdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08T2JqZWN0U3RyZWFtUGFydDxQQVJUSUFMPiwgc3RyaW5nPih7XG4gICAgICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNodW5rLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAndGV4dC1kZWx0YSc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLnRleHREZWx0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgY2FzZSAnZmluaXNoJzpcbiAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOiAvLyBzdXBwcmVzcyBlcnJvciAodXNlIG9uRXJyb3IgaW5zdGVhZClcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSBjaHVuaztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNodW5rIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgZ2V0IGZ1bGxTdHJlYW0oKTogQXN5bmNJdGVyYWJsZVN0cmVhbTxPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+PiB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0odGhpcy5iYXNlU3RyZWFtKTtcbiAgfVxuXG4gIHBpcGVUZXh0U3RyZWFtVG9SZXNwb25zZShyZXNwb25zZTogU2VydmVyUmVzcG9uc2UsIGluaXQ/OiBSZXNwb25zZUluaXQpIHtcbiAgICBwaXBlVGV4dFN0cmVhbVRvUmVzcG9uc2Uoe1xuICAgICAgcmVzcG9uc2UsXG4gICAgICB0ZXh0U3RyZWFtOiB0aGlzLnRleHRTdHJlYW0sXG4gICAgICAuLi5pbml0LFxuICAgIH0pO1xuICB9XG5cbiAgdG9UZXh0U3RyZWFtUmVzcG9uc2UoaW5pdD86IFJlc3BvbnNlSW5pdCk6IFJlc3BvbnNlIHtcbiAgICByZXR1cm4gY3JlYXRlVGV4dFN0cmVhbVJlc3BvbnNlKHtcbiAgICAgIHRleHRTdHJlYW06IHRoaXMudGV4dFN0cmVhbSxcbiAgICAgIC4uLmluaXQsXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgT2JqZWN0U3RyZWFtSW5wdXRQYXJ0ID1cbiAgfCBzdHJpbmdcbiAgfCB7XG4gICAgICB0eXBlOiAnc3RyZWFtLXN0YXJ0JztcbiAgICAgIHdhcm5pbmdzOiBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZ1tdO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnZXJyb3InO1xuICAgICAgZXJyb3I6IHVua25vd247XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdyZXNwb25zZS1tZXRhZGF0YSc7XG4gICAgICBpZD86IHN0cmluZztcbiAgICAgIHRpbWVzdGFtcD86IERhdGU7XG4gICAgICBtb2RlbElkPzogc3RyaW5nO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnZmluaXNoJztcbiAgICAgIGZpbmlzaFJlYXNvbjogTGFuZ3VhZ2VNb2RlbFYyRmluaXNoUmVhc29uO1xuICAgICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxWMlVzYWdlO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFNoYXJlZFYyUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9O1xuIiwgImltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgY29zaW5lIHNpbWlsYXJpdHkgYmV0d2VlbiB0d28gdmVjdG9ycy4gVGhpcyBpcyBhIHVzZWZ1bCBtZXRyaWMgZm9yXG4gKiBjb21wYXJpbmcgdGhlIHNpbWlsYXJpdHkgb2YgdHdvIHZlY3RvcnMgc3VjaCBhcyBlbWJlZGRpbmdzLlxuICpcbiAqIEBwYXJhbSB2ZWN0b3IxIC0gVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB2ZWN0b3IyIC0gVGhlIHNlY29uZCB2ZWN0b3IuXG4gKlxuICogQHJldHVybnMgVGhlIGNvc2luZSBzaW1pbGFyaXR5IGJldHdlZW4gdmVjdG9yMSBhbmQgdmVjdG9yMi5cbiAqIEByZXR1cm5zIDAgaWYgZWl0aGVyIHZlY3RvciBpcyB0aGUgemVybyB2ZWN0b3IuXG4gKlxuICogQHRocm93cyB7SW52YWxpZEFyZ3VtZW50RXJyb3J9IElmIHRoZSB2ZWN0b3JzIGRvIG5vdCBoYXZlIHRoZSBzYW1lIGxlbmd0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvc2luZVNpbWlsYXJpdHkodmVjdG9yMTogbnVtYmVyW10sIHZlY3RvcjI6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgaWYgKHZlY3RvcjEubGVuZ3RoICE9PSB2ZWN0b3IyLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICBwYXJhbWV0ZXI6ICd2ZWN0b3IxLHZlY3RvcjInLFxuICAgICAgdmFsdWU6IHsgdmVjdG9yMUxlbmd0aDogdmVjdG9yMS5sZW5ndGgsIHZlY3RvcjJMZW5ndGg6IHZlY3RvcjIubGVuZ3RoIH0sXG4gICAgICBtZXNzYWdlOiBgVmVjdG9ycyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoYCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IG4gPSB2ZWN0b3IxLmxlbmd0aDtcblxuICBpZiAobiA9PT0gMCkge1xuICAgIHJldHVybiAwOyAvLyBSZXR1cm4gMCBmb3IgZW1wdHkgdmVjdG9ycyBpZiBubyBlcnJvciBpcyB0aHJvd25cbiAgfVxuXG4gIGxldCBtYWduaXR1ZGVTcXVhcmVkMSA9IDA7XG4gIGxldCBtYWduaXR1ZGVTcXVhcmVkMiA9IDA7XG4gIGxldCBkb3RQcm9kdWN0ID0gMDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgIGNvbnN0IHZhbHVlMSA9IHZlY3RvcjFbaV07XG4gICAgY29uc3QgdmFsdWUyID0gdmVjdG9yMltpXTtcblxuICAgIG1hZ25pdHVkZVNxdWFyZWQxICs9IHZhbHVlMSAqIHZhbHVlMTtcbiAgICBtYWduaXR1ZGVTcXVhcmVkMiArPSB2YWx1ZTIgKiB2YWx1ZTI7XG4gICAgZG90UHJvZHVjdCArPSB2YWx1ZTEgKiB2YWx1ZTI7XG4gIH1cblxuICByZXR1cm4gbWFnbml0dWRlU3F1YXJlZDEgPT09IDAgfHwgbWFnbml0dWRlU3F1YXJlZDIgPT09IDBcbiAgICA/IDBcbiAgICA6IGRvdFByb2R1Y3QgL1xuICAgICAgICAoTWF0aC5zcXJ0KG1hZ25pdHVkZVNxdWFyZWQxKSAqIE1hdGguc3FydChtYWduaXR1ZGVTcXVhcmVkMikpO1xufVxuIiwgIi8qKlxuICogQ29udmVydHMgYSBkYXRhIFVSTCBvZiB0eXBlIHRleHQvKiB0byBhIHRleHQgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGV4dEZyb21EYXRhVXJsKGRhdGFVcmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IFtoZWFkZXIsIGJhc2U2NENvbnRlbnRdID0gZGF0YVVybC5zcGxpdCgnLCcpO1xuICBjb25zdCBtZWRpYVR5cGUgPSBoZWFkZXIuc3BsaXQoJzsnKVswXS5zcGxpdCgnOicpWzFdO1xuXG4gIGlmIChtZWRpYVR5cGUgPT0gbnVsbCB8fCBiYXNlNjRDb250ZW50ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGF0YSBVUkwgZm9ybWF0Jyk7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuYXRvYihiYXNlNjRDb250ZW50KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGRlY29kaW5nIGRhdGEgVVJMYCk7XG4gIH1cbn1cbiIsICIvKipcbiAqIFBlcmZvcm1zIGEgZGVlcC1lcXVhbCBjb21wYXJpc29uIG9mIHR3byBwYXJzZWQgSlNPTiBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSB7YW55fSBvYmoxIC0gVGhlIGZpcnN0IG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHthbnl9IG9iajIgLSBUaGUgc2Vjb25kIG9iamVjdCB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IC0gUmV0dXJucyB0cnVlIGlmIHRoZSB0d28gb2JqZWN0cyBhcmUgZGVlcGx5IGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RlZXBFcXVhbERhdGEob2JqMTogYW55LCBvYmoyOiBhbnkpOiBib29sZWFuIHtcbiAgLy8gQ2hlY2sgZm9yIHN0cmljdCBlcXVhbGl0eSBmaXJzdFxuICBpZiAob2JqMSA9PT0gb2JqMikgcmV0dXJuIHRydWU7XG5cbiAgLy8gQ2hlY2sgaWYgZWl0aGVyIGlzIG51bGwgb3IgdW5kZWZpbmVkXG4gIGlmIChvYmoxID09IG51bGwgfHwgb2JqMiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gQ2hlY2sgaWYgYm90aCBhcmUgb2JqZWN0c1xuICBpZiAodHlwZW9mIG9iajEgIT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmoyICE9PSAnb2JqZWN0JylcbiAgICByZXR1cm4gb2JqMSA9PT0gb2JqMjtcblxuICAvLyBJZiB0aGV5IGFyZSBub3Qgc3RyaWN0bHkgZXF1YWwsIHRoZXkgYm90aCBuZWVkIHRvIGJlIE9iamVjdHNcbiAgaWYgKG9iajEuY29uc3RydWN0b3IgIT09IG9iajIuY29uc3RydWN0b3IpIHJldHVybiBmYWxzZTtcblxuICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBEYXRlIG9iamVjdHNcbiAgaWYgKG9iajEgaW5zdGFuY2VvZiBEYXRlICYmIG9iajIgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIG9iajEuZ2V0VGltZSgpID09PSBvYmoyLmdldFRpbWUoKTtcbiAgfVxuXG4gIC8vIEhhbmRsZSBhcnJheXM6IGNvbXBhcmUgbGVuZ3RoIGFuZCB0aGVuIHBlcmZvcm0gYSByZWN1cnNpdmUgZGVlcCBjb21wYXJpc29uIG9uIGVhY2ggaXRlbVxuICBpZiAoQXJyYXkuaXNBcnJheShvYmoxKSkge1xuICAgIGlmIChvYmoxLmxlbmd0aCAhPT0gb2JqMi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iajEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghaXNEZWVwRXF1YWxEYXRhKG9iajFbaV0sIG9iajJbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlOyAvLyBBbGwgYXJyYXkgZWxlbWVudHMgbWF0Y2hlZFxuICB9XG5cbiAgLy8gQ29tcGFyZSB0aGUgc2V0IG9mIGtleXMgaW4gZWFjaCBvYmplY3RcbiAgY29uc3Qga2V5czEgPSBPYmplY3Qua2V5cyhvYmoxKTtcbiAgY29uc3Qga2V5czIgPSBPYmplY3Qua2V5cyhvYmoyKTtcbiAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gQ2hlY2sgZWFjaCBrZXktdmFsdWUgcGFpciByZWN1cnNpdmVseVxuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzMSkge1xuICAgIGlmICgha2V5czIuaW5jbHVkZXMoa2V5KSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghaXNEZWVwRXF1YWxEYXRhKG9iajFba2V5XSwgb2JqMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7IC8vIEFsbCBrZXlzIGFuZCB2YWx1ZXMgbWF0Y2hlZFxufVxuIiwgImltcG9ydCB7IEpvYiB9IGZyb20gJy4vam9iJztcblxuZXhwb3J0IGNsYXNzIFNlcmlhbEpvYkV4ZWN1dG9yIHtcbiAgcHJpdmF0ZSBxdWV1ZTogQXJyYXk8Sm9iPiA9IFtdO1xuICBwcml2YXRlIGlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1F1ZXVlKCkge1xuICAgIGlmICh0aGlzLmlzUHJvY2Vzc2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcblxuICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IHRoaXMucXVldWVbMF0oKTtcbiAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICB9XG5cbiAgICB0aGlzLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICB9XG5cbiAgYXN5bmMgcnVuKGpvYjogSm9iKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMucXVldWUucHVzaChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgam9iKCk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2b2lkIHRoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBkZWxheSBhcyBkZWxheUZ1bmN0aW9uIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIFJlYWRhYmxlU3RyZWFtIHRoYXQgZW1pdHMgdGhlIHByb3ZpZGVkIHZhbHVlcyB3aXRoIGFuIG9wdGlvbmFsIGRlbGF5IGJldHdlZW4gZWFjaCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAqIEBwYXJhbSBvcHRpb25zLmNodW5rcyAtIEFycmF5IG9mIHZhbHVlcyB0byBiZSBlbWl0dGVkIGJ5IHRoZSBzdHJlYW1cbiAqIEBwYXJhbSBvcHRpb25zLmluaXRpYWxEZWxheUluTXMgLSBPcHRpb25hbCBpbml0aWFsIGRlbGF5IGluIG1pbGxpc2Vjb25kcyBiZWZvcmUgZW1pdHRpbmcgdGhlIGZpcnN0IHZhbHVlIChkZWZhdWx0OiAwKS4gQ2FuIGJlIHNldCB0byBgbnVsbGAgdG8gc2tpcCB0aGUgaW5pdGlhbCBkZWxheS4gVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBgaW5pdGlhbERlbGF5SW5NczogbnVsbGAgYW5kIGBpbml0aWFsRGVsYXlJbk1zOiAwYCBpcyB0aGF0IGBpbml0aWFsRGVsYXlJbk1zOiBudWxsYCB3aWxsIGVtaXQgdGhlIHZhbHVlcyB3aXRob3V0IGFueSBkZWxheSwgd2hpbGUgYGluaXRpYWxEZWxheUluTXM6IDBgIHdpbGwgZW1pdCB0aGUgdmFsdWVzIHdpdGggYSBkZWxheSBvZiAwIG1pbGxpc2Vjb25kcy5cbiAqIEBwYXJhbSBvcHRpb25zLmNodW5rRGVsYXlJbk1zIC0gT3B0aW9uYWwgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIGJldHdlZW4gZW1pdHRpbmcgZWFjaCB2YWx1ZSAoZGVmYXVsdDogMCkuIENhbiBiZSBzZXQgdG8gYG51bGxgIHRvIHNraXAgdGhlIGRlbGF5LiBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGBjaHVua0RlbGF5SW5NczogbnVsbGAgYW5kIGBjaHVua0RlbGF5SW5NczogMGAgaXMgdGhhdCBgY2h1bmtEZWxheUluTXM6IG51bGxgIHdpbGwgZW1pdCB0aGUgdmFsdWVzIHdpdGhvdXQgYW55IGRlbGF5LCB3aGlsZSBgY2h1bmtEZWxheUluTXM6IDBgIHdpbGwgZW1pdCB0aGUgdmFsdWVzIHdpdGggYSBkZWxheSBvZiAwIG1pbGxpc2Vjb25kcy5cbiAqIEByZXR1cm5zIEEgUmVhZGFibGVTdHJlYW0gdGhhdCBlbWl0cyB0aGUgcHJvdmlkZWQgdmFsdWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW11bGF0ZVJlYWRhYmxlU3RyZWFtPFQ+KHtcbiAgY2h1bmtzLFxuICBpbml0aWFsRGVsYXlJbk1zID0gMCxcbiAgY2h1bmtEZWxheUluTXMgPSAwLFxuICBfaW50ZXJuYWwsXG59OiB7XG4gIGNodW5rczogVFtdO1xuICBpbml0aWFsRGVsYXlJbk1zPzogbnVtYmVyIHwgbnVsbDtcbiAgY2h1bmtEZWxheUluTXM/OiBudW1iZXIgfCBudWxsO1xuICBfaW50ZXJuYWw/OiB7XG4gICAgZGVsYXk/OiAobXM6IG51bWJlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIH07XG59KTogUmVhZGFibGVTdHJlYW08VD4ge1xuICBjb25zdCBkZWxheSA9IF9pbnRlcm5hbD8uZGVsYXkgPz8gZGVsYXlGdW5jdGlvbjtcblxuICBsZXQgaW5kZXggPSAwO1xuXG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgaWYgKGluZGV4IDwgY2h1bmtzLmxlbmd0aCkge1xuICAgICAgICBhd2FpdCBkZWxheShpbmRleCA9PT0gMCA/IGluaXRpYWxEZWxheUluTXMgOiBjaHVua0RlbGF5SW5Ncyk7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVua3NbaW5kZXgrK10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xufVxuIiwgImltcG9ydCB7IEpTT05WYWx1ZSwgU3BlZWNoTW9kZWxWMiB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgUHJvdmlkZXJPcHRpb25zLCB3aXRoVXNlckFnZW50U3VmZml4IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBOb1NwZWVjaEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tc3BlZWNoLWdlbmVyYXRlZC1lcnJvcic7XG5pbXBvcnQgeyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvdW5zdXBwb3J0ZWQtbW9kZWwtdmVyc2lvbi1lcnJvcic7XG5pbXBvcnQgeyBsb2dXYXJuaW5ncyB9IGZyb20gJy4uL2xvZ2dlci9sb2ctd2FybmluZ3MnO1xuaW1wb3J0IHsgU3BlZWNoV2FybmluZyB9IGZyb20gJy4uL3R5cGVzL3NwZWVjaC1tb2RlbCc7XG5pbXBvcnQgeyBTcGVlY2hNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9zcGVlY2gtbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuaW1wb3J0IHtcbiAgYXVkaW9NZWRpYVR5cGVTaWduYXR1cmVzLFxuICBkZXRlY3RNZWRpYVR5cGUsXG59IGZyb20gJy4uL3V0aWwvZGV0ZWN0LW1lZGlhLXR5cGUnO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBTcGVlY2hSZXN1bHQgfSBmcm9tICcuL2dlbmVyYXRlLXNwZWVjaC1yZXN1bHQnO1xuaW1wb3J0IHtcbiAgRGVmYXVsdEdlbmVyYXRlZEF1ZGlvRmlsZSxcbiAgR2VuZXJhdGVkQXVkaW9GaWxlLFxufSBmcm9tICcuL2dlbmVyYXRlZC1hdWRpby1maWxlJztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcbi8qKlxuR2VuZXJhdGVzIHNwZWVjaCBhdWRpbyB1c2luZyBhIHNwZWVjaCBtb2RlbC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIHNwZWVjaCBtb2RlbCB0byB1c2UuXG5AcGFyYW0gdGV4dCAtIFRoZSB0ZXh0IHRvIGNvbnZlcnQgdG8gc3BlZWNoLlxuQHBhcmFtIHZvaWNlIC0gVGhlIHZvaWNlIHRvIHVzZSBmb3Igc3BlZWNoIGdlbmVyYXRpb24uXG5AcGFyYW0gb3V0cHV0Rm9ybWF0IC0gVGhlIG91dHB1dCBmb3JtYXQgdG8gdXNlIGZvciBzcGVlY2ggZ2VuZXJhdGlvbiBlLmcuIFwibXAzXCIsIFwid2F2XCIsIGV0Yy5cbkBwYXJhbSBpbnN0cnVjdGlvbnMgLSBJbnN0cnVjdGlvbnMgZm9yIHRoZSBzcGVlY2ggZ2VuZXJhdGlvbiBlLmcuIFwiU3BlYWsgaW4gYSBzbG93IGFuZCBzdGVhZHkgdG9uZVwiLlxuQHBhcmFtIHNwZWVkIC0gVGhlIHNwZWVkIG9mIHRoZSBzcGVlY2ggZ2VuZXJhdGlvbi5cbkBwYXJhbSBwcm92aWRlck9wdGlvbnMgLSBBZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyXG5hcyBib2R5IHBhcmFtZXRlcnMuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcmV0dXJucyBBIHJlc3VsdCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZ2VuZXJhdGVkIGF1ZGlvIGRhdGEuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVNwZWVjaCh7XG4gIG1vZGVsLFxuICB0ZXh0LFxuICB2b2ljZSxcbiAgb3V0cHV0Rm9ybWF0LFxuICBpbnN0cnVjdGlvbnMsXG4gIHNwZWVkLFxuICBsYW5ndWFnZSxcbiAgcHJvdmlkZXJPcHRpb25zID0ge30sXG4gIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxufToge1xuICAvKipcblRoZSBzcGVlY2ggbW9kZWwgdG8gdXNlLlxuICAgICAqL1xuICBtb2RlbDogU3BlZWNoTW9kZWxWMjtcblxuICAvKipcblRoZSB0ZXh0IHRvIGNvbnZlcnQgdG8gc3BlZWNoLlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuVGhlIHZvaWNlIHRvIHVzZSBmb3Igc3BlZWNoIGdlbmVyYXRpb24uXG4gICAqL1xuICB2b2ljZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGRlc2lyZWQgb3V0cHV0IGZvcm1hdCBmb3IgdGhlIGF1ZGlvIGUuZy4gXCJtcDNcIiwgXCJ3YXZcIiwgZXRjLlxuICAgKi9cbiAgb3V0cHV0Rm9ybWF0PzogJ21wMycgfCAnd2F2JyB8IChzdHJpbmcgJiB7fSk7XG5cbiAgLyoqXG4gICAgSW5zdHJ1Y3Rpb25zIGZvciB0aGUgc3BlZWNoIGdlbmVyYXRpb24gZS5nLiBcIlNwZWFrIGluIGEgc2xvdyBhbmQgc3RlYWR5IHRvbmVcIi5cbiAgKi9cbiAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nO1xuXG4gIC8qKlxuICBUaGUgc3BlZWQgb2YgdGhlIHNwZWVjaCBnZW5lcmF0aW9uLlxuICAgKi9cbiAgc3BlZWQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gIFRoZSBsYW5ndWFnZSBmb3Igc3BlZWNoIGdlbmVyYXRpb24uIFRoaXMgc2hvdWxkIGJlIGFuIElTTyA2MzktMSBsYW5ndWFnZSBjb2RlIChlLmcuIFwiZW5cIiwgXCJlc1wiLCBcImZyXCIpXG4gIG9yIFwiYXV0b1wiIGZvciBhdXRvbWF0aWMgbGFuZ3VhZ2UgZGV0ZWN0aW9uLiBQcm92aWRlciBzdXBwb3J0IHZhcmllcy5cbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlclxuYXMgYm9keSBwYXJhbWV0ZXJzLlxuXG5UaGUgb3V0ZXIgcmVjb3JkIGlzIGtleWVkIGJ5IHRoZSBwcm92aWRlciBuYW1lLCBhbmQgdGhlIGlubmVyXG5yZWNvcmQgaXMga2V5ZWQgYnkgdGhlIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhIGtleS5cbmBgYHRzXG57XG4gIFwib3BlbmFpXCI6IHt9XG59XG5gYGBcbiAgICAgKi9cbiAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gIC8qKlxuTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcyBwZXIgc3BlZWNoIG1vZGVsIGNhbGwuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy5cblxuQGRlZmF1bHQgMlxuICAgKi9cbiAgbWF4UmV0cmllcz86IG51bWJlcjtcblxuICAvKipcbkFib3J0IHNpZ25hbC5cbiAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBoZWFkZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHJlcXVlc3QuXG5Pbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufSk6IFByb21pc2U8U3BlZWNoUmVzdWx0PiB7XG4gIGlmIChtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbiAhPT0gJ3YyJykge1xuICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yKHtcbiAgICAgIHZlcnNpb246IG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uLFxuICAgICAgcHJvdmlkZXI6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGhlYWRlcnNXaXRoVXNlckFnZW50ID0gd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICBoZWFkZXJzID8/IHt9LFxuICAgIGBhaS8ke1ZFUlNJT059YCxcbiAgKTtcblxuICBjb25zdCB7IHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgfSk7XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV0cnkoKCkgPT5cbiAgICBtb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgIHRleHQsXG4gICAgICB2b2ljZSxcbiAgICAgIG91dHB1dEZvcm1hdCxcbiAgICAgIGluc3RydWN0aW9ucyxcbiAgICAgIHNwZWVkLFxuICAgICAgbGFuZ3VhZ2UsXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgIH0pLFxuICApO1xuXG4gIGlmICghcmVzdWx0LmF1ZGlvIHx8IHJlc3VsdC5hdWRpby5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgTm9TcGVlY2hHZW5lcmF0ZWRFcnJvcih7IHJlc3BvbnNlczogW3Jlc3VsdC5yZXNwb25zZV0gfSk7XG4gIH1cblxuICBsb2dXYXJuaW5ncyhyZXN1bHQud2FybmluZ3MpO1xuXG4gIHJldHVybiBuZXcgRGVmYXVsdFNwZWVjaFJlc3VsdCh7XG4gICAgYXVkaW86IG5ldyBEZWZhdWx0R2VuZXJhdGVkQXVkaW9GaWxlKHtcbiAgICAgIGRhdGE6IHJlc3VsdC5hdWRpbyxcbiAgICAgIG1lZGlhVHlwZTpcbiAgICAgICAgZGV0ZWN0TWVkaWFUeXBlKHtcbiAgICAgICAgICBkYXRhOiByZXN1bHQuYXVkaW8sXG4gICAgICAgICAgc2lnbmF0dXJlczogYXVkaW9NZWRpYVR5cGVTaWduYXR1cmVzLFxuICAgICAgICB9KSA/PyAnYXVkaW8vbXAzJyxcbiAgICB9KSxcbiAgICB3YXJuaW5nczogcmVzdWx0Lndhcm5pbmdzLFxuICAgIHJlc3BvbnNlczogW3Jlc3VsdC5yZXNwb25zZV0sXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcmVzdWx0LnByb3ZpZGVyTWV0YWRhdGEsXG4gIH0pO1xufVxuXG5jbGFzcyBEZWZhdWx0U3BlZWNoUmVzdWx0IGltcGxlbWVudHMgU3BlZWNoUmVzdWx0IHtcbiAgcmVhZG9ubHkgYXVkaW86IEdlbmVyYXRlZEF1ZGlvRmlsZTtcbiAgcmVhZG9ubHkgd2FybmluZ3M6IEFycmF5PFNwZWVjaFdhcm5pbmc+O1xuICByZWFkb25seSByZXNwb25zZXM6IEFycmF5PFNwZWVjaE1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG4gIHJlYWRvbmx5IHByb3ZpZGVyTWV0YWRhdGE6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIEpTT05WYWx1ZT4+O1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICBhdWRpbzogR2VuZXJhdGVkQXVkaW9GaWxlO1xuICAgIHdhcm5pbmdzOiBBcnJheTxTcGVlY2hXYXJuaW5nPjtcbiAgICByZXNwb25zZXM6IEFycmF5PFNwZWVjaE1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG4gICAgcHJvdmlkZXJNZXRhZGF0YTogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgSlNPTlZhbHVlPj4gfCB1bmRlZmluZWQ7XG4gIH0pIHtcbiAgICB0aGlzLmF1ZGlvID0gb3B0aW9ucy5hdWRpbztcbiAgICB0aGlzLndhcm5pbmdzID0gb3B0aW9ucy53YXJuaW5ncztcbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSA/PyB7fTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFNwZWVjaE1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3NwZWVjaC1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5cbi8qKlxuRXJyb3IgdGhhdCBpcyB0aHJvd24gd2hlbiBubyBzcGVlY2ggYXVkaW8gd2FzIGdlbmVyYXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vU3BlZWNoR2VuZXJhdGVkRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcmVhZG9ubHkgcmVzcG9uc2VzOiBBcnJheTxTcGVlY2hNb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHsgcmVzcG9uc2VzOiBBcnJheTxTcGVlY2hNb2RlbFJlc3BvbnNlTWV0YWRhdGE+IH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lOiAnQUlfTm9TcGVlY2hHZW5lcmF0ZWRFcnJvcicsXG4gICAgICBtZXNzYWdlOiAnTm8gc3BlZWNoIGF1ZGlvIGdlbmVyYXRlZC4nLFxuICAgIH0pO1xuXG4gICAgdGhpcy5yZXNwb25zZXMgPSBvcHRpb25zLnJlc3BvbnNlcztcbiAgfVxufVxuIiwgImltcG9ydCB7XG4gIEdlbmVyYXRlZEZpbGUsXG4gIERlZmF1bHRHZW5lcmF0ZWRGaWxlLFxufSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlZC1maWxlJztcblxuLyoqXG4gKiBBIGdlbmVyYXRlZCBhdWRpbyBmaWxlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdlbmVyYXRlZEF1ZGlvRmlsZSBleHRlbmRzIEdlbmVyYXRlZEZpbGUge1xuICAvKipcbiAgICogQXVkaW8gZm9ybWF0IG9mIHRoZSBmaWxlIChlLmcuLCAnbXAzJywgJ3dhdicsIGV0Yy4pXG4gICAqL1xuICByZWFkb25seSBmb3JtYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRHZW5lcmF0ZWRBdWRpb0ZpbGVcbiAgZXh0ZW5kcyBEZWZhdWx0R2VuZXJhdGVkRmlsZVxuICBpbXBsZW1lbnRzIEdlbmVyYXRlZEF1ZGlvRmlsZVxue1xuICByZWFkb25seSBmb3JtYXQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGF0YSxcbiAgICBtZWRpYVR5cGUsXG4gIH06IHtcbiAgICBkYXRhOiBzdHJpbmcgfCBVaW50OEFycmF5O1xuICAgIG1lZGlhVHlwZTogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBkYXRhLCBtZWRpYVR5cGUgfSk7XG4gICAgbGV0IGZvcm1hdCA9ICdtcDMnO1xuXG4gICAgLy8gSWYgZm9ybWF0IGlzIG5vdCBwcm92aWRlZCwgdHJ5IHRvIGRldGVybWluZSBpdCBmcm9tIHRoZSBtZWRpYSB0eXBlXG4gICAgaWYgKG1lZGlhVHlwZSkge1xuICAgICAgY29uc3QgbWVkaWFUeXBlUGFydHMgPSBtZWRpYVR5cGUuc3BsaXQoJy8nKTtcblxuICAgICAgaWYgKG1lZGlhVHlwZVBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAvLyBIYW5kbGUgc3BlY2lhbCBjYXNlcyBmb3IgYXVkaW8gZm9ybWF0c1xuICAgICAgICBpZiAobWVkaWFUeXBlICE9PSAnYXVkaW8vbXBlZycpIHtcbiAgICAgICAgICBmb3JtYXQgPSBtZWRpYVR5cGVQYXJ0c1sxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAvLyBUT0RPIHRoaXMgc2hvdWxkIGJlIGFuIEFJIFNESyBlcnJvclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQXVkaW8gZm9ybWF0IG11c3QgYmUgcHJvdmlkZWQgb3IgZGV0ZXJtaW5hYmxlIGZyb20gbWVkaWEgdHlwZScsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0R2VuZXJhdGVkQXVkaW9GaWxlV2l0aFR5cGUgZXh0ZW5kcyBEZWZhdWx0R2VuZXJhdGVkQXVkaW9GaWxlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdhdWRpbyc7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIGRhdGE6IHN0cmluZyB8IFVpbnQ4QXJyYXk7XG4gICAgbWVkaWFUeXBlOiBzdHJpbmc7XG4gICAgZm9ybWF0OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBhc1NjaGVtYSxcbiAgc2FmZVBhcnNlSlNPTixcbiAgc2FmZVZhbGlkYXRlVHlwZXMsXG4gIFNjaGVtYSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgKiBhcyB6MyBmcm9tICd6b2QvdjMnO1xuaW1wb3J0ICogYXMgejQgZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby1vYmplY3QtZ2VuZXJhdGVkLWVycm9yJztcbmltcG9ydCB7IERlZXBQYXJ0aWFsIH0gZnJvbSAnLi4vdXRpbC9kZWVwLXBhcnRpYWwnO1xuaW1wb3J0IHsgcGFyc2VQYXJ0aWFsSnNvbiB9IGZyb20gJy4uL3V0aWwvcGFyc2UtcGFydGlhbC1qc29uJztcbmltcG9ydCB7IEZpbmlzaFJlYXNvbiB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFVzYWdlIH0gZnJvbSAnLi4vdHlwZXMvdXNhZ2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dDxPVVRQVVQsIFBBUlRJQUw+IHtcbiAgcmVhZG9ubHkgdHlwZTogJ29iamVjdCcgfCAndGV4dCc7XG5cbiAgcmVzcG9uc2VGb3JtYXQ6IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydyZXNwb25zZUZvcm1hdCddO1xuXG4gIHBhcnNlUGFydGlhbChvcHRpb25zOiB7XG4gICAgdGV4dDogc3RyaW5nO1xuICB9KTogUHJvbWlzZTx7IHBhcnRpYWw6IFBBUlRJQUwgfSB8IHVuZGVmaW5lZD47XG5cbiAgcGFyc2VPdXRwdXQoXG4gICAgb3B0aW9uczogeyB0ZXh0OiBzdHJpbmcgfSxcbiAgICBjb250ZXh0OiB7XG4gICAgICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICAgICAgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb247XG4gICAgfSxcbiAgKTogUHJvbWlzZTxPVVRQVVQ+O1xufVxuXG5leHBvcnQgY29uc3QgdGV4dCA9ICgpOiBPdXRwdXQ8c3RyaW5nLCBzdHJpbmc+ID0+ICh7XG4gIHR5cGU6ICd0ZXh0JyxcblxuICByZXNwb25zZUZvcm1hdDogeyB0eXBlOiAndGV4dCcgfSxcblxuICBhc3luYyBwYXJzZVBhcnRpYWwoeyB0ZXh0IH06IHsgdGV4dDogc3RyaW5nIH0pIHtcbiAgICByZXR1cm4geyBwYXJ0aWFsOiB0ZXh0IH07XG4gIH0sXG5cbiAgYXN5bmMgcGFyc2VPdXRwdXQoeyB0ZXh0IH06IHsgdGV4dDogc3RyaW5nIH0pIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfSxcbn0pO1xuXG5leHBvcnQgY29uc3Qgb2JqZWN0ID0gPE9VVFBVVD4oe1xuICBzY2hlbWE6IGlucHV0U2NoZW1hLFxufToge1xuICBzY2hlbWE6XG4gICAgfCB6NC5jb3JlLiRab2RUeXBlPE9VVFBVVCwgYW55PlxuICAgIHwgejMuU2NoZW1hPE9VVFBVVCwgejMuWm9kVHlwZURlZiwgYW55PlxuICAgIHwgU2NoZW1hPE9VVFBVVD47XG59KTogT3V0cHV0PE9VVFBVVCwgRGVlcFBhcnRpYWw8T1VUUFVUPj4gPT4ge1xuICBjb25zdCBzY2hlbWEgPSBhc1NjaGVtYShpbnB1dFNjaGVtYSk7XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnb2JqZWN0JyxcblxuICAgIHJlc3BvbnNlRm9ybWF0OiB7XG4gICAgICB0eXBlOiAnanNvbicsXG4gICAgICBzY2hlbWE6IHNjaGVtYS5qc29uU2NoZW1hLFxuICAgIH0sXG5cbiAgICBhc3luYyBwYXJzZVBhcnRpYWwoeyB0ZXh0IH06IHsgdGV4dDogc3RyaW5nIH0pIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBhcnNlUGFydGlhbEpzb24odGV4dCk7XG5cbiAgICAgIHN3aXRjaCAocmVzdWx0LnN0YXRlKSB7XG4gICAgICAgIGNhc2UgJ2ZhaWxlZC1wYXJzZSc6XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZC1pbnB1dCc6XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICBjYXNlICdyZXBhaXJlZC1wYXJzZSc6XG4gICAgICAgIGNhc2UgJ3N1Y2Nlc3NmdWwtcGFyc2UnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBOb3RlOiBjdXJyZW50bHkgbm8gdmFsaWRhdGlvbiBvZiBwYXJ0aWFsIHJlc3VsdHM6XG4gICAgICAgICAgICBwYXJ0aWFsOiByZXN1bHQudmFsdWUgYXMgRGVlcFBhcnRpYWw8T1VUUFVUPixcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IHJlc3VsdC5zdGF0ZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHBhcnNlIHN0YXRlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXN5bmMgcGFyc2VPdXRwdXQoXG4gICAgICB7IHRleHQgfTogeyB0ZXh0OiBzdHJpbmcgfSxcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuICAgICAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICAgICAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgICAgIH0sXG4gICAgKSB7XG4gICAgICBjb25zdCBwYXJzZVJlc3VsdCA9IGF3YWl0IHNhZmVQYXJzZUpTT04oeyB0ZXh0IH0pO1xuXG4gICAgICBpZiAoIXBhcnNlUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyBvYmplY3QgZ2VuZXJhdGVkOiBjb3VsZCBub3QgcGFyc2UgdGhlIHJlc3BvbnNlLicsXG4gICAgICAgICAgY2F1c2U6IHBhcnNlUmVzdWx0LmVycm9yLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgcmVzcG9uc2U6IGNvbnRleHQucmVzcG9uc2UsXG4gICAgICAgICAgdXNhZ2U6IGNvbnRleHQudXNhZ2UsXG4gICAgICAgICAgZmluaXNoUmVhc29uOiBjb250ZXh0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlcyh7XG4gICAgICAgIHZhbHVlOiBwYXJzZVJlc3VsdC52YWx1ZSxcbiAgICAgICAgc2NoZW1hLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gb2JqZWN0IGdlbmVyYXRlZDogcmVzcG9uc2UgZGlkIG5vdCBtYXRjaCBzY2hlbWEuJyxcbiAgICAgICAgICBjYXVzZTogdmFsaWRhdGlvblJlc3VsdC5lcnJvcixcbiAgICAgICAgICB0ZXh0LFxuICAgICAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgICAgIHVzYWdlOiBjb250ZXh0LnVzYWdlLFxuICAgICAgICAgIGZpbmlzaFJlYXNvbjogY29udGV4dC5maW5pc2hSZWFzb24sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsaWRhdGlvblJlc3VsdC52YWx1ZTtcbiAgICB9LFxuICB9O1xufTtcbiIsICJpbXBvcnQgeyBkZWxheSBhcyBvcmlnaW5hbERlbGF5IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBUZXh0U3RyZWFtUGFydCB9IGZyb20gJy4vc3RyZWFtLXRleHQtcmVzdWx0JztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcbmltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IENIVU5LSU5HX1JFR0VYUFMgPSB7XG4gIHdvcmQ6IC9cXFMrXFxzKy9tLFxuICBsaW5lOiAvXFxuKy9tLFxufTtcblxuLyoqXG4gKiBEZXRlY3RzIHRoZSBmaXJzdCBjaHVuayBpbiBhIGJ1ZmZlci5cbiAqXG4gKiBAcGFyYW0gYnVmZmVyIC0gVGhlIGJ1ZmZlciB0byBkZXRlY3QgdGhlIGZpcnN0IGNodW5rIGluLlxuICpcbiAqIEByZXR1cm5zIFRoZSBmaXJzdCBkZXRlY3RlZCBjaHVuaywgb3IgYHVuZGVmaW5lZGAgaWYgbm8gY2h1bmsgd2FzIGRldGVjdGVkLlxuICovXG5leHBvcnQgdHlwZSBDaHVua0RldGVjdG9yID0gKGJ1ZmZlcjogc3RyaW5nKSA9PiBzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsO1xuXG4vKipcbiAqIFNtb290aHMgdGV4dCBzdHJlYW1pbmcgb3V0cHV0LlxuICpcbiAqIEBwYXJhbSBkZWxheUluTXMgLSBUaGUgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIGJldHdlZW4gZWFjaCBjaHVuay4gRGVmYXVsdHMgdG8gMTBtcy4gQ2FuIGJlIHNldCB0byBgbnVsbGAgdG8gc2tpcCB0aGUgZGVsYXkuXG4gKiBAcGFyYW0gY2h1bmtpbmcgLSBDb250cm9scyBob3cgdGhlIHRleHQgaXMgY2h1bmtlZCBmb3Igc3RyZWFtaW5nLiBVc2UgXCJ3b3JkXCIgdG8gc3RyZWFtIHdvcmQgYnkgd29yZCAoZGVmYXVsdCksIFwibGluZVwiIHRvIHN0cmVhbSBsaW5lIGJ5IGxpbmUsIG9yIHByb3ZpZGUgYSBjdXN0b20gUmVnRXhwIHBhdHRlcm4gZm9yIGN1c3RvbSBjaHVua2luZy5cbiAqXG4gKiBAcmV0dXJucyBBIHRyYW5zZm9ybSBzdHJlYW0gdGhhdCBzbW9vdGhzIHRleHQgc3RyZWFtaW5nIG91dHB1dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFN0cmVhbTxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgZGVsYXlJbk1zID0gMTAsXG4gIGNodW5raW5nID0gJ3dvcmQnLFxuICBfaW50ZXJuYWw6IHsgZGVsYXkgPSBvcmlnaW5hbERlbGF5IH0gPSB7fSxcbn06IHtcbiAgZGVsYXlJbk1zPzogbnVtYmVyIHwgbnVsbDtcbiAgY2h1bmtpbmc/OiAnd29yZCcgfCAnbGluZScgfCBSZWdFeHAgfCBDaHVua0RldGVjdG9yO1xuICAvKipcbiAgICogSW50ZXJuYWwuIEZvciB0ZXN0IHVzZSBvbmx5LiBNYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICAgKi9cbiAgX2ludGVybmFsPzoge1xuICAgIGRlbGF5PzogKGRlbGF5SW5NczogbnVtYmVyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgfTtcbn0gPSB7fSk6IChvcHRpb25zOiB7XG4gIHRvb2xzOiBUT09MUztcbn0pID0+IFRyYW5zZm9ybVN0cmVhbTxUZXh0U3RyZWFtUGFydDxUT09MUz4sIFRleHRTdHJlYW1QYXJ0PFRPT0xTPj4ge1xuICBsZXQgZGV0ZWN0Q2h1bms6IENodW5rRGV0ZWN0b3I7XG5cbiAgaWYgKHR5cGVvZiBjaHVua2luZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGRldGVjdENodW5rID0gYnVmZmVyID0+IHtcbiAgICAgIGNvbnN0IG1hdGNoID0gY2h1bmtpbmcoYnVmZmVyKTtcblxuICAgICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICghbWF0Y2gubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2h1bmtpbmcgZnVuY3Rpb24gbXVzdCByZXR1cm4gYSBub24tZW1wdHkgc3RyaW5nLmApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWJ1ZmZlci5zdGFydHNXaXRoKG1hdGNoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYENodW5raW5nIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGEgbWF0Y2ggdGhhdCBpcyBhIHByZWZpeCBvZiB0aGUgYnVmZmVyLiBSZWNlaXZlZDogXCIke21hdGNofVwiIGV4cGVjdGVkIHRvIHN0YXJ0IHdpdGggXCIke2J1ZmZlcn1cImAsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNodW5raW5nUmVnZXggPVxuICAgICAgdHlwZW9mIGNodW5raW5nID09PSAnc3RyaW5nJyA/IENIVU5LSU5HX1JFR0VYUFNbY2h1bmtpbmddIDogY2h1bmtpbmc7XG5cbiAgICBpZiAoY2h1bmtpbmdSZWdleCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBhcmd1bWVudDogJ2NodW5raW5nJyxcbiAgICAgICAgbWVzc2FnZTogYENodW5raW5nIG11c3QgYmUgXCJ3b3JkXCIgb3IgXCJsaW5lXCIgb3IgYSBSZWdFeHAuIFJlY2VpdmVkOiAke2NodW5raW5nfWAsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBkZXRlY3RDaHVuayA9IGJ1ZmZlciA9PiB7XG4gICAgICBjb25zdCBtYXRjaCA9IGNodW5raW5nUmVnZXguZXhlYyhidWZmZXIpO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKDAsIG1hdGNoLmluZGV4KSArIG1hdGNoPy5bMF07XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiAoKSA9PiB7XG4gICAgbGV0IGJ1ZmZlciA9ICcnO1xuICAgIGxldCBpZCA9ICcnO1xuXG4gICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW08VGV4dFN0cmVhbVBhcnQ8VE9PTFM+LCBUZXh0U3RyZWFtUGFydDxUT09MUz4+KHtcbiAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBpZiAoY2h1bmsudHlwZSAhPT0gJ3RleHQtZGVsdGEnKSB7XG4gICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAndGV4dC1kZWx0YScsIHRleHQ6IGJ1ZmZlciwgaWQgfSk7XG4gICAgICAgICAgICBidWZmZXIgPSAnJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaHVuay5pZCAhPT0gaWQgJiYgYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAndGV4dC1kZWx0YScsIHRleHQ6IGJ1ZmZlciwgaWQgfSk7XG4gICAgICAgICAgYnVmZmVyID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXIgKz0gY2h1bmsudGV4dDtcbiAgICAgICAgaWQgPSBjaHVuay5pZDtcblxuICAgICAgICBsZXQgbWF0Y2g7XG5cbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IGRldGVjdENodW5rKGJ1ZmZlcikpICE9IG51bGwpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAndGV4dC1kZWx0YScsIHRleHQ6IG1hdGNoLCBpZCB9KTtcbiAgICAgICAgICBidWZmZXIgPSBidWZmZXIuc2xpY2UobWF0Y2gubGVuZ3RoKTtcblxuICAgICAgICAgIGF3YWl0IGRlbGF5KGRlbGF5SW5Ncyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG59XG4iLCAiaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnMgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgbWVyZ2VPYmplY3RzIH0gZnJvbSAnLi4vdXRpbC9tZXJnZS1vYmplY3RzJztcblxuLyoqXG4gKiBBcHBsaWVzIGRlZmF1bHQgc2V0dGluZ3MgZm9yIGEgbGFuZ3VhZ2UgbW9kZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0U2V0dGluZ3NNaWRkbGV3YXJlKHtcbiAgc2V0dGluZ3MsXG59OiB7XG4gIHNldHRpbmdzOiBQYXJ0aWFsPHtcbiAgICBtYXhPdXRwdXRUb2tlbnM/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1snbWF4T3V0cHV0VG9rZW5zJ107XG4gICAgdGVtcGVyYXR1cmU/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1sndGVtcGVyYXR1cmUnXTtcbiAgICBzdG9wU2VxdWVuY2VzPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3N0b3BTZXF1ZW5jZXMnXTtcbiAgICB0b3BQPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3RvcFAnXTtcbiAgICB0b3BLPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3RvcEsnXTtcbiAgICBwcmVzZW5jZVBlbmFsdHk/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1sncHJlc2VuY2VQZW5hbHR5J107XG4gICAgZnJlcXVlbmN5UGVuYWx0eT86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydmcmVxdWVuY3lQZW5hbHR5J107XG4gICAgcmVzcG9uc2VGb3JtYXQ/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1sncmVzcG9uc2VGb3JtYXQnXTtcbiAgICBzZWVkPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3NlZWQnXTtcbiAgICB0b29scz86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWyd0b29scyddO1xuICAgIHRvb2xDaG9pY2U/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1sndG9vbENob2ljZSddO1xuICAgIGhlYWRlcnM/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1snaGVhZGVycyddO1xuICAgIHByb3ZpZGVyT3B0aW9ucz86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydwcm92aWRlck9wdGlvbnMnXTtcbiAgfT47XG59KTogTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUge1xuICByZXR1cm4ge1xuICAgIG1pZGRsZXdhcmVWZXJzaW9uOiAndjInLFxuICAgIHRyYW5zZm9ybVBhcmFtczogYXN5bmMgKHsgcGFyYW1zIH0pID0+IHtcbiAgICAgIHJldHVybiBtZXJnZU9iamVjdHMoc2V0dGluZ3MsIHBhcmFtcykgYXMgTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnM7XG4gICAgfSxcbiAgfTtcbn1cbiIsICIvKipcbiAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBzdGFydCBvZiB0aGUgc2VhcmNoZWRUZXh0IGluIHRoZSB0ZXh0LCBvciBudWxsIGlmIGl0XG4gKiBpcyBub3QgZm91bmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3RlbnRpYWxTdGFydEluZGV4KFxuICB0ZXh0OiBzdHJpbmcsXG4gIHNlYXJjaGVkVGV4dDogc3RyaW5nLFxuKTogbnVtYmVyIHwgbnVsbCB7XG4gIC8vIFJldHVybiBudWxsIGltbWVkaWF0ZWx5IGlmIHNlYXJjaGVkVGV4dCBpcyBlbXB0eS5cbiAgaWYgKHNlYXJjaGVkVGV4dC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHRoZSBzZWFyY2hlZFRleHQgZXhpc3RzIGFzIGEgZGlyZWN0IHN1YnN0cmluZyBvZiB0ZXh0LlxuICBjb25zdCBkaXJlY3RJbmRleCA9IHRleHQuaW5kZXhPZihzZWFyY2hlZFRleHQpO1xuICBpZiAoZGlyZWN0SW5kZXggIT09IC0xKSB7XG4gICAgcmV0dXJuIGRpcmVjdEluZGV4O1xuICB9XG5cbiAgLy8gT3RoZXJ3aXNlLCBsb29rIGZvciB0aGUgbGFyZ2VzdCBzdWZmaXggb2YgXCJ0ZXh0XCIgdGhhdCBtYXRjaGVzXG4gIC8vIGEgcHJlZml4IG9mIFwic2VhcmNoZWRUZXh0XCIuIFdlIGdvIGZyb20gdGhlIGVuZCBvZiB0ZXh0IGlud2FyZC5cbiAgZm9yIChsZXQgaSA9IHRleHQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBzdWZmaXggPSB0ZXh0LnN1YnN0cmluZyhpKTtcbiAgICBpZiAoc2VhcmNoZWRUZXh0LnN0YXJ0c1dpdGgoc3VmZml4KSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4iLCAiaW1wb3J0IHR5cGUge1xuICBMYW5ndWFnZU1vZGVsVjJDb250ZW50LFxuICBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwtbWlkZGxld2FyZSc7XG5pbXBvcnQgeyBnZXRQb3RlbnRpYWxTdGFydEluZGV4IH0gZnJvbSAnLi4vdXRpbC9nZXQtcG90ZW50aWFsLXN0YXJ0LWluZGV4JztcblxuLyoqXG4gKiBFeHRyYWN0IGFuIFhNTC10YWdnZWQgcmVhc29uaW5nIHNlY3Rpb24gZnJvbSB0aGUgZ2VuZXJhdGVkIHRleHQgYW5kIGV4cG9zZXMgaXRcbiAqIGFzIGEgYHJlYXNvbmluZ2AgcHJvcGVydHkgb24gdGhlIHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0gdGFnTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBYTUwgdGFnIHRvIGV4dHJhY3QgcmVhc29uaW5nIGZyb20uXG4gKiBAcGFyYW0gc2VwYXJhdG9yIC0gVGhlIHNlcGFyYXRvciB0byB1c2UgYmV0d2VlbiByZWFzb25pbmcgYW5kIHRleHQgc2VjdGlvbnMuXG4gKiBAcGFyYW0gc3RhcnRXaXRoUmVhc29uaW5nIC0gV2hldGhlciB0byBzdGFydCB3aXRoIHJlYXNvbmluZyB0b2tlbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0UmVhc29uaW5nTWlkZGxld2FyZSh7XG4gIHRhZ05hbWUsXG4gIHNlcGFyYXRvciA9ICdcXG4nLFxuICBzdGFydFdpdGhSZWFzb25pbmcgPSBmYWxzZSxcbn06IHtcbiAgdGFnTmFtZTogc3RyaW5nO1xuICBzZXBhcmF0b3I/OiBzdHJpbmc7XG4gIHN0YXJ0V2l0aFJlYXNvbmluZz86IGJvb2xlYW47XG59KTogTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUge1xuICBjb25zdCBvcGVuaW5nVGFnID0gYDwke3RhZ05hbWV9PmA7XG4gIGNvbnN0IGNsb3NpbmdUYWcgPSBgPFxcLyR7dGFnTmFtZX0+YDtcblxuICByZXR1cm4ge1xuICAgIG1pZGRsZXdhcmVWZXJzaW9uOiAndjInLFxuICAgIHdyYXBHZW5lcmF0ZTogYXN5bmMgKHsgZG9HZW5lcmF0ZSB9KSA9PiB7XG4gICAgICBjb25zdCB7IGNvbnRlbnQsIC4uLnJlc3QgfSA9IGF3YWl0IGRvR2VuZXJhdGUoKTtcblxuICAgICAgY29uc3QgdHJhbnNmb3JtZWRDb250ZW50OiBMYW5ndWFnZU1vZGVsVjJDb250ZW50W10gPSBbXTtcbiAgICAgIGZvciAoY29uc3QgcGFydCBvZiBjb250ZW50KSB7XG4gICAgICAgIGlmIChwYXJ0LnR5cGUgIT09ICd0ZXh0Jykge1xuICAgICAgICAgIHRyYW5zZm9ybWVkQ29udGVudC5wdXNoKHBhcnQpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGV4dCA9IHN0YXJ0V2l0aFJlYXNvbmluZyA/IG9wZW5pbmdUYWcgKyBwYXJ0LnRleHQgOiBwYXJ0LnRleHQ7XG5cbiAgICAgICAgY29uc3QgcmVnZXhwID0gbmV3IFJlZ0V4cChgJHtvcGVuaW5nVGFnfSguKj8pJHtjbG9zaW5nVGFnfWAsICdncycpO1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gQXJyYXkuZnJvbSh0ZXh0Lm1hdGNoQWxsKHJlZ2V4cCkpO1xuXG4gICAgICAgIGlmICghbWF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICB0cmFuc2Zvcm1lZENvbnRlbnQucHVzaChwYXJ0KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlYXNvbmluZ1RleHQgPSBtYXRjaGVzLm1hcChtYXRjaCA9PiBtYXRjaFsxXSkuam9pbihzZXBhcmF0b3IpO1xuXG4gICAgICAgIGxldCB0ZXh0V2l0aG91dFJlYXNvbmluZyA9IHRleHQ7XG4gICAgICAgIGZvciAobGV0IGkgPSBtYXRjaGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgY29uc3QgbWF0Y2ggPSBtYXRjaGVzW2ldO1xuXG4gICAgICAgICAgY29uc3QgYmVmb3JlTWF0Y2ggPSB0ZXh0V2l0aG91dFJlYXNvbmluZy5zbGljZSgwLCBtYXRjaC5pbmRleCk7XG4gICAgICAgICAgY29uc3QgYWZ0ZXJNYXRjaCA9IHRleHRXaXRob3V0UmVhc29uaW5nLnNsaWNlKFxuICAgICAgICAgICAgbWF0Y2guaW5kZXghICsgbWF0Y2hbMF0ubGVuZ3RoLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICB0ZXh0V2l0aG91dFJlYXNvbmluZyA9XG4gICAgICAgICAgICBiZWZvcmVNYXRjaCArXG4gICAgICAgICAgICAoYmVmb3JlTWF0Y2gubGVuZ3RoID4gMCAmJiBhZnRlck1hdGNoLmxlbmd0aCA+IDAgPyBzZXBhcmF0b3IgOiAnJykgK1xuICAgICAgICAgICAgYWZ0ZXJNYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYW5zZm9ybWVkQ29udGVudC5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAncmVhc29uaW5nJyxcbiAgICAgICAgICB0ZXh0OiByZWFzb25pbmdUZXh0LFxuICAgICAgICB9KTtcblxuICAgICAgICB0cmFuc2Zvcm1lZENvbnRlbnQucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgIHRleHQ6IHRleHRXaXRob3V0UmVhc29uaW5nLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgY29udGVudDogdHJhbnNmb3JtZWRDb250ZW50LCAuLi5yZXN0IH07XG4gICAgfSxcblxuICAgIHdyYXBTdHJlYW06IGFzeW5jICh7IGRvU3RyZWFtIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgc3RyZWFtLCAuLi5yZXN0IH0gPSBhd2FpdCBkb1N0cmVhbSgpO1xuXG4gICAgICBjb25zdCByZWFzb25pbmdFeHRyYWN0aW9uczogUmVjb3JkPFxuICAgICAgICBzdHJpbmcsXG4gICAgICAgIHtcbiAgICAgICAgICBpc0ZpcnN0UmVhc29uaW5nOiBib29sZWFuO1xuICAgICAgICAgIGlzRmlyc3RUZXh0OiBib29sZWFuO1xuICAgICAgICAgIGFmdGVyU3dpdGNoOiBib29sZWFuO1xuICAgICAgICAgIGlzUmVhc29uaW5nOiBib29sZWFuO1xuICAgICAgICAgIGJ1ZmZlcjogc3RyaW5nO1xuICAgICAgICAgIGlkQ291bnRlcjogbnVtYmVyO1xuICAgICAgICAgIHRleHRJZDogc3RyaW5nO1xuICAgICAgICB9XG4gICAgICA+ID0ge307XG5cbiAgICAgIGxldCBkZWxheWVkVGV4dFN0YXJ0OiBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0IHwgdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdHJlYW06IHN0cmVhbS5waXBlVGhyb3VnaChcbiAgICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICAgICAgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCxcbiAgICAgICAgICAgIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnRcbiAgICAgICAgICA+KHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogKGNodW5rLCBjb250cm9sbGVyKSA9PiB7XG4gICAgICAgICAgICAgIC8vIGRvIG5vdCBzZW5kIGB0ZXh0LXN0YXJ0YCBiZWZvcmUgYHJlYXNvbmluZy1zdGFydGBcbiAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9haS9pc3N1ZXMvNzc3NFxuICAgICAgICAgICAgICBpZiAoY2h1bmsudHlwZSA9PT0gJ3RleHQtc3RhcnQnKSB7XG4gICAgICAgICAgICAgICAgZGVsYXllZFRleHRTdGFydCA9IGNodW5rO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChjaHVuay50eXBlID09PSAndGV4dC1lbmQnICYmIGRlbGF5ZWRUZXh0U3RhcnQpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZGVsYXllZFRleHRTdGFydCk7XG4gICAgICAgICAgICAgICAgZGVsYXllZFRleHRTdGFydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChjaHVuay50eXBlICE9PSAndGV4dC1kZWx0YScpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChyZWFzb25pbmdFeHRyYWN0aW9uc1tjaHVuay5pZF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlYXNvbmluZ0V4dHJhY3Rpb25zW2NodW5rLmlkXSA9IHtcbiAgICAgICAgICAgICAgICAgIGlzRmlyc3RSZWFzb25pbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgICBpc0ZpcnN0VGV4dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGFmdGVyU3dpdGNoOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGlzUmVhc29uaW5nOiBzdGFydFdpdGhSZWFzb25pbmcsXG4gICAgICAgICAgICAgICAgICBidWZmZXI6ICcnLFxuICAgICAgICAgICAgICAgICAgaWRDb3VudGVyOiAwLFxuICAgICAgICAgICAgICAgICAgdGV4dElkOiBjaHVuay5pZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY29uc3QgYWN0aXZlRXh0cmFjdGlvbiA9IHJlYXNvbmluZ0V4dHJhY3Rpb25zW2NodW5rLmlkXTtcblxuICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlciArPSBjaHVuay5kZWx0YTtcblxuICAgICAgICAgICAgICBmdW5jdGlvbiBwdWJsaXNoKHRleHQ6IHN0cmluZykge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHByZWZpeCA9XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYWZ0ZXJTd2l0Y2ggJiZcbiAgICAgICAgICAgICAgICAgICAgKGFjdGl2ZUV4dHJhY3Rpb24uaXNSZWFzb25pbmdcbiAgICAgICAgICAgICAgICAgICAgICA/ICFhY3RpdmVFeHRyYWN0aW9uLmlzRmlyc3RSZWFzb25pbmdcbiAgICAgICAgICAgICAgICAgICAgICA6ICFhY3RpdmVFeHRyYWN0aW9uLmlzRmlyc3RUZXh0KVxuICAgICAgICAgICAgICAgICAgICAgID8gc2VwYXJhdG9yXG4gICAgICAgICAgICAgICAgICAgICAgOiAnJztcblxuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmlzUmVhc29uaW5nICYmXG4gICAgICAgICAgICAgICAgICAgIChhY3RpdmVFeHRyYWN0aW9uLmFmdGVyU3dpdGNoIHx8XG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5pc0ZpcnN0UmVhc29uaW5nKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZy1zdGFydCcsXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGByZWFzb25pbmctJHthY3RpdmVFeHRyYWN0aW9uLmlkQ291bnRlcn1gLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUV4dHJhY3Rpb24uaXNSZWFzb25pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nLWRlbHRhJyxcbiAgICAgICAgICAgICAgICAgICAgICBkZWx0YTogcHJlZml4ICsgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICBpZDogYHJlYXNvbmluZy0ke2FjdGl2ZUV4dHJhY3Rpb24uaWRDb3VudGVyfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGF5ZWRUZXh0U3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZGVsYXllZFRleHRTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgZGVsYXllZFRleHRTdGFydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0LWRlbHRhJyxcbiAgICAgICAgICAgICAgICAgICAgICBkZWx0YTogcHJlZml4ICsgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICBpZDogYWN0aXZlRXh0cmFjdGlvbi50ZXh0SWQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5hZnRlclN3aXRjaCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZykge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmlzRmlyc3RSZWFzb25pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uaXNGaXJzdFRleHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRhZyA9IGFjdGl2ZUV4dHJhY3Rpb24uaXNSZWFzb25pbmdcbiAgICAgICAgICAgICAgICAgID8gY2xvc2luZ1RhZ1xuICAgICAgICAgICAgICAgICAgOiBvcGVuaW5nVGFnO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGdldFBvdGVudGlhbFN0YXJ0SW5kZXgoXG4gICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgIG5leHRUYWcsXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIG5vIG9wZW5pbmcgb3IgY2xvc2luZyB0YWcgZm91bmQsIHB1Ymxpc2ggdGhlIGJ1ZmZlclxuICAgICAgICAgICAgICAgIGlmIChzdGFydEluZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHB1Ymxpc2goYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIpO1xuICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIgPSAnJztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHB1Ymxpc2ggdGV4dCBiZWZvcmUgdGhlIHRhZ1xuICAgICAgICAgICAgICAgIHB1Ymxpc2goYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIuc2xpY2UoMCwgc3RhcnRJbmRleCkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmRGdWxsTWF0Y2ggPVxuICAgICAgICAgICAgICAgICAgc3RhcnRJbmRleCArIG5leHRUYWcubGVuZ3RoIDw9IGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGlmIChmb3VuZEZ1bGxNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIgPSBhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlci5zbGljZShcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRJbmRleCArIG5leHRUYWcubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgLy8gcmVhc29uaW5nIHBhcnQgZmluaXNoZWQ6XG4gICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZykge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICBpZDogYHJlYXNvbmluZy0ke2FjdGl2ZUV4dHJhY3Rpb24uaWRDb3VudGVyKyt9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uaXNSZWFzb25pbmcgPSAhYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZztcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYWZ0ZXJTd2l0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlciA9XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyLnNsaWNlKHN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICAgIC4uLnJlc3QsXG4gICAgICB9O1xuICAgIH0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBTaW11bGF0ZXMgc3RyZWFtaW5nIGNodW5rcyB3aXRoIHRoZSByZXNwb25zZSBmcm9tIGEgZ2VuZXJhdGUgY2FsbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbXVsYXRlU3RyZWFtaW5nTWlkZGxld2FyZSgpOiBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB7XG4gIHJldHVybiB7XG4gICAgbWlkZGxld2FyZVZlcnNpb246ICd2MicsXG4gICAgd3JhcFN0cmVhbTogYXN5bmMgKHsgZG9HZW5lcmF0ZSB9KSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkb0dlbmVyYXRlKCk7XG5cbiAgICAgIGxldCBpZCA9IDA7XG5cbiAgICAgIGNvbnN0IHNpbXVsYXRlZFN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbTxMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0Pih7XG4gICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogJ3N0cmVhbS1zdGFydCcsXG4gICAgICAgICAgICB3YXJuaW5nczogcmVzdWx0Lndhcm5pbmdzLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3Jlc3BvbnNlLW1ldGFkYXRhJywgLi4ucmVzdWx0LnJlc3BvbnNlIH0pO1xuXG4gICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHJlc3VsdC5jb250ZW50KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0LnRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtc3RhcnQnLCBpZDogU3RyaW5nKGlkKSB9KTtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0LWRlbHRhJyxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFN0cmluZyhpZCksXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhOiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LWVuZCcsIGlkOiBTdHJpbmcoaWQpIH0pO1xuICAgICAgICAgICAgICAgICAgaWQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nJzoge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nLXN0YXJ0JyxcbiAgICAgICAgICAgICAgICAgIGlkOiBTdHJpbmcoaWQpLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nLWRlbHRhJyxcbiAgICAgICAgICAgICAgICAgIGlkOiBTdHJpbmcoaWQpLFxuICAgICAgICAgICAgICAgICAgZGVsdGE6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAncmVhc29uaW5nLWVuZCcsIGlkOiBTdHJpbmcoaWQpIH0pO1xuICAgICAgICAgICAgICAgIGlkKys7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShwYXJ0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiAnZmluaXNoJyxcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogcmVzdWx0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIHVzYWdlOiByZXN1bHQudXNhZ2UsXG4gICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiByZXN1bHQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdHJlYW06IHNpbXVsYXRlZFN0cmVhbSxcbiAgICAgICAgcmVxdWVzdDogcmVzdWx0LnJlcXVlc3QsXG4gICAgICAgIHJlc3BvbnNlOiByZXN1bHQucmVzcG9uc2UsXG4gICAgICB9O1xuICAgIH0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFYyLCBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucyB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9hcy1hcnJheSc7XG5cbi8qKlxuICogV3JhcHMgYSBMYW5ndWFnZU1vZGVsVjIgaW5zdGFuY2Ugd2l0aCBtaWRkbGV3YXJlIGZ1bmN0aW9uYWxpdHkuXG4gKiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gYXBwbHkgbWlkZGxld2FyZSB0byB0cmFuc2Zvcm0gcGFyYW1ldGVycyxcbiAqIHdyYXAgZ2VuZXJhdGUgb3BlcmF0aW9ucywgYW5kIHdyYXAgc3RyZWFtIG9wZXJhdGlvbnMgb2YgYSBsYW5ndWFnZSBtb2RlbC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3Igd3JhcHBpbmcgdGhlIGxhbmd1YWdlIG1vZGVsLlxuICogQHBhcmFtIG9wdGlvbnMubW9kZWwgLSBUaGUgb3JpZ2luYWwgTGFuZ3VhZ2VNb2RlbFYyIGluc3RhbmNlIHRvIGJlIHdyYXBwZWQuXG4gKiBAcGFyYW0gb3B0aW9ucy5taWRkbGV3YXJlIC0gVGhlIG1pZGRsZXdhcmUgdG8gYmUgYXBwbGllZCB0byB0aGUgbGFuZ3VhZ2UgbW9kZWwuIFdoZW4gbXVsdGlwbGUgbWlkZGxld2FyZXMgYXJlIHByb3ZpZGVkLCB0aGUgZmlyc3QgbWlkZGxld2FyZSB3aWxsIHRyYW5zZm9ybSB0aGUgaW5wdXQgZmlyc3QsIGFuZCB0aGUgbGFzdCBtaWRkbGV3YXJlIHdpbGwgYmUgd3JhcHBlZCBkaXJlY3RseSBhcm91bmQgdGhlIG1vZGVsLlxuICogQHBhcmFtIG9wdGlvbnMubW9kZWxJZCAtIE9wdGlvbmFsIGN1c3RvbSBtb2RlbCBJRCB0byBvdmVycmlkZSB0aGUgb3JpZ2luYWwgbW9kZWwncyBJRC5cbiAqIEBwYXJhbSBvcHRpb25zLnByb3ZpZGVySWQgLSBPcHRpb25hbCBjdXN0b20gcHJvdmlkZXIgSUQgdG8gb3ZlcnJpZGUgdGhlIG9yaWdpbmFsIG1vZGVsJ3MgcHJvdmlkZXIgSUQuXG4gKiBAcmV0dXJucyBBIG5ldyBMYW5ndWFnZU1vZGVsVjIgaW5zdGFuY2Ugd2l0aCBtaWRkbGV3YXJlIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBjb25zdCB3cmFwTGFuZ3VhZ2VNb2RlbCA9ICh7XG4gIG1vZGVsLFxuICBtaWRkbGV3YXJlOiBtaWRkbGV3YXJlQXJnLFxuICBtb2RlbElkLFxuICBwcm92aWRlcklkLFxufToge1xuICBtb2RlbDogTGFuZ3VhZ2VNb2RlbFYyO1xuICBtaWRkbGV3YXJlOiBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB8IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlW107XG4gIG1vZGVsSWQ/OiBzdHJpbmc7XG4gIHByb3ZpZGVySWQ/OiBzdHJpbmc7XG59KTogTGFuZ3VhZ2VNb2RlbFYyID0+IHtcbiAgcmV0dXJuIGFzQXJyYXkobWlkZGxld2FyZUFyZylcbiAgICAucmV2ZXJzZSgpXG4gICAgLnJlZHVjZSgod3JhcHBlZE1vZGVsLCBtaWRkbGV3YXJlKSA9PiB7XG4gICAgICByZXR1cm4gZG9XcmFwKHsgbW9kZWw6IHdyYXBwZWRNb2RlbCwgbWlkZGxld2FyZSwgbW9kZWxJZCwgcHJvdmlkZXJJZCB9KTtcbiAgICB9LCBtb2RlbCk7XG59O1xuXG5jb25zdCBkb1dyYXAgPSAoe1xuICBtb2RlbCxcbiAgbWlkZGxld2FyZToge1xuICAgIHRyYW5zZm9ybVBhcmFtcyxcbiAgICB3cmFwR2VuZXJhdGUsXG4gICAgd3JhcFN0cmVhbSxcbiAgICBvdmVycmlkZVByb3ZpZGVyLFxuICAgIG92ZXJyaWRlTW9kZWxJZCxcbiAgICBvdmVycmlkZVN1cHBvcnRlZFVybHMsXG4gIH0sXG4gIG1vZGVsSWQsXG4gIHByb3ZpZGVySWQsXG59OiB7XG4gIG1vZGVsOiBMYW5ndWFnZU1vZGVsVjI7XG4gIG1pZGRsZXdhcmU6IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlO1xuICBtb2RlbElkPzogc3RyaW5nO1xuICBwcm92aWRlcklkPzogc3RyaW5nO1xufSk6IExhbmd1YWdlTW9kZWxWMiA9PiB7XG4gIGFzeW5jIGZ1bmN0aW9uIGRvVHJhbnNmb3JtKHtcbiAgICBwYXJhbXMsXG4gICAgdHlwZSxcbiAgfToge1xuICAgIHBhcmFtczogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnM7XG4gICAgdHlwZTogJ2dlbmVyYXRlJyB8ICdzdHJlYW0nO1xuICB9KSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybVBhcmFtc1xuICAgICAgPyBhd2FpdCB0cmFuc2Zvcm1QYXJhbXMoeyBwYXJhbXMsIHR5cGUsIG1vZGVsIH0pXG4gICAgICA6IHBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3BlY2lmaWNhdGlvblZlcnNpb246ICd2MicsXG5cbiAgICBwcm92aWRlcjogcHJvdmlkZXJJZCA/PyBvdmVycmlkZVByb3ZpZGVyPy4oeyBtb2RlbCB9KSA/PyBtb2RlbC5wcm92aWRlcixcbiAgICBtb2RlbElkOiBtb2RlbElkID8/IG92ZXJyaWRlTW9kZWxJZD8uKHsgbW9kZWwgfSkgPz8gbW9kZWwubW9kZWxJZCxcbiAgICBzdXBwb3J0ZWRVcmxzOiBvdmVycmlkZVN1cHBvcnRlZFVybHM/Lih7IG1vZGVsIH0pID8/IG1vZGVsLnN1cHBvcnRlZFVybHMsXG5cbiAgICBhc3luYyBkb0dlbmVyYXRlKFxuICAgICAgcGFyYW1zOiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPEF3YWl0ZWQ8UmV0dXJuVHlwZTxMYW5ndWFnZU1vZGVsVjJbJ2RvR2VuZXJhdGUnXT4+PiB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZFBhcmFtcyA9IGF3YWl0IGRvVHJhbnNmb3JtKHsgcGFyYW1zLCB0eXBlOiAnZ2VuZXJhdGUnIH0pO1xuICAgICAgY29uc3QgZG9HZW5lcmF0ZSA9IGFzeW5jICgpID0+IG1vZGVsLmRvR2VuZXJhdGUodHJhbnNmb3JtZWRQYXJhbXMpO1xuICAgICAgY29uc3QgZG9TdHJlYW0gPSBhc3luYyAoKSA9PiBtb2RlbC5kb1N0cmVhbSh0cmFuc2Zvcm1lZFBhcmFtcyk7XG4gICAgICByZXR1cm4gd3JhcEdlbmVyYXRlXG4gICAgICAgID8gd3JhcEdlbmVyYXRlKHtcbiAgICAgICAgICAgIGRvR2VuZXJhdGUsXG4gICAgICAgICAgICBkb1N0cmVhbSxcbiAgICAgICAgICAgIHBhcmFtczogdHJhbnNmb3JtZWRQYXJhbXMsXG4gICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICB9KVxuICAgICAgICA6IGRvR2VuZXJhdGUoKTtcbiAgICB9LFxuXG4gICAgYXN5bmMgZG9TdHJlYW0oXG4gICAgICBwYXJhbXM6IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zLFxuICAgICk6IFByb21pc2U8QXdhaXRlZDxSZXR1cm5UeXBlPExhbmd1YWdlTW9kZWxWMlsnZG9TdHJlYW0nXT4+PiB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZFBhcmFtcyA9IGF3YWl0IGRvVHJhbnNmb3JtKHsgcGFyYW1zLCB0eXBlOiAnc3RyZWFtJyB9KTtcbiAgICAgIGNvbnN0IGRvR2VuZXJhdGUgPSBhc3luYyAoKSA9PiBtb2RlbC5kb0dlbmVyYXRlKHRyYW5zZm9ybWVkUGFyYW1zKTtcbiAgICAgIGNvbnN0IGRvU3RyZWFtID0gYXN5bmMgKCkgPT4gbW9kZWwuZG9TdHJlYW0odHJhbnNmb3JtZWRQYXJhbXMpO1xuICAgICAgcmV0dXJuIHdyYXBTdHJlYW1cbiAgICAgICAgPyB3cmFwU3RyZWFtKHsgZG9HZW5lcmF0ZSwgZG9TdHJlYW0sIHBhcmFtczogdHJhbnNmb3JtZWRQYXJhbXMsIG1vZGVsIH0pXG4gICAgICAgIDogZG9TdHJlYW0oKTtcbiAgICB9LFxuICB9O1xufTtcbiIsICJpbXBvcnQgdHlwZSB7IFByb3ZpZGVyVjIgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwtbWlkZGxld2FyZSc7XG5pbXBvcnQgeyB3cmFwTGFuZ3VhZ2VNb2RlbCB9IGZyb20gJy4vd3JhcC1sYW5ndWFnZS1tb2RlbCc7XG5cbi8qKlxuICogV3JhcHMgYSBQcm92aWRlclYyIGluc3RhbmNlIHdpdGggbWlkZGxld2FyZSBmdW5jdGlvbmFsaXR5LlxuICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIGFwcGx5IG1pZGRsZXdhcmUgdG8gYWxsIGxhbmd1YWdlIG1vZGVsc1xuICogZnJvbSB0aGUgcHJvdmlkZXIsIGVuYWJsaW5nIHlvdSB0byB0cmFuc2Zvcm0gcGFyYW1ldGVycywgd3JhcCBnZW5lcmF0ZVxuICogb3BlcmF0aW9ucywgYW5kIHdyYXAgc3RyZWFtIG9wZXJhdGlvbnMgZm9yIGV2ZXJ5IGxhbmd1YWdlIG1vZGVsLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB3cmFwcGluZyB0aGUgcHJvdmlkZXIuXG4gKiBAcGFyYW0gb3B0aW9ucy5wcm92aWRlciAtIFRoZSBvcmlnaW5hbCBQcm92aWRlclYyIGluc3RhbmNlIHRvIGJlIHdyYXBwZWQuXG4gKiBAcGFyYW0gb3B0aW9ucy5sYW5ndWFnZU1vZGVsTWlkZGxld2FyZSAtIFRoZSBtaWRkbGV3YXJlIHRvIGJlIGFwcGxpZWQgdG8gYWxsIGxhbmd1YWdlIG1vZGVscyBmcm9tIHRoZSBwcm92aWRlci4gV2hlbiBtdWx0aXBsZSBtaWRkbGV3YXJlcyBhcmUgcHJvdmlkZWQsIHRoZSBmaXJzdCBtaWRkbGV3YXJlIHdpbGwgdHJhbnNmb3JtIHRoZSBpbnB1dCBmaXJzdCwgYW5kIHRoZSBsYXN0IG1pZGRsZXdhcmUgd2lsbCBiZSB3cmFwcGVkIGRpcmVjdGx5IGFyb3VuZCB0aGUgbW9kZWwuXG4gKiBAcmV0dXJucyBBIG5ldyBQcm92aWRlclYyIGluc3RhbmNlIHdpdGggbWlkZGxld2FyZSBhcHBsaWVkIHRvIGFsbCBsYW5ndWFnZSBtb2RlbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwUHJvdmlkZXIoe1xuICBwcm92aWRlcixcbiAgbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUsXG59OiB7XG4gIHByb3ZpZGVyOiBQcm92aWRlclYyO1xuICBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZTogTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgfCBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZVtdO1xufSk6IFByb3ZpZGVyVjIge1xuICBjb25zdCB3cmFwcGVkUHJvdmlkZXIgPSB7XG4gICAgbGFuZ3VhZ2VNb2RlbChtb2RlbElkOiBzdHJpbmcpIHtcbiAgICAgIGxldCBtb2RlbCA9IHByb3ZpZGVyLmxhbmd1YWdlTW9kZWwobW9kZWxJZCk7XG4gICAgICBtb2RlbCA9IHdyYXBMYW5ndWFnZU1vZGVsKHtcbiAgICAgICAgbW9kZWwsXG4gICAgICAgIG1pZGRsZXdhcmU6IGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbW9kZWw7XG4gICAgfSxcbiAgICB0ZXh0RW1iZWRkaW5nTW9kZWw6IHByb3ZpZGVyLnRleHRFbWJlZGRpbmdNb2RlbCxcbiAgICBpbWFnZU1vZGVsOiBwcm92aWRlci5pbWFnZU1vZGVsLFxuICAgIHRyYW5zY3JpcHRpb25Nb2RlbDogcHJvdmlkZXIudHJhbnNjcmlwdGlvbk1vZGVsLFxuICAgIHNwZWVjaE1vZGVsOiBwcm92aWRlci5zcGVlY2hNb2RlbCxcbiAgfTtcblxuICByZXR1cm4gd3JhcHBlZFByb3ZpZGVyO1xufVxuIiwgImltcG9ydCB7XG4gIEVtYmVkZGluZ01vZGVsVjIsXG4gIEltYWdlTW9kZWxWMixcbiAgTGFuZ3VhZ2VNb2RlbFYyLFxuICBOb1N1Y2hNb2RlbEVycm9yLFxuICBQcm92aWRlclYyLFxuICBTcGVlY2hNb2RlbFYyLFxuICBUcmFuc2NyaXB0aW9uTW9kZWxWMixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGN1c3RvbSBwcm92aWRlciB3aXRoIHNwZWNpZmllZCBsYW5ndWFnZSBtb2RlbHMsIHRleHQgZW1iZWRkaW5nIG1vZGVscywgaW1hZ2UgbW9kZWxzLCB0cmFuc2NyaXB0aW9uIG1vZGVscywgc3BlZWNoIG1vZGVscywgYW5kIGFuIG9wdGlvbmFsIGZhbGxiYWNrIHByb3ZpZGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSBjdXN0b20gcHJvdmlkZXIuXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIExhbmd1YWdlTW9kZWw+fSBbb3B0aW9ucy5sYW5ndWFnZU1vZGVsc10gLSBBIHJlY29yZCBvZiBsYW5ndWFnZSBtb2RlbHMsIHdoZXJlIGtleXMgYXJlIG1vZGVsIElEcyBhbmQgdmFsdWVzIGFyZSBMYW5ndWFnZU1vZGVsIGluc3RhbmNlcy5cbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgRW1iZWRkaW5nTW9kZWw8c3RyaW5nPj59IFtvcHRpb25zLnRleHRFbWJlZGRpbmdNb2RlbHNdIC0gQSByZWNvcmQgb2YgdGV4dCBlbWJlZGRpbmcgbW9kZWxzLCB3aGVyZSBrZXlzIGFyZSBtb2RlbCBJRHMgYW5kIHZhbHVlcyBhcmUgRW1iZWRkaW5nTW9kZWw8c3RyaW5nPiBpbnN0YW5jZXMuXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIEltYWdlTW9kZWw+fSBbb3B0aW9ucy5pbWFnZU1vZGVsc10gLSBBIHJlY29yZCBvZiBpbWFnZSBtb2RlbHMsIHdoZXJlIGtleXMgYXJlIG1vZGVsIElEcyBhbmQgdmFsdWVzIGFyZSBJbWFnZU1vZGVsIGluc3RhbmNlcy5cbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgVHJhbnNjcmlwdGlvbk1vZGVsPn0gW29wdGlvbnMudHJhbnNjcmlwdGlvbk1vZGVsc10gLSBBIHJlY29yZCBvZiB0cmFuc2NyaXB0aW9uIG1vZGVscywgd2hlcmUga2V5cyBhcmUgbW9kZWwgSURzIGFuZCB2YWx1ZXMgYXJlIFRyYW5zY3JpcHRpb25Nb2RlbCBpbnN0YW5jZXMuXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIFNwZWVjaE1vZGVsPn0gW29wdGlvbnMuc3BlZWNoTW9kZWxzXSAtIEEgcmVjb3JkIG9mIHNwZWVjaCBtb2RlbHMsIHdoZXJlIGtleXMgYXJlIG1vZGVsIElEcyBhbmQgdmFsdWVzIGFyZSBTcGVlY2hNb2RlbCBpbnN0YW5jZXMuXG4gKiBAcGFyYW0ge1Byb3ZpZGVyfSBbb3B0aW9ucy5mYWxsYmFja1Byb3ZpZGVyXSAtIEFuIG9wdGlvbmFsIGZhbGxiYWNrIHByb3ZpZGVyIHRvIHVzZSB3aGVuIGEgcmVxdWVzdGVkIG1vZGVsIGlzIG5vdCBmb3VuZCBpbiB0aGUgY3VzdG9tIHByb3ZpZGVyLlxuICogQHJldHVybnMge1Byb3ZpZGVyfSBBIFByb3ZpZGVyIG9iamVjdCB3aXRoIGxhbmd1YWdlTW9kZWwsIHRleHRFbWJlZGRpbmdNb2RlbCwgaW1hZ2VNb2RlbCwgdHJhbnNjcmlwdGlvbk1vZGVsLCBhbmQgc3BlZWNoTW9kZWwgbWV0aG9kcy5cbiAqXG4gKiBAdGhyb3dzIHtOb1N1Y2hNb2RlbEVycm9yfSBUaHJvd3Mgd2hlbiBhIHJlcXVlc3RlZCBtb2RlbCBpcyBub3QgZm91bmQgYW5kIG5vIGZhbGxiYWNrIHByb3ZpZGVyIGlzIGF2YWlsYWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGN1c3RvbVByb3ZpZGVyPFxuICBMQU5HVUFHRV9NT0RFTFMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBMYW5ndWFnZU1vZGVsVjI+LFxuICBFTUJFRERJTkdfTU9ERUxTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgRW1iZWRkaW5nTW9kZWxWMjxzdHJpbmc+PixcbiAgSU1BR0VfTU9ERUxTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgSW1hZ2VNb2RlbFYyPixcbiAgVFJBTlNDUklQVElPTl9NT0RFTFMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBUcmFuc2NyaXB0aW9uTW9kZWxWMj4sXG4gIFNQRUVDSF9NT0RFTFMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBTcGVlY2hNb2RlbFYyPixcbj4oe1xuICBsYW5ndWFnZU1vZGVscyxcbiAgdGV4dEVtYmVkZGluZ01vZGVscyxcbiAgaW1hZ2VNb2RlbHMsXG4gIHRyYW5zY3JpcHRpb25Nb2RlbHMsXG4gIHNwZWVjaE1vZGVscyxcbiAgZmFsbGJhY2tQcm92aWRlcixcbn06IHtcbiAgbGFuZ3VhZ2VNb2RlbHM/OiBMQU5HVUFHRV9NT0RFTFM7XG4gIHRleHRFbWJlZGRpbmdNb2RlbHM/OiBFTUJFRERJTkdfTU9ERUxTO1xuICBpbWFnZU1vZGVscz86IElNQUdFX01PREVMUztcbiAgdHJhbnNjcmlwdGlvbk1vZGVscz86IFRSQU5TQ1JJUFRJT05fTU9ERUxTO1xuICBzcGVlY2hNb2RlbHM/OiBTUEVFQ0hfTU9ERUxTO1xuICBmYWxsYmFja1Byb3ZpZGVyPzogUHJvdmlkZXJWMjtcbn0pOiBQcm92aWRlclYyICYge1xuICBsYW5ndWFnZU1vZGVsKG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPExBTkdVQUdFX01PREVMUz4pOiBMYW5ndWFnZU1vZGVsVjI7XG4gIHRleHRFbWJlZGRpbmdNb2RlbChcbiAgICBtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxFTUJFRERJTkdfTU9ERUxTPixcbiAgKTogRW1iZWRkaW5nTW9kZWxWMjxzdHJpbmc+O1xuICBpbWFnZU1vZGVsKG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPElNQUdFX01PREVMUz4pOiBJbWFnZU1vZGVsVjI7XG4gIHRyYW5zY3JpcHRpb25Nb2RlbChcbiAgICBtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxUUkFOU0NSSVBUSU9OX01PREVMUz4sXG4gICk6IFRyYW5zY3JpcHRpb25Nb2RlbFYyO1xuICBzcGVlY2hNb2RlbChtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxTUEVFQ0hfTU9ERUxTPik6IFNwZWVjaE1vZGVsVjI7XG59IHtcbiAgcmV0dXJuIHtcbiAgICBsYW5ndWFnZU1vZGVsKG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPExBTkdVQUdFX01PREVMUz4pOiBMYW5ndWFnZU1vZGVsVjIge1xuICAgICAgaWYgKGxhbmd1YWdlTW9kZWxzICE9IG51bGwgJiYgbW9kZWxJZCBpbiBsYW5ndWFnZU1vZGVscykge1xuICAgICAgICByZXR1cm4gbGFuZ3VhZ2VNb2RlbHNbbW9kZWxJZF07XG4gICAgICB9XG5cbiAgICAgIGlmIChmYWxsYmFja1Byb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFja1Byb3ZpZGVyLmxhbmd1YWdlTW9kZWwobW9kZWxJZCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZCwgbW9kZWxUeXBlOiAnbGFuZ3VhZ2VNb2RlbCcgfSk7XG4gICAgfSxcblxuICAgIHRleHRFbWJlZGRpbmdNb2RlbChcbiAgICAgIG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPEVNQkVERElOR19NT0RFTFM+LFxuICAgICk6IEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPiB7XG4gICAgICBpZiAodGV4dEVtYmVkZGluZ01vZGVscyAhPSBudWxsICYmIG1vZGVsSWQgaW4gdGV4dEVtYmVkZGluZ01vZGVscykge1xuICAgICAgICByZXR1cm4gdGV4dEVtYmVkZGluZ01vZGVsc1ttb2RlbElkXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZhbGxiYWNrUHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrUHJvdmlkZXIudGV4dEVtYmVkZGluZ01vZGVsKG1vZGVsSWQpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7IG1vZGVsSWQsIG1vZGVsVHlwZTogJ3RleHRFbWJlZGRpbmdNb2RlbCcgfSk7XG4gICAgfSxcblxuICAgIGltYWdlTW9kZWwobW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8SU1BR0VfTU9ERUxTPik6IEltYWdlTW9kZWxWMiB7XG4gICAgICBpZiAoaW1hZ2VNb2RlbHMgIT0gbnVsbCAmJiBtb2RlbElkIGluIGltYWdlTW9kZWxzKSB7XG4gICAgICAgIHJldHVybiBpbWFnZU1vZGVsc1ttb2RlbElkXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZhbGxiYWNrUHJvdmlkZXI/LmltYWdlTW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrUHJvdmlkZXIuaW1hZ2VNb2RlbChtb2RlbElkKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IoeyBtb2RlbElkLCBtb2RlbFR5cGU6ICdpbWFnZU1vZGVsJyB9KTtcbiAgICB9LFxuXG4gICAgdHJhbnNjcmlwdGlvbk1vZGVsKFxuICAgICAgbW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8VFJBTlNDUklQVElPTl9NT0RFTFM+LFxuICAgICk6IFRyYW5zY3JpcHRpb25Nb2RlbFYyIHtcbiAgICAgIGlmICh0cmFuc2NyaXB0aW9uTW9kZWxzICE9IG51bGwgJiYgbW9kZWxJZCBpbiB0cmFuc2NyaXB0aW9uTW9kZWxzKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2NyaXB0aW9uTW9kZWxzW21vZGVsSWRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmFsbGJhY2tQcm92aWRlcj8udHJhbnNjcmlwdGlvbk1vZGVsKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFja1Byb3ZpZGVyLnRyYW5zY3JpcHRpb25Nb2RlbChtb2RlbElkKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IoeyBtb2RlbElkLCBtb2RlbFR5cGU6ICd0cmFuc2NyaXB0aW9uTW9kZWwnIH0pO1xuICAgIH0sXG5cbiAgICBzcGVlY2hNb2RlbChtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxTUEVFQ0hfTU9ERUxTPik6IFNwZWVjaE1vZGVsVjIge1xuICAgICAgaWYgKHNwZWVjaE1vZGVscyAhPSBudWxsICYmIG1vZGVsSWQgaW4gc3BlZWNoTW9kZWxzKSB7XG4gICAgICAgIHJldHVybiBzcGVlY2hNb2RlbHNbbW9kZWxJZF07XG4gICAgICB9XG5cbiAgICAgIGlmIChmYWxsYmFja1Byb3ZpZGVyPy5zcGVlY2hNb2RlbCkge1xuICAgICAgICByZXR1cm4gZmFsbGJhY2tQcm92aWRlci5zcGVlY2hNb2RlbChtb2RlbElkKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IoeyBtb2RlbElkLCBtb2RlbFR5cGU6ICdzcGVlY2hNb2RlbCcgfSk7XG4gICAgfSxcbiAgfTtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYGN1c3RvbVByb3ZpZGVyYCBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3QgZXhwZXJpbWVudGFsX2N1c3RvbVByb3ZpZGVyID0gY3VzdG9tUHJvdmlkZXI7XG5cbnR5cGUgRXh0cmFjdE1vZGVsSWQ8TU9ERUxTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+ID0gRXh0cmFjdDxcbiAga2V5b2YgTU9ERUxTLFxuICBzdHJpbmdcbj47XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciwgTm9TdWNoTW9kZWxFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX05vU3VjaFByb3ZpZGVyRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIE5vU3VjaFByb3ZpZGVyRXJyb3IgZXh0ZW5kcyBOb1N1Y2hNb2RlbEVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHByb3ZpZGVySWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgYXZhaWxhYmxlUHJvdmlkZXJzOiBzdHJpbmdbXTtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbW9kZWxJZCxcbiAgICBtb2RlbFR5cGUsXG4gICAgcHJvdmlkZXJJZCxcbiAgICBhdmFpbGFibGVQcm92aWRlcnMsXG4gICAgbWVzc2FnZSA9IGBObyBzdWNoIHByb3ZpZGVyOiAke3Byb3ZpZGVySWR9IChhdmFpbGFibGUgcHJvdmlkZXJzOiAke2F2YWlsYWJsZVByb3ZpZGVycy5qb2luKCl9KWAsXG4gIH06IHtcbiAgICBtb2RlbElkOiBzdHJpbmc7XG4gICAgbW9kZWxUeXBlOlxuICAgICAgfCAnbGFuZ3VhZ2VNb2RlbCdcbiAgICAgIHwgJ3RleHRFbWJlZGRpbmdNb2RlbCdcbiAgICAgIHwgJ2ltYWdlTW9kZWwnXG4gICAgICB8ICd0cmFuc2NyaXB0aW9uTW9kZWwnXG4gICAgICB8ICdzcGVlY2hNb2RlbCc7XG4gICAgcHJvdmlkZXJJZDogc3RyaW5nO1xuICAgIGF2YWlsYWJsZVByb3ZpZGVyczogc3RyaW5nW107XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHsgZXJyb3JOYW1lOiBuYW1lLCBtb2RlbElkLCBtb2RlbFR5cGUsIG1lc3NhZ2UgfSk7XG5cbiAgICB0aGlzLnByb3ZpZGVySWQgPSBwcm92aWRlcklkO1xuICAgIHRoaXMuYXZhaWxhYmxlUHJvdmlkZXJzID0gYXZhaWxhYmxlUHJvdmlkZXJzO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBOb1N1Y2hQcm92aWRlckVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBFbWJlZGRpbmdNb2RlbFYyLFxuICBJbWFnZU1vZGVsVjIsXG4gIExhbmd1YWdlTW9kZWxWMixcbiAgTm9TdWNoTW9kZWxFcnJvcixcbiAgUHJvdmlkZXJWMixcbiAgU3BlZWNoTW9kZWxWMixcbiAgVHJhbnNjcmlwdGlvbk1vZGVsVjIsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgd3JhcExhbmd1YWdlTW9kZWwgfSBmcm9tICcuLi9taWRkbGV3YXJlL3dyYXAtbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBOb1N1Y2hQcm92aWRlckVycm9yIH0gZnJvbSAnLi9uby1zdWNoLXByb3ZpZGVyLWVycm9yJztcblxudHlwZSBFeHRyYWN0TGl0ZXJhbFVuaW9uPFQ+ID0gVCBleHRlbmRzIHN0cmluZ1xuICA/IHN0cmluZyBleHRlbmRzIFRcbiAgICA/IG5ldmVyXG4gICAgOiBUXG4gIDogbmV2ZXI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvdmlkZXJSZWdpc3RyeVByb3ZpZGVyPFxuICBQUk9WSURFUlMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBQcm92aWRlclYyPiA9IFJlY29yZDxzdHJpbmcsIFByb3ZpZGVyVjI+LFxuICBTRVBBUkFUT1IgZXh0ZW5kcyBzdHJpbmcgPSAnOicsXG4+IHtcbiAgbGFuZ3VhZ2VNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmdcbiAgICAgID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7RXh0cmFjdExpdGVyYWxVbmlvbjxQYXJhbWV0ZXJzPE5vbk51bGxhYmxlPFBST1ZJREVSU1tLRVldWydsYW5ndWFnZU1vZGVsJ10+PlswXT59YFxuICAgICAgOiBuZXZlcixcbiAgKTogTGFuZ3VhZ2VNb2RlbFYyO1xuICBsYW5ndWFnZU1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZyA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gIDogbmV2ZXIsXG4gICk6IExhbmd1YWdlTW9kZWxWMjtcblxuICB0ZXh0RW1iZWRkaW5nTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nXG4gICAgICA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke0V4dHJhY3RMaXRlcmFsVW5pb248UGFyYW1ldGVyczxOb25OdWxsYWJsZTxQUk9WSURFUlNbS0VZXVsndGV4dEVtYmVkZGluZ01vZGVsJ10+PlswXT59YFxuICAgICAgOiBuZXZlcixcbiAgKTogRW1iZWRkaW5nTW9kZWxWMjxzdHJpbmc+O1xuICB0ZXh0RW1iZWRkaW5nTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAgOiBuZXZlcixcbiAgKTogRW1iZWRkaW5nTW9kZWxWMjxzdHJpbmc+O1xuXG4gIGltYWdlTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nXG4gICAgICA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke0V4dHJhY3RMaXRlcmFsVW5pb248UGFyYW1ldGVyczxOb25OdWxsYWJsZTxQUk9WSURFUlNbS0VZXVsnaW1hZ2VNb2RlbCddPj5bMF0+fWBcbiAgICAgIDogbmV2ZXIsXG4gICk6IEltYWdlTW9kZWxWMjtcbiAgaW1hZ2VNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmcgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCA6IG5ldmVyLFxuICApOiBJbWFnZU1vZGVsVjI7XG5cbiAgdHJhbnNjcmlwdGlvbk1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZ1xuICAgICAgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtFeHRyYWN0TGl0ZXJhbFVuaW9uPFBhcmFtZXRlcnM8Tm9uTnVsbGFibGU8UFJPVklERVJTW0tFWV1bJ3RyYW5zY3JpcHRpb25Nb2RlbCddPj5bMF0+fWBcbiAgICAgIDogbmV2ZXIsXG4gICk6IFRyYW5zY3JpcHRpb25Nb2RlbFYyO1xuICB0cmFuc2NyaXB0aW9uTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAgOiBuZXZlcixcbiAgKTogVHJhbnNjcmlwdGlvbk1vZGVsVjI7XG5cbiAgc3BlZWNoTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nXG4gICAgICA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke0V4dHJhY3RMaXRlcmFsVW5pb248UGFyYW1ldGVyczxOb25OdWxsYWJsZTxQUk9WSURFUlNbS0VZXVsnc3BlZWNoTW9kZWwnXT4+WzBdPn1gXG4gICAgICA6IG5ldmVyLFxuICApOiBTcGVlY2hNb2RlbFYyO1xuICBzcGVlY2hNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmcgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCA6IG5ldmVyLFxuICApOiBTcGVlY2hNb2RlbFYyO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSByZWdpc3RyeSBmb3IgdGhlIGdpdmVuIHByb3ZpZGVycyB3aXRoIG9wdGlvbmFsIG1pZGRsZXdhcmUgZnVuY3Rpb25hbGl0eS5cbiAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byByZWdpc3RlciBtdWx0aXBsZSBwcm92aWRlcnMgYW5kIG9wdGlvbmFsbHkgYXBwbHkgbWlkZGxld2FyZVxuICogdG8gYWxsIGxhbmd1YWdlIG1vZGVscyBmcm9tIHRoZSByZWdpc3RyeSwgZW5hYmxpbmcgeW91IHRvIHRyYW5zZm9ybSBwYXJhbWV0ZXJzLCB3cmFwIGdlbmVyYXRlXG4gKiBvcGVyYXRpb25zLCBhbmQgd3JhcCBzdHJlYW0gb3BlcmF0aW9ucyBmb3IgZXZlcnkgbGFuZ3VhZ2UgbW9kZWwgYWNjZXNzZWQgdGhyb3VnaCB0aGUgcmVnaXN0cnkuXG4gKlxuICogQHBhcmFtIHByb3ZpZGVycyAtIEEgcmVjb3JkIG9mIHByb3ZpZGVyIGluc3RhbmNlcyB0byBiZSByZWdpc3RlcmVkIGluIHRoZSByZWdpc3RyeS5cbiAqIEBwYXJhbSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgcHJvdmlkZXIgcmVnaXN0cnkuXG4gKiBAcGFyYW0gb3B0aW9ucy5zZXBhcmF0b3IgLSBUaGUgc2VwYXJhdG9yIHVzZWQgYmV0d2VlbiBwcm92aWRlciBJRCBhbmQgbW9kZWwgSUQgaW4gdGhlIGNvbWJpbmVkIGlkZW50aWZpZXIuIERlZmF1bHRzIHRvICc6Jy5cbiAqIEBwYXJhbSBvcHRpb25zLmxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIC0gT3B0aW9uYWwgbWlkZGxld2FyZSB0byBiZSBhcHBsaWVkIHRvIGFsbCBsYW5ndWFnZSBtb2RlbHMgZnJvbSB0aGUgcmVnaXN0cnkuIFdoZW4gbXVsdGlwbGUgbWlkZGxld2FyZXMgYXJlIHByb3ZpZGVkLCB0aGUgZmlyc3QgbWlkZGxld2FyZSB3aWxsIHRyYW5zZm9ybSB0aGUgaW5wdXQgZmlyc3QsIGFuZCB0aGUgbGFzdCBtaWRkbGV3YXJlIHdpbGwgYmUgd3JhcHBlZCBkaXJlY3RseSBhcm91bmQgdGhlIG1vZGVsLlxuICogQHJldHVybnMgQSBuZXcgUHJvdmlkZXJSZWdpc3RyeVByb3ZpZGVyIGluc3RhbmNlIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIGFsbCByZWdpc3RlcmVkIHByb3ZpZGVycyB3aXRoIG9wdGlvbmFsIG1pZGRsZXdhcmUgYXBwbGllZCB0byBsYW5ndWFnZSBtb2RlbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm92aWRlclJlZ2lzdHJ5PFxuICBQUk9WSURFUlMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBQcm92aWRlclYyPixcbiAgU0VQQVJBVE9SIGV4dGVuZHMgc3RyaW5nID0gJzonLFxuPihcbiAgcHJvdmlkZXJzOiBQUk9WSURFUlMsXG4gIHtcbiAgICBzZXBhcmF0b3IgPSAnOicgYXMgU0VQQVJBVE9SLFxuICAgIGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlLFxuICB9OiB7XG4gICAgc2VwYXJhdG9yPzogU0VQQVJBVE9SO1xuICAgIGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlPzpcbiAgICAgIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVcbiAgICAgIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVbXTtcbiAgfSA9IHt9LFxuKTogUHJvdmlkZXJSZWdpc3RyeVByb3ZpZGVyPFBST1ZJREVSUywgU0VQQVJBVE9SPiB7XG4gIGNvbnN0IHJlZ2lzdHJ5ID0gbmV3IERlZmF1bHRQcm92aWRlclJlZ2lzdHJ5PFBST1ZJREVSUywgU0VQQVJBVE9SPih7XG4gICAgc2VwYXJhdG9yLFxuICAgIGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlLFxuICB9KTtcblxuICBmb3IgKGNvbnN0IFtpZCwgcHJvdmlkZXJdIG9mIE9iamVjdC5lbnRyaWVzKHByb3ZpZGVycykpIHtcbiAgICByZWdpc3RyeS5yZWdpc3RlclByb3ZpZGVyKHsgaWQsIHByb3ZpZGVyIH0gYXMge1xuICAgICAgaWQ6IGtleW9mIFBST1ZJREVSUztcbiAgICAgIHByb3ZpZGVyOiBQUk9WSURFUlNba2V5b2YgUFJPVklERVJTXTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiByZWdpc3RyeTtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYGNyZWF0ZVByb3ZpZGVyUmVnaXN0cnlgIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBleHBlcmltZW50YWxfY3JlYXRlUHJvdmlkZXJSZWdpc3RyeSA9IGNyZWF0ZVByb3ZpZGVyUmVnaXN0cnk7XG5cbmNsYXNzIERlZmF1bHRQcm92aWRlclJlZ2lzdHJ5PFxuICBQUk9WSURFUlMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBQcm92aWRlclYyPixcbiAgU0VQQVJBVE9SIGV4dGVuZHMgc3RyaW5nLFxuPiBpbXBsZW1lbnRzIFByb3ZpZGVyUmVnaXN0cnlQcm92aWRlcjxQUk9WSURFUlMsIFNFUEFSQVRPUj5cbntcbiAgcHJpdmF0ZSBwcm92aWRlcnM6IFBST1ZJREVSUyA9IHt9IGFzIFBST1ZJREVSUztcbiAgcHJpdmF0ZSBzZXBhcmF0b3I6IFNFUEFSQVRPUjtcbiAgcHJpdmF0ZSBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZT86XG4gICAgfCBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZVxuICAgIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVbXTtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgc2VwYXJhdG9yLFxuICAgIGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlLFxuICB9OiB7XG4gICAgc2VwYXJhdG9yOiBTRVBBUkFUT1I7XG4gICAgbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmU/OlxuICAgICAgfCBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZVxuICAgICAgfCBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZVtdO1xuICB9KSB7XG4gICAgdGhpcy5zZXBhcmF0b3IgPSBzZXBhcmF0b3I7XG4gICAgdGhpcy5sYW5ndWFnZU1vZGVsTWlkZGxld2FyZSA9IGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlO1xuICB9XG5cbiAgcmVnaXN0ZXJQcm92aWRlcjxLIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPih7XG4gICAgaWQsXG4gICAgcHJvdmlkZXIsXG4gIH06IHtcbiAgICBpZDogSztcbiAgICBwcm92aWRlcjogUFJPVklERVJTW0tdO1xuICB9KTogdm9pZCB7XG4gICAgdGhpcy5wcm92aWRlcnNbaWRdID0gcHJvdmlkZXI7XG4gIH1cblxuICBwcml2YXRlIGdldFByb3ZpZGVyKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgbW9kZWxUeXBlOlxuICAgICAgfCAnbGFuZ3VhZ2VNb2RlbCdcbiAgICAgIHwgJ3RleHRFbWJlZGRpbmdNb2RlbCdcbiAgICAgIHwgJ2ltYWdlTW9kZWwnXG4gICAgICB8ICd0cmFuc2NyaXB0aW9uTW9kZWwnXG4gICAgICB8ICdzcGVlY2hNb2RlbCcsXG4gICk6IFByb3ZpZGVyVjIge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gdGhpcy5wcm92aWRlcnNbaWQgYXMga2V5b2YgUFJPVklERVJTXTtcblxuICAgIGlmIChwcm92aWRlciA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoUHJvdmlkZXJFcnJvcih7XG4gICAgICAgIG1vZGVsSWQ6IGlkLFxuICAgICAgICBtb2RlbFR5cGUsXG4gICAgICAgIHByb3ZpZGVySWQ6IGlkLFxuICAgICAgICBhdmFpbGFibGVQcm92aWRlcnM6IE9iamVjdC5rZXlzKHRoaXMucHJvdmlkZXJzKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm92aWRlcjtcbiAgfVxuXG4gIHByaXZhdGUgc3BsaXRJZChcbiAgICBpZDogc3RyaW5nLFxuICAgIG1vZGVsVHlwZTpcbiAgICAgIHwgJ2xhbmd1YWdlTW9kZWwnXG4gICAgICB8ICd0ZXh0RW1iZWRkaW5nTW9kZWwnXG4gICAgICB8ICdpbWFnZU1vZGVsJ1xuICAgICAgfCAndHJhbnNjcmlwdGlvbk1vZGVsJ1xuICAgICAgfCAnc3BlZWNoTW9kZWwnLFxuICApOiBbc3RyaW5nLCBzdHJpbmddIHtcbiAgICBjb25zdCBpbmRleCA9IGlkLmluZGV4T2YodGhpcy5zZXBhcmF0b3IpO1xuXG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3Ioe1xuICAgICAgICBtb2RlbElkOiBpZCxcbiAgICAgICAgbW9kZWxUeXBlLFxuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgIGBJbnZhbGlkICR7bW9kZWxUeXBlfSBpZCBmb3IgcmVnaXN0cnk6ICR7aWR9IGAgK1xuICAgICAgICAgIGAobXVzdCBiZSBpbiB0aGUgZm9ybWF0IFwicHJvdmlkZXJJZCR7dGhpcy5zZXBhcmF0b3J9bW9kZWxJZFwiKWAsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gW2lkLnNsaWNlKDAsIGluZGV4KSwgaWQuc2xpY2UoaW5kZXggKyB0aGlzLnNlcGFyYXRvci5sZW5ndGgpXTtcbiAgfVxuXG4gIGxhbmd1YWdlTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAsXG4gICk6IExhbmd1YWdlTW9kZWxWMiB7XG4gICAgY29uc3QgW3Byb3ZpZGVySWQsIG1vZGVsSWRdID0gdGhpcy5zcGxpdElkKGlkLCAnbGFuZ3VhZ2VNb2RlbCcpO1xuICAgIGxldCBtb2RlbCA9IHRoaXMuZ2V0UHJvdmlkZXIocHJvdmlkZXJJZCwgJ2xhbmd1YWdlTW9kZWwnKS5sYW5ndWFnZU1vZGVsPy4oXG4gICAgICBtb2RlbElkLFxuICAgICk7XG5cbiAgICBpZiAobW9kZWwgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IoeyBtb2RlbElkOiBpZCwgbW9kZWxUeXBlOiAnbGFuZ3VhZ2VNb2RlbCcgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgIT0gbnVsbCkge1xuICAgICAgbW9kZWwgPSB3cmFwTGFuZ3VhZ2VNb2RlbCh7XG4gICAgICAgIG1vZGVsLFxuICAgICAgICBtaWRkbGV3YXJlOiB0aGlzLmxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgdGV4dEVtYmVkZGluZ01vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gLFxuICApOiBFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz4ge1xuICAgIGNvbnN0IFtwcm92aWRlcklkLCBtb2RlbElkXSA9IHRoaXMuc3BsaXRJZChpZCwgJ3RleHRFbWJlZGRpbmdNb2RlbCcpO1xuICAgIGNvbnN0IHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihwcm92aWRlcklkLCAndGV4dEVtYmVkZGluZ01vZGVsJyk7XG5cbiAgICBjb25zdCBtb2RlbCA9IHByb3ZpZGVyLnRleHRFbWJlZGRpbmdNb2RlbD8uKG1vZGVsSWQpO1xuXG4gICAgaWYgKG1vZGVsID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHtcbiAgICAgICAgbW9kZWxJZDogaWQsXG4gICAgICAgIG1vZGVsVHlwZTogJ3RleHRFbWJlZGRpbmdNb2RlbCcsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cblxuICBpbWFnZU1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gLFxuICApOiBJbWFnZU1vZGVsVjIge1xuICAgIGNvbnN0IFtwcm92aWRlcklkLCBtb2RlbElkXSA9IHRoaXMuc3BsaXRJZChpZCwgJ2ltYWdlTW9kZWwnKTtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIocHJvdmlkZXJJZCwgJ2ltYWdlTW9kZWwnKTtcblxuICAgIGNvbnN0IG1vZGVsID0gcHJvdmlkZXIuaW1hZ2VNb2RlbD8uKG1vZGVsSWQpO1xuXG4gICAgaWYgKG1vZGVsID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZDogaWQsIG1vZGVsVHlwZTogJ2ltYWdlTW9kZWwnIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIHRyYW5zY3JpcHRpb25Nb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCxcbiAgKTogVHJhbnNjcmlwdGlvbk1vZGVsVjIge1xuICAgIGNvbnN0IFtwcm92aWRlcklkLCBtb2RlbElkXSA9IHRoaXMuc3BsaXRJZChpZCwgJ3RyYW5zY3JpcHRpb25Nb2RlbCcpO1xuICAgIGNvbnN0IHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihwcm92aWRlcklkLCAndHJhbnNjcmlwdGlvbk1vZGVsJyk7XG5cbiAgICBjb25zdCBtb2RlbCA9IHByb3ZpZGVyLnRyYW5zY3JpcHRpb25Nb2RlbD8uKG1vZGVsSWQpO1xuXG4gICAgaWYgKG1vZGVsID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHtcbiAgICAgICAgbW9kZWxJZDogaWQsXG4gICAgICAgIG1vZGVsVHlwZTogJ3RyYW5zY3JpcHRpb25Nb2RlbCcsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cblxuICBzcGVlY2hNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCxcbiAgKTogU3BlZWNoTW9kZWxWMiB7XG4gICAgY29uc3QgW3Byb3ZpZGVySWQsIG1vZGVsSWRdID0gdGhpcy5zcGxpdElkKGlkLCAnc3BlZWNoTW9kZWwnKTtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIocHJvdmlkZXJJZCwgJ3NwZWVjaE1vZGVsJyk7XG5cbiAgICBjb25zdCBtb2RlbCA9IHByb3ZpZGVyLnNwZWVjaE1vZGVsPy4obW9kZWxJZCk7XG5cbiAgICBpZiAobW9kZWwgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IoeyBtb2RlbElkOiBpZCwgbW9kZWxUeXBlOiAnc3BlZWNoTW9kZWwnIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxufVxuIiwgImltcG9ydCB7IEpTT05TY2hlbWE3IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBkeW5hbWljVG9vbCxcbiAganNvblNjaGVtYSxcbiAgVG9vbCxcbiAgdG9vbCxcbiAgVG9vbENhbGxPcHRpb25zLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHosIFpvZFR5cGUgfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgTUNQQ2xpZW50RXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9tY3AtY2xpZW50LWVycm9yJztcbmltcG9ydCB7XG4gIEpTT05SUENFcnJvcixcbiAgSlNPTlJQQ05vdGlmaWNhdGlvbixcbiAgSlNPTlJQQ1JlcXVlc3QsXG4gIEpTT05SUENSZXNwb25zZSxcbn0gZnJvbSAnLi9qc29uLXJwYy1tZXNzYWdlJztcbmltcG9ydCB7XG4gIGNyZWF0ZU1jcFRyYW5zcG9ydCxcbiAgaXNDdXN0b21NY3BUcmFuc3BvcnQsXG4gIE1DUFRyYW5zcG9ydCxcbiAgTUNQVHJhbnNwb3J0Q29uZmlnLFxufSBmcm9tICcuL21jcC10cmFuc3BvcnQnO1xuaW1wb3J0IHtcbiAgQ2FsbFRvb2xSZXN1bHQsXG4gIENhbGxUb29sUmVzdWx0U2NoZW1hLFxuICBDb25maWd1cmF0aW9uIGFzIENsaWVudENvbmZpZ3VyYXRpb24sXG4gIEluaXRpYWxpemVSZXN1bHRTY2hlbWEsXG4gIExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OLFxuICBMaXN0VG9vbHNSZXN1bHQsXG4gIExpc3RUb29sc1Jlc3VsdFNjaGVtYSxcbiAgTWNwVG9vbFNldCxcbiAgTm90aWZpY2F0aW9uLFxuICBQYWdpbmF0ZWRSZXF1ZXN0LFxuICBSZXF1ZXN0LFxuICBSZXF1ZXN0T3B0aW9ucyxcbiAgU2VydmVyQ2FwYWJpbGl0aWVzLFxuICBTVVBQT1JURURfUFJPVE9DT0xfVkVSU0lPTlMsXG4gIFRvb2xTY2hlbWFzLFxufSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgQ0xJRU5UX1ZFUlNJT04gPSAnMS4wLjAnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1DUENsaWVudENvbmZpZyB7XG4gIC8qKiBUcmFuc3BvcnQgY29uZmlndXJhdGlvbiBmb3IgY29ubmVjdGluZyB0byB0aGUgTUNQIHNlcnZlciAqL1xuICB0cmFuc3BvcnQ6IE1DUFRyYW5zcG9ydENvbmZpZyB8IE1DUFRyYW5zcG9ydDtcbiAgLyoqIE9wdGlvbmFsIGNhbGxiYWNrIGZvciB1bmNhdWdodCBlcnJvcnMgKi9cbiAgb25VbmNhdWdodEVycm9yPzogKGVycm9yOiB1bmtub3duKSA9PiB2b2lkO1xuICAvKiogT3B0aW9uYWwgY2xpZW50IG5hbWUsIGRlZmF1bHRzIHRvICdhaS1zZGstbWNwLWNsaWVudCcgKi9cbiAgbmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1DUENsaWVudChcbiAgY29uZmlnOiBNQ1BDbGllbnRDb25maWcsXG4pOiBQcm9taXNlPE1DUENsaWVudD4ge1xuICBjb25zdCBjbGllbnQgPSBuZXcgRGVmYXVsdE1DUENsaWVudChjb25maWcpO1xuICBhd2FpdCBjbGllbnQuaW5pdCgpO1xuICByZXR1cm4gY2xpZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1DUENsaWVudCB7XG4gIHRvb2xzPFRPT0xfU0NIRU1BUyBleHRlbmRzIFRvb2xTY2hlbWFzID0gJ2F1dG9tYXRpYyc+KG9wdGlvbnM/OiB7XG4gICAgc2NoZW1hcz86IFRPT0xfU0NIRU1BUztcbiAgfSk6IFByb21pc2U8TWNwVG9vbFNldDxUT09MX1NDSEVNQVM+PjtcblxuICBjbG9zZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuLyoqXG4gKiBBIGxpZ2h0d2VpZ2h0IE1DUCBDbGllbnQgaW1wbGVtZW50YXRpb25cbiAqXG4gKiBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoaXMgY2xpZW50IGlzIHRvb2wgY29udmVyc2lvbiBiZXR3ZWVuIE1DUDw+QUkgU0RLXG4gKiBidXQgY2FuIGxhdGVyIGJlIGV4dGVuZGVkIHRvIHN1cHBvcnQgb3RoZXIgTUNQIGZlYXR1cmVzXG4gKlxuICogVG9vbCBwYXJhbWV0ZXJzIGFyZSBhdXRvbWF0aWNhbGx5IGluZmVycmVkIGZyb20gdGhlIHNlcnZlcidzIEpTT04gc2NoZW1hXG4gKiBpZiBub3QgZXhwbGljaXRseSBwcm92aWRlZCBpbiB0aGUgdG9vbHMgY29uZmlndXJhdGlvblxuICpcbiAqIFRoaXMgY2xpZW50IGlzIG1lYW50IHRvIGJlIHVzZWQgdG8gY29tbXVuaWNhdGUgd2l0aCBhIHNpbmdsZSBzZXJ2ZXIuIFRvIGNvbW11bmljYXRlIGFuZCBmZXRjaCB0b29scyBhY3Jvc3MgbXVsdGlwbGUgc2VydmVycywgaXQncyByZWNvbW1lbmRlZCB0byBjcmVhdGUgYSBuZXcgY2xpZW50IGluc3RhbmNlIHBlciBzZXJ2ZXIuXG4gKlxuICogTm90IHN1cHBvcnRlZDpcbiAqIC0gQ2xpZW50IG9wdGlvbnMgKGUuZy4gc2FtcGxpbmcsIHJvb3RzKSBhcyB0aGV5IGFyZSBub3QgbmVlZGVkIGZvciB0b29sIGNvbnZlcnNpb25cbiAqIC0gQWNjZXB0aW5nIG5vdGlmaWNhdGlvbnNcbiAqIC0gU2Vzc2lvbiBtYW5hZ2VtZW50ICh3aGVuIHBhc3NpbmcgYSBzZXNzaW9uSWQgdG8gYW4gaW5zdGFuY2Ugb2YgdGhlIFN0cmVhbWFibGUgSFRUUCB0cmFuc3BvcnQpXG4gKiAtIFJlc3VtYWJsZSBTU0Ugc3RyZWFtc1xuICovXG5jbGFzcyBEZWZhdWx0TUNQQ2xpZW50IGltcGxlbWVudHMgTUNQQ2xpZW50IHtcbiAgcHJpdmF0ZSB0cmFuc3BvcnQ6IE1DUFRyYW5zcG9ydDtcbiAgcHJpdmF0ZSBvblVuY2F1Z2h0RXJyb3I/OiAoZXJyb3I6IHVua25vd24pID0+IHZvaWQ7XG4gIHByaXZhdGUgY2xpZW50SW5mbzogQ2xpZW50Q29uZmlndXJhdGlvbjtcbiAgcHJpdmF0ZSByZXF1ZXN0TWVzc2FnZUlkID0gMDtcbiAgcHJpdmF0ZSByZXNwb25zZUhhbmRsZXJzOiBNYXA8XG4gICAgbnVtYmVyLFxuICAgIChyZXNwb25zZTogSlNPTlJQQ1Jlc3BvbnNlIHwgRXJyb3IpID0+IHZvaWRcbiAgPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBzZXJ2ZXJDYXBhYmlsaXRpZXM6IFNlcnZlckNhcGFiaWxpdGllcyA9IHt9O1xuICBwcml2YXRlIGlzQ2xvc2VkID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgdHJhbnNwb3J0OiB0cmFuc3BvcnRDb25maWcsXG4gICAgbmFtZSA9ICdhaS1zZGstbWNwLWNsaWVudCcsXG4gICAgb25VbmNhdWdodEVycm9yLFxuICB9OiBNQ1BDbGllbnRDb25maWcpIHtcbiAgICB0aGlzLm9uVW5jYXVnaHRFcnJvciA9IG9uVW5jYXVnaHRFcnJvcjtcblxuICAgIGlmIChpc0N1c3RvbU1jcFRyYW5zcG9ydCh0cmFuc3BvcnRDb25maWcpKSB7XG4gICAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydENvbmZpZztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50cmFuc3BvcnQgPSBjcmVhdGVNY3BUcmFuc3BvcnQodHJhbnNwb3J0Q29uZmlnKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYW5zcG9ydC5vbmNsb3NlID0gKCkgPT4gdGhpcy5vbkNsb3NlKCk7XG4gICAgdGhpcy50cmFuc3BvcnQub25lcnJvciA9IChlcnJvcjogRXJyb3IpID0+IHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgdGhpcy50cmFuc3BvcnQub25tZXNzYWdlID0gbWVzc2FnZSA9PiB7XG4gICAgICBpZiAoJ21ldGhvZCcgaW4gbWVzc2FnZSkge1xuICAgICAgICAvLyBUaGlzIGxpZ2h0d2VpZ2h0IGNsaWVudCBpbXBsZW1lbnRhdGlvbiBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAgIC8vIHJlY2VpdmluZyBub3RpZmljYXRpb25zIG9yIHJlcXVlc3RzIGZyb20gc2VydmVyLlxuICAgICAgICAvLyBJZiB3ZSBnZXQgYW4gdW5zdXBwb3J0ZWQgbWVzc2FnZSwgd2UgY2FuIHNhZmVseSBpZ25vcmUgaXQgYW5kIHBhc3MgdG8gdGhlIG9uRXJyb3IgaGFuZGxlcjpcbiAgICAgICAgdGhpcy5vbkVycm9yKFxuICAgICAgICAgIG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnVW5zdXBwb3J0ZWQgbWVzc2FnZSB0eXBlJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9uUmVzcG9uc2UobWVzc2FnZSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xpZW50SW5mbyA9IHtcbiAgICAgIG5hbWUsXG4gICAgICB2ZXJzaW9uOiBDTElFTlRfVkVSU0lPTixcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHRoaXM+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy50cmFuc3BvcnQuc3RhcnQoKTtcbiAgICAgIHRoaXMuaXNDbG9zZWQgPSBmYWxzZTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgIG1ldGhvZDogJ2luaXRpYWxpemUnLFxuICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgcHJvdG9jb2xWZXJzaW9uOiBMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTixcbiAgICAgICAgICAgIGNhcGFiaWxpdGllczoge30sXG4gICAgICAgICAgICBjbGllbnRJbmZvOiB0aGlzLmNsaWVudEluZm8sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdWx0U2NoZW1hOiBJbml0aWFsaXplUmVzdWx0U2NoZW1hLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZXJ2ZXIgc2VudCBpbnZhbGlkIGluaXRpYWxpemUgcmVzdWx0JyxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghU1VQUE9SVEVEX1BST1RPQ09MX1ZFUlNJT05TLmluY2x1ZGVzKHJlc3VsdC5wcm90b2NvbFZlcnNpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogYFNlcnZlcidzIHByb3RvY29sIHZlcnNpb24gaXMgbm90IHN1cHBvcnRlZDogJHtyZXN1bHQucHJvdG9jb2xWZXJzaW9ufWAsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNlcnZlckNhcGFiaWxpdGllcyA9IHJlc3VsdC5jYXBhYmlsaXRpZXM7XG5cbiAgICAgIC8vIENvbXBsZXRlIGluaXRpYWxpemF0aW9uIGhhbmRzaGFrZTpcbiAgICAgIGF3YWl0IHRoaXMubm90aWZpY2F0aW9uKHtcbiAgICAgICAgbWV0aG9kOiAnbm90aWZpY2F0aW9ucy9pbml0aWFsaXplZCcsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGF3YWl0IHRoaXMuY2xvc2UoKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNsb3NlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmlzQ2xvc2VkKSByZXR1cm47XG4gICAgYXdhaXQgdGhpcy50cmFuc3BvcnQ/LmNsb3NlKCk7XG4gICAgdGhpcy5vbkNsb3NlKCk7XG4gIH1cblxuICBwcml2YXRlIGFzc2VydENhcGFiaWxpdHkobWV0aG9kOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgY2FzZSAnaW5pdGlhbGl6ZSc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9vbHMvbGlzdCc6XG4gICAgICBjYXNlICd0b29scy9jYWxsJzpcbiAgICAgICAgaWYgKCF0aGlzLnNlcnZlckNhcGFiaWxpdGllcy50b29scykge1xuICAgICAgICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiBgU2VydmVyIGRvZXMgbm90IHN1cHBvcnQgdG9vbHNgLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBgVW5zdXBwb3J0ZWQgbWV0aG9kOiAke21ldGhvZH1gLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlcXVlc3Q8VCBleHRlbmRzIFpvZFR5cGU8b2JqZWN0Pj4oe1xuICAgIHJlcXVlc3QsXG4gICAgcmVzdWx0U2NoZW1hLFxuICAgIG9wdGlvbnMsXG4gIH06IHtcbiAgICByZXF1ZXN0OiBSZXF1ZXN0O1xuICAgIHJlc3VsdFNjaGVtYTogVDtcbiAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnM7XG4gIH0pOiBQcm9taXNlPHouaW5mZXI8VD4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNDbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdChcbiAgICAgICAgICBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0F0dGVtcHRlZCB0byBzZW5kIGEgcmVxdWVzdCBmcm9tIGEgY2xvc2VkIGNsaWVudCcsXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXNzZXJ0Q2FwYWJpbGl0eShyZXF1ZXN0Lm1ldGhvZCk7XG5cbiAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICAgIHNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblxuICAgICAgY29uc3QgbWVzc2FnZUlkID0gdGhpcy5yZXF1ZXN0TWVzc2FnZUlkKys7XG4gICAgICBjb25zdCBqc29ucnBjUmVxdWVzdDogSlNPTlJQQ1JlcXVlc3QgPSB7XG4gICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgICBpZDogbWVzc2FnZUlkLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5yZXNwb25zZUhhbmRsZXJzLmRlbGV0ZShtZXNzYWdlSWQpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5yZXNwb25zZUhhbmRsZXJzLnNldChtZXNzYWdlSWQsIHJlc3BvbnNlID0+IHtcbiAgICAgICAgaWYgKHNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgICAgICBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgICAgICBtZXNzYWdlOiAnUmVxdWVzdCB3YXMgYWJvcnRlZCcsXG4gICAgICAgICAgICAgIGNhdXNlOiBzaWduYWwucmVhc29uLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChyZXNwb25zZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdFNjaGVtYS5wYXJzZShyZXNwb25zZS5yZXN1bHQpO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZUVycm9yID0gbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gcGFyc2Ugc2VydmVyIHJlc3BvbnNlJyxcbiAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZWplY3QocGFyc2VFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnRyYW5zcG9ydC5zZW5kKGpzb25ycGNSZXF1ZXN0KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsaXN0VG9vbHMoe1xuICAgIHBhcmFtcyxcbiAgICBvcHRpb25zLFxuICB9OiB7XG4gICAgcGFyYW1zPzogUGFnaW5hdGVkUmVxdWVzdFsncGFyYW1zJ107XG4gICAgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zO1xuICB9ID0ge30pOiBQcm9taXNlPExpc3RUb29sc1Jlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICd0b29scy9saXN0JywgcGFyYW1zIH0sXG4gICAgICAgIHJlc3VsdFNjaGVtYTogTGlzdFRvb2xzUmVzdWx0U2NoZW1hLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgY2FsbFRvb2woe1xuICAgIG5hbWUsXG4gICAgYXJncyxcbiAgICBvcHRpb25zLFxuICB9OiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGFyZ3M6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIG9wdGlvbnM/OiBUb29sQ2FsbE9wdGlvbnM7XG4gIH0pOiBQcm9taXNlPENhbGxUb29sUmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogJ3Rvb2xzL2NhbGwnLCBwYXJhbXM6IHsgbmFtZSwgYXJndW1lbnRzOiBhcmdzIH0gfSxcbiAgICAgICAgcmVzdWx0U2NoZW1hOiBDYWxsVG9vbFJlc3VsdFNjaGVtYSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIHNpZ25hbDogb3B0aW9ucz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBub3RpZmljYXRpb24obm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBqc29ucnBjTm90aWZpY2F0aW9uOiBKU09OUlBDTm90aWZpY2F0aW9uID0ge1xuICAgICAgLi4ubm90aWZpY2F0aW9uLFxuICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgfTtcbiAgICBhd2FpdCB0aGlzLnRyYW5zcG9ydC5zZW5kKGpzb25ycGNOb3RpZmljYXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzZXQgb2YgQUkgU0RLIHRvb2xzIGZyb20gdGhlIE1DUCBzZXJ2ZXJcbiAgICogQHJldHVybnMgQSByZWNvcmQgb2YgdG9vbCBuYW1lcyB0byB0aGVpciBpbXBsZW1lbnRhdGlvbnNcbiAgICovXG4gIGFzeW5jIHRvb2xzPFRPT0xfU0NIRU1BUyBleHRlbmRzIFRvb2xTY2hlbWFzID0gJ2F1dG9tYXRpYyc+KHtcbiAgICBzY2hlbWFzID0gJ2F1dG9tYXRpYycsXG4gIH06IHtcbiAgICBzY2hlbWFzPzogVE9PTF9TQ0hFTUFTO1xuICB9ID0ge30pOiBQcm9taXNlPE1jcFRvb2xTZXQ8VE9PTF9TQ0hFTUFTPj4ge1xuICAgIGNvbnN0IHRvb2xzOiBSZWNvcmQ8c3RyaW5nLCBUb29sPiA9IHt9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGxpc3RUb29sc1Jlc3VsdCA9IGF3YWl0IHRoaXMubGlzdFRvb2xzKCk7XG5cbiAgICAgIGZvciAoY29uc3QgeyBuYW1lLCBkZXNjcmlwdGlvbiwgaW5wdXRTY2hlbWEgfSBvZiBsaXN0VG9vbHNSZXN1bHQudG9vbHMpIHtcbiAgICAgICAgaWYgKHNjaGVtYXMgIT09ICdhdXRvbWF0aWMnICYmICEobmFtZSBpbiBzY2hlbWFzKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgY29uc3QgZXhlY3V0ZSA9IGFzeW5jIChcbiAgICAgICAgICBhcmdzOiBhbnksXG4gICAgICAgICAgb3B0aW9uczogVG9vbENhbGxPcHRpb25zLFxuICAgICAgICApOiBQcm9taXNlPENhbGxUb29sUmVzdWx0PiA9PiB7XG4gICAgICAgICAgb3B0aW9ucz8uYWJvcnRTaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuY2FsbFRvb2woeyBuYW1lLCBhcmdzLCBvcHRpb25zIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHRvb2xXaXRoRXhlY3V0ZSA9XG4gICAgICAgICAgc2NoZW1hcyA9PT0gJ2F1dG9tYXRpYydcbiAgICAgICAgICAgID8gZHluYW1pY1Rvb2woe1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGlucHV0U2NoZW1hOiBqc29uU2NoZW1hKHtcbiAgICAgICAgICAgICAgICAgIC4uLmlucHV0U2NoZW1hLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogaW5wdXRTY2hlbWEucHJvcGVydGllcyA/PyB7fSxcbiAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9IGFzIEpTT05TY2hlbWE3KSxcbiAgICAgICAgICAgICAgICBleGVjdXRlLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB0b29sKHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBpbnB1dFNjaGVtYTogc2NoZW1hc1tuYW1lXS5pbnB1dFNjaGVtYSxcbiAgICAgICAgICAgICAgICBleGVjdXRlLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB0b29sc1tuYW1lXSA9IHRvb2xXaXRoRXhlY3V0ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRvb2xzIGFzIE1jcFRvb2xTZXQ8VE9PTF9TQ0hFTUFTPjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvbkNsb3NlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzQ2xvc2VkKSByZXR1cm47XG5cbiAgICB0aGlzLmlzQ2xvc2VkID0gdHJ1ZTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICBtZXNzYWdlOiAnQ29ubmVjdGlvbiBjbG9zZWQnLFxuICAgIH0pO1xuXG4gICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMucmVzcG9uc2VIYW5kbGVycy52YWx1ZXMoKSkge1xuICAgICAgaGFuZGxlcihlcnJvcik7XG4gICAgfVxuXG4gICAgdGhpcy5yZXNwb25zZUhhbmRsZXJzLmNsZWFyKCk7XG4gIH1cblxuICBwcml2YXRlIG9uRXJyb3IoZXJyb3I6IHVua25vd24pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5vblVuY2F1Z2h0RXJyb3IpIHtcbiAgICAgIHRoaXMub25VbmNhdWdodEVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uUmVzcG9uc2UocmVzcG9uc2U6IEpTT05SUENSZXNwb25zZSB8IEpTT05SUENFcnJvcik6IHZvaWQge1xuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IE51bWJlcihyZXNwb25zZS5pZCk7XG4gICAgY29uc3QgaGFuZGxlciA9IHRoaXMucmVzcG9uc2VIYW5kbGVycy5nZXQobWVzc2FnZUlkKTtcblxuICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IGBQcm90b2NvbCBlcnJvcjogUmVjZWl2ZWQgYSByZXNwb25zZSBmb3IgYW4gdW5rbm93biBtZXNzYWdlIElEOiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICApfWAsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnJlc3BvbnNlSGFuZGxlcnMuZGVsZXRlKG1lc3NhZ2VJZCk7XG5cbiAgICBoYW5kbGVyKFxuICAgICAgJ3Jlc3VsdCcgaW4gcmVzcG9uc2VcbiAgICAgICAgPyByZXNwb25zZVxuICAgICAgICA6IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5lcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgY2F1c2U6IHJlc3BvbnNlLmVycm9yLFxuICAgICAgICAgIH0pLFxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgTUNQQ2xpZW50RXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9tY3AtY2xpZW50LWVycm9yJztcbmltcG9ydCB7IEpTT05SUENNZXNzYWdlLCBKU09OUlBDTWVzc2FnZVNjaGVtYSB9IGZyb20gJy4vanNvbi1ycGMtbWVzc2FnZSc7XG5pbXBvcnQgeyBNQ1BUcmFuc3BvcnQgfSBmcm9tICcuL21jcC10cmFuc3BvcnQnO1xuXG5leHBvcnQgY2xhc3MgU3NlTUNQVHJhbnNwb3J0IGltcGxlbWVudHMgTUNQVHJhbnNwb3J0IHtcbiAgcHJpdmF0ZSBlbmRwb2ludD86IFVSTDtcbiAgcHJpdmF0ZSBhYm9ydENvbnRyb2xsZXI/OiBBYm9ydENvbnRyb2xsZXI7XG4gIHByaXZhdGUgdXJsOiBVUkw7XG4gIHByaXZhdGUgY29ubmVjdGVkID0gZmFsc2U7XG4gIHByaXZhdGUgc3NlQ29ubmVjdGlvbj86IHtcbiAgICBjbG9zZTogKCkgPT4gdm9pZDtcbiAgfTtcbiAgcHJpdmF0ZSBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuICBvbmNsb3NlPzogKCkgPT4gdm9pZDtcbiAgb25lcnJvcj86IChlcnJvcjogdW5rbm93bikgPT4gdm9pZDtcbiAgb25tZXNzYWdlPzogKG1lc3NhZ2U6IEpTT05SUENNZXNzYWdlKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICB1cmwsXG4gICAgaGVhZGVycyxcbiAgfToge1xuICAgIHVybDogc3RyaW5nO1xuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICB9KSB7XG4gICAgdGhpcy51cmwgPSBuZXcgVVJMKHVybCk7XG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIGFzeW5jIHN0YXJ0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgICAgIGNvbnN0IGVzdGFibGlzaENvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyk7XG4gICAgICAgICAgaGVhZGVycy5zZXQoJ0FjY2VwdCcsICd0ZXh0L2V2ZW50LXN0cmVhbScpO1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy51cmwuaHJlZiwge1xuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogdGhpcy5hYm9ydENvbnRyb2xsZXI/LnNpZ25hbCxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2sgfHwgIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogYE1DUCBTU0UgVHJhbnNwb3J0IEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMub25lcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IHJlc3BvbnNlLmJvZHlcbiAgICAgICAgICAgIC5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSlcbiAgICAgICAgICAgIC5waXBlVGhyb3VnaChuZXcgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0oKSk7XG5cbiAgICAgICAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG5cbiAgICAgICAgICBjb25zdCBwcm9jZXNzRXZlbnRzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgICAgICAgICAgICAgICAnTUNQIFNTRSBUcmFuc3BvcnQgRXJyb3I6IENvbm5lY3Rpb24gY2xvc2VkIHVuZXhwZWN0ZWRseScsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZXZlbnQsIGRhdGEgfSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnZW5kcG9pbnQnKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmVuZHBvaW50ID0gbmV3IFVSTChkYXRhLCB0aGlzLnVybCk7XG5cbiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuZHBvaW50Lm9yaWdpbiAhPT0gdGhpcy51cmwub3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYE1DUCBTU0UgVHJhbnNwb3J0IEVycm9yOiBFbmRwb2ludCBvcmlnaW4gZG9lcyBub3QgbWF0Y2ggY29ubmVjdGlvbiBvcmlnaW46ICR7dGhpcy5lbmRwb2ludC5vcmlnaW59YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OUlBDTWVzc2FnZVNjaGVtYS5wYXJzZShcbiAgICAgICAgICAgICAgICAgICAgICBKU09OLnBhcnNlKGRhdGEpLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9ubWVzc2FnZT8uKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICdNQ1AgU1NFIFRyYW5zcG9ydCBFcnJvcjogRmFpbGVkIHRvIHBhcnNlIG1lc3NhZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25lcnJvcj8uKGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBub3QgdGhyb3cgaGVyZSBzbyB3ZSBjb250aW51ZSBwcm9jZXNzaW5nIGV2ZW50cyBhZnRlciByZXBvcnRpbmcgdGhlIGVycm9yXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLm9uZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHRoaXMuc3NlQ29ubmVjdGlvbiA9IHtcbiAgICAgICAgICAgIGNsb3NlOiAoKSA9PiByZWFkZXIuY2FuY2VsKCksXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHByb2Nlc3NFdmVudHMoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLm9uZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZXN0YWJsaXNoQ29ubmVjdGlvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgY2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNzZUNvbm5lY3Rpb24/LmNsb3NlKCk7XG4gICAgdGhpcy5hYm9ydENvbnRyb2xsZXI/LmFib3J0KCk7XG4gICAgdGhpcy5vbmNsb3NlPy4oKTtcbiAgfVxuXG4gIGFzeW5jIHNlbmQobWVzc2FnZTogSlNPTlJQQ01lc3NhZ2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuZW5kcG9pbnQgfHwgIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnTUNQIFNTRSBUcmFuc3BvcnQgRXJyb3I6IE5vdCBjb25uZWN0ZWQnLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpO1xuICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICBjb25zdCBpbml0ID0ge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWVzc2FnZSksXG4gICAgICAgIHNpZ25hbDogdGhpcy5hYm9ydENvbnRyb2xsZXI/LnNpZ25hbCxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5lbmRwb2ludCwgaW5pdCk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoKSA9PiBudWxsKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGBNQ1AgU1NFIFRyYW5zcG9ydCBFcnJvcjogUE9TVGluZyB0byBlbmRwb2ludCAoSFRUUCAke3Jlc3BvbnNlLnN0YXR1c30pOiAke3RleHR9YCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub25lcnJvcj8uKGVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLm9uZXJyb3I/LihlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZU1lc3NhZ2UobGluZTogc3RyaW5nKTogSlNPTlJQQ01lc3NhZ2Uge1xuICByZXR1cm4gSlNPTlJQQ01lc3NhZ2VTY2hlbWEucGFyc2UoSlNPTi5wYXJzZShsaW5lKSk7XG59XG4iLCAiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBCYXNlUGFyYW1zU2NoZW1hLCBSZXF1ZXN0U2NoZW1hLCBSZXN1bHRTY2hlbWEgfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgSlNPTlJQQ19WRVJTSU9OID0gJzIuMCc7XG5cbmNvbnN0IEpTT05SUENSZXF1ZXN0U2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICBqc29ucnBjOiB6LmxpdGVyYWwoSlNPTlJQQ19WRVJTSU9OKSxcbiAgICBpZDogei51bmlvbihbei5zdHJpbmcoKSwgei5udW1iZXIoKS5pbnQoKV0pLFxuICB9KVxuICAubWVyZ2UoUmVxdWVzdFNjaGVtYSlcbiAgLnN0cmljdCgpO1xuXG5leHBvcnQgdHlwZSBKU09OUlBDUmVxdWVzdCA9IHouaW5mZXI8dHlwZW9mIEpTT05SUENSZXF1ZXN0U2NoZW1hPjtcblxuY29uc3QgSlNPTlJQQ1Jlc3BvbnNlU2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICBqc29ucnBjOiB6LmxpdGVyYWwoSlNPTlJQQ19WRVJTSU9OKSxcbiAgICBpZDogei51bmlvbihbei5zdHJpbmcoKSwgei5udW1iZXIoKS5pbnQoKV0pLFxuICAgIHJlc3VsdDogUmVzdWx0U2NoZW1hLFxuICB9KVxuICAuc3RyaWN0KCk7XG5cbmV4cG9ydCB0eXBlIEpTT05SUENSZXNwb25zZSA9IHouaW5mZXI8dHlwZW9mIEpTT05SUENSZXNwb25zZVNjaGVtYT47XG5cbmNvbnN0IEpTT05SUENFcnJvclNjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAganNvbnJwYzogei5saXRlcmFsKEpTT05SUENfVkVSU0lPTiksXG4gICAgaWQ6IHoudW5pb24oW3ouc3RyaW5nKCksIHoubnVtYmVyKCkuaW50KCldKSxcbiAgICBlcnJvcjogei5vYmplY3Qoe1xuICAgICAgY29kZTogei5udW1iZXIoKS5pbnQoKSxcbiAgICAgIG1lc3NhZ2U6IHouc3RyaW5nKCksXG4gICAgICBkYXRhOiB6Lm9wdGlvbmFsKHoudW5rbm93bigpKSxcbiAgICB9KSxcbiAgfSlcbiAgLnN0cmljdCgpO1xuXG5leHBvcnQgdHlwZSBKU09OUlBDRXJyb3IgPSB6LmluZmVyPHR5cGVvZiBKU09OUlBDRXJyb3JTY2hlbWE+O1xuXG5jb25zdCBKU09OUlBDTm90aWZpY2F0aW9uU2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICBqc29ucnBjOiB6LmxpdGVyYWwoSlNPTlJQQ19WRVJTSU9OKSxcbiAgfSlcbiAgLm1lcmdlKFxuICAgIHoub2JqZWN0KHtcbiAgICAgIG1ldGhvZDogei5zdHJpbmcoKSxcbiAgICAgIHBhcmFtczogei5vcHRpb25hbChCYXNlUGFyYW1zU2NoZW1hKSxcbiAgICB9KSxcbiAgKVxuICAuc3RyaWN0KCk7XG5cbmV4cG9ydCB0eXBlIEpTT05SUENOb3RpZmljYXRpb24gPSB6LmluZmVyPHR5cGVvZiBKU09OUlBDTm90aWZpY2F0aW9uU2NoZW1hPjtcblxuZXhwb3J0IGNvbnN0IEpTT05SUENNZXNzYWdlU2NoZW1hID0gei51bmlvbihbXG4gIEpTT05SUENSZXF1ZXN0U2NoZW1hLFxuICBKU09OUlBDTm90aWZpY2F0aW9uU2NoZW1hLFxuICBKU09OUlBDUmVzcG9uc2VTY2hlbWEsXG4gIEpTT05SUENFcnJvclNjaGVtYSxcbl0pO1xuXG5leHBvcnQgdHlwZSBKU09OUlBDTWVzc2FnZSA9IHouaW5mZXI8dHlwZW9mIEpTT05SUENNZXNzYWdlU2NoZW1hPjtcbiIsICJpbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IEpTT05PYmplY3QgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IEZsZXhpYmxlU2NoZW1hLCBUb29sIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5cbmV4cG9ydCBjb25zdCBMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTiA9ICcyMDI1LTA2LTE4JztcbmV4cG9ydCBjb25zdCBTVVBQT1JURURfUFJPVE9DT0xfVkVSU0lPTlMgPSBbXG4gIExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OLFxuICAnMjAyNS0wMy0yNicsXG4gICcyMDI0LTExLTA1Jyxcbl07XG5cbmV4cG9ydCB0eXBlIFRvb2xTY2hlbWFzID1cbiAgfCBSZWNvcmQ8c3RyaW5nLCB7IGlucHV0U2NoZW1hOiBGbGV4aWJsZVNjaGVtYTxKU09OT2JqZWN0IHwgdW5rbm93bj4gfT5cbiAgfCAnYXV0b21hdGljJ1xuICB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgTWNwVG9vbFNldDxUT09MX1NDSEVNQVMgZXh0ZW5kcyBUb29sU2NoZW1hcyA9ICdhdXRvbWF0aWMnPiA9XG4gIFRPT0xfU0NIRU1BUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHsgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPGFueT4gfT5cbiAgICA/IHtcbiAgICAgICAgW0sgaW4ga2V5b2YgVE9PTF9TQ0hFTUFTXTogVE9PTF9TQ0hFTUFTW0tdIGV4dGVuZHMge1xuICAgICAgICAgIGlucHV0U2NoZW1hOiBGbGV4aWJsZVNjaGVtYTxpbmZlciBJTlBVVD47XG4gICAgICAgIH1cbiAgICAgICAgICA/IFRvb2w8SU5QVVQsIENhbGxUb29sUmVzdWx0PiAmXG4gICAgICAgICAgICAgIFJlcXVpcmVkPFBpY2s8VG9vbDxJTlBVVCwgQ2FsbFRvb2xSZXN1bHQ+LCAnZXhlY3V0ZSc+PlxuICAgICAgICAgIDogbmV2ZXI7XG4gICAgICB9XG4gICAgOiBNY3BUb29sU2V0PFJlY29yZDxzdHJpbmcsIHsgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPHVua25vd24+IH0+PjtcblxuY29uc3QgQ2xpZW50T3JTZXJ2ZXJJbXBsZW1lbnRhdGlvblNjaGVtYSA9IHoubG9vc2VPYmplY3Qoe1xuICBuYW1lOiB6LnN0cmluZygpLFxuICB2ZXJzaW9uOiB6LnN0cmluZygpLFxufSk7XG5cbmV4cG9ydCB0eXBlIENvbmZpZ3VyYXRpb24gPSB6LmluZmVyPHR5cGVvZiBDbGllbnRPclNlcnZlckltcGxlbWVudGF0aW9uU2NoZW1hPjtcblxuZXhwb3J0IGNvbnN0IEJhc2VQYXJhbXNTY2hlbWEgPSB6Lmxvb3NlT2JqZWN0KHtcbiAgX21ldGE6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLmxvb3NlKCkpLFxufSk7XG50eXBlIEJhc2VQYXJhbXMgPSB6LmluZmVyPHR5cGVvZiBCYXNlUGFyYW1zU2NoZW1hPjtcbmV4cG9ydCBjb25zdCBSZXN1bHRTY2hlbWEgPSBCYXNlUGFyYW1zU2NoZW1hO1xuXG5leHBvcnQgY29uc3QgUmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbWV0aG9kOiB6LnN0cmluZygpLFxuICBwYXJhbXM6IHoub3B0aW9uYWwoQmFzZVBhcmFtc1NjaGVtYSksXG59KTtcbmV4cG9ydCB0eXBlIFJlcXVlc3QgPSB6LmluZmVyPHR5cGVvZiBSZXF1ZXN0U2NoZW1hPjtcbmV4cG9ydCB0eXBlIFJlcXVlc3RPcHRpb25zID0ge1xuICBzaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgdGltZW91dD86IG51bWJlcjtcbiAgbWF4VG90YWxUaW1lb3V0PzogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgTm90aWZpY2F0aW9uID0gei5pbmZlcjx0eXBlb2YgUmVxdWVzdFNjaGVtYT47XG5cbmNvbnN0IFNlcnZlckNhcGFiaWxpdGllc1NjaGVtYSA9IHoubG9vc2VPYmplY3Qoe1xuICBleHBlcmltZW50YWw6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLmxvb3NlKCkpLFxuICBsb2dnaW5nOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5sb29zZSgpKSxcbiAgcHJvbXB0czogei5vcHRpb25hbChcbiAgICB6Lmxvb3NlT2JqZWN0KHtcbiAgICAgIGxpc3RDaGFuZ2VkOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICB9KSxcbiAgKSxcbiAgcmVzb3VyY2VzOiB6Lm9wdGlvbmFsKFxuICAgIHoubG9vc2VPYmplY3Qoe1xuICAgICAgc3Vic2NyaWJlOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICAgIGxpc3RDaGFuZ2VkOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICB9KSxcbiAgKSxcbiAgdG9vbHM6IHoub3B0aW9uYWwoXG4gICAgei5sb29zZU9iamVjdCh7XG4gICAgICBsaXN0Q2hhbmdlZDogei5vcHRpb25hbCh6LmJvb2xlYW4oKSksXG4gICAgfSksXG4gICksXG59KTtcblxuZXhwb3J0IHR5cGUgU2VydmVyQ2FwYWJpbGl0aWVzID0gei5pbmZlcjx0eXBlb2YgU2VydmVyQ2FwYWJpbGl0aWVzU2NoZW1hPjtcblxuZXhwb3J0IGNvbnN0IEluaXRpYWxpemVSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgcHJvdG9jb2xWZXJzaW9uOiB6LnN0cmluZygpLFxuICBjYXBhYmlsaXRpZXM6IFNlcnZlckNhcGFiaWxpdGllc1NjaGVtYSxcbiAgc2VydmVySW5mbzogQ2xpZW50T3JTZXJ2ZXJJbXBsZW1lbnRhdGlvblNjaGVtYSxcbiAgaW5zdHJ1Y3Rpb25zOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxufSk7XG5leHBvcnQgdHlwZSBJbml0aWFsaXplUmVzdWx0ID0gei5pbmZlcjx0eXBlb2YgSW5pdGlhbGl6ZVJlc3VsdFNjaGVtYT47XG5cbmV4cG9ydCB0eXBlIFBhZ2luYXRlZFJlcXVlc3QgPSBSZXF1ZXN0ICYge1xuICBwYXJhbXM/OiBCYXNlUGFyYW1zICYge1xuICAgIGN1cnNvcj86IHN0cmluZztcbiAgfTtcbn07XG5cbmNvbnN0IFBhZ2luYXRlZFJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICBuZXh0Q3Vyc29yOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxufSk7XG5cbmNvbnN0IFRvb2xTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgZGVzY3JpcHRpb246IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgaW5wdXRTY2hlbWE6IHpcbiAgICAgIC5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ29iamVjdCcpLFxuICAgICAgICBwcm9wZXJ0aWVzOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5sb29zZSgpKSxcbiAgICAgIH0pXG4gICAgICAubG9vc2UoKSxcbiAgfSlcbiAgLmxvb3NlKCk7XG5leHBvcnQgdHlwZSBNQ1BUb29sID0gei5pbmZlcjx0eXBlb2YgVG9vbFNjaGVtYT47XG5leHBvcnQgY29uc3QgTGlzdFRvb2xzUmVzdWx0U2NoZW1hID0gUGFnaW5hdGVkUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gIHRvb2xzOiB6LmFycmF5KFRvb2xTY2hlbWEpLFxufSk7XG5leHBvcnQgdHlwZSBMaXN0VG9vbHNSZXN1bHQgPSB6LmluZmVyPHR5cGVvZiBMaXN0VG9vbHNSZXN1bHRTY2hlbWE+O1xuXG5jb25zdCBUZXh0Q29udGVudFNjaGVtYSA9IHpcbiAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0ZXh0JyksXG4gICAgdGV4dDogei5zdHJpbmcoKSxcbiAgfSlcbiAgLmxvb3NlKCk7XG5jb25zdCBJbWFnZUNvbnRlbnRTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW1hZ2UnKSxcbiAgICBkYXRhOiB6LmJhc2U2NCgpLFxuICAgIG1pbWVUeXBlOiB6LnN0cmluZygpLFxuICB9KVxuICAubG9vc2UoKTtcbmNvbnN0IFJlc291cmNlQ29udGVudHNTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIFRoZSBVUkkgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgKi9cbiAgICB1cmk6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogVGhlIE1JTUUgdHlwZSBvZiB0aGlzIHJlc291cmNlLCBpZiBrbm93bi5cbiAgICAgKi9cbiAgICBtaW1lVHlwZTogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgfSlcbiAgLmxvb3NlKCk7XG5jb25zdCBUZXh0UmVzb3VyY2VDb250ZW50c1NjaGVtYSA9IFJlc291cmNlQ29udGVudHNTY2hlbWEuZXh0ZW5kKHtcbiAgdGV4dDogei5zdHJpbmcoKSxcbn0pO1xuY29uc3QgQmxvYlJlc291cmNlQ29udGVudHNTY2hlbWEgPSBSZXNvdXJjZUNvbnRlbnRzU2NoZW1hLmV4dGVuZCh7XG4gIGJsb2I6IHouYmFzZTY0KCksXG59KTtcbmNvbnN0IEVtYmVkZGVkUmVzb3VyY2VTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzb3VyY2UnKSxcbiAgICByZXNvdXJjZTogei51bmlvbihbVGV4dFJlc291cmNlQ29udGVudHNTY2hlbWEsIEJsb2JSZXNvdXJjZUNvbnRlbnRzU2NoZW1hXSksXG4gIH0pXG4gIC5sb29zZSgpO1xuXG5leHBvcnQgY29uc3QgQ2FsbFRvb2xSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgY29udGVudDogei5hcnJheShcbiAgICB6LnVuaW9uKFtUZXh0Q29udGVudFNjaGVtYSwgSW1hZ2VDb250ZW50U2NoZW1hLCBFbWJlZGRlZFJlc291cmNlU2NoZW1hXSksXG4gICksXG4gIGlzRXJyb3I6IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLm9wdGlvbmFsKCksXG59KS5vcihcbiAgUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgdG9vbFJlc3VsdDogei51bmtub3duKCksXG4gIH0pLFxuKTtcbmV4cG9ydCB0eXBlIENhbGxUb29sUmVzdWx0ID0gei5pbmZlcjx0eXBlb2YgQ2FsbFRvb2xSZXN1bHRTY2hlbWE+O1xuIiwgImltcG9ydCB7IE1DUENsaWVudEVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvbWNwLWNsaWVudC1lcnJvcic7XG5pbXBvcnQgeyBKU09OUlBDTWVzc2FnZSB9IGZyb20gJy4vanNvbi1ycGMtbWVzc2FnZSc7XG5pbXBvcnQgeyBTc2VNQ1BUcmFuc3BvcnQgfSBmcm9tICcuL21jcC1zc2UtdHJhbnNwb3J0JztcblxuLyoqXG4gKiBUcmFuc3BvcnQgaW50ZXJmYWNlIGZvciBNQ1AgKE1vZGVsIENvbnRleHQgUHJvdG9jb2wpIGNvbW11bmljYXRpb24uXG4gKiBNYXBzIHRvIHRoZSBgVHJhbnNwb3J0YCBpbnRlcmZhY2UgaW4gdGhlIE1DUCBzcGVjLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1DUFRyYW5zcG9ydCB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGFuZCBzdGFydCB0aGUgdHJhbnNwb3J0XG4gICAqL1xuICBzdGFydCgpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBTZW5kIGEgSlNPTi1SUEMgbWVzc2FnZSB0aHJvdWdoIHRoZSB0cmFuc3BvcnRcbiAgICogQHBhcmFtIG1lc3NhZ2UgVGhlIEpTT04tUlBDIG1lc3NhZ2UgdG8gc2VuZFxuICAgKi9cbiAgc2VuZChtZXNzYWdlOiBKU09OUlBDTWVzc2FnZSk6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwIGFuZCBjbG9zZSB0aGUgdHJhbnNwb3J0XG4gICAqL1xuICBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciB0cmFuc3BvcnQgY2xvc3VyZVxuICAgKi9cbiAgb25jbG9zZT86ICgpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIHRyYW5zcG9ydCBlcnJvcnNcbiAgICovXG4gIG9uZXJyb3I/OiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciByZWNlaXZlZCBtZXNzYWdlc1xuICAgKi9cbiAgb25tZXNzYWdlPzogKG1lc3NhZ2U6IEpTT05SUENNZXNzYWdlKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBNQ1BUcmFuc3BvcnRDb25maWcgPSB7XG4gIHR5cGU6ICdzc2UnO1xuXG4gIC8qKlxuICAgKiBUaGUgVVJMIG9mIHRoZSBNQ1Agc2VydmVyLlxuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCByZXF1ZXN0cy5cbiAgICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1jcFRyYW5zcG9ydChjb25maWc6IE1DUFRyYW5zcG9ydENvbmZpZyk6IE1DUFRyYW5zcG9ydCB7XG4gIGlmIChjb25maWcudHlwZSAhPT0gJ3NzZScpIHtcbiAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgbWVzc2FnZTpcbiAgICAgICAgJ1Vuc3VwcG9ydGVkIG9yIGludmFsaWQgdHJhbnNwb3J0IGNvbmZpZ3VyYXRpb24uIElmIHlvdSBhcmUgdXNpbmcgYSBjdXN0b20gdHJhbnNwb3J0LCBtYWtlIHN1cmUgaXQgaW1wbGVtZW50cyB0aGUgTUNQVHJhbnNwb3J0IGludGVyZmFjZS4nLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBTc2VNQ1BUcmFuc3BvcnQoY29uZmlnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3VzdG9tTWNwVHJhbnNwb3J0KFxuICB0cmFuc3BvcnQ6IE1DUFRyYW5zcG9ydENvbmZpZyB8IE1DUFRyYW5zcG9ydCxcbik6IHRyYW5zcG9ydCBpcyBNQ1BUcmFuc3BvcnQge1xuICByZXR1cm4gKFxuICAgICdzdGFydCcgaW4gdHJhbnNwb3J0ICYmXG4gICAgdHlwZW9mIHRyYW5zcG9ydC5zdGFydCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICdzZW5kJyBpbiB0cmFuc3BvcnQgJiZcbiAgICB0eXBlb2YgdHJhbnNwb3J0LnNlbmQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAnY2xvc2UnIGluIHRyYW5zcG9ydCAmJlxuICAgIHR5cGVvZiB0cmFuc3BvcnQuY2xvc2UgPT09ICdmdW5jdGlvbidcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBKU09OVmFsdWUsIFRyYW5zY3JpcHRpb25Nb2RlbFYyIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBQcm92aWRlck9wdGlvbnMsIHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IE5vVHJhbnNjcmlwdEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tdHJhbnNjcmlwdC1nZW5lcmF0ZWQtZXJyb3InO1xuaW1wb3J0IHsgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvciB9IGZyb20gJy4uL2Vycm9yL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3InO1xuaW1wb3J0IHsgbG9nV2FybmluZ3MgfSBmcm9tICcuLi9sb2dnZXIvbG9nLXdhcm5pbmdzJztcbmltcG9ydCB7IERhdGFDb250ZW50IH0gZnJvbSAnLi4vcHJvbXB0JztcbmltcG9ydCB7IGNvbnZlcnREYXRhQ29udGVudFRvVWludDhBcnJheSB9IGZyb20gJy4uL3Byb21wdC9kYXRhLWNvbnRlbnQnO1xuaW1wb3J0IHsgVHJhbnNjcmlwdGlvbldhcm5pbmcgfSBmcm9tICcuLi90eXBlcy90cmFuc2NyaXB0aW9uLW1vZGVsJztcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25Nb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy90cmFuc2NyaXB0aW9uLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcbmltcG9ydCB7XG4gIGF1ZGlvTWVkaWFUeXBlU2lnbmF0dXJlcyxcbiAgZGV0ZWN0TWVkaWFUeXBlLFxufSBmcm9tICcuLi91dGlsL2RldGVjdC1tZWRpYS10eXBlJztcbmltcG9ydCB7IGRvd25sb2FkIH0gZnJvbSAnLi4vdXRpbC9kb3dubG9hZC9kb3dubG9hZCc7XG5pbXBvcnQgeyBwcmVwYXJlUmV0cmllcyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1yZXRyaWVzJztcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25SZXN1bHQgfSBmcm9tICcuL3RyYW5zY3JpYmUtcmVzdWx0JztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcbi8qKlxuR2VuZXJhdGVzIHRyYW5zY3JpcHRzIHVzaW5nIGEgdHJhbnNjcmlwdGlvbiBtb2RlbC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIHRyYW5zY3JpcHRpb24gbW9kZWwgdG8gdXNlLlxuQHBhcmFtIGF1ZGlvIC0gVGhlIGF1ZGlvIGRhdGEgdG8gdHJhbnNjcmliZSBhcyBEYXRhQ29udGVudCAoc3RyaW5nIHwgVWludDhBcnJheSB8IEFycmF5QnVmZmVyIHwgQnVmZmVyKSBvciBhIFVSTC5cbkBwYXJhbSBwcm92aWRlck9wdGlvbnMgLSBBZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyXG5hcyBib2R5IHBhcmFtZXRlcnMuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcmV0dXJucyBBIHJlc3VsdCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZ2VuZXJhdGVkIHRyYW5zY3JpcHQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0cmFuc2NyaWJlKHtcbiAgbW9kZWwsXG4gIGF1ZGlvLFxuICBwcm92aWRlck9wdGlvbnMgPSB7fSxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG59OiB7XG4gIC8qKlxuVGhlIHRyYW5zY3JpcHRpb24gbW9kZWwgdG8gdXNlLlxuICAgICAqL1xuICBtb2RlbDogVHJhbnNjcmlwdGlvbk1vZGVsVjI7XG5cbiAgLyoqXG5UaGUgYXVkaW8gZGF0YSB0byB0cmFuc2NyaWJlLlxuICAgKi9cbiAgYXVkaW86IERhdGFDb250ZW50IHwgVVJMO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlclxuYXMgYm9keSBwYXJhbWV0ZXJzLlxuXG5UaGUgb3V0ZXIgcmVjb3JkIGlzIGtleWVkIGJ5IHRoZSBwcm92aWRlciBuYW1lLCBhbmQgdGhlIGlubmVyXG5yZWNvcmQgaXMga2V5ZWQgYnkgdGhlIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhIGtleS5cbmBgYHRzXG57XG4gIFwib3BlbmFpXCI6IHtcbiAgICBcInRlbXBlcmF0dXJlXCI6IDBcbiAgfVxufVxuYGBgXG4gICAgICovXG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAvKipcbk1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgcGVyIHRyYW5zY3JpcHQgbW9kZWwgY2FsbC4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLlxuXG5AZGVmYXVsdCAyXG4gICAqL1xuICBtYXhSZXRyaWVzPzogbnVtYmVyO1xuXG4gIC8qKlxuQWJvcnQgc2lnbmFsLlxuICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIGhlYWRlcnMgdG8gaW5jbHVkZSBpbiB0aGUgcmVxdWVzdC5cbk9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG4gKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59KTogUHJvbWlzZTxUcmFuc2NyaXB0aW9uUmVzdWx0PiB7XG4gIGlmIChtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbiAhPT0gJ3YyJykge1xuICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yKHtcbiAgICAgIHZlcnNpb246IG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uLFxuICAgICAgcHJvdmlkZXI6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICB9KTtcblxuICBjb25zdCBoZWFkZXJzV2l0aFVzZXJBZ2VudCA9IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgaGVhZGVycyA/PyB7fSxcbiAgICBgYWkvJHtWRVJTSU9OfWAsXG4gICk7XG5cbiAgY29uc3QgYXVkaW9EYXRhID1cbiAgICBhdWRpbyBpbnN0YW5jZW9mIFVSTFxuICAgICAgPyAoYXdhaXQgZG93bmxvYWQoeyB1cmw6IGF1ZGlvIH0pKS5kYXRhXG4gICAgICA6IGNvbnZlcnREYXRhQ29udGVudFRvVWludDhBcnJheShhdWRpbyk7XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV0cnkoKCkgPT5cbiAgICBtb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgIGF1ZGlvOiBhdWRpb0RhdGEsXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgbWVkaWFUeXBlOlxuICAgICAgICBkZXRlY3RNZWRpYVR5cGUoe1xuICAgICAgICAgIGRhdGE6IGF1ZGlvRGF0YSxcbiAgICAgICAgICBzaWduYXR1cmVzOiBhdWRpb01lZGlhVHlwZVNpZ25hdHVyZXMsXG4gICAgICAgIH0pID8/ICdhdWRpby93YXYnLFxuICAgIH0pLFxuICApO1xuXG4gIGxvZ1dhcm5pbmdzKHJlc3VsdC53YXJuaW5ncyk7XG5cbiAgaWYgKCFyZXN1bHQudGV4dCkge1xuICAgIHRocm93IG5ldyBOb1RyYW5zY3JpcHRHZW5lcmF0ZWRFcnJvcih7IHJlc3BvbnNlczogW3Jlc3VsdC5yZXNwb25zZV0gfSk7XG4gIH1cblxuICByZXR1cm4gbmV3IERlZmF1bHRUcmFuc2NyaXB0aW9uUmVzdWx0KHtcbiAgICB0ZXh0OiByZXN1bHQudGV4dCxcbiAgICBzZWdtZW50czogcmVzdWx0LnNlZ21lbnRzLFxuICAgIGxhbmd1YWdlOiByZXN1bHQubGFuZ3VhZ2UsXG4gICAgZHVyYXRpb25JblNlY29uZHM6IHJlc3VsdC5kdXJhdGlvbkluU2Vjb25kcyxcbiAgICB3YXJuaW5nczogcmVzdWx0Lndhcm5pbmdzLFxuICAgIHJlc3BvbnNlczogW3Jlc3VsdC5yZXNwb25zZV0sXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcmVzdWx0LnByb3ZpZGVyTWV0YWRhdGEsXG4gIH0pO1xufVxuXG5jbGFzcyBEZWZhdWx0VHJhbnNjcmlwdGlvblJlc3VsdCBpbXBsZW1lbnRzIFRyYW5zY3JpcHRpb25SZXN1bHQge1xuICByZWFkb25seSB0ZXh0OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHNlZ21lbnRzOiBBcnJheTx7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIHN0YXJ0U2Vjb25kOiBudW1iZXI7XG4gICAgZW5kU2Vjb25kOiBudW1iZXI7XG4gIH0+O1xuICByZWFkb25seSBsYW5ndWFnZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkdXJhdGlvbkluU2Vjb25kczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSB3YXJuaW5nczogQXJyYXk8VHJhbnNjcmlwdGlvbldhcm5pbmc+O1xuICByZWFkb25seSByZXNwb25zZXM6IEFycmF5PFRyYW5zY3JpcHRpb25Nb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuICByZWFkb25seSBwcm92aWRlck1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBKU09OVmFsdWU+PjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIHNlZ21lbnRzOiBBcnJheTx7XG4gICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICBzdGFydFNlY29uZDogbnVtYmVyO1xuICAgICAgZW5kU2Vjb25kOiBudW1iZXI7XG4gICAgfT47XG4gICAgbGFuZ3VhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBkdXJhdGlvbkluU2Vjb25kczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHdhcm5pbmdzOiBBcnJheTxUcmFuc2NyaXB0aW9uV2FybmluZz47XG4gICAgcmVzcG9uc2VzOiBBcnJheTxUcmFuc2NyaXB0aW9uTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgICBwcm92aWRlck1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBKU09OVmFsdWU+PiB8IHVuZGVmaW5lZDtcbiAgfSkge1xuICAgIHRoaXMudGV4dCA9IG9wdGlvbnMudGV4dDtcbiAgICB0aGlzLnNlZ21lbnRzID0gb3B0aW9ucy5zZWdtZW50cztcbiAgICB0aGlzLmxhbmd1YWdlID0gb3B0aW9ucy5sYW5ndWFnZTtcbiAgICB0aGlzLmR1cmF0aW9uSW5TZWNvbmRzID0gb3B0aW9ucy5kdXJhdGlvbkluU2Vjb25kcztcbiAgICB0aGlzLndhcm5pbmdzID0gb3B0aW9ucy53YXJuaW5ncztcbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSA/PyB7fTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25Nb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy90cmFuc2NyaXB0aW9uLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcblxuLyoqXG5FcnJvciB0aGF0IGlzIHRocm93biB3aGVuIG5vIHRyYW5zY3JpcHQgd2FzIGdlbmVyYXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vVHJhbnNjcmlwdEdlbmVyYXRlZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHJlYWRvbmx5IHJlc3BvbnNlczogQXJyYXk8VHJhbnNjcmlwdGlvbk1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIHJlc3BvbnNlczogQXJyYXk8VHJhbnNjcmlwdGlvbk1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG4gIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lOiAnQUlfTm9UcmFuc2NyaXB0R2VuZXJhdGVkRXJyb3InLFxuICAgICAgbWVzc2FnZTogJ05vIHRyYW5zY3JpcHQgZ2VuZXJhdGVkLicsXG4gICAgfSk7XG5cbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgcGFyc2VKc29uRXZlbnRTdHJlYW0sIFBhcnNlUmVzdWx0IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQge1xuICBVSU1lc3NhZ2VDaHVuayxcbiAgdWlNZXNzYWdlQ2h1bmtTY2hlbWEsXG59IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IGNvbnN1bWVTdHJlYW0gfSBmcm9tICcuLi91dGlsL2NvbnN1bWUtc3RyZWFtJztcbmltcG9ydCB7IHByb2Nlc3NUZXh0U3RyZWFtIH0gZnJvbSAnLi9wcm9jZXNzLXRleHQtc3RyZWFtJztcblxuLy8gdXNlIGZ1bmN0aW9uIHRvIGFsbG93IGZvciBtb2NraW5nIGluIHRlc3RzOlxuY29uc3QgZ2V0T3JpZ2luYWxGZXRjaCA9ICgpID0+IGZldGNoO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FsbENvbXBsZXRpb25BcGkoe1xuICBhcGksXG4gIHByb21wdCxcbiAgY3JlZGVudGlhbHMsXG4gIGhlYWRlcnMsXG4gIGJvZHksXG4gIHN0cmVhbVByb3RvY29sID0gJ2RhdGEnLFxuICBzZXRDb21wbGV0aW9uLFxuICBzZXRMb2FkaW5nLFxuICBzZXRFcnJvcixcbiAgc2V0QWJvcnRDb250cm9sbGVyLFxuICBvbkZpbmlzaCxcbiAgb25FcnJvcixcbiAgZmV0Y2ggPSBnZXRPcmlnaW5hbEZldGNoKCksXG59OiB7XG4gIGFwaTogc3RyaW5nO1xuICBwcm9tcHQ6IHN0cmluZztcbiAgY3JlZGVudGlhbHM6IFJlcXVlc3RDcmVkZW50aWFscyB8IHVuZGVmaW5lZDtcbiAgaGVhZGVyczogSGVhZGVyc0luaXQgfCB1bmRlZmluZWQ7XG4gIGJvZHk6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIHN0cmVhbVByb3RvY29sOiAnZGF0YScgfCAndGV4dCcgfCB1bmRlZmluZWQ7XG4gIHNldENvbXBsZXRpb246IChjb21wbGV0aW9uOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHNldExvYWRpbmc6IChsb2FkaW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRFcnJvcjogKGVycm9yOiBFcnJvciB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcbiAgc2V0QWJvcnRDb250cm9sbGVyOiAoYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIgfCBudWxsKSA9PiB2b2lkO1xuICBvbkZpbmlzaDogKChwcm9tcHQ6IHN0cmluZywgY29tcGxldGlvbjogc3RyaW5nKSA9PiB2b2lkKSB8IHVuZGVmaW5lZDtcbiAgb25FcnJvcjogKChlcnJvcjogRXJyb3IpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuICBmZXRjaDogUmV0dXJuVHlwZTx0eXBlb2YgZ2V0T3JpZ2luYWxGZXRjaD4gfCB1bmRlZmluZWQ7XG59KSB7XG4gIHRyeSB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcih1bmRlZmluZWQpO1xuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIHNldEFib3J0Q29udHJvbGxlcihhYm9ydENvbnRyb2xsZXIpO1xuXG4gICAgLy8gRW1wdHkgdGhlIGNvbXBsZXRpb24gaW1tZWRpYXRlbHkuXG4gICAgc2V0Q29tcGxldGlvbignJyk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaSwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHByb21wdCxcbiAgICAgICAgLi4uYm9keSxcbiAgICAgIH0pLFxuICAgICAgY3JlZGVudGlhbHMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICB9LFxuICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIChhd2FpdCByZXNwb25zZS50ZXh0KCkpID8/ICdGYWlsZWQgdG8gZmV0Y2ggdGhlIGNoYXQgcmVzcG9uc2UuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSByZXNwb25zZSBib2R5IGlzIGVtcHR5LicpO1xuICAgIH1cblxuICAgIGxldCByZXN1bHQgPSAnJztcblxuICAgIHN3aXRjaCAoc3RyZWFtUHJvdG9jb2wpIHtcbiAgICAgIGNhc2UgJ3RleHQnOiB7XG4gICAgICAgIGF3YWl0IHByb2Nlc3NUZXh0U3RyZWFtKHtcbiAgICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgICAgb25UZXh0UGFydDogY2h1bmsgPT4ge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGNodW5rO1xuICAgICAgICAgICAgc2V0Q29tcGxldGlvbihyZXN1bHQpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2RhdGEnOiB7XG4gICAgICAgIGF3YWl0IGNvbnN1bWVTdHJlYW0oe1xuICAgICAgICAgIHN0cmVhbTogcGFyc2VKc29uRXZlbnRTdHJlYW0oe1xuICAgICAgICAgICAgc3RyZWFtOiByZXNwb25zZS5ib2R5LFxuICAgICAgICAgICAgc2NoZW1hOiB1aU1lc3NhZ2VDaHVua1NjaGVtYSxcbiAgICAgICAgICB9KS5waXBlVGhyb3VnaChcbiAgICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08UGFyc2VSZXN1bHQ8VUlNZXNzYWdlQ2h1bms+LCBVSU1lc3NhZ2VDaHVuaz4oe1xuICAgICAgICAgICAgICBhc3luYyB0cmFuc2Zvcm0ocGFydCkge1xuICAgICAgICAgICAgICAgIGlmICghcGFydC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBwYXJ0LmVycm9yO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbVBhcnQgPSBwYXJ0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChzdHJlYW1QYXJ0LnR5cGUgPT09ICd0ZXh0LWRlbHRhJykge1xuICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmVhbVBhcnQuZGVsdGE7XG4gICAgICAgICAgICAgICAgICBzZXRDb21wbGV0aW9uKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW1QYXJ0LnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihzdHJlYW1QYXJ0LmVycm9yVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKSxcbiAgICAgICAgICBvbkVycm9yOiBlcnJvciA9PiB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSBzdHJlYW1Qcm90b2NvbDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0cmVhbSBwcm90b2NvbDogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9uRmluaXNoKSB7XG4gICAgICBvbkZpbmlzaChwcm9tcHQsIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgc2V0QWJvcnRDb250cm9sbGVyKG51bGwpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIElnbm9yZSBhYm9ydCBlcnJvcnMgYXMgdGhleSBhcmUgZXhwZWN0ZWQuXG4gICAgaWYgKChlcnIgYXMgYW55KS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgIHNldEFib3J0Q29udHJvbGxlcihudWxsKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldEVycm9yKGVyciBhcyBFcnJvcik7XG4gIH0gZmluYWxseSB7XG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gIH1cbn1cbiIsICJleHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1RleHRTdHJlYW0oe1xuICBzdHJlYW0sXG4gIG9uVGV4dFBhcnQsXG59OiB7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VWludDhBcnJheT47XG4gIG9uVGV4dFBhcnQ6IChjaHVuazogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcbn0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKS5nZXRSZWFkZXIoKTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmIChkb25lKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgYXdhaXQgb25UZXh0UGFydCh2YWx1ZSk7XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBnZW5lcmF0ZUlkIGFzIGdlbmVyYXRlSWRGdW5jLFxuICBJZEdlbmVyYXRvcixcbiAgU3RhbmRhcmRTY2hlbWFWMSxcbiAgVmFsaWRhdG9yLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgY29uc3VtZVN0cmVhbSB9IGZyb20gJy4uL3V0aWwvY29uc3VtZS1zdHJlYW0nO1xuaW1wb3J0IHsgU2VyaWFsSm9iRXhlY3V0b3IgfSBmcm9tICcuLi91dGlsL3NlcmlhbC1qb2ItZXhlY3V0b3InO1xuaW1wb3J0IHsgQ2hhdFRyYW5zcG9ydCB9IGZyb20gJy4vY2hhdC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgY29udmVydEZpbGVMaXN0VG9GaWxlVUlQYXJ0cyB9IGZyb20gJy4vY29udmVydC1maWxlLWxpc3QtdG8tZmlsZS11aS1wYXJ0cyc7XG5pbXBvcnQgeyBEZWZhdWx0Q2hhdFRyYW5zcG9ydCB9IGZyb20gJy4vZGVmYXVsdC1jaGF0LXRyYW5zcG9ydCc7XG5pbXBvcnQge1xuICBjcmVhdGVTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZSxcbiAgcHJvY2Vzc1VJTWVzc2FnZVN0cmVhbSxcbiAgU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGUsXG59IGZyb20gJy4vcHJvY2Vzcy11aS1tZXNzYWdlLXN0cmVhbSc7XG5pbXBvcnQge1xuICBJbmZlclVJTWVzc2FnZVRvb2xDYWxsLFxuICBpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0LFxuICB0eXBlIERhdGFVSVBhcnQsXG4gIHR5cGUgRmlsZVVJUGFydCxcbiAgdHlwZSBJbmZlclVJTWVzc2FnZURhdGEsXG4gIHR5cGUgSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YSxcbiAgdHlwZSBJbmZlclVJTWVzc2FnZVRvb2xzLFxuICB0eXBlIFVJRGF0YVR5cGVzLFxuICB0eXBlIFVJTWVzc2FnZSxcbn0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5cbmV4cG9ydCB0eXBlIENyZWF0ZVVJTWVzc2FnZTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9IE9taXQ8XG4gIFVJX01FU1NBR0UsXG4gICdpZCcgfCAncm9sZSdcbj4gJiB7XG4gIGlkPzogVUlfTUVTU0FHRVsnaWQnXTtcbiAgcm9sZT86IFVJX01FU1NBR0VbJ3JvbGUnXTtcbn07XG5cbmV4cG9ydCB0eXBlIFVJRGF0YVBhcnRTY2hlbWFzID0gUmVjb3JkPFxuICBzdHJpbmcsXG4gIFZhbGlkYXRvcjxhbnk+IHwgU3RhbmRhcmRTY2hlbWFWMTxhbnk+XG4+O1xuXG5leHBvcnQgdHlwZSBVSURhdGFUeXBlc1RvU2NoZW1hczxUIGV4dGVuZHMgVUlEYXRhVHlwZXM+ID0ge1xuICBbSyBpbiBrZXlvZiBUXTogVmFsaWRhdG9yPFRbS10+IHwgU3RhbmRhcmRTY2hlbWFWMTxUW0tdPjtcbn07XG5cbmV4cG9ydCB0eXBlIEluZmVyVUlEYXRhUGFydHM8VCBleHRlbmRzIFVJRGF0YVBhcnRTY2hlbWFzPiA9IHtcbiAgW0sgaW4ga2V5b2YgVF06IFRbS10gZXh0ZW5kcyBWYWxpZGF0b3I8aW5mZXIgVT5cbiAgICA/IFVcbiAgICA6IFRbS10gZXh0ZW5kcyBTdGFuZGFyZFNjaGVtYVYxPGluZmVyIFU+XG4gICAgICA/IFVcbiAgICAgIDogdW5rbm93bjtcbn07XG5cbmV4cG9ydCB0eXBlIENoYXRSZXF1ZXN0T3B0aW9ucyA9IHtcbiAgLyoqXG4gIEFkZGl0aW9uYWwgaGVhZGVycyB0aGF0IHNob3VsZCBiZSB0byBiZSBwYXNzZWQgdG8gdGhlIEFQSSBlbmRwb2ludC5cbiAgICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgSGVhZGVycztcblxuICAvKipcbiAgQWRkaXRpb25hbCBib2R5IEpTT04gcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSBzZW50IHRvIHRoZSBBUEkgZW5kcG9pbnQuXG4gICAqL1xuICBib2R5Pzogb2JqZWN0OyAvLyBUT0RPIEpTT05TdHJpbmdpZnlhYmxlXG5cbiAgbWV0YWRhdGE/OiB1bmtub3duO1xufTtcblxuZXhwb3J0IHR5cGUgQ2hhdFN0YXR1cyA9ICdzdWJtaXR0ZWQnIHwgJ3N0cmVhbWluZycgfCAncmVhZHknIHwgJ2Vycm9yJztcblxudHlwZSBBY3RpdmVSZXNwb25zZTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9IHtcbiAgc3RhdGU6IFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0U+O1xuICBhYm9ydENvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcjtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdFN0YXRlPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+IHtcbiAgc3RhdHVzOiBDaGF0U3RhdHVzO1xuXG4gIGVycm9yOiBFcnJvciB8IHVuZGVmaW5lZDtcblxuICBtZXNzYWdlczogVUlfTUVTU0FHRVtdO1xuICBwdXNoTWVzc2FnZTogKG1lc3NhZ2U6IFVJX01FU1NBR0UpID0+IHZvaWQ7XG4gIHBvcE1lc3NhZ2U6ICgpID0+IHZvaWQ7XG4gIHJlcGxhY2VNZXNzYWdlOiAoaW5kZXg6IG51bWJlciwgbWVzc2FnZTogVUlfTUVTU0FHRSkgPT4gdm9pZDtcblxuICBzbmFwc2hvdDogPFQ+KHRoaW5nOiBUKSA9PiBUO1xufVxuXG5leHBvcnQgdHlwZSBDaGF0T25FcnJvckNhbGxiYWNrID0gKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgQ2hhdE9uVG9vbENhbGxDYWxsYmFjazxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlID0gVUlNZXNzYWdlPiA9XG4gIChvcHRpb25zOiB7XG4gICAgdG9vbENhbGw6IEluZmVyVUlNZXNzYWdlVG9vbENhbGw8VUlfTUVTU0FHRT47XG4gIH0pID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPjtcblxuZXhwb3J0IHR5cGUgQ2hhdE9uRGF0YUNhbGxiYWNrPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID0gKFxuICBkYXRhUGFydDogRGF0YVVJUGFydDxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4+LFxuKSA9PiB2b2lkO1xuXG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGFzc2lzdGFudCByZXNwb25zZSBoYXMgZmluaXNoZWQgc3RyZWFtaW5nLlxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIFRoZSBhc3Npc3RhbnQgbWVzc2FnZSB0aGF0IHdhcyBzdHJlYW1lZC5cbiAqIEBwYXJhbSBtZXNzYWdlcyBUaGUgZnVsbCBjaGF0IGhpc3RvcnksIGluY2x1ZGluZyB0aGUgYXNzaXN0YW50IG1lc3NhZ2UuXG4gKlxuICogQHBhcmFtIGlzQWJvcnQgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlcXVlc3QgaGFzIGJlZW4gYWJvcnRlZC5cbiAqIEBwYXJhbSBpc0Rpc2Nvbm5lY3QgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlcXVlc3QgaGFzIGJlZW4gZW5kZWQgYnkgYSBuZXR3b3JrIGVycm9yLlxuICogQHBhcmFtIGlzRXJyb3IgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlcXVlc3QgaGFzIGJlZW4gZW5kZWQgYnkgYW4gZXJyb3IuXG4gKi9cbmV4cG9ydCB0eXBlIENoYXRPbkZpbmlzaENhbGxiYWNrPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID0gKG9wdGlvbnM6IHtcbiAgbWVzc2FnZTogVUlfTUVTU0FHRTtcbiAgbWVzc2FnZXM6IFVJX01FU1NBR0VbXTtcbiAgaXNBYm9ydDogYm9vbGVhbjtcbiAgaXNEaXNjb25uZWN0OiBib29sZWFuO1xuICBpc0Vycm9yOiBib29sZWFuO1xufSkgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBDaGF0SW5pdDxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiB7XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY2hhdC4gSWYgbm90IHByb3ZpZGVkLCBhIHJhbmRvbSBvbmUgd2lsbCBiZVxuICAgKiBnZW5lcmF0ZWQuXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICBtZXNzYWdlTWV0YWRhdGFTY2hlbWE/OlxuICAgIHwgVmFsaWRhdG9yPEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT4+XG4gICAgfCBTdGFuZGFyZFNjaGVtYVYxPEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT4+O1xuICBkYXRhUGFydFNjaGVtYXM/OiBVSURhdGFUeXBlc1RvU2NoZW1hczxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4+O1xuXG4gIG1lc3NhZ2VzPzogVUlfTUVTU0FHRVtdO1xuXG4gIC8qKlxuICAgKiBBIHdheSB0byBwcm92aWRlIGEgZnVuY3Rpb24gdGhhdCBpcyBnb2luZyB0byBiZSB1c2VkIGZvciBpZHMgZm9yIG1lc3NhZ2VzIGFuZCB0aGUgY2hhdC5cbiAgICogSWYgbm90IHByb3ZpZGVkIHRoZSBkZWZhdWx0IEFJIFNESyBgZ2VuZXJhdGVJZGAgaXMgdXNlZC5cbiAgICovXG4gIGdlbmVyYXRlSWQ/OiBJZEdlbmVyYXRvcjtcblxuICB0cmFuc3BvcnQ/OiBDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+O1xuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBhbiBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAgICovXG4gIG9uRXJyb3I/OiBDaGF0T25FcnJvckNhbGxiYWNrO1xuXG4gIC8qKlxuICBPcHRpb25hbCBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGludm9rZWQgd2hlbiBhIHRvb2wgY2FsbCBpcyByZWNlaXZlZC5cbiAgSW50ZW5kZWQgZm9yIGF1dG9tYXRpYyBjbGllbnQtc2lkZSB0b29sIGV4ZWN1dGlvbi5cblxuICBZb3UgY2FuIG9wdGlvbmFsbHkgcmV0dXJuIGEgcmVzdWx0IGZvciB0aGUgdG9vbCBjYWxsLFxuICBlaXRoZXIgc3luY2hyb25vdXNseSBvciBhc3luY2hyb25vdXNseS5cbiAgICAgKi9cbiAgb25Ub29sQ2FsbD86IENoYXRPblRvb2xDYWxsQ2FsbGJhY2s8VUlfTUVTU0FHRT47XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGFzc2lzdGFudCByZXNwb25zZSBoYXMgZmluaXNoZWQgc3RyZWFtaW5nLlxuICAgKi9cbiAgb25GaW5pc2g/OiBDaGF0T25GaW5pc2hDYWxsYmFjazxVSV9NRVNTQUdFPjtcblxuICAvKipcbiAgICogT3B0aW9uYWwgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiBhIGRhdGEgcGFydCBpcyByZWNlaXZlZC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgcGFydCB0aGF0IHdhcyByZWNlaXZlZC5cbiAgICovXG4gIG9uRGF0YT86IENoYXRPbkRhdGFDYWxsYmFjazxVSV9NRVNTQUdFPjtcblxuICAvKipcbiAgICogV2hlbiBwcm92aWRlZCwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBzdHJlYW0gaXMgZmluaXNoZWQgb3IgYSB0b29sIGNhbGwgaXMgYWRkZWRcbiAgICogdG8gZGV0ZXJtaW5lIGlmIHRoZSBjdXJyZW50IG1lc3NhZ2VzIHNob3VsZCBiZSByZXN1Ym1pdHRlZC5cbiAgICovXG4gIHNlbmRBdXRvbWF0aWNhbGx5V2hlbj86IChvcHRpb25zOiB7XG4gICAgbWVzc2FnZXM6IFVJX01FU1NBR0VbXTtcbiAgfSkgPT4gYm9vbGVhbiB8IFByb21pc2VMaWtlPGJvb2xlYW4+O1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RDaGF0PFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+IHtcbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgZ2VuZXJhdGVJZDogSWRHZW5lcmF0b3I7XG5cbiAgcHJvdGVjdGVkIHN0YXRlOiBDaGF0U3RhdGU8VUlfTUVTU0FHRT47XG5cbiAgcHJpdmF0ZSBtZXNzYWdlTWV0YWRhdGFTY2hlbWE6XG4gICAgfCBWYWxpZGF0b3I8SW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPj5cbiAgICB8IFN0YW5kYXJkU2NoZW1hVjE8SW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPj5cbiAgICB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBkYXRhUGFydFNjaGVtYXM6XG4gICAgfCBVSURhdGFUeXBlc1RvU2NoZW1hczxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4+XG4gICAgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgdHJhbnNwb3J0OiBDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+O1xuICBwcml2YXRlIG9uRXJyb3I/OiBDaGF0SW5pdDxVSV9NRVNTQUdFPlsnb25FcnJvciddO1xuICBwcml2YXRlIG9uVG9vbENhbGw/OiBDaGF0SW5pdDxVSV9NRVNTQUdFPlsnb25Ub29sQ2FsbCddO1xuICBwcml2YXRlIG9uRmluaXNoPzogQ2hhdEluaXQ8VUlfTUVTU0FHRT5bJ29uRmluaXNoJ107XG4gIHByaXZhdGUgb25EYXRhPzogQ2hhdEluaXQ8VUlfTUVTU0FHRT5bJ29uRGF0YSddO1xuICBwcml2YXRlIHNlbmRBdXRvbWF0aWNhbGx5V2hlbj86IENoYXRJbml0PFVJX01FU1NBR0U+WydzZW5kQXV0b21hdGljYWxseVdoZW4nXTtcblxuICBwcml2YXRlIGFjdGl2ZVJlc3BvbnNlOiBBY3RpdmVSZXNwb25zZTxVSV9NRVNTQUdFPiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBqb2JFeGVjdXRvciA9IG5ldyBTZXJpYWxKb2JFeGVjdXRvcigpO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBnZW5lcmF0ZUlkID0gZ2VuZXJhdGVJZEZ1bmMsXG4gICAgaWQgPSBnZW5lcmF0ZUlkKCksXG4gICAgdHJhbnNwb3J0ID0gbmV3IERlZmF1bHRDaGF0VHJhbnNwb3J0KCksXG4gICAgbWVzc2FnZU1ldGFkYXRhU2NoZW1hLFxuICAgIGRhdGFQYXJ0U2NoZW1hcyxcbiAgICBzdGF0ZSxcbiAgICBvbkVycm9yLFxuICAgIG9uVG9vbENhbGwsXG4gICAgb25GaW5pc2gsXG4gICAgb25EYXRhLFxuICAgIHNlbmRBdXRvbWF0aWNhbGx5V2hlbixcbiAgfTogT21pdDxDaGF0SW5pdDxVSV9NRVNTQUdFPiwgJ21lc3NhZ2VzJz4gJiB7XG4gICAgc3RhdGU6IENoYXRTdGF0ZTxVSV9NRVNTQUdFPjtcbiAgfSkge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICB0aGlzLmdlbmVyYXRlSWQgPSBnZW5lcmF0ZUlkO1xuICAgIHRoaXMubWVzc2FnZU1ldGFkYXRhU2NoZW1hID0gbWVzc2FnZU1ldGFkYXRhU2NoZW1hO1xuICAgIHRoaXMuZGF0YVBhcnRTY2hlbWFzID0gZGF0YVBhcnRTY2hlbWFzO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLm9uRXJyb3IgPSBvbkVycm9yO1xuICAgIHRoaXMub25Ub29sQ2FsbCA9IG9uVG9vbENhbGw7XG4gICAgdGhpcy5vbkZpbmlzaCA9IG9uRmluaXNoO1xuICAgIHRoaXMub25EYXRhID0gb25EYXRhO1xuICAgIHRoaXMuc2VuZEF1dG9tYXRpY2FsbHlXaGVuID0gc2VuZEF1dG9tYXRpY2FsbHlXaGVuO1xuICB9XG5cbiAgLyoqXG4gICAqIEhvb2sgc3RhdHVzOlxuICAgKlxuICAgKiAtIGBzdWJtaXR0ZWRgOiBUaGUgbWVzc2FnZSBoYXMgYmVlbiBzZW50IHRvIHRoZSBBUEkgYW5kIHdlJ3JlIGF3YWl0aW5nIHRoZSBzdGFydCBvZiB0aGUgcmVzcG9uc2Ugc3RyZWFtLlxuICAgKiAtIGBzdHJlYW1pbmdgOiBUaGUgcmVzcG9uc2UgaXMgYWN0aXZlbHkgc3RyZWFtaW5nIGluIGZyb20gdGhlIEFQSSwgcmVjZWl2aW5nIGNodW5rcyBvZiBkYXRhLlxuICAgKiAtIGByZWFkeWA6IFRoZSBmdWxsIHJlc3BvbnNlIGhhcyBiZWVuIHJlY2VpdmVkIGFuZCBwcm9jZXNzZWQ7IGEgbmV3IHVzZXIgbWVzc2FnZSBjYW4gYmUgc3VibWl0dGVkLlxuICAgKiAtIGBlcnJvcmA6IEFuIGVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgQVBJIHJlcXVlc3QsIHByZXZlbnRpbmcgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLlxuICAgKi9cbiAgZ2V0IHN0YXR1cygpOiBDaGF0U3RhdHVzIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zdGF0dXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2V0U3RhdHVzKHtcbiAgICBzdGF0dXMsXG4gICAgZXJyb3IsXG4gIH06IHtcbiAgICBzdGF0dXM6IENoYXRTdGF0dXM7XG4gICAgZXJyb3I/OiBFcnJvcjtcbiAgfSkge1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gc3RhdHVzKSByZXR1cm47XG5cbiAgICB0aGlzLnN0YXRlLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLnN0YXRlLmVycm9yID0gZXJyb3I7XG4gIH1cblxuICBnZXQgZXJyb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZXJyb3I7XG4gIH1cblxuICBnZXQgbWVzc2FnZXMoKTogVUlfTUVTU0FHRVtdIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5tZXNzYWdlcztcbiAgfVxuXG4gIGdldCBsYXN0TWVzc2FnZSgpOiBVSV9NRVNTQUdFIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5tZXNzYWdlc1t0aGlzLnN0YXRlLm1lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgc2V0IG1lc3NhZ2VzKG1lc3NhZ2VzOiBVSV9NRVNTQUdFW10pIHtcbiAgICB0aGlzLnN0YXRlLm1lc3NhZ2VzID0gbWVzc2FnZXM7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyBvciByZXBsYWNlcyBhIHVzZXIgbWVzc2FnZSB0byB0aGUgY2hhdCBsaXN0LiBUaGlzIHRyaWdnZXJzIHRoZSBBUEkgY2FsbCB0byBmZXRjaFxuICAgKiB0aGUgYXNzaXN0YW50J3MgcmVzcG9uc2UuXG4gICAqXG4gICAqIElmIGEgbWVzc2FnZUlkIGlzIHByb3ZpZGVkLCB0aGUgbWVzc2FnZSB3aWxsIGJlIHJlcGxhY2VkLlxuICAgKi9cbiAgc2VuZE1lc3NhZ2UgPSBhc3luYyAoXG4gICAgbWVzc2FnZT86XG4gICAgICB8IChDcmVhdGVVSU1lc3NhZ2U8VUlfTUVTU0FHRT4gJiB7XG4gICAgICAgICAgdGV4dD86IG5ldmVyO1xuICAgICAgICAgIGZpbGVzPzogbmV2ZXI7XG4gICAgICAgICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICAgICAgICB9KVxuICAgICAgfCB7XG4gICAgICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgICAgIGZpbGVzPzogRmlsZUxpc3QgfCBGaWxlVUlQYXJ0W107XG4gICAgICAgICAgbWV0YWRhdGE/OiBJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+O1xuICAgICAgICAgIHBhcnRzPzogbmV2ZXI7XG4gICAgICAgICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB8IHtcbiAgICAgICAgICBmaWxlczogRmlsZUxpc3QgfCBGaWxlVUlQYXJ0W107XG4gICAgICAgICAgbWV0YWRhdGE/OiBJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+O1xuICAgICAgICAgIHBhcnRzPzogbmV2ZXI7XG4gICAgICAgICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICAgICAgICB9LFxuICAgIG9wdGlvbnM/OiBDaGF0UmVxdWVzdE9wdGlvbnMsXG4gICk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGlmIChtZXNzYWdlID09IG51bGwpIHtcbiAgICAgIGF3YWl0IHRoaXMubWFrZVJlcXVlc3Qoe1xuICAgICAgICB0cmlnZ2VyOiAnc3VibWl0LW1lc3NhZ2UnLFxuICAgICAgICBtZXNzYWdlSWQ6IHRoaXMubGFzdE1lc3NhZ2U/LmlkLFxuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHVpTWVzc2FnZTogQ3JlYXRlVUlNZXNzYWdlPFVJX01FU1NBR0U+O1xuXG4gICAgaWYgKCd0ZXh0JyBpbiBtZXNzYWdlIHx8ICdmaWxlcycgaW4gbWVzc2FnZSkge1xuICAgICAgY29uc3QgZmlsZVBhcnRzID0gQXJyYXkuaXNBcnJheShtZXNzYWdlLmZpbGVzKVxuICAgICAgICA/IG1lc3NhZ2UuZmlsZXNcbiAgICAgICAgOiBhd2FpdCBjb252ZXJ0RmlsZUxpc3RUb0ZpbGVVSVBhcnRzKG1lc3NhZ2UuZmlsZXMpO1xuXG4gICAgICB1aU1lc3NhZ2UgPSB7XG4gICAgICAgIHBhcnRzOiBbXG4gICAgICAgICAgLi4uZmlsZVBhcnRzLFxuICAgICAgICAgIC4uLigndGV4dCcgaW4gbWVzc2FnZSAmJiBtZXNzYWdlLnRleHQgIT0gbnVsbFxuICAgICAgICAgICAgPyBbeyB0eXBlOiAndGV4dCcgYXMgY29uc3QsIHRleHQ6IG1lc3NhZ2UudGV4dCB9XVxuICAgICAgICAgICAgOiBbXSksXG4gICAgICAgIF0sXG4gICAgICB9IGFzIFVJX01FU1NBR0U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVpTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2UubWVzc2FnZUlkICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VJbmRleCA9IHRoaXMuc3RhdGUubWVzc2FnZXMuZmluZEluZGV4KFxuICAgICAgICBtID0+IG0uaWQgPT09IG1lc3NhZ2UubWVzc2FnZUlkLFxuICAgICAgKTtcblxuICAgICAgaWYgKG1lc3NhZ2VJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtZXNzYWdlIHdpdGggaWQgJHttZXNzYWdlLm1lc3NhZ2VJZH0gbm90IGZvdW5kYCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2VzW21lc3NhZ2VJbmRleF0ucm9sZSAhPT0gJ3VzZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgbWVzc2FnZSB3aXRoIGlkICR7bWVzc2FnZS5tZXNzYWdlSWR9IGlzIG5vdCBhIHVzZXIgbWVzc2FnZWAsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSBhbGwgbWVzc2FnZXMgYWZ0ZXIgdGhlIG1lc3NhZ2Ugd2l0aCB0aGUgZ2l2ZW4gaWRcbiAgICAgIHRoaXMuc3RhdGUubWVzc2FnZXMgPSB0aGlzLnN0YXRlLm1lc3NhZ2VzLnNsaWNlKDAsIG1lc3NhZ2VJbmRleCArIDEpO1xuXG4gICAgICAvLyB1cGRhdGUgdGhlIG1lc3NhZ2Ugd2l0aCB0aGUgbmV3IGNvbnRlbnRcbiAgICAgIHRoaXMuc3RhdGUucmVwbGFjZU1lc3NhZ2UobWVzc2FnZUluZGV4LCB7XG4gICAgICAgIC4uLnVpTWVzc2FnZSxcbiAgICAgICAgaWQ6IG1lc3NhZ2UubWVzc2FnZUlkLFxuICAgICAgICByb2xlOiB1aU1lc3NhZ2Uucm9sZSA/PyAndXNlcicsXG4gICAgICAgIG1ldGFkYXRhOiBtZXNzYWdlLm1ldGFkYXRhLFxuICAgICAgfSBhcyBVSV9NRVNTQUdFKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZS5wdXNoTWVzc2FnZSh7XG4gICAgICAgIC4uLnVpTWVzc2FnZSxcbiAgICAgICAgaWQ6IHVpTWVzc2FnZS5pZCA/PyB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgICAgcm9sZTogdWlNZXNzYWdlLnJvbGUgPz8gJ3VzZXInLFxuICAgICAgICBtZXRhZGF0YTogbWVzc2FnZS5tZXRhZGF0YSxcbiAgICAgIH0gYXMgVUlfTUVTU0FHRSk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCh7XG4gICAgICB0cmlnZ2VyOiAnc3VibWl0LW1lc3NhZ2UnLFxuICAgICAgbWVzc2FnZUlkOiBtZXNzYWdlLm1lc3NhZ2VJZCxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlZ2VuZXJhdGUgdGhlIGFzc2lzdGFudCBtZXNzYWdlIHdpdGggdGhlIHByb3ZpZGVkIG1lc3NhZ2UgaWQuXG4gICAqIElmIG5vIG1lc3NhZ2UgaWQgaXMgcHJvdmlkZWQsIHRoZSBsYXN0IGFzc2lzdGFudCBtZXNzYWdlIHdpbGwgYmUgcmVnZW5lcmF0ZWQuXG4gICAqL1xuICByZWdlbmVyYXRlID0gYXN5bmMgKHtcbiAgICBtZXNzYWdlSWQsXG4gICAgLi4ub3B0aW9uc1xuICB9OiB7XG4gICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICB9ICYgQ2hhdFJlcXVlc3RPcHRpb25zID0ge30pOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCBtZXNzYWdlSW5kZXggPVxuICAgICAgbWVzc2FnZUlkID09IG51bGxcbiAgICAgICAgPyB0aGlzLnN0YXRlLm1lc3NhZ2VzLmxlbmd0aCAtIDFcbiAgICAgICAgOiB0aGlzLnN0YXRlLm1lc3NhZ2VzLmZpbmRJbmRleChtZXNzYWdlID0+IG1lc3NhZ2UuaWQgPT09IG1lc3NhZ2VJZCk7XG5cbiAgICBpZiAobWVzc2FnZUluZGV4ID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBtZXNzYWdlICR7bWVzc2FnZUlkfSBub3QgZm91bmRgKTtcbiAgICB9XG5cbiAgICAvLyBzZXQgdGhlIG1lc3NhZ2VzIHRvIHRoZSBtZXNzYWdlIGJlZm9yZSB0aGUgYXNzaXN0YW50IG1lc3NhZ2VcbiAgICB0aGlzLnN0YXRlLm1lc3NhZ2VzID0gdGhpcy5zdGF0ZS5tZXNzYWdlcy5zbGljZShcbiAgICAgIDAsXG4gICAgICAvLyBpZiB0aGUgbWVzc2FnZSBpcyBhIHVzZXIgbWVzc2FnZSwgd2UgbmVlZCB0byBpbmNsdWRlIGl0IGluIHRoZSByZXF1ZXN0OlxuICAgICAgdGhpcy5tZXNzYWdlc1ttZXNzYWdlSW5kZXhdLnJvbGUgPT09ICdhc3Npc3RhbnQnXG4gICAgICAgID8gbWVzc2FnZUluZGV4XG4gICAgICAgIDogbWVzc2FnZUluZGV4ICsgMSxcbiAgICApO1xuXG4gICAgYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCh7XG4gICAgICB0cmlnZ2VyOiAncmVnZW5lcmF0ZS1tZXNzYWdlJyxcbiAgICAgIG1lc3NhZ2VJZCxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEF0dGVtcHQgdG8gcmVzdW1lIGFuIG9uZ29pbmcgc3RyZWFtaW5nIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzdW1lU3RyZWFtID0gYXN5bmMgKG9wdGlvbnM6IENoYXRSZXF1ZXN0T3B0aW9ucyA9IHt9KTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCh7IHRyaWdnZXI6ICdyZXN1bWUtc3RyZWFtJywgLi4ub3B0aW9ucyB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQ2xlYXIgdGhlIGVycm9yIHN0YXRlIGFuZCBzZXQgdGhlIHN0YXR1cyB0byByZWFkeSBpZiB0aGUgY2hhdCBpcyBpbiBhbiBlcnJvciBzdGF0ZS5cbiAgICovXG4gIGNsZWFyRXJyb3IgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICB0aGlzLnN0YXRlLmVycm9yID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5zZXRTdGF0dXMoeyBzdGF0dXM6ICdyZWFkeScgfSk7XG4gICAgfVxuICB9O1xuXG4gIGFkZFRvb2xSZXN1bHQgPSBhc3luYyA8VE9PTCBleHRlbmRzIGtleW9mIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4+KHtcbiAgICB0b29sLFxuICAgIHRvb2xDYWxsSWQsXG4gICAgb3V0cHV0LFxuICB9OiB7XG4gICAgdG9vbDogVE9PTDtcbiAgICB0b29sQ2FsbElkOiBzdHJpbmc7XG4gICAgb3V0cHV0OiBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+W1RPT0xdWydvdXRwdXQnXTtcbiAgfSkgPT5cbiAgICB0aGlzLmpvYkV4ZWN1dG9yLnJ1bihhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlcyA9IHRoaXMuc3RhdGUubWVzc2FnZXM7XG4gICAgICBjb25zdCBsYXN0TWVzc2FnZSA9IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuXG4gICAgICB0aGlzLnN0YXRlLnJlcGxhY2VNZXNzYWdlKG1lc3NhZ2VzLmxlbmd0aCAtIDEsIHtcbiAgICAgICAgLi4ubGFzdE1lc3NhZ2UsXG4gICAgICAgIHBhcnRzOiBsYXN0TWVzc2FnZS5wYXJ0cy5tYXAocGFydCA9PlxuICAgICAgICAgIGlzVG9vbE9yRHluYW1pY1Rvb2xVSVBhcnQocGFydCkgJiYgcGFydC50b29sQ2FsbElkID09PSB0b29sQ2FsbElkXG4gICAgICAgICAgICA/IHsgLi4ucGFydCwgc3RhdGU6ICdvdXRwdXQtYXZhaWxhYmxlJywgb3V0cHV0IH1cbiAgICAgICAgICAgIDogcGFydCxcbiAgICAgICAgKSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyB1cGRhdGUgdGhlIGFjdGl2ZSByZXNwb25zZSBpZiBpdCBleGlzdHNcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlUmVzcG9uc2Uuc3RhdGUubWVzc2FnZS5wYXJ0cyA9XG4gICAgICAgICAgdGhpcy5hY3RpdmVSZXNwb25zZS5zdGF0ZS5tZXNzYWdlLnBhcnRzLm1hcChwYXJ0ID0+XG4gICAgICAgICAgICBpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0KHBhcnQpICYmIHBhcnQudG9vbENhbGxJZCA9PT0gdG9vbENhbGxJZFxuICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIC4uLnBhcnQsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IHBhcnQsXG4gICAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXV0b21hdGljYWxseSBzZW5kIHRoZSBtZXNzYWdlIGlmIHRoZSBzZW5kQXV0b21hdGljYWxseVdoZW4gZnVuY3Rpb24gcmV0dXJucyB0cnVlXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuc3RhdHVzICE9PSAnc3RyZWFtaW5nJyAmJlxuICAgICAgICB0aGlzLnN0YXR1cyAhPT0gJ3N1Ym1pdHRlZCcgJiZcbiAgICAgICAgdGhpcy5zZW5kQXV0b21hdGljYWxseVdoZW4/Lih7IG1lc3NhZ2VzOiB0aGlzLnN0YXRlLm1lc3NhZ2VzIH0pXG4gICAgICApIHtcbiAgICAgICAgLy8gbm8gYXdhaXQgdG8gYXZvaWQgZGVhZGxvY2tpbmdcbiAgICAgICAgdGhpcy5tYWtlUmVxdWVzdCh7XG4gICAgICAgICAgdHJpZ2dlcjogJ3N1Ym1pdC1tZXNzYWdlJyxcbiAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMubGFzdE1lc3NhZ2U/LmlkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvKipcbiAgICogQWJvcnQgdGhlIGN1cnJlbnQgcmVxdWVzdCBpbW1lZGlhdGVseSwga2VlcCB0aGUgZ2VuZXJhdGVkIHRva2VucyBpZiBhbnkuXG4gICAqL1xuICBzdG9wID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gJ3N0cmVhbWluZycgJiYgdGhpcy5zdGF0dXMgIT09ICdzdWJtaXR0ZWQnKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5hY3RpdmVSZXNwb25zZT8uYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICB0aGlzLmFjdGl2ZVJlc3BvbnNlLmFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGFzeW5jIG1ha2VSZXF1ZXN0KHtcbiAgICB0cmlnZ2VyLFxuICAgIG1ldGFkYXRhLFxuICAgIGhlYWRlcnMsXG4gICAgYm9keSxcbiAgICBtZXNzYWdlSWQsXG4gIH06IHtcbiAgICB0cmlnZ2VyOiAnc3VibWl0LW1lc3NhZ2UnIHwgJ3Jlc3VtZS1zdHJlYW0nIHwgJ3JlZ2VuZXJhdGUtbWVzc2FnZSc7XG4gICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICB9ICYgQ2hhdFJlcXVlc3RPcHRpb25zKSB7XG4gICAgdGhpcy5zZXRTdGF0dXMoeyBzdGF0dXM6ICdzdWJtaXR0ZWQnLCBlcnJvcjogdW5kZWZpbmVkIH0pO1xuXG4gICAgY29uc3QgbGFzdE1lc3NhZ2UgPSB0aGlzLmxhc3RNZXNzYWdlO1xuXG4gICAgbGV0IGlzQWJvcnQgPSBmYWxzZTtcbiAgICBsZXQgaXNEaXNjb25uZWN0ID0gZmFsc2U7XG4gICAgbGV0IGlzRXJyb3IgPSBmYWxzZTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBhY3RpdmVSZXNwb25zZSA9IHtcbiAgICAgICAgc3RhdGU6IGNyZWF0ZVN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlKHtcbiAgICAgICAgICBsYXN0TWVzc2FnZTogdGhpcy5zdGF0ZS5zbmFwc2hvdChsYXN0TWVzc2FnZSksXG4gICAgICAgICAgbWVzc2FnZUlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgICAgfSksXG4gICAgICAgIGFib3J0Q29udHJvbGxlcjogbmV3IEFib3J0Q29udHJvbGxlcigpLFxuICAgICAgfSBhcyBBY3RpdmVSZXNwb25zZTxVSV9NRVNTQUdFPjtcblxuICAgICAgYWN0aXZlUmVzcG9uc2UuYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHtcbiAgICAgICAgaXNBYm9ydCA9IHRydWU7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5hY3RpdmVSZXNwb25zZSA9IGFjdGl2ZVJlc3BvbnNlO1xuXG4gICAgICBsZXQgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz47XG5cbiAgICAgIGlmICh0cmlnZ2VyID09PSAncmVzdW1lLXN0cmVhbScpIHtcbiAgICAgICAgY29uc3QgcmVjb25uZWN0ID0gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVjb25uZWN0VG9TdHJlYW0oe1xuICAgICAgICAgIGNoYXRJZDogdGhpcy5pZCxcbiAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZWNvbm5lY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKHsgc3RhdHVzOiAncmVhZHknIH0pO1xuICAgICAgICAgIHJldHVybjsgLy8gbm8gYWN0aXZlIHN0cmVhbSBmb3VuZCwgc28gd2UgZG8gbm90IHJlc3VtZVxuICAgICAgICB9XG5cbiAgICAgICAgc3RyZWFtID0gcmVjb25uZWN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyZWFtID0gYXdhaXQgdGhpcy50cmFuc3BvcnQuc2VuZE1lc3NhZ2VzKHtcbiAgICAgICAgICBjaGF0SWQ6IHRoaXMuaWQsXG4gICAgICAgICAgbWVzc2FnZXM6IHRoaXMuc3RhdGUubWVzc2FnZXMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IGFjdGl2ZVJlc3BvbnNlLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIHRyaWdnZXIsXG4gICAgICAgICAgbWVzc2FnZUlkLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcnVuVXBkYXRlTWVzc2FnZUpvYiA9IChcbiAgICAgICAgam9iOiAob3B0aW9uczoge1xuICAgICAgICAgIHN0YXRlOiBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFPjtcbiAgICAgICAgICB3cml0ZTogKCkgPT4gdm9pZDtcbiAgICAgICAgfSkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICAgICkgPT5cbiAgICAgICAgLy8gc2VyaWFsaXplIHRoZSBqb2IgZXhlY3V0aW9uIHRvIGF2b2lkIHJhY2UgY29uZGl0aW9uczpcbiAgICAgICAgdGhpcy5qb2JFeGVjdXRvci5ydW4oKCkgPT5cbiAgICAgICAgICBqb2Ioe1xuICAgICAgICAgICAgc3RhdGU6IGFjdGl2ZVJlc3BvbnNlLnN0YXRlLFxuICAgICAgICAgICAgd3JpdGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgLy8gc3RyZWFtaW5nIGlzIHNldCBvbiBmaXJzdCB3cml0ZSAoYmVmb3JlIGl0IHNob3VsZCBiZSBcInN1Ym1pdHRlZFwiKVxuICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyh7IHN0YXR1czogJ3N0cmVhbWluZycgfSk7XG5cbiAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZUxhc3RNZXNzYWdlID1cbiAgICAgICAgICAgICAgICBhY3RpdmVSZXNwb25zZS5zdGF0ZS5tZXNzYWdlLmlkID09PSB0aGlzLmxhc3RNZXNzYWdlPy5pZDtcblxuICAgICAgICAgICAgICBpZiAocmVwbGFjZUxhc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5yZXBsYWNlTWVzc2FnZShcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubWVzc2FnZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZVJlc3BvbnNlLnN0YXRlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnB1c2hNZXNzYWdlKGFjdGl2ZVJlc3BvbnNlLnN0YXRlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICBhd2FpdCBjb25zdW1lU3RyZWFtKHtcbiAgICAgICAgc3RyZWFtOiBwcm9jZXNzVUlNZXNzYWdlU3RyZWFtKHtcbiAgICAgICAgICBzdHJlYW0sXG4gICAgICAgICAgb25Ub29sQ2FsbDogdGhpcy5vblRvb2xDYWxsLFxuICAgICAgICAgIG9uRGF0YTogdGhpcy5vbkRhdGEsXG4gICAgICAgICAgbWVzc2FnZU1ldGFkYXRhU2NoZW1hOiB0aGlzLm1lc3NhZ2VNZXRhZGF0YVNjaGVtYSxcbiAgICAgICAgICBkYXRhUGFydFNjaGVtYXM6IHRoaXMuZGF0YVBhcnRTY2hlbWFzLFxuICAgICAgICAgIHJ1blVwZGF0ZU1lc3NhZ2VKb2IsXG4gICAgICAgICAgb25FcnJvcjogZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIG9uRXJyb3I6IGVycm9yID0+IHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXR1cyh7IHN0YXR1czogJ3JlYWR5JyB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIElnbm9yZSBhYm9ydCBlcnJvcnMgYXMgdGhleSBhcmUgZXhwZWN0ZWQuXG4gICAgICBpZiAoaXNBYm9ydCB8fCAoZXJyIGFzIGFueSkubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgIGlzQWJvcnQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyh7IHN0YXR1czogJ3JlYWR5JyB9KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlzRXJyb3IgPSB0cnVlO1xuXG4gICAgICAvLyBOZXR3b3JrIGVycm9ycyBzdWNoIGFzIGRpc2Nvbm5lY3RlZCwgdGltZW91dCwgZXRjLlxuICAgICAgaWYgKFxuICAgICAgICBlcnIgaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiZcbiAgICAgICAgKGVyci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2ZldGNoJykgfHxcbiAgICAgICAgICBlcnIubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCduZXR3b3JrJykpXG4gICAgICApIHtcbiAgICAgICAgaXNEaXNjb25uZWN0ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub25FcnJvciAmJiBlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aGlzLm9uRXJyb3IoZXJyKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0dXMoeyBzdGF0dXM6ICdlcnJvcicsIGVycm9yOiBlcnIgYXMgRXJyb3IgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMub25GaW5pc2g/Lih7XG4gICAgICAgICAgbWVzc2FnZTogdGhpcy5hY3RpdmVSZXNwb25zZSEuc3RhdGUubWVzc2FnZSxcbiAgICAgICAgICBtZXNzYWdlczogdGhpcy5zdGF0ZS5tZXNzYWdlcyxcbiAgICAgICAgICBpc0Fib3J0LFxuICAgICAgICAgIGlzRGlzY29ubmVjdCxcbiAgICAgICAgICBpc0Vycm9yLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWN0aXZlUmVzcG9uc2UgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gYXV0b21hdGljYWxseSBzZW5kIHRoZSBtZXNzYWdlIGlmIHRoZSBzZW5kQXV0b21hdGljYWxseVdoZW4gZnVuY3Rpb24gcmV0dXJucyB0cnVlXG4gICAgaWYgKHRoaXMuc2VuZEF1dG9tYXRpY2FsbHlXaGVuPy4oeyBtZXNzYWdlczogdGhpcy5zdGF0ZS5tZXNzYWdlcyB9KSkge1xuICAgICAgYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCh7XG4gICAgICAgIHRyaWdnZXI6ICdzdWJtaXQtbWVzc2FnZScsXG4gICAgICAgIG1lc3NhZ2VJZDogdGhpcy5sYXN0TWVzc2FnZT8uaWQsXG4gICAgICAgIG1ldGFkYXRhLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBib2R5LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgRmlsZVVJUGFydCB9IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29udmVydEZpbGVMaXN0VG9GaWxlVUlQYXJ0cyhcbiAgZmlsZXM6IEZpbGVMaXN0IHwgdW5kZWZpbmVkLFxuKTogUHJvbWlzZTxBcnJheTxGaWxlVUlQYXJ0Pj4ge1xuICBpZiAoZmlsZXMgPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8vIFJlYWN0LW5hdGl2ZSBkb2Vzbid0IGhhdmUgYSBGaWxlTGlzdCBnbG9iYWw6XG4gIGlmICghZ2xvYmFsVGhpcy5GaWxlTGlzdCB8fCAhKGZpbGVzIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5GaWxlTGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGVMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQnKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChcbiAgICBBcnJheS5mcm9tKGZpbGVzKS5tYXAoYXN5bmMgZmlsZSA9PiB7XG4gICAgICBjb25zdCB7IG5hbWUsIHR5cGUgfSA9IGZpbGU7XG5cbiAgICAgIGNvbnN0IGRhdGFVcmwgPSBhd2FpdCBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IHJlYWRlckV2ZW50ID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlYWRlckV2ZW50LnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZyk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gZXJyb3IgPT4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICBtZWRpYVR5cGU6IHR5cGUsXG4gICAgICAgIGZpbGVuYW1lOiBuYW1lLFxuICAgICAgICB1cmw6IGRhdGFVcmwsXG4gICAgICB9O1xuICAgIH0pLFxuICApO1xufVxuIiwgImltcG9ydCB7IHBhcnNlSnNvbkV2ZW50U3RyZWFtLCBQYXJzZVJlc3VsdCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHtcbiAgVUlNZXNzYWdlQ2h1bmssXG4gIHVpTWVzc2FnZUNodW5rU2NoZW1hLFxufSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQge1xuICBIdHRwQ2hhdFRyYW5zcG9ydCxcbiAgSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9ucyxcbn0gZnJvbSAnLi9odHRwLWNoYXQtdHJhbnNwb3J0JztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuXG5leHBvcnQgY2xhc3MgRGVmYXVsdENoYXRUcmFuc3BvcnQ8XG4gIFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2UsXG4+IGV4dGVuZHMgSHR0cENoYXRUcmFuc3BvcnQ8VUlfTUVTU0FHRT4ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zPFVJX01FU1NBR0U+ID0ge30pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwcm9jZXNzUmVzcG9uc2VTdHJlYW0oXG4gICAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PEFycmF5QnVmZmVyTGlrZT4+LFxuICApOiBSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz4ge1xuICAgIHJldHVybiBwYXJzZUpzb25FdmVudFN0cmVhbSh7XG4gICAgICBzdHJlYW0sXG4gICAgICBzY2hlbWE6IHVpTWVzc2FnZUNodW5rU2NoZW1hLFxuICAgIH0pLnBpcGVUaHJvdWdoKFxuICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxQYXJzZVJlc3VsdDxVSU1lc3NhZ2VDaHVuaz4sIFVJTWVzc2FnZUNodW5rPih7XG4gICAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgIGlmICghY2h1bmsuc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhyb3cgY2h1bmsuZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuay52YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgRmV0Y2hGdW5jdGlvbiwgUmVzb2x2YWJsZSwgcmVzb2x2ZSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgVUlNZXNzYWdlQ2h1bmsgfSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQgeyBDaGF0VHJhbnNwb3J0IH0gZnJvbSAnLi9jaGF0LXRyYW5zcG9ydCc7XG5pbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcblxuZXhwb3J0IHR5cGUgUHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3Q8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPSAoXG4gIG9wdGlvbnM6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG1lc3NhZ2VzOiBVSV9NRVNTQUdFW107XG4gICAgcmVxdWVzdE1ldGFkYXRhOiB1bmtub3duO1xuICAgIGJvZHk6IFJlY29yZDxzdHJpbmcsIGFueT4gfCB1bmRlZmluZWQ7XG4gICAgY3JlZGVudGlhbHM6IFJlcXVlc3RDcmVkZW50aWFscyB8IHVuZGVmaW5lZDtcbiAgICBoZWFkZXJzOiBIZWFkZXJzSW5pdCB8IHVuZGVmaW5lZDtcbiAgICBhcGk6IHN0cmluZztcbiAgfSAmIHtcbiAgICB0cmlnZ2VyOiAnc3VibWl0LW1lc3NhZ2UnIHwgJ3JlZ2VuZXJhdGUtbWVzc2FnZSc7XG4gICAgbWVzc2FnZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIH0sXG4pID0+XG4gIHwge1xuICAgICAgYm9keTogb2JqZWN0O1xuICAgICAgaGVhZGVycz86IEhlYWRlcnNJbml0O1xuICAgICAgY3JlZGVudGlhbHM/OiBSZXF1ZXN0Q3JlZGVudGlhbHM7XG4gICAgICBhcGk/OiBzdHJpbmc7XG4gICAgfVxuICB8IFByb21pc2VMaWtlPHtcbiAgICAgIGJvZHk6IG9iamVjdDtcbiAgICAgIGhlYWRlcnM/OiBIZWFkZXJzSW5pdDtcbiAgICAgIGNyZWRlbnRpYWxzPzogUmVxdWVzdENyZWRlbnRpYWxzO1xuICAgICAgYXBpPzogc3RyaW5nO1xuICAgIH0+O1xuXG5leHBvcnQgdHlwZSBQcmVwYXJlUmVjb25uZWN0VG9TdHJlYW1SZXF1ZXN0ID0gKG9wdGlvbnM6IHtcbiAgaWQ6IHN0cmluZztcbiAgcmVxdWVzdE1ldGFkYXRhOiB1bmtub3duO1xuICBib2R5OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgdW5kZWZpbmVkO1xuICBjcmVkZW50aWFsczogUmVxdWVzdENyZWRlbnRpYWxzIHwgdW5kZWZpbmVkO1xuICBoZWFkZXJzOiBIZWFkZXJzSW5pdCB8IHVuZGVmaW5lZDtcbiAgYXBpOiBzdHJpbmc7XG59KSA9PlxuICB8IHtcbiAgICAgIGhlYWRlcnM/OiBIZWFkZXJzSW5pdDtcbiAgICAgIGNyZWRlbnRpYWxzPzogUmVxdWVzdENyZWRlbnRpYWxzO1xuICAgICAgYXBpPzogc3RyaW5nO1xuICAgIH1cbiAgfCBQcm9taXNlTGlrZTx7XG4gICAgICBoZWFkZXJzPzogSGVhZGVyc0luaXQ7XG4gICAgICBjcmVkZW50aWFscz86IFJlcXVlc3RDcmVkZW50aWFscztcbiAgICAgIGFwaT86IHN0cmluZztcbiAgICB9PjtcblxuLyoqXG4gKiBPcHRpb25zIGZvciB0aGUgYEh0dHBDaGF0VHJhbnNwb3J0YCBjbGFzcy5cbiAqXG4gKiBAcGFyYW0gVUlfTUVTU0FHRSAtIFRoZSB0eXBlIG9mIG1lc3NhZ2UgdG8gYmUgdXNlZCBpbiB0aGUgY2hhdC5cbiAqL1xuZXhwb3J0IHR5cGUgSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9uczxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9IHtcbiAgLyoqXG4gICAqIFRoZSBBUEkgVVJMIHRvIGJlIHVzZWQgZm9yIHRoZSBjaGF0IHRyYW5zcG9ydC5cbiAgICogRGVmYXVsdHMgdG8gJy9hcGkvY2hhdCcuXG4gICAqL1xuICBhcGk/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBjcmVkZW50aWFscyBtb2RlIHRvIGJlIHVzZWQgZm9yIHRoZSBmZXRjaCByZXF1ZXN0LlxuICAgKiBQb3NzaWJsZSB2YWx1ZXMgYXJlOiAnb21pdCcsICdzYW1lLW9yaWdpbicsICdpbmNsdWRlJy5cbiAgICogRGVmYXVsdHMgdG8gJ3NhbWUtb3JpZ2luJy5cbiAgICovXG4gIGNyZWRlbnRpYWxzPzogUmVzb2x2YWJsZTxSZXF1ZXN0Q3JlZGVudGlhbHM+O1xuXG4gIC8qKlxuICAgKiBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSBBUEkgcmVxdWVzdC5cbiAgICovXG4gIGhlYWRlcnM/OiBSZXNvbHZhYmxlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfCBIZWFkZXJzPjtcblxuICAvKipcbiAgICogRXh0cmEgYm9keSBvYmplY3QgdG8gYmUgc2VudCB3aXRoIHRoZSBBUEkgcmVxdWVzdC5cbiAgICogQGV4YW1wbGVcbiAgICogU2VuZCBhIGBzZXNzaW9uSWRgIHRvIHRoZSBBUEkgYWxvbmcgd2l0aCB0aGUgbWVzc2FnZXMuXG4gICAqIGBgYGpzXG4gICAqIHVzZUNoYXQoe1xuICAgKiAgIGJvZHk6IHtcbiAgICogICAgIHNlc3Npb25JZDogJzEyMycsXG4gICAqICAgfVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIGJvZHk/OiBSZXNvbHZhYmxlPG9iamVjdD47XG5cbiAgLyoqXG4gIEN1c3RvbSBmZXRjaCBpbXBsZW1lbnRhdGlvbi4gWW91IGNhbiB1c2UgaXQgYXMgYSBtaWRkbGV3YXJlIHRvIGludGVyY2VwdCByZXF1ZXN0cyxcbiAgb3IgdG8gcHJvdmlkZSBhIGN1c3RvbSBmZXRjaCBpbXBsZW1lbnRhdGlvbiBmb3IgZS5nLiB0ZXN0aW5nLlxuICAgICAgKi9cbiAgZmV0Y2g/OiBGZXRjaEZ1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBXaGVuIGEgZnVuY3Rpb24gaXMgcHJvdmlkZWQsIGl0IHdpbGwgYmUgdXNlZFxuICAgKiB0byBwcmVwYXJlIHRoZSByZXF1ZXN0IGJvZHkgZm9yIHRoZSBjaGF0IEFQSS4gVGhpcyBjYW4gYmUgdXNlZnVsIGZvclxuICAgKiBjdXN0b21pemluZyB0aGUgcmVxdWVzdCBib2R5IGJhc2VkIG9uIHRoZSBtZXNzYWdlcyBhbmQgZGF0YSBpbiB0aGUgY2hhdC5cbiAgICpcbiAgICogQHBhcmFtIGlkIFRoZSBpZCBvZiB0aGUgY2hhdC5cbiAgICogQHBhcmFtIG1lc3NhZ2VzIFRoZSBjdXJyZW50IG1lc3NhZ2VzIGluIHRoZSBjaGF0LlxuICAgKiBAcGFyYW0gcmVxdWVzdEJvZHkgVGhlIHJlcXVlc3QgYm9keSBvYmplY3QgcGFzc2VkIGluIHRoZSBjaGF0IHJlcXVlc3QuXG4gICAqL1xuICBwcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdD86IFByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0PFVJX01FU1NBR0U+O1xuXG4gIC8qKlxuICAgKiBXaGVuIGEgZnVuY3Rpb24gaXMgcHJvdmlkZWQsIGl0IHdpbGwgYmUgdXNlZFxuICAgKiB0byBwcmVwYXJlIHRoZSByZXF1ZXN0IGJvZHkgZm9yIHRoZSBjaGF0IEFQSS4gVGhpcyBjYW4gYmUgdXNlZnVsIGZvclxuICAgKiBjdXN0b21pemluZyB0aGUgcmVxdWVzdCBib2R5IGJhc2VkIG9uIHRoZSBtZXNzYWdlcyBhbmQgZGF0YSBpbiB0aGUgY2hhdC5cbiAgICpcbiAgICogQHBhcmFtIGlkIFRoZSBpZCBvZiB0aGUgY2hhdC5cbiAgICogQHBhcmFtIG1lc3NhZ2VzIFRoZSBjdXJyZW50IG1lc3NhZ2VzIGluIHRoZSBjaGF0LlxuICAgKiBAcGFyYW0gcmVxdWVzdEJvZHkgVGhlIHJlcXVlc3QgYm9keSBvYmplY3QgcGFzc2VkIGluIHRoZSBjaGF0IHJlcXVlc3QuXG4gICAqL1xuICBwcmVwYXJlUmVjb25uZWN0VG9TdHJlYW1SZXF1ZXN0PzogUHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdDtcbn07XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBIdHRwQ2hhdFRyYW5zcG9ydDxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPlxuICBpbXBsZW1lbnRzIENoYXRUcmFuc3BvcnQ8VUlfTUVTU0FHRT5cbntcbiAgcHJvdGVjdGVkIGFwaTogc3RyaW5nO1xuICBwcm90ZWN0ZWQgY3JlZGVudGlhbHM6IEh0dHBDaGF0VHJhbnNwb3J0SW5pdE9wdGlvbnM8VUlfTUVTU0FHRT5bJ2NyZWRlbnRpYWxzJ107XG4gIHByb3RlY3RlZCBoZWFkZXJzOiBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zPFVJX01FU1NBR0U+WydoZWFkZXJzJ107XG4gIHByb3RlY3RlZCBib2R5OiBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zPFVJX01FU1NBR0U+Wydib2R5J107XG4gIHByb3RlY3RlZCBmZXRjaD86IEZldGNoRnVuY3Rpb247XG4gIHByb3RlY3RlZCBwcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdD86IFByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0PFVJX01FU1NBR0U+O1xuICBwcm90ZWN0ZWQgcHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdD86IFByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3Q7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGFwaSA9ICcvYXBpL2NoYXQnLFxuICAgIGNyZWRlbnRpYWxzLFxuICAgIGhlYWRlcnMsXG4gICAgYm9keSxcbiAgICBmZXRjaCxcbiAgICBwcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdCxcbiAgICBwcmVwYXJlUmVjb25uZWN0VG9TdHJlYW1SZXF1ZXN0LFxuICB9OiBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zPFVJX01FU1NBR0U+KSB7XG4gICAgdGhpcy5hcGkgPSBhcGk7XG4gICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xuICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICB0aGlzLmZldGNoID0gZmV0Y2g7XG4gICAgdGhpcy5wcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdCA9IHByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0O1xuICAgIHRoaXMucHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdCA9IHByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3Q7XG4gIH1cblxuICBhc3luYyBzZW5kTWVzc2FnZXMoe1xuICAgIGFib3J0U2lnbmFsLFxuICAgIC4uLm9wdGlvbnNcbiAgfTogUGFyYW1ldGVyczxDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+WydzZW5kTWVzc2FnZXMnXT5bMF0pIHtcbiAgICBjb25zdCByZXNvbHZlZEJvZHkgPSBhd2FpdCByZXNvbHZlKHRoaXMuYm9keSk7XG4gICAgY29uc3QgcmVzb2x2ZWRIZWFkZXJzID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmhlYWRlcnMpO1xuICAgIGNvbnN0IHJlc29sdmVkQ3JlZGVudGlhbHMgPSBhd2FpdCByZXNvbHZlKHRoaXMuY3JlZGVudGlhbHMpO1xuXG4gICAgY29uc3QgcHJlcGFyZWRSZXF1ZXN0ID0gYXdhaXQgdGhpcy5wcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdD8uKHtcbiAgICAgIGFwaTogdGhpcy5hcGksXG4gICAgICBpZDogb3B0aW9ucy5jaGF0SWQsXG4gICAgICBtZXNzYWdlczogb3B0aW9ucy5tZXNzYWdlcyxcbiAgICAgIGJvZHk6IHsgLi4ucmVzb2x2ZWRCb2R5LCAuLi5vcHRpb25zLmJvZHkgfSxcbiAgICAgIGhlYWRlcnM6IHsgLi4ucmVzb2x2ZWRIZWFkZXJzLCAuLi5vcHRpb25zLmhlYWRlcnMgfSxcbiAgICAgIGNyZWRlbnRpYWxzOiByZXNvbHZlZENyZWRlbnRpYWxzLFxuICAgICAgcmVxdWVzdE1ldGFkYXRhOiBvcHRpb25zLm1ldGFkYXRhLFxuICAgICAgdHJpZ2dlcjogb3B0aW9ucy50cmlnZ2VyLFxuICAgICAgbWVzc2FnZUlkOiBvcHRpb25zLm1lc3NhZ2VJZCxcbiAgICB9KTtcblxuICAgIGNvbnN0IGFwaSA9IHByZXBhcmVkUmVxdWVzdD8uYXBpID8/IHRoaXMuYXBpO1xuICAgIGNvbnN0IGhlYWRlcnMgPVxuICAgICAgcHJlcGFyZWRSZXF1ZXN0Py5oZWFkZXJzICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBwcmVwYXJlZFJlcXVlc3QuaGVhZGVyc1xuICAgICAgICA6IHsgLi4ucmVzb2x2ZWRIZWFkZXJzLCAuLi5vcHRpb25zLmhlYWRlcnMgfTtcbiAgICBjb25zdCBib2R5ID1cbiAgICAgIHByZXBhcmVkUmVxdWVzdD8uYm9keSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcHJlcGFyZWRSZXF1ZXN0LmJvZHlcbiAgICAgICAgOiB7XG4gICAgICAgICAgICAuLi5yZXNvbHZlZEJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLmJvZHksXG4gICAgICAgICAgICBpZDogb3B0aW9ucy5jaGF0SWQsXG4gICAgICAgICAgICBtZXNzYWdlczogb3B0aW9ucy5tZXNzYWdlcyxcbiAgICAgICAgICAgIHRyaWdnZXI6IG9wdGlvbnMudHJpZ2dlcixcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogb3B0aW9ucy5tZXNzYWdlSWQsXG4gICAgICAgICAgfTtcbiAgICBjb25zdCBjcmVkZW50aWFscyA9IHByZXBhcmVkUmVxdWVzdD8uY3JlZGVudGlhbHMgPz8gcmVzb2x2ZWRDcmVkZW50aWFscztcblxuICAgIC8vIGF2b2lkIGNhY2hpbmcgZ2xvYmFsVGhpcy5mZXRjaCBpbiBjYXNlIGl0IGlzIHBhdGNoZWQgYnkgb3RoZXIgbGlicmFyaWVzXG4gICAgY29uc3QgZmV0Y2ggPSB0aGlzLmZldGNoID8/IGdsb2JhbFRoaXMuZmV0Y2g7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaSwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBjcmVkZW50aWFscyxcbiAgICAgIHNpZ25hbDogYWJvcnRTaWduYWwsXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIChhd2FpdCByZXNwb25zZS50ZXh0KCkpID8/ICdGYWlsZWQgdG8gZmV0Y2ggdGhlIGNoYXQgcmVzcG9uc2UuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSByZXNwb25zZSBib2R5IGlzIGVtcHR5LicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnByb2Nlc3NSZXNwb25zZVN0cmVhbShyZXNwb25zZS5ib2R5KTtcbiAgfVxuXG4gIGFzeW5jIHJlY29ubmVjdFRvU3RyZWFtKFxuICAgIG9wdGlvbnM6IFBhcmFtZXRlcnM8Q2hhdFRyYW5zcG9ydDxVSV9NRVNTQUdFPlsncmVjb25uZWN0VG9TdHJlYW0nXT5bMF0sXG4gICk6IFByb21pc2U8UmVhZGFibGVTdHJlYW08VUlNZXNzYWdlQ2h1bms+IHwgbnVsbD4ge1xuICAgIGNvbnN0IHJlc29sdmVkQm9keSA9IGF3YWl0IHJlc29sdmUodGhpcy5ib2R5KTtcbiAgICBjb25zdCByZXNvbHZlZEhlYWRlcnMgPSBhd2FpdCByZXNvbHZlKHRoaXMuaGVhZGVycyk7XG4gICAgY29uc3QgcmVzb2x2ZWRDcmVkZW50aWFscyA9IGF3YWl0IHJlc29sdmUodGhpcy5jcmVkZW50aWFscyk7XG5cbiAgICBjb25zdCBwcmVwYXJlZFJlcXVlc3QgPSBhd2FpdCB0aGlzLnByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3Q/Lih7XG4gICAgICBhcGk6IHRoaXMuYXBpLFxuICAgICAgaWQ6IG9wdGlvbnMuY2hhdElkLFxuICAgICAgYm9keTogeyAuLi5yZXNvbHZlZEJvZHksIC4uLm9wdGlvbnMuYm9keSB9LFxuICAgICAgaGVhZGVyczogeyAuLi5yZXNvbHZlZEhlYWRlcnMsIC4uLm9wdGlvbnMuaGVhZGVycyB9LFxuICAgICAgY3JlZGVudGlhbHM6IHJlc29sdmVkQ3JlZGVudGlhbHMsXG4gICAgICByZXF1ZXN0TWV0YWRhdGE6IG9wdGlvbnMubWV0YWRhdGEsXG4gICAgfSk7XG5cbiAgICBjb25zdCBhcGkgPSBwcmVwYXJlZFJlcXVlc3Q/LmFwaSA/PyBgJHt0aGlzLmFwaX0vJHtvcHRpb25zLmNoYXRJZH0vc3RyZWFtYDtcbiAgICBjb25zdCBoZWFkZXJzID1cbiAgICAgIHByZXBhcmVkUmVxdWVzdD8uaGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcHJlcGFyZWRSZXF1ZXN0LmhlYWRlcnNcbiAgICAgICAgOiB7IC4uLnJlc29sdmVkSGVhZGVycywgLi4ub3B0aW9ucy5oZWFkZXJzIH07XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSBwcmVwYXJlZFJlcXVlc3Q/LmNyZWRlbnRpYWxzID8/IHJlc29sdmVkQ3JlZGVudGlhbHM7XG5cbiAgICAvLyBhdm9pZCBjYWNoaW5nIGdsb2JhbFRoaXMuZmV0Y2ggaW4gY2FzZSBpdCBpcyBwYXRjaGVkIGJ5IG90aGVyIGxpYnJhcmllc1xuICAgIGNvbnN0IGZldGNoID0gdGhpcy5mZXRjaCA/PyBnbG9iYWxUaGlzLmZldGNoO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGksIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzLFxuICAgICAgY3JlZGVudGlhbHMsXG4gICAgfSk7XG5cbiAgICAvLyBubyBhY3RpdmUgc3RyZWFtIGZvdW5kLCBzbyB3ZSBkbyBub3QgcmVzdW1lXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIChhd2FpdCByZXNwb25zZS50ZXh0KCkpID8/ICdGYWlsZWQgdG8gZmV0Y2ggdGhlIGNoYXQgcmVzcG9uc2UuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSByZXNwb25zZSBib2R5IGlzIGVtcHR5LicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnByb2Nlc3NSZXNwb25zZVN0cmVhbShyZXNwb25zZS5ib2R5KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBwcm9jZXNzUmVzcG9uc2VTdHJlYW0oXG4gICAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PEFycmF5QnVmZmVyTGlrZT4+LFxuICApOiBSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz47XG59XG4iLCAiaW1wb3J0IHsgaXNUb29sT3JEeW5hbWljVG9vbFVJUGFydCwgVUlNZXNzYWdlIH0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5cbi8qKlxuQ2hlY2sgaWYgdGhlIG1lc3NhZ2UgaXMgYW4gYXNzaXN0YW50IG1lc3NhZ2Ugd2l0aCBjb21wbGV0ZWQgdG9vbCBjYWxscy5cblRoZSBsYXN0IHN0ZXAgb2YgdGhlIG1lc3NhZ2UgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSB0b29sIGludm9jYXRpb24gYW5kXG5hbGwgdG9vbCBpbnZvY2F0aW9ucyBtdXN0IGhhdmUgYSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXN0QXNzaXN0YW50TWVzc2FnZUlzQ29tcGxldGVXaXRoVG9vbENhbGxzKHtcbiAgbWVzc2FnZXMsXG59OiB7XG4gIG1lc3NhZ2VzOiBVSU1lc3NhZ2VbXTtcbn0pOiBib29sZWFuIHtcbiAgY29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuXG4gIGlmICghbWVzc2FnZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChtZXNzYWdlLnJvbGUgIT09ICdhc3Npc3RhbnQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgbGFzdFN0ZXBTdGFydEluZGV4ID0gbWVzc2FnZS5wYXJ0cy5yZWR1Y2UoKGxhc3RJbmRleCwgcGFydCwgaW5kZXgpID0+IHtcbiAgICByZXR1cm4gcGFydC50eXBlID09PSAnc3RlcC1zdGFydCcgPyBpbmRleCA6IGxhc3RJbmRleDtcbiAgfSwgLTEpO1xuXG4gIGNvbnN0IGxhc3RTdGVwVG9vbEludm9jYXRpb25zID0gbWVzc2FnZS5wYXJ0c1xuICAgIC5zbGljZShsYXN0U3RlcFN0YXJ0SW5kZXggKyAxKVxuICAgIC5maWx0ZXIoaXNUb29sT3JEeW5hbWljVG9vbFVJUGFydCk7XG5cbiAgcmV0dXJuIChcbiAgICBsYXN0U3RlcFRvb2xJbnZvY2F0aW9ucy5sZW5ndGggPiAwICYmXG4gICAgbGFzdFN0ZXBUb29sSW52b2NhdGlvbnMuZXZlcnkocGFydCA9PiBwYXJ0LnN0YXRlID09PSAnb3V0cHV0LWF2YWlsYWJsZScpXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgVUlNZXNzYWdlQ2h1bmsgfSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS91aS1tZXNzYWdlLWNodW5rcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1UZXh0VG9VaU1lc3NhZ2VTdHJlYW0oe1xuICBzdHJlYW0sXG59OiB7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08c3RyaW5nPjtcbn0pIHtcbiAgcmV0dXJuIHN0cmVhbS5waXBlVGhyb3VnaChcbiAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPHN0cmluZywgVUlNZXNzYWdlQ2h1bms+KHtcbiAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3N0YXJ0JyB9KTtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3N0YXJ0LXN0ZXAnIH0pO1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAndGV4dC1zdGFydCcsIGlkOiAndGV4dC0xJyB9KTtcbiAgICAgIH0sXG5cbiAgICAgIGFzeW5jIHRyYW5zZm9ybShwYXJ0LCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LWRlbHRhJywgaWQ6ICd0ZXh0LTEnLCBkZWx0YTogcGFydCB9KTtcbiAgICAgIH0sXG5cbiAgICAgIGFzeW5jIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtZW5kJywgaWQ6ICd0ZXh0LTEnIH0pO1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnZmluaXNoLXN0ZXAnIH0pO1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnZmluaXNoJyB9KTtcbiAgICAgIH0sXG4gICAgfSksXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgVUlNZXNzYWdlQ2h1bmsgfSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQge1xuICBIdHRwQ2hhdFRyYW5zcG9ydCxcbiAgSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9ucyxcbn0gZnJvbSAnLi9odHRwLWNoYXQtdHJhbnNwb3J0JztcbmltcG9ydCB7IHRyYW5zZm9ybVRleHRUb1VpTWVzc2FnZVN0cmVhbSB9IGZyb20gJy4vdHJhbnNmb3JtLXRleHQtdG8tdWktbWVzc2FnZS1zdHJlYW0nO1xuaW1wb3J0IHsgVUlNZXNzYWdlIH0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5cbmV4cG9ydCBjbGFzcyBUZXh0U3RyZWFtQ2hhdFRyYW5zcG9ydDxcbiAgVUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZSxcbj4gZXh0ZW5kcyBIdHRwQ2hhdFRyYW5zcG9ydDxVSV9NRVNTQUdFPiB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEh0dHBDaGF0VHJhbnNwb3J0SW5pdE9wdGlvbnM8VUlfTUVTU0FHRT4gPSB7fSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHByb2Nlc3NSZXNwb25zZVN0cmVhbShcbiAgICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVpbnQ4QXJyYXk8QXJyYXlCdWZmZXJMaWtlPj4sXG4gICk6IFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPiB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybVRleHRUb1VpTWVzc2FnZVN0cmVhbSh7XG4gICAgICBzdHJlYW06IHN0cmVhbS5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSksXG4gICAgfSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBUeXBlVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBTdGFuZGFyZFNjaGVtYVYxLFxuICBUb29sLFxuICB2YWxpZGF0ZVR5cGVzLFxuICBWYWxpZGF0b3IsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBwcm92aWRlck1ldGFkYXRhU2NoZW1hIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHtcbiAgRGF0YVVJUGFydCxcbiAgSW5mZXJVSU1lc3NhZ2VEYXRhLFxuICBJbmZlclVJTWVzc2FnZVRvb2xzLFxuICBUb29sVUlQYXJ0LFxuICBVSU1lc3NhZ2UsXG59IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICcuLi9lcnJvcic7XG5cbmNvbnN0IHRleHRVSVBhcnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgndGV4dCcpLFxuICB0ZXh0OiB6LnN0cmluZygpLFxuICBzdGF0ZTogei5lbnVtKFsnc3RyZWFtaW5nJywgJ2RvbmUnXSkub3B0aW9uYWwoKSxcbiAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IHJlYXNvbmluZ1VJUGFydFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCdyZWFzb25pbmcnKSxcbiAgdGV4dDogei5zdHJpbmcoKSxcbiAgc3RhdGU6IHouZW51bShbJ3N0cmVhbWluZycsICdkb25lJ10pLm9wdGlvbmFsKCksXG4gIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbn0pO1xuXG5jb25zdCBzb3VyY2VVcmxVSVBhcnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgnc291cmNlLXVybCcpLFxuICBzb3VyY2VJZDogei5zdHJpbmcoKSxcbiAgdXJsOiB6LnN0cmluZygpLFxuICB0aXRsZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KTtcblxuY29uc3Qgc291cmNlRG9jdW1lbnRVSVBhcnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgnc291cmNlLWRvY3VtZW50JyksXG4gIHNvdXJjZUlkOiB6LnN0cmluZygpLFxuICBtZWRpYVR5cGU6IHouc3RyaW5nKCksXG4gIHRpdGxlOiB6LnN0cmluZygpLFxuICBmaWxlbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KTtcblxuY29uc3QgZmlsZVVJUGFydFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCdmaWxlJyksXG4gIG1lZGlhVHlwZTogei5zdHJpbmcoKSxcbiAgZmlsZW5hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdXJsOiB6LnN0cmluZygpLFxuICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG59KTtcblxuY29uc3Qgc3RlcFN0YXJ0VUlQYXJ0U2NoZW1hID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ3N0ZXAtc3RhcnQnKSxcbn0pO1xuXG5jb25zdCBkYXRhVUlQYXJ0U2NoZW1hID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LnN0cmluZygpLnN0YXJ0c1dpdGgoJ2RhdGEtJyksXG4gIGlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGRhdGE6IHoudW5rbm93bigpLFxufSk7XG5cbmNvbnN0IGR5bmFtaWNUb29sVUlQYXJ0U2NoZW1hcyA9IFtcbiAgei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZHluYW1pYy10b29sJyksXG4gICAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICBzdGF0ZTogei5saXRlcmFsKCdpbnB1dC1zdHJlYW1pbmcnKSxcbiAgICBpbnB1dDogei51bmtub3duKCkub3B0aW9uYWwoKSxcbiAgICBvdXRwdXQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgIGVycm9yVGV4dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdkeW5hbWljLXRvb2wnKSxcbiAgICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgIHN0YXRlOiB6LmxpdGVyYWwoJ2lucHV0LWF2YWlsYWJsZScpLFxuICAgIGlucHV0OiB6LnVua25vd24oKSxcbiAgICBvdXRwdXQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgIGVycm9yVGV4dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2R5bmFtaWMtdG9vbCcpLFxuICAgIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgc3RhdGU6IHoubGl0ZXJhbCgnb3V0cHV0LWF2YWlsYWJsZScpLFxuICAgIGlucHV0OiB6LnVua25vd24oKSxcbiAgICBvdXRwdXQ6IHoudW5rbm93bigpLFxuICAgIGVycm9yVGV4dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBwcmVsaW1pbmFyeTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2R5bmFtaWMtdG9vbCcpLFxuICAgIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgc3RhdGU6IHoubGl0ZXJhbCgnb3V0cHV0LWVycm9yJyksXG4gICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgIG91dHB1dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgZXJyb3JUZXh0OiB6LnN0cmluZygpLFxuICAgIGNhbGxQcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIH0pLFxuXTtcblxuY29uc3QgdG9vbFVJUGFydFNjaGVtYXMgPSBbXG4gIHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LnN0cmluZygpLnN0YXJ0c1dpdGgoJ3Rvb2wtJyksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICBzdGF0ZTogei5saXRlcmFsKCdpbnB1dC1zdHJlYW1pbmcnKSxcbiAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGlucHV0OiB6LnVua25vd24oKS5vcHRpb25hbCgpLFxuICAgIG91dHB1dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgZXJyb3JUZXh0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LnN0cmluZygpLnN0YXJ0c1dpdGgoJ3Rvb2wtJyksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICBzdGF0ZTogei5saXRlcmFsKCdpbnB1dC1hdmFpbGFibGUnKSxcbiAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGlucHV0OiB6LnVua25vd24oKSxcbiAgICBvdXRwdXQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgIGVycm9yVGV4dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LnN0cmluZygpLnN0YXJ0c1dpdGgoJ3Rvb2wtJyksXG4gICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICBzdGF0ZTogei5saXRlcmFsKCdvdXRwdXQtYXZhaWxhYmxlJyksXG4gICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBpbnB1dDogei51bmtub3duKCksXG4gICAgb3V0cHV0OiB6LnVua25vd24oKSxcbiAgICBlcnJvclRleHQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgIGNhbGxQcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgcHJlbGltaW5hcnk6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5zdHJpbmcoKS5zdGFydHNXaXRoKCd0b29sLScpLFxuICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgc3RhdGU6IHoubGl0ZXJhbCgnb3V0cHV0LWVycm9yJyksXG4gICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBpbnB1dDogei51bmtub3duKCksXG4gICAgb3V0cHV0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICBlcnJvclRleHQ6IHouc3RyaW5nKCksXG4gICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSksXG5dO1xuXG5jb25zdCB1aU1lc3NhZ2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGlkOiB6LnN0cmluZygpLFxuICByb2xlOiB6LmVudW0oWydzeXN0ZW0nLCAndXNlcicsICdhc3Npc3RhbnQnXSksXG4gIG1ldGFkYXRhOiB6LnVua25vd24oKS5vcHRpb25hbCgpLFxuICBwYXJ0czogei5hcnJheShcbiAgICB6LnVuaW9uKFtcbiAgICAgIHRleHRVSVBhcnRTY2hlbWEsXG4gICAgICByZWFzb25pbmdVSVBhcnRTY2hlbWEsXG4gICAgICBzb3VyY2VVcmxVSVBhcnRTY2hlbWEsXG4gICAgICBzb3VyY2VEb2N1bWVudFVJUGFydFNjaGVtYSxcbiAgICAgIGZpbGVVSVBhcnRTY2hlbWEsXG4gICAgICBzdGVwU3RhcnRVSVBhcnRTY2hlbWEsXG4gICAgICBkYXRhVUlQYXJ0U2NoZW1hLFxuICAgICAgLi4uZHluYW1pY1Rvb2xVSVBhcnRTY2hlbWFzLFxuICAgICAgLi4udG9vbFVJUGFydFNjaGVtYXMsXG4gICAgXSksXG4gICksXG59KTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgYSBsaXN0IG9mIFVJIG1lc3NhZ2VzLlxuICpcbiAqIE1ldGFkYXRhLCBkYXRhIHBhcnRzLCBhbmQgZ2VuZXJpYyB0b29sIGNhbGwgc3RydWN0dXJlcyBhcmUgb25seSB2YWxpZGF0ZWQgaWZcbiAqIHRoZSBjb3JyZXNwb25kaW5nIHNjaGVtYXMgYXJlIHByb3ZpZGVkLiBPdGhlcndpc2UsIHRoZXkgYXJlIGFzc3VtZWQgdG8gYmVcbiAqIHZhbGlkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVVSU1lc3NhZ2VzPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgbWVzc2FnZXMsXG4gIG1ldGFkYXRhU2NoZW1hLFxuICBkYXRhU2NoZW1hcyxcbiAgdG9vbHMsXG59OiB7XG4gIG1lc3NhZ2VzOiB1bmtub3duO1xuICBtZXRhZGF0YVNjaGVtYT86XG4gICAgfCBWYWxpZGF0b3I8VUlNZXNzYWdlWydtZXRhZGF0YSddPlxuICAgIHwgU3RhbmRhcmRTY2hlbWFWMTx1bmtub3duLCBVSV9NRVNTQUdFWydtZXRhZGF0YSddPjtcbiAgZGF0YVNjaGVtYXM/OiB7XG4gICAgW05BTUUgaW4ga2V5b2YgSW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+ICYgc3RyaW5nXT86XG4gICAgICB8IFZhbGlkYXRvcjxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT5bTkFNRV0+XG4gICAgICB8IFN0YW5kYXJkU2NoZW1hVjE8dW5rbm93biwgSW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+W05BTUVdPjtcbiAgfTtcbiAgdG9vbHM/OiB7XG4gICAgW05BTUUgaW4ga2V5b2YgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPiAmIHN0cmluZ10/OiBUb29sPFxuICAgICAgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPltOQU1FXVsnaW5wdXQnXSxcbiAgICAgIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT5bTkFNRV1bJ291dHB1dCddXG4gICAgPjtcbiAgfTtcbn0pOiBQcm9taXNlPEFycmF5PFVJX01FU1NBR0U+PiB7XG4gIGlmIChtZXNzYWdlcyA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIHBhcmFtZXRlcjogJ21lc3NhZ2VzJyxcbiAgICAgIHZhbHVlOiBtZXNzYWdlcyxcbiAgICAgIG1lc3NhZ2U6ICdtZXNzYWdlcyBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCcsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCB2YWxpZGF0ZWRNZXNzYWdlcyA9IGF3YWl0IHZhbGlkYXRlVHlwZXMoe1xuICAgIHZhbHVlOiBtZXNzYWdlcyxcbiAgICBzY2hlbWE6IHouYXJyYXkodWlNZXNzYWdlU2NoZW1hKSxcbiAgfSk7XG5cbiAgaWYgKG1ldGFkYXRhU2NoZW1hKSB7XG4gICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHZhbGlkYXRlZE1lc3NhZ2VzKSB7XG4gICAgICBhd2FpdCB2YWxpZGF0ZVR5cGVzKHtcbiAgICAgICAgdmFsdWU6IG1lc3NhZ2UubWV0YWRhdGEsXG4gICAgICAgIHNjaGVtYTogbWV0YWRhdGFTY2hlbWEsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoZGF0YVNjaGVtYXMpIHtcbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgdmFsaWRhdGVkTWVzc2FnZXMpIHtcbiAgICAgIGNvbnN0IGRhdGFQYXJ0cyA9IG1lc3NhZ2UucGFydHMuZmlsdGVyKHBhcnQgPT5cbiAgICAgICAgcGFydC50eXBlLnN0YXJ0c1dpdGgoJ2RhdGEtJyksXG4gICAgICApIGFzIERhdGFVSVBhcnQ8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+PltdO1xuXG4gICAgICBmb3IgKGNvbnN0IGRhdGFQYXJ0IG9mIGRhdGFQYXJ0cykge1xuICAgICAgICBjb25zdCBkYXRhTmFtZSA9IGRhdGFQYXJ0LnR5cGUuc2xpY2UoNSk7XG4gICAgICAgIGNvbnN0IGRhdGFTY2hlbWEgPSBkYXRhU2NoZW1hc1tkYXRhTmFtZV07XG5cbiAgICAgICAgaWYgKCFkYXRhU2NoZW1hKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgdmFsdWU6IGRhdGFQYXJ0LmRhdGEsXG4gICAgICAgICAgICBjYXVzZTogYE5vIGRhdGEgc2NoZW1hIGZvdW5kIGZvciBkYXRhIHBhcnQgJHtkYXRhTmFtZX1gLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdmFsaWRhdGVUeXBlcyh7XG4gICAgICAgICAgdmFsdWU6IGRhdGFQYXJ0LmRhdGEsXG4gICAgICAgICAgc2NoZW1hOiBkYXRhU2NoZW1hLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAodG9vbHMpIHtcbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgdmFsaWRhdGVkTWVzc2FnZXMpIHtcbiAgICAgIGNvbnN0IHRvb2xQYXJ0cyA9IG1lc3NhZ2UucGFydHMuZmlsdGVyKHBhcnQgPT5cbiAgICAgICAgcGFydC50eXBlLnN0YXJ0c1dpdGgoJ3Rvb2wtJyksXG4gICAgICApIGFzIFRvb2xVSVBhcnQ8SW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPj5bXTtcblxuICAgICAgZm9yIChjb25zdCB0b29sUGFydCBvZiB0b29sUGFydHMpIHtcbiAgICAgICAgY29uc3QgdG9vbE5hbWUgPSB0b29sUGFydC50eXBlLnNsaWNlKDUpO1xuICAgICAgICBjb25zdCB0b29sID0gdG9vbHNbdG9vbE5hbWVdO1xuXG4gICAgICAgIGlmICghdG9vbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlOiB0b29sUGFydC5pbnB1dCxcbiAgICAgICAgICAgIGNhdXNlOiBgTm8gdG9vbCBzY2hlbWEgZm91bmQgZm9yIHRvb2wgcGFydCAke3Rvb2xOYW1lfWAsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgdG9vbFBhcnQuc3RhdGUgPT09ICdpbnB1dC1hdmFpbGFibGUnIHx8XG4gICAgICAgICAgdG9vbFBhcnQuc3RhdGUgPT09ICdvdXRwdXQtYXZhaWxhYmxlJyB8fFxuICAgICAgICAgIHRvb2xQYXJ0LnN0YXRlID09PSAnb3V0cHV0LWVycm9yJ1xuICAgICAgICApIHtcbiAgICAgICAgICBhd2FpdCB2YWxpZGF0ZVR5cGVzKHtcbiAgICAgICAgICAgIHZhbHVlOiB0b29sUGFydC5pbnB1dCxcbiAgICAgICAgICAgIHNjaGVtYTogdG9vbC5pbnB1dFNjaGVtYSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b29sUGFydC5zdGF0ZSA9PT0gJ291dHB1dC1hdmFpbGFibGUnICYmIHRvb2wub3V0cHV0U2NoZW1hKSB7XG4gICAgICAgICAgYXdhaXQgdmFsaWRhdGVUeXBlcyh7XG4gICAgICAgICAgICB2YWx1ZTogdG9vbFBhcnQub3V0cHV0LFxuICAgICAgICAgICAgc2NoZW1hOiB0b29sLm91dHB1dFNjaGVtYSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2YWxpZGF0ZWRNZXNzYWdlcyBhcyBBcnJheTxVSV9NRVNTQUdFPjtcbn1cbiIsICJpbXBvcnQge1xuICBnZW5lcmF0ZUlkIGFzIGdlbmVyYXRlSWRGdW5jLFxuICBnZXRFcnJvck1lc3NhZ2UsXG4gIElkR2VuZXJhdG9yLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcbmltcG9ydCB7IGhhbmRsZVVJTWVzc2FnZVN0cmVhbUZpbmlzaCB9IGZyb20gJy4vaGFuZGxlLXVpLW1lc3NhZ2Utc3RyZWFtLWZpbmlzaCc7XG5pbXBvcnQgeyBJbmZlclVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VTdHJlYW1PbkZpbmlzaENhbGxiYWNrIH0gZnJvbSAnLi91aS1tZXNzYWdlLXN0cmVhbS1vbi1maW5pc2gtY2FsbGJhY2snO1xuaW1wb3J0IHsgVUlNZXNzYWdlU3RyZWFtV3JpdGVyIH0gZnJvbSAnLi91aS1tZXNzYWdlLXN0cmVhbS13cml0ZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVUlNZXNzYWdlU3RyZWFtPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgZXhlY3V0ZSxcbiAgb25FcnJvciA9IGdldEVycm9yTWVzc2FnZSxcbiAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgb25GaW5pc2gsXG4gIGdlbmVyYXRlSWQgPSBnZW5lcmF0ZUlkRnVuYyxcbn06IHtcbiAgZXhlY3V0ZTogKG9wdGlvbnM6IHtcbiAgICB3cml0ZXI6IFVJTWVzc2FnZVN0cmVhbVdyaXRlcjxVSV9NRVNTQUdFPjtcbiAgfSkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG4gIG9uRXJyb3I/OiAoZXJyb3I6IHVua25vd24pID0+IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9yaWdpbmFsIG1lc3NhZ2VzLiBJZiB0aGV5IGFyZSBwcm92aWRlZCwgcGVyc2lzdGVuY2UgbW9kZSBpcyBhc3N1bWVkLFxuICAgKiBhbmQgYSBtZXNzYWdlIElEIGlzIHByb3ZpZGVkIGZvciB0aGUgcmVzcG9uc2UgbWVzc2FnZS5cbiAgICovXG4gIG9yaWdpbmFsTWVzc2FnZXM/OiBVSV9NRVNTQUdFW107XG5cbiAgb25GaW5pc2g/OiBVSU1lc3NhZ2VTdHJlYW1PbkZpbmlzaENhbGxiYWNrPFVJX01FU1NBR0U+O1xuXG4gIGdlbmVyYXRlSWQ/OiBJZEdlbmVyYXRvcjtcbn0pOiBSZWFkYWJsZVN0cmVhbTxJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+PiB7XG4gIGxldCBjb250cm9sbGVyITogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxcbiAgICBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+XG4gID47XG5cbiAgY29uc3Qgb25nb2luZ1N0cmVhbVByb21pc2VzOiBQcm9taXNlPHZvaWQ+W10gPSBbXTtcblxuICBjb25zdCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIHN0YXJ0KGNvbnRyb2xsZXJBcmcpIHtcbiAgICAgIGNvbnRyb2xsZXIgPSBjb250cm9sbGVyQXJnO1xuICAgIH0sXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHNhZmVFbnF1ZXVlKGRhdGE6IEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4pIHtcbiAgICB0cnkge1xuICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBzdXBwcmVzcyBlcnJvcnMgd2hlbiB0aGUgc3RyZWFtIGhhcyBiZWVuIGNsb3NlZFxuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gZXhlY3V0ZSh7XG4gICAgICB3cml0ZXI6IHtcbiAgICAgICAgd3JpdGUocGFydDogSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPikge1xuICAgICAgICAgIHNhZmVFbnF1ZXVlKHBhcnQpO1xuICAgICAgICB9LFxuICAgICAgICBtZXJnZShzdHJlYW1BcmcpIHtcbiAgICAgICAgICBvbmdvaW5nU3RyZWFtUHJvbWlzZXMucHVzaChcbiAgICAgICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbUFyZy5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgICAgICAgIGlmIChkb25lKSBicmVhaztcbiAgICAgICAgICAgICAgICBzYWZlRW5xdWV1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKCkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICBzYWZlRW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBlcnJvclRleHQ6IG9uRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgICB9IGFzIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcixcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBvbmdvaW5nU3RyZWFtUHJvbWlzZXMucHVzaChcbiAgICAgICAgcmVzdWx0LmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBzYWZlRW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgZXJyb3JUZXh0OiBvbkVycm9yKGVycm9yKSxcbiAgICAgICAgICB9IGFzIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHNhZmVFbnF1ZXVlKHtcbiAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICBlcnJvclRleHQ6IG9uRXJyb3IoZXJyb3IpLFxuICAgIH0gYXMgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPik7XG4gIH1cblxuICAvLyBXYWl0IHVudGlsIGFsbCBvbmdvaW5nIHN0cmVhbXMgYXJlIGRvbmUuIFRoaXMgYXBwcm9hY2ggZW5hYmxlcyBtZXJnaW5nXG4gIC8vIHN0cmVhbXMgZXZlbiBhZnRlciBleGVjdXRlIGhhcyByZXR1cm5lZCwgYXMgbG9uZyBhcyB0aGVyZSBpcyBzdGlsbCBhblxuICAvLyBvcGVuIG1lcmdlZCBzdHJlYW0uIFRoaXMgaXMgaW1wb3J0YW50IHRvIGUuZy4gZm9yd2FyZCBuZXcgc3RyZWFtcyBhbmRcbiAgLy8gZnJvbSBjYWxsYmFja3MuXG4gIGNvbnN0IHdhaXRGb3JTdHJlYW1zOiBQcm9taXNlPHZvaWQ+ID0gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XG4gICAgd2hpbGUgKG9uZ29pbmdTdHJlYW1Qcm9taXNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCBvbmdvaW5nU3RyZWFtUHJvbWlzZXMuc2hpZnQoKTtcbiAgICB9XG4gICAgcmVzb2x2ZSgpO1xuICB9KTtcblxuICB3YWl0Rm9yU3RyZWFtcy5maW5hbGx5KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBzdXBwcmVzcyBlcnJvcnMgd2hlbiB0aGUgc3RyZWFtIGhhcyBiZWVuIGNsb3NlZFxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGhhbmRsZVVJTWVzc2FnZVN0cmVhbUZpbmlzaDxVSV9NRVNTQUdFPih7XG4gICAgc3RyZWFtLFxuICAgIG1lc3NhZ2VJZDogZ2VuZXJhdGVJZCgpLFxuICAgIG9yaWdpbmFsTWVzc2FnZXMsXG4gICAgb25GaW5pc2gsXG4gICAgb25FcnJvcixcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgVUlNZXNzYWdlIH0gZnJvbSAnLi4vdWkvdWktbWVzc2FnZXMnO1xuaW1wb3J0IHsgVUlNZXNzYWdlQ2h1bmsgfSBmcm9tICcuL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7XG4gIGNyZWF0ZVN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlLFxuICBwcm9jZXNzVUlNZXNzYWdlU3RyZWFtLFxuICBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZSxcbn0gZnJvbSAnLi4vdWkvcHJvY2Vzcy11aS1tZXNzYWdlLXN0cmVhbSc7XG5pbXBvcnQge1xuICBBc3luY0l0ZXJhYmxlU3RyZWFtLFxuICBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtLFxufSBmcm9tICcuLi91dGlsL2FzeW5jLWl0ZXJhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBjb25zdW1lU3RyZWFtIH0gZnJvbSAnLi4vdXRpbC9jb25zdW1lLXN0cmVhbSc7XG5cbi8qKlxuICogVHJhbnNmb3JtcyBhIHN0cmVhbSBvZiBgVUlNZXNzYWdlQ2h1bmtgcyBpbnRvIGFuIGBBc3luY0l0ZXJhYmxlU3RyZWFtYCBvZiBgVUlNZXNzYWdlYHMuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMubWVzc2FnZSAtIFRoZSBsYXN0IGFzc2lzdGFudCBtZXNzYWdlIHRvIHVzZSBhcyBhIHN0YXJ0aW5nIHBvaW50IHdoZW4gdGhlIGNvbnZlcnNhdGlvbiBpcyByZXN1bWVkLiBPdGhlcndpc2UgdW5kZWZpbmVkLlxuICogQHBhcmFtIG9wdGlvbnMuc3RyZWFtIC0gVGhlIHN0cmVhbSBvZiBgVUlNZXNzYWdlQ2h1bmtgcyB0byByZWFkLlxuICogQHBhcmFtIG9wdGlvbnMudGVybWluYXRlT25FcnJvciAtIFdoZXRoZXIgdG8gdGVybWluYXRlIHRoZSBzdHJlYW0gaWYgYW4gZXJyb3Igb2NjdXJzLlxuICogQHBhcmFtIG9wdGlvbnMub25FcnJvciAtIEEgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuXG4gKlxuICogQHJldHVybnMgQW4gYEFzeW5jSXRlcmFibGVTdHJlYW1gIG9mIGBVSU1lc3NhZ2Vgcy4gRWFjaCBzdHJlYW0gcGFydCBpcyBhIGRpZmZlcmVudCBzdGF0ZSBvZiB0aGUgc2FtZSBtZXNzYWdlXG4gKiBhcyBpdCBpcyBiZWluZyBjb21wbGV0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkVUlNZXNzYWdlU3RyZWFtPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgbWVzc2FnZSxcbiAgc3RyZWFtLFxuICBvbkVycm9yLFxuICB0ZXJtaW5hdGVPbkVycm9yID0gZmFsc2UsXG59OiB7XG4gIG1lc3NhZ2U/OiBVSV9NRVNTQUdFO1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPjtcbiAgb25FcnJvcj86IChlcnJvcjogdW5rbm93bikgPT4gdm9pZDtcbiAgdGVybWluYXRlT25FcnJvcj86IGJvb2xlYW47XG59KTogQXN5bmNJdGVyYWJsZVN0cmVhbTxVSV9NRVNTQUdFPiB7XG4gIGxldCBjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFVJX01FU1NBR0U+IHwgdW5kZWZpbmVkO1xuICBsZXQgaGFzRXJyb3JlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IG91dHB1dFN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbTxVSV9NRVNTQUdFPih7XG4gICAgc3RhcnQoY29udHJvbGxlclBhcmFtKSB7XG4gICAgICBjb250cm9sbGVyID0gY29udHJvbGxlclBhcmFtO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHN0YXRlID0gY3JlYXRlU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT4oe1xuICAgIG1lc3NhZ2VJZDogbWVzc2FnZT8uaWQgPz8gJycsXG4gICAgbGFzdE1lc3NhZ2U6IG1lc3NhZ2UsXG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZUVycm9yID0gKGVycm9yOiB1bmtub3duKSA9PiB7XG4gICAgb25FcnJvcj8uKGVycm9yKTtcblxuICAgIGlmICghaGFzRXJyb3JlZCAmJiB0ZXJtaW5hdGVPbkVycm9yKSB7XG4gICAgICBoYXNFcnJvcmVkID0gdHJ1ZTtcbiAgICAgIGNvbnRyb2xsZXI/LmVycm9yKGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3VtZVN0cmVhbSh7XG4gICAgc3RyZWFtOiBwcm9jZXNzVUlNZXNzYWdlU3RyZWFtKHtcbiAgICAgIHN0cmVhbSxcbiAgICAgIHJ1blVwZGF0ZU1lc3NhZ2VKb2IoXG4gICAgICAgIGpvYjogKG9wdGlvbnM6IHtcbiAgICAgICAgICBzdGF0ZTogU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT47XG4gICAgICAgICAgd3JpdGU6ICgpID0+IHZvaWQ7XG4gICAgICAgIH0pID0+IFByb21pc2U8dm9pZD4sXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGpvYih7XG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgd3JpdGU6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI/LmVucXVldWUoc3RydWN0dXJlZENsb25lKHN0YXRlLm1lc3NhZ2UpKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvbkVycm9yOiBoYW5kbGVFcnJvcixcbiAgICB9KSxcbiAgICBvbkVycm9yOiBoYW5kbGVFcnJvcixcbiAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgLy8gT25seSBjbG9zZSBpZiBubyBlcnJvciBvY2N1cnJlZC4gQ2FsbGluZyBjbG9zZSgpIG9uIGFuIGVycm9yZWQgY29udHJvbGxlclxuICAgIC8vIHRocm93cyBcIkludmFsaWQgc3RhdGU6IENvbnRyb2xsZXIgaXMgYWxyZWFkeSBjbG9zZWRcIiBUeXBlRXJyb3IuXG4gICAgaWYgKCFoYXNFcnJvcmVkKSB7XG4gICAgICBjb250cm9sbGVyPy5jbG9zZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0ob3V0cHV0U3RyZWFtKTtcbn1cbiIsICJ2YXIgZT1lPT57bGV0IHQ9ZS5zcGxpdChgL2ApO3JldHVybiB0WzBdPT09YGAmJnQuc2hpZnQoKSx0fSx0PXQ9PntsZXR7Z3JvdXBzOmkscGF0aDphfT1uKHQpLG89ZShhKTtyZXR1cm4gcihvLGkpfSxuPWU9PntsZXQgdD1bXTtyZXR1cm4gZT1lLnJlcGxhY2UoL1xce1tefV0rXFx9L2csKGUsbik9PntsZXQgcj1gQCR7bn1gO3JldHVybiB0LnB1c2goW3IsZV0pLHJ9KSx7Z3JvdXBzOnQscGF0aDplfX0scj0oZSx0KT0+e2ZvcihsZXQgbj10Lmxlbmd0aC0xO24+PTA7bi0tKXtsZXRbcl09dFtuXTtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSlpZihlW2ldLmluY2x1ZGVzKHIpKXtlW2ldPWVbaV0ucmVwbGFjZShyLHRbbl1bMV0pO2JyZWFrfX1yZXR1cm4gZX0saT17fSxhPShlLHQpPT57aWYoZT09PWAqYClyZXR1cm5gKmA7bGV0IG49ZS5tYXRjaCgvXlxcOihbXlxce1xcfV0rKSg/OlxceyguKylcXH0pPyQvKTtpZihuKXtsZXQgcj1gJHtlfSMke3R9YDtyZXR1cm4gaVtyXXx8KG5bMl0/aVtyXT10JiZ0WzBdIT09YDpgJiZ0WzBdIT09YCpgP1tyLG5bMV0sUmVnRXhwKGBeJHtuWzJdfSg/PS8ke3R9KWApXTpbZSxuWzFdLFJlZ0V4cChgXiR7blsyXX0kYCldOmlbcl09W2UsblsxXSwhMF0pLGlbcl19cmV0dXJuIG51bGx9LG89KGUsdCk9Pnt0cnl7cmV0dXJuIHQoZSl9Y2F0Y2h7cmV0dXJuIGUucmVwbGFjZSgvKD86JVswLTlBLUZhLWZdezJ9KSsvZyxlPT57dHJ5e3JldHVybiB0KGUpfWNhdGNoe3JldHVybiBlfX0pfX0scz1lPT5vKGUsZGVjb2RlVVJJKSxjPWU9PntsZXQgdD1lLnVybCxuPXQuaW5kZXhPZihgL2AsdC5pbmRleE9mKGA6YCkrNCkscj1uO2Zvcig7cjx0Lmxlbmd0aDtyKyspe2xldCBlPXQuY2hhckNvZGVBdChyKTtpZihlPT09Mzcpe2xldCBlPXQuaW5kZXhPZihgP2AsciksaT10LnNsaWNlKG4sZT09PS0xP3ZvaWQgMDplKTtyZXR1cm4gcyhpLmluY2x1ZGVzKGAlMjVgKT9pLnJlcGxhY2UoLyUyNS9nLGAlMjUyNWApOmkpfWVsc2UgaWYoZT09PTYzKWJyZWFrfXJldHVybiB0LnNsaWNlKG4scil9LGw9ZT0+e2xldCB0PWMoZSk7cmV0dXJuIHQubGVuZ3RoPjEmJnQuYXQoLTEpPT09YC9gP3Quc2xpY2UoMCwtMSk6dH0sdT0oZSx0LC4uLm4pPT4obi5sZW5ndGgmJih0PXUodCwuLi5uKSksYCR7ZT8uWzBdPT09YC9gP2BgOmAvYH0ke2V9JHt0PT09YC9gP2BgOmAke2U/LmF0KC0xKT09PWAvYD9gYDpgL2B9JHt0Py5bMF09PT1gL2A/dC5zbGljZSgxKTp0fWB9YCksZD1lPT57aWYoZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpIT09NjN8fCFlLmluY2x1ZGVzKGA6YCkpcmV0dXJuIG51bGw7bGV0IHQ9ZS5zcGxpdChgL2ApLG49W10scj1gYDtyZXR1cm4gdC5mb3JFYWNoKGU9PntpZihlIT09YGAmJiEvXFw6Ly50ZXN0KGUpKXIrPWAvYCtlO2Vsc2UgaWYoL1xcOi8udGVzdChlKSlpZigvXFw/Ly50ZXN0KGUpKXtuLmxlbmd0aD09PTAmJnI9PT1gYD9uLnB1c2goYC9gKTpuLnB1c2gocik7bGV0IHQ9ZS5yZXBsYWNlKGA/YCxgYCk7cis9YC9gK3Qsbi5wdXNoKHIpfWVsc2Ugcis9YC9gK2V9KSxuLmZpbHRlcigoZSx0LG4pPT5uLmluZGV4T2YoZSk9PT10KX0sZj1lPT4vWyUrXS8udGVzdChlKT8oZS5pbmRleE9mKGArYCkhPT0tMSYmKGU9ZS5yZXBsYWNlKC9cXCsvZyxgIGApKSxlLmluZGV4T2YoYCVgKT09PS0xP2U6byhlLGcpKTplLHA9KGUsdCxuKT0+e2xldCByO2lmKCFuJiZ0JiYhL1slK10vLnRlc3QodCkpe2xldCBuPWUuaW5kZXhPZihgPyR7dH1gLDgpO2ZvcihuPT09LTEmJihuPWUuaW5kZXhPZihgJiR7dH1gLDgpKTtuIT09LTE7KXtsZXQgcj1lLmNoYXJDb2RlQXQobit0Lmxlbmd0aCsxKTtpZihyPT09NjEpe2xldCByPW4rdC5sZW5ndGgrMixpPWUuaW5kZXhPZihgJmAscik7cmV0dXJuIGYoZS5zbGljZShyLGk9PT0tMT92b2lkIDA6aSkpfWVsc2UgaWYocj09Mzh8fGlzTmFOKHIpKXJldHVybmBgO249ZS5pbmRleE9mKGAmJHt0fWAsbisxKX1pZihyPS9bJStdLy50ZXN0KGUpLCFyKXJldHVybn1sZXQgaT17fTtyPz89L1slK10vLnRlc3QoZSk7bGV0IGE9ZS5pbmRleE9mKGA/YCw4KTtmb3IoO2EhPT0tMTspe2xldCB0PWUuaW5kZXhPZihgJmAsYSsxKSxvPWUuaW5kZXhPZihgPWAsYSk7bz50JiZ0IT09LTEmJihvPS0xKTtsZXQgcz1lLnNsaWNlKGErMSxvPT09LTE/dD09PS0xP3ZvaWQgMDp0Om8pO2lmKHImJihzPWYocykpLGE9dCxzPT09YGApY29udGludWU7bGV0IGM7bz09PS0xP2M9YGA6KGM9ZS5zbGljZShvKzEsdD09PS0xP3ZvaWQgMDp0KSxyJiYoYz1mKGMpKSksbj8oaVtzXSYmQXJyYXkuaXNBcnJheShpW3NdKXx8KGlbc109W10pLGlbc10ucHVzaChjKSk6aVtzXT8/PWN9cmV0dXJuIHQ/aVt0XTppfSxtPXAsaD0oZSx0KT0+cChlLHQsITApLGc9ZGVjb2RlVVJJQ29tcG9uZW50LF89L15bXFx3ISMkJSYnKi5eYHx+Ky1dKyQvLHY9L15bICEjLTo8LVtcXF0tfl0qJC8seT0oZSx0KT0+e2lmKHQmJmUuaW5kZXhPZih0KT09PS0xKXJldHVybnt9O2xldCBuPWUudHJpbSgpLnNwbGl0KGA7YCkscj17fTtmb3IobGV0IGUgb2Ygbil7ZT1lLnRyaW0oKTtsZXQgbj1lLmluZGV4T2YoYD1gKTtpZihuPT09LTEpY29udGludWU7bGV0IGk9ZS5zdWJzdHJpbmcoMCxuKS50cmltKCk7aWYodCYmdCE9PWl8fCFfLnRlc3QoaSkpY29udGludWU7bGV0IGE9ZS5zdWJzdHJpbmcobisxKS50cmltKCk7aWYoYS5zdGFydHNXaXRoKGBcImApJiZhLmVuZHNXaXRoKGBcImApJiYoYT1hLnNsaWNlKDEsLTEpKSx2LnRlc3QoYSkmJihyW2ldPWEuaW5kZXhPZihgJWApPT09LTE/YTpvKGEsZyksdCkpYnJlYWt9cmV0dXJuIHJ9LGI9KGUsdCxuPXt9KT0+e2xldCByPWAke2V9PSR7dH1gO2lmKGUuc3RhcnRzV2l0aChgX19TZWN1cmUtYCkmJiFuLnNlY3VyZSl0aHJvdyBFcnJvcihgX19TZWN1cmUtIENvb2tpZSBtdXN0IGhhdmUgU2VjdXJlIGF0dHJpYnV0ZXNgKTtpZihlLnN0YXJ0c1dpdGgoYF9fSG9zdC1gKSl7aWYoIW4uc2VjdXJlKXRocm93IEVycm9yKGBfX0hvc3QtIENvb2tpZSBtdXN0IGhhdmUgU2VjdXJlIGF0dHJpYnV0ZXNgKTtpZihuLnBhdGghPT1gL2ApdGhyb3cgRXJyb3IoYF9fSG9zdC0gQ29va2llIG11c3QgaGF2ZSBQYXRoIGF0dHJpYnV0ZXMgd2l0aCBcIi9cImApO2lmKG4uZG9tYWluKXRocm93IEVycm9yKGBfX0hvc3QtIENvb2tpZSBtdXN0IG5vdCBoYXZlIERvbWFpbiBhdHRyaWJ1dGVzYCl9aWYobiYmdHlwZW9mIG4ubWF4QWdlPT1gbnVtYmVyYCYmbi5tYXhBZ2U+PTApe2lmKG4ubWF4QWdlPjM0NTZlNCl0aHJvdyBFcnJvcihgQ29va2llcyBNYXgtQWdlIFNIT1VMRCBOT1QgYmUgZ3JlYXRlciB0aGFuIDQwMCBkYXlzICgzNDU2MDAwMCBzZWNvbmRzKSBpbiBkdXJhdGlvbi5gKTtyKz1gOyBNYXgtQWdlPSR7bi5tYXhBZ2V8MH1gfWlmKG4uZG9tYWluJiZuLnByZWZpeCE9PWBob3N0YCYmKHIrPWA7IERvbWFpbj0ke24uZG9tYWlufWApLG4ucGF0aCYmKHIrPWA7IFBhdGg9JHtuLnBhdGh9YCksbi5leHBpcmVzKXtpZihuLmV4cGlyZXMuZ2V0VGltZSgpLURhdGUubm93KCk+MzQ1NmU3KXRocm93IEVycm9yKGBDb29raWVzIEV4cGlyZXMgU0hPVUxEIE5PVCBiZSBncmVhdGVyIHRoYW4gNDAwIGRheXMgKDM0NTYwMDAwIHNlY29uZHMpIGluIHRoZSBmdXR1cmUuYCk7cis9YDsgRXhwaXJlcz0ke24uZXhwaXJlcy50b1VUQ1N0cmluZygpfWB9aWYobi5odHRwT25seSYmKHIrPWA7IEh0dHBPbmx5YCksbi5zZWN1cmUmJihyKz1gOyBTZWN1cmVgKSxuLnNhbWVTaXRlJiYocis9YDsgU2FtZVNpdGU9JHtuLnNhbWVTaXRlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2FtZVNpdGUuc2xpY2UoMSl9YCksbi5wcmlvcml0eSYmKHIrPWA7IFByaW9yaXR5PSR7bi5wcmlvcml0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStuLnByaW9yaXR5LnNsaWNlKDEpfWApLG4ucGFydGl0aW9uZWQpe2lmKCFuLnNlY3VyZSl0aHJvdyBFcnJvcihgUGFydGl0aW9uZWQgQ29va2llIG11c3QgaGF2ZSBTZWN1cmUgYXR0cmlidXRlc2ApO3IrPWA7IFBhcnRpdGlvbmVkYH1yZXR1cm4gcn0seD0oZSx0LG4pPT4odD1lbmNvZGVVUklDb21wb25lbnQodCksYihlLHQsbikpO2V4cG9ydHtkIGFzIGNoZWNrT3B0aW9uYWxQYXJhbWV0ZXIsZyBhcyBkZWNvZGVVUklDb21wb25lbnRfLGMgYXMgZ2V0UGF0aCxsIGFzIGdldFBhdGhOb1N0cmljdCxhIGFzIGdldFBhdHRlcm4sbSBhcyBnZXRRdWVyeVBhcmFtLGggYXMgZ2V0UXVlcnlQYXJhbXMsdSBhcyBtZXJnZVBhdGgseSBhcyBwYXJzZSx4IGFzIHNlcmlhbGl6ZSxlIGFzIHNwbGl0UGF0aCx0IGFzIHNwbGl0Um91dGluZ1BhdGgsbyBhcyB0cnlEZWNvZGV9OyIsICJpbXBvcnR7c2VyaWFsaXplIGFzIGV9ZnJvbVwiLi4vY29va2llLUJpS1k3LVAxLmpzXCI7aW1wb3J0IHQgZnJvbVwidXRpbFwiO3ZhciBuPShlLHQpPT4oZT1lLnJlcGxhY2UoL1xcLyskLyxgYCksZSs9YC9gLHQ9dC5yZXBsYWNlKC9eXFwvKy8sYGApLGUrdCkscj0oZSx0KT0+e2ZvcihsZXRbbixyXW9mIE9iamVjdC5lbnRyaWVzKHQpKXtsZXQgdD1SZWdFeHAoYC86YCtuK2AoPzp7W14vXSt9KT9cXFxcPz9gKTtlPWUucmVwbGFjZSh0LHI/YC8ke3J9YDpgYCl9cmV0dXJuIGV9LGk9ZT0+e2xldCB0PW5ldyBVUkxTZWFyY2hQYXJhbXM7Zm9yKGxldFtuLHJdb2YgT2JqZWN0LmVudHJpZXMoZSkpe2lmKHI9PT12b2lkIDApY29udGludWU7aWYoQXJyYXkuaXNBcnJheShyKSlmb3IobGV0IGUgb2Ygcil0LmFwcGVuZChuLGUpO2Vsc2UgdC5zZXQobixyKX1yZXR1cm4gdH0sYT0oZSx0KT0+e3N3aXRjaCh0KXtjYXNlYHdzYDpyZXR1cm4gZS5yZXBsYWNlKC9eaHR0cC8sYHdzYCk7Y2FzZWBodHRwYDpyZXR1cm4gZS5yZXBsYWNlKC9ed3MvLGBodHRwYCl9fSxvPWU9Pi9eaHR0cHM/OlxcL1xcL1teXFwvXSs/XFwvaW5kZXgoPz1cXD98JCkvLnRlc3QoZSk/ZS5yZXBsYWNlKC9cXC9pbmRleCg/PVxcP3wkKS8sYC9gKTplLnJlcGxhY2UoL1xcL2luZGV4KD89XFw/fCQpLyxgYCk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gdHlwZW9mIGU9PWBvYmplY3RgJiYhIWUmJiFBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIGMoZSx0KXtpZighcyhlKSYmIXModCkpcmV0dXJuIHQ7bGV0IG49ey4uLmV9O2ZvcihsZXQgZSBpbiB0KXtsZXQgcj10W2VdO3MobltlXSkmJnMocik/bltlXT1jKG5bZV0scik6bltlXT1yfXJldHVybiBufXZhciBsPShlLHQpPT57bGV0IG49bmV3IFByb3h5KCgpPT57fSx7Z2V0KG4scil7aWYoISh0eXBlb2YgciE9YHN0cmluZ2B8fHI9PT1gdGhlbmApKXJldHVybiBsKGUsWy4uLnQscl0pfSxhcHBseShuLHIsaSl7cmV0dXJuIGUoe3BhdGg6dCxhcmdzOml9KX19KTtyZXR1cm4gbn0sdT1jbGFzc3t1cmw7bWV0aG9kO3F1ZXJ5UGFyYW1zPXZvaWQgMDtwYXRoUGFyYW1zPXt9O3JCb2R5O2NUeXBlPXZvaWQgMDtjb25zdHJ1Y3RvcihlLHQpe3RoaXMudXJsPWUsdGhpcy5tZXRob2Q9dH1mZXRjaD1hc3luYyh0LG4pPT57aWYodCl7aWYodC5xdWVyeSYmKHRoaXMucXVlcnlQYXJhbXM9aSh0LnF1ZXJ5KSksdC5mb3JtKXtsZXQgZT1uZXcgRm9ybURhdGE7Zm9yKGxldFtuLHJdb2YgT2JqZWN0LmVudHJpZXModC5mb3JtKSlpZihBcnJheS5pc0FycmF5KHIpKWZvcihsZXQgdCBvZiByKWUuYXBwZW5kKG4sdCk7ZWxzZSBlLmFwcGVuZChuLHIpO3RoaXMuckJvZHk9ZX10Lmpzb24mJih0aGlzLnJCb2R5PUpTT04uc3RyaW5naWZ5KHQuanNvbiksdGhpcy5jVHlwZT1gYXBwbGljYXRpb24vanNvbmApLHQucGFyYW0mJih0aGlzLnBhdGhQYXJhbXM9dC5wYXJhbSl9bGV0IGE9dGhpcy5tZXRob2QudG9VcHBlckNhc2UoKSxzPXsuLi50Py5oZWFkZXIsLi4udHlwZW9mIG4/LmhlYWRlcnM9PWBmdW5jdGlvbmA/YXdhaXQgbi5oZWFkZXJzKCk6bj8uaGVhZGVyc307aWYodD8uY29va2llKXtsZXQgbj1bXTtmb3IobGV0W3IsaV1vZiBPYmplY3QuZW50cmllcyh0LmNvb2tpZSkpbi5wdXNoKGUocixpLHtwYXRoOmAvYH0pKTtzLkNvb2tpZT1uLmpvaW4oYCxgKX10aGlzLmNUeXBlJiYoc1tgQ29udGVudC1UeXBlYF09dGhpcy5jVHlwZSk7bGV0IGM9bmV3IEhlYWRlcnMocz8/dm9pZCAwKSxsPXRoaXMudXJsO2w9byhsKSxsPXIobCx0aGlzLnBhdGhQYXJhbXMpLHRoaXMucXVlcnlQYXJhbXMmJihsPWwrYD9gK3RoaXMucXVlcnlQYXJhbXMudG9TdHJpbmcoKSksYT10aGlzLm1ldGhvZC50b1VwcGVyQ2FzZSgpO2xldCB1PSEoYT09PWBHRVRgfHxhPT09YEhFQURgKTtyZXR1cm4obj8uZmV0Y2h8fGZldGNoKShsLHtib2R5OnU/dGhpcy5yQm9keTp2b2lkIDAsbWV0aG9kOmEsaGVhZGVyczpjLC4uLm4/LmluaXR9KX19LGQ9KGUsdCk9PmwoZnVuY3Rpb24gcyhsKXtsZXQgZD1bLi4ubC5wYXRoXSxmPWQuc2xpY2UoLTMpLnJldmVyc2UoKTtpZihmWzBdPT09YHRvU3RyaW5nYClyZXR1cm4gZlsxXT09PWBuYW1lYD9mWzJdfHxgYDpzLnRvU3RyaW5nKCk7aWYoZlswXT09PWB2YWx1ZU9mYClyZXR1cm4gZlsxXT09PWBuYW1lYD9mWzJdfHxgYDpzO2xldCBwPWBgO2lmKC9eXFwkLy50ZXN0KGZbMF0pKXtsZXQgZT1kLnBvcCgpO2UmJihwPWUucmVwbGFjZSgvXlxcJC8sYGApKX1sZXQgbT1kLmpvaW4oYC9gKSxoPW4oZSxtKTtpZihwPT09YHVybGApe2xldCBlPWg7cmV0dXJuIGwuYXJnc1swXSYmKGwuYXJnc1swXS5wYXJhbSYmKGU9cihoLGwuYXJnc1swXS5wYXJhbSkpLGwuYXJnc1swXS5xdWVyeSYmKGU9ZStgP2AraShsLmFyZ3NbMF0ucXVlcnkpLnRvU3RyaW5nKCkpKSxlPW8oZSksbmV3IFVSTChlKX1pZihwPT09YHdzYCl7bGV0IGU9YShsLmFyZ3NbMF0mJmwuYXJnc1swXS5wYXJhbT9yKGgsbC5hcmdzWzBdLnBhcmFtKTpoLGB3c2ApLG49bmV3IFVSTChlKSxpPWwuYXJnc1swXT8ucXVlcnk7aSYmT2JqZWN0LmVudHJpZXMoaSkuZm9yRWFjaCgoW2UsdF0pPT57QXJyYXkuaXNBcnJheSh0KT90LmZvckVhY2godD0+bi5zZWFyY2hQYXJhbXMuYXBwZW5kKGUsdCkpOm4uc2VhcmNoUGFyYW1zLnNldChlLHQpfSk7bGV0IG89KC4uLmUpPT50Py53ZWJTb2NrZXQhPT12b2lkIDAmJnR5cGVvZiB0LndlYlNvY2tldD09YGZ1bmN0aW9uYD90LndlYlNvY2tldCguLi5lKTpuZXcgV2ViU29ja2V0KC4uLmUpO3JldHVybiBvKG4udG9TdHJpbmcoKSl9bGV0IGc9bmV3IHUoaCxwKTtpZihwKXt0Pz89e307bGV0IGU9Yyh0LHsuLi5sLmFyZ3NbMV19KTtyZXR1cm4gZy5mZXRjaChsLmFyZ3NbMF0sZSl9cmV0dXJuIGd9LFtdKTtjb25zdCBmPXByb2Nlc3MuZW52LkJMSU5LX0FQSV9TRVJWRVJfVVJMLHA9ZChmPz9gYCx7ZmV0Y2g6Zj92b2lkIDA6YXN5bmMoKT0+e3Rocm93IGNvbnNvbGUud2FybihgWW91ciBjb2RlIGlzIGF0dGVtcHRpbmcgdG8gdXNlIHRoZSBCbGluayBBUEkgc2VydmVyLCBidXQgbm8gQVBJIHNlcnZlciBpcyBjb25maWd1cmVkIGZvciB0aGlzIEJsaW5rIGFnZW50LmApLEVycm9yKGBObyBBUEkgc2VydmVyIGlzIGNvbmZpZ3VyZWQgZm9yIHRoaXMgQmxpbmsgYWdlbnQuIEV4dGVybmFsIEFQSXMgYXJlIG5vdCBhdmFpbGFibGUuYCl9fSksbT1PYmplY3QuZnJlZXplKHt1cHNlcnQ6YXN5bmMgZT0+e2xldCB0PWF3YWl0IHAuY2hhdFtgOmlkYF0uJHBvc3Qoe3BhcmFtOntpZDplfX0pO2lmKHQuc3RhdHVzIT09MjAwKXtsZXQgZT1hd2FpdCB0Lmpzb24oKTt0aHJvdyBFcnJvcihlLmVycm9yKX1yZXR1cm57aWQ6ZX19LG1lc3NhZ2U6YXN5bmMoZSx0LG4pPT57bGV0IHI9YXdhaXQgcC5jaGF0W2A6aWRgXS5zZW5kTWVzc2FnZXMuJHBvc3Qoe3BhcmFtOntpZDplfSxqc29uOnttZXNzYWdlczpbdF0sYmVoYXZpb3I6bj8uYmVoYXZpb3I/P2BlbnF1ZXVlYH19KTtpZihyLnN0YXR1cyE9PTIwNCl7bGV0IGU9YXdhaXQgci5qc29uKCk7dGhyb3cgRXJyb3IoZS5lcnJvcil9fX0pLGg9T2JqZWN0LmZyZWV6ZSh7Z2V0OmFzeW5jIGU9PntsZXQgdD1hd2FpdCBwLnN0b3JhZ2VbYDprZXlgXS4kZ2V0KHtwYXJhbTp7a2V5OmV9fSk7aWYodC5zdGF0dXMhPT0yMDApe2xldCBlPWF3YWl0IHQuanNvbigpO3Rocm93IEVycm9yKGUuZXJyb3IpfWxldCBuPWF3YWl0IHQuanNvbigpO3JldHVybiBuLnZhbHVlfSxzZXQ6YXN5bmMoZSx0KT0+e2xldCBuPWF3YWl0IHAuc3RvcmFnZVtgOmtleWBdLiRwb3N0KHtwYXJhbTp7a2V5OmV9LGpzb246e3ZhbHVlOnR9fSk7aWYobi5zdGF0dXMhPT0yMDQpe2xldCBlPWF3YWl0IG4uanNvbigpO3Rocm93IEVycm9yKGUuZXJyb3IpfX19KTtmdW5jdGlvbiBnKGUpe3JldHVybnt2ZXJzaW9uOmB2MGAsc3VwcG9ydHNXZWJob29rczplLndlYmhvb2shPT12b2lkIDAsZmV0Y2g6YXN5bmMgdD0+e2xldCBuPW5ldyBVUkwodC51cmwpO3N3aXRjaChuLnBhdGhuYW1lKXtjYXNlYC9zZW5kTWVzc2FnZXNgOnJldHVybiB2KHQsZSk7Y2FzZWAvd2ViaG9va2A6cmV0dXJuIHkodCxlKTtkZWZhdWx0OnJldHVybiBuZXcgUmVzcG9uc2UoYE5vdCBmb3VuZGAse3N0YXR1czo0MDR9KX19fX1sZXQgXzthc3luYyBmdW5jdGlvbiB2KGUsbil7aWYoZS5tZXRob2QhPT1gUE9TVGApcmV0dXJuIG5ldyBSZXNwb25zZShgTWV0aG9kIG5vdCBhbGxvd2VkYCx7c3RhdHVzOjQwNX0pO2xldCByO3RyeXtyPWF3YWl0IGUuanNvbigpfWNhdGNoe3JldHVybiBuZXcgUmVzcG9uc2UoYEludmFsaWQgcmVxdWVzdGAse3N0YXR1czo0MDB9KX1sZXQgaTt0cnl7aT1hd2FpdCBuLnNlbmRNZXNzYWdlcyh7bWVzc2FnZXM6ci5tZXNzYWdlcyxyZXF1ZXN0OmV9KX1jYXRjaChlKXtyZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHtlcnJvcjp0Lmluc3BlY3QoZSl9KSx7c3RhdHVzOjUwMH0pfWlmKGkgaW5zdGFuY2VvZiBSZXNwb25zZSlyZXR1cm4gaTtpZihpIGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW0pcmV0dXJuIG5ldyBSZXNwb25zZShpLHtoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOmB0ZXh0L2V2ZW50LXN0cmVhbWB9fSk7aWYodHlwZW9mIGkhPWBvYmplY3RgfHx0eXBlb2YgaT09YG9iamVjdGAmJiEoYHRvVUlNZXNzYWdlU3RyZWFtYGluIGkpKXRocm93IEVycm9yKGBUaGUgYWdlbnQgbXVzdCByZXR1cm4gYSBcIlJlc3BvbnNlXCIsIFwiUmVhZGFibGVTdHJlYW1cIiwgb3IgXCJ0b1VJTWVzc2FnZVN0cmVhbVwiIGZ1bmN0aW9uLmApO198fD1uZXcgVGV4dEVuY29kZXI7bGV0IGE9bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtKGUsdCl7dC5lbnF1ZXVlKF8uZW5jb2RlKGBkYXRhOiAke0pTT04uc3RyaW5naWZ5KGUpfVxcblxcbmApKX19KSxvPWkudG9VSU1lc3NhZ2VTdHJlYW0oKTtyZXR1cm4gby5waXBlVG8oYS53cml0YWJsZSksbmV3IFJlc3BvbnNlKGEucmVhZGFibGUse2hlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6YHRleHQvZXZlbnQtc3RyZWFtYH19KX1hc3luYyBmdW5jdGlvbiB5KGUsbil7aWYoIW4ud2ViaG9vaylyZXR1cm4gbmV3IFJlc3BvbnNlKGBObyB3ZWJob29rIGZ1bmN0aW9uIHByb3ZpZGVkYCx7c3RhdHVzOjUwMX0pO3RyeXtsZXQgdD1hd2FpdCBuLndlYmhvb2soZSk7cmV0dXJuIHR8fG5ldyBSZXNwb25zZShgT0tgLHtzdGF0dXM6MjAwfSl9Y2F0Y2goZSl7cmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7ZXJyb3I6dC5pbnNwZWN0KGUpfSkse3N0YXR1czo1MDB9KX19ZnVuY3Rpb24gYihlLHQpe3JldHVybiBlLmhlYWRlcnMuc2V0KGB4LWJsaW5rLXN0cmVhbS1yZXNwb25zZS1mb3JtYXRgLHQpLGV9dmFyIHg9e2FnZW50OmcsY2hhdDptLHN0b3JhZ2U6aH07ZXhwb3J0e2cgYXMgYWdlbnQsbSBhcyBjaGF0LHggYXMgZGVmYXVsdCxoIGFzIHN0b3JhZ2UsYiBhcyB3aXRoUmVzcG9uc2VGb3JtYXR9OyIsICIvLyBFU00gd3JhcHBlciBmb3IgcGdcbmltcG9ydCBwZyBmcm9tICcuLi9saWIvaW5kZXguanMnXG5cbi8vIFJlLWV4cG9ydCBhbGwgdGhlIHByb3BlcnRpZXNcbmV4cG9ydCBjb25zdCBDbGllbnQgPSBwZy5DbGllbnRcbmV4cG9ydCBjb25zdCBQb29sID0gcGcuUG9vbFxuZXhwb3J0IGNvbnN0IENvbm5lY3Rpb24gPSBwZy5Db25uZWN0aW9uXG5leHBvcnQgY29uc3QgdHlwZXMgPSBwZy50eXBlc1xuZXhwb3J0IGNvbnN0IFF1ZXJ5ID0gcGcuUXVlcnlcbmV4cG9ydCBjb25zdCBEYXRhYmFzZUVycm9yID0gcGcuRGF0YWJhc2VFcnJvclxuZXhwb3J0IGNvbnN0IGVzY2FwZUlkZW50aWZpZXIgPSBwZy5lc2NhcGVJZGVudGlmaWVyXG5leHBvcnQgY29uc3QgZXNjYXBlTGl0ZXJhbCA9IHBnLmVzY2FwZUxpdGVyYWxcbmV4cG9ydCBjb25zdCBSZXN1bHQgPSBwZy5SZXN1bHRcbmV4cG9ydCBjb25zdCBUeXBlT3ZlcnJpZGVzID0gcGcuVHlwZU92ZXJyaWRlc1xuXG4vLyBBbHNvIGV4cG9ydCB0aGUgZGVmYXVsdHNcbmV4cG9ydCBjb25zdCBkZWZhdWx0cyA9IHBnLmRlZmF1bHRzXG5cbi8vIFJlLWV4cG9ydCB0aGUgZGVmYXVsdFxuZXhwb3J0IGRlZmF1bHQgcGdcbiIsICJpbXBvcnQgeyBQb29sIH0gZnJvbSBcInBnXCI7XG5cbmxldCBwb29sOiBQb29sIHwgbnVsbCA9IG51bGw7XG5cbmZ1bmN0aW9uIGdldFBvb2woKSB7XG4gIGlmICghcG9vbCkge1xuICAgIGNvbnN0IGNvbm5lY3Rpb25TdHJpbmcgPSBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkw7XG4gICAgaWYgKCFjb25uZWN0aW9uU3RyaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiREFUQUJBU0VfVVJMIGlzIHJlcXVpcmVkLiBTZXQgaXQgdG8geW91ciBOZW9uIGNvbm5lY3Rpb24gc3RyaW5nIGJlZm9yZSBzdGFydGluZyB0aGUgYWdlbnQuXCIsXG4gICAgICApO1xuICAgIH1cbiAgICBwb29sID0gbmV3IFBvb2woe1xuICAgICAgY29ubmVjdGlvblN0cmluZyxcbiAgICAgIHNzbDogeyByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlIH0sXG4gICAgICBtYXg6IDUsXG4gICAgICBpZGxlVGltZW91dE1pbGxpczogMTBfMDAwLFxuICAgICAgY29ubmVjdGlvblRpbWVvdXRNaWxsaXM6IDEwXzAwMCxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcG9vbDtcbn1cblxuZXhwb3J0IHR5cGUgQ29sdW1uID0ge1xuICB0YWJsZTogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRhdGFUeXBlOiBzdHJpbmc7XG4gIGlzTnVsbGFibGU6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBJbmRleCA9IHtcbiAgdGFibGU6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZWZpbml0aW9uOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBTY2hlbWFJbmZvID0ge1xuICBjb2x1bW5zOiBDb2x1bW5bXTtcbiAgaW5kZXhlczogSW5kZXhbXTtcbiAgc3VtbWFyeTogc3RyaW5nO1xufTtcblxuY29uc3QgS05PV05fU0NIRU1BX1NVTU1BUlkgPSBgXG5UYWJsZXM6XG5cbjEpIGZpZWxkX2NoYW5nZXMgKGFwcGVuZC1vbmx5KVxuICAtIGlkIEJJR1NFUklBTCBQUklNQVJZIEtFWVxuICAtIHByb2plY3Rfbm9kZV9pZCBURVhUIE5PVCBOVUxMXG4gIC0gcHJvamVjdF9uYW1lIFRFWFRcbiAgLSBpdGVtX25vZGVfaWQgVEVYVCBOT1QgTlVMTFxuICAtIGNvbnRlbnRfbm9kZV9pZCBURVhUXG4gIC0gY29udGVudF90eXBlIFRFWFRcbiAgLSBjb250ZW50X3RpdGxlIFRFWFRcbiAgLSBjb250ZW50X3VybCBURVhUXG4gIC0gcmVwb3NpdG9yeV9uYW1lIFRFWFRcbiAgLSBmaWVsZF9uYW1lIFRFWFQgTk9UIE5VTExcbiAgLSBmaWVsZF90eXBlIFRFWFQgTk9UIE5VTExcbiAgLSBvbGRfdmFsdWUgSlNPTkJcbiAgLSBuZXdfdmFsdWUgSlNPTkJcbiAgLSBjaGFuZ2VkX2F0IFRJTUVTVEFNUFRaIE5PVCBOVUxMXG4gIC0gZGV0ZWN0ZWRfYXQgVElNRVNUQU1QVFogREVGQVVMVCBOT1coKVxuICAtIGFjdG9yX2xvZ2luIFRFWFRcbiAgLSBVTklRVUUoaXRlbV9ub2RlX2lkLCBmaWVsZF9uYW1lLCBjaGFuZ2VkX2F0KVxuICBJbmRleGVzOiBwcm9qZWN0X25vZGVfaWQsIHByb2plY3RfbmFtZSwgcmVwb3NpdG9yeV9uYW1lLCBpdGVtX25vZGVfaWQsIGNoYW5nZWRfYXRcblxuMikgY3VycmVudF9maWVsZF92YWx1ZXMgKGN1cnJlbnQgc25hcHNob3QpXG4gIC0gcHJvamVjdF9ub2RlX2lkIFRFWFQgTk9UIE5VTExcbiAgLSBwcm9qZWN0X25hbWUgVEVYVFxuICAtIGl0ZW1fbm9kZV9pZCBURVhUIE5PVCBOVUxMXG4gIC0gY29udGVudF9ub2RlX2lkIFRFWFRcbiAgLSBjb250ZW50X3R5cGUgVEVYVFxuICAtIGNvbnRlbnRfdGl0bGUgVEVYVFxuICAtIGNvbnRlbnRfdXJsIFRFWFRcbiAgLSByZXBvc2l0b3J5X25hbWUgVEVYVFxuICAtIGZpZWxkX25hbWUgVEVYVCBOT1QgTlVMTFxuICAtIGZpZWxkX3R5cGUgVEVYVCBOT1QgTlVMTFxuICAtIGZpZWxkX3ZhbHVlIEpTT05CXG4gIC0gdXBkYXRlZF9hdCBUSU1FU1RBTVBUWiBERUZBVUxUIE5PVygpXG4gIC0gUFJJTUFSWSBLRVkgKGl0ZW1fbm9kZV9pZCwgZmllbGRfbmFtZSlcbiAgSW5kZXhlczogcHJvamVjdF9ub2RlX2lkLCBwcm9qZWN0X25hbWUsIHJlcG9zaXRvcnlfbmFtZVxuXG5Vc2FnZSBwYXR0ZXJuczpcbi0gXCJXaGF0J3MgbmV3IC8gd2hhdCBjaGFuZ2VkXCIgXHUyMTkyIHF1ZXJ5IGZpZWxkX2NoYW5nZXMgZmlsdGVyZWQgYnkgcHJvamVjdF9uYW1lIChvciBwcm9qZWN0X25vZGVfaWQpIHdpdGggY2hhbmdlZF9hdCA+PSBub3coKSAtIGludGVydmFsICc3IGRheXMnLlxuLSBcIkN1cnJlbnQgc3RhdGVcIiBcdTIxOTIgcXVlcnkgY3VycmVudF9maWVsZF92YWx1ZXMgZmlsdGVyZWQgYnkgcHJvamVjdF9uYW1lIChvciBwcm9qZWN0X25vZGVfaWQpLlxuLSBDb21tb24gZmlsdGVyczogcmVwb3NpdG9yeV9uYW1lLCBmaWVsZF9uYW1lIChlLmcuIFN0YXR1cyksIGFjdG9yX2xvZ2luLCBjb250ZW50X3R5cGUuXG5gO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2NoZW1hKCk6IFByb21pc2U8U2NoZW1hSW5mbz4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBnZXRQb29sKCkuY29ubmVjdCgpO1xuICB0cnkge1xuICAgIGF3YWl0IGNsaWVudC5xdWVyeShcIkJFR0lOIFJFQUQgT05MWVwiKTtcblxuICAgIGNvbnN0IGNvbFJlcyA9IGF3YWl0IGNsaWVudC5xdWVyeShcbiAgICAgIGBzZWxlY3QgYy50YWJsZV9uYW1lIGFzIHRhYmxlLCBjLmNvbHVtbl9uYW1lIGFzIG5hbWUsIGMuZGF0YV90eXBlIGFzIFwiZGF0YVR5cGVcIiwgKGMuaXNfbnVsbGFibGUgPSAnWUVTJykgYXMgXCJpc051bGxhYmxlXCJcbiAgICAgICBmcm9tIGluZm9ybWF0aW9uX3NjaGVtYS5jb2x1bW5zIGNcbiAgICAgICB3aGVyZSBjLnRhYmxlX3NjaGVtYSA9ICdwdWJsaWMnIGFuZCBjLnRhYmxlX25hbWUgaW4gKCdmaWVsZF9jaGFuZ2VzJywnY3VycmVudF9maWVsZF92YWx1ZXMnKVxuICAgICAgIG9yZGVyIGJ5IGMudGFibGVfbmFtZSwgYy5vcmRpbmFsX3Bvc2l0aW9uYCxcbiAgICApO1xuXG4gICAgY29uc3QgaWR4UmVzID0gYXdhaXQgY2xpZW50LnF1ZXJ5KFxuICAgICAgYHNlbGVjdCB0YWJsZW5hbWUgYXMgdGFibGUsIGluZGV4bmFtZSBhcyBuYW1lLCBpbmRleGRlZiBhcyBkZWZpbml0aW9uXG4gICAgICAgZnJvbSBwZ19pbmRleGVzXG4gICAgICAgd2hlcmUgc2NoZW1hbmFtZSA9ICdwdWJsaWMnIGFuZCB0YWJsZW5hbWUgaW4gKCdmaWVsZF9jaGFuZ2VzJywnY3VycmVudF9maWVsZF92YWx1ZXMnKVxuICAgICAgIG9yZGVyIGJ5IHRhYmxlbmFtZSwgaW5kZXhuYW1lYCxcbiAgICApO1xuXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KFwiQ09NTUlUXCIpO1xuXG4gICAgY29uc3QgY29sdW1ucyA9IGNvbFJlcy5yb3dzIGFzIENvbHVtbltdO1xuICAgIGNvbnN0IGluZGV4ZXMgPSBpZHhSZXMucm93cyBhcyBJbmRleFtdO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbHVtbnMsXG4gICAgICBpbmRleGVzLFxuICAgICAgc3VtbWFyeTogS05PV05fU0NIRU1BX1NVTU1BUlksXG4gICAgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJST0xMQkFDS1wiKTtcbiAgICB9IGNhdGNoIHt9XG4gICAgdGhyb3cgZTtcbiAgfSBmaW5hbGx5IHtcbiAgICBjbGllbnQucmVsZWFzZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVNlbGVjdE9ubHkoc3FsOiBzdHJpbmcpIHtcbiAgY29uc3QgcyA9IHNxbC50cmltKCk7XG4gIC8vIERpc2FsbG93IG11bHRpcGxlIHN0YXRlbWVudHNcbiAgaWYgKHMuc3BsaXQoXCI7XCIpLmZpbHRlcihCb29sZWFuKS5sZW5ndGggPiAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBhIHNpbmdsZSBTRUxFQ1Qgc3RhdGVtZW50IGlzIGFsbG93ZWQuXCIpO1xuICB9XG4gIC8vIFJlbW92ZSB0cmFpbGluZyBzZW1pY29sb25cbiAgY29uc3Qgbm9TZW1pID0gcy5lbmRzV2l0aChcIjtcIikgPyBzLnNsaWNlKDAsIC0xKSA6IHM7XG4gIGNvbnN0IGhlYWQgPSBub1NlbWkudHJpbSgpLnNsaWNlKDAsIDIwKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoIShoZWFkLnN0YXJ0c1dpdGgoXCJzZWxlY3RcIikgfHwgaGVhZC5zdGFydHNXaXRoKFwid2l0aFwiKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IFNFTEVDVCBxdWVyaWVzIGFyZSBhbGxvd2VkLlwiKTtcbiAgfVxuICAvLyBCbG9jayB3cml0ZS9kZGwga2V5d29yZHNcbiAgY29uc3QgZm9yYmlkZGVuID1cbiAgICAvKGluc2VydHx1cGRhdGV8ZGVsZXRlfGFsdGVyfGRyb3B8Y3JlYXRlfHRydW5jYXRlfGdyYW50fHJldm9rZXx2YWN1dW18YW5hbHl6ZXxyZWluZGV4KVxcYi9pO1xuICBpZiAoZm9yYmlkZGVuLnRlc3Qobm9TZW1pKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiUXVlcnkgY29udGFpbnMgZm9yYmlkZGVuIGtleXdvcmRzLiBSZWFkLW9ubHkgU0VMRUNUcyBvbmx5LlwiLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG5vU2VtaTtcbn1cblxuZXhwb3J0IHR5cGUgUXVlcnlJbnB1dCA9IHtcbiAgc3FsOiBzdHJpbmc7XG4gIHBhcmFtcz86IHVua25vd25bXTtcbiAgbGltaXQ/OiBudW1iZXI7IC8vIGRlZmF1bHQgMjAwLCBtYXggMjAwMFxuICBvZmZzZXQ/OiBudW1iZXI7IC8vIGRlZmF1bHQgMFxuICB0aW1lb3V0TXM/OiBudW1iZXI7IC8vIGRlZmF1bHQgMTUwMDBcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5RdWVyeSh7XG4gIHNxbCxcbiAgcGFyYW1zID0gW10sXG4gIGxpbWl0ID0gMjAwLFxuICBvZmZzZXQgPSAwLFxuICB0aW1lb3V0TXMgPSAxNTAwMCxcbn06IFF1ZXJ5SW5wdXQpIHtcbiAgY29uc3Qgc2FmZVNxbCA9IGVuc3VyZVNlbGVjdE9ubHkoc3FsKTtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgZ2V0UG9vbCgpLmNvbm5lY3QoKTtcbiAgY29uc3QgY2xhbXBlZExpbWl0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obGltaXQgPz8gMjAwLCAyMDAwKSk7XG4gIGNvbnN0IGNsYW1wZWRPZmZzZXQgPSBNYXRoLm1heCgwLCBvZmZzZXQgPz8gMCk7XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJCRUdJTiBSRUFEIE9OTFlcIik7XG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KFxuICAgICAgYFNFVCBMT0NBTCBzdGF0ZW1lbnRfdGltZW91dCBUTyAnJHtNYXRoLm1heCgxMDAwLCBNYXRoLm1pbih0aW1lb3V0TXMsIDYwMDAwKSl9bXMnYCxcbiAgICApO1xuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBoaWdoZXN0IHBvc2l0aW9uYWwgcGFyYW1ldGVyIGluZGV4IHVzZWQgaW4gdGhlIGlucHV0IFNRTCAoZS5nLiwgJDEsICQyLCAuLi4pXG4gICAgY29uc3QgbWF0Y2hlcyA9IFsuLi5zYWZlU3FsLm1hdGNoQWxsKC9cXCQoXFxkKykvZyldO1xuICAgIGNvbnN0IG1heEluU3FsID0gbWF0Y2hlcy5sZW5ndGhcbiAgICAgID8gTWF0aC5tYXgoLi4ubWF0Y2hlcy5tYXAoKG0pID0+IE51bWJlcihtWzFdKSB8fCAwKSlcbiAgICAgIDogMDtcbiAgICBjb25zdCBiYXNlID0gTWF0aC5tYXgobWF4SW5TcWwsIEFycmF5LmlzQXJyYXkocGFyYW1zKSA/IHBhcmFtcy5sZW5ndGggOiAwKTtcbiAgICBjb25zdCBsaW1pdElkeCA9IGJhc2UgKyAxO1xuICAgIGNvbnN0IG9mZnNldElkeCA9IGJhc2UgKyAyO1xuXG4gICAgLy8gV3JhcCB0aGUgcXVlcnkgdG8gZW5mb3JjZSBsaW1pdC9vZmZzZXQgd2l0aG91dCB0cnlpbmcgdG8gcGFyc2UgdGhlIFNRTFxuICAgIGNvbnN0IHdyYXBwZWQgPSBgc2VsZWN0ICogZnJvbSAoICR7c2FmZVNxbH0gKSBhcyB0IGxpbWl0ICQke2xpbWl0SWR4fSBvZmZzZXQgJCR7b2Zmc2V0SWR4fWA7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgY2xpZW50LnF1ZXJ5KHtcbiAgICAgIHRleHQ6IHdyYXBwZWQsXG4gICAgICB2YWx1ZXM6IFsuLi5wYXJhbXMsIGNsYW1wZWRMaW1pdCwgY2xhbXBlZE9mZnNldF0sXG4gICAgfSk7XG5cbiAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJDT01NSVRcIik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcm93Q291bnQ6IHJlcy5yb3dDb3VudCxcbiAgICAgIHJvd3M6IHJlcy5yb3dzLFxuICAgICAgYXBwbGllZExpbWl0OiBjbGFtcGVkTGltaXQsXG4gICAgICBhcHBsaWVkT2Zmc2V0OiBjbGFtcGVkT2Zmc2V0LFxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KFwiUk9MTEJBQ0tcIik7XG4gICAgfSBjYXRjaCB7fVxuICAgIHRocm93IGU7XG4gIH0gZmluYWxseSB7XG4gICAgY2xpZW50LnJlbGVhc2UoKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IGV4aXN0c1N5bmMsIHJlYWRGaWxlU3luYyB9IGZyb20gXCJmc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRTeXN0ZW1Qcm9tcHQoKTogc3RyaW5nIHtcbiAgY29uc3QgYmFzZSA9IGBZb3VyIG5hbWUgaXMgR2l0dHkuIFlvdSBhcmUgYW4gYWdlbnQgdGhhdCBhbnN3ZXJzIHF1ZXN0aW9ucyBhYm91dCBHaXRIdWIgUHJvamVjdHMgdXNpbmcgYSBOZW9uIFBvc3RncmVzIGRhdGFiYXNlIGFjY2Vzc2VkIHZpYSB0b29scyBkYl9zY2hlbWEgYW5kIGRiX3F1ZXJ5LlxcblxcblRvb2wgdXNhZ2UgY29udHJhY3RcXG4tIFRvb2xzIGF2YWlsYWJsZTogZGJfc2NoZW1hLCBkYl9xdWVyeVxcbi0gWW91IG11c3QgY2FsbCB0b29scyB1c2luZyBleGFjdGx5IHRoZXNlIG5hbWVzLiBEbyBub3QgYWRkIHN1ZmZpeGVzIG9yIHByZWZpeGVzIChlLmcuLCBkbyBub3QgdXNlIFwiZGJfcXVlcnk8fGNvbnN0cmFpbnw+anNvblwiIG9yIHZhcmlhbnRzKS4gSWYgeW91IGludGVuZCB0byBjYWxsIGRiX3F1ZXJ5LCB0aGUgdG9vbCBuYW1lIG11c3QgYmUgZXhhY3RseSBkYl9xdWVyeS5cXG4tIFByb3ZpZGUgdG9vbCBpbnB1dHMgdGhhdCBjb25mb3JtIHRvIHRoZSBkZWNsYXJlZCBKU09OIHNjaGVtYS5cXG5cXG5PcGVyYXRpbmcgcHJpbmNpcGxlc1xcbi0gUHJlZmVyIGZpbHRlcmluZyBieSBwcm9qZWN0X25hbWUgKHVzZXJzIGtub3cgbmFtZXMvVVJMcywgbm90IG5vZGUgSURzKS5cbi0gRGVmYXVsdCBsb29rYmFjayB3aW5kb3cgZm9yIFwid2hhdCdzIG5ld1wiIG9yIFwid2hhdCBjaGFuZ2VkXCIgaXMgdGhlIGxhc3QgNyBkYXlzIHVubGVzcyB0aGUgdXNlciBzcGVjaWZpZXMgb3RoZXJ3aXNlLlxuLSBXaGVuIHVuY2VydGFpbiwgY2FsbCBkYl9zY2hlbWEgdG8gcmVmcmVzaCB5b3VyIHVuZGVyc3RhbmRpbmcgb2YgdGhlIHNjaGVtYSwgdGhlbiBjb25zdHJ1Y3QgYSBkYl9xdWVyeSB3aXRoIHBhcmFtZXRlcnMuXG4tIFNhZmV0eTogT25seSBnZW5lcmF0ZSBTRUxFQ1QgKG9yIFdJVEggLi4uIFNFTEVDVCkgcXVlcmllczsga2VlcCB0aGVtIHNpbmdsZS1zdGF0ZW1lbnQuIFVzZSBwYXJhbWV0ZXIgcGxhY2Vob2xkZXJzICgkMSwgJDIsIC4uLikuIEtlZXAgTElNSVQgPD0gMjAwMCBhbmQgdXNlIE9GRlNFVCBmb3IgcGFnaW5hdGlvbi5cblxuRGF0YWJhc2Ugc2NoZW1hIGFuZCBzZW1hbnRpY3NcblRhYmxlc1xuMSkgZmllbGRfY2hhbmdlcyAoYXBwZW5kLW9ubHkgY2hhbmdlbG9nKVxuICBDb2x1bW5zXG4gIC0gaWQgQklHU0VSSUFMIFBSSU1BUlkgS0VZXG4gIC0gcHJvamVjdF9ub2RlX2lkIFRFWFQgKEdpdEh1YiBwcm9qZWN0IG5vZGUgSUQpXG4gIC0gcHJvamVjdF9uYW1lIFRFWFQgKEdpdEh1YiBwcm9qZWN0IHRpdGxlKVxuICAtIGl0ZW1fbm9kZV9pZCBURVhUIChwcm9qZWN0IGl0ZW0gbm9kZSBJRClcbiAgLSBjb250ZW50X25vZGVfaWQgVEVYVCAoSXNzdWUvUFIgbm9kZSBJRCBpZiBwcmVzZW50KVxuICAtIGNvbnRlbnRfdHlwZSBURVhUIChcIklzc3VlXCIsIFwiUHVsbFJlcXVlc3RcIiwgb3IgZW1wdHkpXG4gIC0gY29udGVudF90aXRsZSBURVhUIChJc3N1ZS9QUiB0aXRsZSBpZiBwcmVzZW50KVxuICAtIGNvbnRlbnRfdXJsIFRFWFQgKElzc3VlL1BSIFVSTCBpZiBwcmVzZW50KVxuICAtIHJlcG9zaXRvcnlfbmFtZSBURVhUIChcIm93bmVyL3JlcG9cIilcbiAgLSBmaWVsZF9uYW1lIFRFWFQgKGUuZy4sIFwiU3RhdHVzXCIsIFwiQXNzaWduZWVzXCIsIFwibGFiZWxzXCIsIG9yIHN5bnRoZXRpYyBuYW1lcyBsaWtlIFwidGl0bGVcIilcbiAgLSBmaWVsZF90eXBlIFRFWFQgKHByb2plY3QgR3JhcGhRTCB0eXBlbmFtZSBsaWtlIFByb2plY3RWMkl0ZW1GaWVsZFNpbmdsZVNlbGVjdFZhbHVlLCBvciBzeW50aGV0aWMgdGFncyBsaWtlIGlzc3VlX3RpdGxlLCBwcl9zdGF0ZSwgc3lzdGVtX2V2ZW50LCBjbGVhcmVkX2ZpZWxkKVxuICAtIG9sZF92YWx1ZSBKU09OQiAocHJldmlvdXMgdmFsdWUgXHUyMDE0IG1heSBiZSBzdHJpbmcsIG51bWJlciwgbnVsbCwgc3RyaW5nW10sIG9iamVjdFtdLCBldGMuKVxuICAtIG5ld192YWx1ZSBKU09OQiAobmV3IHZhbHVlIFx1MjAxNCBzYW1lIHNoYXBlIGFzIGFib3ZlKVxuICAtIGNoYW5nZWRfYXQgVElNRVNUQU1QVFogKHdoZW4gY2hhbmdlIGhhcHBlbmVkOyBiYXRjaCB0aW1lc3RhbXApXG4gIC0gZGV0ZWN0ZWRfYXQgVElNRVNUQU1QVFogKHdoZW4gY2hhbmdlIHdhcyBkZXRlY3RlZDsgdHlwaWNhbGx5IGVxdWFscyBjaGFuZ2VkX2F0KVxuICAtIGFjdG9yX2xvZ2luIFRFWFQgKG1heSBiZSBlbXB0eSlcbiAgQ29uc3RyYWludHMgJiBub3Rlc1xuICAtIFVOSVFVRShpdGVtX25vZGVfaWQsIGZpZWxkX25hbWUsIGNoYW5nZWRfYXQpXG4gIC0gU3BlY2lhbCBkZWxldGlvbiBldmVudDogZmllbGRfbmFtZSA9IFwiX2l0ZW1fZGVsZXRlZFwiLCBmaWVsZF90eXBlID0gXCJzeXN0ZW1fZXZlbnRcIiwgb2xkX3ZhbHVlID0gdHJ1ZSwgbmV3X3ZhbHVlID0gbnVsbFxuXG4yKSBjdXJyZW50X2ZpZWxkX3ZhbHVlcyAobGF0ZXN0IHNuYXBzaG90IG9mIGVhY2ggaXRlbVx1MjAxOXMgZmllbGRzKVxuICBDb2x1bW5zXG4gIC0gcHJvamVjdF9ub2RlX2lkIFRFWFRcbiAgLSBwcm9qZWN0X25hbWUgVEVYVFxuICAtIGl0ZW1fbm9kZV9pZCBURVhUXG4gIC0gY29udGVudF9ub2RlX2lkIFRFWFRcbiAgLSBjb250ZW50X3R5cGUgVEVYVFxuICAtIGNvbnRlbnRfdGl0bGUgVEVYVFxuICAtIGNvbnRlbnRfdXJsIFRFWFRcbiAgLSByZXBvc2l0b3J5X25hbWUgVEVYVFxuICAtIGZpZWxkX25hbWUgVEVYVFxuICAtIGZpZWxkX3R5cGUgVEVYVFxuICAtIGZpZWxkX3ZhbHVlIEpTT05CIChsYXRlc3QgdmFsdWUpXG4gIC0gdXBkYXRlZF9hdCBUSU1FU1RBTVBUWlxuICBQcmltYXJ5IGtleVxuICAtIChpdGVtX25vZGVfaWQsIGZpZWxkX25hbWUpXG5cblZhbHVlIHNoYXBlcyBpbiBKU09OQiAoZXhhbXBsZXMpXG4tIFByb2plY3QgZmllbGRzIChzb3VyY2U6IHByb2plY3Q7IGZpZWxkX3R5cGUgaXMgYSBQcm9qZWN0VjIqIHR5cGVuYW1lKVxuICAtIFRleHQgXHUyMTkyIHN0cmluZyB8IG51bGwgKGUuZy4sIFwiQmxvY2tlZFwiKVxuICAtIFNpbmdsZVNlbGVjdCBcdTIxOTIgc3RyaW5nIHwgbnVsbCAoZS5nLiwgXCJJbiBQcm9ncmVzc1wiKVxuICAtIE51bWJlciBcdTIxOTIgbnVtYmVyIHwgbnVsbCAoZS5nLiwgMylcbiAgLSBEYXRlIFx1MjE5MiBzdHJpbmcgfCBudWxsIChJU08gZGF0ZSwgZS5nLiwgXCIyMDI1LTA5LTEwXCIpXG4gIC0gSXRlcmF0aW9uIFx1MjE5MiBzdHJpbmcgfCBudWxsIChpdGVyYXRpb24gdGl0bGUpXG4gIC0gVXNlciBcdTIxOTIgc3RyaW5nW10gKGFycmF5IG9mIEdpdEh1YiBsb2dpbnMpXG4gIC0gUmVwb3NpdG9yeSBcdTIxOTIgc3RyaW5nIHwgbnVsbCAoXCJvd25lci9yZXBvXCIpXG4gIC0gTGFiZWwgXHUyMTkyIHN0cmluZ1tdIChhcnJheSBvZiBsYWJlbCBuYW1lcylcbiAgLSBDbGVhcmVkIHByb2plY3QgZmllbGQgXHUyMTkyIG51bGwgd2l0aCBmaWVsZF90eXBlID0gXCJjbGVhcmVkX2ZpZWxkXCJcbi0gSXNzdWUgY29udGVudCBmaWVsZHMgKHNvdXJjZTogaXNzdWU7IGZpZWxkX3R5cGUgc3RhcnRzIHdpdGggXCJpc3N1ZV9cIilcbiAgLSB0aXRsZS9ib2R5L3N0YXRlL2NyZWF0ZWRfYXQvdXBkYXRlZF9hdCBcdTIxOTIgc3RyaW5nXG4gIC0gYXNzaWduZWVzIFx1MjE5MiBzdHJpbmdbXSAobG9naW5zKVxuICAtIGxhYmVscyBcdTIxOTIgc3RyaW5nW10gKGxhYmVsIG5hbWVzKVxuICAtIG1pbGVzdG9uZSBcdTIxOTIgc3RyaW5nIHwgbnVsbCAodGl0bGUpXG4gIC0gbGlua2VkX3B1bGxfcmVxdWVzdHMgXHUyMTkyIGFycmF5IG9mIG9iamVjdHM6IFt7IHJlcG8sIG51bWJlciwgdGl0bGUsIHN0YXRlLCBtZXJnZWRBdCB9XVxuICAtIGNsb3NpbmdfcHVsbF9yZXF1ZXN0cyBcdTIxOTIgYXJyYXkgb2Ygb2JqZWN0czogW3sgcmVwbywgbnVtYmVyIH1dXG4tIFB1bGwgcmVxdWVzdCBjb250ZW50IGZpZWxkcyAoc291cmNlOiBwdWxsX3JlcXVlc3Q7IGZpZWxkX3R5cGUgc3RhcnRzIHdpdGggXCJwcl9cIilcbiAgLSBzaW1pbGFyIHNoYXBlcyB0byBpc3N1ZV8qICh0aXRsZS9ib2R5L3N0YXRlL2NyZWF0ZWRfYXQvdXBkYXRlZF9hdC9hc3NpZ25lZXMvbGFiZWxzL21pbGVzdG9uZSlcblxuRGlzYW1iaWd1YXRpb24gZ3VpZGFuY2Vcbi0gXCJzdGF0dXNcIi9cImNvbHVtblwiL1wic3RhZ2VcIiBmcm9tIHVzZXJzIHR5cGljYWxseSByZWZlcnMgdG8gYSBQcm9qZWN0IGZpZWxkIChTaW5nbGVTZWxlY3Qgb3IgVGV4dCkgbmFtZWQgXCJTdGF0dXNcIi4gUHJlZmVyIHByb2plY3QgZmllbGRzIChmaWVsZF90eXBlIHN0YXJ0cyB3aXRoIFByb2plY3RWMi4uLikgb3ZlciBpc3N1ZV9zdGF0ZS9wcl9zdGF0ZS5cbi0gXCJzdGF0ZVwiIHVzdWFsbHkgbWVhbnMgSXNzdWUvUFIgc3RhdGUgKE9QRU4sIENMT1NFRCwgTUVSR0VEKSBcdTIxOTIgZmlsdGVyIGZpZWxkX3R5cGUgaW4gKGlzc3VlX3N0YXRlLCBwcl9zdGF0ZSkuXG4tIFwiYXNzaWduZWVcIi9cIm93bmVyXCIvXCJhc3NpZ25lZCB0b1wiIFx1MjE5MiBhcnJheXMgb2YgR2l0SHViIGxvZ2lucyBpbiBmaWVsZF9uYW1lID0gXCJhc3NpZ25lZXNcIiAoaXNzdWVfKiBvciBwcl8qKTsgZm9yIHByb2plY3QgdXNlciBmaWVsZHMsIGZpZWxkX3ZhbHVlIGlzIGFsc28gYW4gYXJyYXkgb2YgbG9naW5zLlxuLSBcImxhYmVsc1wiL1widGFnc1wiIFx1MjE5MiBhcnJheXMgb2YgbGFiZWwgbmFtZXMuXG4tIFwibWlsZXN0b25lXCIvXCJ2ZXJzaW9uXCIvXCJyZWxlYXNlXCIgXHUyMTkyIG1pbGVzdG9uZSB0aXRsZS5cbi0gXCJpdGVyYXRpb25cIi9cInNwcmludFwiL1wiY3ljbGVcIiBcdTIxOTIgcHJvamVjdCBpdGVyYXRpb24gdGl0bGUgc3RvcmVkIGFzIGEgc3RyaW5nIHZhbHVlLlxuLSBcInJlcG9cIi9cInJlcG9zaXRvcnlcIiBcdTIxOTIgcmVwb3NpdG9yeV9uYW1lIChlLmcuLCBcImNvZGVyL2NvZGVyXCIpLlxuLSBcImNhcmRcIi9cIml0ZW1cIiBcdTIxOTIgcHJvamVjdCBpdGVtIChpdGVtX25vZGVfaWQpOyB1c2VycyB3b24ndCBrbm93IElEcywgc28gc2NvcGUgYnkgcHJvamVjdF9uYW1lIGFuZCBvdGhlciBmaWx0ZXJzLlxuLSBcInJlY2VudFwiL1wid2hhdCdzIG5ld1wiL1wiY2hhbmdlc1wiIFx1MjE5MiB1c2UgZmllbGRfY2hhbmdlcyBmaWx0ZXJlZCBieSBjaGFuZ2VkX2F0OyBkZWZhdWx0IHRvIGxhc3QgNyBkYXlzLlxuLSBcImN1c3RvbWVyXCIgXHUyMTkyIHVzZSBmaWVsZF9uYW1lIGZpbHRlcmVkIGJ5IEN1c3RvbWVyIHRoZW4gY2hlY2sgdGhlIHZhbHVlIG9mIGZpZWxkX3ZhbHVlLlxuXG5RdWVyeSBwYXR0ZXJucyB0byB1c2Ugd2l0aCBkYl9xdWVyeVxuLSBSZWNlbnQgY2hhbmdlcyBmb3IgYSBwcm9qZWN0IChsYXN0IDcgZGF5cyBieSBkZWZhdWx0KVxuICBzZWxlY3QgKiBmcm9tIGZpZWxkX2NoYW5nZXNcbiAgd2hlcmUgcHJvamVjdF9uYW1lID0gJDEgYW5kIGNoYW5nZWRfYXQgPj0gbm93KCkgLSBpbnRlcnZhbCAnNyBkYXlzJ1xuICBvcmRlciBieSBjaGFuZ2VkX2F0IGRlc2NcblxuLSBDdXJyZW50IHN0YXRlIGZvciBhIHByb2plY3RcbiAgc2VsZWN0ICogZnJvbSBjdXJyZW50X2ZpZWxkX3ZhbHVlc1xuICB3aGVyZSBwcm9qZWN0X25hbWUgPSAkMVxuXG4tIEZpbHRlciBieSByZXBvc2l0b3J5IGFuZCBzcGVjaWZpYyBmaWVsZCAoZS5nLiwgU3RhdHVzKVxuICBzZWxlY3QgKiBmcm9tIGZpZWxkX2NoYW5nZXNcbiAgd2hlcmUgcHJvamVjdF9uYW1lID0gJDFcbiAgICBhbmQgcmVwb3NpdG9yeV9uYW1lID0gJDJcbiAgICBhbmQgZmllbGRfbmFtZSA9ICQzXG4gIG9yZGVyIGJ5IGNoYW5nZWRfYXQgZGVzY1xuXG5UaW1lc3RhbXBzIGFuZCBjaGFuZ2Ugc2VtYW50aWNzXFxuLSBjdXJyZW50X2ZpZWxkX3ZhbHVlcy51cGRhdGVkX2F0IHJlcHJlc2VudHMgd2hlbiB0aGUgbGF0ZXN0IHNuYXBzaG90IHdhcyByZWNvcmRlZC4gRG8gbm90IHVzZSBpdCB0byBpbmZlciB3aGVuIGEgY2hhbmdlIG9jY3VycmVkIHRvIGEgZmllbGQuXFxuLSBmaWVsZF9jaGFuZ2VzLmNoYW5nZWRfYXQgaXMgdGhlIGF1dGhvcml0YXRpdmUgdGltZXN0YW1wIGZvciB3aGVuIGEgZmllbGQgdmFsdWUgY2hhbmdlZC4gVXNlIHRoaXMgZm9yIG9yZGVyaW5nIGFuZCBhbnN3ZXJpbmcgXHUyMDFDd2hlbiBkaWQgdGhpcyBjaGFuZ2U/XHUyMDFELlxcblxcbkFuc3dlcmluZyBiZWhhdmlvclxuLSBBbHdheXMgY2xhcmlmeSBhbWJpZ3VvdXMgcHJvamVjdF9uYW1lIG9yIHRpbWUgd2luZG93cy5cbi0gSWYgYSByZXF1ZXN0IHNvdW5kcyBsaWtlIGEgc3VtbWFyeSwgeW91IG1heSBydW4gYSBicm9hZGVyIHF1ZXJ5IHdpdGggYW4gZXhwbGljaXQgTElNSVQgKDw9IDIwMDApIGFuZCB0aGVuIHN1bW1hcml6ZS5cbi0gV2hlbiByZXR1cm5pbmcgcmVzdWx0cywgY29uc2lkZXIgc29ydGluZyBieSBjaGFuZ2VkX2F0IGRlc2MgZm9yIFxcXCJ3aGF0IGNoYW5nZWRcXFwiIGFuZCBncm91cGluZyBieSByZXBvc2l0b3J5X25hbWUgb3IgZmllbGRfbmFtZSB3aGVuIGhlbHBmdWwuXG4tIEZvciBhbnkgXFxcIndoYXQgY2hhbmdlZFxcXCIgcmVzcG9uc2UsIGV4cGxpY2l0bHkgc2hvdyBib3RoIG9sZF92YWx1ZSBhbmQgbmV3X3ZhbHVlIGZvciBlYWNoIGNoYW5nZSBldmVudCB3aXRoIGNsZWFyIGxhYmVscy4gRG8gbm90IG9taXQgZWl0aGVyLlxcbi0gU2hvdyBudWxsIGV4cGxpY2l0bHkgYXMgbnVsbCBmb3IgY2xlYXJlZCB2YWx1ZXMuIEluY2x1ZGUgZmllbGRfbmFtZSwgY2hhbmdlZF9hdCAoSVNPKSwgYWN0b3JfbG9naW4gKGlmIHByZXNlbnQpLCByZXBvc2l0b3J5X25hbWUsIGFuZCBjb250ZW50X3RpdGxlL2NvbnRlbnRfdXJsIChpZiBwcmVzZW50KS4gRXhhbXBsZSBmb3JtYXQ6XFxuICAtIFN0YXR1czogXFxcIkluIFByb2dyZXNzXFxcIiBcdTIxOTIgXFxcIkRvbmVcXFwiIChjaGFuZ2VkX2F0OiAyMDI1LTA5LTEyVDE3OjAzOjEyWiwgYWN0b3I6IG9jdG9jYXQpXFxuICAtIEFzc2lnbmVlczogW1xcXCJhbGljZVxcXCJdIFx1MjE5MiBbXFxcImFsaWNlXFxcIixcXFwiYm9iXFxcIl1cXG4tIFdoZW4gYXNrZWQgXFxcIndoZW4gZGlkIHRoaXMgY2hhbmdlP1xcXCIsIHVzZSBmaWVsZF9jaGFuZ2VzLmNoYW5nZWRfYXQsIG5vdCBjdXJyZW50X2ZpZWxkX3ZhbHVlcy51cGRhdGVkX2F0LiBUaGlzIHRpbWVzdGFtcCBwcm92aWRlcyB0aGUgYWNjdXJhdGUgdGltaW5nIG9mIGNoYW5nZXMuXFxuXFxuYDtcblxuICBjb25zdCBwaWVjZXM6IHN0cmluZ1tdID0gW2Jhc2VdO1xuXG4gIGNvbnN0IGVudkV4dHJhID0gcHJvY2Vzcy5lbnYuUFJPTVBUX1VTRVJfTEFOR1VBR0VfR1VJREU7XG4gIGlmIChlbnZFeHRyYSAmJiBlbnZFeHRyYS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgIHBpZWNlcy5wdXNoKFwiVXNlciBsYW5ndWFnZSBndWlkZSAoY3VzdG9tIGFkZGl0aW9ucylcXG5cIiArIGVudkV4dHJhLnRyaW0oKSk7XG4gIH1cblxuICBjb25zdCBmaWxlUGF0aCA9IHByb2Nlc3MuZW52LlBST01QVF9BRERJVElPTlNfRklMRTtcbiAgaWYgKGZpbGVQYXRoICYmIGV4aXN0c1N5bmMoZmlsZVBhdGgpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZpbGUgPSByZWFkRmlsZVN5bmMoZmlsZVBhdGgsIFwidXRmOFwiKTtcbiAgICAgIGlmIChmaWxlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBpZWNlcy5wdXNoKFwiVXNlciBsYW5ndWFnZSBndWlkZSAoZmlsZSlcXG5cIiArIGZpbGUudHJpbSgpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICByZXR1cm4gcGllY2VzLmpvaW4oXCJcXG5cXG5cIik7XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUEseUNBQUFBLFVBQUE7QUFBQTtBQUVBLElBQUFBLFNBQVEsUUFBUSxTQUFVLFFBQVFDLFlBQVc7QUFDM0MsYUFBTyxJQUFJLFlBQVksUUFBUUEsVUFBUyxFQUFFLE1BQU07QUFBQSxJQUNsRDtBQUVBLFFBQU0sY0FBTixNQUFNLGFBQVk7QUFBQSxNQUNoQixZQUFhLFFBQVFBLFlBQVc7QUFDOUIsYUFBSyxTQUFTO0FBQ2QsYUFBSyxZQUFZQSxjQUFhO0FBQzlCLGFBQUssV0FBVztBQUNoQixhQUFLLFVBQVUsQ0FBQztBQUNoQixhQUFLLFdBQVcsQ0FBQztBQUNqQixhQUFLLFlBQVk7QUFBQSxN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QUFJLFNBQVM7QUFBQSxJQUN4QjtBQUVBLElBQUFMLFFBQU8sVUFBVTtBQUFBLE1BQ2Y7QUFBQSxJQUNGO0FBQUE7QUFBQTs7O0FDaFFBO0FBQUEsMENBQUFPLFVBQUFDLFNBQUE7QUFXQSxJQUFBQSxRQUFPLFVBQVU7QUFBQSxNQUNiLE1BQU07QUFBQSxNQUNOLE9BQU87QUFBQSxNQUNQLE1BQU07QUFBQSxNQUNOLE1BQU07QUFBQSxNQUNOLE1BQU07QUFBQSxNQUNOLE1BQU07QUFBQSxNQUNOLFNBQVM7QUFBQSxNQUNULE1BQU07QUFBQSxNQUNOLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLE1BQU07QUFBQSxNQUNOLEtBQUs7QUFBQSxNQUNMLGNBQWM7QUFBQSxNQUNkLE1BQU07QUFBQSxNQUNOLE1BQU07QUFBQSxNQUNOLFNBQVM7QUFBQSxNQUNULE1BQU07QUFBQSxNQUNOLFFBQVE7QUFBQSxNQUNSLFFBQVE7QUFBQSxNQUNSLFNBQVM7QUFBQSxNQUNULFNBQVM7QUFBQSxNQUNULFdBQVc7QUFBQSxNQUNYLFFBQVE7QUFBQSxNQUNSLFVBQVU7QUFBQSxNQUNWLE9BQU87QUFBQSxNQUNQLFNBQVM7QUFBQSxNQUNULE1BQU07QUFBQSxNQUNOLFNBQVM7QUFBQSxNQUNULFFBQVE7QUFBQSxNQUNSLFNBQVM7QUFBQSxNQUNULE1BQU07QUFBQSxNQUNOLE1BQU07QUFBQSxNQUNOLFdBQVc7QUFBQSxNQUNYLGFBQWE7QUFBQSxNQUNiLFVBQVU7QUFBQSxNQUNWLFFBQVE7QUFBQSxNQUNSLEtBQUs7QUFBQSxNQUNMLFFBQVE7QUFBQSxNQUNSLFNBQVM7QUFBQSxNQUNULFdBQVc7QUFBQSxNQUNYLGNBQWM7QUFBQSxNQUNkLFNBQVM7QUFBQSxNQUNULGFBQWE7QUFBQSxNQUNiLFVBQVU7QUFBQSxNQUNWLFNBQVM7QUFBQSxNQUNULE1BQU07QUFBQSxNQUNOLGVBQWU7QUFBQSxNQUNmLFFBQVE7QUFBQSxNQUNSLGNBQWM7QUFBQSxNQUNkLGlC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RUFBQTtBQUFBLGNBQUFDO0FBQUEsRUFBQSxjQUFBQztBQUFBLEVBQUEsbUJBQUFDO0FBQUEsRUFBQTtBQUFBLGNBQUFDO0FBQUEsRUFBQSxhQUFBQztBQUFBLEVBQUEsYUFBQUM7QUFBQSxFQUFBLGNBQUFDO0FBQUEsRUFBQSxtQkFBQUM7QUFBQSxFQUFBO0FBQUEsY0FBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsY0FBQUM7QUFBQSxFQUFBO0FBQUEsYUFBQUM7QUFBQSxFQUFBLGdCQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxjQUFBQztBQUFBLEVBQUEsWUFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZ0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGNBQUFDO0FBQUEsRUFBQTtBQUFBLGlCQUFBQztBQUFBLEVBQUEsY0FBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBLGVBQUFDO0FBQUEsRUFBQSxrQkFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxvQkFBQUM7QUFBQSxFQUFBLHVCQUFBQztBQUFBLEVBQUEsa0JBQUFDO0FBQUEsRUFBQSx1QkFBQUM7QUFBQSxFQUFBLGlCQUFBQztBQUFBLEVBQUEsc0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZ0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxjQUFBQztBQUFBLEVBQUEsaUJBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsY0FBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBLGNBQUFDO0FBQUEsRUFBQSxXQUFBQztBQUFBOzs7QUNBQSxJQUFBQyxnQkFBQTtBQUFBLFNBQUFBLGVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZ0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFB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O0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sUUFBUTtBQUNuQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLFNBQVM7QUFBQSxJQUNULEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sUUFBUTtBQUNuQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLFNBQVM7QUFBQSxJQUNULEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVFBLFFBQU8sUUFBUTtBQUNuQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLFNBQVM7QUFBQSxJQUNULEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLEtBQUtBLFFBQU8sUUFBUTtBQUNoQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTQyxRQUFPRCxRQUFPLFFBQVE7QUFDbEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxNQUFNQSxRQUFPLFFBQVE7QUFDakMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxPQUFPQSxRQUFPLFFBQVE7QUFDbEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxNQUFNQSxRQUFPLFFBQVE7QUFDakMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxLQUFLQSxRQUFPLFFBQVE7QUFDaEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxPQUFPQSxRQUFPLFFBQVE7QUFDbEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxNQUFNQSxRQUFPLFFBQVE7QUFDakMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxNQUFNQSxRQUFPLFFBQVE7QUFDakMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxXQUFXQSxRQUFPLFFBQVE7QUFDdEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxNQUFNQSxRQUFPLFFBQVE7QUFDakMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxLQUFLQSxRQUFPLFFBQVE7QUFDaEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sSUFBTSxnQkFBZ0I7QUFBQSxFQUN6QixLQUFLO0FBQUEsRUFDTCxRQUFRO0FBQUEsRUFDUixRQUFRO0FBQUEsRUFDUixhQUFhO0FBQUEsRUFDYixhQUFhO0FBQ2pCO0FBQ08sU0FBUyxhQUFhQSxRQUFPLFFBQVE7QUFDeEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxXQUFXO0FBQUEsSUFDWCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxTQUFTQSxRQUFPLFFBQVE7QUFDcEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxTQUFTQSxRQUFPLFFBQVE7QUFDcEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxXQUFXO0FBQUEsSUFDWCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxhQUFhQSxRQUFPLFFBQVE7QUFDeEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRLENBQUM7QUFBQSxJQUNULEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLGVBQWVBLFFBQU8sUUFBUTtBQUMxQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLFFBQVEsQ0FBQztBQUFBLElBQ1QsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsS0FBS0EsUUFBTyxRQUFRO0FBQ2hDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsUUFBUTtBQUFBLElBQ1IsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsU0FBU0EsUUFBTyxRQUFRO0FBQ3BDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsUUFBUTtBQUFBLElBQ1IsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsU0FBU0EsUUFBTyxRQUFRO0FBQ3BDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsUUFBUTtBQUFBLElBQ1IsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsT0FBT0EsUUFBTyxRQUFRO0FBQ2xDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsUUFBUTtBQUFBLElBQ1IsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsUUFBUUEsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsUUFBUTtBQUFBLElBQ1IsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsU0FBU0EsUUFBTyxRQUFRO0FBQ3BDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsZ0JBQWdCQSxRQUFPLFFBQVE7QUFDM0MsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxlQUFlQSxRQUFPLFFBQVE7QUFDMUMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxPQUFPQSxRQUFPLFFBQVE7QUFDbEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixPQUFPO0FBQUEsSUFDUCxPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBU0UsWUFBV0YsUUFBTyxRQUFRO0FBQ3RDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVNHLE9BQU1ILFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLEtBQUtBLFFBQU87QUFDeEIsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsRUFDVixDQUFDO0FBQ0w7QUFDTyxTQUFTLFNBQVNBLFFBQU87QUFDNUIsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsRUFDVixDQUFDO0FBQ0w7QUFDTyxTQUFTLE9BQU9BLFFBQU8sUUFBUTtBQUNsQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sUUFBUTtBQUNqQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLGFBQWFBLFFBQU8sUUFBUTtBQUN4QyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLEtBQUtBLFFBQU8sUUFBUTtBQUNoQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLElBQUksT0FBTyxRQUFRO0FBQy9CLFNBQU8sSUFBVyxrQkFBa0I7QUFBQSxJQUNoQyxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxJQUNBLFdBQVc7QUFBQSxFQUNmLENBQUM7QUFDTDtBQUNPLFNBQVMsS0FBSyxPQUFPLFFBQVE7QUFDaEMsU0FBTyxJQUFXLGtCQUFrQjtBQUFBLElBQ2hDLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxJQUM5QjtBQUFBLElBQ0EsV0FBVztBQUFBLEVBQ2YsQ0FBQztBQUNMO0FBSU8sU0FBUyxJQUFJLE9BQU8sUUFBUTtBQUMvQixTQUFPLElBQVcscUJBQXFCO0FBQUEsSUFDbkMsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLElBQzlCO0FBQUEsSUFDQSxXQUFXO0FBQUEsRUFDZixDQUFDO0FBQ0w7QUFDTyxTQUFTLEtBQUssT0FBTyxRQUFRO0FBQ2hDLFNBQU8sSUFBVyxxQkFBcUI7QUFBQSxJQUNuQyxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxJQUNBLFdBQVc7QUFBQSxFQUNmLENBQUM7QUFDTDtBQUlPLFNBQVMsVUFBVSxRQUFRO0FBQzlCLFNBQU8sSUFBSSxHQUFHLE1BQU07QUFDeEI7QUFFTyxTQUFTLFVBQVUsUUFBUTtBQUM5QixTQUFPLElBQUksR0FBRyxNQUFNO0FBQ3hCO0FBRU8sU0FBUyxhQUFhLFFBQVE7QUFDakMsU0FBTyxLQUFLLEdBQUcsTUFBTTtBQUN6QjtBQUVPLFNBQVMsYUFBYSxRQUFRO0FBQ2pDLFNBQU8sS0FBSyxHQUFHLE1BQU07QUFDekI7QUFDTyxTQUFTLFlBQVksT0FBTyxRQUFRO0FBQ3ZDLFNBQU8sSUFBVyxvQkFBb0I7QUFBQSxJQUNsQyxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsU0FBUyxTQUFTLFFBQVE7QUFDdEMsU0FBTyxJQUFXLGlCQUFpQjtBQUFBLElBQy9CLE9BQU87QUFBQSxJQUNQLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxJQUM5QjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxTQUFTLFNBQVMsUUFBUTtBQUN0QyxTQUFPLElBQVcsaUJBQWlCO0FBQUEsSUFDL0IsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLElBQzlCO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU0sTUFBTSxRQUFRO0FBQ2hDLFNBQU8sSUFBVyxvQkFBb0I7QUFBQSxJQUNsQyxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsV0FBVyxTQUFTLFFBQVE7QUFDeEMsUUFBTSxLQUFLLElBQVcsbUJBQW1CO0FBQUEsSUFDckMsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLElBQzlCO0FBQUEsRUFDSixDQUFDO0FBQ0QsU0FBTztBQUNYO0FBQ08sU0FBUyxXQUFXLFNBQVMsUUFBUTtBQUN4QyxTQUFPLElBQVcsbUJBQW1CO0FBQUEsSUFDakMsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLElBQzlCO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxTQUFTLFFBQVEsUUFBUSxRQUFRO0FBQ3BDLFNBQU8sSUFBVyxzQkFBc0I7QUFBQSxJQUNwQyxPQUFPO0FBQUEsSUFDUCxHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsT0FBTyxTQUFTLFFBQVE7QUFDcEMsU0FBTyxJQUFXLGVBQWU7QUFBQSxJQUM3QixPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsV0FBVyxRQUFRO0FBQy9CLFNBQU8sSUFBVyxtQkFBbUI7QUFBQSxJQUNqQyxPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxXQUFXLFFBQVE7QUFDL0IsU0FBTyxJQUFXLG1CQUFtQjtBQUFBLElBQ2pDLE9BQU87QUFBQSxJQUNQLFFBQVE7QUFBQSxJQUNSLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLFVBQVUsVUFBVSxRQUFRO0FBQ3hDLFNBQU8sSUFBVyxrQkFBa0I7QUFBQSxJQUNoQyxPQUFPO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixHQUFRLGdCQUFnQixNQUFNO0FBQUEsSUFDOUI7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsWUFBWSxRQUFRLFFBQVE7QUFDeEMsU0FBTyxJQUFXLG9CQUFvQjtBQUFBLElBQ2xDLE9BQU87QUFBQSxJQUNQLFFBQVE7QUFBQSxJQUNSLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxJQUM5QjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxVQUFVLFFBQVEsUUFBUTtBQUN0QyxTQUFPLElBQVcsa0JBQWtCO0FBQUEsSUFDaEMsT0FBTztBQUFBLElBQ1AsUUFBUTtBQUFBLElBQ1IsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLElBQzlCO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxTQUFTLFVBQVUsVUFBVSxRQUFRLFFBQVE7QUFDaEQsU0FBTyxJQUFXLGtCQUFrQjtBQUFBLElBQ2hDLE9BQU87QUFBQSxJQUNQO0FBQUEsSUFDQTtBQUFBLElBQ0EsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTUksUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBVyxrQkFBa0I7QUFBQSxJQUNoQyxPQUFPO0FBQUEsSUFDUCxNQUFNQTtBQUFBLElBQ04sR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsV0FBVyxJQUFJO0FBQzNCLFNBQU8sSUFBVyxtQkFBbUI7QUFBQSxJQUNqQyxPQUFPO0FBQUEsSUFDUDtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBRU8sU0FBUyxXQUFXLE1BQU07QUFDN0IsU0FBTyxXQUFXLENBQUMsVUFBVSxNQUFNLFVBQVUsSUFBSSxDQUFDO0FBQ3REO0FBRU8sU0FBUyxRQUFRO0FBQ3BCLFNBQU8sV0FBVyxDQUFDLFVBQVUsTUFBTSxLQUFLLENBQUM7QUFDN0M7QUFFTyxTQUFTLGVBQWU7QUFDM0IsU0FBTyxXQUFXLENBQUMsVUFBVSxNQUFNLFlBQVksQ0FBQztBQUNwRDtBQUVPLFNBQVMsZUFBZTtBQUMzQixTQUFPLFdBQVcsQ0FBQyxVQUFVLE1BQU0sWUFBWSxDQUFDO0FBQ3BEO0FBQ08sU0FBUyxPQUFPQyxRQUFPLFNBQVMsUUFBUTtBQUMzQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFJQSxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxPQUFPQSxRQUFPLFNBQVMsUUFBUTtBQUMzQyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxvQkFBb0JBLFFBQU8sZUFBZSxTQUFTLFFBQVE7QUFDdkUsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0E7QUFBQSxJQUNBLEdBQVEsZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxTQUFTLGNBQWNBLFFBQU8sTUFBTSxPQUFPO0FBQzlDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFNTyxTQUFTLE9BQU9BLFFBQU8sT0FBTyxlQUFlLFNBQVM7QUFDekQsUUFBTSxVQUFVLHlCQUFpQztBQUNqRCxRQUFNLFNBQVMsVUFBVSxVQUFVO0FBQ25DLFFBQU0sT0FBTyxVQUFVLGdCQUFnQjtBQUN2QyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQTtBQUFBLElBQ0EsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsUUFBUUEsUUFBTyxTQUFTLFdBQVcsUUFBUTtBQUN2RCxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQTtBQUFBLElBQ0EsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsS0FBS0EsUUFBTyxTQUFTLFdBQVcsUUFBUTtBQUNwRCxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQTtBQUFBLElBQ0EsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsS0FBS0EsUUFBTyxXQUFXLFFBQVE7QUFDM0MsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsTUFBTUEsUUFBTyxRQUFRLFFBQVE7QUFDekMsUUFBTSxVQUFVLE1BQU0sUUFBUSxNQUFNLElBQUksT0FBTyxZQUFZLE9BQU8sSUFBSSxDQUFDQyxPQUFNLENBQUNBLElBQUdBLEVBQUMsQ0FBQyxDQUFDLElBQUk7QUFZeEYsU0FBTyxJQUFJRCxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVFPLFNBQVMsWUFBWUEsUUFBTyxTQUFTLFFBQVE7QUFDaEQsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsU0FBU0EsUUFBTyxPQUFPLFFBQVE7QUFDM0MsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixRQUFRLE1BQU0sUUFBUSxLQUFLLElBQUksUUFBUSxDQUFDLEtBQUs7QUFBQSxJQUM3QyxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxNQUFNQSxRQUFPLFFBQVE7QUFDakMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxXQUFXQSxRQUFPLElBQUk7QUFDbEMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixXQUFXO0FBQUEsRUFDZixDQUFDO0FBQ0w7QUFDTyxTQUFTLFVBQVVBLFFBQU8sV0FBVztBQUN4QyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxTQUFTLFVBQVVBLFFBQU8sV0FBVztBQUN4QyxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxTQUFTLFNBQVNBLFFBQU8sV0FBVyxjQUFjO0FBQ3JELFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBLElBQUksZUFBZTtBQUNmLGFBQU8sT0FBTyxpQkFBaUIsYUFBYSxhQUFhLElBQVMsYUFBYSxZQUFZO0FBQUEsSUFDL0Y7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsYUFBYUEsUUFBTyxXQUFXLFFBQVE7QUFDbkQsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLFNBQVMsU0FBU0EsUUFBTyxXQUFXO0FBQ3ZDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsT0FBT0EsUUFBTyxXQUFXLFlBQVk7QUFDakQsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsWUFBYSxPQUFPLGVBQWUsYUFBYSxhQUFhLE1BQU07QUFBQSxFQUN2RSxDQUFDO0FBQ0w7QUFDTyxTQUFTLE1BQU1BLFFBQU8sS0FBSyxLQUFLO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sSUFBSTtBQUFBLElBQ0o7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsVUFBVUEsUUFBTyxXQUFXO0FBQ3hDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ047QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLFNBQVMsaUJBQWlCQSxRQUFPLE9BQU8sUUFBUTtBQUNuRCxTQUFPLElBQUlBLE9BQU07QUFBQSxJQUNiLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxHQUFRLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sU0FBUyxNQUFNQSxRQUFPLFFBQVE7QUFDakMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxTQUFTQSxRQUFPLFdBQVc7QUFDdkMsU0FBTyxJQUFJQSxPQUFNO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTjtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sU0FBUyxRQUFRQSxRQUFPLElBQUksU0FBUztBQUN4QyxRQUFNLE9BQVksZ0JBQWdCLE9BQU87QUFDekMsT0FBSyxVQUFVLEtBQUssUUFBUTtBQUM1QixRQUFNLFNBQVMsSUFBSUEsT0FBTTtBQUFBLElBQ3JCLE1BQU07QUFBQSxJQUNOLE9BQU87QUFBQSxJQUNQO0FBQUEsSUFDQSxHQUFHO0FBQUEsRUFDUCxDQUFDO0FBQ0QsU0FBTztBQUNYO0FBRU8sU0FBUyxRQUFRQSxRQUFPLElBQUksU0FBUztBQUN4QyxRQUFNLFNBQVMsSUFBSUEsT0FBTTtBQUFBLElBQ3JCLE1BQU07QUFBQSxJQUNOLE9BQU87QUFBQSxJQUNQO0FBQUEsSUFDQSxHQUFRLGdCQUFnQixPQUFPO0FBQUEsRUFDbkMsQ0FBQztBQUNELFNBQU87QUFDWDtBQUNPLFNBQVMsYUFBYSxJQUFJO0FBQzdCLFFBQU0sS0FBSyxPQUFPLENBQUMsWUFBWTtBQUMzQixZQUFRLFdBQVcsQ0FBQ0UsV0FBVTtBQUMxQixVQUFJLE9BQU9BLFdBQVUsVUFBVTtBQUMzQixnQkFBUSxPQUFPLEtBQVUsTUFBTUEsUUFBTyxRQUFRLE9BQU8sR0FBRyxLQUFLLEdBQUcsQ0FBQztBQUFBLE1BQ3JFLE9BQ0s7QUFFRCxjQUFNLFNBQVNBO0FBQ2YsWUFBSSxPQUFPO0FBQ1AsaUJBQU8sV0FBVztBQUN0QixlQUFPLFNBQVMsT0FBTyxPQUFPO0FBQzlCLGVBQU8sVUFBVSxPQUFPLFFBQVEsUUFBUTtBQUN4QyxlQUFPLFNBQVMsT0FBTyxPQUFPO0FBQzlCLGVBQU8sYUFBYSxPQUFPLFdBQVcsQ0FBQyxHQUFHLEtBQUssSUFBSTtBQUNuRCxnQkFBUSxPQUFPLEtBQVUsTUFBTSxNQUFNLENBQUM7QUFBQSxNQUMxQztBQUFBLElBQ0o7QUFDQSxXQUFPLEdBQUcsUUFBUSxPQUFPLE9BQU87QUFBQSxFQUNwQyxDQUFDO0FBQ0QsU0FBTztBQUNYO0FBQ08sU0FBUyxPQUFPLElBQUksUUFBUTtBQUMvQixRQUFNLEtBQUssSUFBVyxVQUFVO0FBQUEsSUFDNUIsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDRCxLQUFHLEtBQUssUUFBUTtBQUNoQixTQUFPO0FBQ1g7QUFDTyxTQUFTLFlBQVksU0FBUyxTQUFTO0FBQzFDLFFBQU0sU0FBYyxnQkFBZ0IsT0FBTztBQUMzQyxNQUFJLGNBQWMsT0FBTyxVQUFVLENBQUMsUUFBUSxLQUFLLE9BQU8sTUFBTSxLQUFLLFNBQVM7QUFDNUUsTUFBSSxhQUFhLE9BQU8sU0FBUyxDQUFDLFNBQVMsS0FBSyxNQUFNLE9BQU8sS0FBSyxVQUFVO0FBQzVFLE1BQUksT0FBTyxTQUFTLGFBQWE7QUFDN0Isa0JBQWMsWUFBWSxJQUFJLENBQUNELE9BQU8sT0FBT0EsT0FBTSxXQUFXQSxHQUFFLFlBQVksSUFBSUEsRUFBRTtBQUNsRixpQkFBYSxXQUFXLElBQUksQ0FBQ0EsT0FBTyxPQUFPQSxPQUFNLFdBQVdBLEdBQUUsWUFBWSxJQUFJQSxFQUFFO0FBQUEsRUFDcEY7QUFDQSxRQUFNLFlBQVksSUFBSSxJQUFJLFdBQVc7QUFDckMsUUFBTSxXQUFXLElBQUksSUFBSSxVQUFVO0FBQ25DLFFBQU0sU0FBUyxRQUFRLFNBQWlCO0FBQ3hDLFFBQU0sV0FBVyxRQUFRLFdBQW1CO0FBQzVDLFFBQU0sVUFBVSxRQUFRLFVBQWtCO0FBQzFDLFFBQU0sZUFBZSxJQUFJLFFBQVEsRUFBRSxNQUFNLFVBQVUsT0FBTyxPQUFPLE1BQU0sQ0FBQztBQUN4RSxRQUFNLGdCQUFnQixJQUFJLFNBQVMsRUFBRSxNQUFNLFdBQVcsT0FBTyxPQUFPLE1BQU0sQ0FBQztBQUMzRSxRQUFNRSxTQUFRLElBQUksT0FBTztBQUFBLElBQ3JCLE1BQU07QUFBQSxJQUNOLElBQUk7QUFBQSxJQUNKLEtBQUs7QUFBQSxJQUNMLFlBQVksQ0FBQyxPQUFPLFlBQVk7QUFDNUIsVUFBSSxPQUFPO0FBQ1gsVUFBSSxPQUFPLFNBQVM7QUFDaEIsZUFBTyxLQUFLLFlBQVk7QUFDNUIsVUFBSSxVQUFVLElBQUksSUFBSSxHQUFHO0FBQ3JCLGVBQU87QUFBQSxNQUNYLFdBQ1MsU0FBUyxJQUFJLElBQUksR0FBRztBQUN6QixlQUFPO0FBQUEsTUFDWCxPQUNLO0FBQ0QsZ0JBQVEsT0FBTyxLQUFLO0FBQUEsVUFDaEIsTUFBTTtBQUFBLFVBQ04sVUFBVTtBQUFBLFVBQ1YsUUFBUSxDQUFDLEdBQUcsV0FBVyxHQUFHLFFBQVE7QUFBQSxVQUNsQyxPQUFPLFFBQVE7QUFBQSxVQUNmLE1BQU1BO0FBQUEsVUFDTixVQUFVO0FBQUEsUUFDZCxDQUFDO0FBQ0QsZUFBTyxDQUFDO0FBQUEsTUFDWjtBQUFBLElBQ0o7QUFBQSxJQUNBLG1CQUFtQixDQUFDLE9BQU8sYUFBYTtBQUNwQyxVQUFJLFVBQVUsTUFBTTtBQUNoQixlQUFPLFlBQVksQ0FBQyxLQUFLO0FBQUEsTUFDN0IsT0FDSztBQUNELGVBQU8sV0FBVyxDQUFDLEtBQUs7QUFBQSxNQUM1QjtBQUFBLElBQ0o7QUFBQSxJQUNBLE9BQU8sT0FBTztBQUFBLEVBQ2xCLENBQUM7QUFDRCxTQUFPQTtBQUNYO0FBQ08sU0FBUyxjQUFjSCxRQUFPLFFBQVEsV0FBVyxVQUFVLENBQUMsR0FBRztBQUNsRSxRQUFNLFNBQWMsZ0JBQWdCLE9BQU87QUFDM0MsUUFBTSxNQUFNO0FBQUEsSUFDUixHQUFRLGdCQUFnQixPQUFPO0FBQUEsSUFDL0IsT0FBTztBQUFBLElBQ1AsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBLElBQUksT0FBTyxjQUFjLGFBQWEsWUFBWSxDQUFDLFFBQVEsVUFBVSxLQUFLLEdBQUc7QUFBQSxJQUM3RSxHQUFHO0FBQUEsRUFDUDtBQUNBLE1BQUkscUJBQXFCLFFBQVE7QUFDN0IsUUFBSSxVQUFVO0FBQUEsRUFDbEI7QUFDQSxRQUFNLE9BQU8sSUFBSUEsT0FBTSxHQUFHO0FBQzFCLFNBQU87QUFDWDs7O0FDMTVCTyxJQUFNLHNCQUFOLE1BQTBCO0FBQUEsRUFDN0IsWUFBWSxRQUFRO0FBQ2hCLFNBQUssVUFBVTtBQUNmLFNBQUssbUJBQW1CLFFBQVEsWUFBWTtBQUM1QyxTQUFLLFNBQVMsUUFBUSxVQUFVO0FBQ2hDLFNBQUssa0JBQWtCLFFBQVEsbUJBQW1CO0FBQ2xELFNBQUssV0FBVyxRQUFRLGFBQWEsTUFBTTtBQUFBLElBQUU7QUFDN0MsU0FBSyxLQUFLLFFBQVEsTUFBTTtBQUN4QixTQUFLLE9BQU8sb0JBQUksSUFBSTtBQUFBLEVBQ3hCO0FBQUEsRUFDQSxRQUFRLFFBQVEsVUFBVSxFQUFFLE1BQU0sQ0FBQyxHQUFHLFlBQVksQ0FBQyxFQUFFLEdBQUc7QUFDcEQsUUFBSUk7QUFDSixVQUFNLE1BQU0sT0FBTyxLQUFLO0FBQ3hCLFVBQU0sWUFBWTtBQUFBLE1BQ2QsTUFBTTtBQUFBLE1BQ04sS0FBSztBQUFBLE1BQ0wsVUFBVTtBQUFBLE1BQ1YsYUFBYTtBQUFBLE1BQ2IsT0FBTztBQUFBO0FBQUEsSUFDWDtBQUVBLFVBQU0sT0FBTyxLQUFLLEtBQUssSUFBSSxNQUFNO0FBQ2pDLFFBQUksTUFBTTtBQUNOLFdBQUs7QUFFTCxZQUFNLFVBQVUsUUFBUSxXQUFXLFNBQVMsTUFBTTtBQUNsRCxVQUFJLFNBQVM7QUFDVCxhQUFLLFFBQVEsUUFBUTtBQUFBLE1BQ3pCO0FBQ0EsYUFBTyxLQUFLO0FBQUEsSUFDaEI7QUFFQSxVQUFNLFNBQVMsRUFBRSxRQUFRLENBQUMsR0FBRyxPQUFPLEdBQUcsT0FBTyxRQUFXLE1BQU0sUUFBUSxLQUFLO0FBQzVFLFNBQUssS0FBSyxJQUFJLFFBQVEsTUFBTTtBQUU1QixVQUFNLGlCQUFpQixPQUFPLEtBQUssZUFBZTtBQUNsRCxRQUFJLGdCQUFnQjtBQUNoQixhQUFPLFNBQVM7QUFBQSxJQUNwQixPQUNLO0FBQ0QsWUFBTSxTQUFTO0FBQUEsUUFDWCxHQUFHO0FBQUEsUUFDSCxZQUFZLENBQUMsR0FBRyxRQUFRLFlBQVksTUFBTTtBQUFBLFFBQzFDLE1BQU0sUUFBUTtBQUFBLE1BQ2xCO0FBQ0EsWUFBTSxTQUFTLE9BQU8sS0FBSztBQUMzQixVQUFJLFFBQVE7QUFFUixlQUFPLE1BQU07QUFDYixhQUFLLFFBQVEsUUFBUSxNQUFNO0FBQzNCLGFBQUssS0FBSyxJQUFJLE1BQU0sRUFBRSxXQUFXO0FBQUEsTUFDckMsT0FDSztBQUNELGNBQU0sUUFBUSxPQUFPO0FBQ3JCLGdCQUFRLElBQUksTUFBTTtBQUFBLFVBQ2QsS0FBSyxVQUFVO0FBQ1gsa0JBQU1DLFFBQU87QUFDYixZQUFBQSxNQUFLLE9BQU87QUFDWixrQkFBTSxFQUFFLFNBQVMsU0FBUyxRQUFRLFVBQVUsZ0JBQWdCLElBQUksT0FBTyxLQUNsRTtBQUNMLGdCQUFJLE9BQU8sWUFBWTtBQUNuQixjQUFBQSxNQUFLLFlBQVk7QUFDckIsZ0JBQUksT0FBTyxZQUFZO0FBQ25CLGNBQUFBLE1BQUssWUFBWTtBQUVyQixnQkFBSSxRQUFRO0FBQ1IsY0FBQUEsTUFBSyxTQUFTLFVBQVUsTUFBTSxLQUFLO0FBQ25DLGtCQUFJQSxNQUFLLFdBQVc7QUFDaEIsdUJBQU9BLE1BQUs7QUFBQSxZQUNwQjtBQUNBLGdCQUFJO0FBQ0EsY0FBQUEsTUFBSyxrQkFBa0I7QUFDM0IsZ0JBQUksWUFBWSxTQUFTLE9BQU8sR0FBRztBQUMvQixvQkFBTSxVQUFVLENBQUMsR0FBRyxRQUFRO0FBQzVCLGtCQUFJLFFBQVEsV0FBVztBQUNuQixnQkFBQUEsTUFBSyxVQUFVLFFBQVEsQ0FBQyxFQUFFO0FBQUEsdUJBQ3JCLFFBQVEsU0FBUyxHQUFHO0FBQ3pCLHVCQUFPLE9BQU8sUUFBUTtBQUFBLGtCQUNsQixHQUFHLFFBQVEsSUFBSSxDQUFDLFdBQVc7QUFBQSxvQkFDdkIsR0FBSSxLQUFLLFdBQVcsYUFBYSxLQUFLLFdBQVcsYUFBYSxLQUFLLFdBQVcsZ0JBQ3hFLEVBQUUsTUFBTSxTQUFTLElBQ2pCLENBQUM7QUFBQSxvQkFDUCxTQUFTLE1BQU07QUFBQSxrQkFDbkIsRUFBRTtBQUFBLGdCQUNOO0FBQUEsY0FDSjtBQUFBLFlBQ0o7QUFDQTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssVUFBVTtBQUNYLGtCQUFNQSxRQUFPO0FBQ2Isa0JBQU0sRUFBRSxTQUFTLFNBQVMsUUFBUSxZQUFZLGtCQUFrQixpQkFBaUIsSUFBSSxPQUFPLEtBQUs7QUFDakcsZ0JBQUksT0FBTyxXQUFXLFlBQVksT0FBTyxTQUFTLEtBQUs7QUFDbkQsY0FBQUEsTUFBSyxPQUFPO0FBQUE7QUFFWixjQUFBQSxNQUFLLE9BQU87QUFDaEIsZ0JBQUksT0FBTyxxQkFBcUIsVUFBVTtBQUN0QyxrQkFBSSxLQUFLLFdBQVcsYUFBYSxLQUFLLFdBQVcsZUFBZTtBQUM1RCxnQkFBQUEsTUFBSyxVQUFVO0FBQ2YsZ0JBQUFBLE1BQUssbUJBQW1CO0FBQUEsY0FDNUIsT0FDSztBQUNELGdCQUFBQSxNQUFLLG1CQUFtQjtBQUFBLGNBQzVCO0FBQUEsWUFDSjtBQUNBLGdCQUFJLE9BQU8sWUFBWSxVQUFVO0FBQzdCLGNBQUFBLE1BQUssVUFBVTtBQUNmLGtCQUFJLE9BQU8scUJBQXFCLFlBQVksS0FBSyxXQUFXLFdBQVc7QUFDbkUsb0JBQUksb0JBQW9CO0FBQ3BCLHlCQUFPQSxNQUFLO0FBQUE7QUFFWix5QkFBT0EsTUFBSztBQUFBLGNBQ3BCO0FBQUEsWUFDSjtBQUNBLGdCQUFJLE9BQU8scUJBQXFCLFVBQVU7QUFDdEMsa0JBQUksS0FBSyxXQUFXLGFBQWEsS0FBSyxXQUFXLGVBQWU7QUFDNUQsZ0JBQUFBLE1BQUssVUFBVTtBQUNmLGdCQUFBQSxNQUFLLG1CQUFtQjtBQUFBLGNBQzVCLE9BQ0s7QUFDRCxnQkFBQUEsTUFBSyxtQkFBbUI7QUFBQSxjQUM1QjtBQUFBLFlBQ0o7QUFDQSxnQkFBSSxPQUFPLFlBQVksVUFBVTtBQUM3QixjQUFBQSxNQUFLLFVBQVU7QUFDZixrQkFBSSxPQUFPLHFCQUFxQixZQUFZLEtBQUssV0FBVyxXQUFXO0FBQ25FLG9CQUFJLG9CQUFvQjtBQUNwQix5QkFBT0EsTUFBSztBQUFBO0FBRVoseUJBQU9BLE1BQUs7QUFBQSxjQUNwQjtBQUFBLFlBQ0o7QUFDQSxnQkFBSSxPQUFPLGVBQWU7QUFDdEIsY0FBQUEsTUFBSyxhQUFhO0FBQ3RCO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxXQUFXO0FBQ1osa0JBQU1BLFFBQU87QUFDYixZQUFBQSxNQUFLLE9BQU87QUFDWjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssVUFBVTtBQUNYLGdCQUFJLEtBQUssb0JBQW9CLFNBQVM7QUFDbEMsb0JBQU0sSUFBSSxNQUFNLDZDQUE2QztBQUFBLFlBQ2pFO0FBQ0E7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFVBQVU7QUFDWCxnQkFBSSxLQUFLLG9CQUFvQixTQUFTO0FBQ2xDLG9CQUFNLElBQUksTUFBTSw4Q0FBOEM7QUFBQSxZQUNsRTtBQUNBO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxRQUFRO0FBQ1QsZ0JBQUksS0FBSyxXQUFXLGVBQWU7QUFDL0Isb0JBQU0sT0FBTztBQUNiLG9CQUFNLFdBQVc7QUFDakIsb0JBQU0sT0FBTyxDQUFDLElBQUk7QUFBQSxZQUN0QjtBQUVJLG9CQUFNLE9BQU87QUFDakI7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLE9BQU87QUFDUjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssV0FBVztBQUNaO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxhQUFhO0FBQ2QsZ0JBQUksS0FBSyxvQkFBb0IsU0FBUztBQUNsQyxvQkFBTSxJQUFJLE1BQU0sZ0RBQWdEO0FBQUEsWUFDcEU7QUFDQTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssUUFBUTtBQUNULGdCQUFJLEtBQUssb0JBQW9CLFNBQVM7QUFDbEMsb0JBQU0sSUFBSSxNQUFNLDJDQUEyQztBQUFBLFlBQy9EO0FBQ0E7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFNBQVM7QUFDVixrQkFBTSxNQUFNLENBQUM7QUFDYjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssUUFBUTtBQUNULGdCQUFJLEtBQUssb0JBQW9CLFNBQVM7QUFDbEMsb0JBQU0sSUFBSSxNQUFNLDJDQUEyQztBQUFBLFlBQy9EO0FBQ0E7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFNBQVM7QUFDVixrQkFBTUEsUUFBTztBQUNiLGtCQUFNLEVBQUUsU0FBUyxRQUFRLElBQUksT0FBTyxLQUFLO0FBQ3pDLGdCQUFJLE9BQU8sWUFBWTtBQUNuQixjQUFBQSxNQUFLLFdBQVc7QUFDcEIsZ0JBQUksT0FBTyxZQUFZO0FBQ25CLGNBQUFBLE1BQUssV0FBVztBQUNwQixZQUFBQSxNQUFLLE9BQU87QUFDWixZQUFBQSxNQUFLLFFBQVEsS0FBSyxRQUFRLElBQUksU0FBUyxFQUFFLEdBQUcsUUFBUSxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU0sT0FBTyxFQUFFLENBQUM7QUFDckY7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFVBQVU7QUFDWCxrQkFBTUEsUUFBTztBQUNiLFlBQUFBLE1BQUssT0FBTztBQUNaLFlBQUFBLE1BQUssYUFBYSxDQUFDO0FBQ25CLGtCQUFNLFFBQVEsSUFBSTtBQUNsQix1QkFBVyxPQUFPLE9BQU87QUFDckIsY0FBQUEsTUFBSyxXQUFXLEdBQUcsSUFBSSxLQUFLLFFBQVEsTUFBTSxHQUFHLEdBQUc7QUFBQSxnQkFDNUMsR0FBRztBQUFBLGdCQUNILE1BQU0sQ0FBQyxHQUFHLE9BQU8sTUFBTSxjQUFjLEdBQUc7QUFBQSxjQUM1QyxDQUFDO0FBQUEsWUFDTDtBQUVBLGtCQUFNLFVBQVUsSUFBSSxJQUFJLE9BQU8sS0FBSyxLQUFLLENBQUM7QUFFMUMsa0JBQU0sZUFBZSxJQUFJLElBQUksQ0FBQyxHQUFHLE9BQU8sRUFBRSxPQUFPLENBQUMsUUFBUTtBQUN0RCxvQkFBTUMsS0FBSSxJQUFJLE1BQU0sR0FBRyxFQUFFO0FBQ3pCLGtCQUFJLEtBQUssT0FBTyxTQUFTO0FBQ3JCLHVCQUFPQSxHQUFFLFVBQVU7QUFBQSxjQUN2QixPQUNLO0FBQ0QsdUJBQU9BLEdBQUUsV0FBVztBQUFBLGNBQ3hCO0FBQUEsWUFDSixDQUFDLENBQUM7QUFDRixnQkFBSSxhQUFhLE9BQU8sR0FBRztBQUN2QixjQUFBRCxNQUFLLFdBQVcsTUFBTSxLQUFLLFlBQVk7QUFBQSxZQUMzQztBQUVBLGdCQUFJLElBQUksVUFBVSxLQUFLLElBQUksU0FBUyxTQUFTO0FBRXpDLGNBQUFBLE1BQUssdUJBQXVCO0FBQUEsWUFDaEMsV0FDUyxDQUFDLElBQUksVUFBVTtBQUVwQixrQkFBSSxLQUFLLE9BQU87QUFDWixnQkFBQUEsTUFBSyx1QkFBdUI7QUFBQSxZQUNwQyxXQUNTLElBQUksVUFBVTtBQUNuQixjQUFBQSxNQUFLLHVCQUF1QixLQUFLLFFBQVEsSUFBSSxVQUFVO0FBQUEsZ0JBQ25ELEdBQUc7QUFBQSxnQkFDSCxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU0sc0JBQXNCO0FBQUEsY0FDakQsQ0FBQztBQUFBLFlBQ0w7QUFDQTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssU0FBUztBQUNWLGtCQUFNQSxRQUFPO0FBQ2Isa0JBQU0sVUFBVSxJQUFJLFFBQVEsSUFBSSxDQUFDRSxJQUFHQyxPQUFNLEtBQUssUUFBUUQsSUFBRztBQUFBLGNBQ3RELEdBQUc7QUFBQSxjQUNILE1BQU0sQ0FBQyxHQUFHLE9BQU8sTUFBTSxTQUFTQyxFQUFDO0FBQUEsWUFDckMsQ0FBQyxDQUFDO0FBQ0YsWUFBQUgsTUFBSyxRQUFRO0FBQ2I7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLGdCQUFnQjtBQUNqQixrQkFBTUEsUUFBTztBQUNiLGtCQUFNSSxLQUFJLEtBQUssUUFBUSxJQUFJLE1BQU07QUFBQSxjQUM3QixHQUFHO0FBQUEsY0FDSCxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU0sU0FBUyxDQUFDO0FBQUEsWUFDckMsQ0FBQztBQUNELGtCQUFNQyxLQUFJLEtBQUssUUFBUSxJQUFJLE9BQU87QUFBQSxjQUM5QixHQUFHO0FBQUEsY0FDSCxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU0sU0FBUyxDQUFDO0FBQUEsWUFDckMsQ0FBQztBQUNELGtCQUFNLHVCQUF1QixDQUFDLFFBQVEsV0FBVyxPQUFPLE9BQU8sS0FBSyxHQUFHLEVBQUUsV0FBVztBQUNwRixrQkFBTSxRQUFRO0FBQUEsY0FDVixHQUFJLHFCQUFxQkQsRUFBQyxJQUFJQSxHQUFFLFFBQVEsQ0FBQ0EsRUFBQztBQUFBLGNBQzFDLEdBQUkscUJBQXFCQyxFQUFDLElBQUlBLEdBQUUsUUFBUSxDQUFDQSxFQUFDO0FBQUEsWUFDOUM7QUFDQSxZQUFBTCxNQUFLLFFBQVE7QUFDYjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssU0FBUztBQUNWLGtCQUFNQSxRQUFPO0FBQ2IsWUFBQUEsTUFBSyxPQUFPO0FBQ1osa0JBQU0sYUFBYSxLQUFLLFdBQVcsa0JBQWtCLGdCQUFnQjtBQUNyRSxrQkFBTSxXQUFXLEtBQUssV0FBVyxrQkFBa0IsVUFBVSxLQUFLLFdBQVcsZ0JBQWdCLFVBQVU7QUFDdkcsa0JBQU0sY0FBYyxJQUFJLE1BQU0sSUFBSSxDQUFDRSxJQUFHQyxPQUFNLEtBQUssUUFBUUQsSUFBRztBQUFBLGNBQ3hELEdBQUc7QUFBQSxjQUNILE1BQU0sQ0FBQyxHQUFHLE9BQU8sTUFBTSxZQUFZQyxFQUFDO0FBQUEsWUFDeEMsQ0FBQyxDQUFDO0FBQ0Ysa0JBQU0sT0FBTyxJQUFJLE9BQ1gsS0FBSyxRQUFRLElBQUksTUFBTTtBQUFBLGNBQ3JCLEdBQUc7QUFBQSxjQUNILE1BQU0sQ0FBQyxHQUFHLE9BQU8sTUFBTSxVQUFVLEdBQUksS0FBSyxXQUFXLGdCQUFnQixDQUFDLElBQUksTUFBTSxNQUFNLElBQUksQ0FBQyxDQUFFO0FBQUEsWUFDakcsQ0FBQyxJQUNDO0FBQ04sZ0JBQUksS0FBSyxXQUFXLGlCQUFpQjtBQUNqQyxjQUFBSCxNQUFLLGNBQWM7QUFDbkIsa0JBQUksTUFBTTtBQUNOLGdCQUFBQSxNQUFLLFFBQVE7QUFBQSxjQUNqQjtBQUFBLFlBQ0osV0FDUyxLQUFLLFdBQVcsZUFBZTtBQUNwQyxjQUFBQSxNQUFLLFFBQVE7QUFBQSxnQkFDVCxPQUFPO0FBQUEsY0FDWDtBQUNBLGtCQUFJLE1BQU07QUFDTixnQkFBQUEsTUFBSyxNQUFNLE1BQU0sS0FBSyxJQUFJO0FBQUEsY0FDOUI7QUFDQSxjQUFBQSxNQUFLLFdBQVcsWUFBWTtBQUM1QixrQkFBSSxDQUFDLE1BQU07QUFDUCxnQkFBQUEsTUFBSyxXQUFXLFlBQVk7QUFBQSxjQUNoQztBQUFBLFlBQ0osT0FDSztBQUNELGNBQUFBLE1BQUssUUFBUTtBQUNiLGtCQUFJLE1BQU07QUFDTixnQkFBQUEsTUFBSyxrQkFBa0I7QUFBQSxjQUMzQjtBQUFBLFlBQ0o7QUFFQSxrQkFBTSxFQUFFLFNBQVMsUUFBUSxJQUFJLE9BQU8sS0FBSztBQUN6QyxnQkFBSSxPQUFPLFlBQVk7QUFDbkIsY0FBQUEsTUFBSyxXQUFXO0FBQ3BCLGdCQUFJLE9BQU8sWUFBWTtBQUNuQixjQUFBQSxNQUFLLFdBQVc7QUFDcEI7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFVBQVU7QUFDWCxrQkFBTUEsUUFBTztBQUNiLFlBQUFBLE1BQUssT0FBTztBQUNaLGdCQUFJLEtBQUssV0FBVyxhQUFhLEtBQUssV0FBVyxpQkFBaUI7QUFDOUQsY0FBQUEsTUFBSyxnQkFBZ0IsS0FBSyxRQUFRLElBQUksU0FBUztBQUFBLGdCQUMzQyxHQUFHO0FBQUEsZ0JBQ0gsTUFBTSxDQUFDLEdBQUcsT0FBTyxNQUFNLGVBQWU7QUFBQSxjQUMxQyxDQUFDO0FBQUEsWUFDTDtBQUNBLFlBQUFBLE1BQUssdUJBQXVCLEtBQUssUUFBUSxJQUFJLFdBQVc7QUFBQSxjQUNwRCxHQUFHO0FBQUEsY0FDSCxNQUFNLENBQUMsR0FBRyxPQUFPLE1BQU0sc0JBQXNCO0FBQUEsWUFDakQsQ0FBQztBQUNEO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxPQUFPO0FBQ1IsZ0JBQUksS0FBSyxvQkFBb0IsU0FBUztBQUNsQyxvQkFBTSxJQUFJLE1BQU0sMENBQTBDO0FBQUEsWUFDOUQ7QUFDQTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssT0FBTztBQUNSLGdCQUFJLEtBQUssb0JBQW9CLFNBQVM7QUFDbEMsb0JBQU0sSUFBSSxNQUFNLDBDQUEwQztBQUFBLFlBQzlEO0FBQ0E7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFFBQVE7QUFDVCxrQkFBTUEsUUFBTztBQUNiLGtCQUFNLFNBQVMsY0FBYyxJQUFJLE9BQU87QUFFeEMsZ0JBQUksT0FBTyxNQUFNLENBQUNDLE9BQU0sT0FBT0EsT0FBTSxRQUFRO0FBQ3pDLGNBQUFELE1BQUssT0FBTztBQUNoQixnQkFBSSxPQUFPLE1BQU0sQ0FBQ0MsT0FBTSxPQUFPQSxPQUFNLFFBQVE7QUFDekMsY0FBQUQsTUFBSyxPQUFPO0FBQ2hCLFlBQUFBLE1BQUssT0FBTztBQUNaO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxXQUFXO0FBQ1osa0JBQU1BLFFBQU87QUFDYixrQkFBTSxPQUFPLENBQUM7QUFDZCx1QkFBVyxPQUFPLElBQUksUUFBUTtBQUMxQixrQkFBSSxRQUFRLFFBQVc7QUFDbkIsb0JBQUksS0FBSyxvQkFBb0IsU0FBUztBQUNsQyx3QkFBTSxJQUFJLE1BQU0sMERBQTBEO0FBQUEsZ0JBQzlFLE9BQ0s7QUFBQSxnQkFFTDtBQUFBLGNBQ0osV0FDUyxPQUFPLFFBQVEsVUFBVTtBQUM5QixvQkFBSSxLQUFLLG9CQUFvQixTQUFTO0FBQ2xDLHdCQUFNLElBQUksTUFBTSxzREFBc0Q7QUFBQSxnQkFDMUUsT0FDSztBQUNELHVCQUFLLEtBQUssT0FBTyxHQUFHLENBQUM7QUFBQSxnQkFDekI7QUFBQSxjQUNKLE9BQ0s7QUFDRCxxQkFBSyxLQUFLLEdBQUc7QUFBQSxjQUNqQjtBQUFBLFlBQ0o7QUFDQSxnQkFBSSxLQUFLLFdBQVcsR0FBRztBQUFBLFlBRXZCLFdBQ1MsS0FBSyxXQUFXLEdBQUc7QUFDeEIsb0JBQU0sTUFBTSxLQUFLLENBQUM7QUFDbEIsY0FBQUEsTUFBSyxPQUFPLFFBQVEsT0FBTyxTQUFTLE9BQU87QUFDM0Msa0JBQUksS0FBSyxXQUFXLGFBQWEsS0FBSyxXQUFXLGVBQWU7QUFDNUQsZ0JBQUFBLE1BQUssT0FBTyxDQUFDLEdBQUc7QUFBQSxjQUNwQixPQUNLO0FBQ0QsZ0JBQUFBLE1BQUssUUFBUTtBQUFBLGNBQ2pCO0FBQUEsWUFDSixPQUNLO0FBQ0Qsa0JBQUksS0FBSyxNQUFNLENBQUNDLE9BQU0sT0FBT0EsT0FBTSxRQUFRO0FBQ3ZDLGdCQUFBRCxNQUFLLE9BQU87QUFDaEIsa0JBQUksS0FBSyxNQUFNLENBQUNDLE9BQU0sT0FBT0EsT0FBTSxRQUFRO0FBQ3ZDLGdCQUFBRCxNQUFLLE9BQU87QUFDaEIsa0JBQUksS0FBSyxNQUFNLENBQUNDLE9BQU0sT0FBT0EsT0FBTSxTQUFTO0FBQ3hDLGdCQUFBRCxNQUFLLE9BQU87QUFDaEIsa0JBQUksS0FBSyxNQUFNLENBQUNDLE9BQU1BLE9BQU0sSUFBSTtBQUM1QixnQkFBQUQsTUFBSyxPQUFPO0FBQ2hCLGNBQUFBLE1BQUssT0FBTztBQUFBLFlBQ2hCO0FBQ0E7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFFBQVE7QUFDVCxrQkFBTUEsUUFBTztBQUNiLGtCQUFNTSxRQUFPO0FBQUEsY0FDVCxNQUFNO0FBQUEsY0FDTixRQUFRO0FBQUEsY0FDUixpQkFBaUI7QUFBQSxZQUNyQjtBQUNBLGtCQUFNLEVBQUUsU0FBUyxTQUFTLEtBQUssSUFBSSxPQUFPLEtBQUs7QUFDL0MsZ0JBQUksWUFBWTtBQUNaLGNBQUFBLE1BQUssWUFBWTtBQUNyQixnQkFBSSxZQUFZO0FBQ1osY0FBQUEsTUFBSyxZQUFZO0FBQ3JCLGdCQUFJLE1BQU07QUFDTixrQkFBSSxLQUFLLFdBQVcsR0FBRztBQUNuQixnQkFBQUEsTUFBSyxtQkFBbUIsS0FBSyxDQUFDO0FBQzlCLHVCQUFPLE9BQU9OLE9BQU1NLEtBQUk7QUFBQSxjQUM1QixPQUNLO0FBQ0QsZ0JBQUFOLE1BQUssUUFBUSxLQUFLLElBQUksQ0FBQ08sT0FBTTtBQUN6Qix3QkFBTSxRQUFRLEVBQUUsR0FBR0QsT0FBTSxrQkFBa0JDLEdBQUU7QUFDN0MseUJBQU87QUFBQSxnQkFDWCxDQUFDO0FBQUEsY0FDTDtBQUFBLFlBQ0osT0FDSztBQUNELHFCQUFPLE9BQU9QLE9BQU1NLEtBQUk7QUFBQSxZQUM1QjtBQUlBO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxhQUFhO0FBQ2QsZ0JBQUksS0FBSyxvQkFBb0IsU0FBUztBQUNsQyxvQkFBTSxJQUFJLE1BQU0saURBQWlEO0FBQUEsWUFDckU7QUFDQTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssWUFBWTtBQUNiLGtCQUFNLFFBQVEsS0FBSyxRQUFRLElBQUksV0FBVyxNQUFNO0FBQ2hELGdCQUFJLEtBQUssV0FBVyxlQUFlO0FBQy9CLHFCQUFPLE1BQU0sSUFBSTtBQUNqQixvQkFBTSxXQUFXO0FBQUEsWUFDckIsT0FDSztBQUNELG9CQUFNLFFBQVEsQ0FBQyxPQUFPLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFBQSxZQUMxQztBQUNBO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxlQUFlO0FBQ2hCLGlCQUFLLFFBQVEsSUFBSSxXQUFXLE1BQU07QUFDbEMsbUJBQU8sTUFBTSxJQUFJO0FBQ2pCO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxXQUFXO0FBQ1osa0JBQU1OLFFBQU87QUFDYixZQUFBQSxNQUFLLE9BQU87QUFDWjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssV0FBVztBQUNaLGlCQUFLLFFBQVEsSUFBSSxXQUFXLE1BQU07QUFDbEMsbUJBQU8sTUFBTSxJQUFJO0FBQ2pCLGtCQUFNLFVBQVUsS0FBSyxNQUFNLEtBQUssVUFBVSxJQUFJLFlBQVksQ0FBQztBQUMzRDtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssWUFBWTtBQUNiLGlCQUFLLFFBQVEsSUFBSSxXQUFXLE1BQU07QUFDbEMsbUJBQU8sTUFBTSxJQUFJO0FBQ2pCLGdCQUFJLEtBQUssT0FBTztBQUNaLG9CQUFNLFlBQVksS0FBSyxNQUFNLEtBQUssVUFBVSxJQUFJLFlBQVksQ0FBQztBQUNqRTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssU0FBUztBQUVWLGlCQUFLLFFBQVEsSUFBSSxXQUFXLE1BQU07QUFDbEMsbUJBQU8sTUFBTSxJQUFJO0FBQ2pCLGdCQUFJO0FBQ0osZ0JBQUk7QUFDQSwyQkFBYSxJQUFJLFdBQVcsTUFBUztBQUFBLFlBQ3pDLFFBQ007QUFDRixvQkFBTSxJQUFJLE1BQU0sdURBQXVEO0FBQUEsWUFDM0U7QUFDQSxrQkFBTSxVQUFVO0FBQ2hCO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxPQUFPO0FBQ1IsZ0JBQUksS0FBSyxvQkFBb0IsU0FBUztBQUNsQyxvQkFBTSxJQUFJLE1BQU0sMENBQTBDO0FBQUEsWUFDOUQ7QUFDQTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssb0JBQW9CO0FBQ3JCLGtCQUFNQSxRQUFPO0FBQ2Isa0JBQU0sVUFBVSxPQUFPLEtBQUs7QUFDNUIsZ0JBQUksQ0FBQztBQUNELG9CQUFNLElBQUksTUFBTSx1Q0FBdUM7QUFDM0QsWUFBQUEsTUFBSyxPQUFPO0FBQ1osWUFBQUEsTUFBSyxVQUFVLFFBQVE7QUFDdkI7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFFBQVE7QUFDVCxrQkFBTSxZQUFZLEtBQUssT0FBTyxVQUFXLElBQUksR0FBRyxLQUFLLElBQUksU0FBUyxjQUFjLElBQUksTUFBTSxJQUFJLEtBQU0sSUFBSTtBQUN4RyxpQkFBSyxRQUFRLFdBQVcsTUFBTTtBQUM5QixtQkFBTyxNQUFNO0FBQ2I7QUFBQSxVQUNKO0FBQUEsVUFDQSxLQUFLLFlBQVk7QUFDYixpQkFBSyxRQUFRLElBQUksV0FBVyxNQUFNO0FBQ2xDLG1CQUFPLE1BQU0sSUFBSTtBQUNqQixrQkFBTSxXQUFXO0FBQ2pCO0FBQUEsVUFDSjtBQUFBO0FBQUEsVUFFQSxLQUFLLFdBQVc7QUFDWixpQkFBSyxRQUFRLElBQUksV0FBVyxNQUFNO0FBQ2xDLG1CQUFPLE1BQU0sSUFBSTtBQUNqQjtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssWUFBWTtBQUNiLGlCQUFLLFFBQVEsSUFBSSxXQUFXLE1BQU07QUFDbEMsbUJBQU8sTUFBTSxJQUFJO0FBQ2pCO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxRQUFRO0FBQ1Qsa0JBQU0sWUFBWSxPQUFPLEtBQUs7QUFDOUIsaUJBQUssUUFBUSxXQUFXLE1BQU07QUFDOUIsbUJBQU8sTUFBTTtBQUNiO0FBQUEsVUFDSjtBQUFBLFVBQ0EsS0FBSyxVQUFVO0FBQ1gsZ0JBQUksS0FBSyxvQkFBb0IsU0FBUztBQUNsQyxvQkFBTSxJQUFJLE1BQU0sbURBQW1EO0FBQUEsWUFDdkU7QUFDQTtBQUFBLFVBQ0o7QUFBQSxVQUNBLEtBQUssWUFBWTtBQUNiLGdCQUFJLEtBQUssb0JBQW9CLFNBQVM7QUFDbEMsb0JBQU0sSUFBSSxNQUFNLHFEQUFxRDtBQUFBLFlBQ3pFO0FBQ0E7QUFBQSxVQUNKO0FBQUEsVUFDQSxTQUFTO0FBQ0w7QUFBQSxVQUNKO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBRUEsVUFBTSxPQUFPLEtBQUssaUJBQWlCLElBQUksTUFBTTtBQUM3QyxRQUFJO0FBQ0EsYUFBTyxPQUFPLE9BQU8sUUFBUSxJQUFJO0FBQ3JDLFFBQUksS0FBSyxPQUFPLFdBQVcsZUFBZSxNQUFNLEdBQUc7QUFFL0MsYUFBTyxPQUFPLE9BQU87QUFDckIsYUFBTyxPQUFPLE9BQU87QUFBQSxJQUN6QjtBQUVBLFFBQUksS0FBSyxPQUFPLFdBQVcsT0FBTyxPQUFPO0FBQ3JDLE9BQUNELE9BQUssT0FBTyxRQUFRLFlBQVlBLEtBQUcsVUFBVSxPQUFPLE9BQU87QUFDaEUsV0FBTyxPQUFPLE9BQU87QUFFckIsVUFBTSxVQUFVLEtBQUssS0FBSyxJQUFJLE1BQU07QUFDcEMsV0FBTyxRQUFRO0FBQUEsRUFDbkI7QUFBQSxFQUNBLEtBQUssUUFBUSxTQUFTO0FBQ2xCLFVBQU0sU0FBUztBQUFBLE1BQ1gsUUFBUSxTQUFTLFVBQVU7QUFBQSxNQUMzQixRQUFRLFNBQVMsVUFBVTtBQUFBO0FBQUE7QUFBQSxNQUczQixVQUFVLFNBQVMsWUFBWTtBQUFBLElBQ25DO0FBRUEsVUFBTSxPQUFPLEtBQUssS0FBSyxJQUFJLE1BQU07QUFDakMsUUFBSSxDQUFDO0FBQ0QsWUFBTSxJQUFJLE1BQU0sMkNBQTJDO0FBSy9ELFVBQU0sVUFBVSxDQUFDLFVBQVU7QUFLdkIsWUFBTSxjQUFjLEtBQUssV0FBVyxrQkFBa0IsVUFBVTtBQUNoRSxVQUFJLE9BQU8sVUFBVTtBQUNqQixjQUFNLGFBQWEsT0FBTyxTQUFTLFNBQVMsSUFBSSxNQUFNLENBQUMsQ0FBQyxHQUFHO0FBRTNELGNBQU0sZUFBZSxPQUFPLFNBQVMsUUFBUSxDQUFDUyxRQUFPQTtBQUNyRCxZQUFJLFlBQVk7QUFDWixpQkFBTyxFQUFFLEtBQUssYUFBYSxVQUFVLEVBQUU7QUFBQSxRQUMzQztBQUVBLGNBQU0sS0FBSyxNQUFNLENBQUMsRUFBRSxTQUFTLE1BQU0sQ0FBQyxFQUFFLE9BQU8sTUFBTSxTQUFTLEtBQUssU0FBUztBQUMxRSxjQUFNLENBQUMsRUFBRSxRQUFRO0FBQ2pCLGVBQU8sRUFBRSxPQUFPLElBQUksS0FBSyxHQUFHLGFBQWEsVUFBVSxDQUFDLEtBQUssV0FBVyxJQUFJLEVBQUUsR0FBRztBQUFBLE1BQ2pGO0FBQ0EsVUFBSSxNQUFNLENBQUMsTUFBTSxNQUFNO0FBQ25CLGVBQU8sRUFBRSxLQUFLLElBQUk7QUFBQSxNQUN0QjtBQUVBLFlBQU0sWUFBWTtBQUNsQixZQUFNLGVBQWUsR0FBRyxTQUFTLElBQUksV0FBVztBQUNoRCxZQUFNLFFBQVEsTUFBTSxDQUFDLEVBQUUsT0FBTyxNQUFNLFdBQVcsS0FBSyxTQUFTO0FBQzdELGFBQU8sRUFBRSxPQUFPLEtBQUssZUFBZSxNQUFNO0FBQUEsSUFDOUM7QUFHQSxVQUFNLGVBQWUsQ0FBQyxVQUFVO0FBRTVCLFVBQUksTUFBTSxDQUFDLEVBQUUsT0FBTyxNQUFNO0FBQ3RCO0FBQUEsTUFDSjtBQUNBLFlBQU0sT0FBTyxNQUFNLENBQUM7QUFDcEIsWUFBTSxFQUFFLEtBQUssTUFBTSxJQUFJLFFBQVEsS0FBSztBQUNwQyxXQUFLLE1BQU0sRUFBRSxHQUFHLEtBQUssT0FBTztBQUU1QixVQUFJO0FBQ0EsYUFBSyxRQUFRO0FBRWpCLFlBQU1DLFVBQVMsS0FBSztBQUNwQixpQkFBVyxPQUFPQSxTQUFRO0FBQ3RCLGVBQU9BLFFBQU8sR0FBRztBQUFBLE1BQ3JCO0FBQ0EsTUFBQUEsUUFBTyxPQUFPO0FBQUEsSUFDbEI7QUFHQSxRQUFJLE9BQU8sV0FBVyxTQUFTO0FBQzNCLGlCQUFXLFNBQVMsS0FBSyxLQUFLLFFBQVEsR0FBRztBQUNyQyxjQUFNLE9BQU8sTUFBTSxDQUFDO0FBQ3BCLFlBQUksS0FBSyxPQUFPO0FBQ1osZ0JBQU0sSUFBSSxNQUFNLHFCQUNQLEtBQUssT0FBTyxLQUFLLEdBQUcsQ0FBQztBQUFBO0FBQUEsaUZBQ3dEO0FBQUEsUUFDMUY7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUVBLGVBQVcsU0FBUyxLQUFLLEtBQUssUUFBUSxHQUFHO0FBQ3JDLFlBQU0sT0FBTyxNQUFNLENBQUM7QUFFcEIsVUFBSSxXQUFXLE1BQU0sQ0FBQyxHQUFHO0FBQ3JCLHFCQUFhLEtBQUs7QUFDbEI7QUFBQSxNQUNKO0FBRUEsVUFBSSxPQUFPLFVBQVU7QUFDakIsY0FBTSxNQUFNLE9BQU8sU0FBUyxTQUFTLElBQUksTUFBTSxDQUFDLENBQUMsR0FBRztBQUNwRCxZQUFJLFdBQVcsTUFBTSxDQUFDLEtBQUssS0FBSztBQUM1Qix1QkFBYSxLQUFLO0FBQ2xCO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFFQSxZQUFNLEtBQUssS0FBSyxpQkFBaUIsSUFBSSxNQUFNLENBQUMsQ0FBQyxHQUFHO0FBQ2hELFVBQUksSUFBSTtBQUNKLHFCQUFhLEtBQUs7QUFDbEI7QUFBQSxNQUNKO0FBRUEsVUFBSSxLQUFLLE9BQU87QUFFWixxQkFBYSxLQUFLO0FBQ2xCO0FBQUEsTUFDSjtBQUVBLFVBQUksS0FBSyxRQUFRLEdBQUc7QUFDaEIsWUFBSSxPQUFPLFdBQVcsT0FBTztBQUN6Qix1QkFBYSxLQUFLO0FBRWxCO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBRUEsVUFBTSxhQUFhLENBQUNDLFlBQVdDLFlBQVc7QUFDdEMsWUFBTSxPQUFPLEtBQUssS0FBSyxJQUFJRCxVQUFTO0FBQ3BDLFlBQU1ELFVBQVMsS0FBSyxPQUFPLEtBQUs7QUFDaEMsWUFBTSxVQUFVLEVBQUUsR0FBR0EsUUFBTztBQUU1QixVQUFJLEtBQUssUUFBUSxNQUFNO0FBQ25CO0FBQUEsTUFDSjtBQUVBLFlBQU0sTUFBTSxLQUFLO0FBQ2pCLFdBQUssTUFBTTtBQUNYLFVBQUksS0FBSztBQUNMLG1CQUFXLEtBQUtFLE9BQU07QUFFdEIsY0FBTSxZQUFZLEtBQUssS0FBSyxJQUFJLEdBQUcsRUFBRTtBQUNyQyxZQUFJLFVBQVUsU0FDVEEsUUFBTyxXQUFXLGFBQWFBLFFBQU8sV0FBVyxhQUFhQSxRQUFPLFdBQVcsZ0JBQWdCO0FBQ2pHLFVBQUFGLFFBQU8sUUFBUUEsUUFBTyxTQUFTLENBQUM7QUFDaEMsVUFBQUEsUUFBTyxNQUFNLEtBQUssU0FBUztBQUFBLFFBQy9CLE9BQ0s7QUFDRCxpQkFBTyxPQUFPQSxTQUFRLFNBQVM7QUFDL0IsaUJBQU8sT0FBT0EsU0FBUSxPQUFPO0FBQUEsUUFDakM7QUFBQSxNQUNKO0FBRUEsVUFBSSxDQUFDLEtBQUs7QUFDTixhQUFLLFNBQVM7QUFBQSxVQUNWLFdBQVdDO0FBQUEsVUFDWCxZQUFZRDtBQUFBLFVBQ1osTUFBTSxLQUFLLFFBQVEsQ0FBQztBQUFBLFFBQ3hCLENBQUM7QUFBQSxJQUNUO0FBQ0EsZUFBVyxTQUFTLENBQUMsR0FBRyxLQUFLLEtBQUssUUFBUSxDQUFDLEVBQUUsUUFBUSxHQUFHO0FBQ3BELGlCQUFXLE1BQU0sQ0FBQyxHQUFHLEVBQUUsUUFBUSxLQUFLLE9BQU8sQ0FBQztBQUFBLElBQ2hEO0FBQ0EsVUFBTSxTQUFTLENBQUM7QUFDaEIsUUFBSSxLQUFLLFdBQVcsaUJBQWlCO0FBQ2pDLGFBQU8sVUFBVTtBQUFBLElBQ3JCLFdBQ1MsS0FBSyxXQUFXLFdBQVc7QUFDaEMsYUFBTyxVQUFVO0FBQUEsSUFDckIsV0FDUyxLQUFLLFdBQVcsV0FBVztBQUNoQyxhQUFPLFVBQVU7QUFBQSxJQUNyQixXQUNTLEtBQUssV0FBVyxlQUFlO0FBQUEsSUFFeEMsT0FDSztBQUVELGNBQVEsS0FBSyxtQkFBbUIsS0FBSyxNQUFNLEVBQUU7QUFBQSxJQUNqRDtBQUNBLFFBQUksT0FBTyxVQUFVLEtBQUs7QUFDdEIsWUFBTSxLQUFLLE9BQU8sU0FBUyxTQUFTLElBQUksTUFBTSxHQUFHO0FBQ2pELFVBQUksQ0FBQztBQUNELGNBQU0sSUFBSSxNQUFNLG9DQUFvQztBQUN4RCxhQUFPLE1BQU0sT0FBTyxTQUFTLElBQUksRUFBRTtBQUFBLElBQ3ZDO0FBQ0EsV0FBTyxPQUFPLFFBQVEsS0FBSyxHQUFHO0FBRTlCLFVBQU0sT0FBTyxPQUFPLFVBQVUsUUFBUSxDQUFDO0FBQ3ZDLGVBQVcsU0FBUyxLQUFLLEtBQUssUUFBUSxHQUFHO0FBQ3JDLFlBQU0sT0FBTyxNQUFNLENBQUM7QUFDcEIsVUFBSSxLQUFLLE9BQU8sS0FBSyxPQUFPO0FBQ3hCLGFBQUssS0FBSyxLQUFLLElBQUksS0FBSztBQUFBLE1BQzVCO0FBQUEsSUFDSjtBQUVBLFFBQUksT0FBTyxVQUFVO0FBQUEsSUFDckIsT0FDSztBQUNELFVBQUksT0FBTyxLQUFLLElBQUksRUFBRSxTQUFTLEdBQUc7QUFDOUIsWUFBSSxLQUFLLFdBQVcsaUJBQWlCO0FBQ2pDLGlCQUFPLFFBQVE7QUFBQSxRQUNuQixPQUNLO0FBQ0QsaUJBQU8sY0FBYztBQUFBLFFBQ3pCO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFDQSxRQUFJO0FBSUEsYUFBTyxLQUFLLE1BQU0sS0FBSyxVQUFVLE1BQU0sQ0FBQztBQUFBLElBQzVDLFNBQ08sTUFBTTtBQUNULFlBQU0sSUFBSSxNQUFNLGtDQUFrQztBQUFBLElBQ3REO0FBQUEsRUFDSjtBQUNKO0FBQ08sU0FBUyxhQUFhLE9BQU8sU0FBUztBQUN6QyxNQUFJLGlCQUFpQixjQUFjO0FBQy9CLFVBQU1HLE9BQU0sSUFBSSxvQkFBb0IsT0FBTztBQUMzQyxVQUFNLE9BQU8sQ0FBQztBQUNkLGVBQVcsU0FBUyxNQUFNLE9BQU8sUUFBUSxHQUFHO0FBQ3hDLFlBQU0sQ0FBQ0MsSUFBRyxNQUFNLElBQUk7QUFDcEIsTUFBQUQsS0FBSSxRQUFRLE1BQU07QUFBQSxJQUN0QjtBQUNBLFVBQU0sVUFBVSxDQUFDO0FBQ2pCLFVBQU0sV0FBVztBQUFBLE1BQ2IsVUFBVTtBQUFBLE1BQ1YsS0FBSyxTQUFTO0FBQUEsTUFDZDtBQUFBLElBQ0o7QUFDQSxlQUFXLFNBQVMsTUFBTSxPQUFPLFFBQVEsR0FBRztBQUN4QyxZQUFNLENBQUMsS0FBSyxNQUFNLElBQUk7QUFDdEIsY0FBUSxHQUFHLElBQUlBLEtBQUksS0FBSyxRQUFRO0FBQUEsUUFDNUIsR0FBRztBQUFBLFFBQ0g7QUFBQSxNQUNKLENBQUM7QUFBQSxJQUNMO0FBQ0EsUUFBSSxPQUFPLEtBQUssSUFBSSxFQUFFLFNBQVMsR0FBRztBQUM5QixZQUFNLGNBQWNBLEtBQUksV0FBVyxrQkFBa0IsVUFBVTtBQUMvRCxjQUFRLFdBQVc7QUFBQSxRQUNmLENBQUMsV0FBVyxHQUFHO0FBQUEsTUFDbkI7QUFBQSxJQUNKO0FBQ0EsV0FBTyxFQUFFLFFBQVE7QUFBQSxFQUNyQjtBQUNBLFFBQU0sTUFBTSxJQUFJLG9CQUFvQixPQUFPO0FBQzNDLE1BQUksUUFBUSxLQUFLO0FBQ2pCLFNBQU8sSUFBSSxLQUFLLE9BQU8sT0FBTztBQUNsQztBQUNBLFNBQVMsZUFBZSxTQUFTLE1BQU07QUFDbkMsUUFBTSxNQUFNLFFBQVEsRUFBRSxNQUFNLG9CQUFJLElBQUksRUFBRTtBQUN0QyxNQUFJLElBQUksS0FBSyxJQUFJLE9BQU87QUFDcEIsV0FBTztBQUNYLE1BQUksS0FBSyxJQUFJLE9BQU87QUFDcEIsUUFBTSxTQUFTO0FBQ2YsUUFBTSxNQUFNLE9BQU8sS0FBSztBQUN4QixVQUFRLElBQUksTUFBTTtBQUFBLElBQ2QsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUNELGFBQU87QUFBQSxJQUNYLEtBQUssU0FBUztBQUNWLGFBQU8sZUFBZSxJQUFJLFNBQVMsR0FBRztBQUFBLElBQzFDO0FBQUEsSUFDQSxLQUFLLFVBQVU7QUFDWCxpQkFBVyxPQUFPLElBQUksT0FBTztBQUN6QixZQUFJLGVBQWUsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHO0FBQ2xDLGlCQUFPO0FBQUEsTUFDZjtBQUNBLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxLQUFLLFNBQVM7QUFDVixpQkFBVyxVQUFVLElBQUksU0FBUztBQUM5QixZQUFJLGVBQWUsUUFBUSxHQUFHO0FBQzFCLGlCQUFPO0FBQUEsTUFDZjtBQUNBLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxLQUFLLGdCQUFnQjtBQUNqQixhQUFPLGVBQWUsSUFBSSxNQUFNLEdBQUcsS0FBSyxlQUFlLElBQUksT0FBTyxHQUFHO0FBQUEsSUFDekU7QUFBQSxJQUNBLEtBQUssU0FBUztBQUNWLGlCQUFXLFFBQVEsSUFBSSxPQUFPO0FBQzFCLFlBQUksZUFBZSxNQUFNLEdBQUc7QUFDeEIsaUJBQU87QUFBQSxNQUNmO0FBQ0EsVUFBSSxJQUFJLFFBQVEsZUFBZSxJQUFJLE1BQU0sR0FBRztBQUN4QyxlQUFPO0FBQ1gsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBLEtBQUssVUFBVTtBQUNYLGFBQU8sZUFBZSxJQUFJLFNBQVMsR0FBRyxLQUFLLGVBQWUsSUFBSSxXQUFXLEdBQUc7QUFBQSxJQUNoRjtBQUFBLElBQ0EsS0FBSyxPQUFPO0FBQ1IsYUFBTyxlQUFlLElBQUksU0FBUyxHQUFHLEtBQUssZUFBZSxJQUFJLFdBQVcsR0FBRztBQUFBLElBQ2hGO0FBQUEsSUFDQSxLQUFLLE9BQU87QUFDUixhQUFPLGVBQWUsSUFBSSxXQUFXLEdBQUc7QUFBQSxJQUM1QztBQUFBO0FBQUEsSUFFQSxLQUFLO0FBQUEsSUFDTCxLQUFLO0FBQUEsSUFDTCxLQUFLO0FBQUEsSUFDTCxLQUFLO0FBQUEsSUFDTCxLQUFLO0FBQ0QsYUFBTyxlQUFlLElBQUksV0FBVyxHQUFHO0FBQUEsSUFDNUMsS0FBSztBQUNELGFBQU8sZUFBZSxJQUFJLE9BQU8sR0FBRyxHQUFHO0FBQUEsSUFDM0MsS0FBSyxXQUFXO0FBQ1osYUFBTyxlQUFlLElBQUksV0FBVyxHQUFHO0FBQUEsSUFDNUM7QUFBQSxJQUNBLEtBQUssWUFBWTtBQUNiLGFBQU8sZUFBZSxJQUFJLFdBQVcsR0FBRztBQUFBLElBQzVDO0FBQUEsSUFDQSxLQUFLLFVBQVU7QUFDWCxhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsS0FBSyxhQUFhO0FBQ2QsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBLEtBQUssUUFBUTtBQUNULGFBQU8sZUFBZSxJQUFJLElBQUksR0FBRyxLQUFLLGVBQWUsSUFBSSxLQUFLLEdBQUc7QUFBQSxJQUNyRTtBQUFBLElBQ0EsS0FBSyxXQUFXO0FBQ1osYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBLEtBQUssU0FBUztBQUNWLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxLQUFLLFlBQVk7QUFDYixhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0E7QUFDSTtBQUFBLEVBQ1I7QUFDQSxRQUFNLElBQUksTUFBTSx3QkFBd0IsSUFBSSxJQUFJLEVBQUU7QUFDdEQ7OztBQ2w1QkE7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGNBQUFFO0FBQUEsRUFBQSxnQkFBQUM7QUFBQSxFQUFBLGdCQUFBQztBQUFBLEVBQUEsWUFBQUM7QUFBQTtBQUVPLElBQU0saUJBQStCLGdCQUFLLGFBQWEsa0JBQWtCLENBQUMsTUFBTSxRQUFRO0FBQzNGLEVBQUssZ0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ25DLEVBQVEsZ0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQzFDLENBQUM7QUFDTSxTQUFTQyxVQUFTLFFBQVE7QUFDN0IsU0FBWSxhQUFhLGdCQUFnQixNQUFNO0FBQ25EO0FBQ08sSUFBTSxhQUEyQixnQkFBSyxhQUFhLGNBQWMsQ0FBQyxNQUFNLFFBQVE7QUFDbkYsRUFBSyxZQUFZLEtBQUssTUFBTSxHQUFHO0FBQy9CLEVBQVEsZ0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQzFDLENBQUM7QUFDTSxTQUFTQyxNQUFLLFFBQVE7QUFDekIsU0FBWSxTQUFTLFlBQVksTUFBTTtBQUMzQztBQUNPLElBQU0sYUFBMkIsZ0JBQUssYUFBYSxjQUFjLENBQUMsTUFBTSxRQUFRO0FBQ25GLEVBQUssWUFBWSxLQUFLLE1BQU0sR0FBRztBQUMvQixFQUFRLGdCQUFnQixLQUFLLE1BQU0sR0FBRztBQUMxQyxDQUFDO0FBQ00sU0FBU0MsTUFBSyxRQUFRO0FBQ3pCLFNBQVksU0FBUyxZQUFZLE1BQU07QUFDM0M7QUFDTyxJQUFNLGlCQUErQixnQkFBSyxhQUFhLGtCQUFrQixDQUFDLE1BQU0sUUFBUTtBQUMzRixFQUFLLGdCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNuQyxFQUFRLGdCQUFnQixLQUFLLE1BQU0sR0FBRztBQUMxQyxDQUFDO0FBQ00sU0FBU0MsVUFBUyxRQUFRO0FBQzdCLFNBQVksYUFBYSxnQkFBZ0IsTUFBTTtBQUNuRDs7O0FDMUJBLElBQU1DLGVBQWMsQ0FBQyxNQUFNLFdBQVc7QUFDbEMsWUFBVSxLQUFLLE1BQU0sTUFBTTtBQUMzQixPQUFLLE9BQU87QUFDWixTQUFPLGlCQUFpQixNQUFNO0FBQUEsSUFDMUIsUUFBUTtBQUFBLE1BQ0osT0FBTyxDQUFDLFdBQWdCLFlBQVksTUFBTSxNQUFNO0FBQUE7QUFBQSxJQUVwRDtBQUFBLElBQ0EsU0FBUztBQUFBLE1BQ0wsT0FBTyxDQUFDLFdBQWdCLGFBQWEsTUFBTSxNQUFNO0FBQUE7QUFBQSxJQUVyRDtBQUFBLElBQ0EsVUFBVTtBQUFBLE1BQ04sT0FBTyxDQUFDQyxXQUFVO0FBQ2QsYUFBSyxPQUFPLEtBQUtBLE1BQUs7QUFDdEIsYUFBSyxVQUFVLEtBQUssVUFBVSxLQUFLLFFBQWEsdUJBQXVCLENBQUM7QUFBQSxNQUM1RTtBQUFBO0FBQUEsSUFFSjtBQUFBLElBQ0EsV0FBVztBQUFBLE1BQ1AsT0FBTyxDQUFDQyxZQUFXO0FBQ2YsYUFBSyxPQUFPLEtBQUssR0FBR0EsT0FBTTtBQUMxQixhQUFLLFVBQVUsS0FBSyxVQUFVLEtBQUssUUFBYSx1QkFBdUIsQ0FBQztBQUFBLE1BQzVFO0FBQUE7QUFBQSxJQUVKO0FBQUEsSUFDQSxTQUFTO0FBQUEsTUFDTCxNQUFNO0FBQ0YsZUFBTyxLQUFLLE9BQU8sV0FBVztBQUFBLE1BQ2xDO0FBQUE7QUFBQSxJQUVKO0FBQUEsRUFDSixDQUFDO0FBTUw7QUFDTyxJQUFNLFdBQWdCLGFBQWEsWUFBWUYsWUFBVztBQUMxRCxJQUFNLGVBQW9CLGFBQWEsWUFBWUEsY0FBYTtBQUFBLEVBQ25FLFFBQVE7QUFDWixDQUFDOzs7QUMzQ00sSUFBTUcsU0FBd0IsZ0JBQUssT0FBTyxZQUFZO0FBQ3RELElBQU1DLGNBQTZCLGdCQUFLLFlBQVksWUFBWTtBQUNoRSxJQUFNQyxhQUE0QixnQkFBSyxXQUFXLFlBQVk7QUFDOUQsSUFBTUMsa0JBQWlDLGdCQUFLLGdCQUFnQixZQUFZO0FBRXhFLElBQU1DLFVBQXlCLGdCQUFLLFFBQVEsWUFBWTtBQUN4RCxJQUFNQyxVQUF5QixnQkFBSyxRQUFRLFlBQVk7QUFDeEQsSUFBTUMsZUFBOEIsZ0JBQUssYUFBYSxZQUFZO0FBQ2xFLElBQU1DLGVBQThCLGdCQUFLLGFBQWEsWUFBWTtBQUNsRSxJQUFNQyxjQUE2QixnQkFBSyxZQUFZLFlBQVk7QUFDaEUsSUFBTUMsY0FBNkIsZ0JBQUssWUFBWSxZQUFZO0FBQ2hFLElBQU1DLG1CQUFrQyxnQkFBSyxpQkFBaUIsWUFBWTtBQUMxRSxJQUFNQyxtQkFBa0MsZ0JBQUssaUJBQWlCLFlBQVk7OztBQ1QxRSxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUM3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsT0FBSyxNQUFNO0FBQ1gsT0FBSyxPQUFPLElBQUk7QUFDaEIsU0FBTyxlQUFlLE1BQU0sUUFBUSxFQUFFLE9BQU8sSUFBSSxDQUFDO0FBRWxELE9BQUssUUFBUSxJQUFJLFdBQVc7QUFDeEIsV0FBTyxLQUFLO0FBQUEsTUFBTTtBQUFBLFFBQ2QsR0FBRztBQUFBLFFBQ0gsUUFBUTtBQUFBLFVBQ0osR0FBSSxJQUFJLFVBQVUsQ0FBQztBQUFBLFVBQ25CLEdBQUcsT0FBTyxJQUFJLENBQUMsT0FBTyxPQUFPLE9BQU8sYUFBYSxFQUFFLE1BQU0sRUFBRSxPQUFPLElBQUksS0FBSyxFQUFFLE9BQU8sU0FBUyxHQUFHLFVBQVUsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFO0FBQUEsUUFDekg7QUFBQSxNQUNKO0FBQUE7QUFBQSxJQUVBO0FBQUEsRUFDSjtBQUNBLE9BQUssUUFBUSxDQUFDQyxNQUFLLFdBQWdCLE1BQU0sTUFBTUEsTUFBSyxNQUFNO0FBQzFELE9BQUssUUFBUSxNQUFNO0FBQ25CLE9BQUssWUFBWSxDQUFDLEtBQUssU0FBUztBQUM1QixRQUFJLElBQUksTUFBTSxJQUFJO0FBQ2xCLFdBQU87QUFBQSxFQUNYO0FBRUEsT0FBSyxRQUFRLENBQUMsTUFBTSxXQUFpQkMsT0FBTSxNQUFNLE1BQU0sUUFBUSxFQUFFLFFBQVEsS0FBSyxNQUFNLENBQUM7QUFDckYsT0FBSyxZQUFZLENBQUMsTUFBTSxXQUFpQkMsV0FBVSxNQUFNLE1BQU0sTUFBTTtBQUNyRSxPQUFLLGFBQWEsT0FBTyxNQUFNLFdBQWlCQyxZQUFXLE1BQU0sTUFBTSxRQUFRLEVBQUUsUUFBUSxLQUFLLFdBQVcsQ0FBQztBQUMxRyxPQUFLLGlCQUFpQixPQUFPLE1BQU0sV0FBaUJDLGdCQUFlLE1BQU0sTUFBTSxNQUFNO0FBQ3JGLE9BQUssTUFBTSxLQUFLO0FBRWhCLE9BQUssU0FBUyxDQUFDLE1BQU0sV0FBaUJDLFFBQU8sTUFBTSxNQUFNLE1BQU07QUFDL0QsT0FBSyxTQUFTLENBQUMsTUFBTSxXQUFpQkMsUUFBTyxNQUFNLE1BQU0sTUFBTTtBQUMvRCxPQUFLLGNBQWMsT0FBTyxNQUFNLFdBQWlCQyxhQUFZLE1BQU0sTUFBTSxNQUFNO0FBQy9FLE9BQUssY0FBYyxPQUFPLE1BQU0sV0FBaUJDLGFBQVksTUFBTSxNQUFNLE1BQU07QUFDL0UsT0FBSyxhQUFhLENBQUMsTUFBTSxXQUFpQkMsWUFBVyxNQUFNLE1BQU0sTUFBTTtBQUN2RSxPQUFLLGFBQWEsQ0FBQyxNQUFNLFdBQWlCQyxZQUFXLE1BQU0sTUFBTSxNQUFNO0FBQ3ZFLE9BQUssa0JBQWtCLE9BQU8sTUFBTSxXQUFpQkMsaUJBQWdCLE1BQU0sTUFBTSxNQUFNO0FBQ3ZGLE9BQUssa0JBQWtCLE9BQU8sTUFBTSxXQUFpQkMsaUJBQWdCLE1BQU0sTUFBTSxNQUFNO0FBRXZGLE9BQUssU0FBUyxDQUFDQyxRQUFPLFdBQVcsS0FBSyxNQUFNLE9BQU9BLFFBQU8sTUFBTSxDQUFDO0FBQ2pFLE9BQUssY0FBYyxDQUFDLGVBQWUsS0FBSyxNQUFNLFlBQVksVUFBVSxDQUFDO0FBQ3JFLE9BQUssWUFBWSxDQUFDLE9BQU8sS0FBSyxNQUFhLFdBQVUsRUFBRSxDQUFDO0FBRXhELE9BQUssV0FBVyxNQUFNLFNBQVMsSUFBSTtBQUNuQyxPQUFLLFdBQVcsTUFBTSxTQUFTLElBQUk7QUFDbkMsT0FBSyxVQUFVLE1BQU0sU0FBUyxTQUFTLElBQUksQ0FBQztBQUM1QyxPQUFLLGNBQWMsQ0FBQyxXQUFXLFlBQVksTUFBTSxNQUFNO0FBQ3ZELE9BQUssUUFBUSxNQUFNLE1BQU0sSUFBSTtBQUM3QixPQUFLLEtBQUssQ0FBQyxRQUFRLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQztBQUNwQyxPQUFLLE1BQU0sQ0FBQyxRQUFRLGFBQWEsTUFBTSxHQUFHO0FBQzFDLE9BQUssWUFBWSxDQUFDLE9BQU8sS0FBSyxNQUFNLFVBQVUsRUFBRSxDQUFDO0FBQ2pELE9BQUssVUFBVSxDQUFDYixTQUFRYyxVQUFTLE1BQU1kLElBQUc7QUFDMUMsT0FBSyxXQUFXLENBQUNBLFNBQVEsU0FBUyxNQUFNQSxJQUFHO0FBRTNDLE9BQUssUUFBUSxDQUFDLFdBQVdlLFFBQU8sTUFBTSxNQUFNO0FBQzVDLE9BQUssT0FBTyxDQUFDLFdBQVcsS0FBSyxNQUFNLE1BQU07QUFDekMsT0FBSyxXQUFXLE1BQU0sU0FBUyxJQUFJO0FBRW5DLE9BQUssV0FBVyxDQUFDLGdCQUFnQjtBQUM3QixVQUFNLEtBQUssS0FBSyxNQUFNO0FBQ3RCLElBQUssZUFBZSxJQUFJLElBQUksRUFBRSxZQUFZLENBQUM7QUFDM0MsV0FBTztBQUFBLEVBQ1g7QUFDQSxTQUFPLGVBQWUsTUFBTSxlQUFlO0FBQUEsSUFDdkMsTUFBTTtBQUNGLGFBQVksZUFBZSxJQUFJLElBQUksR0FBRztBQUFBLElBQzFDO0FBQUEsSUFDQSxjQUFjO0FBQUEsRUFDbEIsQ0FBQztBQUNELE9BQUssT0FBTyxJQUFJLFNBQVM7QUFDckIsUUFBSSxLQUFLLFdBQVcsR0FBRztBQUNuQixhQUFZLGVBQWUsSUFBSSxJQUFJO0FBQUEsSUFDdkM7QUFDQSxVQUFNLEtBQUssS0FBSyxNQUFNO0FBQ3RCLElBQUssZUFBZSxJQUFJLElBQUksS0FBSyxDQUFDLENBQUM7QUFDbkMsV0FBTztBQUFBLEVBQ1g7QUFFQSxPQUFLLGFBQWEsTUFBTSxLQUFLLFVBQVUsTUFBUyxFQUFFO0FBQ2xELE9BQUssYUFBYSxNQUFNLEtBQUssVUFBVSxJQUFJLEVBQUU7QUFDN0MsU0FBTztBQUNYLENBQUM7QUFFTSxJQUFNLGFBQTJCLGdCQUFLLGFBQWEsY0FBYyxDQUFDLE1BQU0sUUFBUTtBQUNuRixFQUFLLFdBQVcsS0FBSyxNQUFNLEdBQUc7QUFDOUIsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixRQUFNLE1BQU0sS0FBSyxLQUFLO0FBQ3RCLE9BQUssU0FBUyxJQUFJLFVBQVU7QUFDNUIsT0FBSyxZQUFZLElBQUksV0FBVztBQUNoQyxPQUFLLFlBQVksSUFBSSxXQUFXO0FBRWhDLE9BQUssUUFBUSxJQUFJLFNBQVMsS0FBSyxNQUFhLE9BQU0sR0FBRyxJQUFJLENBQUM7QUFDMUQsT0FBSyxXQUFXLElBQUksU0FBUyxLQUFLLE1BQWEsVUFBUyxHQUFHLElBQUksQ0FBQztBQUNoRSxPQUFLLGFBQWEsSUFBSSxTQUFTLEtBQUssTUFBYSxZQUFXLEdBQUcsSUFBSSxDQUFDO0FBQ3BFLE9BQUssV0FBVyxJQUFJLFNBQVMsS0FBSyxNQUFhLFVBQVMsR0FBRyxJQUFJLENBQUM7QUFDaEUsT0FBSyxNQUFNLElBQUksU0FBUyxLQUFLLE1BQWEsV0FBVSxHQUFHLElBQUksQ0FBQztBQUM1RCxPQUFLLE1BQU0sSUFBSSxTQUFTLEtBQUssTUFBYSxXQUFVLEdBQUcsSUFBSSxDQUFDO0FBQzVELE9BQUssU0FBUyxJQUFJLFNBQVMsS0FBSyxNQUFhLFFBQU8sR0FBRyxJQUFJLENBQUM7QUFDNUQsT0FBSyxXQUFXLElBQUksU0FBUyxLQUFLLE1BQWEsV0FBVSxHQUFHLEdBQUcsSUFBSSxDQUFDO0FBQ3BFLE9BQUssWUFBWSxDQUFDLFdBQVcsS0FBSyxNQUFhLFdBQVUsTUFBTSxDQUFDO0FBQ2hFLE9BQUssWUFBWSxDQUFDLFdBQVcsS0FBSyxNQUFhLFdBQVUsTUFBTSxDQUFDO0FBRWhFLE9BQUssT0FBTyxNQUFNLEtBQUssTUFBYSxNQUFLLENBQUM7QUFDMUMsT0FBSyxZQUFZLElBQUksU0FBUyxLQUFLLE1BQWEsV0FBVSxHQUFHLElBQUksQ0FBQztBQUNsRSxPQUFLLGNBQWMsTUFBTSxLQUFLLE1BQWEsYUFBWSxDQUFDO0FBQ3hELE9BQUssY0FBYyxNQUFNLEtBQUssTUFBYSxhQUFZLENBQUM7QUFDNUQsQ0FBQztBQUNNLElBQU0sWUFBMEIsZ0JBQUssYUFBYSxhQUFhLENBQUMsTUFBTSxRQUFRO0FBQ2pGLEVBQUssV0FBVyxLQUFLLE1BQU0sR0FBRztBQUM5QixhQUFXLEtBQUssTUFBTSxHQUFHO0FBQ3pCLE9BQUssUUFBUSxDQUFDLFdBQVcsS0FBSyxNQUFXLE9BQU8sVUFBVSxNQUFNLENBQUM7QUFDakUsT0FBSyxNQUFNLENBQUMsV0FBVyxLQUFLLE1BQVcsS0FBSyxRQUFRLE1BQU0sQ0FBQztBQUMzRCxPQUFLLE1BQU0sQ0FBQyxXQUFXLEtBQUssTUFBVyxLQUFLLFFBQVEsTUFBTSxDQUFDO0FBQzNELE9BQUssUUFBUSxDQUFDLFdBQVcsS0FBSyxNQUFXQyxRQUFPLFVBQVUsTUFBTSxDQUFDO0FBQ2pFLE9BQUssT0FBTyxDQUFDLFdBQVcsS0FBSyxNQUFXLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFDOUQsT0FBSyxPQUFPLENBQUMsV0FBVyxLQUFLLE1BQVcsTUFBTSxTQUFTLE1BQU0sQ0FBQztBQUM5RCxPQUFLLFNBQVMsQ0FBQyxXQUFXLEtBQUssTUFBVyxRQUFRLFNBQVMsTUFBTSxDQUFDO0FBQ2xFLE9BQUssU0FBUyxDQUFDLFdBQVcsS0FBSyxNQUFXLFFBQVEsU0FBUyxNQUFNLENBQUM7QUFDbEUsT0FBSyxTQUFTLENBQUMsV0FBVyxLQUFLLE1BQVcsUUFBUSxTQUFTLE1BQU0sQ0FBQztBQUNsRSxPQUFLLFNBQVMsQ0FBQyxXQUFXLEtBQUssTUFBVyxRQUFRLFdBQVcsTUFBTSxDQUFDO0FBQ3BFLE9BQUssT0FBTyxDQUFDLFdBQVcsS0FBSyxNQUFXLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFDOUQsT0FBSyxPQUFPLENBQUMsV0FBVyxLQUFLLE1BQVcsTUFBTSxTQUFTLE1BQU0sQ0FBQztBQUM5RCxPQUFLLFFBQVEsQ0FBQyxXQUFXLEtBQUssTUFBVyxPQUFPLFVBQVUsTUFBTSxDQUFDO0FBQ2pFLE9BQUssT0FBTyxDQUFDLFdBQVcsS0FBSyxNQUFXLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFDOUQsT0FBSyxTQUFTLENBQUMsV0FBVyxLQUFLLE1BQVcsUUFBUSxXQUFXLE1BQU0sQ0FBQztBQUNwRSxPQUFLLFlBQVksQ0FBQyxXQUFXLEtBQUssTUFBVyxXQUFXLGNBQWMsTUFBTSxDQUFDO0FBQzdFLE9BQUssTUFBTSxDQUFDLFdBQVcsS0FBSyxNQUFXLEtBQUssUUFBUSxNQUFNLENBQUM7QUFDM0QsT0FBSyxRQUFRLENBQUMsV0FBVyxLQUFLLE1BQVcsT0FBTyxVQUFVLE1BQU0sQ0FBQztBQUNqRSxPQUFLLE9BQU8sQ0FBQyxXQUFXLEtBQUssTUFBVyxNQUFNLFNBQVMsTUFBTSxDQUFDO0FBQzlELE9BQUssT0FBTyxDQUFDLFdBQVcsS0FBSyxNQUFXLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFDOUQsT0FBSyxTQUFTLENBQUMsV0FBVyxLQUFLLE1BQVcsUUFBUSxXQUFXLE1BQU0sQ0FBQztBQUNwRSxPQUFLLFNBQVMsQ0FBQyxXQUFXLEtBQUssTUFBVyxRQUFRLFdBQVcsTUFBTSxDQUFDO0FBQ3BFLE9BQUssT0FBTyxDQUFDLFdBQVcsS0FBSyxNQUFXLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFFOUQsT0FBSyxXQUFXLENBQUMsV0FBVyxLQUFLLE1BQVVDLFVBQVMsTUFBTSxDQUFDO0FBQzNELE9BQUssT0FBTyxDQUFDLFdBQVcsS0FBSyxNQUFVQyxNQUFLLE1BQU0sQ0FBQztBQUNuRCxPQUFLLE9BQU8sQ0FBQyxXQUFXLEtBQUssTUFBVUMsTUFBSyxNQUFNLENBQUM7QUFDbkQsT0FBSyxXQUFXLENBQUMsV0FBVyxLQUFLLE1BQVVDLFVBQVMsTUFBTSxDQUFDO0FBQy9ELENBQUM7QUFDTSxTQUFTQyxRQUFPLFFBQVE7QUFDM0IsU0FBWSxRQUFRLFdBQVcsTUFBTTtBQUN6QztBQUNPLElBQU0sa0JBQWdDLGdCQUFLLGFBQWEsbUJBQW1CLENBQUMsTUFBTSxRQUFRO0FBQzdGLEVBQUssaUJBQWlCLEtBQUssTUFBTSxHQUFHO0FBQ3BDLGFBQVcsS0FBSyxNQUFNLEdBQUc7QUFDN0IsQ0FBQztBQUNNLElBQU0sV0FBeUIsZ0JBQUssYUFBYSxZQUFZLENBQUMsTUFBTSxRQUFRO0FBRS9FLEVBQUssVUFBVSxLQUFLLE1BQU0sR0FBRztBQUM3QixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVNDLE9BQU0sUUFBUTtBQUMxQixTQUFZLE9BQU8sVUFBVSxNQUFNO0FBQ3ZDO0FBQ08sSUFBTSxVQUF3QixnQkFBSyxhQUFhLFdBQVcsQ0FBQyxNQUFNLFFBQVE7QUFFN0UsRUFBSyxTQUFTLEtBQUssTUFBTSxHQUFHO0FBQzVCLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBU0MsTUFBSyxRQUFRO0FBQ3pCLFNBQVksTUFBTSxTQUFTLE1BQU07QUFDckM7QUFDTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUU3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxNQUFLLFFBQVE7QUFDekIsU0FBWSxNQUFNLFNBQVMsTUFBTTtBQUNyQztBQUNPLFNBQVMsT0FBTyxRQUFRO0FBQzNCLFNBQVksUUFBUSxTQUFTLE1BQU07QUFDdkM7QUFFTyxTQUFTLE9BQU8sUUFBUTtBQUMzQixTQUFZLFFBQVEsU0FBUyxNQUFNO0FBQ3ZDO0FBRU8sU0FBUyxPQUFPLFFBQVE7QUFDM0IsU0FBWSxRQUFRLFNBQVMsTUFBTTtBQUN2QztBQUNPLElBQU0sU0FBdUIsZ0JBQUssYUFBYSxVQUFVLENBQUMsTUFBTSxRQUFRO0FBRTNFLEVBQUssUUFBUSxLQUFLLE1BQU0sR0FBRztBQUMzQixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVMsSUFBSSxRQUFRO0FBQ3hCLFNBQVksS0FBSyxRQUFRLE1BQU07QUFDbkM7QUFDTyxTQUFTLFFBQVEsUUFBUTtBQUM1QixTQUFZLEtBQUssUUFBUTtBQUFBLElBQ3JCLFVBQVU7QUFBQSxJQUNWLFVBQWUsZ0JBQVE7QUFBQSxJQUN2QixHQUFHLGFBQUssZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxJQUFNLFdBQXlCLGdCQUFLLGFBQWEsWUFBWSxDQUFDLE1BQU0sUUFBUTtBQUUvRSxFQUFLLFVBQVUsS0FBSyxNQUFNLEdBQUc7QUFDN0Isa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxPQUFNLFFBQVE7QUFDMUIsU0FBWVQsUUFBTyxVQUFVLE1BQU07QUFDdkM7QUFDTyxJQUFNLFlBQTBCLGdCQUFLLGFBQWEsYUFBYSxDQUFDLE1BQU0sUUFBUTtBQUVqRixFQUFLLFdBQVcsS0FBSyxNQUFNLEdBQUc7QUFDOUIsa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTVSxRQUFPLFFBQVE7QUFDM0IsU0FBWSxRQUFRLFdBQVcsTUFBTTtBQUN6QztBQUNPLElBQU0sVUFBd0IsZ0JBQUssYUFBYSxXQUFXLENBQUMsTUFBTSxRQUFRO0FBRTdFLEVBQUssU0FBUyxLQUFLLE1BQU0sR0FBRztBQUM1QixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVNDLE1BQUssUUFBUTtBQUN6QixTQUFZLE1BQU0sU0FBUyxNQUFNO0FBQ3JDO0FBQ08sSUFBTSxXQUF5QixnQkFBSyxhQUFhLFlBQVksQ0FBQyxNQUFNLFFBQVE7QUFFL0UsRUFBSyxVQUFVLEtBQUssTUFBTSxHQUFHO0FBQzdCLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBU0MsT0FBTSxRQUFRO0FBQzFCLFNBQVksT0FBTyxVQUFVLE1BQU07QUFDdkM7QUFDTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUU3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxNQUFLLFFBQVE7QUFDekIsU0FBWSxNQUFNLFNBQVMsTUFBTTtBQUNyQztBQUNPLElBQU0sU0FBdUIsZ0JBQUssYUFBYSxVQUFVLENBQUMsTUFBTSxRQUFRO0FBRTNFLEVBQUssUUFBUSxLQUFLLE1BQU0sR0FBRztBQUMzQixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVNDLEtBQUksUUFBUTtBQUN4QixTQUFZLEtBQUssUUFBUSxNQUFNO0FBQ25DO0FBQ08sSUFBTSxXQUF5QixnQkFBSyxhQUFhLFlBQVksQ0FBQyxNQUFNLFFBQVE7QUFFL0UsRUFBSyxVQUFVLEtBQUssTUFBTSxHQUFHO0FBQzdCLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBU0MsT0FBTSxRQUFRO0FBQzFCLFNBQVksT0FBTyxVQUFVLE1BQU07QUFDdkM7QUFDTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUU3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxNQUFLLFFBQVE7QUFDekIsU0FBWSxNQUFNLFNBQVMsTUFBTTtBQUNyQztBQUNPLElBQU0sVUFBd0IsZ0JBQUssYUFBYSxXQUFXLENBQUMsTUFBTSxRQUFRO0FBRTdFLEVBQUssU0FBUyxLQUFLLE1BQU0sR0FBRztBQUM1QixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVNDLE1BQUssUUFBUTtBQUN6QixTQUFZLE1BQU0sU0FBUyxNQUFNO0FBQ3JDO0FBQ08sSUFBTSxZQUEwQixnQkFBSyxhQUFhLGFBQWEsQ0FBQyxNQUFNLFFBQVE7QUFDakYsRUFBSyxXQUFXLEtBQUssTUFBTSxHQUFHO0FBQzlCLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBU0MsUUFBTyxRQUFRO0FBQzNCLFNBQVksUUFBUSxXQUFXLE1BQU07QUFDekM7QUFDTyxJQUFNLFlBQTBCLGdCQUFLLGFBQWEsYUFBYSxDQUFDLE1BQU0sUUFBUTtBQUNqRixFQUFLLFdBQVcsS0FBSyxNQUFNLEdBQUc7QUFDOUIsa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxRQUFPLFFBQVE7QUFDM0IsU0FBWSxRQUFRLFdBQVcsTUFBTTtBQUN6QztBQUNPLElBQU0sWUFBMEIsZ0JBQUssYUFBYSxhQUFhLENBQUMsTUFBTSxRQUFRO0FBRWpGLEVBQUssV0FBVyxLQUFLLE1BQU0sR0FBRztBQUM5QixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVNDLFFBQU8sUUFBUTtBQUMzQixTQUFZLFFBQVEsV0FBVyxNQUFNO0FBQ3pDO0FBQ08sSUFBTSxlQUE2QixnQkFBSyxhQUFhLGdCQUFnQixDQUFDLE1BQU0sUUFBUTtBQUV2RixFQUFLLGNBQWMsS0FBSyxNQUFNLEdBQUc7QUFDakMsa0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ2xDLENBQUM7QUFDTSxTQUFTQyxXQUFVLFFBQVE7QUFDOUIsU0FBWSxXQUFXLGNBQWMsTUFBTTtBQUMvQztBQUNPLElBQU0sVUFBd0IsZ0JBQUssYUFBYSxXQUFXLENBQUMsTUFBTSxRQUFRO0FBRTdFLEVBQUssU0FBUyxLQUFLLE1BQU0sR0FBRztBQUM1QixrQkFBZ0IsS0FBSyxNQUFNLEdBQUc7QUFDbEMsQ0FBQztBQUNNLFNBQVNDLE1BQUssUUFBUTtBQUN6QixTQUFZLE1BQU0sU0FBUyxNQUFNO0FBQ3JDO0FBQ08sSUFBTSxTQUF1QixnQkFBSyxhQUFhLFVBQVUsQ0FBQyxNQUFNLFFBQVE7QUFFM0UsRUFBSyxRQUFRLEtBQUssTUFBTSxHQUFHO0FBQzNCLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBUyxJQUFJLFFBQVE7QUFDeEIsU0FBWSxLQUFLLFFBQVEsTUFBTTtBQUNuQztBQUNPLElBQU0sd0JBQXNDLGdCQUFLLGFBQWEseUJBQXlCLENBQUMsTUFBTSxRQUFRO0FBRXpHLEVBQUssdUJBQXVCLEtBQUssTUFBTSxHQUFHO0FBQzFDLGtCQUFnQixLQUFLLE1BQU0sR0FBRztBQUNsQyxDQUFDO0FBQ00sU0FBUyxhQUFhLFFBQVEsV0FBVyxVQUFVLENBQUMsR0FBRztBQUMxRCxTQUFZLGNBQWMsdUJBQXVCLFFBQVEsV0FBVyxPQUFPO0FBQy9FO0FBQ08sU0FBU0MsVUFBUyxTQUFTO0FBQzlCLFNBQVksY0FBYyx1QkFBdUIsWUFBaUIsZ0JBQVEsVUFBVSxPQUFPO0FBQy9GO0FBQ08sU0FBU0MsS0FBSSxTQUFTO0FBQ3pCLFNBQVksY0FBYyx1QkFBdUIsT0FBWSxnQkFBUSxLQUFLLE9BQU87QUFDckY7QUFDTyxTQUFTLEtBQUssS0FBSyxRQUFRO0FBQzlCLFFBQU0sTUFBTSxRQUFRLE9BQU87QUFDM0IsUUFBTSxTQUFTLEdBQUcsR0FBRyxJQUFJLEdBQUc7QUFDNUIsUUFBTSxRQUFhLGdCQUFRLE1BQU07QUFDakMsTUFBSSxDQUFDO0FBQ0QsVUFBTSxJQUFJLE1BQU0sNkJBQTZCLE1BQU0sRUFBRTtBQUN6RCxTQUFZLGNBQWMsdUJBQXVCLFFBQVEsT0FBTyxNQUFNO0FBQzFFO0FBQ08sSUFBTSxZQUEwQixnQkFBSyxhQUFhLGFBQWEsQ0FBQyxNQUFNLFFBQVE7QUFDakYsRUFBSyxXQUFXLEtBQUssTUFBTSxHQUFHO0FBQzlCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxLQUFLLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxJQUFHLE9BQU8sTUFBTSxDQUFDO0FBQ2hFLE9BQUssTUFBTSxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsS0FBSSxPQUFPLE1BQU0sQ0FBQztBQUNsRSxPQUFLLE1BQU0sQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLEtBQUksT0FBTyxNQUFNLENBQUM7QUFDbEUsT0FBSyxLQUFLLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxJQUFHLE9BQU8sTUFBTSxDQUFDO0FBQ2hFLE9BQUssTUFBTSxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsS0FBSSxPQUFPLE1BQU0sQ0FBQztBQUNsRSxPQUFLLE1BQU0sQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLEtBQUksT0FBTyxNQUFNLENBQUM7QUFDbEUsT0FBSyxNQUFNLENBQUMsV0FBVyxLQUFLLE1BQU0sSUFBSSxNQUFNLENBQUM7QUFDN0MsT0FBSyxPQUFPLENBQUMsV0FBVyxLQUFLLE1BQU0sSUFBSSxNQUFNLENBQUM7QUFDOUMsT0FBSyxXQUFXLENBQUMsV0FBVyxLQUFLLE1BQWEsSUFBRyxHQUFHLE1BQU0sQ0FBQztBQUMzRCxPQUFLLGNBQWMsQ0FBQyxXQUFXLEtBQUssTUFBYSxLQUFJLEdBQUcsTUFBTSxDQUFDO0FBQy9ELE9BQUssV0FBVyxDQUFDLFdBQVcsS0FBSyxNQUFhLElBQUcsR0FBRyxNQUFNLENBQUM7QUFDM0QsT0FBSyxjQUFjLENBQUMsV0FBVyxLQUFLLE1BQWEsS0FBSSxHQUFHLE1BQU0sQ0FBQztBQUMvRCxPQUFLLGFBQWEsQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLFlBQVcsT0FBTyxNQUFNLENBQUM7QUFDaEYsT0FBSyxPQUFPLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxZQUFXLE9BQU8sTUFBTSxDQUFDO0FBRTFFLE9BQUssU0FBUyxNQUFNO0FBQ3BCLFFBQU0sTUFBTSxLQUFLLEtBQUs7QUFDdEIsT0FBSyxXQUNELEtBQUssSUFBSSxJQUFJLFdBQVcsT0FBTyxtQkFBbUIsSUFBSSxvQkFBb0IsT0FBTyxpQkFBaUIsS0FBSztBQUMzRyxPQUFLLFdBQ0QsS0FBSyxJQUFJLElBQUksV0FBVyxPQUFPLG1CQUFtQixJQUFJLG9CQUFvQixPQUFPLGlCQUFpQixLQUFLO0FBQzNHLE9BQUssU0FBUyxJQUFJLFVBQVUsSUFBSSxTQUFTLEtBQUssS0FBSyxPQUFPLGNBQWMsSUFBSSxjQUFjLEdBQUc7QUFDN0YsT0FBSyxXQUFXO0FBQ2hCLE9BQUssU0FBUyxJQUFJLFVBQVU7QUFDaEMsQ0FBQztBQUNNLFNBQVNDLFFBQU8sUUFBUTtBQUMzQixTQUFZLFFBQVEsV0FBVyxNQUFNO0FBQ3pDO0FBQ08sSUFBTSxrQkFBZ0MsZ0JBQUssYUFBYSxtQkFBbUIsQ0FBQyxNQUFNLFFBQVE7QUFDN0YsRUFBSyxpQkFBaUIsS0FBSyxNQUFNLEdBQUc7QUFDcEMsWUFBVSxLQUFLLE1BQU0sR0FBRztBQUM1QixDQUFDO0FBQ00sU0FBUyxJQUFJLFFBQVE7QUFDeEIsU0FBWSxLQUFLLGlCQUFpQixNQUFNO0FBQzVDO0FBQ08sU0FBUyxRQUFRLFFBQVE7QUFDNUIsU0FBWSxTQUFTLGlCQUFpQixNQUFNO0FBQ2hEO0FBQ08sU0FBUyxRQUFRLFFBQVE7QUFDNUIsU0FBWSxTQUFTLGlCQUFpQixNQUFNO0FBQ2hEO0FBQ08sU0FBUyxNQUFNLFFBQVE7QUFDMUIsU0FBWSxPQUFPLGlCQUFpQixNQUFNO0FBQzlDO0FBQ08sU0FBUyxPQUFPLFFBQVE7QUFDM0IsU0FBWSxRQUFRLGlCQUFpQixNQUFNO0FBQy9DO0FBQ08sSUFBTSxhQUEyQixnQkFBSyxhQUFhLGNBQWMsQ0FBQyxNQUFNLFFBQVE7QUFDbkYsRUFBSyxZQUFZLEtBQUssTUFBTSxHQUFHO0FBQy9CLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDMUIsQ0FBQztBQUNNLFNBQVNDLFNBQVEsUUFBUTtBQUM1QixTQUFZLFNBQVMsWUFBWSxNQUFNO0FBQzNDO0FBQ08sSUFBTSxZQUEwQixnQkFBSyxhQUFhLGFBQWEsQ0FBQyxNQUFNLFFBQVE7QUFDakYsRUFBSyxXQUFXLEtBQUssTUFBTSxHQUFHO0FBQzlCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxNQUFNLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxLQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xFLE9BQUssTUFBTSxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsS0FBSSxPQUFPLE1BQU0sQ0FBQztBQUNsRSxPQUFLLEtBQUssQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLElBQUcsT0FBTyxNQUFNLENBQUM7QUFDaEUsT0FBSyxNQUFNLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxLQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xFLE9BQUssTUFBTSxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsS0FBSSxPQUFPLE1BQU0sQ0FBQztBQUNsRSxPQUFLLEtBQUssQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLElBQUcsT0FBTyxNQUFNLENBQUM7QUFDaEUsT0FBSyxNQUFNLENBQUMsT0FBTyxXQUFXLEtBQUssTUFBYSxLQUFJLE9BQU8sTUFBTSxDQUFDO0FBQ2xFLE9BQUssTUFBTSxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsS0FBSSxPQUFPLE1BQU0sQ0FBQztBQUNsRSxPQUFLLFdBQVcsQ0FBQyxXQUFXLEtBQUssTUFBYSxJQUFHLE9BQU8sQ0FBQyxHQUFHLE1BQU0sQ0FBQztBQUNuRSxPQUFLLFdBQVcsQ0FBQyxXQUFXLEtBQUssTUFBYSxJQUFHLE9BQU8sQ0FBQyxHQUFHLE1BQU0sQ0FBQztBQUNuRSxPQUFLLGNBQWMsQ0FBQyxXQUFXLEtBQUssTUFBYSxLQUFJLE9BQU8sQ0FBQyxHQUFHLE1BQU0sQ0FBQztBQUN2RSxPQUFLLGNBQWMsQ0FBQyxXQUFXLEtBQUssTUFBYSxLQUFJLE9BQU8sQ0FBQyxHQUFHLE1BQU0sQ0FBQztBQUN2RSxPQUFLLGFBQWEsQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLFlBQVcsT0FBTyxNQUFNLENBQUM7QUFDaEYsUUFBTSxNQUFNLEtBQUssS0FBSztBQUN0QixPQUFLLFdBQVcsSUFBSSxXQUFXO0FBQy9CLE9BQUssV0FBVyxJQUFJLFdBQVc7QUFDL0IsT0FBSyxTQUFTLElBQUksVUFBVTtBQUNoQyxDQUFDO0FBQ00sU0FBU0MsUUFBTyxRQUFRO0FBQzNCLFNBQVksUUFBUSxXQUFXLE1BQU07QUFDekM7QUFDTyxJQUFNLGtCQUFnQyxnQkFBSyxhQUFhLG1CQUFtQixDQUFDLE1BQU0sUUFBUTtBQUM3RixFQUFLLGlCQUFpQixLQUFLLE1BQU0sR0FBRztBQUNwQyxZQUFVLEtBQUssTUFBTSxHQUFHO0FBQzVCLENBQUM7QUFFTSxTQUFTLE1BQU0sUUFBUTtBQUMxQixTQUFZLE9BQU8saUJBQWlCLE1BQU07QUFDOUM7QUFFTyxTQUFTLE9BQU8sUUFBUTtBQUMzQixTQUFZLFFBQVEsaUJBQWlCLE1BQU07QUFDL0M7QUFDTyxJQUFNLFlBQTBCLGdCQUFLLGFBQWEsYUFBYSxDQUFDLE1BQU0sUUFBUTtBQUNqRixFQUFLLFdBQVcsS0FBSyxNQUFNLEdBQUc7QUFDOUIsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUMxQixDQUFDO0FBQ00sU0FBU0MsU0FBTyxRQUFRO0FBQzNCLFNBQVksUUFBUSxXQUFXLE1BQU07QUFDekM7QUFDTyxJQUFNLGVBQTZCLGdCQUFLLGFBQWEsZ0JBQWdCLENBQUMsTUFBTSxRQUFRO0FBQ3ZGLEVBQUssY0FBYyxLQUFLLE1BQU0sR0FBRztBQUNqQyxVQUFRLEtBQUssTUFBTSxHQUFHO0FBQzFCLENBQUM7QUFDRCxTQUFTQyxZQUFXLFFBQVE7QUFDeEIsU0FBWUEsWUFBVyxjQUFjLE1BQU07QUFDL0M7QUFFTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUM3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUMxQixDQUFDO0FBQ0QsU0FBU0MsT0FBTSxRQUFRO0FBQ25CLFNBQVlBLE9BQU0sU0FBUyxNQUFNO0FBQ3JDO0FBRU8sSUFBTSxTQUF1QixnQkFBSyxhQUFhLFVBQVUsQ0FBQyxNQUFNLFFBQVE7QUFDM0UsRUFBSyxRQUFRLEtBQUssTUFBTSxHQUFHO0FBQzNCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDMUIsQ0FBQztBQUNNLFNBQVMsTUFBTTtBQUNsQixTQUFZLEtBQUssTUFBTTtBQUMzQjtBQUNPLElBQU0sYUFBMkIsZ0JBQUssYUFBYSxjQUFjLENBQUMsTUFBTSxRQUFRO0FBQ25GLEVBQUssWUFBWSxLQUFLLE1BQU0sR0FBRztBQUMvQixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQzFCLENBQUM7QUFDTSxTQUFTLFVBQVU7QUFDdEIsU0FBWSxTQUFTLFVBQVU7QUFDbkM7QUFDTyxJQUFNLFdBQXlCLGdCQUFLLGFBQWEsWUFBWSxDQUFDLE1BQU0sUUFBUTtBQUMvRSxFQUFLLFVBQVUsS0FBSyxNQUFNLEdBQUc7QUFDN0IsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUMxQixDQUFDO0FBQ00sU0FBUyxNQUFNLFFBQVE7QUFDMUIsU0FBWSxPQUFPLFVBQVUsTUFBTTtBQUN2QztBQUNPLElBQU0sVUFBd0IsZ0JBQUssYUFBYSxXQUFXLENBQUMsTUFBTSxRQUFRO0FBQzdFLEVBQUssU0FBUyxLQUFLLE1BQU0sR0FBRztBQUM1QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQzFCLENBQUM7QUFDRCxTQUFTQyxPQUFNLFFBQVE7QUFDbkIsU0FBWSxNQUFNLFNBQVMsTUFBTTtBQUNyQztBQUVPLElBQU0sVUFBd0IsZ0JBQUssYUFBYSxXQUFXLENBQUMsTUFBTSxRQUFRO0FBQzdFLEVBQUssU0FBUyxLQUFLLE1BQU0sR0FBRztBQUM1QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssTUFBTSxDQUFDLE9BQU8sV0FBVyxLQUFLLE1BQWEsS0FBSSxPQUFPLE1BQU0sQ0FBQztBQUNsRSxPQUFLLE1BQU0sQ0FBQyxPQUFPLFdBQVcsS0FBSyxNQUFhLEtBQUksT0FBTyxNQUFNLENBQUM7QUFDbEUsUUFBTUMsS0FBSSxLQUFLLEtBQUs7QUFDcEIsT0FBSyxVQUFVQSxHQUFFLFVBQVUsSUFBSSxLQUFLQSxHQUFFLE9BQU8sSUFBSTtBQUNqRCxPQUFLLFVBQVVBLEdBQUUsVUFBVSxJQUFJLEtBQUtBLEdBQUUsT0FBTyxJQUFJO0FBQ3JELENBQUM7QUFDTSxTQUFTQyxNQUFLLFFBQVE7QUFDekIsU0FBWSxNQUFNLFNBQVMsTUFBTTtBQUNyQztBQUNPLElBQU0sV0FBeUIsZ0JBQUssYUFBYSxZQUFZLENBQUMsTUFBTSxRQUFRO0FBQy9FLEVBQUssVUFBVSxLQUFLLE1BQU0sR0FBRztBQUM3QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssVUFBVSxJQUFJO0FBQ25CLE9BQUssTUFBTSxDQUFDLFdBQVcsV0FBVyxLQUFLLE1BQWEsV0FBVSxXQUFXLE1BQU0sQ0FBQztBQUNoRixPQUFLLFdBQVcsQ0FBQyxXQUFXLEtBQUssTUFBYSxXQUFVLEdBQUcsTUFBTSxDQUFDO0FBQ2xFLE9BQUssTUFBTSxDQUFDLFdBQVcsV0FBVyxLQUFLLE1BQWEsV0FBVSxXQUFXLE1BQU0sQ0FBQztBQUNoRixPQUFLLFNBQVMsQ0FBQyxLQUFLLFdBQVcsS0FBSyxNQUFhLFFBQU8sS0FBSyxNQUFNLENBQUM7QUFDcEUsT0FBSyxTQUFTLE1BQU0sS0FBSztBQUM3QixDQUFDO0FBQ00sU0FBUyxNQUFNLFNBQVMsUUFBUTtBQUNuQyxTQUFZLE9BQU8sVUFBVSxTQUFTLE1BQU07QUFDaEQ7QUFFTyxTQUFTLE1BQU0sUUFBUTtBQUMxQixRQUFNLFFBQVEsT0FBTyxLQUFLLElBQUk7QUFDOUIsU0FBT0MsT0FBTSxPQUFPLEtBQUssS0FBSyxDQUFDO0FBQ25DO0FBQ08sSUFBTSxZQUEwQixnQkFBSyxhQUFhLGFBQWEsQ0FBQyxNQUFNLFFBQVE7QUFDakYsRUFBSyxjQUFjLEtBQUssTUFBTSxHQUFHO0FBQ2pDLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsZUFBSyxXQUFXLE1BQU0sU0FBUyxNQUFNLElBQUksS0FBSztBQUM5QyxPQUFLLFFBQVEsTUFBTUEsT0FBTSxPQUFPLEtBQUssS0FBSyxLQUFLLElBQUksS0FBSyxDQUFDO0FBQ3pELE9BQUssV0FBVyxDQUFDLGFBQWEsS0FBSyxNQUFNLEVBQUUsR0FBRyxLQUFLLEtBQUssS0FBSyxTQUFtQixDQUFDO0FBQ2pGLE9BQUssY0FBYyxNQUFNLEtBQUssTUFBTSxFQUFFLEdBQUcsS0FBSyxLQUFLLEtBQUssVUFBVSxRQUFRLEVBQUUsQ0FBQztBQUM3RSxPQUFLLFFBQVEsTUFBTSxLQUFLLE1BQU0sRUFBRSxHQUFHLEtBQUssS0FBSyxLQUFLLFVBQVUsUUFBUSxFQUFFLENBQUM7QUFDdkUsT0FBSyxTQUFTLE1BQU0sS0FBSyxNQUFNLEVBQUUsR0FBRyxLQUFLLEtBQUssS0FBSyxVQUFVLE1BQU0sRUFBRSxDQUFDO0FBQ3RFLE9BQUssUUFBUSxNQUFNLEtBQUssTUFBTSxFQUFFLEdBQUcsS0FBSyxLQUFLLEtBQUssVUFBVSxPQUFVLENBQUM7QUFDdkUsT0FBSyxTQUFTLENBQUMsYUFBYTtBQUN4QixXQUFPLGFBQUssT0FBTyxNQUFNLFFBQVE7QUFBQSxFQUNyQztBQUNBLE9BQUssYUFBYSxDQUFDLGFBQWE7QUFDNUIsV0FBTyxhQUFLLFdBQVcsTUFBTSxRQUFRO0FBQUEsRUFDekM7QUFDQSxPQUFLLFFBQVEsQ0FBQyxVQUFVLGFBQUssTUFBTSxNQUFNLEtBQUs7QUFDOUMsT0FBSyxPQUFPLENBQUMsU0FBUyxhQUFLLEtBQUssTUFBTSxJQUFJO0FBQzFDLE9BQUssT0FBTyxDQUFDLFNBQVMsYUFBSyxLQUFLLE1BQU0sSUFBSTtBQUMxQyxPQUFLLFVBQVUsSUFBSSxTQUFTLGFBQUssUUFBUSxhQUFhLE1BQU0sS0FBSyxDQUFDLENBQUM7QUFDbkUsT0FBSyxXQUFXLElBQUksU0FBUyxhQUFLLFNBQVMsZ0JBQWdCLE1BQU0sS0FBSyxDQUFDLENBQUM7QUFDNUUsQ0FBQztBQUNNLFNBQVMsT0FBTyxPQUFPLFFBQVE7QUFDbEMsUUFBTSxNQUFNO0FBQUEsSUFDUixNQUFNO0FBQUEsSUFDTixJQUFJLFFBQVE7QUFDUixtQkFBSyxXQUFXLE1BQU0sU0FBUyxRQUFRLGFBQUssWUFBWSxLQUFLLElBQUksQ0FBQyxDQUFDO0FBQ25FLGFBQU8sS0FBSztBQUFBLElBQ2hCO0FBQUEsSUFDQSxHQUFHLGFBQUssZ0JBQWdCLE1BQU07QUFBQSxFQUNsQztBQUNBLFNBQU8sSUFBSSxVQUFVLEdBQUc7QUFDNUI7QUFFTyxTQUFTLGFBQWEsT0FBTyxRQUFRO0FBQ3hDLFNBQU8sSUFBSSxVQUFVO0FBQUEsSUFDakIsTUFBTTtBQUFBLElBQ04sSUFBSSxRQUFRO0FBQ1IsbUJBQUssV0FBVyxNQUFNLFNBQVMsYUFBSyxZQUFZLEtBQUssQ0FBQztBQUN0RCxhQUFPLEtBQUs7QUFBQSxJQUNoQjtBQUFBLElBQ0EsVUFBVSxNQUFNO0FBQUEsSUFDaEIsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBRU8sU0FBUyxZQUFZLE9BQU8sUUFBUTtBQUN2QyxTQUFPLElBQUksVUFBVTtBQUFBLElBQ2pCLE1BQU07QUFBQSxJQUNOLElBQUksUUFBUTtBQUNSLG1CQUFLLFdBQVcsTUFBTSxTQUFTLGFBQUssWUFBWSxLQUFLLENBQUM7QUFDdEQsYUFBTyxLQUFLO0FBQUEsSUFDaEI7QUFBQSxJQUNBLFVBQVUsUUFBUTtBQUFBLElBQ2xCLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLElBQU0sV0FBeUIsZ0JBQUssYUFBYSxZQUFZLENBQUMsTUFBTSxRQUFRO0FBQy9FLEVBQUssVUFBVSxLQUFLLE1BQU0sR0FBRztBQUM3QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssVUFBVSxJQUFJO0FBQ3ZCLENBQUM7QUFDTSxTQUFTLE1BQU0sU0FBUyxRQUFRO0FBQ25DLFNBQU8sSUFBSSxTQUFTO0FBQUEsSUFDaEIsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLElBQU0sd0JBQXNDLGdCQUFLLGFBQWEseUJBQXlCLENBQUMsTUFBTSxRQUFRO0FBQ3pHLFdBQVMsS0FBSyxNQUFNLEdBQUc7QUFDdkIsRUFBSyx1QkFBdUIsS0FBSyxNQUFNLEdBQUc7QUFDOUMsQ0FBQztBQUNNLFNBQVMsbUJBQW1CLGVBQWUsU0FBUyxRQUFRO0FBRS9ELFNBQU8sSUFBSSxzQkFBc0I7QUFBQSxJQUM3QixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0E7QUFBQSxJQUNBLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLElBQU0sa0JBQWdDLGdCQUFLLGFBQWEsbUJBQW1CLENBQUMsTUFBTSxRQUFRO0FBQzdGLEVBQUssaUJBQWlCLEtBQUssTUFBTSxHQUFHO0FBQ3BDLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDMUIsQ0FBQztBQUNNLFNBQVMsYUFBYSxNQUFNLE9BQU87QUFDdEMsU0FBTyxJQUFJLGdCQUFnQjtBQUFBLElBQ3ZCLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQTtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBQ08sSUFBTSxXQUF5QixnQkFBSyxhQUFhLFlBQVksQ0FBQyxNQUFNLFFBQVE7QUFDL0UsRUFBSyxVQUFVLEtBQUssTUFBTSxHQUFHO0FBQzdCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxPQUFPLENBQUMsU0FBUyxLQUFLLE1BQU07QUFBQSxJQUM3QixHQUFHLEtBQUssS0FBSztBQUFBLElBQ2I7QUFBQSxFQUNKLENBQUM7QUFDTCxDQUFDO0FBQ00sU0FBUyxNQUFNLE9BQU8sZUFBZSxTQUFTO0FBQ2pELFFBQU0sVUFBVSx5QkFBOEI7QUFDOUMsUUFBTSxTQUFTLFVBQVUsVUFBVTtBQUNuQyxRQUFNLE9BQU8sVUFBVSxnQkFBZ0I7QUFDdkMsU0FBTyxJQUFJLFNBQVM7QUFBQSxJQUNoQixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0E7QUFBQSxJQUNBLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLElBQU0sWUFBMEIsZ0JBQUssYUFBYSxhQUFhLENBQUMsTUFBTSxRQUFRO0FBQ2pGLEVBQUssV0FBVyxLQUFLLE1BQU0sR0FBRztBQUM5QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssVUFBVSxJQUFJO0FBQ25CLE9BQUssWUFBWSxJQUFJO0FBQ3pCLENBQUM7QUFDTSxTQUFTLE9BQU8sU0FBUyxXQUFXLFFBQVE7QUFDL0MsU0FBTyxJQUFJLFVBQVU7QUFBQSxJQUNqQixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0E7QUFBQSxJQUNBLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUVPLFNBQVMsY0FBYyxTQUFTLFdBQVcsUUFBUTtBQUN0RCxRQUFNLElBQVMsTUFBTSxPQUFPO0FBQzVCLElBQUUsS0FBSyxTQUFTO0FBQ2hCLFNBQU8sSUFBSSxVQUFVO0FBQUEsSUFDakIsTUFBTTtBQUFBLElBQ04sU0FBUztBQUFBLElBQ1Q7QUFBQSxJQUNBLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLElBQU0sU0FBdUIsZ0JBQUssYUFBYSxVQUFVLENBQUMsTUFBTSxRQUFRO0FBQzNFLEVBQUssUUFBUSxLQUFLLE1BQU0sR0FBRztBQUMzQixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssVUFBVSxJQUFJO0FBQ25CLE9BQUssWUFBWSxJQUFJO0FBQ3pCLENBQUM7QUFDTSxTQUFTLElBQUksU0FBUyxXQUFXLFFBQVE7QUFDNUMsU0FBTyxJQUFJLE9BQU87QUFBQSxJQUNkLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQTtBQUFBLElBQ0EsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sSUFBTSxTQUF1QixnQkFBSyxhQUFhLFVBQVUsQ0FBQyxNQUFNLFFBQVE7QUFDM0UsRUFBSyxRQUFRLEtBQUssTUFBTSxHQUFHO0FBQzNCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxNQUFNLElBQUksU0FBUyxLQUFLLE1BQVcsU0FBUyxHQUFHLElBQUksQ0FBQztBQUN6RCxPQUFLLFdBQVcsQ0FBQyxXQUFXLEtBQUssTUFBVyxTQUFTLEdBQUcsTUFBTSxDQUFDO0FBQy9ELE9BQUssTUFBTSxJQUFJLFNBQVMsS0FBSyxNQUFXLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDekQsT0FBSyxPQUFPLElBQUksU0FBUyxLQUFLLE1BQVcsTUFBTSxHQUFHLElBQUksQ0FBQztBQUMzRCxDQUFDO0FBQ00sU0FBUyxJQUFJLFdBQVcsUUFBUTtBQUNuQyxTQUFPLElBQUksT0FBTztBQUFBLElBQ2QsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLElBQU0sVUFBd0IsZ0JBQUssYUFBYSxXQUFXLENBQUMsTUFBTSxRQUFRO0FBQzdFLEVBQUssU0FBUyxLQUFLLE1BQU0sR0FBRztBQUM1QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssT0FBTyxJQUFJO0FBQ2hCLE9BQUssVUFBVSxPQUFPLE9BQU8sSUFBSSxPQUFPO0FBQ3hDLFFBQU0sT0FBTyxJQUFJLElBQUksT0FBTyxLQUFLLElBQUksT0FBTyxDQUFDO0FBQzdDLE9BQUssVUFBVSxDQUFDLFFBQVEsV0FBVztBQUMvQixVQUFNLGFBQWEsQ0FBQztBQUNwQixlQUFXLFNBQVMsUUFBUTtBQUN4QixVQUFJLEtBQUssSUFBSSxLQUFLLEdBQUc7QUFDakIsbUJBQVcsS0FBSyxJQUFJLElBQUksUUFBUSxLQUFLO0FBQUEsTUFDekM7QUFFSSxjQUFNLElBQUksTUFBTSxPQUFPLEtBQUssb0JBQW9CO0FBQUEsSUFDeEQ7QUFDQSxXQUFPLElBQUksUUFBUTtBQUFBLE1BQ2YsR0FBRztBQUFBLE1BQ0gsUUFBUSxDQUFDO0FBQUEsTUFDVCxHQUFHLGFBQUssZ0JBQWdCLE1BQU07QUFBQSxNQUM5QixTQUFTO0FBQUEsSUFDYixDQUFDO0FBQUEsRUFDTDtBQUNBLE9BQUssVUFBVSxDQUFDLFFBQVEsV0FBVztBQUMvQixVQUFNLGFBQWEsRUFBRSxHQUFHLElBQUksUUFBUTtBQUNwQyxlQUFXLFNBQVMsUUFBUTtBQUN4QixVQUFJLEtBQUssSUFBSSxLQUFLLEdBQUc7QUFDakIsZUFBTyxXQUFXLEtBQUs7QUFBQSxNQUMzQjtBQUVJLGNBQU0sSUFBSSxNQUFNLE9BQU8sS0FBSyxvQkFBb0I7QUFBQSxJQUN4RDtBQUNBLFdBQU8sSUFBSSxRQUFRO0FBQUEsTUFDZixHQUFHO0FBQUEsTUFDSCxRQUFRLENBQUM7QUFBQSxNQUNULEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLE1BQzlCLFNBQVM7QUFBQSxJQUNiLENBQUM7QUFBQSxFQUNMO0FBQ0osQ0FBQztBQUNELFNBQVNBLE9BQU0sUUFBUSxRQUFRO0FBQzNCLFFBQU0sVUFBVSxNQUFNLFFBQVEsTUFBTSxJQUFJLE9BQU8sWUFBWSxPQUFPLElBQUksQ0FBQ0MsT0FBTSxDQUFDQSxJQUFHQSxFQUFDLENBQUMsQ0FBQyxJQUFJO0FBQ3hGLFNBQU8sSUFBSSxRQUFRO0FBQUEsSUFDZixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBU08sU0FBUyxXQUFXLFNBQVMsUUFBUTtBQUN4QyxTQUFPLElBQUksUUFBUTtBQUFBLElBQ2YsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQUNPLElBQU0sYUFBMkIsZ0JBQUssYUFBYSxjQUFjLENBQUMsTUFBTSxRQUFRO0FBQ25GLEVBQUssWUFBWSxLQUFLLE1BQU0sR0FBRztBQUMvQixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssU0FBUyxJQUFJLElBQUksSUFBSSxNQUFNO0FBQ2hDLFNBQU8sZUFBZSxNQUFNLFNBQVM7QUFBQSxJQUNqQyxNQUFNO0FBQ0YsVUFBSSxJQUFJLE9BQU8sU0FBUyxHQUFHO0FBQ3ZCLGNBQU0sSUFBSSxNQUFNLDRFQUE0RTtBQUFBLE1BQ2hHO0FBQ0EsYUFBTyxJQUFJLE9BQU8sQ0FBQztBQUFBLElBQ3ZCO0FBQUEsRUFDSixDQUFDO0FBQ0wsQ0FBQztBQUNNLFNBQVMsUUFBUSxPQUFPLFFBQVE7QUFDbkMsU0FBTyxJQUFJLFdBQVc7QUFBQSxJQUNsQixNQUFNO0FBQUEsSUFDTixRQUFRLE1BQU0sUUFBUSxLQUFLLElBQUksUUFBUSxDQUFDLEtBQUs7QUFBQSxJQUM3QyxHQUFHLGFBQUssZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUM3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLE1BQU0sQ0FBQyxNQUFNLFdBQVcsS0FBSyxNQUFXLFNBQVMsTUFBTSxNQUFNLENBQUM7QUFDbkUsT0FBSyxNQUFNLENBQUMsTUFBTSxXQUFXLEtBQUssTUFBVyxTQUFTLE1BQU0sTUFBTSxDQUFDO0FBQ25FLE9BQUssT0FBTyxDQUFDQyxRQUFPLFdBQVcsS0FBSyxNQUFXLE1BQU0sTUFBTSxRQUFRQSxNQUFLLElBQUlBLFNBQVEsQ0FBQ0EsTUFBSyxHQUFHLE1BQU0sQ0FBQztBQUN4RyxDQUFDO0FBQ00sU0FBUyxLQUFLLFFBQVE7QUFDekIsU0FBWSxNQUFNLFNBQVMsTUFBTTtBQUNyQztBQUNPLElBQU0sZUFBNkIsZ0JBQUssYUFBYSxnQkFBZ0IsQ0FBQyxNQUFNLFFBQVE7QUFDdkYsRUFBSyxjQUFjLEtBQUssTUFBTSxHQUFHO0FBQ2pDLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxLQUFLLFFBQVEsQ0FBQyxTQUFTLFNBQVM7QUFDakMsUUFBSSxLQUFLLGNBQWMsWUFBWTtBQUMvQixZQUFNLElBQVMsZ0JBQWdCLEtBQUssWUFBWSxJQUFJO0FBQUEsSUFDeEQ7QUFDQSxZQUFRLFdBQVcsQ0FBQ0MsV0FBVTtBQUMxQixVQUFJLE9BQU9BLFdBQVUsVUFBVTtBQUMzQixnQkFBUSxPQUFPLEtBQUssYUFBSyxNQUFNQSxRQUFPLFFBQVEsT0FBTyxHQUFHLENBQUM7QUFBQSxNQUM3RCxPQUNLO0FBRUQsY0FBTSxTQUFTQTtBQUNmLFlBQUksT0FBTztBQUNQLGlCQUFPLFdBQVc7QUFDdEIsZUFBTyxTQUFTLE9BQU8sT0FBTztBQUM5QixlQUFPLFVBQVUsT0FBTyxRQUFRLFFBQVE7QUFDeEMsZUFBTyxTQUFTLE9BQU8sT0FBTztBQUU5QixnQkFBUSxPQUFPLEtBQUssYUFBSyxNQUFNLE1BQU0sQ0FBQztBQUFBLE1BQzFDO0FBQUEsSUFDSjtBQUNBLFVBQU0sU0FBUyxJQUFJLFVBQVUsUUFBUSxPQUFPLE9BQU87QUFDbkQsUUFBSSxrQkFBa0IsU0FBUztBQUMzQixhQUFPLE9BQU8sS0FBSyxDQUFDQyxZQUFXO0FBQzNCLGdCQUFRLFFBQVFBO0FBQ2hCLGVBQU87QUFBQSxNQUNYLENBQUM7QUFBQSxJQUNMO0FBQ0EsWUFBUSxRQUFRO0FBQ2hCLFdBQU87QUFBQSxFQUNYO0FBQ0osQ0FBQztBQUNNLFNBQVMsVUFBVSxJQUFJO0FBQzFCLFNBQU8sSUFBSSxhQUFhO0FBQUEsSUFDcEIsTUFBTTtBQUFBLElBQ04sV0FBVztBQUFBLEVBQ2YsQ0FBQztBQUNMO0FBQ08sSUFBTSxjQUE0QixnQkFBSyxhQUFhLGVBQWUsQ0FBQyxNQUFNLFFBQVE7QUFDckYsRUFBSyxhQUFhLEtBQUssTUFBTSxHQUFHO0FBQ2hDLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxTQUFTLE1BQU0sS0FBSyxLQUFLLElBQUk7QUFDdEMsQ0FBQztBQUNNLFNBQVMsU0FBUyxXQUFXO0FBQ2hDLFNBQU8sSUFBSSxZQUFZO0FBQUEsSUFDbkIsTUFBTTtBQUFBLElBQ047QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLElBQU0sY0FBNEIsZ0JBQUssYUFBYSxlQUFlLENBQUMsTUFBTSxRQUFRO0FBQ3JGLEVBQUssYUFBYSxLQUFLLE1BQU0sR0FBRztBQUNoQyxVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssU0FBUyxNQUFNLEtBQUssS0FBSyxJQUFJO0FBQ3RDLENBQUM7QUFDTSxTQUFTLFNBQVMsV0FBVztBQUNoQyxTQUFPLElBQUksWUFBWTtBQUFBLElBQ25CLE1BQU07QUFBQSxJQUNOO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFFTyxTQUFTQyxTQUFRLFdBQVc7QUFDL0IsU0FBTyxTQUFTLFNBQVMsU0FBUyxDQUFDO0FBQ3ZDO0FBQ08sSUFBTSxhQUEyQixnQkFBSyxhQUFhLGNBQWMsQ0FBQyxNQUFNLFFBQVE7QUFDbkYsRUFBSyxZQUFZLEtBQUssTUFBTSxHQUFHO0FBQy9CLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxTQUFTLE1BQU0sS0FBSyxLQUFLLElBQUk7QUFDbEMsT0FBSyxnQkFBZ0IsS0FBSztBQUM5QixDQUFDO0FBQ00sU0FBU0MsVUFBUyxXQUFXLGNBQWM7QUFDOUMsU0FBTyxJQUFJLFdBQVc7QUFBQSxJQUNsQixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsSUFBSSxlQUFlO0FBQ2YsYUFBTyxPQUFPLGlCQUFpQixhQUFhLGFBQWEsSUFBSSxhQUFLLGFBQWEsWUFBWTtBQUFBLElBQy9GO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxJQUFNLGNBQTRCLGdCQUFLLGFBQWEsZUFBZSxDQUFDLE1BQU0sUUFBUTtBQUNyRixFQUFLLGFBQWEsS0FBSyxNQUFNLEdBQUc7QUFDaEMsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLFNBQVMsTUFBTSxLQUFLLEtBQUssSUFBSTtBQUN0QyxDQUFDO0FBQ00sU0FBUyxTQUFTLFdBQVcsY0FBYztBQUM5QyxTQUFPLElBQUksWUFBWTtBQUFBLElBQ25CLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxJQUFJLGVBQWU7QUFDZixhQUFPLE9BQU8saUJBQWlCLGFBQWEsYUFBYSxJQUFJLGFBQUssYUFBYSxZQUFZO0FBQUEsSUFDL0Y7QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLElBQU0saUJBQStCLGdCQUFLLGFBQWEsa0JBQWtCLENBQUMsTUFBTSxRQUFRO0FBQzNGLEVBQUssZ0JBQWdCLEtBQUssTUFBTSxHQUFHO0FBQ25DLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxTQUFTLE1BQU0sS0FBSyxLQUFLLElBQUk7QUFDdEMsQ0FBQztBQUNNLFNBQVMsWUFBWSxXQUFXLFFBQVE7QUFDM0MsU0FBTyxJQUFJLGVBQWU7QUFBQSxJQUN0QixNQUFNO0FBQUEsSUFDTjtBQUFBLElBQ0EsR0FBRyxhQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDbEMsQ0FBQztBQUNMO0FBQ08sSUFBTSxhQUEyQixnQkFBSyxhQUFhLGNBQWMsQ0FBQyxNQUFNLFFBQVE7QUFDbkYsRUFBSyxZQUFZLEtBQUssTUFBTSxHQUFHO0FBQy9CLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxTQUFTLE1BQU0sS0FBSyxLQUFLLElBQUk7QUFDdEMsQ0FBQztBQUNNLFNBQVMsUUFBUSxXQUFXO0FBQy9CLFNBQU8sSUFBSSxXQUFXO0FBQUEsSUFDbEIsTUFBTTtBQUFBLElBQ047QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLElBQU0sV0FBeUIsZ0JBQUssYUFBYSxZQUFZLENBQUMsTUFBTSxRQUFRO0FBQy9FLEVBQUssVUFBVSxLQUFLLE1BQU0sR0FBRztBQUM3QixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssU0FBUyxNQUFNLEtBQUssS0FBSyxJQUFJO0FBQ2xDLE9BQUssY0FBYyxLQUFLO0FBQzVCLENBQUM7QUFDRCxTQUFTQyxRQUFPLFdBQVcsWUFBWTtBQUNuQyxTQUFPLElBQUksU0FBUztBQUFBLElBQ2hCLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxZQUFhLE9BQU8sZUFBZSxhQUFhLGFBQWEsTUFBTTtBQUFBLEVBQ3ZFLENBQUM7QUFDTDtBQUVPLElBQU0sU0FBdUIsZ0JBQUssYUFBYSxVQUFVLENBQUMsTUFBTSxRQUFRO0FBQzNFLEVBQUssUUFBUSxLQUFLLE1BQU0sR0FBRztBQUMzQixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQzFCLENBQUM7QUFDTSxTQUFTLElBQUksUUFBUTtBQUN4QixTQUFZLEtBQUssUUFBUSxNQUFNO0FBQ25DO0FBQ08sSUFBTSxVQUF3QixnQkFBSyxhQUFhLFdBQVcsQ0FBQyxNQUFNLFFBQVE7QUFDN0UsRUFBSyxTQUFTLEtBQUssTUFBTSxHQUFHO0FBQzVCLFVBQVEsS0FBSyxNQUFNLEdBQUc7QUFDdEIsT0FBSyxLQUFLLElBQUk7QUFDZCxPQUFLLE1BQU0sSUFBSTtBQUNuQixDQUFDO0FBQ00sU0FBUyxLQUFLLEtBQUssS0FBSztBQUMzQixTQUFPLElBQUksUUFBUTtBQUFBLElBQ2YsTUFBTTtBQUFBLElBQ04sSUFBSTtBQUFBLElBQ0o7QUFBQTtBQUFBLEVBRUosQ0FBQztBQUNMO0FBQ08sSUFBTSxXQUF5QixnQkFBSyxhQUFhLFlBQVksQ0FBQyxNQUFNLFFBQVE7QUFDL0UsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixFQUFLLFVBQVUsS0FBSyxNQUFNLEdBQUc7QUFDakMsQ0FBQztBQUNNLFNBQVMsTUFBTSxLQUFLLEtBQUssUUFBUTtBQUNwQyxTQUFPLElBQUksU0FBUztBQUFBLElBQ2hCLE1BQU07QUFBQSxJQUNOLElBQUk7QUFBQSxJQUNKO0FBQUEsSUFDQSxXQUFXLE9BQU87QUFBQSxJQUNsQixrQkFBa0IsT0FBTztBQUFBLEVBQzdCLENBQUM7QUFDTDtBQUNPLElBQU0sY0FBNEIsZ0JBQUssYUFBYSxlQUFlLENBQUMsTUFBTSxRQUFRO0FBQ3JGLEVBQUssYUFBYSxLQUFLLE1BQU0sR0FBRztBQUNoQyxVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssU0FBUyxNQUFNLEtBQUssS0FBSyxJQUFJO0FBQ3RDLENBQUM7QUFDTSxTQUFTLFNBQVMsV0FBVztBQUNoQyxTQUFPLElBQUksWUFBWTtBQUFBLElBQ25CLE1BQU07QUFBQSxJQUNOO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxJQUFNLHFCQUFtQyxnQkFBSyxhQUFhLHNCQUFzQixDQUFDLE1BQU0sUUFBUTtBQUNuRyxFQUFLLG9CQUFvQixLQUFLLE1BQU0sR0FBRztBQUN2QyxVQUFRLEtBQUssTUFBTSxHQUFHO0FBQzFCLENBQUM7QUFDTSxTQUFTLGdCQUFnQixPQUFPLFFBQVE7QUFDM0MsU0FBTyxJQUFJLG1CQUFtQjtBQUFBLElBQzFCLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxHQUFHLGFBQUssZ0JBQWdCLE1BQU07QUFBQSxFQUNsQyxDQUFDO0FBQ0w7QUFDTyxJQUFNLFVBQXdCLGdCQUFLLGFBQWEsV0FBVyxDQUFDLE1BQU0sUUFBUTtBQUM3RSxFQUFLLFNBQVMsS0FBSyxNQUFNLEdBQUc7QUFDNUIsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUN0QixPQUFLLFNBQVMsTUFBTSxLQUFLLEtBQUssSUFBSSxPQUFPO0FBQzdDLENBQUM7QUFDTSxTQUFTLEtBQUssUUFBUTtBQUN6QixTQUFPLElBQUksUUFBUTtBQUFBLElBQ2YsTUFBTTtBQUFBLElBQ047QUFBQSxFQUNKLENBQUM7QUFDTDtBQUNPLElBQU0sYUFBMkIsZ0JBQUssYUFBYSxjQUFjLENBQUMsTUFBTSxRQUFRO0FBQ25GLEVBQUssWUFBWSxLQUFLLE1BQU0sR0FBRztBQUMvQixVQUFRLEtBQUssTUFBTSxHQUFHO0FBQ3RCLE9BQUssU0FBUyxNQUFNLEtBQUssS0FBSyxJQUFJO0FBQ3RDLENBQUM7QUFDTSxTQUFTLFFBQVEsV0FBVztBQUMvQixTQUFPLElBQUksV0FBVztBQUFBLElBQ2xCLE1BQU07QUFBQSxJQUNOO0FBQUEsRUFDSixDQUFDO0FBQ0w7QUFDTyxJQUFNLGNBQTRCLGdCQUFLLGFBQWEsZUFBZSxDQUFDLE1BQU0sUUFBUTtBQUNyRixFQUFLLGFBQWEsS0FBSyxNQUFNLEdBQUc7QUFDaEMsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUMxQixDQUFDO0FBQ00sU0FBUyxVQUFVLFFBQVE7QUFDOUIsU0FBTyxJQUFJLFlBQVk7QUFBQSxJQUNuQixNQUFNO0FBQUEsSUFDTixPQUFPLE1BQU0sUUFBUSxRQUFRLEtBQUssSUFBSSxNQUFNLFFBQVEsS0FBSyxJQUFLLFFBQVEsU0FBUyxNQUFNLFFBQVEsQ0FBQztBQUFBLElBQzlGLFFBQVEsUUFBUSxVQUFVLFFBQVE7QUFBQSxFQUN0QyxDQUFDO0FBQ0w7QUFFTyxJQUFNLFlBQTBCLGdCQUFLLGFBQWEsYUFBYSxDQUFDLE1BQU0sUUFBUTtBQUNqRixFQUFLLFdBQVcsS0FBSyxNQUFNLEdBQUc7QUFDOUIsVUFBUSxLQUFLLE1BQU0sR0FBRztBQUMxQixDQUFDO0FBRU0sU0FBUyxNQUFNLElBQUk7QUFDdEIsUUFBTSxLQUFLLElBQVMsVUFBVTtBQUFBLElBQzFCLE9BQU87QUFBQTtBQUFBLEVBRVgsQ0FBQztBQUNELEtBQUcsS0FBSyxRQUFRO0FBQ2hCLFNBQU87QUFDWDtBQUNPLFNBQVMsT0FBTyxJQUFJLFNBQVM7QUFDaEMsU0FBWSxRQUFRLFdBQVcsT0FBTyxNQUFNLE9BQU8sT0FBTztBQUM5RDtBQUNPLFNBQVMsT0FBTyxJQUFJLFVBQVUsQ0FBQyxHQUFHO0FBQ3JDLFNBQVksUUFBUSxXQUFXLElBQUksT0FBTztBQUM5QztBQUVPLFNBQVMsWUFBWSxJQUFJO0FBQzVCLFNBQVksYUFBYSxFQUFFO0FBQy9CO0FBQ0EsU0FBUyxZQUFZLEtBQUssU0FBUztBQUFBLEVBQy9CLE9BQU8seUJBQXlCLElBQUksSUFBSTtBQUM1QyxHQUFHO0FBQ0MsUUFBTSxPQUFPLElBQUksVUFBVTtBQUFBLElBQ3ZCLE1BQU07QUFBQSxJQUNOLE9BQU87QUFBQSxJQUNQLElBQUksQ0FBQyxTQUFTLGdCQUFnQjtBQUFBLElBQzlCLE9BQU87QUFBQSxJQUNQLEdBQUcsYUFBSyxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDRCxPQUFLLEtBQUssSUFBSSxRQUFRO0FBQ3RCLFNBQU87QUFDWDtBQUdPLElBQU0sYUFBYSxJQUFJLFNBQWMsWUFBWTtBQUFBLEVBQ3BELE9BQU87QUFBQSxFQUNQLFNBQVM7QUFBQSxFQUNULFFBQVE7QUFDWixHQUFHLEdBQUcsSUFBSTtBQUNILFNBQVMsS0FBSyxRQUFRO0FBQ3pCLFFBQU1DLGNBQWEsS0FBSyxNQUFNO0FBQzFCLFdBQU8sTUFBTSxDQUFDQyxRQUFPLE1BQU0sR0FBR0MsUUFBTyxHQUFHQyxTQUFRLEdBQUdDLE9BQU0sR0FBRyxNQUFNSixXQUFVLEdBQUcsT0FBT0MsUUFBTyxHQUFHRCxXQUFVLENBQUMsQ0FBQztBQUFBLEVBQ2hILENBQUM7QUFDRCxTQUFPQTtBQUNYO0FBR08sU0FBUyxXQUFXLElBQUksUUFBUTtBQUNuQyxTQUFPLEtBQUssVUFBVSxFQUFFLEdBQUcsTUFBTTtBQUNyQzs7O0FDdGhDTyxJQUFNLGVBQWU7QUFBQSxFQUN4QixjQUFjO0FBQUEsRUFDZCxTQUFTO0FBQUEsRUFDVCxXQUFXO0FBQUEsRUFDWCxnQkFBZ0I7QUFBQSxFQUNoQixpQkFBaUI7QUFBQSxFQUNqQixtQkFBbUI7QUFBQSxFQUNuQixlQUFlO0FBQUEsRUFDZixhQUFhO0FBQUEsRUFDYixpQkFBaUI7QUFBQSxFQUNqQixlQUFlO0FBQUEsRUFDZixRQUFRO0FBQ1o7QUFHTyxTQUFTLFlBQVlLLE1BQUs7QUFDN0IsRUFBSyxPQUFPO0FBQUEsSUFDUixhQUFhQTtBQUFBLEVBQ2pCLENBQUM7QUFDTDtBQUVPLFNBQVMsY0FBYztBQUMxQixTQUFZLE9BQU8sRUFBRTtBQUN6QjtBQUVPLElBQUk7QUFDViwwQkFBVUMsd0JBQXVCO0FBQ2xDLEdBQUcsMEJBQTBCLHdCQUF3QixDQUFDLEVBQUU7OztBQzlCeEQ7QUFBQTtBQUFBLGdCQUFBQztBQUFBLEVBQUEsZUFBQUM7QUFBQSxFQUFBLFlBQUFDO0FBQUEsRUFBQSxjQUFBQztBQUFBLEVBQUEsY0FBQUM7QUFBQTtBQUVPLFNBQVNDLFFBQU8sUUFBUTtBQUMzQixTQUFZLGVBQXVCLFdBQVcsTUFBTTtBQUN4RDtBQUNPLFNBQVNDLFFBQU8sUUFBUTtBQUMzQixTQUFZLGVBQXVCLFdBQVcsTUFBTTtBQUN4RDtBQUNPLFNBQVNDLFNBQVEsUUFBUTtBQUM1QixTQUFZLGdCQUF3QixZQUFZLE1BQU07QUFDMUQ7QUFDTyxTQUFTQyxRQUFPLFFBQVE7QUFDM0IsU0FBWSxlQUF1QixXQUFXLE1BQU07QUFDeEQ7QUFDTyxTQUFTQyxNQUFLLFFBQVE7QUFDekIsU0FBWSxhQUFxQixTQUFTLE1BQU07QUFDcEQ7OztBbkVQQSxPQUFPLFdBQUcsQ0FBQzs7O0FvRVRKLElBQUk7QUFBQSxDQUNWLFNBQVVDLE9BQU07QUFDYixFQUFBQSxNQUFLLGNBQWMsQ0FBQ0MsT0FBTTtBQUFBLEVBQUU7QUFDNUIsV0FBU0MsVUFBUyxNQUFNO0FBQUEsRUFBRTtBQUMxQixFQUFBRixNQUFLLFdBQVdFO0FBQ2hCLFdBQVNDLGFBQVksSUFBSTtBQUNyQixVQUFNLElBQUksTUFBTTtBQUFBLEVBQ3BCO0FBQ0EsRUFBQUgsTUFBSyxjQUFjRztBQUNuQixFQUFBSCxNQUFLLGNBQWMsQ0FBQyxVQUFVO0FBQzFCLFVBQU0sTUFBTSxDQUFDO0FBQ2IsZUFBVyxRQUFRLE9BQU87QUFDdEIsVUFBSSxJQUFJLElBQUk7QUFBQSxJQUNoQjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0EsRUFBQUEsTUFBSyxxQkFBcUIsQ0FBQyxRQUFRO0FBQy9CLFVBQU0sWUFBWUEsTUFBSyxXQUFXLEdBQUcsRUFBRSxPQUFPLENBQUMsTUFBTSxPQUFPLElBQUksSUFBSSxDQUFDLENBQUMsTUFBTSxRQUFRO0FBQ3BGLFVBQU0sV0FBVyxDQUFDO0FBQ2xCLGVBQVcsS0FBSyxXQUFXO0FBQ3ZCLGVBQVMsQ0FBQyxJQUFJLElBQUksQ0FBQztBQUFBLElBQ3ZCO0FBQ0EsV0FBT0EsTUFBSyxhQUFhLFFBQVE7QUFBQSxFQUNyQztBQUNBLEVBQUFBLE1BQUssZUFBZSxDQUFDLFFBQVE7QUFDekIsV0FBT0EsTUFBSyxXQUFXLEdBQUcsRUFBRSxJQUFJLFNBQVUsR0FBRztBQUN6QyxhQUFPLElBQUksQ0FBQztBQUFBLElBQ2hCLENBQUM7QUFBQSxFQUNMO0FBQ0EsRUFBQUEsTUFBSyxhQUFhLE9BQU8sT0FBTyxTQUFTLGFBQ25DLENBQUMsUUFBUSxPQUFPLEtBQUssR0FBRyxJQUN4QixDQUFDSSxZQUFXO0FBQ1YsVUFBTSxPQUFPLENBQUM7QUFDZCxlQUFXLE9BQU9BLFNBQVE7QUFDdEIsVUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLQSxTQUFRLEdBQUcsR0FBRztBQUNuRCxhQUFLLEtBQUssR0FBRztBQUFBLE1BQ2pCO0FBQUEsSUFDSjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0osRUFBQUosTUFBSyxPQUFPLENBQUMsS0FBSyxZQUFZO0FBQzFCLGVBQVcsUUFBUSxLQUFLO0FBQ3BCLFVBQUksUUFBUSxJQUFJO0FBQ1osZUFBTztBQUFBLElBQ2Y7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLEVBQUFBLE1BQUssWUFBWSxPQUFPLE9BQU8sY0FBYyxhQUN2QyxDQUFDLFFBQVEsT0FBTyxVQUFVLEdBQUcsSUFDN0IsQ0FBQyxRQUFRLE9BQU8sUUFBUSxZQUFZLE9BQU8sU0FBUyxHQUFHLEtBQUssS0FBSyxNQUFNLEdBQUcsTUFBTTtBQUN0RixXQUFTSyxZQUFXQyxRQUFPLFlBQVksT0FBTztBQUMxQyxXQUFPQSxPQUFNLElBQUksQ0FBQyxRQUFTLE9BQU8sUUFBUSxXQUFXLElBQUksR0FBRyxNQUFNLEdBQUksRUFBRSxLQUFLLFNBQVM7QUFBQSxFQUMxRjtBQUNBLEVBQUFOLE1BQUssYUFBYUs7QUFDbEIsRUFBQUwsTUFBSyx3QkFBd0IsQ0FBQ0MsSUFBRyxVQUFVO0FBQ3ZDLFFBQUksT0FBTyxVQUFVLFVBQVU7QUFDM0IsYUFBTyxNQUFNLFNBQVM7QUFBQSxJQUMxQjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0osR0FBRyxTQUFTLE9BQU8sQ0FBQyxFQUFFO0FBQ2YsSUFBSTtBQUFBLENBQ1YsU0FBVU0sYUFBWTtBQUNuQixFQUFBQSxZQUFXLGNBQWMsQ0FBQyxPQUFPLFdBQVc7QUFDeEMsV0FBTztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBO0FBQUEsSUFDUDtBQUFBLEVBQ0o7QUFDSixHQUFHLGVBQWUsYUFBYSxDQUFDLEVBQUU7QUFDM0IsSUFBTSxnQkFBZ0IsS0FBSyxZQUFZO0FBQUEsRUFDMUM7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQ0osQ0FBQztBQUNNLElBQU1DLGlCQUFnQixDQUFDLFNBQVM7QUFDbkMsUUFBTUMsS0FBSSxPQUFPO0FBQ2pCLFVBQVFBLElBQUc7QUFBQSxJQUNQLEtBQUs7QUFDRCxhQUFPLGNBQWM7QUFBQSxJQUN6QixLQUFLO0FBQ0QsYUFBTyxjQUFjO0FBQUEsSUFDekIsS0FBSztBQUNELGFBQU8sT0FBTyxNQUFNLElBQUksSUFBSSxjQUFjLE1BQU0sY0FBYztBQUFBLElBQ2xFLEtBQUs7QUFDRCxhQUFPLGNBQWM7QUFBQSxJQUN6QixLQUFLO0FBQ0QsYUFBTyxjQUFjO0FBQUEsSUFDekIsS0FBSztBQUNELGFBQU8sY0FBYztBQUFBLElBQ3pCLEtBQUs7QUFDRCxhQUFPLGNBQWM7QUFBQSxJQUN6QixLQUFLO0FBQ0QsVUFBSSxNQUFNLFFBQVEsSUFBSSxHQUFHO0FBQ3JCLGVBQU8sY0FBYztBQUFBLE1BQ3pCO0FBQ0EsVUFBSSxTQUFTLE1BQU07QUFDZixlQUFPLGNBQWM7QUFBQSxNQUN6QjtBQUNBLFVBQUksS0FBSyxRQUFRLE9BQU8sS0FBSyxTQUFTLGNBQWMsS0FBSyxTQUFTLE9BQU8sS0FBSyxVQUFVLFlBQVk7QUFDaEcsZUFBTyxjQUFjO0FBQUEsTUFDekI7QUFDQSxVQUFJLE9BQU8sUUFBUSxlQUFlLGdCQUFnQixLQUFLO0FBQ25ELGVBQU8sY0FBYztBQUFBLE1BQ3pCO0FBQ0EsVUFBSSxPQUFPLFFBQVEsZUFBZSxnQkFBZ0IsS0FBSztBQUNuRCxlQUFPLGNBQWM7QUFBQSxNQUN6QjtBQUNBLFVBQUksT0FBTyxTQUFTLGVBQWUsZ0JBQWdCLE1BQU07QUFDckQsZUFBTyxjQUFjO0FBQUEsTUFDekI7QUFDQSxhQUFPLGNBQWM7QUFBQSxJQUN6QjtBQUNJLGFBQU8sY0FBYztBQUFBLEVBQzdCO0FBQ0o7OztBQ25JTyxJQUFNQyxnQkFBZSxLQUFLLFlBQVk7QUFBQSxFQUN6QztBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUNKLENBQUM7QUFLTSxJQUFNQyxZQUFOLE1BQU0sa0JBQWlCLE1BQU07QUFBQSxFQUNoQyxJQUFJLFNBQVM7QUFDVCxXQUFPLEtBQUs7QUFBQSxFQUNoQjtBQUFBLEVBQ0EsWUFBWSxRQUFRO0FBQ2hCLFVBQU07QUFDTixTQUFLLFNBQVMsQ0FBQztBQUNmLFNBQUssV0FBVyxDQUFDLFFBQVE7QUFDckIsV0FBSyxTQUFTLENBQUMsR0FBRyxLQUFLLFFBQVEsR0FBRztBQUFBLElBQ3RDO0FBQ0EsU0FBSyxZQUFZLENBQUMsT0FBTyxDQUFDLE1BQU07QUFDNUIsV0FBSyxTQUFTLENBQUMsR0FBRyxLQUFLLFFBQVEsR0FBRyxJQUFJO0FBQUEsSUFDMUM7QUFDQSxVQUFNLGNBQWMsV0FBVztBQUMvQixRQUFJLE9BQU8sZ0JBQWdCO0FBRXZCLGFBQU8sZUFBZSxNQUFNLFdBQVc7QUFBQSxJQUMzQyxPQUNLO0FBQ0QsV0FBSyxZQUFZO0FBQUEsSUFDckI7QUFDQSxTQUFLLE9BQU87QUFDWixTQUFLLFNBQVM7QUFBQSxFQUNsQjtBQUFBLEVBQ0EsT0FBTyxTQUFTO0FBQ1osVUFBTSxTQUFTLFdBQ1gsU0FBVUMsUUFBTztBQUNiLGFBQU9BLE9BQU07QUFBQSxJQUNqQjtBQUNKLFVBQU0sY0FBYyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQ2xDLFVBQU0sZUFBZSxDQUFDQyxZQUFVO0FBQzVCLGlCQUFXRCxVQUFTQyxRQUFNLFFBQVE7QUFDOUIsWUFBSUQsT0FBTSxTQUFTLGlCQUFpQjtBQUNoQyxVQUFBQSxPQUFNLFlBQVksSUFBSSxZQUFZO0FBQUEsUUFDdEMsV0FDU0EsT0FBTSxTQUFTLHVCQUF1QjtBQUMzQyx1QkFBYUEsT0FBTSxlQUFlO0FBQUEsUUFDdEMsV0FDU0EsT0FBTSxTQUFTLHFCQUFxQjtBQUN6Qyx1QkFBYUEsT0FBTSxjQUFjO0FBQUEsUUFDckMsV0FDU0EsT0FBTSxLQUFLLFdBQVcsR0FBRztBQUM5QixzQkFBWSxRQUFRLEtBQUssT0FBT0EsTUFBSyxDQUFDO0FBQUEsUUFDMUMsT0FDSztBQUNELGNBQUksT0FBTztBQUNYLGNBQUlFLEtBQUk7QUFDUixpQkFBT0EsS0FBSUYsT0FBTSxLQUFLLFFBQVE7QUFDMUIsa0JBQU0sS0FBS0EsT0FBTSxLQUFLRSxFQUFDO0FBQ3ZCLGtCQUFNLFdBQVdBLE9BQU1GLE9BQU0sS0FBSyxTQUFTO0FBQzNDLGdCQUFJLENBQUMsVUFBVTtBQUNYLG1CQUFLLEVBQUUsSUFBSSxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQUEsWUFRekMsT0FDSztBQUNELG1CQUFLLEVBQUUsSUFBSSxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQ3JDLG1CQUFLLEVBQUUsRUFBRSxRQUFRLEtBQUssT0FBT0EsTUFBSyxDQUFDO0FBQUEsWUFDdkM7QUFDQSxtQkFBTyxLQUFLLEVBQUU7QUFDZCxZQUFBRTtBQUFBLFVBQ0o7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFDQSxpQkFBYSxJQUFJO0FBQ2pCLFdBQU87QUFBQSxFQUNYO0FBQUEsRUFDQSxPQUFPLE9BQU8sT0FBTztBQUNqQixRQUFJLEVBQUUsaUJBQWlCLFlBQVc7QUFDOUIsWUFBTSxJQUFJLE1BQU0sbUJBQW1CLEtBQUssRUFBRTtBQUFBLElBQzlDO0FBQUEsRUFDSjtBQUFBLEVBQ0EsV0FBVztBQUNQLFdBQU8sS0FBSztBQUFBLEVBQ2hCO0FBQUEsRUFDQSxJQUFJLFVBQVU7QUFDVixXQUFPLEtBQUssVUFBVSxLQUFLLFFBQVEsS0FBSyx1QkFBdUIsQ0FBQztBQUFBLEVBQ3BFO0FBQUEsRUFDQSxJQUFJLFVBQVU7QUFDVixXQUFPLEtBQUssT0FBTyxXQUFXO0FBQUEsRUFDbEM7QUFBQSxFQUNBLFFBQVEsU0FBUyxDQUFDRixXQUFVQSxPQUFNLFNBQVM7QUFDdkMsVUFBTSxjQUFjLENBQUM7QUFDckIsVUFBTSxhQUFhLENBQUM7QUFDcEIsZUFBVyxPQUFPLEtBQUssUUFBUTtBQUMzQixVQUFJLElBQUksS0FBSyxTQUFTLEdBQUc7QUFDckIsY0FBTSxVQUFVLElBQUksS0FBSyxDQUFDO0FBQzFCLG9CQUFZLE9BQU8sSUFBSSxZQUFZLE9BQU8sS0FBSyxDQUFDO0FBQ2hELG9CQUFZLE9BQU8sRUFBRSxLQUFLLE9BQU8sR0FBRyxDQUFDO0FBQUEsTUFDekMsT0FDSztBQUNELG1CQUFXLEtBQUssT0FBTyxHQUFHLENBQUM7QUFBQSxNQUMvQjtBQUFBLElBQ0o7QUFDQSxXQUFPLEVBQUUsWUFBWSxZQUFZO0FBQUEsRUFDckM7QUFBQSxFQUNBLElBQUksYUFBYTtBQUNiLFdBQU8sS0FBSyxRQUFRO0FBQUEsRUFDeEI7QUFDSjtBQUNBRCxVQUFTLFNBQVMsQ0FBQyxXQUFXO0FBQzFCLFFBQU1FLFVBQVEsSUFBSUYsVUFBUyxNQUFNO0FBQ2pDLFNBQU9FO0FBQ1g7OztBQ2xJQSxJQUFNLFdBQVcsQ0FBQ0UsUUFBTyxTQUFTO0FBQzlCLE1BQUk7QUFDSixVQUFRQSxPQUFNLE1BQU07QUFBQSxJQUNoQixLQUFLQyxjQUFhO0FBQ2QsVUFBSUQsT0FBTSxhQUFhLGNBQWMsV0FBVztBQUM1QyxrQkFBVTtBQUFBLE1BQ2QsT0FDSztBQUNELGtCQUFVLFlBQVlBLE9BQU0sUUFBUSxjQUFjQSxPQUFNLFFBQVE7QUFBQSxNQUNwRTtBQUNBO0FBQUEsSUFDSixLQUFLQyxjQUFhO0FBQ2QsZ0JBQVUsbUNBQW1DLEtBQUssVUFBVUQsT0FBTSxVQUFVLEtBQUsscUJBQXFCLENBQUM7QUFDdkc7QUFBQSxJQUNKLEtBQUtDLGNBQWE7QUFDZCxnQkFBVSxrQ0FBa0MsS0FBSyxXQUFXRCxPQUFNLE1BQU0sSUFBSSxDQUFDO0FBQzdFO0FBQUEsSUFDSixLQUFLQyxjQUFhO0FBQ2QsZ0JBQVU7QUFDVjtBQUFBLElBQ0osS0FBS0EsY0FBYTtBQUNkLGdCQUFVLHlDQUF5QyxLQUFLLFdBQVdELE9BQU0sT0FBTyxDQUFDO0FBQ2pGO0FBQUEsSUFDSixLQUFLQyxjQUFhO0FBQ2QsZ0JBQVUsZ0NBQWdDLEtBQUssV0FBV0QsT0FBTSxPQUFPLENBQUMsZUFBZUEsT0FBTSxRQUFRO0FBQ3JHO0FBQUEsSUFDSixLQUFLQyxjQUFhO0FBQ2QsZ0JBQVU7QUFDVjtBQUFBLElBQ0osS0FBS0EsY0FBYTtBQUNkLGdCQUFVO0FBQ1Y7QUFBQSxJQUNKLEtBQUtBLGNBQWE7QUFDZCxnQkFBVTtBQUNWO0FBQUEsSUFDSixLQUFLQSxjQUFhO0FBQ2QsVUFBSSxPQUFPRCxPQUFNLGVBQWUsVUFBVTtBQUN0QyxZQUFJLGNBQWNBLE9BQU0sWUFBWTtBQUNoQyxvQkFBVSxnQ0FBZ0NBLE9BQU0sV0FBVyxRQUFRO0FBQ25FLGNBQUksT0FBT0EsT0FBTSxXQUFXLGFBQWEsVUFBVTtBQUMvQyxzQkFBVSxHQUFHLE9BQU8sc0RBQXNEQSxPQUFNLFdBQVcsUUFBUTtBQUFBLFVBQ3ZHO0FBQUEsUUFDSixXQUNTLGdCQUFnQkEsT0FBTSxZQUFZO0FBQ3ZDLG9CQUFVLG1DQUFtQ0EsT0FBTSxXQUFXLFVBQVU7QUFBQSxRQUM1RSxXQUNTLGNBQWNBLE9BQU0sWUFBWTtBQUNyQyxvQkFBVSxpQ0FBaUNBLE9BQU0sV0FBVyxRQUFRO0FBQUEsUUFDeEUsT0FDSztBQUNELGVBQUssWUFBWUEsT0FBTSxVQUFVO0FBQUEsUUFDckM7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sZUFBZSxTQUFTO0FBQ25DLGtCQUFVLFdBQVdBLE9BQU0sVUFBVTtBQUFBLE1BQ3pDLE9BQ0s7QUFDRCxrQkFBVTtBQUFBLE1BQ2Q7QUFDQTtBQUFBLElBQ0osS0FBS0MsY0FBYTtBQUNkLFVBQUlELE9BQU0sU0FBUztBQUNmLGtCQUFVLHNCQUFzQkEsT0FBTSxRQUFRLFlBQVlBLE9BQU0sWUFBWSxhQUFhLFdBQVcsSUFBSUEsT0FBTSxPQUFPO0FBQUEsZUFDaEhBLE9BQU0sU0FBUztBQUNwQixrQkFBVSx1QkFBdUJBLE9BQU0sUUFBUSxZQUFZQSxPQUFNLFlBQVksYUFBYSxNQUFNLElBQUlBLE9BQU0sT0FBTztBQUFBLGVBQzVHQSxPQUFNLFNBQVM7QUFDcEIsa0JBQVUsa0JBQWtCQSxPQUFNLFFBQVEsc0JBQXNCQSxPQUFNLFlBQVksOEJBQThCLGVBQWUsR0FBR0EsT0FBTSxPQUFPO0FBQUEsZUFDMUlBLE9BQU0sU0FBUztBQUNwQixrQkFBVSxrQkFBa0JBLE9BQU0sUUFBUSxzQkFBc0JBLE9BQU0sWUFBWSw4QkFBOEIsZUFBZSxHQUFHQSxPQUFNLE9BQU87QUFBQSxlQUMxSUEsT0FBTSxTQUFTO0FBQ3BCLGtCQUFVLGdCQUFnQkEsT0FBTSxRQUFRLHNCQUFzQkEsT0FBTSxZQUFZLDhCQUE4QixlQUFlLEdBQUcsSUFBSSxLQUFLLE9BQU9BLE9BQU0sT0FBTyxDQUFDLENBQUM7QUFBQTtBQUUvSixrQkFBVTtBQUNkO0FBQUEsSUFDSixLQUFLQyxjQUFhO0FBQ2QsVUFBSUQsT0FBTSxTQUFTO0FBQ2Ysa0JBQVUsc0JBQXNCQSxPQUFNLFFBQVEsWUFBWUEsT0FBTSxZQUFZLFlBQVksV0FBVyxJQUFJQSxPQUFNLE9BQU87QUFBQSxlQUMvR0EsT0FBTSxTQUFTO0FBQ3BCLGtCQUFVLHVCQUF1QkEsT0FBTSxRQUFRLFlBQVlBLE9BQU0sWUFBWSxZQUFZLE9BQU8sSUFBSUEsT0FBTSxPQUFPO0FBQUEsZUFDNUdBLE9BQU0sU0FBUztBQUNwQixrQkFBVSxrQkFBa0JBLE9BQU0sUUFBUSxZQUFZQSxPQUFNLFlBQVksMEJBQTBCLFdBQVcsSUFBSUEsT0FBTSxPQUFPO0FBQUEsZUFDekhBLE9BQU0sU0FBUztBQUNwQixrQkFBVSxrQkFBa0JBLE9BQU0sUUFBUSxZQUFZQSxPQUFNLFlBQVksMEJBQTBCLFdBQVcsSUFBSUEsT0FBTSxPQUFPO0FBQUEsZUFDekhBLE9BQU0sU0FBUztBQUNwQixrQkFBVSxnQkFBZ0JBLE9BQU0sUUFBUSxZQUFZQSxPQUFNLFlBQVksNkJBQTZCLGNBQWMsSUFBSSxJQUFJLEtBQUssT0FBT0EsT0FBTSxPQUFPLENBQUMsQ0FBQztBQUFBO0FBRXBKLGtCQUFVO0FBQ2Q7QUFBQSxJQUNKLEtBQUtDLGNBQWE7QUFDZCxnQkFBVTtBQUNWO0FBQUEsSUFDSixLQUFLQSxjQUFhO0FBQ2QsZ0JBQVU7QUFDVjtBQUFBLElBQ0osS0FBS0EsY0FBYTtBQUNkLGdCQUFVLGdDQUFnQ0QsT0FBTSxVQUFVO0FBQzFEO0FBQUEsSUFDSixLQUFLQyxjQUFhO0FBQ2QsZ0JBQVU7QUFDVjtBQUFBLElBQ0o7QUFDSSxnQkFBVSxLQUFLO0FBQ2YsV0FBSyxZQUFZRCxNQUFLO0FBQUEsRUFDOUI7QUFDQSxTQUFPLEVBQUUsUUFBUTtBQUNyQjtBQUNBLElBQU9FLGNBQVE7OztBQzNHZixJQUFJLG1CQUFtQkM7QUFLaEIsU0FBU0MsZUFBYztBQUMxQixTQUFPO0FBQ1g7OztBQ05PLElBQU0sWUFBWSxDQUFDLFdBQVc7QUFDakMsUUFBTSxFQUFFLE1BQU0sTUFBTSxXQUFXLFVBQVUsSUFBSTtBQUM3QyxRQUFNLFdBQVcsQ0FBQyxHQUFHLE1BQU0sR0FBSSxVQUFVLFFBQVEsQ0FBQyxDQUFFO0FBQ3BELFFBQU0sWUFBWTtBQUFBLElBQ2QsR0FBRztBQUFBLElBQ0gsTUFBTTtBQUFBLEVBQ1Y7QUFDQSxNQUFJLFVBQVUsWUFBWSxRQUFXO0FBQ2pDLFdBQU87QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILE1BQU07QUFBQSxNQUNOLFNBQVMsVUFBVTtBQUFBLElBQ3ZCO0FBQUEsRUFDSjtBQUNBLE1BQUksZUFBZTtBQUNuQixRQUFNLE9BQU8sVUFDUixPQUFPLENBQUNDLE9BQU0sQ0FBQyxDQUFDQSxFQUFDLEVBQ2pCLE1BQU0sRUFDTixRQUFRO0FBQ2IsYUFBV0MsUUFBTyxNQUFNO0FBQ3BCLG1CQUFlQSxLQUFJLFdBQVcsRUFBRSxNQUFNLGNBQWMsYUFBYSxDQUFDLEVBQUU7QUFBQSxFQUN4RTtBQUNBLFNBQU87QUFBQSxJQUNILEdBQUc7QUFBQSxJQUNILE1BQU07QUFBQSxJQUNOLFNBQVM7QUFBQSxFQUNiO0FBQ0o7QUFFTyxTQUFTLGtCQUFrQixLQUFLLFdBQVc7QUFDOUMsUUFBTSxjQUFjQyxhQUFZO0FBQ2hDLFFBQU1DLFNBQVEsVUFBVTtBQUFBLElBQ3BCO0FBQUEsSUFDQSxNQUFNLElBQUk7QUFBQSxJQUNWLE1BQU0sSUFBSTtBQUFBLElBQ1YsV0FBVztBQUFBLE1BQ1AsSUFBSSxPQUFPO0FBQUE7QUFBQSxNQUNYLElBQUk7QUFBQTtBQUFBLE1BQ0o7QUFBQTtBQUFBLE1BQ0EsZ0JBQWdCQyxjQUFrQixTQUFZQTtBQUFBO0FBQUEsSUFDbEQsRUFBRSxPQUFPLENBQUNDLE9BQU0sQ0FBQyxDQUFDQSxFQUFDO0FBQUEsRUFDdkIsQ0FBQztBQUNELE1BQUksT0FBTyxPQUFPLEtBQUtGLE1BQUs7QUFDaEM7QUFDTyxJQUFNLGNBQU4sTUFBTSxhQUFZO0FBQUEsRUFDckIsY0FBYztBQUNWLFNBQUssUUFBUTtBQUFBLEVBQ2pCO0FBQUEsRUFDQSxRQUFRO0FBQ0osUUFBSSxLQUFLLFVBQVU7QUFDZixXQUFLLFFBQVE7QUFBQSxFQUNyQjtBQUFBLEVBQ0EsUUFBUTtBQUNKLFFBQUksS0FBSyxVQUFVO0FBQ2YsV0FBSyxRQUFRO0FBQUEsRUFDckI7QUFBQSxFQUNBLE9BQU8sV0FBVyxRQUFRLFNBQVM7QUFDL0IsVUFBTSxhQUFhLENBQUM7QUFDcEIsZUFBV0csTUFBSyxTQUFTO0FBQ3JCLFVBQUlBLEdBQUUsV0FBVztBQUNiLGVBQU87QUFDWCxVQUFJQSxHQUFFLFdBQVc7QUFDYixlQUFPLE1BQU07QUFDakIsaUJBQVcsS0FBS0EsR0FBRSxLQUFLO0FBQUEsSUFDM0I7QUFDQSxXQUFPLEVBQUUsUUFBUSxPQUFPLE9BQU8sT0FBTyxXQUFXO0FBQUEsRUFDckQ7QUFBQSxFQUNBLGFBQWEsaUJBQWlCLFFBQVEsT0FBTztBQUN6QyxVQUFNLFlBQVksQ0FBQztBQUNuQixlQUFXLFFBQVEsT0FBTztBQUN0QixZQUFNLE1BQU0sTUFBTSxLQUFLO0FBQ3ZCLFlBQU0sUUFBUSxNQUFNLEtBQUs7QUFDekIsZ0JBQVUsS0FBSztBQUFBLFFBQ1g7QUFBQSxRQUNBO0FBQUEsTUFDSixDQUFDO0FBQUEsSUFDTDtBQUNBLFdBQU8sYUFBWSxnQkFBZ0IsUUFBUSxTQUFTO0FBQUEsRUFDeEQ7QUFBQSxFQUNBLE9BQU8sZ0JBQWdCLFFBQVEsT0FBTztBQUNsQyxVQUFNLGNBQWMsQ0FBQztBQUNyQixlQUFXLFFBQVEsT0FBTztBQUN0QixZQUFNLEVBQUUsS0FBSyxNQUFNLElBQUk7QUFDdkIsVUFBSSxJQUFJLFdBQVc7QUFDZixlQUFPO0FBQ1gsVUFBSSxNQUFNLFdBQVc7QUFDakIsZUFBTztBQUNYLFVBQUksSUFBSSxXQUFXO0FBQ2YsZUFBTyxNQUFNO0FBQ2pCLFVBQUksTUFBTSxXQUFXO0FBQ2pCLGVBQU8sTUFBTTtBQUNqQixVQUFJLElBQUksVUFBVSxnQkFBZ0IsT0FBTyxNQUFNLFVBQVUsZUFBZSxLQUFLLFlBQVk7QUFDckYsb0JBQVksSUFBSSxLQUFLLElBQUksTUFBTTtBQUFBLE1BQ25DO0FBQUEsSUFDSjtBQUNBLFdBQU8sRUFBRSxRQUFRLE9BQU8sT0FBTyxPQUFPLFlBQVk7QUFBQSxFQUN0RDtBQUNKO0FBQ08sSUFBTSxVQUFVLE9BQU8sT0FBTztBQUFBLEVBQ2pDLFFBQVE7QUFDWixDQUFDO0FBQ00sSUFBTSxRQUFRLENBQUMsV0FBVyxFQUFFLFFBQVEsU0FBUyxNQUFNO0FBQ25ELElBQU0sS0FBSyxDQUFDLFdBQVcsRUFBRSxRQUFRLFNBQVMsTUFBTTtBQUNoRCxJQUFNLFlBQVksQ0FBQ0QsT0FBTUEsR0FBRSxXQUFXO0FBQ3RDLElBQU0sVUFBVSxDQUFDQSxPQUFNQSxHQUFFLFdBQVc7QUFDcEMsSUFBTSxVQUFVLENBQUNBLE9BQU1BLEdBQUUsV0FBVztBQUNwQyxJQUFNLFVBQVUsQ0FBQ0EsT0FBTSxPQUFPLFlBQVksZUFBZUEsY0FBYTs7O0FDNUd0RSxJQUFJO0FBQUEsQ0FDVixTQUFVRSxZQUFXO0FBQ2xCLEVBQUFBLFdBQVUsV0FBVyxDQUFDLFlBQVksT0FBTyxZQUFZLFdBQVcsRUFBRSxRQUFRLElBQUksV0FBVyxDQUFDO0FBRTFGLEVBQUFBLFdBQVUsV0FBVyxDQUFDLFlBQVksT0FBTyxZQUFZLFdBQVcsVUFBVSxTQUFTO0FBQ3ZGLEdBQUcsY0FBYyxZQUFZLENBQUMsRUFBRTs7O0FDQWhDLElBQU0scUJBQU4sTUFBeUI7QUFBQSxFQUNyQixZQUFZLFFBQVEsT0FBTyxNQUFNLEtBQUs7QUFDbEMsU0FBSyxjQUFjLENBQUM7QUFDcEIsU0FBSyxTQUFTO0FBQ2QsU0FBSyxPQUFPO0FBQ1osU0FBSyxRQUFRO0FBQ2IsU0FBSyxPQUFPO0FBQUEsRUFDaEI7QUFBQSxFQUNBLElBQUksT0FBTztBQUNQLFFBQUksQ0FBQyxLQUFLLFlBQVksUUFBUTtBQUMxQixVQUFJLE1BQU0sUUFBUSxLQUFLLElBQUksR0FBRztBQUMxQixhQUFLLFlBQVksS0FBSyxHQUFHLEtBQUssT0FBTyxHQUFHLEtBQUssSUFBSTtBQUFBLE1BQ3JELE9BQ0s7QUFDRCxhQUFLLFlBQVksS0FBSyxHQUFHLEtBQUssT0FBTyxLQUFLLElBQUk7QUFBQSxNQUNsRDtBQUFBLElBQ0o7QUFDQSxXQUFPLEtBQUs7QUFBQSxFQUNoQjtBQUNKO0FBQ0EsSUFBTSxlQUFlLENBQUMsS0FBSyxXQUFXO0FBQ2xDLE1BQUksUUFBUSxNQUFNLEdBQUc7QUFDakIsV0FBTyxFQUFFLFNBQVMsTUFBTSxNQUFNLE9BQU8sTUFBTTtBQUFBLEVBQy9DLE9BQ0s7QUFDRCxRQUFJLENBQUMsSUFBSSxPQUFPLE9BQU8sUUFBUTtBQUMzQixZQUFNLElBQUksTUFBTSwyQ0FBMkM7QUFBQSxJQUMvRDtBQUNBLFdBQU87QUFBQSxNQUNILFNBQVM7QUFBQSxNQUNULElBQUksUUFBUTtBQUNSLFlBQUksS0FBSztBQUNMLGlCQUFPLEtBQUs7QUFDaEIsY0FBTUMsVUFBUSxJQUFJQyxVQUFTLElBQUksT0FBTyxNQUFNO0FBQzVDLGFBQUssU0FBU0Q7QUFDZCxlQUFPLEtBQUs7QUFBQSxNQUNoQjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQ0o7QUFDQSxTQUFTLG9CQUFvQixRQUFRO0FBQ2pDLE1BQUksQ0FBQztBQUNELFdBQU8sQ0FBQztBQUNaLFFBQU0sRUFBRSxVQUFBRSxXQUFVLG9CQUFvQixnQkFBZ0IsWUFBWSxJQUFJO0FBQ3RFLE1BQUlBLGNBQWEsc0JBQXNCLGlCQUFpQjtBQUNwRCxVQUFNLElBQUksTUFBTSwwRkFBMEY7QUFBQSxFQUM5RztBQUNBLE1BQUlBO0FBQ0EsV0FBTyxFQUFFLFVBQVVBLFdBQVUsWUFBWTtBQUM3QyxRQUFNLFlBQVksQ0FBQyxLQUFLLFFBQVE7QUFDNUIsVUFBTSxFQUFFLFFBQVEsSUFBSTtBQUNwQixRQUFJLElBQUksU0FBUyxzQkFBc0I7QUFDbkMsYUFBTyxFQUFFLFNBQVMsV0FBVyxJQUFJLGFBQWE7QUFBQSxJQUNsRDtBQUNBLFFBQUksT0FBTyxJQUFJLFNBQVMsYUFBYTtBQUNqQyxhQUFPLEVBQUUsU0FBUyxXQUFXLGtCQUFrQixJQUFJLGFBQWE7QUFBQSxJQUNwRTtBQUNBLFFBQUksSUFBSSxTQUFTO0FBQ2IsYUFBTyxFQUFFLFNBQVMsSUFBSSxhQUFhO0FBQ3ZDLFdBQU8sRUFBRSxTQUFTLFdBQVcsc0JBQXNCLElBQUksYUFBYTtBQUFBLEVBQ3hFO0FBQ0EsU0FBTyxFQUFFLFVBQVUsV0FBVyxZQUFZO0FBQzlDO0FBQ08sSUFBTUMsV0FBTixNQUFjO0FBQUEsRUFDakIsSUFBSSxjQUFjO0FBQ2QsV0FBTyxLQUFLLEtBQUs7QUFBQSxFQUNyQjtBQUFBLEVBQ0EsU0FBUyxPQUFPO0FBQ1osV0FBT0MsZUFBYyxNQUFNLElBQUk7QUFBQSxFQUNuQztBQUFBLEVBQ0EsZ0JBQWdCLE9BQU8sS0FBSztBQUN4QixXQUFRLE9BQU87QUFBQSxNQUNYLFFBQVEsTUFBTSxPQUFPO0FBQUEsTUFDckIsTUFBTSxNQUFNO0FBQUEsTUFDWixZQUFZQSxlQUFjLE1BQU0sSUFBSTtBQUFBLE1BQ3BDLGdCQUFnQixLQUFLLEtBQUs7QUFBQSxNQUMxQixNQUFNLE1BQU07QUFBQSxNQUNaLFFBQVEsTUFBTTtBQUFBLElBQ2xCO0FBQUEsRUFDSjtBQUFBLEVBQ0Esb0JBQW9CLE9BQU87QUFDdkIsV0FBTztBQUFBLE1BQ0gsUUFBUSxJQUFJLFlBQVk7QUFBQSxNQUN4QixLQUFLO0FBQUEsUUFDRCxRQUFRLE1BQU0sT0FBTztBQUFBLFFBQ3JCLE1BQU0sTUFBTTtBQUFBLFFBQ1osWUFBWUEsZUFBYyxNQUFNLElBQUk7QUFBQSxRQUNwQyxnQkFBZ0IsS0FBSyxLQUFLO0FBQUEsUUFDMUIsTUFBTSxNQUFNO0FBQUEsUUFDWixRQUFRLE1BQU07QUFBQSxNQUNsQjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQUEsRUFDQSxXQUFXLE9BQU87QUFDZCxVQUFNLFNBQVMsS0FBSyxPQUFPLEtBQUs7QUFDaEMsUUFBSSxRQUFRLE1BQU0sR0FBRztBQUNqQixZQUFNLElBQUksTUFBTSx3Q0FBd0M7QUFBQSxJQUM1RDtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQUEsRUFDQSxZQUFZLE9BQU87QUFDZixVQUFNLFNBQVMsS0FBSyxPQUFPLEtBQUs7QUFDaEMsV0FBTyxRQUFRLFFBQVEsTUFBTTtBQUFBLEVBQ2pDO0FBQUEsRUFDQSxNQUFNLE1BQU0sUUFBUTtBQUNoQixVQUFNLFNBQVMsS0FBSyxVQUFVLE1BQU0sTUFBTTtBQUMxQyxRQUFJLE9BQU87QUFDUCxhQUFPLE9BQU87QUFDbEIsVUFBTSxPQUFPO0FBQUEsRUFDakI7QUFBQSxFQUNBLFVBQVUsTUFBTSxRQUFRO0FBQ3BCLFVBQU0sTUFBTTtBQUFBLE1BQ1IsUUFBUTtBQUFBLFFBQ0osUUFBUSxDQUFDO0FBQUEsUUFDVCxPQUFPLFFBQVEsU0FBUztBQUFBLFFBQ3hCLG9CQUFvQixRQUFRO0FBQUEsTUFDaEM7QUFBQSxNQUNBLE1BQU0sUUFBUSxRQUFRLENBQUM7QUFBQSxNQUN2QixnQkFBZ0IsS0FBSyxLQUFLO0FBQUEsTUFDMUIsUUFBUTtBQUFBLE1BQ1I7QUFBQSxNQUNBLFlBQVlBLGVBQWMsSUFBSTtBQUFBLElBQ2xDO0FBQ0EsVUFBTSxTQUFTLEtBQUssV0FBVyxFQUFFLE1BQU0sTUFBTSxJQUFJLE1BQU0sUUFBUSxJQUFJLENBQUM7QUFDcEUsV0FBTyxhQUFhLEtBQUssTUFBTTtBQUFBLEVBQ25DO0FBQUEsRUFDQSxZQUFZLE1BQU07QUFDZCxVQUFNLE1BQU07QUFBQSxNQUNSLFFBQVE7QUFBQSxRQUNKLFFBQVEsQ0FBQztBQUFBLFFBQ1QsT0FBTyxDQUFDLENBQUMsS0FBSyxXQUFXLEVBQUU7QUFBQSxNQUMvQjtBQUFBLE1BQ0EsTUFBTSxDQUFDO0FBQUEsTUFDUCxnQkFBZ0IsS0FBSyxLQUFLO0FBQUEsTUFDMUIsUUFBUTtBQUFBLE1BQ1I7QUFBQSxNQUNBLFlBQVlBLGVBQWMsSUFBSTtBQUFBLElBQ2xDO0FBQ0EsUUFBSSxDQUFDLEtBQUssV0FBVyxFQUFFLE9BQU87QUFDMUIsVUFBSTtBQUNBLGNBQU0sU0FBUyxLQUFLLFdBQVcsRUFBRSxNQUFNLE1BQU0sQ0FBQyxHQUFHLFFBQVEsSUFBSSxDQUFDO0FBQzlELGVBQU8sUUFBUSxNQUFNLElBQ2Y7QUFBQSxVQUNFLE9BQU8sT0FBTztBQUFBLFFBQ2xCLElBQ0U7QUFBQSxVQUNFLFFBQVEsSUFBSSxPQUFPO0FBQUEsUUFDdkI7QUFBQSxNQUNSLFNBQ08sS0FBSztBQUNSLFlBQUksS0FBSyxTQUFTLFlBQVksR0FBRyxTQUFTLGFBQWEsR0FBRztBQUN0RCxlQUFLLFdBQVcsRUFBRSxRQUFRO0FBQUEsUUFDOUI7QUFDQSxZQUFJLFNBQVM7QUFBQSxVQUNULFFBQVEsQ0FBQztBQUFBLFVBQ1QsT0FBTztBQUFBLFFBQ1g7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUNBLFdBQU8sS0FBSyxZQUFZLEVBQUUsTUFBTSxNQUFNLENBQUMsR0FBRyxRQUFRLElBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxXQUFXLFFBQVEsTUFBTSxJQUNsRjtBQUFBLE1BQ0UsT0FBTyxPQUFPO0FBQUEsSUFDbEIsSUFDRTtBQUFBLE1BQ0UsUUFBUSxJQUFJLE9BQU87QUFBQSxJQUN2QixDQUFDO0FBQUEsRUFDVDtBQUFBLEVBQ0EsTUFBTSxXQUFXLE1BQU0sUUFBUTtBQUMzQixVQUFNLFNBQVMsTUFBTSxLQUFLLGVBQWUsTUFBTSxNQUFNO0FBQ3JELFFBQUksT0FBTztBQUNQLGFBQU8sT0FBTztBQUNsQixVQUFNLE9BQU87QUFBQSxFQUNqQjtBQUFBLEVBQ0EsTUFBTSxlQUFlLE1BQU0sUUFBUTtBQUMvQixVQUFNLE1BQU07QUFBQSxNQUNSLFFBQVE7QUFBQSxRQUNKLFFBQVEsQ0FBQztBQUFBLFFBQ1Qsb0JBQW9CLFFBQVE7QUFBQSxRQUM1QixPQUFPO0FBQUEsTUFDWDtBQUFBLE1BQ0EsTUFBTSxRQUFRLFFBQVEsQ0FBQztBQUFBLE1BQ3ZCLGdCQUFnQixLQUFLLEtBQUs7QUFBQSxNQUMxQixRQUFRO0FBQUEsTUFDUjtBQUFBLE1BQ0EsWUFBWUEsZUFBYyxJQUFJO0FBQUEsSUFDbEM7QUFDQSxVQUFNLG1CQUFtQixLQUFLLE9BQU8sRUFBRSxNQUFNLE1BQU0sSUFBSSxNQUFNLFFBQVEsSUFBSSxDQUFDO0FBQzFFLFVBQU0sU0FBUyxPQUFPLFFBQVEsZ0JBQWdCLElBQUksbUJBQW1CLFFBQVEsUUFBUSxnQkFBZ0I7QUFDckcsV0FBTyxhQUFhLEtBQUssTUFBTTtBQUFBLEVBQ25DO0FBQUEsRUFDQSxPQUFPQyxRQUFPLFNBQVM7QUFDbkIsVUFBTSxxQkFBcUIsQ0FBQyxRQUFRO0FBQ2hDLFVBQUksT0FBTyxZQUFZLFlBQVksT0FBTyxZQUFZLGFBQWE7QUFDL0QsZUFBTyxFQUFFLFFBQVE7QUFBQSxNQUNyQixXQUNTLE9BQU8sWUFBWSxZQUFZO0FBQ3BDLGVBQU8sUUFBUSxHQUFHO0FBQUEsTUFDdEIsT0FDSztBQUNELGVBQU87QUFBQSxNQUNYO0FBQUEsSUFDSjtBQUNBLFdBQU8sS0FBSyxZQUFZLENBQUMsS0FBSyxRQUFRO0FBQ2xDLFlBQU0sU0FBU0EsT0FBTSxHQUFHO0FBQ3hCLFlBQU0sV0FBVyxNQUFNLElBQUksU0FBUztBQUFBLFFBQ2hDLE1BQU1DLGNBQWE7QUFBQSxRQUNuQixHQUFHLG1CQUFtQixHQUFHO0FBQUEsTUFDN0IsQ0FBQztBQUNELFVBQUksT0FBTyxZQUFZLGVBQWUsa0JBQWtCLFNBQVM7QUFDN0QsZUFBTyxPQUFPLEtBQUssQ0FBQyxTQUFTO0FBQ3pCLGNBQUksQ0FBQyxNQUFNO0FBQ1AscUJBQVM7QUFDVCxtQkFBTztBQUFBLFVBQ1gsT0FDSztBQUNELG1CQUFPO0FBQUEsVUFDWDtBQUFBLFFBQ0osQ0FBQztBQUFBLE1BQ0w7QUFDQSxVQUFJLENBQUMsUUFBUTtBQUNULGlCQUFTO0FBQ1QsZUFBTztBQUFBLE1BQ1gsT0FDSztBQUNELGVBQU87QUFBQSxNQUNYO0FBQUEsSUFDSixDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsV0FBV0QsUUFBTyxnQkFBZ0I7QUFDOUIsV0FBTyxLQUFLLFlBQVksQ0FBQyxLQUFLLFFBQVE7QUFDbEMsVUFBSSxDQUFDQSxPQUFNLEdBQUcsR0FBRztBQUNiLFlBQUksU0FBUyxPQUFPLG1CQUFtQixhQUFhLGVBQWUsS0FBSyxHQUFHLElBQUksY0FBYztBQUM3RixlQUFPO0FBQUEsTUFDWCxPQUNLO0FBQ0QsZUFBTztBQUFBLE1BQ1g7QUFBQSxJQUNKLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxZQUFZLFlBQVk7QUFDcEIsV0FBTyxJQUFJLFdBQVc7QUFBQSxNQUNsQixRQUFRO0FBQUEsTUFDUixVQUFVRSx1QkFBc0I7QUFBQSxNQUNoQyxRQUFRLEVBQUUsTUFBTSxjQUFjLFdBQVc7QUFBQSxJQUM3QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsWUFBWSxZQUFZO0FBQ3BCLFdBQU8sS0FBSyxZQUFZLFVBQVU7QUFBQSxFQUN0QztBQUFBLEVBQ0EsWUFBWSxLQUFLO0FBRWIsU0FBSyxNQUFNLEtBQUs7QUFDaEIsU0FBSyxPQUFPO0FBQ1osU0FBSyxRQUFRLEtBQUssTUFBTSxLQUFLLElBQUk7QUFDakMsU0FBSyxZQUFZLEtBQUssVUFBVSxLQUFLLElBQUk7QUFDekMsU0FBSyxhQUFhLEtBQUssV0FBVyxLQUFLLElBQUk7QUFDM0MsU0FBSyxpQkFBaUIsS0FBSyxlQUFlLEtBQUssSUFBSTtBQUNuRCxTQUFLLE1BQU0sS0FBSyxJQUFJLEtBQUssSUFBSTtBQUM3QixTQUFLLFNBQVMsS0FBSyxPQUFPLEtBQUssSUFBSTtBQUNuQyxTQUFLLGFBQWEsS0FBSyxXQUFXLEtBQUssSUFBSTtBQUMzQyxTQUFLLGNBQWMsS0FBSyxZQUFZLEtBQUssSUFBSTtBQUM3QyxTQUFLLFdBQVcsS0FBSyxTQUFTLEtBQUssSUFBSTtBQUN2QyxTQUFLLFdBQVcsS0FBSyxTQUFTLEtBQUssSUFBSTtBQUN2QyxTQUFLLFVBQVUsS0FBSyxRQUFRLEtBQUssSUFBSTtBQUNyQyxTQUFLLFFBQVEsS0FBSyxNQUFNLEtBQUssSUFBSTtBQUNqQyxTQUFLLFVBQVUsS0FBSyxRQUFRLEtBQUssSUFBSTtBQUNyQyxTQUFLLEtBQUssS0FBSyxHQUFHLEtBQUssSUFBSTtBQUMzQixTQUFLLE1BQU0sS0FBSyxJQUFJLEtBQUssSUFBSTtBQUM3QixTQUFLLFlBQVksS0FBSyxVQUFVLEtBQUssSUFBSTtBQUN6QyxTQUFLLFFBQVEsS0FBSyxNQUFNLEtBQUssSUFBSTtBQUNqQyxTQUFLLFVBQVUsS0FBSyxRQUFRLEtBQUssSUFBSTtBQUNyQyxTQUFLLFFBQVEsS0FBSyxNQUFNLEtBQUssSUFBSTtBQUNqQyxTQUFLLFdBQVcsS0FBSyxTQUFTLEtBQUssSUFBSTtBQUN2QyxTQUFLLE9BQU8sS0FBSyxLQUFLLEtBQUssSUFBSTtBQUMvQixTQUFLLFdBQVcsS0FBSyxTQUFTLEtBQUssSUFBSTtBQUN2QyxTQUFLLGFBQWEsS0FBSyxXQUFXLEtBQUssSUFBSTtBQUMzQyxTQUFLLGFBQWEsS0FBSyxXQUFXLEtBQUssSUFBSTtBQUMzQyxTQUFLLFdBQVcsSUFBSTtBQUFBLE1BQ2hCLFNBQVM7QUFBQSxNQUNULFFBQVE7QUFBQSxNQUNSLFVBQVUsQ0FBQyxTQUFTLEtBQUssV0FBVyxFQUFFLElBQUk7QUFBQSxJQUM5QztBQUFBLEVBQ0o7QUFBQSxFQUNBLFdBQVc7QUFDUCxXQUFPQyxhQUFZLE9BQU8sTUFBTSxLQUFLLElBQUk7QUFBQSxFQUM3QztBQUFBLEVBQ0EsV0FBVztBQUNQLFdBQU9DLGFBQVksT0FBTyxNQUFNLEtBQUssSUFBSTtBQUFBLEVBQzdDO0FBQUEsRUFDQSxVQUFVO0FBQ04sV0FBTyxLQUFLLFNBQVMsRUFBRSxTQUFTO0FBQUEsRUFDcEM7QUFBQSxFQUNBLFFBQVE7QUFDSixXQUFPQyxVQUFTLE9BQU8sSUFBSTtBQUFBLEVBQy9CO0FBQUEsRUFDQSxVQUFVO0FBQ04sV0FBT0MsWUFBVyxPQUFPLE1BQU0sS0FBSyxJQUFJO0FBQUEsRUFDNUM7QUFBQSxFQUNBLEdBQUcsUUFBUTtBQUNQLFdBQU9DLFVBQVMsT0FBTyxDQUFDLE1BQU0sTUFBTSxHQUFHLEtBQUssSUFBSTtBQUFBLEVBQ3BEO0FBQUEsRUFDQSxJQUFJLFVBQVU7QUFDVixXQUFPQyxpQkFBZ0IsT0FBTyxNQUFNLFVBQVUsS0FBSyxJQUFJO0FBQUEsRUFDM0Q7QUFBQSxFQUNBLFVBQVVDLFlBQVc7QUFDakIsV0FBTyxJQUFJLFdBQVc7QUFBQSxNQUNsQixHQUFHLG9CQUFvQixLQUFLLElBQUk7QUFBQSxNQUNoQyxRQUFRO0FBQUEsTUFDUixVQUFVUCx1QkFBc0I7QUFBQSxNQUNoQyxRQUFRLEVBQUUsTUFBTSxhQUFhLFdBQUFPLFdBQVU7QUFBQSxJQUMzQyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsUUFBUSxLQUFLO0FBQ1QsVUFBTSxtQkFBbUIsT0FBTyxRQUFRLGFBQWEsTUFBTSxNQUFNO0FBQ2pFLFdBQU8sSUFBSUMsWUFBVztBQUFBLE1BQ2xCLEdBQUcsb0JBQW9CLEtBQUssSUFBSTtBQUFBLE1BQ2hDLFdBQVc7QUFBQSxNQUNYLGNBQWM7QUFBQSxNQUNkLFVBQVVSLHVCQUFzQjtBQUFBLElBQ3BDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxRQUFRO0FBQ0osV0FBTyxJQUFJLFdBQVc7QUFBQSxNQUNsQixVQUFVQSx1QkFBc0I7QUFBQSxNQUNoQyxNQUFNO0FBQUEsTUFDTixHQUFHLG9CQUFvQixLQUFLLElBQUk7QUFBQSxJQUNwQyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsTUFBTSxLQUFLO0FBQ1AsVUFBTSxpQkFBaUIsT0FBTyxRQUFRLGFBQWEsTUFBTSxNQUFNO0FBQy9ELFdBQU8sSUFBSVMsVUFBUztBQUFBLE1BQ2hCLEdBQUcsb0JBQW9CLEtBQUssSUFBSTtBQUFBLE1BQ2hDLFdBQVc7QUFBQSxNQUNYLFlBQVk7QUFBQSxNQUNaLFVBQVVULHVCQUFzQjtBQUFBLElBQ3BDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxTQUFTLGFBQWE7QUFDbEIsVUFBTSxPQUFPLEtBQUs7QUFDbEIsV0FBTyxJQUFJLEtBQUs7QUFBQSxNQUNaLEdBQUcsS0FBSztBQUFBLE1BQ1I7QUFBQSxJQUNKLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxLQUFLLFFBQVE7QUFDVCxXQUFPLFlBQVksT0FBTyxNQUFNLE1BQU07QUFBQSxFQUMxQztBQUFBLEVBQ0EsV0FBVztBQUNQLFdBQU9VLGFBQVksT0FBTyxJQUFJO0FBQUEsRUFDbEM7QUFBQSxFQUNBLGFBQWE7QUFDVCxXQUFPLEtBQUssVUFBVSxNQUFTLEVBQUU7QUFBQSxFQUNyQztBQUFBLEVBQ0EsYUFBYTtBQUNULFdBQU8sS0FBSyxVQUFVLElBQUksRUFBRTtBQUFBLEVBQ2hDO0FBQ0o7QUFDQSxJQUFNLFlBQVk7QUFDbEIsSUFBTSxhQUFhO0FBQ25CLElBQU0sWUFBWTtBQUdsQixJQUFNLFlBQVk7QUFDbEIsSUFBTSxjQUFjO0FBQ3BCLElBQU0sV0FBVztBQUNqQixJQUFNLGdCQUFnQjtBQWF0QixJQUFNLGFBQWE7QUFJbkIsSUFBTSxjQUFjO0FBQ3BCLElBQUk7QUFFSixJQUFNLFlBQVk7QUFDbEIsSUFBTSxnQkFBZ0I7QUFHdEIsSUFBTSxZQUFZO0FBQ2xCLElBQU0sZ0JBQWdCO0FBRXRCLElBQU0sY0FBYztBQUVwQixJQUFNLGlCQUFpQjtBQU12QixJQUFNLGtCQUFrQjtBQUN4QixJQUFNLFlBQVksSUFBSSxPQUFPLElBQUksZUFBZSxHQUFHO0FBQ25ELFNBQVMsZ0JBQWdCLE1BQU07QUFDM0IsTUFBSSxxQkFBcUI7QUFDekIsTUFBSSxLQUFLLFdBQVc7QUFDaEIseUJBQXFCLEdBQUcsa0JBQWtCLFVBQVUsS0FBSyxTQUFTO0FBQUEsRUFDdEUsV0FDUyxLQUFLLGFBQWEsTUFBTTtBQUM3Qix5QkFBcUIsR0FBRyxrQkFBa0I7QUFBQSxFQUM5QztBQUNBLFFBQU0sb0JBQW9CLEtBQUssWUFBWSxNQUFNO0FBQ2pELFNBQU8sOEJBQThCLGtCQUFrQixJQUFJLGlCQUFpQjtBQUNoRjtBQUNBLFNBQVMsVUFBVSxNQUFNO0FBQ3JCLFNBQU8sSUFBSSxPQUFPLElBQUksZ0JBQWdCLElBQUksQ0FBQyxHQUFHO0FBQ2xEO0FBRU8sU0FBUyxjQUFjLE1BQU07QUFDaEMsTUFBSSxRQUFRLEdBQUcsZUFBZSxJQUFJLGdCQUFnQixJQUFJLENBQUM7QUFDdkQsUUFBTSxPQUFPLENBQUM7QUFDZCxPQUFLLEtBQUssS0FBSyxRQUFRLE9BQU8sR0FBRztBQUNqQyxNQUFJLEtBQUs7QUFDTCxTQUFLLEtBQUssc0JBQXNCO0FBQ3BDLFVBQVEsR0FBRyxLQUFLLElBQUksS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUNsQyxTQUFPLElBQUksT0FBTyxJQUFJLEtBQUssR0FBRztBQUNsQztBQUNBLFNBQVMsVUFBVSxJQUFJQyxVQUFTO0FBQzVCLE9BQUtBLGFBQVksUUFBUSxDQUFDQSxhQUFZLFVBQVUsS0FBSyxFQUFFLEdBQUc7QUFDdEQsV0FBTztBQUFBLEVBQ1g7QUFDQSxPQUFLQSxhQUFZLFFBQVEsQ0FBQ0EsYUFBWSxVQUFVLEtBQUssRUFBRSxHQUFHO0FBQ3RELFdBQU87QUFBQSxFQUNYO0FBQ0EsU0FBTztBQUNYO0FBQ0EsU0FBU0MsWUFBV0MsTUFBSyxLQUFLO0FBQzFCLE1BQUksQ0FBQyxTQUFTLEtBQUtBLElBQUc7QUFDbEIsV0FBTztBQUNYLE1BQUk7QUFDQSxVQUFNLENBQUMsTUFBTSxJQUFJQSxLQUFJLE1BQU0sR0FBRztBQUM5QixRQUFJLENBQUM7QUFDRCxhQUFPO0FBRVgsVUFBTUMsVUFBUyxPQUNWLFFBQVEsTUFBTSxHQUFHLEVBQ2pCLFFBQVEsTUFBTSxHQUFHLEVBQ2pCLE9BQU8sT0FBTyxVQUFXLElBQUssT0FBTyxTQUFTLEtBQU0sR0FBSSxHQUFHO0FBRWhFLFVBQU0sVUFBVSxLQUFLLE1BQU0sS0FBS0EsT0FBTSxDQUFDO0FBQ3ZDLFFBQUksT0FBTyxZQUFZLFlBQVksWUFBWTtBQUMzQyxhQUFPO0FBQ1gsUUFBSSxTQUFTLFdBQVcsU0FBUyxRQUFRO0FBQ3JDLGFBQU87QUFDWCxRQUFJLENBQUMsUUFBUTtBQUNULGFBQU87QUFDWCxRQUFJLE9BQU8sUUFBUSxRQUFRO0FBQ3ZCLGFBQU87QUFDWCxXQUFPO0FBQUEsRUFDWCxRQUNNO0FBQ0YsV0FBTztBQUFBLEVBQ1g7QUFDSjtBQUNBLFNBQVMsWUFBWSxJQUFJSCxVQUFTO0FBQzlCLE9BQUtBLGFBQVksUUFBUSxDQUFDQSxhQUFZLGNBQWMsS0FBSyxFQUFFLEdBQUc7QUFDMUQsV0FBTztBQUFBLEVBQ1g7QUFDQSxPQUFLQSxhQUFZLFFBQVEsQ0FBQ0EsYUFBWSxjQUFjLEtBQUssRUFBRSxHQUFHO0FBQzFELFdBQU87QUFBQSxFQUNYO0FBQ0EsU0FBTztBQUNYO0FBQ08sSUFBTUksYUFBTixNQUFNQyxvQkFBa0JwQixTQUFRO0FBQUEsRUFDbkMsT0FBTyxPQUFPO0FBQ1YsUUFBSSxLQUFLLEtBQUssUUFBUTtBQUNsQixZQUFNLE9BQU8sT0FBTyxNQUFNLElBQUk7QUFBQSxJQUNsQztBQUNBLFVBQU1xQixjQUFhLEtBQUssU0FBUyxLQUFLO0FBQ3RDLFFBQUlBLGdCQUFlLGNBQWMsUUFBUTtBQUNyQyxZQUFNQyxPQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsd0JBQWtCQSxNQUFLO0FBQUEsUUFDbkIsTUFBTW5CLGNBQWE7QUFBQSxRQUNuQixVQUFVLGNBQWM7QUFBQSxRQUN4QixVQUFVbUIsS0FBSTtBQUFBLE1BQ2xCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFVBQU0sU0FBUyxJQUFJLFlBQVk7QUFDL0IsUUFBSSxNQUFNO0FBQ1YsZUFBV3BCLFVBQVMsS0FBSyxLQUFLLFFBQVE7QUFDbEMsVUFBSUEsT0FBTSxTQUFTLE9BQU87QUFDdEIsWUFBSSxNQUFNLEtBQUssU0FBU0EsT0FBTSxPQUFPO0FBQ2pDLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsWUFDZixNQUFNO0FBQUEsWUFDTixXQUFXO0FBQUEsWUFDWCxPQUFPO0FBQUEsWUFDUCxTQUFTQSxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLE9BQU87QUFDM0IsWUFBSSxNQUFNLEtBQUssU0FBU0EsT0FBTSxPQUFPO0FBQ2pDLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsWUFDZixNQUFNO0FBQUEsWUFDTixXQUFXO0FBQUEsWUFDWCxPQUFPO0FBQUEsWUFDUCxTQUFTQSxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFVBQVU7QUFDOUIsY0FBTSxTQUFTLE1BQU0sS0FBSyxTQUFTQSxPQUFNO0FBQ3pDLGNBQU0sV0FBVyxNQUFNLEtBQUssU0FBU0EsT0FBTTtBQUMzQyxZQUFJLFVBQVUsVUFBVTtBQUNwQixnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsY0FBSSxRQUFRO0FBQ1IsOEJBQWtCLEtBQUs7QUFBQSxjQUNuQixNQUFNQyxjQUFhO0FBQUEsY0FDbkIsU0FBU0QsT0FBTTtBQUFBLGNBQ2YsTUFBTTtBQUFBLGNBQ04sV0FBVztBQUFBLGNBQ1gsT0FBTztBQUFBLGNBQ1AsU0FBU0EsT0FBTTtBQUFBLFlBQ25CLENBQUM7QUFBQSxVQUNMLFdBQ1MsVUFBVTtBQUNmLDhCQUFrQixLQUFLO0FBQUEsY0FDbkIsTUFBTUMsY0FBYTtBQUFBLGNBQ25CLFNBQVNELE9BQU07QUFBQSxjQUNmLE1BQU07QUFBQSxjQUNOLFdBQVc7QUFBQSxjQUNYLE9BQU87QUFBQSxjQUNQLFNBQVNBLE9BQU07QUFBQSxZQUNuQixDQUFDO0FBQUEsVUFDTDtBQUNBLGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFNBQVM7QUFDN0IsWUFBSSxDQUFDLFdBQVcsS0FBSyxNQUFNLElBQUksR0FBRztBQUM5QixnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxTQUFTO0FBQzdCLFlBQUksQ0FBQyxZQUFZO0FBQ2IsdUJBQWEsSUFBSSxPQUFPLGFBQWEsR0FBRztBQUFBLFFBQzVDO0FBQ0EsWUFBSSxDQUFDLFdBQVcsS0FBSyxNQUFNLElBQUksR0FBRztBQUM5QixnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxRQUFRO0FBQzVCLFlBQUksQ0FBQyxVQUFVLEtBQUssTUFBTSxJQUFJLEdBQUc7QUFDN0IsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsWUFBWTtBQUFBLFlBQ1osTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsVUFBVTtBQUM5QixZQUFJLENBQUMsWUFBWSxLQUFLLE1BQU0sSUFBSSxHQUFHO0FBQy9CLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFFBQVE7QUFDNUIsWUFBSSxDQUFDLFVBQVUsS0FBSyxNQUFNLElBQUksR0FBRztBQUM3QixnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxTQUFTO0FBQzdCLFlBQUksQ0FBQyxXQUFXLEtBQUssTUFBTSxJQUFJLEdBQUc7QUFDOUIsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsWUFBWTtBQUFBLFlBQ1osTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsUUFBUTtBQUM1QixZQUFJLENBQUMsVUFBVSxLQUFLLE1BQU0sSUFBSSxHQUFHO0FBQzdCLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLE9BQU87QUFDM0IsWUFBSTtBQUVBLGNBQUksSUFBSSxNQUFNLElBQUk7QUFBQSxRQUN0QixRQUNNO0FBQ0YsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsWUFBWTtBQUFBLFlBQ1osTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsU0FBUztBQUM3QixRQUFBQSxPQUFNLE1BQU0sWUFBWTtBQUN4QixjQUFNLGFBQWFBLE9BQU0sTUFBTSxLQUFLLE1BQU0sSUFBSTtBQUM5QyxZQUFJLENBQUMsWUFBWTtBQUNiLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFFBQVE7QUFDNUIsY0FBTSxPQUFPLE1BQU0sS0FBSyxLQUFLO0FBQUEsTUFDakMsV0FDU0EsT0FBTSxTQUFTLFlBQVk7QUFDaEMsWUFBSSxDQUFDLE1BQU0sS0FBSyxTQUFTQSxPQUFNLE9BQU9BLE9BQU0sUUFBUSxHQUFHO0FBQ25ELGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixZQUFZLEVBQUUsVUFBVUQsT0FBTSxPQUFPLFVBQVVBLE9BQU0sU0FBUztBQUFBLFlBQzlELFNBQVNBLE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsZUFBZTtBQUNuQyxjQUFNLE9BQU8sTUFBTSxLQUFLLFlBQVk7QUFBQSxNQUN4QyxXQUNTQSxPQUFNLFNBQVMsZUFBZTtBQUNuQyxjQUFNLE9BQU8sTUFBTSxLQUFLLFlBQVk7QUFBQSxNQUN4QyxXQUNTQSxPQUFNLFNBQVMsY0FBYztBQUNsQyxZQUFJLENBQUMsTUFBTSxLQUFLLFdBQVdBLE9BQU0sS0FBSyxHQUFHO0FBQ3JDLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixZQUFZLEVBQUUsWUFBWUQsT0FBTSxNQUFNO0FBQUEsWUFDdEMsU0FBU0EsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxZQUFZO0FBQ2hDLFlBQUksQ0FBQyxNQUFNLEtBQUssU0FBU0EsT0FBTSxLQUFLLEdBQUc7QUFDbkMsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFlBQVksRUFBRSxVQUFVRCxPQUFNLE1BQU07QUFBQSxZQUNwQyxTQUFTQSxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFlBQVk7QUFDaEMsY0FBTSxRQUFRLGNBQWNBLE1BQUs7QUFDakMsWUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLElBQUksR0FBRztBQUN6QixnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsWUFBWTtBQUFBLFlBQ1osU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxRQUFRO0FBQzVCLGNBQU0sUUFBUTtBQUNkLFlBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxJQUFJLEdBQUc7QUFDekIsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLFNBQVNELE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsUUFBUTtBQUM1QixjQUFNLFFBQVEsVUFBVUEsTUFBSztBQUM3QixZQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sSUFBSSxHQUFHO0FBQ3pCLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFlBQVk7QUFDaEMsWUFBSSxDQUFDLGNBQWMsS0FBSyxNQUFNLElBQUksR0FBRztBQUNqQyxnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxNQUFNO0FBQzFCLFlBQUksQ0FBQyxVQUFVLE1BQU0sTUFBTUEsT0FBTSxPQUFPLEdBQUc7QUFDdkMsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsWUFBWTtBQUFBLFlBQ1osTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsT0FBTztBQUMzQixZQUFJLENBQUNjLFlBQVcsTUFBTSxNQUFNZCxPQUFNLEdBQUcsR0FBRztBQUNwQyxnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxRQUFRO0FBQzVCLFlBQUksQ0FBQyxZQUFZLE1BQU0sTUFBTUEsT0FBTSxPQUFPLEdBQUc7QUFDekMsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsWUFBWTtBQUFBLFlBQ1osTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsVUFBVTtBQUM5QixZQUFJLENBQUMsWUFBWSxLQUFLLE1BQU0sSUFBSSxHQUFHO0FBQy9CLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLFlBQVk7QUFBQSxZQUNaLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLGFBQWE7QUFDakMsWUFBSSxDQUFDLGVBQWUsS0FBSyxNQUFNLElBQUksR0FBRztBQUNsQyxnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixZQUFZO0FBQUEsWUFDWixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLE9BQ0s7QUFDRCxhQUFLLFlBQVlBLE1BQUs7QUFBQSxNQUMxQjtBQUFBLElBQ0o7QUFDQSxXQUFPLEVBQUUsUUFBUSxPQUFPLE9BQU8sT0FBTyxNQUFNLEtBQUs7QUFBQSxFQUNyRDtBQUFBLEVBQ0EsT0FBTyxPQUFPLFlBQVksU0FBUztBQUMvQixXQUFPLEtBQUssV0FBVyxDQUFDLFNBQVMsTUFBTSxLQUFLLElBQUksR0FBRztBQUFBLE1BQy9DO0FBQUEsTUFDQSxNQUFNQyxjQUFhO0FBQUEsTUFDbkIsR0FBRyxVQUFVLFNBQVMsT0FBTztBQUFBLElBQ2pDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxVQUFVRCxRQUFPO0FBQ2IsV0FBTyxJQUFJa0IsWUFBVTtBQUFBLE1BQ2pCLEdBQUcsS0FBSztBQUFBLE1BQ1IsUUFBUSxDQUFDLEdBQUcsS0FBSyxLQUFLLFFBQVFsQixNQUFLO0FBQUEsSUFDdkMsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLE1BQU0sU0FBUztBQUNYLFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxTQUFTLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDM0U7QUFBQSxFQUNBLElBQUksU0FBUztBQUNULFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxPQUFPLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDekU7QUFBQSxFQUNBLE1BQU0sU0FBUztBQUNYLFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxTQUFTLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDM0U7QUFBQSxFQUNBLEtBQUssU0FBUztBQUNWLFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxRQUFRLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDMUU7QUFBQSxFQUNBLE9BQU8sU0FBUztBQUNaLFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxVQUFVLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDNUU7QUFBQSxFQUNBLEtBQUssU0FBUztBQUNWLFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxRQUFRLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDMUU7QUFBQSxFQUNBLE1BQU0sU0FBUztBQUNYLFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxTQUFTLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDM0U7QUFBQSxFQUNBLEtBQUssU0FBUztBQUNWLFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxRQUFRLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDMUU7QUFBQSxFQUNBLE9BQU8sU0FBUztBQUNaLFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxVQUFVLEdBQUcsVUFBVSxTQUFTLE9BQU8sRUFBRSxDQUFDO0FBQUEsRUFDNUU7QUFBQSxFQUNBLFVBQVUsU0FBUztBQUVmLFdBQU8sS0FBSyxVQUFVO0FBQUEsTUFDbEIsTUFBTTtBQUFBLE1BQ04sR0FBRyxVQUFVLFNBQVMsT0FBTztBQUFBLElBQ2pDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxJQUFJLFNBQVM7QUFDVCxXQUFPLEtBQUssVUFBVSxFQUFFLE1BQU0sT0FBTyxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQ3pFO0FBQUEsRUFDQSxHQUFHLFNBQVM7QUFDUixXQUFPLEtBQUssVUFBVSxFQUFFLE1BQU0sTUFBTSxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQ3hFO0FBQUEsRUFDQSxLQUFLLFNBQVM7QUFDVixXQUFPLEtBQUssVUFBVSxFQUFFLE1BQU0sUUFBUSxHQUFHLFVBQVUsU0FBUyxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQzFFO0FBQUEsRUFDQSxTQUFTLFNBQVM7QUFDZCxRQUFJLE9BQU8sWUFBWSxVQUFVO0FBQzdCLGFBQU8sS0FBSyxVQUFVO0FBQUEsUUFDbEIsTUFBTTtBQUFBLFFBQ04sV0FBVztBQUFBLFFBQ1gsUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsU0FBUztBQUFBLE1BQ2IsQ0FBQztBQUFBLElBQ0w7QUFDQSxXQUFPLEtBQUssVUFBVTtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNOLFdBQVcsT0FBTyxTQUFTLGNBQWMsY0FBYyxPQUFPLFNBQVM7QUFBQSxNQUN2RSxRQUFRLFNBQVMsVUFBVTtBQUFBLE1BQzNCLE9BQU8sU0FBUyxTQUFTO0FBQUEsTUFDekIsR0FBRyxVQUFVLFNBQVMsU0FBUyxPQUFPO0FBQUEsSUFDMUMsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLEtBQUssU0FBUztBQUNWLFdBQU8sS0FBSyxVQUFVLEVBQUUsTUFBTSxRQUFRLFFBQVEsQ0FBQztBQUFBLEVBQ25EO0FBQUEsRUFDQSxLQUFLLFNBQVM7QUFDVixRQUFJLE9BQU8sWUFBWSxVQUFVO0FBQzdCLGFBQU8sS0FBSyxVQUFVO0FBQUEsUUFDbEIsTUFBTTtBQUFBLFFBQ04sV0FBVztBQUFBLFFBQ1gsU0FBUztBQUFBLE1BQ2IsQ0FBQztBQUFBLElBQ0w7QUFDQSxXQUFPLEtBQUssVUFBVTtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNOLFdBQVcsT0FBTyxTQUFTLGNBQWMsY0FBYyxPQUFPLFNBQVM7QUFBQSxNQUN2RSxHQUFHLFVBQVUsU0FBUyxTQUFTLE9BQU87QUFBQSxJQUMxQyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsU0FBUyxTQUFTO0FBQ2QsV0FBTyxLQUFLLFVBQVUsRUFBRSxNQUFNLFlBQVksR0FBRyxVQUFVLFNBQVMsT0FBTyxFQUFFLENBQUM7QUFBQSxFQUM5RTtBQUFBLEVBQ0EsTUFBTSxPQUFPLFNBQVM7QUFDbEIsV0FBTyxLQUFLLFVBQVU7QUFBQSxNQUNsQixNQUFNO0FBQUEsTUFDTjtBQUFBLE1BQ0EsR0FBRyxVQUFVLFNBQVMsT0FBTztBQUFBLElBQ2pDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxTQUFTLE9BQU8sU0FBUztBQUNyQixXQUFPLEtBQUssVUFBVTtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNOO0FBQUEsTUFDQSxVQUFVLFNBQVM7QUFBQSxNQUNuQixHQUFHLFVBQVUsU0FBUyxTQUFTLE9BQU87QUFBQSxJQUMxQyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsV0FBVyxPQUFPLFNBQVM7QUFDdkIsV0FBTyxLQUFLLFVBQVU7QUFBQSxNQUNsQixNQUFNO0FBQUEsTUFDTjtBQUFBLE1BQ0EsR0FBRyxVQUFVLFNBQVMsT0FBTztBQUFBLElBQ2pDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxTQUFTLE9BQU8sU0FBUztBQUNyQixXQUFPLEtBQUssVUFBVTtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNOO0FBQUEsTUFDQSxHQUFHLFVBQVUsU0FBUyxPQUFPO0FBQUEsSUFDakMsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLElBQUksV0FBVyxTQUFTO0FBQ3BCLFdBQU8sS0FBSyxVQUFVO0FBQUEsTUFDbEIsTUFBTTtBQUFBLE1BQ04sT0FBTztBQUFBLE1BQ1AsR0FBRyxVQUFVLFNBQVMsT0FBTztBQUFBLElBQ2pDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxJQUFJLFdBQVcsU0FBUztBQUNwQixXQUFPLEtBQUssVUFBVTtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNOLE9BQU87QUFBQSxNQUNQLEdBQUcsVUFBVSxTQUFTLE9BQU87QUFBQSxJQUNqQyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsT0FBTyxLQUFLLFNBQVM7QUFDakIsV0FBTyxLQUFLLFVBQVU7QUFBQSxNQUNsQixNQUFNO0FBQUEsTUFDTixPQUFPO0FBQUEsTUFDUCxHQUFHLFVBQVUsU0FBUyxPQUFPO0FBQUEsSUFDakMsQ0FBQztBQUFBLEVBQ0w7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFNBQVMsU0FBUztBQUNkLFdBQU8sS0FBSyxJQUFJLEdBQUcsVUFBVSxTQUFTLE9BQU8sQ0FBQztBQUFBLEVBQ2xEO0FBQUEsRUFDQSxPQUFPO0FBQ0gsV0FBTyxJQUFJa0IsWUFBVTtBQUFBLE1BQ2pCLEdBQUcsS0FBSztBQUFBLE1BQ1IsUUFBUSxDQUFDLEdBQUcsS0FBSyxLQUFLLFFBQVEsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUFBLElBQ2xELENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxjQUFjO0FBQ1YsV0FBTyxJQUFJQSxZQUFVO0FBQUEsTUFDakIsR0FBRyxLQUFLO0FBQUEsTUFDUixRQUFRLENBQUMsR0FBRyxLQUFLLEtBQUssUUFBUSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQUEsSUFDekQsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLGNBQWM7QUFDVixXQUFPLElBQUlBLFlBQVU7QUFBQSxNQUNqQixHQUFHLEtBQUs7QUFBQSxNQUNSLFFBQVEsQ0FBQyxHQUFHLEtBQUssS0FBSyxRQUFRLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFBQSxJQUN6RCxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsSUFBSSxhQUFhO0FBQ2IsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLFVBQVU7QUFBQSxFQUNqRTtBQUFBLEVBQ0EsSUFBSSxTQUFTO0FBQ1QsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLE1BQU07QUFBQSxFQUM3RDtBQUFBLEVBQ0EsSUFBSSxTQUFTO0FBQ1QsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLE1BQU07QUFBQSxFQUM3RDtBQUFBLEVBQ0EsSUFBSSxhQUFhO0FBQ2IsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLFVBQVU7QUFBQSxFQUNqRTtBQUFBLEVBQ0EsSUFBSSxVQUFVO0FBQ1YsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLE9BQU87QUFBQSxFQUM5RDtBQUFBLEVBQ0EsSUFBSSxRQUFRO0FBQ1IsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLEtBQUs7QUFBQSxFQUM1RDtBQUFBLEVBQ0EsSUFBSSxVQUFVO0FBQ1YsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLE9BQU87QUFBQSxFQUM5RDtBQUFBLEVBQ0EsSUFBSSxTQUFTO0FBQ1QsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLE1BQU07QUFBQSxFQUM3RDtBQUFBLEVBQ0EsSUFBSSxXQUFXO0FBQ1gsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLFFBQVE7QUFBQSxFQUMvRDtBQUFBLEVBQ0EsSUFBSSxTQUFTO0FBQ1QsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLE1BQU07QUFBQSxFQUM3RDtBQUFBLEVBQ0EsSUFBSSxVQUFVO0FBQ1YsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLE9BQU87QUFBQSxFQUM5RDtBQUFBLEVBQ0EsSUFBSSxTQUFTO0FBQ1QsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLE1BQU07QUFBQSxFQUM3RDtBQUFBLEVBQ0EsSUFBSSxPQUFPO0FBQ1AsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLElBQUk7QUFBQSxFQUMzRDtBQUFBLEVBQ0EsSUFBSSxTQUFTO0FBQ1QsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLE1BQU07QUFBQSxFQUM3RDtBQUFBLEVBQ0EsSUFBSSxXQUFXO0FBQ1gsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLFFBQVE7QUFBQSxFQUMvRDtBQUFBLEVBQ0EsSUFBSSxjQUFjO0FBRWQsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLFdBQVc7QUFBQSxFQUNsRTtBQUFBLEVBQ0EsSUFBSSxZQUFZO0FBQ1osUUFBSSxNQUFNO0FBQ1YsZUFBVyxNQUFNLEtBQUssS0FBSyxRQUFRO0FBQy9CLFVBQUksR0FBRyxTQUFTLE9BQU87QUFDbkIsWUFBSSxRQUFRLFFBQVEsR0FBRyxRQUFRO0FBQzNCLGdCQUFNLEdBQUc7QUFBQSxNQUNqQjtBQUFBLElBQ0o7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUFBLEVBQ0EsSUFBSSxZQUFZO0FBQ1osUUFBSSxNQUFNO0FBQ1YsZUFBVyxNQUFNLEtBQUssS0FBSyxRQUFRO0FBQy9CLFVBQUksR0FBRyxTQUFTLE9BQU87QUFDbkIsWUFBSSxRQUFRLFFBQVEsR0FBRyxRQUFRO0FBQzNCLGdCQUFNLEdBQUc7QUFBQSxNQUNqQjtBQUFBLElBQ0o7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNKO0FBQ0FELFdBQVUsU0FBUyxDQUFDLFdBQVc7QUFDM0IsU0FBTyxJQUFJQSxXQUFVO0FBQUEsSUFDakIsUUFBUSxDQUFDO0FBQUEsSUFDVCxVQUFVZix1QkFBc0I7QUFBQSxJQUNoQyxRQUFRLFFBQVEsVUFBVTtBQUFBLElBQzFCLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFFQSxTQUFTbUIsb0JBQW1CLEtBQUssTUFBTTtBQUNuQyxRQUFNLGVBQWUsSUFBSSxTQUFTLEVBQUUsTUFBTSxHQUFHLEVBQUUsQ0FBQyxLQUFLLElBQUk7QUFDekQsUUFBTSxnQkFBZ0IsS0FBSyxTQUFTLEVBQUUsTUFBTSxHQUFHLEVBQUUsQ0FBQyxLQUFLLElBQUk7QUFDM0QsUUFBTSxXQUFXLGNBQWMsZUFBZSxjQUFjO0FBQzVELFFBQU0sU0FBUyxPQUFPLFNBQVMsSUFBSSxRQUFRLFFBQVEsRUFBRSxRQUFRLEtBQUssRUFBRSxDQUFDO0FBQ3JFLFFBQU0sVUFBVSxPQUFPLFNBQVMsS0FBSyxRQUFRLFFBQVEsRUFBRSxRQUFRLEtBQUssRUFBRSxDQUFDO0FBQ3ZFLFNBQVEsU0FBUyxVQUFXLE1BQU07QUFDdEM7QUFDTyxJQUFNQyxhQUFOLE1BQU0sbUJBQWtCeEIsU0FBUTtBQUFBLEVBQ25DLGNBQWM7QUFDVixVQUFNLEdBQUcsU0FBUztBQUNsQixTQUFLLE1BQU0sS0FBSztBQUNoQixTQUFLLE1BQU0sS0FBSztBQUNoQixTQUFLLE9BQU8sS0FBSztBQUFBLEVBQ3JCO0FBQUEsRUFDQSxPQUFPLE9BQU87QUFDVixRQUFJLEtBQUssS0FBSyxRQUFRO0FBQ2xCLFlBQU0sT0FBTyxPQUFPLE1BQU0sSUFBSTtBQUFBLElBQ2xDO0FBQ0EsVUFBTXFCLGNBQWEsS0FBSyxTQUFTLEtBQUs7QUFDdEMsUUFBSUEsZ0JBQWUsY0FBYyxRQUFRO0FBQ3JDLFlBQU1DLE9BQU0sS0FBSyxnQkFBZ0IsS0FBSztBQUN0Qyx3QkFBa0JBLE1BQUs7QUFBQSxRQUNuQixNQUFNbkIsY0FBYTtBQUFBLFFBQ25CLFVBQVUsY0FBYztBQUFBLFFBQ3hCLFVBQVVtQixLQUFJO0FBQUEsTUFDbEIsQ0FBQztBQUNELGFBQU87QUFBQSxJQUNYO0FBQ0EsUUFBSSxNQUFNO0FBQ1YsVUFBTSxTQUFTLElBQUksWUFBWTtBQUMvQixlQUFXcEIsVUFBUyxLQUFLLEtBQUssUUFBUTtBQUNsQyxVQUFJQSxPQUFNLFNBQVMsT0FBTztBQUN0QixZQUFJLENBQUMsS0FBSyxVQUFVLE1BQU0sSUFBSSxHQUFHO0FBQzdCLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixVQUFVO0FBQUEsWUFDVixVQUFVO0FBQUEsWUFDVixTQUFTRCxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLE9BQU87QUFDM0IsY0FBTSxXQUFXQSxPQUFNLFlBQVksTUFBTSxPQUFPQSxPQUFNLFFBQVEsTUFBTSxRQUFRQSxPQUFNO0FBQ2xGLFlBQUksVUFBVTtBQUNWLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsWUFDZixNQUFNO0FBQUEsWUFDTixXQUFXQSxPQUFNO0FBQUEsWUFDakIsT0FBTztBQUFBLFlBQ1AsU0FBU0EsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxPQUFPO0FBQzNCLGNBQU0sU0FBU0EsT0FBTSxZQUFZLE1BQU0sT0FBT0EsT0FBTSxRQUFRLE1BQU0sUUFBUUEsT0FBTTtBQUNoRixZQUFJLFFBQVE7QUFDUixnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFlBQ2YsTUFBTTtBQUFBLFlBQ04sV0FBV0EsT0FBTTtBQUFBLFlBQ2pCLE9BQU87QUFBQSxZQUNQLFNBQVNBLE9BQU07QUFBQSxVQUNuQixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTQSxPQUFNLFNBQVMsY0FBYztBQUNsQyxZQUFJcUIsb0JBQW1CLE1BQU0sTUFBTXJCLE9BQU0sS0FBSyxNQUFNLEdBQUc7QUFDbkQsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFlBQVlELE9BQU07QUFBQSxZQUNsQixTQUFTQSxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLFVBQVU7QUFDOUIsWUFBSSxDQUFDLE9BQU8sU0FBUyxNQUFNLElBQUksR0FBRztBQUM5QixnQkFBTSxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsNEJBQWtCLEtBQUs7QUFBQSxZQUNuQixNQUFNQyxjQUFhO0FBQUEsWUFDbkIsU0FBU0QsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLE9BQ0s7QUFDRCxhQUFLLFlBQVlBLE1BQUs7QUFBQSxNQUMxQjtBQUFBLElBQ0o7QUFDQSxXQUFPLEVBQUUsUUFBUSxPQUFPLE9BQU8sT0FBTyxNQUFNLEtBQUs7QUFBQSxFQUNyRDtBQUFBLEVBQ0EsSUFBSSxPQUFPLFNBQVM7QUFDaEIsV0FBTyxLQUFLLFNBQVMsT0FBTyxPQUFPLE1BQU0sVUFBVSxTQUFTLE9BQU8sQ0FBQztBQUFBLEVBQ3hFO0FBQUEsRUFDQSxHQUFHLE9BQU8sU0FBUztBQUNmLFdBQU8sS0FBSyxTQUFTLE9BQU8sT0FBTyxPQUFPLFVBQVUsU0FBUyxPQUFPLENBQUM7QUFBQSxFQUN6RTtBQUFBLEVBQ0EsSUFBSSxPQUFPLFNBQVM7QUFDaEIsV0FBTyxLQUFLLFNBQVMsT0FBTyxPQUFPLE1BQU0sVUFBVSxTQUFTLE9BQU8sQ0FBQztBQUFBLEVBQ3hFO0FBQUEsRUFDQSxHQUFHLE9BQU8sU0FBUztBQUNmLFdBQU8sS0FBSyxTQUFTLE9BQU8sT0FBTyxPQUFPLFVBQVUsU0FBUyxPQUFPLENBQUM7QUFBQSxFQUN6RTtBQUFBLEVBQ0EsU0FBUyxNQUFNLE9BQU8sV0FBVyxTQUFTO0FBQ3RDLFdBQU8sSUFBSSxXQUFVO0FBQUEsTUFDakIsR0FBRyxLQUFLO0FBQUEsTUFDUixRQUFRO0FBQUEsUUFDSixHQUFHLEtBQUssS0FBSztBQUFBLFFBQ2I7QUFBQSxVQUNJO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBLFNBQVMsVUFBVSxTQUFTLE9BQU87QUFBQSxRQUN2QztBQUFBLE1BQ0o7QUFBQSxJQUNKLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxVQUFVQSxRQUFPO0FBQ2IsV0FBTyxJQUFJLFdBQVU7QUFBQSxNQUNqQixHQUFHLEtBQUs7QUFBQSxNQUNSLFFBQVEsQ0FBQyxHQUFHLEtBQUssS0FBSyxRQUFRQSxNQUFLO0FBQUEsSUFDdkMsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLElBQUksU0FBUztBQUNULFdBQU8sS0FBSyxVQUFVO0FBQUEsTUFDbEIsTUFBTTtBQUFBLE1BQ04sU0FBUyxVQUFVLFNBQVMsT0FBTztBQUFBLElBQ3ZDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxTQUFTLFNBQVM7QUFDZCxXQUFPLEtBQUssVUFBVTtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNOLE9BQU87QUFBQSxNQUNQLFdBQVc7QUFBQSxNQUNYLFNBQVMsVUFBVSxTQUFTLE9BQU87QUFBQSxJQUN2QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsU0FBUyxTQUFTO0FBQ2QsV0FBTyxLQUFLLFVBQVU7QUFBQSxNQUNsQixNQUFNO0FBQUEsTUFDTixPQUFPO0FBQUEsTUFDUCxXQUFXO0FBQUEsTUFDWCxTQUFTLFVBQVUsU0FBUyxPQUFPO0FBQUEsSUFDdkMsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLFlBQVksU0FBUztBQUNqQixXQUFPLEtBQUssVUFBVTtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNOLE9BQU87QUFBQSxNQUNQLFdBQVc7QUFBQSxNQUNYLFNBQVMsVUFBVSxTQUFTLE9BQU87QUFBQSxJQUN2QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsWUFBWSxTQUFTO0FBQ2pCLFdBQU8sS0FBSyxVQUFVO0FBQUEsTUFDbEIsTUFBTTtBQUFBLE1BQ04sT0FBTztBQUFBLE1BQ1AsV0FBVztBQUFBLE1BQ1gsU0FBUyxVQUFVLFNBQVMsT0FBTztBQUFBLElBQ3ZDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxXQUFXLE9BQU8sU0FBUztBQUN2QixXQUFPLEtBQUssVUFBVTtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNOO0FBQUEsTUFDQSxTQUFTLFVBQVUsU0FBUyxPQUFPO0FBQUEsSUFDdkMsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLE9BQU8sU0FBUztBQUNaLFdBQU8sS0FBSyxVQUFVO0FBQUEsTUFDbEIsTUFBTTtBQUFBLE1BQ04sU0FBUyxVQUFVLFNBQVMsT0FBTztBQUFBLElBQ3ZDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxLQUFLLFNBQVM7QUFDVixXQUFPLEtBQUssVUFBVTtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNOLFdBQVc7QUFBQSxNQUNYLE9BQU8sT0FBTztBQUFBLE1BQ2QsU0FBUyxVQUFVLFNBQVMsT0FBTztBQUFBLElBQ3ZDLENBQUMsRUFBRSxVQUFVO0FBQUEsTUFDVCxNQUFNO0FBQUEsTUFDTixXQUFXO0FBQUEsTUFDWCxPQUFPLE9BQU87QUFBQSxNQUNkLFNBQVMsVUFBVSxTQUFTLE9BQU87QUFBQSxJQUN2QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsSUFBSSxXQUFXO0FBQ1gsUUFBSSxNQUFNO0FBQ1YsZUFBVyxNQUFNLEtBQUssS0FBSyxRQUFRO0FBQy9CLFVBQUksR0FBRyxTQUFTLE9BQU87QUFDbkIsWUFBSSxRQUFRLFFBQVEsR0FBRyxRQUFRO0FBQzNCLGdCQUFNLEdBQUc7QUFBQSxNQUNqQjtBQUFBLElBQ0o7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUFBLEVBQ0EsSUFBSSxXQUFXO0FBQ1gsUUFBSSxNQUFNO0FBQ1YsZUFBVyxNQUFNLEtBQUssS0FBSyxRQUFRO0FBQy9CLFVBQUksR0FBRyxTQUFTLE9BQU87QUFDbkIsWUFBSSxRQUFRLFFBQVEsR0FBRyxRQUFRO0FBQzNCLGdCQUFNLEdBQUc7QUFBQSxNQUNqQjtBQUFBLElBQ0o7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUFBLEVBQ0EsSUFBSSxRQUFRO0FBQ1IsV0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLFNBQVUsR0FBRyxTQUFTLGdCQUFnQixLQUFLLFVBQVUsR0FBRyxLQUFLLENBQUU7QUFBQSxFQUN0SDtBQUFBLEVBQ0EsSUFBSSxXQUFXO0FBQ1gsUUFBSSxNQUFNO0FBQ1YsUUFBSSxNQUFNO0FBQ1YsZUFBVyxNQUFNLEtBQUssS0FBSyxRQUFRO0FBQy9CLFVBQUksR0FBRyxTQUFTLFlBQVksR0FBRyxTQUFTLFNBQVMsR0FBRyxTQUFTLGNBQWM7QUFDdkUsZUFBTztBQUFBLE1BQ1gsV0FDUyxHQUFHLFNBQVMsT0FBTztBQUN4QixZQUFJLFFBQVEsUUFBUSxHQUFHLFFBQVE7QUFDM0IsZ0JBQU0sR0FBRztBQUFBLE1BQ2pCLFdBQ1MsR0FBRyxTQUFTLE9BQU87QUFDeEIsWUFBSSxRQUFRLFFBQVEsR0FBRyxRQUFRO0FBQzNCLGdCQUFNLEdBQUc7QUFBQSxNQUNqQjtBQUFBLElBQ0o7QUFDQSxXQUFPLE9BQU8sU0FBUyxHQUFHLEtBQUssT0FBTyxTQUFTLEdBQUc7QUFBQSxFQUN0RDtBQUNKO0FBQ0FzQixXQUFVLFNBQVMsQ0FBQyxXQUFXO0FBQzNCLFNBQU8sSUFBSUEsV0FBVTtBQUFBLElBQ2pCLFFBQVEsQ0FBQztBQUFBLElBQ1QsVUFBVXBCLHVCQUFzQjtBQUFBLElBQ2hDLFFBQVEsUUFBUSxVQUFVO0FBQUEsSUFDMUIsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLEVBQ2pDLENBQUM7QUFDTDtBQUNPLElBQU1xQixhQUFOLE1BQU0sbUJBQWtCekIsU0FBUTtBQUFBLEVBQ25DLGNBQWM7QUFDVixVQUFNLEdBQUcsU0FBUztBQUNsQixTQUFLLE1BQU0sS0FBSztBQUNoQixTQUFLLE1BQU0sS0FBSztBQUFBLEVBQ3BCO0FBQUEsRUFDQSxPQUFPLE9BQU87QUFDVixRQUFJLEtBQUssS0FBSyxRQUFRO0FBQ2xCLFVBQUk7QUFDQSxjQUFNLE9BQU8sT0FBTyxNQUFNLElBQUk7QUFBQSxNQUNsQyxRQUNNO0FBQ0YsZUFBTyxLQUFLLGlCQUFpQixLQUFLO0FBQUEsTUFDdEM7QUFBQSxJQUNKO0FBQ0EsVUFBTXFCLGNBQWEsS0FBSyxTQUFTLEtBQUs7QUFDdEMsUUFBSUEsZ0JBQWUsY0FBYyxRQUFRO0FBQ3JDLGFBQU8sS0FBSyxpQkFBaUIsS0FBSztBQUFBLElBQ3RDO0FBQ0EsUUFBSSxNQUFNO0FBQ1YsVUFBTSxTQUFTLElBQUksWUFBWTtBQUMvQixlQUFXbkIsVUFBUyxLQUFLLEtBQUssUUFBUTtBQUNsQyxVQUFJQSxPQUFNLFNBQVMsT0FBTztBQUN0QixjQUFNLFdBQVdBLE9BQU0sWUFBWSxNQUFNLE9BQU9BLE9BQU0sUUFBUSxNQUFNLFFBQVFBLE9BQU07QUFDbEYsWUFBSSxVQUFVO0FBQ1YsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTUMsY0FBYTtBQUFBLFlBQ25CLE1BQU07QUFBQSxZQUNOLFNBQVNELE9BQU07QUFBQSxZQUNmLFdBQVdBLE9BQU07QUFBQSxZQUNqQixTQUFTQSxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osV0FDU0EsT0FBTSxTQUFTLE9BQU87QUFDM0IsY0FBTSxTQUFTQSxPQUFNLFlBQVksTUFBTSxPQUFPQSxPQUFNLFFBQVEsTUFBTSxRQUFRQSxPQUFNO0FBQ2hGLFlBQUksUUFBUTtBQUNSLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixNQUFNO0FBQUEsWUFDTixTQUFTRCxPQUFNO0FBQUEsWUFDZixXQUFXQSxPQUFNO0FBQUEsWUFDakIsU0FBU0EsT0FBTTtBQUFBLFVBQ25CLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxjQUFjO0FBQ2xDLFlBQUksTUFBTSxPQUFPQSxPQUFNLFVBQVUsT0FBTyxDQUFDLEdBQUc7QUFDeEMsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFlBQVlELE9BQU07QUFBQSxZQUNsQixTQUFTQSxPQUFNO0FBQUEsVUFDbkIsQ0FBQztBQUNELGlCQUFPLE1BQU07QUFBQSxRQUNqQjtBQUFBLE1BQ0osT0FDSztBQUNELGFBQUssWUFBWUEsTUFBSztBQUFBLE1BQzFCO0FBQUEsSUFDSjtBQUNBLFdBQU8sRUFBRSxRQUFRLE9BQU8sT0FBTyxPQUFPLE1BQU0sS0FBSztBQUFBLEVBQ3JEO0FBQUEsRUFDQSxpQkFBaUIsT0FBTztBQUNwQixVQUFNLE1BQU0sS0FBSyxnQkFBZ0IsS0FBSztBQUN0QyxzQkFBa0IsS0FBSztBQUFBLE1BQ25CLE1BQU1DLGNBQWE7QUFBQSxNQUNuQixVQUFVLGNBQWM7QUFBQSxNQUN4QixVQUFVLElBQUk7QUFBQSxJQUNsQixDQUFDO0FBQ0QsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUNBLElBQUksT0FBTyxTQUFTO0FBQ2hCLFdBQU8sS0FBSyxTQUFTLE9BQU8sT0FBTyxNQUFNLFVBQVUsU0FBUyxPQUFPLENBQUM7QUFBQSxFQUN4RTtBQUFBLEVBQ0EsR0FBRyxPQUFPLFNBQVM7QUFDZixXQUFPLEtBQUssU0FBUyxPQUFPLE9BQU8sT0FBTyxVQUFVLFNBQVMsT0FBTyxDQUFDO0FBQUEsRUFDekU7QUFBQSxFQUNBLElBQUksT0FBTyxTQUFTO0FBQ2hCLFdBQU8sS0FBSyxTQUFTLE9BQU8sT0FBTyxNQUFNLFVBQVUsU0FBUyxPQUFPLENBQUM7QUFBQSxFQUN4RTtBQUFBLEVBQ0EsR0FBRyxPQUFPLFNBQVM7QUFDZixXQUFPLEtBQUssU0FBUyxPQUFPLE9BQU8sT0FBTyxVQUFVLFNBQVMsT0FBTyxDQUFDO0FBQUEsRUFDekU7QUFBQSxFQUNBLFNBQVMsTUFBTSxPQUFPLFdBQVcsU0FBUztBQUN0QyxXQUFPLElBQUksV0FBVTtBQUFBLE1BQ2pCLEdBQUcsS0FBSztBQUFBLE1BQ1IsUUFBUTtBQUFBLFFBQ0osR0FBRyxLQUFLLEtBQUs7QUFBQSxRQUNiO0FBQUEsVUFDSTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFDQSxTQUFTLFVBQVUsU0FBUyxPQUFPO0FBQUEsUUFDdkM7QUFBQSxNQUNKO0FBQUEsSUFDSixDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsVUFBVUQsUUFBTztBQUNiLFdBQU8sSUFBSSxXQUFVO0FBQUEsTUFDakIsR0FBRyxLQUFLO0FBQUEsTUFDUixRQUFRLENBQUMsR0FBRyxLQUFLLEtBQUssUUFBUUEsTUFBSztBQUFBLElBQ3ZDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxTQUFTLFNBQVM7QUFDZCxXQUFPLEtBQUssVUFBVTtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNOLE9BQU8sT0FBTyxDQUFDO0FBQUEsTUFDZixXQUFXO0FBQUEsTUFDWCxTQUFTLFVBQVUsU0FBUyxPQUFPO0FBQUEsSUFDdkMsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLFNBQVMsU0FBUztBQUNkLFdBQU8sS0FBSyxVQUFVO0FBQUEsTUFDbEIsTUFBTTtBQUFBLE1BQ04sT0FBTyxPQUFPLENBQUM7QUFBQSxNQUNmLFdBQVc7QUFBQSxNQUNYLFNBQVMsVUFBVSxTQUFTLE9BQU87QUFBQSxJQUN2QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsWUFBWSxTQUFTO0FBQ2pCLFdBQU8sS0FBSyxVQUFVO0FBQUEsTUFDbEIsTUFBTTtBQUFBLE1BQ04sT0FBTyxPQUFPLENBQUM7QUFBQSxNQUNmLFdBQVc7QUFBQSxNQUNYLFNBQVMsVUFBVSxTQUFTLE9BQU87QUFBQSxJQUN2QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsWUFBWSxTQUFTO0FBQ2pCLFdBQU8sS0FBSyxVQUFVO0FBQUEsTUFDbEIsTUFBTTtBQUFBLE1BQ04sT0FBTyxPQUFPLENBQUM7QUFBQSxNQUNmLFdBQVc7QUFBQSxNQUNYLFNBQVMsVUFBVSxTQUFTLE9BQU87QUFBQSxJQUN2QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsV0FBVyxPQUFPLFNBQVM7QUFDdkIsV0FBTyxLQUFLLFVBQVU7QUFBQSxNQUNsQixNQUFNO0FBQUEsTUFDTjtBQUFBLE1BQ0EsU0FBUyxVQUFVLFNBQVMsT0FBTztBQUFBLElBQ3ZDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxJQUFJLFdBQVc7QUFDWCxRQUFJLE1BQU07QUFDVixlQUFXLE1BQU0sS0FBSyxLQUFLLFFBQVE7QUFDL0IsVUFBSSxHQUFHLFNBQVMsT0FBTztBQUNuQixZQUFJLFFBQVEsUUFBUSxHQUFHLFFBQVE7QUFDM0IsZ0JBQU0sR0FBRztBQUFBLE1BQ2pCO0FBQUEsSUFDSjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQUEsRUFDQSxJQUFJLFdBQVc7QUFDWCxRQUFJLE1BQU07QUFDVixlQUFXLE1BQU0sS0FBSyxLQUFLLFFBQVE7QUFDL0IsVUFBSSxHQUFHLFNBQVMsT0FBTztBQUNuQixZQUFJLFFBQVEsUUFBUSxHQUFHLFFBQVE7QUFDM0IsZ0JBQU0sR0FBRztBQUFBLE1BQ2pCO0FBQUEsSUFDSjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQ0o7QUFDQXVCLFdBQVUsU0FBUyxDQUFDLFdBQVc7QUFDM0IsU0FBTyxJQUFJQSxXQUFVO0FBQUEsSUFDakIsUUFBUSxDQUFDO0FBQUEsSUFDVCxVQUFVckIsdUJBQXNCO0FBQUEsSUFDaEMsUUFBUSxRQUFRLFVBQVU7QUFBQSxJQUMxQixHQUFHLG9CQUFvQixNQUFNO0FBQUEsRUFDakMsQ0FBQztBQUNMO0FBQ08sSUFBTXNCLGNBQU4sY0FBeUIxQixTQUFRO0FBQUEsRUFDcEMsT0FBTyxPQUFPO0FBQ1YsUUFBSSxLQUFLLEtBQUssUUFBUTtBQUNsQixZQUFNLE9BQU8sUUFBUSxNQUFNLElBQUk7QUFBQSxJQUNuQztBQUNBLFVBQU1xQixjQUFhLEtBQUssU0FBUyxLQUFLO0FBQ3RDLFFBQUlBLGdCQUFlLGNBQWMsU0FBUztBQUN0QyxZQUFNLE1BQU0sS0FBSyxnQkFBZ0IsS0FBSztBQUN0Qyx3QkFBa0IsS0FBSztBQUFBLFFBQ25CLE1BQU1sQixjQUFhO0FBQUEsUUFDbkIsVUFBVSxjQUFjO0FBQUEsUUFDeEIsVUFBVSxJQUFJO0FBQUEsTUFDbEIsQ0FBQztBQUNELGFBQU87QUFBQSxJQUNYO0FBQ0EsV0FBTyxHQUFHLE1BQU0sSUFBSTtBQUFBLEVBQ3hCO0FBQ0o7QUFDQXVCLFlBQVcsU0FBUyxDQUFDLFdBQVc7QUFDNUIsU0FBTyxJQUFJQSxZQUFXO0FBQUEsSUFDbEIsVUFBVXRCLHVCQUFzQjtBQUFBLElBQ2hDLFFBQVEsUUFBUSxVQUFVO0FBQUEsSUFDMUIsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLEVBQ2pDLENBQUM7QUFDTDtBQUNPLElBQU11QixXQUFOLE1BQU0saUJBQWdCM0IsU0FBUTtBQUFBLEVBQ2pDLE9BQU8sT0FBTztBQUNWLFFBQUksS0FBSyxLQUFLLFFBQVE7QUFDbEIsWUFBTSxPQUFPLElBQUksS0FBSyxNQUFNLElBQUk7QUFBQSxJQUNwQztBQUNBLFVBQU1xQixjQUFhLEtBQUssU0FBUyxLQUFLO0FBQ3RDLFFBQUlBLGdCQUFlLGNBQWMsTUFBTTtBQUNuQyxZQUFNQyxPQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsd0JBQWtCQSxNQUFLO0FBQUEsUUFDbkIsTUFBTW5CLGNBQWE7QUFBQSxRQUNuQixVQUFVLGNBQWM7QUFBQSxRQUN4QixVQUFVbUIsS0FBSTtBQUFBLE1BQ2xCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFFBQUksT0FBTyxNQUFNLE1BQU0sS0FBSyxRQUFRLENBQUMsR0FBRztBQUNwQyxZQUFNQSxPQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsd0JBQWtCQSxNQUFLO0FBQUEsUUFDbkIsTUFBTW5CLGNBQWE7QUFBQSxNQUN2QixDQUFDO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFDQSxVQUFNLFNBQVMsSUFBSSxZQUFZO0FBQy9CLFFBQUksTUFBTTtBQUNWLGVBQVdELFVBQVMsS0FBSyxLQUFLLFFBQVE7QUFDbEMsVUFBSUEsT0FBTSxTQUFTLE9BQU87QUFDdEIsWUFBSSxNQUFNLEtBQUssUUFBUSxJQUFJQSxPQUFNLE9BQU87QUFDcEMsZ0JBQU0sS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQ3JDLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTUMsY0FBYTtBQUFBLFlBQ25CLFNBQVNELE9BQU07QUFBQSxZQUNmLFdBQVc7QUFBQSxZQUNYLE9BQU87QUFBQSxZQUNQLFNBQVNBLE9BQU07QUFBQSxZQUNmLE1BQU07QUFBQSxVQUNWLENBQUM7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKLFdBQ1NBLE9BQU0sU0FBUyxPQUFPO0FBQzNCLFlBQUksTUFBTSxLQUFLLFFBQVEsSUFBSUEsT0FBTSxPQUFPO0FBQ3BDLGdCQUFNLEtBQUssZ0JBQWdCLE9BQU8sR0FBRztBQUNyQyw0QkFBa0IsS0FBSztBQUFBLFlBQ25CLE1BQU1DLGNBQWE7QUFBQSxZQUNuQixTQUFTRCxPQUFNO0FBQUEsWUFDZixXQUFXO0FBQUEsWUFDWCxPQUFPO0FBQUEsWUFDUCxTQUFTQSxPQUFNO0FBQUEsWUFDZixNQUFNO0FBQUEsVUFDVixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixPQUNLO0FBQ0QsYUFBSyxZQUFZQSxNQUFLO0FBQUEsTUFDMUI7QUFBQSxJQUNKO0FBQ0EsV0FBTztBQUFBLE1BQ0gsUUFBUSxPQUFPO0FBQUEsTUFDZixPQUFPLElBQUksS0FBSyxNQUFNLEtBQUssUUFBUSxDQUFDO0FBQUEsSUFDeEM7QUFBQSxFQUNKO0FBQUEsRUFDQSxVQUFVQSxRQUFPO0FBQ2IsV0FBTyxJQUFJLFNBQVE7QUFBQSxNQUNmLEdBQUcsS0FBSztBQUFBLE1BQ1IsUUFBUSxDQUFDLEdBQUcsS0FBSyxLQUFLLFFBQVFBLE1BQUs7QUFBQSxJQUN2QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsSUFBSSxTQUFTLFNBQVM7QUFDbEIsV0FBTyxLQUFLLFVBQVU7QUFBQSxNQUNsQixNQUFNO0FBQUEsTUFDTixPQUFPLFFBQVEsUUFBUTtBQUFBLE1BQ3ZCLFNBQVMsVUFBVSxTQUFTLE9BQU87QUFBQSxJQUN2QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsSUFBSSxTQUFTLFNBQVM7QUFDbEIsV0FBTyxLQUFLLFVBQVU7QUFBQSxNQUNsQixNQUFNO0FBQUEsTUFDTixPQUFPLFFBQVEsUUFBUTtBQUFBLE1BQ3ZCLFNBQVMsVUFBVSxTQUFTLE9BQU87QUFBQSxJQUN2QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsSUFBSSxVQUFVO0FBQ1YsUUFBSSxNQUFNO0FBQ1YsZUFBVyxNQUFNLEtBQUssS0FBSyxRQUFRO0FBQy9CLFVBQUksR0FBRyxTQUFTLE9BQU87QUFDbkIsWUFBSSxRQUFRLFFBQVEsR0FBRyxRQUFRO0FBQzNCLGdCQUFNLEdBQUc7QUFBQSxNQUNqQjtBQUFBLElBQ0o7QUFDQSxXQUFPLE9BQU8sT0FBTyxJQUFJLEtBQUssR0FBRyxJQUFJO0FBQUEsRUFDekM7QUFBQSxFQUNBLElBQUksVUFBVTtBQUNWLFFBQUksTUFBTTtBQUNWLGVBQVcsTUFBTSxLQUFLLEtBQUssUUFBUTtBQUMvQixVQUFJLEdBQUcsU0FBUyxPQUFPO0FBQ25CLFlBQUksUUFBUSxRQUFRLEdBQUcsUUFBUTtBQUMzQixnQkFBTSxHQUFHO0FBQUEsTUFDakI7QUFBQSxJQUNKO0FBQ0EsV0FBTyxPQUFPLE9BQU8sSUFBSSxLQUFLLEdBQUcsSUFBSTtBQUFBLEVBQ3pDO0FBQ0o7QUFDQXlCLFNBQVEsU0FBUyxDQUFDLFdBQVc7QUFDekIsU0FBTyxJQUFJQSxTQUFRO0FBQUEsSUFDZixRQUFRLENBQUM7QUFBQSxJQUNULFFBQVEsUUFBUSxVQUFVO0FBQUEsSUFDMUIsVUFBVXZCLHVCQUFzQjtBQUFBLElBQ2hDLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFDTyxJQUFNd0IsYUFBTixjQUF3QjVCLFNBQVE7QUFBQSxFQUNuQyxPQUFPLE9BQU87QUFDVixVQUFNcUIsY0FBYSxLQUFLLFNBQVMsS0FBSztBQUN0QyxRQUFJQSxnQkFBZSxjQUFjLFFBQVE7QUFDckMsWUFBTSxNQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsd0JBQWtCLEtBQUs7QUFBQSxRQUNuQixNQUFNbEIsY0FBYTtBQUFBLFFBQ25CLFVBQVUsY0FBYztBQUFBLFFBQ3hCLFVBQVUsSUFBSTtBQUFBLE1BQ2xCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFdBQU8sR0FBRyxNQUFNLElBQUk7QUFBQSxFQUN4QjtBQUNKO0FBQ0F5QixXQUFVLFNBQVMsQ0FBQyxXQUFXO0FBQzNCLFNBQU8sSUFBSUEsV0FBVTtBQUFBLElBQ2pCLFVBQVV4Qix1QkFBc0I7QUFBQSxJQUNoQyxHQUFHLG9CQUFvQixNQUFNO0FBQUEsRUFDakMsQ0FBQztBQUNMO0FBQ08sSUFBTXlCLGdCQUFOLGNBQTJCN0IsU0FBUTtBQUFBLEVBQ3RDLE9BQU8sT0FBTztBQUNWLFVBQU1xQixjQUFhLEtBQUssU0FBUyxLQUFLO0FBQ3RDLFFBQUlBLGdCQUFlLGNBQWMsV0FBVztBQUN4QyxZQUFNLE1BQU0sS0FBSyxnQkFBZ0IsS0FBSztBQUN0Qyx3QkFBa0IsS0FBSztBQUFBLFFBQ25CLE1BQU1sQixjQUFhO0FBQUEsUUFDbkIsVUFBVSxjQUFjO0FBQUEsUUFDeEIsVUFBVSxJQUFJO0FBQUEsTUFDbEIsQ0FBQztBQUNELGFBQU87QUFBQSxJQUNYO0FBQ0EsV0FBTyxHQUFHLE1BQU0sSUFBSTtBQUFBLEVBQ3hCO0FBQ0o7QUFDQTBCLGNBQWEsU0FBUyxDQUFDLFdBQVc7QUFDOUIsU0FBTyxJQUFJQSxjQUFhO0FBQUEsSUFDcEIsVUFBVXpCLHVCQUFzQjtBQUFBLElBQ2hDLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFDTyxJQUFNMEIsV0FBTixjQUFzQjlCLFNBQVE7QUFBQSxFQUNqQyxPQUFPLE9BQU87QUFDVixVQUFNcUIsY0FBYSxLQUFLLFNBQVMsS0FBSztBQUN0QyxRQUFJQSxnQkFBZSxjQUFjLE1BQU07QUFDbkMsWUFBTSxNQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsd0JBQWtCLEtBQUs7QUFBQSxRQUNuQixNQUFNbEIsY0FBYTtBQUFBLFFBQ25CLFVBQVUsY0FBYztBQUFBLFFBQ3hCLFVBQVUsSUFBSTtBQUFBLE1BQ2xCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFdBQU8sR0FBRyxNQUFNLElBQUk7QUFBQSxFQUN4QjtBQUNKO0FBQ0EyQixTQUFRLFNBQVMsQ0FBQyxXQUFXO0FBQ3pCLFNBQU8sSUFBSUEsU0FBUTtBQUFBLElBQ2YsVUFBVTFCLHVCQUFzQjtBQUFBLElBQ2hDLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFDTyxJQUFNMkIsVUFBTixjQUFxQi9CLFNBQVE7QUFBQSxFQUNoQyxjQUFjO0FBQ1YsVUFBTSxHQUFHLFNBQVM7QUFFbEIsU0FBSyxPQUFPO0FBQUEsRUFDaEI7QUFBQSxFQUNBLE9BQU8sT0FBTztBQUNWLFdBQU8sR0FBRyxNQUFNLElBQUk7QUFBQSxFQUN4QjtBQUNKO0FBQ0ErQixRQUFPLFNBQVMsQ0FBQyxXQUFXO0FBQ3hCLFNBQU8sSUFBSUEsUUFBTztBQUFBLElBQ2QsVUFBVTNCLHVCQUFzQjtBQUFBLElBQ2hDLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFDTyxJQUFNNEIsY0FBTixjQUF5QmhDLFNBQVE7QUFBQSxFQUNwQyxjQUFjO0FBQ1YsVUFBTSxHQUFHLFNBQVM7QUFFbEIsU0FBSyxXQUFXO0FBQUEsRUFDcEI7QUFBQSxFQUNBLE9BQU8sT0FBTztBQUNWLFdBQU8sR0FBRyxNQUFNLElBQUk7QUFBQSxFQUN4QjtBQUNKO0FBQ0FnQyxZQUFXLFNBQVMsQ0FBQyxXQUFXO0FBQzVCLFNBQU8sSUFBSUEsWUFBVztBQUFBLElBQ2xCLFVBQVU1Qix1QkFBc0I7QUFBQSxJQUNoQyxHQUFHLG9CQUFvQixNQUFNO0FBQUEsRUFDakMsQ0FBQztBQUNMO0FBQ08sSUFBTTZCLFlBQU4sY0FBdUJqQyxTQUFRO0FBQUEsRUFDbEMsT0FBTyxPQUFPO0FBQ1YsVUFBTSxNQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsc0JBQWtCLEtBQUs7QUFBQSxNQUNuQixNQUFNRyxjQUFhO0FBQUEsTUFDbkIsVUFBVSxjQUFjO0FBQUEsTUFDeEIsVUFBVSxJQUFJO0FBQUEsSUFDbEIsQ0FBQztBQUNELFdBQU87QUFBQSxFQUNYO0FBQ0o7QUFDQThCLFVBQVMsU0FBUyxDQUFDLFdBQVc7QUFDMUIsU0FBTyxJQUFJQSxVQUFTO0FBQUEsSUFDaEIsVUFBVTdCLHVCQUFzQjtBQUFBLElBQ2hDLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFDTyxJQUFNOEIsV0FBTixjQUFzQmxDLFNBQVE7QUFBQSxFQUNqQyxPQUFPLE9BQU87QUFDVixVQUFNcUIsY0FBYSxLQUFLLFNBQVMsS0FBSztBQUN0QyxRQUFJQSxnQkFBZSxjQUFjLFdBQVc7QUFDeEMsWUFBTSxNQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsd0JBQWtCLEtBQUs7QUFBQSxRQUNuQixNQUFNbEIsY0FBYTtBQUFBLFFBQ25CLFVBQVUsY0FBYztBQUFBLFFBQ3hCLFVBQVUsSUFBSTtBQUFBLE1BQ2xCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFdBQU8sR0FBRyxNQUFNLElBQUk7QUFBQSxFQUN4QjtBQUNKO0FBQ0ErQixTQUFRLFNBQVMsQ0FBQyxXQUFXO0FBQ3pCLFNBQU8sSUFBSUEsU0FBUTtBQUFBLElBQ2YsVUFBVTlCLHVCQUFzQjtBQUFBLElBQ2hDLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFDTyxJQUFNRyxZQUFOLE1BQU0sa0JBQWlCUCxTQUFRO0FBQUEsRUFDbEMsT0FBTyxPQUFPO0FBQ1YsVUFBTSxFQUFFLEtBQUssT0FBTyxJQUFJLEtBQUssb0JBQW9CLEtBQUs7QUFDdEQsVUFBTSxNQUFNLEtBQUs7QUFDakIsUUFBSSxJQUFJLGVBQWUsY0FBYyxPQUFPO0FBQ3hDLHdCQUFrQixLQUFLO0FBQUEsUUFDbkIsTUFBTUcsY0FBYTtBQUFBLFFBQ25CLFVBQVUsY0FBYztBQUFBLFFBQ3hCLFVBQVUsSUFBSTtBQUFBLE1BQ2xCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFFBQUksSUFBSSxnQkFBZ0IsTUFBTTtBQUMxQixZQUFNLFNBQVMsSUFBSSxLQUFLLFNBQVMsSUFBSSxZQUFZO0FBQ2pELFlBQU0sV0FBVyxJQUFJLEtBQUssU0FBUyxJQUFJLFlBQVk7QUFDbkQsVUFBSSxVQUFVLFVBQVU7QUFDcEIsMEJBQWtCLEtBQUs7QUFBQSxVQUNuQixNQUFNLFNBQVNBLGNBQWEsVUFBVUEsY0FBYTtBQUFBLFVBQ25ELFNBQVUsV0FBVyxJQUFJLFlBQVksUUFBUTtBQUFBLFVBQzdDLFNBQVUsU0FBUyxJQUFJLFlBQVksUUFBUTtBQUFBLFVBQzNDLE1BQU07QUFBQSxVQUNOLFdBQVc7QUFBQSxVQUNYLE9BQU87QUFBQSxVQUNQLFNBQVMsSUFBSSxZQUFZO0FBQUEsUUFDN0IsQ0FBQztBQUNELGVBQU8sTUFBTTtBQUFBLE1BQ2pCO0FBQUEsSUFDSjtBQUNBLFFBQUksSUFBSSxjQUFjLE1BQU07QUFDeEIsVUFBSSxJQUFJLEtBQUssU0FBUyxJQUFJLFVBQVUsT0FBTztBQUN2QywwQkFBa0IsS0FBSztBQUFBLFVBQ25CLE1BQU1BLGNBQWE7QUFBQSxVQUNuQixTQUFTLElBQUksVUFBVTtBQUFBLFVBQ3ZCLE1BQU07QUFBQSxVQUNOLFdBQVc7QUFBQSxVQUNYLE9BQU87QUFBQSxVQUNQLFNBQVMsSUFBSSxVQUFVO0FBQUEsUUFDM0IsQ0FBQztBQUNELGVBQU8sTUFBTTtBQUFBLE1BQ2pCO0FBQUEsSUFDSjtBQUNBLFFBQUksSUFBSSxjQUFjLE1BQU07QUFDeEIsVUFBSSxJQUFJLEtBQUssU0FBUyxJQUFJLFVBQVUsT0FBTztBQUN2QywwQkFBa0IsS0FBSztBQUFBLFVBQ25CLE1BQU1BLGNBQWE7QUFBQSxVQUNuQixTQUFTLElBQUksVUFBVTtBQUFBLFVBQ3ZCLE1BQU07QUFBQSxVQUNOLFdBQVc7QUFBQSxVQUNYLE9BQU87QUFBQSxVQUNQLFNBQVMsSUFBSSxVQUFVO0FBQUEsUUFDM0IsQ0FBQztBQUNELGVBQU8sTUFBTTtBQUFBLE1BQ2pCO0FBQUEsSUFDSjtBQUNBLFFBQUksSUFBSSxPQUFPLE9BQU87QUFDbEIsYUFBTyxRQUFRLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNZ0MsT0FBTTtBQUM5QyxlQUFPLElBQUksS0FBSyxZQUFZLElBQUksbUJBQW1CLEtBQUssTUFBTSxJQUFJLE1BQU1BLEVBQUMsQ0FBQztBQUFBLE1BQzlFLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQ0MsWUFBVztBQUNqQixlQUFPLFlBQVksV0FBVyxRQUFRQSxPQUFNO0FBQUEsTUFDaEQsQ0FBQztBQUFBLElBQ0w7QUFDQSxVQUFNLFNBQVMsQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNRCxPQUFNO0FBQzFDLGFBQU8sSUFBSSxLQUFLLFdBQVcsSUFBSSxtQkFBbUIsS0FBSyxNQUFNLElBQUksTUFBTUEsRUFBQyxDQUFDO0FBQUEsSUFDN0UsQ0FBQztBQUNELFdBQU8sWUFBWSxXQUFXLFFBQVEsTUFBTTtBQUFBLEVBQ2hEO0FBQUEsRUFDQSxJQUFJLFVBQVU7QUFDVixXQUFPLEtBQUssS0FBSztBQUFBLEVBQ3JCO0FBQUEsRUFDQSxJQUFJLFdBQVcsU0FBUztBQUNwQixXQUFPLElBQUksVUFBUztBQUFBLE1BQ2hCLEdBQUcsS0FBSztBQUFBLE1BQ1IsV0FBVyxFQUFFLE9BQU8sV0FBVyxTQUFTLFVBQVUsU0FBUyxPQUFPLEVBQUU7QUFBQSxJQUN4RSxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsSUFBSSxXQUFXLFNBQVM7QUFDcEIsV0FBTyxJQUFJLFVBQVM7QUFBQSxNQUNoQixHQUFHLEtBQUs7QUFBQSxNQUNSLFdBQVcsRUFBRSxPQUFPLFdBQVcsU0FBUyxVQUFVLFNBQVMsT0FBTyxFQUFFO0FBQUEsSUFDeEUsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLE9BQU8sS0FBSyxTQUFTO0FBQ2pCLFdBQU8sSUFBSSxVQUFTO0FBQUEsTUFDaEIsR0FBRyxLQUFLO0FBQUEsTUFDUixhQUFhLEVBQUUsT0FBTyxLQUFLLFNBQVMsVUFBVSxTQUFTLE9BQU8sRUFBRTtBQUFBLElBQ3BFLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxTQUFTLFNBQVM7QUFDZCxXQUFPLEtBQUssSUFBSSxHQUFHLE9BQU87QUFBQSxFQUM5QjtBQUNKO0FBQ0E1QixVQUFTLFNBQVMsQ0FBQyxRQUFRLFdBQVc7QUFDbEMsU0FBTyxJQUFJQSxVQUFTO0FBQUEsSUFDaEIsTUFBTTtBQUFBLElBQ04sV0FBVztBQUFBLElBQ1gsV0FBVztBQUFBLElBQ1gsYUFBYTtBQUFBLElBQ2IsVUFBVUgsdUJBQXNCO0FBQUEsSUFDaEMsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLEVBQ2pDLENBQUM7QUFDTDtBQUNBLFNBQVMsZUFBZSxRQUFRO0FBQzVCLE1BQUksa0JBQWtCaUMsWUFBVztBQUM3QixVQUFNLFdBQVcsQ0FBQztBQUNsQixlQUFXLE9BQU8sT0FBTyxPQUFPO0FBQzVCLFlBQU0sY0FBYyxPQUFPLE1BQU0sR0FBRztBQUNwQyxlQUFTLEdBQUcsSUFBSWhDLGFBQVksT0FBTyxlQUFlLFdBQVcsQ0FBQztBQUFBLElBQ2xFO0FBQ0EsV0FBTyxJQUFJZ0MsV0FBVTtBQUFBLE1BQ2pCLEdBQUcsT0FBTztBQUFBLE1BQ1YsT0FBTyxNQUFNO0FBQUEsSUFDakIsQ0FBQztBQUFBLEVBQ0wsV0FDUyxrQkFBa0I5QixXQUFVO0FBQ2pDLFdBQU8sSUFBSUEsVUFBUztBQUFBLE1BQ2hCLEdBQUcsT0FBTztBQUFBLE1BQ1YsTUFBTSxlQUFlLE9BQU8sT0FBTztBQUFBLElBQ3ZDLENBQUM7QUFBQSxFQUNMLFdBQ1Msa0JBQWtCRixjQUFhO0FBQ3BDLFdBQU9BLGFBQVksT0FBTyxlQUFlLE9BQU8sT0FBTyxDQUFDLENBQUM7QUFBQSxFQUM3RCxXQUNTLGtCQUFrQkMsY0FBYTtBQUNwQyxXQUFPQSxhQUFZLE9BQU8sZUFBZSxPQUFPLE9BQU8sQ0FBQyxDQUFDO0FBQUEsRUFDN0QsV0FDUyxrQkFBa0JnQyxXQUFVO0FBQ2pDLFdBQU9BLFVBQVMsT0FBTyxPQUFPLE1BQU0sSUFBSSxDQUFDLFNBQVMsZUFBZSxJQUFJLENBQUMsQ0FBQztBQUFBLEVBQzNFLE9BQ0s7QUFDRCxXQUFPO0FBQUEsRUFDWDtBQUNKO0FBQ08sSUFBTUQsYUFBTixNQUFNLG1CQUFrQnJDLFNBQVE7QUFBQSxFQUNuQyxjQUFjO0FBQ1YsVUFBTSxHQUFHLFNBQVM7QUFDbEIsU0FBSyxVQUFVO0FBS2YsU0FBSyxZQUFZLEtBQUs7QUFxQ3RCLFNBQUssVUFBVSxLQUFLO0FBQUEsRUFDeEI7QUFBQSxFQUNBLGFBQWE7QUFDVCxRQUFJLEtBQUssWUFBWTtBQUNqQixhQUFPLEtBQUs7QUFDaEIsVUFBTSxRQUFRLEtBQUssS0FBSyxNQUFNO0FBQzlCLFVBQU0sT0FBTyxLQUFLLFdBQVcsS0FBSztBQUNsQyxTQUFLLFVBQVUsRUFBRSxPQUFPLEtBQUs7QUFDN0IsV0FBTyxLQUFLO0FBQUEsRUFDaEI7QUFBQSxFQUNBLE9BQU8sT0FBTztBQUNWLFVBQU1xQixjQUFhLEtBQUssU0FBUyxLQUFLO0FBQ3RDLFFBQUlBLGdCQUFlLGNBQWMsUUFBUTtBQUNyQyxZQUFNQyxPQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsd0JBQWtCQSxNQUFLO0FBQUEsUUFDbkIsTUFBTW5CLGNBQWE7QUFBQSxRQUNuQixVQUFVLGNBQWM7QUFBQSxRQUN4QixVQUFVbUIsS0FBSTtBQUFBLE1BQ2xCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFVBQU0sRUFBRSxRQUFRLElBQUksSUFBSSxLQUFLLG9CQUFvQixLQUFLO0FBQ3RELFVBQU0sRUFBRSxPQUFPLE1BQU0sVUFBVSxJQUFJLEtBQUssV0FBVztBQUNuRCxVQUFNLFlBQVksQ0FBQztBQUNuQixRQUFJLEVBQUUsS0FBSyxLQUFLLG9CQUFvQlcsYUFBWSxLQUFLLEtBQUssZ0JBQWdCLFVBQVU7QUFDaEYsaUJBQVcsT0FBTyxJQUFJLE1BQU07QUFDeEIsWUFBSSxDQUFDLFVBQVUsU0FBUyxHQUFHLEdBQUc7QUFDMUIsb0JBQVUsS0FBSyxHQUFHO0FBQUEsUUFDdEI7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUNBLFVBQU0sUUFBUSxDQUFDO0FBQ2YsZUFBVyxPQUFPLFdBQVc7QUFDekIsWUFBTSxlQUFlLE1BQU0sR0FBRztBQUM5QixZQUFNLFFBQVEsSUFBSSxLQUFLLEdBQUc7QUFDMUIsWUFBTSxLQUFLO0FBQUEsUUFDUCxLQUFLLEVBQUUsUUFBUSxTQUFTLE9BQU8sSUFBSTtBQUFBLFFBQ25DLE9BQU8sYUFBYSxPQUFPLElBQUksbUJBQW1CLEtBQUssT0FBTyxJQUFJLE1BQU0sR0FBRyxDQUFDO0FBQUEsUUFDNUUsV0FBVyxPQUFPLElBQUk7QUFBQSxNQUMxQixDQUFDO0FBQUEsSUFDTDtBQUNBLFFBQUksS0FBSyxLQUFLLG9CQUFvQkEsV0FBVTtBQUN4QyxZQUFNLGNBQWMsS0FBSyxLQUFLO0FBQzlCLFVBQUksZ0JBQWdCLGVBQWU7QUFDL0IsbUJBQVcsT0FBTyxXQUFXO0FBQ3pCLGdCQUFNLEtBQUs7QUFBQSxZQUNQLEtBQUssRUFBRSxRQUFRLFNBQVMsT0FBTyxJQUFJO0FBQUEsWUFDbkMsT0FBTyxFQUFFLFFBQVEsU0FBUyxPQUFPLElBQUksS0FBSyxHQUFHLEVBQUU7QUFBQSxVQUNuRCxDQUFDO0FBQUEsUUFDTDtBQUFBLE1BQ0osV0FDUyxnQkFBZ0IsVUFBVTtBQUMvQixZQUFJLFVBQVUsU0FBUyxHQUFHO0FBQ3RCLDRCQUFrQixLQUFLO0FBQUEsWUFDbkIsTUFBTTlCLGNBQWE7QUFBQSxZQUNuQixNQUFNO0FBQUEsVUFDVixDQUFDO0FBQ0QsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQUEsTUFDSixXQUNTLGdCQUFnQixTQUFTO0FBQUEsTUFDbEMsT0FDSztBQUNELGNBQU0sSUFBSSxNQUFNLHNEQUFzRDtBQUFBLE1BQzFFO0FBQUEsSUFDSixPQUNLO0FBRUQsWUFBTSxXQUFXLEtBQUssS0FBSztBQUMzQixpQkFBVyxPQUFPLFdBQVc7QUFDekIsY0FBTSxRQUFRLElBQUksS0FBSyxHQUFHO0FBQzFCLGNBQU0sS0FBSztBQUFBLFVBQ1AsS0FBSyxFQUFFLFFBQVEsU0FBUyxPQUFPLElBQUk7QUFBQSxVQUNuQyxPQUFPLFNBQVM7QUFBQSxZQUFPLElBQUksbUJBQW1CLEtBQUssT0FBTyxJQUFJLE1BQU0sR0FBRztBQUFBO0FBQUEsVUFDdkU7QUFBQSxVQUNBLFdBQVcsT0FBTyxJQUFJO0FBQUEsUUFDMUIsQ0FBQztBQUFBLE1BQ0w7QUFBQSxJQUNKO0FBQ0EsUUFBSSxJQUFJLE9BQU8sT0FBTztBQUNsQixhQUFPLFFBQVEsUUFBUSxFQUNsQixLQUFLLFlBQVk7QUFDbEIsY0FBTSxZQUFZLENBQUM7QUFDbkIsbUJBQVcsUUFBUSxPQUFPO0FBQ3RCLGdCQUFNLE1BQU0sTUFBTSxLQUFLO0FBQ3ZCLGdCQUFNLFFBQVEsTUFBTSxLQUFLO0FBQ3pCLG9CQUFVLEtBQUs7QUFBQSxZQUNYO0FBQUEsWUFDQTtBQUFBLFlBQ0EsV0FBVyxLQUFLO0FBQUEsVUFDcEIsQ0FBQztBQUFBLFFBQ0w7QUFDQSxlQUFPO0FBQUEsTUFDWCxDQUFDLEVBQ0ksS0FBSyxDQUFDLGNBQWM7QUFDckIsZUFBTyxZQUFZLGdCQUFnQixRQUFRLFNBQVM7QUFBQSxNQUN4RCxDQUFDO0FBQUEsSUFDTCxPQUNLO0FBQ0QsYUFBTyxZQUFZLGdCQUFnQixRQUFRLEtBQUs7QUFBQSxJQUNwRDtBQUFBLEVBQ0o7QUFBQSxFQUNBLElBQUksUUFBUTtBQUNSLFdBQU8sS0FBSyxLQUFLLE1BQU07QUFBQSxFQUMzQjtBQUFBLEVBQ0EsT0FBTyxTQUFTO0FBQ1osY0FBVTtBQUNWLFdBQU8sSUFBSSxXQUFVO0FBQUEsTUFDakIsR0FBRyxLQUFLO0FBQUEsTUFDUixhQUFhO0FBQUEsTUFDYixHQUFJLFlBQVksU0FDVjtBQUFBLFFBQ0UsVUFBVSxDQUFDb0MsUUFBTyxRQUFRO0FBQ3RCLGdCQUFNLGVBQWUsS0FBSyxLQUFLLFdBQVdBLFFBQU8sR0FBRyxFQUFFLFdBQVcsSUFBSTtBQUNyRSxjQUFJQSxPQUFNLFNBQVM7QUFDZixtQkFBTztBQUFBLGNBQ0gsU0FBUyxVQUFVLFNBQVMsT0FBTyxFQUFFLFdBQVc7QUFBQSxZQUNwRDtBQUNKLGlCQUFPO0FBQUEsWUFDSCxTQUFTO0FBQUEsVUFDYjtBQUFBLFFBQ0o7QUFBQSxNQUNKLElBQ0UsQ0FBQztBQUFBLElBQ1gsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLFFBQVE7QUFDSixXQUFPLElBQUksV0FBVTtBQUFBLE1BQ2pCLEdBQUcsS0FBSztBQUFBLE1BQ1IsYUFBYTtBQUFBLElBQ2pCLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxjQUFjO0FBQ1YsV0FBTyxJQUFJLFdBQVU7QUFBQSxNQUNqQixHQUFHLEtBQUs7QUFBQSxNQUNSLGFBQWE7QUFBQSxJQUNqQixDQUFDO0FBQUEsRUFDTDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQWtCQSxPQUFPLGNBQWM7QUFDakIsV0FBTyxJQUFJLFdBQVU7QUFBQSxNQUNqQixHQUFHLEtBQUs7QUFBQSxNQUNSLE9BQU8sT0FBTztBQUFBLFFBQ1YsR0FBRyxLQUFLLEtBQUssTUFBTTtBQUFBLFFBQ25CLEdBQUc7QUFBQSxNQUNQO0FBQUEsSUFDSixDQUFDO0FBQUEsRUFDTDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE1BQU0sU0FBUztBQUNYLFVBQU0sU0FBUyxJQUFJLFdBQVU7QUFBQSxNQUN6QixhQUFhLFFBQVEsS0FBSztBQUFBLE1BQzFCLFVBQVUsUUFBUSxLQUFLO0FBQUEsTUFDdkIsT0FBTyxPQUFPO0FBQUEsUUFDVixHQUFHLEtBQUssS0FBSyxNQUFNO0FBQUEsUUFDbkIsR0FBRyxRQUFRLEtBQUssTUFBTTtBQUFBLE1BQzFCO0FBQUEsTUFDQSxVQUFVbkMsdUJBQXNCO0FBQUEsSUFDcEMsQ0FBQztBQUNELFdBQU87QUFBQSxFQUNYO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBb0NBLE9BQU8sS0FBSyxRQUFRO0FBQ2hCLFdBQU8sS0FBSyxRQUFRLEVBQUUsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDO0FBQUEsRUFDekM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQXNCQSxTQUFTLE9BQU87QUFDWixXQUFPLElBQUksV0FBVTtBQUFBLE1BQ2pCLEdBQUcsS0FBSztBQUFBLE1BQ1IsVUFBVTtBQUFBLElBQ2QsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLEtBQUssTUFBTTtBQUNQLFVBQU0sUUFBUSxDQUFDO0FBQ2YsZUFBVyxPQUFPLEtBQUssV0FBVyxJQUFJLEdBQUc7QUFDckMsVUFBSSxLQUFLLEdBQUcsS0FBSyxLQUFLLE1BQU0sR0FBRyxHQUFHO0FBQzlCLGNBQU0sR0FBRyxJQUFJLEtBQUssTUFBTSxHQUFHO0FBQUEsTUFDL0I7QUFBQSxJQUNKO0FBQ0EsV0FBTyxJQUFJLFdBQVU7QUFBQSxNQUNqQixHQUFHLEtBQUs7QUFBQSxNQUNSLE9BQU8sTUFBTTtBQUFBLElBQ2pCLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxLQUFLLE1BQU07QUFDUCxVQUFNLFFBQVEsQ0FBQztBQUNmLGVBQVcsT0FBTyxLQUFLLFdBQVcsS0FBSyxLQUFLLEdBQUc7QUFDM0MsVUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHO0FBQ1osY0FBTSxHQUFHLElBQUksS0FBSyxNQUFNLEdBQUc7QUFBQSxNQUMvQjtBQUFBLElBQ0o7QUFDQSxXQUFPLElBQUksV0FBVTtBQUFBLE1BQ2pCLEdBQUcsS0FBSztBQUFBLE1BQ1IsT0FBTyxNQUFNO0FBQUEsSUFDakIsQ0FBQztBQUFBLEVBQ0w7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGNBQWM7QUFDVixXQUFPLGVBQWUsSUFBSTtBQUFBLEVBQzlCO0FBQUEsRUFDQSxRQUFRLE1BQU07QUFDVixVQUFNLFdBQVcsQ0FBQztBQUNsQixlQUFXLE9BQU8sS0FBSyxXQUFXLEtBQUssS0FBSyxHQUFHO0FBQzNDLFlBQU0sY0FBYyxLQUFLLE1BQU0sR0FBRztBQUNsQyxVQUFJLFFBQVEsQ0FBQyxLQUFLLEdBQUcsR0FBRztBQUNwQixpQkFBUyxHQUFHLElBQUk7QUFBQSxNQUNwQixPQUNLO0FBQ0QsaUJBQVMsR0FBRyxJQUFJLFlBQVksU0FBUztBQUFBLE1BQ3pDO0FBQUEsSUFDSjtBQUNBLFdBQU8sSUFBSSxXQUFVO0FBQUEsTUFDakIsR0FBRyxLQUFLO0FBQUEsTUFDUixPQUFPLE1BQU07QUFBQSxJQUNqQixDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsU0FBUyxNQUFNO0FBQ1gsVUFBTSxXQUFXLENBQUM7QUFDbEIsZUFBVyxPQUFPLEtBQUssV0FBVyxLQUFLLEtBQUssR0FBRztBQUMzQyxVQUFJLFFBQVEsQ0FBQyxLQUFLLEdBQUcsR0FBRztBQUNwQixpQkFBUyxHQUFHLElBQUksS0FBSyxNQUFNLEdBQUc7QUFBQSxNQUNsQyxPQUNLO0FBQ0QsY0FBTSxjQUFjLEtBQUssTUFBTSxHQUFHO0FBQ2xDLFlBQUksV0FBVztBQUNmLGVBQU8sb0JBQW9CQyxjQUFhO0FBQ3BDLHFCQUFXLFNBQVMsS0FBSztBQUFBLFFBQzdCO0FBQ0EsaUJBQVMsR0FBRyxJQUFJO0FBQUEsTUFDcEI7QUFBQSxJQUNKO0FBQ0EsV0FBTyxJQUFJLFdBQVU7QUFBQSxNQUNqQixHQUFHLEtBQUs7QUFBQSxNQUNSLE9BQU8sTUFBTTtBQUFBLElBQ2pCLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxRQUFRO0FBQ0osV0FBTyxjQUFjLEtBQUssV0FBVyxLQUFLLEtBQUssQ0FBQztBQUFBLEVBQ3BEO0FBQ0o7QUFDQWdDLFdBQVUsU0FBUyxDQUFDLE9BQU8sV0FBVztBQUNsQyxTQUFPLElBQUlBLFdBQVU7QUFBQSxJQUNqQixPQUFPLE1BQU07QUFBQSxJQUNiLGFBQWE7QUFBQSxJQUNiLFVBQVVKLFVBQVMsT0FBTztBQUFBLElBQzFCLFVBQVU3Qix1QkFBc0I7QUFBQSxJQUNoQyxHQUFHLG9CQUFvQixNQUFNO0FBQUEsRUFDakMsQ0FBQztBQUNMO0FBQ0FpQyxXQUFVLGVBQWUsQ0FBQyxPQUFPLFdBQVc7QUFDeEMsU0FBTyxJQUFJQSxXQUFVO0FBQUEsSUFDakIsT0FBTyxNQUFNO0FBQUEsSUFDYixhQUFhO0FBQUEsSUFDYixVQUFVSixVQUFTLE9BQU87QUFBQSxJQUMxQixVQUFVN0IsdUJBQXNCO0FBQUEsSUFDaEMsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLEVBQ2pDLENBQUM7QUFDTDtBQUNBaUMsV0FBVSxhQUFhLENBQUMsT0FBTyxXQUFXO0FBQ3RDLFNBQU8sSUFBSUEsV0FBVTtBQUFBLElBQ2pCO0FBQUEsSUFDQSxhQUFhO0FBQUEsSUFDYixVQUFVSixVQUFTLE9BQU87QUFBQSxJQUMxQixVQUFVN0IsdUJBQXNCO0FBQUEsSUFDaEMsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLEVBQ2pDLENBQUM7QUFDTDtBQUNPLElBQU1LLFlBQU4sY0FBdUJULFNBQVE7QUFBQSxFQUNsQyxPQUFPLE9BQU87QUFDVixVQUFNLEVBQUUsSUFBSSxJQUFJLEtBQUssb0JBQW9CLEtBQUs7QUFDOUMsVUFBTSxVQUFVLEtBQUssS0FBSztBQUMxQixhQUFTLGNBQWMsU0FBUztBQUU1QixpQkFBVyxVQUFVLFNBQVM7QUFDMUIsWUFBSSxPQUFPLE9BQU8sV0FBVyxTQUFTO0FBQ2xDLGlCQUFPLE9BQU87QUFBQSxRQUNsQjtBQUFBLE1BQ0o7QUFDQSxpQkFBVyxVQUFVLFNBQVM7QUFDMUIsWUFBSSxPQUFPLE9BQU8sV0FBVyxTQUFTO0FBRWxDLGNBQUksT0FBTyxPQUFPLEtBQUssR0FBRyxPQUFPLElBQUksT0FBTyxNQUFNO0FBQ2xELGlCQUFPLE9BQU87QUFBQSxRQUNsQjtBQUFBLE1BQ0o7QUFFQSxZQUFNLGNBQWMsUUFBUSxJQUFJLENBQUMsV0FBVyxJQUFJRixVQUFTLE9BQU8sSUFBSSxPQUFPLE1BQU0sQ0FBQztBQUNsRix3QkFBa0IsS0FBSztBQUFBLFFBQ25CLE1BQU1LLGNBQWE7QUFBQSxRQUNuQjtBQUFBLE1BQ0osQ0FBQztBQUNELGFBQU87QUFBQSxJQUNYO0FBQ0EsUUFBSSxJQUFJLE9BQU8sT0FBTztBQUNsQixhQUFPLFFBQVEsSUFBSSxRQUFRLElBQUksT0FBTyxXQUFXO0FBQzdDLGNBQU0sV0FBVztBQUFBLFVBQ2IsR0FBRztBQUFBLFVBQ0gsUUFBUTtBQUFBLFlBQ0osR0FBRyxJQUFJO0FBQUEsWUFDUCxRQUFRLENBQUM7QUFBQSxVQUNiO0FBQUEsVUFDQSxRQUFRO0FBQUEsUUFDWjtBQUNBLGVBQU87QUFBQSxVQUNILFFBQVEsTUFBTSxPQUFPLFlBQVk7QUFBQSxZQUM3QixNQUFNLElBQUk7QUFBQSxZQUNWLE1BQU0sSUFBSTtBQUFBLFlBQ1YsUUFBUTtBQUFBLFVBQ1osQ0FBQztBQUFBLFVBQ0QsS0FBSztBQUFBLFFBQ1Q7QUFBQSxNQUNKLENBQUMsQ0FBQyxFQUFFLEtBQUssYUFBYTtBQUFBLElBQzFCLE9BQ0s7QUFDRCxVQUFJLFFBQVE7QUFDWixZQUFNLFNBQVMsQ0FBQztBQUNoQixpQkFBVyxVQUFVLFNBQVM7QUFDMUIsY0FBTSxXQUFXO0FBQUEsVUFDYixHQUFHO0FBQUEsVUFDSCxRQUFRO0FBQUEsWUFDSixHQUFHLElBQUk7QUFBQSxZQUNQLFFBQVEsQ0FBQztBQUFBLFVBQ2I7QUFBQSxVQUNBLFFBQVE7QUFBQSxRQUNaO0FBQ0EsY0FBTSxTQUFTLE9BQU8sV0FBVztBQUFBLFVBQzdCLE1BQU0sSUFBSTtBQUFBLFVBQ1YsTUFBTSxJQUFJO0FBQUEsVUFDVixRQUFRO0FBQUEsUUFDWixDQUFDO0FBQ0QsWUFBSSxPQUFPLFdBQVcsU0FBUztBQUMzQixpQkFBTztBQUFBLFFBQ1gsV0FDUyxPQUFPLFdBQVcsV0FBVyxDQUFDLE9BQU87QUFDMUMsa0JBQVEsRUFBRSxRQUFRLEtBQUssU0FBUztBQUFBLFFBQ3BDO0FBQ0EsWUFBSSxTQUFTLE9BQU8sT0FBTyxRQUFRO0FBQy9CLGlCQUFPLEtBQUssU0FBUyxPQUFPLE1BQU07QUFBQSxRQUN0QztBQUFBLE1BQ0o7QUFDQSxVQUFJLE9BQU87QUFDUCxZQUFJLE9BQU8sT0FBTyxLQUFLLEdBQUcsTUFBTSxJQUFJLE9BQU8sTUFBTTtBQUNqRCxlQUFPLE1BQU07QUFBQSxNQUNqQjtBQUNBLFlBQU0sY0FBYyxPQUFPLElBQUksQ0FBQ3FDLFlBQVcsSUFBSTFDLFVBQVMwQyxPQUFNLENBQUM7QUFDL0Qsd0JBQWtCLEtBQUs7QUFBQSxRQUNuQixNQUFNckMsY0FBYTtBQUFBLFFBQ25CO0FBQUEsTUFDSixDQUFDO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQUEsRUFDQSxJQUFJLFVBQVU7QUFDVixXQUFPLEtBQUssS0FBSztBQUFBLEVBQ3JCO0FBQ0o7QUFDQU0sVUFBUyxTQUFTLENBQUNnQyxRQUFPLFdBQVc7QUFDakMsU0FBTyxJQUFJaEMsVUFBUztBQUFBLElBQ2hCLFNBQVNnQztBQUFBLElBQ1QsVUFBVXJDLHVCQUFzQjtBQUFBLElBQ2hDLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFRQSxJQUFNLG1CQUFtQixDQUFDLFNBQVM7QUFDL0IsTUFBSSxnQkFBZ0JzQyxVQUFTO0FBQ3pCLFdBQU8saUJBQWlCLEtBQUssTUFBTTtBQUFBLEVBQ3ZDLFdBQ1MsZ0JBQWdCLFlBQVk7QUFDakMsV0FBTyxpQkFBaUIsS0FBSyxVQUFVLENBQUM7QUFBQSxFQUM1QyxXQUNTLGdCQUFnQkMsYUFBWTtBQUNqQyxXQUFPLENBQUMsS0FBSyxLQUFLO0FBQUEsRUFDdEIsV0FDUyxnQkFBZ0JDLFVBQVM7QUFDOUIsV0FBTyxLQUFLO0FBQUEsRUFDaEIsV0FDUyxnQkFBZ0IsZUFBZTtBQUVwQyxXQUFPLEtBQUssYUFBYSxLQUFLLElBQUk7QUFBQSxFQUN0QyxXQUNTLGdCQUFnQmhDLGFBQVk7QUFDakMsV0FBTyxpQkFBaUIsS0FBSyxLQUFLLFNBQVM7QUFBQSxFQUMvQyxXQUNTLGdCQUFnQmlCLGVBQWM7QUFDbkMsV0FBTyxDQUFDLE1BQVM7QUFBQSxFQUNyQixXQUNTLGdCQUFnQkMsVUFBUztBQUM5QixXQUFPLENBQUMsSUFBSTtBQUFBLEVBQ2hCLFdBQ1MsZ0JBQWdCekIsY0FBYTtBQUNsQyxXQUFPLENBQUMsUUFBVyxHQUFHLGlCQUFpQixLQUFLLE9BQU8sQ0FBQyxDQUFDO0FBQUEsRUFDekQsV0FDUyxnQkFBZ0JDLGNBQWE7QUFDbEMsV0FBTyxDQUFDLE1BQU0sR0FBRyxpQkFBaUIsS0FBSyxPQUFPLENBQUMsQ0FBQztBQUFBLEVBQ3BELFdBQ1MsZ0JBQWdCLFlBQVk7QUFDakMsV0FBTyxpQkFBaUIsS0FBSyxPQUFPLENBQUM7QUFBQSxFQUN6QyxXQUNTLGdCQUFnQlEsY0FBYTtBQUNsQyxXQUFPLGlCQUFpQixLQUFLLE9BQU8sQ0FBQztBQUFBLEVBQ3pDLFdBQ1MsZ0JBQWdCRCxXQUFVO0FBQy9CLFdBQU8saUJBQWlCLEtBQUssS0FBSyxTQUFTO0FBQUEsRUFDL0MsT0FDSztBQUNELFdBQU8sQ0FBQztBQUFBLEVBQ1o7QUFDSjtBQUNPLElBQU1nQyx5QkFBTixNQUFNLCtCQUE4QjdDLFNBQVE7QUFBQSxFQUMvQyxPQUFPLE9BQU87QUFDVixVQUFNLEVBQUUsSUFBSSxJQUFJLEtBQUssb0JBQW9CLEtBQUs7QUFDOUMsUUFBSSxJQUFJLGVBQWUsY0FBYyxRQUFRO0FBQ3pDLHdCQUFrQixLQUFLO0FBQUEsUUFDbkIsTUFBTUcsY0FBYTtBQUFBLFFBQ25CLFVBQVUsY0FBYztBQUFBLFFBQ3hCLFVBQVUsSUFBSTtBQUFBLE1BQ2xCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFVBQU0sZ0JBQWdCLEtBQUs7QUFDM0IsVUFBTSxxQkFBcUIsSUFBSSxLQUFLLGFBQWE7QUFDakQsVUFBTSxTQUFTLEtBQUssV0FBVyxJQUFJLGtCQUFrQjtBQUNyRCxRQUFJLENBQUMsUUFBUTtBQUNULHdCQUFrQixLQUFLO0FBQUEsUUFDbkIsTUFBTUEsY0FBYTtBQUFBLFFBQ25CLFNBQVMsTUFBTSxLQUFLLEtBQUssV0FBVyxLQUFLLENBQUM7QUFBQSxRQUMxQyxNQUFNLENBQUMsYUFBYTtBQUFBLE1BQ3hCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFFBQUksSUFBSSxPQUFPLE9BQU87QUFDbEIsYUFBTyxPQUFPLFlBQVk7QUFBQSxRQUN0QixNQUFNLElBQUk7QUFBQSxRQUNWLE1BQU0sSUFBSTtBQUFBLFFBQ1YsUUFBUTtBQUFBLE1BQ1osQ0FBQztBQUFBLElBQ0wsT0FDSztBQUNELGFBQU8sT0FBTyxXQUFXO0FBQUEsUUFDckIsTUFBTSxJQUFJO0FBQUEsUUFDVixNQUFNLElBQUk7QUFBQSxRQUNWLFFBQVE7QUFBQSxNQUNaLENBQUM7QUFBQSxJQUNMO0FBQUEsRUFDSjtBQUFBLEVBQ0EsSUFBSSxnQkFBZ0I7QUFDaEIsV0FBTyxLQUFLLEtBQUs7QUFBQSxFQUNyQjtBQUFBLEVBQ0EsSUFBSSxVQUFVO0FBQ1YsV0FBTyxLQUFLLEtBQUs7QUFBQSxFQUNyQjtBQUFBLEVBQ0EsSUFBSSxhQUFhO0FBQ2IsV0FBTyxLQUFLLEtBQUs7QUFBQSxFQUNyQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVNBLE9BQU8sT0FBTyxlQUFlLFNBQVMsUUFBUTtBQUUxQyxVQUFNLGFBQWEsb0JBQUksSUFBSTtBQUUzQixlQUFXLFFBQVEsU0FBUztBQUN4QixZQUFNLHNCQUFzQixpQkFBaUIsS0FBSyxNQUFNLGFBQWEsQ0FBQztBQUN0RSxVQUFJLENBQUMsb0JBQW9CLFFBQVE7QUFDN0IsY0FBTSxJQUFJLE1BQU0sbUNBQW1DLGFBQWEsbURBQW1EO0FBQUEsTUFDdkg7QUFDQSxpQkFBVyxTQUFTLHFCQUFxQjtBQUNyQyxZQUFJLFdBQVcsSUFBSSxLQUFLLEdBQUc7QUFDdkIsZ0JBQU0sSUFBSSxNQUFNLDBCQUEwQixPQUFPLGFBQWEsQ0FBQyx3QkFBd0IsT0FBTyxLQUFLLENBQUMsRUFBRTtBQUFBLFFBQzFHO0FBQ0EsbUJBQVcsSUFBSSxPQUFPLElBQUk7QUFBQSxNQUM5QjtBQUFBLElBQ0o7QUFDQSxXQUFPLElBQUksdUJBQXNCO0FBQUEsTUFDN0IsVUFBVUMsdUJBQXNCO0FBQUEsTUFDaEM7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0EsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLElBQ2pDLENBQUM7QUFBQSxFQUNMO0FBQ0o7QUFDQSxTQUFTMEMsYUFBWUMsSUFBR0MsSUFBRztBQUN2QixRQUFNLFFBQVEvQyxlQUFjOEMsRUFBQztBQUM3QixRQUFNLFFBQVE5QyxlQUFjK0MsRUFBQztBQUM3QixNQUFJRCxPQUFNQyxJQUFHO0FBQ1QsV0FBTyxFQUFFLE9BQU8sTUFBTSxNQUFNRCxHQUFFO0FBQUEsRUFDbEMsV0FDUyxVQUFVLGNBQWMsVUFBVSxVQUFVLGNBQWMsUUFBUTtBQUN2RSxVQUFNLFFBQVEsS0FBSyxXQUFXQyxFQUFDO0FBQy9CLFVBQU0sYUFBYSxLQUFLLFdBQVdELEVBQUMsRUFBRSxPQUFPLENBQUMsUUFBUSxNQUFNLFFBQVEsR0FBRyxNQUFNLEVBQUU7QUFDL0UsVUFBTSxTQUFTLEVBQUUsR0FBR0EsSUFBRyxHQUFHQyxHQUFFO0FBQzVCLGVBQVcsT0FBTyxZQUFZO0FBQzFCLFlBQU0sY0FBY0YsYUFBWUMsR0FBRSxHQUFHLEdBQUdDLEdBQUUsR0FBRyxDQUFDO0FBQzlDLFVBQUksQ0FBQyxZQUFZLE9BQU87QUFDcEIsZUFBTyxFQUFFLE9BQU8sTUFBTTtBQUFBLE1BQzFCO0FBQ0EsYUFBTyxHQUFHLElBQUksWUFBWTtBQUFBLElBQzlCO0FBQ0EsV0FBTyxFQUFFLE9BQU8sTUFBTSxNQUFNLE9BQU87QUFBQSxFQUN2QyxXQUNTLFVBQVUsY0FBYyxTQUFTLFVBQVUsY0FBYyxPQUFPO0FBQ3JFLFFBQUlELEdBQUUsV0FBV0MsR0FBRSxRQUFRO0FBQ3ZCLGFBQU8sRUFBRSxPQUFPLE1BQU07QUFBQSxJQUMxQjtBQUNBLFVBQU0sV0FBVyxDQUFDO0FBQ2xCLGFBQVMsUUFBUSxHQUFHLFFBQVFELEdBQUUsUUFBUSxTQUFTO0FBQzNDLFlBQU0sUUFBUUEsR0FBRSxLQUFLO0FBQ3JCLFlBQU0sUUFBUUMsR0FBRSxLQUFLO0FBQ3JCLFlBQU0sY0FBY0YsYUFBWSxPQUFPLEtBQUs7QUFDNUMsVUFBSSxDQUFDLFlBQVksT0FBTztBQUNwQixlQUFPLEVBQUUsT0FBTyxNQUFNO0FBQUEsTUFDMUI7QUFDQSxlQUFTLEtBQUssWUFBWSxJQUFJO0FBQUEsSUFDbEM7QUFDQSxXQUFPLEVBQUUsT0FBTyxNQUFNLE1BQU0sU0FBUztBQUFBLEVBQ3pDLFdBQ1MsVUFBVSxjQUFjLFFBQVEsVUFBVSxjQUFjLFFBQVEsQ0FBQ0MsT0FBTSxDQUFDQyxJQUFHO0FBQ2hGLFdBQU8sRUFBRSxPQUFPLE1BQU0sTUFBTUQsR0FBRTtBQUFBLEVBQ2xDLE9BQ0s7QUFDRCxXQUFPLEVBQUUsT0FBTyxNQUFNO0FBQUEsRUFDMUI7QUFDSjtBQUNPLElBQU1yQyxtQkFBTixjQUE4QlYsU0FBUTtBQUFBLEVBQ3pDLE9BQU8sT0FBTztBQUNWLFVBQU0sRUFBRSxRQUFRLElBQUksSUFBSSxLQUFLLG9CQUFvQixLQUFLO0FBQ3RELFVBQU0sZUFBZSxDQUFDLFlBQVksZ0JBQWdCO0FBQzlDLFVBQUksVUFBVSxVQUFVLEtBQUssVUFBVSxXQUFXLEdBQUc7QUFDakQsZUFBTztBQUFBLE1BQ1g7QUFDQSxZQUFNLFNBQVM4QyxhQUFZLFdBQVcsT0FBTyxZQUFZLEtBQUs7QUFDOUQsVUFBSSxDQUFDLE9BQU8sT0FBTztBQUNmLDBCQUFrQixLQUFLO0FBQUEsVUFDbkIsTUFBTTNDLGNBQWE7QUFBQSxRQUN2QixDQUFDO0FBQ0QsZUFBTztBQUFBLE1BQ1g7QUFDQSxVQUFJLFFBQVEsVUFBVSxLQUFLLFFBQVEsV0FBVyxHQUFHO0FBQzdDLGVBQU8sTUFBTTtBQUFBLE1BQ2pCO0FBQ0EsYUFBTyxFQUFFLFFBQVEsT0FBTyxPQUFPLE9BQU8sT0FBTyxLQUFLO0FBQUEsSUFDdEQ7QUFDQSxRQUFJLElBQUksT0FBTyxPQUFPO0FBQ2xCLGFBQU8sUUFBUSxJQUFJO0FBQUEsUUFDZixLQUFLLEtBQUssS0FBSyxZQUFZO0FBQUEsVUFDdkIsTUFBTSxJQUFJO0FBQUEsVUFDVixNQUFNLElBQUk7QUFBQSxVQUNWLFFBQVE7QUFBQSxRQUNaLENBQUM7QUFBQSxRQUNELEtBQUssS0FBSyxNQUFNLFlBQVk7QUFBQSxVQUN4QixNQUFNLElBQUk7QUFBQSxVQUNWLE1BQU0sSUFBSTtBQUFBLFVBQ1YsUUFBUTtBQUFBLFFBQ1osQ0FBQztBQUFBLE1BQ0wsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLE1BQU0sS0FBSyxNQUFNLGFBQWEsTUFBTSxLQUFLLENBQUM7QUFBQSxJQUN4RCxPQUNLO0FBQ0QsYUFBTyxhQUFhLEtBQUssS0FBSyxLQUFLLFdBQVc7QUFBQSxRQUMxQyxNQUFNLElBQUk7QUFBQSxRQUNWLE1BQU0sSUFBSTtBQUFBLFFBQ1YsUUFBUTtBQUFBLE1BQ1osQ0FBQyxHQUFHLEtBQUssS0FBSyxNQUFNLFdBQVc7QUFBQSxRQUMzQixNQUFNLElBQUk7QUFBQSxRQUNWLE1BQU0sSUFBSTtBQUFBLFFBQ1YsUUFBUTtBQUFBLE1BQ1osQ0FBQyxDQUFDO0FBQUEsSUFDTjtBQUFBLEVBQ0o7QUFDSjtBQUNBTyxpQkFBZ0IsU0FBUyxDQUFDLE1BQU0sT0FBTyxXQUFXO0FBQzlDLFNBQU8sSUFBSUEsaUJBQWdCO0FBQUEsSUFDdkI7QUFBQSxJQUNBO0FBQUEsSUFDQSxVQUFVTix1QkFBc0I7QUFBQSxJQUNoQyxHQUFHLG9CQUFvQixNQUFNO0FBQUEsRUFDakMsQ0FBQztBQUNMO0FBRU8sSUFBTWtDLFlBQU4sTUFBTSxrQkFBaUJ0QyxTQUFRO0FBQUEsRUFDbEMsT0FBTyxPQUFPO0FBQ1YsVUFBTSxFQUFFLFFBQVEsSUFBSSxJQUFJLEtBQUssb0JBQW9CLEtBQUs7QUFDdEQsUUFBSSxJQUFJLGVBQWUsY0FBYyxPQUFPO0FBQ3hDLHdCQUFrQixLQUFLO0FBQUEsUUFDbkIsTUFBTUcsY0FBYTtBQUFBLFFBQ25CLFVBQVUsY0FBYztBQUFBLFFBQ3hCLFVBQVUsSUFBSTtBQUFBLE1BQ2xCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFFBQUksSUFBSSxLQUFLLFNBQVMsS0FBSyxLQUFLLE1BQU0sUUFBUTtBQUMxQyx3QkFBa0IsS0FBSztBQUFBLFFBQ25CLE1BQU1BLGNBQWE7QUFBQSxRQUNuQixTQUFTLEtBQUssS0FBSyxNQUFNO0FBQUEsUUFDekIsV0FBVztBQUFBLFFBQ1gsT0FBTztBQUFBLFFBQ1AsTUFBTTtBQUFBLE1BQ1YsQ0FBQztBQUNELGFBQU87QUFBQSxJQUNYO0FBQ0EsVUFBTSxPQUFPLEtBQUssS0FBSztBQUN2QixRQUFJLENBQUMsUUFBUSxJQUFJLEtBQUssU0FBUyxLQUFLLEtBQUssTUFBTSxRQUFRO0FBQ25ELHdCQUFrQixLQUFLO0FBQUEsUUFDbkIsTUFBTUEsY0FBYTtBQUFBLFFBQ25CLFNBQVMsS0FBSyxLQUFLLE1BQU07QUFBQSxRQUN6QixXQUFXO0FBQUEsUUFDWCxPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsTUFDVixDQUFDO0FBQ0QsYUFBTyxNQUFNO0FBQUEsSUFDakI7QUFDQSxVQUFNLFFBQVEsQ0FBQyxHQUFHLElBQUksSUFBSSxFQUNyQixJQUFJLENBQUMsTUFBTSxjQUFjO0FBQzFCLFlBQU0sU0FBUyxLQUFLLEtBQUssTUFBTSxTQUFTLEtBQUssS0FBSyxLQUFLO0FBQ3ZELFVBQUksQ0FBQztBQUNELGVBQU87QUFDWCxhQUFPLE9BQU8sT0FBTyxJQUFJLG1CQUFtQixLQUFLLE1BQU0sSUFBSSxNQUFNLFNBQVMsQ0FBQztBQUFBLElBQy9FLENBQUMsRUFDSSxPQUFPLENBQUM4QyxPQUFNLENBQUMsQ0FBQ0EsRUFBQztBQUN0QixRQUFJLElBQUksT0FBTyxPQUFPO0FBQ2xCLGFBQU8sUUFBUSxJQUFJLEtBQUssRUFBRSxLQUFLLENBQUMsWUFBWTtBQUN4QyxlQUFPLFlBQVksV0FBVyxRQUFRLE9BQU87QUFBQSxNQUNqRCxDQUFDO0FBQUEsSUFDTCxPQUNLO0FBQ0QsYUFBTyxZQUFZLFdBQVcsUUFBUSxLQUFLO0FBQUEsSUFDL0M7QUFBQSxFQUNKO0FBQUEsRUFDQSxJQUFJLFFBQVE7QUFDUixXQUFPLEtBQUssS0FBSztBQUFBLEVBQ3JCO0FBQUEsRUFDQSxLQUFLLE1BQU07QUFDUCxXQUFPLElBQUksVUFBUztBQUFBLE1BQ2hCLEdBQUcsS0FBSztBQUFBLE1BQ1I7QUFBQSxJQUNKLENBQUM7QUFBQSxFQUNMO0FBQ0o7QUFDQVgsVUFBUyxTQUFTLENBQUMsU0FBUyxXQUFXO0FBQ25DLE1BQUksQ0FBQyxNQUFNLFFBQVEsT0FBTyxHQUFHO0FBQ3pCLFVBQU0sSUFBSSxNQUFNLHVEQUF1RDtBQUFBLEVBQzNFO0FBQ0EsU0FBTyxJQUFJQSxVQUFTO0FBQUEsSUFDaEIsT0FBTztBQUFBLElBQ1AsVUFBVWxDLHVCQUFzQjtBQUFBLElBQ2hDLE1BQU07QUFBQSxJQUNOLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFDTyxJQUFNOEMsYUFBTixNQUFNLG1CQUFrQmxELFNBQVE7QUFBQSxFQUNuQyxJQUFJLFlBQVk7QUFDWixXQUFPLEtBQUssS0FBSztBQUFBLEVBQ3JCO0FBQUEsRUFDQSxJQUFJLGNBQWM7QUFDZCxXQUFPLEtBQUssS0FBSztBQUFBLEVBQ3JCO0FBQUEsRUFDQSxPQUFPLE9BQU87QUFDVixVQUFNLEVBQUUsUUFBUSxJQUFJLElBQUksS0FBSyxvQkFBb0IsS0FBSztBQUN0RCxRQUFJLElBQUksZUFBZSxjQUFjLFFBQVE7QUFDekMsd0JBQWtCLEtBQUs7QUFBQSxRQUNuQixNQUFNRyxjQUFhO0FBQUEsUUFDbkIsVUFBVSxjQUFjO0FBQUEsUUFDeEIsVUFBVSxJQUFJO0FBQUEsTUFDbEIsQ0FBQztBQUNELGFBQU87QUFBQSxJQUNYO0FBQ0EsVUFBTSxRQUFRLENBQUM7QUFDZixVQUFNLFVBQVUsS0FBSyxLQUFLO0FBQzFCLFVBQU0sWUFBWSxLQUFLLEtBQUs7QUFDNUIsZUFBVyxPQUFPLElBQUksTUFBTTtBQUN4QixZQUFNLEtBQUs7QUFBQSxRQUNQLEtBQUssUUFBUSxPQUFPLElBQUksbUJBQW1CLEtBQUssS0FBSyxJQUFJLE1BQU0sR0FBRyxDQUFDO0FBQUEsUUFDbkUsT0FBTyxVQUFVLE9BQU8sSUFBSSxtQkFBbUIsS0FBSyxJQUFJLEtBQUssR0FBRyxHQUFHLElBQUksTUFBTSxHQUFHLENBQUM7QUFBQSxRQUNqRixXQUFXLE9BQU8sSUFBSTtBQUFBLE1BQzFCLENBQUM7QUFBQSxJQUNMO0FBQ0EsUUFBSSxJQUFJLE9BQU8sT0FBTztBQUNsQixhQUFPLFlBQVksaUJBQWlCLFFBQVEsS0FBSztBQUFBLElBQ3JELE9BQ0s7QUFDRCxhQUFPLFlBQVksZ0JBQWdCLFFBQVEsS0FBSztBQUFBLElBQ3BEO0FBQUEsRUFDSjtBQUFBLEVBQ0EsSUFBSSxVQUFVO0FBQ1YsV0FBTyxLQUFLLEtBQUs7QUFBQSxFQUNyQjtBQUFBLEVBQ0EsT0FBTyxPQUFPLE9BQU8sUUFBUSxPQUFPO0FBQ2hDLFFBQUksa0JBQWtCSCxVQUFTO0FBQzNCLGFBQU8sSUFBSSxXQUFVO0FBQUEsUUFDakIsU0FBUztBQUFBLFFBQ1QsV0FBVztBQUFBLFFBQ1gsVUFBVUksdUJBQXNCO0FBQUEsUUFDaEMsR0FBRyxvQkFBb0IsS0FBSztBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNMO0FBQ0EsV0FBTyxJQUFJLFdBQVU7QUFBQSxNQUNqQixTQUFTZSxXQUFVLE9BQU87QUFBQSxNQUMxQixXQUFXO0FBQUEsTUFDWCxVQUFVZix1QkFBc0I7QUFBQSxNQUNoQyxHQUFHLG9CQUFvQixNQUFNO0FBQUEsSUFDakMsQ0FBQztBQUFBLEVBQ0w7QUFDSjtBQUNPLElBQU0rQyxVQUFOLGNBQXFCbkQsU0FBUTtBQUFBLEVBQ2hDLElBQUksWUFBWTtBQUNaLFdBQU8sS0FBSyxLQUFLO0FBQUEsRUFDckI7QUFBQSxFQUNBLElBQUksY0FBYztBQUNkLFdBQU8sS0FBSyxLQUFLO0FBQUEsRUFDckI7QUFBQSxFQUNBLE9BQU8sT0FBTztBQUNWLFVBQU0sRUFBRSxRQUFRLElBQUksSUFBSSxLQUFLLG9CQUFvQixLQUFLO0FBQ3RELFFBQUksSUFBSSxlQUFlLGNBQWMsS0FBSztBQUN0Qyx3QkFBa0IsS0FBSztBQUFBLFFBQ25CLE1BQU1HLGNBQWE7QUFBQSxRQUNuQixVQUFVLGNBQWM7QUFBQSxRQUN4QixVQUFVLElBQUk7QUFBQSxNQUNsQixDQUFDO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFDQSxVQUFNLFVBQVUsS0FBSyxLQUFLO0FBQzFCLFVBQU0sWUFBWSxLQUFLLEtBQUs7QUFDNUIsVUFBTSxRQUFRLENBQUMsR0FBRyxJQUFJLEtBQUssUUFBUSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLEdBQUcsVUFBVTtBQUMvRCxhQUFPO0FBQUEsUUFDSCxLQUFLLFFBQVEsT0FBTyxJQUFJLG1CQUFtQixLQUFLLEtBQUssSUFBSSxNQUFNLENBQUMsT0FBTyxLQUFLLENBQUMsQ0FBQztBQUFBLFFBQzlFLE9BQU8sVUFBVSxPQUFPLElBQUksbUJBQW1CLEtBQUssT0FBTyxJQUFJLE1BQU0sQ0FBQyxPQUFPLE9BQU8sQ0FBQyxDQUFDO0FBQUEsTUFDMUY7QUFBQSxJQUNKLENBQUM7QUFDRCxRQUFJLElBQUksT0FBTyxPQUFPO0FBQ2xCLFlBQU0sV0FBVyxvQkFBSSxJQUFJO0FBQ3pCLGFBQU8sUUFBUSxRQUFRLEVBQUUsS0FBSyxZQUFZO0FBQ3RDLG1CQUFXLFFBQVEsT0FBTztBQUN0QixnQkFBTSxNQUFNLE1BQU0sS0FBSztBQUN2QixnQkFBTSxRQUFRLE1BQU0sS0FBSztBQUN6QixjQUFJLElBQUksV0FBVyxhQUFhLE1BQU0sV0FBVyxXQUFXO0FBQ3hELG1CQUFPO0FBQUEsVUFDWDtBQUNBLGNBQUksSUFBSSxXQUFXLFdBQVcsTUFBTSxXQUFXLFNBQVM7QUFDcEQsbUJBQU8sTUFBTTtBQUFBLFVBQ2pCO0FBQ0EsbUJBQVMsSUFBSSxJQUFJLE9BQU8sTUFBTSxLQUFLO0FBQUEsUUFDdkM7QUFDQSxlQUFPLEVBQUUsUUFBUSxPQUFPLE9BQU8sT0FBTyxTQUFTO0FBQUEsTUFDbkQsQ0FBQztBQUFBLElBQ0wsT0FDSztBQUNELFlBQU0sV0FBVyxvQkFBSSxJQUFJO0FBQ3pCLGlCQUFXLFFBQVEsT0FBTztBQUN0QixjQUFNLE1BQU0sS0FBSztBQUNqQixjQUFNLFFBQVEsS0FBSztBQUNuQixZQUFJLElBQUksV0FBVyxhQUFhLE1BQU0sV0FBVyxXQUFXO0FBQ3hELGlCQUFPO0FBQUEsUUFDWDtBQUNBLFlBQUksSUFBSSxXQUFXLFdBQVcsTUFBTSxXQUFXLFNBQVM7QUFDcEQsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCO0FBQ0EsaUJBQVMsSUFBSSxJQUFJLE9BQU8sTUFBTSxLQUFLO0FBQUEsTUFDdkM7QUFDQSxhQUFPLEVBQUUsUUFBUSxPQUFPLE9BQU8sT0FBTyxTQUFTO0FBQUEsSUFDbkQ7QUFBQSxFQUNKO0FBQ0o7QUFDQWdELFFBQU8sU0FBUyxDQUFDLFNBQVMsV0FBVyxXQUFXO0FBQzVDLFNBQU8sSUFBSUEsUUFBTztBQUFBLElBQ2Q7QUFBQSxJQUNBO0FBQUEsSUFDQSxVQUFVL0MsdUJBQXNCO0FBQUEsSUFDaEMsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLEVBQ2pDLENBQUM7QUFDTDtBQUNPLElBQU1nRCxVQUFOLE1BQU0sZ0JBQWVwRCxTQUFRO0FBQUEsRUFDaEMsT0FBTyxPQUFPO0FBQ1YsVUFBTSxFQUFFLFFBQVEsSUFBSSxJQUFJLEtBQUssb0JBQW9CLEtBQUs7QUFDdEQsUUFBSSxJQUFJLGVBQWUsY0FBYyxLQUFLO0FBQ3RDLHdCQUFrQixLQUFLO0FBQUEsUUFDbkIsTUFBTUcsY0FBYTtBQUFBLFFBQ25CLFVBQVUsY0FBYztBQUFBLFFBQ3hCLFVBQVUsSUFBSTtBQUFBLE1BQ2xCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFVBQU0sTUFBTSxLQUFLO0FBQ2pCLFFBQUksSUFBSSxZQUFZLE1BQU07QUFDdEIsVUFBSSxJQUFJLEtBQUssT0FBTyxJQUFJLFFBQVEsT0FBTztBQUNuQywwQkFBa0IsS0FBSztBQUFBLFVBQ25CLE1BQU1BLGNBQWE7QUFBQSxVQUNuQixTQUFTLElBQUksUUFBUTtBQUFBLFVBQ3JCLE1BQU07QUFBQSxVQUNOLFdBQVc7QUFBQSxVQUNYLE9BQU87QUFBQSxVQUNQLFNBQVMsSUFBSSxRQUFRO0FBQUEsUUFDekIsQ0FBQztBQUNELGVBQU8sTUFBTTtBQUFBLE1BQ2pCO0FBQUEsSUFDSjtBQUNBLFFBQUksSUFBSSxZQUFZLE1BQU07QUFDdEIsVUFBSSxJQUFJLEtBQUssT0FBTyxJQUFJLFFBQVEsT0FBTztBQUNuQywwQkFBa0IsS0FBSztBQUFBLFVBQ25CLE1BQU1BLGNBQWE7QUFBQSxVQUNuQixTQUFTLElBQUksUUFBUTtBQUFBLFVBQ3JCLE1BQU07QUFBQSxVQUNOLFdBQVc7QUFBQSxVQUNYLE9BQU87QUFBQSxVQUNQLFNBQVMsSUFBSSxRQUFRO0FBQUEsUUFDekIsQ0FBQztBQUNELGVBQU8sTUFBTTtBQUFBLE1BQ2pCO0FBQUEsSUFDSjtBQUNBLFVBQU0sWUFBWSxLQUFLLEtBQUs7QUFDNUIsYUFBUyxZQUFZa0QsV0FBVTtBQUMzQixZQUFNLFlBQVksb0JBQUksSUFBSTtBQUMxQixpQkFBVyxXQUFXQSxXQUFVO0FBQzVCLFlBQUksUUFBUSxXQUFXO0FBQ25CLGlCQUFPO0FBQ1gsWUFBSSxRQUFRLFdBQVc7QUFDbkIsaUJBQU8sTUFBTTtBQUNqQixrQkFBVSxJQUFJLFFBQVEsS0FBSztBQUFBLE1BQy9CO0FBQ0EsYUFBTyxFQUFFLFFBQVEsT0FBTyxPQUFPLE9BQU8sVUFBVTtBQUFBLElBQ3BEO0FBQ0EsVUFBTSxXQUFXLENBQUMsR0FBRyxJQUFJLEtBQUssT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU1sQixPQUFNLFVBQVUsT0FBTyxJQUFJLG1CQUFtQixLQUFLLE1BQU0sSUFBSSxNQUFNQSxFQUFDLENBQUMsQ0FBQztBQUN6SCxRQUFJLElBQUksT0FBTyxPQUFPO0FBQ2xCLGFBQU8sUUFBUSxJQUFJLFFBQVEsRUFBRSxLQUFLLENBQUNrQixjQUFhLFlBQVlBLFNBQVEsQ0FBQztBQUFBLElBQ3pFLE9BQ0s7QUFDRCxhQUFPLFlBQVksUUFBUTtBQUFBLElBQy9CO0FBQUEsRUFDSjtBQUFBLEVBQ0EsSUFBSSxTQUFTLFNBQVM7QUFDbEIsV0FBTyxJQUFJLFFBQU87QUFBQSxNQUNkLEdBQUcsS0FBSztBQUFBLE1BQ1IsU0FBUyxFQUFFLE9BQU8sU0FBUyxTQUFTLFVBQVUsU0FBUyxPQUFPLEVBQUU7QUFBQSxJQUNwRSxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsSUFBSSxTQUFTLFNBQVM7QUFDbEIsV0FBTyxJQUFJLFFBQU87QUFBQSxNQUNkLEdBQUcsS0FBSztBQUFBLE1BQ1IsU0FBUyxFQUFFLE9BQU8sU0FBUyxTQUFTLFVBQVUsU0FBUyxPQUFPLEVBQUU7QUFBQSxJQUNwRSxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsS0FBSyxNQUFNLFNBQVM7QUFDaEIsV0FBTyxLQUFLLElBQUksTUFBTSxPQUFPLEVBQUUsSUFBSSxNQUFNLE9BQU87QUFBQSxFQUNwRDtBQUFBLEVBQ0EsU0FBUyxTQUFTO0FBQ2QsV0FBTyxLQUFLLElBQUksR0FBRyxPQUFPO0FBQUEsRUFDOUI7QUFDSjtBQUNBRCxRQUFPLFNBQVMsQ0FBQyxXQUFXLFdBQVc7QUFDbkMsU0FBTyxJQUFJQSxRQUFPO0FBQUEsSUFDZDtBQUFBLElBQ0EsU0FBUztBQUFBLElBQ1QsU0FBUztBQUFBLElBQ1QsVUFBVWhELHVCQUFzQjtBQUFBLElBQ2hDLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFDTyxJQUFNa0QsZUFBTixNQUFNLHFCQUFvQnRELFNBQVE7QUFBQSxFQUNyQyxjQUFjO0FBQ1YsVUFBTSxHQUFHLFNBQVM7QUFDbEIsU0FBSyxXQUFXLEtBQUs7QUFBQSxFQUN6QjtBQUFBLEVBQ0EsT0FBTyxPQUFPO0FBQ1YsVUFBTSxFQUFFLElBQUksSUFBSSxLQUFLLG9CQUFvQixLQUFLO0FBQzlDLFFBQUksSUFBSSxlQUFlLGNBQWMsVUFBVTtBQUMzQyx3QkFBa0IsS0FBSztBQUFBLFFBQ25CLE1BQU1HLGNBQWE7QUFBQSxRQUNuQixVQUFVLGNBQWM7QUFBQSxRQUN4QixVQUFVLElBQUk7QUFBQSxNQUNsQixDQUFDO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFDQSxhQUFTLGNBQWMsTUFBTU4sU0FBTztBQUNoQyxhQUFPLFVBQVU7QUFBQSxRQUNiLE1BQU07QUFBQSxRQUNOLE1BQU0sSUFBSTtBQUFBLFFBQ1YsV0FBVyxDQUFDLElBQUksT0FBTyxvQkFBb0IsSUFBSSxnQkFBZ0IwRCxhQUFZLEdBQUdDLFdBQWUsRUFBRSxPQUFPLENBQUNQLE9BQU0sQ0FBQyxDQUFDQSxFQUFDO0FBQUEsUUFDaEgsV0FBVztBQUFBLFVBQ1AsTUFBTTlDLGNBQWE7QUFBQSxVQUNuQixnQkFBZ0JOO0FBQUEsUUFDcEI7QUFBQSxNQUNKLENBQUM7QUFBQSxJQUNMO0FBQ0EsYUFBUyxpQkFBaUIsU0FBU0EsU0FBTztBQUN0QyxhQUFPLFVBQVU7QUFBQSxRQUNiLE1BQU07QUFBQSxRQUNOLE1BQU0sSUFBSTtBQUFBLFFBQ1YsV0FBVyxDQUFDLElBQUksT0FBTyxvQkFBb0IsSUFBSSxnQkFBZ0IwRCxhQUFZLEdBQUdDLFdBQWUsRUFBRSxPQUFPLENBQUNQLE9BQU0sQ0FBQyxDQUFDQSxFQUFDO0FBQUEsUUFDaEgsV0FBVztBQUFBLFVBQ1AsTUFBTTlDLGNBQWE7QUFBQSxVQUNuQixpQkFBaUJOO0FBQUEsUUFDckI7QUFBQSxNQUNKLENBQUM7QUFBQSxJQUNMO0FBQ0EsVUFBTSxTQUFTLEVBQUUsVUFBVSxJQUFJLE9BQU8sbUJBQW1CO0FBQ3pELFVBQU0sS0FBSyxJQUFJO0FBQ2YsUUFBSSxLQUFLLEtBQUssbUJBQW1CVyxhQUFZO0FBSXpDLFlBQU0sS0FBSztBQUNYLGFBQU8sR0FBRyxrQkFBbUIsTUFBTTtBQUMvQixjQUFNWCxVQUFRLElBQUlDLFVBQVMsQ0FBQyxDQUFDO0FBQzdCLGNBQU0sYUFBYSxNQUFNLEdBQUcsS0FBSyxLQUFLLFdBQVcsTUFBTSxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU07QUFDeEUsVUFBQUQsUUFBTSxTQUFTLGNBQWMsTUFBTSxDQUFDLENBQUM7QUFDckMsZ0JBQU1BO0FBQUEsUUFDVixDQUFDO0FBQ0QsY0FBTSxTQUFTLE1BQU0sUUFBUSxNQUFNLElBQUksTUFBTSxVQUFVO0FBQ3ZELGNBQU0sZ0JBQWdCLE1BQU0sR0FBRyxLQUFLLFFBQVEsS0FBSyxLQUM1QyxXQUFXLFFBQVEsTUFBTSxFQUN6QixNQUFNLENBQUMsTUFBTTtBQUNkLFVBQUFBLFFBQU0sU0FBUyxpQkFBaUIsUUFBUSxDQUFDLENBQUM7QUFDMUMsZ0JBQU1BO0FBQUEsUUFDVixDQUFDO0FBQ0QsZUFBTztBQUFBLE1BQ1gsQ0FBQztBQUFBLElBQ0wsT0FDSztBQUlELFlBQU0sS0FBSztBQUNYLGFBQU8sR0FBRyxZQUFhLE1BQU07QUFDekIsY0FBTSxhQUFhLEdBQUcsS0FBSyxLQUFLLFVBQVUsTUFBTSxNQUFNO0FBQ3RELFlBQUksQ0FBQyxXQUFXLFNBQVM7QUFDckIsZ0JBQU0sSUFBSUMsVUFBUyxDQUFDLGNBQWMsTUFBTSxXQUFXLEtBQUssQ0FBQyxDQUFDO0FBQUEsUUFDOUQ7QUFDQSxjQUFNLFNBQVMsUUFBUSxNQUFNLElBQUksTUFBTSxXQUFXLElBQUk7QUFDdEQsY0FBTSxnQkFBZ0IsR0FBRyxLQUFLLFFBQVEsVUFBVSxRQUFRLE1BQU07QUFDOUQsWUFBSSxDQUFDLGNBQWMsU0FBUztBQUN4QixnQkFBTSxJQUFJQSxVQUFTLENBQUMsaUJBQWlCLFFBQVEsY0FBYyxLQUFLLENBQUMsQ0FBQztBQUFBLFFBQ3RFO0FBQ0EsZUFBTyxjQUFjO0FBQUEsTUFDekIsQ0FBQztBQUFBLElBQ0w7QUFBQSxFQUNKO0FBQUEsRUFDQSxhQUFhO0FBQ1QsV0FBTyxLQUFLLEtBQUs7QUFBQSxFQUNyQjtBQUFBLEVBQ0EsYUFBYTtBQUNULFdBQU8sS0FBSyxLQUFLO0FBQUEsRUFDckI7QUFBQSxFQUNBLFFBQVEsT0FBTztBQUNYLFdBQU8sSUFBSSxhQUFZO0FBQUEsTUFDbkIsR0FBRyxLQUFLO0FBQUEsTUFDUixNQUFNd0MsVUFBUyxPQUFPLEtBQUssRUFBRSxLQUFLTixZQUFXLE9BQU8sQ0FBQztBQUFBLElBQ3pELENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxRQUFRLFlBQVk7QUFDaEIsV0FBTyxJQUFJLGFBQVk7QUFBQSxNQUNuQixHQUFHLEtBQUs7QUFBQSxNQUNSLFNBQVM7QUFBQSxJQUNiLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxVQUFVLE1BQU07QUFDWixVQUFNLGdCQUFnQixLQUFLLE1BQU0sSUFBSTtBQUNyQyxXQUFPO0FBQUEsRUFDWDtBQUFBLEVBQ0EsZ0JBQWdCLE1BQU07QUFDbEIsVUFBTSxnQkFBZ0IsS0FBSyxNQUFNLElBQUk7QUFDckMsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUNBLE9BQU8sT0FBTyxNQUFNLFNBQVMsUUFBUTtBQUNqQyxXQUFPLElBQUksYUFBWTtBQUFBLE1BQ25CLE1BQU8sT0FBTyxPQUFPTSxVQUFTLE9BQU8sQ0FBQyxDQUFDLEVBQUUsS0FBS04sWUFBVyxPQUFPLENBQUM7QUFBQSxNQUNqRSxTQUFTLFdBQVdBLFlBQVcsT0FBTztBQUFBLE1BQ3RDLFVBQVU1Qix1QkFBc0I7QUFBQSxNQUNoQyxHQUFHLG9CQUFvQixNQUFNO0FBQUEsSUFDakMsQ0FBQztBQUFBLEVBQ0w7QUFDSjtBQUNPLElBQU1zQyxXQUFOLGNBQXNCMUMsU0FBUTtBQUFBLEVBQ2pDLElBQUksU0FBUztBQUNULFdBQU8sS0FBSyxLQUFLLE9BQU87QUFBQSxFQUM1QjtBQUFBLEVBQ0EsT0FBTyxPQUFPO0FBQ1YsVUFBTSxFQUFFLElBQUksSUFBSSxLQUFLLG9CQUFvQixLQUFLO0FBQzlDLFVBQU0sYUFBYSxLQUFLLEtBQUssT0FBTztBQUNwQyxXQUFPLFdBQVcsT0FBTyxFQUFFLE1BQU0sSUFBSSxNQUFNLE1BQU0sSUFBSSxNQUFNLFFBQVEsSUFBSSxDQUFDO0FBQUEsRUFDNUU7QUFDSjtBQUNBMEMsU0FBUSxTQUFTLENBQUMsUUFBUSxXQUFXO0FBQ2pDLFNBQU8sSUFBSUEsU0FBUTtBQUFBLElBQ2Y7QUFBQSxJQUNBLFVBQVV0Qyx1QkFBc0I7QUFBQSxJQUNoQyxHQUFHLG9CQUFvQixNQUFNO0FBQUEsRUFDakMsQ0FBQztBQUNMO0FBQ08sSUFBTXVDLGNBQU4sY0FBeUIzQyxTQUFRO0FBQUEsRUFDcEMsT0FBTyxPQUFPO0FBQ1YsUUFBSSxNQUFNLFNBQVMsS0FBSyxLQUFLLE9BQU87QUFDaEMsWUFBTSxNQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsd0JBQWtCLEtBQUs7QUFBQSxRQUNuQixVQUFVLElBQUk7QUFBQSxRQUNkLE1BQU1HLGNBQWE7QUFBQSxRQUNuQixVQUFVLEtBQUssS0FBSztBQUFBLE1BQ3hCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFdBQU8sRUFBRSxRQUFRLFNBQVMsT0FBTyxNQUFNLEtBQUs7QUFBQSxFQUNoRDtBQUFBLEVBQ0EsSUFBSSxRQUFRO0FBQ1IsV0FBTyxLQUFLLEtBQUs7QUFBQSxFQUNyQjtBQUNKO0FBQ0F3QyxZQUFXLFNBQVMsQ0FBQyxPQUFPLFdBQVc7QUFDbkMsU0FBTyxJQUFJQSxZQUFXO0FBQUEsSUFDbEI7QUFBQSxJQUNBLFVBQVV2Qyx1QkFBc0I7QUFBQSxJQUNoQyxHQUFHLG9CQUFvQixNQUFNO0FBQUEsRUFDakMsQ0FBQztBQUNMO0FBQ0EsU0FBUyxjQUFjLFFBQVEsUUFBUTtBQUNuQyxTQUFPLElBQUl3QyxTQUFRO0FBQUEsSUFDZjtBQUFBLElBQ0EsVUFBVXhDLHVCQUFzQjtBQUFBLElBQ2hDLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFDTyxJQUFNd0MsV0FBTixNQUFNLGlCQUFnQjVDLFNBQVE7QUFBQSxFQUNqQyxPQUFPLE9BQU87QUFDVixRQUFJLE9BQU8sTUFBTSxTQUFTLFVBQVU7QUFDaEMsWUFBTSxNQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsWUFBTSxpQkFBaUIsS0FBSyxLQUFLO0FBQ2pDLHdCQUFrQixLQUFLO0FBQUEsUUFDbkIsVUFBVSxLQUFLLFdBQVcsY0FBYztBQUFBLFFBQ3hDLFVBQVUsSUFBSTtBQUFBLFFBQ2QsTUFBTUcsY0FBYTtBQUFBLE1BQ3ZCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFFBQUksQ0FBQyxLQUFLLFFBQVE7QUFDZCxXQUFLLFNBQVMsSUFBSSxJQUFJLEtBQUssS0FBSyxNQUFNO0FBQUEsSUFDMUM7QUFDQSxRQUFJLENBQUMsS0FBSyxPQUFPLElBQUksTUFBTSxJQUFJLEdBQUc7QUFDOUIsWUFBTSxNQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsWUFBTSxpQkFBaUIsS0FBSyxLQUFLO0FBQ2pDLHdCQUFrQixLQUFLO0FBQUEsUUFDbkIsVUFBVSxJQUFJO0FBQUEsUUFDZCxNQUFNQSxjQUFhO0FBQUEsUUFDbkIsU0FBUztBQUFBLE1BQ2IsQ0FBQztBQUNELGFBQU87QUFBQSxJQUNYO0FBQ0EsV0FBTyxHQUFHLE1BQU0sSUFBSTtBQUFBLEVBQ3hCO0FBQUEsRUFDQSxJQUFJLFVBQVU7QUFDVixXQUFPLEtBQUssS0FBSztBQUFBLEVBQ3JCO0FBQUEsRUFDQSxJQUFJLE9BQU87QUFDUCxVQUFNLGFBQWEsQ0FBQztBQUNwQixlQUFXLE9BQU8sS0FBSyxLQUFLLFFBQVE7QUFDaEMsaUJBQVcsR0FBRyxJQUFJO0FBQUEsSUFDdEI7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUFBLEVBQ0EsSUFBSSxTQUFTO0FBQ1QsVUFBTSxhQUFhLENBQUM7QUFDcEIsZUFBVyxPQUFPLEtBQUssS0FBSyxRQUFRO0FBQ2hDLGlCQUFXLEdBQUcsSUFBSTtBQUFBLElBQ3RCO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUNBLElBQUksT0FBTztBQUNQLFVBQU0sYUFBYSxDQUFDO0FBQ3BCLGVBQVcsT0FBTyxLQUFLLEtBQUssUUFBUTtBQUNoQyxpQkFBVyxHQUFHLElBQUk7QUFBQSxJQUN0QjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQUEsRUFDQSxRQUFRLFFBQVEsU0FBUyxLQUFLLE1BQU07QUFDaEMsV0FBTyxTQUFRLE9BQU8sUUFBUTtBQUFBLE1BQzFCLEdBQUcsS0FBSztBQUFBLE1BQ1IsR0FBRztBQUFBLElBQ1AsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLFFBQVEsUUFBUSxTQUFTLEtBQUssTUFBTTtBQUNoQyxXQUFPLFNBQVEsT0FBTyxLQUFLLFFBQVEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLFNBQVMsR0FBRyxDQUFDLEdBQUc7QUFBQSxNQUN2RSxHQUFHLEtBQUs7QUFBQSxNQUNSLEdBQUc7QUFBQSxJQUNQLENBQUM7QUFBQSxFQUNMO0FBQ0o7QUFDQXlDLFNBQVEsU0FBUztBQUNWLElBQU0sZ0JBQU4sY0FBNEI1QyxTQUFRO0FBQUEsRUFDdkMsT0FBTyxPQUFPO0FBQ1YsVUFBTSxtQkFBbUIsS0FBSyxtQkFBbUIsS0FBSyxLQUFLLE1BQU07QUFDakUsVUFBTSxNQUFNLEtBQUssZ0JBQWdCLEtBQUs7QUFDdEMsUUFBSSxJQUFJLGVBQWUsY0FBYyxVQUFVLElBQUksZUFBZSxjQUFjLFFBQVE7QUFDcEYsWUFBTSxpQkFBaUIsS0FBSyxhQUFhLGdCQUFnQjtBQUN6RCx3QkFBa0IsS0FBSztBQUFBLFFBQ25CLFVBQVUsS0FBSyxXQUFXLGNBQWM7QUFBQSxRQUN4QyxVQUFVLElBQUk7QUFBQSxRQUNkLE1BQU1HLGNBQWE7QUFBQSxNQUN2QixDQUFDO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFDQSxRQUFJLENBQUMsS0FBSyxRQUFRO0FBQ2QsV0FBSyxTQUFTLElBQUksSUFBSSxLQUFLLG1CQUFtQixLQUFLLEtBQUssTUFBTSxDQUFDO0FBQUEsSUFDbkU7QUFDQSxRQUFJLENBQUMsS0FBSyxPQUFPLElBQUksTUFBTSxJQUFJLEdBQUc7QUFDOUIsWUFBTSxpQkFBaUIsS0FBSyxhQUFhLGdCQUFnQjtBQUN6RCx3QkFBa0IsS0FBSztBQUFBLFFBQ25CLFVBQVUsSUFBSTtBQUFBLFFBQ2QsTUFBTUEsY0FBYTtBQUFBLFFBQ25CLFNBQVM7QUFBQSxNQUNiLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUNBLFdBQU8sR0FBRyxNQUFNLElBQUk7QUFBQSxFQUN4QjtBQUFBLEVBQ0EsSUFBSSxPQUFPO0FBQ1AsV0FBTyxLQUFLLEtBQUs7QUFBQSxFQUNyQjtBQUNKO0FBQ0EsY0FBYyxTQUFTLENBQUMsUUFBUSxXQUFXO0FBQ3ZDLFNBQU8sSUFBSSxjQUFjO0FBQUEsSUFDckI7QUFBQSxJQUNBLFVBQVVDLHVCQUFzQjtBQUFBLElBQ2hDLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFDTyxJQUFNSSxjQUFOLGNBQXlCUixTQUFRO0FBQUEsRUFDcEMsU0FBUztBQUNMLFdBQU8sS0FBSyxLQUFLO0FBQUEsRUFDckI7QUFBQSxFQUNBLE9BQU8sT0FBTztBQUNWLFVBQU0sRUFBRSxJQUFJLElBQUksS0FBSyxvQkFBb0IsS0FBSztBQUM5QyxRQUFJLElBQUksZUFBZSxjQUFjLFdBQVcsSUFBSSxPQUFPLFVBQVUsT0FBTztBQUN4RSx3QkFBa0IsS0FBSztBQUFBLFFBQ25CLE1BQU1HLGNBQWE7QUFBQSxRQUNuQixVQUFVLGNBQWM7QUFBQSxRQUN4QixVQUFVLElBQUk7QUFBQSxNQUNsQixDQUFDO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFDQSxVQUFNLGNBQWMsSUFBSSxlQUFlLGNBQWMsVUFBVSxJQUFJLE9BQU8sUUFBUSxRQUFRLElBQUksSUFBSTtBQUNsRyxXQUFPLEdBQUcsWUFBWSxLQUFLLENBQUMsU0FBUztBQUNqQyxhQUFPLEtBQUssS0FBSyxLQUFLLFdBQVcsTUFBTTtBQUFBLFFBQ25DLE1BQU0sSUFBSTtBQUFBLFFBQ1YsVUFBVSxJQUFJLE9BQU87QUFBQSxNQUN6QixDQUFDO0FBQUEsSUFDTCxDQUFDLENBQUM7QUFBQSxFQUNOO0FBQ0o7QUFDQUssWUFBVyxTQUFTLENBQUMsUUFBUSxXQUFXO0FBQ3BDLFNBQU8sSUFBSUEsWUFBVztBQUFBLElBQ2xCLE1BQU07QUFBQSxJQUNOLFVBQVVKLHVCQUFzQjtBQUFBLElBQ2hDLEdBQUcsb0JBQW9CLE1BQU07QUFBQSxFQUNqQyxDQUFDO0FBQ0w7QUFDTyxJQUFNLGFBQU4sY0FBeUJKLFNBQVE7QUFBQSxFQUNwQyxZQUFZO0FBQ1IsV0FBTyxLQUFLLEtBQUs7QUFBQSxFQUNyQjtBQUFBLEVBQ0EsYUFBYTtBQUNULFdBQU8sS0FBSyxLQUFLLE9BQU8sS0FBSyxhQUFhSSx1QkFBc0IsYUFDMUQsS0FBSyxLQUFLLE9BQU8sV0FBVyxJQUM1QixLQUFLLEtBQUs7QUFBQSxFQUNwQjtBQUFBLEVBQ0EsT0FBTyxPQUFPO0FBQ1YsVUFBTSxFQUFFLFFBQVEsSUFBSSxJQUFJLEtBQUssb0JBQW9CLEtBQUs7QUFDdEQsVUFBTSxTQUFTLEtBQUssS0FBSyxVQUFVO0FBQ25DLFVBQU0sV0FBVztBQUFBLE1BQ2IsVUFBVSxDQUFDLFFBQVE7QUFDZiwwQkFBa0IsS0FBSyxHQUFHO0FBQzFCLFlBQUksSUFBSSxPQUFPO0FBQ1gsaUJBQU8sTUFBTTtBQUFBLFFBQ2pCLE9BQ0s7QUFDRCxpQkFBTyxNQUFNO0FBQUEsUUFDakI7QUFBQSxNQUNKO0FBQUEsTUFDQSxJQUFJLE9BQU87QUFDUCxlQUFPLElBQUk7QUFBQSxNQUNmO0FBQUEsSUFDSjtBQUNBLGFBQVMsV0FBVyxTQUFTLFNBQVMsS0FBSyxRQUFRO0FBQ25ELFFBQUksT0FBTyxTQUFTLGNBQWM7QUFDOUIsWUFBTSxZQUFZLE9BQU8sVUFBVSxJQUFJLE1BQU0sUUFBUTtBQUNyRCxVQUFJLElBQUksT0FBTyxPQUFPO0FBQ2xCLGVBQU8sUUFBUSxRQUFRLFNBQVMsRUFBRSxLQUFLLE9BQU9xRCxlQUFjO0FBQ3hELGNBQUksT0FBTyxVQUFVO0FBQ2pCLG1CQUFPO0FBQ1gsZ0JBQU0sU0FBUyxNQUFNLEtBQUssS0FBSyxPQUFPLFlBQVk7QUFBQSxZQUM5QyxNQUFNQTtBQUFBLFlBQ04sTUFBTSxJQUFJO0FBQUEsWUFDVixRQUFRO0FBQUEsVUFDWixDQUFDO0FBQ0QsY0FBSSxPQUFPLFdBQVc7QUFDbEIsbUJBQU87QUFDWCxjQUFJLE9BQU8sV0FBVztBQUNsQixtQkFBTyxNQUFNLE9BQU8sS0FBSztBQUM3QixjQUFJLE9BQU8sVUFBVTtBQUNqQixtQkFBTyxNQUFNLE9BQU8sS0FBSztBQUM3QixpQkFBTztBQUFBLFFBQ1gsQ0FBQztBQUFBLE1BQ0wsT0FDSztBQUNELFlBQUksT0FBTyxVQUFVO0FBQ2pCLGlCQUFPO0FBQ1gsY0FBTSxTQUFTLEtBQUssS0FBSyxPQUFPLFdBQVc7QUFBQSxVQUN2QyxNQUFNO0FBQUEsVUFDTixNQUFNLElBQUk7QUFBQSxVQUNWLFFBQVE7QUFBQSxRQUNaLENBQUM7QUFDRCxZQUFJLE9BQU8sV0FBVztBQUNsQixpQkFBTztBQUNYLFlBQUksT0FBTyxXQUFXO0FBQ2xCLGlCQUFPLE1BQU0sT0FBTyxLQUFLO0FBQzdCLFlBQUksT0FBTyxVQUFVO0FBQ2pCLGlCQUFPLE1BQU0sT0FBTyxLQUFLO0FBQzdCLGVBQU87QUFBQSxNQUNYO0FBQUEsSUFDSjtBQUNBLFFBQUksT0FBTyxTQUFTLGNBQWM7QUFDOUIsWUFBTSxvQkFBb0IsQ0FBQyxRQUFRO0FBQy9CLGNBQU0sU0FBUyxPQUFPLFdBQVcsS0FBSyxRQUFRO0FBQzlDLFlBQUksSUFBSSxPQUFPLE9BQU87QUFDbEIsaUJBQU8sUUFBUSxRQUFRLE1BQU07QUFBQSxRQUNqQztBQUNBLFlBQUksa0JBQWtCLFNBQVM7QUFDM0IsZ0JBQU0sSUFBSSxNQUFNLDJGQUEyRjtBQUFBLFFBQy9HO0FBQ0EsZUFBTztBQUFBLE1BQ1g7QUFDQSxVQUFJLElBQUksT0FBTyxVQUFVLE9BQU87QUFDNUIsY0FBTSxRQUFRLEtBQUssS0FBSyxPQUFPLFdBQVc7QUFBQSxVQUN0QyxNQUFNLElBQUk7QUFBQSxVQUNWLE1BQU0sSUFBSTtBQUFBLFVBQ1YsUUFBUTtBQUFBLFFBQ1osQ0FBQztBQUNELFlBQUksTUFBTSxXQUFXO0FBQ2pCLGlCQUFPO0FBQ1gsWUFBSSxNQUFNLFdBQVc7QUFDakIsaUJBQU8sTUFBTTtBQUVqQiwwQkFBa0IsTUFBTSxLQUFLO0FBQzdCLGVBQU8sRUFBRSxRQUFRLE9BQU8sT0FBTyxPQUFPLE1BQU0sTUFBTTtBQUFBLE1BQ3RELE9BQ0s7QUFDRCxlQUFPLEtBQUssS0FBSyxPQUFPLFlBQVksRUFBRSxNQUFNLElBQUksTUFBTSxNQUFNLElBQUksTUFBTSxRQUFRLElBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxVQUFVO0FBQ2pHLGNBQUksTUFBTSxXQUFXO0FBQ2pCLG1CQUFPO0FBQ1gsY0FBSSxNQUFNLFdBQVc7QUFDakIsbUJBQU8sTUFBTTtBQUNqQixpQkFBTyxrQkFBa0IsTUFBTSxLQUFLLEVBQUUsS0FBSyxNQUFNO0FBQzdDLG1CQUFPLEVBQUUsUUFBUSxPQUFPLE9BQU8sT0FBTyxNQUFNLE1BQU07QUFBQSxVQUN0RCxDQUFDO0FBQUEsUUFDTCxDQUFDO0FBQUEsTUFDTDtBQUFBLElBQ0o7QUFDQSxRQUFJLE9BQU8sU0FBUyxhQUFhO0FBQzdCLFVBQUksSUFBSSxPQUFPLFVBQVUsT0FBTztBQUM1QixjQUFNLE9BQU8sS0FBSyxLQUFLLE9BQU8sV0FBVztBQUFBLFVBQ3JDLE1BQU0sSUFBSTtBQUFBLFVBQ1YsTUFBTSxJQUFJO0FBQUEsVUFDVixRQUFRO0FBQUEsUUFDWixDQUFDO0FBQ0QsWUFBSSxDQUFDLFFBQVEsSUFBSTtBQUNiLGlCQUFPO0FBQ1gsY0FBTSxTQUFTLE9BQU8sVUFBVSxLQUFLLE9BQU8sUUFBUTtBQUNwRCxZQUFJLGtCQUFrQixTQUFTO0FBQzNCLGdCQUFNLElBQUksTUFBTSxpR0FBaUc7QUFBQSxRQUNySDtBQUNBLGVBQU8sRUFBRSxRQUFRLE9BQU8sT0FBTyxPQUFPLE9BQU87QUFBQSxNQUNqRCxPQUNLO0FBQ0QsZUFBTyxLQUFLLEtBQUssT0FBTyxZQUFZLEVBQUUsTUFBTSxJQUFJLE1BQU0sTUFBTSxJQUFJLE1BQU0sUUFBUSxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUMsU0FBUztBQUNoRyxjQUFJLENBQUMsUUFBUSxJQUFJO0FBQ2IsbUJBQU87QUFDWCxpQkFBTyxRQUFRLFFBQVEsT0FBTyxVQUFVLEtBQUssT0FBTyxRQUFRLENBQUMsRUFBRSxLQUFLLENBQUMsWUFBWTtBQUFBLFlBQzdFLFFBQVEsT0FBTztBQUFBLFlBQ2YsT0FBTztBQUFBLFVBQ1gsRUFBRTtBQUFBLFFBQ04sQ0FBQztBQUFBLE1BQ0w7QUFBQSxJQUNKO0FBQ0EsU0FBSyxZQUFZLE1BQU07QUFBQSxFQUMzQjtBQUNKO0FBQ0EsV0FBVyxTQUFTLENBQUMsUUFBUSxRQUFRLFdBQVc7QUFDNUMsU0FBTyxJQUFJLFdBQVc7QUFBQSxJQUNsQjtBQUFBLElBQ0EsVUFBVXJELHVCQUFzQjtBQUFBLElBQ2hDO0FBQUEsSUFDQSxHQUFHLG9CQUFvQixNQUFNO0FBQUEsRUFDakMsQ0FBQztBQUNMO0FBQ0EsV0FBVyx1QkFBdUIsQ0FBQ3NELGFBQVksUUFBUSxXQUFXO0FBQzlELFNBQU8sSUFBSSxXQUFXO0FBQUEsSUFDbEI7QUFBQSxJQUNBLFFBQVEsRUFBRSxNQUFNLGNBQWMsV0FBV0EsWUFBVztBQUFBLElBQ3BELFVBQVV0RCx1QkFBc0I7QUFBQSxJQUNoQyxHQUFHLG9CQUFvQixNQUFNO0FBQUEsRUFDakMsQ0FBQztBQUNMO0FBRU8sSUFBTXVELGVBQU4sY0FBMEJDLFNBQVE7QUFBQSxFQUNyQyxPQUFPLE9BQU87QUFDVixVQUFNQyxjQUFhLEtBQUssU0FBUyxLQUFLO0FBQ3RDLFFBQUlBLGdCQUFlLGNBQWMsV0FBVztBQUN4QyxhQUFPLEdBQUcsTUFBUztBQUFBLElBQ3ZCO0FBQ0EsV0FBTyxLQUFLLEtBQUssVUFBVSxPQUFPLEtBQUs7QUFBQSxFQUMzQztBQUFBLEVBQ0EsU0FBUztBQUNMLFdBQU8sS0FBSyxLQUFLO0FBQUEsRUFDckI7QUFDSjtBQUNBRixhQUFZLFNBQVMsQ0FBQyxNQUFNLFdBQVc7QUFDbkMsU0FBTyxJQUFJQSxhQUFZO0FBQUEsSUFDbkIsV0FBVztBQUFBLElBQ1gsVUFBVUcsdUJBQXNCO0FBQUEsSUFDaEMsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLEVBQ2pDLENBQUM7QUFDTDtBQUNPLElBQU1DLGVBQU4sY0FBMEJILFNBQVE7QUFBQSxFQUNyQyxPQUFPLE9BQU87QUFDVixVQUFNQyxjQUFhLEtBQUssU0FBUyxLQUFLO0FBQ3RDLFFBQUlBLGdCQUFlLGNBQWMsTUFBTTtBQUNuQyxhQUFPLEdBQUcsSUFBSTtBQUFBLElBQ2xCO0FBQ0EsV0FBTyxLQUFLLEtBQUssVUFBVSxPQUFPLEtBQUs7QUFBQSxFQUMzQztBQUFBLEVBQ0EsU0FBUztBQUNMLFdBQU8sS0FBSyxLQUFLO0FBQUEsRUFDckI7QUFDSjtBQUNBRSxhQUFZLFNBQVMsQ0FBQyxNQUFNLFdBQVc7QUFDbkMsU0FBTyxJQUFJQSxhQUFZO0FBQUEsSUFDbkIsV0FBVztBQUFBLElBQ1gsVUFBVUQsdUJBQXNCO0FBQUEsSUFDaEMsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLEVBQ2pDLENBQUM7QUFDTDtBQUNPLElBQU1FLGNBQU4sY0FBeUJKLFNBQVE7QUFBQSxFQUNwQyxPQUFPLE9BQU87QUFDVixVQUFNLEVBQUUsSUFBSSxJQUFJLEtBQUssb0JBQW9CLEtBQUs7QUFDOUMsUUFBSSxPQUFPLElBQUk7QUFDZixRQUFJLElBQUksZUFBZSxjQUFjLFdBQVc7QUFDNUMsYUFBTyxLQUFLLEtBQUssYUFBYTtBQUFBLElBQ2xDO0FBQ0EsV0FBTyxLQUFLLEtBQUssVUFBVSxPQUFPO0FBQUEsTUFDOUI7QUFBQSxNQUNBLE1BQU0sSUFBSTtBQUFBLE1BQ1YsUUFBUTtBQUFBLElBQ1osQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUNBLGdCQUFnQjtBQUNaLFdBQU8sS0FBSyxLQUFLO0FBQUEsRUFDckI7QUFDSjtBQUNBSSxZQUFXLFNBQVMsQ0FBQyxNQUFNLFdBQVc7QUFDbEMsU0FBTyxJQUFJQSxZQUFXO0FBQUEsSUFDbEIsV0FBVztBQUFBLElBQ1gsVUFBVUYsdUJBQXNCO0FBQUEsSUFDaEMsY0FBYyxPQUFPLE9BQU8sWUFBWSxhQUFhLE9BQU8sVUFBVSxNQUFNLE9BQU87QUFBQSxJQUNuRixHQUFHLG9CQUFvQixNQUFNO0FBQUEsRUFDakMsQ0FBQztBQUNMO0FBQ08sSUFBTUcsWUFBTixjQUF1QkwsU0FBUTtBQUFBLEVBQ2xDLE9BQU8sT0FBTztBQUNWLFVBQU0sRUFBRSxJQUFJLElBQUksS0FBSyxvQkFBb0IsS0FBSztBQUU5QyxVQUFNLFNBQVM7QUFBQSxNQUNYLEdBQUc7QUFBQSxNQUNILFFBQVE7QUFBQSxRQUNKLEdBQUcsSUFBSTtBQUFBLFFBQ1AsUUFBUSxDQUFDO0FBQUEsTUFDYjtBQUFBLElBQ0o7QUFDQSxVQUFNLFNBQVMsS0FBSyxLQUFLLFVBQVUsT0FBTztBQUFBLE1BQ3RDLE1BQU0sT0FBTztBQUFBLE1BQ2IsTUFBTSxPQUFPO0FBQUEsTUFDYixRQUFRO0FBQUEsUUFDSixHQUFHO0FBQUEsTUFDUDtBQUFBLElBQ0osQ0FBQztBQUNELFFBQUksUUFBUSxNQUFNLEdBQUc7QUFDakIsYUFBTyxPQUFPLEtBQUssQ0FBQ00sWUFBVztBQUMzQixlQUFPO0FBQUEsVUFDSCxRQUFRO0FBQUEsVUFDUixPQUFPQSxRQUFPLFdBQVcsVUFDbkJBLFFBQU8sUUFDUCxLQUFLLEtBQUssV0FBVztBQUFBLFlBQ25CLElBQUksUUFBUTtBQUNSLHFCQUFPLElBQUlDLFVBQVMsT0FBTyxPQUFPLE1BQU07QUFBQSxZQUM1QztBQUFBLFlBQ0EsT0FBTyxPQUFPO0FBQUEsVUFDbEIsQ0FBQztBQUFBLFFBQ1Q7QUFBQSxNQUNKLENBQUM7QUFBQSxJQUNMLE9BQ0s7QUFDRCxhQUFPO0FBQUEsUUFDSCxRQUFRO0FBQUEsUUFDUixPQUFPLE9BQU8sV0FBVyxVQUNuQixPQUFPLFFBQ1AsS0FBSyxLQUFLLFdBQVc7QUFBQSxVQUNuQixJQUFJLFFBQVE7QUFDUixtQkFBTyxJQUFJQSxVQUFTLE9BQU8sT0FBTyxNQUFNO0FBQUEsVUFDNUM7QUFBQSxVQUNBLE9BQU8sT0FBTztBQUFBLFFBQ2xCLENBQUM7QUFBQSxNQUNUO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFBQSxFQUNBLGNBQWM7QUFDVixXQUFPLEtBQUssS0FBSztBQUFBLEVBQ3JCO0FBQ0o7QUFDQUYsVUFBUyxTQUFTLENBQUMsTUFBTSxXQUFXO0FBQ2hDLFNBQU8sSUFBSUEsVUFBUztBQUFBLElBQ2hCLFdBQVc7QUFBQSxJQUNYLFVBQVVILHVCQUFzQjtBQUFBLElBQ2hDLFlBQVksT0FBTyxPQUFPLFVBQVUsYUFBYSxPQUFPLFFBQVEsTUFBTSxPQUFPO0FBQUEsSUFDN0UsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLEVBQ2pDLENBQUM7QUFDTDtBQUNPLElBQU1NLFVBQU4sY0FBcUJSLFNBQVE7QUFBQSxFQUNoQyxPQUFPLE9BQU87QUFDVixVQUFNQyxjQUFhLEtBQUssU0FBUyxLQUFLO0FBQ3RDLFFBQUlBLGdCQUFlLGNBQWMsS0FBSztBQUNsQyxZQUFNLE1BQU0sS0FBSyxnQkFBZ0IsS0FBSztBQUN0Qyx3QkFBa0IsS0FBSztBQUFBLFFBQ25CLE1BQU1RLGNBQWE7QUFBQSxRQUNuQixVQUFVLGNBQWM7QUFBQSxRQUN4QixVQUFVLElBQUk7QUFBQSxNQUNsQixDQUFDO0FBQ0QsYUFBTztBQUFBLElBQ1g7QUFDQSxXQUFPLEVBQUUsUUFBUSxTQUFTLE9BQU8sTUFBTSxLQUFLO0FBQUEsRUFDaEQ7QUFDSjtBQUNBRCxRQUFPLFNBQVMsQ0FBQyxXQUFXO0FBQ3hCLFNBQU8sSUFBSUEsUUFBTztBQUFBLElBQ2QsVUFBVU4sdUJBQXNCO0FBQUEsSUFDaEMsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLEVBQ2pDLENBQUM7QUFDTDtBQUNPLElBQU0sUUFBUSxPQUFPLFdBQVc7QUFDaEMsSUFBTSxhQUFOLGNBQXlCRixTQUFRO0FBQUEsRUFDcEMsT0FBTyxPQUFPO0FBQ1YsVUFBTSxFQUFFLElBQUksSUFBSSxLQUFLLG9CQUFvQixLQUFLO0FBQzlDLFVBQU0sT0FBTyxJQUFJO0FBQ2pCLFdBQU8sS0FBSyxLQUFLLEtBQUssT0FBTztBQUFBLE1BQ3pCO0FBQUEsTUFDQSxNQUFNLElBQUk7QUFBQSxNQUNWLFFBQVE7QUFBQSxJQUNaLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxTQUFTO0FBQ0wsV0FBTyxLQUFLLEtBQUs7QUFBQSxFQUNyQjtBQUNKO0FBQ08sSUFBTSxjQUFOLE1BQU0scUJBQW9CQSxTQUFRO0FBQUEsRUFDckMsT0FBTyxPQUFPO0FBQ1YsVUFBTSxFQUFFLFFBQVEsSUFBSSxJQUFJLEtBQUssb0JBQW9CLEtBQUs7QUFDdEQsUUFBSSxJQUFJLE9BQU8sT0FBTztBQUNsQixZQUFNLGNBQWMsWUFBWTtBQUM1QixjQUFNLFdBQVcsTUFBTSxLQUFLLEtBQUssR0FBRyxZQUFZO0FBQUEsVUFDNUMsTUFBTSxJQUFJO0FBQUEsVUFDVixNQUFNLElBQUk7QUFBQSxVQUNWLFFBQVE7QUFBQSxRQUNaLENBQUM7QUFDRCxZQUFJLFNBQVMsV0FBVztBQUNwQixpQkFBTztBQUNYLFlBQUksU0FBUyxXQUFXLFNBQVM7QUFDN0IsaUJBQU8sTUFBTTtBQUNiLGlCQUFPLE1BQU0sU0FBUyxLQUFLO0FBQUEsUUFDL0IsT0FDSztBQUNELGlCQUFPLEtBQUssS0FBSyxJQUFJLFlBQVk7QUFBQSxZQUM3QixNQUFNLFNBQVM7QUFBQSxZQUNmLE1BQU0sSUFBSTtBQUFBLFlBQ1YsUUFBUTtBQUFBLFVBQ1osQ0FBQztBQUFBLFFBQ0w7QUFBQSxNQUNKO0FBQ0EsYUFBTyxZQUFZO0FBQUEsSUFDdkIsT0FDSztBQUNELFlBQU0sV0FBVyxLQUFLLEtBQUssR0FBRyxXQUFXO0FBQUEsUUFDckMsTUFBTSxJQUFJO0FBQUEsUUFDVixNQUFNLElBQUk7QUFBQSxRQUNWLFFBQVE7QUFBQSxNQUNaLENBQUM7QUFDRCxVQUFJLFNBQVMsV0FBVztBQUNwQixlQUFPO0FBQ1gsVUFBSSxTQUFTLFdBQVcsU0FBUztBQUM3QixlQUFPLE1BQU07QUFDYixlQUFPO0FBQUEsVUFDSCxRQUFRO0FBQUEsVUFDUixPQUFPLFNBQVM7QUFBQSxRQUNwQjtBQUFBLE1BQ0osT0FDSztBQUNELGVBQU8sS0FBSyxLQUFLLElBQUksV0FBVztBQUFBLFVBQzVCLE1BQU0sU0FBUztBQUFBLFVBQ2YsTUFBTSxJQUFJO0FBQUEsVUFDVixRQUFRO0FBQUEsUUFDWixDQUFDO0FBQUEsTUFDTDtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQUEsRUFDQSxPQUFPLE9BQU9VLElBQUdDLElBQUc7QUFDaEIsV0FBTyxJQUFJLGFBQVk7QUFBQSxNQUNuQixJQUFJRDtBQUFBLE1BQ0osS0FBS0M7QUFBQSxNQUNMLFVBQVVULHVCQUFzQjtBQUFBLElBQ3BDLENBQUM7QUFBQSxFQUNMO0FBQ0o7QUFDTyxJQUFNVSxlQUFOLGNBQTBCWixTQUFRO0FBQUEsRUFDckMsT0FBTyxPQUFPO0FBQ1YsVUFBTSxTQUFTLEtBQUssS0FBSyxVQUFVLE9BQU8sS0FBSztBQUMvQyxVQUFNLFNBQVMsQ0FBQyxTQUFTO0FBQ3JCLFVBQUksUUFBUSxJQUFJLEdBQUc7QUFDZixhQUFLLFFBQVEsT0FBTyxPQUFPLEtBQUssS0FBSztBQUFBLE1BQ3pDO0FBQ0EsYUFBTztBQUFBLElBQ1g7QUFDQSxXQUFPLFFBQVEsTUFBTSxJQUFJLE9BQU8sS0FBSyxDQUFDLFNBQVMsT0FBTyxJQUFJLENBQUMsSUFBSSxPQUFPLE1BQU07QUFBQSxFQUNoRjtBQUFBLEVBQ0EsU0FBUztBQUNMLFdBQU8sS0FBSyxLQUFLO0FBQUEsRUFDckI7QUFDSjtBQUNBWSxhQUFZLFNBQVMsQ0FBQyxNQUFNLFdBQVc7QUFDbkMsU0FBTyxJQUFJQSxhQUFZO0FBQUEsSUFDbkIsV0FBVztBQUFBLElBQ1gsVUFBVVYsdUJBQXNCO0FBQUEsSUFDaEMsR0FBRyxvQkFBb0IsTUFBTTtBQUFBLEVBQ2pDLENBQUM7QUFDTDtBQStDTyxJQUFNLE9BQU87QUFBQSxFQUNoQixRQUFRVyxXQUFVO0FBQ3RCO0FBQ08sSUFBSUM7QUFBQSxDQUNWLFNBQVVBLHdCQUF1QjtBQUM5QixFQUFBQSx1QkFBc0IsV0FBVyxJQUFJO0FBQ3JDLEVBQUFBLHVCQUFzQixXQUFXLElBQUk7QUFDckMsRUFBQUEsdUJBQXNCLFFBQVEsSUFBSTtBQUNsQyxFQUFBQSx1QkFBc0IsV0FBVyxJQUFJO0FBQ3JDLEVBQUFBLHVCQUFzQixZQUFZLElBQUk7QUFDdEMsRUFBQUEsdUJBQXNCLFNBQVMsSUFBSTtBQUNuQyxFQUFBQSx1QkFBc0IsV0FBVyxJQUFJO0FBQ3JDLEVBQUFBLHVCQUFzQixjQUFjLElBQUk7QUFDeEMsRUFBQUEsdUJBQXNCLFNBQVMsSUFBSTtBQUNuQyxFQUFBQSx1QkFBc0IsUUFBUSxJQUFJO0FBQ2xDLEVBQUFBLHVCQUFzQixZQUFZLElBQUk7QUFDdEMsRUFBQUEsdUJBQXNCLFVBQVUsSUFBSTtBQUNwQyxFQUFBQSx1QkFBc0IsU0FBUyxJQUFJO0FBQ25DLEVBQUFBLHVCQUFzQixVQUFVLElBQUk7QUFDcEMsRUFBQUEsdUJBQXNCLFdBQVcsSUFBSTtBQUNyQyxFQUFBQSx1QkFBc0IsVUFBVSxJQUFJO0FBQ3BDLEVBQUFBLHVCQUFzQix1QkFBdUIsSUFBSTtBQUNqRCxFQUFBQSx1QkFBc0IsaUJBQWlCLElBQUk7QUFDM0MsRUFBQUEsdUJBQXNCLFVBQVUsSUFBSTtBQUNwQyxFQUFBQSx1QkFBc0IsV0FBVyxJQUFJO0FBQ3JDLEVBQUFBLHVCQUFzQixRQUFRLElBQUk7QUFDbEMsRUFBQUEsdUJBQXNCLFFBQVEsSUFBSTtBQUNsQyxFQUFBQSx1QkFBc0IsYUFBYSxJQUFJO0FBQ3ZDLEVBQUFBLHVCQUFzQixTQUFTLElBQUk7QUFDbkMsRUFBQUEsdUJBQXNCLFlBQVksSUFBSTtBQUN0QyxFQUFBQSx1QkFBc0IsU0FBUyxJQUFJO0FBQ25DLEVBQUFBLHVCQUFzQixZQUFZLElBQUk7QUFDdEMsRUFBQUEsdUJBQXNCLGVBQWUsSUFBSTtBQUN6QyxFQUFBQSx1QkFBc0IsYUFBYSxJQUFJO0FBQ3ZDLEVBQUFBLHVCQUFzQixhQUFhLElBQUk7QUFDdkMsRUFBQUEsdUJBQXNCLFlBQVksSUFBSTtBQUN0QyxFQUFBQSx1QkFBc0IsVUFBVSxJQUFJO0FBQ3BDLEVBQUFBLHVCQUFzQixZQUFZLElBQUk7QUFDdEMsRUFBQUEsdUJBQXNCLFlBQVksSUFBSTtBQUN0QyxFQUFBQSx1QkFBc0IsYUFBYSxJQUFJO0FBQ3ZDLEVBQUFBLHVCQUFzQixhQUFhLElBQUk7QUFDM0MsR0FBR0EsMkJBQTBCQSx5QkFBd0IsQ0FBQyxFQUFFO0FBVXhELElBQU0sYUFBYUMsV0FBVTtBQUM3QixJQUFNLGFBQWFDLFdBQVU7QUFDN0IsSUFBTSxVQUFVQyxRQUFPO0FBQ3ZCLElBQU0sYUFBYUMsV0FBVTtBQUM3QixJQUFNLGNBQWNDLFlBQVc7QUFDL0IsSUFBTSxXQUFXQyxTQUFRO0FBQ3pCLElBQU0sYUFBYUMsV0FBVTtBQUM3QixJQUFNLGdCQUFnQkMsY0FBYTtBQUNuQyxJQUFNLFdBQVdDLFNBQVE7QUFDekIsSUFBTSxVQUFVQyxRQUFPO0FBQ3ZCLElBQU0sY0FBY0MsWUFBVztBQUMvQixJQUFNLFlBQVlDLFVBQVM7QUFDM0IsSUFBTSxXQUFXQyxTQUFRO0FBQ3pCLElBQU0sWUFBWUMsVUFBUztBQUMzQixJQUFNLGFBQWFDLFdBQVU7QUFDN0IsSUFBTSxtQkFBbUJBLFdBQVU7QUFDbkMsSUFBTSxZQUFZQyxVQUFTO0FBQzNCLElBQU0seUJBQXlCQyx1QkFBc0I7QUFDckQsSUFBTSxtQkFBbUJDLGlCQUFnQjtBQUN6QyxJQUFNLFlBQVlDLFVBQVM7QUFDM0IsSUFBTSxhQUFhQyxXQUFVO0FBQzdCLElBQU0sVUFBVUMsUUFBTztBQUN2QixJQUFNLFVBQVVDLFFBQU87QUFDdkIsSUFBTSxlQUFlQyxhQUFZO0FBQ2pDLElBQU0sV0FBV0MsU0FBUTtBQUN6QixJQUFNLGNBQWNDLFlBQVc7QUFDL0IsSUFBTSxXQUFXQyxTQUFRO0FBQ3pCLElBQU0saUJBQWlCLGNBQWM7QUFDckMsSUFBTSxjQUFjQyxZQUFXO0FBQy9CLElBQU0sY0FBYyxXQUFXO0FBQy9CLElBQU0sZUFBZUMsYUFBWTtBQUNqQyxJQUFNLGVBQWVDLGFBQVk7QUFDakMsSUFBTSxpQkFBaUIsV0FBVztBQUNsQyxJQUFNLGVBQWUsWUFBWTs7O0FDL2xIMUIsU0FBUyxrQkFDWCxTQUNpQztBQUNwQyxTQUFPLFFBQVE7SUFDYixDQUFDLGlCQUFpQixvQkFBb0I7TUFDcEMsR0FBRztNQUNILEdBQUksa0JBQUEsT0FBQSxpQkFBa0IsQ0FBQztJQUN6QjtJQUNBLENBQUM7RUFDSDtBQUNGO0FFSEEsZUFBc0IsTUFDcEIsV0FDQSxTQUdlO0FBQ2YsTUFBSSxhQUFhLE1BQU07QUFDckIsV0FBTyxRQUFRLFFBQVE7RUFDekI7QUFFQSxRQUFNLFNBQVMsV0FBQSxPQUFBLFNBQUEsUUFBUztBQUV4QixTQUFPLElBQUksUUFBYyxDQUFDQyxVQUFTLFdBQVc7QUFDNUMsUUFBSSxVQUFBLE9BQUEsU0FBQSxPQUFRLFNBQVM7QUFDbkIsYUFBTyxpQkFBaUIsQ0FBQztBQUN6QjtJQUNGO0FBRUEsVUFBTSxZQUFZLFdBQVcsTUFBTTtBQUNqQyxjQUFRO0FBQ1JBLGVBQVE7SUFDVixHQUFHLFNBQVM7QUFFWixVQUFNLFVBQVUsTUFBTTtBQUNwQixtQkFBYSxTQUFTO0FBQ3RCLGdCQUFBLE9BQUEsU0FBQSxPQUFRLG9CQUFvQixTQUFTLE9BQUE7SUFDdkM7QUFFQSxVQUFNLFVBQVUsTUFBTTtBQUNwQixjQUFRO0FBQ1IsYUFBTyxpQkFBaUIsQ0FBQztJQUMzQjtBQUVBLGNBQUEsT0FBQSxTQUFBLE9BQVEsaUJBQWlCLFNBQVMsT0FBQTtFQUNwQyxDQUFDO0FBQ0g7QUFFQSxTQUFTLG1CQUFpQztBQUN4QyxTQUFPLElBQUksYUFBYSxxQkFBcUIsWUFBWTtBQUMzRDtBQ3hDTyxTQUFTLHVCQUF1QixVQUFvQjtBQUN6RCxTQUFPLE9BQU8sWUFBb0IsQ0FBQyxHQUFHLFNBQVMsT0FBTyxDQUFDO0FBQ3pEO0FDUk8sU0FBUywrQkFDZCxnQkFBcUIsWUFDYjtBQUZWLE1BQUFDLE1BQUFDLEtBQUE7QUFJRSxNQUFJLGNBQWMsUUFBUTtBQUN4QixXQUFPO0VBQ1Q7QUFHQSxPQUFJRCxPQUFBLGNBQWMsY0FBZCxPQUFBLFNBQUFBLEtBQXlCLFdBQVc7QUFDdEMsV0FBTyxXQUFXLGNBQWMsVUFBVSxVQUFVLFlBQVksQ0FBQztFQUNuRTtBQUdBLE9BQUksTUFBQUMsTUFBQSxjQUFjLFlBQWQsT0FBQSxTQUFBQSxJQUF1QixhQUF2QixPQUFBLFNBQUEsR0FBaUMsTUFBTTtBQUN6QyxXQUFPLG1CQUFtQixjQUFjLFFBQVEsUUFBUSxVQUFVLENBQUMsQ0FBQztFQUN0RTtBQUVBLE1BQUksY0FBYyxhQUFhO0FBQzdCLFdBQU87RUFDVDtBQUVBLFNBQU87QUFDVDtBQ2xCTyxTQUFTLHVCQUNkQyxTQUNtQjtBQUNuQixTQUFPLE9BQU87SUFDWixPQUFPLFFBQVFBLE9BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQyxNQUFNLEtBQUssTUFBTSxTQUFTLElBQUk7RUFDaEU7QUFDRjtBQ0NPLFNBQVMsb0JBQ2QsWUFDRyxzQkFDcUI7QUFDeEIsUUFBTSxpQkFBaUI7SUFDcEIsV0FBQSxPQUFBLFVBQWtELENBQUM7RUFDdEQ7QUFDQSxRQUFNLG9CQUFvQixJQUFJLFFBQVEsY0FBYztBQUVwRCxRQUFNLHlCQUF5QixrQkFBa0IsSUFBSSxZQUFZLEtBQUs7QUFFdEUsb0JBQWtCO0lBQ2hCO0lBQ0EsQ0FBQyx3QkFBd0IsR0FBRyxvQkFBb0IsRUFBRSxPQUFPLE9BQU8sRUFBRSxLQUFLLEdBQUc7RUFDNUU7QUFFQSxTQUFPLE9BQU8sWUFBWSxpQkFBaUI7QUFDN0M7QUNqQk8sSUFBTSxvQkFBb0IsQ0FBQztFQUNoQztFQUNBLE9BQU87RUFDUCxXQUFXO0VBQ1gsWUFBWTtBQUNkLElBS0ksQ0FBQyxNQUFtQjtBQUN0QixRQUFNLFlBQVksTUFBTTtBQUN0QixVQUFNLGlCQUFpQixTQUFTO0FBQ2hDLFVBQU0sUUFBUSxJQUFJLE1BQU0sSUFBSTtBQUM1QixhQUFTQyxLQUFJLEdBQUdBLEtBQUksTUFBTUEsTUFBSztBQUM3QixZQUFNQSxFQUFDLElBQUksU0FBVSxLQUFLLE9BQU8sSUFBSSxpQkFBa0IsQ0FBQztJQUMxRDtBQUNBLFdBQU8sTUFBTSxLQUFLLEVBQUU7RUFDdEI7QUFFQSxNQUFJLFVBQVUsTUFBTTtBQUNsQixXQUFPO0VBQ1Q7QUFHQSxNQUFJLFNBQVMsU0FBUyxTQUFTLEdBQUc7QUFDaEMsVUFBTSxJQUFJLHFCQUFxQjtNQUM3QixVQUFVO01BQ1YsU0FBUyxrQkFBa0IsU0FBUyx1Q0FBdUMsUUFBUTtJQUNyRixDQUFDO0VBQ0g7QUFFQSxTQUFPLE1BQU0sR0FBRyxNQUFNLEdBQUcsU0FBUyxHQUFHLFVBQVUsQ0FBQztBQUNsRDtBQVdPLElBQU0sYUFBYSxrQkFBa0I7QUN4RHJDLFNBQVNDLGlCQUFnQkMsU0FBNEI7QUFDMUQsTUFBSUEsV0FBUyxNQUFNO0FBQ2pCLFdBQU87RUFDVDtBQUVBLE1BQUksT0FBT0EsWUFBVSxVQUFVO0FBQzdCLFdBQU9BO0VBQ1Q7QUFFQSxNQUFJQSxtQkFBaUIsT0FBTztBQUMxQixXQUFPQSxRQUFNO0VBQ2Y7QUFFQSxTQUFPLEtBQUssVUFBVUEsT0FBSztBQUM3QjtBR2RPLFNBQVMsYUFBYUEsU0FBZ0M7QUFDM0QsVUFDR0EsbUJBQWlCLFNBQVNBLG1CQUFpQixrQkFDM0NBLFFBQU0sU0FBUyxnQkFDZEEsUUFBTSxTQUFTO0VBQ2ZBLFFBQU0sU0FBUztBQUVyQjtBREpBLElBQU0sOEJBQThCLENBQUMsZ0JBQWdCLGlCQUFpQjtBQUUvRCxTQUFTLGlCQUFpQjtFQUMvQixPQUFBQTtFQUNBLEtBQUFDO0VBQ0E7QUFDRixHQUlHO0FBQ0QsTUFBSSxhQUFhRCxPQUFLLEdBQUc7QUFDdkIsV0FBT0E7RUFDVDtBQUdBLE1BQ0VBLG1CQUFpQixhQUNqQiw0QkFBNEIsU0FBU0EsUUFBTSxRQUFRLFlBQVksQ0FBQyxHQUNoRTtBQUNBLFVBQU0sUUFBU0EsUUFBYztBQUU3QixRQUFJLFNBQVMsTUFBTTtBQUVqQixhQUFPLElBQUksYUFBYTtRQUN0QixTQUFTLDBCQUEwQixNQUFNLE9BQU87UUFDaEQ7UUFDQSxLQUFBQztRQUNBO1FBQ0EsYUFBYTs7TUFDZixDQUFDO0lBQ0g7RUFDRjtBQUVBLFNBQU9EO0FBQ1Q7QUVwQ08sSUFBTSxVQUNYLE9BQ0ksVUFDQTtBSE1OLElBQU0sbUJBQW1CLE1BQU0sV0FBVztBQUVuQyxJQUFNLGFBQWEsT0FBVTtFQUNsQyxLQUFBQztFQUNBLFVBQVUsQ0FBQztFQUNYO0VBQ0E7RUFDQTtFQUNBLE9BQUFDLFNBQVEsaUJBQWlCO0FBQzNCLE1BT007QUFDSixNQUFJO0FBQ0YsVUFBTSxXQUFXLE1BQU1BLE9BQU1ELE1BQUs7TUFDaEMsUUFBUTtNQUNSLFNBQVM7UUFDUDtRQUNBLHlCQUF5QixPQUFPO1FBQ2hDLCtCQUErQjtNQUNqQztNQUNBLFFBQVE7SUFDVixDQUFDO0FBRUQsVUFBTSxrQkFBa0IsdUJBQXVCLFFBQVE7QUFFdkQsUUFBSSxDQUFDLFNBQVMsSUFBSTtBQUNoQixVQUFJO0FBS0osVUFBSTtBQUNGLDJCQUFtQixNQUFNLHNCQUFzQjtVQUM3QztVQUNBLEtBQUFBO1VBQ0EsbUJBQW1CLENBQUM7UUFDdEIsQ0FBQztNQUNILFNBQVNELFNBQU87QUFDZCxZQUFJLGFBQWFBLE9BQUssS0FBS0csYUFBYSxXQUFXSCxPQUFLLEdBQUc7QUFDekQsZ0JBQU1BO1FBQ1I7QUFFQSxjQUFNLElBQUlHLGFBQWE7VUFDckIsU0FBUztVQUNULE9BQU9IO1VBQ1AsWUFBWSxTQUFTO1VBQ3JCLEtBQUFDO1VBQ0E7VUFDQSxtQkFBbUIsQ0FBQztRQUN0QixDQUFDO01BQ0g7QUFFQSxZQUFNLGlCQUFpQjtJQUN6QjtBQUVBLFFBQUk7QUFDRixhQUFPLE1BQU0sMEJBQTBCO1FBQ3JDO1FBQ0EsS0FBQUE7UUFDQSxtQkFBbUIsQ0FBQztNQUN0QixDQUFDO0lBQ0gsU0FBU0QsU0FBTztBQUNkLFVBQUlBLG1CQUFpQixPQUFPO0FBQzFCLFlBQUksYUFBYUEsT0FBSyxLQUFLRyxhQUFhLFdBQVdILE9BQUssR0FBRztBQUN6RCxnQkFBTUE7UUFDUjtNQUNGO0FBRUEsWUFBTSxJQUFJRyxhQUFhO1FBQ3JCLFNBQVM7UUFDVCxPQUFPSDtRQUNQLFlBQVksU0FBUztRQUNyQixLQUFBQztRQUNBO1FBQ0EsbUJBQW1CLENBQUM7TUFDdEIsQ0FBQztJQUNIO0VBQ0YsU0FBU0QsU0FBTztBQUNkLFVBQU0saUJBQWlCLEVBQUUsT0FBQUEsU0FBTyxLQUFBQyxNQUFLLG1CQUFtQixDQUFDLEVBQUUsQ0FBQztFQUM5RDtBQUNGO0FLckZPLFNBQVMsZUFBZTtFQUM3QjtFQUNBLEtBQUFHO0VBQ0E7QUFDRixHQUlZO0FBRVYsRUFBQUEsT0FBTUEsS0FBSSxZQUFZO0FBQ3RCLGNBQVksVUFBVSxZQUFZO0FBRWxDLFNBQ0UsT0FBTyxRQUFRLGFBQWEsRUFFekIsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLE1BQU07QUFDckIsVUFBTUMsYUFBWSxJQUFJLFlBQVk7QUFDbEMsV0FBT0EsZUFBYyxPQUFPQSxlQUFjLFFBQ3RDLEVBQUUsaUJBQWlCLElBQUksU0FBUyxNQUFNLElBQ3RDLEVBQUUsaUJBQWlCQSxXQUFVLFFBQVEsTUFBTSxFQUFFLEdBQUcsU0FBUyxNQUFNO0VBQ3JFLENBQUMsRUFFQSxPQUFPLENBQUMsRUFBRSxnQkFBZ0IsTUFBTSxVQUFVLFdBQVcsZUFBZSxDQUFDLEVBQ3JFLFFBQVEsQ0FBQyxFQUFFLFFBQVEsTUFBTSxPQUFPLEVBRWhDLEtBQUssQ0FBQSxZQUFXLFFBQVEsS0FBS0QsSUFBRyxDQUFDO0FBRXhDO0FFaENPLFNBQVMsb0JBQW9CO0VBQ2xDO0VBQ0E7QUFDRixHQUd1QjtBQUNyQixNQUFJLE9BQU8saUJBQWlCLFVBQVU7QUFDcEMsV0FBTztFQUNUO0FBRUEsTUFBSSxnQkFBZ0IsUUFBUSxPQUFPLFlBQVksYUFBYTtBQUMxRCxXQUFPO0VBQ1Q7QUFFQSxpQkFBZSxRQUFRLElBQUksdUJBQXVCO0FBRWxELE1BQUksZ0JBQWdCLFFBQVEsT0FBTyxpQkFBaUIsVUFBVTtBQUM1RCxXQUFPO0VBQ1Q7QUFFQSxTQUFPO0FBQ1Q7QUlOQSxJQUFNLGlCQUFpQjtBQUN2QixJQUFNLHVCQUF1QjtBQUU3QixTQUFTRSxRQUFPQyxPQUFjO0FBRTVCLFFBQU0sTUFBTSxLQUFLLE1BQU1BLEtBQUk7QUFHM0IsTUFBSSxRQUFRLFFBQVEsT0FBTyxRQUFRLFVBQVU7QUFDM0MsV0FBTztFQUNUO0FBRUEsTUFDRSxlQUFlLEtBQUtBLEtBQUksTUFBTSxTQUM5QixxQkFBcUIsS0FBS0EsS0FBSSxNQUFNLE9BQ3BDO0FBQ0EsV0FBTztFQUNUO0FBR0EsU0FBTyxPQUFPLEdBQUc7QUFDbkI7QUFFQSxTQUFTLE9BQU8sS0FBVTtBQUN4QixNQUFJLE9BQU8sQ0FBQyxHQUFHO0FBRWYsU0FBTyxLQUFLLFFBQVE7QUFDbEIsVUFBTSxRQUFRO0FBQ2QsV0FBTyxDQUFDO0FBRVIsZUFBVyxRQUFRLE9BQU87QUFDeEIsVUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLE1BQU0sV0FBVyxHQUFHO0FBQzNELGNBQU0sSUFBSSxZQUFZLDhDQUE4QztNQUN0RTtBQUVBLFVBQ0UsT0FBTyxVQUFVLGVBQWUsS0FBSyxNQUFNLGFBQWEsS0FDeEQsT0FBTyxVQUFVLGVBQWUsS0FBSyxLQUFLLGFBQWEsV0FBVyxHQUNsRTtBQUNBLGNBQU0sSUFBSSxZQUFZLDhDQUE4QztNQUN0RTtBQUVBLGlCQUFXLE9BQU8sTUFBTTtBQUN0QixjQUFNLFFBQVEsS0FBSyxHQUFHO0FBQ3RCLFlBQUksU0FBUyxPQUFPLFVBQVUsVUFBVTtBQUN0QyxlQUFLLEtBQUssS0FBSztRQUNqQjtNQUNGO0lBQ0Y7RUFDRjtBQUNBLFNBQU87QUFDVDtBQUVPLFNBQVMsZ0JBQWdCQSxPQUFjO0FBRTVDLFFBQU0sRUFBRSxnQkFBZ0IsSUFBSTtBQUM1QixRQUFNLGtCQUFrQjtBQUN4QixNQUFJO0FBQ0YsV0FBT0QsUUFBT0MsS0FBSTtFQUNwQixVQUFBO0FBQ0UsVUFBTSxrQkFBa0I7RUFDMUI7QUFDRjtBRS9FTyxJQUFNLGtCQUFrQixPQUFPLElBQUkscUJBQXFCO0FBMEJ4RCxTQUFTLFVBQ2QsVUFLbUI7QUFDbkIsU0FBTyxFQUFFLENBQUMsZUFBZSxHQUFHLE1BQU0sU0FBUztBQUM3QztBQUVPLFNBQVMsWUFBWSxPQUFvQztBQUM5RCxTQUNFLE9BQU8sVUFBVSxZQUNqQixVQUFVLFFBQ1YsbUJBQW1CLFNBQ25CLE1BQU0sZUFBZSxNQUFNLFFBQzNCLGNBQWM7QUFFbEI7QUFFTyxTQUFTLFlBQ2QsT0FDbUI7QUFDbkIsU0FBTyxZQUFZLEtBQUssSUFBSSxRQUFRLHdCQUF3QixLQUFLO0FBQ25FO0FBRU8sU0FBUyx3QkFDZCxnQkFDbUI7QUFDbkIsU0FBTyxVQUFVLE9BQU0sVUFBUztBQUM5QixVQUFNLFNBQVMsTUFBTSxlQUFlLFdBQVcsRUFBRSxTQUFTLEtBQUs7QUFFL0QsV0FBTyxPQUFPLFVBQVUsT0FDcEIsRUFBRSxTQUFTLE1BQU0sT0FBTyxPQUFPLE1BQU0sSUFDckM7TUFDRSxTQUFTO01BQ1QsT0FBTyxJQUFJLG9CQUFvQjtRQUM3QjtRQUNBLE9BQU8sT0FBTztNQUNoQixDQUFDO0lBQ0g7RUFDTixDQUFDO0FBQ0g7QUQ3REEsZUFBc0IsY0FBc0I7RUFDMUM7RUFDQTtBQUNGLEdBR29CO0FBQ2xCLFFBQU0sU0FBUyxNQUFNLGtCQUFrQixFQUFFLE9BQU8sT0FBTyxDQUFDO0FBRXhELE1BQUksQ0FBQyxPQUFPLFNBQVM7QUFDbkIsVUFBTUMsb0JBQW9CLEtBQUssRUFBRSxPQUFPLE9BQU8sT0FBTyxNQUFNLENBQUM7RUFDL0Q7QUFFQSxTQUFPLE9BQU87QUFDaEI7QUFXQSxlQUFzQixrQkFBMEI7RUFDOUM7RUFDQTtBQUNGLEdBY0U7QUFDQSxRQUFNQyxhQUFZLFlBQVksTUFBTTtBQUVwQyxNQUFJO0FBQ0YsUUFBSUEsV0FBVSxZQUFZLE1BQU07QUFDOUIsYUFBTyxFQUFFLFNBQVMsTUFBTSxPQUF3QixVQUFVLE1BQU07SUFDbEU7QUFFQSxVQUFNLFNBQVMsTUFBTUEsV0FBVSxTQUFTLEtBQUs7QUFFN0MsUUFBSSxPQUFPLFNBQVM7QUFDbEIsYUFBTyxFQUFFLFNBQVMsTUFBTSxPQUFPLE9BQU8sT0FBTyxVQUFVLE1BQU07SUFDL0Q7QUFFQSxXQUFPO01BQ0wsU0FBUztNQUNULE9BQU9ELG9CQUFvQixLQUFLLEVBQUUsT0FBTyxPQUFPLE9BQU8sTUFBTSxDQUFDO01BQzlELFVBQVU7SUFDWjtFQUNGLFNBQVNFLFNBQU87QUFDZCxXQUFPO01BQ0wsU0FBUztNQUNULE9BQU9GLG9CQUFvQixLQUFLLEVBQUUsT0FBTyxPQUFPRSxRQUFNLENBQUM7TUFDdkQsVUFBVTtJQUNaO0VBQ0Y7QUFDRjtBRmhEQSxlQUFzQixVQUFhO0VBQ2pDLE1BQUFIO0VBQ0E7QUFDRixHQUdlO0FBQ2IsTUFBSTtBQUNGLFVBQU0sUUFBUSxnQkFBZ0JBLEtBQUk7QUFFbEMsUUFBSSxVQUFVLE1BQU07QUFDbEIsYUFBTztJQUNUO0FBRUEsV0FBTyxjQUFpQixFQUFFLE9BQU8sT0FBTyxDQUFDO0VBQzNDLFNBQVNHLFNBQU87QUFDZCxRQUNFLGVBQWUsV0FBV0EsT0FBSyxLQUMvQkYsb0JBQW9CLFdBQVdFLE9BQUssR0FDcEM7QUFDQSxZQUFNQTtJQUNSO0FBRUEsVUFBTSxJQUFJLGVBQWUsRUFBRSxNQUFBSCxPQUFNLE9BQU9HLFFBQU0sQ0FBQztFQUNqRDtBQUNGO0FBZ0NBLGVBQXNCLGNBQWlCO0VBQ3JDLE1BQUFIO0VBQ0E7QUFDRixHQUc0QjtBQUMxQixNQUFJO0FBQ0YsVUFBTSxRQUFRLGdCQUFnQkEsS0FBSTtBQUVsQyxRQUFJLFVBQVUsTUFBTTtBQUNsQixhQUFPLEVBQUUsU0FBUyxNQUFNLE9BQW1CLFVBQVUsTUFBTTtJQUM3RDtBQUVBLFdBQU8sTUFBTSxrQkFBcUIsRUFBRSxPQUFPLE9BQU8sQ0FBQztFQUNyRCxTQUFTRyxTQUFPO0FBQ2QsV0FBTztNQUNMLFNBQVM7TUFDVCxPQUFPLGVBQWUsV0FBV0EsT0FBSyxJQUNsQ0EsVUFDQSxJQUFJLGVBQWUsRUFBRSxNQUFBSCxPQUFNLE9BQU9HLFFBQU0sQ0FBQztNQUM3QyxVQUFVO0lBQ1o7RUFDRjtBQUNGO0FJeEdPLFNBQVMscUJBQXdCO0VBQ3RDO0VBQ0E7QUFDRixHQUdtQztBQUNqQyxTQUFPLE9BQ0osWUFBWSxJQUFJLGtCQUFrQixDQUFDLEVBQ25DLFlBQVksSUFBSSx3QkFBd0IsQ0FBQyxFQUN6QztJQUNDLElBQUksZ0JBQW9EO01BQ3RELE1BQU0sVUFBVSxFQUFFLEtBQUssR0FBRyxZQUFZO0FBRXBDLFlBQUksU0FBUyxVQUFVO0FBQ3JCO1FBQ0Y7QUFFQSxtQkFBVyxRQUFRLE1BQU0sY0FBYyxFQUFFLE1BQU0sTUFBTSxPQUFPLENBQUMsQ0FBQztNQUNoRTtJQUNGLENBQUM7RUFDSDtBQUNKO0FFckJBLElBQU1DLG9CQUFtQixNQUFNLFdBQVc7QUFFbkMsSUFBTSxnQkFBZ0IsT0FBVTtFQUNyQyxLQUFBQztFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQSxPQUFBQztBQUNGLE1BU0UsVUFBVTtFQUNSLEtBQUFEO0VBQ0EsU0FBUztJQUNQLGdCQUFnQjtJQUNoQixHQUFHO0VBQ0w7RUFDQSxNQUFNO0lBQ0osU0FBUyxLQUFLLFVBQVUsSUFBSTtJQUM1QixRQUFRO0VBQ1Y7RUFDQTtFQUNBO0VBQ0E7RUFDQSxPQUFBQztBQUNGLENBQUM7QUFnQ0ksSUFBTSxZQUFZLE9BQVU7RUFDakMsS0FBQUM7RUFDQSxVQUFVLENBQUM7RUFDWDtFQUNBO0VBQ0E7RUFDQTtFQUNBLE9BQUFDLFNBQVFDLGtCQUFpQjtBQUMzQixNQVdNO0FBQ0osTUFBSTtBQUNGLFVBQU0sV0FBVyxNQUFNRCxPQUFNRCxNQUFLO01BQ2hDLFFBQVE7TUFDUixTQUFTO1FBQ1A7UUFDQSx5QkFBeUIsT0FBTztRQUNoQywrQkFBK0I7TUFDakM7TUFDQSxNQUFNLEtBQUs7TUFDWCxRQUFRO0lBQ1YsQ0FBQztBQUVELFVBQU0sa0JBQWtCLHVCQUF1QixRQUFRO0FBRXZELFFBQUksQ0FBQyxTQUFTLElBQUk7QUFDaEIsVUFBSTtBQUtKLFVBQUk7QUFDRiwyQkFBbUIsTUFBTSxzQkFBc0I7VUFDN0M7VUFDQSxLQUFBQTtVQUNBLG1CQUFtQixLQUFLO1FBQzFCLENBQUM7TUFDSCxTQUFTRyxTQUFPO0FBQ2QsWUFBSSxhQUFhQSxPQUFLLEtBQUtDLGFBQWEsV0FBV0QsT0FBSyxHQUFHO0FBQ3pELGdCQUFNQTtRQUNSO0FBRUEsY0FBTSxJQUFJQyxhQUFhO1VBQ3JCLFNBQVM7VUFDVCxPQUFPRDtVQUNQLFlBQVksU0FBUztVQUNyQixLQUFBSDtVQUNBO1VBQ0EsbUJBQW1CLEtBQUs7UUFDMUIsQ0FBQztNQUNIO0FBRUEsWUFBTSxpQkFBaUI7SUFDekI7QUFFQSxRQUFJO0FBQ0YsYUFBTyxNQUFNLDBCQUEwQjtRQUNyQztRQUNBLEtBQUFBO1FBQ0EsbUJBQW1CLEtBQUs7TUFDMUIsQ0FBQztJQUNILFNBQVNHLFNBQU87QUFDZCxVQUFJQSxtQkFBaUIsT0FBTztBQUMxQixZQUFJLGFBQWFBLE9BQUssS0FBS0MsYUFBYSxXQUFXRCxPQUFLLEdBQUc7QUFDekQsZ0JBQU1BO1FBQ1I7TUFDRjtBQUVBLFlBQU0sSUFBSUMsYUFBYTtRQUNyQixTQUFTO1FBQ1QsT0FBT0Q7UUFDUCxZQUFZLFNBQVM7UUFDckIsS0FBQUg7UUFDQTtRQUNBLG1CQUFtQixLQUFLO01BQzFCLENBQUM7SUFDSDtFQUNGLFNBQVNHLFNBQU87QUFDZCxVQUFNLGlCQUFpQixFQUFFLE9BQUFBLFNBQU8sS0FBQUgsTUFBSyxtQkFBbUIsS0FBSyxPQUFPLENBQUM7RUFDdkU7QUFDRjtBQzZCTyxTQUFTLEtBQUtLLE9BQWdCO0FBQ25DLFNBQU9BO0FBQ1Q7QUUxTEEsZUFBc0IsUUFBVyxPQUFrQztBQUVqRSxNQUFJLE9BQU8sVUFBVSxZQUFZO0FBQy9CLFlBQVMsTUFBbUI7RUFDOUI7QUFHQSxTQUFPLFFBQVEsUUFBUSxLQUFVO0FBQ25DO0FDRk8sSUFBTSxpQ0FDWCxDQUFJO0VBQ0Y7RUFDQTtFQUNBO0FBQ0YsTUFLQSxPQUFPLEVBQUUsVUFBVSxLQUFBQyxNQUFLLGtCQUFrQixNQUFNO0FBQzlDLFFBQU0sZUFBZSxNQUFNLFNBQVMsS0FBSztBQUN6QyxRQUFNLGtCQUFrQix1QkFBdUIsUUFBUTtBQUd2RCxNQUFJLGFBQWEsS0FBSyxNQUFNLElBQUk7QUFDOUIsV0FBTztNQUNMO01BQ0EsT0FBTyxJQUFJQyxhQUFhO1FBQ3RCLFNBQVMsU0FBUztRQUNsQixLQUFBRDtRQUNBO1FBQ0EsWUFBWSxTQUFTO1FBQ3JCO1FBQ0E7UUFDQSxhQUFhLGVBQUEsT0FBQSxTQUFBLFlBQWMsUUFBQTtNQUM3QixDQUFDO0lBQ0g7RUFDRjtBQUdBLE1BQUk7QUFDRixVQUFNLGNBQWMsTUFBTSxVQUFVO01BQ2xDLE1BQU07TUFDTixRQUFRO0lBQ1YsQ0FBQztBQUVELFdBQU87TUFDTDtNQUNBLE9BQU8sSUFBSUMsYUFBYTtRQUN0QixTQUFTLGVBQWUsV0FBVztRQUNuQyxLQUFBRDtRQUNBO1FBQ0EsWUFBWSxTQUFTO1FBQ3JCO1FBQ0E7UUFDQSxNQUFNO1FBQ04sYUFBYSxlQUFBLE9BQUEsU0FBQSxZQUFjLFVBQVUsV0FBQTtNQUN2QyxDQUFDO0lBQ0g7RUFDRixTQUFTLFlBQVk7QUFDbkIsV0FBTztNQUNMO01BQ0EsT0FBTyxJQUFJQyxhQUFhO1FBQ3RCLFNBQVMsU0FBUztRQUNsQixLQUFBRDtRQUNBO1FBQ0EsWUFBWSxTQUFTO1FBQ3JCO1FBQ0E7UUFDQSxhQUFhLGVBQUEsT0FBQSxTQUFBLFlBQWMsUUFBQTtNQUM3QixDQUFDO0lBQ0g7RUFDRjtBQUNGO0FBRUssSUFBTSxtQ0FDWCxDQUNFLGdCQUVGLE9BQU8sRUFBRSxTQUFTLE1BQThCO0FBQzlDLFFBQU0sa0JBQWtCLHVCQUF1QixRQUFRO0FBRXZELE1BQUksU0FBUyxRQUFRLE1BQU07QUFDekIsVUFBTSxJQUFJLHVCQUF1QixDQUFDLENBQUM7RUFDckM7QUFFQSxTQUFPO0lBQ0w7SUFDQSxPQUFPLHFCQUFxQjtNQUMxQixRQUFRLFNBQVM7TUFDakIsUUFBUTtJQUNWLENBQUM7RUFDSDtBQUNGO0FBcUNLLElBQU0sNEJBQ1gsQ0FBSSxtQkFDSixPQUFPLEVBQUUsVUFBVSxLQUFBRSxNQUFLLGtCQUFrQixNQUFNO0FBQzlDLFFBQU0sZUFBZSxNQUFNLFNBQVMsS0FBSztBQUV6QyxRQUFNLGVBQWUsTUFBTSxjQUFjO0lBQ3ZDLE1BQU07SUFDTixRQUFRO0VBQ1YsQ0FBQztBQUVELFFBQU0sa0JBQWtCLHVCQUF1QixRQUFRO0FBRXZELE1BQUksQ0FBQyxhQUFhLFNBQVM7QUFDekIsVUFBTSxJQUFJQyxhQUFhO01BQ3JCLFNBQVM7TUFDVCxPQUFPLGFBQWE7TUFDcEIsWUFBWSxTQUFTO01BQ3JCO01BQ0E7TUFDQSxLQUFBRDtNQUNBO0lBQ0YsQ0FBQztFQUNIO0FBRUEsU0FBTztJQUNMO0lBQ0EsT0FBTyxhQUFhO0lBQ3BCLFVBQVUsYUFBYTtFQUN6QjtBQUNGO0FFdEtLLElBQU0sa0JBQWtCLENBQUMsT0FBaUIsVUFBb0I7QUFDbkUsTUFBSUUsS0FBSTtBQUNSLFNBQU9BLEtBQUksTUFBTSxVQUFVQSxLQUFJLE1BQU0sUUFBUUEsTUFBSztBQUNoRCxRQUFJLE1BQU1BLEVBQUMsTUFBTSxNQUFNQSxFQUFDO0FBQUc7RUFDN0I7QUFDQSxTQUFPLEVBQUUsTUFBTSxTQUFTQSxJQUFHLFNBQVMsR0FBRyxHQUFHLE1BQU0sTUFBTUEsRUFBQyxDQUFDLEVBQUUsS0FBSyxHQUFHO0FBQ3BFO0FDSU8sSUFBTSxpQkFBaUI7RUFDNUI7QUFDRjtBQW9ETyxJQUFNLGlCQUEwQjtFQUNyQyxNQUFNO0VBQ04sY0FBYztFQUNkLFVBQVUsQ0FBQyxHQUFHO0VBQ2QsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxjQUFjO0VBQ2QsYUFBYTtFQUNiLDBCQUEwQjtFQUMxQiw2QkFBNkI7RUFDN0IsOEJBQThCO0VBQzlCLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsYUFBYSxDQUFDO0VBQ2QsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCO0FBRU8sSUFBTSxvQkFBb0IsQ0FDL0IsWUFFQyxPQUFPLFlBQVksV0FDaEI7RUFDRSxHQUFHO0VBQ0gsTUFBTTtBQUNSLElBQ0E7RUFDRSxHQUFHO0VBQ0gsR0FBRztBQUNMO0FFL0ZDLFNBQVMsY0FBa0M7QUFDaEQsU0FBTyxDQUFDO0FBQ1Y7QUNRTyxTQUFTLGNBQWMsS0FBa0IsTUFBWTtBQVo1RCxNQUFBQyxNQUFBQyxLQUFBO0FBYUUsUUFBTSxNQUE0QjtJQUNoQyxNQUFNO0VBQ1I7QUFDQSxRQUNFRCxPQUFBLElBQUksU0FBSixPQUFBLFNBQUFBLEtBQVUsV0FDVixNQUFBQyxNQUFBLElBQUksU0FBSixPQUFBLFNBQUFBLElBQVUsU0FBVixPQUFBLFNBQUEsR0FBZ0IsY0FBYUMsdUJBQXNCLFFBQ25EO0FBQ0EsUUFBSSxRQUFRLFNBQVMsSUFBSSxLQUFLLE1BQU07TUFDbEMsR0FBRztNQUNILGFBQWEsQ0FBQyxHQUFHLEtBQUssYUFBYSxPQUFPO0lBQzVDLENBQUM7RUFDSDtBQUVBLE1BQUksSUFBSSxXQUFXO0FBQ2pCLFFBQUksV0FBVyxJQUFJLFVBQVU7RUFDL0I7QUFDQSxNQUFJLElBQUksV0FBVztBQUNqQixRQUFJLFdBQVcsSUFBSSxVQUFVO0VBQy9CO0FBQ0EsTUFBSSxJQUFJLGFBQWE7QUFDbkIsUUFBSSxXQUFXLElBQUksWUFBWTtBQUMvQixRQUFJLFdBQVcsSUFBSSxZQUFZO0VBQ2pDO0FBQ0EsU0FBTztBQUNUO0FDekJPLFNBQVMsZUFBZSxLQUEwQztBQUN2RSxRQUFNLE1BQTZCO0lBQ2pDLE1BQU07SUFDTixRQUFRO0VBQ1Y7QUFFQSxNQUFJLENBQUMsSUFBSTtBQUFRLFdBQU87QUFFeEIsYUFBV0MsVUFBUyxJQUFJLFFBQVE7QUFDOUIsWUFBUUEsT0FBTSxNQUFNO01BQ2xCLEtBQUs7QUFDSCxZQUFJQSxPQUFNLFdBQVc7QUFDbkIsY0FBSSxVQUFVQSxPQUFNO1FBQ3RCLE9BQU87QUFDTCxjQUFJLG1CQUFtQkEsT0FBTTtRQUMvQjtBQUNBO01BQ0YsS0FBSztBQUNILFlBQUlBLE9BQU0sV0FBVztBQUNuQixjQUFJLFVBQVVBLE9BQU07UUFDdEIsT0FBTztBQUNMLGNBQUksbUJBQW1CQSxPQUFNO1FBQy9CO0FBRUE7TUFDRixLQUFLO0FBQ0gsWUFBSSxhQUFhQSxPQUFNO0FBQ3ZCO0lBQ0o7RUFDRjtBQUNBLFNBQU87QUFDVDtBQ3ZDTyxTQUFTLGtCQUEwQztBQUN4RCxTQUFPLEVBQUUsTUFBTSxVQUFVO0FBQzNCO0FDRk8sU0FBUyxnQkFBZ0IsTUFBMEIsTUFBWTtBQUNwRSxTQUFPLFNBQVMsS0FBSyxLQUFLLE1BQU0sSUFBSTtBQUN0QztBQ0ZPLElBQU0sZ0JBQWdCLENBQUMsS0FBdUIsU0FBZTtBQUNsRSxTQUFPLFNBQVMsSUFBSSxVQUFVLE1BQU0sSUFBSTtBQUMxQztBQ1NPLFNBQVMsYUFDZCxLQUNBLE1BQ0Esc0JBQ3FCO0FBQ3JCLFFBQU0sV0FBVyx3QkFBQSxPQUFBLHVCQUF3QixLQUFLO0FBRTlDLE1BQUksTUFBTSxRQUFRLFFBQVEsR0FBRztBQUMzQixXQUFPO01BQ0wsT0FBTyxTQUFTLElBQUksQ0FBQyxNQUFNSixPQUFNLGFBQWEsS0FBSyxNQUFNLElBQUksQ0FBQztJQUNoRTtFQUNGO0FBRUEsVUFBUSxVQUFVO0lBQ2hCLEtBQUs7SUFDTCxLQUFLO0FBQ0gsYUFBTztRQUNMLE1BQU07UUFDTixRQUFRO01BQ1Y7SUFDRixLQUFLO0FBQ0gsYUFBTztRQUNMLE1BQU07UUFDTixRQUFRO01BQ1Y7SUFDRixLQUFLO0FBQ0gsYUFBTyxrQkFBa0IsR0FBRztFQUNoQztBQUNGO0FBRUEsSUFBTSxvQkFBb0IsQ0FBQyxRQUFvQjtBQUM3QyxRQUFNLE1BQTJCO0lBQy9CLE1BQU07SUFDTixRQUFRO0VBQ1Y7QUFFQSxhQUFXSSxVQUFTLElBQUksUUFBUTtBQUM5QixZQUFRQSxPQUFNLE1BQU07TUFDbEIsS0FBSztBQUNILFlBQUksVUFBVUEsT0FBTTtBQUNwQjtNQUNGLEtBQUs7QUFDSCxZQUFJLFVBQVVBLE9BQU07QUFDcEI7SUFDSjtFQUNGO0FBRUEsU0FBTztBQUNUO0FDMURPLFNBQVMsZ0JBQ2QsTUFDQSxNQUNvQztBQUNwQyxTQUFPO0lBQ0wsR0FBRyxTQUFTLEtBQUssVUFBVSxNQUFNLElBQUk7SUFDckMsU0FBUyxLQUFLLGFBQWE7RUFDN0I7QUFDRjtBQ1BPLFNBQVMsZ0JBQ2QsTUFDQSxNQUM2QjtBQUM3QixTQUFPLEtBQUssbUJBQW1CLFVBQzNCLFNBQVMsS0FBSyxPQUFPLE1BQU0sSUFBSSxJQUMvQixZQUFZO0FBQ2xCO0FDTk8sU0FBUyxhQUFhLEtBQXNDO0FBQ2pFLFNBQU87SUFDTCxNQUFNO0lBQ04sTUFBTSxNQUFNLEtBQUssSUFBSSxNQUFNO0VBQzdCO0FBQ0Y7QUNEQSxJQUFNLHlCQUF5QixDQUM3QixTQUNpQztBQUNqQyxNQUFJLFVBQVUsUUFBUSxLQUFLLFNBQVM7QUFBVSxXQUFPO0FBQ3JELFNBQU8sV0FBVztBQUNwQjtBQUVPLFNBQVMscUJBQ2QsS0FDQSxNQUNvRDtBQUNwRCxRQUFNLFFBQVE7SUFDWixTQUFTLElBQUksS0FBSyxNQUFNO01BQ3RCLEdBQUc7TUFDSCxhQUFhLENBQUMsR0FBRyxLQUFLLGFBQWEsU0FBUyxHQUFHO0lBQ2pELENBQUM7SUFDRCxTQUFTLElBQUksTUFBTSxNQUFNO01BQ3ZCLEdBQUc7TUFDSCxhQUFhLENBQUMsR0FBRyxLQUFLLGFBQWEsU0FBUyxHQUFHO0lBQ2pELENBQUM7RUFDSCxFQUFFLE9BQU8sQ0FBQ0MsT0FBNEIsQ0FBQyxDQUFDQSxFQUFDO0FBRXpDLFFBQU0sY0FBaUMsQ0FBQztBQUV4QyxRQUFNLFFBQVEsQ0FBQSxXQUFVO0FBQ3RCLFFBQUksdUJBQXVCLE1BQU0sR0FBRztBQUNsQyxrQkFBWSxLQUFLLEdBQUcsT0FBTyxLQUFLO0lBQ2xDLE9BQU87QUFDTCxVQUFJLGVBQWdDO0FBQ3BDLFVBQ0UsMEJBQTBCLFVBQzFCLE9BQU8seUJBQXlCLE9BQ2hDO0FBQ0EsY0FBTSxFQUFFLHNCQUFzQixHQUFHLEtBQUssSUFBSTtBQUMxQyx1QkFBZTtNQUNqQjtBQUNBLGtCQUFZLEtBQUssWUFBWTtJQUMvQjtFQUNGLENBQUM7QUFDRCxTQUFPLFlBQVksU0FBUyxFQUFFLE9BQU8sWUFBWSxJQUFJO0FBQ3ZEO0FDeENPLFNBQVMsZ0JBQWdCLEtBQTRDO0FBQzFFLFFBQU1DLGNBQWEsT0FBTyxJQUFJO0FBQzlCLE1BQ0VBLGdCQUFlLFlBQ2ZBLGdCQUFlLFlBQ2ZBLGdCQUFlLGFBQ2ZBLGdCQUFlLFVBQ2Y7QUFDQSxXQUFPO01BQ0wsTUFBTSxNQUFNLFFBQVEsSUFBSSxLQUFLLElBQUksVUFBVTtJQUM3QztFQUNGO0FBRUEsU0FBTztJQUNMLE1BQU1BLGdCQUFlLFdBQVcsWUFBWUE7SUFDNUMsT0FBTyxJQUFJO0VBQ2I7QUFDRjtBRXpCQSxJQUFJQyxjQUFpQztBQVE5QixJQUFNLGNBQWM7Ozs7RUFJekIsTUFBTTtFQUNOLE9BQU87RUFDUCxNQUFNOzs7O0VBSU4sT0FDRTs7Ozs7Ozs7Ozs7O0VBWUYsT0FBTyxNQUFNO0FBQ1gsUUFBSUEsZ0JBQWUsUUFBVztBQUM1QixNQUFBQSxjQUFhO1FBQ1g7UUFDQTtNQUNGO0lBQ0Y7QUFDQSxXQUFPQTtFQUNUOzs7O0VBSUEsTUFBTTs7OztFQUlOLE1BQU07RUFDTixVQUNFOzs7O0VBSUYsTUFBTTtFQUNOLFVBQ0U7RUFDRixRQUFRO0VBQ1IsV0FDRTtFQUNGLFFBQVE7RUFDUixLQUFLO0FBQ1A7QUEyQk8sU0FBUyxlQUNkLEtBQ0EsTUFDdUI7QUFDdkIsUUFBTSxNQUE2QjtJQUNqQyxNQUFNO0VBQ1I7QUFFQSxNQUFJLElBQUksUUFBUTtBQUNkLGVBQVdILFVBQVMsSUFBSSxRQUFRO0FBQzlCLGNBQVFBLE9BQU0sTUFBTTtRQUNsQixLQUFLO0FBQ0gsY0FBSSxZQUNGLE9BQU8sSUFBSSxjQUFjLFdBQ3JCLEtBQUssSUFBSSxJQUFJLFdBQVdBLE9BQU0sS0FBSyxJQUNuQ0EsT0FBTTtBQUNaO1FBQ0YsS0FBSztBQUNILGNBQUksWUFDRixPQUFPLElBQUksY0FBYyxXQUNyQixLQUFLLElBQUksSUFBSSxXQUFXQSxPQUFNLEtBQUssSUFDbkNBLE9BQU07QUFFWjtRQUNGLEtBQUs7QUFDSCxrQkFBUSxLQUFLLGVBQWU7WUFDMUIsS0FBSztBQUNILHdCQUFVLEtBQUssU0FBU0EsT0FBTSxTQUFTLElBQUk7QUFDM0M7WUFDRixLQUFLO0FBQ0gsd0JBQVUsS0FBSyxhQUFhQSxPQUFNLFNBQVMsSUFBSTtBQUMvQztZQUNGLEtBQUs7QUFDSCx5QkFBVyxLQUFLLFlBQVksT0FBT0EsT0FBTSxTQUFTLElBQUk7QUFDdEQ7VUFDSjtBQUVBO1FBQ0YsS0FBSztBQUNILG9CQUFVLEtBQUssT0FBT0EsT0FBTSxTQUFTLElBQUk7QUFDekM7UUFDRixLQUFLO0FBQ0gsb0JBQVUsS0FBSyxRQUFRQSxPQUFNLFNBQVMsSUFBSTtBQUMxQztRQUNGLEtBQUs7QUFDSCxxQkFBVyxLQUFLQSxPQUFNLE9BQU9BLE9BQU0sU0FBUyxJQUFJO0FBQ2hEO1FBQ0YsS0FBSztBQUNILHFCQUFXLEtBQUssWUFBWSxNQUFNQSxPQUFNLFNBQVMsSUFBSTtBQUNyRDtRQUNGLEtBQUs7QUFDSCxxQkFBVyxLQUFLLFlBQVksT0FBT0EsT0FBTSxTQUFTLElBQUk7QUFDdEQ7UUFDRixLQUFLO0FBQ0g7WUFDRTtZQUNBLE9BQU8sSUFBSSx3QkFBd0JBLE9BQU0sT0FBTyxJQUFJLENBQUMsRUFBRTtZQUN2REEsT0FBTTtZQUNOO1VBQ0Y7QUFDQTtRQUNGLEtBQUs7QUFDSDtZQUNFO1lBQ0EsT0FBTyxHQUFHLHdCQUF3QkEsT0FBTSxPQUFPLElBQUksQ0FBQyxHQUFHO1lBQ3ZEQSxPQUFNO1lBQ047VUFDRjtBQUNBO1FBQ0YsS0FBSztBQUNILG9CQUFVLEtBQUssYUFBYUEsT0FBTSxTQUFTLElBQUk7QUFDL0M7UUFDRixLQUFLO0FBQ0gsb0JBQVUsS0FBSyxRQUFRQSxPQUFNLFNBQVMsSUFBSTtBQUMxQztRQUNGLEtBQUs7QUFDSCxvQkFBVSxLQUFLLFFBQVFBLE9BQU0sU0FBUyxJQUFJO0FBQzFDO1FBQ0YsS0FBSztBQUNILG9CQUFVLEtBQUssWUFBWUEsT0FBTSxTQUFTLElBQUk7QUFDOUM7UUFDRixLQUFLO0FBQ0gsY0FBSSxZQUNGLE9BQU8sSUFBSSxjQUFjLFdBQ3JCLEtBQUssSUFBSSxJQUFJLFdBQVdBLE9BQU0sS0FBSyxJQUNuQ0EsT0FBTTtBQUNaLGNBQUksWUFDRixPQUFPLElBQUksY0FBYyxXQUNyQixLQUFLLElBQUksSUFBSSxXQUFXQSxPQUFNLEtBQUssSUFDbkNBLE9BQU07QUFDWjtRQUNGLEtBQUssWUFBWTtBQUNmO1lBQ0U7WUFDQSxPQUFPLHdCQUF3QkEsT0FBTSxPQUFPLElBQUksQ0FBQztZQUNqREEsT0FBTTtZQUNOO1VBQ0Y7QUFDQTtRQUNGO1FBQ0EsS0FBSyxNQUFNO0FBQ1QsY0FBSUEsT0FBTSxZQUFZLE1BQU07QUFDMUIsc0JBQVUsS0FBSyxRQUFRQSxPQUFNLFNBQVMsSUFBSTtVQUM1QztBQUNBLGNBQUlBLE9BQU0sWUFBWSxNQUFNO0FBQzFCLHNCQUFVLEtBQUssUUFBUUEsT0FBTSxTQUFTLElBQUk7VUFDNUM7QUFDQTtRQUNGO1FBQ0EsS0FBSztBQUNILHFCQUFXLEtBQUssWUFBWSxXQUFXQSxPQUFNLFNBQVMsSUFBSTtBQUMxRDtRQUNGLEtBQUs7QUFDSCxxQkFBVyxLQUFLLFlBQVksS0FBS0EsT0FBTSxTQUFTLElBQUk7QUFDcEQ7UUFDRixLQUFLLFFBQVE7QUFDWCxjQUFJQSxPQUFNLFlBQVksTUFBTTtBQUMxQix1QkFBVyxLQUFLLFlBQVksVUFBVUEsT0FBTSxTQUFTLElBQUk7VUFDM0Q7QUFDQSxjQUFJQSxPQUFNLFlBQVksTUFBTTtBQUMxQix1QkFBVyxLQUFLLFlBQVksVUFBVUEsT0FBTSxTQUFTLElBQUk7VUFDM0Q7QUFDQTtRQUNGO1FBQ0EsS0FBSztBQUNILHFCQUFXLEtBQUssWUFBWSxNQUFNLEdBQUdBLE9BQU0sU0FBUyxJQUFJO0FBQ3hEO1FBQ0YsS0FBSyxRQUFRO0FBQ1gscUJBQVcsS0FBSyxZQUFZLE1BQU1BLE9BQU0sU0FBUyxJQUFJO0FBQ3JEO1FBQ0Y7UUFDQSxLQUFLLFVBQVU7QUFDYixrQkFBUSxLQUFLLGdCQUFnQjtZQUMzQixLQUFLLGlCQUFpQjtBQUNwQix3QkFBVSxLQUFLLFVBQWlCQSxPQUFNLFNBQVMsSUFBSTtBQUNuRDtZQUNGO1lBRUEsS0FBSywwQkFBMEI7QUFDN0Isa0JBQUksa0JBQWtCO0FBQ3RCO1lBQ0Y7WUFFQSxLQUFLLGVBQWU7QUFDbEIseUJBQVcsS0FBSyxZQUFZLFFBQVFBLE9BQU0sU0FBUyxJQUFJO0FBQ3ZEO1lBQ0Y7VUFDRjtBQUNBO1FBQ0Y7UUFDQSxLQUFLLFVBQVU7QUFDYixxQkFBVyxLQUFLLFlBQVksUUFBUUEsT0FBTSxTQUFTLElBQUk7UUFDekQ7UUFDQSxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7QUFDSDtRQUNGO0FBRUcsVUFBQSxrQkFBQ0ksT0FBYTtVQUFDLEdBQUdKLE1BQUs7TUFDNUI7SUFDRjtFQUNGO0FBRUEsU0FBTztBQUNUO0FBRUEsU0FBUyx3QkFBd0JLLFVBQWlCLE1BQW9CO0FBQ3BFLFNBQU8sS0FBSyxvQkFBb0IsV0FDNUIsc0JBQXNCQSxRQUFPLElBQzdCQTtBQUNOO0FBRUEsSUFBTSxnQkFBZ0IsSUFBSTtFQUN4QjtBQUNGO0FBRUEsU0FBUyxzQkFBc0IsUUFBZ0I7QUFDN0MsTUFBSSxTQUFTO0FBRWIsV0FBU1QsS0FBSSxHQUFHQSxLQUFJLE9BQU8sUUFBUUEsTUFBSztBQUN0QyxRQUFJLENBQUMsY0FBYyxJQUFJLE9BQU9BLEVBQUMsQ0FBQyxHQUFHO0FBQ2pDLGdCQUFVO0lBQ1o7QUFFQSxjQUFVLE9BQU9BLEVBQUM7RUFDcEI7QUFFQSxTQUFPO0FBQ1Q7QUFHQSxTQUFTLFVBQ1AsUUFDQSxPQUNBLFNBQ0EsTUFDQTtBQWhTRixNQUFBQztBQWlTRSxNQUFJLE9BQU8sWUFBVUEsT0FBQSxPQUFPLFVBQVAsT0FBQSxTQUFBQSxLQUFjLEtBQUssQ0FBQUksT0FBS0EsR0FBRSxNQUFBLElBQVM7QUFDdEQsUUFBSSxDQUFDLE9BQU8sT0FBTztBQUNqQixhQUFPLFFBQVEsQ0FBQztJQUNsQjtBQUVBLFFBQUksT0FBTyxRQUFRO0FBQ2pCLGFBQU8sTUFBTyxLQUFLO1FBQ2pCLFFBQVEsT0FBTztNQUNqQixDQUFDO0FBQ0QsYUFBTyxPQUFPO0lBQ2hCO0FBRUEsV0FBTyxNQUFPLEtBQUs7TUFDakIsUUFBUTtNQUNSLEdBQUksV0FDRixLQUFLLGlCQUFpQixFQUFFLGNBQWMsRUFBRSxRQUFRLFFBQVEsRUFBRTtJQUM5RCxDQUFDO0VBQ0gsT0FBTztBQUNMLFdBQU8sU0FBUztFQUNsQjtBQUNGO0FBR0EsU0FBUyxXQUNQLFFBQ0EsT0FDQSxTQUNBLE1BQ0E7QUE3VEYsTUFBQUo7QUE4VEUsTUFBSSxPQUFPLGFBQVdBLE9BQUEsT0FBTyxVQUFQLE9BQUEsU0FBQUEsS0FBYyxLQUFLLENBQUFJLE9BQUtBLEdBQUUsT0FBQSxJQUFVO0FBQ3hELFFBQUksQ0FBQyxPQUFPLE9BQU87QUFDakIsYUFBTyxRQUFRLENBQUM7SUFDbEI7QUFFQSxRQUFJLE9BQU8sU0FBUztBQUNsQixhQUFPLE1BQU8sS0FBSztRQUNqQixTQUFTLE9BQU87TUFDbEIsQ0FBQztBQUNELGFBQU8sT0FBTztJQUNoQjtBQUVBLFdBQU8sTUFBTyxLQUFLO01BQ2pCLFNBQVMseUJBQXlCLE9BQU8sSUFBSTtNQUM3QyxHQUFJLFdBQ0YsS0FBSyxpQkFBaUIsRUFBRSxjQUFjLEVBQUUsU0FBUyxRQUFRLEVBQUU7SUFDL0QsQ0FBQztFQUNILE9BQU87QUFDTCxXQUFPLFVBQVUseUJBQXlCLE9BQU8sSUFBSTtFQUN2RDtBQUNGO0FBR0EsU0FBUyx5QkFBeUIsT0FBZSxNQUFvQjtBQXJWckUsTUFBQUo7QUFzVkUsTUFBSSxDQUFDLEtBQUssbUJBQW1CLENBQUMsTUFBTSxPQUFPO0FBQ3pDLFdBQU8sTUFBTTtFQUNmO0FBR0EsUUFBTSxRQUFRO0lBQ1osR0FBRyxNQUFNLE1BQU0sU0FBUyxHQUFHOztJQUMzQixHQUFHLE1BQU0sTUFBTSxTQUFTLEdBQUc7O0lBQzNCLEdBQUcsTUFBTSxNQUFNLFNBQVMsR0FBRzs7RUFDN0I7QUFHQSxRQUFNLFNBQVMsTUFBTSxJQUFJLE1BQU0sT0FBTyxZQUFZLElBQUksTUFBTTtBQUM1RCxNQUFJLFVBQVU7QUFDZCxNQUFJLFlBQVk7QUFDaEIsTUFBSSxjQUFjO0FBQ2xCLE1BQUksY0FBYztBQUVsQixXQUFTRCxLQUFJLEdBQUdBLEtBQUksT0FBTyxRQUFRQSxNQUFLO0FBQ3RDLFFBQUksV0FBVztBQUNiLGlCQUFXLE9BQU9BLEVBQUM7QUFDbkIsa0JBQVk7QUFDWjtJQUNGO0FBRUEsUUFBSSxNQUFNLEdBQUc7QUFDWCxVQUFJLGFBQWE7QUFDZixZQUFJLE9BQU9BLEVBQUMsRUFBRSxNQUFNLE9BQU8sR0FBRztBQUM1QixjQUFJLGFBQWE7QUFDZix1QkFBVyxPQUFPQSxFQUFDO0FBQ25CLHVCQUFXLEdBQUcsT0FBT0EsS0FBSSxDQUFDLENBQUMsSUFBSSxPQUFPQSxFQUFDLENBQUMsR0FBRyxZQUFZO0FBQ3ZELDBCQUFjO1VBQ2hCLFdBQVcsT0FBT0EsS0FBSSxDQUFDLE1BQU0sU0FBT0MsT0FBQSxPQUFPRCxLQUFJLENBQUMsTUFBWixPQUFBLFNBQUFDLEtBQWUsTUFBTSxPQUFBLElBQVU7QUFDakUsdUJBQVcsT0FBT0QsRUFBQztBQUNuQiwwQkFBYztVQUNoQixPQUFPO0FBQ0wsdUJBQVcsR0FBRyxPQUFPQSxFQUFDLENBQUMsR0FBRyxPQUFPQSxFQUFDLEVBQUUsWUFBWSxDQUFDO1VBQ25EO0FBQ0E7UUFDRjtNQUNGLFdBQVcsT0FBT0EsRUFBQyxFQUFFLE1BQU0sT0FBTyxHQUFHO0FBQ25DLG1CQUFXLElBQUksT0FBT0EsRUFBQyxDQUFDLEdBQUcsT0FBT0EsRUFBQyxFQUFFLFlBQVksQ0FBQztBQUNsRDtNQUNGO0lBQ0Y7QUFFQSxRQUFJLE1BQU0sR0FBRztBQUNYLFVBQUksT0FBT0EsRUFBQyxNQUFNLEtBQUs7QUFDckIsbUJBQVc7O0FBQ1g7TUFDRixXQUFXLE9BQU9BLEVBQUMsTUFBTSxLQUFLO0FBQzVCLG1CQUFXOztBQUNYO01BQ0Y7SUFDRjtBQUVBLFFBQUksTUFBTSxLQUFLLE9BQU9BLEVBQUMsTUFBTSxLQUFLO0FBQ2hDLGlCQUFXLGNBQWMsR0FBRyxPQUFPQSxFQUFDLENBQUM7SUFBUyxJQUFJLE9BQU9BLEVBQUMsQ0FBQzs7QUFDM0Q7SUFDRjtBQUVBLGVBQVcsT0FBT0EsRUFBQztBQUNuQixRQUFJLE9BQU9BLEVBQUMsTUFBTSxNQUFNO0FBQ3RCLGtCQUFZO0lBQ2QsV0FBVyxlQUFlLE9BQU9BLEVBQUMsTUFBTSxLQUFLO0FBQzNDLG9CQUFjO0lBQ2hCLFdBQVcsQ0FBQyxlQUFlLE9BQU9BLEVBQUMsTUFBTSxLQUFLO0FBQzVDLG9CQUFjO0lBQ2hCO0VBQ0Y7QUFFQSxNQUFJO0FBQ0YsUUFBSSxPQUFPLE9BQU87RUFDcEIsU0FBUSxHQUFBO0FBQ04sWUFBUTtNQUNOLHNDQUFzQyxLQUFLLFlBQVk7UUFDckQ7TUFDRixDQUFDO0lBQ0g7QUFDQSxXQUFPLE1BQU07RUFDZjtBQUVBLFNBQU87QUFDVDtBRGxaTyxTQUFTLGVBQ2QsS0FDQSxNQUN1QjtBQTFCekIsTUFBQUMsTUFBQUMsS0FBQSxJQUFBLElBQUEsSUFBQTtBQTJCRSxRQUFNLFNBQWdDO0lBQ3BDLE1BQU07SUFDTix1QkFDRUQsT0FBQSxTQUFTLElBQUksVUFBVSxNQUFNO01BQzNCLEdBQUc7TUFDSCxhQUFhLENBQUMsR0FBRyxLQUFLLGFBQWEsc0JBQXNCO0lBQzNELENBQUMsTUFIRCxPQUFBQSxPQUdNLEtBQUs7RUFDZjtBQUVBLFFBQ0VDLE1BQUEsSUFBSSxZQUFKLE9BQUEsU0FBQUEsSUFBYSxLQUFLLGNBQWFDLHVCQUFzQixlQUNyRCxLQUFBLElBQUksUUFBUSxLQUFLLFdBQWpCLE9BQUEsU0FBQSxHQUF5QixTQUN6QjtBQUNBLFVBQU0sRUFBRSxNQUFNLEdBQUcsUUFBUSxJQUFJLGVBQWUsSUFBSSxRQUFRLE1BQU0sSUFBSTtBQUVsRSxXQUFPO01BQ0wsR0FBRztNQUNILGVBQWU7SUFDakI7RUFDRixhQUFXLEtBQUEsSUFBSSxZQUFKLE9BQUEsU0FBQSxHQUFhLEtBQUssY0FBYUEsdUJBQXNCLFNBQVM7QUFDdkUsV0FBTztNQUNMLEdBQUc7TUFDSCxlQUFlO1FBQ2IsTUFBTSxJQUFJLFFBQVEsS0FBSztNQUN6QjtJQUNGO0VBQ0YsYUFDRSxLQUFBLElBQUksWUFBSixPQUFBLFNBQUEsR0FBYSxLQUFLLGNBQWFBLHVCQUFzQixjQUNyRCxJQUFJLFFBQVEsS0FBSyxLQUFLLEtBQUssYUFBYUEsdUJBQXNCLGVBQzlELEtBQUEsSUFBSSxRQUFRLEtBQUssS0FBSyxLQUFLLFdBQTNCLE9BQUEsU0FBQSxHQUFtQyxTQUNuQztBQUNBLFVBQU0sRUFBRSxNQUFNLEdBQUcsUUFBUSxJQUFJO01BQzNCLElBQUksUUFBUTtNQUNaO0lBQ0Y7QUFFQSxXQUFPO01BQ0wsR0FBRztNQUNILGVBQWU7SUFDakI7RUFDRjtBQUVBLFNBQU87QUFDVDtBRXBETyxTQUFTLFlBQ2QsS0FDQSxNQUM0QztBQUM1QyxNQUFJLEtBQUssZ0JBQWdCLFVBQVU7QUFDakMsV0FBTyxlQUFlLEtBQUssSUFBSTtFQUNqQztBQUVBLFFBQU0sT0FDSixTQUFTLElBQUksUUFBUSxNQUFNO0lBQ3pCLEdBQUc7SUFDSCxhQUFhLENBQUMsR0FBRyxLQUFLLGFBQWEsU0FBUyxTQUFTLEdBQUc7RUFDMUQsQ0FBQyxLQUFLLFlBQVk7QUFDcEIsUUFBTSxTQUNKLFNBQVMsSUFBSSxVQUFVLE1BQU07SUFDM0IsR0FBRztJQUNILGFBQWEsQ0FBQyxHQUFHLEtBQUssYUFBYSxTQUFTLFNBQVMsR0FBRztFQUMxRCxDQUFDLEtBQUssWUFBWTtBQUNwQixTQUFPO0lBQ0wsTUFBTTtJQUNOLFVBQVU7SUFDVixPQUFPO01BQ0wsTUFBTTtNQUNOLE9BQU8sQ0FBQyxNQUFNLE1BQU07TUFDcEIsVUFBVTtNQUNWLFVBQVU7SUFDWjtFQUNGO0FBQ0Y7QUN2Q08sU0FBUyxtQkFDZCxLQUMyQjtBQUMzQixRQUFNTyxVQUFTLElBQUk7QUFDbkIsUUFBTSxhQUFhLE9BQU8sS0FBSyxJQUFJLE1BQU0sRUFBRSxPQUFPLENBQUMsUUFBZ0I7QUFDakUsV0FBTyxPQUFPQSxRQUFPQSxRQUFPLEdBQUcsQ0FBQyxNQUFNO0VBQ3hDLENBQUM7QUFFRCxRQUFNLGVBQWUsV0FBVyxJQUFJLENBQUMsUUFBZ0JBLFFBQU8sR0FBRyxDQUFDO0FBRWhFLFFBQU0sY0FBYyxNQUFNO0lBQ3hCLElBQUksSUFBSSxhQUFhLElBQUksQ0FBQyxXQUE0QixPQUFPLE1BQU0sQ0FBQztFQUN0RTtBQUVBLFNBQU87SUFDTCxNQUNFLFlBQVksV0FBVyxJQUNuQixZQUFZLENBQUMsTUFBTSxXQUNqQixXQUNBLFdBQ0YsQ0FBQyxVQUFVLFFBQVE7SUFDekIsTUFBTTtFQUNSO0FBQ0Y7QUN4Qk8sU0FBUyxnQkFBa0Q7QUFDaEUsU0FBTyxFQUFFLEtBQUssWUFBWSxFQUFFO0FBQzlCO0FDSk8sU0FBUyxlQUFvQztBQUNsRCxTQUFPO0lBQ0wsTUFBTTtFQUNSO0FBQ0Y7QUNFTyxJQUFNLG9CQUFvQjtFQUMvQixXQUFXO0VBQ1gsV0FBVztFQUNYLFdBQVc7RUFDWCxZQUFZO0VBQ1osU0FBUztBQUNYO0FBc0JPLFNBQVMsY0FDZCxLQUNBLE1BQ2tFO0FBQ2xFLFFBQU0sVUFDSixJQUFJLG1CQUFtQixNQUFNLE1BQU0sS0FBSyxJQUFJLFFBQVEsT0FBTyxDQUFDLElBQUksSUFBSTtBQUd0RSxNQUNFLFFBQVE7SUFDTixDQUFBTCxPQUNFQSxHQUFFLEtBQUssWUFBWSxzQkFDbEIsQ0FBQ0EsR0FBRSxLQUFLLFVBQVUsQ0FBQ0EsR0FBRSxLQUFLLE9BQU87RUFDdEMsR0FDQTtBQUdBLFVBQU1NLFNBQVEsUUFBUSxPQUFPLENBQUNBLFNBQStCTixPQUFNO0FBQ2pFLFlBQU0sT0FBTyxrQkFBa0JBLEdBQUUsS0FBSyxRQUF3QjtBQUM5RCxhQUFPLFFBQVEsQ0FBQ00sUUFBTSxTQUFTLElBQUksSUFBSSxDQUFDLEdBQUdBLFNBQU8sSUFBSSxJQUFJQTtJQUM1RCxHQUFHLENBQUMsQ0FBQztBQUVMLFdBQU87TUFDTCxNQUFNQSxPQUFNLFNBQVMsSUFBSUEsU0FBUUEsT0FBTSxDQUFDO0lBQzFDO0VBQ0YsV0FDRSxRQUFRLE1BQU0sQ0FBQU4sT0FBS0EsR0FBRSxLQUFLLGFBQWEsZ0JBQWdCLENBQUNBLEdBQUUsV0FBVyxHQUNyRTtBQUdBLFVBQU1NLFNBQVEsUUFBUTtNQUNwQixDQUFDLEtBQTZCTixPQUErQjtBQUMzRCxjQUFNLE9BQU8sT0FBT0EsR0FBRSxLQUFLO0FBQzNCLGdCQUFRLE1BQU07VUFDWixLQUFLO1VBQ0wsS0FBSztVQUNMLEtBQUs7QUFDSCxtQkFBTyxDQUFDLEdBQUcsS0FBSyxJQUFJO1VBQ3RCLEtBQUs7QUFDSCxtQkFBTyxDQUFDLEdBQUcsS0FBSyxTQUFrQjtVQUNwQyxLQUFLO0FBQ0gsZ0JBQUlBLEdBQUUsS0FBSyxVQUFVO0FBQU0scUJBQU8sQ0FBQyxHQUFHLEtBQUssTUFBZTtVQUM1RCxLQUFLO1VBQ0wsS0FBSztVQUNMLEtBQUs7VUFDTDtBQUNFLG1CQUFPO1FBQ1g7TUFDRjtNQUNBLENBQUM7SUFDSDtBQUVBLFFBQUlNLE9BQU0sV0FBVyxRQUFRLFFBQVE7QUFHbkMsWUFBTSxjQUFjQSxPQUFNLE9BQU8sQ0FBQ04sSUFBR0wsSUFBR1ksT0FBTUEsR0FBRSxRQUFRUCxFQUFDLE1BQU1MLEVBQUM7QUFDaEUsYUFBTztRQUNMLE1BQU0sWUFBWSxTQUFTLElBQUksY0FBYyxZQUFZLENBQUM7UUFDMUQsTUFBTSxRQUFRO1VBQ1osQ0FBQyxLQUFLSyxPQUFNO0FBQ1YsbUJBQU8sSUFBSSxTQUFTQSxHQUFFLEtBQUssS0FBSyxJQUFJLE1BQU0sQ0FBQyxHQUFHLEtBQUtBLEdBQUUsS0FBSyxLQUFLO1VBQ2pFO1VBQ0EsQ0FBQztRQUNIO01BQ0Y7SUFDRjtFQUNGLFdBQVcsUUFBUSxNQUFNLENBQUFBLE9BQUtBLEdBQUUsS0FBSyxhQUFhLFNBQVMsR0FBRztBQUM1RCxXQUFPO01BQ0wsTUFBTTtNQUNOLE1BQU0sUUFBUTtRQUNaLENBQUMsS0FBZUEsT0FBTTtVQUNwQixHQUFHO1VBQ0gsR0FBR0EsR0FBRSxLQUFLLE9BQU8sT0FBTyxDQUFDQSxRQUFjLENBQUMsSUFBSSxTQUFTQSxHQUFDLENBQUM7UUFDekQ7UUFDQSxDQUFDO01BQ0g7SUFDRjtFQUNGO0FBRUEsU0FBTyxRQUFRLEtBQUssSUFBSTtBQUMxQjtBQUVBLElBQU0sVUFBVSxDQUNkLEtBQ0EsU0FDcUU7QUFDckUsUUFBTSxTQUNILElBQUksbUJBQW1CLE1BQ3BCLE1BQU0sS0FBSyxJQUFJLFFBQVEsT0FBTyxDQUFDLElBQy9CLElBQUksU0FFUDtJQUFJLENBQUNBLElBQUdMLE9BQ1AsU0FBU0ssR0FBRSxNQUFNO01BQ2YsR0FBRztNQUNILGFBQWEsQ0FBQyxHQUFHLEtBQUssYUFBYSxTQUFTLEdBQUdMLEVBQUMsRUFBRTtJQUNwRCxDQUFDO0VBQ0gsRUFDQztJQUNDLENBQUNLLE9BQ0MsQ0FBQyxDQUFDQSxPQUNELENBQUMsS0FBSyxnQkFDSixPQUFPQSxPQUFNLFlBQVksT0FBTyxLQUFLQSxFQUFDLEVBQUUsU0FBUztFQUN4RDtBQUVGLFNBQU8sTUFBTSxTQUFTLEVBQUUsTUFBTSxJQUFJO0FBQ3BDO0FDaElPLFNBQVMsaUJBQ2QsS0FDQSxNQUNxQztBQUNyQyxNQUNFLENBQUMsYUFBYSxhQUFhLGFBQWEsY0FBYyxTQUFTLEVBQUU7SUFDL0QsSUFBSSxVQUFVLEtBQUs7RUFDckIsTUFDQyxDQUFDLElBQUksVUFBVSxLQUFLLFVBQVUsQ0FBQyxJQUFJLFVBQVUsS0FBSyxPQUFPLFNBQzFEO0FBQ0EsV0FBTztNQUNMLE1BQU07UUFDSixrQkFDRSxJQUFJLFVBQVUsS0FBSyxRQUNyQjtRQUNBO01BQ0Y7SUFDRjtFQUNGO0FBRUEsUUFBTSxPQUFPLFNBQVMsSUFBSSxVQUFVLE1BQU07SUFDeEMsR0FBRztJQUNILGFBQWEsQ0FBQyxHQUFHLEtBQUssYUFBYSxTQUFTLEdBQUc7RUFDakQsQ0FBQztBQUVELFNBQU8sUUFBUSxFQUFFLE9BQU8sQ0FBQyxNQUFNLEVBQUUsTUFBTSxPQUFPLENBQUMsRUFBRTtBQUNuRDtBQzlCTyxTQUFTLGVBQWUsS0FBMEM7QUFDdkUsUUFBTSxNQUE2QjtJQUNqQyxNQUFNO0VBQ1I7QUFFQSxNQUFJLENBQUMsSUFBSTtBQUFRLFdBQU87QUFFeEIsYUFBV0QsVUFBUyxJQUFJLFFBQVE7QUFDOUIsWUFBUUEsT0FBTSxNQUFNO01BQ2xCLEtBQUs7QUFDSCxZQUFJLE9BQU87QUFDWDtNQUNGLEtBQUs7QUFDSCxZQUFJQSxPQUFNLFdBQVc7QUFDbkIsY0FBSSxVQUFVQSxPQUFNO1FBQ3RCLE9BQU87QUFDTCxjQUFJLG1CQUFtQkEsT0FBTTtRQUMvQjtBQUNBO01BQ0YsS0FBSztBQUNILFlBQUlBLE9BQU0sV0FBVztBQUNuQixjQUFJLFVBQVVBLE9BQU07UUFDdEIsT0FBTztBQUNMLGNBQUksbUJBQW1CQSxPQUFNO1FBQy9CO0FBQ0E7TUFDRixLQUFLO0FBQ0gsWUFBSSxhQUFhQSxPQUFNO0FBQ3ZCO0lBQ0o7RUFDRjtBQUNBLFNBQU87QUFDVDtBQy9CTyxTQUFTLGVBQWUsS0FBbUIsTUFBWTtBQUM1RCxRQUFNLFNBQWdDO0lBQ3BDLE1BQU07SUFDTixZQUFZLENBQUM7RUFDZjtBQUVBLFFBQU1TLFlBQXFCLENBQUM7QUFFNUIsUUFBTSxRQUFRLElBQUksTUFBTTtBQUV4QixhQUFXLFlBQVksT0FBTztBQUM1QixRQUFJLFVBQVUsTUFBTSxRQUFRO0FBRTVCLFFBQUksWUFBWSxVQUFhLFFBQVEsU0FBUyxRQUFXO0FBQ3ZEO0lBQ0Y7QUFFQSxVQUFNLGVBQWUsZUFBZSxPQUFPO0FBRTNDLFVBQU0sWUFBWSxTQUFTLFFBQVEsTUFBTTtNQUN2QyxHQUFHO01BQ0gsYUFBYSxDQUFDLEdBQUcsS0FBSyxhQUFhLGNBQWMsUUFBUTtNQUN6RCxjQUFjLENBQUMsR0FBRyxLQUFLLGFBQWEsY0FBYyxRQUFRO0lBQzVELENBQUM7QUFFRCxRQUFJLGNBQWMsUUFBVztBQUMzQjtJQUNGO0FBRUEsV0FBTyxXQUFXLFFBQVEsSUFBSTtBQUU5QixRQUFJLENBQUMsY0FBYztBQUNqQixNQUFBQSxVQUFTLEtBQUssUUFBUTtJQUN4QjtFQUNGO0FBRUEsTUFBSUEsVUFBUyxRQUFRO0FBQ25CLFdBQU8sV0FBV0E7RUFDcEI7QUFFQSxRQUFNLHVCQUF1QiwyQkFBMkIsS0FBSyxJQUFJO0FBRWpFLE1BQUkseUJBQXlCLFFBQVc7QUFDdEMsV0FBTyx1QkFBdUI7RUFDaEM7QUFFQSxTQUFPO0FBQ1Q7QUFFQSxTQUFTLDJCQUEyQixLQUFtQixNQUFZO0FBQ2pFLE1BQUksSUFBSSxTQUFTLEtBQUssYUFBYSxZQUFZO0FBQzdDLFdBQU8sU0FBUyxJQUFJLFNBQVMsTUFBTTtNQUNqQyxHQUFHO01BQ0gsYUFBYSxDQUFDLEdBQUcsS0FBSyxhQUFhLHNCQUFzQjtJQUMzRCxDQUFDO0VBQ0g7QUFFQSxVQUFRLElBQUksYUFBYTtJQUN2QixLQUFLO0FBQ0gsYUFBTyxLQUFLO0lBQ2QsS0FBSztBQUNILGFBQU8sS0FBSztJQUNkLEtBQUs7QUFDSCxhQUFPLEtBQUssNkJBQTZCLFdBQ3JDLEtBQUssOEJBQ0wsS0FBSztFQUNiO0FBQ0Y7QUFFQSxTQUFTLGVBQWUsUUFBNkI7QUFDbkQsTUFBSTtBQUNGLFdBQU8sT0FBTyxXQUFXO0VBQzNCLFNBQVEsR0FBQTtBQUNOLFdBQU87RUFDVDtBQUNGO0FDakZPLElBQU0sbUJBQW1CLENBQzlCLEtBQ0EsU0FDZ0M7QUFUbEMsTUFBQVo7QUFVRSxNQUFJLEtBQUssWUFBWSxTQUFTLFFBQU1BLE9BQUEsS0FBSyxpQkFBTCxPQUFBLFNBQUFBLEtBQW1CLFNBQUEsSUFBWTtBQUNqRSxXQUFPLFNBQVMsSUFBSSxVQUFVLE1BQU0sSUFBSTtFQUMxQztBQUVBLFFBQU0sY0FBYyxTQUFTLElBQUksVUFBVSxNQUFNO0lBQy9DLEdBQUc7SUFDSCxhQUFhLENBQUMsR0FBRyxLQUFLLGFBQWEsU0FBUyxHQUFHO0VBQ2pELENBQUM7QUFFRCxTQUFPLGNBQ0gsRUFBRSxPQUFPLENBQUMsRUFBRSxLQUFLLFlBQVksRUFBRSxHQUFHLFdBQVcsRUFBRSxJQUMvQyxZQUFZO0FBQ2xCO0FDaEJPLElBQU0sbUJBQW1CLENBQzlCLEtBQ0EsU0FDdUQ7QUFDdkQsTUFBSSxLQUFLLGlCQUFpQixTQUFTO0FBQ2pDLFdBQU8sU0FBUyxJQUFJLEdBQUcsTUFBTSxJQUFJO0VBQ25DLFdBQVcsS0FBSyxpQkFBaUIsVUFBVTtBQUN6QyxXQUFPLFNBQVMsSUFBSSxJQUFJLE1BQU0sSUFBSTtFQUNwQztBQUVBLFFBQU1XLEtBQUksU0FBUyxJQUFJLEdBQUcsTUFBTTtJQUM5QixHQUFHO0lBQ0gsYUFBYSxDQUFDLEdBQUcsS0FBSyxhQUFhLFNBQVMsR0FBRztFQUNqRCxDQUFDO0FBQ0QsUUFBTUUsS0FBSSxTQUFTLElBQUksSUFBSSxNQUFNO0lBQy9CLEdBQUc7SUFDSCxhQUFhLENBQUMsR0FBRyxLQUFLLGFBQWEsU0FBU0YsS0FBSSxNQUFNLEdBQUc7RUFDM0QsQ0FBQztBQUVELFNBQU87SUFDTCxPQUFPLENBQUNBLElBQUdFLEVBQUMsRUFBRSxPQUFPLENBQUNULE9BQTRCQSxPQUFNLE1BQVM7RUFDbkU7QUFDRjtBQ3ZCTyxTQUFTLGdCQUNkLEtBQ0EsTUFDNkI7QUFDN0IsU0FBTyxTQUFTLElBQUksS0FBSyxNQUFNLElBQUk7QUFDckM7QUNHTyxTQUFTLFlBQVksS0FBZ0IsTUFBZ0M7QUFDMUUsUUFBTSxRQUFRLFNBQVMsSUFBSSxVQUFVLE1BQU07SUFDekMsR0FBRztJQUNILGFBQWEsQ0FBQyxHQUFHLEtBQUssYUFBYSxPQUFPO0VBQzVDLENBQUM7QUFFRCxRQUFNLFNBQTZCO0lBQ2pDLE1BQU07SUFDTixhQUFhO0lBQ2I7RUFDRjtBQUVBLE1BQUksSUFBSSxTQUFTO0FBQ2YsV0FBTyxXQUFXLElBQUksUUFBUTtFQUNoQztBQUVBLE1BQUksSUFBSSxTQUFTO0FBQ2YsV0FBTyxXQUFXLElBQUksUUFBUTtFQUNoQztBQUVBLFNBQU87QUFDVDtBQ2hCTyxTQUFTLGNBQ2QsS0FDQSxNQUNzQjtBQUN0QixNQUFJLElBQUksTUFBTTtBQUNaLFdBQU87TUFDTCxNQUFNO01BQ04sVUFBVSxJQUFJLE1BQU07TUFDcEIsT0FBTyxJQUFJLE1BQ1I7UUFBSSxDQUFDQSxJQUFHTCxPQUNQLFNBQVNLLEdBQUUsTUFBTTtVQUNmLEdBQUc7VUFDSCxhQUFhLENBQUMsR0FBRyxLQUFLLGFBQWEsU0FBUyxHQUFHTCxFQUFDLEVBQUU7UUFDcEQsQ0FBQztNQUNILEVBQ0M7UUFDQyxDQUFDLEtBQXdCSyxPQUFPQSxPQUFNLFNBQVksTUFBTSxDQUFDLEdBQUcsS0FBS0EsRUFBQztRQUNsRSxDQUFDO01BQ0g7TUFDRixpQkFBaUIsU0FBUyxJQUFJLEtBQUssTUFBTTtRQUN2QyxHQUFHO1FBQ0gsYUFBYSxDQUFDLEdBQUcsS0FBSyxhQUFhLGlCQUFpQjtNQUN0RCxDQUFDO0lBQ0g7RUFDRixPQUFPO0FBQ0wsV0FBTztNQUNMLE1BQU07TUFDTixVQUFVLElBQUksTUFBTTtNQUNwQixVQUFVLElBQUksTUFBTTtNQUNwQixPQUFPLElBQUksTUFDUjtRQUFJLENBQUNBLElBQUdMLE9BQ1AsU0FBU0ssR0FBRSxNQUFNO1VBQ2YsR0FBRztVQUNILGFBQWEsQ0FBQyxHQUFHLEtBQUssYUFBYSxTQUFTLEdBQUdMLEVBQUMsRUFBRTtRQUNwRCxDQUFDO01BQ0gsRUFDQztRQUNDLENBQUMsS0FBd0JLLE9BQU9BLE9BQU0sU0FBWSxNQUFNLENBQUMsR0FBRyxLQUFLQSxFQUFDO1FBQ2xFLENBQUM7TUFDSDtJQUNKO0VBQ0Y7QUFDRjtBQ3RETyxTQUFTLG9CQUE4QztBQUM1RCxTQUFPO0lBQ0wsS0FBSyxZQUFZO0VBQ25CO0FBQ0Y7QUNOTyxTQUFTLGtCQUEwQztBQUN4RCxTQUFPLFlBQVk7QUFDckI7QUNGTyxJQUFNLG1CQUFtQixDQUFDLEtBQTBCLFNBQWU7QUFDeEUsU0FBTyxTQUFTLElBQUksVUFBVSxNQUFNLElBQUk7QUFDMUM7QTlCOEJPLElBQU0sZUFBZSxDQUMxQixLQUNBLFVBQ0EsU0FDaUQ7QUFDakQsVUFBUSxVQUFVO0lBQ2hCLEtBQUtGLHVCQUFzQjtBQUN6QixhQUFPLGVBQWUsS0FBSyxJQUFJO0lBQ2pDLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPLGVBQWUsR0FBRztJQUMzQixLQUFLQSx1QkFBc0I7QUFDekIsYUFBTyxlQUFlLEtBQUssSUFBSTtJQUNqQyxLQUFLQSx1QkFBc0I7QUFDekIsYUFBTyxlQUFlLEdBQUc7SUFDM0IsS0FBS0EsdUJBQXNCO0FBQ3pCLGFBQU8sZ0JBQWdCO0lBQ3pCLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPLGFBQWEsS0FBSyxJQUFJO0lBQy9CLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPLGtCQUFrQjtJQUMzQixLQUFLQSx1QkFBc0I7QUFDekIsYUFBTyxhQUFhO0lBQ3RCLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPLGNBQWMsS0FBSyxJQUFJO0lBQ2hDLEtBQUtBLHVCQUFzQjtJQUMzQixLQUFLQSx1QkFBc0I7QUFDekIsYUFBTyxjQUFjLEtBQUssSUFBSTtJQUNoQyxLQUFLQSx1QkFBc0I7QUFDekIsYUFBTyxxQkFBcUIsS0FBSyxJQUFJO0lBQ3ZDLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPLGNBQWMsS0FBSyxJQUFJO0lBQ2hDLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPLGVBQWUsS0FBSyxJQUFJO0lBQ2pDLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPLGdCQUFnQixHQUFHO0lBQzVCLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPLGFBQWEsR0FBRztJQUN6QixLQUFLQSx1QkFBc0I7QUFDekIsYUFBTyxtQkFBbUIsR0FBRztJQUMvQixLQUFLQSx1QkFBc0I7QUFDekIsYUFBTyxpQkFBaUIsS0FBSyxJQUFJO0lBQ25DLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPLGlCQUFpQixLQUFLLElBQUk7SUFDbkMsS0FBS0EsdUJBQXNCO0FBQ3pCLGFBQU8sWUFBWSxLQUFLLElBQUk7SUFDOUIsS0FBS0EsdUJBQXNCO0FBQ3pCLGFBQU8sWUFBWSxLQUFLLElBQUk7SUFDOUIsS0FBS0EsdUJBQXNCO0FBQ3pCLGFBQU8sTUFBTyxJQUFZLE9BQU8sRUFBRTtJQUNyQyxLQUFLQSx1QkFBc0I7QUFDekIsYUFBTyxnQkFBZ0IsS0FBSyxJQUFJO0lBQ2xDLEtBQUtBLHVCQUFzQjtJQUMzQixLQUFLQSx1QkFBc0I7QUFDekIsYUFBTyxjQUFjO0lBQ3ZCLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPLGdCQUFnQixLQUFLLElBQUk7SUFDbEMsS0FBS0EsdUJBQXNCO0FBQ3pCLGFBQU8sWUFBWTtJQUNyQixLQUFLQSx1QkFBc0I7QUFDekIsYUFBTyxnQkFBZ0I7SUFDekIsS0FBS0EsdUJBQXNCO0FBQ3pCLGFBQU8sZ0JBQWdCLEtBQUssSUFBSTtJQUNsQyxLQUFLQSx1QkFBc0I7QUFDekIsYUFBTyxnQkFBZ0IsS0FBSyxJQUFJO0lBQ2xDLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPLGlCQUFpQixLQUFLLElBQUk7SUFDbkMsS0FBS0EsdUJBQXNCO0FBQ3pCLGFBQU8sY0FBYyxLQUFLLElBQUk7SUFDaEMsS0FBS0EsdUJBQXNCO0FBQ3pCLGFBQU8saUJBQWlCLEtBQUssSUFBSTtJQUNuQyxLQUFLQSx1QkFBc0I7SUFDM0IsS0FBS0EsdUJBQXNCO0lBQzNCLEtBQUtBLHVCQUFzQjtBQUN6QixhQUFPO0lBQ1Q7QUFFRSxhQUFRLGtCQUFDSyxPQUFhLFFBQVcsUUFBUTtFQUM3QztBQUNGO0ErQjFHTyxTQUFTLFNBQ2QsS0FDQSxNQUNBLGtCQUFrQixPQUNXO0FBWi9CLE1BQUFQO0FBYUUsUUFBTSxXQUFXLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFFbEMsTUFBSSxLQUFLLFVBQVU7QUFDakIsVUFBTSxrQkFBaUJBLE9BQUEsS0FBSyxhQUFMLE9BQUEsU0FBQUEsS0FBQTtNQUFBO01BQ3JCO01BQ0E7TUFDQTtNQUNBO0lBQUE7QUFHRixRQUFJLG1CQUFtQixnQkFBZ0I7QUFDckMsYUFBTztJQUNUO0VBQ0Y7QUFFQSxNQUFJLFlBQVksQ0FBQyxpQkFBaUI7QUFDaEMsVUFBTSxhQUFhLFFBQVEsVUFBVSxJQUFJO0FBRXpDLFFBQUksZUFBZSxRQUFXO0FBQzVCLGFBQU87SUFDVDtFQUNGO0FBRUEsUUFBTSxVQUFnQixFQUFFLEtBQUssTUFBTSxLQUFLLGFBQWEsWUFBWSxPQUFVO0FBRTNFLE9BQUssS0FBSyxJQUFJLEtBQUssT0FBTztBQUUxQixRQUFNLHFCQUFxQixhQUFhLEtBQU0sSUFBWSxVQUFVLElBQUk7QUFHeEUsUUFBTWMsY0FDSixPQUFPLHVCQUF1QixhQUMxQixTQUFTLG1CQUFtQixHQUFHLElBQUksSUFDbkM7QUFFTixNQUFJQSxhQUFZO0FBQ2QsWUFBUSxLQUFLLE1BQU1BLFdBQVU7RUFDL0I7QUFFQSxNQUFJLEtBQUssYUFBYTtBQUNwQixVQUFNLG9CQUFvQixLQUFLLFlBQVlBLGFBQVksS0FBSyxJQUFJO0FBRWhFLFlBQVEsYUFBYUE7QUFFckIsV0FBTztFQUNUO0FBRUEsVUFBUSxhQUFhQTtBQUVyQixTQUFPQTtBQUNUO0FBRUEsSUFBTSxVQUFVLENBQ2QsTUFDQSxTQU1lO0FBQ2YsVUFBUSxLQUFLLGNBQWM7SUFDekIsS0FBSztBQUNILGFBQU8sRUFBRSxNQUFNLEtBQUssS0FBSyxLQUFLLEdBQUcsRUFBRTtJQUNyQyxLQUFLO0FBQ0gsYUFBTyxFQUFFLE1BQU0sZ0JBQWdCLEtBQUssYUFBYSxLQUFLLElBQUksRUFBRTtJQUM5RCxLQUFLO0lBQ0wsS0FBSyxRQUFRO0FBQ1gsVUFDRSxLQUFLLEtBQUssU0FBUyxLQUFLLFlBQVksVUFDcEMsS0FBSyxLQUFLLE1BQU0sQ0FBQyxPQUFPLFVBQVUsS0FBSyxZQUFZLEtBQUssTUFBTSxLQUFLLEdBQ25FO0FBQ0EsZ0JBQVE7VUFDTixtQ0FBbUMsS0FBSyxZQUFZO1lBQ2xEO1VBQ0YsQ0FBQztRQUNIO0FBRUEsZUFBTyxZQUFZO01BQ3JCO0FBRUEsYUFBTyxLQUFLLGlCQUFpQixTQUFTLFlBQVksSUFBSTtJQUN4RDtFQUNGO0FBQ0Y7QUFFQSxJQUFNLFVBQVUsQ0FDZCxLQUNBLE1BQ0FBLGdCQUNvQjtBQUNwQixNQUFJLElBQUksYUFBYTtBQUNuQkEsZ0JBQVcsY0FBYyxJQUFJO0VBQy9CO0FBQ0EsU0FBT0E7QUFDVDtBQzVGTyxJQUFNLFVBQVUsQ0FBQyxZQUE4QztBQUNwRSxRQUFNLFdBQVcsa0JBQWtCLE9BQU87QUFDMUMsUUFBTSxjQUNKLFNBQVMsU0FBUyxTQUNkLENBQUMsR0FBRyxTQUFTLFVBQVUsU0FBUyxnQkFBZ0IsU0FBUyxJQUFJLElBQzdELFNBQVM7QUFDZixTQUFPO0lBQ0wsR0FBRztJQUNIO0lBQ0EsY0FBYztJQUNkLE1BQU0sSUFBSTtNQUNSLE9BQU8sUUFBUSxTQUFTLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQ0MsUUFBTSxHQUFHLE1BQU07UUFDeEQsSUFBSTtRQUNKO1VBQ0UsS0FBSyxJQUFJO1VBQ1QsTUFBTSxDQUFDLEdBQUcsU0FBUyxVQUFVLFNBQVMsZ0JBQWdCQSxNQUFJOztVQUUxRCxZQUFZO1FBQ2Q7TUFDRixDQUFDO0lBQ0g7RUFDRjtBQUNGO0FDL0JBLElBQU0sa0JBQWtCLENBQ3RCLFFBQ0EsWUFNRztBQWZMLE1BQUFmO0FBZ0JFLFFBQU0sT0FBTyxRQUFRLE9BQU87QUFFNUIsTUFBSSxjQUNGLE9BQU8sWUFBWSxZQUFZLFFBQVEsY0FDbkMsT0FBTyxRQUFRLFFBQVEsV0FBVyxFQUFFO0lBQ2xDLENBQUMsS0FBeUMsQ0FBQ2UsUUFBTUMsT0FBTSxNQUFHO0FBckJwRSxVQUFBaEI7QUFxQndFLGFBQUE7UUFDNUQsR0FBRztRQUNILENBQUNlLE1BQUksSUFDSGYsT0FBQTtVQUNFZ0IsUUFBTztVQUNQO1lBQ0UsR0FBRztZQUNILGFBQWEsQ0FBQyxHQUFHLEtBQUssVUFBVSxLQUFLLGdCQUFnQkQsTUFBSTtVQUMzRDtVQUNBO1FBQ0YsTUFQQSxPQUFBZixPQU9LLFlBQVk7TUFDckI7SUFBQTtJQUNBLENBQUM7RUFDSCxJQUNBO0FBRU4sUUFBTWUsU0FDSixPQUFPLFlBQVksV0FDZixXQUNBLFdBQUEsT0FBQSxTQUFBLFFBQVMsa0JBQWlCLFVBQ3hCLFNBQ0EsV0FBQSxPQUFBLFNBQUEsUUFBUztBQUVqQixRQUFNLFFBQ0pmLE9BQUE7SUFDRSxPQUFPO0lBQ1BlLFdBQVMsU0FDTCxPQUNBO01BQ0UsR0FBRztNQUNILGFBQWEsQ0FBQyxHQUFHLEtBQUssVUFBVSxLQUFLLGdCQUFnQkEsTUFBSTtJQUMzRDtJQUNKO0VBQ0YsTUFUQSxPQUFBZixPQVNNLFlBQVk7QUFFcEIsUUFBTSxRQUNKLE9BQU8sWUFBWSxZQUNuQixRQUFRLFNBQVMsVUFDakIsUUFBUSxpQkFBaUIsVUFDckIsUUFBUSxPQUNSO0FBRU4sTUFBSSxVQUFVLFFBQVc7QUFDdkIsU0FBSyxRQUFRO0VBQ2Y7QUFFQSxRQUFNLFdBQ0plLFdBQVMsU0FDTCxjQUNFO0lBQ0UsR0FBRztJQUNILENBQUMsS0FBSyxjQUFjLEdBQUc7RUFDekIsSUFDQSxPQUNGO0lBQ0UsTUFBTTtNQUNKLEdBQUksS0FBSyxpQkFBaUIsYUFBYSxDQUFDLElBQUksS0FBSztNQUNqRCxLQUFLO01BQ0xBO0lBQ0YsRUFBRSxLQUFLLEdBQUc7SUFDVixDQUFDLEtBQUssY0FBYyxHQUFHO01BQ3JCLEdBQUc7TUFDSCxDQUFDQSxNQUFJLEdBQUc7SUFDVjtFQUNGO0FBRU4sV0FBUyxVQUFVO0FBRW5CLFNBQU87QUFDVDtBQ3BEQSxJQUFPLDZCQUFRO0FyQ2hDUixTQUFTLFdBQ2RFLFlBQ0EsU0FTZ0I7QUFqQmxCLE1BQUFqQjtBQW1CRSxRQUFNLGlCQUFnQkEsT0FBQSxXQUFBLE9BQUEsU0FBQSxRQUFTLGtCQUFULE9BQUFBLE9BQTBCO0FBRWhELFNBQU87SUFDTCwyQkFBZ0JpQixZQUFXO01BQ3pCLGNBQWMsZ0JBQWdCLFNBQVM7SUFDekMsQ0FBQztJQUNEO01BQ0UsVUFBVSxPQUFNLFVBQVM7QUFDdkIsY0FBTSxTQUFTLE1BQU1BLFdBQVUsZUFBZSxLQUFLO0FBQ25ELGVBQU8sT0FBTyxVQUNWLEVBQUUsU0FBUyxNQUFNLE9BQU8sT0FBTyxLQUFLLElBQ3BDLEVBQUUsU0FBUyxPQUFPLE9BQU8sT0FBTyxNQUFNO01BQzVDO0lBQ0Y7RUFDRjtBQUNGO0FBRU8sU0FBUyxXQUNkQSxZQUNBLFNBU2dCO0FBL0NsQixNQUFBakI7QUFpREUsUUFBTSxpQkFBZ0JBLE9BQUEsV0FBQSxPQUFBLFNBQUEsUUFBUyxrQkFBVCxPQUFBQSxPQUEwQjtBQUVoRCxRQUFNLGVBQWtCLGFBQWFpQixZQUFXO0lBQzlDLFFBQVE7SUFDUixJQUFJO0lBQ0osUUFBUSxnQkFBZ0IsUUFBUTtFQUNsQyxDQUFDO0FBRUQsU0FBTyxXQUFXLGNBQWM7SUFDOUIsVUFBVSxPQUFNLFVBQVM7QUFDdkIsWUFBTSxTQUFTLE1BQVNDLGdCQUFlRCxZQUFXLEtBQUs7QUFDdkQsYUFBTyxPQUFPLFVBQ1YsRUFBRSxTQUFTLE1BQU0sT0FBTyxPQUFPLEtBQUssSUFDcEMsRUFBRSxTQUFTLE9BQU8sT0FBTyxPQUFPLE1BQU07SUFDNUM7RUFDRixDQUFDO0FBQ0g7QUFFTyxTQUFTLGFBQ2RBLFlBQ3lDO0FBRXpDLFNBQU8sVUFBVUE7QUFDbkI7QUFFTyxTQUFTLFVBQ2RBLFlBR0EsU0FTZ0I7QUFDaEIsTUFBSSxhQUFhQSxVQUFTLEdBQUc7QUFDM0IsV0FBTyxXQUFXQSxZQUFXLE9BQU87RUFDdEMsT0FBTztBQUNMLFdBQU8sV0FBV0EsWUFBVyxPQUFPO0VBQ3RDO0FBQ0Y7QXNDcEZBLElBQU0sZUFBZSxPQUFPLElBQUksa0JBQWtCO0FBd0MzQyxTQUFTLFdBQ2RILGFBQ0E7RUFDRTtBQUNGLElBSUksQ0FBQyxHQUNXO0FBQ2hCLFNBQU87SUFDTCxDQUFDLFlBQVksR0FBRztJQUNoQixPQUFPOztJQUNQLENBQUMsZUFBZSxHQUFHO0lBQ25CLFlBQUFBO0lBQ0E7RUFDRjtBQUNGO0FBRUEsU0FBUyxTQUFTLE9BQWlDO0FBQ2pELFNBQ0UsT0FBTyxVQUFVLFlBQ2pCLFVBQVUsUUFDVixnQkFBZ0IsU0FDaEIsTUFBTSxZQUFZLE1BQU0sUUFDeEIsZ0JBQWdCLFNBQ2hCLGNBQWM7QUFFbEI7QUFFTyxTQUFTLFNBQ2QsUUFLZ0I7QUFDaEIsU0FBTyxVQUFVLE9BQ2IsV0FBVztJQUNULFlBQVksQ0FBQztJQUNiLHNCQUFzQjtFQUN4QixDQUFDLElBQ0QsU0FBUyxNQUFNLElBQ2IsU0FDQSxVQUFVLE1BQU07QUFDeEI7QUMzRkEsSUFBTSxFQUFFLE1BQUFLLE9BQU0sTUFBQUMsTUFBSyxJQUFJO0FBRWhCLFNBQVMsMEJBQTBCLGNBQXNCO0FBQzlELFFBQU0sWUFBWSxhQUFhLFFBQVEsTUFBTSxHQUFHLEVBQUUsUUFBUSxNQUFNLEdBQUc7QUFDbkUsUUFBTSxlQUFlQSxNQUFLLFNBQVM7QUFDbkMsU0FBTyxXQUFXLEtBQUssY0FBYyxDQUFBLFNBQVEsS0FBSyxZQUFZLENBQUMsQ0FBRTtBQUNuRTtBQUVPLFNBQVMsMEJBQTBCQyxRQUEyQjtBQUNuRSxNQUFJLGVBQWU7QUFJbkIsV0FBU3RCLEtBQUksR0FBR0EsS0FBSXNCLE9BQU0sUUFBUXRCLE1BQUs7QUFDckMsb0JBQWdCLE9BQU8sY0FBY3NCLE9BQU10QixFQUFDLENBQUM7RUFDL0M7QUFFQSxTQUFPb0IsTUFBSyxZQUFZO0FBQzFCO0FDckJPLFNBQVMscUJBQXFCRyxNQUF5QjtBQUM1RCxTQUFPQSxRQUFBLE9BQUEsU0FBQUEsS0FBSyxRQUFRLE9BQU8sRUFBQTtBQUM3QjtBQ0ZPLFNBQVMsZ0JBQXlCLEtBQW1DO0FBQzFFLFNBQU8sT0FBTyxRQUFRLE9BQU8sSUFBSSxPQUFPLGFBQWEsTUFBTTtBQUM3RDtBQ0NBLGdCQUF1QixZQUEyQjtFQUNoRDtFQUNBO0VBQ0E7QUFDRixHQU1FO0FBQ0EsUUFBTSxTQUFTLFFBQVEsT0FBTyxPQUFPO0FBRXJDLE1BQUksZ0JBQWdCLE1BQU0sR0FBRztBQUMzQixRQUFJO0FBQ0oscUJBQWlCLFVBQVUsUUFBUTtBQUNqQyxtQkFBYTtBQUNiLFlBQU0sRUFBRSxNQUFNLGVBQWUsT0FBTztJQUN0QztBQUNBLFVBQU0sRUFBRSxNQUFNLFNBQVMsUUFBUSxXQUFZO0VBQzdDLE9BQU87QUFDTCxVQUFNLEVBQUUsTUFBTSxTQUFTLFFBQVEsTUFBTSxPQUFPO0VBQzlDO0FBQ0Y7OztBSzFCQSxJQUFNQyxXQUFTO0FBQ2YsSUFBTUMsV0FBUyxPQUFPLElBQUlELFFBQU07QUFEaEMsSUFBQUU7QUFBQSxJQUFBO0FBR08sSUFBZSxlQUFmLE1BQWUsdUJBQXFCLEtBQUEsT0FDdkJBLE9BQUFELFVBRHVCLElBQU07RUFRL0MsWUFBWTtJQUNWO0lBQ0EsYUFBYTtJQUNiO0VBQ0YsR0FJRztBQUNELFVBQU0sT0FBTztBQWhCZixTQUFrQkMsSUFBQSxJQUFVO0FBaUIxQixTQUFLLGFBQWE7QUFDbEIsU0FBSyxRQUFRO0VBQ2Y7Ozs7OztFQU9BLE9BQU8sV0FBV0MsU0FBdUM7QUFDdkQsV0FBTyxjQUFhLFVBQVVBLE9BQUs7RUFDckM7RUFFQSxPQUFPLFVBQVVBLFNBQXVDO0FBQ3RELFdBQ0UsT0FBT0EsWUFBVSxZQUNqQkEsWUFBVSxRQUNWRixZQUFVRSxXQUNUQSxRQUFjRixRQUFNLE1BQU07RUFFL0I7QUFDRjtBQ3hDQSxJQUFNRyxTQUFPO0FBQ2IsSUFBTUosV0FBUywyQkFBMkJJLE1BQUk7QUFDOUMsSUFBTUgsV0FBUyxPQUFPLElBQUlELFFBQU07QUFKaEMsSUFBQUU7QUFBQSxJQUFBRztBQVNPLElBQU0sNkJBQU4sTUFBTSxxQ0FBbUNBLE1BQUEsY0FDNUJILE9BQUFELFVBRDRCSSxLQUFhO0VBTTNELFlBQVk7SUFDVixVQUFVO0lBQ1YsYUFBYTtJQUNiO0VBQ0YsSUFJSSxDQUFDLEdBQUc7QUFDTixVQUFNLEVBQUUsU0FBUyxZQUFZLE1BQU0sQ0FBQztBQWR0QyxTQUFrQkgsSUFBQUEsSUFBVTtBQUU1QixTQUFTLE9BQU9FO0FBQ2hCLFNBQVMsT0FBTztFQVloQjtFQUVBLE9BQU8sV0FBV0QsU0FBcUQ7QUFDckUsV0FBTyxhQUFhLFVBQVVBLE9BQUssS0FBS0YsWUFBVUU7RUFDcEQ7Ozs7RUFLQSxPQUFPLHNCQUFzQjtJQUMzQjtJQUNBO0lBQ0EsVUFBVTtJQUNWLGFBQWE7SUFDYjtFQUNGLEdBTStCO0FBQzdCLFFBQUk7QUFFSixRQUFJLGdCQUFnQjtBQUNsQiwwQkFBb0I7OztJQUd0QixXQUFXLG1CQUFtQjtBQUM1QiwwQkFBb0I7Ozs7Ozs7OztJQVN0QixPQUFPO0FBQ0wsMEJBQW9COzs7Ozs7Ozs7Ozs7Ozs7SUFldEI7QUFFQSxXQUFPLElBQUksNEJBQTJCO01BQ3BDLFNBQVM7TUFDVDtNQUNBO0lBQ0YsQ0FBQztFQUNIO0FBQ0Y7QUNyRkEsSUFBTUMsU0FBTztBQUNiLElBQU1KLFdBQVMsMkJBQTJCSSxNQUFJO0FBQzlDLElBQU1ILFdBQVMsT0FBTyxJQUFJRCxRQUFNO0FBSmhDLElBQUFFO0FBQUEsSUFBQUc7QUFTTyxJQUFNLDZCQUFOLGVBQXlDQSxNQUFBLGNBQzVCSCxPQUFBRCxVQUQ0QkksS0FBYTtFQU0zRCxZQUFZO0lBQ1YsVUFBVTtJQUNWLGFBQWE7SUFDYjtFQUNGLElBSUksQ0FBQyxHQUFHO0FBQ04sVUFBTSxFQUFFLFNBQVMsWUFBWSxNQUFNLENBQUM7QUFkdEMsU0FBa0JILElBQUFBLElBQVU7QUFFNUIsU0FBUyxPQUFPRTtBQUNoQixTQUFTLE9BQU87RUFZaEI7RUFFQSxPQUFPLFdBQVdELFNBQXFEO0FBQ3JFLFdBQU8sYUFBYSxVQUFVQSxPQUFLLEtBQUtGLFlBQVVFO0VBQ3BEO0FBQ0Y7QUM1QkEsSUFBTUMsU0FBTztBQUNiLElBQU1KLFdBQVMsMkJBQTJCSSxNQUFJO0FBQzlDLElBQU1ILFdBQVMsT0FBTyxJQUFJRCxRQUFNO0FBSmhDLElBQUFFO0FBQUEsSUFBQUc7QUFTTyxJQUFNLHdCQUFOLGVBQW9DQSxNQUFBLGNBQ3ZCSCxPQUFBRCxVQUR1QkksS0FBYTtFQU10RCxZQUFZO0lBQ1YsVUFBVTtJQUNWLGFBQWE7SUFDYjtFQUNGLElBSUksQ0FBQyxHQUFHO0FBQ04sVUFBTSxFQUFFLFNBQVMsWUFBWSxNQUFNLENBQUM7QUFkdEMsU0FBa0JILElBQUFBLElBQVU7QUFFNUIsU0FBUyxPQUFPRTtBQUNoQixTQUFTLE9BQU87RUFZaEI7RUFFQSxPQUFPLFdBQVdELFNBQWdEO0FBQ2hFLFdBQU8sYUFBYSxVQUFVQSxPQUFLLEtBQUtGLFlBQVVFO0VBQ3BEO0FBQ0Y7QUMzQkEsSUFBTUMsU0FBTztBQUNiLElBQU1KLFdBQVMsMkJBQTJCSSxNQUFJO0FBQzlDLElBQU1ILFdBQVMsT0FBTyxJQUFJRCxRQUFNO0FBRXpCLElBQU0sMkJBQTJCLGlCQUFFLE9BQU87RUFDL0MsU0FBUyxpQkFBRSxPQUFPO0FBQ3BCLENBQUM7QUFURCxJQUFBRTtBQUFBLElBQUFHO0FBY08sSUFBTSw0QkFBTixlQUF3Q0EsTUFBQSxjQUMzQkgsT0FBQUQsVUFEMkJJLEtBQWE7RUFPMUQsWUFBWTtJQUNWLFVBQVU7SUFDVixhQUFhO0lBQ2I7SUFDQTtFQUNGLElBS0ksQ0FBQyxHQUFHO0FBQ04sVUFBTSxFQUFFLFNBQVMsWUFBWSxNQUFNLENBQUM7QUFqQnRDLFNBQWtCSCxJQUFBQSxJQUFVO0FBRTVCLFNBQVMsT0FBT0U7QUFDaEIsU0FBUyxPQUFPO0FBZWQsU0FBSyxVQUFVO0VBQ2pCO0VBRUEsT0FBTyxXQUFXRCxTQUFvRDtBQUNwRSxXQUFPLGFBQWEsVUFBVUEsT0FBSyxLQUFLRixZQUFVRTtFQUNwRDtBQUNGO0FDckNBLElBQU1DLFNBQU87QUFDYixJQUFNSixXQUFTLDJCQUEyQkksTUFBSTtBQUM5QyxJQUFNSCxXQUFTLE9BQU8sSUFBSUQsUUFBTTtBQUpoQyxJQUFBRTtBQUFBLElBQUFHO0FBU08sSUFBTSw2QkFBTixlQUF5Q0EsTUFBQSxjQUM1QkgsT0FBQUQsVUFENEJJLEtBQWE7RUFNM0QsWUFBWTtJQUNWLFVBQVU7SUFDVixhQUFhO0lBQ2I7RUFDRixJQUlJLENBQUMsR0FBRztBQUNOLFVBQU0sRUFBRSxTQUFTLFlBQVksTUFBTSxDQUFDO0FBZHRDLFNBQWtCSCxJQUFBQSxJQUFVO0FBRTVCLFNBQVMsT0FBT0U7QUFDaEIsU0FBUyxPQUFPO0VBWWhCO0VBRUEsT0FBTyxXQUFXRCxTQUFxRDtBQUNyRSxXQUFPLGFBQWEsVUFBVUEsT0FBSyxLQUFLRixZQUFVRTtFQUNwRDtBQUNGO0FDM0JBLElBQU1DLFNBQU87QUFDYixJQUFNSixXQUFTLDJCQUEyQkksTUFBSTtBQUM5QyxJQUFNSCxXQUFTLE9BQU8sSUFBSUQsUUFBTTtBQUxoQyxJQUFBRTtBQUFBLElBQUFHO0FBVU8sSUFBTSx1QkFBTixlQUFtQ0EsTUFBQSxjQUN0QkgsT0FBQUQsVUFEc0JJLEtBQWE7RUFRckQsWUFBWTtJQUNWLFVBQVU7SUFDVixhQUFhO0lBQ2I7SUFDQTtJQUNBO0VBQ0YsSUFNSSxDQUFDLEdBQUc7QUFDTixVQUFNLEVBQUUsU0FBUyxZQUFZLE1BQU0sQ0FBQztBQXBCdEMsU0FBa0JILElBQUFBLElBQVU7QUFFNUIsU0FBUyxPQUFPRTtBQUNoQixTQUFTLE9BQU87QUFrQmQsU0FBSyxXQUFXO0FBQ2hCLFNBQUssa0JBQWtCO0VBQ3pCO0VBRUEsT0FBTyxXQUFXRCxTQUErQztBQUMvRCxXQUFPLGFBQWEsVUFBVUEsT0FBSyxLQUFLRixZQUFVRTtFQUNwRDtBQUNGO0FQM0JPLFNBQVMsK0JBQStCO0VBQzdDO0VBQ0E7RUFDQSxpQkFBaUI7RUFDakI7RUFDQTtBQUNGLEdBTWlCO0FBQ2YsUUFBTSxjQUFjLDJCQUEyQixVQUFVLFFBQVE7QUFDakUsTUFBSSxDQUFDLFlBQVksU0FBUztBQUN4QixXQUFPLElBQUkscUJBQXFCO01BQzlCLFNBQVMsa0NBQWtDLGNBQWM7TUFDekQ7TUFDQTtNQUNBLGlCQUFpQixZQUFZO01BQzdCO0lBQ0YsQ0FBQztFQUNIO0FBRUEsUUFBTSxvQkFBMEMsWUFBWTtBQUM1RCxRQUFNLFlBQVksa0JBQWtCLE1BQU07QUFDMUMsUUFBTSxVQUFVLGtCQUFrQixNQUFNO0FBRXhDLFVBQVEsV0FBVztJQUNqQixLQUFLO0FBQ0gsYUFBTywyQkFBMkIsc0JBQXNCO1FBQ3RELGdCQUFnQixlQUFlO1FBQy9CLG1CQUFtQixlQUFlO1FBQ2xDO1FBQ0E7TUFDRixDQUFDO0lBQ0gsS0FBSztBQUNILGFBQU8sSUFBSSwyQkFBMkIsRUFBRSxTQUFTLFlBQVksTUFBTSxDQUFDO0lBQ3RFLEtBQUs7QUFDSCxhQUFPLElBQUksc0JBQXNCLEVBQUUsU0FBUyxZQUFZLE1BQU0sQ0FBQztJQUNqRSxLQUFLLG1CQUFtQjtBQUN0QixZQUFNLGNBQWMseUJBQXlCO1FBQzNDLGtCQUFrQixNQUFNO01BQzFCO0FBQ0EsYUFBTyxJQUFJLDBCQUEwQjtRQUNuQztRQUNBO1FBQ0EsU0FBUyxZQUFZLFVBQVUsWUFBWSxLQUFLLFVBQVU7UUFDMUQ7TUFDRixDQUFDO0lBQ0g7SUFDQSxLQUFLO0FBQ0gsYUFBTyxJQUFJLDJCQUEyQixFQUFFLFNBQVMsWUFBWSxNQUFNLENBQUM7SUFDdEU7QUFDRSxhQUFPLElBQUksMkJBQTJCLEVBQUUsU0FBUyxZQUFZLE1BQU0sQ0FBQztFQUN4RTtBQUNGO0FBRUEsSUFBTSw2QkFBNkJHLGlCQUFFLE9BQU87RUFDMUMsT0FBT0EsaUJBQUUsT0FBTztJQUNkLFNBQVNBLGlCQUFFLE9BQU87SUFDbEIsTUFBTUEsaUJBQUUsT0FBTyxFQUFFLFFBQVE7SUFDekIsT0FBT0EsaUJBQUUsUUFBUSxFQUFFLFFBQVE7SUFDM0IsTUFBTUEsaUJBQUUsTUFBTSxDQUFDQSxpQkFBRSxPQUFPLEdBQUdBLGlCQUFFLE9BQU8sQ0FBQyxDQUFDLEVBQUUsUUFBUTtFQUNsRCxDQUFDO0FBQ0gsQ0FBQztBRHpFTSxTQUFTLGVBQ2RILFNBQ0EsWUFDQTtBQVBGLE1BQUFEO0FBUUUsTUFBSSxhQUFhLFdBQVdDLE9BQUssR0FBRztBQUNsQyxXQUFPQTtFQUNUO0FBRUEsTUFBSSxhQUFhLFdBQVdBLE9BQUssR0FBRztBQUNsQyxXQUFPLCtCQUErQjtNQUNwQyxVQUFVLHVCQUF1QkEsT0FBSztNQUN0QyxhQUFZRCxPQUFBQyxRQUFNLGVBQU4sT0FBQUQsT0FBb0I7TUFDaEMsZ0JBQWdCO01BQ2hCLE9BQU9DO01BQ1A7SUFDRixDQUFDO0VBQ0g7QUFFQSxTQUFPLCtCQUErQjtJQUNwQyxVQUFVLENBQUM7SUFDWCxZQUFZO0lBQ1osZ0JBQ0VBLG1CQUFpQixRQUNiLDJCQUEyQkEsUUFBTSxPQUFPLEtBQ3hDO0lBQ04sT0FBT0E7SUFDUDtFQUNGLENBQUM7QUFDSDtBUzlCTyxTQUFTLHVCQUF1QkEsU0FBOEI7QUFDbkUsTUFBSUEsUUFBTSxTQUFTLFFBQVc7QUFDNUIsV0FBT0EsUUFBTTtFQUNmO0FBQ0EsTUFBSUEsUUFBTSxnQkFBZ0IsTUFBTTtBQUM5QixRQUFJO0FBQ0YsYUFBTyxLQUFLLE1BQU1BLFFBQU0sWUFBWTtJQUN0QyxTQUFRLEdBQUE7QUFDTixhQUFPQSxRQUFNO0lBQ2Y7RUFDRjtBQUNBLFNBQU8sQ0FBQztBQUNWO0FDWk8sSUFBTSw2QkFBNkI7QUFFbkMsU0FBUyxnQkFBZ0IsU0FBNkM7QUFDM0UsUUFBTSxTQUFTLHdCQUF3QjtJQUNyQyxRQUFRLDBCQUEwQjtFQUNwQztBQUNBLFNBQU8sT0FBTyxVQUFVLE9BQU8sT0FBTztBQUN4QztBQUVBLElBQU0sMEJBQTBCRyxpQkFBRSxNQUFNO0VBQ3RDQSxpQkFBRSxRQUFRLFNBQVM7RUFDbkJBLGlCQUFFLFFBQVEsTUFBTTtBQUNsQixDQUFDO0FDR00sSUFBTSx1QkFBTixNQUEyQjtFQUNoQyxZQUE2QkMsU0FBb0M7QUFBcEMsU0FBQSxTQUFBQTtFQUFxQztFQUVsRSxNQUFNLHFCQUE0RDtBQUNoRSxRQUFJO0FBQ0YsWUFBTSxFQUFFLE1BQU0sSUFBSSxNQUFNLFdBQVc7UUFDakMsS0FBSyxHQUFHLEtBQUssT0FBTyxPQUFPO1FBQzNCLFNBQVMsTUFBTSxRQUFRLEtBQUssT0FBTyxRQUFRLENBQUM7UUFDNUMsMkJBQTJCO1VBQ3pCO1FBQ0Y7UUFDQSx1QkFBdUIsK0JBQStCO1VBQ3BELGFBQWFELGlCQUFFLElBQUk7VUFDbkIsZ0JBQWdCLENBQUEsU0FBUTtRQUMxQixDQUFDO1FBQ0QsT0FBTyxLQUFLLE9BQU87TUFDckIsQ0FBQztBQUVELGFBQU87SUFDVCxTQUFTSCxTQUFPO0FBQ2QsWUFBTSxlQUFlQSxPQUFLO0lBQzVCO0VBQ0Y7QUFDRjtBQUVBLElBQU0sMENBQTBDRyxpQkFBRSxPQUFPO0VBQ3ZELHNCQUFzQkEsaUJBQUUsUUFBUSxJQUFJO0VBQ3BDLFVBQVVBLGlCQUFFLE9BQU87RUFDbkIsU0FBU0EsaUJBQUUsT0FBTztBQUNwQixDQUFDO0FBRUQsSUFBTSxvQ0FBb0NBLGlCQUN2QyxPQUFPO0VBQ04sT0FBT0EsaUJBQUUsT0FBTztFQUNoQixRQUFRQSxpQkFBRSxPQUFPO0VBQ2pCLGtCQUFrQkEsaUJBQUUsT0FBTyxFQUFFLFFBQVE7RUFDckMsbUJBQW1CQSxpQkFBRSxPQUFPLEVBQUUsUUFBUTtBQUN4QyxDQUFDLEVBQ0EsVUFBVSxDQUFDLEVBQUUsT0FBTyxRQUFRLGtCQUFrQixrQkFBa0IsT0FBTztFQUN0RTtFQUNBO0VBQ0EsR0FBSSxtQkFBbUIsRUFBRSxtQkFBbUIsaUJBQWlCLElBQUksQ0FBQztFQUNsRSxHQUFJLG9CQUNBLEVBQUUsMEJBQTBCLGtCQUFrQixJQUM5QyxDQUFDO0FBQ1AsRUFBRTtBQUVKLElBQU0sa0NBQWtDQSxpQkFBRSxPQUFPO0VBQy9DLElBQUlBLGlCQUFFLE9BQU87RUFDYixNQUFNQSxpQkFBRSxPQUFPO0VBQ2YsYUFBYUEsaUJBQUUsT0FBTyxFQUFFLFFBQVE7RUFDaEMsU0FBUyxrQ0FBa0MsUUFBUTtFQUNuRCxlQUFlO0VBQ2YsV0FBV0EsaUJBQUUsS0FBSyxDQUFDLFlBQVksYUFBYSxPQUFPLENBQUMsRUFBRSxRQUFRO0FBQ2hFLENBQUM7QUFFRCxJQUFNLDZCQUE2QkEsaUJBQUUsT0FBTztFQUMxQyxRQUFRQSxpQkFBRSxNQUFNLCtCQUErQjtBQUNqRCxDQUFDO0FDL0NNLElBQU0sdUJBQU4sTUFBc0Q7RUFJM0QsWUFDVyxTQUNRQyxTQUNqQjtBQUZTLFNBQUEsVUFBQTtBQUNRLFNBQUEsU0FBQUE7QUFMbkIsU0FBUyx1QkFBdUI7QUFDaEMsU0FBUyxnQkFBZ0IsRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFFO0VBS3RDO0VBRUgsSUFBSSxXQUFtQjtBQUNyQixXQUFPLEtBQUssT0FBTztFQUNyQjtFQUVBLE1BQWMsUUFBUSxTQUF1RDtBQUMzRSxVQUFNLEVBQUUsYUFBYSxjQUFjLEdBQUcscUJBQXFCLElBQUk7QUFFL0QsV0FBTztNQUNMLE1BQU0sS0FBSyxxQkFBcUIsb0JBQW9CO01BQ3BELFVBQVUsQ0FBQztJQUNiO0VBQ0Y7RUFFQSxNQUFNLFdBQ0osU0FDNkQ7QUFDN0QsVUFBTSxFQUFFLE1BQU0sU0FBUyxJQUFJLE1BQU0sS0FBSyxRQUFRLE9BQU87QUFDckQsVUFBTSxFQUFFLFlBQVksSUFBSTtBQUV4QixVQUFNLGtCQUFrQixNQUFNQyxRQUFRLEtBQUssT0FBTyxRQUFRLENBQUM7QUFFM0QsUUFBSTtBQUNGLFlBQU07UUFDSjtRQUNBLE9BQU87UUFDUCxVQUFVO01BQ1osSUFBSSxNQUFNLGNBQWM7UUFDdEIsS0FBSyxLQUFLLE9BQU87UUFDakIsU0FBUztVQUNQO1VBQ0EsUUFBUTtVQUNSLEtBQUssc0JBQXNCLEtBQUssU0FBUyxLQUFLO1VBQzlDLE1BQU1BLFFBQVEsS0FBSyxPQUFPLFdBQVc7UUFDdkM7UUFDQSxNQUFNO1FBQ04sMkJBQTJCQywwQkFBMEJILGlCQUFFLElBQUksQ0FBQztRQUM1RCx1QkFBdUJJLCtCQUErQjtVQUNwRCxhQUFhSixpQkFBRSxJQUFJO1VBQ25CLGdCQUFnQixDQUFBLFNBQVE7UUFDMUIsQ0FBQztRQUNELEdBQUksZUFBZSxFQUFFLFlBQVk7UUFDakMsT0FBTyxLQUFLLE9BQU87TUFDckIsQ0FBQztBQUVELGFBQU87UUFDTCxHQUFHO1FBQ0gsU0FBUyxFQUFFLE1BQU0sS0FBSztRQUN0QixVQUFVLEVBQUUsU0FBUyxpQkFBaUIsTUFBTSxZQUFZO1FBQ3hEO01BQ0Y7SUFDRixTQUFTSCxTQUFPO0FBQ2QsWUFBTSxlQUFlQSxTQUFPLGdCQUFnQixlQUFlLENBQUM7SUFDOUQ7RUFDRjtFQUVBLE1BQU0sU0FDSixTQUMyRDtBQUMzRCxVQUFNLEVBQUUsTUFBTSxTQUFTLElBQUksTUFBTSxLQUFLLFFBQVEsT0FBTztBQUNyRCxVQUFNLEVBQUUsWUFBWSxJQUFJO0FBRXhCLFVBQU0sa0JBQWtCLE1BQU1LLFFBQVEsS0FBSyxPQUFPLFFBQVEsQ0FBQztBQUUzRCxRQUFJO0FBQ0YsWUFBTSxFQUFFLE9BQU8sVUFBVSxnQkFBZ0IsSUFBSSxNQUFNLGNBQWM7UUFDL0QsS0FBSyxLQUFLLE9BQU87UUFDakIsU0FBUztVQUNQO1VBQ0EsUUFBUTtVQUNSLEtBQUssc0JBQXNCLEtBQUssU0FBUyxJQUFJO1VBQzdDLE1BQU1BLFFBQVEsS0FBSyxPQUFPLFdBQVc7UUFDdkM7UUFDQSxNQUFNO1FBQ04sMkJBQTJCLGlDQUFpQ0YsaUJBQUUsSUFBSSxDQUFDO1FBQ25FLHVCQUF1QkksK0JBQStCO1VBQ3BELGFBQWFKLGlCQUFFLElBQUk7VUFDbkIsZ0JBQWdCLENBQUEsU0FBUTtRQUMxQixDQUFDO1FBQ0QsR0FBSSxlQUFlLEVBQUUsWUFBWTtRQUNqQyxPQUFPLEtBQUssT0FBTztNQUNyQixDQUFDO0FBRUQsYUFBTztRQUNMLFFBQVEsU0FBUztVQUNmLElBQUksZ0JBR0Y7WUFDQSxNQUFNLFlBQVk7QUFDaEIsa0JBQUksU0FBUyxTQUFTLEdBQUc7QUFDdkIsMkJBQVcsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLFNBQVMsQ0FBQztjQUN2RDtZQUNGO1lBQ0EsVUFBVSxPQUFPLFlBQVk7QUFDM0Isa0JBQUksTUFBTSxTQUFTO0FBQ2pCLHNCQUFNLGFBQWEsTUFBTTtBQUl6QixvQkFBSSxXQUFXLFNBQVMsU0FBUyxDQUFDLFFBQVEsa0JBQWtCO0FBQzFEO2dCQUNGO0FBRUEsb0JBQ0UsV0FBVyxTQUFTLHVCQUNwQixXQUFXLGFBQ1gsT0FBTyxXQUFXLGNBQWMsVUFDaEM7QUFDQSw2QkFBVyxZQUFZLElBQUksS0FBSyxXQUFXLFNBQVM7Z0JBQ3REO0FBRUEsMkJBQVcsUUFBUSxVQUFVO2NBQy9CLE9BQU87QUFDTCwyQkFBVztrQkFDUixNQUE2QztnQkFDaEQ7Y0FDRjtZQUNGO1VBQ0YsQ0FBQztRQUNIO1FBQ0EsU0FBUyxFQUFFLE1BQU0sS0FBSztRQUN0QixVQUFVLEVBQUUsU0FBUyxnQkFBZ0I7TUFDdkM7SUFDRixTQUFTSCxTQUFPO0FBQ2QsWUFBTSxlQUFlQSxTQUFPLGdCQUFnQixlQUFlLENBQUM7SUFDOUQ7RUFDRjtFQUVRLFdBQVcsTUFBZTtBQUNoQyxXQUNFLFFBQVEsT0FBTyxTQUFTLFlBQVksVUFBVSxRQUFRLEtBQUssU0FBUztFQUV4RTs7Ozs7OztFQVFRLHFCQUFxQixTQUFxQztBQUNoRSxlQUFXLFdBQVcsUUFBUSxRQUFRO0FBQ3BDLGlCQUFXLFFBQVEsUUFBUSxTQUFTO0FBQ2xDLFlBQUksS0FBSyxXQUFXLElBQUksR0FBRztBQUN6QixnQkFBTSxXQUFXO0FBSWpCLGNBQUksU0FBUyxnQkFBZ0IsWUFBWTtBQUN2QyxrQkFBTSxTQUFTLFdBQVcsS0FBSyxTQUFTLElBQUk7QUFDNUMsa0JBQU0sYUFBYSxPQUFPLEtBQUssTUFBTSxFQUFFLFNBQVMsUUFBUTtBQUN4RCxxQkFBUyxPQUFPLElBQUk7Y0FDbEIsUUFBUSxTQUFTLGFBQWEsMEJBQTBCLFdBQVcsVUFBVTtZQUMvRTtVQUNGO1FBQ0Y7TUFDRjtJQUNGO0FBQ0EsV0FBTztFQUNUO0VBRVEsU0FBUztBQUNmLFdBQU8sR0FBRyxLQUFLLE9BQU8sT0FBTztFQUMvQjtFQUVRLHNCQUFzQixTQUFpQixXQUFvQjtBQUNqRSxXQUFPO01BQ0wsMkNBQTJDO01BQzNDLHdCQUF3QjtNQUN4QiwrQkFBK0IsT0FBTyxTQUFTO0lBQ2pEO0VBQ0Y7QUFDRjtBQ2xNTyxJQUFNLHdCQUFOLE1BQWdFO0VBS3JFLFlBQ1csU0FDUUksU0FJakI7QUFMUyxTQUFBLFVBQUE7QUFDUSxTQUFBLFNBQUFBO0FBTm5CLFNBQVMsdUJBQXVCO0FBQ2hDLFNBQVMsdUJBQXVCO0FBQ2hDLFNBQVMsd0JBQXdCO0VBUTlCO0VBRUgsSUFBSSxXQUFtQjtBQUNyQixXQUFPLEtBQUssT0FBTztFQUNyQjtFQUVBLE1BQU0sUUFBUTtJQUNaO0lBQ0E7SUFDQTtJQUNBO0VBQ0YsR0FFRTtBQXZDSixRQUFBTDtBQXdDSSxVQUFNLGtCQUFrQixNQUFNTSxRQUFRLEtBQUssT0FBTyxRQUFRLENBQUM7QUFDM0QsUUFBSTtBQUNGLFlBQU07UUFDSjtRQUNBLE9BQU87UUFDUDtNQUNGLElBQUksTUFBTUcsY0FBYztRQUN0QixLQUFLLEtBQUssT0FBTztRQUNqQixTQUFTQztVQUNQO1VBQ0EsV0FBQSxPQUFBLFVBQVcsQ0FBQztVQUNaLEtBQUssc0JBQXNCO1VBQzNCLE1BQU1KLFFBQVEsS0FBSyxPQUFPLFdBQVc7UUFDdkM7UUFDQSxNQUFNO1VBQ0osT0FBTyxPQUFPLFdBQVcsSUFBSSxPQUFPLENBQUMsSUFBSTtVQUN6QyxHQUFJLGtCQUFrQixFQUFFLGdCQUFnQixJQUFJLENBQUM7UUFDL0M7UUFDQSwyQkFBMkJDO1VBQ3pCO1FBQ0Y7UUFDQSx1QkFBdUJDLCtCQUErQjtVQUNwRCxhQUFhSixpQkFBRSxJQUFJO1VBQ25CLGdCQUFnQixDQUFBLFNBQVE7UUFDMUIsQ0FBQztRQUNELEdBQUksZUFBZSxFQUFFLFlBQVk7UUFDakMsT0FBTyxLQUFLLE9BQU87TUFDckIsQ0FBQztBQUVELGFBQU87UUFDTCxZQUFZLGFBQWE7UUFDekIsUUFBT0osT0FBQSxhQUFhLFVBQWIsT0FBQUEsT0FBc0I7UUFDN0Isa0JBQ0UsYUFBYTtRQUNmLFVBQVUsRUFBRSxTQUFTLGlCQUFpQixNQUFNLFNBQVM7TUFDdkQ7SUFDRixTQUFTQyxTQUFPO0FBQ2QsWUFBTSxlQUFlQSxTQUFPLGdCQUFnQixlQUFlLENBQUM7SUFDOUQ7RUFDRjtFQUVRLFNBQVM7QUFDZixXQUFPLEdBQUcsS0FBSyxPQUFPLE9BQU87RUFDL0I7RUFFUSx3QkFBd0I7QUFDOUIsV0FBTztNQUNMLDRDQUE0QztNQUM1QyxlQUFlLEtBQUs7SUFDdEI7RUFDRjtBQUNGO0FBRUEsSUFBTSxpQ0FBaUNHLGlCQUFFLE9BQU87RUFDOUMsWUFBWUEsaUJBQUUsTUFBTUEsaUJBQUUsTUFBTUEsaUJBQUUsT0FBTyxDQUFDLENBQUM7RUFDdkMsT0FBT0EsaUJBQUUsT0FBTyxFQUFFLFFBQVFBLGlCQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsUUFBUTtFQUNoRCxrQkFBa0JBLGlCQUNmLE9BQU9BLGlCQUFFLE9BQU8sR0FBR0EsaUJBQUUsT0FBT0EsaUJBQUUsT0FBTyxHQUFHQSxpQkFBRSxRQUFRLENBQUMsQ0FBQyxFQUNwRCxTQUFTO0FBQ2QsQ0FBQztBQ2pHRCxlQUFzQixxQkFBc0M7QUFGNUQsTUFBQUosTUFBQUc7QUFHRSxRQUFNLFNBQ0pBLE9BQUFILE9BQUEsV0FBVyxFQUFFLFlBQWIsT0FBQSxTQUFBQSxLQUF1QixxQkFBQSxNQUF2QixPQUFBRyxNQUNBLFFBQVEsSUFBSTtBQUVkLE1BQUksQ0FBQyxPQUFPO0FBQ1YsVUFBTSxJQUFJLDJCQUEyQjtNQUNuQyxTQUFTO01BQ1QsWUFBWTtJQUNkLENBQUM7RUFDSDtBQUVBLFNBQU87QUFDVDtBQUVBLGVBQXNCLHFCQUFrRDtBQWpCeEUsTUFBQUg7QUFrQkUsVUFBT0EsT0FBQSxXQUFXLEVBQUUsWUFBYixPQUFBLFNBQUFBLEtBQXVCLGFBQUE7QUFDaEM7QUFNQSxJQUFNLHlCQUF5QixPQUFPLElBQUkseUJBQXlCO0FBRW5FLFNBQVMsYUFBc0I7QUEzQi9CLE1BQUFBLE1BQUFHLEtBQUE7QUE0QkUsUUFBTSxhQUVGO0FBQ0osVUFBTyxNQUFBQSxPQUFBSCxPQUFBLFdBQVcsc0JBQXNCLE1BQWpDLE9BQUEsU0FBQUEsS0FBb0MsUUFBcEMsT0FBQSxTQUFBRyxJQUFBLEtBQUFILElBQUFBLE1BQUEsT0FBQSxLQUErQyxDQUFDO0FBQ3pEO0Fma0RBLElBQU0sOEJBQThCO0FBSzdCLFNBQVMsc0JBQ2QsVUFBbUMsQ0FBQyxHQUNuQjtBQXpGbkIsTUFBQUEsTUFBQUc7QUEwRkUsTUFBSSxrQkFBZ0U7QUFDcEUsTUFBSSxnQkFBcUQ7QUFDekQsUUFBTSxzQkFDSkgsT0FBQSxRQUFRLCtCQUFSLE9BQUFBLE9BQXNDLE1BQU8sS0FBSztBQUNwRCxNQUFJLGdCQUFnQjtBQUVwQixRQUFNLFdBQ0pHLE1BQUEscUJBQXFCLFFBQVEsT0FBTyxNQUFwQyxPQUFBQSxNQUNBO0FBRUYsUUFBTSxhQUFhLFlBQVk7QUFDN0IsVUFBTSxPQUFPLE1BQU0sb0JBQW9CLE9BQU87QUFDOUMsUUFBSSxNQUFNO0FBQ1IsYUFBTztRQUNMLGVBQWUsVUFBVSxLQUFLLEtBQUs7UUFDbkMsK0JBQStCO1FBQy9CLENBQUMsMEJBQTBCLEdBQUcsS0FBSztRQUNuQyxHQUFHLFFBQVE7TUFDYjtJQUNGO0FBRUEsVUFBTSwyQkFBMkIsc0JBQXNCO01BQ3JELGdCQUFnQjtNQUNoQixtQkFBbUI7TUFDbkIsWUFBWTtJQUNkLENBQUM7RUFDSDtBQUVBLFFBQU0sb0JBQW9CLE1BQU07QUFDOUIsVUFBTSxlQUFlLG9CQUFvQjtNQUN2QyxjQUFjO01BQ2QseUJBQXlCO0lBQzNCLENBQUM7QUFDRCxVQUFNLGNBQWMsb0JBQW9CO01BQ3RDLGNBQWM7TUFDZCx5QkFBeUI7SUFDM0IsQ0FBQztBQUNELFVBQU0sU0FBUyxvQkFBb0I7TUFDakMsY0FBYztNQUNkLHlCQUF5QjtJQUMzQixDQUFDO0FBRUQsV0FBTyxZQUFZO0FBQ2pCLFlBQU0sWUFBWSxNQUFNLG1CQUFtQjtBQUMzQyxhQUFPO1FBQ0wsR0FBSSxnQkFBZ0IsRUFBRSx5QkFBeUIsYUFBYTtRQUM1RCxHQUFJLGVBQWUsRUFBRSx1QkFBdUIsWUFBWTtRQUN4RCxHQUFJLFVBQVUsRUFBRSxrQkFBa0IsT0FBTztRQUN6QyxHQUFJLGFBQWEsRUFBRSxzQkFBc0IsVUFBVTtNQUNyRDtJQUNGO0VBQ0Y7QUFFQSxRQUFNLHNCQUFzQixDQUFDLFlBQTRCO0FBQ3ZELFdBQU8sSUFBSSxxQkFBcUIsU0FBUztNQUN2QyxVQUFVO01BQ1Y7TUFDQSxTQUFTO01BQ1QsT0FBTyxRQUFRO01BQ2YsYUFBYSxrQkFBa0I7SUFDakMsQ0FBQztFQUNIO0FBRUEsUUFBTSxxQkFBcUIsWUFBWTtBQXpKekMsUUFBQUgsTUFBQUcsS0FBQTtBQTBKSSxVQUFNUSxRQUFNLE1BQUFSLE9BQUFILE9BQUEsUUFBUSxjQUFSLE9BQUEsU0FBQUEsS0FBbUIsZ0JBQW5CLE9BQUEsU0FBQUcsSUFBQSxLQUFBSCxJQUFBQSxFQUFtQyxRQUFBLE1BQW5DLE9BQUEsS0FBZ0QsS0FBSyxJQUFJO0FBQ3JFLFFBQUksQ0FBQyxtQkFBbUJXLE9BQU0sZ0JBQWdCLG9CQUFvQjtBQUNoRSxzQkFBZ0JBO0FBRWhCLHdCQUFrQixJQUFJLHFCQUFxQjtRQUN6QztRQUNBLFNBQVM7UUFDVCxPQUFPLFFBQVE7TUFDakIsQ0FBQyxFQUNFLG1CQUFtQixFQUNuQixLQUFLLENBQUEsYUFBWTtBQUNoQix3QkFBZ0I7QUFDaEIsZUFBTztNQUNULENBQUMsRUFDQSxNQUFNLE9BQU9WLFlBQW1CO0FBQy9CLGNBQU0sZUFBZUEsU0FBTyxnQkFBZ0IsTUFBTSxXQUFXLENBQUMsQ0FBQztNQUNqRSxDQUFDO0lBQ0w7QUFFQSxXQUFPLGdCQUFnQixRQUFRLFFBQVEsYUFBYSxJQUFJO0VBQzFEO0FBRUEsUUFBTSxXQUFXLFNBQVUsU0FBeUI7QUFDbEQsUUFBSSxZQUFZO0FBQ2QsWUFBTSxJQUFJO1FBQ1I7TUFDRjtJQUNGO0FBRUEsV0FBTyxvQkFBb0IsT0FBTztFQUNwQztBQUVBLFdBQVMscUJBQXFCO0FBQzlCLFdBQVMsYUFBYSxDQUFDLFlBQW9CO0FBQ3pDLFVBQU0sSUFBSSxpQkFBaUIsRUFBRSxTQUFTLFdBQVcsYUFBYSxDQUFDO0VBQ2pFO0FBQ0EsV0FBUyxnQkFBZ0I7QUFDekIsV0FBUyxxQkFBcUIsQ0FBQyxZQUFxQztBQUNsRSxXQUFPLElBQUksc0JBQXNCLFNBQVM7TUFDeEMsVUFBVTtNQUNWO01BQ0EsU0FBUztNQUNULE9BQU8sUUFBUTtNQUNmLGFBQWEsa0JBQWtCO0lBQ2pDLENBQUM7RUFDSDtBQUVBLFNBQU87QUFDVDtBQUVPLElBQU0sVUFBVSxzQkFBc0I7QUFFN0MsZUFBc0Isb0JBQ3BCLFNBSVE7QUFDUixRQUFNLFNBQVMsb0JBQW9CO0lBQ2pDLGNBQWMsUUFBUTtJQUN0Qix5QkFBeUI7RUFDM0IsQ0FBQztBQUVELE1BQUksUUFBUTtBQUNWLFdBQU87TUFDTCxPQUFPO01BQ1AsWUFBWTtJQUNkO0VBQ0Y7QUFFQSxNQUFJO0FBQ0YsVUFBTSxZQUFZLE1BQU0sbUJBQW1CO0FBQzNDLFdBQU87TUFDTCxPQUFPO01BQ1AsWUFBWTtJQUNkO0VBQ0YsU0FBUSxHQUFBO0FBQ04sV0FBTztFQUNUO0FBQ0Y7OztBZ0J2Tk8sSUFBTSxjQUFjLE9BQU8sZUFBZSxXQUFXLGFBQWE7OztBQ0RsRSxJQUFNVyxXQUFVOzs7QUNDdkIsSUFBTSxLQUFLO0FBa0JMLFNBQVUsd0JBQ2QsWUFBa0I7QUFFbEIsTUFBTSxtQkFBbUIsb0JBQUksSUFBWSxDQUFDLFVBQVUsQ0FBQztBQUNyRCxNQUFNLG1CQUFtQixvQkFBSSxJQUFHO0FBRWhDLE1BQU0saUJBQWlCLFdBQVcsTUFBTSxFQUFFO0FBQzFDLE1BQUksQ0FBQyxnQkFBZ0I7QUFFbkIsV0FBTyxXQUFBO0FBQU0sYUFBQTtJQUFBOztBQUdmLE1BQU0sbUJBQW1CO0lBQ3ZCLE9BQU8sQ0FBQyxlQUFlLENBQUM7SUFDeEIsT0FBTyxDQUFDLGVBQWUsQ0FBQztJQUN4QixPQUFPLENBQUMsZUFBZSxDQUFDO0lBQ3hCLFlBQVksZUFBZSxDQUFDOztBQUk5QixNQUFJLGlCQUFpQixjQUFjLE1BQU07QUFDdkMsV0FBTyxTQUFTLGFBQWEsZUFBcUI7QUFDaEQsYUFBTyxrQkFBa0I7SUFDM0I7O0FBR0YsV0FBUyxRQUFRQyxJQUFTO0FBQ3hCLHFCQUFpQixJQUFJQSxFQUFDO0FBQ3RCLFdBQU87RUFDVDtBQUVBLFdBQVMsUUFBUUEsSUFBUztBQUN4QixxQkFBaUIsSUFBSUEsRUFBQztBQUN0QixXQUFPO0VBQ1Q7QUFFQSxTQUFPLFNBQVNDLGNBQWEsZUFBcUI7QUFDaEQsUUFBSSxpQkFBaUIsSUFBSSxhQUFhLEdBQUc7QUFDdkMsYUFBTzs7QUFHVCxRQUFJLGlCQUFpQixJQUFJLGFBQWEsR0FBRztBQUN2QyxhQUFPOztBQUdULFFBQU0scUJBQXFCLGNBQWMsTUFBTSxFQUFFO0FBQ2pELFFBQUksQ0FBQyxvQkFBb0I7QUFHdkIsYUFBTyxRQUFRLGFBQWE7O0FBRzlCLFFBQU0sc0JBQXNCO01BQzFCLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztNQUM1QixPQUFPLENBQUMsbUJBQW1CLENBQUM7TUFDNUIsT0FBTyxDQUFDLG1CQUFtQixDQUFDO01BQzVCLFlBQVksbUJBQW1CLENBQUM7O0FBSWxDLFFBQUksb0JBQW9CLGNBQWMsTUFBTTtBQUMxQyxhQUFPLFFBQVEsYUFBYTs7QUFJOUIsUUFBSSxpQkFBaUIsVUFBVSxvQkFBb0IsT0FBTztBQUN4RCxhQUFPLFFBQVEsYUFBYTs7QUFHOUIsUUFBSSxpQkFBaUIsVUFBVSxHQUFHO0FBQ2hDLFVBQ0UsaUJBQWlCLFVBQVUsb0JBQW9CLFNBQy9DLGlCQUFpQixTQUFTLG9CQUFvQixPQUM5QztBQUNBLGVBQU8sUUFBUSxhQUFhOztBQUc5QixhQUFPLFFBQVEsYUFBYTs7QUFHOUIsUUFBSSxpQkFBaUIsU0FBUyxvQkFBb0IsT0FBTztBQUN2RCxhQUFPLFFBQVEsYUFBYTs7QUFHOUIsV0FBTyxRQUFRLGFBQWE7RUFDOUI7QUFDRjtBQWlCTyxJQUFNLGVBQWUsd0JBQXdCQyxRQUFPOzs7QUNsSDNELElBQU0sUUFBUUMsU0FBUSxNQUFNLEdBQUcsRUFBRSxDQUFDO0FBQ2xDLElBQU0sK0JBQStCLE9BQU8sSUFDMUMsMEJBQXdCLEtBQU87QUFHakMsSUFBTSxVQUFVO0FBRVYsU0FBVSxlQUNkLE1BQ0EsVUFDQSxNQUNBLGVBQXFCOztBQUFyQixNQUFBLGtCQUFBLFFBQUE7QUFBQSxvQkFBQTtFQUFxQjtBQUVyQixNQUFNLE1BQU8sUUFBUSw0QkFBNEIsS0FBSUMsT0FBQSxRQUNuRCw0QkFBNEIsT0FDN0IsUUFBQUEsU0FBQSxTQUFBQSxPQUFJO0lBQ0gsU0FBU0Q7O0FBR1gsTUFBSSxDQUFDLGlCQUFpQixJQUFJLElBQUksR0FBRztBQUUvQixRQUFNLE1BQU0sSUFBSSxNQUNkLGtFQUFnRSxJQUFNO0FBRXhFLFNBQUssTUFBTSxJQUFJLFNBQVMsSUFBSSxPQUFPO0FBQ25DLFdBQU87O0FBR1QsTUFBSSxJQUFJLFlBQVlBLFVBQVM7QUFFM0IsUUFBTSxNQUFNLElBQUksTUFDZCxrREFBZ0QsSUFBSSxVQUFPLFVBQVEsT0FBSSxnREFBOENBLFFBQVM7QUFFaEksU0FBSyxNQUFNLElBQUksU0FBUyxJQUFJLE9BQU87QUFDbkMsV0FBTzs7QUFHVCxNQUFJLElBQUksSUFBSTtBQUNaLE9BQUssTUFDSCxpREFBK0MsT0FBSSxPQUFLQSxXQUFPLEdBQUc7QUFHcEUsU0FBTztBQUNUO0FBRU0sU0FBVSxVQUNkLE1BQVU7O0FBRVYsTUFBTSxpQkFBZ0JDLE9BQUEsUUFBUSw0QkFBNEIsT0FBQyxRQUFBQSxTQUFBLFNBQUEsU0FBQUEsS0FBRTtBQUM3RCxNQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxhQUFhLEdBQUc7QUFDbEQ7O0FBRUYsVUFBT0MsTUFBQSxRQUFRLDRCQUE0QixPQUFDLFFBQUFBLFFBQUEsU0FBQSxTQUFBQSxJQUFHLElBQUk7QUFDckQ7QUFFTSxTQUFVLGlCQUFpQixNQUEyQixNQUFnQjtBQUMxRSxPQUFLLE1BQ0gsb0RBQWtELE9BQUksT0FBS0YsV0FBTyxHQUFHO0FBRXZFLE1BQU0sTUFBTSxRQUFRLDRCQUE0QjtBQUVoRCxNQUFJLEtBQUs7QUFDUCxXQUFPLElBQUksSUFBSTs7QUFFbkI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0RBLElBQUE7O0dBQUEsV0FBQTtBQUdFLGFBQUFHLHFCQUFZLE9BQTZCO0FBQ3ZDLFdBQUssYUFBYSxNQUFNLGFBQWE7SUFDdkM7QUFFTyxJQUFBQSxxQkFBQSxVQUFBLFFBQVAsV0FBQTtBQUFhLFVBQUEsT0FBQSxDQUFBO2VBQUEsS0FBQSxHQUFBLEtBQUEsVUFBQSxRQUFBLE1BQWM7QUFBZCxhQUFBLEVBQUEsSUFBQSxVQUFBLEVBQUE7O0FBQ1gsYUFBTyxTQUFTLFNBQVMsS0FBSyxZQUFZLElBQUk7SUFDaEQ7QUFFTyxJQUFBQSxxQkFBQSxVQUFBLFFBQVAsV0FBQTtBQUFhLFVBQUEsT0FBQSxDQUFBO2VBQUEsS0FBQSxHQUFBLEtBQUEsVUFBQSxRQUFBLE1BQWM7QUFBZCxhQUFBLEVBQUEsSUFBQSxVQUFBLEVBQUE7O0FBQ1gsYUFBTyxTQUFTLFNBQVMsS0FBSyxZQUFZLElBQUk7SUFDaEQ7QUFFTyxJQUFBQSxxQkFBQSxVQUFBLE9BQVAsV0FBQTtBQUFZLFVBQUEsT0FBQSxDQUFBO2VBQUEsS0FBQSxHQUFBLEtBQUEsVUFBQSxRQUFBLE1BQWM7QUFBZCxhQUFBLEVBQUEsSUFBQSxVQUFBLEVBQUE7O0FBQ1YsYUFBTyxTQUFTLFFBQVEsS0FBSyxZQUFZLElBQUk7SUFDL0M7QUFFTyxJQUFBQSxxQkFBQSxVQUFBLE9BQVAsV0FBQTtBQUFZLFVBQUEsT0FBQSxDQUFBO2VBQUEsS0FBQSxHQUFBLEtBQUEsVUFBQSxRQUFBLE1BQWM7QUFBZCxhQUFBLEVBQUEsSUFBQSxVQUFBLEVBQUE7O0FBQ1YsYUFBTyxTQUFTLFFBQVEsS0FBSyxZQUFZLElBQUk7SUFDL0M7QUFFTyxJQUFBQSxxQkFBQSxVQUFBLFVBQVAsV0FBQTtBQUFlLFVBQUEsT0FBQSxDQUFBO2VBQUEsS0FBQSxHQUFBLEtBQUEsVUFBQSxRQUFBLE1BQWM7QUFBZCxhQUFBLEVBQUEsSUFBQSxVQUFBLEVBQUE7O0FBQ2IsYUFBTyxTQUFTLFdBQVcsS0FBSyxZQUFZLElBQUk7SUFDbEQ7QUFDRixXQUFBQTtFQUFBLEdBMUJBOztBQTRCQSxTQUFTLFNBQ1AsVUFDQSxXQUNBLE1BQVM7QUFFVCxNQUFNLFNBQVMsVUFBVSxNQUFNO0FBRS9CLE1BQUksQ0FBQyxRQUFRO0FBQ1g7O0FBR0YsT0FBSyxRQUFRLFNBQVM7QUFDdEIsU0FBTyxPQUFPLFFBQVEsRUFBQyxNQUFoQixRQUFNLGNBQUEsQ0FBQSxHQUFBLE9BQWUsSUFBb0MsR0FBQSxLQUFBLENBQUE7QUFDbEU7OztBQ0hBLElBQVk7Q0FBWixTQUFZQyxlQUFZO0FBRXRCLEVBQUFBLGNBQUFBLGNBQUEsTUFBQSxJQUFBLENBQUEsSUFBQTtBQUdBLEVBQUFBLGNBQUFBLGNBQUEsT0FBQSxJQUFBLEVBQUEsSUFBQTtBQUdBLEVBQUFBLGNBQUFBLGNBQUEsTUFBQSxJQUFBLEVBQUEsSUFBQTtBQUdBLEVBQUFBLGNBQUFBLGNBQUEsTUFBQSxJQUFBLEVBQUEsSUFBQTtBQUdBLEVBQUFBLGNBQUFBLGNBQUEsT0FBQSxJQUFBLEVBQUEsSUFBQTtBQU1BLEVBQUFBLGNBQUFBLGNBQUEsU0FBQSxJQUFBLEVBQUEsSUFBQTtBQUdBLEVBQUFBLGNBQUFBLGNBQUEsS0FBQSxJQUFBLElBQUEsSUFBQTtBQUNGLEdBeEJZLGlCQUFBLGVBQVksQ0FBQSxFQUFBOzs7QUNoRGxCLFNBQVUseUJBQ2QsVUFDQSxRQUFrQjtBQUVsQixNQUFJLFdBQVcsYUFBYSxNQUFNO0FBQ2hDLGVBQVcsYUFBYTthQUNmLFdBQVcsYUFBYSxLQUFLO0FBQ3RDLGVBQVcsYUFBYTs7QUFJMUIsV0FBUyxVQUFVLENBQUE7QUFFbkIsV0FBUyxZQUNQLFVBQ0EsVUFBc0I7QUFFdEIsUUFBTSxVQUFVLE9BQU8sUUFBUTtBQUUvQixRQUFJLE9BQU8sWUFBWSxjQUFjLFlBQVksVUFBVTtBQUN6RCxhQUFPLFFBQVEsS0FBSyxNQUFNOztBQUU1QixXQUFPLFdBQUE7SUFBYTtFQUN0QjtBQUVBLFNBQU87SUFDTCxPQUFPLFlBQVksU0FBUyxhQUFhLEtBQUs7SUFDOUMsTUFBTSxZQUFZLFFBQVEsYUFBYSxJQUFJO0lBQzNDLE1BQU0sWUFBWSxRQUFRLGFBQWEsSUFBSTtJQUMzQyxPQUFPLFlBQVksU0FBUyxhQUFhLEtBQUs7SUFDOUMsU0FBUyxZQUFZLFdBQVcsYUFBYSxPQUFPOztBQUV4RDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuQkEsSUFBTSxXQUFXO0FBTWpCLElBQUE7O0dBQUEsV0FBQTtBQWdCRSxhQUFBQyxXQUFBO0FBQ0UsZUFBUyxVQUFVLFVBQTBCO0FBQzNDLGVBQU8sV0FBQTtBQUFVLGNBQUEsT0FBQSxDQUFBO21CQUFBLEtBQUEsR0FBQSxLQUFBLFVBQUEsUUFBQSxNQUFPO0FBQVAsaUJBQUEsRUFBQSxJQUFBLFVBQUEsRUFBQTs7QUFDZixjQUFNLFNBQVMsVUFBVSxNQUFNO0FBRS9CLGNBQUksQ0FBQztBQUFRO0FBQ2IsaUJBQU8sT0FBTyxRQUFRLEVBQUMsTUFBaEIsUUFBTUMsZUFBQSxDQUFBLEdBQUFDLFFBQWMsSUFBSSxHQUFBLEtBQUEsQ0FBQTtRQUNqQztNQUNGO0FBR0EsVUFBTSxPQUFPO0FBSWIsVUFBTSxZQUF3QyxTQUM1QyxRQUNBLG1CQUFtRDs7QUFBbkQsWUFBQSxzQkFBQSxRQUFBO0FBQUEsOEJBQUEsRUFBc0IsVUFBVSxhQUFhLEtBQUk7UUFBRTtBQUVuRCxZQUFJLFdBQVcsTUFBTTtBQUluQixjQUFNLE1BQU0sSUFBSSxNQUNkLG9JQUFvSTtBQUV0SSxlQUFLLE9BQU1DLE9BQUEsSUFBSSxXQUFLLFFBQUFBLFNBQUEsU0FBQUEsT0FBSSxJQUFJLE9BQU87QUFDbkMsaUJBQU87O0FBR1QsWUFBSSxPQUFPLHNCQUFzQixVQUFVO0FBQ3pDLDhCQUFvQjtZQUNsQixVQUFVOzs7QUFJZCxZQUFNLFlBQVksVUFBVSxNQUFNO0FBQ2xDLFlBQU0sWUFBWSwwQkFDaEJDLE1BQUEsa0JBQWtCLGNBQVEsUUFBQUEsUUFBQSxTQUFBQSxNQUFJLGFBQWEsTUFDM0MsTUFBTTtBQUdSLFlBQUksYUFBYSxDQUFDLGtCQUFrQix5QkFBeUI7QUFDM0QsY0FBTSxTQUFRLEtBQUEsSUFBSSxNQUFLLEVBQUcsV0FBSyxRQUFBLE9BQUEsU0FBQSxLQUFJO0FBQ25DLG9CQUFVLEtBQUssNkNBQTJDLEtBQU87QUFDakUsb0JBQVUsS0FDUiwrREFBNkQsS0FBTzs7QUFJeEUsZUFBTyxlQUFlLFFBQVEsV0FBVyxNQUFNLElBQUk7TUFDckQ7QUFFQSxXQUFLLFlBQVk7QUFFakIsV0FBSyxVQUFVLFdBQUE7QUFDYix5QkFBaUIsVUFBVSxJQUFJO01BQ2pDO0FBRUEsV0FBSyx3QkFBd0IsU0FBQyxTQUErQjtBQUMzRCxlQUFPLElBQUksb0JBQW9CLE9BQU87TUFDeEM7QUFFQSxXQUFLLFVBQVUsVUFBVSxTQUFTO0FBQ2xDLFdBQUssUUFBUSxVQUFVLE9BQU87QUFDOUIsV0FBSyxPQUFPLFVBQVUsTUFBTTtBQUM1QixXQUFLLE9BQU8sVUFBVSxNQUFNO0FBQzVCLFdBQUssUUFBUSxVQUFVLE9BQU87SUFDaEM7QUFoRmMsSUFBQUosU0FBQSxXQUFkLFdBQUE7QUFDRSxVQUFJLENBQUMsS0FBSyxXQUFXO0FBQ25CLGFBQUssWUFBWSxJQUFJQSxTQUFPOztBQUc5QixhQUFPLEtBQUs7SUFDZDtBQStGRixXQUFBQTtFQUFBLEdBekdBOzs7O0FDbEJNLFNBQVUsaUJBQWlCLGFBQW1CO0FBT2xELFNBQU8sT0FBTyxJQUFJLFdBQVc7QUFDL0I7QUFFQSxJQUFBOztFQUFBLDRCQUFBO0FBUUUsYUFBQUssYUFBWSxlQUFvQztBQUU5QyxVQUFNLE9BQU87QUFFYixXQUFLLGtCQUFrQixnQkFBZ0IsSUFBSSxJQUFJLGFBQWEsSUFBSSxvQkFBSSxJQUFHO0FBRXZFLFdBQUssV0FBVyxTQUFDLEtBQVc7QUFBSyxlQUFBLEtBQUssZ0JBQWdCLElBQUksR0FBRztNQUE1QjtBQUVqQyxXQUFLLFdBQVcsU0FBQyxLQUFhLE9BQWM7QUFDMUMsWUFBTSxVQUFVLElBQUlBLGFBQVksS0FBSyxlQUFlO0FBQ3BELGdCQUFRLGdCQUFnQixJQUFJLEtBQUssS0FBSztBQUN0QyxlQUFPO01BQ1Q7QUFFQSxXQUFLLGNBQWMsU0FBQyxLQUFXO0FBQzdCLFlBQU0sVUFBVSxJQUFJQSxhQUFZLEtBQUssZUFBZTtBQUNwRCxnQkFBUSxnQkFBZ0IsT0FBTyxHQUFHO0FBQ2xDLGVBQU87TUFDVDtJQUNGO0FBeUJGLFdBQUFBO0VBQUEsR0FwREE7O0FBdURPLElBQU0sZUFBd0IsSUFBSSxZQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pFcEQsSUFBQTs7R0FBQSxXQUFBO0FBQUEsYUFBQUMsc0JBQUE7SUF5QkE7QUF4QkUsSUFBQUEsb0JBQUEsVUFBQSxTQUFBLFdBQUE7QUFDRSxhQUFPO0lBQ1Q7QUFFQSxJQUFBQSxvQkFBQSxVQUFBLE9BQUEsU0FDRSxVQUNBLElBQ0EsU0FBOEI7QUFDOUIsVUFBQSxPQUFBLENBQUE7ZUFBQSxLQUFBLEdBQUEsS0FBQSxVQUFBLFFBQUEsTUFBVTtBQUFWLGFBQUEsS0FBQSxDQUFBLElBQUEsVUFBQSxFQUFBOztBQUVBLGFBQU8sR0FBRyxLQUFJLE1BQVAsSUFBRUMsZUFBQSxDQUFNLE9BQU8sR0FBQUMsUUFBSyxJQUFJLEdBQUEsS0FBQSxDQUFBO0lBQ2pDO0FBRUEsSUFBQUYsb0JBQUEsVUFBQSxPQUFBLFNBQVEsVUFBeUIsUUFBUztBQUN4QyxhQUFPO0lBQ1Q7QUFFQSxJQUFBQSxvQkFBQSxVQUFBLFNBQUEsV0FBQTtBQUNFLGFBQU87SUFDVDtBQUVBLElBQUFBLG9CQUFBLFVBQUEsVUFBQSxXQUFBO0FBQ0UsYUFBTztJQUNUO0FBQ0YsV0FBQUE7RUFBQSxHQXpCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTUEsSUFBTUcsWUFBVztBQUNqQixJQUFNLHVCQUF1QixJQUFJLG1CQUFrQjtBQUtuRCxJQUFBOztHQUFBLFdBQUE7QUFJRSxhQUFBQyxjQUFBO0lBQXVCO0FBR1QsSUFBQUEsWUFBQSxjQUFkLFdBQUE7QUFDRSxVQUFJLENBQUMsS0FBSyxXQUFXO0FBQ25CLGFBQUssWUFBWSxJQUFJQSxZQUFVOztBQUdqQyxhQUFPLEtBQUs7SUFDZDtBQU9PLElBQUFBLFlBQUEsVUFBQSwwQkFBUCxTQUErQixnQkFBOEI7QUFDM0QsYUFBTyxlQUFlRCxXQUFVLGdCQUFnQixRQUFRLFNBQVEsQ0FBRTtJQUNwRTtBQUtPLElBQUFDLFlBQUEsVUFBQSxTQUFQLFdBQUE7QUFDRSxhQUFPLEtBQUssbUJBQWtCLEVBQUcsT0FBTTtJQUN6QztBQVVPLElBQUFBLFlBQUEsVUFBQSxPQUFQLFNBQ0UsU0FDQSxJQUNBLFNBQThCOztBQUM5QixVQUFBLE9BQUEsQ0FBQTtlQUFBLEtBQUEsR0FBQSxLQUFBLFVBQUEsUUFBQSxNQUFVO0FBQVYsYUFBQSxLQUFBLENBQUEsSUFBQSxVQUFBLEVBQUE7O0FBRUEsY0FBT0MsT0FBQSxLQUFLLG1CQUFrQixHQUFHLEtBQUksTUFBQUEsTUFBQUMsZUFBQSxDQUFDLFNBQVMsSUFBSSxPQUFPLEdBQUFDLFFBQUssSUFBSSxHQUFBLEtBQUEsQ0FBQTtJQUNyRTtBQVFPLElBQUFILFlBQUEsVUFBQSxPQUFQLFNBQWUsU0FBa0IsUUFBUztBQUN4QyxhQUFPLEtBQUssbUJBQWtCLEVBQUcsS0FBSyxTQUFTLE1BQU07SUFDdkQ7QUFFUSxJQUFBQSxZQUFBLFVBQUEscUJBQVIsV0FBQTtBQUNFLGFBQU8sVUFBVUQsU0FBUSxLQUFLO0lBQ2hDO0FBR08sSUFBQUMsWUFBQSxVQUFBLFVBQVAsV0FBQTtBQUNFLFdBQUssbUJBQWtCLEVBQUcsUUFBTztBQUNqQyx1QkFBaUJELFdBQVUsUUFBUSxTQUFRLENBQUU7SUFDL0M7QUFDRixXQUFBQztFQUFBLEdBbkVBOzs7O0FDaEJBLElBQVk7Q0FBWixTQUFZSSxhQUFVO0FBRXBCLEVBQUFBLFlBQUFBLFlBQUEsTUFBQSxJQUFBLENBQUEsSUFBQTtBQUVBLEVBQUFBLFlBQUFBLFlBQUEsU0FBQSxJQUFBLENBQUEsSUFBQTtBQUNGLEdBTFksZUFBQSxhQUFVLENBQUEsRUFBQTs7O0FDSWYsSUFBTSxpQkFBaUI7QUFDdkIsSUFBTSxrQkFBa0I7QUFDeEIsSUFBTSx1QkFBb0M7RUFDL0MsU0FBUztFQUNULFFBQVE7RUFDUixZQUFZLFdBQVc7Ozs7QUNNekIsSUFBQTs7R0FBQSxXQUFBO0FBQ0UsYUFBQUMsa0JBQ21CLGNBQWdEO0FBQWhELFVBQUEsaUJBQUEsUUFBQTtBQUFBLHVCQUFBO01BQWdEO0FBQWhELFdBQUEsZUFBQTtJQUNoQjtBQUdILElBQUFBLGtCQUFBLFVBQUEsY0FBQSxXQUFBO0FBQ0UsYUFBTyxLQUFLO0lBQ2Q7QUFHQSxJQUFBQSxrQkFBQSxVQUFBLGVBQUEsU0FBYSxNQUFjLFFBQWU7QUFDeEMsYUFBTztJQUNUO0FBR0EsSUFBQUEsa0JBQUEsVUFBQSxnQkFBQSxTQUFjLGFBQTJCO0FBQ3ZDLGFBQU87SUFDVDtBQUdBLElBQUFBLGtCQUFBLFVBQUEsV0FBQSxTQUFTLE9BQWUsYUFBNEI7QUFDbEQsYUFBTztJQUNUO0FBRUEsSUFBQUEsa0JBQUEsVUFBQSxVQUFBLFNBQVEsT0FBVztBQUNqQixhQUFPO0lBQ1Q7QUFFQSxJQUFBQSxrQkFBQSxVQUFBLFdBQUEsU0FBUyxRQUFjO0FBQ3JCLGFBQU87SUFDVDtBQUdBLElBQUFBLGtCQUFBLFVBQUEsWUFBQSxTQUFVLFNBQW1CO0FBQzNCLGFBQU87SUFDVDtBQUdBLElBQUFBLGtCQUFBLFVBQUEsYUFBQSxTQUFXLE9BQWE7QUFDdEIsYUFBTztJQUNUO0FBR0EsSUFBQUEsa0JBQUEsVUFBQSxNQUFBLFNBQUksVUFBb0I7SUFBUztBQUdqQyxJQUFBQSxrQkFBQSxVQUFBLGNBQUEsV0FBQTtBQUNFLGFBQU87SUFDVDtBQUdBLElBQUFBLGtCQUFBLFVBQUEsa0JBQUEsU0FBZ0IsWUFBdUIsT0FBaUI7SUFBUztBQUNuRSxXQUFBQTtFQUFBLEdBckRBOzs7O0FDSkEsSUFBTSxXQUFXLGlCQUFpQixnQ0FBZ0M7QUFPNUQsU0FBVSxRQUFRLFNBQWdCO0FBQ3RDLFNBQVEsUUFBUSxTQUFTLFFBQVEsS0FBYztBQUNqRDtBQUtNLFNBQVUsZ0JBQWE7QUFDM0IsU0FBTyxRQUFRLFdBQVcsWUFBVyxFQUFHLE9BQU0sQ0FBRTtBQUNsRDtBQVFNLFNBQVUsUUFBUSxTQUFrQixNQUFVO0FBQ2xELFNBQU8sUUFBUSxTQUFTLFVBQVUsSUFBSTtBQUN4QztBQU9NLFNBQVUsV0FBVyxTQUFnQjtBQUN6QyxTQUFPLFFBQVEsWUFBWSxRQUFRO0FBQ3JDO0FBU00sU0FBVSxlQUNkLFNBQ0EsYUFBd0I7QUFFeEIsU0FBTyxRQUFRLFNBQVMsSUFBSSxpQkFBaUIsV0FBVyxDQUFDO0FBQzNEO0FBT00sU0FBVSxlQUFlLFNBQWdCOztBQUM3QyxVQUFPQyxPQUFBLFFBQVEsT0FBTyxPQUFDLFFBQUFBLFNBQUEsU0FBQSxTQUFBQSxLQUFFLFlBQVc7QUFDdEM7OztBQ2hFQSxJQUFNLHNCQUFzQjtBQUM1QixJQUFNLHFCQUFxQjtBQUVyQixTQUFVLGVBQWUsU0FBZTtBQUM1QyxTQUFPLG9CQUFvQixLQUFLLE9BQU8sS0FBSyxZQUFZO0FBQzFEO0FBRU0sU0FBVSxjQUFjLFFBQWM7QUFDMUMsU0FBTyxtQkFBbUIsS0FBSyxNQUFNLEtBQUssV0FBVztBQUN2RDtBQU1NLFNBQVUsbUJBQW1CLGFBQXdCO0FBQ3pELFNBQ0UsZUFBZSxZQUFZLE9BQU8sS0FBSyxjQUFjLFlBQVksTUFBTTtBQUUzRTtBQVFNLFNBQVUsZ0JBQWdCLGFBQXdCO0FBQ3RELFNBQU8sSUFBSSxpQkFBaUIsV0FBVztBQUN6Qzs7O0FDdkJBLElBQU0sYUFBYSxXQUFXLFlBQVc7QUFLekMsSUFBQTs7R0FBQSxXQUFBO0FBQUEsYUFBQUMsY0FBQTtJQW9FQTtBQWxFRSxJQUFBQSxZQUFBLFVBQUEsWUFBQSxTQUNFQyxRQUNBLFNBQ0EsU0FBNkI7QUFBN0IsVUFBQSxZQUFBLFFBQUE7QUFBQSxrQkFBVSxXQUFXLE9BQU07TUFBRTtBQUU3QixVQUFNLE9BQU8sUUFBUSxZQUFPLFFBQVAsWUFBTyxTQUFBLFNBQVAsUUFBUyxJQUFJO0FBQ2xDLFVBQUksTUFBTTtBQUNSLGVBQU8sSUFBSSxpQkFBZ0I7O0FBRzdCLFVBQU0sb0JBQW9CLFdBQVcsZUFBZSxPQUFPO0FBRTNELFVBQ0UsY0FBYyxpQkFBaUIsS0FDL0IsbUJBQW1CLGlCQUFpQixHQUNwQztBQUNBLGVBQU8sSUFBSSxpQkFBaUIsaUJBQWlCO2FBQ3hDO0FBQ0wsZUFBTyxJQUFJLGlCQUFnQjs7SUFFL0I7QUFpQkEsSUFBQUQsWUFBQSxVQUFBLGtCQUFBLFNBQ0VDLFFBQ0EsTUFDQSxNQUNBLE1BQVE7QUFFUixVQUFJO0FBQ0osVUFBSTtBQUNKLFVBQUk7QUFFSixVQUFJLFVBQVUsU0FBUyxHQUFHO0FBQ3hCO2lCQUNTLFVBQVUsV0FBVyxHQUFHO0FBQ2pDLGFBQUs7aUJBQ0ksVUFBVSxXQUFXLEdBQUc7QUFDakMsZUFBTztBQUNQLGFBQUs7YUFDQTtBQUNMLGVBQU87QUFDUCxjQUFNO0FBQ04sYUFBSzs7QUFHUCxVQUFNLGdCQUFnQixRQUFHLFFBQUgsUUFBRyxTQUFILE1BQU8sV0FBVyxPQUFNO0FBQzlDLFVBQU0sT0FBTyxLQUFLLFVBQVVBLFFBQU0sTUFBTSxhQUFhO0FBQ3JELFVBQU0scUJBQXFCLFFBQVEsZUFBZSxJQUFJO0FBRXRELGFBQU8sV0FBVyxLQUFLLG9CQUFvQixJQUFJLFFBQVcsSUFBSTtJQUNoRTtBQUNGLFdBQUFEO0VBQUEsR0FwRUE7O0FBc0VBLFNBQVMsY0FBYyxhQUFnQjtBQUNyQyxTQUNFLE9BQU8sZ0JBQWdCLFlBQ3ZCLE9BQU8sWUFBWSxRQUFRLE1BQU0sWUFDakMsT0FBTyxZQUFZLFNBQVMsTUFBTSxZQUNsQyxPQUFPLFlBQVksWUFBWSxNQUFNO0FBRXpDOzs7QUNyRkEsSUFBTSxjQUFjLElBQUksV0FBVTtBQUtsQyxJQUFBOztHQUFBLFdBQUE7QUFJRSxhQUFBRSxhQUNVLFdBQ1FDLFFBQ0FDLFVBQ0EsU0FBdUI7QUFIL0IsV0FBQSxZQUFBO0FBQ1EsV0FBQSxPQUFBRDtBQUNBLFdBQUEsVUFBQUM7QUFDQSxXQUFBLFVBQUE7SUFDZjtBQUVILElBQUFGLGFBQUEsVUFBQSxZQUFBLFNBQVVDLFFBQWMsU0FBdUIsU0FBaUI7QUFDOUQsYUFBTyxLQUFLLFdBQVUsRUFBRyxVQUFVQSxRQUFNLFNBQVMsT0FBTztJQUMzRDtBQUVBLElBQUFELGFBQUEsVUFBQSxrQkFBQSxTQUNFLE9BQ0EsVUFDQSxVQUNBLEtBQU87QUFFUCxVQUFNLFNBQVMsS0FBSyxXQUFVO0FBQzlCLGFBQU8sUUFBUSxNQUFNLE9BQU8saUJBQWlCLFFBQVEsU0FBUztJQUNoRTtBQU1RLElBQUFBLGFBQUEsVUFBQSxhQUFSLFdBQUE7QUFDRSxVQUFJLEtBQUssV0FBVztBQUNsQixlQUFPLEtBQUs7O0FBR2QsVUFBTSxTQUFTLEtBQUssVUFBVSxrQkFDNUIsS0FBSyxNQUNMLEtBQUssU0FDTCxLQUFLLE9BQU87QUFHZCxVQUFJLENBQUMsUUFBUTtBQUNYLGVBQU87O0FBR1QsV0FBSyxZQUFZO0FBQ2pCLGFBQU8sS0FBSztJQUNkO0FBQ0YsV0FBQUE7RUFBQSxHQS9DQTs7OztBQ0RBLElBQUE7O0dBQUEsV0FBQTtBQUFBLGFBQUFHLHNCQUFBO0lBUUE7QUFQRSxJQUFBQSxvQkFBQSxVQUFBLFlBQUEsU0FDRSxPQUNBLFVBQ0EsVUFBd0I7QUFFeEIsYUFBTyxJQUFJLFdBQVU7SUFDdkI7QUFDRixXQUFBQTtFQUFBLEdBUkE7Ozs7QUNMQSxJQUFNLHVCQUF1QixJQUFJLG1CQUFrQjtBQVVuRCxJQUFBOztHQUFBLFdBQUE7QUFBQSxhQUFBQyx1QkFBQTtJQStCQTtBQXpCRSxJQUFBQSxxQkFBQSxVQUFBLFlBQUEsU0FBVUMsUUFBY0MsVUFBa0IsU0FBdUI7O0FBQy9ELGNBQ0VDLE9BQUEsS0FBSyxrQkFBa0JGLFFBQU1DLFVBQVMsT0FBTyxPQUFDLFFBQUFDLFNBQUEsU0FBQUEsT0FDOUMsSUFBSSxZQUFZLE1BQU1GLFFBQU1DLFVBQVMsT0FBTztJQUVoRDtBQUVBLElBQUFGLHFCQUFBLFVBQUEsY0FBQSxXQUFBOztBQUNFLGNBQU9HLE9BQUEsS0FBSyxlQUFTLFFBQUFBLFNBQUEsU0FBQUEsT0FBSTtJQUMzQjtBQUtBLElBQUFILHFCQUFBLFVBQUEsY0FBQSxTQUFZLFVBQXdCO0FBQ2xDLFdBQUssWUFBWTtJQUNuQjtBQUVBLElBQUFBLHFCQUFBLFVBQUEsb0JBQUEsU0FDRUMsUUFDQUMsVUFDQSxTQUF1Qjs7QUFFdkIsY0FBT0MsT0FBQSxLQUFLLGVBQVMsUUFBQUEsU0FBQSxTQUFBLFNBQUFBLEtBQUUsVUFBVUYsUUFBTUMsVUFBUyxPQUFPO0lBQ3pEO0FBQ0YsV0FBQUY7RUFBQSxHQS9CQTs7OztBQ1BBLElBQVk7Q0FBWixTQUFZSSxpQkFBYztBQUl4QixFQUFBQSxnQkFBQUEsZ0JBQUEsT0FBQSxJQUFBLENBQUEsSUFBQTtBQUtBLEVBQUFBLGdCQUFBQSxnQkFBQSxJQUFBLElBQUEsQ0FBQSxJQUFBO0FBSUEsRUFBQUEsZ0JBQUFBLGdCQUFBLE9BQUEsSUFBQSxDQUFBLElBQUE7QUFDRixHQWRZLG1CQUFBLGlCQUFjLENBQUEsRUFBQTs7O0FDYTFCLElBQU1DLFlBQVc7QUFLakIsSUFBQTs7R0FBQSxXQUFBO0FBTUUsYUFBQUMsWUFBQTtBQUhRLFdBQUEsdUJBQXVCLElBQUksb0JBQW1CO0FBbUQvQyxXQUFBLGtCQUFrQjtBQUVsQixXQUFBLHFCQUFxQjtBQUVyQixXQUFBLGFBQWE7QUFFYixXQUFBLFVBQVU7QUFFVixXQUFBLGdCQUFnQjtBQUVoQixXQUFBLGlCQUFpQjtBQUVqQixXQUFBLFVBQVU7QUFFVixXQUFBLGlCQUFpQjtJQTlERDtBQUdULElBQUFBLFVBQUEsY0FBZCxXQUFBO0FBQ0UsVUFBSSxDQUFDLEtBQUssV0FBVztBQUNuQixhQUFLLFlBQVksSUFBSUEsVUFBUTs7QUFHL0IsYUFBTyxLQUFLO0lBQ2Q7QUFPTyxJQUFBQSxVQUFBLFVBQUEsMEJBQVAsU0FBK0IsVUFBd0I7QUFDckQsVUFBTUMsV0FBVSxlQUNkRixXQUNBLEtBQUssc0JBQ0wsUUFBUSxTQUFRLENBQUU7QUFFcEIsVUFBSUUsVUFBUztBQUNYLGFBQUsscUJBQXFCLFlBQVksUUFBUTs7QUFFaEQsYUFBT0E7SUFDVDtBQUtPLElBQUFELFVBQUEsVUFBQSxvQkFBUCxXQUFBO0FBQ0UsYUFBTyxVQUFVRCxTQUFRLEtBQUssS0FBSztJQUNyQztBQUtPLElBQUFDLFVBQUEsVUFBQSxZQUFQLFNBQWlCRSxRQUFjQyxVQUFnQjtBQUM3QyxhQUFPLEtBQUssa0JBQWlCLEVBQUcsVUFBVUQsUUFBTUMsUUFBTztJQUN6RDtBQUdPLElBQUFILFVBQUEsVUFBQSxVQUFQLFdBQUE7QUFDRSx1QkFBaUJELFdBQVUsUUFBUSxTQUFRLENBQUU7QUFDN0MsV0FBSyx1QkFBdUIsSUFBSSxvQkFBbUI7SUFDckQ7QUFpQkYsV0FBQUM7RUFBQSxHQXJFQTs7OztBQ3ZCTyxJQUFNLFFBQVEsU0FBUyxZQUFXOzs7Ozs7OztBR2xCekMsSUFBTUksU0FBTztBQUNiLElBQU1DLFdBQVMsbUJBQW1CRCxNQUFJO0FBQ3RDLElBQU1FLFdBQVMsT0FBTyxJQUFJRCxRQUFNO0FBSmhDLElBQUFFO0FBU08sSUFBTSx5QkFBTixjQUFxQyxXQUFXOztFQUdyRCxZQUFZLEVBQUUsVUFBVSx1QkFBdUIsSUFBMEIsQ0FBQyxHQUFHO0FBQzNFLFVBQU0sRUFBRSxNQUFBSCxRQUFNLFFBQVEsQ0FBQztBQUh6QixTQUFrQkcsSUFBQSxJQUFVO0VBSTVCO0VBRUEsT0FBTyxXQUFXQyxTQUFpRDtBQUNqRSxXQUFPLFdBQVcsVUFBVUEsU0FBT0gsUUFBTTtFQUMzQztBQUNGO0FBVG9CRSxPQUFBRDtBQ1FwQixTQUFTLGNBQWMsU0FBMEI7QUFDL0MsUUFBTSxTQUFTO0FBRWYsVUFBUSxRQUFRLE1BQU07SUFDcEIsS0FBSyx1QkFBdUI7QUFDMUIsVUFBSSxVQUFVLEdBQUcsTUFBTSxTQUFTLFFBQVEsT0FBTztBQUMvQyxVQUFJLFFBQVEsU0FBUztBQUNuQixtQkFBVyxNQUFNLFFBQVEsT0FBTztNQUNsQztBQUNBLGFBQU87SUFDVDtJQUVBLEtBQUssb0JBQW9CO0FBQ3ZCLFlBQU0sV0FDSixVQUFVLFFBQVEsT0FBTyxRQUFRLEtBQUssT0FBTztBQUMvQyxVQUFJLFVBQVUsR0FBRyxNQUFNLGNBQWMsUUFBUTtBQUM3QyxVQUFJLFFBQVEsU0FBUztBQUNuQixtQkFBVyxNQUFNLFFBQVEsT0FBTztNQUNsQztBQUNBLGFBQU87SUFDVDtJQUVBLEtBQUssU0FBUztBQUNaLGFBQU8sR0FBRyxNQUFNLElBQUksUUFBUSxPQUFPO0lBQ3JDO0lBRUEsU0FBUztBQUVQLGFBQU8sR0FBRyxNQUFNLElBQUksS0FBSyxVQUFVLFNBQVMsTUFBTSxDQUFDLENBQUM7SUFDdEQ7RUFDRjtBQUNGO0FBRU8sSUFBTSw2QkFDWDtBQUVGLElBQUksa0JBQWtCO0FBRWYsSUFBTSxjQUFtQyxDQUFBLGFBQVk7QUFFMUQsTUFBSSxTQUFTLFdBQVcsR0FBRztBQUN6QjtFQUNGO0FBRUEsUUFBTSxTQUFTLFdBQVc7QUFHMUIsTUFBSSxXQUFXLE9BQU87QUFDcEI7RUFDRjtBQUdBLE1BQUksT0FBTyxXQUFXLFlBQVk7QUFDaEMsV0FBTyxRQUFRO0FBQ2Y7RUFDRjtBQUdBLE1BQUksQ0FBQyxpQkFBaUI7QUFDcEIsc0JBQWtCO0FBQ2xCLFlBQVEsS0FBSywwQkFBMEI7RUFDekM7QUFHQSxhQUFXLFdBQVcsVUFBVTtBQUM5QixZQUFRLEtBQUssY0FBYyxPQUFPLENBQUM7RUFDckM7QUFDRjtBR25GQSxJQUFNRixTQUFPO0FBQ2IsSUFBTUMsV0FBUyxtQkFBbUJELE1BQUk7QUFDdEMsSUFBTUUsV0FBUyxPQUFPLElBQUlELFFBQU07QUFKaEMsSUFBQUU7QUFNTyxJQUFNRSx3QkFBTixjQUFtQ0MsV0FBVztFQU1uRCxZQUFZO0lBQ1Y7SUFDQTtJQUNBO0VBQ0YsR0FJRztBQUNELFVBQU07TUFDSixNQUFBTjtNQUNBLFNBQVMsa0NBQWtDLFNBQVMsS0FBSyxPQUFPO0lBQ2xFLENBQUM7QUFqQkgsU0FBa0JHLElBQUFBLElBQVU7QUFtQjFCLFNBQUssWUFBWTtBQUNqQixTQUFLLFFBQVE7RUFDZjtFQUVBLE9BQU8sV0FBV0MsU0FBK0M7QUFDL0QsV0FBT0UsV0FBVyxVQUFVRixTQUFPSCxRQUFNO0VBQzNDO0FBQ0Y7QUExQm9CRSxPQUFBRDtBQ0pwQixJQUFNRixTQUFPO0FBQ2IsSUFBTUMsV0FBUyxtQkFBbUJELE1BQUk7QUFDdEMsSUFBTUUsV0FBUyxPQUFPLElBQUlELFFBQU07QUFMaEMsSUFBQUU7QUFRb0JJLE9BQUFDO0FDTnBCLElBQU1DLFNBQU87QUFDYixJQUFNQyxXQUFTLG1CQUFtQkQsTUFBSTtBQUN0QyxJQUFNRCxXQUFTLE9BQU8sSUFBSUUsUUFBTTtBQUpoQyxJQUFBSDtBQU1PLElBQU0sd0JBQU4sY0FBb0NJLFdBQVc7RUFNcEQsWUFBWTtJQUNWO0lBQ0E7SUFDQTtJQUNBLFVBQVUsMEJBQTBCLFFBQVEsS0FBSyxnQkFBZ0IsS0FBSyxDQUFDO0VBQ3pFLEdBS0c7QUFDRCxVQUFNLEVBQUUsTUFBQUYsUUFBTSxTQUFTLE1BQU0sQ0FBQztBQWhCaEMsU0FBa0JGLElBQUFBLElBQVU7QUFrQjFCLFNBQUssWUFBWTtBQUNqQixTQUFLLFdBQVc7RUFDbEI7RUFFQSxPQUFPLFdBQVdLLFNBQWdEO0FBQ2hFLFdBQU9ELFdBQVcsVUFBVUMsU0FBT0YsUUFBTTtFQUMzQztBQUNGO0FBekJvQkgsT0FBQUM7QUNMcEIsSUFBTUMsU0FBTztBQUNiLElBQU1DLFdBQVMsbUJBQW1CRCxNQUFJO0FBQ3RDLElBQU1ELFdBQVMsT0FBTyxJQUFJRSxRQUFNO0FBSmhDLElBQUFIO0FBVW9CTSxPQUFBQztBQ1BwQixJQUFNQyxTQUFPO0FBQ2IsSUFBTUMsV0FBUyxtQkFBbUJELE1BQUk7QUFDdEMsSUFBTUQsV0FBUyxPQUFPLElBQUlFLFFBQU07QUFMaEMsSUFBQUg7QUFjb0JJLE9BQUFDO0FDVHBCLElBQU1DLFNBQU87QUFDYixJQUFNQyxXQUFTLG1CQUFtQkQsTUFBSTtBQUN0QyxJQUFNRCxXQUFTLE9BQU8sSUFBSUUsUUFBTTtBQVBoQyxJQUFBSDtBQW9CTyxJQUFNLHlCQUFOLGNBQXFDSSxXQUFXO0VBdUJyRCxZQUFZO0lBQ1YsVUFBVTtJQUNWO0lBQ0EsTUFBQUM7SUFDQTtJQUNBO0lBQ0E7RUFDRixHQU9HO0FBQ0QsVUFBTSxFQUFFLE1BQUFILFFBQU0sU0FBUyxNQUFNLENBQUM7QUFyQ2hDLFNBQWtCRixJQUFBQSxJQUFVO0FBdUMxQixTQUFLLE9BQU9LO0FBQ1osU0FBSyxXQUFXO0FBQ2hCLFNBQUssUUFBUTtBQUNiLFNBQUssZUFBZTtFQUN0QjtFQUVBLE9BQU8sV0FBV0MsU0FBaUQ7QUFDakUsV0FBT0YsV0FBVyxVQUFVRSxTQUFPSCxRQUFNO0VBQzNDO0FBQ0Y7QUFoRG9CSCxPQUFBQztBQ25CcEIsSUFBTUMsU0FBTztBQUNiLElBQU1DLFdBQVMsbUJBQW1CRCxNQUFJO0FBQ3RDLElBQU1ELFdBQVMsT0FBTyxJQUFJRSxRQUFNO0FBSmhDLElBQUFIO0FBU08sSUFBTSx5QkFBTixjQUFxQ0ksV0FBVzs7RUFHckQsWUFBWTtJQUNWLFVBQVU7SUFDVjtFQUNGLElBR0ksQ0FBQyxHQUFHO0FBQ04sVUFBTSxFQUFFLE1BQUFGLFFBQU0sU0FBUyxNQUFNLENBQUM7QUFUaEMsU0FBa0JGLElBQUFBLElBQVU7RUFVNUI7RUFFQSxPQUFPLFdBQVdNLFNBQWlEO0FBQ2pFLFdBQU9GLFdBQVcsVUFBVUUsU0FBT0gsUUFBTTtFQUMzQztBQUNGO0FBZm9CSCxPQUFBQztBQ1JwQixJQUFNQyxTQUFPO0FBQ2IsSUFBTUMsV0FBUyxtQkFBbUJELE1BQUk7QUFDdEMsSUFBTUQsV0FBUyxPQUFPLElBQUlFLFFBQU07QUFKaEMsSUFBQUg7QUFNTyxJQUFNLGtCQUFOLGNBQThCSSxXQUFXO0VBTTlDLFlBQVk7SUFDVjtJQUNBLGlCQUFpQjtJQUNqQixVQUFVLHlDQUF5QyxRQUFRLE1BQ3pELG1CQUFtQixTQUNmLDRCQUNBLG9CQUFvQixlQUFlLEtBQUssSUFBSSxDQUFDLEdBQ25EO0VBQ0YsR0FJRztBQUNELFVBQU0sRUFBRSxNQUFBRixRQUFNLFFBQVEsQ0FBQztBQWxCekIsU0FBa0JGLElBQUFBLElBQVU7QUFvQjFCLFNBQUssV0FBVztBQUNoQixTQUFLLGlCQUFpQjtFQUN4QjtFQUVBLE9BQU8sV0FBV00sU0FBMEM7QUFDMUQsV0FBT0YsV0FBVyxVQUFVRSxTQUFPSCxRQUFNO0VBQzNDO0FBQ0Y7QUEzQm9CSCxPQUFBQztBQ0hwQixJQUFNQyxVQUFPO0FBQ2IsSUFBTUMsWUFBUyxtQkFBbUJELE9BQUk7QUFDdEMsSUFBTUQsWUFBUyxPQUFPLElBQUlFLFNBQU07QUFOaEMsSUFBQUg7QUFRTyxJQUFNLHNCQUFOLGNBQWtDSSxXQUFXO0VBS2xELFlBQVk7SUFDVjtJQUNBO0lBQ0EsVUFBVSw4QkFBOEJHLGdCQUFnQixLQUFLLENBQUM7RUFDaEUsR0FJRztBQUNELFVBQU0sRUFBRSxNQUFBTCxTQUFNLFNBQVMsTUFBTSxDQUFDO0FBYmhDLFNBQWtCRixLQUFBQSxJQUFVO0FBYzFCLFNBQUssZ0JBQWdCO0VBQ3ZCO0VBRUEsT0FBTyxXQUFXTSxTQUE4QztBQUM5RCxXQUFPRixXQUFXLFVBQVVFLFNBQU9ILFNBQU07RUFDM0M7QUFDRjtBQXBCb0JILFFBQUFDO0FDSmIsSUFBTSwrQkFBTixjQUEyQ0csV0FBVztFQUszRCxZQUFZLFNBQWlFO0FBQzNFLFVBQU07TUFDSixNQUFNO01BQ04sU0FDRSw2QkFBNkIsUUFBUSxPQUFPLGtCQUFrQixRQUFRLFFBQVEsZ0JBQWdCLFFBQVEsT0FBTztJQUVqSCxDQUFDO0FBRUQsU0FBSyxVQUFVLFFBQVE7QUFDdkIsU0FBSyxXQUFXLFFBQVE7QUFDeEIsU0FBSyxVQUFVLFFBQVE7RUFDekI7QUFDRjtBQ3BCQSxJQUFNRixVQUFPO0FBQ2IsSUFBTUMsWUFBUyxtQkFBbUJELE9BQUk7QUFDdEMsSUFBTUQsWUFBUyxPQUFPLElBQUlFLFNBQU07QUFKaEMsSUFBQUg7QUFPb0JRLFFBQUFDO0FDTHBCLElBQU1DLFVBQU87QUFDYixJQUFNQyxZQUFTLG1CQUFtQkQsT0FBSTtBQUN0QyxJQUFNRCxZQUFTLE9BQU8sSUFBSUUsU0FBTTtBQUpoQyxJQUFBSDtBQU1PLElBQU0sMEJBQU4sY0FBc0NJLFdBQVc7RUFLdEQsWUFBWTtJQUNWO0lBQ0EsVUFBVSwwQkFBMEIsSUFBSTtFQUMxQyxHQUdHO0FBQ0QsVUFBTSxFQUFFLE1BQUFGLFNBQU0sUUFBUSxDQUFDO0FBWHpCLFNBQWtCRixLQUFBQSxJQUFVO0FBYTFCLFNBQUssT0FBTztFQUNkO0VBRUEsT0FBTyxXQUFXSyxTQUFrRDtBQUNsRSxXQUFPRCxXQUFXLFVBQVVDLFNBQU9GLFNBQU07RUFDM0M7QUFDRjtBQW5Cb0JILFFBQUFDO0FDSnBCLElBQU1DLFVBQU87QUFDYixJQUFNQyxZQUFTLG1CQUFtQkQsT0FBSTtBQUN0QyxJQUFNRCxZQUFTLE9BQU8sSUFBSUUsU0FBTTtBQUxoQyxJQUFBSDtBQU9PLElBQU0seUJBQU4sY0FBcUNJLFdBQVc7RUFLckQsWUFBWTtJQUNWO0lBQ0E7RUFDRixHQUdHO0FBQ0QsVUFBTSxFQUFFLE1BQUFGLFNBQU0sUUFBUSxDQUFDO0FBWHpCLFNBQWtCRixLQUFBQSxJQUFVO0FBYTFCLFNBQUssa0JBQWtCO0VBQ3pCO0VBRUEsT0FBTyxXQUFXSyxTQUFpRDtBQUNqRSxXQUFPRCxXQUFXLFVBQVVDLFNBQU9GLFNBQU07RUFDM0M7QUFDRjtBQW5Cb0JILFFBQUFDO0FDTnBCLElBQU1DLFVBQU87QUFDYixJQUFNQyxZQUFTLG1CQUFtQkQsT0FBSTtBQUN0QyxJQUFNRCxZQUFTLE9BQU8sSUFBSUUsU0FBTTtBQUpoQyxJQUFBSDtBQU1PLElBQU0sZ0JBQU4sY0FBNEJJLFdBQVc7RUFPNUMsWUFBWTtJQUNWLEtBQUFFO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsVUFBVSxTQUFTLE9BQ2Ysc0JBQXNCQSxJQUFHLEtBQUssVUFBVSxJQUFJLFVBQVUsS0FDdEQsc0JBQXNCQSxJQUFHLEtBQUssS0FBSztFQUN6QyxHQU1HO0FBQ0QsVUFBTSxFQUFFLE1BQUFKLFNBQU0sU0FBUyxNQUFNLENBQUM7QUFyQmhDLFNBQWtCRixLQUFBQSxJQUFVO0FBdUIxQixTQUFLLE1BQU1NO0FBQ1gsU0FBSyxhQUFhO0FBQ2xCLFNBQUssYUFBYTtFQUNwQjtFQUVBLE9BQU8sV0FBV0QsU0FBd0M7QUFDeEQsV0FBT0QsV0FBVyxVQUFVQyxTQUFPRixTQUFNO0VBQzNDO0FBQ0Y7QUEvQm9CSCxRQUFBQztBQ0xwQixJQUFNQyxVQUFPO0FBQ2IsSUFBTUMsWUFBUyxtQkFBbUJELE9BQUk7QUFDdEMsSUFBTUQsWUFBUyxPQUFPLElBQUlFLFNBQU07QUFKaEMsSUFBQUg7QUFXTyxJQUFNLGFBQU4sY0FBeUJJLFdBQVc7RUFRekMsWUFBWTtJQUNWO0lBQ0E7SUFDQTtFQUNGLEdBSUc7QUFDRCxVQUFNLEVBQUUsTUFBQUYsU0FBTSxRQUFRLENBQUM7QUFoQnpCLFNBQWtCRixLQUFBQSxJQUFVO0FBa0IxQixTQUFLLFNBQVM7QUFDZCxTQUFLLFNBQVM7QUFHZCxTQUFLLFlBQVksT0FBTyxPQUFPLFNBQVMsQ0FBQztFQUMzQztFQUVBLE9BQU8sV0FBV0ssU0FBcUM7QUFDckQsV0FBT0QsV0FBVyxVQUFVQyxTQUFPRixTQUFNO0VBQzNDO0FBQ0Y7QUE1Qm9CSCxRQUFBQztBaEJGYixTQUFTLHFCQUFxQixPQUF1QztBQUMxRSxNQUFJLE9BQU8sVUFBVSxVQUFVO0FBQzdCLFFBQUksTUFBTSx5QkFBeUIsTUFBTTtBQUN2QyxZQUFNLElBQUksNkJBQTZCO1FBQ3JDLFNBQVMsTUFBTTtRQUNmLFVBQVUsTUFBTTtRQUNoQixTQUFTLE1BQU07TUFDakIsQ0FBQztJQUNIO0FBRUEsV0FBTztFQUNUO0FBRUEsU0FBTyxrQkFBa0IsRUFBRSxjQUFjLEtBQUs7QUFDaEQ7QUF1QkEsU0FBUyxvQkFBZ0M7QUEvQ3pDLE1BQUFNO0FBZ0RFLFVBQU9BLE9BQUEsV0FBVyw0QkFBWCxPQUFBQSxPQUFzQztBQUMvQztBa0IvQ08sSUFBTSwyQkFBMkI7RUFDdEM7SUFDRSxXQUFXO0lBQ1gsYUFBYSxDQUFDLElBQU0sSUFBTSxFQUFJO0lBQzlCLGNBQWM7RUFDaEI7RUFDQTtJQUNFLFdBQVc7SUFDWCxhQUFhLENBQUMsS0FBTSxJQUFNLElBQU0sRUFBSTtJQUNwQyxjQUFjO0VBQ2hCO0VBQ0E7SUFDRSxXQUFXO0lBQ1gsYUFBYSxDQUFDLEtBQU0sR0FBSTtJQUN4QixjQUFjO0VBQ2hCO0VBQ0E7SUFDRSxXQUFXO0lBQ1gsYUFBYSxDQUFDLElBQU0sSUFBTSxJQUFNLEVBQUk7SUFDcEMsY0FBYztFQUNoQjtFQUNBO0lBQ0UsV0FBVztJQUNYLGFBQWEsQ0FBQyxJQUFNLEVBQUk7SUFDeEIsY0FBYztFQUNoQjtFQUNBO0lBQ0UsV0FBVztJQUNYLGFBQWEsQ0FBQyxJQUFNLElBQU0sSUFBTSxDQUFJO0lBQ3BDLGNBQWM7RUFDaEI7RUFDQTtJQUNFLFdBQVc7SUFDWCxhQUFhLENBQUMsSUFBTSxJQUFNLEdBQU0sRUFBSTtJQUNwQyxjQUFjO0VBQ2hCO0VBQ0E7SUFDRSxXQUFXO0lBQ1gsYUFBYTtNQUNYO01BQU07TUFBTTtNQUFNO01BQU07TUFBTTtNQUFNO01BQU07TUFBTTtNQUFNO01BQU07TUFBTTtJQUNwRTtJQUNBLGNBQWM7RUFDaEI7RUFDQTtJQUNFLFdBQVc7SUFDWCxhQUFhO01BQ1g7TUFBTTtNQUFNO01BQU07TUFBTTtNQUFNO01BQU07TUFBTTtNQUFNO01BQU07TUFBTTtNQUFNO0lBQ3BFO0lBQ0EsY0FBYztFQUNoQjtBQUNGO0FBaUVBLElBQU0sV0FBVyxDQUFDLFNBQThCO0FBQzlDLFFBQU0sUUFDSixPQUFPLFNBQVMsV0FBVywwQkFBMEIsSUFBSSxJQUFJO0FBQy9ELFFBQU0sV0FDRixNQUFNLENBQUMsSUFBSSxRQUFTLE1BQ3BCLE1BQU0sQ0FBQyxJQUFJLFFBQVMsTUFDcEIsTUFBTSxDQUFDLElBQUksUUFBUyxJQUNyQixNQUFNLENBQUMsSUFBSTtBQUdkLFNBQU8sTUFBTSxNQUFNLFVBQVUsRUFBRTtBQUNqQztBQUVBLFNBQVMsc0JBQXNCLE1BQWdEO0FBQzdFLFFBQU0sU0FDSCxPQUFPLFNBQVMsWUFBWSxLQUFLLFdBQVcsTUFBTSxLQUNsRCxPQUFPLFNBQVMsWUFDZixLQUFLLFNBQVMsTUFDZCxLQUFLLENBQUMsTUFBTTtFQUNaLEtBQUssQ0FBQyxNQUFNO0VBQ1osS0FBSyxDQUFDLE1BQU07QUFFaEIsU0FBTyxTQUFTLFNBQVMsSUFBSSxJQUFJO0FBQ25DO0FBU08sU0FBUyxnQkFBZ0I7RUFDOUI7RUFDQTtBQUNGLEdBR3lEO0FBQ3ZELFFBQU0sZ0JBQWdCLHNCQUFzQixJQUFJO0FBRWhELGFBQVcsYUFBYSxZQUFZO0FBQ2xDLFFBQ0UsT0FBTyxrQkFBa0IsV0FDckIsY0FBYyxXQUFXLFVBQVUsWUFBWSxJQUMvQyxjQUFjLFVBQVUsVUFBVSxZQUFZLFVBQzlDLFVBQVUsWUFBWTtNQUNwQixDQUFDLE1BQU0sVUFBVSxjQUFjLEtBQUssTUFBTTtJQUM1QyxHQUNKO0FBQ0EsYUFBTyxVQUFVO0lBQ25CO0VBQ0Y7QUFFQSxTQUFPO0FBQ1Q7QUNsS08sSUFBTSxXQUFXLE9BQU8sRUFBRSxLQUFBQyxLQUFJLE1BQW9CO0FBVnpELE1BQUFDO0FBV0UsUUFBTSxVQUFVRCxLQUFJLFNBQVM7QUFDN0IsTUFBSTtBQUNGLFVBQU0sV0FBVyxNQUFNLE1BQU0sT0FBTztBQUVwQyxRQUFJLENBQUMsU0FBUyxJQUFJO0FBQ2hCLFlBQU0sSUFBSSxjQUFjO1FBQ3RCLEtBQUs7UUFDTCxZQUFZLFNBQVM7UUFDckIsWUFBWSxTQUFTO01BQ3ZCLENBQUM7SUFDSDtBQUVBLFdBQU87TUFDTCxNQUFNLElBQUksV0FBVyxNQUFNLFNBQVMsWUFBWSxDQUFDO01BQ2pELFlBQVdDLE9BQUEsU0FBUyxRQUFRLElBQUksY0FBYyxNQUFuQyxPQUFBQSxPQUF3QztJQUNyRDtFQUNGLFNBQVNDLFNBQU87QUFDZCxRQUFJLGNBQWMsV0FBV0EsT0FBSyxHQUFHO0FBQ25DLFlBQU1BO0lBQ1I7QUFFQSxVQUFNLElBQUksY0FBYyxFQUFFLEtBQUssU0FBUyxPQUFPQSxRQUFNLENBQUM7RUFDeEQ7QUFDRjtBQ0NPLElBQU0sZ0NBQ1gsQ0FBQ0MsWUFBb0MsYUFDckMsQ0FBQSx1QkFDRSxRQUFRO0VBQ04sbUJBQW1CO0lBQUksT0FBTSxzQkFDM0Isa0JBQWtCLHdCQUNkLE9BQ0FBLFVBQVMsaUJBQWlCO0VBQ2hDO0FBQ0Y7QUU1Q0csU0FBUyxhQUFhLFNBRzNCO0FBQ0EsTUFBSTtBQUNGLFVBQU0sQ0FBQyxRQUFRLGFBQWEsSUFBSSxRQUFRLE1BQU0sR0FBRztBQUNqRCxXQUFPO01BQ0wsV0FBVyxPQUFPLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxNQUFNLEdBQUcsRUFBRSxDQUFDO01BQzVDO0lBQ0Y7RUFDRixTQUFTRCxTQUFPO0FBQ2QsV0FBTztNQUNMLFdBQVc7TUFDWCxlQUFlO0lBQ2pCO0VBQ0Y7QUFDRjtBREhPLElBQU0sb0JBQTRDLGlCQUFFLE1BQU07RUFDL0QsaUJBQUUsT0FBTztFQUNULGlCQUFFLFdBQVcsVUFBVTtFQUN2QixpQkFBRSxXQUFXLFdBQVc7RUFDeEIsaUJBQUU7O0lBRUEsQ0FBQyxVQUFpQztBQW5CdEMsVUFBQUQsTUFBQUc7QUFvQk0sY0FBQUEsT0FBQUgsT0FBQSxXQUFXLFdBQVgsT0FBQSxTQUFBQSxLQUFtQixTQUFTLEtBQUEsTUFBNUIsT0FBQUcsTUFBc0M7SUFBQTtJQUN4QyxFQUFFLFNBQVMsbUJBQW1CO0VBQ2hDO0FBQ0YsQ0FBQztBQUVNLFNBQVMsb0NBQ2QsU0FJQTtBQUVBLE1BQUksbUJBQW1CLFlBQVk7QUFDakMsV0FBTyxFQUFFLE1BQU0sU0FBUyxXQUFXLE9BQVU7RUFDL0M7QUFHQSxNQUFJLG1CQUFtQixhQUFhO0FBQ2xDLFdBQU8sRUFBRSxNQUFNLElBQUksV0FBVyxPQUFPLEdBQUcsV0FBVyxPQUFVO0VBQy9EO0FBSUEsTUFBSSxPQUFPLFlBQVksVUFBVTtBQUMvQixRQUFJO0FBQ0YsZ0JBQVUsSUFBSSxJQUFJLE9BQU87SUFDM0IsU0FBU0YsU0FBTztJQUVoQjtFQUNGO0FBR0EsTUFBSSxtQkFBbUIsT0FBTyxRQUFRLGFBQWEsU0FBUztBQUMxRCxVQUFNLEVBQUUsV0FBVyxrQkFBa0IsY0FBYyxJQUFJO01BQ3JELFFBQVEsU0FBUztJQUNuQjtBQUVBLFFBQUksb0JBQW9CLFFBQVEsaUJBQWlCLE1BQU07QUFDckQsWUFBTSxJQUFJRyxXQUFXO1FBQ25CLE1BQU07UUFDTixTQUFTLHNDQUFzQyxRQUFRLFNBQVMsQ0FBQztNQUNuRSxDQUFDO0lBQ0g7QUFFQSxXQUFPLEVBQUUsTUFBTSxlQUFlLFdBQVcsaUJBQWlCO0VBQzVEO0FBRUEsU0FBTyxFQUFFLE1BQU0sU0FBUyxXQUFXLE9BQVU7QUFDL0M7QUFRTyxTQUFTLGlDQUFpQyxTQUE4QjtBQUM3RSxNQUFJLE9BQU8sWUFBWSxVQUFVO0FBQy9CLFdBQU87RUFDVDtBQUVBLE1BQUksbUJBQW1CLGFBQWE7QUFDbEMsV0FBTywwQkFBMEIsSUFBSSxXQUFXLE9BQU8sQ0FBQztFQUMxRDtBQUVBLFNBQU8sMEJBQTBCLE9BQU87QUFDMUM7QUo1REEsZUFBc0IsNkJBQTZCO0VBQ2pEO0VBQ0E7RUFDQSxVQUFBQyxZQUFXLDhCQUE4QjtBQUMzQyxHQUltQztBQUNqQyxRQUFNLG1CQUFtQixNQUFNO0lBQzdCLE9BQU87SUFDUEE7SUFDQTtFQUNGO0FBRUEsU0FBTztJQUNMLEdBQUksT0FBTyxVQUFVLE9BQ2pCLENBQUMsRUFBRSxNQUFNLFVBQW1CLFNBQVMsT0FBTyxPQUFPLENBQUMsSUFDcEQsQ0FBQztJQUNMLEdBQUcsT0FBTyxTQUFTO01BQUksQ0FBQSxZQUNyQiw4QkFBOEIsRUFBRSxTQUFTLGlCQUFpQixDQUFDO0lBQzdEO0VBQ0Y7QUFDRjtBQVNPLFNBQVMsOEJBQThCO0VBQzVDO0VBQ0E7QUFDRixHQU0yQjtBQUN6QixRQUFNLE9BQU8sUUFBUTtBQUNyQixVQUFRLE1BQU07SUFDWixLQUFLLFVBQVU7QUFDYixhQUFPO1FBQ0wsTUFBTTtRQUNOLFNBQVMsUUFBUTtRQUNqQixpQkFBaUIsUUFBUTtNQUMzQjtJQUNGO0lBRUEsS0FBSyxRQUFRO0FBQ1gsVUFBSSxPQUFPLFFBQVEsWUFBWSxVQUFVO0FBQ3ZDLGVBQU87VUFDTCxNQUFNO1VBQ04sU0FBUyxDQUFDLEVBQUUsTUFBTSxRQUFRLE1BQU0sUUFBUSxRQUFRLENBQUM7VUFDakQsaUJBQWlCLFFBQVE7UUFDM0I7TUFDRjtBQUVBLGFBQU87UUFDTCxNQUFNO1FBQ04sU0FBUyxRQUFRLFFBQ2QsSUFBSSxDQUFBLFNBQVEsK0JBQStCLE1BQU0sZ0JBQWdCLENBQUMsRUFFbEUsT0FBTyxDQUFBLFNBQVEsS0FBSyxTQUFTLFVBQVUsS0FBSyxTQUFTLEVBQUU7UUFDMUQsaUJBQWlCLFFBQVE7TUFDM0I7SUFDRjtJQUVBLEtBQUssYUFBYTtBQUNoQixVQUFJLE9BQU8sUUFBUSxZQUFZLFVBQVU7QUFDdkMsZUFBTztVQUNMLE1BQU07VUFDTixTQUFTLENBQUMsRUFBRSxNQUFNLFFBQVEsTUFBTSxRQUFRLFFBQVEsQ0FBQztVQUNqRCxpQkFBaUIsUUFBUTtRQUMzQjtNQUNGO0FBRUEsYUFBTztRQUNMLE1BQU07UUFDTixTQUFTLFFBQVEsUUFDZDs7VUFFQyxDQUFBLFNBQVEsS0FBSyxTQUFTLFVBQVUsS0FBSyxTQUFTO1FBQ2hELEVBQ0MsSUFBSSxDQUFBLFNBQVE7QUFDWCxnQkFBTSxrQkFBa0IsS0FBSztBQUU3QixrQkFBUSxLQUFLLE1BQU07WUFDakIsS0FBSyxRQUFRO0FBQ1gsb0JBQU0sRUFBRSxNQUFNLFVBQVUsSUFBSTtnQkFDMUIsS0FBSztjQUNQO0FBQ0EscUJBQU87Z0JBQ0wsTUFBTTtnQkFDTjtnQkFDQSxVQUFVLEtBQUs7Z0JBQ2YsV0FBVyxhQUFBLE9BQUEsWUFBYSxLQUFLO2dCQUM3QjtjQUNGO1lBQ0Y7WUFDQSxLQUFLLGFBQWE7QUFDaEIscUJBQU87Z0JBQ0wsTUFBTTtnQkFDTixNQUFNLEtBQUs7Z0JBQ1g7Y0FDRjtZQUNGO1lBQ0EsS0FBSyxRQUFRO0FBQ1gscUJBQU87Z0JBQ0wsTUFBTTtnQkFDTixNQUFNLEtBQUs7Z0JBQ1g7Y0FDRjtZQUNGO1lBQ0EsS0FBSyxhQUFhO0FBQ2hCLHFCQUFPO2dCQUNMLE1BQU07Z0JBQ04sWUFBWSxLQUFLO2dCQUNqQixVQUFVLEtBQUs7Z0JBQ2YsT0FBTyxLQUFLO2dCQUNaLGtCQUFrQixLQUFLO2dCQUN2QjtjQUNGO1lBQ0Y7WUFDQSxLQUFLLGVBQWU7QUFDbEIscUJBQU87Z0JBQ0wsTUFBTTtnQkFDTixZQUFZLEtBQUs7Z0JBQ2pCLFVBQVUsS0FBSztnQkFDZixRQUFRLEtBQUs7Z0JBQ2I7Y0FDRjtZQUNGO1VBQ0Y7UUFDRixDQUFDO1FBQ0gsaUJBQWlCLFFBQVE7TUFDM0I7SUFDRjtJQUVBLEtBQUssUUFBUTtBQUNYLGFBQU87UUFDTCxNQUFNO1FBQ04sU0FBUyxRQUFRLFFBQVEsSUFBSSxDQUFBLFVBQVM7VUFDcEMsTUFBTTtVQUNOLFlBQVksS0FBSztVQUNqQixVQUFVLEtBQUs7VUFDZixRQUFRLEtBQUs7VUFDYixpQkFBaUIsS0FBSztRQUN4QixFQUFFO1FBQ0YsaUJBQWlCLFFBQVE7TUFDM0I7SUFDRjtJQUVBLFNBQVM7QUFDUCxZQUFNLG1CQUEwQjtBQUNoQyxZQUFNLElBQUksd0JBQXdCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztJQUM5RDtFQUNGO0FBQ0Y7QUFLQSxlQUFlLGVBQ2IsVUFDQUEsV0FDQSxlQUdBO0FBQ0EsUUFBTSxtQkFBbUIsU0FDdEIsT0FBTyxDQUFBLFlBQVcsUUFBUSxTQUFTLE1BQU0sRUFDekMsSUFBSSxDQUFBLFlBQVcsUUFBUSxPQUFPLEVBQzlCO0lBQU8sQ0FBQyxZQUNQLE1BQU0sUUFBUSxPQUFPO0VBQ3ZCLEVBQ0MsS0FBSyxFQUNMO0lBQ0MsQ0FBQyxTQUNDLEtBQUssU0FBUyxXQUFXLEtBQUssU0FBUztFQUMzQyxFQUNDLElBQUksQ0FBQSxTQUFRO0FBbE5qQixRQUFBQztBQW1OTSxVQUFNLGFBQ0pBLE9BQUEsS0FBSyxjQUFMLE9BQUFBLE9BQW1CLEtBQUssU0FBUyxVQUFVLFlBQVk7QUFFekQsUUFBSSxPQUFPLEtBQUssU0FBUyxVQUFVLEtBQUssUUFBUSxLQUFLO0FBQ3JELFFBQUksT0FBTyxTQUFTLFVBQVU7QUFDNUIsVUFBSTtBQUNGLGVBQU8sSUFBSSxJQUFJLElBQUk7TUFDckIsU0FBUyxTQUFTO01BQUM7SUFDckI7QUFFQSxXQUFPLEVBQUUsV0FBVyxLQUFLO0VBQzNCLENBQUMsRUFFQTtJQUNDLENBQUMsU0FDQyxLQUFLLGdCQUFnQjtFQUN6QixFQUNDLElBQUksQ0FBQSxVQUFTO0lBQ1osS0FBSyxLQUFLO0lBQ1YsdUJBQ0UsS0FBSyxhQUFhLFFBQ2xCLGVBQWU7TUFDYixLQUFLLEtBQUssS0FBSyxTQUFTO01BQ3hCLFdBQVcsS0FBSztNQUNoQjtJQUNGLENBQUM7RUFDTCxFQUFFO0FBR0osUUFBTSxrQkFBa0IsTUFBTUQsVUFBUyxnQkFBZ0I7QUFFdkQsU0FBTyxPQUFPO0lBQ1osZ0JBQ0c7TUFDQyxDQUNFLG9CQUlHLGtCQUFBLE9BQUEsU0FBQSxlQUFnQixTQUFRO0lBQy9CLEVBQ0MsSUFBSSxDQUFDLEVBQUUsTUFBTSxVQUFVLEdBQUcsVUFBVTtNQUNuQyxpQkFBaUIsS0FBSyxFQUFFLElBQUksU0FBUztNQUNyQyxFQUFFLE1BQU0sVUFBVTtJQUNwQixDQUFDO0VBQ0w7QUFDRjtBQVVBLFNBQVMsK0JBQ1AsTUFDQSxrQkFJbUQ7QUFqUnJELE1BQUFDO0FBa1JFLE1BQUksS0FBSyxTQUFTLFFBQVE7QUFDeEIsV0FBTztNQUNMLE1BQU07TUFDTixNQUFNLEtBQUs7TUFDWCxpQkFBaUIsS0FBSztJQUN4QjtFQUNGO0FBRUEsTUFBSTtBQUNKLFFBQU0sT0FBTyxLQUFLO0FBQ2xCLFVBQVEsTUFBTTtJQUNaLEtBQUs7QUFDSCxxQkFBZSxLQUFLO0FBQ3BCO0lBQ0YsS0FBSztBQUNILHFCQUFlLEtBQUs7QUFFcEI7SUFDRjtBQUNFLFlBQU0sSUFBSSxNQUFNLDBCQUEwQixJQUFJLEVBQUU7RUFDcEQ7QUFFQSxRQUFNLEVBQUUsTUFBTSxlQUFlLFdBQVcsbUJBQW1CLElBQ3pELG9DQUFvQyxZQUFZO0FBRWxELE1BQUksWUFBZ0Msc0JBQUEsT0FBQSxxQkFBc0IsS0FBSztBQUMvRCxNQUFJLE9BQWtDO0FBR3RDLE1BQUksZ0JBQWdCLEtBQUs7QUFDdkIsVUFBTSxpQkFBaUIsaUJBQWlCLEtBQUssU0FBUyxDQUFDO0FBQ3ZELFFBQUksZ0JBQWdCO0FBQ2xCLGFBQU8sZUFBZTtBQUN0QixtQkFBQSxPQUFBLFlBQUEsWUFBYyxlQUFlO0lBQy9CO0VBQ0Y7QUFJQSxVQUFRLE1BQU07SUFDWixLQUFLLFNBQVM7QUFJWixVQUFJLGdCQUFnQixjQUFjLE9BQU8sU0FBUyxVQUFVO0FBQzFELHFCQUNFQSxPQUFBLGdCQUFnQixFQUFFLE1BQU0sWUFBWSx5QkFBeUIsQ0FBQyxNQUE5RCxPQUFBQSxPQUNBO01BQ0o7QUFFQSxhQUFPO1FBQ0wsTUFBTTtRQUNOLFdBQVcsYUFBQSxPQUFBLFlBQWE7O1FBQ3hCLFVBQVU7UUFDVjtRQUNBLGlCQUFpQixLQUFLO01BQ3hCO0lBQ0Y7SUFFQSxLQUFLLFFBQVE7QUFFWCxVQUFJLGFBQWEsTUFBTTtBQUNyQixjQUFNLElBQUksTUFBTSxxQ0FBcUM7TUFDdkQ7QUFFQSxhQUFPO1FBQ0wsTUFBTTtRQUNOO1FBQ0EsVUFBVSxLQUFLO1FBQ2Y7UUFDQSxpQkFBaUIsS0FBSztNQUN4QjtJQUNGO0VBQ0Y7QUFDRjtBTXRWTyxTQUFTLG9CQUFvQjtFQUNsQztFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0FBQ0YsR0FHRTtBQUNBLE1BQUksbUJBQW1CLE1BQU07QUFDM0IsUUFBSSxDQUFDLE9BQU8sVUFBVSxlQUFlLEdBQUc7QUFDdEMsWUFBTSxJQUFJQyxzQkFBcUI7UUFDN0IsV0FBVztRQUNYLE9BQU87UUFDUCxTQUFTO01BQ1gsQ0FBQztJQUNIO0FBRUEsUUFBSSxrQkFBa0IsR0FBRztBQUN2QixZQUFNLElBQUlBLHNCQUFxQjtRQUM3QixXQUFXO1FBQ1gsT0FBTztRQUNQLFNBQVM7TUFDWCxDQUFDO0lBQ0g7RUFDRjtBQUVBLE1BQUksZUFBZSxNQUFNO0FBQ3ZCLFFBQUksT0FBTyxnQkFBZ0IsVUFBVTtBQUNuQyxZQUFNLElBQUlBLHNCQUFxQjtRQUM3QixXQUFXO1FBQ1gsT0FBTztRQUNQLFNBQVM7TUFDWCxDQUFDO0lBQ0g7RUFDRjtBQUVBLE1BQUksUUFBUSxNQUFNO0FBQ2hCLFFBQUksT0FBTyxTQUFTLFVBQVU7QUFDNUIsWUFBTSxJQUFJQSxzQkFBcUI7UUFDN0IsV0FBVztRQUNYLE9BQU87UUFDUCxTQUFTO01BQ1gsQ0FBQztJQUNIO0VBQ0Y7QUFFQSxNQUFJLFFBQVEsTUFBTTtBQUNoQixRQUFJLE9BQU8sU0FBUyxVQUFVO0FBQzVCLFlBQU0sSUFBSUEsc0JBQXFCO1FBQzdCLFdBQVc7UUFDWCxPQUFPO1FBQ1AsU0FBUztNQUNYLENBQUM7SUFDSDtFQUNGO0FBRUEsTUFBSSxtQkFBbUIsTUFBTTtBQUMzQixRQUFJLE9BQU8sb0JBQW9CLFVBQVU7QUFDdkMsWUFBTSxJQUFJQSxzQkFBcUI7UUFDN0IsV0FBVztRQUNYLE9BQU87UUFDUCxTQUFTO01BQ1gsQ0FBQztJQUNIO0VBQ0Y7QUFFQSxNQUFJLG9CQUFvQixNQUFNO0FBQzVCLFFBQUksT0FBTyxxQkFBcUIsVUFBVTtBQUN4QyxZQUFNLElBQUlBLHNCQUFxQjtRQUM3QixXQUFXO1FBQ1gsT0FBTztRQUNQLFNBQVM7TUFDWCxDQUFDO0lBQ0g7RUFDRjtBQUVBLE1BQUksUUFBUSxNQUFNO0FBQ2hCLFFBQUksQ0FBQyxPQUFPLFVBQVUsSUFBSSxHQUFHO0FBQzNCLFlBQU0sSUFBSUEsc0JBQXFCO1FBQzdCLFdBQVc7UUFDWCxPQUFPO1FBQ1AsU0FBUztNQUNYLENBQUM7SUFDSDtFQUNGO0FBRUEsU0FBTztJQUNMO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7RUFDRjtBQUNGO0FFM0dPLFNBQVMsaUJBQ2RDLFVBQ21DO0FBQ25DLFNBQU9BLFlBQVUsUUFBUSxPQUFPLEtBQUtBLFFBQU0sRUFBRSxTQUFTO0FBQ3hEO0FETU8sU0FBUywwQkFBaUQ7RUFDL0Q7RUFDQTtFQUNBO0FBQ0YsR0FTRTtBQUNBLE1BQUksQ0FBQyxpQkFBaUIsS0FBSyxHQUFHO0FBQzVCLFdBQU87TUFDTCxPQUFPO01BQ1AsWUFBWTtJQUNkO0VBQ0Y7QUFHQSxRQUFNLGdCQUNKLGVBQWUsT0FDWCxPQUFPLFFBQVEsS0FBSyxFQUFFO0lBQU8sQ0FBQyxDQUFDQyxNQUFJLE1BQ2pDLFlBQVksU0FBU0EsTUFBbUI7RUFDMUMsSUFDQSxPQUFPLFFBQVEsS0FBSztBQUUxQixTQUFPO0lBQ0wsT0FBTyxjQUFjLElBQUksQ0FBQyxDQUFDQSxRQUFNQyxLQUFJLE1BQU07QUFDekMsWUFBTSxXQUFXQSxNQUFLO0FBQ3RCLGNBQVEsVUFBVTtRQUNoQixLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7QUFDSCxpQkFBTztZQUNMLE1BQU07WUFDTixNQUFBRDtZQUNBLGFBQWFDLE1BQUs7WUFDbEIsYUFBYSxTQUFTQSxNQUFLLFdBQVcsRUFBRTtZQUN4QyxpQkFBaUJBLE1BQUs7VUFDeEI7UUFDRixLQUFLO0FBQ0gsaUJBQU87WUFDTCxNQUFNO1lBQ04sTUFBQUQ7WUFDQSxJQUFJQyxNQUFLO1lBQ1QsTUFBTUEsTUFBSztVQUNiO1FBQ0YsU0FBUztBQUNQLGdCQUFNLGtCQUF5QjtBQUMvQixnQkFBTSxJQUFJLE1BQU0sMEJBQTBCLGVBQWUsRUFBRTtRQUM3RDtNQUNGO0lBQ0YsQ0FBQztJQUNELFlBQ0UsY0FBYyxPQUNWLEVBQUUsTUFBTSxPQUFPLElBQ2YsT0FBTyxlQUFlLFdBQ3BCLEVBQUUsTUFBTSxXQUFXLElBQ25CLEVBQUUsTUFBTSxRQUFpQixVQUFVLFdBQVcsU0FBbUI7RUFDM0U7QUFDRjtBS3RFTyxJQUFNLGtCQUF3Q0MsaUJBQUU7RUFBSyxNQUMxREEsaUJBQUUsTUFBTTtJQUNOQSxpQkFBRSxLQUFLO0lBQ1BBLGlCQUFFLE9BQU87SUFDVEEsaUJBQUUsT0FBTztJQUNUQSxpQkFBRSxRQUFRO0lBQ1ZBLGlCQUFFLE9BQU9BLGlCQUFFLE9BQU8sR0FBRyxlQUFlO0lBQ3BDQSxpQkFBRSxNQUFNLGVBQWU7RUFDekIsQ0FBQztBQUNIO0FEQU8sSUFBTSx5QkFBc0RBLGlCQUFFO0VBQ25FQSxpQkFBRSxPQUFPO0VBQ1RBLGlCQUFFLE9BQU9BLGlCQUFFLE9BQU8sR0FBRyxlQUFlO0FBQ3RDO0FFRU8sSUFBTSxpQkFBc0NBLGlCQUFFLE9BQU87RUFDMUQsTUFBTUEsaUJBQUUsUUFBUSxNQUFNO0VBQ3RCLE1BQU1BLGlCQUFFLE9BQU87RUFDZixpQkFBaUIsdUJBQXVCLFNBQVM7QUFDbkQsQ0FBQztBQUtNLElBQU0sa0JBQXdDQSxpQkFBRSxPQUFPO0VBQzVELE1BQU1BLGlCQUFFLFFBQVEsT0FBTztFQUN2QixPQUFPQSxpQkFBRSxNQUFNLENBQUMsbUJBQW1CQSxpQkFBRSxXQUFXLEdBQUcsQ0FBQyxDQUFDO0VBQ3JELFdBQVdBLGlCQUFFLE9BQU8sRUFBRSxTQUFTO0VBQy9CLGlCQUFpQix1QkFBdUIsU0FBUztBQUNuRCxDQUFDO0FBS00sSUFBTSxpQkFBc0NBLGlCQUFFLE9BQU87RUFDMUQsTUFBTUEsaUJBQUUsUUFBUSxNQUFNO0VBQ3RCLE1BQU1BLGlCQUFFLE1BQU0sQ0FBQyxtQkFBbUJBLGlCQUFFLFdBQVcsR0FBRyxDQUFDLENBQUM7RUFDcEQsVUFBVUEsaUJBQUUsT0FBTyxFQUFFLFNBQVM7RUFDOUIsV0FBV0EsaUJBQUUsT0FBTztFQUNwQixpQkFBaUIsdUJBQXVCLFNBQVM7QUFDbkQsQ0FBQztBQUtNLElBQU0sc0JBQWdEQSxpQkFBRSxPQUFPO0VBQ3BFLE1BQU1BLGlCQUFFLFFBQVEsV0FBVztFQUMzQixNQUFNQSxpQkFBRSxPQUFPO0VBQ2YsaUJBQWlCLHVCQUF1QixTQUFTO0FBQ25ELENBQUM7QUFrQ00sSUFBTSxxQkFBOENBLGlCQUFFLE9BQU87RUFDbEUsTUFBTUEsaUJBQUUsUUFBUSxXQUFXO0VBQzNCLFlBQVlBLGlCQUFFLE9BQU87RUFDckIsVUFBVUEsaUJBQUUsT0FBTztFQUNuQixPQUFPQSxpQkFBRSxRQUFRO0VBQ2pCLGlCQUFpQix1QkFBdUIsU0FBUztFQUNqRCxrQkFBa0JBLGlCQUFFLFFBQVEsRUFBRSxTQUFTO0FBQ3pDLENBQUM7QUFLTSxJQUFNLGVBQ1hBLGlCQUFFLG1CQUFtQixRQUFRO0VBQzNCQSxpQkFBRSxPQUFPO0lBQ1AsTUFBTUEsaUJBQUUsUUFBUSxNQUFNO0lBQ3RCLE9BQU9BLGlCQUFFLE9BQU87RUFDbEIsQ0FBQztFQUNEQSxpQkFBRSxPQUFPO0lBQ1AsTUFBTUEsaUJBQUUsUUFBUSxNQUFNO0lBQ3RCLE9BQU87RUFDVCxDQUFDO0VBQ0RBLGlCQUFFLE9BQU87SUFDUCxNQUFNQSxpQkFBRSxRQUFRLFlBQVk7SUFDNUIsT0FBT0EsaUJBQUUsT0FBTztFQUNsQixDQUFDO0VBQ0RBLGlCQUFFLE9BQU87SUFDUCxNQUFNQSxpQkFBRSxRQUFRLFlBQVk7SUFDNUIsT0FBTztFQUNULENBQUM7RUFDREEsaUJBQUUsT0FBTztJQUNQLE1BQU1BLGlCQUFFLFFBQVEsU0FBUztJQUN6QixPQUFPQSxpQkFBRTtNQUNQQSxpQkFBRSxNQUFNO1FBQ05BLGlCQUFFLE9BQU87VUFDUCxNQUFNQSxpQkFBRSxRQUFRLE1BQU07VUFDdEIsTUFBTUEsaUJBQUUsT0FBTztRQUNqQixDQUFDO1FBQ0RBLGlCQUFFLE9BQU87VUFDUCxNQUFNQSxpQkFBRSxRQUFRLE9BQU87VUFDdkIsTUFBTUEsaUJBQUUsT0FBTztVQUNmLFdBQVdBLGlCQUFFLE9BQU87UUFDdEIsQ0FBQztNQUNILENBQUM7SUFDSDtFQUNGLENBQUM7QUFDSCxDQUFDO0FBS0ksSUFBTSx1QkFBa0RBLGlCQUFFLE9BQU87RUFDdEUsTUFBTUEsaUJBQUUsUUFBUSxhQUFhO0VBQzdCLFlBQVlBLGlCQUFFLE9BQU87RUFDckIsVUFBVUEsaUJBQUUsT0FBTztFQUNuQixRQUFRO0VBQ1IsaUJBQWlCLHVCQUF1QixTQUFTO0FBQ25ELENBQUM7QUh0SE0sSUFBTSwyQkFBMERBLGlCQUFFO0VBQ3ZFO0lBQ0UsTUFBTUEsaUJBQUUsUUFBUSxRQUFRO0lBQ3hCLFNBQVNBLGlCQUFFLE9BQU87SUFDbEIsaUJBQWlCLHVCQUF1QixTQUFTO0VBQ25EO0FBQ0Y7QUFjTyxJQUFNLHlCQUFzREMsaUJBQUUsT0FBTztFQUMxRSxNQUFNQSxpQkFBRSxRQUFRLE1BQU07RUFDdEIsU0FBU0EsaUJBQUUsTUFBTTtJQUNmQSxpQkFBRSxPQUFPO0lBQ1RBLGlCQUFFLE1BQU1BLGlCQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsaUJBQWlCLGNBQWMsQ0FBQyxDQUFDO0VBQ3BFLENBQUM7RUFDRCxpQkFBaUIsdUJBQXVCLFNBQVM7QUFDbkQsQ0FBQztBQWNNLElBQU0sOEJBQ1hDLGlCQUFFLE9BQU87RUFDUCxNQUFNQSxpQkFBRSxRQUFRLFdBQVc7RUFDM0IsU0FBU0EsaUJBQUUsTUFBTTtJQUNmQSxpQkFBRSxPQUFPO0lBQ1RBLGlCQUFFO01BQ0FBLGlCQUFFLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQTtRQUNBO01BQ0YsQ0FBQztJQUNIO0VBQ0YsQ0FBQztFQUNELGlCQUFpQix1QkFBdUIsU0FBUztBQUNuRCxDQUFDO0FBY0ksSUFBTSx5QkFBc0RDLGlCQUFFLE9BQU87RUFDMUUsTUFBTUEsaUJBQUUsUUFBUSxNQUFNO0VBQ3RCLFNBQVNBLGlCQUFFLE1BQU0sb0JBQW9CO0VBQ3JDLGlCQUFpQix1QkFBdUIsU0FBUztBQUNuRCxDQUFDO0FBY00sSUFBTSxxQkFBOENDLGlCQUFFLE1BQU07RUFDakU7RUFDQTtFQUNBO0VBQ0E7QUFDRixDQUFDO0FEcEdELGVBQXNCLGtCQUNwQixRQUM2QjtBQUM3QixNQUFJLE9BQU8sVUFBVSxRQUFRLE9BQU8sWUFBWSxNQUFNO0FBQ3BELFVBQU0sSUFBSUMsbUJBQW1CO01BQzNCO01BQ0EsU0FBUztJQUNYLENBQUM7RUFDSDtBQUVBLE1BQUksT0FBTyxVQUFVLFFBQVEsT0FBTyxZQUFZLE1BQU07QUFDcEQsVUFBTSxJQUFJQSxtQkFBbUI7TUFDM0I7TUFDQSxTQUFTO0lBQ1gsQ0FBQztFQUNIO0FBR0EsTUFBSSxPQUFPLFVBQVUsUUFBUSxPQUFPLE9BQU8sV0FBVyxVQUFVO0FBQzlELFVBQU0sSUFBSUEsbUJBQW1CO01BQzNCO01BQ0EsU0FBUztJQUNYLENBQUM7RUFDSDtBQUVBLE1BQUk7QUFFSixNQUFJLE9BQU8sVUFBVSxRQUFRLE9BQU8sT0FBTyxXQUFXLFVBQVU7QUFDOUQsZUFBVyxDQUFDLEVBQUUsTUFBTSxRQUFRLFNBQVMsT0FBTyxPQUFPLENBQUM7RUFDdEQsV0FBVyxPQUFPLFVBQVUsUUFBUSxNQUFNLFFBQVEsT0FBTyxNQUFNLEdBQUc7QUFDaEUsZUFBVyxPQUFPO0VBQ3BCLFdBQVcsT0FBTyxZQUFZLE1BQU07QUFDbEMsZUFBVyxPQUFPO0VBQ3BCLE9BQU87QUFDTCxVQUFNLElBQUlBLG1CQUFtQjtNQUMzQjtNQUNBLFNBQVM7SUFDWCxDQUFDO0VBQ0g7QUFFQSxNQUFJLFNBQVMsV0FBVyxHQUFHO0FBQ3pCLFVBQU0sSUFBSUEsbUJBQW1CO01BQzNCO01BQ0EsU0FBUztJQUNYLENBQUM7RUFDSDtBQUVBLFFBQU0sbUJBQW1CLE1BQU0sa0JBQWtCO0lBQy9DLE9BQU87SUFDUCxRQUFRQyxpQkFBRSxNQUFNLGtCQUFrQjtFQUNwQyxDQUFDO0FBRUQsTUFBSSxDQUFDLGlCQUFpQixTQUFTO0FBQzdCLFVBQU0sSUFBSUQsbUJBQW1CO01BQzNCO01BQ0EsU0FDRTtNQUVGLE9BQU8saUJBQWlCO0lBQzFCLENBQUM7RUFDSDtBQUVBLFNBQU87SUFDTDtJQUNBLFFBQVEsT0FBTztFQUNqQjtBQUNGO0FLOUVPLFNBQVMsaUJBQWlCRSxTQUF5QjtBQUN4RCxNQUNFLDJCQUEyQixXQUFXQSxPQUFLLEtBQzNDLDBCQUEwQixXQUFXQSxPQUFLLEdBQzFDO0FBQ0EsV0FBTyxJQUFJQyxXQUFXO01BQ3BCLE1BQU07TUFDTixTQUNFO01BR0YsT0FBT0Q7SUFDVCxDQUFDO0VBQ0g7QUFFQSxTQUFPQTtBQUNUO0FDcEJPLFNBQVMsc0JBQXNCO0VBQ3BDO0VBQ0E7QUFDRixHQUdHO0FBQ0QsU0FBTzs7SUFFTCxrQkFBa0IsR0FBRyxXQUFXLElBQzlCLGFBQUEsT0FBQSxTQUFBLFVBQVcsZUFBYyxPQUFPLElBQUksVUFBVSxVQUFVLEtBQUssRUFDL0Q7SUFDQSxpQkFBaUIsYUFBQSxPQUFBLFNBQUEsVUFBVzs7SUFHNUIsa0JBQWtCO0lBQ2xCLDJCQUEyQixhQUFBLE9BQUEsU0FBQSxVQUFXO0VBQ3hDO0FBQ0Y7QUNoQk8sU0FBUywyQkFBMkI7RUFDekM7RUFDQTtFQUNBO0VBQ0E7QUFDRixHQUtlO0FBZGYsTUFBQUU7QUFlRSxTQUFPO0lBQ0wscUJBQXFCLE1BQU07SUFDM0IsZUFBZSxNQUFNOztJQUdyQixHQUFHLE9BQU8sUUFBUSxRQUFRLEVBQUUsT0FBTyxDQUFDLFlBQVksQ0FBQyxLQUFLLEtBQUssTUFBTTtBQUMvRCxpQkFBVyxlQUFlLEdBQUcsRUFBRSxJQUFJO0FBQ25DLGFBQU87SUFDVCxHQUFHLENBQUMsQ0FBZTs7SUFHbkIsR0FBRyxPQUFPLFNBQVFBLE9BQUEsYUFBQSxPQUFBLFNBQUEsVUFBVyxhQUFYLE9BQUFBLE9BQXVCLENBQUMsQ0FBQyxFQUFFO01BQzNDLENBQUMsWUFBWSxDQUFDLEtBQUssS0FBSyxNQUFNO0FBQzVCLG1CQUFXLHlCQUF5QixHQUFHLEVBQUUsSUFBSTtBQUM3QyxlQUFPO01BQ1Q7TUFDQSxDQUFDO0lBQ0g7O0lBR0EsR0FBRyxPQUFPLFFBQVEsV0FBQSxPQUFBLFVBQVcsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLFlBQVksQ0FBQyxLQUFLLEtBQUssTUFBTTtBQUNwRSxVQUFJLFVBQVUsUUFBVztBQUN2QixtQkFBVyxzQkFBc0IsR0FBRyxFQUFFLElBQUk7TUFDNUM7QUFDQSxhQUFPO0lBQ1QsR0FBRyxDQUFDLENBQWU7RUFDckI7QUFDRjtBRXJDTyxJQUFNLGFBQXFCO0VBQ2hDLFlBQWtCO0FBQ2hCLFdBQU87RUFDVDtFQUVBLGdCQUNFQyxRQUNBLE1BQ0EsTUFDQSxNQUNpQjtBQUNqQixRQUFJLE9BQU8sU0FBUyxZQUFZO0FBQzlCLGFBQU8sS0FBSyxRQUFRO0lBQ3RCO0FBQ0EsUUFBSSxPQUFPLFNBQVMsWUFBWTtBQUM5QixhQUFPLEtBQUssUUFBUTtJQUN0QjtBQUNBLFFBQUksT0FBTyxTQUFTLFlBQVk7QUFDOUIsYUFBTyxLQUFLLFFBQVE7SUFDdEI7RUFDRjtBQUNGO0FBRUEsSUFBTSxXQUFpQjtFQUNyQixjQUFjO0FBQ1osV0FBTztFQUNUO0VBQ0EsZUFBZTtBQUNiLFdBQU87RUFDVDtFQUNBLGdCQUFnQjtBQUNkLFdBQU87RUFDVDtFQUNBLFdBQVc7QUFDVCxXQUFPO0VBQ1Q7RUFDQSxVQUFVO0FBQ1IsV0FBTztFQUNUO0VBQ0EsV0FBVztBQUNULFdBQU87RUFDVDtFQUNBLFlBQVk7QUFDVixXQUFPO0VBQ1Q7RUFDQSxhQUFhO0FBQ1gsV0FBTztFQUNUO0VBQ0EsTUFBTTtBQUNKLFdBQU87RUFDVDtFQUNBLGNBQWM7QUFDWixXQUFPO0VBQ1Q7RUFDQSxrQkFBa0I7QUFDaEIsV0FBTztFQUNUO0FBQ0Y7QUFFQSxJQUFNLGtCQUErQjtFQUNuQyxTQUFTO0VBQ1QsUUFBUTtFQUNSLFlBQVk7QUFDZDtBRGpFTyxTQUFTLFVBQVU7RUFDeEIsWUFBWTtFQUNaO0FBQ0YsSUFHSSxDQUFDLEdBQVc7QUFDZCxNQUFJLENBQUMsV0FBVztBQUNkLFdBQU87RUFDVDtBQUVBLE1BQUksUUFBUTtBQUNWLFdBQU87RUFDVDtBQUVBLFNBQU8sTUFBTSxVQUFVLElBQUk7QUFDN0I7QUVqQk8sU0FBUyxXQUFjO0VBQzVCLE1BQUFBO0VBQ0E7RUFDQTtFQUNBO0VBQ0EsY0FBYztBQUNoQixHQU1HO0FBQ0QsU0FBTyxPQUFPLGdCQUFnQkEsUUFBTSxFQUFFLFdBQVcsR0FBRyxPQUFNLFNBQVE7QUFDaEUsUUFBSTtBQUNGLFlBQU0sU0FBUyxNQUFNLEdBQUcsSUFBSTtBQUU1QixVQUFJLGFBQWE7QUFDZixhQUFLLElBQUk7TUFDWDtBQUVBLGFBQU87SUFDVCxTQUFTSCxTQUFPO0FBQ2QsVUFBSTtBQUNGLDBCQUFrQixNQUFNQSxPQUFLO01BQy9CLFVBQUE7QUFFRSxhQUFLLElBQUk7TUFDWDtBQUVBLFlBQU1BO0lBQ1I7RUFDRixDQUFDO0FBQ0g7QUFTTyxTQUFTLGtCQUFrQixNQUFZQSxTQUFnQjtBQUM1RCxNQUFJQSxtQkFBaUIsT0FBTztBQUMxQixTQUFLLGdCQUFnQjtNQUNuQixNQUFNQSxRQUFNO01BQ1osU0FBU0EsUUFBTTtNQUNmLE9BQU9BLFFBQU07SUFDZixDQUFDO0FBQ0QsU0FBSyxVQUFVO01BQ2IsTUFBTSxlQUFlO01BQ3JCLFNBQVNBLFFBQU07SUFDakIsQ0FBQztFQUNILE9BQU87QUFDTCxTQUFLLFVBQVUsRUFBRSxNQUFNLGVBQWUsTUFBTSxDQUFDO0VBQy9DO0FBQ0Y7QUN2RE8sU0FBUywwQkFBMEI7RUFDeEM7RUFDQTtBQUNGLEdBU2U7QUFFYixPQUFJLGFBQUEsT0FBQSxTQUFBLFVBQVcsZUFBYyxNQUFNO0FBQ2pDLFdBQU8sQ0FBQztFQUNWO0FBRUEsU0FBTyxPQUFPLFFBQVEsVUFBVSxFQUFFLE9BQU8sQ0FBQ0ksYUFBWSxDQUFDLEtBQUssS0FBSyxNQUFNO0FBQ3JFLFFBQUksU0FBUyxNQUFNO0FBQ2pCLGFBQU9BO0lBQ1Q7QUFHQSxRQUNFLE9BQU8sVUFBVSxZQUNqQixXQUFXLFNBQ1gsT0FBTyxNQUFNLFVBQVUsWUFDdkI7QUFFQSxXQUFJLGFBQUEsT0FBQSxTQUFBLFVBQVcsa0JBQWlCLE9BQU87QUFDckMsZUFBT0E7TUFDVDtBQUVBLFlBQU0sU0FBUyxNQUFNLE1BQU07QUFFM0IsYUFBTyxVQUFVLE9BQU9BLGNBQWEsRUFBRSxHQUFHQSxhQUFZLENBQUMsR0FBRyxHQUFHLE9BQU87SUFDdEU7QUFHQSxRQUNFLE9BQU8sVUFBVSxZQUNqQixZQUFZLFNBQ1osT0FBTyxNQUFNLFdBQVcsWUFDeEI7QUFFQSxXQUFJLGFBQUEsT0FBQSxTQUFBLFVBQVcsbUJBQWtCLE9BQU87QUFDdEMsZUFBT0E7TUFDVDtBQUVBLFlBQU0sU0FBUyxNQUFNLE9BQU87QUFFNUIsYUFBTyxVQUFVLE9BQU9BLGNBQWEsRUFBRSxHQUFHQSxhQUFZLENBQUMsR0FBRyxHQUFHLE9BQU87SUFDdEU7QUFHQSxXQUFPLEVBQUUsR0FBR0EsYUFBWSxDQUFDLEdBQUcsR0FBRyxNQUFNO0VBQ3ZDLEdBQUcsQ0FBQyxDQUFDO0FBQ1A7QUNqRE8sU0FBUyxzQkFBc0IsUUFBdUM7QUFDM0UsU0FBTyxLQUFLO0lBQ1YsT0FBTyxJQUFJLENBQUMsYUFBcUM7TUFDL0MsR0FBRztNQUNILFNBQ0UsT0FBTyxRQUFRLFlBQVksV0FDdkIsUUFBUSxVQUNSLFFBQVEsUUFBUTtRQUFJLENBQUEsU0FDbEIsS0FBSyxTQUFTLFNBQ1Y7VUFDRSxHQUFHO1VBQ0gsTUFDRSxLQUFLLGdCQUFnQixhQUNqQixpQ0FBaUMsS0FBSyxJQUFJLElBQzFDLEtBQUs7UUFDYixJQUNBO01BQ047SUFDUixFQUFFO0VBQ0o7QUFDRjtBQ2RPLFNBQVMsc0JBQ2QsUUFDQSxRQUNvQjtBQUNwQixTQUFPO0lBQ0wsYUFBYSxlQUFlLE9BQU8sYUFBYSxPQUFPLFdBQVc7SUFDbEUsY0FBYyxlQUFlLE9BQU8sY0FBYyxPQUFPLFlBQVk7SUFDckUsYUFBYSxlQUFlLE9BQU8sYUFBYSxPQUFPLFdBQVc7SUFDbEUsaUJBQWlCO01BQ2YsT0FBTztNQUNQLE9BQU87SUFDVDtJQUNBLG1CQUFtQjtNQUNqQixPQUFPO01BQ1AsT0FBTztJQUNUO0VBQ0Y7QUFDRjtBQUVBLFNBQVMsZUFDUCxhQUNBLGFBQ29CO0FBQ3BCLFNBQU8sZUFBZSxRQUFRLGVBQWUsT0FDekMsVUFDQyxlQUFBLE9BQUEsY0FBZSxNQUFNLGVBQUEsT0FBQSxjQUFlO0FBQzNDO0FDNUNPLFNBQVMsUUFBVyxPQUFpQztBQUMxRCxTQUFPLFVBQVUsU0FBWSxDQUFDLElBQUksTUFBTSxRQUFRLEtBQUssSUFBSSxRQUFRLENBQUMsS0FBSztBQUN6RTtBQ01BLFNBQVMsa0JBQWtCO0VBQ3pCLE9BQUFKO0VBQ0E7QUFDRixHQUdXO0FBQ1QsUUFBTSxVQUFVQSxRQUFNO0FBRXRCLE1BQUksQ0FBQztBQUFTLFdBQU87QUFFckIsTUFBSTtBQUdKLFFBQU0sZUFBZSxRQUFRLGdCQUFnQjtBQUM3QyxNQUFJLGNBQWM7QUFDaEIsVUFBTSxZQUFZLFdBQVcsWUFBWTtBQUN6QyxRQUFJLENBQUMsT0FBTyxNQUFNLFNBQVMsR0FBRztBQUM1QixXQUFLO0lBQ1A7RUFDRjtBQUdBLFFBQU0sYUFBYSxRQUFRLGFBQWE7QUFDeEMsTUFBSSxjQUFjLE9BQU8sUUFBVztBQUNsQyxVQUFNLGlCQUFpQixXQUFXLFVBQVU7QUFDNUMsUUFBSSxDQUFDLE9BQU8sTUFBTSxjQUFjLEdBQUc7QUFDakMsV0FBSyxpQkFBaUI7SUFDeEIsT0FBTztBQUNMLFdBQUssS0FBSyxNQUFNLFVBQVUsSUFBSSxLQUFLLElBQUk7SUFDekM7RUFDRjtBQUdBLE1BQ0UsTUFBTSxRQUNOLENBQUMsT0FBTyxNQUFNLEVBQUUsS0FDaEIsS0FBSyxPQUNKLEtBQUssS0FBSyxPQUFRLEtBQUssMEJBQ3hCO0FBQ0EsV0FBTztFQUNUO0FBRUEsU0FBTztBQUNUO0FBT08sSUFBTSxvREFDWCxDQUFDO0VBQ0MsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEI7QUFDRixJQUtJLENBQUMsTUFDTCxPQUFlSyxPQUNiLDZCQUE2QkEsSUFBRztFQUM5QjtFQUNBLFdBQVc7RUFDWDtFQUNBO0FBQ0YsQ0FBQztBQUVMLGVBQWUsNkJBQ2JBLElBQ0E7RUFDRTtFQUNBO0VBQ0E7RUFDQTtBQUNGLEdBTUEsU0FBb0IsQ0FBQyxHQUNKO0FBQ2pCLE1BQUk7QUFDRixXQUFPLE1BQU1BLEdBQUU7RUFDakIsU0FBU0wsU0FBTztBQUNkLFFBQUksYUFBYUEsT0FBSyxHQUFHO0FBQ3ZCLFlBQU1BO0lBQ1I7QUFFQSxRQUFJLGVBQWUsR0FBRztBQUNwQixZQUFNQTtJQUNSO0FBRUEsVUFBTSxlQUFlTSxpQkFBZ0JOLE9BQUs7QUFDMUMsVUFBTSxZQUFZLENBQUMsR0FBRyxRQUFRQSxPQUFLO0FBQ25DLFVBQU0sWUFBWSxVQUFVO0FBRTVCLFFBQUksWUFBWSxZQUFZO0FBQzFCLFlBQU0sSUFBSSxXQUFXO1FBQ25CLFNBQVMsZ0JBQWdCLFNBQVMsMEJBQTBCLFlBQVk7UUFDeEUsUUFBUTtRQUNSLFFBQVE7TUFDVixDQUFDO0lBQ0g7QUFFQSxRQUNFQSxtQkFBaUIsU0FDakJPLGFBQWEsV0FBV1AsT0FBSyxLQUM3QkEsUUFBTSxnQkFBZ0IsUUFDdEIsYUFBYSxZQUNiO0FBQ0EsWUFBTTtRQUNKLGtCQUFrQjtVQUNoQixPQUFBQTtVQUNBLHlCQUF5QjtRQUMzQixDQUFDO1FBQ0QsRUFBRSxZQUFZO01BQ2hCO0FBRUEsYUFBTztRQUNMSztRQUNBO1VBQ0U7VUFDQSxXQUFXLGdCQUFnQjtVQUMzQjtVQUNBO1FBQ0Y7UUFDQTtNQUNGO0lBQ0Y7QUFFQSxRQUFJLGNBQWMsR0FBRztBQUNuQixZQUFNTDtJQUNSO0FBRUEsVUFBTSxJQUFJLFdBQVc7TUFDbkIsU0FBUyxnQkFBZ0IsU0FBUyx3Q0FBd0MsWUFBWTtNQUN0RixRQUFRO01BQ1IsUUFBUTtJQUNWLENBQUM7RUFDSDtBQUNGO0FDaEpPLFNBQVMsZUFBZTtFQUM3QjtFQUNBO0FBQ0YsR0FNRTtBQUNBLE1BQUksY0FBYyxNQUFNO0FBQ3RCLFFBQUksQ0FBQyxPQUFPLFVBQVUsVUFBVSxHQUFHO0FBQ2pDLFlBQU0sSUFBSVEsc0JBQXFCO1FBQzdCLFdBQVc7UUFDWCxPQUFPO1FBQ1AsU0FBUztNQUNYLENBQUM7SUFDSDtBQUVBLFFBQUksYUFBYSxHQUFHO0FBQ2xCLFlBQU0sSUFBSUEsc0JBQXFCO1FBQzdCLFdBQVc7UUFDWCxPQUFPO1FBQ1AsU0FBUztNQUNYLENBQUM7SUFDSDtFQUNGO0FBRUEsUUFBTSxtQkFBbUIsY0FBQSxPQUFBLGFBQWM7QUFFdkMsU0FBTztJQUNMLFlBQVk7SUFDWixPQUFPLGtEQUFrRDtNQUN2RCxZQUFZO01BQ1o7SUFDRixDQUFDO0VBQ0g7QUFDRjtBRW5CTyxJQUFNLHVCQUFOLE1BQW9EO0VBTXpELFlBQVk7SUFDVjtJQUNBO0VBQ0YsR0FHRztBQUNELFVBQU0sZUFBZSxnQkFBZ0I7QUFDckMsU0FBSyxhQUFhLGVBQWUsU0FBWTtBQUM3QyxTQUFLLGlCQUFpQixlQUFlLE9BQU87QUFDNUMsU0FBSyxZQUFZO0VBQ25COztFQUdBLElBQUksU0FBUztBQUNYLFFBQUksS0FBSyxjQUFjLE1BQU07QUFDM0IsV0FBSyxhQUFhQywwQkFBMEIsS0FBSyxjQUFlO0lBQ2xFO0FBQ0EsV0FBTyxLQUFLO0VBQ2Q7O0VBR0EsSUFBSSxhQUFhO0FBQ2YsUUFBSSxLQUFLLGtCQUFrQixNQUFNO0FBQy9CLFdBQUssaUJBQWlCQywwQkFBMEIsS0FBSyxVQUFXO0lBQ2xFO0FBQ0EsV0FBTyxLQUFLO0VBQ2Q7QUFDRjtBQUVPLElBQU0sK0JBQU4sY0FBMkMscUJBQXFCO0VBR3JFLFlBQVksU0FBMkQ7QUFDckUsVUFBTSxPQUFPO0FBSGYsU0FBUyxPQUFPO0VBSWhCO0FBQ0Y7QUN2REEsZUFBc0IsY0FBcUM7RUFDekQ7RUFDQTtFQUNBO0VBQ0E7RUFDQTtBQUNGLEdBTWtDO0FBQ2hDLE1BQUk7QUFDRixRQUFJLFNBQVMsTUFBTTtBQUNqQixZQUFNLElBQUksZ0JBQWdCLEVBQUUsVUFBVSxTQUFTLFNBQVMsQ0FBQztJQUMzRDtBQUVBLFFBQUk7QUFDRixhQUFPLE1BQU0sZ0JBQWdCLEVBQUUsVUFBVSxNQUFNLENBQUM7SUFDbEQsU0FBU0MsU0FBTztBQUNkLFVBQ0Usa0JBQWtCLFFBQ2xCLEVBQ0UsZ0JBQWdCLFdBQVdBLE9BQUssS0FDaEMsc0JBQXNCLFdBQVdBLE9BQUssSUFFeEM7QUFDQSxjQUFNQTtNQUNSO0FBRUEsVUFBSSxtQkFBbUQ7QUFFdkQsVUFBSTtBQUNGLDJCQUFtQixNQUFNLGVBQWU7VUFDdEM7VUFDQTtVQUNBLGFBQWEsQ0FBQyxFQUFFLFNBQVMsTUFBTTtBQUM3QixrQkFBTSxFQUFFLFlBQVksSUFBSSxNQUFNLFFBQVE7QUFDdEMsbUJBQU9DLFNBQVMsV0FBVyxFQUFFO1VBQy9CO1VBQ0E7VUFDQTtVQUNBLE9BQUFEO1FBQ0YsQ0FBQztNQUNILFNBQVMsYUFBYTtBQUNwQixjQUFNLElBQUksb0JBQW9CO1VBQzVCLE9BQU87VUFDUCxlQUFlQTtRQUNqQixDQUFDO01BQ0g7QUFHQSxVQUFJLG9CQUFvQixNQUFNO0FBQzVCLGNBQU1BO01BQ1I7QUFFQSxhQUFPLE1BQU0sZ0JBQWdCLEVBQUUsVUFBVSxrQkFBa0IsTUFBTSxDQUFDO0lBQ3BFO0VBQ0YsU0FBU0EsU0FBTztBQUVkLFVBQU0sY0FBYyxNQUFNLGNBQWMsRUFBRSxNQUFNLFNBQVMsTUFBTSxDQUFDO0FBQ2hFLFVBQU0sUUFBUSxZQUFZLFVBQVUsWUFBWSxRQUFRLFNBQVM7QUFHakUsV0FBTztNQUNMLE1BQU07TUFDTixZQUFZLFNBQVM7TUFDckIsVUFBVSxTQUFTO01BQ25CO01BQ0EsU0FBUztNQUNULFNBQVM7TUFDVCxPQUFBQTtJQUNGO0VBQ0Y7QUFDRjtBQUVBLGVBQWUsZ0JBQXVDO0VBQ3BEO0VBQ0E7QUFDRixHQUdrQztBQUNoQyxRQUFNLFdBQVcsU0FBUztBQUUxQixRQUFNRSxRQUFPLE1BQU0sUUFBUTtBQUUzQixNQUFJQSxTQUFRLE1BQU07QUFDaEIsVUFBTSxJQUFJLGdCQUFnQjtNQUN4QixVQUFVLFNBQVM7TUFDbkIsZ0JBQWdCLE9BQU8sS0FBSyxLQUFLO0lBQ25DLENBQUM7RUFDSDtBQUVBLFFBQU0sU0FBU0QsU0FBU0MsTUFBSyxXQUFXO0FBSXhDLFFBQU0sY0FDSixTQUFTLE1BQU0sS0FBSyxNQUFNLEtBQ3RCLE1BQU1DLGtCQUFrQixFQUFFLE9BQU8sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxJQUM3QyxNQUFNLGNBQWMsRUFBRSxNQUFNLFNBQVMsT0FBTyxPQUFPLENBQUM7QUFFMUQsTUFBSSxZQUFZLFlBQVksT0FBTztBQUNqQyxVQUFNLElBQUksc0JBQXNCO01BQzlCO01BQ0EsV0FBVyxTQUFTO01BQ3BCLE9BQU8sWUFBWTtJQUNyQixDQUFDO0VBQ0g7QUFFQSxTQUFPRCxNQUFLLFNBQVMsWUFDakI7SUFDRSxNQUFNO0lBQ04sWUFBWSxTQUFTO0lBQ3JCLFVBQVUsU0FBUztJQUNuQixPQUFPLFlBQVk7SUFDbkIsa0JBQWtCLFNBQVM7SUFDM0Isa0JBQWtCLFNBQVM7SUFDM0IsU0FBUztFQUNYLElBQ0E7SUFDRSxNQUFNO0lBQ04sWUFBWSxTQUFTO0lBQ3JCO0lBQ0EsT0FBTyxZQUFZO0lBQ25CLGtCQUFrQixTQUFTO0lBQzNCLGtCQUFrQixTQUFTO0VBQzdCO0FBQ047QUNkTyxJQUFNLG9CQUFOLE1BRVA7RUFTRSxZQUFZO0lBQ1Y7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7RUFDRixHQVFHO0FBQ0QsU0FBSyxVQUFVO0FBQ2YsU0FBSyxlQUFlO0FBQ3BCLFNBQUssUUFBUTtBQUNiLFNBQUssV0FBVztBQUNoQixTQUFLLFVBQVU7QUFDZixTQUFLLFdBQVc7QUFDaEIsU0FBSyxtQkFBbUI7RUFDMUI7RUFFQSxJQUFJLE9BQU87QUFDVCxXQUFPLEtBQUssUUFDVCxPQUFPLENBQUEsU0FBUSxLQUFLLFNBQVMsTUFBTSxFQUNuQyxJQUFJLENBQUEsU0FBUSxLQUFLLElBQUksRUFDckIsS0FBSyxFQUFFO0VBQ1o7RUFFQSxJQUFJLFlBQVk7QUFDZCxXQUFPLEtBQUssUUFBUSxPQUFPLENBQUEsU0FBUSxLQUFLLFNBQVMsV0FBVztFQUM5RDtFQUVBLElBQUksZ0JBQWdCO0FBQ2xCLFdBQU8sS0FBSyxVQUFVLFdBQVcsSUFDN0IsU0FDQSxLQUFLLFVBQVUsSUFBSSxDQUFBLFNBQVEsS0FBSyxJQUFJLEVBQUUsS0FBSyxFQUFFO0VBQ25EO0VBRUEsSUFBSSxRQUFRO0FBQ1YsV0FBTyxLQUFLLFFBQ1QsT0FBTyxDQUFBLFNBQVEsS0FBSyxTQUFTLE1BQU0sRUFDbkMsSUFBSSxDQUFBLFNBQVEsS0FBSyxJQUFJO0VBQzFCO0VBRUEsSUFBSSxVQUFVO0FBQ1osV0FBTyxLQUFLLFFBQVEsT0FBTyxDQUFBLFNBQVEsS0FBSyxTQUFTLFFBQVE7RUFDM0Q7RUFFQSxJQUFJLFlBQVk7QUFDZCxXQUFPLEtBQUssUUFBUSxPQUFPLENBQUEsU0FBUSxLQUFLLFNBQVMsV0FBVztFQUM5RDtFQUVBLElBQUksa0JBQWtCO0FBQ3BCLFdBQU8sS0FBSyxVQUFVO01BQ3BCLENBQUMsYUFDQyxTQUFTLFlBQVk7SUFDekI7RUFDRjtFQUVBLElBQUksbUJBQW1CO0FBQ3JCLFdBQU8sS0FBSyxVQUFVO01BQ3BCLENBQUMsYUFBMEMsU0FBUyxZQUFZO0lBQ2xFO0VBQ0Y7RUFFQSxJQUFJLGNBQWM7QUFDaEIsV0FBTyxLQUFLLFFBQVEsT0FBTyxDQUFBLFNBQVEsS0FBSyxTQUFTLGFBQWE7RUFDaEU7RUFFQSxJQUFJLG9CQUFvQjtBQUN0QixXQUFPLEtBQUssWUFBWTtNQUN0QixDQUFDLGVBQ0MsV0FBVyxZQUFZO0lBQzNCO0VBQ0Y7RUFFQSxJQUFJLHFCQUFxQjtBQUN2QixXQUFPLEtBQUssWUFBWTtNQUN0QixDQUFDLGVBQ0MsV0FBVyxZQUFZO0lBQzNCO0VBQ0Y7QUFDRjtBQzdOTyxTQUFTLFlBQVksV0FBdUM7QUFDakUsU0FBTyxDQUFDLEVBQUUsTUFBTSxNQUFNLE1BQU0sV0FBVztBQUN6QztBQVNBLGVBQXNCLG1CQUEwQztFQUM5RDtFQUNBO0FBQ0YsR0FHcUI7QUFDbkIsVUFDRSxNQUFNLFFBQVEsSUFBSSxlQUFlLElBQUksQ0FBQSxjQUFhLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQ3ZFLEtBQUssQ0FBQSxXQUFVLE1BQU07QUFDekI7QUNyQk8sU0FBUyxzQkFBc0I7RUFDcEM7RUFDQSxNQUFBRTtFQUNBO0FBQ0YsR0FJb0M7QUFDbEMsTUFBSSxjQUFjLFFBQVE7QUFDeEIsV0FBTyxFQUFFLE1BQU0sY0FBYyxPQUFPQyxnQkFBZ0IsTUFBTSxFQUFFO0VBQzlELFdBQVcsY0FBYyxRQUFRO0FBQy9CLFdBQU8sRUFBRSxNQUFNLGNBQWMsT0FBTyxZQUFZLE1BQU0sRUFBRTtFQUMxRDtBQUVBLE1BQUlELFNBQUEsT0FBQSxTQUFBQSxNQUFNLGVBQWU7QUFDdkIsV0FBT0EsTUFBSyxjQUFjLE1BQU07RUFDbEM7QUFFQSxTQUFPLE9BQU8sV0FBVyxXQUNyQixFQUFFLE1BQU0sUUFBUSxPQUFPLE9BQU8sSUFDOUIsRUFBRSxNQUFNLFFBQVEsT0FBTyxZQUFZLE1BQU0sRUFBRTtBQUNqRDtBQUVBLFNBQVMsWUFBWSxPQUEyQjtBQUM5QyxTQUFPLFVBQVUsU0FBWSxPQUFRO0FBQ3ZDO0FDcEJPLFNBQVMsbUJBQTBDO0VBQ3hELFNBQVM7RUFDVDtBQUNGLEdBR29EO0FBQ2xELFFBQU0sbUJBQW9FLENBQUM7QUFFM0UsUUFBTSxVQUE0QixhQUMvQixPQUFPLENBQUEsU0FBUSxLQUFLLFNBQVMsUUFBUSxFQUNyQztJQUNDLENBQUEsVUFDRyxLQUFLLFNBQVMsaUJBQWlCLEtBQUssc0JBQ3BDLEtBQUssU0FBUyxnQkFBZ0IsS0FBSztFQUN4QyxFQUNDLE9BQU8sQ0FBQSxTQUFRLEtBQUssU0FBUyxVQUFVLEtBQUssS0FBSyxTQUFTLENBQUMsRUFDM0QsSUFBSSxDQUFBLFNBQVE7QUFDWCxZQUFRLEtBQUssTUFBTTtNQUNqQixLQUFLO0FBQ0gsZUFBTztVQUNMLE1BQU07VUFDTixNQUFNLEtBQUs7VUFDWCxpQkFBaUIsS0FBSztRQUN4QjtNQUNGLEtBQUs7QUFDSCxlQUFPO1VBQ0wsTUFBTTtVQUNOLE1BQU0sS0FBSztVQUNYLGlCQUFpQixLQUFLO1FBQ3hCO01BQ0YsS0FBSztBQUNILGVBQU87VUFDTCxNQUFNO1VBQ04sTUFBTSxLQUFLLEtBQUs7VUFDaEIsV0FBVyxLQUFLLEtBQUs7VUFDckIsaUJBQWlCLEtBQUs7UUFDeEI7TUFDRixLQUFLO0FBQ0gsZUFBTztVQUNMLE1BQU07VUFDTixZQUFZLEtBQUs7VUFDakIsVUFBVSxLQUFLO1VBQ2YsT0FBTyxLQUFLO1VBQ1osa0JBQWtCLEtBQUs7VUFDdkIsaUJBQWlCLEtBQUs7UUFDeEI7TUFDRixLQUFLO0FBQ0gsZUFBTztVQUNMLE1BQU07VUFDTixZQUFZLEtBQUs7VUFDakIsVUFBVSxLQUFLO1VBQ2YsUUFBUSxzQkFBc0I7WUFDNUIsTUFBTSxTQUFBLE9BQUEsU0FBQSxNQUFRLEtBQUssUUFBQTtZQUNuQixRQUFRLEtBQUs7WUFDYixXQUFXO1VBQ2IsQ0FBQztVQUNELGtCQUFrQjtVQUNsQixpQkFBaUIsS0FBSztRQUN4QjtNQUNGLEtBQUs7QUFDSCxlQUFPO1VBQ0wsTUFBTTtVQUNOLFlBQVksS0FBSztVQUNqQixVQUFVLEtBQUs7VUFDZixRQUFRLHNCQUFzQjtZQUM1QixNQUFNLFNBQUEsT0FBQSxTQUFBLE1BQVEsS0FBSyxRQUFBO1lBQ25CLFFBQVEsS0FBSztZQUNiLFdBQVc7VUFDYixDQUFDO1VBQ0QsaUJBQWlCLEtBQUs7UUFDeEI7SUFDSjtFQUNGLENBQUM7QUFFSCxNQUFJLFFBQVEsU0FBUyxHQUFHO0FBQ3RCLHFCQUFpQixLQUFLO01BQ3BCLE1BQU07TUFDTjtJQUNGLENBQUM7RUFDSDtBQUVBLFFBQU0sb0JBQWlDLGFBQ3BDLE9BQU8sQ0FBQSxTQUFRLEtBQUssU0FBUyxpQkFBaUIsS0FBSyxTQUFTLFlBQVksRUFDeEUsT0FBTyxDQUFBLFNBQVEsQ0FBQyxLQUFLLGdCQUFnQixFQUNyQyxJQUFJLENBQUEsZ0JBQWU7SUFDbEIsTUFBTTtJQUNOLFlBQVksV0FBVztJQUN2QixVQUFVLFdBQVc7SUFDckIsUUFBUSxzQkFBc0I7TUFDNUIsTUFBTSxTQUFBLE9BQUEsU0FBQSxNQUFRLFdBQVcsUUFBQTtNQUN6QixRQUNFLFdBQVcsU0FBUyxnQkFDaEIsV0FBVyxTQUNYLFdBQVc7TUFDakIsV0FBVyxXQUFXLFNBQVMsZUFBZSxTQUFTO0lBQ3pELENBQUM7RUFDSCxFQUFFO0FBRUosTUFBSSxrQkFBa0IsU0FBUyxHQUFHO0FBQ2hDLHFCQUFpQixLQUFLO01BQ3BCLE1BQU07TUFDTixTQUFTO0lBQ1gsQ0FBQztFQUNIO0FBRUEsU0FBTztBQUNUO0FwRDVEQSxJQUFNLHFCQUFxQixrQkFBa0I7RUFDM0MsUUFBUTtFQUNSLE1BQU07QUFDUixDQUFDO0F1RC9ETSxTQUFTLGVBQ2QsU0FDQSxnQkFDUztBQUNULFFBQU0sa0JBQWtCLElBQUksUUFBUSxXQUFBLE9BQUEsVUFBVyxDQUFDLENBQUM7QUFFakQsYUFBVyxDQUFDLEtBQUssS0FBSyxLQUFLLE9BQU8sUUFBUSxjQUFjLEdBQUc7QUFDekQsUUFBSSxDQUFDLGdCQUFnQixJQUFJLEdBQUcsR0FBRztBQUM3QixzQkFBZ0IsSUFBSSxLQUFLLEtBQUs7SUFDaEM7RUFDRjtBQUVBLFNBQU87QUFDVDtBQ1hPLFNBQVMseUJBQXlCO0VBQ3ZDO0VBQ0E7RUFDQTtFQUNBO0FBQ0YsR0FFYTtBQUNYLFNBQU8sSUFBSSxTQUFTLFdBQVcsWUFBWSxJQUFJLGtCQUFrQixDQUFDLEdBQUc7SUFDbkUsUUFBUSxVQUFBLE9BQUEsU0FBVTtJQUNsQjtJQUNBLFNBQVMsZUFBZSxTQUFTO01BQy9CLGdCQUFnQjtJQUNsQixDQUFDO0VBQ0gsQ0FBQztBQUNIO0FDWk8sU0FBUyxzQkFBc0I7RUFDcEM7RUFDQTtFQUNBO0VBQ0E7RUFDQTtBQUNGLEdBTVM7QUFDUCxXQUFTLFVBQVUsVUFBQSxPQUFBLFNBQVUsS0FBSyxZQUFZLE9BQU87QUFFckQsUUFBTSxTQUFTLE9BQU8sVUFBVTtBQUNoQyxRQUFNLE9BQU8sWUFBWTtBQUN2QixRQUFJO0FBQ0YsYUFBTyxNQUFNO0FBQ1gsY0FBTSxFQUFFLE1BQU0sTUFBTSxJQUFJLE1BQU0sT0FBTyxLQUFLO0FBQzFDLFlBQUk7QUFBTTtBQUNWLGlCQUFTLE1BQU0sS0FBSztNQUN0QjtJQUNGLFNBQVNFLFNBQU87QUFDZCxZQUFNQTtJQUNSLFVBQUE7QUFDRSxlQUFTLElBQUk7SUFDZjtFQUNGO0FBRUEsT0FBSztBQUNQO0FDaENPLFNBQVMseUJBQXlCO0VBQ3ZDO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7QUFDRixHQUd3QjtBQUN0Qix3QkFBc0I7SUFDcEI7SUFDQTtJQUNBO0lBQ0EsU0FBUyxPQUFPO01BQ2QsZUFBZSxTQUFTO1FBQ3RCLGdCQUFnQjtNQUNsQixDQUFDLEVBQUUsUUFBUTtJQUNiO0lBQ0EsUUFBUSxXQUFXLFlBQVksSUFBSSxrQkFBa0IsQ0FBQztFQUN4RCxDQUFDO0FBQ0g7QUN6Qk8sSUFBTSwyQkFBTixjQUF1QyxnQkFBaUM7RUFDN0UsY0FBYztBQUNaLFVBQU07TUFDSixVQUFVLE1BQU0sWUFBWTtBQUMxQixtQkFBVyxRQUFRLFNBQVMsS0FBSyxVQUFVLElBQUksQ0FBQzs7Q0FBTTtNQUN4RDtNQUNBLE1BQU0sWUFBWTtBQUNoQixtQkFBVyxRQUFRLGtCQUFrQjtNQUN2QztJQUNGLENBQUM7RUFDSDtBQUNGO0FDWE8sSUFBTSw0QkFBNEI7RUFDdkMsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1osaUNBQWlDO0VBQ2pDLHFCQUFxQjs7QUFDdkI7QUNBTyxTQUFTLDhCQUE4QjtFQUM1QztFQUNBO0VBQ0E7RUFDQTtFQUNBO0FBQ0YsR0FFYTtBQUNYLE1BQUksWUFBWSxPQUFPLFlBQVksSUFBSSx5QkFBeUIsQ0FBQztBQUtqRSxNQUFJLGtCQUFrQjtBQUNwQixVQUFNLENBQUMsU0FBUyxPQUFPLElBQUksVUFBVSxJQUFJO0FBQ3pDLGdCQUFZO0FBQ1oscUJBQWlCLEVBQUUsUUFBUSxRQUFRLENBQUM7RUFDdEM7QUFFQSxTQUFPLElBQUksU0FBUyxVQUFVLFlBQVksSUFBSSxrQkFBa0IsQ0FBQyxHQUFHO0lBQ2xFO0lBQ0E7SUFDQSxTQUFTLGVBQWUsU0FBUyx5QkFBeUI7RUFDNUQsQ0FBQztBQUNIO0FDNUJPLFNBQVMsdUJBQXVCO0VBQ3JDO0VBQ0E7QUFDRixHQUdHO0FBR0QsTUFBSSxvQkFBb0IsTUFBTTtBQUM1QixXQUFPO0VBQ1Q7QUFFQSxRQUFNLGNBQWMsaUJBQWlCLGlCQUFpQixTQUFTLENBQUM7QUFFaEUsVUFBTyxlQUFBLE9BQUEsU0FBQSxZQUFhLFVBQVMsY0FDekIsWUFBWSxLQUNaLE9BQU8sc0JBQXNCLGFBQzNCLGtCQUFrQixJQUNsQjtBQUNSO0FFVk8sSUFBTSx1QkFBdUJDLGlCQUFFLE1BQU07RUFDMUNBLGlCQUFFLGFBQWE7SUFDYixNQUFNQSxpQkFBRSxRQUFRLFlBQVk7SUFDNUIsSUFBSUEsaUJBQUUsT0FBTztJQUNiLGtCQUFrQix1QkFBdUIsU0FBUztFQUNwRCxDQUFDO0VBQ0RBLGlCQUFFLGFBQWE7SUFDYixNQUFNQSxpQkFBRSxRQUFRLFlBQVk7SUFDNUIsSUFBSUEsaUJBQUUsT0FBTztJQUNiLE9BQU9BLGlCQUFFLE9BQU87SUFDaEIsa0JBQWtCLHVCQUF1QixTQUFTO0VBQ3BELENBQUM7RUFDREEsaUJBQUUsYUFBYTtJQUNiLE1BQU1BLGlCQUFFLFFBQVEsVUFBVTtJQUMxQixJQUFJQSxpQkFBRSxPQUFPO0lBQ2Isa0JBQWtCLHVCQUF1QixTQUFTO0VBQ3BELENBQUM7RUFDREEsaUJBQUUsYUFBYTtJQUNiLE1BQU1BLGlCQUFFLFFBQVEsT0FBTztJQUN2QixXQUFXQSxpQkFBRSxPQUFPO0VBQ3RCLENBQUM7RUFDREEsaUJBQUUsYUFBYTtJQUNiLE1BQU1BLGlCQUFFLFFBQVEsa0JBQWtCO0lBQ2xDLFlBQVlBLGlCQUFFLE9BQU87SUFDckIsVUFBVUEsaUJBQUUsT0FBTztJQUNuQixrQkFBa0JBLGlCQUFFLFFBQVEsRUFBRSxTQUFTO0lBQ3ZDLFNBQVNBLGlCQUFFLFFBQVEsRUFBRSxTQUFTO0VBQ2hDLENBQUM7RUFDREEsaUJBQUUsYUFBYTtJQUNiLE1BQU1BLGlCQUFFLFFBQVEsa0JBQWtCO0lBQ2xDLFlBQVlBLGlCQUFFLE9BQU87SUFDckIsZ0JBQWdCQSxpQkFBRSxPQUFPO0VBQzNCLENBQUM7RUFDREEsaUJBQUUsYUFBYTtJQUNiLE1BQU1BLGlCQUFFLFFBQVEsc0JBQXNCO0lBQ3RDLFlBQVlBLGlCQUFFLE9BQU87SUFDckIsVUFBVUEsaUJBQUUsT0FBTztJQUNuQixPQUFPQSxpQkFBRSxRQUFRO0lBQ2pCLGtCQUFrQkEsaUJBQUUsUUFBUSxFQUFFLFNBQVM7SUFDdkMsa0JBQWtCLHVCQUF1QixTQUFTO0lBQ2xELFNBQVNBLGlCQUFFLFFBQVEsRUFBRSxTQUFTO0VBQ2hDLENBQUM7RUFDREEsaUJBQUUsYUFBYTtJQUNiLE1BQU1BLGlCQUFFLFFBQVEsa0JBQWtCO0lBQ2xDLFlBQVlBLGlCQUFFLE9BQU87SUFDckIsVUFBVUEsaUJBQUUsT0FBTztJQUNuQixPQUFPQSxpQkFBRSxRQUFRO0lBQ2pCLGtCQUFrQkEsaUJBQUUsUUFBUSxFQUFFLFNBQVM7SUFDdkMsa0JBQWtCLHVCQUF1QixTQUFTO0lBQ2xELFNBQVNBLGlCQUFFLFFBQVEsRUFBRSxTQUFTO0lBQzlCLFdBQVdBLGlCQUFFLE9BQU87RUFDdEIsQ0FBQztFQUNEQSxpQkFBRSxhQUFhO0lBQ2IsTUFBTUEsaUJBQUUsUUFBUSx1QkFBdUI7SUFDdkMsWUFBWUEsaUJBQUUsT0FBTztJQUNyQixRQUFRQSxpQkFBRSxRQUFRO0lBQ2xCLGtCQUFrQkEsaUJBQUUsUUFBUSxFQUFFLFNBQVM7SUFDdkMsU0FBU0EsaUJBQUUsUUFBUSxFQUFFLFNBQVM7SUFDOUIsYUFBYUEsaUJBQUUsUUFBUSxFQUFFLFNBQVM7RUFDcEMsQ0FBQztFQUNEQSxpQkFBRSxhQUFhO0lBQ2IsTUFBTUEsaUJBQUUsUUFBUSxtQkFBbUI7SUFDbkMsWUFBWUEsaUJBQUUsT0FBTztJQUNyQixXQUFXQSxpQkFBRSxPQUFPO0lBQ3BCLGtCQUFrQkEsaUJBQUUsUUFBUSxFQUFFLFNBQVM7SUFDdkMsU0FBU0EsaUJBQUUsUUFBUSxFQUFFLFNBQVM7RUFDaEMsQ0FBQztFQUNEQSxpQkFBRSxhQUFhO0lBQ2IsTUFBTUEsaUJBQUUsUUFBUSxXQUFXO0lBQzNCLE1BQU1BLGlCQUFFLE9BQU87SUFDZixrQkFBa0IsdUJBQXVCLFNBQVM7RUFDcEQsQ0FBQztFQUNEQSxpQkFBRSxhQUFhO0lBQ2IsTUFBTUEsaUJBQUUsUUFBUSxpQkFBaUI7SUFDakMsSUFBSUEsaUJBQUUsT0FBTztJQUNiLGtCQUFrQix1QkFBdUIsU0FBUztFQUNwRCxDQUFDO0VBQ0RBLGlCQUFFLGFBQWE7SUFDYixNQUFNQSxpQkFBRSxRQUFRLGlCQUFpQjtJQUNqQyxJQUFJQSxpQkFBRSxPQUFPO0lBQ2IsT0FBT0EsaUJBQUUsT0FBTztJQUNoQixrQkFBa0IsdUJBQXVCLFNBQVM7RUFDcEQsQ0FBQztFQUNEQSxpQkFBRSxhQUFhO0lBQ2IsTUFBTUEsaUJBQUUsUUFBUSxlQUFlO0lBQy9CLElBQUlBLGlCQUFFLE9BQU87SUFDYixrQkFBa0IsdUJBQXVCLFNBQVM7RUFDcEQsQ0FBQztFQUNEQSxpQkFBRSxhQUFhO0lBQ2IsTUFBTUEsaUJBQUUsUUFBUSx1QkFBdUI7RUFDekMsQ0FBQztFQUNEQSxpQkFBRSxhQUFhO0lBQ2IsTUFBTUEsaUJBQUUsUUFBUSxZQUFZO0lBQzVCLFVBQVVBLGlCQUFFLE9BQU87SUFDbkIsS0FBS0EsaUJBQUUsT0FBTztJQUNkLE9BQU9BLGlCQUFFLE9BQU8sRUFBRSxTQUFTO0lBQzNCLGtCQUFrQix1QkFBdUIsU0FBUztFQUNwRCxDQUFDO0VBQ0RBLGlCQUFFLGFBQWE7SUFDYixNQUFNQSxpQkFBRSxRQUFRLGlCQUFpQjtJQUNqQyxVQUFVQSxpQkFBRSxPQUFPO0lBQ25CLFdBQVdBLGlCQUFFLE9BQU87SUFDcEIsT0FBT0EsaUJBQUUsT0FBTztJQUNoQixVQUFVQSxpQkFBRSxPQUFPLEVBQUUsU0FBUztJQUM5QixrQkFBa0IsdUJBQXVCLFNBQVM7RUFDcEQsQ0FBQztFQUNEQSxpQkFBRSxhQUFhO0lBQ2IsTUFBTUEsaUJBQUUsUUFBUSxNQUFNO0lBQ3RCLEtBQUtBLGlCQUFFLE9BQU87SUFDZCxXQUFXQSxpQkFBRSxPQUFPO0lBQ3BCLGtCQUFrQix1QkFBdUIsU0FBUztFQUNwRCxDQUFDO0VBQ0RBLGlCQUFFLGFBQWE7SUFDYixNQUFNQSxpQkFBRSxPQUFPLEVBQUUsV0FBVyxPQUFPO0lBQ25DLElBQUlBLGlCQUFFLE9BQU8sRUFBRSxTQUFTO0lBQ3hCLE1BQU1BLGlCQUFFLFFBQVE7SUFDaEIsV0FBV0EsaUJBQUUsUUFBUSxFQUFFLFNBQVM7RUFDbEMsQ0FBQztFQUNEQSxpQkFBRSxhQUFhO0lBQ2IsTUFBTUEsaUJBQUUsUUFBUSxZQUFZO0VBQzlCLENBQUM7RUFDREEsaUJBQUUsYUFBYTtJQUNiLE1BQU1BLGlCQUFFLFFBQVEsYUFBYTtFQUMvQixDQUFDO0VBQ0RBLGlCQUFFLGFBQWE7SUFDYixNQUFNQSxpQkFBRSxRQUFRLE9BQU87SUFDdkIsV0FBV0EsaUJBQUUsT0FBTyxFQUFFLFNBQVM7SUFDL0IsaUJBQWlCQSxpQkFBRSxRQUFRLEVBQUUsU0FBUztFQUN4QyxDQUFDO0VBQ0RBLGlCQUFFLGFBQWE7SUFDYixNQUFNQSxpQkFBRSxRQUFRLFFBQVE7SUFDeEIsaUJBQWlCQSxpQkFBRSxRQUFRLEVBQUUsU0FBUztFQUN4QyxDQUFDO0VBQ0RBLGlCQUFFLGFBQWE7SUFDYixNQUFNQSxpQkFBRSxRQUFRLE9BQU87RUFDekIsQ0FBQztFQUNEQSxpQkFBRSxhQUFhO0lBQ2IsTUFBTUEsaUJBQUUsUUFBUSxrQkFBa0I7SUFDbEMsaUJBQWlCQSxpQkFBRSxRQUFRO0VBQzdCLENBQUM7QUFDSCxDQUFDO0FBNklNLFNBQVMscUJBQ2QsT0FDMEM7QUFDMUMsU0FBTyxNQUFNLEtBQUssV0FBVyxPQUFPO0FBQ3RDO0FDN1JPLFNBQVMsYUFDZCxNQUNBLFdBQzZCO0FBRTdCLE1BQUksU0FBUyxVQUFhLGNBQWMsUUFBVztBQUNqRCxXQUFPO0VBQ1Q7QUFHQSxNQUFJLFNBQVMsUUFBVztBQUN0QixXQUFPO0VBQ1Q7QUFHQSxNQUFJLGNBQWMsUUFBVztBQUMzQixXQUFPO0VBQ1Q7QUFHQSxRQUFNLFNBQVMsRUFBRSxHQUFHLEtBQUs7QUFHekIsYUFBVyxPQUFPLFdBQVc7QUFDM0IsUUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLFdBQVcsR0FBRyxHQUFHO0FBQ3hELFlBQU0saUJBQWlCLFVBQVUsR0FBRztBQUdwQyxVQUFJLG1CQUFtQjtBQUFXO0FBR2xDLFlBQU0sWUFDSixPQUFPLE9BQU8sS0FBSyxHQUF5QixJQUFJO0FBR2xELFlBQU0saUJBQ0osbUJBQW1CLFFBQ25CLE9BQU8sbUJBQW1CLFlBQzFCLENBQUMsTUFBTSxRQUFRLGNBQWMsS0FDN0IsRUFBRSwwQkFBMEIsU0FDNUIsRUFBRSwwQkFBMEI7QUFFOUIsWUFBTSxpQkFDSixjQUFjLFFBQ2QsY0FBYyxVQUNkLE9BQU8sY0FBYyxZQUNyQixDQUFDLE1BQU0sUUFBUSxTQUFTLEtBQ3hCLEVBQUUscUJBQXFCLFNBQ3ZCLEVBQUUscUJBQXFCO0FBR3pCLFVBQUksa0JBQWtCLGdCQUFnQjtBQUNwQyxlQUFPLEdBQW9CLElBQUk7VUFDN0I7VUFDQTtRQUNGO01BQ0YsT0FBTztBQUdMLGVBQU8sR0FBb0IsSUFBSTtNQUNqQztJQUNGO0VBQ0Y7QUFFQSxTQUFPO0FBQ1Q7QUVwRE8sU0FBUyxRQUFRLE9BQXVCO0FBQzdDLFFBQU0sUUFBaUIsQ0FBQyxNQUFNO0FBQzlCLE1BQUksaUJBQWlCO0FBQ3JCLE1BQUksZUFBOEI7QUFFbEMsV0FBUyxrQkFBa0IsTUFBY0MsSUFBVyxXQUFrQjtBQUNwRTtBQUNFLGNBQVEsTUFBTTtRQUNaLEtBQUssS0FBSztBQUNSLDJCQUFpQkE7QUFDakIsZ0JBQU0sSUFBSTtBQUNWLGdCQUFNLEtBQUssU0FBUztBQUNwQixnQkFBTSxLQUFLLGVBQWU7QUFDMUI7UUFDRjtRQUVBLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSyxLQUFLO0FBQ1IsMkJBQWlCQTtBQUNqQix5QkFBZUE7QUFDZixnQkFBTSxJQUFJO0FBQ1YsZ0JBQU0sS0FBSyxTQUFTO0FBQ3BCLGdCQUFNLEtBQUssZ0JBQWdCO0FBQzNCO1FBQ0Y7UUFFQSxLQUFLLEtBQUs7QUFDUixnQkFBTSxJQUFJO0FBQ1YsZ0JBQU0sS0FBSyxTQUFTO0FBQ3BCLGdCQUFNLEtBQUssZUFBZTtBQUMxQjtRQUNGO1FBQ0EsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSyxLQUFLO0FBQ1IsMkJBQWlCQTtBQUNqQixnQkFBTSxJQUFJO0FBQ1YsZ0JBQU0sS0FBSyxTQUFTO0FBQ3BCLGdCQUFNLEtBQUssZUFBZTtBQUMxQjtRQUNGO1FBRUEsS0FBSyxLQUFLO0FBQ1IsMkJBQWlCQTtBQUNqQixnQkFBTSxJQUFJO0FBQ1YsZ0JBQU0sS0FBSyxTQUFTO0FBQ3BCLGdCQUFNLEtBQUsscUJBQXFCO0FBQ2hDO1FBQ0Y7UUFFQSxLQUFLLEtBQUs7QUFDUiwyQkFBaUJBO0FBQ2pCLGdCQUFNLElBQUk7QUFDVixnQkFBTSxLQUFLLFNBQVM7QUFDcEIsZ0JBQU0sS0FBSyxvQkFBb0I7QUFDL0I7UUFDRjtNQUNGO0lBQ0Y7RUFDRjtBQUVBLFdBQVMsd0JBQXdCLE1BQWNBLElBQVc7QUFDeEQsWUFBUSxNQUFNO01BQ1osS0FBSyxLQUFLO0FBQ1IsY0FBTSxJQUFJO0FBQ1YsY0FBTSxLQUFLLDJCQUEyQjtBQUN0QztNQUNGO01BQ0EsS0FBSyxLQUFLO0FBQ1IseUJBQWlCQTtBQUNqQixjQUFNLElBQUk7QUFDVjtNQUNGO0lBQ0Y7RUFDRjtBQUVBLFdBQVMsdUJBQXVCLE1BQWNBLElBQVc7QUFDdkQsWUFBUSxNQUFNO01BQ1osS0FBSyxLQUFLO0FBQ1IsY0FBTSxJQUFJO0FBQ1YsY0FBTSxLQUFLLDBCQUEwQjtBQUNyQztNQUNGO01BQ0EsS0FBSyxLQUFLO0FBQ1IseUJBQWlCQTtBQUNqQixjQUFNLElBQUk7QUFDVjtNQUNGO0lBQ0Y7RUFDRjtBQUVBLFdBQVNBLEtBQUksR0FBR0EsS0FBSSxNQUFNLFFBQVFBLE1BQUs7QUFDckMsVUFBTSxPQUFPLE1BQU1BLEVBQUM7QUFDcEIsVUFBTSxlQUFlLE1BQU0sTUFBTSxTQUFTLENBQUM7QUFFM0MsWUFBUSxjQUFjO01BQ3BCLEtBQUs7QUFDSCwwQkFBa0IsTUFBTUEsSUFBRyxRQUFRO0FBQ25DO01BRUYsS0FBSyx1QkFBdUI7QUFDMUIsZ0JBQVEsTUFBTTtVQUNaLEtBQUssS0FBSztBQUNSLGtCQUFNLElBQUk7QUFDVixrQkFBTSxLQUFLLG1CQUFtQjtBQUM5QjtVQUNGO1VBQ0EsS0FBSyxLQUFLO0FBQ1IsNkJBQWlCQTtBQUNqQixrQkFBTSxJQUFJO0FBQ1Y7VUFDRjtRQUNGO0FBQ0E7TUFDRjtNQUVBLEtBQUssNkJBQTZCO0FBQ2hDLGdCQUFRLE1BQU07VUFDWixLQUFLLEtBQUs7QUFDUixrQkFBTSxJQUFJO0FBQ1Ysa0JBQU0sS0FBSyxtQkFBbUI7QUFDOUI7VUFDRjtRQUNGO0FBQ0E7TUFDRjtNQUVBLEtBQUsscUJBQXFCO0FBQ3hCLGdCQUFRLE1BQU07VUFDWixLQUFLLEtBQUs7QUFDUixrQkFBTSxJQUFJO0FBQ1Ysa0JBQU0sS0FBSyx5QkFBeUI7QUFDcEM7VUFDRjtRQUNGO0FBQ0E7TUFDRjtNQUVBLEtBQUssMkJBQTJCO0FBQzlCLGdCQUFRLE1BQU07VUFDWixLQUFLLEtBQUs7QUFDUixrQkFBTSxJQUFJO0FBQ1Ysa0JBQU0sS0FBSyw0QkFBNEI7QUFFdkM7VUFDRjtRQUNGO0FBQ0E7TUFDRjtNQUVBLEtBQUssOEJBQThCO0FBQ2pDLDBCQUFrQixNQUFNQSxJQUFHLDJCQUEyQjtBQUN0RDtNQUNGO01BRUEsS0FBSyw2QkFBNkI7QUFDaEMsZ0NBQXdCLE1BQU1BLEVBQUM7QUFDL0I7TUFDRjtNQUVBLEtBQUssaUJBQWlCO0FBQ3BCLGdCQUFRLE1BQU07VUFDWixLQUFLLEtBQUs7QUFDUixrQkFBTSxJQUFJO0FBQ1YsNkJBQWlCQTtBQUNqQjtVQUNGO1VBRUEsS0FBSyxNQUFNO0FBQ1Qsa0JBQU0sS0FBSyxzQkFBc0I7QUFDakM7VUFDRjtVQUVBLFNBQVM7QUFDUCw2QkFBaUJBO1VBQ25CO1FBQ0Y7QUFFQTtNQUNGO01BRUEsS0FBSyxzQkFBc0I7QUFDekIsZ0JBQVEsTUFBTTtVQUNaLEtBQUssS0FBSztBQUNSLDZCQUFpQkE7QUFDakIsa0JBQU0sSUFBSTtBQUNWO1VBQ0Y7VUFFQSxTQUFTO0FBQ1AsNkJBQWlCQTtBQUNqQiw4QkFBa0IsTUFBTUEsSUFBRywwQkFBMEI7QUFDckQ7VUFDRjtRQUNGO0FBQ0E7TUFDRjtNQUVBLEtBQUssNEJBQTRCO0FBQy9CLGdCQUFRLE1BQU07VUFDWixLQUFLLEtBQUs7QUFDUixrQkFBTSxJQUFJO0FBQ1Ysa0JBQU0sS0FBSywwQkFBMEI7QUFDckM7VUFDRjtVQUVBLEtBQUssS0FBSztBQUNSLDZCQUFpQkE7QUFDakIsa0JBQU0sSUFBSTtBQUNWO1VBQ0Y7VUFFQSxTQUFTO0FBQ1AsNkJBQWlCQTtBQUNqQjtVQUNGO1FBQ0Y7QUFFQTtNQUNGO01BRUEsS0FBSyw0QkFBNEI7QUFDL0IsMEJBQWtCLE1BQU1BLElBQUcsMEJBQTBCO0FBQ3JEO01BQ0Y7TUFFQSxLQUFLLHdCQUF3QjtBQUMzQixjQUFNLElBQUk7QUFDVix5QkFBaUJBO0FBRWpCO01BQ0Y7TUFFQSxLQUFLLGlCQUFpQjtBQUNwQixnQkFBUSxNQUFNO1VBQ1osS0FBSztVQUNMLEtBQUs7VUFDTCxLQUFLO1VBQ0wsS0FBSztVQUNMLEtBQUs7VUFDTCxLQUFLO1VBQ0wsS0FBSztVQUNMLEtBQUs7VUFDTCxLQUFLO1VBQ0wsS0FBSyxLQUFLO0FBQ1IsNkJBQWlCQTtBQUNqQjtVQUNGO1VBRUEsS0FBSztVQUNMLEtBQUs7VUFDTCxLQUFLO1VBQ0wsS0FBSyxLQUFLO0FBQ1I7VUFDRjtVQUVBLEtBQUssS0FBSztBQUNSLGtCQUFNLElBQUk7QUFFVixnQkFBSSxNQUFNLE1BQU0sU0FBUyxDQUFDLE1BQU0sNEJBQTRCO0FBQzFELHFDQUF1QixNQUFNQSxFQUFDO1lBQ2hDO0FBRUEsZ0JBQUksTUFBTSxNQUFNLFNBQVMsQ0FBQyxNQUFNLDZCQUE2QjtBQUMzRCxzQ0FBd0IsTUFBTUEsRUFBQztZQUNqQztBQUVBO1VBQ0Y7VUFFQSxLQUFLLEtBQUs7QUFDUixrQkFBTSxJQUFJO0FBRVYsZ0JBQUksTUFBTSxNQUFNLFNBQVMsQ0FBQyxNQUFNLDZCQUE2QjtBQUMzRCxzQ0FBd0IsTUFBTUEsRUFBQztZQUNqQztBQUVBO1VBQ0Y7VUFFQSxLQUFLLEtBQUs7QUFDUixrQkFBTSxJQUFJO0FBRVYsZ0JBQUksTUFBTSxNQUFNLFNBQVMsQ0FBQyxNQUFNLDRCQUE0QjtBQUMxRCxxQ0FBdUIsTUFBTUEsRUFBQztZQUNoQztBQUVBO1VBQ0Y7VUFFQSxTQUFTO0FBQ1Asa0JBQU0sSUFBSTtBQUNWO1VBQ0Y7UUFDRjtBQUVBO01BQ0Y7TUFFQSxLQUFLLGtCQUFrQjtBQUNyQixjQUFNLGlCQUFpQixNQUFNLFVBQVUsY0FBZUEsS0FBSSxDQUFDO0FBRTNELFlBQ0UsQ0FBQyxRQUFRLFdBQVcsY0FBYyxLQUNsQyxDQUFDLE9BQU8sV0FBVyxjQUFjLEtBQ2pDLENBQUMsT0FBTyxXQUFXLGNBQWMsR0FDakM7QUFDQSxnQkFBTSxJQUFJO0FBRVYsY0FBSSxNQUFNLE1BQU0sU0FBUyxDQUFDLE1BQU0sNkJBQTZCO0FBQzNELG9DQUF3QixNQUFNQSxFQUFDO1VBQ2pDLFdBQVcsTUFBTSxNQUFNLFNBQVMsQ0FBQyxNQUFNLDRCQUE0QjtBQUNqRSxtQ0FBdUIsTUFBTUEsRUFBQztVQUNoQztRQUNGLE9BQU87QUFDTCwyQkFBaUJBO1FBQ25CO0FBRUE7TUFDRjtJQUNGO0VBQ0Y7QUFFQSxNQUFJLFNBQVMsTUFBTSxNQUFNLEdBQUcsaUJBQWlCLENBQUM7QUFFOUMsV0FBU0EsS0FBSSxNQUFNLFNBQVMsR0FBR0EsTUFBSyxHQUFHQSxNQUFLO0FBQzFDLFVBQU0sUUFBUSxNQUFNQSxFQUFDO0FBRXJCLFlBQVEsT0FBTztNQUNiLEtBQUssaUJBQWlCO0FBQ3BCLGtCQUFVO0FBQ1Y7TUFDRjtNQUVBLEtBQUs7TUFDTCxLQUFLO01BQ0wsS0FBSztNQUNMLEtBQUs7TUFDTCxLQUFLO01BQ0wsS0FBSyw2QkFBNkI7QUFDaEMsa0JBQVU7QUFDVjtNQUNGO01BRUEsS0FBSztNQUNMLEtBQUs7TUFDTCxLQUFLLDRCQUE0QjtBQUMvQixrQkFBVTtBQUNWO01BQ0Y7TUFFQSxLQUFLLGtCQUFrQjtBQUNyQixjQUFNLGlCQUFpQixNQUFNLFVBQVUsY0FBZSxNQUFNLE1BQU07QUFFbEUsWUFBSSxPQUFPLFdBQVcsY0FBYyxHQUFHO0FBQ3JDLG9CQUFVLE9BQU8sTUFBTSxlQUFlLE1BQU07UUFDOUMsV0FBVyxRQUFRLFdBQVcsY0FBYyxHQUFHO0FBQzdDLG9CQUFVLFFBQVEsTUFBTSxlQUFlLE1BQU07UUFDL0MsV0FBVyxPQUFPLFdBQVcsY0FBYyxHQUFHO0FBQzVDLG9CQUFVLE9BQU8sTUFBTSxlQUFlLE1BQU07UUFDOUM7TUFDRjtJQUNGO0VBQ0Y7QUFFQSxTQUFPO0FBQ1Q7QUQ1WUEsZUFBc0IsaUJBQWlCLFVBT3BDO0FBQ0QsTUFBSSxhQUFhLFFBQVc7QUFDMUIsV0FBTyxFQUFFLE9BQU8sUUFBVyxPQUFPLGtCQUFrQjtFQUN0RDtBQUVBLE1BQUksU0FBUyxNQUFNQyxjQUFjLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFFbkQsTUFBSSxPQUFPLFNBQVM7QUFDbEIsV0FBTyxFQUFFLE9BQU8sT0FBTyxPQUFPLE9BQU8sbUJBQW1CO0VBQzFEO0FBRUEsV0FBUyxNQUFNQSxjQUFjLEVBQUUsTUFBTSxRQUFRLFFBQVEsRUFBRSxDQUFDO0FBRXhELE1BQUksT0FBTyxTQUFTO0FBQ2xCLFdBQU8sRUFBRSxPQUFPLE9BQU8sT0FBTyxPQUFPLGlCQUFpQjtFQUN4RDtBQUVBLFNBQU8sRUFBRSxPQUFPLFFBQVcsT0FBTyxlQUFlO0FBQ25EO0FFbVFPLFNBQVMsYUFDZCxNQUMyQjtBQUMzQixTQUFPLEtBQUssS0FBSyxXQUFXLE9BQU87QUFDckM7QUFFTyxTQUFTLG9CQUNkLE1BQzJCO0FBQzNCLFNBQU8sS0FBSyxTQUFTO0FBQ3ZCO0FBRU8sU0FBUywwQkFDZCxNQUMrQztBQUMvQyxTQUFPLGFBQWEsSUFBSSxLQUFLLG9CQUFvQixJQUFJO0FBQ3ZEO0FBRU8sU0FBUyxZQUNkLE1BQ2E7QUFDYixTQUFPLEtBQUssS0FBSyxNQUFNLEdBQUcsRUFBRSxNQUFNLENBQUMsRUFBRSxLQUFLLEdBQUc7QUFDL0M7QUw1UU8sU0FBUyw4QkFBNEQ7RUFDMUU7RUFDQTtBQUNGLEdBR3dDO0FBQ3RDLFNBQU87SUFDTCxVQUNFLGVBQUEsT0FBQSxTQUFBLFlBQWEsVUFBUyxjQUNsQixjQUNDO01BQ0MsSUFBSTtNQUNKLFVBQVU7TUFDVixNQUFNO01BQ04sT0FBTyxDQUFDO0lBSVY7SUFDTixpQkFBaUIsQ0FBQztJQUNsQixzQkFBc0IsQ0FBQztJQUN2QixrQkFBa0IsQ0FBQztFQUNyQjtBQUNGO0FBRU8sU0FBUyx1QkFBcUQ7RUFDbkU7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7QUFDRixHQWtCb0Q7QUFDbEQsU0FBTyxPQUFPO0lBQ1osSUFBSSxnQkFBaUU7TUFDbkUsTUFBTSxVQUFVLE9BQU8sWUFBWTtBQUNqQyxjQUFNLG9CQUFvQixPQUFPLEVBQUUsT0FBTyxNQUFNLE1BQU07QUFsRzlELGNBQUFDLE1BQUFDLEtBQUEsSUFBQTtBQW1HVSxtQkFBUyxrQkFBa0IsWUFBb0I7QUFDN0Msa0JBQU0sa0JBQWtCLE1BQU0sUUFBUSxNQUFNLE9BQU8sWUFBWTtBQUUvRCxrQkFBTSxpQkFBaUIsZ0JBQWdCO2NBQ3JDLENBQUEsZUFBYyxXQUFXLGVBQWU7WUFDMUM7QUFFQSxnQkFBSSxrQkFBa0IsTUFBTTtBQUMxQixvQkFBTSxJQUFJO2dCQUNSO2NBQ0Y7WUFDRjtBQUVBLG1CQUFPO1VBQ1Q7QUFFQSxtQkFBUyx5QkFBeUIsWUFBb0I7QUFDcEQsa0JBQU0sa0JBQWtCLE1BQU0sUUFBUSxNQUFNO2NBQzFDLENBQUEsU0FBUSxLQUFLLFNBQVM7WUFDeEI7QUFFQSxrQkFBTSxpQkFBaUIsZ0JBQWdCO2NBQ3JDLENBQUEsZUFBYyxXQUFXLGVBQWU7WUFDMUM7QUFFQSxnQkFBSSxrQkFBa0IsTUFBTTtBQUMxQixvQkFBTSxJQUFJO2dCQUNSO2NBQ0Y7WUFDRjtBQUVBLG1CQUFPO1VBQ1Q7QUFFQSxtQkFBUyxlQUNQLFNBZ0NBO0FBdEtaLGdCQUFBRDtBQXVLWSxrQkFBTSxPQUFPLE1BQU0sUUFBUSxNQUFNO2NBQy9CLENBQUFFLFVBQ0UsYUFBYUEsS0FBSSxLQUFLQSxNQUFLLGVBQWUsUUFBUTtZQUN0RDtBQUVBLGtCQUFNLGFBQWE7QUFDbkIsa0JBQU0sVUFBVTtBQUVoQixnQkFBSSxRQUFRLE1BQU07QUFDaEIsbUJBQUssUUFBUSxRQUFRO0FBQ3JCLHNCQUFRLFFBQVEsV0FBVztBQUMzQixzQkFBUSxTQUFTLFdBQVc7QUFDNUIsc0JBQVEsWUFBWSxXQUFXO0FBQy9CLHNCQUFRLFdBQVcsV0FBVztBQUM5QixzQkFBUSxjQUFjLFdBQVc7QUFHakMsc0JBQVEsb0JBQ05GLE9BQUEsV0FBVyxxQkFBWCxPQUFBQSxPQUErQixLQUFLO0FBRXRDLGtCQUNFLFdBQVcsb0JBQW9CLFFBQy9CLEtBQUssVUFBVSxtQkFDZjtBQUNBLHFCQUFLLHVCQUF1QixXQUFXO2NBQ3pDO1lBQ0YsT0FBTztBQUNMLG9CQUFNLFFBQVEsTUFBTSxLQUFLO2dCQUN2QixNQUFNLFFBQVEsUUFBUSxRQUFRO2dCQUM5QixZQUFZLFFBQVE7Z0JBQ3BCLE9BQU8sUUFBUTtnQkFDZixPQUFPLFdBQVc7Z0JBQ2xCLFFBQVEsV0FBVztnQkFDbkIsVUFBVSxXQUFXO2dCQUNyQixXQUFXLFdBQVc7Z0JBQ3RCLGtCQUFrQixXQUFXO2dCQUM3QixhQUFhLFdBQVc7Z0JBQ3hCLEdBQUksV0FBVyxvQkFBb0IsT0FDL0IsRUFBRSxzQkFBc0IsV0FBVyxpQkFBaUIsSUFDcEQsQ0FBQztjQUNQLENBQWdEO1lBQ2xEO1VBQ0Y7QUFFQSxtQkFBUyxzQkFDUCxTQTJCQTtBQS9PWixnQkFBQUE7QUFnUFksa0JBQU0sT0FBTyxNQUFNLFFBQVEsTUFBTTtjQUMvQixDQUFBRSxVQUNFQSxNQUFLLFNBQVMsa0JBQ2RBLE1BQUssZUFBZSxRQUFRO1lBQ2hDO0FBRUEsa0JBQU0sYUFBYTtBQUNuQixrQkFBTSxVQUFVO0FBRWhCLGdCQUFJLFFBQVEsTUFBTTtBQUNoQixtQkFBSyxRQUFRLFFBQVE7QUFDckIsc0JBQVEsV0FBVyxRQUFRO0FBQzNCLHNCQUFRLFFBQVEsV0FBVztBQUMzQixzQkFBUSxTQUFTLFdBQVc7QUFDNUIsc0JBQVEsWUFBWSxXQUFXO0FBQy9CLHNCQUFRLFlBQVdGLE9BQUEsV0FBVyxhQUFYLE9BQUFBLE9BQXVCLFFBQVE7QUFDbEQsc0JBQVEsY0FBYyxXQUFXO0FBRWpDLGtCQUNFLFdBQVcsb0JBQW9CLFFBQy9CLEtBQUssVUFBVSxtQkFDZjtBQUNBLHFCQUFLLHVCQUF1QixXQUFXO2NBQ3pDO1lBQ0YsT0FBTztBQUNMLG9CQUFNLFFBQVEsTUFBTSxLQUFLO2dCQUN2QixNQUFNO2dCQUNOLFVBQVUsUUFBUTtnQkFDbEIsWUFBWSxRQUFRO2dCQUNwQixPQUFPLFFBQVE7Z0JBQ2YsT0FBTyxXQUFXO2dCQUNsQixRQUFRLFdBQVc7Z0JBQ25CLFdBQVcsV0FBVztnQkFDdEIsYUFBYSxXQUFXO2dCQUN4QixHQUFJLFdBQVcsb0JBQW9CLE9BQy9CLEVBQUUsc0JBQXNCLFdBQVcsaUJBQWlCLElBQ3BELENBQUM7Y0FDUCxDQUFzQjtZQUN4QjtVQUNGO0FBRUEseUJBQWUsc0JBQXNCLFVBQW1CO0FBQ3RELGdCQUFJLFlBQVksTUFBTTtBQUNwQixvQkFBTSxpQkFDSixNQUFNLFFBQVEsWUFBWSxPQUN0QixhQUFhLE1BQU0sUUFBUSxVQUFVLFFBQVEsSUFDN0M7QUFFTixrQkFBSSx5QkFBeUIsTUFBTTtBQUNqQyxzQkFBTSxjQUFjO2tCQUNsQixPQUFPO2tCQUNQLFFBQVE7Z0JBQ1YsQ0FBQztjQUNIO0FBRUEsb0JBQU0sUUFBUSxXQUNaO1lBQ0o7VUFDRjtBQUVBLGtCQUFRLE1BQU0sTUFBTTtZQUNsQixLQUFLLGNBQWM7QUFDakIsb0JBQU0sV0FBdUI7Z0JBQzNCLE1BQU07Z0JBQ04sTUFBTTtnQkFDTixrQkFBa0IsTUFBTTtnQkFDeEIsT0FBTztjQUNUO0FBQ0Esb0JBQU0sZ0JBQWdCLE1BQU0sRUFBRSxJQUFJO0FBQ2xDLG9CQUFNLFFBQVEsTUFBTSxLQUFLLFFBQVE7QUFDakMsb0JBQU07QUFDTjtZQUNGO1lBRUEsS0FBSyxjQUFjO0FBQ2pCLG9CQUFNLFdBQVcsTUFBTSxnQkFBZ0IsTUFBTSxFQUFFO0FBQy9DLHVCQUFTLFFBQVEsTUFBTTtBQUN2Qix1QkFBUyxvQkFDUEEsT0FBQSxNQUFNLHFCQUFOLE9BQUFBLE9BQTBCLFNBQVM7QUFDckMsb0JBQU07QUFDTjtZQUNGO1lBRUEsS0FBSyxZQUFZO0FBQ2Ysb0JBQU0sV0FBVyxNQUFNLGdCQUFnQixNQUFNLEVBQUU7QUFDL0MsdUJBQVMsUUFBUTtBQUNqQix1QkFBUyxvQkFDUEMsTUFBQSxNQUFNLHFCQUFOLE9BQUFBLE1BQTBCLFNBQVM7QUFDckMscUJBQU8sTUFBTSxnQkFBZ0IsTUFBTSxFQUFFO0FBQ3JDLG9CQUFNO0FBQ047WUFDRjtZQUVBLEtBQUssbUJBQW1CO0FBQ3RCLG9CQUFNLGdCQUFpQztnQkFDckMsTUFBTTtnQkFDTixNQUFNO2dCQUNOLGtCQUFrQixNQUFNO2dCQUN4QixPQUFPO2NBQ1Q7QUFDQSxvQkFBTSxxQkFBcUIsTUFBTSxFQUFFLElBQUk7QUFDdkMsb0JBQU0sUUFBUSxNQUFNLEtBQUssYUFBYTtBQUN0QyxvQkFBTTtBQUNOO1lBQ0Y7WUFFQSxLQUFLLG1CQUFtQjtBQUN0QixvQkFBTSxnQkFBZ0IsTUFBTSxxQkFBcUIsTUFBTSxFQUFFO0FBQ3pELDRCQUFjLFFBQVEsTUFBTTtBQUM1Qiw0QkFBYyxvQkFDWixLQUFBLE1BQU0scUJBQU4sT0FBQSxLQUEwQixjQUFjO0FBQzFDLG9CQUFNO0FBQ047WUFDRjtZQUVBLEtBQUssaUJBQWlCO0FBQ3BCLG9CQUFNLGdCQUFnQixNQUFNLHFCQUFxQixNQUFNLEVBQUU7QUFDekQsNEJBQWMsb0JBQ1osS0FBQSxNQUFNLHFCQUFOLE9BQUEsS0FBMEIsY0FBYztBQUMxQyw0QkFBYyxRQUFRO0FBQ3RCLHFCQUFPLE1BQU0scUJBQXFCLE1BQU0sRUFBRTtBQUUxQyxvQkFBTTtBQUNOO1lBQ0Y7WUFFQSxLQUFLLFFBQVE7QUFDWCxvQkFBTSxRQUFRLE1BQU0sS0FBSztnQkFDdkIsTUFBTTtnQkFDTixXQUFXLE1BQU07Z0JBQ2pCLEtBQUssTUFBTTtjQUNiLENBQUM7QUFFRCxvQkFBTTtBQUNOO1lBQ0Y7WUFFQSxLQUFLLGNBQWM7QUFDakIsb0JBQU0sUUFBUSxNQUFNLEtBQUs7Z0JBQ3ZCLE1BQU07Z0JBQ04sVUFBVSxNQUFNO2dCQUNoQixLQUFLLE1BQU07Z0JBQ1gsT0FBTyxNQUFNO2dCQUNiLGtCQUFrQixNQUFNO2NBQzFCLENBQUM7QUFFRCxvQkFBTTtBQUNOO1lBQ0Y7WUFFQSxLQUFLLG1CQUFtQjtBQUN0QixvQkFBTSxRQUFRLE1BQU0sS0FBSztnQkFDdkIsTUFBTTtnQkFDTixVQUFVLE1BQU07Z0JBQ2hCLFdBQVcsTUFBTTtnQkFDakIsT0FBTyxNQUFNO2dCQUNiLFVBQVUsTUFBTTtnQkFDaEIsa0JBQWtCLE1BQU07Y0FDMUIsQ0FBQztBQUVELG9CQUFNO0FBQ047WUFDRjtZQUVBLEtBQUssb0JBQW9CO0FBQ3ZCLG9CQUFNLGtCQUFrQixNQUFNLFFBQVEsTUFBTSxPQUFPLFlBQVk7QUFHL0Qsb0JBQU0saUJBQWlCLE1BQU0sVUFBVSxJQUFJO2dCQUN6QyxNQUFNO2dCQUNOLFVBQVUsTUFBTTtnQkFDaEIsT0FBTyxnQkFBZ0I7Z0JBQ3ZCLFNBQVMsTUFBTTtjQUNqQjtBQUVBLGtCQUFJLE1BQU0sU0FBUztBQUNqQixzQ0FBc0I7a0JBQ3BCLFlBQVksTUFBTTtrQkFDbEIsVUFBVSxNQUFNO2tCQUNoQixPQUFPO2tCQUNQLE9BQU87Z0JBQ1QsQ0FBQztjQUNILE9BQU87QUFDTCwrQkFBZTtrQkFDYixZQUFZLE1BQU07a0JBQ2xCLFVBQVUsTUFBTTtrQkFDaEIsT0FBTztrQkFDUCxPQUFPO2tCQUNQLGtCQUFrQixNQUFNO2dCQUMxQixDQUFDO2NBQ0g7QUFFQSxvQkFBTTtBQUNOO1lBQ0Y7WUFFQSxLQUFLLG9CQUFvQjtBQUN2QixvQkFBTSxrQkFBa0IsTUFBTSxpQkFBaUIsTUFBTSxVQUFVO0FBRS9ELDhCQUFnQixRQUFRLE1BQU07QUFFOUIsb0JBQU0sRUFBRSxPQUFPLFlBQVksSUFBSSxNQUFNO2dCQUNuQyxnQkFBZ0I7Y0FDbEI7QUFFQSxrQkFBSSxnQkFBZ0IsU0FBUztBQUMzQixzQ0FBc0I7a0JBQ3BCLFlBQVksTUFBTTtrQkFDbEIsVUFBVSxnQkFBZ0I7a0JBQzFCLE9BQU87a0JBQ1AsT0FBTztnQkFDVCxDQUFDO2NBQ0gsT0FBTztBQUNMLCtCQUFlO2tCQUNiLFlBQVksTUFBTTtrQkFDbEIsVUFBVSxnQkFBZ0I7a0JBQzFCLE9BQU87a0JBQ1AsT0FBTztnQkFDVCxDQUFDO2NBQ0g7QUFFQSxvQkFBTTtBQUNOO1lBQ0Y7WUFFQSxLQUFLLHdCQUF3QjtBQUMzQixrQkFBSSxNQUFNLFNBQVM7QUFDakIsc0NBQXNCO2tCQUNwQixZQUFZLE1BQU07a0JBQ2xCLFVBQVUsTUFBTTtrQkFDaEIsT0FBTztrQkFDUCxPQUFPLE1BQU07a0JBQ2Isa0JBQWtCLE1BQU07Z0JBQzFCLENBQUM7Y0FDSCxPQUFPO0FBQ0wsK0JBQWU7a0JBQ2IsWUFBWSxNQUFNO2tCQUNsQixVQUFVLE1BQU07a0JBQ2hCLE9BQU87a0JBQ1AsT0FBTyxNQUFNO2tCQUNiLGtCQUFrQixNQUFNO2tCQUN4QixrQkFBa0IsTUFBTTtnQkFDMUIsQ0FBQztjQUNIO0FBRUEsb0JBQU07QUFNTixrQkFBSSxjQUFjLENBQUMsTUFBTSxrQkFBa0I7QUFDekMsc0JBQU0sV0FBVztrQkFDZixVQUFVO2dCQUNaLENBQUM7Y0FDSDtBQUNBO1lBQ0Y7WUFFQSxLQUFLLG9CQUFvQjtBQUN2QixrQkFBSSxNQUFNLFNBQVM7QUFDakIsc0NBQXNCO2tCQUNwQixZQUFZLE1BQU07a0JBQ2xCLFVBQVUsTUFBTTtrQkFDaEIsT0FBTztrQkFDUCxPQUFPLE1BQU07a0JBQ2IsV0FBVyxNQUFNO2tCQUNqQixrQkFBa0IsTUFBTTtnQkFDMUIsQ0FBQztjQUNILE9BQU87QUFDTCwrQkFBZTtrQkFDYixZQUFZLE1BQU07a0JBQ2xCLFVBQVUsTUFBTTtrQkFDaEIsT0FBTztrQkFDUCxPQUFPO2tCQUNQLFVBQVUsTUFBTTtrQkFDaEIsV0FBVyxNQUFNO2tCQUNqQixrQkFBa0IsTUFBTTtrQkFDeEIsa0JBQWtCLE1BQU07Z0JBQzFCLENBQUM7Y0FDSDtBQUVBLG9CQUFNO0FBQ047WUFDRjtZQUVBLEtBQUsseUJBQXlCO0FBQzVCLGtCQUFJLE1BQU0sU0FBUztBQUNqQixzQkFBTSxpQkFBaUI7a0JBQ3JCLE1BQU07Z0JBQ1I7QUFFQSxzQ0FBc0I7a0JBQ3BCLFlBQVksTUFBTTtrQkFDbEIsVUFBVSxlQUFlO2tCQUN6QixPQUFPO2tCQUNQLE9BQVEsZUFBdUI7a0JBQy9CLFFBQVEsTUFBTTtrQkFDZCxhQUFhLE1BQU07Z0JBQ3JCLENBQUM7Y0FDSCxPQUFPO0FBQ0wsc0JBQU0saUJBQWlCLGtCQUFrQixNQUFNLFVBQVU7QUFFekQsK0JBQWU7a0JBQ2IsWUFBWSxNQUFNO2tCQUNsQixVQUFVLFlBQVksY0FBYztrQkFDcEMsT0FBTztrQkFDUCxPQUFRLGVBQXVCO2tCQUMvQixRQUFRLE1BQU07a0JBQ2Qsa0JBQWtCLE1BQU07a0JBQ3hCLGFBQWEsTUFBTTtnQkFDckIsQ0FBQztjQUNIO0FBRUEsb0JBQU07QUFDTjtZQUNGO1lBRUEsS0FBSyxxQkFBcUI7QUFDeEIsa0JBQUksTUFBTSxTQUFTO0FBQ2pCLHNCQUFNLGlCQUFpQjtrQkFDckIsTUFBTTtnQkFDUjtBQUVBLHNDQUFzQjtrQkFDcEIsWUFBWSxNQUFNO2tCQUNsQixVQUFVLGVBQWU7a0JBQ3pCLE9BQU87a0JBQ1AsT0FBUSxlQUF1QjtrQkFDL0IsV0FBVyxNQUFNO2dCQUNuQixDQUFDO2NBQ0gsT0FBTztBQUNMLHNCQUFNLGlCQUFpQixrQkFBa0IsTUFBTSxVQUFVO0FBRXpELCtCQUFlO2tCQUNiLFlBQVksTUFBTTtrQkFDbEIsVUFBVSxZQUFZLGNBQWM7a0JBQ3BDLE9BQU87a0JBQ1AsT0FBUSxlQUF1QjtrQkFDL0IsVUFBVyxlQUF1QjtrQkFDbEMsV0FBVyxNQUFNO2dCQUNuQixDQUFDO2NBQ0g7QUFFQSxvQkFBTTtBQUNOO1lBQ0Y7WUFFQSxLQUFLLGNBQWM7QUFFakIsb0JBQU0sUUFBUSxNQUFNLEtBQUssRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMvQztZQUNGO1lBRUEsS0FBSyxlQUFlO0FBRWxCLG9CQUFNLGtCQUFrQixDQUFDO0FBQ3pCLG9CQUFNLHVCQUF1QixDQUFDO0FBQzlCO1lBQ0Y7WUFFQSxLQUFLLFNBQVM7QUFDWixrQkFBSSxNQUFNLGFBQWEsTUFBTTtBQUMzQixzQkFBTSxRQUFRLEtBQUssTUFBTTtjQUMzQjtBQUVBLG9CQUFNLHNCQUFzQixNQUFNLGVBQWU7QUFFakQsa0JBQUksTUFBTSxhQUFhLFFBQVEsTUFBTSxtQkFBbUIsTUFBTTtBQUM1RCxzQkFBTTtjQUNSO0FBQ0E7WUFDRjtZQUVBLEtBQUssVUFBVTtBQUNiLG9CQUFNLHNCQUFzQixNQUFNLGVBQWU7QUFDakQsa0JBQUksTUFBTSxtQkFBbUIsTUFBTTtBQUNqQyxzQkFBTTtjQUNSO0FBQ0E7WUFDRjtZQUVBLEtBQUssb0JBQW9CO0FBQ3ZCLG9CQUFNLHNCQUFzQixNQUFNLGVBQWU7QUFDakQsa0JBQUksTUFBTSxtQkFBbUIsTUFBTTtBQUNqQyxzQkFBTTtjQUNSO0FBQ0E7WUFDRjtZQUVBLEtBQUssU0FBUztBQUNaLHlCQUFBLE9BQUEsU0FBQSxRQUFVLElBQUksTUFBTSxNQUFNLFNBQVMsQ0FBQTtBQUNuQztZQUNGO1lBRUEsU0FBUztBQUNQLGtCQUFJLHFCQUFxQixLQUFLLEdBQUc7QUFFL0IscUJBQUksbUJBQUEsT0FBQSxTQUFBLGdCQUFrQixNQUFNLElBQUEsTUFBUyxNQUFNO0FBQ3pDLHdCQUFNLGNBQWM7b0JBQ2xCLE9BQU8sTUFBTTtvQkFDYixRQUFRLGdCQUFnQixNQUFNLElBQUk7a0JBQ3BDLENBQUM7Z0JBQ0g7QUFHQSxzQkFBTSxZQUFZO0FBS2xCLG9CQUFJLFVBQVUsV0FBVztBQUN2Qiw0QkFBQSxPQUFBLFNBQUEsT0FBUyxTQUFBO0FBQ1Q7Z0JBQ0Y7QUFFQSxzQkFBTSxpQkFDSixVQUFVLE1BQU0sT0FDWCxNQUFNLFFBQVEsTUFBTTtrQkFDbkIsQ0FBQSxhQUNFLFVBQVUsU0FBUyxTQUFTLFFBQzVCLFVBQVUsT0FBTyxTQUFTO2dCQUM5QixJQUdBO0FBRU4sb0JBQUksa0JBQWtCLE1BQU07QUFDMUIsaUNBQWUsT0FBTyxVQUFVO2dCQUNsQyxPQUFPO0FBQ0wsd0JBQU0sUUFBUSxNQUFNLEtBQUssU0FBUztnQkFDcEM7QUFFQSwwQkFBQSxPQUFBLFNBQUEsT0FBUyxTQUFBO0FBRVQsc0JBQU07Y0FDUjtZQUNGO1VBQ0Y7QUFFQSxxQkFBVyxRQUFRLEtBQXdDO1FBQzdELENBQUM7TUFDSDtJQUNGLENBQUM7RUFDSDtBQUNGO0FNbnFCTyxTQUFTLDRCQUEwRDtFQUN4RTtFQUNBLG1CQUFtQixDQUFDO0VBQ3BCO0VBQ0E7RUFDQTtBQUNGLEdBaUJvRDtBQUVsRCxNQUFJLGNBQ0Ysb0JBQUEsT0FBQSxTQUFBLGlCQUFtQixpQkFBaUIsU0FBUyxDQUFBO0FBQy9DLE9BQUksZUFBQSxPQUFBLFNBQUEsWUFBYSxVQUFTLGFBQWE7QUFDckMsa0JBQWM7RUFDaEIsT0FBTztBQUVMLGdCQUFZLFlBQVk7RUFDMUI7QUFFQSxNQUFJRSxhQUFZO0FBRWhCLFFBQU0sbUJBQW1CLE9BQU87SUFDOUIsSUFBSSxnQkFHRjtNQUNBLFVBQVUsT0FBTyxZQUFZO0FBSTNCLFlBQUksTUFBTSxTQUFTLFNBQVM7QUFDMUIsZ0JBQU0sYUFBYTtBQUNuQixjQUFJLFdBQVcsYUFBYSxRQUFRLGFBQWEsTUFBTTtBQUNyRCx1QkFBVyxZQUFZO1VBQ3pCO1FBQ0Y7QUFFQSxZQUFJLE1BQU0sU0FBUyxTQUFTO0FBQzFCLFVBQUFBLGFBQVk7UUFDZDtBQUVBLG1CQUFXLFFBQVEsS0FBSztNQUMxQjtJQUNGLENBQUM7RUFDSDtBQUVBLE1BQUksWUFBWSxNQUFNO0FBQ3BCLFdBQU87RUFDVDtBQUVBLFFBQU0sUUFBUSw4QkFBMEM7SUFDdEQsYUFBYSxjQUNSLGdCQUFnQixXQUFXLElBQzVCO0lBQ0osV0FBVyxhQUFBLE9BQUEsWUFBYTs7RUFDMUIsQ0FBQztBQUVELFFBQU0sc0JBQXNCLE9BQzFCLFFBSUc7QUFDSCxVQUFNLElBQUksRUFBRSxPQUFPLE9BQU8sTUFBTTtJQUFDLEVBQUUsQ0FBQztFQUN0QztBQUVBLE1BQUksZUFBZTtBQUVuQixRQUFNLGVBQWUsWUFBWTtBQUMvQixRQUFJLGdCQUFnQixDQUFDLFVBQVU7QUFDN0I7SUFDRjtBQUNBLG1CQUFlO0FBRWYsVUFBTSxpQkFBaUIsTUFBTSxRQUFRLFFBQU8sZUFBQSxPQUFBLFNBQUEsWUFBYTtBQUN6RCxVQUFNLFNBQVM7TUFDYixXQUFBQTtNQUNBO01BQ0EsaUJBQWlCLE1BQU07TUFDdkIsVUFBVTtRQUNSLEdBQUksaUJBQWlCLGlCQUFpQixNQUFNLEdBQUcsRUFBRSxJQUFJO1FBQ3JELE1BQU07TUFDUjtJQUNGLENBQUM7RUFDSDtBQUVBLFNBQU8sdUJBQW1DO0lBQ3hDLFFBQVE7SUFDUjtJQUNBO0VBQ0YsQ0FBQyxFQUFFO0lBQ0QsSUFBSSxnQkFHRjtNQUNBLFVBQVUsT0FBTyxZQUFZO0FBQzNCLG1CQUFXLFFBQVEsS0FBSztNQUMxQjs7TUFFQSxNQUFNLFNBQVM7QUFDYixjQUFNLGFBQWE7TUFDckI7TUFFQSxNQUFNLFFBQVE7QUFDWixjQUFNLGFBQWE7TUFDckI7SUFDRixDQUFDO0VBQ0g7QUFDRjtBQzdITyxTQUFTLDhCQUE4QjtFQUM1QztFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7QUFDRixHQUd1QztBQUNyQyxNQUFJLFlBQVksT0FBTyxZQUFZLElBQUkseUJBQXlCLENBQUM7QUFLakUsTUFBSSxrQkFBa0I7QUFDcEIsVUFBTSxDQUFDLFNBQVMsT0FBTyxJQUFJLFVBQVUsSUFBSTtBQUN6QyxnQkFBWTtBQUNaLHFCQUFpQixFQUFFLFFBQVEsUUFBUSxDQUFDO0VBQ3RDO0FBRUEsd0JBQXNCO0lBQ3BCO0lBQ0E7SUFDQTtJQUNBLFNBQVMsT0FBTztNQUNkLGVBQWUsU0FBUyx5QkFBeUIsRUFBRSxRQUFRO0lBQzdEO0lBQ0EsUUFBUSxVQUFVLFlBQVksSUFBSSxrQkFBa0IsQ0FBQztFQUN2RCxDQUFDO0FBQ0g7QUN6Qk8sU0FBUywwQkFDZCxRQUN3QjtBQUV4QixRQUFNLFNBQVMsT0FBTyxZQUFZLElBQUksZ0JBQXNCLENBQUM7QUFNNUQsU0FBa0MsT0FBTyxhQUFhLElBQUksV0FFdkM7QUFDbEIsVUFBTSxTQUFTLEtBQUssVUFBVTtBQUU5QixRQUFJLFdBQVc7QUFLZixtQkFBZSxRQUFRLGNBQXVCO0FBbENsRCxVQUFBSDtBQW1DTSxpQkFBVztBQUNYLFVBQUk7QUFDRixZQUFJLGNBQWM7QUFDaEIsa0JBQU1BLE9BQUEsT0FBTyxXQUFQLE9BQUEsU0FBQUEsS0FBQSxLQUFBLE1BQUE7UUFDUjtNQUNGLFVBQUE7QUFDRSxZQUFJO0FBQ0YsaUJBQU8sWUFBWTtRQUNyQixTQUFRLEdBQUE7UUFBQztNQUNYO0lBQ0Y7QUFFQSxXQUFPOzs7OztNQUtMLE1BQU0sT0FBbUM7QUFDdkMsWUFBSSxVQUFVO0FBQ1osaUJBQU8sRUFBRSxNQUFNLE1BQU0sT0FBTyxPQUFVO1FBQ3hDO0FBRUEsY0FBTSxFQUFFLE1BQU0sTUFBTSxJQUFJLE1BQU0sT0FBTyxLQUFLO0FBRTFDLFlBQUksTUFBTTtBQUNSLGdCQUFNLFFBQVEsSUFBSTtBQUNsQixpQkFBTyxFQUFFLE1BQU0sTUFBTSxPQUFPLE9BQVU7UUFDeEM7QUFFQSxlQUFPLEVBQUUsTUFBTSxPQUFPLE1BQU07TUFDOUI7Ozs7OztNQU9BLE1BQU0sU0FBcUM7QUFDekMsY0FBTSxRQUFRLElBQUk7QUFDbEIsZUFBTyxFQUFFLE1BQU0sTUFBTSxPQUFPLE9BQVU7TUFDeEM7Ozs7Ozs7TUFRQSxNQUFNLE1BQU0sS0FBMEM7QUFDcEQsY0FBTSxRQUFRLElBQUk7QUFDbEIsY0FBTTtNQUNSO0lBQ0Y7RUFDRjtBQUVBLFNBQU87QUFDVDtBQ2pGQSxlQUFzQixjQUFjO0VBQ2xDO0VBQ0E7QUFDRixHQUdrQjtBQUNoQixRQUFNLFNBQVMsT0FBTyxVQUFVO0FBQ2hDLE1BQUk7QUFDRixXQUFPLE1BQU07QUFDWCxZQUFNLEVBQUUsS0FBSyxJQUFJLE1BQU0sT0FBTyxLQUFLO0FBQ25DLFVBQUk7QUFBTTtJQUNaO0VBQ0YsU0FBU0ksU0FBTztBQUNkLGVBQUEsT0FBQSxTQUFBLFFBQVVBLE9BQUE7RUFDWixVQUFBO0FBQ0UsV0FBTyxZQUFZO0VBQ3JCO0FBQ0Y7QUNqQk8sU0FBUywwQkFJZDtBQUNBLE1BQUlDO0FBQ0osTUFBSTtBQUVKLFFBQU1DLFdBQVUsSUFBSSxRQUFXLENBQUMsS0FBSyxRQUFRO0FBQzNDRCxlQUFVO0FBQ1YsYUFBUztFQUNYLENBQUM7QUFFRCxTQUFPO0lBQ0wsU0FBQUM7SUFDQSxTQUFTRDtJQUNUO0VBQ0Y7QUFDRjtBQ3JCTyxTQUFTLHlCQUtkO0FBQ0EsTUFBSSxxQkFBdUQsQ0FBQztBQUM1RCxNQUFJLGFBQXdEO0FBQzVELE1BQUksV0FBVztBQUNmLE1BQUksbUJBQW1CLHdCQUE4QjtBQUVyRCxRQUFNLFlBQVksTUFBTTtBQUN0QixlQUFXO0FBQ1gscUJBQWlCLFFBQVE7QUFFekIsdUJBQW1CLFFBQVEsQ0FBQSxXQUFVLE9BQU8sT0FBTyxDQUFDO0FBQ3BELHlCQUFxQixDQUFDO0FBQ3RCLGtCQUFBLE9BQUEsU0FBQSxXQUFZLE1BQUE7RUFDZDtBQUVBLFFBQU0sY0FBYyxZQUFZO0FBRTlCLFFBQUksWUFBWSxtQkFBbUIsV0FBVyxHQUFHO0FBQy9DLG9CQUFBLE9BQUEsU0FBQSxXQUFZLE1BQUE7QUFDWjtJQUNGO0FBSUEsUUFBSSxtQkFBbUIsV0FBVyxHQUFHO0FBQ25DLHlCQUFtQix3QkFBOEI7QUFDakQsWUFBTSxpQkFBaUI7QUFDdkIsYUFBTyxZQUFZO0lBQ3JCO0FBRUEsUUFBSTtBQUNGLFlBQU0sRUFBRSxPQUFPLEtBQUssSUFBSSxNQUFNLG1CQUFtQixDQUFDLEVBQUUsS0FBSztBQUV6RCxVQUFJLE1BQU07QUFFUiwyQkFBbUIsTUFBTTtBQUd6QixZQUFJLG1CQUFtQixTQUFTLEdBQUc7QUFDakMsZ0JBQU0sWUFBWTtRQUNwQixXQUFXLFVBQVU7QUFDbkIsd0JBQUEsT0FBQSxTQUFBLFdBQVksTUFBQTtRQUNkO01BQ0YsT0FBTztBQUVMLHNCQUFBLE9BQUEsU0FBQSxXQUFZLFFBQVEsS0FBQTtNQUN0QjtJQUNGLFNBQVNELFNBQU87QUFFZCxvQkFBQSxPQUFBLFNBQUEsV0FBWSxNQUFNQSxPQUFBO0FBQ2xCLHlCQUFtQixNQUFNO0FBQ3pCLGdCQUFVO0lBQ1o7RUFDRjtBQUVBLFNBQU87SUFDTCxRQUFRLElBQUksZUFBa0I7TUFDNUIsTUFBTSxpQkFBaUI7QUFDckIscUJBQWE7TUFDZjtNQUNBLE1BQU07TUFDTixNQUFNLFNBQVM7QUFDYixtQkFBVyxVQUFVLG9CQUFvQjtBQUN2QyxnQkFBTSxPQUFPLE9BQU87UUFDdEI7QUFDQSw2QkFBcUIsQ0FBQztBQUN0QixtQkFBVztNQUNiO0lBQ0YsQ0FBQztJQUNELFdBQVcsQ0FBQyxnQkFBbUM7QUFDN0MsVUFBSSxVQUFVO0FBQ1osY0FBTSxJQUFJLE1BQU0saURBQWlEO01BQ25FO0FBRUEseUJBQW1CLEtBQUssWUFBWSxVQUFVLENBQUM7QUFDL0MsdUJBQWlCLFFBQVE7SUFDM0I7Ozs7O0lBTUEsT0FBTyxNQUFNO0FBQ1gsaUJBQVc7QUFDWCx1QkFBaUIsUUFBUTtBQUV6QixVQUFJLG1CQUFtQixXQUFXLEdBQUc7QUFDbkMsc0JBQUEsT0FBQSxTQUFBLFdBQVksTUFBQTtNQUNkO0lBQ0Y7Ozs7O0lBTUE7RUFDRjtBQUNGO0FDekdPLElBQU0saUJBQU4sTUFBd0I7RUFBeEIsY0FBQTtBQUNMLFNBQVEsU0FHbUMsRUFBRSxNQUFNLFVBQVU7QUFFN0QsU0FBUSxXQUE2QztBQUNyRCxTQUFRLFVBQWtEO0VBQUE7RUFFMUQsSUFBSSxVQUFzQjtBQUN4QixRQUFJLEtBQUssVUFBVTtBQUNqQixhQUFPLEtBQUs7SUFDZDtBQUVBLFNBQUssV0FBVyxJQUFJLFFBQVcsQ0FBQ0MsVUFBUyxXQUFXO0FBQ2xELFVBQUksS0FBSyxPQUFPLFNBQVMsWUFBWTtBQUNuQ0EsaUJBQVEsS0FBSyxPQUFPLEtBQUs7TUFDM0IsV0FBVyxLQUFLLE9BQU8sU0FBUyxZQUFZO0FBQzFDLGVBQU8sS0FBSyxPQUFPLEtBQUs7TUFDMUI7QUFFQSxXQUFLLFdBQVdBO0FBQ2hCLFdBQUssVUFBVTtJQUNqQixDQUFDO0FBRUQsV0FBTyxLQUFLO0VBQ2Q7RUFFQSxRQUFRLE9BQWdCO0FBakMxQixRQUFBTDtBQWtDSSxTQUFLLFNBQVMsRUFBRSxNQUFNLFlBQVksTUFBTTtBQUV4QyxRQUFJLEtBQUssVUFBVTtBQUNqQixPQUFBQSxPQUFBLEtBQUssYUFBTCxPQUFBLFNBQUFBLEtBQUEsS0FBQSxNQUFnQixLQUFBO0lBQ2xCO0VBQ0Y7RUFFQSxPQUFPSSxTQUFzQjtBQXpDL0IsUUFBQUo7QUEwQ0ksU0FBSyxTQUFTLEVBQUUsTUFBTSxZQUFZLE9BQUFJLFFBQU07QUFFeEMsUUFBSSxLQUFLLFVBQVU7QUFDakIsT0FBQUosT0FBQSxLQUFLLFlBQUwsT0FBQSxTQUFBQSxLQUFBLEtBQUEsTUFBZUksT0FBQTtJQUNqQjtFQUNGO0FBQ0Y7QUMvQ08sU0FBUyxNQUFjO0FBRDlCLE1BQUFKLE1BQUFDO0FBRUUsVUFBT0EsT0FBQUQsT0FBQSxjQUFBLE9BQUEsU0FBQSxXQUFZLGdCQUFaLE9BQUEsU0FBQUEsS0FBeUIsSUFBQSxNQUF6QixPQUFBQyxNQUFrQyxLQUFLLElBQUk7QUFDcEQ7QUNtR08sU0FBUyx1QkFBOEM7RUFDNUQ7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0FBQ0YsR0FVdUQ7QUFFckQsTUFBSSw4QkFFTztBQUNYLFFBQU0sb0JBQW9CLElBQUksZUFFNUI7SUFDQSxNQUFNLFlBQVk7QUFDaEIsb0NBQThCO0lBQ2hDO0VBQ0YsQ0FBQztBQUdELFFBQU0seUJBQXlCLG9CQUFJLElBQVk7QUFHL0MsUUFBTSxhQUFhLG9CQUFJLElBQXFCO0FBRTVDLE1BQUksV0FBVztBQUNmLE1BQUksY0FFWTtBQUVoQixXQUFTLGVBQWU7QUFFdEIsUUFBSSxZQUFZLHVCQUF1QixTQUFTLEdBQUc7QUFJakQsVUFBSSxlQUFlLE1BQU07QUFDdkIsb0NBQTZCLFFBQVEsV0FBVztNQUNsRDtBQUVBLGtDQUE2QixNQUFNO0lBQ3JDO0VBQ0Y7QUFHQSxRQUFNLGdCQUFnQixJQUFJLGdCQUd4QjtJQUNBLE1BQU0sVUFDSixPQUNBLFlBR0E7QUFDQSxZQUFNLFlBQVksTUFBTTtBQUV4QixjQUFRLFdBQVc7UUFFakIsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUssT0FBTztBQUNWLHFCQUFXLFFBQVEsS0FBSztBQUN4QjtRQUNGO1FBRUEsS0FBSyxRQUFRO0FBQ1gscUJBQVcsUUFBUTtZQUNqQixNQUFNO1lBQ04sTUFBTSxJQUFJLDZCQUE2QjtjQUNyQyxNQUFNLE1BQU07Y0FDWixXQUFXLE1BQU07WUFDbkIsQ0FBQztVQUNILENBQUM7QUFDRDtRQUNGO1FBRUEsS0FBSyxVQUFVO0FBQ2Isd0JBQWM7WUFDWixNQUFNO1lBQ04sY0FBYyxNQUFNO1lBQ3BCLE9BQU8sTUFBTTtZQUNiLGtCQUFrQixNQUFNO1VBQzFCO0FBQ0E7UUFDRjtRQUdBLEtBQUssYUFBYTtBQUNoQixjQUFJO0FBQ0Ysa0JBQU0sV0FBVyxNQUFNLGNBQWM7Y0FDbkMsVUFBVTtjQUNWO2NBQ0E7Y0FDQTtjQUNBO1lBQ0YsQ0FBQztBQUVELHVCQUFXLFFBQVEsUUFBUTtBQUczQixnQkFBSSxTQUFTLFNBQVM7QUFDcEIsMENBQTZCLFFBQVE7Z0JBQ25DLE1BQU07Z0JBQ04sWUFBWSxTQUFTO2dCQUNyQixVQUFVLFNBQVM7Z0JBQ25CLE9BQU8sU0FBUztnQkFDaEIsT0FBT00saUJBQWdCLFNBQVMsS0FBTTtnQkFDdEMsU0FBUztjQUNYLENBQUM7QUFFRDtZQUNGO0FBRUEsa0JBQU1DLFFBQU8sTUFBTyxTQUFTLFFBQVE7QUFFckMsdUJBQVcsSUFBSSxTQUFTLFlBQVksU0FBUyxLQUFLO0FBRWxELGdCQUFJQSxNQUFLLG9CQUFvQixNQUFNO0FBQ2pDLG9CQUFNQSxNQUFLLGlCQUFpQjtnQkFDMUIsT0FBTyxTQUFTO2dCQUNoQixZQUFZLFNBQVM7Z0JBQ3JCO2dCQUNBO2dCQUNBO2NBQ0YsQ0FBQztZQUNIO0FBR0EsZ0JBQUlBLE1BQUssV0FBVyxRQUFRLFNBQVMscUJBQXFCLE1BQU07QUFDOUQsb0JBQU0sa0JBQWtCLFdBQVc7QUFDbkMscUNBQXVCLElBQUksZUFBZTtBQUsxQyx5QkFBVztnQkFDVCxNQUFNO2dCQUNOLFlBQVksMEJBQTBCO2tCQUNwQztrQkFDQSxZQUFZO29CQUNWLEdBQUcsc0JBQXNCO3NCQUN2QixhQUFhO3NCQUNiO29CQUNGLENBQUM7b0JBQ0Qsb0JBQW9CLFNBQVM7b0JBQzdCLGtCQUFrQixTQUFTO29CQUMzQixvQkFBb0I7c0JBQ2xCLFFBQVEsTUFBTSxLQUFLLFVBQVUsU0FBUyxLQUFLO29CQUM3QztrQkFDRjtnQkFDRixDQUFDO2dCQUNEO2dCQUNBLElBQUksT0FBTSxTQUFRO0FBQ2hCLHNCQUFJO0FBRUosc0JBQUk7QUFDRiwwQkFBTSxTQUFTQyxZQUFZO3NCQUN6QixTQUFTRCxNQUFLLFFBQVMsS0FBS0EsS0FBSTtzQkFDaEMsT0FBTyxTQUFTO3NCQUNoQixTQUFTO3dCQUNQLFlBQVksU0FBUzt3QkFDckI7d0JBQ0E7d0JBQ0E7c0JBQ0Y7b0JBQ0YsQ0FBQztBQUVELHFDQUFpQixRQUFRLFFBQVE7QUFDL0Isa0RBQTZCLFFBQVE7d0JBQ25DLEdBQUc7d0JBQ0gsTUFBTTt3QkFDTixRQUFRLEtBQUs7d0JBQ2IsR0FBSSxLQUFLLFNBQVMsaUJBQWlCOzBCQUNqQyxhQUFhO3dCQUNmO3NCQUNGLENBQUM7QUFFRCwwQkFBSSxLQUFLLFNBQVMsU0FBUztBQUN6QixpQ0FBUyxLQUFLO3NCQUNoQjtvQkFDRjtrQkFDRixTQUFTSixTQUFPO0FBQ2Qsc0NBQWtCLE1BQU1BLE9BQUs7QUFDN0IsZ0RBQTZCLFFBQVE7c0JBQ25DLEdBQUc7c0JBQ0gsTUFBTTtzQkFDTixPQUFBQTtvQkFDRixDQUFpQztBQUVqQywyQ0FBdUIsT0FBTyxlQUFlO0FBQzdDLGlDQUFhO0FBQ2I7a0JBQ0Y7QUFFQSx5Q0FBdUIsT0FBTyxlQUFlO0FBQzdDLCtCQUFhO0FBR2Isc0JBQUk7QUFDRix5QkFBSztzQkFDSCwwQkFBMEI7d0JBQ3hCO3dCQUNBLFlBQVk7MEJBQ1Ysc0JBQXNCOzRCQUNwQixRQUFRLE1BQU0sS0FBSyxVQUFVLE1BQU07MEJBQ3JDO3dCQUNGO3NCQUNGLENBQUM7b0JBQ0g7a0JBQ0YsU0FBUyxTQUFTO2tCQUtsQjtnQkFDRjtjQUNGLENBQUM7WUFDSDtVQUNGLFNBQVNBLFNBQU87QUFDZCx3Q0FBNkIsUUFBUSxFQUFFLE1BQU0sU0FBUyxPQUFBQSxRQUFNLENBQUM7VUFDL0Q7QUFFQTtRQUNGO1FBRUEsS0FBSyxlQUFlO0FBQ2xCLGdCQUFNLFdBQVcsTUFBTTtBQUV2QixjQUFJLE1BQU0sU0FBUztBQUNqQix3Q0FBNkIsUUFBUTtjQUNuQyxNQUFNO2NBQ04sWUFBWSxNQUFNO2NBQ2xCO2NBQ0EsT0FBTyxXQUFXLElBQUksTUFBTSxVQUFVO2NBQ3RDLGtCQUFrQixNQUFNO2NBQ3hCLE9BQU8sTUFBTTtZQUNmLENBQTBCO1VBQzVCLE9BQU87QUFDTCx1QkFBVyxRQUFRO2NBQ2pCLE1BQU07Y0FDTixZQUFZLE1BQU07Y0FDbEI7Y0FDQSxPQUFPLFdBQVcsSUFBSSxNQUFNLFVBQVU7Y0FDdEMsUUFBUSxNQUFNO2NBQ2Qsa0JBQWtCLE1BQU07WUFDMUIsQ0FBMkI7VUFDN0I7QUFDQTtRQUNGO1FBRUEsU0FBUztBQUNQLGdCQUFNLG1CQUEwQjtBQUNoQyxnQkFBTSxJQUFJLE1BQU0seUJBQXlCLGdCQUFnQixFQUFFO1FBQzdEO01BQ0Y7SUFDRjtJQUVBLFFBQVE7QUFDTixpQkFBVztBQUNYLG1CQUFhO0lBQ2Y7RUFDRixDQUFDO0FBR0QsU0FBTyxJQUFJLGVBQW1EO0lBQzVELE1BQU0sTUFBTSxZQUFZO0FBR3RCLGFBQU8sUUFBUSxJQUFJO1FBQ2pCLGdCQUFnQixZQUFZLGFBQWEsRUFBRTtVQUN6QyxJQUFJLGVBQWU7WUFDakIsTUFBTSxPQUFPO0FBQ1gseUJBQVcsUUFBUSxLQUFLO1lBQzFCO1lBQ0EsUUFBUTtZQUVSO1VBQ0YsQ0FBQztRQUNIO1FBQ0Esa0JBQWtCO1VBQ2hCLElBQUksZUFBZTtZQUNqQixNQUFNLE9BQU87QUFDWCx5QkFBVyxRQUFRLEtBQUs7WUFDMUI7WUFDQSxRQUFRO0FBQ04seUJBQVcsTUFBTTtZQUNuQjtVQUNGLENBQUM7UUFDSDtNQUNGLENBQUM7SUFDSDtFQUNGLENBQUM7QUFDSDtBdkIxVUEsSUFBTU0sc0JBQXFCQyxrQkFBa0I7RUFDM0MsUUFBUTtFQUNSLE1BQU07QUFDUixDQUFDO0FBb0lNLFNBQVMsV0FJZDtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBLFdBQVcsWUFBWSxDQUFDO0VBQ3hCLHFCQUFxQjtFQUNyQix3QkFBd0I7RUFDeEI7RUFDQTtFQUNBO0VBQ0EsY0FBYztFQUNkLDZCQUE2QjtFQUM3Qix3QkFBd0JDO0VBQ3hCLHVCQUF1QkM7RUFDdkIsbUJBQW1CO0VBQ25CO0VBQ0EsVUFBVSxDQUFDLEVBQUUsT0FBQVQsUUFBTSxNQUFNO0FBQ3ZCLFlBQVEsTUFBTUEsT0FBSztFQUNyQjtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0EsV0FBVztJQUNULEtBQUFVLE9BQU07SUFDTixZQUFBQyxjQUFhTDtJQUNiLGNBQWMsTUFBTSxvQkFBSSxLQUFLO0VBQy9CLElBQUksQ0FBQztFQUNMLEdBQUc7QUFDTCxHQThJOEM7QUFDNUMsU0FBTyxJQUFJLHdCQUF1RDtJQUNoRSxPQUFPLHFCQUFxQixLQUFLO0lBQ2pDO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsWUFBWSxRQUFRRSxVQUFTO0lBQzdCO0lBQ0E7SUFDQSxnQkFBZ0IsUUFBUSxRQUFRO0lBQ2hDO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLEtBQUFFO0lBQ0E7SUFDQSxZQUFBQztJQUNBO0lBQ0EsVUFBQUY7RUFDRixDQUFDO0FBQ0g7QUFPQSxTQUFTLDRCQUtQLFFBSUE7QUFDQSxNQUFJLENBQUMsUUFBUTtBQUNYLFdBQU8sSUFBSSxnQkFHVDtNQUNBLFVBQVUsT0FBTyxZQUFZO0FBQzNCLG1CQUFXLFFBQVEsRUFBRSxNQUFNLE9BQU8sZUFBZSxPQUFVLENBQUM7TUFDOUQ7SUFDRixDQUFDO0VBQ0g7QUFFQSxNQUFJLG1CQUF1QztBQUMzQyxNQUFJRyxRQUFPO0FBQ1gsTUFBSSxZQUFZO0FBQ2hCLE1BQUksb0JBQW9CO0FBRXhCLFdBQVMsaUJBQWlCO0lBQ3hCO0lBQ0EsZ0JBQWdCO0VBQ2xCLEdBS0c7QUFDRCxlQUFXLFFBQVE7TUFDakIsTUFBTTtRQUNKLE1BQU07UUFDTixJQUFJO1FBQ0osTUFBTTtNQUNSO01BQ0E7SUFDRixDQUFDO0FBQ0QsZ0JBQVk7RUFDZDtBQUVBLFNBQU8sSUFBSSxnQkFHVDtJQUNBLE1BQU0sVUFBVSxPQUFPLFlBQVk7QUFFakMsVUFBSSxNQUFNLFNBQVMsaUJBQWlCLFVBQVUsU0FBUyxHQUFHO0FBQ3hELHlCQUFpQixFQUFFLFdBQVcsQ0FBQztNQUNqQztBQUVBLFVBQ0UsTUFBTSxTQUFTLGdCQUNmLE1BQU0sU0FBUyxnQkFDZixNQUFNLFNBQVMsWUFDZjtBQUNBLG1CQUFXLFFBQVEsRUFBRSxNQUFNLE9BQU8sZUFBZSxPQUFVLENBQUM7QUFDNUQ7TUFDRjtBQUlBLFVBQUksb0JBQW9CLE1BQU07QUFDNUIsMkJBQW1CLE1BQU07TUFDM0IsV0FBVyxNQUFNLE9BQU8sa0JBQWtCO0FBQ3hDLG1CQUFXLFFBQVEsRUFBRSxNQUFNLE9BQU8sZUFBZSxPQUFVLENBQUM7QUFDNUQ7TUFDRjtBQUVBLFVBQUksTUFBTSxTQUFTLGNBQWM7QUFDL0IsbUJBQVcsUUFBUSxFQUFFLE1BQU0sT0FBTyxlQUFlLE9BQVUsQ0FBQztBQUM1RDtNQUNGO0FBRUEsVUFBSSxNQUFNLFNBQVMsWUFBWTtBQUM3QixZQUFJLFVBQVUsU0FBUyxHQUFHO0FBQ3hCLDJCQUFpQixFQUFFLFdBQVcsQ0FBQztRQUNqQztBQUNBLG1CQUFXLFFBQVEsRUFBRSxNQUFNLE9BQU8sZUFBZSxPQUFVLENBQUM7QUFDNUQ7TUFDRjtBQUVBQSxlQUFRLE1BQU07QUFDZCxtQkFBYSxNQUFNO0FBR25CLFlBQU0sU0FBUyxNQUFNLE9BQU8sYUFBYSxFQUFFLE1BQUFBLE1BQUssQ0FBQztBQUNqRCxVQUFJLFVBQVUsTUFBTTtBQUVsQixjQUFNLGNBQWMsS0FBSyxVQUFVLE9BQU8sT0FBTztBQUNqRCxZQUFJLGdCQUFnQixtQkFBbUI7QUFDckMsMkJBQWlCLEVBQUUsWUFBWSxlQUFlLE9BQU8sUUFBUSxDQUFDO0FBQzlELDhCQUFvQjtRQUN0QjtNQUNGO0lBQ0Y7RUFDRixDQUFDO0FBQ0g7QUFFQSxJQUFNLDBCQUFOLE1BRUE7RUF5QkUsWUFBWTtJQUNWO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsWUFBWTtJQUNaO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxLQUFBRjtJQUNBO0lBQ0EsWUFBQUM7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxVQUFBRjtFQUNGLEdBZ0NHO0FBdEZILFNBQWlCLGNBQWMsSUFBSSxlQUVqQztBQUNGLFNBQWlCLGdCQUFnQixJQUFJLGVBRW5DO0FBQ0YsU0FBaUIsU0FBUyxJQUFJLGVBRTVCO0FBK0VBLFNBQUssU0FBUztBQUNkLFNBQUssbUJBQW1CO0FBQ3hCLFNBQUssUUFBUTtBQUtiLFFBQUk7QUFFSixRQUFJLGtCQUE2QyxDQUFDO0FBQ2xELFVBQU0sMkJBQW1ELENBQUM7QUFDMUQsUUFBSSx1QkFBaUQ7QUFDckQsUUFBSSxxQkFBcUQ7QUFDekQsUUFBSSxrQkFBZ0QsQ0FBQztBQUNyRCxRQUFJLG1CQUF1QyxDQUFDO0FBQzVDLFVBQU0sZ0JBQXFDLENBQUM7QUFFNUMsUUFBSTtBQUVKLFFBQUksb0JBT0EsQ0FBQztBQUVMLFFBQUkseUJBT0EsQ0FBQztBQUVMLFVBQU0saUJBQWlCLElBQUksZ0JBR3pCO01BQ0EsTUFBTSxVQUFVLE9BQU8sWUFBWTtBQXhxQnpDLFlBQUFiLE1BQUFDLEtBQUE7QUF5cUJRLG1CQUFXLFFBQVEsS0FBSztBQUV4QixjQUFNLEVBQUUsS0FBSyxJQUFJO0FBRWpCLFlBQ0UsS0FBSyxTQUFTLGdCQUNkLEtBQUssU0FBUyxxQkFDZCxLQUFLLFNBQVMsWUFDZCxLQUFLLFNBQVMsZUFDZCxLQUFLLFNBQVMsaUJBQ2QsS0FBSyxTQUFTLHNCQUNkLEtBQUssU0FBUyxzQkFDZCxLQUFLLFNBQVMsT0FDZDtBQUNBLGlCQUFNLFdBQUEsT0FBQSxTQUFBLFFBQVUsRUFBRSxPQUFPLEtBQUssQ0FBQTtRQUNoQztBQUVBLFlBQUksS0FBSyxTQUFTLFNBQVM7QUFDekIsZ0JBQU0sUUFBUSxFQUFFLE9BQU8saUJBQWlCLEtBQUssS0FBSyxFQUFFLENBQUM7UUFDdkQ7QUFFQSxZQUFJLEtBQUssU0FBUyxjQUFjO0FBQzlCLDRCQUFrQixLQUFLLEVBQUUsSUFBSTtZQUMzQixNQUFNO1lBQ04sTUFBTTtZQUNOLGtCQUFrQixLQUFLO1VBQ3pCO0FBRUEsMEJBQWdCLEtBQUssa0JBQWtCLEtBQUssRUFBRSxDQUFDO1FBQ2pEO0FBRUEsWUFBSSxLQUFLLFNBQVMsY0FBYztBQUM5QixnQkFBTSxhQUFhLGtCQUFrQixLQUFLLEVBQUU7QUFFNUMsY0FBSSxjQUFjLE1BQU07QUFDdEIsdUJBQVcsUUFBUTtjQUNqQixNQUFNO2dCQUNKLE1BQU07Z0JBQ04sT0FBTyxhQUFhLEtBQUssRUFBRTtjQUM3QjtjQUNBLGVBQWU7WUFDakIsQ0FBQztBQUNEO1VBQ0Y7QUFFQSxxQkFBVyxRQUFRLEtBQUs7QUFDeEIscUJBQVcsb0JBQ1RELE9BQUEsS0FBSyxxQkFBTCxPQUFBQSxPQUF5QixXQUFXO1FBQ3hDO0FBRUEsWUFBSSxLQUFLLFNBQVMsWUFBWTtBQUM1QixpQkFBTyxrQkFBa0IsS0FBSyxFQUFFO1FBQ2xDO0FBRUEsWUFBSSxLQUFLLFNBQVMsbUJBQW1CO0FBQ25DLGlDQUF1QixLQUFLLEVBQUUsSUFBSTtZQUNoQyxNQUFNO1lBQ04sTUFBTTtZQUNOLGtCQUFrQixLQUFLO1VBQ3pCO0FBRUEsMEJBQWdCLEtBQUssdUJBQXVCLEtBQUssRUFBRSxDQUFDO1FBQ3REO0FBRUEsWUFBSSxLQUFLLFNBQVMsbUJBQW1CO0FBQ25DLGdCQUFNLGtCQUFrQix1QkFBdUIsS0FBSyxFQUFFO0FBRXRELGNBQUksbUJBQW1CLE1BQU07QUFDM0IsdUJBQVcsUUFBUTtjQUNqQixNQUFNO2dCQUNKLE1BQU07Z0JBQ04sT0FBTyxrQkFBa0IsS0FBSyxFQUFFO2NBQ2xDO2NBQ0EsZUFBZTtZQUNqQixDQUFDO0FBQ0Q7VUFDRjtBQUVBLDBCQUFnQixRQUFRLEtBQUs7QUFDN0IsMEJBQWdCLG9CQUNkQyxNQUFBLEtBQUsscUJBQUwsT0FBQUEsTUFBeUIsZ0JBQWdCO1FBQzdDO0FBRUEsWUFBSSxLQUFLLFNBQVMsaUJBQWlCO0FBQ2pDLGdCQUFNLGtCQUFrQix1QkFBdUIsS0FBSyxFQUFFO0FBRXRELGNBQUksbUJBQW1CLE1BQU07QUFDM0IsdUJBQVcsUUFBUTtjQUNqQixNQUFNO2dCQUNKLE1BQU07Z0JBQ04sT0FBTyxrQkFBa0IsS0FBSyxFQUFFO2NBQ2xDO2NBQ0EsZUFBZTtZQUNqQixDQUFDO0FBQ0Q7VUFDRjtBQUVBLDBCQUFnQixvQkFDZCxLQUFBLEtBQUsscUJBQUwsT0FBQSxLQUF5QixnQkFBZ0I7QUFFM0MsaUJBQU8sdUJBQXVCLEtBQUssRUFBRTtRQUN2QztBQUVBLFlBQUksS0FBSyxTQUFTLFFBQVE7QUFDeEIsMEJBQWdCLEtBQUssRUFBRSxNQUFNLFFBQVEsTUFBTSxLQUFLLEtBQUssQ0FBQztRQUN4RDtBQUVBLFlBQUksS0FBSyxTQUFTLFVBQVU7QUFDMUIsMEJBQWdCLEtBQUssSUFBSTtRQUMzQjtBQUVBLFlBQUksS0FBSyxTQUFTLGFBQWE7QUFDN0IsMEJBQWdCLEtBQUssSUFBSTtRQUMzQjtBQUVBLFlBQUksS0FBSyxTQUFTLGlCQUFpQixDQUFDLEtBQUssYUFBYTtBQUNwRCwwQkFBZ0IsS0FBSyxJQUFJO1FBQzNCO0FBRUEsWUFBSSxLQUFLLFNBQVMsY0FBYztBQUM5QiwwQkFBZ0IsS0FBSyxJQUFJO1FBQzNCO0FBRUEsWUFBSSxLQUFLLFNBQVMsY0FBYztBQUM5Qiw0QkFBa0IsS0FBSztBQUN2Qiw2QkFBbUIsS0FBSztRQUMxQjtBQUVBLFlBQUksS0FBSyxTQUFTLGVBQWU7QUFDL0IsZ0JBQU0sZUFBZSxtQkFBbUI7WUFDdEMsU0FBUztZQUNUO1VBQ0YsQ0FBQztBQUdELGdCQUFNLG9CQUF1QyxJQUFJLGtCQUFrQjtZQUNqRSxTQUFTO1lBQ1QsY0FBYyxLQUFLO1lBQ25CLE9BQU8sS0FBSztZQUNaLFVBQVU7WUFDVixTQUFTO1lBQ1QsVUFBVTtjQUNSLEdBQUcsS0FBSztjQUNSLFVBQVUsQ0FBQyxHQUFHLDBCQUEwQixHQUFHLFlBQVk7WUFDekQ7WUFDQSxrQkFBa0IsS0FBSztVQUN6QixDQUFDO0FBRUQsaUJBQU0sZ0JBQUEsT0FBQSxTQUFBLGFBQWUsaUJBQUE7QUFFckIsc0JBQVksZ0JBQWdCO0FBRTVCLHdCQUFjLEtBQUssaUJBQWlCO0FBRXBDLDRCQUFrQixDQUFDO0FBQ25CLG1DQUF5QixDQUFDO0FBQzFCLDhCQUFvQixDQUFDO0FBRXJCLG1DQUF5QixLQUFLLEdBQUcsWUFBWTtBQUk3QyxxQkFBVyxRQUFRO1FBQ3JCO0FBRUEsWUFBSSxLQUFLLFNBQVMsVUFBVTtBQUMxQiwrQkFBcUIsS0FBSztBQUMxQixpQ0FBdUIsS0FBSztRQUM5QjtNQUNGO01BRUEsTUFBTSxNQUFNLFlBQVk7QUFDdEIsWUFBSTtBQUNGLGNBQUksY0FBYyxXQUFXLEdBQUc7QUFDOUIsa0JBQU1HLFVBQVEsSUFBSSx1QkFBdUI7Y0FDdkMsU0FBUztZQUNYLENBQUM7QUFFRCxpQkFBSyxjQUFjLE9BQU9BLE9BQUs7QUFDL0IsaUJBQUssWUFBWSxPQUFPQSxPQUFLO0FBQzdCLGlCQUFLLE9BQU8sT0FBT0EsT0FBSztBQUV4QjtVQUNGO0FBR0EsZ0JBQU0sZUFBZSx3QkFBQSxPQUFBLHVCQUF3QjtBQUM3QyxnQkFBTSxhQUFhLHNCQUFBLE9BQUEscUJBQXNCO1lBQ3ZDLGFBQWE7WUFDYixjQUFjO1lBQ2QsYUFBYTtVQUNmO0FBR0EsZUFBSyxjQUFjLFFBQVEsWUFBWTtBQUN2QyxlQUFLLFlBQVksUUFBUSxVQUFVO0FBR25DLGVBQUssT0FBTyxRQUFRLGFBQWE7QUFHakMsZ0JBQU0sWUFBWSxjQUFjLGNBQWMsU0FBUyxDQUFDO0FBQ3hELGlCQUFNLFlBQUEsT0FBQSxTQUFBLFNBQVc7WUFDZjtZQUNBO1lBQ0EsT0FBTyxVQUFVO1lBQ2pCLFNBQVMsVUFBVTtZQUNuQixNQUFNLFVBQVU7WUFDaEIsZUFBZSxVQUFVO1lBQ3pCLFdBQVcsVUFBVTtZQUNyQixPQUFPLFVBQVU7WUFDakIsU0FBUyxVQUFVO1lBQ25CLFdBQVcsVUFBVTtZQUNyQixpQkFBaUIsVUFBVTtZQUMzQixrQkFBa0IsVUFBVTtZQUM1QixhQUFhLFVBQVU7WUFDdkIsbUJBQW1CLFVBQVU7WUFDN0Isb0JBQW9CLFVBQVU7WUFDOUIsU0FBUyxVQUFVO1lBQ25CLFVBQVUsVUFBVTtZQUNwQixVQUFVLFVBQVU7WUFDcEIsa0JBQWtCLFVBQVU7WUFDNUIsT0FBTztVQUNULENBQUE7QUFHQSxtQkFBUztZQUNQLDBCQUEwQjtjQUN4QjtjQUNBLFlBQVk7Z0JBQ1YsNEJBQTRCO2dCQUM1QixvQkFBb0IsRUFBRSxRQUFRLE1BQU0sVUFBVSxLQUFLO2dCQUNuRCx5QkFBeUI7a0JBQ3ZCLFFBQVEsTUFBRztBQWw1QjdCLHdCQUFBSjtBQW01Qm9CLDZCQUFBQSxPQUFBLFVBQVUsY0FBVixPQUFBLFNBQUFBLEtBQXFCLFVBQ2pCLEtBQUssVUFBVSxVQUFVLFNBQVMsSUFDbEM7a0JBQUE7Z0JBQ1I7Z0JBQ0EsZ0NBQWdDLEtBQUs7a0JBQ25DLFVBQVU7Z0JBQ1o7Z0JBRUEsd0JBQXdCLFdBQVc7Z0JBQ25DLHlCQUF5QixXQUFXO2dCQUNwQyx3QkFBd0IsV0FBVztnQkFDbkMsNEJBQTRCLFdBQVc7Z0JBQ3ZDLDhCQUE4QixXQUFXO2NBQzNDO1lBQ0YsQ0FBQztVQUNIO1FBQ0YsU0FBU0ksU0FBTztBQUNkLHFCQUFXLE1BQU1BLE9BQUs7UUFDeEIsVUFBQTtBQUNFLG1CQUFTLElBQUk7UUFDZjtNQUNGO0lBQ0YsQ0FBQztBQUdELFVBQU0sbUJBQW1CLHVCQUE4QztBQUN2RSxTQUFLLFlBQVksaUJBQWlCO0FBQ2xDLFNBQUssY0FBYyxpQkFBaUI7QUFHcEMsVUFBTSxTQUFTLGlCQUFpQixPQUFPLFVBQVU7QUFDakQsUUFBSSxTQUFTLElBQUksZUFBc0M7TUFDckQsTUFBTSxNQUFNLFlBQVk7QUFFdEIsbUJBQVcsUUFBUSxFQUFFLE1BQU0sUUFBUSxDQUFDO01BQ3RDO01BRUEsTUFBTSxLQUFLLFlBQVk7QUFFckIsaUJBQVMsUUFBUTtBQUNmLHFCQUFBLE9BQUEsU0FBQSxRQUFVLEVBQUUsT0FBTyxjQUFjLENBQUE7QUFDakMscUJBQVcsUUFBUSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQ3BDLHFCQUFXLE1BQU07UUFDbkI7QUFFQSxZQUFJO0FBQ0YsZ0JBQU0sRUFBRSxNQUFNLE1BQU0sSUFBSSxNQUFNLE9BQU8sS0FBSztBQUUxQyxjQUFJLE1BQU07QUFDUix1QkFBVyxNQUFNO0FBQ2pCO1VBQ0Y7QUFFQSxjQUFJLGVBQUEsT0FBQSxTQUFBLFlBQWEsU0FBUztBQUN4QixrQkFBTTtBQUNOO1VBQ0Y7QUFFQSxxQkFBVyxRQUFRLEtBQUs7UUFDMUIsU0FBU0EsU0FBTztBQUNkLGNBQUlhLGFBQWFiLE9BQUssTUFBSyxlQUFBLE9BQUEsU0FBQSxZQUFhLFVBQVM7QUFDL0Msa0JBQU07VUFDUixPQUFPO0FBQ0wsdUJBQVcsTUFBTUEsT0FBSztVQUN4QjtRQUNGO01BQ0Y7TUFFQSxPQUFPLFFBQVE7QUFDYixlQUFPLGlCQUFpQixPQUFPLE9BQU8sTUFBTTtNQUM5QztJQUNGLENBQUM7QUFJRCxlQUFXUSxjQUFhLFlBQVk7QUFDbEMsZUFBUyxPQUFPO1FBQ2RBLFdBQVU7VUFDUjtVQUNBLGFBQWE7QUFDWCw2QkFBaUIsVUFBVTtVQUM3QjtRQUNGLENBQUM7TUFDSDtJQUNGO0FBRUEsU0FBSyxhQUFhLE9BQ2YsWUFBWSw0QkFBNEIsTUFBTSxDQUFDLEVBQy9DLFlBQVksY0FBYztBQUU3QixVQUFNLEVBQUUsWUFBWSxNQUFNLElBQUksZUFBZTtNQUMzQyxZQUFZO01BQ1o7SUFDRixDQUFDO0FBRUQsVUFBTSxTQUFTLFVBQVUsU0FBUztBQUVsQyxVQUFNLGVBQWUsb0JBQW9CLFFBQVE7QUFFakQsVUFBTSwwQkFBMEIsMkJBQTJCO01BQ3pEO01BQ0E7TUFDQTtNQUNBLFVBQVUsRUFBRSxHQUFHLGNBQWMsV0FBVztJQUMxQyxDQUFDO0FBRUQsVUFBTSxPQUFPO0FBRWIsZUFBVztNQUNULE1BQU07TUFDTixZQUFZLDBCQUEwQjtRQUNwQztRQUNBLFlBQVk7VUFDVixHQUFHLHNCQUFzQixFQUFFLGFBQWEsaUJBQWlCLFVBQVUsQ0FBQztVQUNwRSxHQUFHOztVQUVILGFBQWE7WUFDWCxPQUFPLE1BQU0sS0FBSyxVQUFVLEVBQUUsUUFBUSxRQUFRLFNBQVMsQ0FBQztVQUMxRDtRQUNGO01BQ0YsQ0FBQztNQUNEO01BQ0EsYUFBYTtNQUNiLElBQUksT0FBTSxnQkFBZTtBQUN2QixtQkFBVztBQUVYLHVCQUFlLFdBQVc7VUFDeEI7VUFDQTtVQUNBO1FBQ0YsR0FJRztBQXpoQ1gsY0FBQVosTUFBQUMsS0FBQSxJQUFBLElBQUE7QUEwaENVLGdCQUFNaUIsb0JBQW1CLEtBQUs7QUFFOUIsdUJBQWEsSUFBSSxlQUFxQjtBQUV0QyxnQkFBTSxnQkFBZ0IsTUFBTSxrQkFBa0I7WUFDNUM7WUFDQTtZQUNBO1VBQ0YsQ0FBVztBQUVYLGdCQUFNLG9CQUFvQjtZQUN4QixHQUFHLGNBQWM7WUFDakIsR0FBRztVQUNMO0FBRUEsZ0JBQU0sb0JBQW9CLE9BQU0sZUFBQSxPQUFBLFNBQUEsWUFBYztZQUM1QztZQUNBLE9BQU87WUFDUCxZQUFZLGNBQWM7WUFDMUIsVUFBVTtVQUNaLENBQUE7QUFFQSxnQkFBTSxpQkFBaUIsTUFBTSw2QkFBNkI7WUFDeEQsUUFBUTtjQUNOLFNBQVFsQixPQUFBLHFCQUFBLE9BQUEsU0FBQSxrQkFBbUIsV0FBbkIsT0FBQUEsT0FBNkIsY0FBYztjQUNuRCxXQUFVQyxNQUFBLHFCQUFBLE9BQUEsU0FBQSxrQkFBbUIsYUFBbkIsT0FBQUEsTUFBK0I7WUFDM0M7WUFDQSxlQUFlLE1BQU0sTUFBTTtZQUMzQixVQUFBWTtVQUNGLENBQUM7QUFFRCxnQkFBTSxZQUFZO2FBQ2hCLEtBQUEscUJBQUEsT0FBQSxTQUFBLGtCQUFtQixVQUFuQixPQUFBLEtBQTRCO1VBQzlCO0FBRUEsZ0JBQU0sRUFBRSxZQUFZLGdCQUFnQixPQUFPLFVBQVUsSUFDbkQsMEJBQTBCO1lBQ3hCO1lBQ0EsYUFBWSxLQUFBLHFCQUFBLE9BQUEsU0FBQSxrQkFBbUIsZUFBbkIsT0FBQSxLQUFpQztZQUM3QyxjQUFhLEtBQUEscUJBQUEsT0FBQSxTQUFBLGtCQUFtQixnQkFBbkIsT0FBQSxLQUFrQztVQUNqRCxDQUFDO0FBRUgsZ0JBQU07WUFDSixRQUFRLEVBQUUsUUFBQU0sU0FBUSxVQUFVLFFBQVE7WUFDcEM7WUFDQTtVQUNGLElBQUksTUFBTTtZQUFNLE1BQ2QsV0FBVztjQUNULE1BQU07Y0FDTixZQUFZLDBCQUEwQjtnQkFDcEM7Z0JBQ0EsWUFBWTtrQkFDVixHQUFHLHNCQUFzQjtvQkFDdkIsYUFBYTtvQkFDYjtrQkFDRixDQUFDO2tCQUNELEdBQUc7O2tCQUVILHFCQUFxQixVQUFVO2tCQUMvQixlQUFlLFVBQVU7O2tCQUV6QixzQkFBc0I7b0JBQ3BCLE9BQU8sTUFBTSxzQkFBc0IsY0FBYztrQkFDbkQ7a0JBQ0EsbUJBQW1COztvQkFFakIsT0FBTyxNQUFNLGFBQUEsT0FBQSxTQUFBLFVBQVcsSUFBSSxDQUFBWCxVQUFRLEtBQUssVUFBVUEsS0FBSSxDQUFBO2tCQUN6RDtrQkFDQSx3QkFBd0I7b0JBQ3RCLE9BQU8sTUFDTCxrQkFBa0IsT0FDZCxLQUFLLFVBQVUsY0FBYyxJQUM3QjtrQkFDUjs7a0JBR0EsaUJBQWlCLFVBQVU7a0JBQzNCLHdCQUF3QixVQUFVO2tCQUNsQyxvQ0FDRSxhQUFhO2tCQUNmLDZCQUE2QixhQUFhO2tCQUMxQyxtQ0FDRSxhQUFhO2tCQUNmLGlDQUFpQyxhQUFhO2tCQUM5Qyw4QkFBOEIsYUFBYTtrQkFDM0Msd0JBQXdCLGFBQWE7a0JBQ3JDLHdCQUF3QixhQUFhO2dCQUN2QztjQUNGLENBQUM7Y0FDRDtjQUNBLGFBQWE7Y0FDYixJQUFJLE9BQU1ZLGtCQUFnQjtBQUN4Qix1QkFBTztrQkFDTCxrQkFBa0JOLEtBQUk7O2tCQUN0QixjQUFBTTtrQkFDQSxRQUFRLE1BQU0sVUFBVSxTQUFTO29CQUMvQixHQUFHO29CQUNILE9BQU87b0JBQ1AsWUFBWTtvQkFDWixnQkFBZ0IsVUFBQSxPQUFBLFNBQUEsT0FBUTtvQkFDeEIsUUFBUTtvQkFDUjtvQkFDQTtvQkFDQTtvQkFDQSxrQkFBQUY7a0JBQ0YsQ0FBQztnQkFDSDtjQUNGO1lBQ0YsQ0FBQztVQUNIO0FBRUEsZ0JBQU0sd0JBQXdCLHVCQUF1QjtZQUNuRDtZQUNBLGlCQUFpQkM7WUFDakI7WUFDQTtZQUNBO1lBQ0EsVUFBVTtZQUNWO1lBQ0E7WUFDQTtVQUNGLENBQUM7QUFFRCxnQkFBTSxjQUFjLFdBQUEsT0FBQSxVQUFXLENBQUM7QUFDaEMsZ0JBQU0sZ0JBQXdDLENBQUM7QUFDL0MsZ0JBQU0sa0JBQXVDLENBQUM7QUFDOUMsY0FBSTtBQUVKLGdCQUFNLDBCQUFrRCxDQUFDO0FBRXpELGNBQUksbUJBQWlDO0FBQ3JDLGNBQUksWUFBZ0M7WUFDbEMsYUFBYTtZQUNiLGNBQWM7WUFDZCxhQUFhO1VBQ2Y7QUFDQSxjQUFJO0FBQ0osY0FBSSxpQkFBaUI7QUFDckIsY0FBSSxlQUFpRTtZQUNuRSxJQUFJSixZQUFXO1lBQ2YsV0FBVyxZQUFZO1lBQ3ZCLFNBQVMsTUFBTTtVQUNqQjtBQUdBLGNBQUksYUFBYTtBQUVqQixlQUFLO1lBQ0gsc0JBQXNCO2NBQ3BCLElBQUksZ0JBR0Y7Z0JBQ0EsTUFBTSxVQUFVLE9BQU8sWUFBMkI7QUFuckNsRSxzQkFBQWYsTUFBQUMsTUFBQW9CLEtBQUFDO0FBb3JDa0Isc0JBQUksTUFBTSxTQUFTLGdCQUFnQjtBQUNqQywrQkFBVyxNQUFNO0FBQ2pCO2tCQUNGO0FBRUEsc0JBQUksZ0JBQWdCO0FBRWxCLDBCQUFNLGlCQUFpQlIsS0FBSSxJQUFJO0FBRS9CLHFDQUFpQjtBQUVqQixpQ0FBYSxTQUFTLHdCQUF3QjtzQkFDNUMsOEJBQThCO29CQUNoQyxDQUFDO0FBRUQsaUNBQWEsY0FBYztzQkFDekIsOEJBQThCO29CQUNoQyxDQUFDO0FBR0QsK0JBQVcsUUFBUTtzQkFDakIsTUFBTTtzQkFDTixTQUFTO3NCQUNULFVBQVUsWUFBQSxPQUFBLFdBQVksQ0FBQztvQkFDekIsQ0FBQztrQkFDSDtBQUVBLHdCQUFNLFlBQVksTUFBTTtBQUN4QiwwQkFBUSxXQUFXO29CQUNqQixLQUFLO29CQUNMLEtBQUssWUFBWTtBQUNmLGlDQUFXLFFBQVEsS0FBSztBQUN4QjtvQkFDRjtvQkFFQSxLQUFLLGNBQWM7QUFDakIsMEJBQUksTUFBTSxNQUFNLFNBQVMsR0FBRztBQUMxQixtQ0FBVyxRQUFROzBCQUNqQixNQUFNOzBCQUNOLElBQUksTUFBTTswQkFDVixNQUFNLE1BQU07MEJBQ1osa0JBQWtCLE1BQU07d0JBQzFCLENBQUM7QUFDRCxzQ0FBYyxNQUFNO3NCQUN0QjtBQUNBO29CQUNGO29CQUVBLEtBQUs7b0JBQ0wsS0FBSyxpQkFBaUI7QUFDcEIsaUNBQVcsUUFBUSxLQUFLO0FBQ3hCO29CQUNGO29CQUVBLEtBQUssbUJBQW1CO0FBQ3RCLGlDQUFXLFFBQVE7d0JBQ2pCLE1BQU07d0JBQ04sSUFBSSxNQUFNO3dCQUNWLE1BQU0sTUFBTTt3QkFDWixrQkFBa0IsTUFBTTtzQkFDMUIsQ0FBQztBQUNEO29CQUNGO29CQUVBLEtBQUssYUFBYTtBQUNoQixpQ0FBVyxRQUFRLEtBQUs7QUFFeEIsb0NBQWMsS0FBSyxLQUFLO0FBQ3hCO29CQUNGO29CQUVBLEtBQUssZUFBZTtBQUNsQixpQ0FBVyxRQUFRLEtBQUs7QUFFeEIsMEJBQUksQ0FBQyxNQUFNLGFBQWE7QUFDdEIsd0NBQWdCLEtBQUssS0FBSztzQkFDNUI7QUFFQTtvQkFDRjtvQkFFQSxLQUFLLGNBQWM7QUFDakIsaUNBQVcsUUFBUSxLQUFLO0FBQ3hCLHNDQUFnQixLQUFLLEtBQUs7QUFDMUI7b0JBQ0Y7b0JBRUEsS0FBSyxxQkFBcUI7QUFDeEIscUNBQWU7d0JBQ2IsS0FBSWQsT0FBQSxNQUFNLE9BQU4sT0FBQUEsT0FBWSxhQUFhO3dCQUM3QixZQUFXQyxPQUFBLE1BQU0sY0FBTixPQUFBQSxPQUFtQixhQUFhO3dCQUMzQyxVQUFTb0IsTUFBQSxNQUFNLFlBQU4sT0FBQUEsTUFBaUIsYUFBYTtzQkFDekM7QUFDQTtvQkFDRjtvQkFFQSxLQUFLLFVBQVU7QUFHYixrQ0FBWSxNQUFNO0FBQ2xCLHlDQUFtQixNQUFNO0FBQ3pCLDZDQUF1QixNQUFNO0FBSTdCLDRCQUFNLGFBQWFQLEtBQUksSUFBSTtBQUMzQixtQ0FBYSxTQUFTLGtCQUFrQjtBQUN4QyxtQ0FBYSxjQUFjO3dCQUN6QiwwQkFBMEI7d0JBQzFCLHdDQUNHLFFBQVFRLE1BQUEsVUFBVSxpQkFBVixPQUFBQSxNQUEwQixLQUFNO3NCQUM3QyxDQUFDO0FBRUQ7b0JBQ0Y7b0JBRUEsS0FBSyxRQUFRO0FBQ1gsaUNBQVcsUUFBUSxLQUFLO0FBQ3hCO29CQUNGO29CQUVBLEtBQUssVUFBVTtBQUNiLGlDQUFXLFFBQVEsS0FBSztBQUN4QjtvQkFDRjtvQkFFQSxLQUFLLG9CQUFvQjtBQUN2Qiw4Q0FBd0IsTUFBTSxFQUFFLElBQUksTUFBTTtBQUUxQyw0QkFBTWQsUUFBTyxTQUFBLE9BQUEsU0FBQSxNQUFRLE1BQU0sUUFBQTtBQUMzQiwyQkFBSUEsU0FBQSxPQUFBLFNBQUFBLE1BQU0saUJBQWdCLE1BQU07QUFDOUIsOEJBQU1BLE1BQUssYUFBYTswQkFDdEIsWUFBWSxNQUFNOzBCQUNsQixVQUFVOzBCQUNWOzBCQUNBO3dCQUNGLENBQUM7c0JBQ0g7QUFFQSxpQ0FBVyxRQUFRO3dCQUNqQixHQUFHO3dCQUNILFVBQVNBLFNBQUEsT0FBQSxTQUFBQSxNQUFNLFVBQVM7c0JBQzFCLENBQUM7QUFDRDtvQkFDRjtvQkFFQSxLQUFLLGtCQUFrQjtBQUNyQiw2QkFBTyx3QkFBd0IsTUFBTSxFQUFFO0FBQ3ZDLGlDQUFXLFFBQVEsS0FBSztBQUN4QjtvQkFDRjtvQkFFQSxLQUFLLG9CQUFvQjtBQUN2Qiw0QkFBTSxXQUFXLHdCQUF3QixNQUFNLEVBQUU7QUFDakQsNEJBQU1BLFFBQU8sU0FBQSxPQUFBLFNBQUEsTUFBUSxRQUFBO0FBRXJCLDJCQUFJQSxTQUFBLE9BQUEsU0FBQUEsTUFBTSxpQkFBZ0IsTUFBTTtBQUM5Qiw4QkFBTUEsTUFBSyxhQUFhOzBCQUN0QixnQkFBZ0IsTUFBTTswQkFDdEIsWUFBWSxNQUFNOzBCQUNsQixVQUFVOzBCQUNWOzBCQUNBO3dCQUNGLENBQUM7c0JBQ0g7QUFFQSxpQ0FBVyxRQUFRLEtBQUs7QUFDeEI7b0JBQ0Y7b0JBRUEsS0FBSyxTQUFTO0FBQ1osaUNBQVcsUUFBUSxLQUFLO0FBQ3hCLHlDQUFtQjtBQUNuQjtvQkFDRjtvQkFFQSxLQUFLLE9BQU87QUFDViwwQkFBSVUsbUJBQWtCO0FBQ3BCLG1DQUFXLFFBQVEsS0FBSztzQkFDMUI7QUFDQTtvQkFDRjtvQkFFQSxTQUFTO0FBQ1AsNEJBQU0sa0JBQXlCO0FBQy9CLDRCQUFNLElBQUksTUFBTSx1QkFBdUIsZUFBZSxFQUFFO29CQUMxRDtrQkFDRjtnQkFDRjs7Z0JBR0EsTUFBTSxNQUFNLFlBQVk7QUFDdEIsd0JBQU0sb0JBQ0osY0FBYyxTQUFTLElBQ25CLEtBQUssVUFBVSxhQUFhLElBQzVCO0FBR04sc0JBQUk7QUFDRixpQ0FBYTtzQkFDWCwwQkFBMEI7d0JBQ3hCO3dCQUNBLFlBQVk7MEJBQ1YsNEJBQTRCOzBCQUM1QixvQkFBb0I7NEJBQ2xCLFFBQVEsTUFBTTswQkFDaEI7MEJBQ0EseUJBQXlCOzRCQUN2QixRQUFRLE1BQU07MEJBQ2hCOzBCQUNBLGtCQUFrQixhQUFhOzBCQUMvQixxQkFBcUIsYUFBYTswQkFDbEMseUJBQ0UsYUFBYSxVQUFVLFlBQVk7MEJBQ3JDLGdDQUNFLEtBQUssVUFBVSxvQkFBb0I7MEJBRXJDLHdCQUF3QixVQUFVOzBCQUNsQyx5QkFBeUIsVUFBVTswQkFDbkMsd0JBQXdCLFVBQVU7MEJBQ2xDLDRCQUE0QixVQUFVOzBCQUN0Qyw4QkFDRSxVQUFVOzswQkFHWixrQ0FBa0MsQ0FBQyxnQkFBZ0I7MEJBQ25ELHNCQUFzQixhQUFhOzBCQUNuQyx5QkFBeUIsYUFBYTswQkFDdEMsNkJBQTZCLFVBQVU7MEJBQ3ZDLDhCQUE4QixVQUFVO3dCQUMxQztzQkFDRixDQUFDO29CQUNIO2tCQUNGLFNBQVNkLFNBQU87a0JBRWhCLFVBQUE7QUFFRSxpQ0FBYSxJQUFJO2tCQUNuQjtBQUVBLDZCQUFXLFFBQVE7b0JBQ2pCLE1BQU07b0JBQ04sY0FBYztvQkFDZCxPQUFPO29CQUNQLGtCQUFrQjtvQkFDbEIsVUFBVTtzQkFDUixHQUFHO3NCQUNILFNBQVMsWUFBQSxPQUFBLFNBQUEsU0FBVTtvQkFDckI7a0JBQ0YsQ0FBQztBQUVELHdCQUFNLGdCQUFnQixzQkFBc0IsT0FBTyxTQUFTO0FBSTVELHdCQUFNLFdBQVc7QUFFakIsd0JBQU0sa0JBQWtCLGNBQWM7b0JBQ3BDLENBQUEsYUFBWSxTQUFTLHFCQUFxQjtrQkFDNUM7QUFDQSx3QkFBTSxvQkFBb0IsZ0JBQWdCO29CQUN4QyxDQUFBLGVBQWMsV0FBVyxxQkFBcUI7a0JBQ2hEO0FBRUEsc0JBQ0UsZ0JBQWdCLFNBQVM7a0JBRXpCLGtCQUFrQixXQUFXLGdCQUFnQjtrQkFFN0MsQ0FBRSxNQUFNLG1CQUFtQjtvQkFDekI7b0JBQ0EsT0FBTztrQkFDVCxDQUFDLEdBQ0Q7QUFFQSxxQ0FBaUI7c0JBQ2YsR0FBRyxtQkFBbUI7d0JBQ3BCOzswQkFFRSxjQUFjLGNBQWMsU0FBUyxDQUFDLEVBQUU7O3dCQUMxQztzQkFDRixDQUFDO29CQUNIO0FBRUEsd0JBQUk7QUFDRiw0QkFBTSxXQUFXO3dCQUNmLGFBQWEsY0FBYzt3QkFDM0I7d0JBQ0EsT0FBTztzQkFDVCxDQUFDO29CQUNILFNBQVNBLFNBQU87QUFDZCxpQ0FBVyxRQUFRO3dCQUNqQixNQUFNO3dCQUNOLE9BQUFBO3NCQUNGLENBQUM7QUFFRCwyQkFBSyxZQUFZO29CQUNuQjtrQkFDRixPQUFPO0FBQ0wsK0JBQVcsUUFBUTtzQkFDakIsTUFBTTtzQkFDTixjQUFjO3NCQUNkLFlBQVk7b0JBQ2QsQ0FBQztBQUVELHlCQUFLLFlBQVk7a0JBQ25CO2dCQUNGO2NBQ0YsQ0FBQztZQUNIO1VBQ0Y7UUFDRjtBQUdBLGNBQU0sV0FBVztVQUNmLGFBQWE7VUFDYixrQkFBa0IsQ0FBQztVQUNuQixPQUFPO1lBQ0wsYUFBYTtZQUNiLGNBQWM7WUFDZCxhQUFhO1VBQ2Y7UUFDRixDQUFDO01BQ0g7SUFDRixDQUFDLEVBQUUsTUFBTSxDQUFBQSxZQUFTO0FBRWhCLFdBQUs7UUFDSCxJQUFJLGVBQWU7VUFDakIsTUFBTSxZQUFZO0FBQ2hCLHVCQUFXLFFBQVEsRUFBRSxNQUFNLFNBQVMsT0FBQUEsUUFBTSxDQUFDO0FBQzNDLHVCQUFXLE1BQU07VUFDbkI7UUFDRixDQUFDO01BQ0g7QUFDQSxXQUFLLFlBQVk7SUFDbkIsQ0FBQztFQUNIO0VBRUEsSUFBSSxRQUFRO0FBR1YsU0FBSyxjQUFjO0FBRW5CLFdBQU8sS0FBSyxPQUFPO0VBQ3JCO0VBRUEsSUFBWSxZQUFZO0FBQ3RCLFdBQU8sS0FBSyxNQUFNLEtBQUssQ0FBQSxVQUFTLE1BQU0sTUFBTSxTQUFTLENBQUMsQ0FBQztFQUN6RDtFQUVBLElBQUksVUFBVTtBQUNaLFdBQU8sS0FBSyxVQUFVLEtBQUssQ0FBQSxTQUFRLEtBQUssT0FBTztFQUNqRDtFQUVBLElBQUksV0FBVztBQUNiLFdBQU8sS0FBSyxVQUFVLEtBQUssQ0FBQSxTQUFRLEtBQUssUUFBUTtFQUNsRDtFQUVBLElBQUksbUJBQW1CO0FBQ3JCLFdBQU8sS0FBSyxVQUFVLEtBQUssQ0FBQSxTQUFRLEtBQUssZ0JBQWdCO0VBQzFEO0VBRUEsSUFBSSxPQUFPO0FBQ1QsV0FBTyxLQUFLLFVBQVUsS0FBSyxDQUFBLFNBQVEsS0FBSyxJQUFJO0VBQzlDO0VBRUEsSUFBSSxnQkFBZ0I7QUFDbEIsV0FBTyxLQUFLLFVBQVUsS0FBSyxDQUFBLFNBQVEsS0FBSyxhQUFhO0VBQ3ZEO0VBRUEsSUFBSSxZQUFZO0FBQ2QsV0FBTyxLQUFLLFVBQVUsS0FBSyxDQUFBLFNBQVEsS0FBSyxTQUFTO0VBQ25EO0VBRUEsSUFBSSxVQUFVO0FBQ1osV0FBTyxLQUFLLFVBQVUsS0FBSyxDQUFBLFNBQVEsS0FBSyxPQUFPO0VBQ2pEO0VBRUEsSUFBSSxRQUFRO0FBQ1YsV0FBTyxLQUFLLFVBQVUsS0FBSyxDQUFBLFNBQVEsS0FBSyxLQUFLO0VBQy9DO0VBRUEsSUFBSSxZQUFZO0FBQ2QsV0FBTyxLQUFLLFVBQVUsS0FBSyxDQUFBLFNBQVEsS0FBSyxTQUFTO0VBQ25EO0VBRUEsSUFBSSxrQkFBa0I7QUFDcEIsV0FBTyxLQUFLLFVBQVUsS0FBSyxDQUFBLFNBQVEsS0FBSyxlQUFlO0VBQ3pEO0VBRUEsSUFBSSxtQkFBbUI7QUFDckIsV0FBTyxLQUFLLFVBQVUsS0FBSyxDQUFBLFNBQVEsS0FBSyxnQkFBZ0I7RUFDMUQ7RUFFQSxJQUFJLGNBQWM7QUFDaEIsV0FBTyxLQUFLLFVBQVUsS0FBSyxDQUFBLFNBQVEsS0FBSyxXQUFXO0VBQ3JEO0VBRUEsSUFBSSxvQkFBb0I7QUFDdEIsV0FBTyxLQUFLLFVBQVUsS0FBSyxDQUFBLFNBQVEsS0FBSyxpQkFBaUI7RUFDM0Q7RUFFQSxJQUFJLHFCQUFxQjtBQUN2QixXQUFPLEtBQUssVUFBVSxLQUFLLENBQUEsU0FBUSxLQUFLLGtCQUFrQjtFQUM1RDtFQUVBLElBQUksUUFBUTtBQUNWLFdBQU8sS0FBSyxVQUFVLEtBQUssQ0FBQSxTQUFRLEtBQUssS0FBSztFQUMvQztFQUVBLElBQUksVUFBVTtBQUNaLFdBQU8sS0FBSyxVQUFVLEtBQUssQ0FBQSxTQUFRLEtBQUssT0FBTztFQUNqRDtFQUVBLElBQUksV0FBVztBQUNiLFdBQU8sS0FBSyxVQUFVLEtBQUssQ0FBQSxTQUFRLEtBQUssUUFBUTtFQUNsRDtFQUVBLElBQUksYUFBYTtBQUdmLFNBQUssY0FBYztBQUVuQixXQUFPLEtBQUssWUFBWTtFQUMxQjtFQUVBLElBQUksZUFBZTtBQUdqQixTQUFLLGNBQWM7QUFFbkIsV0FBTyxLQUFLLGNBQWM7RUFDNUI7Ozs7Ozs7OztFQVVRLFlBQVk7QUFDbEIsVUFBTSxDQUFDLFNBQVMsT0FBTyxJQUFJLEtBQUssV0FBVyxJQUFJO0FBQy9DLFNBQUssYUFBYTtBQUNsQixXQUFPO0VBQ1Q7RUFFQSxJQUFJLGFBQTBDO0FBQzVDLFdBQU87TUFDTCxLQUFLLFVBQVUsRUFBRTtRQUNmLElBQUksZ0JBQW1FO1VBQ3JFLFVBQVUsRUFBRSxLQUFLLEdBQUcsWUFBWTtBQUM5QixnQkFBSSxLQUFLLFNBQVMsY0FBYztBQUM5Qix5QkFBVyxRQUFRLEtBQUssSUFBSTtZQUM5QjtVQUNGO1FBQ0YsQ0FBQztNQUNIO0lBQ0Y7RUFDRjtFQUVBLElBQUksYUFBeUQ7QUFDM0QsV0FBTztNQUNMLEtBQUssVUFBVSxFQUFFO1FBQ2YsSUFBSSxnQkFHRjtVQUNBLFVBQVUsRUFBRSxLQUFLLEdBQUcsWUFBWTtBQUM5Qix1QkFBVyxRQUFRLElBQUk7VUFDekI7UUFDRixDQUFDO01BQ0g7SUFDRjtFQUNGO0VBRUEsTUFBTSxjQUFjLFNBQStDO0FBanBEckUsUUFBQUo7QUFrcERJLFFBQUk7QUFDRixZQUFNLGNBQWM7UUFDbEIsUUFBUSxLQUFLO1FBQ2IsU0FBUyxXQUFBLE9BQUEsU0FBQSxRQUFTO01BQ3BCLENBQUM7SUFDSCxTQUFTSSxTQUFPO0FBQ2QsT0FBQUosT0FBQSxXQUFBLE9BQUEsU0FBQSxRQUFTLFlBQVQsT0FBQSxTQUFBQSxLQUFBLEtBQUEsU0FBbUJJLE9BQUE7SUFDckI7RUFDRjtFQUVBLElBQUksbUNBQXdFO0FBQzFFLFFBQUksS0FBSyxVQUFVLE1BQU07QUFDdkIsWUFBTSxJQUFJLHVCQUF1QjtJQUNuQztBQUVBLFdBQU87TUFDTCxLQUFLLFVBQVUsRUFBRTtRQUNmLElBQUksZ0JBR0Y7VUFDQSxVQUFVLEVBQUUsY0FBYyxHQUFHLFlBQVk7QUFDdkMsZ0JBQUksaUJBQWlCLE1BQU07QUFDekIseUJBQVcsUUFBUSxhQUFhO1lBQ2xDO1VBQ0Y7UUFDRixDQUFDO01BQ0g7SUFDRjtFQUNGO0VBRUEsa0JBQWdEO0lBQzlDO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCxZQUFZO0lBQ1osYUFBYTtJQUNiLFVBQVVHO0VBQ1osSUFBd0MsQ0FBQyxHQUV2QztBQUNBLFVBQU0sb0JBQ0oscUJBQXFCLE9BQ2pCLHVCQUF1QjtNQUNyQjtNQUNBLG1CQUFtQjtJQUNyQixDQUFDLElBQ0Q7QUFFTixVQUFNLG9CQUE0QyxDQUFDO0FBRW5ELFVBQU0sWUFBWSxDQUFDLGVBQXVCO0FBeHNEOUMsVUFBQVAsTUFBQUM7QUF5c0RNLFlBQU0sV0FBVyxrQkFBa0IsVUFBVTtBQUM3QyxZQUFNLFlBQVVBLE9BQUFELE9BQUEsS0FBSyxVQUFMLE9BQUEsU0FBQUEsS0FBYSxRQUFBLE1BQWIsT0FBQSxTQUFBQyxJQUF3QixVQUFTO0FBQ2pELGFBQU8sVUFBVSxPQUFPO0lBQzFCO0FBRUEsVUFBTSxhQUFhLEtBQUssV0FBVztNQUNqQyxJQUFJLGdCQU1GO1FBQ0EsV0FBVyxPQUFPLE1BQU0sZUFBZTtBQUNyQyxnQkFBTSx1QkFBdUIsbUJBQUEsT0FBQSxTQUFBLGdCQUFrQixFQUFFLEtBQUssQ0FBQTtBQUV0RCxnQkFBTSxXQUFXLEtBQUs7QUFDdEIsa0JBQVEsVUFBVTtZQUNoQixLQUFLLGNBQWM7QUFDakIseUJBQVcsUUFBUTtnQkFDakIsTUFBTTtnQkFDTixJQUFJLEtBQUs7Z0JBQ1QsR0FBSSxLQUFLLG9CQUFvQixPQUN6QixFQUFFLGtCQUFrQixLQUFLLGlCQUFpQixJQUMxQyxDQUFDO2NBQ1AsQ0FBQztBQUNEO1lBQ0Y7WUFFQSxLQUFLLGNBQWM7QUFDakIseUJBQVcsUUFBUTtnQkFDakIsTUFBTTtnQkFDTixJQUFJLEtBQUs7Z0JBQ1QsT0FBTyxLQUFLO2dCQUNaLEdBQUksS0FBSyxvQkFBb0IsT0FDekIsRUFBRSxrQkFBa0IsS0FBSyxpQkFBaUIsSUFDMUMsQ0FBQztjQUNQLENBQUM7QUFDRDtZQUNGO1lBRUEsS0FBSyxZQUFZO0FBQ2YseUJBQVcsUUFBUTtnQkFDakIsTUFBTTtnQkFDTixJQUFJLEtBQUs7Z0JBQ1QsR0FBSSxLQUFLLG9CQUFvQixPQUN6QixFQUFFLGtCQUFrQixLQUFLLGlCQUFpQixJQUMxQyxDQUFDO2NBQ1AsQ0FBQztBQUNEO1lBQ0Y7WUFFQSxLQUFLLG1CQUFtQjtBQUN0Qix5QkFBVyxRQUFRO2dCQUNqQixNQUFNO2dCQUNOLElBQUksS0FBSztnQkFDVCxHQUFJLEtBQUssb0JBQW9CLE9BQ3pCLEVBQUUsa0JBQWtCLEtBQUssaUJBQWlCLElBQzFDLENBQUM7Y0FDUCxDQUFDO0FBQ0Q7WUFDRjtZQUVBLEtBQUssbUJBQW1CO0FBQ3RCLGtCQUFJLGVBQWU7QUFDakIsMkJBQVcsUUFBUTtrQkFDakIsTUFBTTtrQkFDTixJQUFJLEtBQUs7a0JBQ1QsT0FBTyxLQUFLO2tCQUNaLEdBQUksS0FBSyxvQkFBb0IsT0FDekIsRUFBRSxrQkFBa0IsS0FBSyxpQkFBaUIsSUFDMUMsQ0FBQztnQkFDUCxDQUFDO2NBQ0g7QUFDQTtZQUNGO1lBRUEsS0FBSyxpQkFBaUI7QUFDcEIseUJBQVcsUUFBUTtnQkFDakIsTUFBTTtnQkFDTixJQUFJLEtBQUs7Z0JBQ1QsR0FBSSxLQUFLLG9CQUFvQixPQUN6QixFQUFFLGtCQUFrQixLQUFLLGlCQUFpQixJQUMxQyxDQUFDO2NBQ1AsQ0FBQztBQUNEO1lBQ0Y7WUFFQSxLQUFLLFFBQVE7QUFDWCx5QkFBVyxRQUFRO2dCQUNqQixNQUFNO2dCQUNOLFdBQVcsS0FBSyxLQUFLO2dCQUNyQixLQUFLLFFBQVEsS0FBSyxLQUFLLFNBQVMsV0FBVyxLQUFLLEtBQUssTUFBTTtjQUM3RCxDQUFDO0FBQ0Q7WUFDRjtZQUVBLEtBQUssVUFBVTtBQUNiLGtCQUFJLGVBQWUsS0FBSyxlQUFlLE9BQU87QUFDNUMsMkJBQVcsUUFBUTtrQkFDakIsTUFBTTtrQkFDTixVQUFVLEtBQUs7a0JBQ2YsS0FBSyxLQUFLO2tCQUNWLE9BQU8sS0FBSztrQkFDWixHQUFJLEtBQUssb0JBQW9CLE9BQ3pCLEVBQUUsa0JBQWtCLEtBQUssaUJBQWlCLElBQzFDLENBQUM7Z0JBQ1AsQ0FBQztjQUNIO0FBRUEsa0JBQUksZUFBZSxLQUFLLGVBQWUsWUFBWTtBQUNqRCwyQkFBVyxRQUFRO2tCQUNqQixNQUFNO2tCQUNOLFVBQVUsS0FBSztrQkFDZixXQUFXLEtBQUs7a0JBQ2hCLE9BQU8sS0FBSztrQkFDWixVQUFVLEtBQUs7a0JBQ2YsR0FBSSxLQUFLLG9CQUFvQixPQUN6QixFQUFFLGtCQUFrQixLQUFLLGlCQUFpQixJQUMxQyxDQUFDO2dCQUNQLENBQUM7Y0FDSDtBQUNBO1lBQ0Y7WUFFQSxLQUFLLG9CQUFvQjtBQUN2QixnQ0FBa0IsS0FBSyxFQUFFLElBQUksS0FBSztBQUNsQyxvQkFBTSxVQUFVLFVBQVUsS0FBSyxFQUFFO0FBRWpDLHlCQUFXLFFBQVE7Z0JBQ2pCLE1BQU07Z0JBQ04sWUFBWSxLQUFLO2dCQUNqQixVQUFVLEtBQUs7Z0JBQ2YsR0FBSSxLQUFLLG9CQUFvQixPQUN6QixFQUFFLGtCQUFrQixLQUFLLGlCQUFpQixJQUMxQyxDQUFDO2dCQUNMLEdBQUksV0FBVyxPQUFPLEVBQUUsUUFBUSxJQUFJLENBQUM7Y0FDdkMsQ0FBQztBQUNEO1lBQ0Y7WUFFQSxLQUFLLG9CQUFvQjtBQUN2Qix5QkFBVyxRQUFRO2dCQUNqQixNQUFNO2dCQUNOLFlBQVksS0FBSztnQkFDakIsZ0JBQWdCLEtBQUs7Y0FDdkIsQ0FBQztBQUNEO1lBQ0Y7WUFFQSxLQUFLLGFBQWE7QUFDaEIsZ0NBQWtCLEtBQUssVUFBVSxJQUFJLEtBQUs7QUFDMUMsb0JBQU0sVUFBVSxVQUFVLEtBQUssVUFBVTtBQUV6QyxrQkFBSSxLQUFLLFNBQVM7QUFDaEIsMkJBQVcsUUFBUTtrQkFDakIsTUFBTTtrQkFDTixZQUFZLEtBQUs7a0JBQ2pCLFVBQVUsS0FBSztrQkFDZixPQUFPLEtBQUs7a0JBQ1osR0FBSSxLQUFLLG9CQUFvQixPQUN6QixFQUFFLGtCQUFrQixLQUFLLGlCQUFpQixJQUMxQyxDQUFDO2tCQUNMLEdBQUksS0FBSyxvQkFBb0IsT0FDekIsRUFBRSxrQkFBa0IsS0FBSyxpQkFBaUIsSUFDMUMsQ0FBQztrQkFDTCxHQUFJLFdBQVcsT0FBTyxFQUFFLFFBQVEsSUFBSSxDQUFDO2tCQUNyQyxXQUFXLFFBQVEsS0FBSyxLQUFLO2dCQUMvQixDQUFDO2NBQ0gsT0FBTztBQUNMLDJCQUFXLFFBQVE7a0JBQ2pCLE1BQU07a0JBQ04sWUFBWSxLQUFLO2tCQUNqQixVQUFVLEtBQUs7a0JBQ2YsT0FBTyxLQUFLO2tCQUNaLEdBQUksS0FBSyxvQkFBb0IsT0FDekIsRUFBRSxrQkFBa0IsS0FBSyxpQkFBaUIsSUFDMUMsQ0FBQztrQkFDTCxHQUFJLEtBQUssb0JBQW9CLE9BQ3pCLEVBQUUsa0JBQWtCLEtBQUssaUJBQWlCLElBQzFDLENBQUM7a0JBQ0wsR0FBSSxXQUFXLE9BQU8sRUFBRSxRQUFRLElBQUksQ0FBQztnQkFDdkMsQ0FBQztjQUNIO0FBRUE7WUFDRjtZQUVBLEtBQUssZUFBZTtBQUNsQixvQkFBTSxVQUFVLFVBQVUsS0FBSyxVQUFVO0FBRXpDLHlCQUFXLFFBQVE7Z0JBQ2pCLE1BQU07Z0JBQ04sWUFBWSxLQUFLO2dCQUNqQixRQUFRLEtBQUs7Z0JBQ2IsR0FBSSxLQUFLLG9CQUFvQixPQUN6QixFQUFFLGtCQUFrQixLQUFLLGlCQUFpQixJQUMxQyxDQUFDO2dCQUNMLEdBQUksS0FBSyxlQUFlLE9BQ3BCLEVBQUUsYUFBYSxLQUFLLFlBQVksSUFDaEMsQ0FBQztnQkFDTCxHQUFJLFdBQVcsT0FBTyxFQUFFLFFBQVEsSUFBSSxDQUFDO2NBQ3ZDLENBQUM7QUFDRDtZQUNGO1lBRUEsS0FBSyxjQUFjO0FBQ2pCLG9CQUFNLFVBQVUsVUFBVSxLQUFLLFVBQVU7QUFFekMseUJBQVcsUUFBUTtnQkFDakIsTUFBTTtnQkFDTixZQUFZLEtBQUs7Z0JBQ2pCLFdBQVcsUUFBUSxLQUFLLEtBQUs7Z0JBQzdCLEdBQUksS0FBSyxvQkFBb0IsT0FDekIsRUFBRSxrQkFBa0IsS0FBSyxpQkFBaUIsSUFDMUMsQ0FBQztnQkFDTCxHQUFJLFdBQVcsT0FBTyxFQUFFLFFBQVEsSUFBSSxDQUFDO2NBQ3ZDLENBQUM7QUFDRDtZQUNGO1lBRUEsS0FBSyxTQUFTO0FBQ1oseUJBQVcsUUFBUTtnQkFDakIsTUFBTTtnQkFDTixXQUFXLFFBQVEsS0FBSyxLQUFLO2NBQy9CLENBQUM7QUFDRDtZQUNGO1lBRUEsS0FBSyxjQUFjO0FBQ2pCLHlCQUFXLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN6QztZQUNGO1lBRUEsS0FBSyxlQUFlO0FBQ2xCLHlCQUFXLFFBQVEsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUMxQztZQUNGO1lBRUEsS0FBSyxTQUFTO0FBQ1osa0JBQUksV0FBVztBQUNiLDJCQUFXLFFBQVE7a0JBQ2pCLE1BQU07a0JBQ04sR0FBSSx3QkFBd0IsT0FDeEIsRUFBRSxpQkFBaUIscUJBQXFCLElBQ3hDLENBQUM7a0JBQ0wsR0FBSSxxQkFBcUIsT0FDckIsRUFBRSxXQUFXLGtCQUFrQixJQUMvQixDQUFDO2dCQUNQLENBQUM7Y0FDSDtBQUNBO1lBQ0Y7WUFFQSxLQUFLLFVBQVU7QUFDYixrQkFBSSxZQUFZO0FBQ2QsMkJBQVcsUUFBUTtrQkFDakIsTUFBTTtrQkFDTixHQUFJLHdCQUF3QixPQUN4QixFQUFFLGlCQUFpQixxQkFBcUIsSUFDeEMsQ0FBQztnQkFDUCxDQUFDO2NBQ0g7QUFDQTtZQUNGO1lBRUEsS0FBSyxTQUFTO0FBQ1oseUJBQVcsUUFBUSxJQUFJO0FBQ3ZCO1lBQ0Y7WUFFQSxLQUFLLGtCQUFrQjtBQUNyQjtZQUNGO1lBRUEsS0FBSyxPQUFPO0FBR1Y7WUFDRjtZQUVBLFNBQVM7QUFDUCxvQkFBTSxrQkFBeUI7QUFDL0Isb0JBQU0sSUFBSSxNQUFNLHVCQUF1QixlQUFlLEVBQUU7WUFDMUQ7VUFDRjtBQUlBLGNBQ0Usd0JBQXdCLFFBQ3hCLGFBQWEsV0FDYixhQUFhLFVBQ2I7QUFDQSx1QkFBVyxRQUFRO2NBQ2pCLE1BQU07Y0FDTixpQkFBaUI7WUFDbkIsQ0FBQztVQUNIO1FBQ0Y7TUFDRixDQUFDO0lBQ0g7QUFFQSxXQUFPO01BQ0wsNEJBQXdDO1FBQ3RDLFFBQVE7UUFDUixXQUFXLHFCQUFBLE9BQUEsb0JBQXFCLHFCQUFBLE9BQUEsU0FBQSxrQkFBQTtRQUNoQztRQUNBO1FBQ0E7TUFDRixDQUFDO0lBQ0g7RUFDRjtFQUVBLDhCQUNFLFVBQ0E7SUFDRTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxHQUFHO0VBQ0wsSUFBc0UsQ0FBQyxHQUN2RTtBQUNBLGtDQUE4QjtNQUM1QjtNQUNBLFFBQVEsS0FBSyxrQkFBa0I7UUFDN0I7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO01BQ0YsQ0FBQztNQUNELEdBQUc7SUFDTCxDQUFDO0VBQ0g7RUFFQSx5QkFBeUIsVUFBMEIsTUFBcUI7QUFDdEUsNkJBQXlCO01BQ3ZCO01BQ0EsWUFBWSxLQUFLO01BQ2pCLEdBQUc7SUFDTCxDQUFDO0VBQ0g7RUFFQSwwQkFBd0Q7SUFDdEQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsR0FBRztFQUNMLElBQ3VDLENBQUMsR0FBYTtBQUNuRCxXQUFPLDhCQUE4QjtNQUNuQyxRQUFRLEtBQUssa0JBQWtCO1FBQzdCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtNQUNGLENBQUM7TUFDRCxHQUFHO0lBQ0wsQ0FBQztFQUNIO0VBRUEscUJBQXFCLE1BQStCO0FBQ2xELFdBQU8seUJBQXlCO01BQzlCLFlBQVksS0FBSztNQUNqQixHQUFHO0lBQ0wsQ0FBQztFQUNIO0FBQ0Y7QXdCampFTyxTQUFTLHVCQUNkLFVBQ0EsU0FJZ0I7QUFDaEIsUUFBTSxnQkFBZ0MsQ0FBQztBQUV2QyxNQUFJLFdBQUEsT0FBQSxTQUFBLFFBQVMsMkJBQTJCO0FBQ3RDLGVBQVcsU0FBUyxJQUFJLENBQUEsYUFBWTtNQUNsQyxHQUFHO01BQ0gsT0FBTyxRQUFRLE1BQU07UUFDbkIsQ0FBQSxTQUNFLENBQUMsMEJBQTBCLElBQUksS0FDOUIsS0FBSyxVQUFVLHFCQUNkLEtBQUssVUFBVTtNQUNyQjtJQUNGLEVBQUU7RUFDSjtBQUVBLGFBQVcsV0FBVyxVQUFVO0FBQzlCLFlBQVEsUUFBUSxNQUFNO01BQ3BCLEtBQUssVUFBVTtBQUNiLGNBQU0sWUFBWSxRQUFRLE1BQU0sT0FBTyxDQUFBLFNBQVEsS0FBSyxTQUFTLE1BQU07QUFFbkUsY0FBTSxtQkFBbUIsVUFBVSxPQUFPLENBQUMsS0FBSyxTQUFTO0FBQ3ZELGNBQUksS0FBSyxvQkFBb0IsTUFBTTtBQUNqQyxtQkFBTyxFQUFFLEdBQUcsS0FBSyxHQUFHLEtBQUssaUJBQWlCO1VBQzVDO0FBQ0EsaUJBQU87UUFDVCxHQUFHLENBQUMsQ0FBQztBQUVMLHNCQUFjLEtBQUs7VUFDakIsTUFBTTtVQUNOLFNBQVMsVUFBVSxJQUFJLENBQUEsU0FBUSxLQUFLLElBQUksRUFBRSxLQUFLLEVBQUU7VUFDakQsR0FBSSxPQUFPLEtBQUssZ0JBQWdCLEVBQUUsU0FBUyxJQUN2QyxFQUFFLGlCQUFpQixpQkFBaUIsSUFDcEMsQ0FBQztRQUNQLENBQUM7QUFDRDtNQUNGO01BRUEsS0FBSyxRQUFRO0FBQ1gsc0JBQWMsS0FBSztVQUNqQixNQUFNO1VBQ04sU0FBUyxRQUFRLE1BQ2Q7WUFDQyxDQUFDLFNBQ0MsS0FBSyxTQUFTLFVBQVUsS0FBSyxTQUFTO1VBQzFDLEVBQ0MsSUFBSSxDQUFBLFNBQVE7QUFDWCxvQkFBUSxLQUFLLE1BQU07Y0FDakIsS0FBSztBQUNILHVCQUFPO2tCQUNMLE1BQU07a0JBQ04sTUFBTSxLQUFLO2tCQUNYLEdBQUksS0FBSyxvQkFBb0IsT0FDekIsRUFBRSxpQkFBaUIsS0FBSyxpQkFBaUIsSUFDekMsQ0FBQztnQkFDUDtjQUNGLEtBQUs7QUFDSCx1QkFBTztrQkFDTCxNQUFNO2tCQUNOLFdBQVcsS0FBSztrQkFDaEIsVUFBVSxLQUFLO2tCQUNmLE1BQU0sS0FBSztrQkFDWCxHQUFJLEtBQUssb0JBQW9CLE9BQ3pCLEVBQUUsaUJBQWlCLEtBQUssaUJBQWlCLElBQ3pDLENBQUM7Z0JBQ1A7Y0FDRjtBQUNFLHVCQUFPO1lBQ1g7VUFDRixDQUFDO1FBQ0wsQ0FBQztBQUVEO01BQ0Y7TUFFQSxLQUFLLGFBQWE7QUFDaEIsWUFBSSxRQUFRLFNBQVMsTUFBTTtBQVN6QixjQUFTc0IsZ0JBQVQsV0FBd0I7QUF2SGxDLGdCQUFBdkIsTUFBQUM7QUF3SFksZ0JBQUksTUFBTSxXQUFXLEdBQUc7QUFDdEI7WUFDRjtBQUVBLGtCQUFNLFVBQTRCLENBQUM7QUFFbkMsdUJBQVcsUUFBUSxPQUFPO0FBQ3hCLGtCQUFJLEtBQUssU0FBUyxRQUFRO0FBQ3hCLHdCQUFRLEtBQUs7a0JBQ1gsTUFBTTtrQkFDTixNQUFNLEtBQUs7a0JBQ1gsR0FBSSxLQUFLLG9CQUFvQixPQUN6QixFQUFFLGlCQUFpQixLQUFLLGlCQUFpQixJQUN6QyxDQUFDO2dCQUNQLENBQUM7Y0FDSCxXQUFXLEtBQUssU0FBUyxRQUFRO0FBQy9CLHdCQUFRLEtBQUs7a0JBQ1gsTUFBTTtrQkFDTixXQUFXLEtBQUs7a0JBQ2hCLFVBQVUsS0FBSztrQkFDZixNQUFNLEtBQUs7Z0JBQ2IsQ0FBQztjQUNILFdBQVcsS0FBSyxTQUFTLGFBQWE7QUFDcEMsd0JBQVEsS0FBSztrQkFDWCxNQUFNO2tCQUNOLE1BQU0sS0FBSztrQkFDWCxpQkFBaUIsS0FBSztnQkFDeEIsQ0FBQztjQUNILFdBQVcsS0FBSyxTQUFTLGdCQUFnQjtBQUN2QyxzQkFBTSxXQUFXLEtBQUs7QUFFdEIsb0JBQUksS0FBSyxVQUFVLG1CQUFtQjtBQUNwQywwQkFBUSxLQUFLO29CQUNYLE1BQU07b0JBQ04sWUFBWSxLQUFLO29CQUNqQjtvQkFDQSxPQUFPLEtBQUs7b0JBQ1osR0FBSSxLQUFLLHdCQUF3QixPQUM3QixFQUFFLGlCQUFpQixLQUFLLHFCQUFxQixJQUM3QyxDQUFDO2tCQUNQLENBQUM7Z0JBQ0g7Y0FDRixXQUFXLGFBQWEsSUFBSSxHQUFHO0FBQzdCLHNCQUFNLFdBQVcsWUFBWSxJQUFJO0FBRWpDLG9CQUFJLEtBQUssVUFBVSxtQkFBbUI7QUFDcEMsMEJBQVEsS0FBSztvQkFDWCxNQUFNO29CQUNOLFlBQVksS0FBSztvQkFDakI7b0JBQ0EsT0FDRSxLQUFLLFVBQVUsa0JBQ1ZELE9BQUEsS0FBSyxVQUFMLE9BQUFBLE9BQWMsS0FBSyxXQUNwQixLQUFLO29CQUNYLGtCQUFrQixLQUFLO29CQUN2QixHQUFJLEtBQUssd0JBQXdCLE9BQzdCLEVBQUUsaUJBQWlCLEtBQUsscUJBQXFCLElBQzdDLENBQUM7a0JBQ1AsQ0FBQztBQUVELHNCQUNFLEtBQUsscUJBQXFCLFNBQ3pCLEtBQUssVUFBVSxzQkFDZCxLQUFLLFVBQVUsaUJBQ2pCO0FBQ0EsNEJBQVEsS0FBSztzQkFDWCxNQUFNO3NCQUNOLFlBQVksS0FBSztzQkFDakI7c0JBQ0EsUUFBUSxzQkFBc0I7d0JBQzVCLFFBQ0UsS0FBSyxVQUFVLGlCQUNYLEtBQUssWUFDTCxLQUFLO3dCQUNYLE9BQU1DLE1BQUEsV0FBQSxPQUFBLFNBQUEsUUFBUyxVQUFULE9BQUEsU0FBQUEsSUFBaUIsUUFBQTt3QkFDdkIsV0FDRSxLQUFLLFVBQVUsaUJBQWlCLFNBQVM7c0JBQzdDLENBQUM7b0JBQ0gsQ0FBQztrQkFDSDtnQkFDRjtjQUNGLE9BQU87QUFDTCxzQkFBTSxtQkFBMEI7QUFDaEMsc0JBQU0sSUFBSSxNQUFNLHFCQUFxQixnQkFBZ0IsRUFBRTtjQUN6RDtZQUNGO0FBRUEsMEJBQWMsS0FBSztjQUNqQixNQUFNO2NBQ047WUFDRixDQUFDO0FBR0Qsa0JBQU0sWUFBWSxNQUFNO2NBQ3RCLENBQUEsU0FDRyxhQUFhLElBQUksS0FBSyxLQUFLLHFCQUFxQixRQUNqRCxLQUFLLFNBQVM7WUFDbEI7QUFHQSxnQkFBSSxVQUFVLFNBQVMsR0FBRztBQUN4Qiw0QkFBYyxLQUFLO2dCQUNqQixNQUFNO2dCQUNOLFNBQVMsVUFDTixJQUFJLENBQUMsYUFBb0M7QUFoTzVELHNCQUFBRDtBQWlPb0IsMEJBQVEsU0FBUyxPQUFPO29CQUN0QixLQUFLO29CQUNMLEtBQUssb0JBQW9CO0FBQ3ZCLDRCQUFNLFdBQ0osU0FBUyxTQUFTLGlCQUNkLFNBQVMsV0FDVCxZQUFZLFFBQVE7QUFFMUIsNkJBQU87d0JBQ0wsTUFBTTt3QkFDTixZQUFZLFNBQVM7d0JBQ3JCO3dCQUNBLFFBQVEsc0JBQXNCOzBCQUM1QixRQUNFLFNBQVMsVUFBVSxpQkFDZixTQUFTLFlBQ1QsU0FBUzswQkFDZixPQUFNQSxPQUFBLFdBQUEsT0FBQSxTQUFBLFFBQVMsVUFBVCxPQUFBLFNBQUFBLEtBQWlCLFFBQUE7MEJBQ3ZCLFdBQ0UsU0FBUyxVQUFVLGlCQUNmLFNBQ0E7d0JBQ1IsQ0FBQztzQkFDSDtvQkFDRjtvQkFDQSxTQUFTO0FBQ1AsNkJBQU87b0JBQ1Q7a0JBQ0Y7Z0JBQ0YsQ0FBQyxFQUNBO2tCQUNDLENBQUMsV0FDQyxVQUFVO2dCQUNkO2NBQ0osQ0FBQztZQUNIO0FBR0Esb0JBQVEsQ0FBQztVQUNYO0FBakpTLGNBQUEsZUFBQXVCO0FBUlQsY0FBSSxRQU1BLENBQUM7QUFxSkwscUJBQVcsUUFBUSxRQUFRLE9BQU87QUFDaEMsZ0JBQ0UsS0FBSyxTQUFTLFVBQ2QsS0FBSyxTQUFTLGVBQ2QsS0FBSyxTQUFTLFVBQ2QsS0FBSyxTQUFTLGtCQUNkLGFBQWEsSUFBSSxHQUNqQjtBQUNBLG9CQUFNLEtBQUssSUFBSTtZQUNqQixXQUFXLEtBQUssU0FBUyxjQUFjO0FBQ3JDQSw0QkFBYTtZQUNmO1VBQ0Y7QUFFQUEsd0JBQWE7QUFFYjtRQUNGO0FBRUE7TUFDRjtNQUVBLFNBQVM7QUFDUCxjQUFNLG1CQUEwQixRQUFRO0FBQ3hDLGNBQU0sSUFBSSx1QkFBdUI7VUFDL0IsaUJBQWlCO1VBQ2pCLFNBQVMscUJBQXFCLGdCQUFnQjtRQUNoRCxDQUFDO01BQ0g7SUFDRjtFQUNGO0FBRUEsU0FBTztBQUNUO0FNNVBBLElBQU1DLHNCQUFxQkMsa0JBQWtCLEVBQUUsUUFBUSxTQUFTLE1BQU0sR0FBRyxDQUFDO0FLWTFFLElBQU1DLHNCQUFxQkMsa0JBQWtCLEVBQUUsUUFBUSxTQUFTLE1BQU0sR0FBRyxDQUFDO0FTM0QxRSxJQUFBLGlCQUFBLENBQUE7QUFBQUMsVUFBQSxnQkFBQTtFQUFBLFFBQUEsTUFBQUM7RUFBQSxNQUFBLE1BQUE7QUFBQSxDQUFBO0FBbUNPLElBQU0sT0FBTyxPQUErQjtFQUNqRCxNQUFNO0VBRU4sZ0JBQWdCLEVBQUUsTUFBTSxPQUFPO0VBRS9CLE1BQU0sYUFBYSxFQUFFLE1BQUFDLE1BQUssR0FBcUI7QUFDN0MsV0FBTyxFQUFFLFNBQVNBLE1BQUs7RUFDekI7RUFFQSxNQUFNLFlBQVksRUFBRSxNQUFBQSxNQUFLLEdBQXFCO0FBQzVDLFdBQU9BO0VBQ1Q7QUFDRjtBQUVPLElBQU1ELFVBQVMsQ0FBUztFQUM3QixRQUFRO0FBQ1YsTUFLMkM7QUFDekMsUUFBTSxTQUFTRSxTQUFTLFdBQVc7QUFFbkMsU0FBTztJQUNMLE1BQU07SUFFTixnQkFBZ0I7TUFDZCxNQUFNO01BQ04sUUFBUSxPQUFPO0lBQ2pCO0lBRUEsTUFBTSxhQUFhLEVBQUUsTUFBQUQsTUFBSyxHQUFxQjtBQUM3QyxZQUFNLFNBQVMsTUFBTSxpQkFBaUJBLEtBQUk7QUFFMUMsY0FBUSxPQUFPLE9BQU87UUFDcEIsS0FBSztRQUNMLEtBQUs7QUFDSCxpQkFBTztRQUVULEtBQUs7UUFDTCxLQUFLO0FBQ0gsaUJBQU87O1lBRUwsU0FBUyxPQUFPO1VBQ2xCO1FBRUYsU0FBUztBQUNQLGdCQUFNLG1CQUEwQixPQUFPO0FBQ3ZDLGdCQUFNLElBQUksTUFBTSw0QkFBNEIsZ0JBQWdCLEVBQUU7UUFDaEU7TUFDRjtJQUNGO0lBRUEsTUFBTSxZQUNKLEVBQUUsTUFBQUEsTUFBSyxHQUNQLFNBS0E7QUFDQSxZQUFNLGNBQWMsTUFBTUUsY0FBYyxFQUFFLE1BQUFGLE1BQUssQ0FBQztBQUVoRCxVQUFJLENBQUMsWUFBWSxTQUFTO0FBQ3hCLGNBQU0sSUFBSSx1QkFBdUI7VUFDL0IsU0FBUztVQUNULE9BQU8sWUFBWTtVQUNuQixNQUFBQTtVQUNBLFVBQVUsUUFBUTtVQUNsQixPQUFPLFFBQVE7VUFDZixjQUFjLFFBQVE7UUFDeEIsQ0FBQztNQUNIO0FBRUEsWUFBTSxtQkFBbUIsTUFBTUcsa0JBQWtCO1FBQy9DLE9BQU8sWUFBWTtRQUNuQjtNQUNGLENBQUM7QUFFRCxVQUFJLENBQUMsaUJBQWlCLFNBQVM7QUFDN0IsY0FBTSxJQUFJLHVCQUF1QjtVQUMvQixTQUFTO1VBQ1QsT0FBTyxpQkFBaUI7VUFDeEIsTUFBQUg7VUFDQSxVQUFVLFFBQVE7VUFDbEIsT0FBTyxRQUFRO1VBQ2YsY0FBYyxRQUFRO1FBQ3hCLENBQUM7TUFDSDtBQUVBLGFBQU8saUJBQWlCO0lBQzFCO0VBQ0Y7QUFDRjtBUy9IQSxJQUFNSSxTQUFPO0FBQ2IsSUFBTUMsWUFBUyxtQkFBbUJELE1BQUk7QUFDdEMsSUFBTUUsWUFBUyxPQUFPLElBQUlELFNBQU07QUFKaEMsSUFBQUU7QUFPb0JDLFFBQUFDO0FLcUJwQixJQUFNLHFDQUFxQ0MsaUJBQUUsWUFBWTtFQUN2RCxNQUFNQSxpQkFBRSxPQUFPO0VBQ2YsU0FBU0EsaUJBQUUsT0FBTztBQUNwQixDQUFDO0FBSU0sSUFBTSxtQkFBbUJBLGlCQUFFLFlBQVk7RUFDNUMsT0FBT0EsaUJBQUUsU0FBU0EsaUJBQUUsT0FBTyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUM7QUFDeEMsQ0FBQztBQUVNLElBQU0sZUFBZTtBQUVyQixJQUFNLGdCQUFnQkEsaUJBQUUsT0FBTztFQUNwQyxRQUFRQSxpQkFBRSxPQUFPO0VBQ2pCLFFBQVFBLGlCQUFFLFNBQVMsZ0JBQWdCO0FBQ3JDLENBQUM7QUFVRCxJQUFNLDJCQUEyQkEsaUJBQUUsWUFBWTtFQUM3QyxjQUFjQSxpQkFBRSxTQUFTQSxpQkFBRSxPQUFPLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQztFQUM3QyxTQUFTQSxpQkFBRSxTQUFTQSxpQkFBRSxPQUFPLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQztFQUN4QyxTQUFTQSxpQkFBRTtJQUNUQSxpQkFBRSxZQUFZO01BQ1osYUFBYUEsaUJBQUUsU0FBU0EsaUJBQUUsUUFBUSxDQUFDO0lBQ3JDLENBQUM7RUFDSDtFQUNBLFdBQVdBLGlCQUFFO0lBQ1hBLGlCQUFFLFlBQVk7TUFDWixXQUFXQSxpQkFBRSxTQUFTQSxpQkFBRSxRQUFRLENBQUM7TUFDakMsYUFBYUEsaUJBQUUsU0FBU0EsaUJBQUUsUUFBUSxDQUFDO0lBQ3JDLENBQUM7RUFDSDtFQUNBLE9BQU9BLGlCQUFFO0lBQ1BBLGlCQUFFLFlBQVk7TUFDWixhQUFhQSxpQkFBRSxTQUFTQSxpQkFBRSxRQUFRLENBQUM7SUFDckMsQ0FBQztFQUNIO0FBQ0YsQ0FBQztBQUlNLElBQU0seUJBQXlCLGFBQWEsT0FBTztFQUN4RCxpQkFBaUJBLGlCQUFFLE9BQU87RUFDMUIsY0FBYztFQUNkLFlBQVk7RUFDWixjQUFjQSxpQkFBRSxTQUFTQSxpQkFBRSxPQUFPLENBQUM7QUFDckMsQ0FBQztBQVNELElBQU0sd0JBQXdCLGFBQWEsT0FBTztFQUNoRCxZQUFZQSxpQkFBRSxTQUFTQSxpQkFBRSxPQUFPLENBQUM7QUFDbkMsQ0FBQztBQUVELElBQU0sYUFBYUEsaUJBQ2hCLE9BQU87RUFDTixNQUFNQSxpQkFBRSxPQUFPO0VBQ2YsYUFBYUEsaUJBQUUsU0FBU0EsaUJBQUUsT0FBTyxDQUFDO0VBQ2xDLGFBQWFBLGlCQUNWLE9BQU87SUFDTixNQUFNQSxpQkFBRSxRQUFRLFFBQVE7SUFDeEIsWUFBWUEsaUJBQUUsU0FBU0EsaUJBQUUsT0FBTyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUM7RUFDN0MsQ0FBQyxFQUNBLE1BQU07QUFDWCxDQUFDLEVBQ0EsTUFBTTtBQUVGLElBQU0sd0JBQXdCLHNCQUFzQixPQUFPO0VBQ2hFLE9BQU9BLGlCQUFFLE1BQU0sVUFBVTtBQUMzQixDQUFDO0FBR0QsSUFBTSxvQkFBb0JBLGlCQUN2QixPQUFPO0VBQ04sTUFBTUEsaUJBQUUsUUFBUSxNQUFNO0VBQ3RCLE1BQU1BLGlCQUFFLE9BQU87QUFDakIsQ0FBQyxFQUNBLE1BQU07QUFDVCxJQUFNLHFCQUFxQkEsaUJBQ3hCLE9BQU87RUFDTixNQUFNQSxpQkFBRSxRQUFRLE9BQU87RUFDdkIsTUFBTUEsaUJBQUUsT0FBTztFQUNmLFVBQVVBLGlCQUFFLE9BQU87QUFDckIsQ0FBQyxFQUNBLE1BQU07QUFDVCxJQUFNLHlCQUF5QkEsaUJBQzVCLE9BQU87Ozs7RUFJTixLQUFLQSxpQkFBRSxPQUFPOzs7O0VBSWQsVUFBVUEsaUJBQUUsU0FBU0EsaUJBQUUsT0FBTyxDQUFDO0FBQ2pDLENBQUMsRUFDQSxNQUFNO0FBQ1QsSUFBTSw2QkFBNkIsdUJBQXVCLE9BQU87RUFDL0QsTUFBTUEsaUJBQUUsT0FBTztBQUNqQixDQUFDO0FBQ0QsSUFBTSw2QkFBNkIsdUJBQXVCLE9BQU87RUFDL0QsTUFBTUEsaUJBQUUsT0FBTztBQUNqQixDQUFDO0FBQ0QsSUFBTSx5QkFBeUJBLGlCQUM1QixPQUFPO0VBQ04sTUFBTUEsaUJBQUUsUUFBUSxVQUFVO0VBQzFCLFVBQVVBLGlCQUFFLE1BQU0sQ0FBQyw0QkFBNEIsMEJBQTBCLENBQUM7QUFDNUUsQ0FBQyxFQUNBLE1BQU07QUFFRixJQUFNLHVCQUF1QixhQUFhLE9BQU87RUFDdEQsU0FBU0EsaUJBQUU7SUFDVEEsaUJBQUUsTUFBTSxDQUFDLG1CQUFtQixvQkFBb0Isc0JBQXNCLENBQUM7RUFDekU7RUFDQSxTQUFTQSxpQkFBRSxRQUFRLEVBQUUsUUFBUSxLQUFLLEVBQUUsU0FBUztBQUMvQyxDQUFDLEVBQUU7RUFDRCxhQUFhLE9BQU87SUFDbEIsWUFBWUEsaUJBQUUsUUFBUTtFQUN4QixDQUFDO0FBQ0g7QUQ3SkEsSUFBTSxrQkFBa0I7QUFFeEIsSUFBTSx1QkFBdUJBLGlCQUMxQixPQUFPO0VBQ04sU0FBU0EsaUJBQUUsUUFBUSxlQUFlO0VBQ2xDLElBQUlBLGlCQUFFLE1BQU0sQ0FBQ0EsaUJBQUUsT0FBTyxHQUFHQSxpQkFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDNUMsQ0FBQyxFQUNBLE1BQU0sYUFBYSxFQUNuQixPQUFPO0FBSVYsSUFBTSx3QkFBd0JBLGlCQUMzQixPQUFPO0VBQ04sU0FBU0EsaUJBQUUsUUFBUSxlQUFlO0VBQ2xDLElBQUlBLGlCQUFFLE1BQU0sQ0FBQ0EsaUJBQUUsT0FBTyxHQUFHQSxpQkFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7RUFDMUMsUUFBUTtBQUNWLENBQUMsRUFDQSxPQUFPO0FBSVYsSUFBTSxxQkFBcUJBLGlCQUN4QixPQUFPO0VBQ04sU0FBU0EsaUJBQUUsUUFBUSxlQUFlO0VBQ2xDLElBQUlBLGlCQUFFLE1BQU0sQ0FBQ0EsaUJBQUUsT0FBTyxHQUFHQSxpQkFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7RUFDMUMsT0FBT0EsaUJBQUUsT0FBTztJQUNkLE1BQU1BLGlCQUFFLE9BQU8sRUFBRSxJQUFJO0lBQ3JCLFNBQVNBLGlCQUFFLE9BQU87SUFDbEIsTUFBTUEsaUJBQUUsU0FBU0EsaUJBQUUsUUFBUSxDQUFDO0VBQzlCLENBQUM7QUFDSCxDQUFDLEVBQ0EsT0FBTztBQUlWLElBQU0sNEJBQTRCQSxpQkFDL0IsT0FBTztFQUNOLFNBQVNBLGlCQUFFLFFBQVEsZUFBZTtBQUNwQyxDQUFDLEVBQ0E7RUFDQ0EsaUJBQUUsT0FBTztJQUNQLFFBQVFBLGlCQUFFLE9BQU87SUFDakIsUUFBUUEsaUJBQUUsU0FBUyxnQkFBZ0I7RUFDckMsQ0FBQztBQUNILEVBQ0MsT0FBTztBQUlILElBQU0sdUJBQXVCQSxpQkFBRSxNQUFNO0VBQzFDO0VBQ0E7RUFDQTtFQUNBO0FBQ0YsQ0FBQztBY3hDRCxJQUFNLG1CQUFtQkMsaUJBQUUsT0FBTztFQUNoQyxNQUFNQSxpQkFBRSxRQUFRLE1BQU07RUFDdEIsTUFBTUEsaUJBQUUsT0FBTztFQUNmLE9BQU9BLGlCQUFFLEtBQUssQ0FBQyxhQUFhLE1BQU0sQ0FBQyxFQUFFLFNBQVM7RUFDOUMsa0JBQWtCLHVCQUF1QixTQUFTO0FBQ3BELENBQUM7QUFFRCxJQUFNLHdCQUF3QkEsaUJBQUUsT0FBTztFQUNyQyxNQUFNQSxpQkFBRSxRQUFRLFdBQVc7RUFDM0IsTUFBTUEsaUJBQUUsT0FBTztFQUNmLE9BQU9BLGlCQUFFLEtBQUssQ0FBQyxhQUFhLE1BQU0sQ0FBQyxFQUFFLFNBQVM7RUFDOUMsa0JBQWtCLHVCQUF1QixTQUFTO0FBQ3BELENBQUM7QUFFRCxJQUFNLHdCQUF3QkEsaUJBQUUsT0FBTztFQUNyQyxNQUFNQSxpQkFBRSxRQUFRLFlBQVk7RUFDNUIsVUFBVUEsaUJBQUUsT0FBTztFQUNuQixLQUFLQSxpQkFBRSxPQUFPO0VBQ2QsT0FBT0EsaUJBQUUsT0FBTyxFQUFFLFNBQVM7RUFDM0Isa0JBQWtCLHVCQUF1QixTQUFTO0FBQ3BELENBQUM7QUFFRCxJQUFNLDZCQUE2QkEsaUJBQUUsT0FBTztFQUMxQyxNQUFNQSxpQkFBRSxRQUFRLGlCQUFpQjtFQUNqQyxVQUFVQSxpQkFBRSxPQUFPO0VBQ25CLFdBQVdBLGlCQUFFLE9BQU87RUFDcEIsT0FBT0EsaUJBQUUsT0FBTztFQUNoQixVQUFVQSxpQkFBRSxPQUFPLEVBQUUsU0FBUztFQUM5QixrQkFBa0IsdUJBQXVCLFNBQVM7QUFDcEQsQ0FBQztBQUVELElBQU0sbUJBQW1CQSxpQkFBRSxPQUFPO0VBQ2hDLE1BQU1BLGlCQUFFLFFBQVEsTUFBTTtFQUN0QixXQUFXQSxpQkFBRSxPQUFPO0VBQ3BCLFVBQVVBLGlCQUFFLE9BQU8sRUFBRSxTQUFTO0VBQzlCLEtBQUtBLGlCQUFFLE9BQU87RUFDZCxrQkFBa0IsdUJBQXVCLFNBQVM7QUFDcEQsQ0FBQztBQUVELElBQU0sd0JBQXdCQSxpQkFBRSxPQUFPO0VBQ3JDLE1BQU1BLGlCQUFFLFFBQVEsWUFBWTtBQUM5QixDQUFDO0FBRUQsSUFBTSxtQkFBbUJBLGlCQUFFLE9BQU87RUFDaEMsTUFBTUEsaUJBQUUsT0FBTyxFQUFFLFdBQVcsT0FBTztFQUNuQyxJQUFJQSxpQkFBRSxPQUFPLEVBQUUsU0FBUztFQUN4QixNQUFNQSxpQkFBRSxRQUFRO0FBQ2xCLENBQUM7QUFFRCxJQUFNLDJCQUEyQjtFQUMvQkEsaUJBQUUsT0FBTztJQUNQLE1BQU1BLGlCQUFFLFFBQVEsY0FBYztJQUM5QixVQUFVQSxpQkFBRSxPQUFPO0lBQ25CLFlBQVlBLGlCQUFFLE9BQU87SUFDckIsT0FBT0EsaUJBQUUsUUFBUSxpQkFBaUI7SUFDbEMsT0FBT0EsaUJBQUUsUUFBUSxFQUFFLFNBQVM7SUFDNUIsUUFBUUEsaUJBQUUsTUFBTSxFQUFFLFNBQVM7SUFDM0IsV0FBV0EsaUJBQUUsTUFBTSxFQUFFLFNBQVM7RUFDaEMsQ0FBQztFQUNEQSxpQkFBRSxPQUFPO0lBQ1AsTUFBTUEsaUJBQUUsUUFBUSxjQUFjO0lBQzlCLFVBQVVBLGlCQUFFLE9BQU87SUFDbkIsWUFBWUEsaUJBQUUsT0FBTztJQUNyQixPQUFPQSxpQkFBRSxRQUFRLGlCQUFpQjtJQUNsQyxPQUFPQSxpQkFBRSxRQUFRO0lBQ2pCLFFBQVFBLGlCQUFFLE1BQU0sRUFBRSxTQUFTO0lBQzNCLFdBQVdBLGlCQUFFLE1BQU0sRUFBRSxTQUFTO0lBQzlCLHNCQUFzQix1QkFBdUIsU0FBUztFQUN4RCxDQUFDO0VBQ0RBLGlCQUFFLE9BQU87SUFDUCxNQUFNQSxpQkFBRSxRQUFRLGNBQWM7SUFDOUIsVUFBVUEsaUJBQUUsT0FBTztJQUNuQixZQUFZQSxpQkFBRSxPQUFPO0lBQ3JCLE9BQU9BLGlCQUFFLFFBQVEsa0JBQWtCO0lBQ25DLE9BQU9BLGlCQUFFLFFBQVE7SUFDakIsUUFBUUEsaUJBQUUsUUFBUTtJQUNsQixXQUFXQSxpQkFBRSxNQUFNLEVBQUUsU0FBUztJQUM5QixzQkFBc0IsdUJBQXVCLFNBQVM7SUFDdEQsYUFBYUEsaUJBQUUsUUFBUSxFQUFFLFNBQVM7RUFDcEMsQ0FBQztFQUNEQSxpQkFBRSxPQUFPO0lBQ1AsTUFBTUEsaUJBQUUsUUFBUSxjQUFjO0lBQzlCLFVBQVVBLGlCQUFFLE9BQU87SUFDbkIsWUFBWUEsaUJBQUUsT0FBTztJQUNyQixPQUFPQSxpQkFBRSxRQUFRLGNBQWM7SUFDL0IsT0FBT0EsaUJBQUUsUUFBUTtJQUNqQixRQUFRQSxpQkFBRSxNQUFNLEVBQUUsU0FBUztJQUMzQixXQUFXQSxpQkFBRSxPQUFPO0lBQ3BCLHNCQUFzQix1QkFBdUIsU0FBUztFQUN4RCxDQUFDO0FBQ0g7QUFFQSxJQUFNLG9CQUFvQjtFQUN4QkEsaUJBQUUsT0FBTztJQUNQLE1BQU1BLGlCQUFFLE9BQU8sRUFBRSxXQUFXLE9BQU87SUFDbkMsWUFBWUEsaUJBQUUsT0FBTztJQUNyQixPQUFPQSxpQkFBRSxRQUFRLGlCQUFpQjtJQUNsQyxrQkFBa0JBLGlCQUFFLFFBQVEsRUFBRSxTQUFTO0lBQ3ZDLE9BQU9BLGlCQUFFLFFBQVEsRUFBRSxTQUFTO0lBQzVCLFFBQVFBLGlCQUFFLE1BQU0sRUFBRSxTQUFTO0lBQzNCLFdBQVdBLGlCQUFFLE1BQU0sRUFBRSxTQUFTO0VBQ2hDLENBQUM7RUFDREEsaUJBQUUsT0FBTztJQUNQLE1BQU1BLGlCQUFFLE9BQU8sRUFBRSxXQUFXLE9BQU87SUFDbkMsWUFBWUEsaUJBQUUsT0FBTztJQUNyQixPQUFPQSxpQkFBRSxRQUFRLGlCQUFpQjtJQUNsQyxrQkFBa0JBLGlCQUFFLFFBQVEsRUFBRSxTQUFTO0lBQ3ZDLE9BQU9BLGlCQUFFLFFBQVE7SUFDakIsUUFBUUEsaUJBQUUsTUFBTSxFQUFFLFNBQVM7SUFDM0IsV0FBV0EsaUJBQUUsTUFBTSxFQUFFLFNBQVM7SUFDOUIsc0JBQXNCLHVCQUF1QixTQUFTO0VBQ3hELENBQUM7RUFDREEsaUJBQUUsT0FBTztJQUNQLE1BQU1BLGlCQUFFLE9BQU8sRUFBRSxXQUFXLE9BQU87SUFDbkMsWUFBWUEsaUJBQUUsT0FBTztJQUNyQixPQUFPQSxpQkFBRSxRQUFRLGtCQUFrQjtJQUNuQyxrQkFBa0JBLGlCQUFFLFFBQVEsRUFBRSxTQUFTO0lBQ3ZDLE9BQU9BLGlCQUFFLFFBQVE7SUFDakIsUUFBUUEsaUJBQUUsUUFBUTtJQUNsQixXQUFXQSxpQkFBRSxNQUFNLEVBQUUsU0FBUztJQUM5QixzQkFBc0IsdUJBQXVCLFNBQVM7SUFDdEQsYUFBYUEsaUJBQUUsUUFBUSxFQUFFLFNBQVM7RUFDcEMsQ0FBQztFQUNEQSxpQkFBRSxPQUFPO0lBQ1AsTUFBTUEsaUJBQUUsT0FBTyxFQUFFLFdBQVcsT0FBTztJQUNuQyxZQUFZQSxpQkFBRSxPQUFPO0lBQ3JCLE9BQU9BLGlCQUFFLFFBQVEsY0FBYztJQUMvQixrQkFBa0JBLGlCQUFFLFFBQVEsRUFBRSxTQUFTO0lBQ3ZDLE9BQU9BLGlCQUFFLFFBQVE7SUFDakIsUUFBUUEsaUJBQUUsTUFBTSxFQUFFLFNBQVM7SUFDM0IsV0FBV0EsaUJBQUUsT0FBTztJQUNwQixzQkFBc0IsdUJBQXVCLFNBQVM7RUFDeEQsQ0FBQztBQUNIO0FBRUEsSUFBTSxrQkFBa0JBLGlCQUFFLE9BQU87RUFDL0IsSUFBSUEsaUJBQUUsT0FBTztFQUNiLE1BQU1BLGlCQUFFLEtBQUssQ0FBQyxVQUFVLFFBQVEsV0FBVyxDQUFDO0VBQzVDLFVBQVVBLGlCQUFFLFFBQVEsRUFBRSxTQUFTO0VBQy9CLE9BQU9BLGlCQUFFO0lBQ1BBLGlCQUFFLE1BQU07TUFDTjtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQTtNQUNBLEdBQUc7TUFDSCxHQUFHO0lBQ0wsQ0FBQztFQUNIO0FBQ0YsQ0FBQzs7O0FHMUtELElBQWt1RixJQUFFLENBQUMsR0FBRUMsSUFBRUMsS0FBRSxDQUFDLE1BQUk7QUFBQyxNQUFJQyxLQUFFLEdBQUcsQ0FBQyxJQUFJRixFQUFDO0FBQUcsTUFBRyxFQUFFLFdBQVcsV0FBVyxLQUFHLENBQUNDLEdBQUUsT0FBTyxPQUFNLE1BQU0sOENBQThDO0FBQUUsTUFBRyxFQUFFLFdBQVcsU0FBUyxHQUFFO0FBQUMsUUFBRyxDQUFDQSxHQUFFLE9BQU8sT0FBTSxNQUFNLDRDQUE0QztBQUFFLFFBQUdBLEdBQUUsU0FBTyxJQUFJLE9BQU0sTUFBTSxtREFBbUQ7QUFBRSxRQUFHQSxHQUFFLE9BQU8sT0FBTSxNQUFNLGdEQUFnRDtBQUFBLEVBQUM7QUFBQyxNQUFHQSxNQUFHLE9BQU9BLEdBQUUsVUFBUSxZQUFVQSxHQUFFLFVBQVEsR0FBRTtBQUFDLFFBQUdBLEdBQUUsU0FBTyxPQUFPLE9BQU0sTUFBTSxxRkFBcUY7QUFBRSxJQUFBQyxNQUFHLGFBQWFELEdBQUUsU0FBTyxDQUFDO0FBQUEsRUFBRTtBQUFDLE1BQUdBLEdBQUUsVUFBUUEsR0FBRSxXQUFTLFdBQVNDLE1BQUcsWUFBWUQsR0FBRSxNQUFNLEtBQUlBLEdBQUUsU0FBT0MsTUFBRyxVQUFVRCxHQUFFLElBQUksS0FBSUEsR0FBRSxTQUFRO0FBQUMsUUFBR0EsR0FBRSxRQUFRLFFBQVEsSUFBRSxLQUFLLElBQUksSUFBRSxPQUFPLE9BQU0sTUFBTSx1RkFBdUY7QUFBRSxJQUFBQyxNQUFHLGFBQWFELEdBQUUsUUFBUSxZQUFZLENBQUM7QUFBQSxFQUFFO0FBQUMsTUFBR0EsR0FBRSxhQUFXQyxNQUFHLGVBQWNELEdBQUUsV0FBU0MsTUFBRyxhQUFZRCxHQUFFLGFBQVdDLE1BQUcsY0FBY0QsR0FBRSxTQUFTLE9BQU8sQ0FBQyxFQUFFLFlBQVksSUFBRUEsR0FBRSxTQUFTLE1BQU0sQ0FBQyxDQUFDLEtBQUlBLEdBQUUsYUFBV0MsTUFBRyxjQUFjRCxHQUFFLFNBQVMsT0FBTyxDQUFDLEVBQUUsWUFBWSxJQUFFQSxHQUFFLFNBQVMsTUFBTSxDQUFDLENBQUMsS0FBSUEsR0FBRSxhQUFZO0FBQUMsUUFBRyxDQUFDQSxHQUFFLE9BQU8sT0FBTSxNQUFNLGdEQUFnRDtBQUFFLElBQUFDLE1BQUc7QUFBQSxFQUFlO0FBQUMsU0FBT0E7QUFBQztBQUFyNkgsSUFBdTZILElBQUUsQ0FBQyxHQUFFRixJQUFFQyxRQUFLRCxLQUFFLG1CQUFtQkEsRUFBQyxHQUFFLEVBQUUsR0FBRUEsSUFBRUMsRUFBQzs7O0FDQWg2SCxJQUFBRSxlQUFhO0FBQU8sSUFBSSxJQUFFLENBQUMsR0FBRUMsUUFBSyxJQUFFLEVBQUUsUUFBUSxRQUFPLEVBQUUsR0FBRSxLQUFHLEtBQUlBLEtBQUVBLEdBQUUsUUFBUSxRQUFPLEVBQUUsR0FBRSxJQUFFQTtBQUFyRSxJQUF3RSxJQUFFLENBQUMsR0FBRUEsT0FBSTtBQUFDLFdBQU8sQ0FBQ0MsSUFBRUMsRUFBQyxLQUFJLE9BQU8sUUFBUUYsRUFBQyxHQUFFO0FBQUMsUUFBSUEsS0FBRSxPQUFPLE9BQUtDLEtBQUUsa0JBQWtCO0FBQUUsUUFBRSxFQUFFLFFBQVFELElBQUVFLEtBQUUsSUFBSUEsRUFBQyxLQUFHLEVBQUU7QUFBQSxFQUFDO0FBQUMsU0FBTztBQUFDO0FBQWhNLElBQWtNLElBQUUsT0FBRztBQUFDLE1BQUlGLEtBQUUsSUFBSTtBQUFnQixXQUFPLENBQUNDLElBQUVDLEVBQUMsS0FBSSxPQUFPLFFBQVEsQ0FBQyxHQUFFO0FBQUMsUUFBR0EsT0FBSSxPQUFPO0FBQVMsUUFBRyxNQUFNLFFBQVFBLEVBQUMsRUFBRSxVQUFRQyxNQUFLRCxHQUFFLENBQUFGLEdBQUUsT0FBT0MsSUFBRUUsRUFBQztBQUFBLFFBQU8sQ0FBQUgsR0FBRSxJQUFJQyxJQUFFQyxFQUFDO0FBQUEsRUFBQztBQUFDLFNBQU9GO0FBQUM7QUFBcFcsSUFBc1csSUFBRSxDQUFDLEdBQUVBLE9BQUk7QUFBQyxVQUFPQSxJQUFFO0FBQUEsSUFBQyxLQUFJO0FBQUssYUFBTyxFQUFFLFFBQVEsU0FBUSxJQUFJO0FBQUEsSUFBRSxLQUFJO0FBQU8sYUFBTyxFQUFFLFFBQVEsT0FBTSxNQUFNO0FBQUEsRUFBQztBQUFDO0FBQTVjLElBQThjLElBQUUsT0FBRyxxQ0FBcUMsS0FBSyxDQUFDLElBQUUsRUFBRSxRQUFRLG1CQUFrQixHQUFHLElBQUUsRUFBRSxRQUFRLG1CQUFrQixFQUFFO0FBQUUsU0FBUyxFQUFFLEdBQUU7QUFBQyxTQUFPLE9BQU8sS0FBRyxZQUFVLENBQUMsQ0FBQyxLQUFHLENBQUMsTUFBTSxRQUFRLENBQUM7QUFBQztBQUFDLFNBQVMsRUFBRSxHQUFFQSxJQUFFO0FBQUMsTUFBRyxDQUFDLEVBQUUsQ0FBQyxLQUFHLENBQUMsRUFBRUEsRUFBQyxFQUFFLFFBQU9BO0FBQUUsTUFBSUMsS0FBRSxFQUFDLEdBQUcsRUFBQztBQUFFLFdBQVFFLE1BQUtILElBQUU7QUFBQyxRQUFJRSxLQUFFRixHQUFFRyxFQUFDO0FBQUUsTUFBRUYsR0FBRUUsRUFBQyxDQUFDLEtBQUcsRUFBRUQsRUFBQyxJQUFFRCxHQUFFRSxFQUFDLElBQUUsRUFBRUYsR0FBRUUsRUFBQyxHQUFFRCxFQUFDLElBQUVELEdBQUVFLEVBQUMsSUFBRUQ7QUFBQSxFQUFDO0FBQUMsU0FBT0Q7QUFBQztBQUFDLElBQUksSUFBRSxDQUFDLEdBQUVELE9BQUk7QUFBQyxNQUFJQyxLQUFFLElBQUksTUFBTSxNQUFJO0FBQUEsRUFBQyxHQUFFLEVBQUMsSUFBSUEsSUFBRUMsSUFBRTtBQUFDLFFBQUcsRUFBRSxPQUFPQSxNQUFHLFlBQVVBLE9BQUksUUFBUSxRQUFPLEVBQUUsR0FBRSxDQUFDLEdBQUdGLElBQUVFLEVBQUMsQ0FBQztBQUFBLEVBQUMsR0FBRSxNQUFNRCxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsV0FBTyxFQUFFLEVBQUMsTUFBS0osSUFBRSxNQUFLSSxHQUFDLENBQUM7QUFBQSxFQUFDLEVBQUMsQ0FBQztBQUFFLFNBQU9IO0FBQUM7QUFBNUosSUFBOEosSUFBRSxNQUFLO0FBQUEsRUFBQztBQUFBLEVBQUk7QUFBQSxFQUFPLGNBQVk7QUFBQSxFQUFPLGFBQVcsQ0FBQztBQUFBLEVBQUU7QUFBQSxFQUFNLFFBQU07QUFBQSxFQUFPLFlBQVksR0FBRUQsSUFBRTtBQUFDLFNBQUssTUFBSSxHQUFFLEtBQUssU0FBT0E7QUFBQSxFQUFDO0FBQUEsRUFBQyxRQUFNLE9BQU1BLElBQUVDLE9BQUk7QUFBQyxRQUFHRCxJQUFFO0FBQUMsVUFBR0EsR0FBRSxVQUFRLEtBQUssY0FBWSxFQUFFQSxHQUFFLEtBQUssSUFBR0EsR0FBRSxNQUFLO0FBQUMsWUFBSSxJQUFFLElBQUk7QUFBUyxpQkFBTyxDQUFDQyxJQUFFQyxFQUFDLEtBQUksT0FBTyxRQUFRRixHQUFFLElBQUksRUFBRSxLQUFHLE1BQU0sUUFBUUUsRUFBQyxFQUFFLFVBQVFGLE1BQUtFLEdBQUUsR0FBRSxPQUFPRCxJQUFFRCxFQUFDO0FBQUEsWUFBTyxHQUFFLE9BQU9DLElBQUVDLEVBQUM7QUFBRSxhQUFLLFFBQU07QUFBQSxNQUFDO0FBQUMsTUFBQUYsR0FBRSxTQUFPLEtBQUssUUFBTSxLQUFLLFVBQVVBLEdBQUUsSUFBSSxHQUFFLEtBQUssUUFBTSxxQkFBb0JBLEdBQUUsVUFBUSxLQUFLLGFBQVdBLEdBQUU7QUFBQSxJQUFNO0FBQUMsUUFBSUssS0FBRSxLQUFLLE9BQU8sWUFBWSxHQUFFQyxLQUFFLEVBQUMsR0FBR04sSUFBRyxRQUFPLEdBQUcsT0FBT0MsSUFBRyxXQUFTLGFBQVcsTUFBTUEsR0FBRSxRQUFRLElBQUVBLElBQUcsUUFBTztBQUFFLFFBQUdELElBQUcsUUFBTztBQUFDLFVBQUlDLEtBQUUsQ0FBQztBQUFFLGVBQU8sQ0FBQ0MsSUFBRUUsRUFBQyxLQUFJLE9BQU8sUUFBUUosR0FBRSxNQUFNLEVBQUUsQ0FBQUMsR0FBRSxLQUFLLEVBQUVDLElBQUVFLElBQUUsRUFBQyxNQUFLLElBQUcsQ0FBQyxDQUFDO0FBQUUsTUFBQUUsR0FBRSxTQUFPTCxHQUFFLEtBQUssR0FBRztBQUFBLElBQUM7QUFBQyxTQUFLLFVBQVFLLEdBQUUsY0FBYyxJQUFFLEtBQUs7QUFBTyxRQUFJQyxLQUFFLElBQUksUUFBUUQsTUFBRyxNQUFNLEdBQUVFLEtBQUUsS0FBSztBQUFJLElBQUFBLEtBQUUsRUFBRUEsRUFBQyxHQUFFQSxLQUFFLEVBQUVBLElBQUUsS0FBSyxVQUFVLEdBQUUsS0FBSyxnQkFBY0EsS0FBRUEsS0FBRSxNQUFJLEtBQUssWUFBWSxTQUFTLElBQUdILEtBQUUsS0FBSyxPQUFPLFlBQVk7QUFBRSxRQUFJSSxLQUFFLEVBQUVKLE9BQUksU0FBT0EsT0FBSTtBQUFRLFlBQU9KLElBQUcsU0FBTyxPQUFPTyxJQUFFLEVBQUMsTUFBS0MsS0FBRSxLQUFLLFFBQU0sUUFBTyxRQUFPSixJQUFFLFNBQVFFLElBQUUsR0FBR04sSUFBRyxLQUFJLENBQUM7QUFBQSxFQUFDO0FBQUM7QUFBdG1DLElBQXdtQyxJQUFFLENBQUMsR0FBRUQsT0FBSSxFQUFFLFNBQVNNLEdBQUVFLElBQUU7QUFBQyxNQUFJRSxLQUFFLENBQUMsR0FBR0YsR0FBRSxJQUFJLEdBQUVHLEtBQUVELEdBQUUsTUFBTSxFQUFFLEVBQUUsUUFBUTtBQUFFLE1BQUdDLEdBQUUsQ0FBQyxNQUFJLFdBQVcsUUFBT0EsR0FBRSxDQUFDLE1BQUksU0FBT0EsR0FBRSxDQUFDLEtBQUcsS0FBR0wsR0FBRSxTQUFTO0FBQUUsTUFBR0ssR0FBRSxDQUFDLE1BQUksVUFBVSxRQUFPQSxHQUFFLENBQUMsTUFBSSxTQUFPQSxHQUFFLENBQUMsS0FBRyxLQUFHTDtBQUFFLE1BQUlNLEtBQUU7QUFBRyxNQUFHLE1BQU0sS0FBS0QsR0FBRSxDQUFDLENBQUMsR0FBRTtBQUFDLFFBQUlSLEtBQUVPLEdBQUUsSUFBSTtBQUFFLElBQUFQLE9BQUlTLEtBQUVULEdBQUUsUUFBUSxPQUFNLEVBQUU7QUFBQSxFQUFFO0FBQUMsTUFBSVUsS0FBRUgsR0FBRSxLQUFLLEdBQUcsR0FBRUksS0FBRSxFQUFFLEdBQUVELEVBQUM7QUFBRSxNQUFHRCxPQUFJLE9BQU07QUFBQyxRQUFJVCxLQUFFVztBQUFFLFdBQU9OLEdBQUUsS0FBSyxDQUFDLE1BQUlBLEdBQUUsS0FBSyxDQUFDLEVBQUUsVUFBUUwsS0FBRSxFQUFFVyxJQUFFTixHQUFFLEtBQUssQ0FBQyxFQUFFLEtBQUssSUFBR0EsR0FBRSxLQUFLLENBQUMsRUFBRSxVQUFRTCxLQUFFQSxLQUFFLE1BQUksRUFBRUssR0FBRSxLQUFLLENBQUMsRUFBRSxLQUFLLEVBQUUsU0FBUyxLQUFJTCxLQUFFLEVBQUVBLEVBQUMsR0FBRSxJQUFJLElBQUlBLEVBQUM7QUFBQSxFQUFDO0FBQUMsTUFBR1MsT0FBSSxNQUFLO0FBQUMsUUFBSVQsS0FBRSxFQUFFSyxHQUFFLEtBQUssQ0FBQyxLQUFHQSxHQUFFLEtBQUssQ0FBQyxFQUFFLFFBQU0sRUFBRU0sSUFBRU4sR0FBRSxLQUFLLENBQUMsRUFBRSxLQUFLLElBQUVNLElBQUUsSUFBSSxHQUFFYixLQUFFLElBQUksSUFBSUUsRUFBQyxHQUFFQyxLQUFFSSxHQUFFLEtBQUssQ0FBQyxHQUFHO0FBQU0sSUFBQUosTUFBRyxPQUFPLFFBQVFBLEVBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQ0QsSUFBRUgsRUFBQyxNQUFJO0FBQUMsWUFBTSxRQUFRQSxFQUFDLElBQUVBLEdBQUUsUUFBUSxDQUFBQSxPQUFHQyxHQUFFLGFBQWEsT0FBT0UsSUFBRUgsRUFBQyxDQUFDLElBQUVDLEdBQUUsYUFBYSxJQUFJRSxJQUFFSCxFQUFDO0FBQUEsSUFBQyxDQUFDO0FBQUUsUUFBSWUsS0FBRSxJQUFJWixPQUFJSCxJQUFHLGNBQVksVUFBUSxPQUFPQSxHQUFFLGFBQVcsYUFBV0Es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eEIsU0FBUyxZQUFZO0FBQ25CLGtCQUFNLFNBQVMsTUFBTSxVQUFVO0FBQy9CLG1CQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0YsQ0FBQztBQUFBLFFBQ0QsVUFBVSxLQUFLO0FBQUEsVUFDYixhQUNFO0FBQUEsVUFDRixhQUFhLGlCQUFFLE9BQU87QUFBQSxZQUNwQixLQUFLLGlCQUNGLE9BQU8sRUFDUCxTQUFTLGlEQUFpRDtBQUFBLFlBQzdELFFBQVEsaUJBQUUsTUFBTSxpQkFBRSxJQUFJLENBQUMsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFBQSxZQUM5QyxPQUFPLGlCQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsSUFBSSxHQUFJLEVBQUUsU0FBUyxFQUFFLFFBQVEsR0FBRztBQUFBLFlBQy9ELFFBQVEsaUJBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDO0FBQUEsWUFDcEQsV0FBVyxpQkFDUixPQUFPLEVBQ1AsSUFBSSxFQUNKLElBQUksR0FBSSxFQUNSLElBQUksR0FBSyxFQUNULFNBQVMsRUFDVCxRQUFRLElBQUs7QUFBQSxVQUNsQixDQUFDO0FBQUEsVUFDRCxTQUFTLE9BQU8sRUFBRSxLQUFLLFFBQVEsT0FBTyxRQUFRLFVBQVUsTUFBTTtBQUM1RCxrQkFBTSxTQUFTLE1BQU0sU0FBUztBQUFBLGNBQzVCO0FBQUEsY0FDQTtBQUFBLGNBQ0E7QUFBQSxjQUNBO0FBQUEsY0FDQTtBQUFBLFlBQ0YsQ0FBQztBQUNELG1CQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0YsQ0FBQztBQUFBLE1BQ0g7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBQ0YsQ0FBQzsiLAogICJuYW1lcyI6IFsiZXhwb3J0cyIsICJ0cmFuc2Zvcm0iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiYXJyYXkiLCAidHJhbnNmb3JtIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImRhdGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXh0ZW5kIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXh0ZW5kIiwgInBhcnNlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiYXJyYXkiLCAic3RyaW5nIiwgInAiLCAiaSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJ0IiwgImwiLCAiaSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJiaXRzIiwgImkiLCAidmFsdWUiLCAiZWxlbWVudFR5cGUiLCAicGFyc2UiLCAiYXJyYXkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJkZWZhdWx0cyIsICJ1dGlsIiwgImkiLCAiZGF0ZSIsICJjb25maWciLCAiZXNjYXBlSWRlbnRpZmllciIsICJlc2NhcGVMaXRlcmFsIiwgImMiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAic3RyaW5nIiwgInRleHQiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAic3RyaW5nIiwgImhhc2giLCAiYiIsICJ0ZXh0IiwgInJlcXVpcmVfdXRpbHMiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiaSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJ0ZXh0IiwgIl8iLCAiaSIsICJjIiwgIm5hbWUiLCAiYSIsICJiIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInR5cGVzIiwgIlR5cGVPdmVycmlkZXMiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAicGFyc2UiLCAiY29uZmlnIiwgImhvc3RuYW1lIiwgImMiLCAidiIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJkZWZhdWx0cyIsICJwYXJzZSIsICJjb25maWciLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidHlwZXMiLCAiUmVzdWx0IiwgImkiLCAidiIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJSZXN1bHQiLCAiUXVlcnkiLCAiY29uZmlnIiwgImV4cG9ydHMiLCAiRGF0YWJhc2VFcnJvciIsICJuYW1lIiwgInRleHQiLCAic3RyaW5nIiwgImV4cG9ydHMiLCAicGFzc3dvcmQiLCAidGV4dCIsICJwYXJzZSIsICJxdWVyeSIsICJuYW1lIiwgInR5cGVzIiwgImkiLCAiY29uZmlnIiwgInN0cmluZyIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAidGV4dCIsICJpIiwgIm5hbWUiLCAiZXhwb3J0cyIsICJleHBvcnRzIiwgInBhcnNlIiwgInJlc29sdmUiLCAiZXhwb3J0cyIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJnZXRTdHJlYW0iLCAiZ2V0U2VjdXJlU3RyZWFtIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInBhcnNlIiwgIkNvbm5lY3Rpb24iLCAiY29uZmlnIiwgImVycm9yIiwgInRleHQiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidHJhbnNmb3JtIiwgImkiLCAiZXJyb3IiLCAibm9vcCIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJ1dGlsIiwgImZpbGUiLCAiaSIsICJ4IiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImZpbGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiVHlwZU92ZXJyaWRlcyIsICJRdWVyeSIsICJkZWZhdWx0cyIsICJDb25uZWN0aW9uIiwgIkNsaWVudCIsICJjb25maWciLCAiYyIsICJlcnJvciIsICJyZXNvbHZlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImkiLCAiUHJvbWlzZSIsICJyZXNvbHZlIiwgInBvb2wiLCAiUG9vbCIsICJDbGllbnQiLCAiYyIsICJlcnIiLCAiY2xpZW50IiwgInRleHQiLCAicmVzcG9uc2UiLCAicmVxdWlyZV9xdWVyeSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJ1dGlsIiwgImNvbmZpZyIsICJyZXNvbHZlIiwgImkiLCAicmVxdWlyZV9jbGllbnQiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiVHlwZU92ZXJyaWRlcyIsICJ1dGlsIiwgIkNsaWVudCIsICJjb25maWciLCAiZXJyIiwgInJlc29sdmUiLCAiZXJyb3IiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAicmVxdWlyZV9saWIiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiQ2xpZW50IiwgImRlZmF1bHRzIiwgIkNvbm5lY3Rpb24iLCAiUmVzdWx0IiwgIlBvb2wiLCAiVHlwZU92ZXJyaWRlcyIsICJEYXRhYmFzZUVycm9yIiwgImVzY2FwZUlkZW50aWZpZXIiLCAiZXNjYXBlTGl0ZXJhbCIsICJfQUlTREtFcnJvciIsICJuYW1lIiwgImVycm9yIiwgIm1hcmtlciIsICJzeW1ib2wiLCAiX2EiLCAidXJsIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJ0ZXh0IiwgImVycm9yIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJfYSIsICJzeW1ib2wiLCAibmFtZSIsICJtYXJrZXIiLCAiX2EiLCAic3ltYm9sIiwgIm5hbWUiLCAibWFya2VyIiwgImVycm9yIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJfVHlwZVZhbGlkYXRpb25FcnJvciIsICJlcnJvciIsICJfYSIsICJzeW1ib2wiLCAiZXJyb3IiLCAiX2RlZmF1bHQiLCAiYmFzZTY0IiwgImJhc2U2NHVybCIsICJiaWdpbnQiLCAiYm9vbGVhbiIsICJfY2F0Y2giLCAiY2lkcnY0IiwgImNpZHJ2NiIsICJjb3JlX2V4cG9ydHMiLCAiY3VpZCIsICJjdWlkMiIsICJkYXRlIiwgImRlY29kZSIsICJkZWNvZGVBc3luYyIsICJlMTY0IiwgImVtYWlsIiwgImVtb2ppIiwgImVuY29kZSIsICJlbmNvZGVBc3luYyIsICJfZW51bSIsICJndWlkIiwgImhleCIsICJob3N0bmFtZSIsICJpcHY0IiwgImlwdjYiLCAia3N1aWQiLCAibmFub2lkIiwgIl9udWxsIiwgIm51bGxpc2giLCAibnVtYmVyIiwgInBhcnNlIiwgInBhcnNlQXN5bmMiLCAic2FmZURlY29kZSIsICJzYWZlRGVjb2RlQXN5bmMiLCAic2FmZUVuY29kZSIsICJzYWZlRW5jb2RlQXN5bmMiLCAic2FmZVBhcnNlIiwgInNhZmVQYXJzZUFzeW5jIiwgInN0cmluZyIsICJzeW1ib2wiLCAidWxpZCIsICJfdW5kZWZpbmVkIiwgInV1aWQiLCAiX3ZvaWQiLCAieGlkIiwgImNvcmVfZXhwb3J0cyIsICJfZW1vamkiLCAiX251bGwiLCAiX3VuZGVmaW5lZCIsICJuYW1lIiwgImluaXRpYWxpemVyIiwgIl9hIiwgIl8iLCAiXyIsICJ2IiwgImFycmF5IiwgInNldCIsICJvYmplY3QiLCAiaSIsICJvIiwgInQiLCAiYSIsICJiIiwgIkNsYXNzIiwgIngiLCAiX2EiLCAiY29uZmlnIiwgImJhc2U2NCIsICJiYXNlNjR1cmwiLCAiaGV4IiwgImVycm9yIiwgImlzc3VlIiwgImkiLCAiX2EiLCAiX2IiLCAiYSIsICJiIiwgInZlcnNpb24iLCAidGltZSIsICJ0aW1lUmVnZXgiLCAiX2EiLCAiaW5zdCIsICJfYiIsICJyZXN1bHQiLCAieCIsICJfYSIsICJjaGVja3MiLCAiaXNBYm9ydGVkIiwgIl8iLCAiY2hlY2tSZXN1bHQiLCAiY2FuYXJ5IiwgInJlc3VsdCIsICJyIiwgInYiLCAidXJsIiwgImluc3QiLCAiYmFzZTY0IiwgImMiLCAiaSIsICJ0IiwgImlzT2JqZWN0IiwgImFsbG93c0V2YWwiLCAibyIsICJwIiwgInJlc3VsdHMiLCAibWFwIiwgImxlZnQiLCAicmlnaHQiLCAiYSIsICJiIiwgImtleVJlc3VsdCIsICJ2YWx1ZVJlc3VsdCIsICJvdXRwdXQiLCAieCIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAidCIsICJlcnJvciIsICJpc3N1ZSIsICJwYXJzZWRUeXBlIiwgInQiLCAiZXJyb3IiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJwYXJzZWRUeXBlIiwgInQiLCAiZXJyb3IiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJwYXJzZWRUeXBlIiwgInQiLCAiZXJyb3IiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJwYXJzZWRUeXBlIiwgInQiLCAidGV4dCIsICJudW1iZXIiLCAiZXJyb3IiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgInBhcnNlZFR5cGUiLCAidCIsICJlcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgInQiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJ0IiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAidCIsICJpc3N1ZSIsICJwIiwgImYiLCAiQ2xhc3MiLCAiX2Vtb2ppIiwgIl91bmRlZmluZWQiLCAiX251bGwiLCAidHlwZXMiLCAiQ2xhc3MiLCAidiIsICJpc3N1ZSIsICJjb2RlYyIsICJfYSIsICJqc29uIiwgInYiLCAieCIsICJpIiwgImEiLCAiYiIsICJmaWxlIiwgIm0iLCAiaWQiLCAic2NoZW1hIiwgInpvZFNjaGVtYSIsICJwYXJhbXMiLCAiZ2VuIiwgIl8iLCAiZGF0ZSIsICJkYXRldGltZSIsICJkdXJhdGlvbiIsICJ0aW1lIiwgImRhdGV0aW1lIiwgImRhdGUiLCAidGltZSIsICJkdXJhdGlvbiIsICJpbml0aWFsaXplciIsICJpc3N1ZSIsICJpc3N1ZXMiLCAicGFyc2UiLCAicGFyc2VBc3luYyIsICJzYWZlUGFyc2UiLCAic2FmZVBhcnNlQXN5bmMiLCAiZW5jb2RlIiwgImRlY29kZSIsICJlbmNvZGVBc3luYyIsICJkZWNvZGVBc3luYyIsICJzYWZlRW5jb2RlIiwgInNhZmVEZWNvZGUiLCAic2FmZUVuY29kZUFzeW5jIiwgInNhZmVEZWNvZGVBc3luYyIsICJkZWYiLCAicGFyc2UiLCAic2FmZVBhcnNlIiwgInBhcnNlQXN5bmMiLCAic2FmZVBhcnNlQXN5bmMiLCAiZW5jb2RlIiwgImRlY29kZSIsICJlbmNvZGVBc3luYyIsICJkZWNvZGVBc3luYyIsICJzYWZlRW5jb2RlIiwgInNhZmVEZWNvZGUiLCAic2FmZUVuY29kZUFzeW5jIiwgInNhZmVEZWNvZGVBc3luYyIsICJjaGVjayIsICJfZGVmYXVsdCIsICJfY2F0Y2giLCAiX2Vtb2ppIiwgImRhdGV0aW1lIiwgImRhdGUiLCAidGltZSIsICJkdXJhdGlvbiIsICJzdHJpbmciLCAiZW1haWwiLCAiZ3VpZCIsICJ1dWlkIiwgImVtb2ppIiwgIm5hbm9pZCIsICJjdWlkIiwgImN1aWQyIiwgInVsaWQiLCAieGlkIiwgImtzdWlkIiwgImlwdjQiLCAiaXB2NiIsICJjaWRydjQiLCAiY2lkcnY2IiwgImJhc2U2NCIsICJiYXNlNjR1cmwiLCAiZTE2NCIsICJob3N0bmFtZSIsICJoZXgiLCAibnVtYmVyIiwgImJvb2xlYW4iLCAiYmlnaW50IiwgInN5bWJvbCIsICJfdW5kZWZpbmVkIiwgIl9udWxsIiwgIl92b2lkIiwgImMiLCAiZGF0ZSIsICJfZW51bSIsICJ2IiwgInR5cGVzIiwgImlzc3VlIiwgIm91dHB1dCIsICJudWxsaXNoIiwgIl9kZWZhdWx0IiwgIl9jYXRjaCIsICJqc29uU2NoZW1hIiwgInN0cmluZyIsICJudW1iZXIiLCAiYm9vbGVhbiIsICJfbnVsbCIsICJtYXAiLCAiWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIiwgImJpZ2ludCIsICJib29sZWFuIiwgImRhdGUiLCAibnVtYmVyIiwgInN0cmluZyIsICJzdHJpbmciLCAibnVtYmVyIiwgImJvb2xlYW4iLCAiYmlnaW50IiwgImRhdGUiLCAidXRpbCIsICJfIiwgImFzc2VydElzIiwgImFzc2VydE5ldmVyIiwgIm9iamVjdCIsICJqb2luVmFsdWVzIiwgImFycmF5IiwgIm9iamVjdFV0aWwiLCAiZ2V0UGFyc2VkVHlwZSIsICJ0IiwgIlpvZElzc3VlQ29kZSIsICJab2RFcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJpIiwgImlzc3VlIiwgIlpvZElzc3VlQ29kZSIsICJlbl9kZWZhdWx0IiwgImVuX2RlZmF1bHQiLCAiZ2V0RXJyb3JNYXAiLCAibSIsICJtYXAiLCAiZ2V0RXJyb3JNYXAiLCAiaXNzdWUiLCAiZW5fZGVmYXVsdCIsICJ4IiwgInMiLCAiZXJyb3JVdGlsIiwgImVycm9yIiwgIlpvZEVycm9yIiwgImVycm9yTWFwIiwgIlpvZFR5cGUiLCAiZ2V0UGFyc2VkVHlwZSIsICJjaGVjayIsICJab2RJc3N1ZUNvZGUiLCAiWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIiwgIlpvZE9wdGlvbmFsIiwgIlpvZE51bGxhYmxlIiwgIlpvZEFycmF5IiwgIlpvZFByb21pc2UiLCAiWm9kVW5pb24iLCAiWm9kSW50ZXJzZWN0aW9uIiwgInRyYW5zZm9ybSIsICJab2REZWZhdWx0IiwgIlpvZENhdGNoIiwgIlpvZFJlYWRvbmx5IiwgInZlcnNpb24iLCAiaXNWYWxpZEpXVCIsICJqd3QiLCAiYmFzZTY0IiwgIlpvZFN0cmluZyIsICJfWm9kU3RyaW5nIiwgInBhcnNlZFR5cGUiLCAiY3R4IiwgImZsb2F0U2FmZVJlbWFpbmRlciIsICJab2ROdW1iZXIiLCAiWm9kQmlnSW50IiwgIlpvZEJvb2xlYW4iLCAiWm9kRGF0ZSIsICJab2RTeW1ib2wiLCAiWm9kVW5kZWZpbmVkIiwgIlpvZE51bGwiLCAiWm9kQW55IiwgIlpvZFVua25vd24iLCAiWm9kTmV2ZXIiLCAiWm9kVm9pZCIsICJpIiwgInJlc3VsdCIsICJab2RPYmplY3QiLCAiWm9kVHVwbGUiLCAiaXNzdWUiLCAiaXNzdWVzIiwgInR5cGVzIiwgIlpvZExhenkiLCAiWm9kTGl0ZXJhbCIsICJab2RFbnVtIiwgIlpvZERpc2NyaW1pbmF0ZWRVbmlvbiIsICJtZXJnZVZhbHVlcyIsICJhIiwgImIiLCAieCIsICJab2RSZWNvcmQiLCAiWm9kTWFwIiwgIlpvZFNldCIsICJlbGVtZW50cyIsICJab2RGdW5jdGlvbiIsICJnZXRFcnJvck1hcCIsICJlbl9kZWZhdWx0IiwgInByb2Nlc3NlZCIsICJwcmVwcm9jZXNzIiwgIlpvZE9wdGlvbmFsIiwgIlpvZFR5cGUiLCAicGFyc2VkVHlwZSIsICJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCAiWm9kTnVsbGFibGUiLCAiWm9kRGVmYXVsdCIsICJab2RDYXRjaCIsICJyZXN1bHQiLCAiWm9kRXJyb3IiLCAiWm9kTmFOIiwgIlpvZElzc3VlQ29kZSIsICJhIiwgImIiLCAiWm9kUmVhZG9ubHkiLCAiWm9kT2JqZWN0IiwgIlpvZEZpcnN0UGFydHlUeXBlS2luZCIsICJab2RTdHJpbmciLCAiWm9kTnVtYmVyIiwgIlpvZE5hTiIsICJab2RCaWdJbnQiLCAiWm9kQm9vbGVhbiIsICJab2REYXRlIiwgIlpvZFN5bWJvbCIsICJab2RVbmRlZmluZWQiLCAiWm9kTnVsbCIsICJab2RBbnkiLCAiWm9kVW5rbm93biIsICJab2ROZXZlciIsICJab2RWb2lkIiwgIlpvZEFycmF5IiwgIlpvZE9iamVjdCIsICJab2RVbmlvbiIsICJab2REaXNjcmltaW5hdGVkVW5pb24iLCAiWm9kSW50ZXJzZWN0aW9uIiwgIlpvZFR1cGxlIiwgIlpvZFJlY29yZCIsICJab2RNYXAiLCAiWm9kU2V0IiwgIlpvZEZ1bmN0aW9uIiwgIlpvZExhenkiLCAiWm9kTGl0ZXJhbCIsICJab2RFbnVtIiwgIlpvZFByb21pc2UiLCAiWm9kT3B0aW9uYWwiLCAiWm9kTnVsbGFibGUiLCAicmVzb2x2ZSIsICJfYSIsICJfYiIsICJyZWNvcmQiLCAiaSIsICJnZXRFcnJvck1lc3NhZ2UiLCAiZXJyb3IiLCAidXJsIiwgImZldGNoIiwgIkFQSUNhbGxFcnJvciIsICJ1cmwiLCAibWVkaWFUeXBlIiwgIl9wYXJzZSIsICJ0ZXh0IiwgIlR5cGVWYWxpZGF0aW9uRXJyb3IiLCAidmFsaWRhdG9yIiwgImVycm9yIiwgImdldE9yaWdpbmFsRmV0Y2giLCAidXJsIiwgImZldGNoIiwgInVybCIsICJmZXRjaCIsICJnZXRPcmlnaW5hbEZldGNoIiwgImVycm9yIiwgIkFQSUNhbGxFcnJvciIsICJ0b29sIiwgInVybCIsICJBUElDYWxsRXJyb3IiLCAidXJsIiwgIkFQSUNhbGxFcnJvciIsICJpIiwgIl9hIiwgIl9iIiwgIlpvZEZpcnN0UGFydHlUeXBlS2luZCIsICJjaGVjayIsICJ4IiwgInBhcnNlZFR5cGUiLCAiZW1vamlSZWdleCIsICJfIiwgImxpdGVyYWwiLCAib2JqZWN0IiwgInR5cGVzIiwgImEiLCAicmVxdWlyZWQiLCAiYiIsICJqc29uU2NoZW1hIiwgIm5hbWUiLCAic2NoZW1hIiwgInpvZFNjaGVtYSIsICJzYWZlUGFyc2VBc3luYyIsICJidG9hIiwgImF0b2IiLCAiYXJyYXkiLCAidXJsIiwgIm1hcmtlciIsICJzeW1ib2wiLCAiX2EiLCAiZXJyb3IiLCAibmFtZSIsICJfYiIsICJ6IiwgImNvbmZpZyIsICJyZXNvbHZlIiwgImNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIiLCAiY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyIiwgInBvc3RKc29uVG9BcGkiLCAiY29tYmluZUhlYWRlcnMiLCAibm93IiwgIlZFUlNJT04iLCAidiIsICJpc0NvbXBhdGlibGUiLCAiVkVSU0lPTiIsICJWRVJTSU9OIiwgIl9hIiwgIl9iIiwgIkRpYWdDb21wb25lbnRMb2dnZXIiLCAiRGlhZ0xvZ0xldmVsIiwgIkRpYWdBUEkiLCAiX19zcHJlYWRBcnJheSIsICJfX3JlYWQiLCAiX2EiLCAiX2IiLCAiQmFzZUNvbnRleHQiLCAiTm9vcENvbnRleHRNYW5hZ2VyIiwgIl9fc3ByZWFkQXJyYXkiLCAiX19yZWFkIiwgIkFQSV9OQU1FIiwgIkNvbnRleHRBUEkiLCAiX2EiLCAiX19zcHJlYWRBcnJheSIsICJfX3JlYWQiLCAiVHJhY2VGbGFncyIsICJOb25SZWNvcmRpbmdTcGFuIiwgIl9hIiwgIk5vb3BUcmFjZXIiLCAibmFtZSIsICJQcm94eVRyYWNlciIsICJuYW1lIiwgInZlcnNpb24iLCAiTm9vcFRyYWNlclByb3ZpZGVyIiwgIlByb3h5VHJhY2VyUHJvdmlkZXIiLCAibmFtZSIsICJ2ZXJzaW9uIiwgIl9hIiwgIlNwYW5TdGF0dXNDb2RlIiwgIkFQSV9OQU1FIiwgIlRyYWNlQVBJIiwgInN1Y2Nlc3MiLCAibmFtZSIsICJ2ZXJzaW9uIiwgIm5hbWUiLCAibWFya2VyIiwgInN5bWJvbCIsICJfYSIsICJlcnJvciIsICJJbnZhbGlkQXJndW1lbnRFcnJvciIsICJBSVNES0Vycm9yIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJBSVNES0Vycm9yIiwgImVycm9yIiwgIl9hIiwgInN5bWJvbCIsICJuYW1lIiwgIm1hcmtlciIsICJfYSIsICJzeW1ib2wiLCAibmFtZSIsICJtYXJrZXIiLCAiQUlTREtFcnJvciIsICJ0ZXh0IiwgImVycm9yIiwgImdldEVycm9yTWVzc2FnZSIsICJfYSIsICJzeW1ib2wiLCAibmFtZSIsICJtYXJrZXIiLCAiQUlTREtFcnJvciIsICJlcnJvciIsICJ1cmwiLCAiX2EiLCAidXJsIiwgIl9hIiwgImVycm9yIiwgImRvd25sb2FkIiwgIl9iIiwgIkFJU0RLRXJyb3IiLCAiZG93bmxvYWQiLCAiX2EiLCAiSW52YWxpZEFyZ3VtZW50RXJyb3IiLCAib2JqZWN0IiwgIm5hbWUiLCAidG9vbCIsICJ6IiwgInoiLCAieiIsICJ6IiwgInoiLCAiSW52YWxpZFByb21wdEVycm9yIiwgInoiLCAiZXJyb3IiLCAiQUlTREtFcnJvciIsICJfYSIsICJuYW1lIiwgImF0dHJpYnV0ZXMiLCAiZiIsICJnZXRFcnJvck1lc3NhZ2UiLCAiQVBJQ2FsbEVycm9yIiwgIkludmFsaWRBcmd1bWVudEVycm9yIiwgImNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQiLCAiY29udmVydEJhc2U2NFRvVWludDhBcnJheSIsICJlcnJvciIsICJhc1NjaGVtYSIsICJ0b29sIiwgInNhZmVWYWxpZGF0ZVR5cGVzIiwgInRvb2wiLCAiZ2V0RXJyb3JNZXNzYWdlIiwgImVycm9yIiwgInoiLCAiaSIsICJzYWZlUGFyc2VKU09OIiwgIl9hIiwgIl9iIiwgInBhcnQiLCAiaXNBYm9ydGVkIiwgImVycm9yIiwgInJlc29sdmUiLCAicHJvbWlzZSIsICJnZXRFcnJvck1lc3NhZ2UiLCAidG9vbCIsICJleGVjdXRlVG9vbCIsICJvcmlnaW5hbEdlbmVyYXRlSWQiLCAiY3JlYXRlSWRHZW5lcmF0b3IiLCAidHJhbnNmb3JtIiwgImRvd25sb2FkIiwgIm5vdyIsICJnZW5lcmF0ZUlkIiwgInRleHQiLCAiaXNBYm9ydEVycm9yIiwgImluY2x1ZGVSYXdDaHVua3MiLCAic3RyZWFtIiwgImRvU3RyZWFtU3BhbiIsICJfYyIsICJfZCIsICJwcm9jZXNzQmxvY2siLCAib3JpZ2luYWxHZW5lcmF0ZUlkIiwgImNyZWF0ZUlkR2VuZXJhdG9yIiwgIm9yaWdpbmFsR2VuZXJhdGVJZCIsICJjcmVhdGVJZEdlbmVyYXRvciIsICJfX2V4cG9ydCIsICJvYmplY3QiLCAidGV4dCIsICJhc1NjaGVtYSIsICJzYWZlUGFyc2VKU09OIiwgInNhZmVWYWxpZGF0ZVR5cGVzIiwgIm5hbWUiLCAibWFya2VyIiwgInN5bWJvbCIsICJfYSIsICJfYSIsICJzeW1ib2wiLCAieiIsICJ6IiwgInQiLCAibiIsICJyIiwgImltcG9ydF91dGlsIiwgInQiLCAibiIsICJyIiwgImUiLCAiaSIsICJhIiwgInMiLCAiYyIsICJsIiwgInUiLCAiZCIsICJmIiwgInAiLCAibSIsICJoIiwgIm8iLCAiZyIsICJwZyIsICJzIiwgIm0iLCAiZmlsZSJdCn0K
